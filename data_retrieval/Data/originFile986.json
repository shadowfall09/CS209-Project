{"items":[{"tags":["java","stream","joptionpane","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664977986,"post_id":73961341,"comment_id":130592011,"body_markdown":"`while(true)` will keep the event dispatch thread busy and thus Swing cannot draw the option pane. If the program really stops you&#39;re probably getting some runtime exception. Any output on the command line?","body":"<code>while(true)</code> will keep the event dispatch thread busy and thus Swing cannot draw the option pane. If the program really stops you&#39;re probably getting some runtime exception. Any output on the command line?"},{"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"score":0,"creation_date":1664978158,"post_id":73961341,"comment_id":130592090,"body_markdown":"is there a better way to loop throughout the file then? my intention is to keep showing JOptionPane until an EOF Exception pops up","body":"is there a better way to loop throughout the file then? my intention is to keep showing JOptionPane until an EOF Exception pops up"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664978317,"post_id":73961341,"comment_id":130592162,"body_markdown":"According to the JavaDoc `showMessageDialog()` should create a modal dialog so it seems to be blocking. That means you should see the dialog somewhere on your screen (not necessarily where you expect it to be) and the program will wait for you to close it. Aside from that you need to break out of that loop - are you planning to use the `EOFException` for that?","body":"According to the JavaDoc <code>showMessageDialog()</code> should create a modal dialog so it seems to be blocking. That means you should see the dialog somewhere on your screen (not necessarily where you expect it to be) and the program will wait for you to close it. Aside from that you need to break out of that loop - are you planning to use the <code>EOFException</code> for that?"},{"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"score":0,"creation_date":1664978664,"post_id":73961341,"comment_id":130592299,"body_markdown":"No popups on my screen, I was planning to do that since i dont really know how else you can know where the file ends","body":"No popups on my screen, I was planning to do that since i dont really know how else you can know where the file ends"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664979305,"post_id":73961341,"comment_id":130592549,"body_markdown":"Did you try stepping through the code with a debugger or at least adding `System.out.println(...);` statements into your code to see where it seems to &quot;stop&quot;? If you put something before opening the dialog, do you see it at least once?","body":"Did you try stepping through the code with a debugger or at least adding <code>System.out.println(...);</code> statements into your code to see where it seems to &quot;stop&quot;? If you put something before opening the dialog, do you see it at least once?"},{"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"score":0,"creation_date":1664979383,"post_id":73961341,"comment_id":130592578,"body_markdown":"yeah, deleted the println before posting but anything before the JOptionPane prints once, anything after gets no output.","body":"yeah, deleted the println before posting but anything before the JOptionPane prints once, anything after gets no output."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664979658,"post_id":73961341,"comment_id":130592696,"body_markdown":"That sounds like either your application is still running and you&#39;re just not seeing the dialog or your system has some issues with the Java graphics setup (not sure what that could be though).","body":"That sounds like either your application is still running and you&#39;re just not seeing the dialog or your system has some issues with the Java graphics setup (not sure what that could be though)."}],"owner":{"account_id":22936744,"reputation":1,"user_id":17070117,"display_name":"Jes&#250;s Carrasquer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664979316,"creation_date":1664977546,"question_id":73961341,"body_markdown":"I am a programming student in Spain, lately we&#39;ve been learning about file input and output with objects, recently we&#39;ve been developing a small program that asks for some data, writes it into a file and shows everything the file contains using `JOptionPane`.\r\n\r\nMy problem is that my `JOptionPane` seems to literally not work, program just stops there, doesn&#39;t throw any exception, doesn&#39;t follow up...\r\n\r\nI&#39;ve tried it in the computer of a friend and it works there, also asked my teacher but he is clueless, any ideas on what&#39;s going on?\r\n\r\nMain class:\r\n\r\n```\r\npublic class Main {\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Introduce la matricula del veh&#237;culo&quot;);\r\n        String matricula = pideInput();\r\n        System.out.println(&quot;Introduce la marca del veh&#237;culo&quot;);\r\n        String marca = pideInput();\r\n        System.out.println(&quot;Introduce el tama&#241;o del deposito del veh&#237;culo&quot;);\r\n        Double tamDeposito = pideNum();\r\n        System.out.println(&quot;Introduce el modelo del veh&#237;culo&quot;);\r\n        String modelo = pideInput();\r\n        try {\r\n            MiObjectOutputStream escritor = new MiObjectOutputStream(new FileOutputStream(&quot;D:\\\\vehiculos.dat&quot;,true));\r\n            escritor.writeObject(new Vehiculo(matricula,marca,tamDeposito,modelo));\r\n            escritor.close();\r\n            escritor.flush();\r\n            MiObjectInputStream lector = new MiObjectInputStream(new FileInputStream(&quot;D:\\\\vehiculos.dat&quot;));\r\n            try{\r\n            \r\n                while(true){\r\n                    Vehiculo v;\r\n                    v = (Vehiculo) lector.readObject();\r\n                    String desc = v.toString();\r\n                    JOptionPane.showMessageDialog(null, desc);\r\n                    System.out.println(desc);\r\n                }   \r\n            }\r\n            catch (ClassNotFoundException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }catch (EOFException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            lector.close();\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (SecurityException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    \r\n    private static double pideNum(){\r\n        Scanner lector = new Scanner(System.in);\r\n        double input = -1;\r\n        try{\r\n            input = lector.nextDouble();\r\n        }catch(java.util.InputMismatchException e){\r\n            System.out.println(&quot;Error, se debe introducir un n&#250;mero adecuado&quot;);\r\n            return pideNum();\r\n        }\r\n        return input;\r\n    }\r\n    \r\n    private static String pideInput(){\r\n        Scanner lector = new Scanner(System.in);\r\n        return lector.nextLine();\r\n    }\r\n}\r\n```\r\n\r\nVehicle class:\r\n\r\n```\r\npublic class Vehiculo implements Serializable{\r\n    String matricula;\r\n    String marca;\r\n    String modelo;\r\n    double tamDeposito;\r\n    public Vehiculo(String matricula, String marca, double tamDeposito, String modelo) {\r\n        this.matricula = matricula;\r\n        this.marca = marca;\r\n        this.tamDeposito = tamDeposito;\r\n        this.modelo = modelo;\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Vehiculo{&quot; + &quot;matricula=&quot; + matricula + &quot;, marca=&quot; + marca + &quot;, modelo=&quot; + modelo + &quot;, tamDeposito=&quot; + tamDeposito + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nCustom stream:\r\n\r\n```\r\npublic class MiObjectOutputStream extends ObjectOutputStream {\r\n    public MiObjectOutputStream(OutputStream out) throws IOException {\r\n        super(out);\r\n    }\r\n    public MiObjectOutputStream() throws IOException, SecurityException {\r\n        super();\r\n    }\r\n    @Override\r\n    protected void writeStreamHeader(){\r\n        //Fumate un petardo\r\n    } \r\n}\r\n```\r\n\r\nThe custom `ObjectInputStream` is mostly the same as the output one, only differences are that it extends `ObjectInputStream`, uses `InputStream` as a param in the constructor and Overrides `readStreamHeader()` instead of `writeStreamHeader()`.\r\n\r\nEdit: tried uninstalling, error popped up and cant uninstall, it seems some netbeans process is still open, nothing on task manager tho.\r\n\r\n`\r\n running uninstallation logic\r\nNameResolver - to parse C:\\Program Files\\NetBeans 8.2\r\n[2System.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\r\nSystem.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\r\nIt appears that the following instance of the NetBeans IDE is still running:\r\n C:\\Program Files\\NetBeans 8.2\r\nA lock file exists at \r\nC:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock\r\n Please close this NetBeans IDE prior to continuing with uninstallation.\r\nshow message dialog\r\n title: Critical Error\r\n message: It appears that the following instance of the NetBeans IDE is still running:\r\nC:\\Program Files\\NetBeans 8.2\r\nA lock file exists at \r\nC:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock\r\nPlease close this NetBeans IDE prior to continuing with uninstallation.`","title":"JOptionPane broken on Netbeans 8.2","body":"<p>I am a programming student in Spain, lately we've been learning about file input and output with objects, recently we've been developing a small program that asks for some data, writes it into a file and shows everything the file contains using <code>JOptionPane</code>.</p>\n<p>My problem is that my <code>JOptionPane</code> seems to literally not work, program just stops there, doesn't throw any exception, doesn't follow up...</p>\n<p>I've tried it in the computer of a friend and it works there, also asked my teacher but he is clueless, any ideas on what's going on?</p>\n<p>Main class:</p>\n<pre><code>public class Main {\n\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Introduce la matricula del vehículo&quot;);\n        String matricula = pideInput();\n        System.out.println(&quot;Introduce la marca del vehículo&quot;);\n        String marca = pideInput();\n        System.out.println(&quot;Introduce el tamaño del deposito del vehículo&quot;);\n        Double tamDeposito = pideNum();\n        System.out.println(&quot;Introduce el modelo del vehículo&quot;);\n        String modelo = pideInput();\n        try {\n            MiObjectOutputStream escritor = new MiObjectOutputStream(new FileOutputStream(&quot;D:\\\\vehiculos.dat&quot;,true));\n            escritor.writeObject(new Vehiculo(matricula,marca,tamDeposito,modelo));\n            escritor.close();\n            escritor.flush();\n            MiObjectInputStream lector = new MiObjectInputStream(new FileInputStream(&quot;D:\\\\vehiculos.dat&quot;));\n            try{\n            \n                while(true){\n                    Vehiculo v;\n                    v = (Vehiculo) lector.readObject();\n                    String desc = v.toString();\n                    JOptionPane.showMessageDialog(null, desc);\n                    System.out.println(desc);\n                }   \n            }\n            catch (ClassNotFoundException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }catch (EOFException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            lector.close();\n        } catch (IOException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (SecurityException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        \n        \n        \n    }\n    \n    \n    private static double pideNum(){\n        Scanner lector = new Scanner(System.in);\n        double input = -1;\n        try{\n            input = lector.nextDouble();\n        }catch(java.util.InputMismatchException e){\n            System.out.println(&quot;Error, se debe introducir un número adecuado&quot;);\n            return pideNum();\n        }\n        return input;\n    }\n    \n    private static String pideInput(){\n        Scanner lector = new Scanner(System.in);\n        return lector.nextLine();\n    }\n}\n</code></pre>\n<p>Vehicle class:</p>\n<pre><code>public class Vehiculo implements Serializable{\n    String matricula;\n    String marca;\n    String modelo;\n    double tamDeposito;\n    public Vehiculo(String matricula, String marca, double tamDeposito, String modelo) {\n        this.matricula = matricula;\n        this.marca = marca;\n        this.tamDeposito = tamDeposito;\n        this.modelo = modelo;\n    }\n    @Override\n    public String toString() {\n        return &quot;Vehiculo{&quot; + &quot;matricula=&quot; + matricula + &quot;, marca=&quot; + marca + &quot;, modelo=&quot; + modelo + &quot;, tamDeposito=&quot; + tamDeposito + '}';\n    }\n}\n</code></pre>\n<p>Custom stream:</p>\n<pre><code>public class MiObjectOutputStream extends ObjectOutputStream {\n    public MiObjectOutputStream(OutputStream out) throws IOException {\n        super(out);\n    }\n    public MiObjectOutputStream() throws IOException, SecurityException {\n        super();\n    }\n    @Override\n    protected void writeStreamHeader(){\n        //Fumate un petardo\n    } \n}\n</code></pre>\n<p>The custom <code>ObjectInputStream</code> is mostly the same as the output one, only differences are that it extends <code>ObjectInputStream</code>, uses <code>InputStream</code> as a param in the constructor and Overrides <code>readStreamHeader()</code> instead of <code>writeStreamHeader()</code>.</p>\n<p>Edit: tried uninstalling, error popped up and cant uninstall, it seems some netbeans process is still open, nothing on task manager tho.</p>\n<p><code> running uninstallation logic NameResolver - to parse C:\\Program Files\\NetBeans 8.2 [2System.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans System.getProperty(netbeans.default_userdir_root): C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans It appears that the following instance of the NetBeans IDE is still running: C:\\Program Files\\NetBeans 8.2 A lock file exists at  C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock Please close this NetBeans IDE prior to continuing with uninstallation. show message dialog title: Critical Error message: It appears that the following instance of the NetBeans IDE is still running: C:\\Program Files\\NetBeans 8.2 A lock file exists at  C:\\Users\\Alumno\\AppData\\Roaming\\NetBeans\\8.2\\lock Please close this NetBeans IDE prior to continuing with uninstallation.</code></p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1664965903,"post_id":73959023,"comment_id":130587659,"body_markdown":"I&#39;d say &quot;live with it&quot;. Looks like a performance killer to me.","body":"I&#39;d say &quot;live with it&quot;. Looks like a performance killer to me."},{"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"score":0,"creation_date":1664966978,"post_id":73959023,"comment_id":130587987,"body_markdown":"http://www.codediesel.com/mysql/sequence-gaps-in-mysql/\nThis might help (I know it&#39;s mysql, but it should mostly still apply; except for syntax)","body":"<a href=\"http://www.codediesel.com/mysql/sequence-gaps-in-mysql/\" rel=\"nofollow noreferrer\">codediesel.com/mysql/sequence-gaps-in-mysql</a> This might help (I know it&#39;s mysql, but it should mostly still apply; except for syntax)"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1664968379,"post_id":73959023,"comment_id":130588445,"body_markdown":"You don&#39;t. Gaps in generated primary key values are expected and nothing to worry about. The **only**job for a primary key value is to be unique. It is completely meaningless if that value is 1,2,-6549, 42 or 464293. If you want to &quot;renumber&quot; the existing rows, you would need to UPDATE all tables that reference those values as well - something that will get ugly and complicated quickly.","body":"You don&#39;t. Gaps in generated primary key values are expected and nothing to worry about. The <b>only</b>job for a primary key value is to be unique. It is completely meaningless if that value is 1,2,-6549, 42 or 464293. If you want to &quot;renumber&quot; the existing rows, you would need to UPDATE all tables that reference those values as well - something that will get ugly and complicated quickly."}],"answers":[{"tags":[],"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979310,"creation_date":1664978534,"answer_id":73961558,"question_id":73959023,"body_markdown":"I don&#39;t know if that will solve your problem but I suggest that you do  updating for all serial ids again.\r\n\r\n So If you want it to be (1,2,3,4) so you can use this query : \r\n\r\n    ALTER SEQUENCE seq RESTART WITH 1;\r\n    UPDATE t SET idcolumn=nextval(&#39;seq&#39;);\r\n    \r\nsource: https://stackoverflow.com/questions/4678110/how-to-reset-sequence-in-postgres-and-fill-id-column-with-new-data\r\n\r\n\r\nYou can create a service that executes this query inside deleting books service, so after deleting books you will call this service to rearange ids\r\n\r\n    public void UpdateIds() {\r\n    // make a connection with your database and send query above to update ids\r\n    } \r\n\r\nand in your service where you delete books, I suppose you have a service looks like that\r\n\r\n    public void deleteBooks(//some books ids to be deleted\r\n    ){\r\n    \r\n    //some code for deleting books by ids\r\n    \r\n    // call the method above to update ids again \r\n    UpdateIds()\r\n        \r\n    }","title":"Java to postgresSQL. I am using SERIAL for my id column , can I make it replace missing value when I remove row and add a new one?","body":"<p>I don't know if that will solve your problem but I suggest that you do  updating for all serial ids again.</p>\n<p>So If you want it to be (1,2,3,4) so you can use this query :</p>\n<pre><code>ALTER SEQUENCE seq RESTART WITH 1;\nUPDATE t SET idcolumn=nextval('seq');\n</code></pre>\n<p>source: <a href=\"https://stackoverflow.com/questions/4678110/how-to-reset-sequence-in-postgres-and-fill-id-column-with-new-data\">How to reset sequence in postgres and fill id column with new data?</a></p>\n<p>You can create a service that executes this query inside deleting books service, so after deleting books you will call this service to rearange ids</p>\n<pre><code>public void UpdateIds() {\n// make a connection with your database and send query above to update ids\n} \n</code></pre>\n<p>and in your service where you delete books, I suppose you have a service looks like that</p>\n<pre><code>public void deleteBooks(//some books ids to be deleted\n){\n\n//some code for deleting books by ids\n\n// call the method above to update ids again \nUpdateIds()\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25709423,"reputation":11,"user_id":19468209,"display_name":"soulik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664979310,"creation_date":1664965402,"question_id":73959023,"body_markdown":"I am doing Library  db , sometimes I need to remove books and add a new one and I dont like how it starts missing lower ids and it just goes one . Because Serial  just increade everytime . Is there a way how to do that ? For example different type of column instead of SERIAL","title":"Java to postgresSQL. I am using SERIAL for my id column , can I make it replace missing value when I remove row and add a new one?","body":"<p>I am doing Library  db , sometimes I need to remove books and add a new one and I dont like how it starts missing lower ids and it just goes one . Because Serial  just increade everytime . Is there a way how to do that ? For example different type of column instead of SERIAL</p>\n"},{"tags":["java","jpa","h2","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":26129349,"reputation":1,"user_id":19820293,"display_name":"Fatih Şeng&#252;l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661370428,"creation_date":1661370428,"answer_id":73478794,"question_id":73478379,"body_markdown":"my friend,\r\n\r\nIt would be good if you can throw the Entity class. But I had a similar error before, I solved my problem in the Entity class.\r\nIf you are using @GeneratedValue, you should choose the right strategy. \r\nA reference: baeldung.com/hibernate-identifiers\r\n\r\nThis is the code that solved the problem for me.\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\nAlso a recommendation is to make all sql queries in the data.sql file","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>my friend,</p>\n<p>It would be good if you can throw the Entity class. But I had a similar error before, I solved my problem in the Entity class.\nIf you are using @GeneratedValue, you should choose the right strategy.\nA reference: baeldung.com/hibernate-identifiers</p>\n<p>This is the code that solved the problem for me.\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;ID&quot;)\nprivate Long id;</p>\n<p>Also a recommendation is to make all sql queries in the data.sql file</p>\n"},{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661418169,"creation_date":1661418169,"answer_id":73484757,"question_id":73478379,"body_markdown":"It would helpful to show your test class as it would appear your data script is being executed twice\r\n","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>It would helpful to show your test class as it would appear your data script is being executed twice</p>\n"},{"tags":[],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661422288,"creation_date":1661422288,"answer_id":73485730,"question_id":73478379,"body_markdown":"As of this morning, it&#39;s now working and I have no idea why.  I&#39;ll list out what was done and maybe someone can clarify why it would have started to work 12 hours later.\r\n\r\nSince the data.sql was causing the duplicate key issue, I renamed it to data-disabled.yml. I then changed the test to using the @Sql( statement=&quot;&quot; ) to insert an item and the test used the GeneralTypesRepository to findByName(string) (the method I was trying to test).  This ran successfully by building the H2 DB (schema.sql), used the @Sql to insert 1 item (0, &quot;Text&quot;) and then checked the method could find the record for &quot;Text&quot;.  This passed.  Great.\r\n\r\nBuilt out a few more tests for other repositories (about 8 in total) using this method (@Sql on each test method).\r\n\r\nThis morning when I saw the request for more information, I created a new test file to copy redo my original test.  I renamed the data-disabled.sql back to data.sql.   Ran the test and it passed.  No exceptions and junit green.\r\n\r\nI went back to the other test I created last night, removed all the @Sql lines, ran the test and they all passed.\r\n\r\nNo other changes were done (confirmed with git).  I don&#39;t know why it started working.  This test is now working as I expected it to in the first place since the data.sql was the only place inserts were being done.\r\n\r\nThanks to the few who pushed for more information.  Sorry I didn&#39;t have it in the first place.  And sorry this doesn&#39;t give a definitive answer to the original issue but again I was pretty sure having a data.sql file would only run once and do the inserts with the schema creating the db with no inserts.  ","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>As of this morning, it's now working and I have no idea why.  I'll list out what was done and maybe someone can clarify why it would have started to work 12 hours later.</p>\n<p>Since the data.sql was causing the duplicate key issue, I renamed it to data-disabled.yml. I then changed the test to using the @Sql( statement=&quot;&quot; ) to insert an item and the test used the GeneralTypesRepository to findByName(string) (the method I was trying to test).  This ran successfully by building the H2 DB (schema.sql), used the @Sql to insert 1 item (0, &quot;Text&quot;) and then checked the method could find the record for &quot;Text&quot;.  This passed.  Great.</p>\n<p>Built out a few more tests for other repositories (about 8 in total) using this method (@Sql on each test method).</p>\n<p>This morning when I saw the request for more information, I created a new test file to copy redo my original test.  I renamed the data-disabled.sql back to data.sql.   Ran the test and it passed.  No exceptions and junit green.</p>\n<p>I went back to the other test I created last night, removed all the @Sql lines, ran the test and they all passed.</p>\n<p>No other changes were done (confirmed with git).  I don't know why it started working.  This test is now working as I expected it to in the first place since the data.sql was the only place inserts were being done.</p>\n<p>Thanks to the few who pushed for more information.  Sorry I didn't have it in the first place.  And sorry this doesn't give a definitive answer to the original issue but again I was pretty sure having a data.sql file would only run once and do the inserts with the schema creating the db with no inserts.</p>\n"},{"tags":[],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979252,"creation_date":1664979252,"answer_id":73961718,"question_id":73478379,"body_markdown":"Today I had a similar case of this failing and was able to figure out what caused it.  Putting this here to help others in the future.\r\n\r\nBasically I working tests and then after adding a @PostContruct my one DB test started failing.  The PostContruct method did a db call to get the most recent record as a cache. \r\n\r\nThe issue here is that @PostContruct will be called during Spring App Context is starting up.  This cause the DB call to occur before the Spring Test gets a chance to use the test resource file to initialize the DB.   Changed to build the cache on first use instead and the problem is now gone.   Another option could have been to change to the @EventListener(ApplicationReadyEvent.class) to have it start after the app context if fully loaded.","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>Today I had a similar case of this failing and was able to figure out what caused it.  Putting this here to help others in the future.</p>\n<p>Basically I working tests and then after adding a @PostContruct my one DB test started failing.  The PostContruct method did a db call to get the most recent record as a cache.</p>\n<p>The issue here is that @PostContruct will be called during Spring App Context is starting up.  This cause the DB call to occur before the Spring Test gets a chance to use the test resource file to initialize the DB.   Changed to build the cache on first use instead and the problem is now gone.   Another option could have been to change to the @EventListener(ApplicationReadyEvent.class) to have it start after the app context if fully loaded.</p>\n"}],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1664979252,"creation_date":1661367620,"question_id":73478379,"body_markdown":"I have the following sql in a schema-h2.sql in my src/test/resources\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS project.general_types(\r\n  id SMALLINT PRIMARY KEY NOT NULL,\r\n  name VARCHAR(15) NOT NULL);\r\n```\r\n\r\nMy data.sql has the following\r\n\r\n```\r\nINSERT INTO project.general_types(id, name) VALUES \r\n   (0, &#39;Text&#39;),\r\n   (1, &#39;Binary&#39;);\r\n```\r\n\r\napplication-test.yml\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;\r\n    username: sa\r\n    password: \r\n    driver-class-name: org.h2.Driver\r\n    initialization-mode: always\r\n    platform: h2    \r\n  jpa:\r\n    generate-ddl: false\r\n    defer-datasource-initialization: true\r\n    show-sql: true\r\n    open-in-view: false\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n        default_schema: project\r\n        dialect: org.hibernate.dialect.H2Dialect  \r\n        globally_quoted_identifiers: true\r\n```\r\n\r\nThe entity that maps this.\r\n```\r\n@Entity(name = &quot;general_types&quot;)\r\npublic class GeneralTypesEntity {\r\n\r\n  @Id\r\n  private short id;\r\n  @Basic\r\n  private String name;\r\n\r\n//getters/setters nor shown...\r\n}\r\n```\r\n\r\nTest case\r\n\r\n```\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass GeneralTypesDbTest {\r\n\r\n  @Autowired\r\n  private final GeneralTypesRepository generalTypesRepository = null;\r\n\r\n  @Test\r\n  void test() {\r\n\r\n    assertNotNull(generalTypesRepository);\r\n    assertEquals(2, generalTypesRepository.count());\r\n  }\r\n\r\n}\r\n```\r\n\r\nWith PostgreSQL in production this works (prebuilt db and all the repos, entities, etc...).  I&#39;m now trying to setup a Spring Boot test with h2.   If I run with just the schema.sql it builds fine and runs the test.\r\n\r\nAdding the data.sql with the insert statement to create the default data set, Spring errors with the execution\r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PRIMARY KEY ON project.general_types(id) [0, &#39;Text&#39;]&quot;; SQL statement:\r\nINSERT INTO project.general_types(id, name) VALUES (0, &#39;Text&#39;), (1, &#39;Binary&#39;) [23505-200]\r\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]\r\n   at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n   at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n   at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n   at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.18.jar:5.3.18]\r\n   ... 96 common frames omitted\r\n```\r\n\r\nI tried putting the Insert into the schema-h2.sql right after table creation and get the same error. Any ideas how a constraint violation is being caused.  For a newly create table with no auto increment I&#39;m unclear why an insert would be causing a constraint violation.","title":"Spring Boot Test schema.sql/data.sql contraint violation error","body":"<p>I have the following sql in a schema-h2.sql in my src/test/resources</p>\n<pre><code>CREATE TABLE IF NOT EXISTS project.general_types(\n  id SMALLINT PRIMARY KEY NOT NULL,\n  name VARCHAR(15) NOT NULL);\n</code></pre>\n<p>My data.sql has the following</p>\n<pre><code>INSERT INTO project.general_types(id, name) VALUES \n   (0, 'Text'),\n   (1, 'Binary');\n</code></pre>\n<p>application-test.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;\n    username: sa\n    password: \n    driver-class-name: org.h2.Driver\n    initialization-mode: always\n    platform: h2    \n  jpa:\n    generate-ddl: false\n    defer-datasource-initialization: true\n    show-sql: true\n    open-in-view: false\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        format_sql: true\n        default_schema: project\n        dialect: org.hibernate.dialect.H2Dialect  \n        globally_quoted_identifiers: true\n</code></pre>\n<p>The entity that maps this.</p>\n<pre><code>@Entity(name = &quot;general_types&quot;)\npublic class GeneralTypesEntity {\n\n  @Id\n  private short id;\n  @Basic\n  private String name;\n\n//getters/setters nor shown...\n}\n</code></pre>\n<p>Test case</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\nclass GeneralTypesDbTest {\n\n  @Autowired\n  private final GeneralTypesRepository generalTypesRepository = null;\n\n  @Test\n  void test() {\n\n    assertNotNull(generalTypesRepository);\n    assertEquals(2, generalTypesRepository.count());\n  }\n\n}\n</code></pre>\n<p>With PostgreSQL in production this works (prebuilt db and all the repos, entities, etc...).  I'm now trying to setup a Spring Boot test with h2.   If I run with just the schema.sql it builds fine and runs the test.</p>\n<p>Adding the data.sql with the insert statement to create the default data set, Spring errors with the execution</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PRIMARY KEY ON project.general_types(id) [0, 'Text']&quot;; SQL statement:\nINSERT INTO project.general_types(id, name) VALUES (0, 'Text'), (1, 'Binary') [23505-200]\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:459) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.dml.Insert.insertRows(Insert.java:195) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.dml.Insert.update(Insert.java:151) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.CommandContainer.update(CommandContainer.java:198) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.command.Command.executeUpdate(Command.java:251) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:228) ~[h2-1.4.200.jar:1.4.200]\n   at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n   at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n   at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n   at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.18.jar:5.3.18]\n   ... 96 common frames omitted\n</code></pre>\n<p>I tried putting the Insert into the schema-h2.sql right after table creation and get the same error. Any ideas how a constraint violation is being caused.  For a newly create table with no auto increment I'm unclear why an insert would be causing a constraint violation.</p>\n"},{"tags":["java","javafx","build"],"answers":[{"tags":[],"owner":{"account_id":26536184,"reputation":1,"user_id":20167685,"display_name":"Kenshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664979130,"creation_date":1664979130,"answer_id":73961697,"question_id":73404217,"body_markdown":"Go to your module-info.java and delete everything in there except the module declaration. Now run the build.fxbuild again. There should be a new error. Its a relative error so you can take it from there.","title":"build.fxbuild returns error: &quot;module not found: javafx.controls&quot;, &quot;error: module not found: javafx.fxml&quot; when trying to Generate ant build and run","body":"<p>Go to your module-info.java and delete everything in there except the module declaration. Now run the build.fxbuild again. There should be a new error. Its a relative error so you can take it from there.</p>\n"}],"owner":{"account_id":26098525,"reputation":1,"user_id":19794328,"display_name":"MCS Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664979130,"creation_date":1660830523,"question_id":73404217,"body_markdown":"I&#39;m on Linux Ubuntu 21.10\r\nMy program has been running on eclipse fine, but when I want to export and use the &quot;build.fxbuild&quot; file in my projects file, these Errors come up:\r\n\r\n    [javac] warning: [options] system modules path not set in conjunction with -source 16\r\n    [javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:2: error: module not found: javafx.controls\r\n    [javac] \trequires javafx.controls;\r\n    [javac] \t               ^\r\n    [javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:3: error: module not found: javafx.fxml\r\n    [javac] \trequires javafx.fxml;\r\n    [javac] \t               ^\r\n    [javac] 2 errors\r\n    [javac] 1 warning\r\n\r\nI have added the necessary VM options, the JavaFX SDK User Library to Module Path,\r\nFor some more info I&#39;m exporting to exe, and this is when generating with build.fxbuild, not when trying to run it, not using the terminal","title":"build.fxbuild returns error: &quot;module not found: javafx.controls&quot;, &quot;error: module not found: javafx.fxml&quot; when trying to Generate ant build and run","body":"<p>I'm on Linux Ubuntu 21.10\nMy program has been running on eclipse fine, but when I want to export and use the &quot;build.fxbuild&quot; file in my projects file, these Errors come up:</p>\n<pre><code>[javac] warning: [options] system modules path not set in conjunction with -source 16\n[javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:2: error: module not found: javafx.controls\n[javac]     requires javafx.controls;\n[javac]                    ^\n[javac] /home/user/eclipse-workspace/project/build/build/src/module-info.java:3: error: module not found: javafx.fxml\n[javac]     requires javafx.fxml;\n[javac]                    ^\n[javac] 2 errors\n[javac] 1 warning\n</code></pre>\n<p>I have added the necessary VM options, the JavaFX SDK User Library to Module Path,\nFor some more info I'm exporting to exe, and this is when generating with build.fxbuild, not when trying to run it, not using the terminal</p>\n"},{"tags":["java","android","xml","android-fragments","findviewbyid"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665030525,"post_id":73961459,"comment_id":130604791,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978898,"creation_date":1664978898,"answer_id":73961646,"question_id":73961459,"body_markdown":"Normally you should never have to do that. If you want to communicate with the host activity you can use the `onAttach` method from the fragment or simply `requireActivity()`. Look at the example below\r\n\r\n\r\n```\r\npublic class MyFragment extends Fragment {\r\n\r\n\t@Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n    \tView view = inflater.inflate(R.layout.fragment_layout, container, false);\r\n\r\n    \treturn view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\t\t\r\n\t\tTextView tvName = view.findViewById(R.id.tvName);\r\n\t    TextView tvTel = view.findViewById(R.id.tvTel);\r\n\r\n\t    TextView etName = view.findViewById(R.id.etName);\r\n\t    TextView etTel = view.findViewById(R.id.etTel);\r\n\r\n\t    MainActivity activity = (MainActivity) requireActivity();\r\n\t    \r\n\r\n\t \ttvName.setText(activity.sameFields);\r\n\t \tactivity.someMethods();\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        if ((context instanceof MainActivity)) {\r\n            MainActivity activity = (MainActivity) context;\r\n            activity.someMethods();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to access Id&#39;s of Fragment element (like: TextView, EditText etc ) in the MainActivity","body":"<p>Normally you should never have to do that. If you want to communicate with the host activity you can use the <code>onAttach</code> method from the fragment or simply <code>requireActivity()</code>. Look at the example below</p>\n<pre><code>public class MyFragment extends Fragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_layout, container, false);\n\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        \n        TextView tvName = view.findViewById(R.id.tvName);\n        TextView tvTel = view.findViewById(R.id.tvTel);\n\n        TextView etName = view.findViewById(R.id.etName);\n        TextView etTel = view.findViewById(R.id.etTel);\n\n        MainActivity activity = (MainActivity) requireActivity();\n        \n\n        tvName.setText(activity.sameFields);\n        activity.someMethods();\n    }\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        if ((context instanceof MainActivity)) {\n            MainActivity activity = (MainActivity) context;\n            activity.someMethods();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23239455,"reputation":41,"user_id":17329020,"display_name":"SALMAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664978898,"creation_date":1664978097,"question_id":73961459,"body_markdown":"Here is the Fragment.xml file. I created some elements (like TextView and ImageView). I assigned IDs to those elements. \r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivContact&quot;\r\n        android:layout_width=&quot;70dp&quot;\r\n        android:layout_height=&quot;70dp&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:src=&quot;@drawable/contact&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvName&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvTel&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:text=&quot;TextView&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n-----------------------------------------------------------------------\r\nHere is the Fragment.java file. \r\n\r\n\r\n    TextView tvName,tvTel;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_detail, container, false);\r\n    }\r\n-----------------------------------------------------------------------\r\nHere is the MainActivity.java file. I want to access the IDs of Fragment.xml file. In the MainActivity.java file. But I&#39;m unable to access the IDs. It showing errer. I&#39;m stuck. I had try so many time. But not solved. I  think this is old version to access the IDs. But I don&#39;t know how can I access the IDs in new version.\r\n\r\nERROR:@layout/activity_main does not contain a declaration with id tvName.\r\n\r\n     TextView tvName,tvTel;\r\n     EditText etName,etTel;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        tvName = findViewById(R.id.tvName);\r\n        tvTel = findViewById(R.id.tvTel);\r\n\r\n        etName = findViewById(R.id.etName);\r\n        etTel = findViewById(R.id.etTel);\r\n    }\r\n\r\n-----------------------------------------------------------------------\r\nPlease help me, How can I access the IDs. \r\n-----------------------------------------------------------------------\r\n","title":"How to access Id&#39;s of Fragment element (like: TextView, EditText etc ) in the MainActivity","body":"<p>Here is the Fragment.xml file. I created some elements (like TextView and ImageView). I assigned IDs to those elements.</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/ivContact&quot;\n    android:layout_width=&quot;70dp&quot;\n    android:layout_height=&quot;70dp&quot;\n    android:layout_gravity=&quot;center_horizontal&quot;\n    android:src=&quot;@drawable/contact&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/tvName&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center_horizontal&quot;\n    android:text=&quot;TextView&quot;\n    android:textSize=&quot;18sp&quot;\n    android:textStyle=&quot;bold&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/tvTel&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center_horizontal&quot;\n    android:text=&quot;TextView&quot; /&gt;\n</code></pre>\n\n-----------------------------------------------------------------------\nHere is the Fragment.java file. \n<pre><code>TextView tvName,tvTel;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    return inflater.inflate(R.layout.fragment_detail, container, false);\n}\n</code></pre>\n<hr />\n<p>Here is the MainActivity.java file. I want to access the IDs of Fragment.xml file. In the MainActivity.java file. But I'm unable to access the IDs. It showing errer. I'm stuck. I had try so many time. But not solved. I  think this is old version to access the IDs. But I don't know how can I access the IDs in new version.</p>\n<p>ERROR:@layout/activity_main does not contain a declaration with id tvName.</p>\n<pre><code> TextView tvName,tvTel;\n EditText etName,etTel;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    tvName = findViewById(R.id.tvName);\n    tvTel = findViewById(R.id.tvTel);\n\n    etName = findViewById(R.id.etName);\n    etTel = findViewById(R.id.etTel);\n}\n</code></pre>\n<hr />\n<h2>Please help me, How can I access the IDs.</h2>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978809,"creation_date":1664978809,"answer_id":73961621,"question_id":73949220,"body_markdown":"Solved upgrading gradle from 4.1.2 to 7.3.0","title":"Android studio Dolphin stuck in &quot;analyzing&quot;","body":"<p>Solved upgrading gradle from 4.1.2 to 7.3.0</p>\n"}],"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664978809,"creation_date":1664892557,"question_id":73949220,"body_markdown":"I have to invalidate caches every 5 minutes because of this, I just have the mandatory plugins and they are updated.\r\n\r\nMost of the answers I have encounter mention the kotlin plugin but mine its updated as well and Im using java, not kotlin.\r\n","title":"Android studio Dolphin stuck in &quot;analyzing&quot;","body":"<p>I have to invalidate caches every 5 minutes because of this, I just have the mandatory plugins and they are updated.</p>\n<p>Most of the answers I have encounter mention the kotlin plugin but mine its updated as well and Im using java, not kotlin.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","blob"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664905001,"creation_date":1664905001,"answer_id":73951644,"question_id":73937950,"body_markdown":"Whatever method calls your `DocumentWrapperConverter#convertToEntityAttribute` probably also loads the data from the database. It should be fine to annotate this caller method with `@Transactional` to keep the `Connection` through the transaction alive. Note though, that you have to keep the connection open until you close the input stream, so you should probably push the bytes of the input stream to some sink within the transaction. Not sure if your `MockMultipartFile` consumes the input stream and stores the data into a `byte[]` or a temporary file, but that&#39;s what you will probably have to do for this to work.","title":"Obtain InputStream from Blob by calling getBinaryStream","body":"<p>Whatever method calls your <code>DocumentWrapperConverter#convertToEntityAttribute</code> probably also loads the data from the database. It should be fine to annotate this caller method with <code>@Transactional</code> to keep the <code>Connection</code> through the transaction alive. Note though, that you have to keep the connection open until you close the input stream, so you should probably push the bytes of the input stream to some sink within the transaction. Not sure if your <code>MockMultipartFile</code> consumes the input stream and stores the data into a <code>byte[]</code> or a temporary file, but that's what you will probably have to do for this to work.</p>\n"},{"tags":[],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664978006,"creation_date":1664978006,"answer_id":73961437,"question_id":73937950,"body_markdown":"Okay, so finally I have found the error by myself. Thanks for the help @Christian Beikov, you were actually hinting in the correct direction. Other Stack Overflow solutions did not work for me, but at least they gave me some idea of what is going on. Check [this][1] and [this][2].\r\n\r\nThe problem is due to Hibernate and the implementation of BLOB types. The buffer inside the BLOB can only be read once. If we try to read it again (by using `bob.getBinaryStream()`), a database connection and session is needed to reload it. \r\n\r\nSo the first thing that you need to do if you have this error is check that your `Datasource` object and your database configuration is properly working and that your methods are correctly delimited by transactional boundaries by using the `@Transactional` annotation.\r\n\r\nIf that does not work for you and you still have problems regarding the database connection / session you can explicitly configure a `SessionFactory` in order to *explicitly* manage the session. To do so:\r\n\r\n 1. Define a bean that provides a `SessionFactory`\r\n\r\n```\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.util.Properties;\r\n\r\n@org.springframework.context.annotation.Configuration\r\npublic class HibernateUtil {\r\n\r\n    private static SessionFactory sessionFactory;\r\n\r\n    private static HibernateUtil hibernateUtil;\r\n\r\n    // Singleton\r\n    @Autowired\r\n    public HibernateUtil(Properties hibernateProperties)\r\n    {\r\n\r\n        try {\r\n            Configuration configuration = new Configuration().setProperties(hibernateProperties);\r\n            Properties properties = configuration.getProperties();\r\n            StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(properties);\r\n            sessionFactory = configuration.buildSessionFactory(builder.build());\r\n            HibernateUtil.hibernateUtil = this;  // singleton\r\n        } catch (Throwable ex) {\r\n            // Make sure you log the exception, as it might be swallowed\r\n            System.err.println(&quot;Initial SessionFactory creation failed: &quot; + ex);\r\n            throw new ExceptionInInitializerError(ex);\r\n        }\r\n    }\r\n\r\n    public static HibernateUtil getInstance() {\r\n        if (HibernateUtil.hibernateUtil == null)\r\n        {\r\n            // Init\r\n            Logger.getGlobal().info(&quot;HIBERNATE UTIL INSTANCE HAS NOT BEEN INITIALIZED BY SPRING&quot;);\r\n        }\r\n        return HibernateUtil.hibernateUtil;\r\n    }\r\n\r\n    public static SessionFactory getSessionFactory()\r\n    {\r\n        return HibernateUtil.sessionFactory;\r\n    }\r\n\r\n    public void shutdown() {\r\n        // Close caches and connection pools\r\n        getSessionFactory().close();\r\n    }\r\n\r\n```\r\n\r\nThis class uses a singleton pattern, so everyone that request the `HibernateUtil` bean will have the same instance. The first initialization of this class is triggered by Spring Boot, so we can just use it from a global context by typing `HibernateUtil.getSessionFactory()` and receiving the same factory. \r\n\r\n   2. You can use that `SessionFactory` to delimit the boundaries of your transaction manually like this. I created a `LobService` class to wrap the logic to read and create BLOBs:\r\n\r\n```\r\n@Service\r\npublic class LobServiceImpl implements LobService {\r\n\r\n    @Transactional\r\n    @Override\r\n    public Blob createBlob(InputStream content, long size) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n\r\n        Blob blob = session.getLobHelper().createBlob(content, size);\r\n\r\n        session.getTransaction().commit();\r\n        session.close();\r\n        return blob;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public InputStream readBlob(Blob blob) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n\r\n        InputStream is = null;\r\n        try {\r\n            is = blob.getBinaryStream();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        session.getTransaction().commit();\r\n        session.close();\r\n\r\n        return is;\r\n    }\r\n}\r\n```\r\n\r\n\r\n   3. If that does not work for you, in my project even if there was a database connection and session another error showed up in the same place as before: `SQLException: could not reset reader`.  What you need to do is reload the database instance that contains the BLOB the second time that you try to access to it. So, you do an extra (useless) query, but in this case requerying for the same instance reloads the underlying `BinaryStream` and avoids that Exception. For example, in one of the methods of my service I receive `DocumentWrapper`, transform it to `Document`, forward call to `DocumentService`, and transform its return to a `DocumentWrapper` and returns it to the upper level of controllers):\r\n\r\n```\r\n    @Override\r\n    public &lt;S1 extends DocumentWrapper&gt; S1 save(S1 entity) {\r\n        Document document = this.documentWrapperConverter.convertToDatabaseColumn(entity);\r\n\r\n        // Internally the BLOB is consumed, so if we use the same instance to return an exception will be thrown\r\n        // java.sql.SQLException: could not reset reader\r\n        Document documentDatabase = this.documentService.save(document);\r\n\r\n        // This seems silly, but is necessary to update the Blob and its InputStream\r\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\r\n\r\n        return documentDatabaseOptional.map(value -&gt; (S1) this.documentWrapperConverter.convertToEntityAttribute(value)).orElse(null);\r\n    }\r\n```\r\n\r\nPlease, notice that this line\r\n\r\n```\r\n        // This seems silly, but is necessary to update the Blob and its InputStream\r\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\r\n```\r\n\r\nFetches the same entity from the DB, but now the `BinaryStream` is reloaded and can be read again. \r\n\r\nSo, **TL;DR** reload the managed instance from the database if you already exhausted its BinaryStream buffer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7634638/hibernate-throws-sqlexception-could-not-reset-reader\r\n  [2]: https://stackoverflow.com/questions/23222632/java-lang-unsupportedoperationexception-the-application-must-supply-jdbc-connec","title":"Obtain InputStream from Blob by calling getBinaryStream","body":"<p>Okay, so finally I have found the error by myself. Thanks for the help @Christian Beikov, you were actually hinting in the correct direction. Other Stack Overflow solutions did not work for me, but at least they gave me some idea of what is going on. Check <a href=\"https://stackoverflow.com/questions/7634638/hibernate-throws-sqlexception-could-not-reset-reader\">this</a> and <a href=\"https://stackoverflow.com/questions/23222632/java-lang-unsupportedoperationexception-the-application-must-supply-jdbc-connec\">this</a>.</p>\n<p>The problem is due to Hibernate and the implementation of BLOB types. The buffer inside the BLOB can only be read once. If we try to read it again (by using <code>bob.getBinaryStream()</code>), a database connection and session is needed to reload it.</p>\n<p>So the first thing that you need to do if you have this error is check that your <code>Datasource</code> object and your database configuration is properly working and that your methods are correctly delimited by transactional boundaries by using the <code>@Transactional</code> annotation.</p>\n<p>If that does not work for you and you still have problems regarding the database connection / session you can explicitly configure a <code>SessionFactory</code> in order to <em>explicitly</em> manage the session. To do so:</p>\n<ol>\n<li>Define a bean that provides a <code>SessionFactory</code></li>\n</ol>\n<pre><code>\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.util.Properties;\n\n@org.springframework.context.annotation.Configuration\npublic class HibernateUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private static HibernateUtil hibernateUtil;\n\n    // Singleton\n    @Autowired\n    public HibernateUtil(Properties hibernateProperties)\n    {\n\n        try {\n            Configuration configuration = new Configuration().setProperties(hibernateProperties);\n            Properties properties = configuration.getProperties();\n            StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(properties);\n            sessionFactory = configuration.buildSessionFactory(builder.build());\n            HibernateUtil.hibernateUtil = this;  // singleton\n        } catch (Throwable ex) {\n            // Make sure you log the exception, as it might be swallowed\n            System.err.println(&quot;Initial SessionFactory creation failed: &quot; + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n\n    public static HibernateUtil getInstance() {\n        if (HibernateUtil.hibernateUtil == null)\n        {\n            // Init\n            Logger.getGlobal().info(&quot;HIBERNATE UTIL INSTANCE HAS NOT BEEN INITIALIZED BY SPRING&quot;);\n        }\n        return HibernateUtil.hibernateUtil;\n    }\n\n    public static SessionFactory getSessionFactory()\n    {\n        return HibernateUtil.sessionFactory;\n    }\n\n    public void shutdown() {\n        // Close caches and connection pools\n        getSessionFactory().close();\n    }\n\n</code></pre>\n<p>This class uses a singleton pattern, so everyone that request the <code>HibernateUtil</code> bean will have the same instance. The first initialization of this class is triggered by Spring Boot, so we can just use it from a global context by typing <code>HibernateUtil.getSessionFactory()</code> and receiving the same factory.</p>\n<ol start=\"2\">\n<li>You can use that <code>SessionFactory</code> to delimit the boundaries of your transaction manually like this. I created a <code>LobService</code> class to wrap the logic to read and create BLOBs:</li>\n</ol>\n<pre><code>@Service\npublic class LobServiceImpl implements LobService {\n\n    @Transactional\n    @Override\n    public Blob createBlob(InputStream content, long size) {\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        session.beginTransaction();\n\n        Blob blob = session.getLobHelper().createBlob(content, size);\n\n        session.getTransaction().commit();\n        session.close();\n        return blob;\n    }\n\n    @Transactional\n    @Override\n    public InputStream readBlob(Blob blob) {\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        session.beginTransaction();\n\n        InputStream is = null;\n        try {\n            is = blob.getBinaryStream();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        session.getTransaction().commit();\n        session.close();\n\n        return is;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>If that does not work for you, in my project even if there was a database connection and session another error showed up in the same place as before: <code>SQLException: could not reset reader</code>.  What you need to do is reload the database instance that contains the BLOB the second time that you try to access to it. So, you do an extra (useless) query, but in this case requerying for the same instance reloads the underlying <code>BinaryStream</code> and avoids that Exception. For example, in one of the methods of my service I receive <code>DocumentWrapper</code>, transform it to <code>Document</code>, forward call to <code>DocumentService</code>, and transform its return to a <code>DocumentWrapper</code> and returns it to the upper level of controllers):</li>\n</ol>\n<pre><code>    @Override\n    public &lt;S1 extends DocumentWrapper&gt; S1 save(S1 entity) {\n        Document document = this.documentWrapperConverter.convertToDatabaseColumn(entity);\n\n        // Internally the BLOB is consumed, so if we use the same instance to return an exception will be thrown\n        // java.sql.SQLException: could not reset reader\n        Document documentDatabase = this.documentService.save(document);\n\n        // This seems silly, but is necessary to update the Blob and its InputStream\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\n\n        return documentDatabaseOptional.map(value -&gt; (S1) this.documentWrapperConverter.convertToEntityAttribute(value)).orElse(null);\n    }\n</code></pre>\n<p>Please, notice that this line</p>\n<pre><code>        // This seems silly, but is necessary to update the Blob and its InputStream\n        Optional&lt;Document&gt; documentDatabaseOptional = this.documentService.findById((UUID) documentDatabase.getId());\n</code></pre>\n<p>Fetches the same entity from the DB, but now the <code>BinaryStream</code> is reloaded and can be read again.</p>\n<p>So, <strong>TL;DR</strong> reload the managed instance from the database if you already exhausted its BinaryStream buffer.</p>\n"}],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73951644,"answer_count":2,"score":0,"last_activity_date":1664978006,"creation_date":1664812773,"question_id":73937950,"body_markdown":"I have a Spring Boot CRUD application that has the `Document` class, which is a DB entity with a `Blob` field. I also have the `DocumentWrapper` class, which is a class that is used for the transmission of the document and has a `MultiPartFile` field.\r\n\r\nSo, `Document` is the entity that I am storing in the DB, and has a dedicated JPA repository, while `DocumentWrapper` is the &quot;helper&quot; entity that the controller accepts and returns.\r\n\r\nSo in my service layer, I perform a transformation between `DocumentWrapper` and `Document` types as follow, in order to use the `DocumentRepository` and using this class as Bean to perform the conversion:\r\n\r\n```\r\n@Configuration\r\npublic class DocumentWrapperConverter implements AttributeConverter&lt;DocumentWrapper, Document&gt;, Serializable {\r\n\r\n    @Autowired\r\n    private LobService lobService;\r\n\r\n    @Override\r\n    public DocumentWrapper convertToEntityAttribute(Document document) {\r\n\r\n        DocumentWrapper documentWrapper = new DocumentWrapper();\r\n\r\n        documentWrapper.setName(document.getName());\r\n        documentWrapper.setDescription(document.getDescription());\r\n        documentWrapper.setId(document.getId());\r\n\r\n\r\n        MultipartFile multipartFile = null;\r\n        try {\r\n            InputStream is = this.lobService.readBlob(document.getBlob());\r\n\r\n            multipartFile = new MockMultipartFile(document.getName(), document.getOriginalFilename(), document.getContentType().toString(), is);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        documentWrapper.setFile(multipartFile);\r\n\r\n        return documentWrapper;\r\n    }\r\n\r\n    @Override\r\n    public Document convertToDatabaseColumn(DocumentWrapper documentWrapper) {\r\n        Document document = new Document();\r\n\r\n        document.setName(documentWrapper.getName());\r\n        document.setDescription(documentWrapper.getDescription());\r\n        document.setId(documentWrapper.getId());\r\n        document.setContentType(documentWrapper.getContentType());\r\n        document.setFileSize(documentWrapper.getSize());\r\n        document.setOriginalFilename(documentWrapper.getOriginalFilename());\r\n\r\n\r\n        Blob blob = null;\r\n        try {\r\n            blob = this.lobService.createBlob(documentWrapper.getFile().getInputStream(), documentWrapper.getFile().getSize());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        document.setBlob(blob);\r\n\r\n\r\n        return document;\r\n    }\r\n}\r\n``` \r\n\r\nI encapsulated the logic to transform a `Blob` to an `InputStream` in the `LobService` and its implementor `LobServiceImpl`:\r\n\r\n```\r\n@Service\r\npublic class LobServiceImpl implements LobService {\r\n\r\n    @Autowired\r\n    private SessionFactory sessionFactory;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Transactional\r\n    @Override\r\n    public Blob createBlob(InputStream content, long size) {\r\n        return this.sessionFactory.getCurrentSession().getLobHelper().createBlob(content, size);\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public InputStream readBlob(Blob blob) {\r\n        Connection connection = null;\r\n        try {\r\n            connection = this.dataSource.getConnection();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        InputStream is = null;\r\n        try {\r\n            is = blob.getBinaryStream();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            assert connection != null;\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return is;\r\n    }\r\n}\r\n```\r\nThis is my generic `JPARepository` interface:\r\n```\r\n@NoRepositoryBean\r\npublic interface GenericRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends JpaRepository&lt;T, S&gt; {}\r\n```\r\nWhich is extended in my `Document` class:\r\n\r\n```\r\n@Repository\r\n@Transactional\r\npublic interface DocumentRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends GenericRepository&lt;Document, UUID&gt; {\r\n}\r\n```\r\n\r\nAlso, the `Document` entity class:\r\n```\r\n@Entity\r\n@Table(uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = &quot;id&quot;)\r\n})\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n        property = &quot;typeName&quot;,\r\n        defaultImpl = Document.class)\r\npublic class Document extends JPAEntityImpl{\r\n\r\n    @Id\r\n    @Convert(converter = UUIDConverter.class)\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Column(nullable = false, unique = true)\r\n    protected UUID id;\r\n\r\n    @Column(length = 1000, nullable = false)\r\n    protected String name;\r\n\r\n    @Column(length = 1000, nullable = false)\r\n    protected String description;\r\n\r\n    @Column(length = 1000, nullable = true)\r\n    protected String originalFilename;\r\n\r\n    @Column(length = 1000, nullable = false)\r\n    protected MediaType contentType;\r\n\r\n    @Column\r\n    protected long fileSize;\r\n\r\n    @Column\r\n    @Lob\r\n    protected Blob blob;\r\n\r\n    public Document() {}\r\n\r\n    // GETTERS, SETTERS, TOSTRING....\r\n```\r\nAnd the `DocumentWrapper` entity class:\r\n\r\n``` \r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n        property = &quot;typeName&quot;,\r\n        defaultImpl = DocumentWrapper.class)\r\npublic class DocumentWrapper extends JPAEntityImpl {\r\n\r\n    private UUID id;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    private MultipartFile file;\r\n\r\n    public DocumentWrapper() {}\r\n\r\n    // GETTERS, SETTERS, TOSTRING....\r\n\r\n\r\n```\r\n\r\nI am having problems in the method `public InputStream readBlob(Blob blob)`. The relevant part of the error log is the following: \r\n```\r\norg.postgresql.util.PSQLException: This connection has been closed.\r\n\tat org.postgresql.jdbc.PgConnection.checkClosed(PgConnection.java:883)\r\n\tat org.postgresql.jdbc.PgConnection.getLargeObjectAPI(PgConnection.java:594)\r\n\tat org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:270)\r\n\tat org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:117)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.hibernate.engine.jdbc.SerializableBlobProxy.invoke(SerializableBlobProxy.java:60)\r\n\tat com.sun.proxy.$Proxy157.getBinaryStream(Unknown Source)\r\n\tat org.ICIQ.eChempad.services.LobServiceImpl.readBlob(LobServiceImpl.java:42)\r\n...\r\n```\r\n\r\nThis line is the one which produces the Exception:\r\n\r\n```\r\n            is = blob.getBinaryStream();\r\n\r\n```\r\nSo, I would like to know how can I retrieve an `InputStream` for the `Blob` that I am receiving in the method `public InputStream readBlob(Blob blob)`, so I can make the transformation between `Document` and `DocumentWrapper`. &#191;How can I restore this connection that has been closed to retrieve the `InputStream` of the `Blob`? &#191;Are there any workarounds?\r\n\r\nLooking for answers on the Internet I saw many people performing this transformation using a `ResultSet`, but I am using a `JPARepository` interface to manipulate the records of `Document` in the database, not raw SQL queries; So I do not know how to proceed in that way.\r\n\r\nI already tried using `@Transactional` annotations in this method but it did not work. I also tried setting the `spring.jpa.properties.hibernate.current_session_context_class` property (application.properties) to the values `org.hibernate.context.ThreadLocalSessionContext`, `thread` and `org.hibernate.context.internal.ThreadLocalSessionContext` but none of them worked. \r\n\r\nI also tried to create a new connection, but it did not work.\r\n\r\nI tried opening and closing a `Session` before and after calling `blob.getBinaryStream();` but it did not work. \r\n\r\nIt seems to me that we need the same connection that was used to retrieve the Blob in the first place, but at some point Spring closes it and I do not know how to restore it or avoid that the connection is closed.\r\n\r\nI also know that working with `Byte[]` arrays in my `Document` class could simplify things, but I do need to work with `InputStream` since I work with large files and is not convenient that whole files are loaded in memory. \r\n\r\nIf you need any other information about my code please do not hesitate to ask. I will add any required extra information. \r\n\r\nAny tip, help or workaround is very welcome. Thank you.","title":"Obtain InputStream from Blob by calling getBinaryStream","body":"<p>I have a Spring Boot CRUD application that has the <code>Document</code> class, which is a DB entity with a <code>Blob</code> field. I also have the <code>DocumentWrapper</code> class, which is a class that is used for the transmission of the document and has a <code>MultiPartFile</code> field.</p>\n<p>So, <code>Document</code> is the entity that I am storing in the DB, and has a dedicated JPA repository, while <code>DocumentWrapper</code> is the &quot;helper&quot; entity that the controller accepts and returns.</p>\n<p>So in my service layer, I perform a transformation between <code>DocumentWrapper</code> and <code>Document</code> types as follow, in order to use the <code>DocumentRepository</code> and using this class as Bean to perform the conversion:</p>\n<pre><code>@Configuration\npublic class DocumentWrapperConverter implements AttributeConverter&lt;DocumentWrapper, Document&gt;, Serializable {\n\n    @Autowired\n    private LobService lobService;\n\n    @Override\n    public DocumentWrapper convertToEntityAttribute(Document document) {\n\n        DocumentWrapper documentWrapper = new DocumentWrapper();\n\n        documentWrapper.setName(document.getName());\n        documentWrapper.setDescription(document.getDescription());\n        documentWrapper.setId(document.getId());\n\n\n        MultipartFile multipartFile = null;\n        try {\n            InputStream is = this.lobService.readBlob(document.getBlob());\n\n            multipartFile = new MockMultipartFile(document.getName(), document.getOriginalFilename(), document.getContentType().toString(), is);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        documentWrapper.setFile(multipartFile);\n\n        return documentWrapper;\n    }\n\n    @Override\n    public Document convertToDatabaseColumn(DocumentWrapper documentWrapper) {\n        Document document = new Document();\n\n        document.setName(documentWrapper.getName());\n        document.setDescription(documentWrapper.getDescription());\n        document.setId(documentWrapper.getId());\n        document.setContentType(documentWrapper.getContentType());\n        document.setFileSize(documentWrapper.getSize());\n        document.setOriginalFilename(documentWrapper.getOriginalFilename());\n\n\n        Blob blob = null;\n        try {\n            blob = this.lobService.createBlob(documentWrapper.getFile().getInputStream(), documentWrapper.getFile().getSize());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        document.setBlob(blob);\n\n\n        return document;\n    }\n}\n</code></pre>\n<p>I encapsulated the logic to transform a <code>Blob</code> to an <code>InputStream</code> in the <code>LobService</code> and its implementor <code>LobServiceImpl</code>:</p>\n<pre><code>@Service\npublic class LobServiceImpl implements LobService {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Transactional\n    @Override\n    public Blob createBlob(InputStream content, long size) {\n        return this.sessionFactory.getCurrentSession().getLobHelper().createBlob(content, size);\n    }\n\n    @Transactional\n    @Override\n    public InputStream readBlob(Blob blob) {\n        Connection connection = null;\n        try {\n            connection = this.dataSource.getConnection();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        InputStream is = null;\n        try {\n            is = blob.getBinaryStream();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            assert connection != null;\n            connection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return is;\n    }\n}\n</code></pre>\n<p>This is my generic <code>JPARepository</code> interface:</p>\n<pre><code>@NoRepositoryBean\npublic interface GenericRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends JpaRepository&lt;T, S&gt; {}\n</code></pre>\n<p>Which is extended in my <code>Document</code> class:</p>\n<pre><code>@Repository\n@Transactional\npublic interface DocumentRepository&lt;T extends JPAEntityImpl, S extends Serializable&gt; extends GenericRepository&lt;Document, UUID&gt; {\n}\n</code></pre>\n<p>Also, the <code>Document</code> entity class:</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(columnNames = &quot;id&quot;)\n})\n@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\n        property = &quot;typeName&quot;,\n        defaultImpl = Document.class)\npublic class Document extends JPAEntityImpl{\n\n    @Id\n    @Convert(converter = UUIDConverter.class)\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Column(nullable = false, unique = true)\n    protected UUID id;\n\n    @Column(length = 1000, nullable = false)\n    protected String name;\n\n    @Column(length = 1000, nullable = false)\n    protected String description;\n\n    @Column(length = 1000, nullable = true)\n    protected String originalFilename;\n\n    @Column(length = 1000, nullable = false)\n    protected MediaType contentType;\n\n    @Column\n    protected long fileSize;\n\n    @Column\n    @Lob\n    protected Blob blob;\n\n    public Document() {}\n\n    // GETTERS, SETTERS, TOSTRING....\n</code></pre>\n<p>And the <code>DocumentWrapper</code> entity class:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXISTING_PROPERTY,\n        property = &quot;typeName&quot;,\n        defaultImpl = DocumentWrapper.class)\npublic class DocumentWrapper extends JPAEntityImpl {\n\n    private UUID id;\n\n    private String name;\n\n    private String description;\n\n    private MultipartFile file;\n\n    public DocumentWrapper() {}\n\n    // GETTERS, SETTERS, TOSTRING....\n\n\n</code></pre>\n<p>I am having problems in the method <code>public InputStream readBlob(Blob blob)</code>. The relevant part of the error log is the following:</p>\n<pre><code>org.postgresql.util.PSQLException: This connection has been closed.\n    at org.postgresql.jdbc.PgConnection.checkClosed(PgConnection.java:883)\n    at org.postgresql.jdbc.PgConnection.getLargeObjectAPI(PgConnection.java:594)\n    at org.postgresql.jdbc.AbstractBlobClob.getLo(AbstractBlobClob.java:270)\n    at org.postgresql.jdbc.AbstractBlobClob.getBinaryStream(AbstractBlobClob.java:117)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.hibernate.engine.jdbc.SerializableBlobProxy.invoke(SerializableBlobProxy.java:60)\n    at com.sun.proxy.$Proxy157.getBinaryStream(Unknown Source)\n    at org.ICIQ.eChempad.services.LobServiceImpl.readBlob(LobServiceImpl.java:42)\n...\n</code></pre>\n<p>This line is the one which produces the Exception:</p>\n<pre><code>            is = blob.getBinaryStream();\n\n</code></pre>\n<p>So, I would like to know how can I retrieve an <code>InputStream</code> for the <code>Blob</code> that I am receiving in the method <code>public InputStream readBlob(Blob blob)</code>, so I can make the transformation between <code>Document</code> and <code>DocumentWrapper</code>. ¿How can I restore this connection that has been closed to retrieve the <code>InputStream</code> of the <code>Blob</code>? ¿Are there any workarounds?</p>\n<p>Looking for answers on the Internet I saw many people performing this transformation using a <code>ResultSet</code>, but I am using a <code>JPARepository</code> interface to manipulate the records of <code>Document</code> in the database, not raw SQL queries; So I do not know how to proceed in that way.</p>\n<p>I already tried using <code>@Transactional</code> annotations in this method but it did not work. I also tried setting the <code>spring.jpa.properties.hibernate.current_session_context_class</code> property (application.properties) to the values <code>org.hibernate.context.ThreadLocalSessionContext</code>, <code>thread</code> and <code>org.hibernate.context.internal.ThreadLocalSessionContext</code> but none of them worked.</p>\n<p>I also tried to create a new connection, but it did not work.</p>\n<p>I tried opening and closing a <code>Session</code> before and after calling <code>blob.getBinaryStream();</code> but it did not work.</p>\n<p>It seems to me that we need the same connection that was used to retrieve the Blob in the first place, but at some point Spring closes it and I do not know how to restore it or avoid that the connection is closed.</p>\n<p>I also know that working with <code>Byte[]</code> arrays in my <code>Document</code> class could simplify things, but I do need to work with <code>InputStream</code> since I work with large files and is not convenient that whole files are loaded in memory.</p>\n<p>If you need any other information about my code please do not hesitate to ask. I will add any required extra information.</p>\n<p>Any tip, help or workaround is very welcome. Thank you.</p>\n"},{"tags":["java","android","network-programming","udp"],"comments":[{"owner":{"account_id":5415144,"reputation":4187,"user_id":4310487,"accept_rate":50,"display_name":"light"},"score":0,"creation_date":1434732095,"post_id":30943136,"comment_id":49921312,"body_markdown":"Do you mean you want to send a broadcast packet?","body":"Do you mean you want to send a broadcast packet?"},{"owner":{"account_id":154393,"reputation":108787,"user_id":370305,"accept_rate":71,"display_name":"user370305"},"score":0,"creation_date":1434733995,"post_id":30943136,"comment_id":49922243,"body_markdown":"Your application should be work like Server. not a Client. So its just like, you have to send data packet on your own IP and port, so whichever client will listen to your app on your device IP and Port will receive those packets.","body":"Your application should be work like Server. not a Client. So its just like, you have to send data packet on your own IP and port, so whichever client will listen to your app on your device IP and Port will receive those packets."},{"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"score":0,"creation_date":1434735543,"post_id":30943136,"comment_id":49923088,"body_markdown":"Yes @light this is as far as i can get with that  datagramSocket.setBroadcast(true); i need some more info on how to make that work. I was reading about multicast but unsure how to implement that or what the real differences are.","body":"Yes @light this is as far as i can get with that  datagramSocket.setBroadcast(true); i need some more info on how to make that work. I was reading about multicast but unsure how to implement that or what the real differences are."}],"answers":[{"tags":[],"owner":{"account_id":997107,"reputation":2041,"user_id":1012786,"display_name":"jaybers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435161311,"creation_date":1435161311,"answer_id":31031319,"question_id":30943136,"body_markdown":"Broadcasting will send data to all devices on the LAN.  Multicasting will only send data only to those who subscribe to it.  From the limited information you gave, it sounds like multicasting would work.  If you broadcast, you will essentially be sending data to all devices on your lan like your smart tv, all laptops, etc.\r\n\r\nHere is a simple client server app using java multicast sockets.[http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/][1]\r\n\r\nWith multicasting, a device acts as a server and opens a special kind of udp socket for multicasting.  Clients subscribe to this server&#39;s multicast socket and essentially participate in data transmission.  \r\n\r\nHere are a couple tips for multicasting\r\n\r\n - Be sure the server uses a multicast address in your java code.  This is in the range of 224.0.0.0 - 239.255.255.255   Some addresses are reserved.  Sample code I sent uses 224.0.0.3.  You don&#39;t need to change the IP in the WIfi settings.  This is done in the java code.  It is like an extra address that it will listen on.   The clients will subscribe to this address.\r\n - For android, you will have to enable multicasting permission in the manifest file for the multicast lock.  See [http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html][2]\r\n\r\n\r\n  [1]: http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/\r\n  [2]: http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html","title":"Send UDP data to all on the LAN Android","body":"<p>Broadcasting will send data to all devices on the LAN.  Multicasting will only send data only to those who subscribe to it.  From the limited information you gave, it sounds like multicasting would work.  If you broadcast, you will essentially be sending data to all devices on your lan like your smart tv, all laptops, etc.</p>\n\n<p>Here is a simple client server app using java multicast sockets.<a href=\"http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/\" rel=\"nofollow\">http://examples.javacodegeeks.com/core-java/net/multicastsocket-net/java-net-multicastsocket-example/</a></p>\n\n<p>With multicasting, a device acts as a server and opens a special kind of udp socket for multicasting.  Clients subscribe to this server's multicast socket and essentially participate in data transmission.  </p>\n\n<p>Here are a couple tips for multicasting</p>\n\n<ul>\n<li>Be sure the server uses a multicast address in your java code.  This is in the range of 224.0.0.0 - 239.255.255.255   Some addresses are reserved.  Sample code I sent uses 224.0.0.3.  You don't need to change the IP in the WIfi settings.  This is done in the java code.  It is like an extra address that it will listen on.   The clients will subscribe to this address.</li>\n<li>For android, you will have to enable multicasting permission in the manifest file for the multicast lock.  See <a href=\"http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html\" rel=\"nofollow\">http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18509536,"reputation":23,"user_id":13485097,"display_name":"Kamalesh P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664977874,"creation_date":1664977874,"answer_id":73961405,"question_id":30943136,"body_markdown":"MainActivity.java\r\n   \r\n        package com.example.myapplication;\r\n        \r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        \r\n        import android.os.Bundle;\r\n        import android.os.StrictMode;\r\n        import android.util.Log;\r\n        \r\n        import java.io.IOException;\r\n        import java.net.DatagramPacket;\r\n        import java.net.DatagramSocket;\r\n        import java.net.InetAddress;\r\n        import java.net.UnknownHostException;\r\n        \r\n        public class MainActivity extends AppCompatActivity{\r\n            final static String INET_ADDR = &quot;192.168.17.20&quot;;\r\n            final static int PORT = 4210;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                // StrictMode\r\n                StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                StrictMode.setThreadPolicy(policy);\r\n        \r\n                // UDP Socket Programming\r\n                // Get the address that we are going to connect to.\r\n                InetAddress addr = null;\r\n                try {\r\n                    addr = InetAddress.getByName(INET_ADDR);\r\n                } catch (UnknownHostException ex) {\r\n                    Log.i(&quot;ERROR&quot;, String.valueOf(ex));\r\n                }\r\n        \r\n                // Open a new DatagramSocket, which will be used to send the data.\r\n                try (DatagramSocket serverSocket = new DatagramSocket()) {\r\n                    for (int i = 0; i &lt; 5; i++) {\r\n                        String msg = &quot;Sent message no &quot; + i;\r\n        \r\n                        // Create a packet that will contain the data\r\n                        // (in the form of bytes) and send it.\r\n                        DatagramPacket msgPacket = new DatagramPacket(msg.getBytes(),\r\n                                msg.getBytes().length, addr, PORT);\r\n                        try {\r\n                            serverSocket.send(msgPacket);\r\n                        }\r\n                        catch(Exception ex){\r\n                            Log.i(&quot;ERROR&quot;, String.valueOf(ex));\r\n                        }\r\n        \r\n                        Log.i(&quot;DEBUG&quot;, &quot;Server sent packet with msg: &quot; + msg);\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Log.i(&quot;ERROR&quot;, String.valueOf(ex));\r\n                }\r\n            }\r\n        }\r\n\r\nAndroidManifest.xml\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n","title":"Send UDP data to all on the LAN Android","body":"<p>MainActivity.java</p>\n<pre><code>    package com.example.myapplication;\n    \n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import android.os.Bundle;\n    import android.os.StrictMode;\n    import android.util.Log;\n    \n    import java.io.IOException;\n    import java.net.DatagramPacket;\n    import java.net.DatagramSocket;\n    import java.net.InetAddress;\n    import java.net.UnknownHostException;\n    \n    public class MainActivity extends AppCompatActivity{\n        final static String INET_ADDR = &quot;192.168.17.20&quot;;\n        final static int PORT = 4210;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            // StrictMode\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n    \n            // UDP Socket Programming\n            // Get the address that we are going to connect to.\n            InetAddress addr = null;\n            try {\n                addr = InetAddress.getByName(INET_ADDR);\n            } catch (UnknownHostException ex) {\n                Log.i(&quot;ERROR&quot;, String.valueOf(ex));\n            }\n    \n            // Open a new DatagramSocket, which will be used to send the data.\n            try (DatagramSocket serverSocket = new DatagramSocket()) {\n                for (int i = 0; i &lt; 5; i++) {\n                    String msg = &quot;Sent message no &quot; + i;\n    \n                    // Create a packet that will contain the data\n                    // (in the form of bytes) and send it.\n                    DatagramPacket msgPacket = new DatagramPacket(msg.getBytes(),\n                            msg.getBytes().length, addr, PORT);\n                    try {\n                        serverSocket.send(msgPacket);\n                    }\n                    catch(Exception ex){\n                        Log.i(&quot;ERROR&quot;, String.valueOf(ex));\n                    }\n    \n                    Log.i(&quot;DEBUG&quot;, &quot;Server sent packet with msg: &quot; + msg);\n                }\n            } catch (IOException ex) {\n                Log.i(&quot;ERROR&quot;, String.valueOf(ex));\n            }\n        }\n    }\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4018,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31031319,"answer_count":2,"score":0,"last_activity_date":1664977874,"creation_date":1434731955,"question_id":30943136,"body_markdown":"I am able to send UDP data to a specific ip address but I need to send it to who ever is listening on port 55555. here is the code I&#39;m using. I do not want to send to a specific ip. \r\n\r\n\r\n\r\n   \r\n    \r\n    import android.util.Log;\r\n    \r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n    \r\n    public class UdpServer implements Runnable {\r\n    \r\n        UdpServer() {\r\n            run();\r\n        }\r\n        public void run() {\r\n    \r\n            try {\r\n    \r\n                String messageStr = &quot;40320&quot;;\r\n    \r\n                int server_port = 55555;\r\n                DatagramSocket datagramSocket = new DatagramSocket();\r\n                InetAddress host = InetAddress.getByName(&quot;10.1.10.14&quot;);\r\n  \r\n                int msg_length = messageStr.length();\r\n                byte[] message = messageStr.getBytes();\r\n                DatagramPacket datagramPacket = new DatagramPacket(message, msg_length,host,\r\n                        server_port);\r\n            \r\n                datagramSocket.send(datagramPacket);\r\n            } catch (Exception e) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Send UDP data to all on the LAN Android","body":"<p>I am able to send UDP data to a specific ip address but I need to send it to who ever is listening on port 55555. here is the code I'm using. I do not want to send to a specific ip. </p>\n\n<pre><code>import android.util.Log;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\n\npublic class UdpServer implements Runnable {\n\n    UdpServer() {\n        run();\n    }\n    public void run() {\n\n        try {\n\n            String messageStr = \"40320\";\n\n            int server_port = 55555;\n            DatagramSocket datagramSocket = new DatagramSocket();\n            InetAddress host = InetAddress.getByName(\"10.1.10.14\");\n\n            int msg_length = messageStr.length();\n            byte[] message = messageStr.getBytes();\n            DatagramPacket datagramPacket = new DatagramPacket(message, msg_length,host,\n                    server_port);\n\n            datagramSocket.send(datagramPacket);\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","oracle12c","osb"],"owner":{"account_id":26535763,"reputation":11,"user_id":20167310,"display_name":"M Fahmi Fachrozi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664977826,"creation_date":1664977220,"question_id":73961273,"body_markdown":"I&#39;m facing an issue when working with Oracle Service Bus. I want to translate XML to JSON as the response but when using nxsd in OSB pipeline to do that translation the empty array (`&lt;in:&lt;ARRAYNAME&gt;/&gt;`) in XML will be translated as `&quot;&lt;ARRAYNAME&gt;&quot;:[ null ]`. The expected result is `&quot;&lt;ARRAYNAME&gt;&quot;:[]`, without null.\r\n\r\nHere is the current response:\r\n\r\n```\r\n{\r\n&quot;data&quot;:  \t[ null ],\r\n&quot;description&quot;:  \t&quot;Success&quot;,\r\n&quot;transactionId&quot;:  \tnull,\r\n&quot;status&quot;:  \t0\r\n}\r\n```\r\n\r\nHere is the expected response:\r\n\r\n```\r\n{\r\n&quot;data&quot;:  \t[ ]\t,\r\n&quot;description&quot;:  \t&quot;Success&quot;,\r\n&quot;transactionId&quot;:  \tnull\t,\r\n&quot;status&quot;:  \t0\r\n}\r\n```","title":"Translation of empty array element in XML to JSON became null in Oracle Service Bus Pipeline","body":"<p>I'm facing an issue when working with Oracle Service Bus. I want to translate XML to JSON as the response but when using nxsd in OSB pipeline to do that translation the empty array (<code>&lt;in:&lt;ARRAYNAME&gt;/&gt;</code>) in XML will be translated as <code>&quot;&lt;ARRAYNAME&gt;&quot;:[ null ]</code>. The expected result is <code>&quot;&lt;ARRAYNAME&gt;&quot;:[]</code>, without null.</p>\n<p>Here is the current response:</p>\n<pre><code>{\n&quot;data&quot;:     [ null ],\n&quot;description&quot;:      &quot;Success&quot;,\n&quot;transactionId&quot;:    null,\n&quot;status&quot;:   0\n}\n</code></pre>\n<p>Here is the expected response:</p>\n<pre><code>{\n&quot;data&quot;:     [ ] ,\n&quot;description&quot;:      &quot;Success&quot;,\n&quot;transactionId&quot;:    null    ,\n&quot;status&quot;:   0\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":345460,"reputation":10899,"user_id":678410,"accept_rate":69,"display_name":"Anders Forsgren"},"score":0,"creation_date":1314209346,"post_id":7179912,"comment_id":8619816,"body_markdown":"Is the graph a DAG (Directed, acyclic i.e. tree-like?) or can it happen that A has an object B that has an object that is A again. In that case, how do you handle references without risking that the map grows to infinity for two objects that refer to eachother?","body":"Is the graph a DAG (Directed, acyclic i.e. tree-like?) or can it happen that A has an object B that has an object that is A again. In that case, how do you handle references without risking that the map grows to infinity for two objects that refer to eachother?"},{"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"score":0,"creation_date":1314280363,"post_id":7179912,"comment_id":8636168,"body_markdown":"I&#39;m working with the assumption that there are no cycles in the object graph.","body":"I&#39;m working with the assumption that there are no cycles in the object graph."}],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314208095,"creation_date":1314208095,"answer_id":7179938,"question_id":7179912,"body_markdown":"Have you considered using [Protobufs][1]?\r\n\r\n\r\n  [1]: http://code.google.com/apis/protocolbuffers/docs/javatutorial.html","title":"Flattening an object graph to a map","body":"<p>Have you considered using <a href=\"http://code.google.com/apis/protocolbuffers/docs/javatutorial.html\" rel=\"nofollow\">Protobufs</a>?</p>\n"},{"tags":[],"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353421558,"creation_date":1353421558,"answer_id":13475289,"question_id":7179912,"body_markdown":"The Apache BeanUtils library has a describe() method that does something similar to what I was looking for. \r\n\r\nAnother possible solution would be via the Jackson JSON library, since JSON objects are essentially key-value pairs.\r\n\r\nRelated discussions: https://stackoverflow.com/questions/739689/how-to-convert-a-java-object-bean-to-key-value-pairs-and-vice-versa\r\n","title":"Flattening an object graph to a map","body":"<p>The Apache BeanUtils library has a describe() method that does something similar to what I was looking for. </p>\n\n<p>Another possible solution would be via the Jackson JSON library, since JSON objects are essentially key-value pairs.</p>\n\n<p>Related discussions: <a href=\"https://stackoverflow.com/questions/739689/how-to-convert-a-java-object-bean-to-key-value-pairs-and-vice-versa\">How to convert a Java object (bean) to key-value pairs (and vice versa)?</a></p>\n"},{"tags":[],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664977646,"creation_date":1664977646,"answer_id":73961365,"question_id":7179912,"body_markdown":"The [json-flattener][1] library solves exactly your problem\r\n\r\n\r\n  [1]: https://github.com/wnameless/json-flattener","title":"Flattening an object graph to a map","body":"<p>The <a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">json-flattener</a> library solves exactly your problem</p>\n"}],"owner":{"account_id":354508,"reputation":466,"user_id":692896,"accept_rate":75,"display_name":"mottosan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3380,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13475289,"answer_count":3,"score":3,"last_activity_date":1664977646,"creation_date":1314207934,"question_id":7179912,"body_markdown":"I&#39;m trying to flatten an object graph completely to a map.\r\n\r\nComplex objects should also be flattened to the top level using &quot;namespaces&quot;. So if the object A contains an int i, a string pid and another object B that contains a string id, the resulting Map would look like {i=1, pid=&quot;test&quot;, B.id=&quot;test1&quot;}. \r\n\r\nI also want to be able to reconstruct the original object from a given map. \r\n\r\nI&#39;ve searched around for libraries that do this. But I&#39;m not quite getting what I&#39;m looking for. I see stuff that maintains the hierarchy but nothing that completely flattens the structure. \r\n\r\nI do see something in Spring Integration that looks like what I want to do: \r\nhttp://static.springsource.org/spring-integration/api/org/springframework/integration/transformer/ObjectToMapTransformer.html#ObjectToMapTransformer%28%29\r\n\r\nBut I can&#39;t get it to work. \r\n\r\nAny help would be appreciated.\r\n\r\nThanks.","title":"Flattening an object graph to a map","body":"<p>I'm trying to flatten an object graph completely to a map.</p>\n\n<p>Complex objects should also be flattened to the top level using \"namespaces\". So if the object A contains an int i, a string pid and another object B that contains a string id, the resulting Map would look like {i=1, pid=\"test\", B.id=\"test1\"}. </p>\n\n<p>I also want to be able to reconstruct the original object from a given map. </p>\n\n<p>I've searched around for libraries that do this. But I'm not quite getting what I'm looking for. I see stuff that maintains the hierarchy but nothing that completely flattens the structure. </p>\n\n<p>I do see something in Spring Integration that looks like what I want to do: \n<a href=\"http://static.springsource.org/spring-integration/api/org/springframework/integration/transformer/ObjectToMapTransformer.html#ObjectToMapTransformer%28%29\" rel=\"nofollow\">http://static.springsource.org/spring-integration/api/org/springframework/integration/transformer/ObjectToMapTransformer.html#ObjectToMapTransformer%28%29</a></p>\n\n<p>But I can't get it to work. </p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","json","spring-boot","db2","spring-batch"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1664903266,"post_id":73950957,"comment_id":130574640,"body_markdown":"You have to implement a custom ItemReader. An [example](https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-a-rest-api/). If the response is too big I think you can implement also a pagination logic If the external API permits it","body":"You have to implement a custom ItemReader. An <a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-batch-tutorial-reading-information-from-a-rest-api/\" rel=\"nofollow noreferrer\">example</a>. If the response is too big I think you can implement also a pagination logic If the external API permits it"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664977184,"creation_date":1664977184,"answer_id":73961261,"question_id":73950957,"body_markdown":"You can use a `URLResource` and point your JSON item reader to it, something like:\r\n\r\n```\r\n@Bean(destroyMethod = &quot;close&quot;)\r\npublic InputStream urlResource() throws IOException {\r\n   URL url = new URL(&quot;https://path.to.your.resource&quot;);\r\n   URLConnection urlConnection = url.openConnection();\r\n   // urlConnection.setRequestProperty(&quot;&quot;, &quot;&quot;); // set auth headers if necessary\r\n   return urlConnection.getInputStream();\r\n}\r\n\r\n@Bean\r\npublic JsonItemReader&lt;Pojo&gt; itemReader() throws IOException {\r\n   return new JsonItemReaderBuilder&lt;Pojo&gt;()\r\n\t\t\t\t.name(&quot;restReader&quot;)\r\n\t\t\t\t.resource(new InputStreamResource(urlResource()))\r\n\t\t\t\t.strict(true)\r\n\t\t\t\t.jsonObjectReader(new JacksonJsonObjectReader&lt;&gt;(Pojo.class))\r\n\t\t\t\t.build();\r\n}\r\n```","title":"Spring Batch - How to use JSON/CSV String object instead of Files on disk","body":"<p>You can use a <code>URLResource</code> and point your JSON item reader to it, something like:</p>\n<pre><code>@Bean(destroyMethod = &quot;close&quot;)\npublic InputStream urlResource() throws IOException {\n   URL url = new URL(&quot;https://path.to.your.resource&quot;);\n   URLConnection urlConnection = url.openConnection();\n   // urlConnection.setRequestProperty(&quot;&quot;, &quot;&quot;); // set auth headers if necessary\n   return urlConnection.getInputStream();\n}\n\n@Bean\npublic JsonItemReader&lt;Pojo&gt; itemReader() throws IOException {\n   return new JsonItemReaderBuilder&lt;Pojo&gt;()\n                .name(&quot;restReader&quot;)\n                .resource(new InputStreamResource(urlResource()))\n                .strict(true)\n                .jsonObjectReader(new JacksonJsonObjectReader&lt;&gt;(Pojo.class))\n                .build();\n}\n</code></pre>\n"}],"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73961261,"answer_count":1,"score":0,"last_activity_date":1664977184,"creation_date":1664901202,"question_id":73950957,"body_markdown":"I am building an Spring Batch application that loads fetches data from external API and loading it to Database. I am making a REST call to external API which API return JSON/CSV string based on request parameters(json/csv).\r\n\r\nThe application currently works fine for CSV file saved in filesystem. I am trying to get rid of creating a new file and using the file as input every time. I would want to achieve the loading without having to create any file on the disk.\r\n\r\nI have googled and tried different solutions, I have replaced FlatFileItemReader with JsonItemReader. \r\n\r\nCan you please help me here.\r\n\r\n**ReportService.java** \r\n\r\n    @Slf4j\r\n    @Service\r\n    public class ReportService {\r\n    \r\n    \tpublic static final String OUTPUT_FILE_FORMAT = &quot;csv&quot;;\r\n    \r\n    \t@Autowired\r\n    \tProxyRestClient proxyRestClient;\r\n    \r\n    \t@Autowired\r\n    \tFileOperations fileWriter;\r\n    \r\n    \t@Autowired\r\n    \r\n    \tCommonUtility commonUtil;\r\n    \r\n    \t@Autowired\r\n    \tReportMapping reportMapping;\r\n    \r\n    \t@Autowired\r\n    \tReportConfig reportConfig;\r\n    \r\n    \t@Autowired\r\n    \tJobMapping jobMap;\r\n    \r\n    \t@Autowired\r\n    \tDataIntegrationResponseBuilder responseBuilder;\r\n    \r\n    \t@Autowired\r\n    \tImportJobLauncher batchJob;\r\n    \r\n    \t@Autowired\r\n    \tWFitsPricingParser wFitsPricingParser;\r\n    \r\n    \tpublic ResponseEntity&lt;DataIntegrationResponse&gt; getReport(String jobName) throws Exception {\r\n    \r\n    \t\tHashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\r\n    \r\n    \t\tfitsParamMap = getFitsParameters(jobName);\r\n    \r\n    \t\tResponseEntity&lt;String&gt; response;\r\n    \r\n    \t\tfinal String filePath = Path.of(&quot;&quot;).toAbsolutePath().toString() + &quot;\\\\&quot;;\r\n    \r\n    \t\tfinal String baseUrl = reportConfig.getBaseURL();\r\n    \r\n    \t\tString reportURL = baseUrl + fitsParamMap.get(&quot;reportId&quot;) + &quot;?format=&quot; + OUTPUT_FILE_FORMAT;\r\n    \r\n    \t\tString reportName = fitsParamMap.get(&quot;reportName&quot;);\r\n   \r\n    \t\tlog.info(&quot;Fetching report from FITS API.&quot;);\r\n    \t\tlog.info(&quot;FITS API URL: &quot; + reportURL + &quot;.&quot;);\r\n    \r\n    \t\tresponse = proxyRestClient.callFitsApi(reportURL, commonUtil.encodedCredentials());\r\n    \r\n    \t\t/*\r\n    \t\t* ObjectMapper mapper = new ObjectMapper(); WFitsVendor[] jsonObj =\r\n    \t\t* mapper.readValue(response.getBody(), WFitsVendor[].class);\r\n    \t\t*/\r\n    \r\n    \t\tif (response != null) {\r\n    \t\t\tif (response.getStatusCodeValue() == 200 &amp;&amp; response.hasBody()) {\r\n    \t\t\t\tfileWriter.writeToFile(response.getBody(), filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT);\r\n    \r\n    \t\t\t\tif (jobName.equals(&quot;vendor&quot;)) {\r\n    \t\t\t\t\tBatchJobResponse batchJobResponse = batchJob.importFitsVendor(filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, response.getBody());\r\n    \r\n    \t\t\t\t\treturn new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(response.getStatusCode(),\r\n    \t\t\t\t\t\t\treportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, batchJobResponse.getJobName(), batchJobResponse.getJobStatus(), batchJobResponse.getJobId()),\r\n    \t\t\t\t\t\tHttpStatus.CREATED);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\n    \t\t}\r\n    \r\n    \t\treturn new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(HttpStatus.NOT_FOUND, &quot;&quot;, &quot;&quot;, &quot;&quot;, 0 L),\r\n    \t\t\tHttpStatus.NOT_FOUND);\r\n    \t}\r\n    \r\n    \tprivate HashMap&lt;String, String&gt; getFitsParameters(String jobName) {\r\n    \t\tHashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\r\n    \t\tfitsParamMap.put(&quot;reportName&quot;, reportMapping.getMappings().getOrDefault(jobMap.getMappings().get(jobName), &quot;&quot;));\r\n    \t\tfitsParamMap.put(&quot;reportId&quot;, jobMap.getMappings().getOrDefault(jobName, &quot;&quot;));\r\n    \t\treturn fitsParamMap;\r\n    \t}\r\n    }\r\n\r\n**ProxyRestClient.java**\r\n\r\n    \r\n    @Service\r\n    public class ProxyRestClient {\r\n      @Autowired\r\n      @Qualifier(&quot;externalRestTemplate&quot;)\r\n    \r\n      RestTemplate restTemplate;\r\n    \r\n      public ResponseEntity&lt;String&gt; callFitsApi(\r\n          String reportURL, String encodedCredentials)\r\n          throws JsonMappingException, JsonProcessingException {\r\n        HttpHeaders headers = new HttpHeaders();\r\n    \r\n        headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\r\n       \r\n        ResponseEntity&lt;String&gt; response = null;\r\n        ResponseEntity&lt;String&gt; responseWfits = null;\r\n    \r\n        // response = restTemplate.exchange(reportURL, HttpMethod.GET, request,\r\n        // String.class);\r\n    \r\n         responseWfits = restTemplate.exchange(https://fitsonline.trgrp.com/msmdsqa/api/report/user/5010296?format=json, HttpMethod.GET, request, String.class);\r\n    \r\n         return responseWfits;\r\n      }\r\n    }\r\n\r\n**VendorJob.java**\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @AllArgsConstructor\r\n    public class VendorJob {\r\n    \r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \r\n    \tprivate StepBuilderFactory stepBuilderFactory;\r\n    \r\n    \tprivate static final String DROP_SCRIPT = &quot;TRUNCATE TABLE MDIA.WFITS_VENDOR&quot;;\r\n    \r\n    \t@Autowired\r\n    \tprivate HikariDataSource dataSource;\r\n    \r\n    \t/*\r\n         * This is for CSV File\r\n         *\r\n    \t * @Bean\r\n    \t * @StepScope\r\n     public FlatFileItemReader&lt;WFitsVendor&gt;\r\n    \r\n    \t * VendorReader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath,\r\n    \t  @Value(&quot;#{jobParameters[&#39;jsonObj&#39;]}&quot;) String jsonObj) {\r\n         \r\n         FlatFileItemReader&lt;WFitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n    \r\n    \t itemReader.setResource(new FileSystemResource(filePath));\r\n    \t itemReader.setName(&quot;csvReader&quot;); itemReader.setLinesToSkip(1);\r\n         itemReader.setLineMapper(lineMapper());\r\n         itemReader.setRecordSeparatorPolicy(new ReaderPolicy());\r\n         return itemReader; }\r\n    \t */\r\n    \r\n    \t@Bean\r\n    \t@StepScope\r\n    \tpublic JsonItemReader&lt;WFitsVendor&gt; jsonItemReader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath,\r\n    \t\t@Value(&quot;#{jobParameters[&#39;jsonObj&#39;]}&quot;) String jsonObj) {\r\n    \r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t// configure the objectMapper as required\r\n    \t\tJacksonJsonObjectReader&lt;WFitsVendor&gt; jsonObjectReader =\r\n    \t\t\tnew JacksonJsonObjectReader&lt;&gt;(WFitsVendor.class);\r\n    \t\tjsonObjectReader.setMapper(objectMapper);\r\n    \r\n    \t\treturn new JsonItemReaderBuilder&lt;WFitsVendor&gt;()\r\n    \t\t\t.jsonObjectReader(jsonObjectReader)\r\n    \t\t\t.resource(new ByteArrayResource(jsonObj.getBytes()))\r\n    \t\t\t.name(&quot;jsonItemReader&quot;)\r\n    \t\t\t.build();\r\n    \t}\r\n    \r\n    \tprivate LineMapper&lt;WFitsVendor&gt; lineMapper() {\r\n    \r\n    \t\tWFitsVendorLineMapper&lt;WFitsVendor&gt; lineMapper = new WFitsVendorLineMapper&lt;&gt;();\r\n    \t\tDelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    \t\tlineTokenizer.setDelimiter(&quot;,&quot;);\r\n    \t\tlineTokenizer.setNames(&quot;VENDORNAME&quot;, &quot;Type&quot;, &quot;Notes&quot;);\r\n    \t\tlineTokenizer.setStrict(true);\r\n    \t\tlineTokenizer.setIncludedFields(0, 1, 2);\r\n    \t\t\r\n    \t\tBeanWrapperFieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    \t\tfieldSetMapper.setTargetType(WFitsVendor.class);\r\n    \t\tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \t\tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n    \t\treturn lineMapper;\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic VendorProcessor VendorProcessor() {\r\n    \t\treturn new VendorProcessor();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean   \r\n    \tpublic JdbcBatchItemWriter&lt;WFitsVendor&gt; VendorWriter() {\r\n    \t\tJdbcBatchItemWriter&lt;WFitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\r\n    \t\tdatabaseItemWriter.setDataSource(dataSource);\r\n    \t\tdatabaseItemWriter.setSql(\r\n    \t\t\t&quot;INSERT INTO MDIA.WFITS_VENDOR(VENDOR, VENDOR_INFO, VENDOR_TYPE, CREATED_BY) VALUES (?, ?, ?, ?)&quot;);\r\n    \r\n    \t\tItemPreparedStatementSetter&lt;WFitsVendor&gt; valueSetter = new WFitsVendorPreparedStatementSetter();\r\n    \t\tdatabaseItemWriter.setItemPreparedStatementSetter(valueSetter);\r\n    \r\n    \t\treturn databaseItemWriter;\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step loadVendorTable() {\r\n    \t\treturn stepBuilderFactory.get(&quot;load-wfitsvendor-table&quot;).&lt;WFitsVendor, WFitsVendor&gt; chunk(10000)\r\n    \t\t\t.reader(jsonItemReader(null, null)).writer(VendorWriter()).processor(VendorProcessor()).faultTolerant()\r\n    \t\t\t.taskExecutor(VendortaskExecutor()).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step truncateVendorTable() {\r\n    \t\treturn stepBuilderFactory.get(&quot;truncate-wfitsvendor-table&quot;).tasklet(truncateTableTasklet()).build();\r\n    \t}\r\n    \r\n    \tpublic Tasklet truncateTableTasklet() {\r\n    \t\treturn (contribution, chunkContext) -&gt; {\r\n    \t\t\tnew JdbcTemplate(dataSource).execute(DROP_SCRIPT);\r\n    \t\t\treturn RepeatStatus.FINISHED;\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Qualifier(&quot;VendorJob&quot;)\r\n    \tpublic Job runVendorJob() {\r\n    \t\treturn jobBuilderFactory.get(&quot;VendorJob&quot;).listener(new JobCompletionListener()).start(truncateVendorTable())\r\n    \t\t\t.next(loadVendorTable()).build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic TaskExecutor VendortaskExecutor() {\r\n     \treturn new ConcurrentTaskExecutor(Executors.newCachedThreadPool());\r\n    }\r\n    }\r\n    }\r\n\r\n**VendorLineMapper.java**\r\n\r\n    public class VendorLineMapper&lt;T&gt; implements LineMapper&lt;WFitsVendor&gt; , InitializingBean {\r\n    \r\n    \tprivate LineTokenizer tokenizer;\r\n    \r\n    \tprivate FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper;\r\n    \r\n    \t@Override\r\n    \r\n    \tpublic WFitsVendor mapLine(String line, int lineNumber) throws Exception {\r\n    \t\tWFitsVendor vr = fieldSetMapper.mapFieldSet(tokenizer.tokenize(line));\r\n    \t\t//System.out.println(line);\r\n    \t\tvr.setLineNo(lineNumber);\r\n    \t\treturn vr;\r\n    \t}\r\n    \r\n    \tpublic void setLineTokenizer(LineTokenizer tokenizer) {\r\n    \t\tthis.tokenizer = tokenizer;\r\n    \t}\r\n    \r\n    \tpublic void setFieldSetMapper(FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper) {\r\n    \t\tthis.fieldSetMapper = fieldSetMapper;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() {\r\n    \t\tAssert.notNull(tokenizer, &quot;The LineTokenizer must be set&quot;);\r\n    \t\tAssert.notNull(fieldSetMapper, &quot;The FieldSetMapper must be set&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**ReaderPolicy.java**\r\n\r\n    public class ReaderPolicy extends DefaultRecordSeparatorPolicy {\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEndOfRecord(final String line) {\r\n    \t\treturn line.trim().length() != 0 &amp;&amp; super.isEndOfRecord(line);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String postProcess(final String record) {\r\n    \r\n    \t\tif (record == null || record.trim().length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn super.postProcess(record);\r\n    \r\n    \t}\r\n\r\n**JSON Returned from API:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/74jPV.png","title":"Spring Batch - How to use JSON/CSV String object instead of Files on disk","body":"<p>I am building an Spring Batch application that loads fetches data from external API and loading it to Database. I am making a REST call to external API which API return JSON/CSV string based on request parameters(json/csv).</p>\n<p>The application currently works fine for CSV file saved in filesystem. I am trying to get rid of creating a new file and using the file as input every time. I would want to achieve the loading without having to create any file on the disk.</p>\n<p>I have googled and tried different solutions, I have replaced FlatFileItemReader with JsonItemReader.</p>\n<p>Can you please help me here.</p>\n<p><strong>ReportService.java</strong></p>\n<pre><code>@Slf4j\n@Service\npublic class ReportService {\n\n    public static final String OUTPUT_FILE_FORMAT = &quot;csv&quot;;\n\n    @Autowired\n    ProxyRestClient proxyRestClient;\n\n    @Autowired\n    FileOperations fileWriter;\n\n    @Autowired\n\n    CommonUtility commonUtil;\n\n    @Autowired\n    ReportMapping reportMapping;\n\n    @Autowired\n    ReportConfig reportConfig;\n\n    @Autowired\n    JobMapping jobMap;\n\n    @Autowired\n    DataIntegrationResponseBuilder responseBuilder;\n\n    @Autowired\n    ImportJobLauncher batchJob;\n\n    @Autowired\n    WFitsPricingParser wFitsPricingParser;\n\n    public ResponseEntity&lt;DataIntegrationResponse&gt; getReport(String jobName) throws Exception {\n\n        HashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\n\n        fitsParamMap = getFitsParameters(jobName);\n\n        ResponseEntity&lt;String&gt; response;\n\n        final String filePath = Path.of(&quot;&quot;).toAbsolutePath().toString() + &quot;\\\\&quot;;\n\n        final String baseUrl = reportConfig.getBaseURL();\n\n        String reportURL = baseUrl + fitsParamMap.get(&quot;reportId&quot;) + &quot;?format=&quot; + OUTPUT_FILE_FORMAT;\n\n        String reportName = fitsParamMap.get(&quot;reportName&quot;);\n\n        log.info(&quot;Fetching report from FITS API.&quot;);\n        log.info(&quot;FITS API URL: &quot; + reportURL + &quot;.&quot;);\n\n        response = proxyRestClient.callFitsApi(reportURL, commonUtil.encodedCredentials());\n\n        /*\n        * ObjectMapper mapper = new ObjectMapper(); WFitsVendor[] jsonObj =\n        * mapper.readValue(response.getBody(), WFitsVendor[].class);\n        */\n\n        if (response != null) {\n            if (response.getStatusCodeValue() == 200 &amp;&amp; response.hasBody()) {\n                fileWriter.writeToFile(response.getBody(), filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT);\n\n                if (jobName.equals(&quot;vendor&quot;)) {\n                    BatchJobResponse batchJobResponse = batchJob.importFitsVendor(filePath + reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, response.getBody());\n\n                    return new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(response.getStatusCode(),\n                            reportName + &quot;.&quot; + OUTPUT_FILE_FORMAT, batchJobResponse.getJobName(), batchJobResponse.getJobStatus(), batchJobResponse.getJobId()),\n                        HttpStatus.CREATED);\n                }\n            }\n\n        }\n\n        return new ResponseEntity&lt;&gt;(responseBuilder.buildResponse(HttpStatus.NOT_FOUND, &quot;&quot;, &quot;&quot;, &quot;&quot;, 0 L),\n            HttpStatus.NOT_FOUND);\n    }\n\n    private HashMap&lt;String, String&gt; getFitsParameters(String jobName) {\n        HashMap&lt;String, String&gt; fitsParamMap = new HashMap&lt;String, String&gt;();\n        fitsParamMap.put(&quot;reportName&quot;, reportMapping.getMappings().getOrDefault(jobMap.getMappings().get(jobName), &quot;&quot;));\n        fitsParamMap.put(&quot;reportId&quot;, jobMap.getMappings().getOrDefault(jobName, &quot;&quot;));\n        return fitsParamMap;\n    }\n}\n</code></pre>\n<p><strong>ProxyRestClient.java</strong></p>\n<pre><code>@Service\npublic class ProxyRestClient {\n  @Autowired\n  @Qualifier(&quot;externalRestTemplate&quot;)\n\n  RestTemplate restTemplate;\n\n  public ResponseEntity&lt;String&gt; callFitsApi(\n      String reportURL, String encodedCredentials)\n      throws JsonMappingException, JsonProcessingException {\n    HttpHeaders headers = new HttpHeaders();\n\n    headers.add(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\n   \n    ResponseEntity&lt;String&gt; response = null;\n    ResponseEntity&lt;String&gt; responseWfits = null;\n\n    // response = restTemplate.exchange(reportURL, HttpMethod.GET, request,\n    // String.class);\n\n     responseWfits = restTemplate.exchange(https://fitsonline.trgrp.com/msmdsqa/api/report/user/5010296?format=json, HttpMethod.GET, request, String.class);\n\n     return responseWfits;\n  }\n}\n</code></pre>\n<p><strong>VendorJob.java</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@AllArgsConstructor\npublic class VendorJob {\n\n    private JobBuilderFactory jobBuilderFactory;\n\n    private StepBuilderFactory stepBuilderFactory;\n\n    private static final String DROP_SCRIPT = &quot;TRUNCATE TABLE MDIA.WFITS_VENDOR&quot;;\n\n    @Autowired\n    private HikariDataSource dataSource;\n\n    /*\n     * This is for CSV File\n     *\n     * @Bean\n     * @StepScope\n public FlatFileItemReader&lt;WFitsVendor&gt;\n\n     * VendorReader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath,\n      @Value(&quot;#{jobParameters['jsonObj']}&quot;) String jsonObj) {\n     \n     FlatFileItemReader&lt;WFitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n\n     itemReader.setResource(new FileSystemResource(filePath));\n     itemReader.setName(&quot;csvReader&quot;); itemReader.setLinesToSkip(1);\n     itemReader.setLineMapper(lineMapper());\n     itemReader.setRecordSeparatorPolicy(new ReaderPolicy());\n     return itemReader; }\n     */\n\n    @Bean\n    @StepScope\n    public JsonItemReader&lt;WFitsVendor&gt; jsonItemReader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath,\n        @Value(&quot;#{jobParameters['jsonObj']}&quot;) String jsonObj) {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        // configure the objectMapper as required\n        JacksonJsonObjectReader&lt;WFitsVendor&gt; jsonObjectReader =\n            new JacksonJsonObjectReader&lt;&gt;(WFitsVendor.class);\n        jsonObjectReader.setMapper(objectMapper);\n\n        return new JsonItemReaderBuilder&lt;WFitsVendor&gt;()\n            .jsonObjectReader(jsonObjectReader)\n            .resource(new ByteArrayResource(jsonObj.getBytes()))\n            .name(&quot;jsonItemReader&quot;)\n            .build();\n    }\n\n    private LineMapper&lt;WFitsVendor&gt; lineMapper() {\n\n        WFitsVendorLineMapper&lt;WFitsVendor&gt; lineMapper = new WFitsVendorLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setDelimiter(&quot;,&quot;);\n        lineTokenizer.setNames(&quot;VENDORNAME&quot;, &quot;Type&quot;, &quot;Notes&quot;);\n        lineTokenizer.setStrict(true);\n        lineTokenizer.setIncludedFields(0, 1, 2);\n        \n        BeanWrapperFieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(WFitsVendor.class);\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n\n    }\n\n    @Bean\n    public VendorProcessor VendorProcessor() {\n        return new VendorProcessor();\n\n    }\n\n    @Bean   \n    public JdbcBatchItemWriter&lt;WFitsVendor&gt; VendorWriter() {\n        JdbcBatchItemWriter&lt;WFitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\n        databaseItemWriter.setDataSource(dataSource);\n        databaseItemWriter.setSql(\n            &quot;INSERT INTO MDIA.WFITS_VENDOR(VENDOR, VENDOR_INFO, VENDOR_TYPE, CREATED_BY) VALUES (?, ?, ?, ?)&quot;);\n\n        ItemPreparedStatementSetter&lt;WFitsVendor&gt; valueSetter = new WFitsVendorPreparedStatementSetter();\n        databaseItemWriter.setItemPreparedStatementSetter(valueSetter);\n\n        return databaseItemWriter;\n\n    }\n\n    @Bean\n    public Step loadVendorTable() {\n        return stepBuilderFactory.get(&quot;load-wfitsvendor-table&quot;).&lt;WFitsVendor, WFitsVendor&gt; chunk(10000)\n            .reader(jsonItemReader(null, null)).writer(VendorWriter()).processor(VendorProcessor()).faultTolerant()\n            .taskExecutor(VendortaskExecutor()).build();\n    }\n\n    @Bean\n    public Step truncateVendorTable() {\n        return stepBuilderFactory.get(&quot;truncate-wfitsvendor-table&quot;).tasklet(truncateTableTasklet()).build();\n    }\n\n    public Tasklet truncateTableTasklet() {\n        return (contribution, chunkContext) -&gt; {\n            new JdbcTemplate(dataSource).execute(DROP_SCRIPT);\n            return RepeatStatus.FINISHED;\n        };\n    }\n\n    @Bean\n    @Qualifier(&quot;VendorJob&quot;)\n    public Job runVendorJob() {\n        return jobBuilderFactory.get(&quot;VendorJob&quot;).listener(new JobCompletionListener()).start(truncateVendorTable())\n            .next(loadVendorTable()).build();\n    }\n\n    @Bean\n    public TaskExecutor VendortaskExecutor() {\n    return new ConcurrentTaskExecutor(Executors.newCachedThreadPool());\n}\n}\n}\n</code></pre>\n<p><strong>VendorLineMapper.java</strong></p>\n<pre><code>public class VendorLineMapper&lt;T&gt; implements LineMapper&lt;WFitsVendor&gt; , InitializingBean {\n\n    private LineTokenizer tokenizer;\n\n    private FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper;\n\n    @Override\n\n    public WFitsVendor mapLine(String line, int lineNumber) throws Exception {\n        WFitsVendor vr = fieldSetMapper.mapFieldSet(tokenizer.tokenize(line));\n        //System.out.println(line);\n        vr.setLineNo(lineNumber);\n        return vr;\n    }\n\n    public void setLineTokenizer(LineTokenizer tokenizer) {\n        this.tokenizer = tokenizer;\n    }\n\n    public void setFieldSetMapper(FieldSetMapper&lt;WFitsVendor&gt; fieldSetMapper) {\n        this.fieldSetMapper = fieldSetMapper;\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n        Assert.notNull(tokenizer, &quot;The LineTokenizer must be set&quot;);\n        Assert.notNull(fieldSetMapper, &quot;The FieldSetMapper must be set&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>ReaderPolicy.java</strong></p>\n<pre><code>public class ReaderPolicy extends DefaultRecordSeparatorPolicy {\n\n    @Override\n    public boolean isEndOfRecord(final String line) {\n        return line.trim().length() != 0 &amp;&amp; super.isEndOfRecord(line);\n    }\n\n    @Override\n    public String postProcess(final String record) {\n\n        if (record == null || record.trim().length() == 0) {\n            return null;\n        }\n        return super.postProcess(record);\n\n    }\n</code></pre>\n<p><strong>JSON Returned from API:</strong>\n<a href=\"https://i.stack.imgur.com/74jPV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74jPV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mysql"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1664977034,"post_id":73961038,"comment_id":130591549,"body_markdown":"Don&#39;t use JDBC from Android, use a web service to mediate between your Android app and the database. In any case, without a [mre] and the logcat/exception stacktrace, we can&#39;t really help you.","body":"Don&#39;t use JDBC from Android, use a web service to mediate between your Android app and the database. In any case, without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the logcat/exception stacktrace, we can&#39;t really help you."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664983716,"post_id":73961038,"comment_id":130594329,"body_markdown":"Agreed, please [do not use JDBC from a mobile device](https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android).","body":"Agreed, please <a href=\"https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android\">do not use JDBC from a mobile device</a>."}],"owner":{"display_name":"user20113308"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664976992,"creation_date":1664976174,"question_id":73961038,"body_markdown":"I am new with Android Studio. My aim is really basic but it was struggled me too much. When I move my code with normal main function (with Java Sysout print method). But when the order is Android Studio, as soon as I run the code, my app suddenly stopped.\r\n\r\nBelow is my Android Studio code that you will see.\r\n\r\n```java\r\npackage com.database.myapplication;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.os.StrictMode;\r\nimport android.widget.TextView;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.Statement;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        testDB(&quot;onur&quot;);\r\n    }\r\n    public void testDB(String name) {\r\n        TextView tv = (TextView)this.findViewById(R.id.denemetext);\r\n        try {\r\n            StrictMode.ThreadPolicy policy =\r\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(policy);\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(\r\n                    &quot;jdbc:mysql://192.168.56.1:3306/giris_sistemi&quot;,&quot;onur&quot;,&quot;12345&quot;);\r\n            String result = &quot;Database connection success\\n&quot;;\r\n            Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(&quot;select *from kisiler where kisi_name like &#39;&quot;+name+&quot;&#39;&quot;);\r\n            ResultSetMetaData rsmd = rs.getMetaData();\r\n            while(rs.next()) {\r\n                result += rsmd.getColumnName(1) + &quot;: &quot; + rs.getString(1) + &quot;\\n&quot;;\r\n                result += rsmd.getColumnName(2) + &quot;: &quot; + rs.getInt(2) + &quot;\\n&quot;;\r\n                result += rsmd.getColumnName(3) + &quot;: &quot; + rs.getString(3) + &quot;\\n&quot;;\r\n            }\r\n            tv.setText(result);\r\n        }\r\n        catch(Exception e) {\r\n            e.printStackTrace();\r\n            tv.setText(e.toString());\r\n        }   }}\r\n```\r\n\r\nAnd some part of my AndroidManifest.xml file. In this file, when I establish, the internet connection&#39;s permissions, program can not start, and suddenly close.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_LOCATION_EXTRA_COMMANDS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.example.towntour.permission.MAPS_RECEIVE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nIf you can help me my friends, ı will be verry happy with this.","title":"Android Studio can not connect and MYSQL keep stopping due to internet connection permissions","body":"<p>I am new with Android Studio. My aim is really basic but it was struggled me too much. When I move my code with normal main function (with Java Sysout print method). But when the order is Android Studio, as soon as I run the code, my app suddenly stopped.</p>\n<p>Below is my Android Studio code that you will see.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.database.myapplication;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.os.StrictMode;\nimport android.widget.TextView;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.Statement;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        testDB(&quot;onur&quot;);\n    }\n    public void testDB(String name) {\n        TextView tv = (TextView)this.findViewById(R.id.denemetext);\n        try {\n            StrictMode.ThreadPolicy policy =\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(\n                    &quot;jdbc:mysql://192.168.56.1:3306/giris_sistemi&quot;,&quot;onur&quot;,&quot;12345&quot;);\n            String result = &quot;Database connection success\\n&quot;;\n            Statement st = con.createStatement();\n            ResultSet rs = st.executeQuery(&quot;select *from kisiler where kisi_name like '&quot;+name+&quot;'&quot;);\n            ResultSetMetaData rsmd = rs.getMetaData();\n            while(rs.next()) {\n                result += rsmd.getColumnName(1) + &quot;: &quot; + rs.getString(1) + &quot;\\n&quot;;\n                result += rsmd.getColumnName(2) + &quot;: &quot; + rs.getInt(2) + &quot;\\n&quot;;\n                result += rsmd.getColumnName(3) + &quot;: &quot; + rs.getString(3) + &quot;\\n&quot;;\n            }\n            tv.setText(result);\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n            tv.setText(e.toString());\n        }   }}\n</code></pre>\n<p>And some part of my AndroidManifest.xml file. In this file, when I establish, the internet connection's permissions, program can not start, and suddenly close.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_LOCATION_EXTRA_COMMANDS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.example.towntour.permission.MAPS_RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>If you can help me my friends, ı will be verry happy with this.</p>\n"},{"tags":["java","windows","service","jpackage","service-installer"],"answers":[{"tags":[],"owner":{"account_id":26527905,"reputation":81,"user_id":20160583,"display_name":"NassimBtk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664976632,"creation_date":1664976632,"answer_id":73961134,"question_id":73951976,"body_markdown":"I&#39;ve been able to manage this issue by configuring the `--resource-dir` option to specify the NSSM resource path, and I have renamed `nssm.exe` to `service-installer.exe`.\r\n\r\n```shell\r\n&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --resource-dir &quot;C:\\Program Files\\nssm-2.24\\win64&quot; --launcher-as-service\r\n```","title":"How to create launcher as windows service using jpackage (Java 19)","body":"<p>I've been able to manage this issue by configuring the <code>--resource-dir</code> option to specify the NSSM resource path, and I have renamed <code>nssm.exe</code> to <code>service-installer.exe</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --resource-dir &quot;C:\\Program Files\\nssm-2.24\\win64&quot; --launcher-as-service\n</code></pre>\n"}],"owner":{"account_id":26527905,"reputation":81,"user_id":20160583,"display_name":"NassimBtk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73961134,"answer_count":1,"score":4,"last_activity_date":1664976632,"creation_date":1664907044,"question_id":73951976,"body_markdown":"I want to create an installer with `jpackage` that registers my java application launcher as a Windows service.\r\n\r\nI have installed WiX Toolset v3.11.2.\r\n\r\nI have tried to create my installer by specifying the [--launcher-as-service](https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#option-launcher-as-service) flag which is supported in Java 19 [JDK-8275062](https://bugs.openjdk.org/browse/JDK-8275062) but I am getting the following error:\r\n\r\n```shell\r\n&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --launcher-as-service\r\nBundler MSI Installer Package failed because of java.lang.NullPointerException: Cannot invoke &quot;jdk.jpackage.internal.InstallableFile.srcPath()&quot; because &quot;this.serviceInstaller&quot; is null\r\n```\r\n\r\nThe documentation mentions a certain [service installer executable](https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#resource-directory-files-considered-only-when-building-windows-msiexe-installer) (`service-installer.exe`) as a resource to consider. Any idea where I can find this executable and what would be the best thing to do?","title":"How to create launcher as windows service using jpackage (Java 19)","body":"<p>I want to create an installer with <code>jpackage</code> that registers my java application launcher as a Windows service.</p>\n<p>I have installed WiX Toolset v3.11.2.</p>\n<p>I have tried to create my installer by specifying the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#option-launcher-as-service\" rel=\"nofollow noreferrer\">--launcher-as-service</a> flag which is supported in Java 19 <a href=\"https://bugs.openjdk.org/browse/JDK-8275062\" rel=\"nofollow noreferrer\">JDK-8275062</a> but I am getting the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; jpackage --type msi -i . --main-jar my-app.jar --name my-app --app-version &quot;1.0.00&quot; --dest . --win-shortcut --win-menu --launcher-as-service\nBundler MSI Installer Package failed because of java.lang.NullPointerException: Cannot invoke &quot;jdk.jpackage.internal.InstallableFile.srcPath()&quot; because &quot;this.serviceInstaller&quot; is null\n</code></pre>\n<p>The documentation mentions a certain <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html#resource-directory-files-considered-only-when-building-windows-msiexe-installer\" rel=\"nofollow noreferrer\">service installer executable</a> (<code>service-installer.exe</code>) as a resource to consider. Any idea where I can find this executable and what would be the best thing to do?</p>\n"},{"tags":["java","swing","jbutton","paintcomponent","settext"],"comments":[{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1342522396,"post_id":11520003,"comment_id":15226573,"body_markdown":"It&#39;s not the setText that does work, it is you that is painting over the the text with your override which hides the text.","body":"It&#39;s not the setText that does work, it is you that is painting over the the text with your override which hides the text."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1342545456,"post_id":11520003,"comment_id":15237580,"body_markdown":"Simply do one thingy, send the `Title` that you want as a text of a `JButton` to your `GradientButton` Class&#39;s `Constructor`, and write `super(title)` as the first line of the `Constructor`, that will do :-) Here is one related [example](http://stackoverflow.com/a/11490905/1057230)","body":"Simply do one thingy, send the <code>Title</code> that you want as a text of a <code>JButton</code> to your <code>GradientButton</code> Class&#39;s <code>Constructor</code>, and write <code>super(title)</code> as the first line of the <code>Constructor</code>, that will do :-) Here is one related <a href=\"http://stackoverflow.com/a/11490905/1057230\">example</a>"},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342592261,"post_id":11520003,"comment_id":15250739,"body_markdown":"It didn&#39;t work, I can&#39;t see text that way","body":"It didn&#39;t work, I can&#39;t see text that way"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1342637915,"post_id":11520003,"comment_id":15271851,"body_markdown":"super.paintComponent(), has to be the first line of the respective method, not the last :( Do not make calls to paintComponent() explicitly, that is not meant for developers to call, let Swing worry about that part, simply call repaint() instead :-)","body":"super.paintComponent(), has to be the first line of the respective method, not the last :( Do not make calls to paintComponent() explicitly, that is not meant for developers to call, let Swing worry about that part, simply call repaint() instead :-)"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1342638313,"post_id":11520003,"comment_id":15272020,"body_markdown":"I hope you know the answer to the question, Why you writing, What you writing, in your code ?","body":"I hope you know the answer to the question, Why you writing, What you writing, in your code ?"},{"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"score":0,"creation_date":1342678402,"post_id":11520003,"comment_id":15281882,"body_markdown":"Thank you, now everything seems fine :) I&#39;m new to Swing, and haven&#39;t yet know it to a nicety. As for the super.paintComponent() - in my case it does should be the last line - I found this in some answers here. When I call it from the first line, I overlay button&#39;s title by gradient then.","body":"Thank you, now everything seems fine :) I&#39;m new to Swing, and haven&#39;t yet know it to a nicety. As for the super.paintComponent() - in my case it does should be the last line - I found this in some answers here. When I call it from the first line, I overlay button&#39;s title by gradient then."}],"answers":[{"tags":[],"owner":{"account_id":1477139,"reputation":21,"user_id":1387274,"display_name":"Baptiste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342526055,"creation_date":1342518743,"answer_id":11520045,"question_id":11520003,"body_markdown":"In a logic case you don&#39;t need to override the `setText()` but you can try it.","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>In a logic case you don't need to override the <code>setText()</code> but you can try it.</p>\n"},{"tags":[],"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342518825,"creation_date":1342518825,"answer_id":11520064,"question_id":11520003,"body_markdown":"I don&#39;t see where you call setText(), if you attempt to do it AFTER the component was painted then you will need to call rePaint() for any graphical changes to have visible effect.\r\nAnd no, you don&#39;t meed to override setText(), what will be the point?","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>I don't see where you call setText(), if you attempt to do it AFTER the component was painted then you will need to call rePaint() for any graphical changes to have visible effect.\nAnd no, you don't meed to override setText(), what will be the point?</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342519142,"creation_date":1342519142,"answer_id":11520143,"question_id":11520003,"body_markdown":"- you can to change vlaues in the `UIManager`, in the case that every `JButtons` will have got the same color theme\r\n\r\n- then there no issue with rest of methods implemnted in the API\r\n\r\n- you can to override `BasicButtonUI`, example for [MetalButtonUI][1]\r\n\r\ncode for `UIManager`\r\n\r\n    import java.util.List;\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.ColorUIResource;\r\n    \r\n    public class GradieltButton {\r\n    \r\n        public static void main(String[] args) {\r\n            Object grad = UIManager.get(&quot;Button.gradient&quot;);\r\n            List gradient;\r\n            if (grad instanceof List) {\r\n                gradient = (List) grad;\r\n                System.out.println(gradient.get(0));\r\n                System.out.println(gradient.get(1));\r\n                System.out.println(gradient.get(2));\r\n                System.out.println(gradient.get(3));\r\n                System.out.println(gradient.get(4));\r\n                //gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\r\n                //gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\r\n                //gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\r\n                gradient.set(2, new ColorUIResource(190, 230, 240));\r\n                gradient.set(3, new ColorUIResource(240, 240, 240));\r\n                gradient.set(4, new ColorUIResource(180, 200, 220));\r\n                //UIManager.put(&quot;Button.background&quot;, Color.pink);\r\n            }\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new GradieltButton().makeUI();\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void makeUI() {\r\n            JButton button = new JButton(&quot;Click&quot;);\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(button);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5755124/714968","title":"Custom JButton: setText doesn&#39;t have effect","body":"<ul>\n<li><p>you can to change vlaues in the <code>UIManager</code>, in the case that every <code>JButtons</code> will have got the same color theme</p></li>\n<li><p>then there no issue with rest of methods implemnted in the API</p></li>\n<li><p>you can to override <code>BasicButtonUI</code>, example for <a href=\"https://stackoverflow.com/a/5755124/714968\">MetalButtonUI</a></p></li>\n</ul>\n\n<p>code for <code>UIManager</code></p>\n\n<pre><code>import java.util.List;\nimport javax.swing.*;\nimport javax.swing.plaf.ColorUIResource;\n\npublic class GradieltButton {\n\n    public static void main(String[] args) {\n        Object grad = UIManager.get(\"Button.gradient\");\n        List gradient;\n        if (grad instanceof List) {\n            gradient = (List) grad;\n            System.out.println(gradient.get(0));\n            System.out.println(gradient.get(1));\n            System.out.println(gradient.get(2));\n            System.out.println(gradient.get(3));\n            System.out.println(gradient.get(4));\n            //gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\n            //gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\n            //gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\n            gradient.set(2, new ColorUIResource(190, 230, 240));\n            gradient.set(3, new ColorUIResource(240, 240, 240));\n            gradient.set(4, new ColorUIResource(180, 200, 220));\n            //UIManager.put(\"Button.background\", Color.pink);\n        }\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new GradieltButton().makeUI();\n            }\n        });\n    }\n\n    public void makeUI() {\n        JButton button = new JButton(\"Click\");\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(button);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1342593049,"creation_date":1342520986,"answer_id":11520640,"question_id":11520003,"body_markdown":"The main reason setText isn&#39;t working is because your painting over it\r\n\r\n    g.fillRect(0, 0, w, h);\r\n\r\nYou&#39;ll find that he ui is rendering the text in `super.paintComponent(g)` call, then you&#39;re painting over it\r\n\r\n**UPDATE**\r\n\r\nI used the following code to show some tabs and couldn&#39;t find anything wrong...\r\n\r\npackage test;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridBagLayout;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.ColorUIResource;\r\n\r\npublic class TestButton {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tObject grad = UIManager.get(&quot;Button.gradient&quot;);\r\n\t\tList gradient;\r\n\t\tif (grad instanceof List) {\r\n\t\t\tgradient = (List) grad;\r\n\t\t\tSystem.out.println(gradient.get(0));\r\n\t\t\tSystem.out.println(gradient.get(1));\r\n\t\t\tSystem.out.println(gradient.get(2));\r\n\t\t\tSystem.out.println(gradient.get(3));\r\n\t\t\tSystem.out.println(gradient.get(4));\r\n\t\t\t//gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\r\n\t\t\t//gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\r\n\t\t\t//gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\r\n\t\t\tgradient.set(2, new ColorUIResource(190, 230, 240));\r\n\t\t\tgradient.set(3, new ColorUIResource(240, 240, 240));\r\n\t\t\tgradient.set(4, new ColorUIResource(180, 200, 220));\r\n\t\t\t//UIManager.put(&quot;Button.background&quot;, Color.pink);\r\n\t\t}\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tnew TestButton().makeUI();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic void makeUI() {\r\n\t\tJButton button = new JButton(&quot;Click&quot;);\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\t\r\n\t\tJTabbedPane tab = new JTabbedPane();\r\n\t\ttab.add(&quot;Help&quot;, createPane(1));\r\n\t\ttab.add(&quot;Help&quot;, createPane(2));\r\n\t\ttab.add(&quot;Help&quot;, createPane(3));\r\n\t\ttab.add(&quot;Help&quot;, createPane(4));\r\n\t\ttab.add(&quot;Help&quot;, createPane(5));\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(tab);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tprotected JPanel createPane(int index) {\r\n\t\t\r\n\t\tJPanel panel = new JPanel(new GridBagLayout());\r\n\t\tpanel.add(new JButton(&quot;Hello &quot; + index));\r\n\t\t\r\n\t\treturn panel;\r\n\t\t\r\n\t}\r\n\t\r\n    }\r\n\r\n","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>The main reason setText isn't working is because your painting over it</p>\n\n<pre><code>g.fillRect(0, 0, w, h);\n</code></pre>\n\n<p>You'll find that he ui is rendering the text in <code>super.paintComponent(g)</code> call, then you're painting over it</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I used the following code to show some tabs and couldn't find anything wrong...</p>\n\n<p>package test;</p>\n\n<p>import java.awt.BorderLayout;\nimport java.awt.GridBagLayout;\nimport java.util.List;\nimport javax.swing.*;\nimport javax.swing.plaf.ColorUIResource;</p>\n\n<p>public class TestButton {</p>\n\n<pre><code>public static void main(String[] args) {\n    Object grad = UIManager.get(\"Button.gradient\");\n    List gradient;\n    if (grad instanceof List) {\n        gradient = (List) grad;\n        System.out.println(gradient.get(0));\n        System.out.println(gradient.get(1));\n        System.out.println(gradient.get(2));\n        System.out.println(gradient.get(3));\n        System.out.println(gradient.get(4));\n        //gradient.set(2, new ColorUIResource(221, 232, 243));//origal Color\n        //gradient.set(2, new ColorUIResource(255, 255, 255));//origal Color\n        //gradient.set(2, new ColorUIResource(184, 207, 229));//origal Color\n        gradient.set(2, new ColorUIResource(190, 230, 240));\n        gradient.set(3, new ColorUIResource(240, 240, 240));\n        gradient.set(4, new ColorUIResource(180, 200, 220));\n        //UIManager.put(\"Button.background\", Color.pink);\n    }\n    SwingUtilities.invokeLater(new Runnable() {\n\n        @Override\n        public void run() {\n            new TestButton().makeUI();\n        }\n    });\n}\n\npublic void makeUI() {\n    JButton button = new JButton(\"Click\");\n    JFrame frame = new JFrame();\n    frame.setLayout(new BorderLayout());\n\n    JTabbedPane tab = new JTabbedPane();\n    tab.add(\"Help\", createPane(1));\n    tab.add(\"Help\", createPane(2));\n    tab.add(\"Help\", createPane(3));\n    tab.add(\"Help\", createPane(4));\n    tab.add(\"Help\", createPane(5));\n\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.add(tab);\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n}\n\nprotected JPanel createPane(int index) {\n\n    JPanel panel = new JPanel(new GridBagLayout());\n    panel.add(new JButton(\"Hello \" + index));\n\n    return panel;\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18721194,"reputation":1,"user_id":13649001,"display_name":"Radouan El ouardi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664976259,"creation_date":1664976259,"answer_id":73961056,"question_id":11520003,"body_markdown":"you should add a constructor with super(label).\r\n\r\n    public DarkGradientButton(String label) { super(label)}\r\n","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>you should add a constructor with super(label).</p>\n<pre><code>public DarkGradientButton(String label) { super(label)}\n</code></pre>\n"}],"owner":{"account_id":1381887,"reputation":783,"user_id":1314695,"accept_rate":78,"display_name":"Natalia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11520640,"answer_count":5,"score":1,"last_activity_date":1664976259,"creation_date":1342518567,"question_id":11520003,"body_markdown":"I have custom JButton class with gradient background and rounded corners. Should I override setText() or what should I do to display text upon it? setText(&quot;text&quot;) has no effect.\r\n\r\nUPD: I&#39;ve tried setContentAreaFilled(false), like MadProgrammer suggested, and it solved this problem, but another appeared. I have such buttons on different tabs, and when they are repainted, they appear for some milliseconds like they all were at the same tab. Updated code is here:\r\n\r\n\r\n    public class DarkGradientButton extends JButton {\r\n    private Color startColor = new Color(178, 178, 178);\r\n    private Color endColor = new Color(131, 131, 131);\r\n    \r\n    private Color disstartColor = new Color(252, 252, 252);\r\n    private Color disendColor = new Color(221, 221, 221);\r\n    \r\n    private Color enstartColor = new Color(178, 178, 178);\r\n    private Color enendColor = new Color(131, 131, 131);\r\n    \r\n    public DarkGradientButton(String text, ImageIcon ii) {\r\n        super(text, ii);\r\n        this.setContentAreaFilled(false);\r\n    }\r\n    \r\n    public DarkGradientButton() {\r\n        super();\r\n        this.setContentAreaFilled(false);\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent( Graphics g )\r\n    {\r\n        g.setColor(new Color(246,250,245));        \r\n        int h = getHeight();\r\n        int w = getWidth();\r\n        GradientPaint gradientPaint = new GradientPaint( 0 , 0 , startColor , 0 , h , endColor );\r\n        int[] x = {0, 1, w-1, w, w,   w-1, w-2, 2,   1, 0};\r\n        int[] y = {1, 0, 0,   1, h-3, h-2, h-1, h-1, h-2, h-3};\r\n        Graphics2D graphics2D = (Graphics2D)g;\r\n        graphics2D.setPaint( gradientPaint );\r\n        graphics2D.fillPolygon(x, y, x.length);    \r\n        graphics2D.setColor(this.getForeground());\r\n        super.paintComponent( g );\r\n    }\r\n\r\n    \r\n    public void makeDisable() {\r\n        startColor = disstartColor;\r\n        endColor = disendColor;        \r\n        Graphics g = this.getGraphics();\r\n        paintComponent(g);\r\n        this.repaint();\r\n    }\r\n    \r\n    public void makeEnable() {\r\n        startColor = enstartColor;\r\n        endColor = enendColor;        \r\n        Graphics g = this.getGraphics();\r\n        paintComponent(g);\r\n        this.repaint();\r\n    }\r\n    }\r\n\r\n&lt;br&gt;\r\nButtons on tabs (that is what Netbeans generated for me):\r\n\r\n    callStartButton = new gui.DarkGradientButton(language[25], new ImageIcon(&quot;pic\\\\call-start.png&quot;));\r\n\r\n    callStartButton.setBorder(null);\r\n        callStartButton.setForeground(new java.awt.Color(255, 255, 255));\r\n        callStartButton.setFont(new java.awt.Font(&quot;Arial&quot;, 1, 12)); // NOI18N\r\n        callStartButton.setPreferredSize(new java.awt.Dimension(95, 23));\r\n        callStartButton.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                callStartButtonActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n\r\n    org.jdesktop.layout.GroupLayout callPanelLayout = new org.jdesktop.layout.GroupLayout(callPanel);\r\n        callPanel.setLayout(callPanelLayout);\r\n        callPanelLayout.setHorizontalGroup(\r\n            callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(callPanelLayout.createSequentialGroup()\r\n                .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(callPanelLayout.createSequentialGroup()\r\n                        .add(19, 19, 19)\r\n                        .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\r\n                        .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                    .add(callPanelLayout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .add(numberLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 63, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\r\n                        .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 128, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callPanelLayout.createSequentialGroup()\r\n                                .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\r\n                                .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 89, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\r\n                    .add(callPanelLayout.createSequentialGroup()\r\n                        .add(25, 25, 25)\r\n                        .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 190, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(14, Short.MAX_VALUE))\r\n        );\r\n\r\n\r\n    callPanelLayout.setVerticalGroup(\r\n            callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(callPanelLayout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\r\n                    .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(numberLabel))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\r\n                .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 14, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                .add(18, 18, 18)\r\n                .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\r\n                    .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 8, Short.MAX_VALUE)\r\n                .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                .add(13, 13, 13))\r\n        );\r\n\r\n    org.jdesktop.layout.GroupLayout testPanelLayout = new org.jdesktop.layout.GroupLayout(testPanel);\r\n        testPanel.setLayout(testPanelLayout);\r\n        testPanelLayout.setHorizontalGroup(\r\n            testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(testPanelLayout.createSequentialGroup()\r\n                .add(8, 8, 8)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                            .add(ascii, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                        .add(0, 0, 0)\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                            .add(hex, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                            .add(jScrollPane9)))\r\n                    .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(testPanelLayout.createSequentialGroup()\r\n                                .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                                .add(0, 0, 0)\r\n                                .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                            .add(testPanelLayout.createSequentialGroup()\r\n                                .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                                .add(0, 0, 0)\r\n                                .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                        .add(0, 0, 0)\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                        .add(modemModelPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                    .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                    .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                .add(17, 17, Short.MAX_VALUE))\r\n            .add(testPanelLayout.createSequentialGroup()\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\r\n                        .add(10, 10, 10)\r\n                        .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 117, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(309, 309, 309)\r\n                        .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, Short.MAX_VALUE)))\r\n                .addContainerGap())\r\n        );\r\n        testPanelLayout.setVerticalGroup(\r\n            testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n            .add(testPanelLayout.createSequentialGroup()\r\n                .add(15, 15, 15)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\r\n                            .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                        .add(22, 22, 22)\r\n                        .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\r\n                            .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(jScrollPane9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                        .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                            .add(hex, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                            .add(org.jdesktop.layout.GroupLayout.TRAILING, ascii, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(modemModelPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .add(0, 0, 0)\r\n                        .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\r\n                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\r\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\r\n                    .add(testPanelLayout.createSequentialGroup()\r\n                        .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\r\n                    .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\r\n                        .add(0, 34, Short.MAX_VALUE)\r\n                        .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 61, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\r\n                        .addContainerGap())))\r\n        );\r\n\r\n        jTabbedPane1.addTab(&quot;tab1&quot;, testPanel);\r\n\r\n    jLayeredPane1.add(jTabbedPane1, javax.swing.JLayeredPane.DEFAULT_LAYER);\r\n        jTabbedPane1.getAccessibleContext().setAccessibleName(&quot;&quot;);\r\n\r\n        getContentPane().add(jLayeredPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 5, -1, 660));","title":"Custom JButton: setText doesn&#39;t have effect","body":"<p>I have custom JButton class with gradient background and rounded corners. Should I override setText() or what should I do to display text upon it? setText(\"text\") has no effect.</p>\n\n<p>UPD: I've tried setContentAreaFilled(false), like MadProgrammer suggested, and it solved this problem, but another appeared. I have such buttons on different tabs, and when they are repainted, they appear for some milliseconds like they all were at the same tab. Updated code is here:</p>\n\n<pre><code>public class DarkGradientButton extends JButton {\nprivate Color startColor = new Color(178, 178, 178);\nprivate Color endColor = new Color(131, 131, 131);\n\nprivate Color disstartColor = new Color(252, 252, 252);\nprivate Color disendColor = new Color(221, 221, 221);\n\nprivate Color enstartColor = new Color(178, 178, 178);\nprivate Color enendColor = new Color(131, 131, 131);\n\npublic DarkGradientButton(String text, ImageIcon ii) {\n    super(text, ii);\n    this.setContentAreaFilled(false);\n}\n\npublic DarkGradientButton() {\n    super();\n    this.setContentAreaFilled(false);\n}\n\n@Override\nprotected void paintComponent( Graphics g )\n{\n    g.setColor(new Color(246,250,245));        \n    int h = getHeight();\n    int w = getWidth();\n    GradientPaint gradientPaint = new GradientPaint( 0 , 0 , startColor , 0 , h , endColor );\n    int[] x = {0, 1, w-1, w, w,   w-1, w-2, 2,   1, 0};\n    int[] y = {1, 0, 0,   1, h-3, h-2, h-1, h-1, h-2, h-3};\n    Graphics2D graphics2D = (Graphics2D)g;\n    graphics2D.setPaint( gradientPaint );\n    graphics2D.fillPolygon(x, y, x.length);    \n    graphics2D.setColor(this.getForeground());\n    super.paintComponent( g );\n}\n\n\npublic void makeDisable() {\n    startColor = disstartColor;\n    endColor = disendColor;        \n    Graphics g = this.getGraphics();\n    paintComponent(g);\n    this.repaint();\n}\n\npublic void makeEnable() {\n    startColor = enstartColor;\n    endColor = enendColor;        \n    Graphics g = this.getGraphics();\n    paintComponent(g);\n    this.repaint();\n}\n}\n</code></pre>\n\n<p><br>\nButtons on tabs (that is what Netbeans generated for me):</p>\n\n<pre><code>callStartButton = new gui.DarkGradientButton(language[25], new ImageIcon(\"pic\\\\call-start.png\"));\n\ncallStartButton.setBorder(null);\n    callStartButton.setForeground(new java.awt.Color(255, 255, 255));\n    callStartButton.setFont(new java.awt.Font(\"Arial\", 1, 12)); // NOI18N\n    callStartButton.setPreferredSize(new java.awt.Dimension(95, 23));\n    callStartButton.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            callStartButtonActionPerformed(evt);\n        }\n    });\n\n\norg.jdesktop.layout.GroupLayout callPanelLayout = new org.jdesktop.layout.GroupLayout(callPanel);\n    callPanel.setLayout(callPanelLayout);\n    callPanelLayout.setHorizontalGroup(\n        callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(callPanelLayout.createSequentialGroup()\n            .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(callPanelLayout.createSequentialGroup()\n                    .add(19, 19, 19)\n                    .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\n                    .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                .add(callPanelLayout.createSequentialGroup()\n                    .addContainerGap()\n                    .add(numberLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 63, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\n                    .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 128, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callPanelLayout.createSequentialGroup()\n                            .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 47, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\n                            .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 89, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\n                .add(callPanelLayout.createSequentialGroup()\n                    .add(25, 25, 25)\n                    .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 190, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n            .addContainerGap(14, Short.MAX_VALUE))\n    );\n\n\ncallPanelLayout.setVerticalGroup(\n        callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(callPanelLayout.createSequentialGroup()\n            .addContainerGap()\n            .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\n                .add(numberField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(codeField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(numberLabel))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\n            .add(numberExampleLabel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 14, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n            .add(18, 18, 18)\n            .add(callPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)\n                .add(callStartButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(callStopButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 8, Short.MAX_VALUE)\n            .add(callProgressBar, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n            .add(13, 13, 13))\n    );\n\norg.jdesktop.layout.GroupLayout testPanelLayout = new org.jdesktop.layout.GroupLayout(testPanel);\n    testPanel.setLayout(testPanelLayout);\n    testPanelLayout.setHorizontalGroup(\n        testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(testPanelLayout.createSequentialGroup()\n            .add(8, 8, 8)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                        .add(ascii, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .add(0, 0, 0)\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                        .add(hex, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .add(jScrollPane9)))\n                .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(testPanelLayout.createSequentialGroup()\n                            .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                            .add(0, 0, 0)\n                            .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                        .add(testPanelLayout.createSequentialGroup()\n                            .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                            .add(0, 0, 0)\n                            .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n                    .add(0, 0, 0)\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                    .add(modemModelPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 240, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n            .add(17, 17, Short.MAX_VALUE))\n        .add(testPanelLayout.createSequentialGroup()\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\n                    .add(10, 10, 10)\n                    .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 117, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(309, 309, 309)\n                    .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, Short.MAX_VALUE)))\n            .addContainerGap())\n    );\n    testPanelLayout.setVerticalGroup(\n        testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n        .add(testPanelLayout.createSequentialGroup()\n            .add(15, 15, 15)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(testModemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(testResultHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\n                        .add(testResultPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(testManagementPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(callPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                    .add(22, 22, 22)\n                    .add(lightGradientPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)\n                        .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(jScrollPane9, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 271, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                    .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                        .add(hex, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                        .add(org.jdesktop.layout.GroupLayout.TRAILING, ascii, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(modemModelHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(modemModelPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(modemHeaderPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(modemParamsPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(testModemHeaderPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .add(0, 0, 0)\n                    .add(simPanel, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))\n            .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)\n            .add(testPanelLayout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)\n                .add(testPanelLayout.createSequentialGroup()\n                    .add(saveASCIILogButton, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .add(userGuideButton5, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))\n                .add(org.jdesktop.layout.GroupLayout.TRAILING, testPanelLayout.createSequentialGroup()\n                    .add(0, 34, Short.MAX_VALUE)\n                    .add(irzLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 61, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)\n                    .addContainerGap())))\n    );\n\n    jTabbedPane1.addTab(\"tab1\", testPanel);\n\njLayeredPane1.add(jTabbedPane1, javax.swing.JLayeredPane.DEFAULT_LAYER);\n    jTabbedPane1.getAccessibleContext().setAccessibleName(\"\");\n\n    getContentPane().add(jLayeredPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 5, -1, 660));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664976131,"creation_date":1664976131,"answer_id":73961031,"question_id":73958700,"body_markdown":"I found the solution by changing Mono to Flux and subscribe.\r\n\r\n    public Flux&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; featchData() {\r\n    \r\n    return webClientHelper.fetchItems(null).expand(response -&gt; {\r\n        List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\r\n        if (headerValue == null || headerValue.isEmpty()) {\r\n            return Mono.empty();\r\n        }\r\n        return webClientHelper.fetchItems(headerValue.get(0));\r\n    });\r\n}\r\n\r\nIn the above code, I removed the last line `.flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList()`\r\n\r\n\r\nAnd then in the calling method, Instead of collection to list I started directly processing the data.\r\n\r\n    public static void main(String[] args) {\r\n        featchData().subscribe( json -&gt; Arrays.stream(json.getBody()).sequential()\r\n                                      .forEach(item -&gt; System.out.println(item.getId())));\r\n\r\n    }\r\n\r\nPlease let me know if anyone sees any issue with the above implementation.","title":"Processing paged WebClient response without waiting and blocking for next page in a Flux","body":"<p>I found the solution by changing Mono to Flux and subscribe.</p>\n<pre><code>public Flux&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; featchData() {\n\nreturn webClientHelper.fetchItems(null).expand(response -&gt; {\n    List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\n    if (headerValue == null || headerValue.isEmpty()) {\n        return Mono.empty();\n    }\n    return webClientHelper.fetchItems(headerValue.get(0));\n});\n</code></pre>\n<p>}</p>\n<p>In the above code, I removed the last line <code>.flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList()</code></p>\n<p>And then in the calling method, Instead of collection to list I started directly processing the data.</p>\n<pre><code>public static void main(String[] args) {\n    featchData().subscribe( json -&gt; Arrays.stream(json.getBody()).sequential()\n                                  .forEach(item -&gt; System.out.println(item.getId())));\n\n}\n</code></pre>\n<p>Please let me know if anyone sees any issue with the above implementation.</p>\n"}],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73961031,"answer_count":1,"score":0,"last_activity_date":1664976131,"creation_date":1664963683,"question_id":73958700,"body_markdown":"I have developed an application to fetch data from 3rd party site and process it. Data will be fetched in paginated way. Right now the implementation works fine as it collects all the data from all the pages and then creating a list out of it. Because of Memory issue we want to process the data as soon as it&#39;s available with/without blocking the next request. Below is my implementation.\r\n\r\n    public Mono&lt;List&lt;JsonNode&gt;&gt; featchData() {\r\n        \r\n        return webClientHelper.fetchItems(null).expand(response -&gt; {\r\n            List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\r\n            if (headerValue == null || headerValue.isEmpty()) {\r\n                return Mono.empty();\r\n            }\r\n            return webClientHelper.fetchItems(headerValue.get(0));\r\n        }).flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList();\r\n    }\r\n\r\nBelow is my web client helper method\r\n\r\n    public Mono&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; fetchItems(String headerValue) {\r\n\r\n        return webFluxConfig.getWebClient().get()\r\n                             .uri(&quot;/orders/&quot;)\r\n                             .accept(MediaType.APPLICATION_JSON)\r\n                             .httpRequest(httpRequest -&gt; {\r\n                                 HttpClientRequest reactorRequest = httpRequest.getNativeRequest();\r\n                                 reactorRequest.responseTimeout(Duration.ofSeconds(5));\r\n                             })\r\n                             .header(HEADER_ITEM_CURSOR, headerValue)\r\n                             .retrieve()\r\n                             .onStatus(\r\n                                 status -&gt; status.value() == STATUS_CODE_401,\r\n                                 clientResponse -&gt; Mono.empty()\r\n                             )\r\n                             .onStatus(HttpStatus::is5xxServerError, response -&gt; Mono.error(\r\n                                 new ServerErrorException(&quot;Server error&quot;, response.rawStatusCode())))\r\n                             .toEntity(JsonNode[].class)\r\n                             .timeout(Duration.ofMillis(configuration.getBManagedTimeoutMilliseconds()))\r\n                             .retryWhen(Retry.backoff(3, Duration.ofSeconds(2))\r\n                                             .filter(ServerErrorException.class::isInstance)\r\n                                             .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n                                                 throw new ServerErrorException(&quot;Failed to process after max retries&quot;,\r\n                                                                                HttpStatus.SERVICE_UNAVAILABLE.value());\r\n                                             }));\r\n    }\r\n\r\nReason why I&#39;m using JsonNode[] is, the response data will be array of dynamic attributes.\r\n\r\nNOTE: HEADER_ITEM_CURSOR will contain the data related to next set of results. We need to pass it in the next request, if the HEADER_ITEM_CURSOR is null then there is no more data for next request.\r\n\r\nSolution should be, as soon as the first page data is available it should be processed.\r\nCall to get the 2nd page data might/might not be blocked and once available it should be added to the list for processing.","title":"Processing paged WebClient response without waiting and blocking for next page in a Flux","body":"<p>I have developed an application to fetch data from 3rd party site and process it. Data will be fetched in paginated way. Right now the implementation works fine as it collects all the data from all the pages and then creating a list out of it. Because of Memory issue we want to process the data as soon as it's available with/without blocking the next request. Below is my implementation.</p>\n<pre><code>public Mono&lt;List&lt;JsonNode&gt;&gt; featchData() {\n    \n    return webClientHelper.fetchItems(null).expand(response -&gt; {\n        List&lt;String&gt; headerValue = response.getHeaders().get(Constants.HEADER_ITEM_CURSOR);\n        if (headerValue == null || headerValue.isEmpty()) {\n            return Mono.empty();\n        }\n        return webClientHelper.fetchItems(headerValue.get(0));\n    }).flatMap(response -&gt; Flux.fromIterable(Arrays.asList(response.getBody()))).collectList();\n}\n</code></pre>\n<p>Below is my web client helper method</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;JsonNode[]&gt;&gt; fetchItems(String headerValue) {\n\n    return webFluxConfig.getWebClient().get()\n                         .uri(&quot;/orders/&quot;)\n                         .accept(MediaType.APPLICATION_JSON)\n                         .httpRequest(httpRequest -&gt; {\n                             HttpClientRequest reactorRequest = httpRequest.getNativeRequest();\n                             reactorRequest.responseTimeout(Duration.ofSeconds(5));\n                         })\n                         .header(HEADER_ITEM_CURSOR, headerValue)\n                         .retrieve()\n                         .onStatus(\n                             status -&gt; status.value() == STATUS_CODE_401,\n                             clientResponse -&gt; Mono.empty()\n                         )\n                         .onStatus(HttpStatus::is5xxServerError, response -&gt; Mono.error(\n                             new ServerErrorException(&quot;Server error&quot;, response.rawStatusCode())))\n                         .toEntity(JsonNode[].class)\n                         .timeout(Duration.ofMillis(configuration.getBManagedTimeoutMilliseconds()))\n                         .retryWhen(Retry.backoff(3, Duration.ofSeconds(2))\n                                         .filter(ServerErrorException.class::isInstance)\n                                         .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n                                             throw new ServerErrorException(&quot;Failed to process after max retries&quot;,\n                                                                            HttpStatus.SERVICE_UNAVAILABLE.value());\n                                         }));\n}\n</code></pre>\n<p>Reason why I'm using JsonNode[] is, the response data will be array of dynamic attributes.</p>\n<p>NOTE: HEADER_ITEM_CURSOR will contain the data related to next set of results. We need to pass it in the next request, if the HEADER_ITEM_CURSOR is null then there is no more data for next request.</p>\n<p>Solution should be, as soon as the first page data is available it should be processed.\nCall to get the 2nd page data might/might not be blocked and once available it should be added to the list for processing.</p>\n"},{"tags":["java","javafx","game-development"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":0,"creation_date":1664792968,"post_id":73933877,"comment_id":130545059,"body_markdown":"Not sure about the cause, and I cannot test atm. But if it fixes itself after a redraw, you can try to force an update by adding the following after you show the primary stage: `Platform.runLater(() -&gt; scene.getWindow().setWidth(scene.getWidth() + 0.001));`. This should be a last option though, as this usually means there is a flaw in the layout (or its implementation).","body":"Not sure about the cause, and I cannot test atm. But if it fixes itself after a redraw, you can try to force an update by adding the following after you show the primary stage: <code>Platform.runLater(() -&gt; scene.getWindow().setWidth(scene.getWidth() + 0.001));</code>. This should be a last option though, as this usually means there is a flaw in the layout (or its implementation)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664793362,"post_id":73933877,"comment_id":130545164,"body_markdown":"Create and post a [mre].","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664793825,"post_id":73933877,"comment_id":130545266,"body_markdown":"@James_D I am on it","body":"@James_D I am on it"},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664793872,"post_id":73933877,"comment_id":130545282,"body_markdown":"@n247s Thanks, if no better solution comes up I will definetly try this.","body":"@n247s Thanks, if no better solution comes up I will definetly try this."},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664800573,"post_id":73933877,"comment_id":130547284,"body_markdown":"@James_D I just added a minimal reproducible example :)","body":"@James_D I just added a minimal reproducible example :)"},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664800949,"post_id":73933877,"comment_id":130547420,"body_markdown":"@n247s This is not fixing it for me btw","body":"@n247s This is not fixing it for me btw"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664801891,"post_id":73933877,"comment_id":130547737,"body_markdown":"Your mre works as expected for me. The blue pane and button both appear centered. (I am running on JDK18, not 17, but tested with both JavaFX 17 and 18. I&#39;d be surprised if that made a difference.) That said, the sizing of your window is pretty weird. First, do you really need to set the width and height if you&#39;re maximizing the window anyway? If you do, then you should use the JavaFX API to find the screen size; don&#39;t mix JavaFX and AWT unnecessarily.","body":"Your mre works as expected for me. The blue pane and button both appear centered. (I am running on JDK18, not 17, but tested with both JavaFX 17 and 18. I&#39;d be surprised if that made a difference.) That said, the sizing of your window is pretty weird. First, do you really need to set the width and height if you&#39;re maximizing the window anyway? If you do, then you should use the JavaFX API to find the screen size; don&#39;t mix JavaFX and AWT unnecessarily."},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664802621,"post_id":73933877,"comment_id":130548023,"body_markdown":"@James_D For me if I don&#39;t set the width and height the second screen appears squished and very small in the top left corner of my screen. Also using the javafx API does not change the original problem for me. I am running it as a gradle project, could this maybe have something to do with that? I am also using javafx through gradle.","body":"@James_D For me if I don&#39;t set the width and height the second screen appears squished and very small in the top left corner of my screen. Also using the javafx API does not change the original problem for me. I am running it as a gradle project, could this maybe have something to do with that? I am also using javafx through gradle."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664803563,"post_id":73933877,"comment_id":130548329,"body_markdown":"Strange. *&quot;I am running it as a gradle project, could this maybe have something to do with that?&quot;*. Not really, no. Gradle is just a build tool. I do see that if you remove the `setWidth(...)` and `setHeight(...)`, the second screen is set to the minimum size. I guess the `maximized` property is really held by the scene (not the stage). So that suggests two questions: 1. Do you actually need to create a new scene? Is it not enough just to replace the root of the existing scene? 2. If you do need to change the scene, does calling `setMaximized(true)` after changing scene fix the problem?","body":"Strange. <i>&quot;I am running it as a gradle project, could this maybe have something to do with that?&quot;</i>. Not really, no. Gradle is just a build tool. I do see that if you remove the <code>setWidth(...)</code> and <code>setHeight(...)</code>, the second screen is set to the minimum size. I guess the <code>maximized</code> property is really held by the scene (not the stage). So that suggests two questions: 1. Do you actually need to create a new scene? Is it not enough just to replace the root of the existing scene? 2. If you do need to change the scene, does calling <code>setMaximized(true)</code> after changing scene fix the problem?"},{"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"score":0,"creation_date":1664804622,"post_id":73933877,"comment_id":130548723,"body_markdown":"@James_D Calling `setMaximized(true)` again after changing the scene does not change anything. I have a main menu and the game screen, that&#39;s why I created a new Scene. However just changing the root of the &quot;main menu scene&quot; to the root of the &quot;game screen&quot; fixes the problem for me. Thank you so much!","body":"@James_D Calling <code>setMaximized(true)</code> again after changing the scene does not change anything. I have a main menu and the game screen, that&#39;s why I created a new Scene. However just changing the root of the &quot;main menu scene&quot; to the root of the &quot;game screen&quot; fixes the problem for me. Thank you so much!"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1664812831,"post_id":73933877,"comment_id":130551598,"body_markdown":"You can [answer your own question](http://meta.stackoverflow.com/q/17463/163188); a revised [mre] focusing on the problem is typically welcome.","body":"You can <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>; a revised <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> focusing on the problem is typically welcome."}],"answers":[{"tags":[],"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664976099,"creation_date":1664976099,"answer_id":73961026,"question_id":73933877,"body_markdown":"My problem was resolved by changing the root of the scene I was using and not create a new scene everytime I switch the layout (e.g. from main menu to the game screen).","title":"JavaFX - BorderPane is not centered in scene/stage","body":"<p>My problem was resolved by changing the root of the scene I was using and not create a new scene everytime I switch the layout (e.g. from main menu to the game screen).</p>\n"}],"owner":{"account_id":26493980,"reputation":21,"user_id":20132022,"display_name":"Phylonias"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73961026,"answer_count":1,"score":1,"last_activity_date":1664976099,"creation_date":1664791557,"question_id":73933877,"body_markdown":"I am currently coding a board game and I am using java and for GUI purposes javaFX. The game requires for a map (the game board) to be in the middle of the screen and various options and additional information to be around it. My idea was to have a BorderPane where the center node is the game board and top, bottom etc are the additional options.\r\n\r\nMy problem is that upon starting the App the BorderPane is not centered in the stage but is slightly extended to the right and botton, where it is not visible. Thus my bottom Node can&#39;t be seen. Strangely if I minimize the window and maximize it again everything is where it should be and perfectly inside the bounds of the stage.\r\n\r\n[The application before minimizing and maximizing again][1]\r\n\r\n[And afterwards (The way it should look like from the beginning)][2]\r\n\r\nMy center Node is a normal Pane. Also I do stage.setMaximize(true). So the window is already maximized upon starting the application and it should not make a difference to minimze and maximize again.\r\n\r\nThe code for this scene essentially boils down to this:\r\n\r\n```\r\n@Override\r\n    public void start(Stage stage) throws Exception {\r\n        this.stage = stage;\r\n\r\n        Pane pane = createGameBoard();\r\n        pane.setId(&quot;mapPane&quot;);\r\n\r\n        Button button = new Button(&quot;Save&quot;);\r\n\r\n        VBox box = new VBox(0, button);\r\n        box.setAlignment(Pos.CENTER);\r\n\r\n        Label label = new Label(&quot;Bottom&quot;);\r\n        label.setPrefHeight(20);\r\n\r\n        BorderPane borderPane = new BorderPane();\r\n        borderPane.setTop(top);\r\n        borderPane.setBottom(bottom);\r\n        borderPane.setCenter(center);\r\n        borderPane.setPadding(new Insets(10));\r\n\r\n        Scene scene = new Scene(borderPane);\r\n        \r\n        scene.getStylesheets().add(Objects.requireNonNull(MainGUI.class.getResource(&quot;/game.css&quot;)).toString());\r\n\r\n        stage.setScene(scene);\r\n    }\r\n```\r\n\r\nThe game.css stylesheet only sets a background colour at the moment.\r\nI am using: Java 17, JavaFX 17.\r\n\r\nIf you need any further information I am happy to provide it :)\r\n\r\nThanks!\r\n\r\n\r\n**Edit:**\r\nTo reproduce my problem run this code. The issue should appear once you click on the button &quot;Next Screen&quot;.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n\tprivate Stage stage;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n    public void start(Stage stage) throws Exception {\r\n\t\tthis.stage = stage;\r\n        stage.setTitle(&quot;App&quot;);\r\n        stage.setMinHeight(600);\r\n        stage.setMinWidth(800);\r\n        stage.setWidth(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getWidth());\r\n        stage.setHeight(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getHeight());\r\n        stage.setMaximized(true);\r\n        stage.setOnCloseRequest(e -&gt; System.exit(0));\r\n\r\n\t\tButton button = new Button(&quot;Next Screen&quot;);\r\n\t\tbutton.setOnAction(e -&gt; {gameScreen();});\r\n\r\n\t\tBorderPane borderPane = new BorderPane();\r\n\t\tborderPane.setCenter(button);\r\n\t\t\r\n\t\tScene scene = new Scene(borderPane);\r\n\r\n\t\tstage.setScene(scene);\r\n\r\n        stage.show();\r\n    }\r\n\r\n\tprivate void gameScreen() {\r\n\t\tCircle circle = new Circle(0, 0, 4);\r\n        Pane pane = new Pane(circle);\r\n\t\tpane.setStyle(&quot;-fx-background-color: #00c3ff&quot;);\r\n\r\n        Button button = new Button(&quot;Top&quot;);\r\n        VBox vBox = new VBox(0, button);\r\n        vBox.setAlignment(Pos.CENTER);\r\n\r\n        Label label = new Label(&quot;Bottom&quot;);\r\n\r\n        BorderPane borderPane = new BorderPane();\r\n        borderPane.setTop(vBox);\r\n        borderPane.setCenter(pane);\r\n        borderPane.setBottom(label);\r\n\t\tborderPane.setPadding(new Insets(10));\r\n\r\n        Scene scene = new Scene(borderPane);\r\n\r\n        stage.setScene(scene);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UbCri.png\r\n  [2]: https://i.stack.imgur.com/ZQmDK.png","title":"JavaFX - BorderPane is not centered in scene/stage","body":"<p>I am currently coding a board game and I am using java and for GUI purposes javaFX. The game requires for a map (the game board) to be in the middle of the screen and various options and additional information to be around it. My idea was to have a BorderPane where the center node is the game board and top, bottom etc are the additional options.</p>\n<p>My problem is that upon starting the App the BorderPane is not centered in the stage but is slightly extended to the right and botton, where it is not visible. Thus my bottom Node can't be seen. Strangely if I minimize the window and maximize it again everything is where it should be and perfectly inside the bounds of the stage.</p>\n<p><a href=\"https://i.stack.imgur.com/UbCri.png\" rel=\"nofollow noreferrer\">The application before minimizing and maximizing again</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZQmDK.png\" rel=\"nofollow noreferrer\">And afterwards (The way it should look like from the beginning)</a></p>\n<p>My center Node is a normal Pane. Also I do stage.setMaximize(true). So the window is already maximized upon starting the application and it should not make a difference to minimze and maximize again.</p>\n<p>The code for this scene essentially boils down to this:</p>\n<pre><code>@Override\n    public void start(Stage stage) throws Exception {\n        this.stage = stage;\n\n        Pane pane = createGameBoard();\n        pane.setId(&quot;mapPane&quot;);\n\n        Button button = new Button(&quot;Save&quot;);\n\n        VBox box = new VBox(0, button);\n        box.setAlignment(Pos.CENTER);\n\n        Label label = new Label(&quot;Bottom&quot;);\n        label.setPrefHeight(20);\n\n        BorderPane borderPane = new BorderPane();\n        borderPane.setTop(top);\n        borderPane.setBottom(bottom);\n        borderPane.setCenter(center);\n        borderPane.setPadding(new Insets(10));\n\n        Scene scene = new Scene(borderPane);\n        \n        scene.getStylesheets().add(Objects.requireNonNull(MainGUI.class.getResource(&quot;/game.css&quot;)).toString());\n\n        stage.setScene(scene);\n    }\n</code></pre>\n<p>The game.css stylesheet only sets a background colour at the moment.\nI am using: Java 17, JavaFX 17.</p>\n<p>If you need any further information I am happy to provide it :)</p>\n<p>Thanks!</p>\n<p><strong>Edit:</strong>\nTo reproduce my problem run this code. The issue should appear once you click on the button &quot;Next Screen&quot;.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    private Stage stage;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        this.stage = stage;\n        stage.setTitle(&quot;App&quot;);\n        stage.setMinHeight(600);\n        stage.setMinWidth(800);\n        stage.setWidth(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getWidth());\n        stage.setHeight(java.awt.Toolkit.getDefaultToolkit().getScreenSize().getHeight());\n        stage.setMaximized(true);\n        stage.setOnCloseRequest(e -&gt; System.exit(0));\n\n        Button button = new Button(&quot;Next Screen&quot;);\n        button.setOnAction(e -&gt; {gameScreen();});\n\n        BorderPane borderPane = new BorderPane();\n        borderPane.setCenter(button);\n        \n        Scene scene = new Scene(borderPane);\n\n        stage.setScene(scene);\n\n        stage.show();\n    }\n\n    private void gameScreen() {\n        Circle circle = new Circle(0, 0, 4);\n        Pane pane = new Pane(circle);\n        pane.setStyle(&quot;-fx-background-color: #00c3ff&quot;);\n\n        Button button = new Button(&quot;Top&quot;);\n        VBox vBox = new VBox(0, button);\n        vBox.setAlignment(Pos.CENTER);\n\n        Label label = new Label(&quot;Bottom&quot;);\n\n        BorderPane borderPane = new BorderPane();\n        borderPane.setTop(vBox);\n        borderPane.setCenter(pane);\n        borderPane.setBottom(label);\n        borderPane.setPadding(new Insets(10));\n\n        Scene scene = new Scene(borderPane);\n\n        stage.setScene(scene);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","pdf","printing","pdfbox","fontbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1664978792,"post_id":73960056,"comment_id":130592352,"body_markdown":"Yes remove the 0000. This isn&#39;t a character. Check your input.","body":"Yes remove the 0000. This isn&#39;t a character. Check your input."},{"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"score":0,"creation_date":1664984800,"post_id":73960056,"comment_id":130594755,"body_markdown":"I don&#39;t have this sign in input file. Should I make some replaceAll(); in matcher? Existing one is: `private static final Pattern nonAsciiPattern = Pattern.compile(&quot;[^\\u0000-\\u00ff]&quot;);`","body":"I don&#39;t have this sign in input file. Should I make some replaceAll(); in matcher? Existing one is: <code>private static final Pattern nonAsciiPattern = Pattern.compile(&quot;[^\\u0000-\\u00ff]&quot;);</code>"},{"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"score":0,"creation_date":1664988279,"post_id":73960056,"comment_id":130595929,"body_markdown":"I put the ascii control codes in tempMap: `            tempMap.put(&quot;\\u0000&quot;, &quot;&quot;); // null\n            tempMap.put(&quot;\\u0001&quot;, &quot;&quot;); // Start of Heading\n            tempMap.put(&quot;\\u0002&quot;, &quot;&quot;); // Start of Text\n            tempMap.put(&quot;\\u0003&quot;, &quot;&quot;); // End of Text\n            tempMap.put(&quot;\\u0004&quot;, &quot;&quot;); // End of Transmission\n            tempMap.put(&quot;\\u0005&quot;, &quot;&quot;); // Enquiry\n            tempMap.put(&quot;\\u0006&quot;, &quot;&quot;); // Acknowledgement\n            tempMap.put(&quot;\\u0007&quot;, &quot;&quot;); // Bell\n            tempMap.put(&quot;\\u0008&quot;, &quot;&quot;); // Backspace` but without changes. Still the same error.","body":"I put the ascii control codes in tempMap: `            tempMap.put(&quot;\\u0000&quot;, &quot;&quot;); // null             tempMap.put(&quot;\\u0001&quot;, &quot;&quot;); // Start of Heading             tempMap.put(&quot;\\u0002&quot;, &quot;&quot;); // Start of Text             tempMap.put(&quot;\\u0003&quot;, &quot;&quot;); // End of Text             tempMap.put(&quot;\\u0004&quot;, &quot;&quot;); // End of Transmission             tempMap.put(&quot;\\u0005&quot;, &quot;&quot;); // Enquiry             tempMap.put(&quot;\\u0006&quot;, &quot;&quot;); // Acknowledgement             tempMap.put(&quot;\\u0007&quot;, &quot;&quot;); // Bell             tempMap.put(&quot;\\u0008&quot;, &quot;&quot;); // Backspace` but without changes. Still the same error."},{"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"score":0,"creation_date":1664995660,"post_id":73960056,"comment_id":130598241,"body_markdown":"It is solved after pattern change to: `Pattern.compile(&quot;-[\\\\u0080-\\\\u00FF]&quot;);` Topic closed","body":"It is solved after pattern change to: <code>Pattern.compile(&quot;-[\\\\u0080-\\\\u00FF]&quot;);</code> Topic closed"}],"owner":{"account_id":10222558,"reputation":1,"user_id":7546297,"display_name":"Vieckov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664976046,"creation_date":1664971402,"question_id":73960056,"body_markdown":"I&#39;ve been struggling with one problem for 3 days, I don&#39;t know what to do next. After updating pdfbox from version 1.8.8 to version 2.0.26 there was an exception when trying to print pdf. It is not present in all scenarios, but in some.\r\n\r\nHere is the code:\r\n\r\n    private static void addFooterText(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\r\n        PDFont font = PDType1Font.HELVETICA;\r\n        contentStream.beginText();\r\n        contentStream.setFont(font, 6);\r\n        contentStream.newLineAtOffset(225, 24);\r\n        String docTypeKsu = getKsuDocType(docType);\r\n        if (!TextConstants.AUDI_BESTELLUNG.equals(docTypeKsu)) {\r\n            String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\r\n            String gkzVon = gesellschaftVon.getGesellschaftFuer();\r\n            String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer); // CR819\r\n    \t\tcontentStream.showText(ksuString); // CR819\r\n        }\r\n    }\r\n\r\n    private static void addFooterTextFinal(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\r\n        PDFont font = PDType1Font.HELVETICA;\r\n        contentStream.beginText();\r\n        contentStream.setFont(font, 6);\r\n        contentStream.newLineAtOffset(225, 24);\r\n        String docTypeKsu = getKsuDocType(docType);\r\n        String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\r\n        String gkzVon = gesellschaftVon.getGesellschaftFuer();\r\n        String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer);\r\n\t\tcontentStream.showText(ksuString);\r\n    }\r\n\r\nAnd another file:\r\n\r\npublic void create(Map&lt;?, ?&gt; hashmap, OutputStream out, String FormularName)\r\n            throws PdfException {\r\n\r\n        PDDocument pdf = null;\r\n        try {\r\n            pdf = PDDocument.load(new File(FormularName));\r\n\r\n            PDDocumentCatalog docCatalog = pdf.getDocumentCatalog();\r\n            PDAcroForm acroForm = docCatalog.getAcroForm();\r\n\r\n            List&lt;?&gt; fields = acroForm.getFields();\r\n            Iterator&lt;?&gt; fieldsIter = fields.iterator();\r\n\r\n            while (fieldsIter.hasNext()) {\r\n                PDField field = (PDField) fieldsIter.next();\r\n                String value = field.getPartialName().toString();\r\n                if (hashmap.containsKey(value)) {\r\n                    field.setValue((String) hashmap.get(value));\r\n                } else {\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            try {\r\n                pdf.save(out);\r\n            } catch (IOException e) {\r\n                LOGGER.error(e);\r\n                throw new PdfException(e.getMessage());\r\n            }\r\n        } catch (IOException e2) {\r\n            LOGGER.error(e2);\r\n            throw new PdfException(e2.getMessage());\r\n        } finally {\r\n            if (pdf != null) {\r\n                try {\r\n                    pdf.close();\r\n                } catch (IOException e) {\r\n                    LOGGER.error(e);\r\n                }\r\n            }\r\n        }\r\n\r\nI tried to change version of fontbox / pdfbox. I don&#39;t know what to do else. Probably U+0000 is null value. Should I somehow avoid this sign. There were no exception in version 1.8.8\r\n\r\nStacktrace in browser:\r\n```\r\nException type: class javax.ejb.EJBException\r\nException message: javax.servlet.ServletException: See nested exception&amp;#59; nested exception is: java.lang.IllegalArgumentException: U&amp;#43;0000 is not available in this font&amp;#39;s encoding: WinAnsiEncoding\r\nUser agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36\r\nStack trace:\r\njavax.servlet.ServletException: See nested exception; nested exception is: java.lang.IllegalArgumentException: U+0000 is not available in this font&#39;s encoding: WinAnsiEncoding\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:606)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1290)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:778)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:475)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:152)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:94)\r\n\tat org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat\r\ncom.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1021)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1143)\r\n\tat com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:82)\r\n\tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:956)\r\n\tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:280)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:967)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:359)\r\n\tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:318)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:471)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:405)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:285)\r\n\tat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:66)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:929)\r\n\tat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1018)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","title":"PDFBOX: java.lang.IllegalArgumentException: U+0000 is not available in this font&#39;s encoding: WinAnsiEncoding","body":"<p>I've been struggling with one problem for 3 days, I don't know what to do next. After updating pdfbox from version 1.8.8 to version 2.0.26 there was an exception when trying to print pdf. It is not present in all scenarios, but in some.</p>\n<p>Here is the code:</p>\n<pre><code>private static void addFooterText(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\n    PDFont font = PDType1Font.HELVETICA;\n    contentStream.beginText();\n    contentStream.setFont(font, 6);\n    contentStream.newLineAtOffset(225, 24);\n    String docTypeKsu = getKsuDocType(docType);\n    if (!TextConstants.AUDI_BESTELLUNG.equals(docTypeKsu)) {\n        String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\n        String gkzVon = gesellschaftVon.getGesellschaftFuer();\n        String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer); // CR819\n        contentStream.showText(ksuString); // CR819\n    }\n}\n\nprivate static void addFooterTextFinal(PDPageContentStream contentStream, PdfProperties.AwFuer gesellschaftVon, PdfProperties.AwFuer gesellschaftFuer, PdfDocType docType) throws IOException {\n    PDFont font = PDType1Font.HELVETICA;\n    contentStream.beginText();\n    contentStream.setFont(font, 6);\n    contentStream.newLineAtOffset(225, 24);\n    String docTypeKsu = getKsuDocType(docType);\n    String gkzFuer = gesellschaftFuer.getGesellschaftFuer();\n    String gkzVon = gesellschaftVon.getGesellschaftFuer();\n    String ksuString = KsuTextFrontEnd.getKsuText(docTypeKsu, gkzVon, gkzFuer);\n    contentStream.showText(ksuString);\n}\n</code></pre>\n<p>And another file:</p>\n<p>public void create(Map hashmap, OutputStream out, String FormularName)\nthrows PdfException {</p>\n<pre><code>    PDDocument pdf = null;\n    try {\n        pdf = PDDocument.load(new File(FormularName));\n\n        PDDocumentCatalog docCatalog = pdf.getDocumentCatalog();\n        PDAcroForm acroForm = docCatalog.getAcroForm();\n\n        List&lt;?&gt; fields = acroForm.getFields();\n        Iterator&lt;?&gt; fieldsIter = fields.iterator();\n\n        while (fieldsIter.hasNext()) {\n            PDField field = (PDField) fieldsIter.next();\n            String value = field.getPartialName().toString();\n            if (hashmap.containsKey(value)) {\n                field.setValue((String) hashmap.get(value));\n            } else {\n                continue;\n            }\n        }\n\n        try {\n            pdf.save(out);\n        } catch (IOException e) {\n            LOGGER.error(e);\n            throw new PdfException(e.getMessage());\n        }\n    } catch (IOException e2) {\n        LOGGER.error(e2);\n        throw new PdfException(e2.getMessage());\n    } finally {\n        if (pdf != null) {\n            try {\n                pdf.close();\n            } catch (IOException e) {\n                LOGGER.error(e);\n            }\n        }\n    }\n</code></pre>\n<p>I tried to change version of fontbox / pdfbox. I don't know what to do else. Probably U+0000 is null value. Should I somehow avoid this sign. There were no exception in version 1.8.8</p>\n<p>Stacktrace in browser:</p>\n<pre><code>Exception type: class javax.ejb.EJBException\nException message: javax.servlet.ServletException: See nested exception&amp;#59; nested exception is: java.lang.IllegalArgumentException: U&amp;#43;0000 is not available in this font&amp;#39;s encoding: WinAnsiEncoding\nUser agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36\nStack trace:\njavax.servlet.ServletException: See nested exception; nested exception is: java.lang.IllegalArgumentException: U+0000 is not available in this font's encoding: WinAnsiEncoding\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:606)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1290)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:778)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:475)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:152)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:94)\n    at org.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:111)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at\ncom.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:207)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1021)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1143)\n    at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:82)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:956)\n    at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:280)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:967)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:359)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:318)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:471)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:405)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:285)\n    at com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:66)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:929)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1018)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","arrays","enums"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":5,"creation_date":1444715754,"post_id":33095100,"comment_id":54005976,"body_markdown":"You mean ensure the values of the array cannot be changed? You will need to encapsulate the array in an object that prevents mutation but allows access by index via getter method","body":"You mean ensure the values of the array cannot be changed? You will need to encapsulate the array in an object that prevents mutation but allows access by index via getter method"},{"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"score":0,"creation_date":1444715925,"post_id":33095100,"comment_id":54006052,"body_markdown":"I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;","body":"I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1444715968,"post_id":33095100,"comment_id":54006077,"body_markdown":"I&#39;m not sure what you mean. You want to give the array indexes names?","body":"I&#39;m not sure what you mean. You want to give the array indexes names?"},{"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"score":0,"creation_date":1444716516,"post_id":33095100,"comment_id":54006337,"body_markdown":"@Vince Emigh Your answer before makes sense to me.","body":"@Vince Emigh Your answer before makes sense to me."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1444717065,"post_id":33095100,"comment_id":54006560,"body_markdown":"What answer? The only answer I have is [down below](http://stackoverflow.com/a/33095247/2398375), which you can kindly choose as accepted answer if it helped with your issue :) Unless you&#39;re referring to my comment, which in that case my answer includes that info (with examples), and you should check it out","body":"What answer? The only answer I have is <a href=\"http://stackoverflow.com/a/33095247/2398375\">down below</a>, which you can kindly choose as accepted answer if it helped with your issue :) Unless you&#39;re referring to my comment, which in that case my answer includes that info (with examples), and you should check it out"},{"owner":{"account_id":2785683,"reputation":2653,"user_id":2397162,"accept_rate":61,"display_name":"niceman"},"score":0,"creation_date":1464449698,"post_id":33095100,"comment_id":62496516,"body_markdown":"I think there are Immutable Collections in java, but not arrays unfortunately","body":"I think there are Immutable Collections in java, but not arrays unfortunately"}],"answers":[{"tags":[],"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444716178,"creation_date":1444716178,"answer_id":33095222,"question_id":33095100,"body_markdown":"-If you know the values before-hand, initialize the array values and mark that array as `final`.\r\n\r\n-If you don&#39;t know the values initially then write public getter/setters methods and declare the array as `private`. Write logic in setter method to discard changes once done on a particular element (or throw an exception upon multiple changes to the same element)","title":"Java array of constants","body":"<p>-If you know the values before-hand, initialize the array values and mark that array as <code>final</code>.</p>\n\n<p>-If you don't know the values initially then write public getter/setters methods and declare the array as <code>private</code>. Write logic in setter method to discard changes once done on a particular element (or throw an exception upon multiple changes to the same element)</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1444716252,"creation_date":1444716252,"answer_id":33095243,"question_id":33095100,"body_markdown":"If you want to create an immutable array, no, you cannot. All arrays in Java are mutable.\r\n\r\nIf you just want to predefine the array in your class, you can do it:\r\n\r\n    private static final int[] MY_ARRAY = {10, 20, 30, 40, 50};\r\n\r\nHere we created a predefined array `MY_ARRAY` of length 5, so `MY_ARRAY[0]` is `10` and so on. Be careful though as even the `MY_ARRAY` field is declared final, this does not mean that array elements could not be changed. Thus it&#39;s better not to expose such array to public via `public` or `protected` modifier.","title":"Java array of constants","body":"<p>If you want to create an immutable array, no, you cannot. All arrays in Java are mutable.</p>\n\n<p>If you just want to predefine the array in your class, you can do it:</p>\n\n<pre><code>private static final int[] MY_ARRAY = {10, 20, 30, 40, 50};\n</code></pre>\n\n<p>Here we created a predefined array <code>MY_ARRAY</code> of length 5, so <code>MY_ARRAY[0]</code> is <code>10</code> and so on. Be careful though as even the <code>MY_ARRAY</code> field is declared final, this does not mean that array elements could not be changed. Thus it's better not to expose such array to public via <code>public</code> or <code>protected</code> modifier.</p>\n"},{"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444717280,"creation_date":1444716301,"answer_id":33095247,"question_id":33095100,"body_markdown":"&gt;I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;\r\n\r\nYou cannot give array indexes names.\r\n\r\nYou could initialize an array using the values of pre-existing constants:\r\n\r\n    public static final int SIZE = 10;\r\n\r\n    public static final int[] CONSTANTS = { SIZE };\r\n\r\n___\r\n\r\nKeep in mind that although an array is declared `final`, it&#39;s values may still be changed. `final` only ensures you cannot re-assign the array variable, so you will want to encapsulate the array to prevent mutation:\r\n\r\n    final class Constants {\r\n        public static final int SIZE = 10;\r\n\r\n        private static final int[] CONSTANTS = { SIZE };\r\n\r\n        public static int getConstant(int index) {\r\n           return CONSTANTS[index];\r\n        }\r\n    }\r\n\r\nIf you would like to loop, I suggest returning a [deep-copy](https://en.wikipedia.org/wiki/Object_copying#Deep_copy) of the array.","title":"Java array of constants","body":"<blockquote>\n  <p>I mean the array components be constants i.e. a[0] be a constant variable like this public static final int SIZE = 10;</p>\n</blockquote>\n\n<p>You cannot give array indexes names.</p>\n\n<p>You could initialize an array using the values of pre-existing constants:</p>\n\n<pre><code>public static final int SIZE = 10;\n\npublic static final int[] CONSTANTS = { SIZE };\n</code></pre>\n\n<hr>\n\n<p>Keep in mind that although an array is declared <code>final</code>, it's values may still be changed. <code>final</code> only ensures you cannot re-assign the array variable, so you will want to encapsulate the array to prevent mutation:</p>\n\n<pre><code>final class Constants {\n    public static final int SIZE = 10;\n\n    private static final int[] CONSTANTS = { SIZE };\n\n    public static int getConstant(int index) {\n       return CONSTANTS[index];\n    }\n}\n</code></pre>\n\n<p>If you would like to loop, I suggest returning a <a href=\"https://en.wikipedia.org/wiki/Object_copying#Deep_copy\" rel=\"nofollow\">deep-copy</a> of the array.</p>\n"},{"tags":[],"owner":{"account_id":7111862,"reputation":21,"user_id":5439423,"display_name":"Atul Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444718195,"creation_date":1444718195,"answer_id":33095761,"question_id":33095100,"body_markdown":"if final is used with objects you cannot change the reference of that object but  changing the value is perfectly fine.Array is an object in java and if you want object value should not be changed, once created, then you will have to make object immutable and primitive array cannot be made immutable in java.\r\n\r\n        final int [] finalArr={5,6,8};\r\n\r\n         System.out.println(&quot;Value at index 0 is &quot;+finalArr[0]);    \r\n          //output : Value at index 0 is 5\r\n\r\n          //perfectly fine\r\n          finalArr[0]=41;\r\n\r\n         System.out.println(&quot;Changed value at index 0 is &quot;+finalArr[0]);\r\n        //Changed value at index 0 is 41\r\n         \r\n         int[] anotherArr={7,9,6};\r\n         // finalArr=anotherArr;\r\n         //error : cannot assign a value to final variable finalArr\r\nFor more on immutable array you can refer to these links:\r\n\r\nhttps://stackoverflow.com/questions/3700971/immutable-array-in-java\r\n\r\nhttps://stackoverflow.com/questions/17122974/is-there-any-way-to-make-an-ordinary-array-immutable-in-java\r\n\r\n        ","title":"Java array of constants","body":"<p>if final is used with objects you cannot change the reference of that object but  changing the value is perfectly fine.Array is an object in java and if you want object value should not be changed, once created, then you will have to make object immutable and primitive array cannot be made immutable in java.</p>\n\n<pre><code>    final int [] finalArr={5,6,8};\n\n     System.out.println(\"Value at index 0 is \"+finalArr[0]);    \n      //output : Value at index 0 is 5\n\n      //perfectly fine\n      finalArr[0]=41;\n\n     System.out.println(\"Changed value at index 0 is \"+finalArr[0]);\n    //Changed value at index 0 is 41\n\n     int[] anotherArr={7,9,6};\n     // finalArr=anotherArr;\n     //error : cannot assign a value to final variable finalArr\n</code></pre>\n\n<p>For more on immutable array you can refer to these links:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3700971/immutable-array-in-java\">Immutable array in Java</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/17122974/is-there-any-way-to-make-an-ordinary-array-immutable-in-java\">Is there any way to make an ordinary array immutable in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":1579228,"reputation":167,"user_id":1464949,"display_name":"Florin Grigoriu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479968500,"creation_date":1479968500,"answer_id":40779300,"question_id":33095100,"body_markdown":"If you don&#39;t want to modify the values, and you also just want to access the members of the collection without wanting random access, a very simple solution instead of having a constant array, have a final immutable list:\r\n\r\n    static final ImmutableList&lt;Type&gt; arrayOfConstants = ImmutableList.of(t1, t2, t3);\r\n\r\n","title":"Java array of constants","body":"<p>If you don't want to modify the values, and you also just want to access the members of the collection without wanting random access, a very simple solution instead of having a constant array, have a final immutable list:</p>\n\n<pre><code>static final ImmutableList&lt;Type&gt; arrayOfConstants = ImmutableList.of(t1, t2, t3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2175189,"reputation":603,"user_id":1926013,"accept_rate":46,"display_name":"NBaua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510645688,"creation_date":1510645688,"answer_id":47280275,"question_id":33095100,"body_markdown":"Its&#39;been a while this post is open\r\nI am surprised, why any one would not think of\r\n\r\n    public static final List&lt;LanguageModel&gt; GenderDataSource = new ArrayList&lt;GenderModel&gt;(){{\r\n        add(new LanguageModel(&quot;0&quot;, &quot;English&quot;));\r\n        add(new LanguageModel(&quot;1&quot;, &quot;Hindi&quot;));\r\n        add(new LanguageModel(&quot;1&quot;, &quot;Tamil&quot;));\r\n    };};\r\n\r\nWhere **LanguageModel** simply contains two properties Id and Title or use whatever your model class of generic Type could be.\r\n\r\nShould work great as constant.\r\n\r\n-- N Baua\r\n\r\n","title":"Java array of constants","body":"<p>Its'been a while this post is open\nI am surprised, why any one would not think of</p>\n\n<pre><code>public static final List&lt;LanguageModel&gt; GenderDataSource = new ArrayList&lt;GenderModel&gt;(){{\n    add(new LanguageModel(\"0\", \"English\"));\n    add(new LanguageModel(\"1\", \"Hindi\"));\n    add(new LanguageModel(\"1\", \"Tamil\"));\n};};\n</code></pre>\n\n<p>Where <strong>LanguageModel</strong> simply contains two properties Id and Title or use whatever your model class of generic Type could be.</p>\n\n<p>Should work great as constant.</p>\n\n<p>-- N Baua</p>\n"},{"tags":[],"owner":{"account_id":5821270,"reputation":1,"user_id":4589283,"display_name":"albert_bk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664975697,"creation_date":1664975697,"answer_id":73960932,"question_id":33095100,"body_markdown":"I saw this post and it made me think about something I did for a chess playing application.\r\n\r\nMaybe you just want a group of constants that are sons of another constant. I mean, if you make a final class named as your &quot;array&quot;, and inside it you describe several constants, you&#39;ll be able to access it via MyClass.MYARRAY.MYCONSTANT.\r\n\r\nThe code would be:\r\n```\r\nabstract class Figure {\r\n    public static final class WEIGHT{\r\n        public static final int PAWN = 1;\r\n        public static final int KNIGHT = 3;\r\n        public static final int BISHOP = 3;\r\n        public static final int ROCK = 5;\r\n        public static final int QUEEN = 10;\r\n        public static final int KING = 1000;\r\n    }\r\n}\r\n\r\npublic class Pawn extends Figure{\r\n    public static final int weight = Figure.WEIGHT.PAWN;\r\n}\r\n```\r\nI don&#39;t know if it is the best way for doing it. I don&#39;t either know if it&#39;s the worst way. But I think it answers your question and gives you a solution.","title":"Java array of constants","body":"<p>I saw this post and it made me think about something I did for a chess playing application.</p>\n<p>Maybe you just want a group of constants that are sons of another constant. I mean, if you make a final class named as your &quot;array&quot;, and inside it you describe several constants, you'll be able to access it via MyClass.MYARRAY.MYCONSTANT.</p>\n<p>The code would be:</p>\n<pre><code>abstract class Figure {\n    public static final class WEIGHT{\n        public static final int PAWN = 1;\n        public static final int KNIGHT = 3;\n        public static final int BISHOP = 3;\n        public static final int ROCK = 5;\n        public static final int QUEEN = 10;\n        public static final int KING = 1000;\n    }\n}\n\npublic class Pawn extends Figure{\n    public static final int weight = Figure.WEIGHT.PAWN;\n}\n</code></pre>\n<p>I don't know if it is the best way for doing it. I don't either know if it's the worst way. But I think it answers your question and gives you a solution.</p>\n"}],"owner":{"account_id":4250160,"reputation":319,"user_id":3477487,"accept_rate":33,"display_name":"Athanasios V."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63759,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":7,"score":11,"last_activity_date":1664975697,"creation_date":1444715644,"question_id":33095100,"body_markdown":"How is it possible to declare and initialize an array of constants in Java, without using `enums` ?\r\n\r\n    static final Type[] arrayOfConstants = new Type[10]; // not an array of constants","title":"Java array of constants","body":"<p>How is it possible to declare and initialize an array of constants in Java, without using <code>enums</code> ?</p>\n\n<pre><code>static final Type[] arrayOfConstants = new Type[10]; // not an array of constants\n</code></pre>\n"},{"tags":["java","linux","processbuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664967815,"post_id":73959294,"comment_id":130588263,"body_markdown":"Personally I would invoke the shell interpreter explicitly. The first element in your array or ```List``` should probably be ```/bin/bash``` followed by the (correct and full) path to the script. And then of course, the next *five* arguments are the parameters to the script you posted. Make sure you handle stderr properly","body":"Personally I would invoke the shell interpreter explicitly. The first element in your array or <code>List</code> should probably be <code>&#47;bin&#47;bash</code> followed by the (correct and full) path to the script. And then of course, the next <i>five</i> arguments are the parameters to the script you posted. Make sure you handle stderr properly"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664968598,"post_id":73959294,"comment_id":130588522,"body_markdown":"Oh and you can eliminate one other potential weakness by using the full path to ```lftp```","body":"Oh and you can eliminate one other potential weakness by using the full path to <code>lftp</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664968802,"post_id":73959294,"comment_id":130588575,"body_markdown":"Is it correct to assume that shell script has execute bits set?","body":"Is it correct to assume that shell script has execute bits set?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664969010,"post_id":73959294,"comment_id":130588630,"body_markdown":"@HiranChaudhuri. Probably not ;) But even if they were and it executed, the process would fail because no parameters were passed","body":"@HiranChaudhuri. Probably not ;) But even if they were and it executed, the process would fail because no parameters were passed"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664969239,"post_id":73959294,"comment_id":130588680,"body_markdown":"Yes, it would fail. But that is to solve once the script fails. Currently it is not even invoked.","body":"Yes, it would fail. But that is to solve once the script fails. Currently it is not even invoked."},{"owner":{"account_id":7712273,"reputation":63,"user_id":5841190,"accept_rate":0,"display_name":"Bufank85"},"score":0,"creation_date":1664970142,"post_id":73959294,"comment_id":130588970,"body_markdown":"@g00se the error still appears in the console. I have tried putting /bin/sh /home/openiam/scriptsftp.sh or /bin/bash /home/openiam/scriptsftp.sh and it keeps returning No such file or directory","body":"@g00se the error still appears in the console. I have tried putting /bin/sh /home/openiam/scriptsftp.sh or /bin/bash /home/openiam/scriptsftp.sh and it keeps returning No such file or directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664970420,"post_id":73959294,"comment_id":130589075,"body_markdown":"Can we have output of following please?\n```ls -l /home/openiam/scriptsftp.sh```","body":"Can we have output of following please? <code>ls -l &#47;home&#47;openiam&#47;scriptsftp.sh</code>"},{"owner":{"account_id":7712273,"reputation":63,"user_id":5841190,"accept_rate":0,"display_name":"Bufank85"},"score":0,"creation_date":1664970507,"post_id":73959294,"comment_id":130589115,"body_markdown":"@g00se -rwxrwxrwx. 1 openiam openiam 76 Oct  5 09:41 /home/openiam/scriptsftp.sh","body":"@g00se -rwxrwxrwx. 1 openiam openiam 76 Oct  5 09:41 /home/openiam/scriptsftp.sh"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664971585,"post_id":73959294,"comment_id":130589463,"body_markdown":"I don&#39;t understand where that error output is coming from. Can you please inherit stderr and post up the full code you&#39;re running and *how* it&#39;s being run","body":"I don&#39;t understand where that error output is coming from. Can you please inherit stderr and post up the full code you&#39;re running and <i>how</i> it&#39;s being run"}],"owner":{"account_id":7712273,"reputation":63,"user_id":5841190,"accept_rate":0,"display_name":"Bufank85"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664975496,"creation_date":1664966870,"question_id":73959294,"body_markdown":"I am trying to send a csv file by calling a sh file. But it does not detect the sh file in the path of the linux machine. For now I just want to get to that file. Then I would have to pass parameters to treat them in the sh and do SFTP of the csv to another machine.\r\n\r\nJava code.\r\n\t\r\n\r\n    ProcessBuilder pb = new ProcessBuilder();\r\n    pb.command(&quot;/home/openiam/scriptsftp.sh&quot;);\r\n    Process process = pb.start();\r\n\r\nSh path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSh code.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nLinux output\r\n\r\n    [addCSVFile]  Error to add/create csv operation file: Cannot run program &quot;/home/openiam/scriptsftp.sh&quot;: error=2, No such file or directory\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HQ9z0.png\r\n  [2]: https://i.stack.imgur.com/0T8KY.png","title":"ProcessBuilder SFTP Java Linux","body":"<p>I am trying to send a csv file by calling a sh file. But it does not detect the sh file in the path of the linux machine. For now I just want to get to that file. Then I would have to pass parameters to treat them in the sh and do SFTP of the csv to another machine.</p>\n<p>Java code.</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder();\npb.command(&quot;/home/openiam/scriptsftp.sh&quot;);\nProcess process = pb.start();\n</code></pre>\n<p>Sh path.</p>\n<p><a href=\"https://i.stack.imgur.com/HQ9z0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQ9z0.png\" alt=\"enter image description here\" /></a></p>\n<p>Sh code.</p>\n<p><a href=\"https://i.stack.imgur.com/0T8KY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0T8KY.png\" alt=\"enter image description here\" /></a></p>\n<p>Linux output</p>\n<pre><code>[addCSVFile]  Error to add/create csv operation file: Cannot run program &quot;/home/openiam/scriptsftp.sh&quot;: error=2, No such file or directory\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1664973481,"post_id":73960444,"comment_id":130590110,"body_markdown":"When asking a question, please make the effort to properly format your code.","body":"When asking a question, please make the effort to properly format your code."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1664973489,"post_id":73960444,"comment_id":130590113,"body_markdown":"`String str = Integer.toString(num);`","body":"<code>String str = Integer.toString(num);</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664973634,"post_id":73960444,"comment_id":130590161,"body_markdown":"You could do `if ((numbers[i - 1] &amp; numbers[i] &amp; 1) == 1) result += &#39;-&#39;;` ;)","body":"You could do <code>if ((numbers[i - 1] &amp; numbers[i] &amp; 1) == 1) result += &#39;-&#39;;</code> ;)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664974537,"post_id":73960444,"comment_id":130590504,"body_markdown":"If you don’t understand this invalid code, you probably should ask the author instead of us.","body":"If you don’t understand this invalid code, you probably should ask the author instead of us."}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664974665,"creation_date":1664974665,"answer_id":73960700,"question_id":73960444,"body_markdown":"Instead of using\r\n\r\n    Character.getNumericValue(...);\r\n\r\nJust cast the values directly into integer\r\n\r\n    int value1 = (int)(numbers[i-1]);\r\n    int value2 = (int)(numbers[i]);\r\n\r\nThere were a few typos in your code as well. *insertDash* should look something like this in the end\r\n\r\n    char[] numbers = str.toCharArray();\r\n    String result = &quot;&quot;;\r\n    for (int i = 1; i &lt; numbers.length; i++){\r\n        int value1 = (int)(numbers[i-1]);\r\n        int value2 = (int)(numbers[i]);\r\n        result += value1;\r\n        if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\r\n            result +=&quot;-&quot;;\r\n        }\r\n    }          \r\n    result += numbers[numbers.length - 1];\r\n       \r\n    return result;","title":"Insert Dash between two odd number, how to convert int to string","body":"<p>Instead of using</p>\n<pre><code>Character.getNumericValue(...);\n</code></pre>\n<p>Just cast the values directly into integer</p>\n<pre><code>int value1 = (int)(numbers[i-1]);\nint value2 = (int)(numbers[i]);\n</code></pre>\n<p>There were a few typos in your code as well. <em>insertDash</em> should look something like this in the end</p>\n<pre><code>char[] numbers = str.toCharArray();\nString result = &quot;&quot;;\nfor (int i = 1; i &lt; numbers.length; i++){\n    int value1 = (int)(numbers[i-1]);\n    int value2 = (int)(numbers[i]);\n    result += value1;\n    if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\n        result +=&quot;-&quot;;\n    }\n}          \nresult += numbers[numbers.length - 1];\n   \nreturn result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664975413,"creation_date":1664975413,"answer_id":73960883,"question_id":73960444,"body_markdown":"```java\r\npublic static String insertDashBetweenOddNumbers(long num) {\r\n    String str = String.valueOf(num);\r\n    StringBuilder buf = new StringBuilder();\r\n\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        int cur = str.charAt(i) - &#39;0&#39;;\r\n\r\n        if (i &gt; 0) {\r\n            int prv = str.charAt(i - 1) - &#39;0&#39;;\r\n\r\n            if (isOdd(prv) &amp;&amp; isOdd(cur))\r\n                buf.append(&#39;-&#39;);\r\n        }\r\n\r\n        buf.append(cur);\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n\r\nprivate static boolean isOdd(int num) {\r\n    return (num &amp; 1) == 1;\r\n}\r\n```","title":"Insert Dash between two odd number, how to convert int to string","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String insertDashBetweenOddNumbers(long num) {\n    String str = String.valueOf(num);\n    StringBuilder buf = new StringBuilder();\n\n    for (int i = 0; i &lt; str.length(); i++) {\n        int cur = str.charAt(i) - '0';\n\n        if (i &gt; 0) {\n            int prv = str.charAt(i - 1) - '0';\n\n            if (isOdd(prv) &amp;&amp; isOdd(cur))\n                buf.append('-');\n        }\n\n        buf.append(cur);\n    }\n\n    return buf.toString();\n}\n\nprivate static boolean isOdd(int num) {\n    return (num &amp; 1) == 1;\n}\n</code></pre>\n"}],"owner":{"account_id":26484985,"reputation":7,"user_id":20123706,"display_name":"wannalearnmore001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1664975413,"creation_date":1664973297,"question_id":73960444,"body_markdown":"    import org.junit.Test;\r\n    import static \r\n    org.junit.Assert.assertEquals;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    import tester.DashSol;\r\n    \r\n    pulbic class Dash {\r\n           public static String insertDash(int num){\r\n    char[] numbers = str.tochararray();\r\n    String result = &quot;&quot;\r\n        for(int = 1; 1 &lt; numbers.length; i++){\r\n            int value1 = character.getnumericvalue(numbers[i-1]);\r\n            int value2 = character.getnumericvalue(number[i]);\r\n            result += value1;\r\n           if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\r\n           result +=&quot;-&quot;;\r\n        }\r\n    }\r\n           result += numbers[numbers.length - 1];\r\n    }}\r\n     return &quot;&quot;; \r\n     }\r\n     }\r\n\r\n\r\nwhats the relation within &quot;int num&quot;, char[]numbers ? i want to return the result in String type. \r\n","title":"Insert Dash between two odd number, how to convert int to string","body":"<pre><code>import org.junit.Test;\nimport static \norg.junit.Assert.assertEquals;\nimport java.util.Arrays;\nimport java.util.Random;\nimport tester.DashSol;\n\npulbic class Dash {\n       public static String insertDash(int num){\nchar[] numbers = str.tochararray();\nString result = &quot;&quot;\n    for(int = 1; 1 &lt; numbers.length; i++){\n        int value1 = character.getnumericvalue(numbers[i-1]);\n        int value2 = character.getnumericvalue(number[i]);\n        result += value1;\n       if(value1 % 2 != 0 &amp;&amp; value2 % 2 != 0){\n       result +=&quot;-&quot;;\n    }\n}\n       result += numbers[numbers.length - 1];\n}}\n return &quot;&quot;; \n }\n }\n</code></pre>\n<p>whats the relation within &quot;int num&quot;, char[]numbers ? i want to return the result in String type.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664975284,"creation_date":1664975284,"answer_id":73960848,"question_id":73960818,"body_markdown":"Pass a [`Duration`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#ofSeconds-long-) instead.\r\n\r\n```java\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n```","title":"The constructor WebDriverWait(WebDriver, int) is undefined Selenium","body":"<p>Pass a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#ofSeconds-long-\" rel=\"nofollow noreferrer\"><code>Duration</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664976752,"accepted_answer_id":73960848,"answer_count":1,"score":0,"last_activity_date":1664975284,"creation_date":1664975145,"question_id":73960818,"body_markdown":"I&#39;m getting this error message while using WebDriverWait.\r\n\r\nIt throws this error message: \r\n\r\n&gt; The constructor WebDriverWait(WebDriver, int) is undefined\r\n\r\n        WebDriverWait wait = new WebDriverWait(driver, 10); \r\n        WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;above-expath&quot;)));\r\n        element.click();\r\n\r\nWhat should i do instead? is it deprecated?","title":"The constructor WebDriverWait(WebDriver, int) is undefined Selenium","body":"<p>I'm getting this error message while using WebDriverWait.</p>\n<p>It throws this error message:</p>\n<blockquote>\n<p>The constructor WebDriverWait(WebDriver, int) is undefined</p>\n</blockquote>\n<pre><code>    WebDriverWait wait = new WebDriverWait(driver, 10); \n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;above-expath&quot;)));\n    element.click();\n</code></pre>\n<p>What should i do instead? is it deprecated?</p>\n"},{"tags":["java","soapui"],"answers":[{"tags":[],"owner":{"account_id":3122266,"reputation":200,"user_id":2641808,"accept_rate":20,"display_name":"s_u_f"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572848762,"creation_date":1572848762,"answer_id":58688202,"question_id":58687668,"body_markdown":"this should work.\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:x-=&quot;http://xml.apache.org/xml-soap&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;soapenv:Header/&gt;\r\n    &lt;soapenv:Body&gt;\r\n    .....\r\n    \r\n    \t&lt;x-:item&gt;\r\n    \t&lt;x-:key&gt;content&lt;/x-:key&gt;\r\n    \t&lt;x-:value xsi:type=&quot;xsd:base64Binary&quot;&gt;cid:1234567890&lt;/x-:value&gt;\r\n    \t&lt;/x-:item&gt;\r\n    \t\r\n    ......\r\n    &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;","title":"Sending byte[] data from SoapUI","body":"<p>this should work.</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \nxmlns:x-=\"http://xml.apache.org/xml-soap\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;soapenv:Header/&gt;\n&lt;soapenv:Body&gt;\n.....\n\n    &lt;x-:item&gt;\n    &lt;x-:key&gt;content&lt;/x-:key&gt;\n    &lt;x-:value xsi:type=\"xsd:base64Binary\"&gt;cid:1234567890&lt;/x-:value&gt;\n    &lt;/x-:item&gt;\n\n......\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1932600,"reputation":7074,"user_id":1741690,"accept_rate":50,"display_name":"SharpC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664975177,"creation_date":1664959410,"answer_id":73957892,"question_id":58687668,"body_markdown":"To [send file data using SoapUI][1]:\r\n* include a random cid in the request: `&lt;my:somefile&gt;cid:1234567890&lt;/my:somefile&gt;`\r\n* click Attachments at the bottom, then +\r\n* select a file\r\n* say Yes to caching\r\n* click &quot;Part&quot; in the newly attached file details and choose the cid\r\n\r\nWhen sending the request it will now include the file payload in the cid section of the XML.\r\n\r\n### Troubleshooting\r\n* SoapUI defaults to the run directory every time, so it&#39;s easier to drag and drop the files into the Attachments tab.\r\n* If the Part drop down does not automatically detect the `cid:1234567890` content, check if you have malformed XML such as `--` within a comment block, e.g:\r\n\r\n&lt;code&gt;\r\n\r\n    &lt;!--\r\n    Comment block but contains &lt;!-- nested double hyphens - -&gt;\r\n    --&gt;\r\n&lt;/code&gt;\r\n\r\n  [1]: https://aswinprasanthblog.wordpress.com/2016/03/21/how-to-send-a-filebase64binary-in-web-service-request-using-soap-ui/\r\n","title":"Sending byte[] data from SoapUI","body":"<p>To <a href=\"https://aswinprasanthblog.wordpress.com/2016/03/21/how-to-send-a-filebase64binary-in-web-service-request-using-soap-ui/\" rel=\"nofollow noreferrer\">send file data using SoapUI</a>:</p>\n<ul>\n<li>include a random cid in the request: <code>&lt;my:somefile&gt;cid:1234567890&lt;/my:somefile&gt;</code></li>\n<li>click Attachments at the bottom, then +</li>\n<li>select a file</li>\n<li>say Yes to caching</li>\n<li>click &quot;Part&quot; in the newly attached file details and choose the cid</li>\n</ul>\n<p>When sending the request it will now include the file payload in the cid section of the XML.</p>\n<h3>Troubleshooting</h3>\n<ul>\n<li>SoapUI defaults to the run directory every time, so it's easier to drag and drop the files into the Attachments tab.</li>\n<li>If the Part drop down does not automatically detect the <code>cid:1234567890</code> content, check if you have malformed XML such as <code>--</code> within a comment block, e.g:</li>\n</ul>\n<code>\n<pre><code>&lt;!--\nComment block but contains &lt;!-- nested double hyphens - -&gt;\n--&gt;\n</code></pre>\n</code>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3375,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":58688202,"answer_count":2,"score":2,"last_activity_date":1664975177,"creation_date":1572845508,"question_id":58687668,"body_markdown":"I have  a SOAP API endpoint which receives `byte[]` data and I want to test this using SoapUI. But I am really in stuck  how should I send `byte[]` data via SoapUI? I have tried with `base64` encoded string but the output is not expected (I am sending signature/public key data for verifying purpose and hence verification is not working, that means data I am sending is not ok).\r\nWhat I am doing wrong? Or how should I do it?&lt;br&gt;\r\nAny suggestions please?","title":"Sending byte[] data from SoapUI","body":"<p>I have  a SOAP API endpoint which receives <code>byte[]</code> data and I want to test this using SoapUI. But I am really in stuck  how should I send <code>byte[]</code> data via SoapUI? I have tried with <code>base64</code> encoded string but the output is not expected (I am sending signature/public key data for verifying purpose and hence verification is not working, that means data I am sending is not ok).\nWhat I am doing wrong? Or how should I do it?<br>\nAny suggestions please?</p>\n"},{"tags":["java","spring","transactions","propagation"],"comments":[{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":7,"creation_date":1347461466,"post_id":12390888,"comment_id":16647763,"body_markdown":"See this link: http://forum.springsource.org/archive/index.php/t-16594.html -- Juergen Hoeller explain it very well","body":"See this link: <a href=\"http://forum.springsource.org/archive/index.php/t-16594.html\" rel=\"nofollow noreferrer\">forum.springsource.org/archive/index.php/t-16594.html</a> -- Juergen Hoeller explain it very well"},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":0,"creation_date":1347462133,"post_id":12390888,"comment_id":16648126,"body_markdown":"@Ralph: thank you, that&#39;s exactly what I was looking for. You should add it as an answer.","body":"@Ralph: thank you, that&#39;s exactly what I was looking for. You should add it as an answer."},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":1,"creation_date":1347462294,"post_id":12390888,"comment_id":16648214,"body_markdown":"So the main difference is that with a nested transaction policy, the transaction can be rollbacked to the beginning to the current atomic operation, which is the same as in a requires_new policy, but it will only be commited at the end of the whole process, which is completly different from the requires_new policy, where each atomic operation will be commited when it ends.","body":"So the main difference is that with a nested transaction policy, the transaction can be rollbacked to the beginning to the current atomic operation, which is the same as in a requires_new policy, but it will only be commited at the end of the whole process, which is completly different from the requires_new policy, where each atomic operation will be commited when it ends."},{"owner":{"account_id":2065937,"reputation":587,"user_id":1841447,"accept_rate":50,"display_name":"webyildirim"},"score":0,"creation_date":1463733926,"post_id":12390888,"comment_id":62200709,"body_markdown":"IMHO, This difference is clearer actually. But REQUIRED and NESTED ones which are behaved similar each other are confusing. They have some differences about ability like savePoints.","body":"IMHO, This difference is clearer actually. But REQUIRED and NESTED ones which are behaved similar each other are confusing. They have some differences about ability like savePoints."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1589722075,"post_id":12390888,"comment_id":109399846,"body_markdown":"@Ralph unfortunately, your link no longer points to an existing page :(","body":"@Ralph unfortunately, your link no longer points to an existing page :("}],"answers":[{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1347461722,"creation_date":1347461722,"answer_id":12391007,"question_id":12390888,"body_markdown":"PROPAGATION_REQUIRES_NEW : uses a completely independent transaction for each affected transaction scope. In that case, the underlying physical transactions are different and hence can commit or roll back independently, with an outer transaction not affected by an inner transaction&#39;s rollback status.\r\n\r\nPROPAGATION_NESTED : uses a single physical transaction with multiple savepoints that it can roll back to. Such partial rollbacks allow an inner transaction scope to trigger a rollback for its scope, with the outer transaction being able to continue the physical transaction despite some operations having been rolled back. This setting is typically mapped onto JDBC savepoints, so will only work with JDBC resource transactions.\r\n\r\ncheck [spring documentation][1]\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-propagation","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>PROPAGATION_REQUIRES_NEW : uses a completely independent transaction for each affected transaction scope. In that case, the underlying physical transactions are different and hence can commit or roll back independently, with an outer transaction not affected by an inner transaction's rollback status.</p>\n\n<p>PROPAGATION_NESTED : uses a single physical transaction with multiple savepoints that it can roll back to. Such partial rollbacks allow an inner transaction scope to trigger a rollback for its scope, with the outer transaction being able to continue the physical transaction despite some operations having been rolled back. This setting is typically mapped onto JDBC savepoints, so will only work with JDBC resource transactions.</p>\n\n<p>check <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-propagation\" rel=\"noreferrer\">spring documentation</a></p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1664974518,"creation_date":1347462662,"answer_id":12391308,"question_id":12390888,"body_markdown":"See this link: [PROPAGATION_NESTED versus PROPAGATION_REQUIRES_NEW?][1] Juergen Hoeller explain it very well. -- _the Spring Source Forum is completely offline since February 28, 2019, but you can read the relevant part of the article in the quote below_\r\n\r\n&gt; PROPAGATION_REQUIRES_NEW starts a new, independent &quot;inner&quot; transaction\r\n&gt; for the given scope. This transaction will be committed or rolled back\r\n&gt; completely independent from the outer transaction, having its own\r\n&gt; isolation scope, its own set of locks, etc. The outer transaction will\r\n&gt; get suspended at the beginning of the inner one, and resumed once the\r\n&gt; inner one has completed. ...\r\n&gt; \r\n&gt; PROPAGATION_NESTED on the other hand starts a &quot;nested&quot; transaction,\r\n&gt; which is a true subtransaction of the existing one. What will happen\r\n&gt; is that a savepoint will be taken at the start of the nested\r\n&gt; transaction. &#205;f the nested transaction fails, we will roll back to\r\n&gt; that savepoint. The nested transaction is part of of the outer\r\n&gt; transaction, so it will only be committed at the end of of the outer\r\n&gt; transaction. ...\r\n\r\n  [1]: http://forum.springsource.org/archive/index.php/t-16594.html","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>See this link: <a href=\"http://forum.springsource.org/archive/index.php/t-16594.html\" rel=\"noreferrer\">PROPAGATION_NESTED versus PROPAGATION_REQUIRES_NEW?</a> Juergen Hoeller explain it very well. -- <em>the Spring Source Forum is completely offline since February 28, 2019, but you can read the relevant part of the article in the quote below</em></p>\n<blockquote>\n<p>PROPAGATION_REQUIRES_NEW starts a new, independent &quot;inner&quot; transaction\nfor the given scope. This transaction will be committed or rolled back\ncompletely independent from the outer transaction, having its own\nisolation scope, its own set of locks, etc. The outer transaction will\nget suspended at the beginning of the inner one, and resumed once the\ninner one has completed. ...</p>\n<p>PROPAGATION_NESTED on the other hand starts a &quot;nested&quot; transaction,\nwhich is a true subtransaction of the existing one. What will happen\nis that a savepoint will be taken at the start of the nested\ntransaction. Íf the nested transaction fails, we will roll back to\nthat savepoint. The nested transaction is part of of the outer\ntransaction, so it will only be committed at the end of of the outer\ntransaction. ...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6132216,"reputation":603,"user_id":4782065,"accept_rate":0,"display_name":"Ankit"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1449207942,"creation_date":1449207942,"answer_id":34081705,"question_id":12390888,"body_markdown":"Please find the difference\r\n\r\n    \r\n    1.) Use of NESTED Transaction\r\nExecute within a nested transaction if a current transaction exists, behave like PROPAGATION_REQUIRED else.\r\nNested transaction is supporting by Spring \r\n\r\n2.)Use of REQUIRED Transaction\r\nSupport a current transaction, create a new one if none exists.\r\n. It means for banking domain like withdraw,deposit, update the transaction\r\n \r\n3.) Use of REQUIRES_NEW Transaction\r\nCreate a new transaction, and suspend the current transaction if one exists.\r\n\r\n\r\n\r\n","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>Please find the difference</p>\n\n<pre><code>1.) Use of NESTED Transaction\n</code></pre>\n\n<p>Execute within a nested transaction if a current transaction exists, behave like PROPAGATION_REQUIRED else.\nNested transaction is supporting by Spring </p>\n\n<p>2.)Use of REQUIRED Transaction\nSupport a current transaction, create a new one if none exists.\n. It means for banking domain like withdraw,deposit, update the transaction</p>\n\n<p>3.) Use of REQUIRES_NEW Transaction\nCreate a new transaction, and suspend the current transaction if one exists.</p>\n"}],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58643,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":12391308,"answer_count":3,"score":102,"last_activity_date":1664974518,"creation_date":1347461356,"question_id":12390888,"body_markdown":"I can&#39;t understand the behavior difference between the `PROPAGATION_REQUIRES_NEW` and `PROPAGATION_NESTED` propagation policies. It seems to me that in both cases, the current process is rollbacked but not the whole transaction. Any clue?","title":"Differences between requires_new and nested propagation in Spring transactions","body":"<p>I can't understand the behavior difference between the <code>PROPAGATION_REQUIRES_NEW</code> and <code>PROPAGATION_NESTED</code> propagation policies. It seems to me that in both cases, the current process is rollbacked but not the whole transaction. Any clue?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664956289,"post_id":73956654,"comment_id":130584656,"body_markdown":"From the error, it appears a jersey library may not be configured properly or missing in your CRM webapp that uses a framework called WEBAPI. The issue is definitely during loading the application on startup. It would be a wise idea to double check the server.xml config isettings conform suitable to the activity.","body":"From the error, it appears a jersey library may not be configured properly or missing in your CRM webapp that uses a framework called WEBAPI. The issue is definitely during loading the application on startup. It would be a wise idea to double check the server.xml config isettings conform suitable to the activity."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664957267,"post_id":73956654,"comment_id":130584965,"body_markdown":"[/crmDb2API-1.0]  and    attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc&#39; appear to have signifigance. Too, and surrounding port 8080 init. and with .asm. class libraries. Of 8080 a web service WSDL may have different port (machine) requirement some where not localhost. Re, Async a resource somewhere.","body":"[/crmDb2API-1.0]  and    attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc&#39; appear to have signifigance. Too, and surrounding port 8080 init. and with .asm. class libraries. Of 8080 a web service WSDL may have different port (machine) requirement some where not localhost. Re, Async a resource somewhere."},{"owner":{"account_id":326049,"reputation":171,"user_id":647596,"accept_rate":100,"display_name":"mohd874"},"score":0,"creation_date":1664969120,"post_id":73956654,"comment_id":130588654,"body_markdown":"@SamuelMarchant The application is pure java web app. It is used to communicate to CRM system. I tried to run it on fresh installation of Tomcat 9, but with no luck. As for StockTicker, I have no clue what it means. The application does not generate WSDL.","body":"@SamuelMarchant The application is pure java web app. It is used to communicate to CRM system. I tried to run it on fresh installation of Tomcat 9, but with no luck. As for StockTicker, I have no clue what it means. The application does not generate WSDL."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664970451,"post_id":73956654,"comment_id":130589091,"body_markdown":"Your WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path. Also, had a thought did you import the libraries as save into project on compile. And is the compiler and runtime suitable JVM for ee8, ee8 is not core se8 e.g. not se core 1.8.0_202 inclusive Tomcat level check.","body":"Your WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path. Also, had a thought did you import the libraries as save into project on compile. And is the compiler and runtime suitable JVM for ee8, ee8 is not core se8 e.g. not se core 1.8.0_202 inclusive Tomcat level check."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664971267,"post_id":73956654,"comment_id":130589370,"body_markdown":"Definitely a configuration problem of some type. \nRare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)","body":"Definitely a configuration problem of some type.  Rare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1664971290,"post_id":73956654,"comment_id":130589377,"body_markdown":"&lt;load-on-startup&gt;0&lt;/load-on-startup&gt; There are no other servlets. If loaded at request made time use -1","body":"&lt;load-on-startup&gt;0&lt;/load-on-startup&gt; There are no other servlets. If loaded at request made time use -1"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664974138,"creation_date":1664972281,"answer_id":73960224,"question_id":73956654,"body_markdown":"Definitely a configuration problem of some type. Rare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89) The give-away is seeing &amp;lt;INIT&amp;gt; at webapp loading in stderror file or Catalinaout file.\r\n\r\n\r\n**&amp;lt;load-on-startup&amp;gt;0&amp;lt;/load-on-startup&amp;gt; There are no other servlets. If loaded at request made time use -1** \r\n\r\n**attributeAdded(&#39;StockTicker&#39; , &#39;async.Stockticker@23ec2bdc&#39; ) seems to be a class instantiated and added onto the live ServletContext object that will stay instantiated for start to end of application lifecycle. This seems to be a forerunner of web services API if there is no wsdl definition and registry (*async* - can input and output at same time).**\r\n\r\nPresumably with a CRM you will be using a DB driver and either pool or load method.\r\nThat if anything when it&#39;s past this error will be the next (that&#39;s the context.xml lines to configure a pool and driver usually).\r\n\r\nYour WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path.\r\n","title":"Web app failed to start, cased by org.apache.catalina.core.StandardContext.loadOnStartup, root cause java.lang.IllegalArgumentException","body":"<p>Definitely a configuration problem of some type. Rare times server.xml requires to be notified of dependency jars and ext paths, but probably the web.xml and any other webapp conf files if required . com.sun.jersey.api.core.servlet.WebAppRe esourceConfig.(WebAppResourceConfig.java:89) The give-away is seeing &lt;INIT&gt; at webapp loading in stderror file or Catalinaout file.</p>\n<p><strong>&lt;load-on-startup&gt;0&lt;/load-on-startup&gt; There are no other servlets. If loaded at request made time use -1</strong></p>\n<p><strong>attributeAdded('StockTicker' , 'async.Stockticker@23ec2bdc' ) seems to be a class instantiated and added onto the live ServletContext object that will stay instantiated for start to end of application lifecycle. This seems to be a forerunner of web services API if there is no wsdl definition and registry (<em>async</em> - can input and output at same time).</strong></p>\n<p>Presumably with a CRM you will be using a DB driver and either pool or load method.\nThat if anything when it's past this error will be the next (that's the context.xml lines to configure a pool and driver usually).</p>\n<p>Your WEBAPI servlet url pattern appears it gets directed to by &quot;anything&quot; , if it is not a default web container folder, then that should at least be the webapp folder name as part of the path.</p>\n"}],"owner":{"account_id":326049,"reputation":171,"user_id":647596,"accept_rate":100,"display_name":"mohd874"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665140589,"answer_count":1,"score":0,"last_activity_date":1664974138,"creation_date":1664952029,"question_id":73956654,"body_markdown":"I&#39;ve been on this issue for days now. I run my web app with Tomcat using Intellij IDE. I could not find why there is &quot;IllegalArgumentException&quot; or what arguments caused the issue. I tried to update the libraries, Tomcat (8, 9, 10), even the IDE itself. I could not find anything useful on the web. \r\n\r\nI appreciate if you can shed light on the cause, and if possible how to track the root cause in such cases.\r\n\r\nBelow is the stack trace from Tomcat logs and pom.xml and web.xml.\r\n\r\nThank you\r\n\r\n```pom.xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;webAPI&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webAPI&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;webAPI&lt;/name&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;resources&lt;/directory&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*.properties&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;targetPath&gt;WEB-INF/classes&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```web.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n&lt;display-name&gt;CRM-DB2 API&lt;/display-name&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n```localhost.2022-10-05.log\r\n05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [WEBAPI] in web application [/crmDb2API-1.0] threw load() exception\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\r\n\t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()\r\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()\r\n05-Oct-2022 09:12:11.075 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded(&#39;StockTicker&#39;, &#39;async.Stockticker@23ec2bdc&#39;)\r\n05-Oct-2022 09:13:32.365 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n05-Oct-2022 09:13:32.366 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [WEBAPI]\r\n\tjava.lang.IllegalArgumentException\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n\t\tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n\t\tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\r\n\t\tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\r\n\t\tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n\t\tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n\t\tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n\t\tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n\t\tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n\t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\r\n\t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\r\n\t\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n```","title":"Web app failed to start, cased by org.apache.catalina.core.StandardContext.loadOnStartup, root cause java.lang.IllegalArgumentException","body":"<p>I've been on this issue for days now. I run my web app with Tomcat using Intellij IDE. I could not find why there is &quot;IllegalArgumentException&quot; or what arguments caused the issue. I tried to update the libraries, Tomcat (8, 9, 10), even the IDE itself. I could not find anything useful on the web.</p>\n<p>I appreciate if you can shed light on the cause, and if possible how to track the root cause in such cases.</p>\n<p>Below is the stack trace from Tomcat logs and pom.xml and web.xml.</p>\n<p>Thank you</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;webAPI&lt;/groupId&gt;\n    &lt;artifactId&gt;webAPI&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;webAPI&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;resources&lt;/directory&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;*.properties&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;targetPath&gt;WEB-INF/classes&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\n&lt;display-name&gt;CRM-DB2 API&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;WEBAPI&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<pre><code>05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n05-Oct-2022 09:12:10.434 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [WEBAPI] in web application [/crmDb2API-1.0] threw load() exception\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1010)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4958)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: contextInitialized()\n05-Oct-2022 09:12:11.073 INFO [main] org.apache.catalina.core.ApplicationContext.log SessionListener: contextInitialized()\n05-Oct-2022 09:12:11.075 INFO [main] org.apache.catalina.core.ApplicationContext.log ContextListener: attributeAdded('StockTicker', 'async.Stockticker@23ec2bdc')\n05-Oct-2022 09:13:32.365 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.ApplicationContext.log Servlet.init() for servlet [WEBAPI] threw exception\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n05-Oct-2022 09:13:32.366 SEVERE [http-nio-8080-exec-2] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [WEBAPI]\n    java.lang.IllegalArgumentException\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n        at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n        at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$2.f(WebAppResourcesScanner.java:104)\n        at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:102)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:89)\n        at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n        at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n        at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n        at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n        at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n        at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n        at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1117)\n        at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:788)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:128)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1664974044,"post_id":73960530,"comment_id":130590332,"body_markdown":"Why not define it in the maven install or user home directory independent of IDEA (https://maven.apache.org/settings.html)?","body":"Why not define it in the maven install or user home directory independent of IDEA (<a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html</a>)?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664974239,"post_id":73960530,"comment_id":130590390,"body_markdown":"Yes, just edit ~/.m2/settings.xml and do no configuration in IDEA -- you want thew same results when you run maven at the command line anyway.","body":"Yes, just edit ~/.m2/settings.xml and do no configuration in IDEA -- you want thew same results when you run maven at the command line anyway."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664974615,"post_id":73960530,"comment_id":130590531,"body_markdown":"For &quot;new projects&quot;, in intelliJ there is also `File&gt;New Project&gt;Settings for New Project...` !;) Which does exactly, what you demand... &quot;Project templates&quot; sounds also interesting/more structured ..","body":"For &quot;new projects&quot;, in intelliJ there is also <code>File&gt;New Project&gt;Settings for New Project...</code> !;) Which does exactly, what you demand... &quot;Project templates&quot; sounds also interesting/more structured .."},{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1664977112,"post_id":73960530,"comment_id":130591580,"body_markdown":"@tgdavies my local maven installation isn&#39;t in that folder... if i run mvn on terminal it loads stuff from a completely different directory. but the idea is good... although not ideal since this way i need to keep track of changes in two places","body":"@tgdavies my local maven installation isn&#39;t in that folder... if i run mvn on terminal it loads stuff from a completely different directory. but the idea is good... although not ideal since this way i need to keep track of changes in two places"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664973754,"creation_date":1664973754,"question_id":73960530,"body_markdown":"Intellij sometimes behaves as dumbJ when it relates to re-defining global settings for all future projects.\r\n\r\nI mean, you click file -&gt; settings, and because of the name SETTINGS you might think those are global settings and not just related to this specific project that is open... but indeed many of those settings will only apply for that specific project you are looking into. It is the case with maven settings\r\n\r\nI go: `File | Settings | Build, Execution, Deployment | Build Tools | Maven`\r\n\r\nthen i click override maven settings file, then i select the maving settings file i use to all projects on my computer, it automatically refines the local repository variable [good] i click save and we are good to go.\r\n\r\nsome weeks later when i get to create a new project I GOTTA DO ALL THAT AGAIN, and while this is simple [just few clicks] it is absurdly annoying, and i always lose a few minutes on that because I create a new project every few months, so i copy the pom from my previous project and it wont work... the intellij will say pom wont compile or something and i keep thinking how the hell is that not working if it works in the other project... is just after a few minutes that i remember that i need to do all this setup non-sense cuz intellij is to dumb to save it as a global setting.\r\n\r\nMY QUESTION IS:\r\n\r\nHOW TO DEFINE THE MAVEN SETTING FILE FOR ALL FUTURE PROJECTS USING INTELLIJ?","title":"Define default maven settings.xml for all new projects on intellij","body":"<p>Intellij sometimes behaves as dumbJ when it relates to re-defining global settings for all future projects.</p>\n<p>I mean, you click file -&gt; settings, and because of the name SETTINGS you might think those are global settings and not just related to this specific project that is open... but indeed many of those settings will only apply for that specific project you are looking into. It is the case with maven settings</p>\n<p>I go: <code>File | Settings | Build, Execution, Deployment | Build Tools | Maven</code></p>\n<p>then i click override maven settings file, then i select the maving settings file i use to all projects on my computer, it automatically refines the local repository variable [good] i click save and we are good to go.</p>\n<p>some weeks later when i get to create a new project I GOTTA DO ALL THAT AGAIN, and while this is simple [just few clicks] it is absurdly annoying, and i always lose a few minutes on that because I create a new project every few months, so i copy the pom from my previous project and it wont work... the intellij will say pom wont compile or something and i keep thinking how the hell is that not working if it works in the other project... is just after a few minutes that i remember that i need to do all this setup non-sense cuz intellij is to dumb to save it as a global setting.</p>\n<p>MY QUESTION IS:</p>\n<p>HOW TO DEFINE THE MAVEN SETTING FILE FOR ALL FUTURE PROJECTS USING INTELLIJ?</p>\n"},{"tags":["java","logging","log4j2","appender"],"owner":{"account_id":6890720,"reputation":113,"user_id":5770655,"display_name":"mantisghost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664973486,"creation_date":1664973486,"question_id":73960477,"body_markdown":"Afer many days of struggling and trying to figure out this abomination I&#39;m at my begginer limits.\r\n\r\nNot working code based on documentation of log4j2:\r\n```java\r\nfinal LoggerContext cx = (LoggerContext) LogManager.getContext(false);\r\nfinal Configuration config = ctx.getConfiguration();\r\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\r\n\r\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\r\nab.withFileName(&quot;test.txt&quot;);\r\nab.withAppend(true);\r\nab.setName(&quot;test&quot;);\r\nab.setLayout(layout)\r\nab.build();\r\nFileAppender appender = ab.build();\r\nappender.start();\r\n\r\nconfig.addAppener(appender);\r\nAppenderRef ref = AppenderRef.createAppenderRef(&quot;test&quot;, null, null);\r\nAppenderRef[] refs = new AppenderRef[] {ref};\r\nLoggerConfig lc = LoggerConfig.createLogger(false, Level.DEBUG, &quot;test&quot;, &quot;true&quot;, refs, null, config, null);\r\nlc.addAppender(appender, null, null);\r\nconfig.addLogger(&quot;test&quot;, lc);\r\nctx.updateLoggers();\r\n```\r\nThis is how I see in my head what this code is doing. Correct me if I&#39;m wrong:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n    \t&lt;!-- Here is the output from code --&gt;\r\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n    \t&lt;!-- Here is the output from code --&gt;\r\n        &lt;Logger name=&quot;test&quot; level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;traceLog&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;!-- Below is some already existing root logger --&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nBut as mentioned this does not work. When debugging in intellij I can see configs and loggers being created. Debugging compiled code from command line with ```log4j2.debug``` also shows that appender and logger &quot;test&quot; are started and stopped and yet this code just does not work and I have no idea why.\r\n\r\nNow after tinkering a bit, now I have code like below. It works but not as I want.\r\n\r\n```java\r\nfinal LoggerContext cx = (LoggerContext) LogManager.getContext(false);\r\nfinal Configuration config = ctx.getConfiguration();\r\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\r\n\r\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\r\nab.withFileName(&quot;test.txt&quot;);\r\nab.withAppend(true);\r\nab.setName(&quot;test&quot;);\r\nab.setLayout(layout)\r\nab.build();\r\nFileAppender appender = ab.build();\r\nappender.start();\r\n\r\nctx.getConfiguration().addAppender(appender);\r\nctx.getRootLogger().addAppender(ctx.getConfiguration().getAppender(appender.getName());\r\nctx.updateLoggers();\r\n```\r\n\r\nAgain this is how I see in my head what this code is doing. Correct me if I&#39;m wrong:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n    \t&lt;!-- Here is the output from code --&gt;\r\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;!-- Below is some already existing root logger modified by above java code --&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;test&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nNow this works and logs are created but I&#39;ve found a way to change logging level for entire Root logger and not for separate refs which I need instead.\r\n\r\nThat said does someone know how to make the first part of code to work or how to set logging level in references added to root logger but programmaticaly?\r\n\r\nI will be grateful for all help regarding this dreadful library that is just broken and overcomplicated. But it is my personal opinion.","title":"Log4j2 appenders and loggers programmaticaly how to make it work?","body":"<p>Afer many days of struggling and trying to figure out this abomination I'm at my begginer limits.</p>\n<p>Not working code based on documentation of log4j2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final LoggerContext cx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = ctx.getConfiguration();\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\n\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\nab.withFileName(&quot;test.txt&quot;);\nab.withAppend(true);\nab.setName(&quot;test&quot;);\nab.setLayout(layout)\nab.build();\nFileAppender appender = ab.build();\nappender.start();\n\nconfig.addAppener(appender);\nAppenderRef ref = AppenderRef.createAppenderRef(&quot;test&quot;, null, null);\nAppenderRef[] refs = new AppenderRef[] {ref};\nLoggerConfig lc = LoggerConfig.createLogger(false, Level.DEBUG, &quot;test&quot;, &quot;true&quot;, refs, null, config, null);\nlc.addAppender(appender, null, null);\nconfig.addLogger(&quot;test&quot;, lc);\nctx.updateLoggers();\n</code></pre>\n<p>This is how I see in my head what this code is doing. Correct me if I'm wrong:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Here is the output from code --&gt;\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Here is the output from code --&gt;\n        &lt;Logger name=&quot;test&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;traceLog&quot; /&gt;\n        &lt;/Logger&gt;\n        &lt;!-- Below is some already existing root logger --&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>But as mentioned this does not work. When debugging in intellij I can see configs and loggers being created. Debugging compiled code from command line with <code>log4j2.debug</code> also shows that appender and logger &quot;test&quot; are started and stopped and yet this code just does not work and I have no idea why.</p>\n<p>Now after tinkering a bit, now I have code like below. It works but not as I want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final LoggerContext cx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = ctx.getConfiguration();\nfinal Layout&lt;String&gt; layout = PatternLayout.createDefaultLayout(config);\n\nFileAppender.Builder&lt;?&gt; ab = (FileAppender.Builder&lt;?&gt;) FileAppender.newBuilder();\nab.withFileName(&quot;test.txt&quot;);\nab.withAppend(true);\nab.setName(&quot;test&quot;);\nab.setLayout(layout)\nab.build();\nFileAppender appender = ab.build();\nappender.start();\n\nctx.getConfiguration().addAppender(appender);\nctx.getRootLogger().addAppender(ctx.getConfiguration().getAppender(appender.getName());\nctx.updateLoggers();\n</code></pre>\n<p>Again this is how I see in my head what this code is doing. Correct me if I'm wrong:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Here is the output from code --&gt;\n        &lt;FileAppender name=&quot;test&quot; fileName=&quot;test.txt&quot; /&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Below is some already existing root logger modified by above java code --&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;test&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Now this works and logs are created but I've found a way to change logging level for entire Root logger and not for separate refs which I need instead.</p>\n<p>That said does someone know how to make the first part of code to work or how to set logging level in references added to root logger but programmaticaly?</p>\n<p>I will be grateful for all help regarding this dreadful library that is just broken and overcomplicated. But it is my personal opinion.</p>\n"},{"tags":["java","testing","design-patterns"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1664910375,"post_id":73952454,"comment_id":130576628,"body_markdown":"I think we&#39;d need to see the actual code.  In most unit tests, I declare everything locally and avoid anything which might cause a dependency between tests.  It&#39;s rather unusual to share objects.","body":"I think we&#39;d need to see the actual code.  In most unit tests, I declare everything locally and avoid anything which might cause a dependency between tests.  It&#39;s rather unusual to share objects."},{"owner":{"account_id":8161607,"reputation":49,"user_id":6145451,"display_name":"behzad k."},"score":0,"creation_date":1664920054,"post_id":73952454,"comment_id":130579276,"body_markdown":"lets say i just want to have an simple id as a string which i can use everytime, instead of creating a new String in each test.","body":"lets say i just want to have an simple id as a string which i can use everytime, instead of creating a new String in each test."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664968128,"creation_date":1664966771,"answer_id":73959273,"question_id":73952454,"body_markdown":"&gt; lets say i just want to have an simple id as a string which i can use\r\n&gt; everytime, instead of creating a new String in each test.\r\n\r\nYeah, you can share or create class with fields which have constant values for test cases.\r\n\r\n\r\nIf this variable is used just for some related bunch of tests, then you can create base abstract class and write getter for it. Let me show an example:\r\n\r\n    public abstract class BaseTest\r\n    {\r\n        private string _id = &quot;1&quot;;\r\n    \r\n        public string GetId() \r\n        {\r\n            return _id;\r\n        }\r\n    }\r\n\r\nSo you will inherit this `BaseTest` class in related bunch of tests. This approach uses inheritance.\r\n\r\nIn addition, you can create a class with constant values:\r\n\r\n    public class Constant\r\n    {\r\n        public static final String WELCOME_MESSAGE = &quot;Hello, welcome to the server&quot;;\r\n    }\r\n\r\nAnd then use this variables in any place you want.\r\n\r\n","title":"How should I declare a variable which is used multiple times in a test?","body":"<blockquote>\n<p>lets say i just want to have an simple id as a string which i can use\neverytime, instead of creating a new String in each test.</p>\n</blockquote>\n<p>Yeah, you can share or create class with fields which have constant values for test cases.</p>\n<p>If this variable is used just for some related bunch of tests, then you can create base abstract class and write getter for it. Let me show an example:</p>\n<pre><code>public abstract class BaseTest\n{\n    private string _id = &quot;1&quot;;\n\n    public string GetId() \n    {\n        return _id;\n    }\n}\n</code></pre>\n<p>So you will inherit this <code>BaseTest</code> class in related bunch of tests. This approach uses inheritance.</p>\n<p>In addition, you can create a class with constant values:</p>\n<pre><code>public class Constant\n{\n    public static final String WELCOME_MESSAGE = &quot;Hello, welcome to the server&quot;;\n}\n</code></pre>\n<p>And then use this variables in any place you want.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664973225,"creation_date":1664973225,"answer_id":73960430,"question_id":73952454,"body_markdown":"Assuming unit tests, they should be stand-alone, and unordered.\r\n\r\nHence the only fields may be constants, `static final String ID_A = &quot;Ahmed&quot;;`.\r\n\r\nThe same for _constant_ objects.\r\n\r\nHowever you can run a setup `@BeforeEach` (junit 5) and tear-down `@AfterEach` method automatically for every test.\r\nUse that for a database connection and such.\r\n\r\nFor the rest it often makes sense to have a couple of methods delivering more complex (like hierarchical data). Especially if not every test uses that data, so the object is not suitable a field filled in a setup method.\r\n","title":"How should I declare a variable which is used multiple times in a test?","body":"<p>Assuming unit tests, they should be stand-alone, and unordered.</p>\n<p>Hence the only fields may be constants, <code>static final String ID_A = &quot;Ahmed&quot;;</code>.</p>\n<p>The same for <em>constant</em> objects.</p>\n<p>However you can run a setup <code>@BeforeEach</code> (junit 5) and tear-down <code>@AfterEach</code> method automatically for every test.\nUse that for a database connection and such.</p>\n<p>For the rest it often makes sense to have a couple of methods delivering more complex (like hierarchical data). Especially if not every test uses that data, so the object is not suitable a field filled in a setup method.</p>\n"}],"owner":{"account_id":8161607,"reputation":49,"user_id":6145451,"display_name":"behzad k."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1664973225,"creation_date":1664909836,"question_id":73952454,"body_markdown":"I want to know how I should declare Objects as a field when I want to use them in different test cases. \r\n- standard declaration with &#39;private&#39; \r\n- final / not final\r\n- static / non static\r\n\r\nAnd if there is a choice how I really should do that, please explain?","title":"How should I declare a variable which is used multiple times in a test?","body":"<p>I want to know how I should declare Objects as a field when I want to use them in different test cases.</p>\n<ul>\n<li>standard declaration with 'private'</li>\n<li>final / not final</li>\n<li>static / non static</li>\n</ul>\n<p>And if there is a choice how I really should do that, please explain?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664962744,"post_id":73958451,"comment_id":130586602,"body_markdown":"If you have array of primitive type the only way is to initialize the array with values that for sure won&#39;t be used in your core logic. So that each time you attempt to put a value to your array you would test if there is that initialized value exists. If not, then the cell considered occupied.","body":"If you have array of primitive type the only way is to initialize the array with values that for sure won&#39;t be used in your core logic. So that each time you attempt to put a value to your array you would test if there is that initialized value exists. If not, then the cell considered occupied."},{"owner":{"account_id":26533685,"reputation":1,"user_id":20165524,"display_name":"Sarah Carter"},"score":0,"creation_date":1664963049,"post_id":73958451,"comment_id":130586727,"body_markdown":"@AlexeyR. Oh the values are already initialized to all zeros. Just need to update to the correct values in the loop.","body":"@AlexeyR. Oh the values are already initialized to all zeros. Just need to update to the correct values in the loop."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664963491,"post_id":73958451,"comment_id":130586886,"body_markdown":"Having `0` is not actually a robust solution because if here `int src = Integer.parseInt(elm[j]);` you have `elm[j] == 0` then next time you would not distinguish if that is an `initial` value or that one that has to be protected from being overridden. If that&#39;s not the case just test `sourceArray[(i+j-1)] == 0` before putting value to the cell.. If `false` then skip the iteration.","body":"Having <code>0</code> is not actually a robust solution because if here <code>int src = Integer.parseInt(elm[j]);</code> you have <code>elm[j] == 0</code> then next time you would not distinguish if that is an <code>initial</code> value or that one that has to be protected from being overridden. If that&#39;s not the case just test <code>sourceArray[(i+j-1)] == 0</code> before putting value to the cell.. If <code>false</code> then skip the iteration."},{"owner":{"account_id":26533685,"reputation":1,"user_id":20165524,"display_name":"Sarah Carter"},"score":0,"creation_date":1664965905,"post_id":73958451,"comment_id":130587662,"body_markdown":"But each  elm should go into the array. The array is of correct size to store all the elements. I believe the [(i+j-1)] needs some sort of constant/variable to prevent index overwrites, but I can&#39;t figure out how to implement that.","body":"But each  elm should go into the array. The array is of correct size to store all the elements. I believe the [(i+j-1)] needs some sort of constant/variable to prevent index overwrites, but I can&#39;t figure out how to implement that."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1664966505,"post_id":73958451,"comment_id":130587843,"body_markdown":"Ah.. I see.. So you read `elem` each time in outer (`i`) loop? If yes, does `elem` have each time the same length or it varies?","body":"Ah.. I see.. So you read <code>elem</code> each time in outer (<code>i</code>) loop? If yes, does <code>elem</code> have each time the same length or it varies?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1664968959,"post_id":73958451,"comment_id":130588619,"body_markdown":"It is not clear what you are trying to achieve with the assignment in question.  It looks like each row is a separate account.  It looks like you are trying to read all of the values into a single `int[]` with no way to identify where a given account starts/ends.  What are you trying to do here?","body":"It is not clear what you are trying to achieve with the assignment in question.  It looks like each row is a separate account.  It looks like you are trying to read all of the values into a single <code>int[]</code> with no way to identify where a given account starts/ends.  What are you trying to do here?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664975388,"post_id":73958451,"comment_id":130590841,"body_markdown":"Solution: you have two-dimensional data, and inconsistent lengths. Don&#39;t try to do a fancy trick with storing indices under `(i * elm[i].length) + j -1` (typical mapping for a 2D array of constant sizes). Instead, keep an _actual_ 2D structure, like `int[][]` or `List&lt;MyParsedAccount&gt;`","body":"Solution: you have two-dimensional data, and inconsistent lengths. Don&#39;t try to do a fancy trick with storing indices under <code>(i * elm[i].length) + j -1</code> (typical mapping for a 2D array of constant sizes). Instead, keep an <i>actual</i> 2D structure, like <code>int[][]</code> or <code>List&lt;MyParsedAccount&gt;</code>"}],"owner":{"account_id":26533685,"reputation":1,"user_id":20165524,"display_name":"Sarah Carter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664973141,"creation_date":1664962432,"question_id":73958451,"body_markdown":"I am trying to stop elements in sourceArray from being overwritten. Currently, the code works until I reach a point where `i` changes, at that point overwrites begin.\r\n\r\n    for (int i = 0; i &lt; num_accounts; ++i) {\r\n        ...\r\n        for (int j = 1; j &lt; elm.length; ++j) {\r\n\r\n            int src = Integer.parseInt(elm[j]);\r\n            System.out.println(&quot;DEBUG&quot;);\r\n            System.out.println(&quot;Value of i: &quot;+i);\r\n            System.out.println(&quot;Value of j:&quot;+j);\r\n            System.out.println(&quot;Value of elm[j]&quot;+ elm[j]);\r\n            System.out.println(&quot;Value of sourceArray index&quot;+(i+j));\r\n            sourceArray[(i+j-1)] = src;\r\n        }\r\n\r\nSnippet of debug information to demonstrate issue:\r\n\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:1\r\n    Value of elm[j]22\r\n    Value of sourceArray index1\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:2\r\n    Value of elm[j]36\r\n    Value of sourceArray index2\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:3\r\n    Value of elm[j]39\r\n    Value of sourceArray index3\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:4\r\n    Value of elm[j]45\r\n    Value of sourceArray index4\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:5\r\n    Value of elm[j]56\r\n    Value of sourceArray index5\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:6\r\n    Value of elm[j]81\r\n    Value of sourceArray index6\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:7\r\n    Value of elm[j]89\r\n    Value of sourceArray index7\r\n    DEBUG\r\n    Value of i: 0\r\n    Value of j:8\r\n    Value of elm[j]106\r\n    Value of sourceArray index8\r\n    DEBUG\r\n    Value of i: 2\r\n    Value of j:1\r\n    Value of elm[j]9\r\n    Value of sourceArray index3\r\n    DEBUG\r\n    Value of i: 2\r\n    Value of j:2\r\n    Value of elm[j]26\r\n    Value of sourceArray index4\r\n\r\n(Note not all accounts (for example i=1) have any `elm` assigned to it, and so can be ignored)\r\n\r\nThe sourceArray has been initialised with the correct size. \r\n\r\nI have tried putting adding an additional value corresponding to the last index of the previous element but that resulted in exceeding the array size.\r\n\r\nThe file I am reading from, seen in the example:\r\n\r\n    0 22 36 39 45 56 81 89 106\r\n    1\r\n    2 9 26 51 58 75 86 89 101 102\r\n    ...\r\n\r\nWhere the first elm is the account id and the rest are elms.\r\n","title":"How do you prevent overwrites in arrays java","body":"<p>I am trying to stop elements in sourceArray from being overwritten. Currently, the code works until I reach a point where <code>i</code> changes, at that point overwrites begin.</p>\n<pre><code>for (int i = 0; i &lt; num_accounts; ++i) {\n    ...\n    for (int j = 1; j &lt; elm.length; ++j) {\n\n        int src = Integer.parseInt(elm[j]);\n        System.out.println(&quot;DEBUG&quot;);\n        System.out.println(&quot;Value of i: &quot;+i);\n        System.out.println(&quot;Value of j:&quot;+j);\n        System.out.println(&quot;Value of elm[j]&quot;+ elm[j]);\n        System.out.println(&quot;Value of sourceArray index&quot;+(i+j));\n        sourceArray[(i+j-1)] = src;\n    }\n</code></pre>\n<p>Snippet of debug information to demonstrate issue:</p>\n<pre><code>DEBUG\nValue of i: 0\nValue of j:1\nValue of elm[j]22\nValue of sourceArray index1\nDEBUG\nValue of i: 0\nValue of j:2\nValue of elm[j]36\nValue of sourceArray index2\nDEBUG\nValue of i: 0\nValue of j:3\nValue of elm[j]39\nValue of sourceArray index3\nDEBUG\nValue of i: 0\nValue of j:4\nValue of elm[j]45\nValue of sourceArray index4\nDEBUG\nValue of i: 0\nValue of j:5\nValue of elm[j]56\nValue of sourceArray index5\nDEBUG\nValue of i: 0\nValue of j:6\nValue of elm[j]81\nValue of sourceArray index6\nDEBUG\nValue of i: 0\nValue of j:7\nValue of elm[j]89\nValue of sourceArray index7\nDEBUG\nValue of i: 0\nValue of j:8\nValue of elm[j]106\nValue of sourceArray index8\nDEBUG\nValue of i: 2\nValue of j:1\nValue of elm[j]9\nValue of sourceArray index3\nDEBUG\nValue of i: 2\nValue of j:2\nValue of elm[j]26\nValue of sourceArray index4\n</code></pre>\n<p>(Note not all accounts (for example i=1) have any <code>elm</code> assigned to it, and so can be ignored)</p>\n<p>The sourceArray has been initialised with the correct size.</p>\n<p>I have tried putting adding an additional value corresponding to the last index of the previous element but that resulted in exceeding the array size.</p>\n<p>The file I am reading from, seen in the example:</p>\n<pre><code>0 22 36 39 45 56 81 89 106\n1\n2 9 26 51 58 75 86 89 101 102\n...\n</code></pre>\n<p>Where the first elm is the account id and the rest are elms.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1664941651,"post_id":73955699,"comment_id":130582027,"body_markdown":"Add your project structure.","body":"Add your project structure."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1664945369,"post_id":73955699,"comment_id":130582482,"body_markdown":"The `javafx.application.Application` class is from JavaFX, not your own project. And what that error suggests is that JavaFX is not on the module-path/class-path when you execute your project. Assuming Java/JavaFX 11+, you need to add JavaFX to the `--module-path` and, if your own code is not modular, use `--add-modules` (see [Getting Started with JavaFX 11+](https://openjfx.io/openjfx-docs/)). Or you could use a JDK distribution that includes JavaFX (e.g., BellSoft Liberica, Azul Zulu).","body":"The <code>javafx.application.Application</code> class is from JavaFX, not your own project. And what that error suggests is that JavaFX is not on the module-path/class-path when you execute your project. Assuming Java/JavaFX 11+, you need to add JavaFX to the <code>--module-path</code> and, if your own code is not modular, use <code>--add-modules</code> (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX 11+</a>). Or you could use a JDK distribution that includes JavaFX (e.g., BellSoft Liberica, Azul Zulu)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664950614,"post_id":73955699,"comment_id":130583301,"body_markdown":"Slaw’s Comment is correct but brief. For more info, search Stack Overflow thoroughly as this topic has been addressed many times. And study the OpenJFX site.","body":"Slaw’s Comment is correct but brief. For more info, search Stack Overflow thoroughly as this topic has been addressed many times. And study the OpenJFX site."}],"owner":{"account_id":26531525,"reputation":1,"user_id":20163626,"display_name":"Harry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664950817,"answer_count":0,"score":0,"last_activity_date":1664973058,"creation_date":1664941001,"question_id":73955699,"body_markdown":"I am working on a JavaFX project, and I am having trouble displaying the user interface. I keep getting this error:\r\n\r\n```none\r\nError: Could not find or load main class Main.SongApp\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n```\r\nI am confused because my directory has no files named &#39;application&#39; or &#39;Application.&#39;\r\n\r\nI have these three files and I am not sure why this code does not run. This is the main file that I try to display the user interface from:\r\nSongApp.java\r\n```java\r\npublic class SongApp extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\t\r\n\t\t// create FXML loader\r\n\t\tFXMLLoader loader = new FXMLLoader();\r\n\t\tloader.setLocation(getClass().getResource(&quot;/SongLibraryProject/ControllerTing/SongLib.fxml&quot;));\r\n\t\t\r\n\t\t// load fxml, root layout manager in fxml file is GridPane\r\n\t\tAnchorPane root = (AnchorPane)loader.load();\r\n\r\n\t\t// set scene to root\r\n\t\tScene scene = new Scene(root);\r\n\t\tprimaryStage.setScene(scene);\r\n\t\tprimaryStage.setResizable(false);\r\n\t\tprimaryStage.show();\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nThis file has my front end code from Scene Builder and the anchor table I am trying to display: SongLib.fxml\r\n```xml\r\n&lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;747.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;747.0&quot; style=&quot;-fx-background-color: #263238;&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SongLibrary.View.Controller&quot;&gt;\r\n             //front end(scenebuilder code)\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nThis is the the controller file: SongLibController.java\r\n```\r\npublic class SongLibController {\r\n    @FXML ListView&lt;Song&gt; songList;\r\n    @FXML Button add;\r\n    @FXML Button edit;\r\n    @FXML Button delete;\r\n    @FXML Text name;\r\n    @FXML Text artist;\r\n    @FXML Text album;\r\n    @FXML Text year;\r\n    @FXML TextField nameField;\r\n    @FXML TextField artistField;\r\n    @FXML TextField albumField;\r\n    @FXML TextField yearField;\r\n\r\n    private ObservableList&lt;String&gt; obsList;\r\n\r\n    public void add(ActionEvent e) {\r\n        System.out.println(&quot;add&quot;);\r\n  }\r\n\r\n    public void edit(ActionEvent e) {\r\n        System.out.println(&quot;edit&quot;);\r\n    }\r\n\r\n    public void delete(ActionEvent e) {\r\n        System.out.println(&quot;delete&quot;);\r\n    }\r\n}\r\n```\r\n","title":"How to display user interface in JavaFX","body":"<p>I am working on a JavaFX project, and I am having trouble displaying the user interface. I keep getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: Could not find or load main class Main.SongApp\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n</code></pre>\n<p>I am confused because my directory has no files named 'application' or 'Application.'</p>\n<p>I have these three files and I am not sure why this code does not run. This is the main file that I try to display the user interface from:\nSongApp.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SongApp extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        \n        // create FXML loader\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(getClass().getResource(&quot;/SongLibraryProject/ControllerTing/SongLib.fxml&quot;));\n        \n        // load fxml, root layout manager in fxml file is GridPane\n        AnchorPane root = (AnchorPane)loader.load();\n\n        // set scene to root\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.setResizable(false);\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This file has my front end code from Scene Builder and the anchor table I am trying to display: SongLib.fxml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;747.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;747.0&quot; style=&quot;-fx-background-color: #263238;&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;SongLibrary.View.Controller&quot;&gt;\n             //front end(scenebuilder code)\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>This is the the controller file: SongLibController.java</p>\n<pre><code>public class SongLibController {\n    @FXML ListView&lt;Song&gt; songList;\n    @FXML Button add;\n    @FXML Button edit;\n    @FXML Button delete;\n    @FXML Text name;\n    @FXML Text artist;\n    @FXML Text album;\n    @FXML Text year;\n    @FXML TextField nameField;\n    @FXML TextField artistField;\n    @FXML TextField albumField;\n    @FXML TextField yearField;\n\n    private ObservableList&lt;String&gt; obsList;\n\n    public void add(ActionEvent e) {\n        System.out.println(&quot;add&quot;);\n  }\n\n    public void edit(ActionEvent e) {\n        System.out.println(&quot;edit&quot;);\n    }\n\n    public void delete(ActionEvent e) {\n        System.out.println(&quot;delete&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","configuration","axis"],"answers":[{"tags":[],"owner":{"account_id":56047,"reputation":177,"user_id":167896,"accept_rate":75,"display_name":"Yusuf Soysal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1331736157,"creation_date":1331736157,"answer_id":9704139,"question_id":9378963,"body_markdown":"I solved this by copying the client_config.wsdd file to WEB-INF/classes folder. Axis did not complaint yet :)","title":"Axis: No engine configuration file - aborting","body":"<p>I solved this by copying the client_config.wsdd file to WEB-INF/classes folder. Axis did not complaint yet :)</p>\n"},{"tags":[],"owner":{"account_id":8256974,"reputation":1,"user_id":6209848,"display_name":"Juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460731725,"creation_date":1460731725,"answer_id":36650358,"question_id":9378963,"body_markdown":"Se puede solucionar pasando el Path al constructor de FileProvider\r\n\r\n\r\n\t\tEngineConfiguration engineConfiguration;\r\n\t\ttry {\r\n\t\t\tengineConfiguration = new FileProvider(&quot;Path&quot;,&quot;client-config.wsdd&quot;);\r\n\t\t\tengine = new AxisClient(engineConfiguration);\r\n\t\t} catch (ConfigurationException e) {\r\n\t\t\t\r\n\t\tlogger.debug(&quot;exception &quot;,e);\r\n\t\t}","title":"Axis: No engine configuration file - aborting","body":"<p>Se puede solucionar pasando el Path al constructor de FileProvider</p>\n\n<pre><code>    EngineConfiguration engineConfiguration;\n    try {\n        engineConfiguration = new FileProvider(\"Path\",\"client-config.wsdd\");\n        engine = new AxisClient(engineConfiguration);\n    } catch (ConfigurationException e) {\n\n    logger.debug(\"exception \",e);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259306,"reputation":406,"user_id":2086393,"accept_rate":73,"display_name":"Marwa Dosoky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664972808,"creation_date":1664972808,"answer_id":73960352,"question_id":9378963,"body_markdown":"Set the config file path from here \r\n\r\n\t`System.setProperty(&quot;axis.ClientConfigFile&quot;, path);`\r\n\r\n\r\nclient_config.wsdd content be like\r\n\r\n    `&lt;deployment xmlns=&quot;http://xml.apache.org/axis/wsdd/&quot;\r\n\txmlns:java=&quot;http://xml.apache.org/axis/wsdd/providers/java&quot;&gt;\r\n\t&lt;globalConfiguration&gt;\r\n\t\t&lt;requestFlow&gt;\r\n\t\t\t&lt;handler name=&quot;log&quot;\r\n\t\t\t\ttype=&quot;java:{package.class}&quot; /&gt;\r\n\t\t&lt;/requestFlow&gt;\r\n\t\t&lt;responseFlow&gt;\r\n\t\t\t&lt;handler name=&quot;log&quot;\r\n\t\t\t\ttype=&quot;java:{package.class}&quot; /&gt;\r\n\t\t&lt;/responseFlow&gt;\r\n\r\n\t&lt;/globalConfiguration&gt;\r\n\t&lt;transport name=&quot;http&quot;\r\n\t\tpivot=&quot;java:org.apache.axis.transport.http.HTTPSender&quot; /&gt;\r\n&lt;/deployment&gt;`","title":"Axis: No engine configuration file - aborting","body":"<p>Set the config file path from here</p>\n<pre><code>`System.setProperty(&quot;axis.ClientConfigFile&quot;, path);`\n</code></pre>\n<p>client_config.wsdd content be like</p>\n<pre><code>`&lt;deployment xmlns=&quot;http://xml.apache.org/axis/wsdd/&quot;\nxmlns:java=&quot;http://xml.apache.org/axis/wsdd/providers/java&quot;&gt;\n&lt;globalConfiguration&gt;\n    &lt;requestFlow&gt;\n        &lt;handler name=&quot;log&quot;\n            type=&quot;java:{package.class}&quot; /&gt;\n    &lt;/requestFlow&gt;\n    &lt;responseFlow&gt;\n        &lt;handler name=&quot;log&quot;\n            type=&quot;java:{package.class}&quot; /&gt;\n    &lt;/responseFlow&gt;\n\n&lt;/globalConfiguration&gt;\n&lt;transport name=&quot;http&quot;\n    pivot=&quot;java:org.apache.axis.transport.http.HTTPSender&quot; /&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":56047,"reputation":177,"user_id":167896,"accept_rate":75,"display_name":"Yusuf Soysal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9937,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9704139,"answer_count":3,"score":1,"last_activity_date":1664972808,"creation_date":1329833295,"question_id":9378963,"body_markdown":"My application - which is a WAR file - calls different web services using Axis. Yesterday we had a strange error regarding to Axis client_config.wsdd file. When we restart the application server (Weblogic 10.3.2), application began to write error logs saying:\r\n\r\n    org.apache.axis.ConfigurationException: No engine configuration file - aborting!\r\n        at org.apache.axis.configuration.FileProvider.configureEngine(FileProvider.java:175)\r\n        at org.apache.axis.AxisEngine.init(AxisEngine.java:172)\r\n        at org.apache.axis.AxisEngine.&lt;init&gt;(AxisEngine.java:156)\r\n        at org.apache.axis.client.AxisClient.&lt;init&gt;(AxisClient.java:52)\r\n        at org.apache.axis.client.Service.getAxisClient(Service.java:104)\r\n        at org.apache.axis.client.Service.&lt;init&gt;(Service.java:113)\r\n\r\nHowever, there is a client_config.wsdd file in axis.jar. We restarted the application server, the error is gone. How could it be possible that axis couldn&#39;t file the wsdd file that is already in axis.jar? Should I do anything to prevent this situation happen again (like copying the same file to WEB-INF/classes or some other folder)?\r\n\r\nThank you","title":"Axis: No engine configuration file - aborting","body":"<p>My application - which is a WAR file - calls different web services using Axis. Yesterday we had a strange error regarding to Axis client_config.wsdd file. When we restart the application server (Weblogic 10.3.2), application began to write error logs saying:</p>\n\n<pre><code>org.apache.axis.ConfigurationException: No engine configuration file - aborting!\n    at org.apache.axis.configuration.FileProvider.configureEngine(FileProvider.java:175)\n    at org.apache.axis.AxisEngine.init(AxisEngine.java:172)\n    at org.apache.axis.AxisEngine.&lt;init&gt;(AxisEngine.java:156)\n    at org.apache.axis.client.AxisClient.&lt;init&gt;(AxisClient.java:52)\n    at org.apache.axis.client.Service.getAxisClient(Service.java:104)\n    at org.apache.axis.client.Service.&lt;init&gt;(Service.java:113)\n</code></pre>\n\n<p>However, there is a client_config.wsdd file in axis.jar. We restarted the application server, the error is gone. How could it be possible that axis couldn't file the wsdd file that is already in axis.jar? Should I do anything to prevent this situation happen again (like copying the same file to WEB-INF/classes or some other folder)?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","html","spring-boot"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1664972531,"post_id":73960179,"comment_id":130589768,"body_markdown":"Does this answer your question? [Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported for @RequestBody MultiValueMap](https://stackoverflow.com/questions/33796218/content-type-application-x-www-form-urlencodedcharset-utf-8-not-supported-for)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33796218/content-type-application-x-www-form-urlencodedcharset-utf-8-not-supported-for\">Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported for @RequestBody MultiValueMap</a>"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1664972837,"post_id":73960179,"comment_id":130589880,"body_markdown":"Hi, thanks for helping. Somehow after next app reload I got a method called, but now I&#39;m getting another errors. Question is updated. Sorry.","body":"Hi, thanks for helping. Somehow after next app reload I got a method called, but now I&#39;m getting another errors. Question is updated. Sorry."}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664972790,"creation_date":1664972038,"question_id":73960179,"body_markdown":"I have a method that need to logout user and also need to delete his refresh token.\r\n\r\nThis is how its look like:\r\n\r\n        @PostMapping(&quot;/logout&quot;)\r\n        public ResponseEntity&lt;?&gt; logoutPage(@RequestBody TokenDTO dto) {\r\n        logger.error(&quot;I&#39;m in method&quot;);\r\n\r\n        String refreshTokenString = dto.getRefreshToken();\r\n            if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\r\n                // valid and exists in db\r\n                refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\r\n\r\n                return ResponseEntity.ok().build();\r\n            }\r\n\r\n            throw new BadCredentialsException(&quot;invalid token&quot;);\r\n\r\n        }\r\n\r\nAs you can see I have logger.\r\n\r\nThis is inside Thymeleaf:\r\n\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/api/auth/logout}&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Logout&quot;&gt;\r\n    &lt;/form&gt;\r\n\r\nWhen I trigger that button instead of deleting refresh token that is connected with user I&#39;m getting next error:\r\n\r\n    java.lang.NullPointerException: null\r\n    at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:15) ~[java-jwt-4.0.0.jar:4.0.0]\r\n    at com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:37) ~[java-jwt-4.0.0.jar:4.0.0]\r\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:440) ~[java-jwt-4.0.0.jar:4.0.0]\r\n    at demo.tripadvisorapp.security.jwt.JwtHelper.decodeRefreshToken(JwtHelper.java:73) ~[classes/:na]\r\n    at demo.tripadvisorapp.security.jwt.JwtHelper.validateRefreshToken(JwtHelper.java:85) ~[classes/:na]\r\n    at demo.tripadvisorapp.security.api.AuthController.logoutPage(AuthController.java:127) ~[classes/:na]\r\n\r\n\r\nThis is `jwtHelper.decodeRefreshToken`\r\n\r\n       private Optional&lt;DecodedJWT&gt; decodeRefreshToken(String token) {\r\n        try {\r\n            return Optional.of(refreshTokenVerifier.verify(token));\r\n        } catch (JWTVerificationException e) {\r\n            log.error(&quot;invalid refresh token&quot;, e);\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\nThis is `jwtHelper.validateRefreshToken`\r\n\r\n     public boolean validateRefreshToken(String token) {\r\n        return decodeRefreshToken(token).isPresent();\r\n    }\r\n\r\nAnd for `AuthController.logoutPage` I aready provided method above.\r\n\r\nWhat cause this problem, what I&#39;m doing wrong?","title":"NullPointerException while trying to delete refresh token from document after user logout","body":"<p>I have a method that need to logout user and also need to delete his refresh token.</p>\n<p>This is how its look like:</p>\n<pre><code>    @PostMapping(&quot;/logout&quot;)\n    public ResponseEntity&lt;?&gt; logoutPage(@RequestBody TokenDTO dto) {\n    logger.error(&quot;I'm in method&quot;);\n\n    String refreshTokenString = dto.getRefreshToken();\n        if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\n            // valid and exists in db\n            refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\n\n            return ResponseEntity.ok().build();\n        }\n\n        throw new BadCredentialsException(&quot;invalid token&quot;);\n\n    }\n</code></pre>\n<p>As you can see I have logger.</p>\n<p>This is inside Thymeleaf:</p>\n<pre><code>&lt;form method=&quot;post&quot; th:action=&quot;@{/api/auth/logout}&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Logout&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>When I trigger that button instead of deleting refresh token that is connected with user I'm getting next error:</p>\n<pre><code>java.lang.NullPointerException: null\nat com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:15) ~[java-jwt-4.0.0.jar:4.0.0]\nat com.auth0.jwt.JWTDecoder.&lt;init&gt;(JWTDecoder.java:37) ~[java-jwt-4.0.0.jar:4.0.0]\nat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:440) ~[java-jwt-4.0.0.jar:4.0.0]\nat demo.tripadvisorapp.security.jwt.JwtHelper.decodeRefreshToken(JwtHelper.java:73) ~[classes/:na]\nat demo.tripadvisorapp.security.jwt.JwtHelper.validateRefreshToken(JwtHelper.java:85) ~[classes/:na]\nat demo.tripadvisorapp.security.api.AuthController.logoutPage(AuthController.java:127) ~[classes/:na]\n</code></pre>\n<p>This is <code>jwtHelper.decodeRefreshToken</code></p>\n<pre><code>   private Optional&lt;DecodedJWT&gt; decodeRefreshToken(String token) {\n    try {\n        return Optional.of(refreshTokenVerifier.verify(token));\n    } catch (JWTVerificationException e) {\n        log.error(&quot;invalid refresh token&quot;, e);\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>This is <code>jwtHelper.validateRefreshToken</code></p>\n<pre><code> public boolean validateRefreshToken(String token) {\n    return decodeRefreshToken(token).isPresent();\n}\n</code></pre>\n<p>And for <code>AuthController.logoutPage</code> I aready provided method above.</p>\n<p>What cause this problem, what I'm doing wrong?</p>\n"},{"tags":["java","variables","java.util.scanner"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664972577,"post_id":73960254,"comment_id":130589782,"body_markdown":"what makes you think it doesn&#39;t allow it? Chance is, however, that the decimal point is .","body":"what makes you think it doesn&#39;t allow it? Chance is, however, that the decimal point is ."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664972577,"post_id":73960254,"comment_id":130589783,"body_markdown":"Can you just input them with a dot instead of a comma?","body":"Can you just input them with a dot instead of a comma?"}],"owner":{"account_id":22925355,"reputation":39,"user_id":17060519,"display_name":"Jovan Raskovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664972683,"answer_count":0,"score":0,"last_activity_date":1664972787,"creation_date":1664972399,"question_id":73960254,"body_markdown":"As I was trying to create a certain calculator function for my electrical engineering lessons,\r\nI came upon a problem, that didn&#39;t let me scan comma values for the calculation. \r\nIs there any way that i can solve this problem?\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n    \r\npublic class Main {\r\n    \r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    double voltage, resistance, current;\r\n   \r\n    System.out.println(&quot;Input value of R: &quot;);\r\n    resistance = scan.newDouble();\r\n\r\n    System.out.println(&quot;Input value of I: &quot;);\r\n    current = scan.nextDouble();\r\n\r\n    voltage = resistance * current;\r\n  }\r\n}\r\n```","title":"Is there a way that I can scan comma values in Java?","body":"<p>As I was trying to create a certain calculator function for my electrical engineering lessons,\nI came upon a problem, that didn't let me scan comma values for the calculation.\nIs there any way that i can solve this problem?</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n    \npublic class Main {\n    \n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    double voltage, resistance, current;\n   \n    System.out.println(&quot;Input value of R: &quot;);\n    resistance = scan.newDouble();\n\n    System.out.println(&quot;Input value of I: &quot;);\n    current = scan.nextDouble();\n\n    voltage = resistance * current;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aop","spring-aop"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1664955974,"post_id":73957171,"comment_id":130584584,"body_markdown":"Forget about spring and think about plain java. None of the three implementations you show is implementing MyService, they&#39;re just implementing one part of it. If you wanted a usable implementation of MyService, you&#39;d still need to encapsulate the three small implementations into a big one that actually implements the whole service. So as you can&#39;t do it in plain java, you won&#39;t be able to do it on spring without doing custom annotation processing.","body":"Forget about spring and think about plain java. None of the three implementations you show is implementing MyService, they&#39;re just implementing one part of it. If you wanted a usable implementation of MyService, you&#39;d still need to encapsulate the three small implementations into a big one that actually implements the whole service. So as you can&#39;t do it in plain java, you won&#39;t be able to do it on spring without doing custom annotation processing."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664956728,"post_id":73957171,"comment_id":130584792,"body_markdown":"I think you&#39;d have to implement something yourself - not necessarily an annotation processor but I&#39;d say more like a bean factory that can provide instances of `MyService`. From what I know that&#39;s how Spring is doing it, i.e. it is creating proxies at runtime. You could have a look at classes like `RepositoryFactorySupport` etc.- However, I&#39;d advice you to think about whether this is really worth the effort as there may be simpler solutions with a somewhat different design.","body":"I think you&#39;d have to implement something yourself - not necessarily an annotation processor but I&#39;d say more like a bean factory that can provide instances of <code>MyService</code>. From what I know that&#39;s how Spring is doing it, i.e. it is creating proxies at runtime. You could have a look at classes like <code>RepositoryFactorySupport</code> etc.- However, I&#39;d advice you to think about whether this is really worth the effort as there may be simpler solutions with a somewhat different design."}],"answers":[{"tags":[],"owner":{"account_id":20319669,"reputation":45,"user_id":14904658,"display_name":"LunaLissa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664958954,"creation_date":1664958954,"answer_id":73957806,"question_id":73957171,"body_markdown":"The easiest way is you put all interface into one interface :\r\n\r\n    public interface CommonService&lt;T, Z&gt; {\r\n        void findById(long id);\r\n        void findAll();\r\n        void save();\r\n        void deleteById(long id);\r\n    }\r\n\r\nthen make your service that extends CommonService\r\n\r\n    public interface ObjectService extends CommonService&lt;Object, long&gt; {\r\n    \r\n    }\r\n\r\nand finally you can make impl that implements ObjectService\r\n\r\n    public class ObjectImpl implements ObjectService {\r\n    @Override\r\n        public void findById(long id) {\r\n            System.out.println(&quot;ObjectImpl::findById(&quot; + id + &quot;)&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void findAll() {\r\n            System.out.println(&quot;ObjectImpl::findAll()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void save() {\r\n            System.out.println(&quot;ObjectImpl::save()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void deleteById(long id) {\r\n            System.out.println(&quot;ObjectImpl::deleteById(&quot; + id + &quot;)&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to generate service implementation from multiple implementations at runtime?","body":"<p>The easiest way is you put all interface into one interface :</p>\n<pre><code>public interface CommonService&lt;T, Z&gt; {\n    void findById(long id);\n    void findAll();\n    void save();\n    void deleteById(long id);\n}\n</code></pre>\n<p>then make your service that extends CommonService</p>\n<pre><code>public interface ObjectService extends CommonService&lt;Object, long&gt; {\n\n}\n</code></pre>\n<p>and finally you can make impl that implements ObjectService</p>\n<pre><code>public class ObjectImpl implements ObjectService {\n@Override\n    public void findById(long id) {\n        System.out.println(&quot;ObjectImpl::findById(&quot; + id + &quot;)&quot;);\n    }\n\n    @Override\n    public void findAll() {\n        System.out.println(&quot;ObjectImpl::findAll()&quot;);\n    }\n\n    @Override\n    public void save() {\n        System.out.println(&quot;ObjectImpl::save()&quot;);\n    }\n\n    @Override\n    public void deleteById(long id) {\n        System.out.println(&quot;ObjectImpl::deleteById(&quot; + id + &quot;)&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664972603,"creation_date":1664969003,"answer_id":73959651,"question_id":73957171,"body_markdown":"**Disclaimer**\r\n\r\nI&#39;m not a Spring expert, especially not in messing with bean creation etc. so take the following approach with a grain of salt. Your question got me thinking though so I played around with Spring and could come up with the following basic approach.\r\n\r\nPlease note that this is just meant to get you started and is nowhere near production ready. More research would be needed and others might even come in and show this is a wrong approach.\r\n\r\n**Approach**\r\n\r\nNow here&#39;s the approach:\r\n\r\n- Create a custom annotation to mark your interfaces that you&#39;re interested in.\r\n- Register factory methods that create proxies for those interfaces. These proxies will delegate the calls to respective &quot;fragment&quot; implementations.\r\n- Enable everything with an annotation on your application class.\r\n\r\n**Code (only additional relevant portions)**\r\n\r\nThe interface annotation:\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CompositeService {}\r\n```\r\n\r\nThe enablement annotation:\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Import({CompositeServiceFactoryRegistrar.class})\r\npublic @interface EnableCompositeServices {}\r\n```\r\n\r\nThe main factory registrar (with inline comments):\r\n```\r\n@Component\r\npublic class CompositeServiceFactoryRegistrar implements ImportBeanDefinitionRegistrar, EnvironmentAware {\r\n\r\n\tprivate Map&lt;Class&lt;?&gt;, Supplier&lt;Object&gt;&gt; fragmentFactories = new HashMap&lt;&gt;();\r\n\r\n\tprivate Environment environment;\r\n   \r\n\tpublic CompositeServiceFactoryRegistrar() {\r\n        //hard coded fragment registration, you&#39;ll probably want to do a lookup of all interfaces and their implementation on the classpath instead\r\n\t\tfragmentFactories.put(SaveExtension.class, () -&gt; new SaveExtensionImpl());\r\n\t\tfragmentFactories.put(DeleteExtension.class, () -&gt; new DeleteExtensionImpl());\t\t\r\n\t\tfragmentFactories.put(FindExtension.class, () -&gt; new FindExtensionImpl());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setEnvironment(Environment environment) {\r\n\t\tthis.environment = environment;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {\r\n\t\t\r\n        //get the enablement annotation and set up package scan\r\n\t\tMap&lt;String, Object&gt; annotationAttributes = metadata.getAnnotationAttributes(EnableCompositeServices.class.getCanonicalName());\r\n\r\n\t\tif (annotationAttributes != null) {\r\n\t\t\tString[] basePackages = (String[]) annotationAttributes.get(&quot;value&quot;);\r\n\r\n\t\t\tif (basePackages == null || basePackages.length == 0) {\r\n\t\t\t\t// If value attribute is not set, fallback to the package of the annotated class\r\n\t\t\t\tbasePackages = new String[] {\r\n\t\t\t\t\t\t((StandardAnnotationMetadata) metadata).getIntrospectedClass().getPackage().getName() };\r\n\t\t\t}\r\n\r\n\t\t\t// using these packages, scan for interface annotated with MyCustomBean\r\n\t\t\tClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(\r\n\t\t\t\t\tfalse, environment) {\r\n\t\t\t\t// Override isCandidateComponent to only scan for interface\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\r\n\t\t\t\t\tAnnotationMetadata metadata = beanDefinition.getMetadata();\r\n\t\t\t\t\treturn metadata.isIndependent() &amp;&amp; metadata.isInterface();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tprovider.addIncludeFilter(new AnnotationTypeFilter(CompositeService.class));\r\n\r\n\t\t\t// Scan all packages\r\n\t\t\tfor (String basePackage : basePackages) {\r\n\t\t\t\tfor (BeanDefinition beanDefinition : provider.findCandidateComponents(basePackage)) {\t\t\t\t\t\r\n\r\n\t\t\t\t\tGenericBeanDefinition genericDef = new GenericBeanDefinition(beanDefinition);\r\n\t\t\t\t\t\r\n                    //resolve the interface class if not done yet\r\n\t\t\t\t\tif( !genericDef.hasBeanClass()) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tgenericDef.resolveBeanClass(getClassLoader());\r\n\t\t\t\t\t\t} catch(ClassNotFoundException e) {\r\n                            //simple logging, replace that with something more appropriate\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tClass&lt;?&gt; interfaceType = genericDef.getBeanClass();\t\t\t\t\t\t\t\t\t\r\n\r\n                    //add the factory to the bean definition and then register it\r\n\t\t\t\t\tgenericDef.setInstanceSupplier(() -&gt; createProxy(interfaceType) );\t\t\t\t\t\r\n\t\t\t\t\tregistry.registerBeanDefinition(interfaceType.getSimpleName(), genericDef);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    /*\r\n     * Main factory method\r\n     */\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate &lt;T&gt; T createProxy(Class&lt;T&gt; type) {\r\n        //create the factory and set the interface type\r\n\t\tProxyFactory factory = new ProxyFactory();\r\n\t\tfactory.setInterfaces(type);\r\n\r\n        //add the advice that actually delegates to the fragments\r\n\t\tfactory.addAdvice(new MethodInterceptor() {\r\n\t\t\t@Override\r\n\t\t\tpublic Object invoke(MethodInvocation invocation) throws Throwable {\r\n\t\t\t\tMethod invokedMethod = invocation.getMethod();\r\n\r\n\t\t\t\tClass&lt;?&gt; invokedClass = invokedMethod.getDeclaringClass();\r\n\t\t\t\tif (invokedClass.isInterface()) {\r\n\r\n                    //create the fragment for this method, if not possible continue with the next interceptor\r\n\t\t\t\t\tSupplier&lt;Object&gt; supplier = fragmentFactories.get(invokedClass);\r\n\t\t\t\t\tif (supplier == null) {\r\n\t\t\t\t\t\treturn invocation.proceed();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tObject fragment = supplier.get();\r\n\r\n                    //get the fragment method and invoke it\r\n\t\t\t\t\tMethod targetMethod = fragment.getClass().getDeclaredMethod(invokedMethod.getName(),\r\n\t\t\t\t\t\t\tinvokedMethod.getParameterTypes());\r\n\r\n\t\t\t\t\treturn targetMethod.invoke(fragment, invocation.getArguments());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn invocation.proceed();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn (T) factory.getProxy(getClassLoader());\r\n\t}\r\n\t\r\n\tprivate ClassLoader getClassLoader() {\r\n\t\treturn getClass().getClassLoader();\r\n\t}\r\n}\r\n```\r\n\r\nNote that this is a very simple implementation and has a couple of drawbacks, e.g.\r\n- it doesn&#39;t handle overloads and parameter conversion\r\n- it may have difficulties with overrides -&gt; needs some more reflection magic\r\n- fragments are hard coded\r\n- (I suspect many more)","title":"How to generate service implementation from multiple implementations at runtime?","body":"<p><strong>Disclaimer</strong></p>\n<p>I'm not a Spring expert, especially not in messing with bean creation etc. so take the following approach with a grain of salt. Your question got me thinking though so I played around with Spring and could come up with the following basic approach.</p>\n<p>Please note that this is just meant to get you started and is nowhere near production ready. More research would be needed and others might even come in and show this is a wrong approach.</p>\n<p><strong>Approach</strong></p>\n<p>Now here's the approach:</p>\n<ul>\n<li>Create a custom annotation to mark your interfaces that you're interested in.</li>\n<li>Register factory methods that create proxies for those interfaces. These proxies will delegate the calls to respective &quot;fragment&quot; implementations.</li>\n<li>Enable everything with an annotation on your application class.</li>\n</ul>\n<p><strong>Code (only additional relevant portions)</strong></p>\n<p>The interface annotation:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CompositeService {}\n</code></pre>\n<p>The enablement annotation:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Import({CompositeServiceFactoryRegistrar.class})\npublic @interface EnableCompositeServices {}\n</code></pre>\n<p>The main factory registrar (with inline comments):</p>\n<pre><code>@Component\npublic class CompositeServiceFactoryRegistrar implements ImportBeanDefinitionRegistrar, EnvironmentAware {\n\n    private Map&lt;Class&lt;?&gt;, Supplier&lt;Object&gt;&gt; fragmentFactories = new HashMap&lt;&gt;();\n\n    private Environment environment;\n   \n    public CompositeServiceFactoryRegistrar() {\n        //hard coded fragment registration, you'll probably want to do a lookup of all interfaces and their implementation on the classpath instead\n        fragmentFactories.put(SaveExtension.class, () -&gt; new SaveExtensionImpl());\n        fragmentFactories.put(DeleteExtension.class, () -&gt; new DeleteExtensionImpl());      \n        fragmentFactories.put(FindExtension.class, () -&gt; new FindExtensionImpl());\n    }\n\n    @Override\n    public void setEnvironment(Environment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) {\n        \n        //get the enablement annotation and set up package scan\n        Map&lt;String, Object&gt; annotationAttributes = metadata.getAnnotationAttributes(EnableCompositeServices.class.getCanonicalName());\n\n        if (annotationAttributes != null) {\n            String[] basePackages = (String[]) annotationAttributes.get(&quot;value&quot;);\n\n            if (basePackages == null || basePackages.length == 0) {\n                // If value attribute is not set, fallback to the package of the annotated class\n                basePackages = new String[] {\n                        ((StandardAnnotationMetadata) metadata).getIntrospectedClass().getPackage().getName() };\n            }\n\n            // using these packages, scan for interface annotated with MyCustomBean\n            ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(\n                    false, environment) {\n                // Override isCandidateComponent to only scan for interface\n                @Override\n                protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\n                    AnnotationMetadata metadata = beanDefinition.getMetadata();\n                    return metadata.isIndependent() &amp;&amp; metadata.isInterface();\n                }\n            };\n            provider.addIncludeFilter(new AnnotationTypeFilter(CompositeService.class));\n\n            // Scan all packages\n            for (String basePackage : basePackages) {\n                for (BeanDefinition beanDefinition : provider.findCandidateComponents(basePackage)) {                   \n\n                    GenericBeanDefinition genericDef = new GenericBeanDefinition(beanDefinition);\n                    \n                    //resolve the interface class if not done yet\n                    if( !genericDef.hasBeanClass()) {\n                        try {\n                            genericDef.resolveBeanClass(getClassLoader());\n                        } catch(ClassNotFoundException e) {\n                            //simple logging, replace that with something more appropriate\n                            e.printStackTrace();\n                        }\n                    }\n                    \n                    Class&lt;?&gt; interfaceType = genericDef.getBeanClass();                                 \n\n                    //add the factory to the bean definition and then register it\n                    genericDef.setInstanceSupplier(() -&gt; createProxy(interfaceType) );                  \n                    registry.registerBeanDefinition(interfaceType.getSimpleName(), genericDef);\n                }\n            }\n        }\n    }\n\n    /*\n     * Main factory method\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private &lt;T&gt; T createProxy(Class&lt;T&gt; type) {\n        //create the factory and set the interface type\n        ProxyFactory factory = new ProxyFactory();\n        factory.setInterfaces(type);\n\n        //add the advice that actually delegates to the fragments\n        factory.addAdvice(new MethodInterceptor() {\n            @Override\n            public Object invoke(MethodInvocation invocation) throws Throwable {\n                Method invokedMethod = invocation.getMethod();\n\n                Class&lt;?&gt; invokedClass = invokedMethod.getDeclaringClass();\n                if (invokedClass.isInterface()) {\n\n                    //create the fragment for this method, if not possible continue with the next interceptor\n                    Supplier&lt;Object&gt; supplier = fragmentFactories.get(invokedClass);\n                    if (supplier == null) {\n                        return invocation.proceed();\n                    }\n\n                    Object fragment = supplier.get();\n\n                    //get the fragment method and invoke it\n                    Method targetMethod = fragment.getClass().getDeclaredMethod(invokedMethod.getName(),\n                            invokedMethod.getParameterTypes());\n\n                    return targetMethod.invoke(fragment, invocation.getArguments());\n                } else {\n                    return invocation.proceed();\n                }\n            }\n        });\n\n        return (T) factory.getProxy(getClassLoader());\n    }\n    \n    private ClassLoader getClassLoader() {\n        return getClass().getClassLoader();\n    }\n}\n</code></pre>\n<p>Note that this is a very simple implementation and has a couple of drawbacks, e.g.</p>\n<ul>\n<li>it doesn't handle overloads and parameter conversion</li>\n<li>it may have difficulties with overrides -&gt; needs some more reflection magic</li>\n<li>fragments are hard coded</li>\n<li>(I suspect many more)</li>\n</ul>\n"}],"owner":{"account_id":1426124,"reputation":1955,"user_id":3165402,"accept_rate":64,"display_name":"clzola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73959651,"answer_count":2,"score":0,"last_activity_date":1664972603,"creation_date":1664955559,"question_id":73957171,"body_markdown":"Let&#39;s say I have following interfaces:\r\n\r\n```java\r\npublic interface FindExtension {\r\n    void findById(long id);\r\n    void findAll();\r\n}\r\n\r\npublic interface SaveExtension {\r\n    void save();\r\n}\r\n\r\npublic interface DeleteExtension {\r\n    void deleteById(long id);\r\n}\r\n```\r\n\r\nAnd I have following implementations:\r\n\r\n```java\r\npublic class FindExtensionImpl implements FindExtension {\r\n\r\n    @Override\r\n    public void findById(long id) {\r\n        System.out.println(&quot;FindExtensionImpl::findById(&quot; + id + &quot;)&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void findAll() {\r\n        System.out.println(&quot;FindExtensionImpl::findAll()&quot;);\r\n    }\r\n}\r\n\r\npublic class SaveExtensionImpl implements SaveExtension {\r\n\r\n    @Override\r\n    public void save() {\r\n        System.out.println(&quot;SaveExtensionImpl::save()&quot;);\r\n    }\r\n}\r\n\r\npublic class DeleteExtensionImpl implements DeleteExtension {\r\n    @Override\r\n    public void deleteById(long id) {\r\n        System.out.println(&quot;DeleteExtensionImpl::deleteById(&quot; + id + &quot;)&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd now I want to mix these implementations and let&#39;s say I want this service:\r\n\r\n```java\r\npublic interface MyService extends FindExtension, SaveExtension, DeleteExtension {\r\n}\r\n```\r\n\r\nNow, in my Spring Boot Application I would like to inject `MyService` implementation into one of my controllers. Usually what I would do, I would create `MyServiceImpl` class, implement interface methods and annotate with `@Service`. That way Spring Boot will scan my code and create instance of this service and provide it to me anytime I need it.\r\n\r\nHowever, I would like not to create `MyServiceImpl`, but rather that to be generated by the framework at runtime, in otherwords composed from little pieces. How do I tell Spring Boot to do that automatically? Or do I need to create my own Annotation and Annotation Processor that would somehow generate implementation?\r\n\r\nThis is something similar to Spring Boot repositories where I would have this interface:\r\n\r\n```java\r\n@Repository\r\ninterface IPostRepository implements JpaRepository&lt;Post,Long&gt;, QuerydslPredicateExecutor&lt;Post&gt;, PostCustomRepositoryExtension { }\r\n```\r\n\r\nAnd Spring Boot would &quot;magically&quot; create implementation of this interface and inject methods from JpaRepository, QuerydslPredicateExecutor and my own PostCustomRepositoryExtension...\r\n\r\nSince Spring Boot already does similar logic to that of mine, I am wondering can I reuse that and how?","title":"How to generate service implementation from multiple implementations at runtime?","body":"<p>Let's say I have following interfaces:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FindExtension {\n    void findById(long id);\n    void findAll();\n}\n\npublic interface SaveExtension {\n    void save();\n}\n\npublic interface DeleteExtension {\n    void deleteById(long id);\n}\n</code></pre>\n<p>And I have following implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FindExtensionImpl implements FindExtension {\n\n    @Override\n    public void findById(long id) {\n        System.out.println(&quot;FindExtensionImpl::findById(&quot; + id + &quot;)&quot;);\n    }\n\n    @Override\n    public void findAll() {\n        System.out.println(&quot;FindExtensionImpl::findAll()&quot;);\n    }\n}\n\npublic class SaveExtensionImpl implements SaveExtension {\n\n    @Override\n    public void save() {\n        System.out.println(&quot;SaveExtensionImpl::save()&quot;);\n    }\n}\n\npublic class DeleteExtensionImpl implements DeleteExtension {\n    @Override\n    public void deleteById(long id) {\n        System.out.println(&quot;DeleteExtensionImpl::deleteById(&quot; + id + &quot;)&quot;);\n    }\n}\n</code></pre>\n<p>And now I want to mix these implementations and let's say I want this service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyService extends FindExtension, SaveExtension, DeleteExtension {\n}\n</code></pre>\n<p>Now, in my Spring Boot Application I would like to inject <code>MyService</code> implementation into one of my controllers. Usually what I would do, I would create <code>MyServiceImpl</code> class, implement interface methods and annotate with <code>@Service</code>. That way Spring Boot will scan my code and create instance of this service and provide it to me anytime I need it.</p>\n<p>However, I would like not to create <code>MyServiceImpl</code>, but rather that to be generated by the framework at runtime, in otherwords composed from little pieces. How do I tell Spring Boot to do that automatically? Or do I need to create my own Annotation and Annotation Processor that would somehow generate implementation?</p>\n<p>This is something similar to Spring Boot repositories where I would have this interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\ninterface IPostRepository implements JpaRepository&lt;Post,Long&gt;, QuerydslPredicateExecutor&lt;Post&gt;, PostCustomRepositoryExtension { }\n</code></pre>\n<p>And Spring Boot would &quot;magically&quot; create implementation of this interface and inject methods from JpaRepository, QuerydslPredicateExecutor and my own PostCustomRepositoryExtension...</p>\n<p>Since Spring Boot already does similar logic to that of mine, I am wondering can I reuse that and how?</p>\n"},{"tags":["java","spring","email","jakarta-mail","mule4"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1664969407,"post_id":73959590,"comment_id":130588733,"body_markdown":"Why are you using the mule4 tag if the issue is pure Java/Spring/javamail?","body":"Why are you using the mule4 tag if the issue is pure Java/Spring/javamail?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664969461,"post_id":73959590,"comment_id":130588753,"body_markdown":"You think they are valid but they aren&#39;t else you wouldn&#39;t get the exception. Are the placeholders actually being replaced with the values you have set?","body":"You think they are valid but they aren&#39;t else you wouldn&#39;t get the exception. Are the placeholders actually being replaced with the values you have set?"},{"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"score":0,"creation_date":1664971770,"post_id":73959590,"comment_id":130589513,"body_markdown":"Yes, I can see in DEBUG logs, values are being replaced properly. Have tried hardcoding also.","body":"Yes, I can see in DEBUG logs, values are being replaced properly. Have tried hardcoding also."},{"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"score":0,"creation_date":1664971805,"post_id":73959590,"comment_id":130589528,"body_markdown":"aled - I have tried the same in Mule also that&#39;s why. Hoping if someone has faced the same issue then they might be able to help","body":"aled - I have tried the same in Mule also that&#39;s why. Hoping if someone has faced the same issue then they might be able to help"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664972363,"post_id":73959590,"comment_id":130589705,"body_markdown":"It should only have ssl or starttls only not both. ssl is old and starttls is new encryption. Can you try with port 587 (With TLS/SSL)?","body":"It should only have ssl or starttls only not both. ssl is old and starttls is new encryption. Can you try with port 587 (With TLS/SSL)?"},{"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"score":0,"creation_date":1664972926,"post_id":73959590,"comment_id":130589920,"body_markdown":"I removed SSL and tried. Got this error - Error while sending email: Got bad greeting from SMTP host: smtp.mail.com, port: 465, response: [EOF]","body":"I removed SSL and tried. Got this error - Error while sending email: Got bad greeting from SMTP host: smtp.mail.com, port: 465, response: [EOF]"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1664977690,"post_id":73959590,"comment_id":130591877,"body_markdown":"You are not configuring TLS correctly for the Mule 4 SMTP connector. You should not do it using Javamail properties but the connector configurations. Read the documentation. Probably it is not the cause of your issue though, since you are getting an answer from the server.","body":"You are not configuring TLS correctly for the Mule 4 SMTP connector. You should not do it using Javamail properties but the connector configurations. Read the documentation. Probably it is not the cause of your issue though, since you are getting an answer from the server."}],"owner":{"account_id":7608559,"reputation":314,"user_id":5770332,"accept_rate":60,"display_name":"Abhay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664972512,"creation_date":1664968539,"question_id":73959590,"body_markdown":"I am trying to send mail using SMTP in Java. Below are the details:\r\n\r\n```xml\r\n&lt;bean id=&quot;mailSender&quot;\r\n\tclass=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n\t&lt;property name=&quot;host&quot; value=&quot;smtp.mail.com&quot; /&gt;\r\n\t&lt;property name=&quot;port&quot; value=&quot;465&quot; /&gt;\r\n\t&lt;property name=&quot;username&quot; value=&quot;${mail.user}&quot; /&gt;\r\n\t&lt;property name=&quot;password&quot; value=&quot;${mail.pwd}&quot; /&gt;\r\n\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n\t\t&lt;props&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.starttls.required&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.smtp.ssl.enabled&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n\t\t&lt;/props&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nError I am getting is:\r\n\r\n&gt; 535 Authentication credentials invalid\r\n\r\nBut the credentials are valid, I use the same for logging in from UI. Also, I have tried 587 and 25 port numbers, changing auth and tls values but to no avail.\r\n\r\nSMTP settings for mail.com - https://www.lifewire.com/what-are-mail-com-smtp-settings-1170500\r\n\r\nNote - I have tried it in both Java app and Mule 4 app\r\n\r\nMule 4 config: \r\n\r\n```xml\r\n&lt;email:smtp-config name=&quot;Email_SMTP&quot; doc:name=&quot;Email SMTP&quot; doc:id=&quot;0e79558e-d0c8-42e3-b534-6d18439fc1e0&quot; &gt;\r\n\t&lt;email:smtp-connection host=&quot;smtp.mail.com&quot; user=&quot;user@mail.com&quot; password=&quot;****&quot; connectionTimeout=&quot;10&quot; port=&quot;587&quot; readTimeout=&quot;10&quot; writeTimeout=&quot;10&quot;&gt;\r\n\t\t&lt;email:properties &gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.auth&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.starttls.enable&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.starttls.required&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.debug&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;email:property key=&quot;mail.smtp.ssl.enable&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;/email:properties&gt;\r\n\t&lt;/email:smtp-connection&gt;\r\n&lt;/email:smtp-config&gt;\r\n```\r\n\r\nSince I have faced same in both Java and Mule, I am suspecting it&#39;s something to do with the SSL or Auth properties.\r\n","title":"Mail sender fails due to bad credentials","body":"<p>I am trying to send mail using SMTP in Java. Below are the details:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;mailSender&quot;\n    class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\n    &lt;property name=&quot;host&quot; value=&quot;smtp.mail.com&quot; /&gt;\n    &lt;property name=&quot;port&quot; value=&quot;465&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${mail.user}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${mail.pwd}&quot; /&gt;\n    &lt;property name=&quot;javaMailProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.starttls.required&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.smtp.ssl.enabled&quot;&gt;true&lt;/prop&gt;\n            &lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Error I am getting is:</p>\n<blockquote>\n<p>535 Authentication credentials invalid</p>\n</blockquote>\n<p>But the credentials are valid, I use the same for logging in from UI. Also, I have tried 587 and 25 port numbers, changing auth and tls values but to no avail.</p>\n<p>SMTP settings for mail.com - <a href=\"https://www.lifewire.com/what-are-mail-com-smtp-settings-1170500\" rel=\"nofollow noreferrer\">https://www.lifewire.com/what-are-mail-com-smtp-settings-1170500</a></p>\n<p>Note - I have tried it in both Java app and Mule 4 app</p>\n<p>Mule 4 config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;email:smtp-config name=&quot;Email_SMTP&quot; doc:name=&quot;Email SMTP&quot; doc:id=&quot;0e79558e-d0c8-42e3-b534-6d18439fc1e0&quot; &gt;\n    &lt;email:smtp-connection host=&quot;smtp.mail.com&quot; user=&quot;user@mail.com&quot; password=&quot;****&quot; connectionTimeout=&quot;10&quot; port=&quot;587&quot; readTimeout=&quot;10&quot; writeTimeout=&quot;10&quot;&gt;\n        &lt;email:properties &gt;\n            &lt;email:property key=&quot;mail.smtp.auth&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.smtp.starttls.enable&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.smtp.starttls.required&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.debug&quot; value=&quot;true&quot; /&gt;\n            &lt;email:property key=&quot;mail.smtp.ssl.enable&quot; value=&quot;true&quot; /&gt;\n        &lt;/email:properties&gt;\n    &lt;/email:smtp-connection&gt;\n&lt;/email:smtp-config&gt;\n</code></pre>\n<p>Since I have faced same in both Java and Mule, I am suspecting it's something to do with the SSL or Auth properties.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664968534,"post_id":73959547,"comment_id":130588494,"body_markdown":"`double` is already doing that - as the first bit in binary decimal representation is always 1 (to some power of 2), it is omitted.","body":"<code>double</code> is already doing that - as the first bit in binary decimal representation is always 1 (to some power of 2), it is omitted."},{"owner":{"account_id":19164,"reputation":5598,"user_id":44680,"display_name":"Pianosaurus"},"score":0,"creation_date":1664968683,"post_id":73959547,"comment_id":130588548,"body_markdown":"To add to that: What you are seeing when you see 0.94.... is the output of some function that converts the binary representation of the double into a human readable _decimal_ number. The internal representation is very different, and is using all its bits in a quite efficient way.","body":"To add to that: What you are seeing when you see 0.94.... is the output of some function that converts the binary representation of the double into a human readable <i>decimal</i> number. The internal representation is very different, and is using all its bits in a quite efficient way."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1664968862,"post_id":73959547,"comment_id":130588598,"body_markdown":"From https://en.wikipedia.org/wiki/Double-precision_floating-point_format: &quot;The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (2−53 ≈ 1.11 &#215; 10−16)&quot;. So no, you should not expect to be able to store 18 significant digits. If you need more precision than that, use `BigDecimal`.","body":"From <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double-precision_floating-point_format</a>&zwnj;&#8203;: &quot;The 53-bit significand precision gives from 15 to 17 significant decimal digits precision (2−53 ≈ 1.11 &#215; 10−16)&quot;. So no, you should not expect to be able to store 18 significant digits. If you need more precision than that, use <code>BigDecimal</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664972060,"creation_date":1664972060,"answer_id":73960181,"question_id":73959547,"body_markdown":"You can&#39;t. At all.\r\n\r\n`double` &#39;makes sense&#39; in binary. A `double` uses 64-bits, therefore, by basic laws of the universe, it cannot possibly represent more than 2^64 unique numbers. With `long`, which can also represent 2^64 unique numbers, these numbers are simply 0 to 2^63-1 on the positive side and -2^63 to -1 on the negative side. But for doubles it&#39;s _way_ more complicated.\r\n\r\nYou seem to think it stores 18 digits and separately, where the &#39;.&#39; is.\r\n\r\nBut, that wouldn&#39;t make sense. It&#39;s only &quot;18 digits&quot; if you represent the number in decimal (decimal = count on 10 fingers). But computers have 2 fingers; just like we modern humans tend to go: 0,1,2,3,4,5,6,7,8,9 - oh, out of fingers now, so, uh... we&#39;ll.... just start from the beginning again and add a new digit! 1..0... 10! ten!\r\n\r\nComputers go: 0, 1.... oh, out of fingers now, so... 10, 11, 100, 101, 110, 111, 1000, 1001, and so on.\r\n\r\nNow, in our decimal system, you __cannot properly represent__ 1 divided by 3. Can&#39;t be done, doesn&#39;t matter how many digits you care to involve. You&#39;re forced to round it. The reason is that 3 doesn&#39;t neatly divide into 10. Imagine we were more like the ancient germanic or sumeric peoples, you don&#39;t count fingers but you count phalanxes - take your thumb, touch the top of your pointer finger, that&#39;s 1. Go down one phalanx, and keep going. For the 4th phalanx, go to the top of your middle finger. You have 12 phalanxes not on your thumb, so now you count to 12 on one hand (yes, the romans are kinda stupid, this system is so much better) You&#39;ll have to make up a symbol for the digit &#39;10&#39; (we decimal counters don&#39;t have such a digit, 9 is our last. They have 2 more. Let&#39;s call them A and B for 10 and 11). In their system, 1/3 can be written as 0.4.\r\n\r\nFor the same reason, something like 1/5, which works great in decimal (That&#39;s simply 0.2), __cannot be perfectly represented in binary__ - for the same reason 1/3 can&#39;t in decimal.\r\n\r\nThat should hopefully explain why none of your thinking is going to work out. You just can&#39;t trouble `double` that way - as &#39;its a bunch of digits and a dot someplace&#39;.\r\n\r\nThe obvious way to go here is to use `BigDecimal` which works exactly as you want (it&#39;s any amount of digits - as many as you want. hundreds of thousands is fine), and a number representing &#39;where is the dot&#39;). However, it&#39;s _considerably_ larger in memory load than a `double`, so if that&#39;s the reason, you&#39;re in trouble. Hopefully its not.\r\n\r\nA worse alternative would be to represent your number as a `long`, with your code knowing that e.g. long value `947368421052631578` means `0.947368421052631578` which is not an easy operation to perform, and cannot be done with `double` math (because `0.947368421052631578` in in decimal is not going to work in binary, it&#39;ll be endless just like 1/3 is).\r\n","title":"how to store 18 digits in a double datatype (when numerator&lt;denominator)","body":"<p>You can't. At all.</p>\n<p><code>double</code> 'makes sense' in binary. A <code>double</code> uses 64-bits, therefore, by basic laws of the universe, it cannot possibly represent more than 2^64 unique numbers. With <code>long</code>, which can also represent 2^64 unique numbers, these numbers are simply 0 to 2^63-1 on the positive side and -2^63 to -1 on the negative side. But for doubles it's <em>way</em> more complicated.</p>\n<p>You seem to think it stores 18 digits and separately, where the '.' is.</p>\n<p>But, that wouldn't make sense. It's only &quot;18 digits&quot; if you represent the number in decimal (decimal = count on 10 fingers). But computers have 2 fingers; just like we modern humans tend to go: 0,1,2,3,4,5,6,7,8,9 - oh, out of fingers now, so, uh... we'll.... just start from the beginning again and add a new digit! 1..0... 10! ten!</p>\n<p>Computers go: 0, 1.... oh, out of fingers now, so... 10, 11, 100, 101, 110, 111, 1000, 1001, and so on.</p>\n<p>Now, in our decimal system, you <strong>cannot properly represent</strong> 1 divided by 3. Can't be done, doesn't matter how many digits you care to involve. You're forced to round it. The reason is that 3 doesn't neatly divide into 10. Imagine we were more like the ancient germanic or sumeric peoples, you don't count fingers but you count phalanxes - take your thumb, touch the top of your pointer finger, that's 1. Go down one phalanx, and keep going. For the 4th phalanx, go to the top of your middle finger. You have 12 phalanxes not on your thumb, so now you count to 12 on one hand (yes, the romans are kinda stupid, this system is so much better) You'll have to make up a symbol for the digit '10' (we decimal counters don't have such a digit, 9 is our last. They have 2 more. Let's call them A and B for 10 and 11). In their system, 1/3 can be written as 0.4.</p>\n<p>For the same reason, something like 1/5, which works great in decimal (That's simply 0.2), <strong>cannot be perfectly represented in binary</strong> - for the same reason 1/3 can't in decimal.</p>\n<p>That should hopefully explain why none of your thinking is going to work out. You just can't trouble <code>double</code> that way - as 'its a bunch of digits and a dot someplace'.</p>\n<p>The obvious way to go here is to use <code>BigDecimal</code> which works exactly as you want (it's any amount of digits - as many as you want. hundreds of thousands is fine), and a number representing 'where is the dot'). However, it's <em>considerably</em> larger in memory load than a <code>double</code>, so if that's the reason, you're in trouble. Hopefully its not.</p>\n<p>A worse alternative would be to represent your number as a <code>long</code>, with your code knowing that e.g. long value <code>947368421052631578</code> means <code>0.947368421052631578</code> which is not an easy operation to perform, and cannot be done with <code>double</code> math (because <code>0.947368421052631578</code> in in decimal is not going to work in binary, it'll be endless just like 1/3 is).</p>\n"}],"owner":{"display_name":"user19804865"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664972060,"creation_date":1664968304,"question_id":73959547,"body_markdown":"What I want to do is, for example \r\n```\r\nint num = 18, den = 19;\r\ndouble q=(double)num/(double)den;\r\n```\r\nreturns 0.9473684210526315\r\n\r\nbut what I want is 0.947368421052631578\r\n\r\nsince num&lt;den, the left of the decimal point is always going to &quot;0.&quot;, is there anyway i can use those character&#39;s space and give it to &quot;78&quot; instead?\r\nif I can&#39;t do that, what would be another approach? \r\n\r\nthe reason I need this is an LC question.","title":"how to store 18 digits in a double datatype (when numerator&lt;denominator)","body":"<p>What I want to do is, for example</p>\n<pre><code>int num = 18, den = 19;\ndouble q=(double)num/(double)den;\n</code></pre>\n<p>returns 0.9473684210526315</p>\n<p>but what I want is 0.947368421052631578</p>\n<p>since num&lt;den, the left of the decimal point is always going to &quot;0.&quot;, is there anyway i can use those character's space and give it to &quot;78&quot; instead?\nif I can't do that, what would be another approach?</p>\n<p>the reason I need this is an LC question.</p>\n"},{"tags":["java","12factor"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664981732,"post_id":73960105,"comment_id":130593586,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26534983,"reputation":1,"user_id":20166646,"display_name":"Nile Rizwan"},"score":0,"creation_date":1665579907,"post_id":73960105,"comment_id":130733642,"body_markdown":"no worries all good the question has been resolved thanks","body":"no worries all good the question has been resolved thanks"}],"owner":{"account_id":26534983,"reputation":1,"user_id":20166646,"display_name":"Nile Rizwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664971665,"creation_date":1664971665,"question_id":73960105,"body_markdown":"when the username and passwords is correct the Jbutton takes the user to the OKTA verify webpage the user authenticates and is redirected to the java application but the page after the login","title":"Jbutton to redirect to 2FA url authenticate and come back to application with new page","body":"<p>when the username and passwords is correct the Jbutton takes the user to the OKTA verify webpage the user authenticates and is redirected to the java application but the page after the login</p>\n"},{"tags":["java","algorithm","binary-tree"],"comments":[{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":0,"creation_date":1562169284,"post_id":56873764,"comment_id":100296352,"body_markdown":"What random distribution do you need the tree shape to have?","body":"What random distribution do you need the tree shape to have?"},{"owner":{"account_id":13351870,"reputation":129,"user_id":9636850,"display_name":"sirshakir"},"score":0,"creation_date":1562169320,"post_id":56873764,"comment_id":100296371,"body_markdown":"Your tree needs a root. Start at root and recursively add the remaining nodes. Each layer will have twice many nodes as parent. Use a little bit of math to determine the amount of layers n will produce if needed.","body":"Your tree needs a root. Start at root and recursively add the remaining nodes. Each layer will have twice many nodes as parent. Use a little bit of math to determine the amount of layers n will produce if needed."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":2,"creation_date":1562169327,"post_id":56873764,"comment_id":100296376,"body_markdown":"the only thing coming to mind is, while doing insertion, use a random number generator to decide whether to turn left or right on the way down to leaf node","body":"the only thing coming to mind is, while doing insertion, use a random number generator to decide whether to turn left or right on the way down to leaf node"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1562178925,"post_id":56873764,"comment_id":100300786,"body_markdown":"Is the TreeNode number, `n`, the number of nodes the tree is supposed to contain?","body":"Is the TreeNode number, <code>n</code>, the number of nodes the tree is supposed to contain?"},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1562180539,"post_id":56873764,"comment_id":100301540,"body_markdown":"@JimMischel Yes.","body":"@JimMischel Yes."},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1562184631,"post_id":56873764,"comment_id":100303105,"body_markdown":"@maplemaple The question is interesting. Can you please provide an example? I might have an approach for similar kind of question.","body":"@maplemaple The question is interesting. Can you please provide an example? I might have an approach for similar kind of question."},{"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"score":0,"creation_date":1562663072,"post_id":56873764,"comment_id":100437063,"body_markdown":"@maplemaple check out my updated answer.","body":"@maplemaple check out my updated answer."}],"answers":[{"tags":[],"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1562773088,"creation_date":1562170414,"answer_id":56874294,"question_id":56873764,"body_markdown":"Biased distribution, simple algorithm\r\n-------------------------------------\r\nStarting from the root, randomly choose the number of nodes in each subtree, then recurse :\r\n\r\n    public class RandomBinaryTree {\r\n    \tprivate Random random = new Random();\r\n    \r\n    \tpublic TreeNode binaryTreeGenerator(int n, int key){\r\n    \t\tif (n == 0)\r\n    \t\t\treturn null;\r\n\r\n    \t\tTreeNode root = new TreeNode(key);\r\n\r\n            // Number of nodes in the left subtree (in [0, n-1])\r\n    \t\tint leftN = random.nextInt(n);\r\n\r\n            // Recursively build each subtree\r\n    \t\troot.setLeft(binaryTreeGenerator(leftN, key));\r\n    \t\troot.setRight(binaryTreeGenerator(n - leftN - 1, key));\r\n\r\n    \t\treturn root;\r\n        }\r\n    }\r\n\r\nThis algorithm does not enforce uniform distribution of results and will heavily favor balanced trees. For a simple proof, consider the case `n = 3` and calculate probability of occurence for each of the 5 possible binary trees (see [Catalan numbers][1] for the related combinatorics).\r\n\r\nUniform distribution, more challenging\r\n--------------------------------------\r\nThere has been some research on this subject and [this][2] is probably one of the simplest and fastest methods (in *O(n)*). The idea is to generate a random word containing left and right brackets in equal numbers, then map that to a binary tree using a transformation that preserves uniform distribution.\r\n\r\n**Step 1 :** Generate a random *balanced word* :\r\n\r\n    private static Random random = new Random();\r\n\t\r\n    // true means &#39;(&#39;, false means &#39;)&#39;\r\n\tprivate static boolean[] buildRandomBalancedWord(int n) {\r\n\t\tboolean[] word = new boolean[n * 2];\r\n\t\tList&lt;Integer&gt; positions = IntStream.range(0, 2 * n).boxed()\r\n            .collect(Collectors.toList());\r\n\t\tfor (int i = n; i &gt; 0; i--) {\r\n\t\t\tint index = random.nextInt(n + i);\r\n\t\t\tword[positions.remove(index)] = true;\r\n\t\t}\r\n\t\treturn word;\r\n\t}\r\n\r\n**Step 2 :** The generated word may have `k` &quot;defects&quot;, which are basically unmatched closing brackets. The paper shows that there is a way to rearrange the generated word such that the resulting mapping is a bijection from the set of words with `k` defects to the set of words with `0` defects (*well-formed words*). Here is the procedure :\r\n\r\n\tprivate static void rearrange(boolean[] word, int start, int end) {\r\n\t\tint sum = 0;\r\n\t\tint defectIndex = -1;\r\n\t\tfor (int i = start; i &lt; end; i++) {\r\n\t\t\tsum = sum + (word[i] ? 1 : -1);\r\n\t\t\tif (defectIndex &lt; 0 &amp;&amp; sum &lt; 0) {\r\n\t\t\t\tdefectIndex = i;\r\n\t\t\t} else if (defectIndex &gt;= 0 &amp;&amp; sum == 0) {\r\n\t\t\t\t// We now have irreducible u = rtl spanning [defectIndex, i]\r\n\t\t\t\tint uLength = i - defectIndex + 1;\r\n\t\t\t\tboolean[] flipped = new boolean[uLength - 2];\r\n\t\t\t\tfor (int j = 0; j &lt; flipped.length; j++)\r\n\t\t\t\t\tflipped[j] = !word[defectIndex + j + 1];\r\n\t\t\t\t\r\n\t\t\t\t// Shift the remaining word\r\n\t\t\t\tif (i + 1 &lt; end)\r\n\t\t\t\t\tSystem.arraycopy(word, i + 1, word, defectIndex + 1, end - (i + 1));\r\n\t\t\t\t\r\n\t\t\t\t// Rewrite uw as lwrt*, t* being the flipped array\r\n\t\t\t\tword[defectIndex] = true;\r\n\t\t\t\tSystem.arraycopy(flipped, 0, word, end - flipped.length, flipped.length);\r\n\t\t\t\tword[end - uLength + 1] = false;\r\n\t\t\t\t\r\n\t\t\t\t// Now recurse on w, worst case we go (word.length/2)-deep\r\n\t\t\t\trearrange(word, defectIndex + 1, end - uLength + 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**Step 3 :** There is a one-to-one mapping from well-formed bracket words to binary trees : every pair of matching brackets is a node, everything inside is the left subtree, and everything after is the right subtree :\r\n\r\n    // There is probably a smarter way to do this\r\n\tpublic static TreeNode buildTree(boolean[] word, int key) {\r\n\t\tDeque&lt;TreeNode&gt; stack = new ArrayDeque&lt;&gt;();\r\n\t\tboolean insertRight = false;\r\n\t\tTreeNode root = null;\r\n\t\tTreeNode currentNode = null;\r\n\t\tfor (int i = 0; i &lt; word.length; i++) {\r\n\t\t\tif (word[i]) {\r\n\t\t\t\tTreeNode previousNode = currentNode;\r\n\t\t\t\tcurrentNode = new TreeNode(key);\r\n\t\t\t\t\r\n\t\t\t\tif (root == null) {\r\n\t\t\t\t\troot = currentNode;\r\n\t\t\t\t} else if (insertRight) {\r\n\t\t\t\t\tpreviousNode.setRight(currentNode);\r\n\t\t\t\t\tinsertRight = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpreviousNode.setLeft(currentNode);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tstack.push(currentNode);\r\n\t\t\t} else {\r\n\t\t\t\tcurrentNode = stack.pop();\r\n\t\t\t\tinsertRight = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn root;\r\n\t}\r\n\r\n**Some utility functions** : \r\n\t\r\n\tpublic static boolean[] buildRandomWellFormedWord(int n) {\r\n\t\tboolean[] word = buildRandomBalancedWord(n);\r\n\t\trearrange(word, 0, word.length);\r\n\t\treturn word;\r\n\t}\r\n\t\r\n\tpublic static String toString(boolean[] word) {\r\n\t\tStringBuilder str = new StringBuilder();\r\n\t\tfor (boolean b : word)\r\n\t\t\tstr.append(b ? &quot;(&quot; : &quot;)&quot;);\r\n\t\treturn str.toString();\r\n\t}\r\n\r\n**Test** : Let&#39;s print the actual distribution over 10 millions runs of size 3 :\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tMap&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;();\r\n\t\tint N = 10000000, n = 3;\r\n\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\tboolean[] word = buildRandomWellFormedWord(n);\r\n\t\t\tString str = toString(word);\r\n\t\t\tInteger count = counts.get(str);\r\n\t\t\tif (count == null)\r\n\t\t\t\tcount = 0;\r\n\t\t\tcounts.put(str, count + 1);\r\n\t\t}\r\n\t\t\r\n\t\tcounts.entrySet().stream().forEach(e -&gt; \r\n            System.out.println(&quot;P[&quot; + e.getKey() + &quot;] = &quot; + e.getValue().doubleValue() / N));\r\n\t}\r\n\r\nThe output should look something like :\r\n\r\n    P[()()()] = 0.200166\r\n    P[(()())] = 0.200451\r\n    P[()(())] = 0.199894\r\n    P[((()))] = 0.199006\r\n    P[(())()] = 0.200483\r\n\r\nSo `buildTree(buildRandomWellFormedWord(n), key)` will yield a binary tree of size `n` following a uniform distribution over all possible trees.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Catalan_number\r\n  [2]: http://www.cs.otago.ac.nz/staffpriv/mike/Papers/RandomGeneration/RandomBinaryTrees.pdf","title":"How to randomly generate a binary tree given the node number?","body":"<h2>Biased distribution, simple algorithm</h2>\n\n<p>Starting from the root, randomly choose the number of nodes in each subtree, then recurse :</p>\n\n<pre><code>public class RandomBinaryTree {\n    private Random random = new Random();\n\n    public TreeNode binaryTreeGenerator(int n, int key){\n        if (n == 0)\n            return null;\n\n        TreeNode root = new TreeNode(key);\n\n        // Number of nodes in the left subtree (in [0, n-1])\n        int leftN = random.nextInt(n);\n\n        // Recursively build each subtree\n        root.setLeft(binaryTreeGenerator(leftN, key));\n        root.setRight(binaryTreeGenerator(n - leftN - 1, key));\n\n        return root;\n    }\n}\n</code></pre>\n\n<p>This algorithm does not enforce uniform distribution of results and will heavily favor balanced trees. For a simple proof, consider the case <code>n = 3</code> and calculate probability of occurence for each of the 5 possible binary trees (see <a href=\"https://en.wikipedia.org/wiki/Catalan_number\" rel=\"noreferrer\">Catalan numbers</a> for the related combinatorics).</p>\n\n<h2>Uniform distribution, more challenging</h2>\n\n<p>There has been some research on this subject and <a href=\"http://www.cs.otago.ac.nz/staffpriv/mike/Papers/RandomGeneration/RandomBinaryTrees.pdf\" rel=\"noreferrer\">this</a> is probably one of the simplest and fastest methods (in <em>O(n)</em>). The idea is to generate a random word containing left and right brackets in equal numbers, then map that to a binary tree using a transformation that preserves uniform distribution.</p>\n\n<p><strong>Step 1 :</strong> Generate a random <em>balanced word</em> :</p>\n\n<pre><code>private static Random random = new Random();\n\n// true means '(', false means ')'\nprivate static boolean[] buildRandomBalancedWord(int n) {\n    boolean[] word = new boolean[n * 2];\n    List&lt;Integer&gt; positions = IntStream.range(0, 2 * n).boxed()\n        .collect(Collectors.toList());\n    for (int i = n; i &gt; 0; i--) {\n        int index = random.nextInt(n + i);\n        word[positions.remove(index)] = true;\n    }\n    return word;\n}\n</code></pre>\n\n<p><strong>Step 2 :</strong> The generated word may have <code>k</code> \"defects\", which are basically unmatched closing brackets. The paper shows that there is a way to rearrange the generated word such that the resulting mapping is a bijection from the set of words with <code>k</code> defects to the set of words with <code>0</code> defects (<em>well-formed words</em>). Here is the procedure :</p>\n\n<pre><code>private static void rearrange(boolean[] word, int start, int end) {\n    int sum = 0;\n    int defectIndex = -1;\n    for (int i = start; i &lt; end; i++) {\n        sum = sum + (word[i] ? 1 : -1);\n        if (defectIndex &lt; 0 &amp;&amp; sum &lt; 0) {\n            defectIndex = i;\n        } else if (defectIndex &gt;= 0 &amp;&amp; sum == 0) {\n            // We now have irreducible u = rtl spanning [defectIndex, i]\n            int uLength = i - defectIndex + 1;\n            boolean[] flipped = new boolean[uLength - 2];\n            for (int j = 0; j &lt; flipped.length; j++)\n                flipped[j] = !word[defectIndex + j + 1];\n\n            // Shift the remaining word\n            if (i + 1 &lt; end)\n                System.arraycopy(word, i + 1, word, defectIndex + 1, end - (i + 1));\n\n            // Rewrite uw as lwrt*, t* being the flipped array\n            word[defectIndex] = true;\n            System.arraycopy(flipped, 0, word, end - flipped.length, flipped.length);\n            word[end - uLength + 1] = false;\n\n            // Now recurse on w, worst case we go (word.length/2)-deep\n            rearrange(word, defectIndex + 1, end - uLength + 1);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Step 3 :</strong> There is a one-to-one mapping from well-formed bracket words to binary trees : every pair of matching brackets is a node, everything inside is the left subtree, and everything after is the right subtree :</p>\n\n<pre><code>// There is probably a smarter way to do this\npublic static TreeNode buildTree(boolean[] word, int key) {\n    Deque&lt;TreeNode&gt; stack = new ArrayDeque&lt;&gt;();\n    boolean insertRight = false;\n    TreeNode root = null;\n    TreeNode currentNode = null;\n    for (int i = 0; i &lt; word.length; i++) {\n        if (word[i]) {\n            TreeNode previousNode = currentNode;\n            currentNode = new TreeNode(key);\n\n            if (root == null) {\n                root = currentNode;\n            } else if (insertRight) {\n                previousNode.setRight(currentNode);\n                insertRight = false;\n            } else {\n                previousNode.setLeft(currentNode);\n            }\n\n            stack.push(currentNode);\n        } else {\n            currentNode = stack.pop();\n            insertRight = true;\n        }\n    }\n    return root;\n}\n</code></pre>\n\n<p><strong>Some utility functions</strong> : </p>\n\n<pre><code>public static boolean[] buildRandomWellFormedWord(int n) {\n    boolean[] word = buildRandomBalancedWord(n);\n    rearrange(word, 0, word.length);\n    return word;\n}\n\npublic static String toString(boolean[] word) {\n    StringBuilder str = new StringBuilder();\n    for (boolean b : word)\n        str.append(b ? \"(\" : \")\");\n    return str.toString();\n}\n</code></pre>\n\n<p><strong>Test</strong> : Let's print the actual distribution over 10 millions runs of size 3 :</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Map&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;();\n    int N = 10000000, n = 3;\n    for (int i = 0; i &lt; N; i++) {\n        boolean[] word = buildRandomWellFormedWord(n);\n        String str = toString(word);\n        Integer count = counts.get(str);\n        if (count == null)\n            count = 0;\n        counts.put(str, count + 1);\n    }\n\n    counts.entrySet().stream().forEach(e -&gt; \n        System.out.println(\"P[\" + e.getKey() + \"] = \" + e.getValue().doubleValue() / N));\n}\n</code></pre>\n\n<p>The output should look something like :</p>\n\n<pre><code>P[()()()] = 0.200166\nP[(()())] = 0.200451\nP[()(())] = 0.199894\nP[((()))] = 0.199006\nP[(())()] = 0.200483\n</code></pre>\n\n<p>So <code>buildTree(buildRandomWellFormedWord(n), key)</code> will yield a binary tree of size <code>n</code> following a uniform distribution over all possible trees.</p>\n"},{"tags":[],"owner":{"account_id":19604268,"reputation":1,"user_id":14348327,"display_name":"Reuben ombaso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664971203,"creation_date":1664967519,"answer_id":73959402,"question_id":56873764,"body_markdown":"generating a random number from the binary tree may be easy if other key considerations have to be overlooked, such as randomness and equal probability. For simplicity, the code below randomly generates a node from a tree where each node has an equal probability to be selected. \r\n\r\nBinary tree in python\r\n\r\n    import random\r\n    class BinaryTree:\r\n        class Node:\r\n            def __init__(self, value):\r\n                self.left = None\r\n                self.right = None\r\n                self.value = value\r\n                self.left_size = 0\r\n                self.right_size = 0\r\n\r\n        def insert(self, value, root):\r\n            node = BinaryTree.Node(value)\r\n\r\n            if value &lt;= root.value:\r\n                 root.left_size += 1\r\n                 if root.left == None:\r\n                     root.left = node\r\n                 else:\r\n                     self.insert(value, root.left)\r\n            else:\r\n                root.right_size += 1\r\n                if root.right == None:\r\n                    root.right = node\r\n                else:\r\n                    self.insert(value, root.right)\r\n\r\n        def display(self, root):\r\n            if root == None:\r\n               return;\r\n            self.display(root.left)\r\n            print(root.value, end =&quot; &quot;)\r\n            self.display(root.right)\r\n        \r\n\r\n    def __init__(self):\r\n        self.root = None\r\n        self.count = 0\r\n\r\n\r\n    def insert(self, value):\r\n        if self.root == None:\r\n            self.root = BinaryTree.Node(value)\r\n            return\r\n        self.root.insert(value, self.root)\r\n        self.count += 1\r\n\r\n    def size(self):\r\n        return self.count\r\n    def display(self):\r\n        if self.root == None:\r\n            return;\r\n        self.root.display(self.root)\r\n        \r\n\r\n    def get_random_node(self):\r\n        &quot;&quot;&quot;\r\n        Generate a random number r {1....N} where r is the total number of \r\n        elemnts\r\n        calculate the total number of elements in a binarytree\r\n        if r == count then return the current node\r\n        if r &gt; (count+left) check on the right i.e recursively getchild(1, r-count- node.left_size, node.right)\r\n        else getchild (count +1, r, node.left)\r\n        Calculate the number of children on the left\r\n        &quot;&quot;&quot;\r\n        if self.size() == 1:\r\n            return self.root\r\n        r = random.randint(1, self.size() + 1)\r\n        return self.getchild(1, r, self.root)\r\n\r\n    def getchild(self, count, r, node):\r\n        if r == count:\r\n            return node\r\n        if r &gt; (count + node.left_size):\r\n            return self.getchild(1, (r - count-node.left_size), node.right)\r\n        return self.getchild(count + 1, r, node.left)\r\n\r\n\r\n","title":"How to randomly generate a binary tree given the node number?","body":"<p>generating a random number from the binary tree may be easy if other key considerations have to be overlooked, such as randomness and equal probability. For simplicity, the code below randomly generates a node from a tree where each node has an equal probability to be selected.</p>\n<p>Binary tree in python</p>\n<pre><code>import random\nclass BinaryTree:\n    class Node:\n        def __init__(self, value):\n            self.left = None\n            self.right = None\n            self.value = value\n            self.left_size = 0\n            self.right_size = 0\n\n    def insert(self, value, root):\n        node = BinaryTree.Node(value)\n\n        if value &lt;= root.value:\n             root.left_size += 1\n             if root.left == None:\n                 root.left = node\n             else:\n                 self.insert(value, root.left)\n        else:\n            root.right_size += 1\n            if root.right == None:\n                root.right = node\n            else:\n                self.insert(value, root.right)\n\n    def display(self, root):\n        if root == None:\n           return;\n        self.display(root.left)\n        print(root.value, end =&quot; &quot;)\n        self.display(root.right)\n    \n\ndef __init__(self):\n    self.root = None\n    self.count = 0\n\n\ndef insert(self, value):\n    if self.root == None:\n        self.root = BinaryTree.Node(value)\n        return\n    self.root.insert(value, self.root)\n    self.count += 1\n\ndef size(self):\n    return self.count\ndef display(self):\n    if self.root == None:\n        return;\n    self.root.display(self.root)\n    \n\ndef get_random_node(self):\n    &quot;&quot;&quot;\n    Generate a random number r {1....N} where r is the total number of \n    elemnts\n    calculate the total number of elements in a binarytree\n    if r == count then return the current node\n    if r &gt; (count+left) check on the right i.e recursively getchild(1, r-count- node.left_size, node.right)\n    else getchild (count +1, r, node.left)\n    Calculate the number of children on the left\n    &quot;&quot;&quot;\n    if self.size() == 1:\n        return self.root\n    r = random.randint(1, self.size() + 1)\n    return self.getchild(1, r, self.root)\n\ndef getchild(self, count, r, node):\n    if r == count:\n        return node\n    if r &gt; (count + node.left_size):\n        return self.getchild(1, (r - count-node.left_size), node.right)\n    return self.getchild(count + 1, r, node.left)\n</code></pre>\n"}],"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6423,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56874294,"answer_count":2,"score":2,"last_activity_date":1664971203,"creation_date":1562168606,"question_id":56873764,"body_markdown":"    //Definition for a binary tree node.\r\n\r\n    public class TreeNode {\r\n        int key;\r\n        TreeNode left;\r\n        TreeNode right;\r\n        TreeNode(int x) { key = x; }\r\n    } \r\n\r\nGiven the total number of TreeNode  `int` `n`, how to generate a randomly distributed binary tree(I mean the **random** shape of binary tree, **not** the random key value. You can set all key values of TreeNodes equal to 1) and return the TreeNode `root`.\r\n\r\nThat is how to implement the following API:\r\n\r\n    public class RandomBinaryTree{\r\n        public TreeNode binaryTreeGenerator(int n){\r\n\r\n        }\r\n    }\r\n \r\nPS: For example, `n = 3`, I want the algorithm can **randomly generate one of the following `5` binary trees each time**:\r\n\r\n         1      1        1           1          1\r\n        /      /        / \\           \\          \\\r\n       1      1        1   1           1          1\r\n      /        \\                      /            \\\r\n     1          1                    1              1\r\n\r\nIs there any algorithm to generate binary trees **equiprobably** with fixed number of nodes `n`?","title":"How to randomly generate a binary tree given the node number?","body":"<pre><code>//Definition for a binary tree node.\n\npublic class TreeNode {\n    int key;\n    TreeNode left;\n    TreeNode right;\n    TreeNode(int x) { key = x; }\n} \n</code></pre>\n\n<p>Given the total number of TreeNode  <code>int</code> <code>n</code>, how to generate a randomly distributed binary tree(I mean the <strong>random</strong> shape of binary tree, <strong>not</strong> the random key value. You can set all key values of TreeNodes equal to 1) and return the TreeNode <code>root</code>.</p>\n\n<p>That is how to implement the following API:</p>\n\n<pre><code>public class RandomBinaryTree{\n    public TreeNode binaryTreeGenerator(int n){\n\n    }\n}\n</code></pre>\n\n<p>PS: For example, <code>n = 3</code>, I want the algorithm can <strong>randomly generate one of the following <code>5</code> binary trees each time</strong>:</p>\n\n<pre><code>     1      1        1           1          1\n    /      /        / \\           \\          \\\n   1      1        1   1           1          1\n  /        \\                      /            \\\n 1          1                    1              1\n</code></pre>\n\n<p>Is there any algorithm to generate binary trees <strong>equiprobably</strong> with fixed number of nodes <code>n</code>?</p>\n"},{"tags":["java","post","jmeter","postman","xml-rpc"],"answers":[{"tags":[],"owner":{"account_id":15819739,"reputation":103,"user_id":11414365,"display_name":"Earl Grey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664970924,"creation_date":1664964438,"answer_id":73958843,"question_id":73886924,"body_markdown":"I was playing with the same vulnerability and stumbled upon the same behavior.\r\nI found [this GitHub issue][1] on an XML-RPC brute force project discussing the same problem. It seems that the vulnerability is already patched since WordPress version 4.7.x.\r\nI&#39;m still searching when this was patched exactly...\r\n\r\n# Update\r\n\r\nReally wanted to find out the vulnerable versions so now after installing countless WordPress versions, I was able to find out that the **vulnerability works up to version 4.3.29**.\r\nFrom version 4.4 it no longer works for me.\r\n\r\nI hope this calms someone&#39;s mind as it has calmed mine.\r\n\r\n  [1]: https://github.com/1N3/Wordpress-XMLRPC-Brute-Force-Exploit/issues/20","title":"system.multicall in wordpress XMLRPC always gives Incorrect username or password","body":"<p>I was playing with the same vulnerability and stumbled upon the same behavior.\nI found <a href=\"https://github.com/1N3/Wordpress-XMLRPC-Brute-Force-Exploit/issues/20\" rel=\"nofollow noreferrer\">this GitHub issue</a> on an XML-RPC brute force project discussing the same problem. It seems that the vulnerability is already patched since WordPress version 4.7.x.\nI'm still searching when this was patched exactly...</p>\n<h1>Update</h1>\n<p>Really wanted to find out the vulnerable versions so now after installing countless WordPress versions, I was able to find out that the <strong>vulnerability works up to version 4.3.29</strong>.\nFrom version 4.4 it no longer works for me.</p>\n<p>I hope this calms someone's mind as it has calmed mine.</p>\n"}],"owner":{"account_id":26473911,"reputation":11,"user_id":20114120,"display_name":"Darshil765"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664970924,"creation_date":1664393735,"question_id":73886924,"body_markdown":"I&#39;m pentesting in JMeter.For any wordpress site using xmlrpc, If I add correct username and password in first instance then I get proper output but If I add correct credentials in second instance (or thereafter) then I always get &quot;incorrect username or password&quot;.\r\n\r\n\r\n    POST /xmlrpc.php HTTP/1.1\r\n    Host: example.com\r\n    \r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n        &lt;methodCall&gt;\r\n        &lt;methodName&gt;system.multicall&lt;/methodName&gt;\r\n        &lt;params&gt;\r\n          &lt;param&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n          &lt;value&gt;&lt;struct&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;methodName&lt;/name&gt;\r\n        \t&lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;params&lt;/name&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t&lt;value&gt;&lt;string&gt;User1&lt;/string&gt;&lt;/value&gt;\r\n        \t&lt;value&gt;&lt;string&gt;password1&lt;/string&gt;&lt;/value&gt;\r\n        \t&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n        \t&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;/struct&gt;&lt;/value&gt;\r\n          &lt;value&gt;&lt;struct&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;methodName&lt;/name&gt;\r\n        \t&lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;member&gt;\r\n        \t&lt;name&gt;params&lt;/name&gt;\r\n        \t&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t&lt;value&gt;&lt;array&gt;&lt;data&gt;\r\n        \t  &lt;value&gt;&lt;string&gt;User2&lt;/string&gt;&lt;/value&gt;\r\n        \t  &lt;value&gt;&lt;string&gt;Password2&lt;/string&gt;&lt;/value&gt;\r\n        \t  &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n        \t&lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n          &lt;/member&gt;\r\n          &lt;/struct&gt;&lt;/value&gt;\r\n          &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\r\n          &lt;/param&gt;\r\n        &lt;/params&gt;\r\n        &lt;/methodCall&gt;","title":"system.multicall in wordpress XMLRPC always gives Incorrect username or password","body":"<p>I'm pentesting in JMeter.For any wordpress site using xmlrpc, If I add correct username and password in first instance then I get proper output but If I add correct credentials in second instance (or thereafter) then I always get &quot;incorrect username or password&quot;.</p>\n<pre><code>POST /xmlrpc.php HTTP/1.1\nHost: example.com\n\n&lt;?xml version=&quot;1.0&quot;?&gt;\n    &lt;methodCall&gt;\n    &lt;methodName&gt;system.multicall&lt;/methodName&gt;\n    &lt;params&gt;\n      &lt;param&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\n      &lt;value&gt;&lt;struct&gt;\n      &lt;member&gt;\n        &lt;name&gt;methodName&lt;/name&gt;\n        &lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;member&gt;\n        &lt;name&gt;params&lt;/name&gt;&lt;value&gt;&lt;array&gt;&lt;data&gt;\n        &lt;value&gt;&lt;array&gt;&lt;data&gt;\n        &lt;value&gt;&lt;string&gt;User1&lt;/string&gt;&lt;/value&gt;\n        &lt;value&gt;&lt;string&gt;password1&lt;/string&gt;&lt;/value&gt;\n        &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n        &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;/struct&gt;&lt;/value&gt;\n      &lt;value&gt;&lt;struct&gt;\n      &lt;member&gt;\n        &lt;name&gt;methodName&lt;/name&gt;\n        &lt;value&gt;&lt;string&gt;wp.getUsersBlogs&lt;/string&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;member&gt;\n        &lt;name&gt;params&lt;/name&gt;\n        &lt;value&gt;&lt;array&gt;&lt;data&gt;\n        &lt;value&gt;&lt;array&gt;&lt;data&gt;\n          &lt;value&gt;&lt;string&gt;User2&lt;/string&gt;&lt;/value&gt;\n          &lt;value&gt;&lt;string&gt;Password2&lt;/string&gt;&lt;/value&gt;\n          &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n        &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n      &lt;/member&gt;\n      &lt;/struct&gt;&lt;/value&gt;\n      &lt;/data&gt;&lt;/array&gt;&lt;/value&gt;\n      &lt;/param&gt;\n    &lt;/params&gt;\n    &lt;/methodCall&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664963214,"post_id":73958590,"comment_id":130586784,"body_markdown":"The latter. You should probably use the JDBC version or your own `UserDetailsManager` instead.","body":"The latter. You should probably use the JDBC version or your own <code>UserDetailsManager</code> instead."},{"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"score":0,"creation_date":1664964262,"post_id":73958590,"comment_id":130587142,"body_markdown":"So I should replace the method that stores the users, but the way of creating users is fine? Perhaps you have a blog or doc link that goes into detail about this","body":"So I should replace the method that stores the users, but the way of creating users is fine? Perhaps you have a blog or doc link that goes into detail about this"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664968743,"post_id":73958590,"comment_id":130588563,"body_markdown":"No that way isn&#39;t usable for production, how would you add user? Modify code, redeploy? What if a user needs to change its password? Modify code and redeploy?","body":"No that way isn&#39;t usable for production, how would you add user? Modify code, redeploy? What if a user needs to change its password? Modify code and redeploy?"},{"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"score":0,"creation_date":1664980068,"post_id":73958590,"comment_id":130592887,"body_markdown":"so if I changed the hardcoded values to be pulled from a database, would the method itself be good enough, or should I also change it?","body":"so if I changed the hardcoded values to be pulled from a database, would the method itself be good enough, or should I also change it?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664981043,"post_id":73958590,"comment_id":130593292,"body_markdown":"What method? The declaration of the users? No it isn&#39;t. You would want to use SQL or a management interface to modify users in the database.","body":"What method? The declaration of the users? No it isn&#39;t. You would want to use SQL or a management interface to modify users in the database."}],"answers":[{"tags":[],"owner":{"account_id":12848624,"reputation":15,"user_id":9294231,"display_name":"Programming Shortcut"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1664964237,"creation_date":1664963738,"answer_id":73958707,"question_id":73958590,"body_markdown":"Hello Please Code as the following coding \r\n\r\n    @Bean\r\n\tpublic InMemoryUserDetailsManager createUserDetailsManager() {\r\n\t\t\r\n\t\tUserDetails userDetails1 = createNewUser(&quot;username1&quot;, &quot;dummy&quot;);\r\n\t\tUserDetails userDetails2 = createNewUser(&quot;username2&quot;, &quot;dummydummy&quot;);\r\n\t\t\r\n\t\treturn new InMemoryUserDetailsManager(userDetails1, userDetails2);\r\n\t}\r\n\r\n\tprivate UserDetails createNewUser(String username, String password) {\r\n\t\tFunction&lt;String, String&gt; passwordEncoder\r\n\t\t= input -&gt; passwordEncoder().encode(input);\r\n\r\n\t\tUserDetails userDetails = User.builder()\r\n\t\t\t\t\t\t\t\t\t.passwordEncoder(passwordEncoder)\r\n\t\t\t\t\t\t\t\t\t.username(username)\r\n\t\t\t\t\t\t\t\t\t.password(password)\r\n\t\t\t\t\t\t\t\t\t.roles(&quot;USER&quot;,&quot;ADMIN&quot;)\r\n\t\t\t\t\t\t\t\t\t.build();\r\n\t\treturn userDetails;\r\n\t}\r\n\r\nHope it help you","title":"Spring security with user/password","body":"<p>Hello Please Code as the following coding</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager createUserDetailsManager() {\n    \n    UserDetails userDetails1 = createNewUser(&quot;username1&quot;, &quot;dummy&quot;);\n    UserDetails userDetails2 = createNewUser(&quot;username2&quot;, &quot;dummydummy&quot;);\n    \n    return new InMemoryUserDetailsManager(userDetails1, userDetails2);\n}\n\nprivate UserDetails createNewUser(String username, String password) {\n    Function&lt;String, String&gt; passwordEncoder\n    = input -&gt; passwordEncoder().encode(input);\n\n    UserDetails userDetails = User.builder()\n                                .passwordEncoder(passwordEncoder)\n                                .username(username)\n                                .password(password)\n                                .roles(&quot;USER&quot;,&quot;ADMIN&quot;)\n                                .build();\n    return userDetails;\n}\n</code></pre>\n<p>Hope it help you</p>\n"},{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964435,"creation_date":1664964435,"answer_id":73958842,"question_id":73958590,"body_markdown":"You should implement jdbc authentication `DaoAuthenticationProvider`. Checkout https://www.baeldung.com/spring-security-jdbc-authentication.\r\n\r\nYour user details must be stored in permanent storage, not temporary storage. Also, passwords must be encrypted to avoid compromising security. So using permanent storage you can take backup or data and run queries out of it.","title":"Spring security with user/password","body":"<p>You should implement jdbc authentication <code>DaoAuthenticationProvider</code>. Checkout <a href=\"https://www.baeldung.com/spring-security-jdbc-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-jdbc-authentication</a>.</p>\n<p>Your user details must be stored in permanent storage, not temporary storage. Also, passwords must be encrypted to avoid compromising security. So using permanent storage you can take backup or data and run queries out of it.</p>\n"},{"tags":[],"owner":{"account_id":20272202,"reputation":356,"user_id":14868118,"display_name":"oktaykcr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664970444,"creation_date":1664970444,"answer_id":73959901,"question_id":73958590,"body_markdown":"You can implement custom user details service instead of using default.\r\n\r\n```java\r\n@Service\r\npublic class CustomUserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public CustomUserDetailsServiceImpl(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n\r\n        if(user == null) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.NOT_FOUND, &quot;user&quot;);\r\n        }\r\n\r\n        return new org.springframework.security.core.userdetails.User(\r\n                user.getUsername(),\r\n                user.getPassword(),\r\n                user.getEnabled(),\r\n                true,\r\n                true,\r\n                true,\r\n                getAuthorities(user));\r\n    }\r\n\r\n    public Boolean isTokenValid(String token) {\r\n        try {\r\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(SECRET.getBytes()).parseClaimsJws(token);\r\n            return true;\r\n        } catch (SignatureException | MalformedJwtException | UnsupportedJwtException | IllegalArgumentException ex) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;invalid credentials&quot;);\r\n        } catch (ExpiredJwtException ex) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;token expired&quot;);\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    public Boolean save(User user){\r\n        if(StringUtils.isEmpty(user.getUsername())) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;username&quot;);\r\n        }\r\n\r\n        if(StringUtils.isEmpty(user.getPassword())) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;password&quot;);\r\n        }\r\n\r\n        if(StringUtils.isEmpty(user.getEmail())) {\r\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;email&quot;);\r\n        }\r\n\r\n        User registeredUser = new User();\r\n        registeredUser.setUsername(user.getUsername());\r\n        registeredUser.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        registeredUser.setEmail(user.getEmail());\r\n        registeredUser.setEnabled(true);\r\n        registeredUser.setRoles(user.getRoles());\r\n\r\n        User savedUser = userRepository.save(registeredUser);\r\n\r\n        Inventory userInventory = inventoryService.saveInventoryForUser(savedUser.getUsername());\r\n\r\n        return userInventory != null;\r\n    }\r\n\r\n    private Set&lt;GrantedAuthority&gt; getAuthorities(User user){\r\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        for(Role role : user.getRoles()) {\r\n            GrantedAuthority grantedAuthority = new SimpleGrantedAuthority(role.getName().getRole());\r\n            authorities.add(grantedAuthority);\r\n        }\r\n        return authorities;\r\n    }\r\n}\r\n```\r\nYou can save user details into your repository.\r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends BaseRepository&lt;User&gt; {\r\n\r\n    User findByUsername(String username);\r\n\r\n    Boolean existsByUsername(String username);\r\n\r\n    Boolean existsByEmail(String email);\r\n\r\n}\r\n```\r\n\r\nFinally add your user details into authentication manager with password encoder.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceBean()).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Override\r\n    public UserDetailsService userDetailsServiceBean() {\r\n        return new CustomUserDetailsServiceImpl(userRepository);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nFor more details check my [github repository][1]\r\n\r\n\r\n  [1]: https://github.com/oktaykcr/bom-app-be/blob/master/src/main/java/com/oktaykcr/bomappbe/security/WebSecurityConfig.java","title":"Spring security with user/password","body":"<p>You can implement custom user details service instead of using default.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomUserDetailsServiceImpl implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public CustomUserDetailsServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n\n        if(user == null) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.NOT_FOUND, &quot;user&quot;);\n        }\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getUsername(),\n                user.getPassword(),\n                user.getEnabled(),\n                true,\n                true,\n                true,\n                getAuthorities(user));\n    }\n\n    public Boolean isTokenValid(String token) {\n        try {\n            Jws&lt;Claims&gt; claimsJws = Jwts.parser().setSigningKey(SECRET.getBytes()).parseClaimsJws(token);\n            return true;\n        } catch (SignatureException | MalformedJwtException | UnsupportedJwtException | IllegalArgumentException ex) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;invalid credentials&quot;);\n        } catch (ExpiredJwtException ex) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.LOGIN_FAILURE, &quot;token expired&quot;);\n        }\n    }\n\n    @Transactional\n    public Boolean save(User user){\n        if(StringUtils.isEmpty(user.getUsername())) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;username&quot;);\n        }\n\n        if(StringUtils.isEmpty(user.getPassword())) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;password&quot;);\n        }\n\n        if(StringUtils.isEmpty(user.getEmail())) {\n            throw ApiExceptionFactory.getApiException(ApiExceptionType.BAD_REQUEST, &quot;email&quot;);\n        }\n\n        User registeredUser = new User();\n        registeredUser.setUsername(user.getUsername());\n        registeredUser.setPassword(passwordEncoder.encode(user.getPassword()));\n        registeredUser.setEmail(user.getEmail());\n        registeredUser.setEnabled(true);\n        registeredUser.setRoles(user.getRoles());\n\n        User savedUser = userRepository.save(registeredUser);\n\n        Inventory userInventory = inventoryService.saveInventoryForUser(savedUser.getUsername());\n\n        return userInventory != null;\n    }\n\n    private Set&lt;GrantedAuthority&gt; getAuthorities(User user){\n        Set&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        for(Role role : user.getRoles()) {\n            GrantedAuthority grantedAuthority = new SimpleGrantedAuthority(role.getName().getRole());\n            authorities.add(grantedAuthority);\n        }\n        return authorities;\n    }\n}\n</code></pre>\n<p>You can save user details into your repository.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends BaseRepository&lt;User&gt; {\n\n    User findByUsername(String username);\n\n    Boolean existsByUsername(String username);\n\n    Boolean existsByEmail(String email);\n\n}\n</code></pre>\n<p>Finally add your user details into authentication manager with password encoder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsServiceBean()).passwordEncoder(passwordEncoder());\n    }\n\n    @Override\n    public UserDetailsService userDetailsServiceBean() {\n        return new CustomUserDetailsServiceImpl(userRepository);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>For more details check my <a href=\"https://github.com/oktaykcr/bom-app-be/blob/master/src/main/java/com/oktaykcr/bomappbe/security/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">github repository</a></p>\n"}],"owner":{"account_id":17927206,"reputation":13,"user_id":13025527,"display_name":"Tijunelis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1664970444,"creation_date":1664963111,"question_id":73958590,"body_markdown":"So I followed some guides on spring security with usernames and passwords, however most of them show using &quot;InMemoryUserDetailsManager&quot; which they say should not be used in production: \r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsManager(){\r\n        UserDetails admin = User.withDefaultPasswordEncoder()\r\n                .username(&quot;ADMIN&quot;)\r\n                .password(&quot;123&quot;)\r\n                .roles(&quot;ADMIN&quot;).build();\r\n\r\n        return new InMemoryUserDetailsManager(admin);\r\n    }\r\n\r\nMy questions, so how should a production level version of this be setup? Is it just not using the default password encoder because it is deprecated or should I use an entirely different method of adding and storing users?","title":"Spring security with user/password","body":"<p>So I followed some guides on spring security with usernames and passwords, however most of them show using &quot;InMemoryUserDetailsManager&quot; which they say should not be used in production:</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager userDetailsManager(){\n    UserDetails admin = User.withDefaultPasswordEncoder()\n            .username(&quot;ADMIN&quot;)\n            .password(&quot;123&quot;)\n            .roles(&quot;ADMIN&quot;).build();\n\n    return new InMemoryUserDetailsManager(admin);\n}\n</code></pre>\n<p>My questions, so how should a production level version of this be setup? Is it just not using the default password encoder because it is deprecated or should I use an entirely different method of adding and storing users?</p>\n"},{"tags":["java","json","jpa","jackson","blaze-persistence"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664970443,"creation_date":1664970443,"answer_id":73959900,"question_id":73959709,"body_markdown":"You can use the [Jackson integration][1] which allows you to deserialize creatable/updatable entity views. There are integrations for [JAX-RS][2] and Spring [WebMvc][3]/[WebFlux][4] and even [GraphQL][5] though, so chances are, you don&#39;t have to do this plumbing yourself. If you share some more details like the entity view and the are where you want to do deserialization, I can give you a more extensive answer.\r\n\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#usage-5\r\n  [2]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#jaxrs-integration\r\n  [3]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webmvc-integration\r\n  [4]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webflux-integration\r\n  [5]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#graphql-integration","title":"How to deserialize blaze persistence entity view from JSON programatically?","body":"<p>You can use the <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#usage-5\" rel=\"nofollow noreferrer\">Jackson integration</a> which allows you to deserialize creatable/updatable entity views. There are integrations for <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#jaxrs-integration\" rel=\"nofollow noreferrer\">JAX-RS</a> and Spring <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webmvc-integration\" rel=\"nofollow noreferrer\">WebMvc</a>/<a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-webflux-integration\" rel=\"nofollow noreferrer\">WebFlux</a> and even <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#graphql-integration\" rel=\"nofollow noreferrer\">GraphQL</a> though, so chances are, you don't have to do this plumbing yourself. If you share some more details like the entity view and the are where you want to do deserialization, I can give you a more extensive answer.</p>\n"}],"owner":{"account_id":3108216,"reputation":75,"user_id":2630579,"display_name":"user2630579"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664970443,"creation_date":1664969330,"question_id":73959709,"body_markdown":"Is there a way to programatically deserialize JSON to blaze-persistence entity view? \r\nWhen I&#39;m using standard jackson object mapper, and trying to do\r\n\r\n```mapper.readValue(serializedJSON, EntityViewImpl.class);```\r\n\r\nwhere serializedJSON is string representation (serialized from the same class of entity view), and EntityViewImpl.class is code-generated implementation of entity view interface, I&#39;m getting an exception: \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of &lt;full path of EntityViewImpl.class&gt; (although at least one Creator exists): cannot deserialize from Object value (no delegate or property based Creator)\r\nat [Source: (String) &quot;{JSON representation of EntityView}&quot;; line: 1, column: 2]\r\n.\r\n\r\nSame JSON correctly deserializes into entity that was basis for used entity view.\r\n\r\nI noticed that there is a custom deserialization functionality as part of the blaze-persistance, although was not able to find any related documentation. \r\n\r\nSo any answer, eighther with standard jackson mapper or with custom blaze-persistence functionality would work for me.","title":"How to deserialize blaze persistence entity view from JSON programatically?","body":"<p>Is there a way to programatically deserialize JSON to blaze-persistence entity view?\nWhen I'm using standard jackson object mapper, and trying to do</p>\n<p><code>mapper.readValue(serializedJSON, EntityViewImpl.class);</code></p>\n<p>where serializedJSON is string representation (serialized from the same class of entity view), and EntityViewImpl.class is code-generated implementation of entity view interface, I'm getting an exception:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of  (although at least one Creator exists): cannot deserialize from Object value (no delegate or property based Creator)\nat [Source: (String) &quot;{JSON representation of EntityView}&quot;; line: 1, column: 2]\n.</p>\n</blockquote>\n<p>Same JSON correctly deserializes into entity that was basis for used entity view.</p>\n<p>I noticed that there is a custom deserialization functionality as part of the blaze-persistance, although was not able to find any related documentation.</p>\n<p>So any answer, eighther with standard jackson mapper or with custom blaze-persistence functionality would work for me.</p>\n"},{"tags":["java","json-patch"],"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664969855,"creation_date":1664969855,"question_id":73959804,"body_markdown":"Library used: ```com.github.fge.jsonpatch```\\\r\nAnd I have one PATCH endpoint which accepts the String of json-patch operations. \r\n\r\n```public Employee patchEmployee(String patchOperations, String empId);```\r\n\r\nThis method then does the required conversion to JsonPatch and all the necessary steps to apply the patch. This part is working fine when an array of Json-patch operations is sent to it in string format as a payload.\r\n\r\nBut to call this API from a rest client, I need to construct the array of json-patch operations in String format.\r\n\r\nI am trying to use the JsonPatchOperation like:\\\r\n``` JsonPatchOperation replaceName = new ReplaceOperation(new JsonPointer(&quot;/name&quot;), nameNode);```\\\r\n```JsonPatchOperation replaceSubject = new ReplaceOperation(new JsonPointer(&quot;/subject&quot;), subjectNode);```\r\n\r\n\r\nUsing this method I can apply the operations to the Employee object directly, but as the endpoint accepts the String, I am not getting how to convert these operations to String format like:\r\n```\r\n[\r\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/name&quot;,&quot;value&quot;:&quot;John&quot; },\r\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/subject&quot;,&quot;value&quot;:&quot;Science&quot; }\r\n]\r\n```\r\n\r\nIs there any way we can construct this payload apart from manually creating the Json string?","title":"How to construct Json-patch payload to call PATCH endpoint","body":"<p>Library used: <code>com.github.fge.jsonpatch</code><br />\nAnd I have one PATCH endpoint which accepts the String of json-patch operations.</p>\n<p><code>public Employee patchEmployee(String patchOperations, String empId);</code></p>\n<p>This method then does the required conversion to JsonPatch and all the necessary steps to apply the patch. This part is working fine when an array of Json-patch operations is sent to it in string format as a payload.</p>\n<p>But to call this API from a rest client, I need to construct the array of json-patch operations in String format.</p>\n<p>I am trying to use the JsonPatchOperation like:<br />\n<code> JsonPatchOperation replaceName = new ReplaceOperation(new JsonPointer(&quot;/name&quot;), nameNode);</code><br />\n<code>JsonPatchOperation replaceSubject = new ReplaceOperation(new JsonPointer(&quot;/subject&quot;), subjectNode);</code></p>\n<p>Using this method I can apply the operations to the Employee object directly, but as the endpoint accepts the String, I am not getting how to convert these operations to String format like:</p>\n<pre><code>[\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/name&quot;,&quot;value&quot;:&quot;John&quot; },\n    {&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/subject&quot;,&quot;value&quot;:&quot;Science&quot; }\n]\n</code></pre>\n<p>Is there any way we can construct this payload apart from manually creating the Json string?</p>\n"},{"tags":["java","swing","swingworker","progressmonitor"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664716344,"post_id":73925817,"comment_id":130530890,"body_markdown":"*The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more.* So why not scale the &#39;progress increment&#39;? ```int progressScale = numpages/100```","body":"<i>The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more.</i> So why not scale the &#39;progress increment&#39;? <code>int progressScale = numpages&#47;100</code>"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1664719696,"post_id":73925817,"comment_id":130531557,"body_markdown":"As I said, I&#39;m doing that (&quot;rewrite my progress reporting to calculate a percentage&quot;). But it seems odd that there is no mention of this limitation of SwingWorker&#39;s bound property in the tutorials for using ProgressMonitor, which seemingly doesn&#39;t have the limitation. And it means I have to separate the reporting of the page number from the reporting of the progress in any case where the upper bound of progress might be more than 100.","body":"As I said, I&#39;m doing that (&quot;rewrite my progress reporting to calculate a percentage&quot;). But it seems odd that there is no mention of this limitation of SwingWorker&#39;s bound property in the tutorials for using ProgressMonitor, which seemingly doesn&#39;t have the limitation. And it means I have to separate the reporting of the page number from the reporting of the progress in any case where the upper bound of progress might be more than 100."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664720315,"post_id":73925817,"comment_id":130531692,"body_markdown":"Sorry I missed the bit where you said you were already scaling it","body":"Sorry I missed the bit where you said you were already scaling it"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664862272,"post_id":73925817,"comment_id":130561299,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664882890,"post_id":73925817,"comment_id":130567257,"body_markdown":"and your question is ... ;) Looks more like a rant than anything else. _I evidently cannot do that with the bound property if I&#39;m ever going to have a document of over 100 pages_ doesn&#39;t make sense to me: progress property represents a percentage, so would match the absolute value only if the there are _exactly_ 100 pages. And as @g00se already said: what&#39;s the problem with de-/normalizing the absolute value in listener/worker? on-the-fly, with utility methods, a custom object ... Or enhance your worker with custom logic and custom property fired from process.","body":"and your question is ... ;) Looks more like a rant than anything else. <i>I evidently cannot do that with the bound property if I&#39;m ever going to have a document of over 100 pages</i> doesn&#39;t make sense to me: progress property represents a percentage, so would match the absolute value only if the there are <i>exactly</i> 100 pages. And as @g00se already said: what&#39;s the problem with de-/normalizing the absolute value in listener/worker? on-the-fly, with utility methods, a custom object ... Or enhance your worker with custom logic and custom property fired from process."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664975022,"post_id":73925817,"comment_id":130590690,"body_markdown":"repeating: you have to normalize (to percent) the progress in task and denormalize it (back to  absolute) in the changelistener. The behavior is clearly documented.","body":"repeating: you have to normalize (to percent) the progress in task and denormalize it (back to  absolute) in the changelistener. The behavior is clearly documented."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1665012234,"post_id":73925817,"comment_id":130602312,"body_markdown":"IF you could tell me where it is clearly documented, I&#39;d appreciate it. My point was that the demo code does not explain this difference between `SwingWorker.setProgress()` and `ProgressMonitor.setProgress()` - it just uses 0-100 for both and doesn&#39;t mention the API difference.","body":"IF you could tell me where it is clearly documented, I&#39;d appreciate it. My point was that the demo code does not explain this difference between <code>SwingWorker.setProgress()</code> and <code>ProgressMonitor.setProgress()</code> - it just uses 0-100 for both and doesn&#39;t mention the API difference."}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664969309,"creation_date":1664713784,"question_id":73925817,"body_markdown":"Class `javax.swing.ProgressMonitor` provides method `setMaximum(int max)` which is documented as\r\n&gt;Specifies the maximum value.\r\n\r\nHowever, `SwingWorker&lt;Void, Void&gt;.setProgress(int progres)` is documented as updating the `progress` bound property, which must be between 0 and 100. If you update it with a value outside that range it throws an exception. `ProgressMonitor.setMaximum(int max)` makes no mention of the SwingWorker `progress` property limitation.\r\n\r\nI have an application that reads from a document file, and I report progress each page. The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more. I&#39;ve wrapped myself around a couple of axles trying to resolve this in an elegant fashion, and have now given up. I&#39;ll go back to my code and rewrite my progress reporting to calculate a percentage.\r\n\r\nThe tutorials for using `ProgressMonitor` don&#39;t mention this; they all just report progress between 1 and 100 without mentioning why `ProgressMonitor.setProgress()`, when used with `SwingWorker`, has this limitation.\r\n\r\nIs there something I&#39;m missing here?\r\n\r\nEDIT: I forgot to mention that it&#39;s particularly annoying because I want to update the message in the dialog to say &quot;reading page X of Y&quot;, and I evidently cannot do that with the bound property if I&#39;m ever going to have a document of over 100 pages. So I have to update that message outside the property change logic.\r\n\r\nEDIT 2: The following is the example program given for Java&#39;s tutorial &quot;How to use Progress Bars&quot;, in the &quot;How to use Progress Monitors&quot; section. The original does not have a field for the end value of progress, but instead uses a hard-coded 100. I&#39;ve altered it to take a value from the user for the end value of the progress bar. It works the same as the original for a value of 100, sort-of works for values between 10 and 100, and throws a (runtime) exception for a value over 100.\r\n\r\nMy &#39;rant&#39;, I suppose, is that the two setProgress methods -- ProgressMonitor and SwingWorker -- work differently. `SwingWorker.setProgress()` cannot be used for values over 100, so their example of how to use `ProgressMonitor.setProgress()` is limited by that, though the tutorial doesn&#39;t mention it.\r\n\r\nMy question was &quot;am I missing anything&quot;. I guess not.\r\n\r\n    package sandbox.progressmonitor;\r\n    \r\n    /*\r\n     * Copyright (c) 1995 - 2008 Sun Microsystems, Inc.  All rights reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Sun Microsystems nor the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.ProgressMonitor;\r\n    import javax.swing.SwingWorker;\r\n    \r\n    public class ProgressMonitorDemo extends JPanel implements ActionListener, PropertyChangeListener\r\n    {\r\n      private static final long serialVersionUID = 1L;\r\n      private ProgressMonitor progressMonitor;\r\n      private JButton         startButton;\r\n      private JTextField      endValue;             // GUI value for end of progress\r\n      private int             endValueInt;          // int value for end of progress\r\n      private JTextArea       taskOutput;\r\n      private Task            task;\r\n    \r\n      class Task extends SwingWorker&lt;Void, Void&gt;\r\n      {\r\n        @Override\r\n        public Void doInBackground()\r\n        {\r\n          Random random = new Random();\r\n          int progress = 0;\r\n          setProgress(0);\r\n          try\r\n          {\r\n            Thread.sleep(1000);\r\n            while (progress &lt; endValueInt &amp;&amp; !isCancelled())\r\n            {\r\n              // Sleep for up to one second.\r\n              Thread.sleep(random.nextInt(1000));\r\n              // Make random progress.\r\n              progress += random.nextInt(10);\r\n              System.out.printf(&quot;Setting progress to %d%n&quot;, progress);\r\n              setProgress(Math.min(progress, endValueInt));   // &lt;-- looks reasonable, but a non-obvious bug\r\n                                                              // if endValueInt is over 100, this throws an exception\r\n            }\r\n          } \r\n          catch (Throwable doNotIgnore)\r\n          {\r\n            doNotIgnore.printStackTrace();                    // &lt;-- demonstrates RuntimeException thrown\r\n          }\r\n          return null;\r\n        }\r\n    \r\n        @Override\r\n        public void done()\r\n        {\r\n          Toolkit.getDefaultToolkit().beep();\r\n          startButton.setEnabled(true);\r\n          progressMonitor.setProgress(0);\r\n        }\r\n      }\r\n    \r\n      public ProgressMonitorDemo()\r\n      {\r\n        super(new BorderLayout());\r\n    \r\n        // Create the demo&#39;s UI.\r\n        startButton = new JButton(&quot;Start&quot;);\r\n        startButton.setActionCommand(&quot;start&quot;);\r\n        startButton.addActionListener(this);\r\n        \r\n        endValue = new JTextField(5);             // &lt;-- new field\r\n        \r\n        JPanel topPanel = new JPanel();           // &lt;-- new panel for field and button\r\n        topPanel.add(endValue);                   // &lt;--\r\n        topPanel.add(startButton);                // &lt;--\r\n    \r\n        taskOutput = new JTextArea(5, 20);\r\n        taskOutput.setMargin(new Insets(5, 5, 5, 5));\r\n        taskOutput.setEditable(false);\r\n    \r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(new JScrollPane(taskOutput), BorderLayout.CENTER);\r\n        setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Invoked when the user presses the start button.\r\n       */\r\n      public void actionPerformed(ActionEvent evt)\r\n      {\r\n        endValueInt = 0;\r\n        try\r\n        {\r\n          endValueInt = Integer.parseInt(endValue.getText());\r\n        }\r\n        catch (Exception e) { /* do nothing, value of 0 will cause abort */ }\r\n        \r\n        if (endValueInt &lt;=10 || endValueInt &gt; 5000)\r\n        {\r\n          JOptionPane.showMessageDialog(this, &quot;Enter an ending value between 10 and 5000&quot;);\r\n        }\r\n        else\r\n        {\r\n          // &lt;-- attempt at monitoring value that might be over 100\r\n          progressMonitor = new ProgressMonitor(ProgressMonitorDemo.this, &quot;Running a Long Task&quot;, &quot;&quot;, 0, endValueInt);\r\n          progressMonitor.setProgress(0);\r\n          progressMonitor.setMillisToDecideToPopup(10);\r\n          progressMonitor.setMillisToPopup(10);\r\n          task = new Task();\r\n          task.addPropertyChangeListener(this);\r\n          task.execute();\r\n          startButton.setEnabled(false);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Invoked when task&#39;s progress property changes.\r\n       */\r\n      public void propertyChange(PropertyChangeEvent evt)\r\n      {\r\n        if (&quot;progress&quot; == evt.getPropertyName())\r\n        {\r\n          int progress = (Integer) evt.getNewValue();\r\n          progressMonitor.setProgress(progress);                          // &lt;-- THIS setProgress(int) will take a value &gt; 100;\r\n                                                                          // but SwingWorker.setProgress(int) will not\r\n          // since the progress property will not take a value &gt; 100,\r\n          // we can&#39;t use property change for monitoring things that have\r\n          // a high value &gt; 100.\r\n          String message = String.format(&quot;Completed %d%%.\\n&quot;, progress);\r\n          progressMonitor.setNote(message);\r\n          taskOutput.append(message);\r\n          if (progressMonitor.isCanceled() || task.isDone())\r\n          {\r\n            Toolkit.getDefaultToolkit().beep();\r\n            if (progressMonitor.isCanceled())\r\n            {\r\n              task.cancel(true);\r\n              taskOutput.append(&quot;Task canceled.\\n&quot;);\r\n            }\r\n            else\r\n            {\r\n              taskOutput.append(&quot;Task completed.\\n&quot;);\r\n            }\r\n            startButton.setEnabled(true);\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Create the GUI and show it. For thread safety, this method should be\r\n       * invoked from the event-dispatching thread.\r\n       */\r\n      private static void createAndShowGUI()\r\n      {\r\n        // Create and set up the window.\r\n        JFrame frame = new JFrame(&quot;ProgressMonitorDemo&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        // Create and set up the content pane.\r\n        JComponent newContentPane = new ProgressMonitorDemo();\r\n        newContentPane.setOpaque(true); // content panes must be opaque\r\n        frame.setContentPane(newContentPane);\r\n    \r\n        // Display the window.\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        // Schedule a job for the event-dispatching thread:\r\n        // creating and showing this application&#39;s GUI.\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n          public void run()\r\n          {\r\n            createAndShowGUI();\r\n          }\r\n        });\r\n      }\r\n    }","title":"Mismatch between javax.swing.ProgressMonitor and SwingWorker.setProgress","body":"<p>Class <code>javax.swing.ProgressMonitor</code> provides method <code>setMaximum(int max)</code> which is documented as</p>\n<blockquote>\n<p>Specifies the maximum value.</p>\n</blockquote>\n<p>However, <code>SwingWorker&lt;Void, Void&gt;.setProgress(int progres)</code> is documented as updating the <code>progress</code> bound property, which must be between 0 and 100. If you update it with a value outside that range it throws an exception. <code>ProgressMonitor.setMaximum(int max)</code> makes no mention of the SwingWorker <code>progress</code> property limitation.</p>\n<p>I have an application that reads from a document file, and I report progress each page. The number of pages might be anywhere from 1 to 150. Setting the bound property max works while the number of pages is less than 100, but of course fails when there are more. I've wrapped myself around a couple of axles trying to resolve this in an elegant fashion, and have now given up. I'll go back to my code and rewrite my progress reporting to calculate a percentage.</p>\n<p>The tutorials for using <code>ProgressMonitor</code> don't mention this; they all just report progress between 1 and 100 without mentioning why <code>ProgressMonitor.setProgress()</code>, when used with <code>SwingWorker</code>, has this limitation.</p>\n<p>Is there something I'm missing here?</p>\n<p>EDIT: I forgot to mention that it's particularly annoying because I want to update the message in the dialog to say &quot;reading page X of Y&quot;, and I evidently cannot do that with the bound property if I'm ever going to have a document of over 100 pages. So I have to update that message outside the property change logic.</p>\n<p>EDIT 2: The following is the example program given for Java's tutorial &quot;How to use Progress Bars&quot;, in the &quot;How to use Progress Monitors&quot; section. The original does not have a field for the end value of progress, but instead uses a hard-coded 100. I've altered it to take a value from the user for the end value of the progress bar. It works the same as the original for a value of 100, sort-of works for values between 10 and 100, and throws a (runtime) exception for a value over 100.</p>\n<p>My 'rant', I suppose, is that the two setProgress methods -- ProgressMonitor and SwingWorker -- work differently. <code>SwingWorker.setProgress()</code> cannot be used for values over 100, so their example of how to use <code>ProgressMonitor.setProgress()</code> is limited by that, though the tutorial doesn't mention it.</p>\n<p>My question was &quot;am I missing anything&quot;. I guess not.</p>\n<pre><code>package sandbox.progressmonitor;\n\n/*\n * Copyright (c) 1995 - 2008 Sun Microsystems, Inc.  All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\n * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport java.awt.BorderLayout;\nimport java.awt.Insets;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.Random;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.ProgressMonitor;\nimport javax.swing.SwingWorker;\n\npublic class ProgressMonitorDemo extends JPanel implements ActionListener, PropertyChangeListener\n{\n  private static final long serialVersionUID = 1L;\n  private ProgressMonitor progressMonitor;\n  private JButton         startButton;\n  private JTextField      endValue;             // GUI value for end of progress\n  private int             endValueInt;          // int value for end of progress\n  private JTextArea       taskOutput;\n  private Task            task;\n\n  class Task extends SwingWorker&lt;Void, Void&gt;\n  {\n    @Override\n    public Void doInBackground()\n    {\n      Random random = new Random();\n      int progress = 0;\n      setProgress(0);\n      try\n      {\n        Thread.sleep(1000);\n        while (progress &lt; endValueInt &amp;&amp; !isCancelled())\n        {\n          // Sleep for up to one second.\n          Thread.sleep(random.nextInt(1000));\n          // Make random progress.\n          progress += random.nextInt(10);\n          System.out.printf(&quot;Setting progress to %d%n&quot;, progress);\n          setProgress(Math.min(progress, endValueInt));   // &lt;-- looks reasonable, but a non-obvious bug\n                                                          // if endValueInt is over 100, this throws an exception\n        }\n      } \n      catch (Throwable doNotIgnore)\n      {\n        doNotIgnore.printStackTrace();                    // &lt;-- demonstrates RuntimeException thrown\n      }\n      return null;\n    }\n\n    @Override\n    public void done()\n    {\n      Toolkit.getDefaultToolkit().beep();\n      startButton.setEnabled(true);\n      progressMonitor.setProgress(0);\n    }\n  }\n\n  public ProgressMonitorDemo()\n  {\n    super(new BorderLayout());\n\n    // Create the demo's UI.\n    startButton = new JButton(&quot;Start&quot;);\n    startButton.setActionCommand(&quot;start&quot;);\n    startButton.addActionListener(this);\n    \n    endValue = new JTextField(5);             // &lt;-- new field\n    \n    JPanel topPanel = new JPanel();           // &lt;-- new panel for field and button\n    topPanel.add(endValue);                   // &lt;--\n    topPanel.add(startButton);                // &lt;--\n\n    taskOutput = new JTextArea(5, 20);\n    taskOutput.setMargin(new Insets(5, 5, 5, 5));\n    taskOutput.setEditable(false);\n\n    add(topPanel, BorderLayout.PAGE_START);\n    add(new JScrollPane(taskOutput), BorderLayout.CENTER);\n    setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n\n  }\n\n  /**\n   * Invoked when the user presses the start button.\n   */\n  public void actionPerformed(ActionEvent evt)\n  {\n    endValueInt = 0;\n    try\n    {\n      endValueInt = Integer.parseInt(endValue.getText());\n    }\n    catch (Exception e) { /* do nothing, value of 0 will cause abort */ }\n    \n    if (endValueInt &lt;=10 || endValueInt &gt; 5000)\n    {\n      JOptionPane.showMessageDialog(this, &quot;Enter an ending value between 10 and 5000&quot;);\n    }\n    else\n    {\n      // &lt;-- attempt at monitoring value that might be over 100\n      progressMonitor = new ProgressMonitor(ProgressMonitorDemo.this, &quot;Running a Long Task&quot;, &quot;&quot;, 0, endValueInt);\n      progressMonitor.setProgress(0);\n      progressMonitor.setMillisToDecideToPopup(10);\n      progressMonitor.setMillisToPopup(10);\n      task = new Task();\n      task.addPropertyChangeListener(this);\n      task.execute();\n      startButton.setEnabled(false);\n    }\n  }\n\n  /**\n   * Invoked when task's progress property changes.\n   */\n  public void propertyChange(PropertyChangeEvent evt)\n  {\n    if (&quot;progress&quot; == evt.getPropertyName())\n    {\n      int progress = (Integer) evt.getNewValue();\n      progressMonitor.setProgress(progress);                          // &lt;-- THIS setProgress(int) will take a value &gt; 100;\n                                                                      // but SwingWorker.setProgress(int) will not\n      // since the progress property will not take a value &gt; 100,\n      // we can't use property change for monitoring things that have\n      // a high value &gt; 100.\n      String message = String.format(&quot;Completed %d%%.\\n&quot;, progress);\n      progressMonitor.setNote(message);\n      taskOutput.append(message);\n      if (progressMonitor.isCanceled() || task.isDone())\n      {\n        Toolkit.getDefaultToolkit().beep();\n        if (progressMonitor.isCanceled())\n        {\n          task.cancel(true);\n          taskOutput.append(&quot;Task canceled.\\n&quot;);\n        }\n        else\n        {\n          taskOutput.append(&quot;Task completed.\\n&quot;);\n        }\n        startButton.setEnabled(true);\n      }\n    }\n\n  }\n\n  /**\n   * Create the GUI and show it. For thread safety, this method should be\n   * invoked from the event-dispatching thread.\n   */\n  private static void createAndShowGUI()\n  {\n    // Create and set up the window.\n    JFrame frame = new JFrame(&quot;ProgressMonitorDemo&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    // Create and set up the content pane.\n    JComponent newContentPane = new ProgressMonitorDemo();\n    newContentPane.setOpaque(true); // content panes must be opaque\n    frame.setContentPane(newContentPane);\n\n    // Display the window.\n    frame.pack();\n    frame.setVisible(true);\n  }\n\n  public static void main(String[] args)\n  {\n    // Schedule a job for the event-dispatching thread:\n    // creating and showing this application's GUI.\n    javax.swing.SwingUtilities.invokeLater(new Runnable()\n    {\n      public void run()\n      {\n        createAndShowGUI();\n      }\n    });\n  }\n}\n</code></pre>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1664969598,"post_id":73959691,"comment_id":130588795,"body_markdown":"Shouldn&#39;t you be sending JSON strings instead of JSON objects? Can you try defining boy as an empty JSON string `{}` and check?","body":"Shouldn&#39;t you be sending JSON strings instead of JSON objects? Can you try defining boy as an empty JSON string <code>{}</code> and check?"},{"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"score":0,"creation_date":1664970048,"post_id":73959691,"comment_id":130588950,"body_markdown":"the reason for that is that I use this method for passing deserialized objects as a body parameter. This is an exception usage","body":"the reason for that is that I use this method for passing deserialized objects as a body parameter. This is an exception usage"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664972447,"post_id":73959691,"comment_id":130589746,"body_markdown":"You need to check the code with the body part and how it&#39;s deserializing the object.","body":"You need to check the code with the body part and how it&#39;s deserializing the object."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1665729992,"post_id":73959691,"comment_id":130770749,"body_markdown":"@jacob1989 Could you re-write your question? I read it 5 times, and still don&#39;t get your problem. Do you mean when you did `JsonObject body = new JsonObject();` --&gt; Exception, but if you did `Object body = new JsonObject();` --&gt; `{}` and no error ?","body":"@jacob1989 Could you re-write your question? I read it 5 times, and still don&#39;t get your problem. Do you mean when you did <code>JsonObject body = new JsonObject();</code> --&gt; Exception, but if you did <code>Object body = new JsonObject();</code> --&gt; <code>{}</code> and no error ?"}],"owner":{"account_id":18395741,"reputation":17,"user_id":13400243,"display_name":"jacob1989"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664969188,"creation_date":1664969188,"question_id":73959691,"body_markdown":"When trying to pass empty body to the POST request it fails with   \r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: JsonObject (through reference chain: com.google.gson.JsonObject[&quot;asFloat&quot;])\r\n\r\nSo I am trying to pass empty body {} in the POST request by creating:\r\n\r\n    Object body = new JsonObject();\r\nIt gives me desired object like this: {} (I checked in the network action and it&#39;s passed the same way). But when it reaches the  `RequestSpecification body(Object var1);` then it fails (on the &#39;body&#39; part)\r\n\r\n  \r\n\r\n    given()\r\n                    .spec(requestSpecification)\r\n                    .contentType(ContentType.JSON)\r\n                    .when()\r\n                    .body(body).log().all()\r\n                    .post(URL)\r\n                    .then().log().all().extract().response();\r\n\r\n","title":"JsonMappingException when passing empty body","body":"<p>When trying to pass empty body to the POST request it fails with</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: JsonObject (through reference chain: com.google.gson.JsonObject[&quot;asFloat&quot;])\n</code></pre>\n<p>So I am trying to pass empty body {} in the POST request by creating:</p>\n<pre><code>Object body = new JsonObject();\n</code></pre>\n<p>It gives me desired object like this: {} (I checked in the network action and it's passed the same way). But when it reaches the  <code>RequestSpecification body(Object var1);</code> then it fails (on the 'body' part)</p>\n<pre><code>given()\n                .spec(requestSpecification)\n                .contentType(ContentType.JSON)\n                .when()\n                .body(body).log().all()\n                .post(URL)\n                .then().log().all().extract().response();\n</code></pre>\n"},{"tags":["java","interface","package"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664967271,"creation_date":1664967271,"answer_id":73959361,"question_id":73959325,"body_markdown":"Do Car.java and Vehicle.java reside in the same directory? Compile them both in one go.\r\n\r\nIf you want to compile them one by one, ensure that Vehicle.class is on the classpath while compiling Car.java.","title":"file name &quot;Car.java&quot; this class is not compiling and showing error","body":"<p>Do Car.java and Vehicle.java reside in the same directory? Compile them both in one go.</p>\n<p>If you want to compile them one by one, ensure that Vehicle.class is on the classpath while compiling Car.java.</p>\n"}],"owner":{"account_id":23895972,"reputation":9,"user_id":17894946,"display_name":"kretosian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1664969036,"accepted_answer_id":73959361,"answer_count":1,"score":-2,"last_activity_date":1664969081,"creation_date":1664967084,"question_id":73959325,"body_markdown":"&quot;Vehicle.java&quot; this class is compiling and creating a package vehicles \r\n```\r\npackage vehicles;\r\ninterface Vehicle {\r\n    public void run();\r\n    public void speed();\r\n}\r\n```\r\n\r\n&quot;Car.java&quot;\r\n\r\n```\r\npackage vehicles;\r\npublic class Car implements Vehicle\r\n{\r\n        public void run()\r\n        {\r\n                System.out.println(&quot;Car is running.&quot;);\r\n        }\r\n        public void speed()\r\n        {\r\n                System.out.println(&quot;Speed of Car: 50 Km/h&quot;);\r\n        }\r\n        public static void main(String args[])\r\n        {\r\n                Car Car = new Car();\r\n                Car.run();\r\n                Car.speed();\r\n                System.out.println(&quot;Hello World!&quot;);\r\n        }\r\n}\r\n```\r\n\r\nis not compiling and showing error \r\n\r\n    PS D:\\Programming\\java2&gt; javac -d . Car.java\r\n    Car.java:2: error: cannot find symbol\r\n    public class Car implements Vehicle\r\n                                ^\r\n    symbol: class Vehicle\r\n    1 error\r\n\r\n\r\nWhy am I getting this error?","title":"file name &quot;Car.java&quot; this class is not compiling and showing error","body":"<p>&quot;Vehicle.java&quot; this class is compiling and creating a package vehicles</p>\n<pre><code>package vehicles;\ninterface Vehicle {\n    public void run();\n    public void speed();\n}\n</code></pre>\n<p>&quot;Car.java&quot;</p>\n<pre><code>package vehicles;\npublic class Car implements Vehicle\n{\n        public void run()\n        {\n                System.out.println(&quot;Car is running.&quot;);\n        }\n        public void speed()\n        {\n                System.out.println(&quot;Speed of Car: 50 Km/h&quot;);\n        }\n        public static void main(String args[])\n        {\n                Car Car = new Car();\n                Car.run();\n                Car.speed();\n                System.out.println(&quot;Hello World!&quot;);\n        }\n}\n</code></pre>\n<p>is not compiling and showing error</p>\n<pre><code>PS D:\\Programming\\java2&gt; javac -d . Car.java\nCar.java:2: error: cannot find symbol\npublic class Car implements Vehicle\n                            ^\nsymbol: class Vehicle\n1 error\n</code></pre>\n<p>Why am I getting this error?</p>\n"},{"tags":["java","json","spring","spring-boot","jackson-databind"],"owner":{"account_id":4262158,"reputation":752,"user_id":3486243,"display_name":"Uva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664968686,"creation_date":1657639566,"question_id":72954783,"body_markdown":"I have my pojo defined with the following paramater to map json &quot;child&quot; value\r\n\r\n    @JsonProperty(&quot;child&quot;)\r\n    private List&lt;AccountholderProfileData&gt; child = null;\r\n\r\nHowever, I am receiving List&lt;String&gt; to from the json &quot;child&quot;. \r\n\r\nHence getting the following exception. \r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.mtn.aggregator.models.response.AccountholderProfileData` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value\r\n\r\nCould someone help me to map different return type of objects to the same jsonproperty in pojo.","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: (although at least one Creator exists) - no String-argument to deserialize frm String val","body":"<p>I have my pojo defined with the following paramater to map json &quot;child&quot; value</p>\n<pre><code>@JsonProperty(&quot;child&quot;)\nprivate List&lt;AccountholderProfileData&gt; child = null;\n</code></pre>\n<p>However, I am receiving List to from the json &quot;child&quot;.</p>\n<p>Hence getting the following exception.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.mtn.aggregator.models.response.AccountholderProfileData` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value\n</code></pre>\n<p>Could someone help me to map different return type of objects to the same jsonproperty in pojo.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664400701,"creation_date":1664400701,"answer_id":73888006,"question_id":73882294,"body_markdown":"Helpfully, getting a filtered list of objects from an array can be done using [the `$filter` operator](https://www.mongodb.com/docs/manual/reference/operator/aggregation/filter/). The operator takes an array as input and can process each item individually via an expression. In your situation that expression would include a `$regexMatch` to look for the value in the string(s) of interest. So the stage would look something like this:\r\n\r\n```\r\n  {\r\n    &quot;$addFields&quot;: {\r\n      hobbies: {\r\n        $filter: {\r\n          input: &quot;$hobbies&quot;,\r\n          cond: {\r\n            $or: [\r\n              {\r\n                $regexMatch: {\r\n                  input: &quot;$$this.name&quot;,\r\n                  regex: &quot;d&quot;,\r\n                  options: &quot;i&quot;\r\n                }\r\n              },\r\n              {\r\n                $regexMatch: {\r\n                  input: &quot;$$this.description&quot;,\r\n                  regex: &quot;d&quot;,\r\n                  options: &quot;i&quot;\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nSample Mongo Playground example is [here](https://mongoplayground.net/p/uMrNtU2osCq).\r\n\r\nFrom your question it&#39;s not quite clear if you will separately be using this as selection criteria for the document itself.  I&#39;ve left the leading `$match` stage to just use `_id` for the moment, but of course you can add any other filters to it (such as `&#39;hobbies.name&#39;: /d/i`) as needed.\r\n\r\nI&#39;m not personally familiar enough with Spring Boot to say what the exact syntax is to create such a pipeline, but I do know that aggregations are supported.","title":"Get a filtered list of objects defined inside a MongoDB document","body":"<p>Helpfully, getting a filtered list of objects from an array can be done using <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/filter/\" rel=\"nofollow noreferrer\">the <code>$filter</code> operator</a>. The operator takes an array as input and can process each item individually via an expression. In your situation that expression would include a <code>$regexMatch</code> to look for the value in the string(s) of interest. So the stage would look something like this:</p>\n<pre><code>  {\n    &quot;$addFields&quot;: {\n      hobbies: {\n        $filter: {\n          input: &quot;$hobbies&quot;,\n          cond: {\n            $or: [\n              {\n                $regexMatch: {\n                  input: &quot;$$this.name&quot;,\n                  regex: &quot;d&quot;,\n                  options: &quot;i&quot;\n                }\n              },\n              {\n                $regexMatch: {\n                  input: &quot;$$this.description&quot;,\n                  regex: &quot;d&quot;,\n                  options: &quot;i&quot;\n                }\n              }\n            ]\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n<p>Sample Mongo Playground example is <a href=\"https://mongoplayground.net/p/uMrNtU2osCq\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>From your question it's not quite clear if you will separately be using this as selection criteria for the document itself.  I've left the leading <code>$match</code> stage to just use <code>_id</code> for the moment, but of course you can add any other filters to it (such as <code>'hobbies.name': /d/i</code>) as needed.</p>\n<p>I'm not personally familiar enough with Spring Boot to say what the exact syntax is to create such a pipeline, but I do know that aggregations are supported.</p>\n"}],"owner":{"account_id":20902994,"reputation":45,"user_id":15355674,"display_name":"Alan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73888006,"answer_count":1,"score":1,"last_activity_date":1664968612,"creation_date":1664371700,"question_id":73882294,"body_markdown":"I work with Spring Boot and MongoDB. I am looking for a solution to get a list of hobbies but not all of them. The hobbies have to meet the conditions (name or description have to include searched phrase).\r\n\r\n```\r\n@Document(&quot;persons&quot;)\r\n@Data\r\nclass Person {\r\n    @Id\r\n    private String personId;\r\n    private String name;\r\n    private List&lt;Hobby&gt; hobbies;\r\n}\r\n```\r\n```\r\n@Data\r\nclass Hobby {\r\n    private String name;\r\n    private String description;\r\n    private String notImportantField;\r\n}\r\n```\r\n**Example**\r\n\r\nI want to get a person with reduced list of hobbies (all the hobbies have to contain searched phrase in one of its field).\r\n\r\n*Person document from the database*\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;id1&quot;),\r\n    &quot;name&quot; : &quot;some person&quot;,\r\n    &quot;hobbies&quot; : [\r\n        {\r\n            &quot;name&quot; : &quot;A&quot;,\r\n            &quot;description&quot; : &quot;AB&quot;,\r\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\r\n        },\r\n        {\r\n            &quot;name&quot; : &quot;ABC&quot;,\r\n            &quot;description&quot; : &quot;ABCD&quot;,\r\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nWhat I want to receive:\r\n- I want person with id `id1` and I am looking for phrase `ab` in person&#39;s hobbies. I should get **a list with 2 hobbies** (first hobby&#39;s description contains `ab`, second hobby&#39;s name and description contains `ab`)\r\n- I want person with id `id1` and I am looking for phrase `d` in person&#39;s hobbies. I should get **a list with 1 hobby** (second hobby&#39;s description contains `d`)\r\n\r\n\r\nI tried something like this but I get a person with all of its hobbies.\r\n```\r\n@Repository\r\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    @Query(&quot;{&#39;$and&#39;: [&quot; +\r\n                &quot;{&#39;_id&#39;: :#{#personId}},&quot; +\r\n                &quot;{&#39;$or&#39;:[&quot; +\r\n                    &quot;{&#39;hobbies.name&#39;: {$regex: :#{#searchPhraseRegex}, $options: &#39;i&#39;}},&quot; +\r\n                    &quot;{&#39;hobbies.description&#39;: {$regex: :#{#searchPhraseRegex}, $options: &#39;i&#39;}}&quot; +\r\n                &quot;]}&quot; +\r\n            &quot;]}&quot;)\r\n    List&lt;Person&gt; method(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\r\n}\r\n```\r\nThe result method should return a person with filtered hobbies or only list of hobbies.\r\nThanks in advance for help.\r\n\r\n**UPDATE: RESOLVED**\r\n\r\nThanks @user20042973 for the help :) I used your query and change it a little to match my query in Mongo repository. It works as I expected. The result method is:\r\n```\r\n@Repository\r\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    @Aggregation(pipeline = {\r\n            &quot;{&#39;$match&#39;: {&#39;_id&#39;: :#{#personId}}}&quot;,\r\n            &quot;{&#39;$addFields&#39;:  {&#39;hobbies&#39;: {&#39;$filter&#39;: {&quot; +\r\n                    &quot;&#39;input&#39;: &#39;$hobbies&#39;, &quot; +\r\n                    &quot;&#39;cond&#39;: &quot; +\r\n                        &quot;{&#39;$or&#39;: [&quot; +\r\n                            &quot;{&#39;$regexMatch&#39;: {&#39;input&#39;: &#39;$$this.name&#39;, &#39;regex&#39;: :#{#searchPhraseRegex}, &#39;options&#39;: &#39;i&#39; }},&quot; +\r\n                            &quot;{&#39;$regexMatch&#39;: {&#39;input&#39;: &#39;$$this.description&#39;, &#39;regex&#39;: :#{#searchPhraseRegex}, &#39;options&#39;: &#39;i&#39; }}&quot; +\r\n                        &quot;]}&quot; +\r\n                    &quot;}}}}&quot;\r\n    })\r\n    Optional&lt;Person&gt; findPersonByIdAndFilterHobbies(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\r\n}\r\n```\r\nNote: For searching e.g. `ab` we need to pass `.*ab.*` as a method argument `searchPhraseRegex`.","title":"Get a filtered list of objects defined inside a MongoDB document","body":"<p>I work with Spring Boot and MongoDB. I am looking for a solution to get a list of hobbies but not all of them. The hobbies have to meet the conditions (name or description have to include searched phrase).</p>\n<pre><code>@Document(&quot;persons&quot;)\n@Data\nclass Person {\n    @Id\n    private String personId;\n    private String name;\n    private List&lt;Hobby&gt; hobbies;\n}\n</code></pre>\n<pre><code>@Data\nclass Hobby {\n    private String name;\n    private String description;\n    private String notImportantField;\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<p>I want to get a person with reduced list of hobbies (all the hobbies have to contain searched phrase in one of its field).</p>\n<p><em>Person document from the database</em></p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;id1&quot;),\n    &quot;name&quot; : &quot;some person&quot;,\n    &quot;hobbies&quot; : [\n        {\n            &quot;name&quot; : &quot;A&quot;,\n            &quot;description&quot; : &quot;AB&quot;,\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\n        },\n        {\n            &quot;name&quot; : &quot;ABC&quot;,\n            &quot;description&quot; : &quot;ABCD&quot;,\n            &quot;notImportantField&quot; : &quot;ABCDEF&quot;\n        }\n    ]\n}\n</code></pre>\n<p>What I want to receive:</p>\n<ul>\n<li>I want person with id <code>id1</code> and I am looking for phrase <code>ab</code> in person's hobbies. I should get <strong>a list with 2 hobbies</strong> (first hobby's description contains <code>ab</code>, second hobby's name and description contains <code>ab</code>)</li>\n<li>I want person with id <code>id1</code> and I am looking for phrase <code>d</code> in person's hobbies. I should get <strong>a list with 1 hobby</strong> (second hobby's description contains <code>d</code>)</li>\n</ul>\n<p>I tried something like this but I get a person with all of its hobbies.</p>\n<pre><code>@Repository\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n    @Query(&quot;{'$and': [&quot; +\n                &quot;{'_id': :#{#personId}},&quot; +\n                &quot;{'$or':[&quot; +\n                    &quot;{'hobbies.name': {$regex: :#{#searchPhraseRegex}, $options: 'i'}},&quot; +\n                    &quot;{'hobbies.description': {$regex: :#{#searchPhraseRegex}, $options: 'i'}}&quot; +\n                &quot;]}&quot; +\n            &quot;]}&quot;)\n    List&lt;Person&gt; method(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\n}\n</code></pre>\n<p>The result method should return a person with filtered hobbies or only list of hobbies.\nThanks in advance for help.</p>\n<p><strong>UPDATE: RESOLVED</strong></p>\n<p>Thanks @user20042973 for the help :) I used your query and change it a little to match my query in Mongo repository. It works as I expected. The result method is:</p>\n<pre><code>@Repository\ninterface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n    @Aggregation(pipeline = {\n            &quot;{'$match': {'_id': :#{#personId}}}&quot;,\n            &quot;{'$addFields':  {'hobbies': {'$filter': {&quot; +\n                    &quot;'input': '$hobbies', &quot; +\n                    &quot;'cond': &quot; +\n                        &quot;{'$or': [&quot; +\n                            &quot;{'$regexMatch': {'input': '$$this.name', 'regex': :#{#searchPhraseRegex}, 'options': 'i' }},&quot; +\n                            &quot;{'$regexMatch': {'input': '$$this.description', 'regex': :#{#searchPhraseRegex}, 'options': 'i' }}&quot; +\n                        &quot;]}&quot; +\n                    &quot;}}}}&quot;\n    })\n    Optional&lt;Person&gt; findPersonByIdAndFilterHobbies(@Param(&quot;personId&quot;) String personId, @Param(&quot;searchPhraseRegex&quot;) String searchPhraseRegex);\n}\n</code></pre>\n<p>Note: For searching e.g. <code>ab</code> we need to pass <code>.*ab.*</code> as a method argument <code>searchPhraseRegex</code>.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664863589,"post_id":73943671,"comment_id":130561565,"body_markdown":"try pressing ctrl+shift+a and then run this command &quot;mvn clean package&quot;","body":"try pressing ctrl+shift+a and then run this command &quot;mvn clean package&quot;"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664863674,"post_id":73943671,"comment_id":130561576,"body_markdown":"@VasanthSubramanian I&#39;m running MacOS and IntelliJ, so I&#39;m not sure what this is supposed to do.","body":"@VasanthSubramanian I&#39;m running MacOS and IntelliJ, so I&#39;m not sure what this is supposed to do."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664863740,"post_id":73943671,"comment_id":130561592,"body_markdown":"sorry, try pressing CTRL twice and run the command","body":"sorry, try pressing CTRL twice and run the command"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664863986,"post_id":73943671,"comment_id":130561649,"body_markdown":"Got it. Did that and after completing, the issue persists.","body":"Got it. Did that and after completing, the issue persists."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664864089,"post_id":73943671,"comment_id":130561675,"body_markdown":"Are you using the javafx-maven-plugin? If not, try adding that plugin and seeing if it solves your issue (see https://openjfx.io/openjfx-docs/ ; _JavaFX and IntelliJ → Modular with Maven_).","body":"Are you using the javafx-maven-plugin? If not, try adding that plugin and seeing if it solves your issue (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a> ; <i>JavaFX and IntelliJ → Modular with Maven</i>)."},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664864477,"post_id":73943671,"comment_id":130561765,"body_markdown":"@Slaw Probably a dumb question but how do you add plugins to an already existing project?","body":"@Slaw Probably a dumb question but how do you add plugins to an already existing project?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664864651,"post_id":73943671,"comment_id":130561798,"body_markdown":"are you behind any firewall? Is there any proxy configuration required? because i added the dependency in my pom.xml and it worked","body":"are you behind any firewall? Is there any proxy configuration required? because i added the dependency in my pom.xml and it worked"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664865670,"post_id":73943671,"comment_id":130562010,"body_markdown":"@VasanthSubramanian No, I&#39;m on my home network. Can I ask what exactly you entered into your pom.xml?","body":"@VasanthSubramanian No, I&#39;m on my home network. Can I ask what exactly you entered into your pom.xml?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664868954,"post_id":73943671,"comment_id":130562915,"body_markdown":"i added the same dependency you mentioned in your question in the pom.xml file","body":"i added the same dependency you mentioned in your question in the pom.xml file"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664874407,"post_id":73943671,"comment_id":130564590,"body_markdown":"&quot;_how do you add plugins to an already existing project_&quot; – By editing the POM file. Check out the [POM Reference](https://maven.apache.org/pom.html#Plugins) for general syntax. See the [javafx-maven-plugin](https://github.com/openjfx/javafx-maven-plugin#usage) README for specific usage of that plugin. Though just to be clear, I don&#39;t know if adding this plugin will fix your problem.","body":"&quot;<i>how do you add plugins to an already existing project</i>&quot; – By editing the POM file. Check out the <a href=\"https://maven.apache.org/pom.html#Plugins\" rel=\"nofollow noreferrer\">POM Reference</a> for general syntax. See the <a href=\"https://github.com/openjfx/javafx-maven-plugin#usage\" rel=\"nofollow noreferrer\">javafx-maven-plugin</a> README for specific usage of that plugin. Though just to be clear, I don&#39;t know if adding this plugin will fix your problem."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1664881972,"post_id":73943671,"comment_id":130566959,"body_markdown":"the version looks fishy - if that ever existed, it was an emergency release just after initial GA, the current stable 17 is something like 17.0.2 (last number probably higher) - note that there is only a single &quot;0.&quot;, not two","body":"the version looks fishy - if that ever existed, it was an emergency release just after initial GA, the current stable 17 is something like 17.0.2 (last number probably higher) - note that there is only a single &quot;0.&quot;, not two"},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664899851,"post_id":73943671,"comment_id":130573486,"body_markdown":"@Slaw Okay. I&#39;ve been using that the entire time, then. I had the relevant lines in the pom file from the start, and it wasn&#39;t working.","body":"@Slaw Okay. I&#39;ve been using that the entire time, then. I had the relevant lines in the pom file from the start, and it wasn&#39;t working."},{"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"score":0,"creation_date":1664913544,"post_id":73943671,"comment_id":130577558,"body_markdown":"@kleopatra I made that fix but I&#39;m getting the same problem","body":"@kleopatra I made that fix but I&#39;m getting the same problem"}],"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664968438,"creation_date":1664863350,"question_id":73943671,"body_markdown":"In my main file, when I try to import `javafx.media packages`, I receive this message:\r\n\r\n&gt; `Cannot resolve symbol &#39;media&#39;`\r\n\r\nI&#39;ve added the dependency to my **module-info.java**, but the dependency is in red with the message `Module not found: javafx.media`.\r\n\r\nI&#39;ve also added the dependency to my pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n    &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut `javafx-media` is in red here too, with the message:\r\n\r\n&gt; `Dependency &#39;org.openjfx:javafx-media:17.0.0.1&#39; not found `\r\n\r\nNo clue on how to fix this!","title":"Can&#39;t import javafx.media in IntelliJ project","body":"<p>In my main file, when I try to import <code>javafx.media packages</code>, I receive this message:</p>\n<blockquote>\n<p><code>Cannot resolve symbol 'media'</code></p>\n</blockquote>\n<p>I've added the dependency to my <strong>module-info.java</strong>, but the dependency is in red with the message <code>Module not found: javafx.media</code>.</p>\n<p>I've also added the dependency to my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n    &lt;version&gt;17.0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But <code>javafx-media</code> is in red here too, with the message:</p>\n<blockquote>\n<p><code>Dependency 'org.openjfx:javafx-media:17.0.0.1' not found </code></p>\n</blockquote>\n<p>No clue on how to fix this!</p>\n"},{"tags":["java","spring","spring-boot","docker","proxy"],"comments":[{"owner":{"account_id":2876145,"reputation":2806,"user_id":2468608,"display_name":"IamK"},"score":0,"creation_date":1664964932,"post_id":73958435,"comment_id":130587319,"body_markdown":"I know, it is not java, but you are searching for this, just a java implementation: https://github.com/ThreeMammals/Ocelot","body":"I know, it is not java, but you are searching for this, just a java implementation: <a href=\"https://github.com/ThreeMammals/Ocelot\" rel=\"nofollow noreferrer\">github.com/ThreeMammals/Ocelot</a>"},{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":0,"creation_date":1664967819,"post_id":73958435,"comment_id":130588267,"body_markdown":"thx, looks promising.","body":"thx, looks promising."}],"answers":[{"tags":[],"owner":{"account_id":17596063,"reputation":53,"user_id":12766940,"display_name":"Novacean Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664968140,"creation_date":1664968140,"answer_id":73959519,"question_id":73958435,"body_markdown":"Take a look at [Spring Cloud Netflix Zuul][1].\r\n\r\nI am working on a project where we use this to proxy requests from frontend to a service which handles persistence processes.\r\n\r\nMaybe it will help you achieve what you are looking for.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html","title":"setup proxy to docker containers from java application","body":"<p>Take a look at <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html\" rel=\"nofollow noreferrer\">Spring Cloud Netflix Zuul</a>.</p>\n<p>I am working on a project where we use this to proxy requests from frontend to a service which handles persistence processes.</p>\n<p>Maybe it will help you achieve what you are looking for.</p>\n"}],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73959519,"answer_count":1,"score":0,"last_activity_date":1664968140,"creation_date":1664962350,"question_id":73958435,"body_markdown":"Need help with technical solution. \r\n\r\nI have java (spring boot) application which may start docker container. Application assign ID and port to each container. That port is used as separate UI. ID is used to stop container.\r\n\r\nFor now, application work with 443 secured port, while each container open it own port in a range 19000-19100.\r\n\r\nIs it possible to setup something like proxy server in application, verify request and then forward it to container?\r\n\r\nLet&#39;s say, instead of `myhost.com:19000` I want to use `myhost.com/container/{containerId}`?\r\n\r\nI&#39;m thinking about rest template or feign client, but not sure how it will behave with websockets. Any thoughts? Existing tools or libraries?","title":"setup proxy to docker containers from java application","body":"<p>Need help with technical solution.</p>\n<p>I have java (spring boot) application which may start docker container. Application assign ID and port to each container. That port is used as separate UI. ID is used to stop container.</p>\n<p>For now, application work with 443 secured port, while each container open it own port in a range 19000-19100.</p>\n<p>Is it possible to setup something like proxy server in application, verify request and then forward it to container?</p>\n<p>Let's say, instead of <code>myhost.com:19000</code> I want to use <code>myhost.com/container/{containerId}</code>?</p>\n<p>I'm thinking about rest template or feign client, but not sure how it will behave with websockets. Any thoughts? Existing tools or libraries?</p>\n"},{"tags":["java","multithreading","loops"],"comments":[{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1649602883,"post_id":71817703,"comment_id":126912176,"body_markdown":"You can use threads or [ExecutorService](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html).","body":"You can use threads or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a>."},{"owner":{"account_id":3428879,"reputation":3755,"user_id":2873896,"display_name":"Luke Briggs"},"score":2,"creation_date":1649603509,"post_id":71817703,"comment_id":126912314,"body_markdown":"Maybe approach it more like this: [A timer](https://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java) which ticks once a second. When it ticks, depending on if it is currently black or white&#39;s turn, you update their time counts accordingly. While/sleep loops have a tendancy to &#39;drift&#39; from true time, given it doesn&#39;t take exactly 1 second per iteration.","body":"Maybe approach it more like this: <a href=\"https://stackoverflow.com/questions/4044726/how-to-set-a-timer-in-java\">A timer</a> which ticks once a second. When it ticks, depending on if it is currently black or white&#39;s turn, you update their time counts accordingly. While/sleep loops have a tendancy to &#39;drift&#39; from true time, given it doesn&#39;t take exactly 1 second per iteration."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1649605273,"post_id":71817703,"comment_id":126912708,"body_markdown":"Two semaphores and one unit?  When input, signal a semaphore and wait on the other.","body":"Two semaphores and one unit?  When input, signal a semaphore and wait on the other."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649619176,"creation_date":1649617272,"answer_id":71819697,"question_id":71817703,"body_markdown":"I don&#39;t exactly follow what you&#39;re looking for. But it sounds like you&#39;re looking to execute those methods in a multi-threaded way. \r\n\r\nIf that&#39;s the case, you appear to be missing some things, such as the [synchronized][1] keyword and the [Runnable][2] interface.\r\n\r\nThe following is an example to perhaps get you started down the right path. It runs as it is, but I&#39;m sure you&#39;ll need to tweak it to accomplish your goal:\r\n\r\n    package SatrancSaatiRunner ;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class SatrancSaatiRunner {\r\n    \tstatic int beyazZamani = 60;\r\n    \tstatic int siyahZamani = 60;\r\n    \r\n    \tstatic boolean BeyazinSirasi = false;\r\n    \tstatic boolean SiyahinSirasi = false;// rakip baslar\r\n    \r\n    \tstatic boolean zamanVarMi = true;\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \r\n    \t\tSatrancSaatiRunner s = new SatrancSaatiRunner();\r\n    \r\n            for (int i = 0; i &lt; 999; i++) {\r\n    \r\n                //Scanner scanner = new Scanner(System.in);\r\n                System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\r\n                System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\r\n    \r\n                //int kiminSirasi = scanner.nextInt();\r\n                //if (kiminSirasi == 1) {\r\n                //    saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n    \r\n                //} else if (kiminSirasi == 2) {\r\n                //      saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n                //}\r\n            //}\r\n          }\r\n    \r\n    \t\tThread t1 = new Thread(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ts.saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\tSystem.out.println(e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tThread t2 = new Thread(new Runnable() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\ts.saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\tSystem.out.println(e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \r\n    \t\ttry {\r\n    \t\t\tt1.join();\r\n    \t\t\tt2.join();\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\r\n    \t\t\tint siyahZamani1) throws InterruptedException {\r\n    \t\tsynchronized (this) {\r\n    \t\t\tSystem.out.println(&quot;***Hamle Beyazda***&quot;);\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tsiyahZamani++;\r\n    \t\t\t\tbeyazZamani--;\r\n    \t\t\t\tSystem.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n    \t\t\t\tSystem.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n    \t\t\t\tSystem.out.print(&quot;\\u000C&quot;);\r\n    \t\t\t\tThread.sleep(1000);\r\n    \r\n    \t\t\t\tif (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\r\n    \t\t\tint siyahZamani1) throws InterruptedException {\r\n    \t\tSystem.out.println(&quot;***Hamle Siyahta***&quot;);\r\n    \t\twhile (true) {\r\n    \t\t\tbeyazZamani++;\r\n    \t\t\tsiyahZamani--;\r\n    \t\t\tSystem.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n    \t\t\tSystem.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n    \t\t\tSystem.out.print(&quot;\\u000C&quot;);\r\n    \t\t\tThread.sleep(1000);\r\n    \r\n    \t\t\tif (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html","title":"how to run &quot;two different code&quot; together?","body":"<p>I don't exactly follow what you're looking for. But it sounds like you're looking to execute those methods in a multi-threaded way.</p>\n<p>If that's the case, you appear to be missing some things, such as the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">synchronized</a> keyword and the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a> interface.</p>\n<p>The following is an example to perhaps get you started down the right path. It runs as it is, but I'm sure you'll need to tweak it to accomplish your goal:</p>\n<pre><code>package SatrancSaatiRunner ;\n\nimport java.util.Scanner;\n\npublic class SatrancSaatiRunner {\n    static int beyazZamani = 60;\n    static int siyahZamani = 60;\n\n    static boolean BeyazinSirasi = false;\n    static boolean SiyahinSirasi = false;// rakip baslar\n\n    static boolean zamanVarMi = true;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        SatrancSaatiRunner s = new SatrancSaatiRunner();\n\n        for (int i = 0; i &lt; 999; i++) {\n\n            //Scanner scanner = new Scanner(System.in);\n            System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\n            System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\n\n            //int kiminSirasi = scanner.nextInt();\n            //if (kiminSirasi == 1) {\n            //    saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n\n            //} else if (kiminSirasi == 2) {\n            //      saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n            //}\n        //}\n      }\n\n        Thread t1 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    s.saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                }\n            }\n        });\n\n        Thread t2 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    s.saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                }\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        try {\n            t1.join();\n            t2.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\n            int siyahZamani1) throws InterruptedException {\n        synchronized (this) {\n            System.out.println(&quot;***Hamle Beyazda***&quot;);\n            while (true) {\n                siyahZamani++;\n                beyazZamani--;\n                System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n                System.out.print(&quot;Siyah: &quot; + siyahZamani);\n                System.out.print(&quot;\\u000C&quot;);\n                Thread.sleep(1000);\n\n                if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                    break;\n                }\n            }\n        }\n    }\n\n    private void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani,\n            int siyahZamani1) throws InterruptedException {\n        System.out.println(&quot;***Hamle Siyahta***&quot;);\n        while (true) {\n            beyazZamani++;\n            siyahZamani--;\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\n            System.out.print(&quot;\\u000C&quot;);\n            Thread.sleep(1000);\n\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24619664,"reputation":228,"user_id":18520216,"display_name":"Barış Can Ateş"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664967839,"creation_date":1649602189,"question_id":71817703,"body_markdown":"\r\nI want to create a basic chess clock but I got stuck. \r\n\r\n\r\n```java\r\npackage SatrancSaati;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class SatrancSaatiRunner {\r\n    static int beyazZamani = 60;\r\n    static int siyahZamani = 60;\r\n\r\n    static boolean BeyazinSirasi = false;\r\n    static boolean SiyahinSirasi = false;//rakip baslar\r\n\r\n    static boolean zamanVarMi = true;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        for (int i = 0; i &lt; 999; i++) {\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\r\n            System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\r\n\r\n            int kiminSirasi = scanner.nextInt();\r\n            if (kiminSirasi == 1) {\r\n                saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n\r\n            } else if (kiminSirasi == 2) {\r\n                saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani, int siyahZamani1) throws InterruptedException {\r\n        System.out.println(&quot;***Hamle Beyazda***&quot;);\r\n        while (true) {\r\n            siyahZamani++;\r\n            beyazZamani--;\r\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n            System.out.print(&quot;\\u000C&quot;);\r\n            Thread.sleep(1000);\r\n\r\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi,\r\n                                          int beyazZamani, int siyahZamani1) throws InterruptedException {\r\n        System.out.println(&quot;***Hamle Siyahta***&quot;);\r\n        while (true) {\r\n            beyazZamani++;\r\n            siyahZamani--;\r\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\r\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\r\n            System.out.print(&quot;\\u000C&quot;);\r\n            Thread.sleep(1000);\r\n\r\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n ```\r\n\r\n\r\nThis is my basic code, I want that code to work like this:\r\n\r\nwhen I click 1 on IntelliJ then black&#39;s time starts dropping and white time increases by the same amount. while this code running when I click 2 I want to stop the other method and start the opposite method that increases white&#39;s time and decreases black&#39;s time by the same amount. This is very difficult because when I start one method it works until finished. That&#39;s my problem.","title":"how to run &quot;two different code&quot; together?","body":"<p>I want to create a basic chess clock but I got stuck.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package SatrancSaati;\n\nimport java.util.Scanner;\n\npublic class SatrancSaatiRunner {\n    static int beyazZamani = 60;\n    static int siyahZamani = 60;\n\n    static boolean BeyazinSirasi = false;\n    static boolean SiyahinSirasi = false;//rakip baslar\n\n    static boolean zamanVarMi = true;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        for (int i = 0; i &lt; 999; i++) {\n\n            Scanner scanner = new Scanner(System.in);\n            System.out.println(&quot;Beyaz hamle yaptiktan sonra 1 e basmali&quot;);\n            System.out.println(&quot;Siyah hamle yaptiktan sonra 2 e basmali&quot;);\n\n            int kiminSirasi = scanner.nextInt();\n            if (kiminSirasi == 1) {\n                saatCalistirSiyah(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n\n            } else if (kiminSirasi == 2) {\n                saatCalistirBeyaz(BeyazinSirasi, siyahZamani, zamanVarMi, beyazZamani, siyahZamani);\n            }\n        }\n    }\n\n\n    private static void saatCalistirBeyaz(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi, int beyazZamani, int siyahZamani1) throws InterruptedException {\n        System.out.println(&quot;***Hamle Beyazda***&quot;);\n        while (true) {\n            siyahZamani++;\n            beyazZamani--;\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\n            System.out.print(&quot;\\u000C&quot;);\n            Thread.sleep(1000);\n\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                break;\n            }\n        }\n    }\n\n    private static void saatCalistirSiyah(boolean beyazinSirasi, int siyahZamani, boolean zamanVarMi,\n                                          int beyazZamani, int siyahZamani1) throws InterruptedException {\n        System.out.println(&quot;***Hamle Siyahta***&quot;);\n        while (true) {\n            beyazZamani++;\n            siyahZamani--;\n            System.out.print(&quot;Beyaz: &quot; + beyazZamani + &quot; &quot;);\n            System.out.print(&quot;Siyah: &quot; + siyahZamani);\n            System.out.print(&quot;\\u000C&quot;);\n            Thread.sleep(1000);\n\n            if (beyazZamani &lt;= 0 || siyahZamani &lt;= 0) {\n                break;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>This is my basic code, I want that code to work like this:</p>\n<p>when I click 1 on IntelliJ then black's time starts dropping and white time increases by the same amount. while this code running when I click 2 I want to stop the other method and start the opposite method that increases white's time and decreases black's time by the same amount. This is very difficult because when I start one method it works until finished. That's my problem.</p>\n"},{"tags":["java","awt"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664967573,"creation_date":1664967573,"answer_id":73959414,"question_id":73959090,"body_markdown":"Run JFrame.pack() to resize the frame according to it&#39;s components.","title":"JFrame doesn&#39;t resize when JLabel gets longer","body":"<p>Run JFrame.pack() to resize the frame according to it's components.</p>\n"}],"owner":{"account_id":25458953,"reputation":11,"user_id":19259120,"display_name":"CodinGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1665239017,"accepted_answer_id":73959414,"answer_count":1,"score":-2,"last_activity_date":1664967573,"creation_date":1664965716,"question_id":73959090,"body_markdown":"I have the following, [code](https://paste.gg/p/anonymous/6cedbbae235948d58b78299f58e5018e) which almost does what I want except it doesn&#39;t automatically stretch to the right, so the whole label can be seen. I&#39;ve tried different constrains on it, but it doesn&#39;t change, setting the JFrame bigger works, but I would like it to resize depending on the label length, so it doesn&#39;t occupy more space on the screen than needed.\r\n[The UI Window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jnuke.png","title":"JFrame doesn&#39;t resize when JLabel gets longer","body":"<p>I have the following, <a href=\"https://paste.gg/p/anonymous/6cedbbae235948d58b78299f58e5018e\" rel=\"nofollow noreferrer\">code</a> which almost does what I want except it doesn't automatically stretch to the right, so the whole label can be seen. I've tried different constrains on it, but it doesn't change, setting the JFrame bigger works, but I would like it to resize depending on the label length, so it doesn't occupy more space on the screen than needed.\n<a href=\"https://i.stack.imgur.com/Jnuke.png\" rel=\"nofollow noreferrer\">The UI Window</a></p>\n"},{"tags":["java","eclipse","classloader"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1261051186,"creation_date":1261051186,"answer_id":1921281,"question_id":1921238,"body_markdown":"Citing the [API doc][1]: \r\n\r\n&gt; Some implementations may use null to\r\n&gt; represent the bootstrap class loader.\r\n&gt; This method will return null in such\r\n&gt; implementations if this class was\r\n&gt; loaded by the bootstrap class loader.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getClassLoader()","title":"getClass().getClassLoader() is null, why?","body":"<p>Citing the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getClassLoader()\" rel=\"noreferrer\">API doc</a>: </p>\n\n<blockquote>\n  <p>Some implementations may use null to\n  represent the bootstrap class loader.\n  This method will return null in such\n  implementations if this class was\n  loaded by the bootstrap class loader.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591469446,"creation_date":1261051235,"answer_id":1921286,"question_id":1921238,"body_markdown":"&gt; This method will return null in such implementations if this class was loaded by the bootstrap class loader.\r\n\r\n&lt;https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#getClassLoader()&gt;\r\n\r\n","title":"getClass().getClassLoader() is null, why?","body":"<blockquote>\n  <p>This method will return null in such implementations if this class was loaded by the bootstrap class loader.</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#getClassLoader()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#getClassLoader()</a></p>\n"},{"tags":[],"owner":{"account_id":62950,"reputation":3354,"user_id":186663,"display_name":"PSpeed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1261097373,"creation_date":1261097373,"answer_id":1925611,"question_id":1921238,"body_markdown":"One thing is certain, Eclipse has a deeper and more complicated classloader setup than when you are running from the command line.  If you are seeing differences in how a class&#39;s classloader appears in one versus the other then that is a pretty likely reason.\r\n\r\nI&#39;m not knowledgeable in what exactly Eclipse is doing but I think it very likely that your class is _not_ being loaded by the bootstrap classloader when being run from Eclipse but that Eclipse is attempting to make it seem that way.\r\n\r\nThe bootstrap ClassLoader is static once the application is bootstrapped and you can&#39;t add jars or classes to it later unless Eclipse has overridden the implementation... in which case, there&#39;s yet another possible explanation.","title":"getClass().getClassLoader() is null, why?","body":"<p>One thing is certain, Eclipse has a deeper and more complicated classloader setup than when you are running from the command line.  If you are seeing differences in how a class's classloader appears in one versus the other then that is a pretty likely reason.</p>\n\n<p>I'm not knowledgeable in what exactly Eclipse is doing but I think it very likely that your class is <em>not</em> being loaded by the bootstrap classloader when being run from Eclipse but that Eclipse is attempting to make it seem that way.</p>\n\n<p>The bootstrap ClassLoader is static once the application is bootstrapped and you can't add jars or classes to it later unless Eclipse has overridden the implementation... in which case, there's yet another possible explanation.</p>\n"},{"tags":[],"owner":{"account_id":3387993,"reputation":109,"user_id":2843551,"display_name":"Robin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380818115,"creation_date":1380818115,"answer_id":19164531,"question_id":1921238,"body_markdown":"\r\nI had the same issue. But solved it using :-\r\n\r\n    &lt;ClassName&gt;.class.getClass().getResource(urlString);\r\n\r\nHope this helps others...","title":"getClass().getClassLoader() is null, why?","body":"<p>I had the same issue. But solved it using :-</p>\n\n<pre><code>&lt;ClassName&gt;.class.getClass().getResource(urlString);\n</code></pre>\n\n<p>Hope this helps others...</p>\n"},{"tags":[],"owner":{"account_id":5377525,"reputation":203,"user_id":4283873,"display_name":"Satyendra"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1443244962,"creation_date":1443244962,"answer_id":32793933,"question_id":1921238,"body_markdown":"This is how it works . Whenever JVM try to load any class it&#39;s checks below conditions.\r\n\r\nIf Class is loaded from Bootstrap ClassPath i.e; jdk\\jre\\lib\\rt.jar , BootStrap ClassLoader will be called.\r\n\r\nIf Class is loaded from Extension Classpath i.e; jdk\\jre\\lib\\ext\\*.jar , Extension ClassLoader will be called.\r\n\r\nIf Class is loaded from Application ClassPath i.e; as specified in Environment Variable , Application ClassLoader is called .\r\n\r\nSince Bootstrap ClassLoader is not implemented in java , it&#39;s either implemented in c or c++ so there is no reference for it that&#39;s why it returns null . But Extension and Application class Loader is written in java so you will get the reference as sun.misc.Launcher$ExtClassLoader@someHexValue and sun.misc.Launcher$AppClassLoader@someHexValue .\r\n\r\nSo, if you do something like this \r\nSystem.out.println(String.class.getClassLoader()) you will get null since this class is been called by BootStrap ClassLoader, On the other hand if you do the same thing for a class in Ext or App Class path you will get \r\n$ExtClassLoader@someHexValue and sun.misc.Launcher$AppClassLoader@someHexValue respectively .\r\n\r\n\r\n ","title":"getClass().getClassLoader() is null, why?","body":"<p>This is how it works . Whenever JVM try to load any class it's checks below conditions.</p>\n\n<p>If Class is loaded from Bootstrap ClassPath i.e; jdk\\jre\\lib\\rt.jar , BootStrap ClassLoader will be called.</p>\n\n<p>If Class is loaded from Extension Classpath i.e; jdk\\jre\\lib\\ext*.jar , Extension ClassLoader will be called.</p>\n\n<p>If Class is loaded from Application ClassPath i.e; as specified in Environment Variable , Application ClassLoader is called .</p>\n\n<p>Since Bootstrap ClassLoader is not implemented in java , it's either implemented in c or c++ so there is no reference for it that's why it returns null . But Extension and Application class Loader is written in java so you will get the reference as sun.misc.Launcher$ExtClassLoader@someHexValue and sun.misc.Launcher$AppClassLoader@someHexValue .</p>\n\n<p>So, if you do something like this \nSystem.out.println(String.class.getClassLoader()) you will get null since this class is been called by BootStrap ClassLoader, On the other hand if you do the same thing for a class in Ext or App Class path you will get \n$ExtClassLoader@someHexValue and sun.misc.Launcher$AppClassLoader@someHexValue respectively .</p>\n"},{"tags":[],"owner":{"account_id":9180324,"reputation":11,"user_id":7583872,"display_name":"ramidzkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499500486,"creation_date":1499500486,"answer_id":44983910,"question_id":1921238,"body_markdown":"&quot;This method will return null in such implementations if this class was loaded by the bootstrap class loader.&quot; - [JavaDoc][1] at getClassLoader()\r\n\r\nThe null class loader is reserved for system classes for security purposes and can only be used if Class.forName(String name, boolean initialize, ClassLoader loader). If a class has a null ClassLoader, most security checks are not made.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"getClass().getClassLoader() is null, why?","body":"<p>\"This method will return null in such implementations if this class was loaded by the bootstrap class loader.\" - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">JavaDoc</a> at getClassLoader()</p>\n\n<p>The null class loader is reserved for system classes for security purposes and can only be used if Class.forName(String name, boolean initialize, ClassLoader loader). If a class has a null ClassLoader, most security checks are not made.</p>\n"},{"tags":[],"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1530187396,"creation_date":1530187396,"answer_id":51082438,"question_id":1921238,"body_markdown":"Had similar issue. Solved by not using the getClass Method. Following worked for me.\r\n\r\n    &lt;ClassName&gt;.class.getClassLoader();\r\n\r\n","title":"getClass().getClassLoader() is null, why?","body":"<p>Had similar issue. Solved by not using the getClass Method. Following worked for me.</p>\n\n<pre><code>&lt;ClassName&gt;.class.getClassLoader();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19987314,"reputation":1,"user_id":14649201,"display_name":"dilou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605542225,"creation_date":1605542225,"answer_id":64861301,"question_id":1921238,"body_markdown":"It may be helpful, in order to know what Eclipse does exactly in terms of classpath setting, when launching an application, to click on the &quot;Show Command Line&quot; button under the application classpath setting. (I am using Eclipse 2020-06).\r\nFor me, it showed that the jar file containing the class calling `&lt;ClassName&gt;.class.getClassLoader();`\r\nwhich was returning null, \r\nwas actually preceeded by    \r\n-Xbootclasspath/a:\r\n","title":"getClass().getClassLoader() is null, why?","body":"<p>It may be helpful, in order to know what Eclipse does exactly in terms of classpath setting, when launching an application, to click on the &quot;Show Command Line&quot; button under the application classpath setting. (I am using Eclipse 2020-06).\nFor me, it showed that the jar file containing the class calling <code>&lt;ClassName&gt;.class.getClassLoader();</code>\nwhich was returning null,\nwas actually preceeded by<br />\n-Xbootclasspath/a:</p>\n"},{"tags":[],"owner":{"account_id":19479011,"reputation":11,"user_id":14249806,"display_name":"dicer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664967560,"creation_date":1664449796,"answer_id":73894533,"question_id":1921238,"body_markdown":"The answer by @dilou points in the right direction.\r\nCheck the settings of your run configuration in Eclipse: Go to the `Classpath` tab and check where you added the dependency. There is two categories:\r\n\r\n- Bootstrap Entries\r\n- User Entries\r\n\r\nIf a dependency is added to the first category then the bootstrap `classloader` is used and the problem mentioned on most of the other answers happens: It is returned as null.\r\n\r\nSo to solve the problem, move your dependency to the &quot;User Entries&quot; section.\r\n","title":"getClass().getClassLoader() is null, why?","body":"<p>The answer by @dilou points in the right direction.\nCheck the settings of your run configuration in Eclipse: Go to the <code>Classpath</code> tab and check where you added the dependency. There is two categories:</p>\n<ul>\n<li>Bootstrap Entries</li>\n<li>User Entries</li>\n</ul>\n<p>If a dependency is added to the first category then the bootstrap <code>classloader</code> is used and the problem mentioned on most of the other answers happens: It is returned as null.</p>\n<p>So to solve the problem, move your dependency to the &quot;User Entries&quot; section.</p>\n"}],"owner":{"account_id":13357,"reputation":6580,"user_id":26778,"accept_rate":72,"display_name":"jeff porter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37183,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":1921281,"answer_count":9,"score":48,"last_activity_date":1664967560,"creation_date":1261050756,"question_id":1921238,"body_markdown":"I&#39;ve got some code that calls..\r\n\r\n    x = getClass().getClassLoader();\r\n\r\nThis returns null though.\r\n\r\nWhen I start the same code not from Eclipse, but the command line, it returns a classloader.\r\n\r\nI can hack the code to do this...\r\n\r\n    if (getClass().getClassLoader() == null)\r\n    {\r\n     x = ClassLoader.getSystemClassLoader().getSystemResourceAsStream( loadedPropFileName );\r\n    } \r\n\r\nboth are compiled and run with the same JVM. (I&#39;m 99.99% sure).\r\n\r\nAnyone have any ideas why the first would return null for the classloader?\r\n\r\nEdit:\r\n\r\nMy question is does &quot;Anyone have any ideas why the same class would return null when started via Eclipse and a class loader when loaded from the command line.&quot;\r\n\r\nThanks for the advice that the Bootstap loader must be loading the class in Eclipse. I&#39;ve no idea why this happens though.","title":"getClass().getClassLoader() is null, why?","body":"<p>I've got some code that calls..</p>\n\n<pre><code>x = getClass().getClassLoader();\n</code></pre>\n\n<p>This returns null though.</p>\n\n<p>When I start the same code not from Eclipse, but the command line, it returns a classloader.</p>\n\n<p>I can hack the code to do this...</p>\n\n<pre><code>if (getClass().getClassLoader() == null)\n{\n x = ClassLoader.getSystemClassLoader().getSystemResourceAsStream( loadedPropFileName );\n} \n</code></pre>\n\n<p>both are compiled and run with the same JVM. (I'm 99.99% sure).</p>\n\n<p>Anyone have any ideas why the first would return null for the classloader?</p>\n\n<p>Edit:</p>\n\n<p>My question is does \"Anyone have any ideas why the same class would return null when started via Eclipse and a class loader when loaded from the command line.\"</p>\n\n<p>Thanks for the advice that the Bootstap loader must be loading the class in Eclipse. I've no idea why this happens though.</p>\n"},{"tags":["java","string","function","doubly-linked-list","sentinel"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664966057,"post_id":73959016,"comment_id":130587710,"body_markdown":"What is a sentinel?","body":"What is a sentinel?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664966155,"post_id":73959016,"comment_id":130587741,"body_markdown":"Any (subclass of) `Object` (which your `T` is) can be turned into a `String` using the (inherited) `toString` method. Iterate over each node and append the return value of `toString` the node&#39;s `data` field.","body":"Any (subclass of) <code>Object</code> (which your <code>T</code> is) can be turned into a <code>String</code> using the (inherited) <code>toString</code> method. Iterate over each node and append the return value of <code>toString</code> the node&#39;s <code>data</code> field."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664966429,"post_id":73959016,"comment_id":130587823,"body_markdown":"The key here is to iterate over all the `IntNode` elements that have been chained together. Loop until the current node&#39;s `next` is `null`, assuming you build your list correctly.","body":"The key here is to iterate over all the <code>IntNode</code> elements that have been chained together. Loop until the current node&#39;s <code>next</code> is <code>null</code>, assuming you build your list correctly."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1664966495,"post_id":73959016,"comment_id":130587838,"body_markdown":"so like, for (int x = 0; x &lt; size; x++) {x.toString()} return x .... ?","body":"so like, for (int x = 0; x &lt; size; x++) {x.toString()} return x .... ?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664966657,"post_id":73959016,"comment_id":130587888,"body_markdown":"that only loops over the index values from `0` to `size-1`. You want `for(IntNode current = start; current!=null; current=current.next)` where `start` ist the head of your list.","body":"that only loops over the index values from <code>0</code> to <code>size-1</code>. You want <code>for(IntNode current = start; current!=null; current=current.next)</code> where <code>start</code> ist the head of your list."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1664966769,"post_id":73959016,"comment_id":130587925,"body_markdown":"and then I do current.toString?","body":"and then I do current.toString?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1664966807,"post_id":73959016,"comment_id":130587934,"body_markdown":"it woild be really nice if u could maybe write out ur code and maybe provide an explaination alongside it if you can","body":"it woild be really nice if u could maybe write out ur code and maybe provide an explaination alongside it if you can"}],"answers":[{"tags":[],"owner":{"account_id":19014555,"reputation":21,"user_id":13879806,"display_name":"SUMAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664967205,"creation_date":1664967205,"answer_id":73959342,"question_id":73959016,"body_markdown":"Few things I will recommend\r\n\r\n 1. Improve your variable naming scheme, like you have used a sentinel\r\n    name which sounds illogical in this context.\r\n 2. The logic is also a bit incorrect, you haven&#39;t added an addNode method which can be problematic.\r\n\r\nI have corrected the code and which I will mention here. Do let me know if you have any problems.\r\n\r\n\r\n    public class SLList&lt;T&gt; {\r\n    \tpublic int size = 0;\r\n    \tIntNode head, tail = null;\r\n    \r\n    \t// DoubliLinkedList Element - IntNode\r\n    \tprivate class IntNode {\r\n    \t\tprivate T data;\r\n    \t\tprivate IntNode previous;\r\n    \t\tprivate IntNode next;\r\n    \r\n    \t\tpublic IntNode(T data, IntNode previous, IntNode next) {\r\n    \t\t\tthis.data = data;\r\n    \t\t\tthis.previous = previous;\r\n    \t\t\tthis.next = next;\r\n    \t\t}\r\n    \r\n    \t\tpublic IntNode() {\r\n    \t\t\tnext = previous = this;\r\n    \t\t}\r\n    \r\n    \t\tpublic IntNode(T data) {\r\n    \t\t\tthis.data = data;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void addNode(T data) {\r\n    \t\t// Create a new node\r\n    \t\tIntNode newNode = new IntNode(data);\r\n    \r\n    \t\t// If doubly list is empty\r\n    \t\tif (head == null) {\r\n    \t\t\thead = tail = newNode;\r\n    \t\t\t// head&#39;s previous will point to null\r\n    \t\t\thead.previous = null;\r\n    \t\t\t// tail&#39;s next will point to null, as it is the last node of the list\r\n    \t\t\ttail.next = null;\r\n    \t\t} else {\r\n    \t\t\t// newNode will be added after tail such that tail&#39;s next will point to newNode\r\n    \t\t\ttail.next = newNode;\r\n    \t\t\t// newNode&#39;s previous will point to tail\r\n    \t\t\tnewNode.previous = tail;\r\n    \t\t\t// newNode will become new tail\r\n    \t\t\ttail = newNode;\r\n    \t\t\t// As it is last node, tail&#39;s next will point to null\r\n    \t\t\ttail.next = null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    //\tpublic SLList() {\r\n    //\t\tsentinel = new IntNode();\r\n    //\t}\r\n    \r\n    \tpublic String turnTostring() {\r\n    //\t\tString S = &quot;&quot;;\r\n    //\t\tfor (int x = 0; x &lt; size; x++) {\r\n    //\t\t\tS += x;\r\n    //\t\t}\r\n    //\t\treturn S;\r\n    \t\tIntNode current = head;\r\n    \t\tif (head == null) {\r\n    \t\t\treturn &quot;Empty DLL&quot;;\r\n    \t\t}\r\n    \t\tString list = &quot;null &lt;==&gt; &quot;;\r\n    \r\n    \t\twhile (current != null) {\r\n    \t\t\tlist += current.data + &quot; &lt;==&gt; &quot;;\r\n    \t\t\tcurrent = current.next;\r\n    \t\t}\r\n    \t\tlist += null;\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSLList&lt;Integer&gt; dl1 = new SLList&lt;Integer&gt;();\r\n    \t\tdl1.addNode(3);\r\n    \t\tdl1.addNode(34);\r\n    \t\tdl1.addNode(36);\r\n    \t\tdl1.addNode(333);\r\n    \r\n    \t\tString turnTostring = dl1.turnTostring();\r\n    \t\tSystem.out.println(turnTostring);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How can I turn values in my Doubly Linked List into a string?","body":"<p>Few things I will recommend</p>\n<ol>\n<li>Improve your variable naming scheme, like you have used a sentinel\nname which sounds illogical in this context.</li>\n<li>The logic is also a bit incorrect, you haven't added an addNode method which can be problematic.</li>\n</ol>\n<p>I have corrected the code and which I will mention here. Do let me know if you have any problems.</p>\n<pre><code>public class SLList&lt;T&gt; {\n    public int size = 0;\n    IntNode head, tail = null;\n\n    // DoubliLinkedList Element - IntNode\n    private class IntNode {\n        private T data;\n        private IntNode previous;\n        private IntNode next;\n\n        public IntNode(T data, IntNode previous, IntNode next) {\n            this.data = data;\n            this.previous = previous;\n            this.next = next;\n        }\n\n        public IntNode() {\n            next = previous = this;\n        }\n\n        public IntNode(T data) {\n            this.data = data;\n        }\n    }\n\n    public void addNode(T data) {\n        // Create a new node\n        IntNode newNode = new IntNode(data);\n\n        // If doubly list is empty\n        if (head == null) {\n            head = tail = newNode;\n            // head's previous will point to null\n            head.previous = null;\n            // tail's next will point to null, as it is the last node of the list\n            tail.next = null;\n        } else {\n            // newNode will be added after tail such that tail's next will point to newNode\n            tail.next = newNode;\n            // newNode's previous will point to tail\n            newNode.previous = tail;\n            // newNode will become new tail\n            tail = newNode;\n            // As it is last node, tail's next will point to null\n            tail.next = null;\n        }\n    }\n\n//  public SLList() {\n//      sentinel = new IntNode();\n//  }\n\n    public String turnTostring() {\n//      String S = &quot;&quot;;\n//      for (int x = 0; x &lt; size; x++) {\n//          S += x;\n//      }\n//      return S;\n        IntNode current = head;\n        if (head == null) {\n            return &quot;Empty DLL&quot;;\n        }\n        String list = &quot;null &lt;==&gt; &quot;;\n\n        while (current != null) {\n            list += current.data + &quot; &lt;==&gt; &quot;;\n            current = current.next;\n        }\n        list += null;\n        return list;\n    }\n\n    public static void main(String[] args) {\n\n        SLList&lt;Integer&gt; dl1 = new SLList&lt;Integer&gt;();\n        dl1.addNode(3);\n        dl1.addNode(34);\n        dl1.addNode(36);\n        dl1.addNode(333);\n\n        String turnTostring = dl1.turnTostring();\n        System.out.println(turnTostring);\n\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1664967205,"creation_date":1664965345,"question_id":73959016,"body_markdown":"I have created a class `SLList` where I take in a doubly linked list `SLList` where the input can be of any generic type. In order to aid myself in doing this, I&#39;ve implemented sentinels to help me. \r\n\r\nHowever, now, I need to find how to turn my Doubly Linked List into a string via method `turntostring()` \r\n\r\nHere is my code so far...\r\n\r\n    public class SLList&lt;T&gt;{\r\n        private class IntNode {\r\n            private T data;\r\n            private IntNode previous;\r\n            private IntNode next;\r\n    \r\n            public IntNode (T data, IntNode previous, IntNode next) {\r\n                this.data = data;\r\n                this.previous = previous;\r\n                this.next = next;\r\n            }\r\n    \r\n    \r\n    \r\n            public IntNode () {\r\n                next = previous = this;\r\n            }\r\n        }\r\n        public int size = 0;\r\n    \r\n        IntNode sentinel;\r\n    \r\n        public SLList(){\r\n            sentinel = new IntNode();\r\n        }\r\n    \r\n    \r\n        public String turntostring() {\r\n            String S = &quot;&quot;;\r\n            for (int x = 0; x &lt; size; x++) {\r\n                S += x;\r\n            }\r\n            return S;\r\n\r\nHowever, I&#39;m struggling to understand how an I supposed to turn Doubly Linked List values into strings. My attempt so far has been yielding an error. Can anyone please help explain this to me?","title":"How can I turn values in my Doubly Linked List into a string?","body":"<p>I have created a class <code>SLList</code> where I take in a doubly linked list <code>SLList</code> where the input can be of any generic type. In order to aid myself in doing this, I've implemented sentinels to help me.</p>\n<p>However, now, I need to find how to turn my Doubly Linked List into a string via method <code>turntostring()</code></p>\n<p>Here is my code so far...</p>\n<pre><code>public class SLList&lt;T&gt;{\n    private class IntNode {\n        private T data;\n        private IntNode previous;\n        private IntNode next;\n\n        public IntNode (T data, IntNode previous, IntNode next) {\n            this.data = data;\n            this.previous = previous;\n            this.next = next;\n        }\n\n\n\n        public IntNode () {\n            next = previous = this;\n        }\n    }\n    public int size = 0;\n\n    IntNode sentinel;\n\n    public SLList(){\n        sentinel = new IntNode();\n    }\n\n\n    public String turntostring() {\n        String S = &quot;&quot;;\n        for (int x = 0; x &lt; size; x++) {\n            S += x;\n        }\n        return S;\n</code></pre>\n<p>However, I'm struggling to understand how an I supposed to turn Doubly Linked List values into strings. My attempt so far has been yielding an error. Can anyone please help explain this to me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":1,"creation_date":1600589642,"post_id":63976840,"comment_id":113130827,"body_markdown":"Have you tried debugging your code?","body":"Have you tried debugging your code?"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1600598973,"post_id":63976840,"comment_id":113132877,"body_markdown":"Java naming conventions have variables and methods starting with a lower case letter (quad). Also, you tend to use casting when it isn&#39;t necessary, casting a double to a double.","body":"Java naming conventions have variables and methods starting with a lower case letter (quad). Also, you tend to use casting when it isn&#39;t necessary, casting a double to a double."}],"answers":[{"tags":[],"owner":{"account_id":14982942,"reputation":156,"user_id":10816438,"display_name":"Jojomatik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600589903,"creation_date":1600589903,"answer_id":63976933,"question_id":63976840,"body_markdown":"There are 2 minor mistakes in your code:\r\n\r\n 1. You never use the `sqrt` variable you define in the second line of your methods (should be used in line 3 of the methods)\r\n 2. You have switched up the order of arguments in the 3rd line of your methods (the quadratic formula is `b +/- sqrt(...)` and not `sqrt(...) +/- b`)\r\n\r\nI suppose this should give you the correct answers:\r\n\r\n```java\r\npublic class Quadratic {\r\n    public static double getRootOne(int a, int b, int c) {\r\n        double quad = (b*b)-(4*a*c);\r\n        double sqrt = Math.sqrt(quad);\r\n        quad = (b + (double) sqrt); //original: ((double)quad + b);\r\n        quad = ((double)quad/(2*a));\r\n        return quad;          \r\n    } \r\n\r\n    public static double getRootTwo(int a, int b, int c) {\r\n        double quad = (b*b)-(4*a*c);\r\n        double sqrt = Math.sqrt(quad);\r\n        quad = (b - (double) sqrt); //original: ((double)quad - b);\r\n        quad = ((double)quad/(2*a));\r\n        return quad;   \r\n    }\r\n}\r\n```\r\n\r\n","title":"Java Program To Solve The Quadratic Equation Does Not Work","body":"<p>There are 2 minor mistakes in your code:</p>\n<ol>\n<li>You never use the <code>sqrt</code> variable you define in the second line of your methods (should be used in line 3 of the methods)</li>\n<li>You have switched up the order of arguments in the 3rd line of your methods (the quadratic formula is <code>b +/- sqrt(...)</code> and not <code>sqrt(...) +/- b</code>)</li>\n</ol>\n<p>I suppose this should give you the correct answers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Quadratic {\n    public static double getRootOne(int a, int b, int c) {\n        double quad = (b*b)-(4*a*c);\n        double sqrt = Math.sqrt(quad);\n        quad = (b + (double) sqrt); //original: ((double)quad + b);\n        quad = ((double)quad/(2*a));\n        return quad;          \n    } \n\n    public static double getRootTwo(int a, int b, int c) {\n        double quad = (b*b)-(4*a*c);\n        double sqrt = Math.sqrt(quad);\n        quad = (b - (double) sqrt); //original: ((double)quad - b);\n        quad = ((double)quad/(2*a));\n        return quad;   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26498743,"reputation":1,"user_id":20136020,"display_name":" BATTU SHARATH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664967160,"creation_date":1664687081,"answer_id":73923485,"question_id":63976840,"body_markdown":"```\r\nimport java.util.Scanner;\r\n    \r\n        import static java.lang.System.*;\r\n    \r\n        public class QuadraticRunner\r\n    \r\n        {\r\n            public static void main( String[] args )\r\n            {\r\n                Scanner keyboard = new Scanner( System.in );\r\n                out.print(&quot;Enter a :: &quot;);\r\n                int quadA = keyboard.nextInt();\r\n                out.print(&quot;Enter b :: &quot;);\r\n                int quadB = keyboard.nextInt();\r\n                out.print(&quot;Enter c :: &quot;);\r\n                int quadC = keyboard.nextInt();\r\n                \r\n                System.out.println( Quadratic.getRootOne( quadA,quadB,quadC ) );\r\n                System.out.println( Quadratic.getRootTwo( quadA,quadB,quadC ) );\r\n            }\r\n        \r\n\r\npublic class Quadratic\r\n{\r\n    public static   double getRootOne( int a, int b, int c )\r\n    {\r\n        double Quad = (b*b)-(4*a*c);\r\n        double sqrt = Math.sqrt(Quad);\r\n        Quad = ((double)Quad + b);\r\n        Quad = ((double)Quad/(2*a));\r\n        return Quad;          \r\n} \r\n    public static double getRootTwo( int a, int b, int c )\r\n    {\r\n    double Quad = (b*b)-(4*a*c);\r\n    double sqrt = Math.sqrt(Quad);\r\n    Quad = ((double)Quad - b);\r\n    Quad = ((double)Quad/(2*a));\r\n    return Quad;\r\n        \r\n   \r\n    }\r\n}\r\n}\r\n```\r\n\r\n\r\nIn the above code, you should use the class name not the object as you created a test to call the static method to the public static void main method  ","title":"Java Program To Solve The Quadratic Equation Does Not Work","body":"<pre><code>import java.util.Scanner;\n    \n        import static java.lang.System.*;\n    \n        public class QuadraticRunner\n    \n        {\n            public static void main( String[] args )\n            {\n                Scanner keyboard = new Scanner( System.in );\n                out.print(&quot;Enter a :: &quot;);\n                int quadA = keyboard.nextInt();\n                out.print(&quot;Enter b :: &quot;);\n                int quadB = keyboard.nextInt();\n                out.print(&quot;Enter c :: &quot;);\n                int quadC = keyboard.nextInt();\n                \n                System.out.println( Quadratic.getRootOne( quadA,quadB,quadC ) );\n                System.out.println( Quadratic.getRootTwo( quadA,quadB,quadC ) );\n            }\n        \n\npublic class Quadratic\n{\n    public static   double getRootOne( int a, int b, int c )\n    {\n        double Quad = (b*b)-(4*a*c);\n        double sqrt = Math.sqrt(Quad);\n        Quad = ((double)Quad + b);\n        Quad = ((double)Quad/(2*a));\n        return Quad;          \n} \n    public static double getRootTwo( int a, int b, int c )\n    {\n    double Quad = (b*b)-(4*a*c);\n    double sqrt = Math.sqrt(Quad);\n    Quad = ((double)Quad - b);\n    Quad = ((double)Quad/(2*a));\n    return Quad;\n        \n   \n    }\n}\n}\n</code></pre>\n<p>In the above code, you should use the class name not the object as you created a test to call the static method to the public static void main method</p>\n"}],"owner":{"account_id":17708598,"reputation":15,"user_id":12856588,"display_name":"WhutFunAwMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664967160,"creation_date":1600589184,"question_id":63976840,"body_markdown":"I am using classes to try to do this task, I feel like the computer thinks I made the numbers out of order, and they do not solve in the correct sequence.  \r\n\r\n\r\nThe Quadratic Runner  \r\n\r\n   \r\n\r\n        import java.util.Scanner;\r\n        \r\n            import static java.lang.System.*;\r\n        \r\n            public class QuadraticRunner\r\n        \r\n            {\r\n            \tpublic static void main( String[] args )\r\n            \t{\r\n            \t\tScanner keyboard = new Scanner( System.in );\r\n            \t\tout.print(&quot;Enter a :: &quot;);\r\n            \t\tint quadA = keyboard.nextInt();\r\n            \t\tout.print(&quot;Enter b :: &quot;);\r\n            \t\tint quadB = keyboard.nextInt();\r\n            \t\tout.print(&quot;Enter c :: &quot;);\r\n            \t\tint quadC = keyboard.nextInt();\r\n            \t\t\r\n            \t\t\r\n            \t\tQuadratic test = new Quadratic();\r\n            \t\tSystem.out.println( test.getRootOne( quadA,quadB,quadC ) );\r\n            \t\tSystem.out.println( test.getRootTwo( quadA,quadB,quadC ) );\r\n            \t}\r\n            }\r\n    \r\n    \r\n The Quadratic \r\n     \r\n    public class Quadratic\r\n    {\r\n    \tpublic static double getRootOne( int a, int b, int c )\r\n    \t{\r\n    \t    double Quad = (b*b)-(4*a*c);\r\n    \t    double sqrt = Math.sqrt(Quad);\r\n    \t    Quad = ((double)Quad + b);\r\n    \t    Quad = ((double)Quad/(2*a));\r\n    \t    return Quad;\r\n    \r\n    \t\r\n    \t\t\r\n    \t\t  \r\n    } \r\n    \tpublic static double getRootTwo( int a, int b, int c )\r\n    \t{\r\n    \tdouble Quad = (b*b)-(4*a*c);\r\n    \tdouble sqrt = Math.sqrt(Quad);\r\n    \tQuad = ((double)Quad - b);\r\n    \tQuad = ((double)Quad/(2*a));\r\n    \treturn Quad;\r\n    \t\t\r\n    \t\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nWhen I try to plug the numbers into the program the numbers being 1, 1, 1 it comes out as \r\nRoot 1 = -1.0\r\nRoot 2 = -2.0 \r\n\r\n\r\n","title":"Java Program To Solve The Quadratic Equation Does Not Work","body":"<p>I am using classes to try to do this task, I feel like the computer thinks I made the numbers out of order, and they do not solve in the correct sequence.</p>\n<p>The Quadratic Runner</p>\n<pre><code>    import java.util.Scanner;\n    \n        import static java.lang.System.*;\n    \n        public class QuadraticRunner\n    \n        {\n            public static void main( String[] args )\n            {\n                Scanner keyboard = new Scanner( System.in );\n                out.print(&quot;Enter a :: &quot;);\n                int quadA = keyboard.nextInt();\n                out.print(&quot;Enter b :: &quot;);\n                int quadB = keyboard.nextInt();\n                out.print(&quot;Enter c :: &quot;);\n                int quadC = keyboard.nextInt();\n                \n                \n                Quadratic test = new Quadratic();\n                System.out.println( test.getRootOne( quadA,quadB,quadC ) );\n                System.out.println( test.getRootTwo( quadA,quadB,quadC ) );\n            }\n        }\n</code></pre>\n<p>The Quadratic</p>\n<pre><code>public class Quadratic\n{\n    public static double getRootOne( int a, int b, int c )\n    {\n        double Quad = (b*b)-(4*a*c);\n        double sqrt = Math.sqrt(Quad);\n        Quad = ((double)Quad + b);\n        Quad = ((double)Quad/(2*a));\n        return Quad;\n\n    \n        \n          \n} \n    public static double getRootTwo( int a, int b, int c )\n    {\n    double Quad = (b*b)-(4*a*c);\n    double sqrt = Math.sqrt(Quad);\n    Quad = ((double)Quad - b);\n    Quad = ((double)Quad/(2*a));\n    return Quad;\n        \n    \n    }\n}\n</code></pre>\n<p>When I try to plug the numbers into the program the numbers being 1, 1, 1 it comes out as\nRoot 1 = -1.0\nRoot 2 = -2.0</p>\n"},{"tags":["java","sql","hibernate","criteria"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1664989467,"post_id":73959247,"comment_id":130596288,"body_markdown":"Try using JPA Criteria instead. The legacy Hibernate Criteria API was deprecated in 5 and removed in 6, so beware that your code will break when you update Hibernate.","body":"Try using JPA Criteria instead. The legacy Hibernate Criteria API was deprecated in 5 and removed in 6, so beware that your code will break when you update Hibernate."},{"owner":{"account_id":3969548,"reputation":674,"user_id":3274479,"accept_rate":58,"display_name":"Imrik"},"score":0,"creation_date":1665042418,"post_id":73959247,"comment_id":130607513,"body_markdown":"@ChristianBeikov hi! thanks for your advice, can you help me in what I want to do, please? I don&#39;t know how to do it :(","body":"@ChristianBeikov hi! thanks for your advice, can you help me in what I want to do, please? I don&#39;t know how to do it :("},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1665231360,"post_id":73959247,"comment_id":130654098,"body_markdown":"both tables have any relation between them?","body":"both tables have any relation between them?"}],"owner":{"account_id":3969548,"reputation":674,"user_id":3274479,"accept_rate":58,"display_name":"Imrik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664966613,"creation_date":1664966613,"question_id":73959247,"body_markdown":"I want to make a criteria query that I have to compare two tables. I mean, I have one field, for example, &quot;NAME&quot;, and I want to found all the entries that have &quot;NAME en 2 tables; &quot;Owners&quot; and &quot;Sellers&quot;, I made this, but I don&#39;t know how to add the second table to the criteria instructions:\r\n\r\n     DetachedCriteria subqueryDocumentoIdentificativo = DetachedCriteria.forClass(\r\n                    Owner.class, &quot;rrepr&quot;);\r\n            subqueryDocumentoIdentificativo.setProjection(Projections.property(&quot;owner&quot;));\r\n            subqueryDocumentoIdentificativo.createAlias(&quot;owners&quot;, &quot;own&quot;);\r\n            subqueryDocumentoIdentificativo.createAlias(&quot;own.person&quot;, &quot;person&quot;);\r\n            subqueryDocumentoIdentificativo.add(Restrictions.or(Restrictions\r\n                    .isNotNull(&quot;person.cdName&quot;), Restrictions\r\n                    .isNotNull(???????)));\r\n            query.addHibernateCriterion(Subqueries.exists(subqueryDocumentoIdentificativo));\r\n\r\n\r\n\r\nI also try with this other option:\r\n\r\n\r\n    if(this.getFiltros().get(&quot;cdDocumentoIdentificativo&quot;) != null\r\n                &amp;&amp; !((String) this.getFiltros().get(&quot;cdDocumentoIdentificativo&quot;)).isEmpty()) {\r\n            \r\n            query.addHibernateCriterion(Restrictions.or(\r\n                    Restrictions.eq(&quot;owner.own.person.cdDocumentoIdentificativo&quot;, &quot;cdDocumentoIdentificativo&quot;),\r\n                    Restrictions.eq(&quot;sellers.sell.person.cdDocumentoIdentificativo&quot;,&quot;cdDocumentoIdentificativo&quot;)));\r\n           \r\n        }\r\n\r\nNo one works...\r\n\r\n\r\nHow can I do it? I don&#39;t know if this is the correct way to do it or not, because it&#39;s my first attempt with Criteria. So, if you know another way to do it, it could be fine too.","title":"How to make Criteria OR query with two different tables","body":"<p>I want to make a criteria query that I have to compare two tables. I mean, I have one field, for example, &quot;NAME&quot;, and I want to found all the entries that have &quot;NAME en 2 tables; &quot;Owners&quot; and &quot;Sellers&quot;, I made this, but I don't know how to add the second table to the criteria instructions:</p>\n<pre><code> DetachedCriteria subqueryDocumentoIdentificativo = DetachedCriteria.forClass(\n                Owner.class, &quot;rrepr&quot;);\n        subqueryDocumentoIdentificativo.setProjection(Projections.property(&quot;owner&quot;));\n        subqueryDocumentoIdentificativo.createAlias(&quot;owners&quot;, &quot;own&quot;);\n        subqueryDocumentoIdentificativo.createAlias(&quot;own.person&quot;, &quot;person&quot;);\n        subqueryDocumentoIdentificativo.add(Restrictions.or(Restrictions\n                .isNotNull(&quot;person.cdName&quot;), Restrictions\n                .isNotNull(???????)));\n        query.addHibernateCriterion(Subqueries.exists(subqueryDocumentoIdentificativo));\n</code></pre>\n<p>I also try with this other option:</p>\n<pre><code>if(this.getFiltros().get(&quot;cdDocumentoIdentificativo&quot;) != null\n            &amp;&amp; !((String) this.getFiltros().get(&quot;cdDocumentoIdentificativo&quot;)).isEmpty()) {\n        \n        query.addHibernateCriterion(Restrictions.or(\n                Restrictions.eq(&quot;owner.own.person.cdDocumentoIdentificativo&quot;, &quot;cdDocumentoIdentificativo&quot;),\n                Restrictions.eq(&quot;sellers.sell.person.cdDocumentoIdentificativo&quot;,&quot;cdDocumentoIdentificativo&quot;)));\n       \n    }\n</code></pre>\n<p>No one works...</p>\n<p>How can I do it? I don't know if this is the correct way to do it or not, because it's my first attempt with Criteria. So, if you know another way to do it, it could be fine too.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664873639,"post_id":73945303,"comment_id":130564340,"body_markdown":"Try adding a few more entries.","body":"Try adding a few more entries."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":5,"creation_date":1664873644,"post_id":73945303,"comment_id":130564341,"body_markdown":"There&#39;s a difference between &quot;unordered&quot; and &quot;not having a defined order&quot;.","body":"There&#39;s a difference between &quot;unordered&quot; and &quot;not having a defined order&quot;."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664881476,"post_id":73945303,"comment_id":130566794,"body_markdown":"Change the construction from `new HashMap&lt;String, String&gt;()` to either `new HashMap&lt;&gt;(4, 2f)` or `new HashMap&lt;&gt;(2, 4f)` and see what happens. Or try to add all values from `&quot;Str1&quot;` to `&quot;Str9&quot;`.","body":"Change the construction from <code>new HashMap&lt;String, String&gt;()</code> to either <code>new HashMap&lt;&gt;(4, 2f)</code> or <code>new HashMap&lt;&gt;(2, 4f)</code> and see what happens. Or try to add all values from <code>&quot;Str1&quot;</code> to <code>&quot;Str9&quot;</code>."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1664881794,"post_id":73945303,"comment_id":130566897,"body_markdown":"The order of iteration is undefined but it is not random.  Therefore, it is reasonable that is is consistent **if** the Map is unperturbed between iterations.  However, the the order of iteration can/will change dramatically if you add or remove elements from the Map.","body":"The order of iteration is undefined but it is not random.  Therefore, it is reasonable that is is consistent <b>if</b> the Map is unperturbed between iterations.  However, the the order of iteration can/will change dramatically if you add or remove elements from the Map."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664958553,"post_id":73945303,"comment_id":130585423,"body_markdown":"For other visitors: `SortedMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();` would keep the keys sorted. And with `SortedMap\n` you can do `map.subMap(&quot;D&quot;, &quot;E&quot;)` for all keys starting with &quot;D&quot;.","body":"For other visitors: <code>SortedMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();</code> would keep the keys sorted. And with <code>SortedMap </code> you can do <code>map.subMap(&quot;D&quot;, &quot;E&quot;)</code> for all keys starting with &quot;D&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664966452,"creation_date":1664957852,"answer_id":73957602,"question_id":73945303,"body_markdown":"This is an artefact of how `String.hashCode()` is implemented.\r\n\r\nAdd this code:\r\n\r\n        System.out.println(map.entrySet());\r\n        \r\n        for(Map.Entry&lt;String,String&gt; curr : map.entrySet()){\r\n        \tString str=curr.getValue();\r\n        \tSystem.out.println(str+&quot; &quot;+str.hashCode());\r\n        }\r\n\r\nTypical Output:\r\n\r\n    value5 -823812892\r\n    value4 -823812893\r\n    value3 -823812894\r\n    value2 -823812895\r\n    value1 -823812896\r\n\r\nHang on! Those hash-codes are sequential. Just because hash-code is &#39;arbitrary&#39; that doesn&#39;t mean there&#39;s no structure to it.\r\n\r\nIt turns out that the standard implementation is calculated as a &#39;multiply and add&#39; calculation (where `h` is the hash-code):\r\n\r\n    for (int i = 0; i &lt; chars.length; i++) {\r\n        h = 31 * h + chars[i];\r\n    }\r\n\r\n\r\n\r\nAnd because those strings only differ in their last character and that character is sequential between them the hash-code comes out in order. \r\n\r\nThe effect of the last character is just an add.\r\n\r\nThe sequencing is not an intended property of the hash-code. It&#39;s just the way those values fall.\r\n\r\nFurther it means the way those strings happen to get placed in the hash-table is also by coincidence sequential. So when the entries are iterated in arbitrary (but in practice &#39;happen to be&#39;) order they come ordered as shown. \r\n\r\nThat ordered outcome is pure accident. Add further values and the pattern will eventually break.\r\nRefer to the proposed &#39;duplicate&#39; answers for more detail about how `HashMap` is implemented.  ","title":"Java Hashmap is automatically sorted","body":"<p>This is an artefact of how <code>String.hashCode()</code> is implemented.</p>\n<p>Add this code:</p>\n<pre><code>    System.out.println(map.entrySet());\n    \n    for(Map.Entry&lt;String,String&gt; curr : map.entrySet()){\n        String str=curr.getValue();\n        System.out.println(str+&quot; &quot;+str.hashCode());\n    }\n</code></pre>\n<p>Typical Output:</p>\n<pre><code>value5 -823812892\nvalue4 -823812893\nvalue3 -823812894\nvalue2 -823812895\nvalue1 -823812896\n</code></pre>\n<p>Hang on! Those hash-codes are sequential. Just because hash-code is 'arbitrary' that doesn't mean there's no structure to it.</p>\n<p>It turns out that the standard implementation is calculated as a 'multiply and add' calculation (where <code>h</code> is the hash-code):</p>\n<pre><code>for (int i = 0; i &lt; chars.length; i++) {\n    h = 31 * h + chars[i];\n}\n</code></pre>\n<p>And because those strings only differ in their last character and that character is sequential between them the hash-code comes out in order.</p>\n<p>The effect of the last character is just an add.</p>\n<p>The sequencing is not an intended property of the hash-code. It's just the way those values fall.</p>\n<p>Further it means the way those strings happen to get placed in the hash-table is also by coincidence sequential. So when the entries are iterated in arbitrary (but in practice 'happen to be') order they come ordered as shown.</p>\n<p>That ordered outcome is pure accident. Add further values and the pattern will eventually break.\nRefer to the proposed 'duplicate' answers for more detail about how <code>HashMap</code> is implemented.</p>\n"}],"owner":{"account_id":14655237,"reputation":11,"user_id":10583996,"display_name":"H1H"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1664958070,"answer_count":1,"score":-1,"last_activity_date":1664966452,"creation_date":1664873462,"question_id":73945303,"body_markdown":"```\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.util.Collection;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tmap.put(&quot;Str1&quot;, &quot;value1&quot;);\r\n\t\tmap.put(&quot;Str2&quot;, &quot;value2&quot;);\r\n\t\tmap.put(&quot;Str3&quot;, &quot;value3&quot;);\r\n\t\tmap.put(&quot;Str4&quot;, &quot;value4&quot;);\r\n\t\tmap.put(&quot;Str5&quot;, &quot;value5&quot;);\r\n\t\t\r\n\t\tSystem.out.println(map.entrySet());\r\n\t\t\r\n\t\tCollection&lt;String&gt; values = map.values();\r\n\t\tString[] arr = values.toArray(new String[0]);\r\n\t\tSystem.out.println(arr[3]);\r\n\t}\r\n}\r\n```\r\nI know Hashmap has no order but this code keeps showing \r\n[Str5=value5, Str4=value4, Str3=value3, Str2=value2, Str1=value1]\r\nvalue2\r\nIs there anything that I&#39;m missing?\r\n","title":"Java Hashmap is automatically sorted","body":"<pre><code>import java.util.Map;\nimport java.util.HashMap;\nimport java.util.Collection;\n\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        \n        map.put(&quot;Str1&quot;, &quot;value1&quot;);\n        map.put(&quot;Str2&quot;, &quot;value2&quot;);\n        map.put(&quot;Str3&quot;, &quot;value3&quot;);\n        map.put(&quot;Str4&quot;, &quot;value4&quot;);\n        map.put(&quot;Str5&quot;, &quot;value5&quot;);\n        \n        System.out.println(map.entrySet());\n        \n        Collection&lt;String&gt; values = map.values();\n        String[] arr = values.toArray(new String[0]);\n        System.out.println(arr[3]);\n    }\n}\n</code></pre>\n<p>I know Hashmap has no order but this code keeps showing\n[Str5=value5, Str4=value4, Str3=value3, Str2=value2, Str1=value1]\nvalue2\nIs there anything that I'm missing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1664965097,"post_id":73958949,"comment_id":130587364,"body_markdown":"A `StringBuilder` works like this: `new StringBuilder().append(&quot;one string&quot;).append(&quot;another string&quot;).append(&quot;one more just to be sure&quot;).toString();`","body":"A <code>StringBuilder</code> works like this: <code>new StringBuilder().append(&quot;one string&quot;).append(&quot;another string&quot;).append(&quot;one more just to be sure&quot;).toString();</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664965714,"post_id":73958949,"comment_id":130587589,"body_markdown":"Pragmatic: 1. Just replace &quot;String&quot; (whole word) with &quot;StringBuilder&quot; 2. replace `+=` with `.concat(` 3. `+` with `).concat(` 4. add `)` to according line endings. But better: https://google.com/search?q=templating+framework+java (maybe you have one or other already &quot;on board&quot;;)","body":"Pragmatic: 1. Just replace &quot;String&quot; (whole word) with &quot;StringBuilder&quot; 2. replace <code>+=</code> with <code>.concat(</code> 3. <code>+</code> with <code>).concat(</code> 4. add <code>)</code> to according line endings. But better: <a href=\"https://google.com/search?q=templating+framework+java\" rel=\"nofollow noreferrer\">google.com/search?q=templating+framework+java</a> (maybe you have one or other already &quot;on board&quot;;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664966022,"post_id":73958949,"comment_id":130587701,"body_markdown":"And the most basic+elegant (maybe not best maintainable..it depends) solution (none of the top result) could be `String.format(...)`","body":"And the most basic+elegant (maybe not best maintainable..it depends) solution (none of the top result) could be <code>String.format(...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664965973,"creation_date":1664965973,"answer_id":73959143,"question_id":73958949,"body_markdown":"You have already used StringBuilder in header same you can use in mailBody.\r\n\r\n```\r\npublic String createMailBody(List&lt;VposNotificationBatchDto&gt; notificationList) {\r\n\r\n    StringBuilder header = new StringBuilder(&quot;&lt;table&gt;&lt;tr&gt;&lt;th&gt;&#220;YE İŞYERİ ID&lt;/th&gt;&lt;th&gt;MD STATUS&lt;/th&gt;&lt;th&gt;BIN&lt;/th&gt;&quot;);\r\n    header.append(&quot;&lt;th&gt;İŞLEM SAYISI&lt;/th&gt;&lt;th&gt;ORAN&lt;/th&gt;&lt;th&gt;&#220;YE İŞYERİ&lt;/th&gt;&lt;/tr&gt;&quot;);\r\n\r\n    StringBuilder mailBody =\r\n            new StringBuilder(&quot;Merhaba,&lt;br/&gt;&lt;br/&gt;G&#252;venli İşlem Raporu i&#231;in işlem detayları aşağıdaki gibidir.&quot;);\r\n    mailBody.append(&quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&quot;);\r\n    mailBody.append(\r\n            &quot;&lt;html&gt;&lt;head&gt;&lt;style&gt;table{font-family: arial, sans-serif;border-collapse: collapse;width: 75%;}th{background-color: #5fa8cc}&quot;);\r\n    mailBody.append(\r\n            &quot;td,th{border: 1px solid #dddddd;text-align: left;padding: 8px;}tr:nth-child(even){background-color: #dddddd;}&lt;/style&gt;&quot;);\r\n    mailBody.append(&quot;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;G&#252;venli İşlem Rapor Detayları:&lt;/h3&gt;&quot;).append(header.toString());\r\n\r\n    for (int i = 0; i &lt; notificationList.size(); i++) {\r\n\r\n        mailBody.append(&quot;&lt;tr&gt;&lt;td&gt;&quot;).append(notificationList.get(i).getMid()).append(tdClose);\r\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getMdStatus()).append(tdClose);\r\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getBin()).append(tdClose);\r\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getCount()).append(tdClose);\r\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getRatio()).append(tdClose);\r\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getMerchantName()).append(&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n\r\n        String currentMailSubject = batchProps.getJobProps().get(jobName).getAlertProps().getMailSubject();\r\n    }\r\n    mailBody.append(endOfHtmlString);\r\n    return mailBody.toString();\r\n}\r\n```\r\n\r\nIf you are using eclipse then you can configure save action in that it will automatically convert string concat with string builder.","title":"StringBuilder Usage in Mail Sending Batch Java","body":"<p>You have already used StringBuilder in header same you can use in mailBody.</p>\n<pre><code>public String createMailBody(List&lt;VposNotificationBatchDto&gt; notificationList) {\n\n    StringBuilder header = new StringBuilder(&quot;&lt;table&gt;&lt;tr&gt;&lt;th&gt;ÜYE İŞYERİ ID&lt;/th&gt;&lt;th&gt;MD STATUS&lt;/th&gt;&lt;th&gt;BIN&lt;/th&gt;&quot;);\n    header.append(&quot;&lt;th&gt;İŞLEM SAYISI&lt;/th&gt;&lt;th&gt;ORAN&lt;/th&gt;&lt;th&gt;ÜYE İŞYERİ&lt;/th&gt;&lt;/tr&gt;&quot;);\n\n    StringBuilder mailBody =\n            new StringBuilder(&quot;Merhaba,&lt;br/&gt;&lt;br/&gt;Güvenli İşlem Raporu için işlem detayları aşağıdaki gibidir.&quot;);\n    mailBody.append(&quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&quot;);\n    mailBody.append(\n            &quot;&lt;html&gt;&lt;head&gt;&lt;style&gt;table{font-family: arial, sans-serif;border-collapse: collapse;width: 75%;}th{background-color: #5fa8cc}&quot;);\n    mailBody.append(\n            &quot;td,th{border: 1px solid #dddddd;text-align: left;padding: 8px;}tr:nth-child(even){background-color: #dddddd;}&lt;/style&gt;&quot;);\n    mailBody.append(&quot;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;Güvenli İşlem Rapor Detayları:&lt;/h3&gt;&quot;).append(header.toString());\n\n    for (int i = 0; i &lt; notificationList.size(); i++) {\n\n        mailBody.append(&quot;&lt;tr&gt;&lt;td&gt;&quot;).append(notificationList.get(i).getMid()).append(tdClose);\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getMdStatus()).append(tdClose);\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getBin()).append(tdClose);\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getCount()).append(tdClose);\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getRatio()).append(tdClose);\n        mailBody.append(&quot;&lt;td&gt;&quot;).append(notificationList.get(i).getMerchantName()).append(&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n\n        String currentMailSubject = batchProps.getJobProps().get(jobName).getAlertProps().getMailSubject();\n    }\n    mailBody.append(endOfHtmlString);\n    return mailBody.toString();\n}\n</code></pre>\n<p>If you are using eclipse then you can configure save action in that it will automatically convert string concat with string builder.</p>\n"},{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664966347,"creation_date":1664966347,"answer_id":73959205,"question_id":73958949,"body_markdown":" You have already used StringBuilder in header which is perfectly correct. Then just the same way you can implement. just return **&quot;return mailBody.toString();&quot;**  \r\n\r\n","title":"StringBuilder Usage in Mail Sending Batch Java","body":"<p>You have already used StringBuilder in header which is perfectly correct. Then just the same way you can implement. just return <strong>&quot;return mailBody.toString();&quot;</strong></p>\n"}],"owner":{"display_name":"user19336013"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73959143,"answer_count":2,"score":0,"last_activity_date":1664966347,"creation_date":1664964988,"question_id":73958949,"body_markdown":"I have a method for filling html data cells with data.\r\n\r\nIn this method I have a `mailBody` variable. I want to use `StringBuilder` instead of `mailBody`. But I don&#39;t know how to do this in my case.\r\n\r\nNote: `tdClose` is defined as `&quot;&lt;/td&gt;&quot;`\r\n\r\nWhere I want to use `StringBuilder`:\r\n\r\n    mailBody += &quot;&lt;tr&gt;&lt;td&gt;&quot; + notificationList.get(i).getMid() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMdStatus() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getBin() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getCount() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getRatio() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMerchantName() + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n\r\nMy method:\r\n\r\n    public String createMailBody(List&lt;VposNotificationBatchDto&gt; notificationList) {\r\n    \r\n        StringBuilder header = new StringBuilder(&quot;&lt;table&gt;&lt;tr&gt;&lt;th&gt;&#220;YE İŞYERİ ID&lt;/th&gt;&lt;th&gt;MD STATUS&lt;/th&gt;&lt;th&gt;BIN&lt;/th&gt;&quot;);\r\n        header.append(&quot;&lt;th&gt;İŞLEM SAYISI&lt;/th&gt;&lt;th&gt;ORAN&lt;/th&gt;&lt;th&gt;&#220;YE İŞYERİ&lt;/th&gt;&lt;/tr&gt;&quot;);\r\n    \r\n        String mailBody = &quot;Merhaba,&lt;br/&gt;&lt;br/&gt;G&#252;venli İşlem Raporu i&#231;in işlem detayları aşağıdaki gibidir.&quot;;\r\n        mailBody += &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&quot;;\r\n        mailBody += &quot;&lt;html&gt;&lt;head&gt;&lt;style&gt;table{font-family: arial, sans-serif;border-collapse: collapse;width: 75%;}th{background-color: #5fa8cc}&quot;;\r\n        mailBody += &quot;td,th{border: 1px solid #dddddd;text-align: left;padding: 8px;}tr:nth-child(even){background-color: #dddddd;}&lt;/style&gt;&quot;;\r\n        mailBody += &quot;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;G&#252;venli İşlem Rapor Detayları:&lt;/h3&gt;&quot; + header;\r\n    \r\n        for (int i = 0; i &lt; notificationList.size(); i++) {\r\n    \r\n            mailBody += &quot;&lt;tr&gt;&lt;td&gt;&quot; + notificationList.get(i).getMid() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMdStatus() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getBin() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getCount() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getRatio() + tdClose;\r\n            mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMerchantName() + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n\r\n            String currentMailSubject = batchProps.getJobProps().get(jobName).getAlertProps().getMailSubject();\r\n        }\r\n        mailBody += endOfHtmlString;\r\n        return mailBody;\r\n    }\r\n\r\n ","title":"StringBuilder Usage in Mail Sending Batch Java","body":"<p>I have a method for filling html data cells with data.</p>\n<p>In this method I have a <code>mailBody</code> variable. I want to use <code>StringBuilder</code> instead of <code>mailBody</code>. But I don't know how to do this in my case.</p>\n<p>Note: <code>tdClose</code> is defined as <code>&quot;&lt;/td&gt;&quot;</code></p>\n<p>Where I want to use <code>StringBuilder</code>:</p>\n<pre><code>mailBody += &quot;&lt;tr&gt;&lt;td&gt;&quot; + notificationList.get(i).getMid() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMdStatus() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getBin() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getCount() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getRatio() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMerchantName() + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;\n</code></pre>\n<p>My method:</p>\n<pre><code>public String createMailBody(List&lt;VposNotificationBatchDto&gt; notificationList) {\n\n    StringBuilder header = new StringBuilder(&quot;&lt;table&gt;&lt;tr&gt;&lt;th&gt;ÜYE İŞYERİ ID&lt;/th&gt;&lt;th&gt;MD STATUS&lt;/th&gt;&lt;th&gt;BIN&lt;/th&gt;&quot;);\n    header.append(&quot;&lt;th&gt;İŞLEM SAYISI&lt;/th&gt;&lt;th&gt;ORAN&lt;/th&gt;&lt;th&gt;ÜYE İŞYERİ&lt;/th&gt;&lt;/tr&gt;&quot;);\n\n    String mailBody = &quot;Merhaba,&lt;br/&gt;&lt;br/&gt;Güvenli İşlem Raporu için işlem detayları aşağıdaki gibidir.&quot;;\n    mailBody += &quot;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&quot;;\n    mailBody += &quot;&lt;html&gt;&lt;head&gt;&lt;style&gt;table{font-family: arial, sans-serif;border-collapse: collapse;width: 75%;}th{background-color: #5fa8cc}&quot;;\n    mailBody += &quot;td,th{border: 1px solid #dddddd;text-align: left;padding: 8px;}tr:nth-child(even){background-color: #dddddd;}&lt;/style&gt;&quot;;\n    mailBody += &quot;&lt;/head&gt;&lt;body&gt;&lt;h3&gt;Güvenli İşlem Rapor Detayları:&lt;/h3&gt;&quot; + header;\n\n    for (int i = 0; i &lt; notificationList.size(); i++) {\n\n        mailBody += &quot;&lt;tr&gt;&lt;td&gt;&quot; + notificationList.get(i).getMid() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMdStatus() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getBin() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getCount() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getRatio() + tdClose;\n        mailBody += &quot;&lt;td&gt;&quot; + notificationList.get(i).getMerchantName() + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;\n\n        String currentMailSubject = batchProps.getJobProps().get(jobName).getAlertProps().getMailSubject();\n    }\n    mailBody += endOfHtmlString;\n    return mailBody;\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664903362,"creation_date":1664893919,"answer_id":73949501,"question_id":73949474,"body_markdown":"`TypeReference&lt;List&lt;Data&gt;&gt;` matches the following, different JSON string:\r\n\r\n```json\r\n[\r\n   {\r\n      &quot;id&quot;:&quot;1&quot;,\r\n      &quot;title&quot;:&quot;hello&quot;\r\n   }\r\n]\r\n```\r\n\r\nYou need another wrapper class with a `List&lt;Data&gt; data` field or use a map to deserialize.\r\n\r\nWith a map:\r\n\r\n```\r\nMap&lt;String, List&lt;Data&gt;&gt; data = objectMapper.readValue(out, new TypeReference&lt;Map&lt;String, List&lt;Data&gt;&gt;&gt;(){});\r\nSystem.out.println(&quot;data = &quot; + data.get(&quot;data&quot;).get(0).getId());\r\n```\r\n\r\nWrapper class:\r\n\r\n```\r\nclass Wrapper {\r\n  private List&lt;Data&gt; data;\r\n  public List&lt;Data&gt; getData() { return data; }\r\n  public void setData(final List&lt;Data&gt; data) { this.data = data; }\r\n}\r\n\r\n// ...\r\nWrapper data = objectMapper.readValue(out, new TypeReference&lt;Wrapper&gt;(){});\r\nSystem.out.println(&quot;data = &quot; + data.getData().get(0).getId());\r\n```\r\n\r\nFollowing is a fully functional JUnit 5 test parsing the input JSON string and asserting the correct value:\r\n\r\n```\r\nclass Question {\r\n    @Test\r\n    void deserialize() throws JsonProcessingException {\r\n        final ObjectMapper objectMapper = new ObjectMapper()\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        final String input = &quot;{\\n&quot;\r\n                + &quot;   \\&quot;data\\&quot;:[\\n&quot;\r\n                + &quot;      {\\n&quot;\r\n                + &quot;         \\&quot;id\\&quot;:\\&quot;1\\&quot;,\\n&quot;\r\n                + &quot;         \\&quot;title\\&quot;:\\&quot;hello\\&quot;\\n&quot;\r\n                + &quot;      }\\n&quot;\r\n                + &quot;   ]\\n&quot;\r\n                + &quot;}&quot;;\r\n\r\n        final Map&lt;String, List&lt;Data&gt;&gt; map = objectMapper.readValue(input, new TypeReference&lt;&gt;() {});\r\n        Assertions.assertEquals(&quot;1&quot;, map.get(&quot;data&quot;).get(0).getId());\r\n\r\n        final Wrapper wrapper = objectMapper.readValue(input, new TypeReference&lt;&gt;() {});\r\n        Assertions.assertEquals(&quot;1&quot;, wrapper.getData().get(0).getId());\r\n    }\r\n\r\n    private static class Wrapper {\r\n        private List&lt;Data&gt; data;\r\n\r\n        public List&lt;Data&gt; getData() {return data;}\r\n        public void setData(final List&lt;Data&gt; data) {this.data = data;}\r\n    }\r\n\r\n    private static class Data {\r\n        private String id;\r\n        private String title;\r\n\r\n        public String getId() {return id;}\r\n        public void setId(final String id) {this.id = id;}\r\n\r\n        public String getTitle() {return title;}\r\n        public void setTitle(final String title) {this.title = title;}\r\n    }\r\n}\r\n```","title":"How to get properties from an object inside array inside object using Jackson","body":"<p><code>TypeReference&lt;List&lt;Data&gt;&gt;</code> matches the following, different JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n   {\n      &quot;id&quot;:&quot;1&quot;,\n      &quot;title&quot;:&quot;hello&quot;\n   }\n]\n</code></pre>\n<p>You need another wrapper class with a <code>List&lt;Data&gt; data</code> field or use a map to deserialize.</p>\n<p>With a map:</p>\n<pre><code>Map&lt;String, List&lt;Data&gt;&gt; data = objectMapper.readValue(out, new TypeReference&lt;Map&lt;String, List&lt;Data&gt;&gt;&gt;(){});\nSystem.out.println(&quot;data = &quot; + data.get(&quot;data&quot;).get(0).getId());\n</code></pre>\n<p>Wrapper class:</p>\n<pre><code>class Wrapper {\n  private List&lt;Data&gt; data;\n  public List&lt;Data&gt; getData() { return data; }\n  public void setData(final List&lt;Data&gt; data) { this.data = data; }\n}\n\n// ...\nWrapper data = objectMapper.readValue(out, new TypeReference&lt;Wrapper&gt;(){});\nSystem.out.println(&quot;data = &quot; + data.getData().get(0).getId());\n</code></pre>\n<p>Following is a fully functional JUnit 5 test parsing the input JSON string and asserting the correct value:</p>\n<pre><code>class Question {\n    @Test\n    void deserialize() throws JsonProcessingException {\n        final ObjectMapper objectMapper = new ObjectMapper()\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n        final String input = &quot;{\\n&quot;\n                + &quot;   \\&quot;data\\&quot;:[\\n&quot;\n                + &quot;      {\\n&quot;\n                + &quot;         \\&quot;id\\&quot;:\\&quot;1\\&quot;,\\n&quot;\n                + &quot;         \\&quot;title\\&quot;:\\&quot;hello\\&quot;\\n&quot;\n                + &quot;      }\\n&quot;\n                + &quot;   ]\\n&quot;\n                + &quot;}&quot;;\n\n        final Map&lt;String, List&lt;Data&gt;&gt; map = objectMapper.readValue(input, new TypeReference&lt;&gt;() {});\n        Assertions.assertEquals(&quot;1&quot;, map.get(&quot;data&quot;).get(0).getId());\n\n        final Wrapper wrapper = objectMapper.readValue(input, new TypeReference&lt;&gt;() {});\n        Assertions.assertEquals(&quot;1&quot;, wrapper.getData().get(0).getId());\n    }\n\n    private static class Wrapper {\n        private List&lt;Data&gt; data;\n\n        public List&lt;Data&gt; getData() {return data;}\n        public void setData(final List&lt;Data&gt; data) {this.data = data;}\n    }\n\n    private static class Data {\n        private String id;\n        private String title;\n\n        public String getId() {return id;}\n        public void setId(final String id) {this.id = id;}\n\n        public String getTitle() {return title;}\n        public void setTitle(final String title) {this.title = title;}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26526167,"reputation":11,"user_id":20159140,"display_name":"Shawman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664966029,"answer_count":1,"score":0,"last_activity_date":1664966270,"creation_date":1664893757,"question_id":73949474,"body_markdown":"My JSON structure might be part of the problem but this is what I&#39;m working with:\r\n\r\n    {\r\n       &quot;data&quot;:[\r\n          {\r\n             &quot;id&quot;:&quot;1&quot;,\r\n             &quot;title&quot;:&quot;hello&quot;\r\n          }\r\n       ]\r\n    }\r\n\r\nI want to simply print out the value of id.\r\n\r\nHere is my Java main class:\r\n\r\n    public static void main(String[] args){\r\n            ObjectMapper objectMapper = new \r\n            ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false).configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n            List&lt;Data&gt; data = objectMapper.readValue(out, new TypeReference&lt;List&lt;Data&gt;&gt;(){});\r\n            System.out.println(&quot;data = &quot; + data.get(0).getId());\r\n    }\r\n\r\nHere is my Data class:\r\n\r\n\tprivate String id;\r\n\tprivate String title;\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\nIt only ever prints null. But it seems like it should work since I have one instance of Data in the List, then I fetch the first (and only) instance and then try to fetch id.","title":"How to get properties from an object inside array inside object using Jackson","body":"<p>My JSON structure might be part of the problem but this is what I'm working with:</p>\n<pre><code>{\n   &quot;data&quot;:[\n      {\n         &quot;id&quot;:&quot;1&quot;,\n         &quot;title&quot;:&quot;hello&quot;\n      }\n   ]\n}\n</code></pre>\n<p>I want to simply print out the value of id.</p>\n<p>Here is my Java main class:</p>\n<pre><code>public static void main(String[] args){\n        ObjectMapper objectMapper = new \n        ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false).configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n        List&lt;Data&gt; data = objectMapper.readValue(out, new TypeReference&lt;List&lt;Data&gt;&gt;(){});\n        System.out.println(&quot;data = &quot; + data.get(0).getId());\n}\n</code></pre>\n<p>Here is my Data class:</p>\n<pre><code>private String id;\nprivate String title;\npublic String getId() {\n    return id;\n}\npublic void setId(String id) {\n    this.id = id;\n}\npublic String getTitle() {\n    return title;\n}\npublic void setTitle(String title) {\n    this.title = title;\n}\n</code></pre>\n<p>It only ever prints null. But it seems like it should work since I have one instance of Data in the List, then I fetch the first (and only) instance and then try to fetch id.</p>\n"},{"tags":["java","spring-boot","rest","post","service"],"comments":[{"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"score":0,"creation_date":1663290090,"post_id":73738784,"comment_id":130210276,"body_markdown":"it does-not seems a problem with spring boot but with the logic of &quot;simple method&quot; , you can try calling only simple method from the rest-end point if it still throws error you have isolated problem there otherwise something fishy going on in your create and simple - more details needed for exact problem identification -with warn logs it looks like your entity mapping is not right","body":"it does-not seems a problem with spring boot but with the logic of &quot;simple method&quot; , you can try calling only simple method from the rest-end point if it still throws error you have isolated problem there otherwise something fishy going on in your create and simple - more details needed for exact problem identification -with warn logs it looks like your entity mapping is not right"},{"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"score":0,"creation_date":1663320115,"post_id":73738784,"comment_id":130216547,"body_markdown":"Just a guess that `simple` method only exist in implementation and not available in interface `PurchaseService`. If that is the case, try adding `simple` method in interface as well.","body":"Just a guess that <code>simple</code> method only exist in implementation and not available in interface <code>PurchaseService</code>. If that is the case, try adding <code>simple</code> method in interface as well."}],"answers":[{"tags":[],"owner":{"account_id":13116984,"reputation":13,"user_id":9475811,"display_name":"Software Developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664965375,"creation_date":1664965375,"answer_id":73959018,"question_id":73738784,"body_markdown":"Finally, I found that the problem relates to the logic of purchaseService.createOrder() method, and it was because of a one-to-many relationship that works lazily. Changing fetch type and a few other changes, fixed the problem and it does not relate to how many times use a service in a rest controller at all!","title":"Spring boot Handler dispatch failed; nested exception is java.lang.StackOverflowError when calling a service more than once in a rest controller","body":"<p>Finally, I found that the problem relates to the logic of purchaseService.createOrder() method, and it was because of a one-to-many relationship that works lazily. Changing fetch type and a few other changes, fixed the problem and it does not relate to how many times use a service in a rest controller at all!</p>\n"}],"owner":{"account_id":13116984,"reputation":13,"user_id":9475811,"display_name":"Software Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73959018,"answer_count":1,"score":0,"last_activity_date":1664965375,"creation_date":1663289751,"question_id":73738784,"body_markdown":"I&#39;m using spring boot 2.2.4 with java 11.\r\n\r\nWhen I use a service more than once in a rest controller in my spring boot application, it will print too many warning in the console and finally throw an exception :\r\n\r\n    WARN 21740 --- [nio-8080-exec-4] o.h.e.loading.internal.LoadContexts      : HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@70823236&lt;rs=HikariProxyResultSet@1665630462 wrapping Result set representing update count of 4&gt;\r\n    WARN 21740 --- [nio-8080-exec-4] o.h.e.loading.internal.LoadContexts      : HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@3acd228&lt;rs=HikariProxyResultSet@368473467 wrapping Result set representing update count of 4&gt;\r\n    ERROR 21740 --- [nio-8080-exec-4] i.m.ExceptionHandling  : Handler dispatch failed; nested exception is java.lang.StackOverflowError\r\n\r\nThis is part of the rest controller class :\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    @RequestMapping(&quot;/api/purchase&quot;)\r\n    public class PurchaseController {\r\n    \r\n        private PurchaseService purchaseService;\r\n    \t\r\n        public PurchaseController(PurchaseService purchaseService) {\r\n            this.purchaseService = purchaseService;\r\n        }\r\n    \r\n        @PostMapping(&quot;/create-order&quot;)\r\n        public ResponseEntity&lt;PurchaseResponse&gt; createOrder() {\r\n            Order order = purchaseService.createOrder(); // first use of service (its ok)\r\n    \t\tString simple = purchaseService.simple(); // second use of service : this will cause the exception\r\n\r\n            PurchaseResponse purchaseResponse = new PurchaseResponse(&lt;some argument&gt;);\r\n            return new ResponseEntity&lt;&gt;(purchaseResponse,OK);\r\n        }\r\n    \r\n    \t...\r\n    \r\n    }\r\n\r\nand this is part of the service class:\r\n\r\n    @Service\r\n    @Transactional\r\n    @Qualifier(&quot;purchaseService&quot;)\r\n    public class PurchaseServiceImpl implements PurchaseService {\r\n    \r\n        private OrderRepository orderRepository;\r\n    \r\n        @Autowired\r\n        public PurchaseServiceImpl(OrderRepository orderRepository) {\r\n            this.orderRepository = orderRepository;\r\n        }\r\n    \t\r\n    \t@Override\r\n        public Order createOrder() {\r\n    \t\t...\r\n    \t\treturn new Order();\r\n    \t}\r\n    \t\r\n    \tpublic String simple(){\r\n    \t\treturn &quot;simple called !&quot;;\r\n    \t}\r\n    \t\r\n    \t...\r\n    \t\r\n    }\r\n\r\nplease notice that body of simple() method does not matter at all and using any method will cause the exception.\r\n\r\nThanks in advance","title":"Spring boot Handler dispatch failed; nested exception is java.lang.StackOverflowError when calling a service more than once in a rest controller","body":"<p>I'm using spring boot 2.2.4 with java 11.</p>\n<p>When I use a service more than once in a rest controller in my spring boot application, it will print too many warning in the console and finally throw an exception :</p>\n<pre><code>WARN 21740 --- [nio-8080-exec-4] o.h.e.loading.internal.LoadContexts      : HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@70823236&lt;rs=HikariProxyResultSet@1665630462 wrapping Result set representing update count of 4&gt;\nWARN 21740 --- [nio-8080-exec-4] o.h.e.loading.internal.LoadContexts      : HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@3acd228&lt;rs=HikariProxyResultSet@368473467 wrapping Result set representing update count of 4&gt;\nERROR 21740 --- [nio-8080-exec-4] i.m.ExceptionHandling  : Handler dispatch failed; nested exception is java.lang.StackOverflowError\n</code></pre>\n<p>This is part of the rest controller class :</p>\n<pre><code>@CrossOrigin\n@RestController\n@RequestMapping(&quot;/api/purchase&quot;)\npublic class PurchaseController {\n\n    private PurchaseService purchaseService;\n    \n    public PurchaseController(PurchaseService purchaseService) {\n        this.purchaseService = purchaseService;\n    }\n\n    @PostMapping(&quot;/create-order&quot;)\n    public ResponseEntity&lt;PurchaseResponse&gt; createOrder() {\n        Order order = purchaseService.createOrder(); // first use of service (its ok)\n        String simple = purchaseService.simple(); // second use of service : this will cause the exception\n\n        PurchaseResponse purchaseResponse = new PurchaseResponse(&lt;some argument&gt;);\n        return new ResponseEntity&lt;&gt;(purchaseResponse,OK);\n    }\n\n    ...\n\n}\n</code></pre>\n<p>and this is part of the service class:</p>\n<pre><code>@Service\n@Transactional\n@Qualifier(&quot;purchaseService&quot;)\npublic class PurchaseServiceImpl implements PurchaseService {\n\n    private OrderRepository orderRepository;\n\n    @Autowired\n    public PurchaseServiceImpl(OrderRepository orderRepository) {\n        this.orderRepository = orderRepository;\n    }\n    \n    @Override\n    public Order createOrder() {\n        ...\n        return new Order();\n    }\n    \n    public String simple(){\n        return &quot;simple called !&quot;;\n    }\n    \n    ...\n    \n}\n</code></pre>\n<p>please notice that body of simple() method does not matter at all and using any method will cause the exception.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1583115177,"post_id":60480002,"comment_id":106995808,"body_markdown":"any error you are getting or its just you want to include ` steps for connecting and authenticating with my elastic cloud account`","body":"any error you are getting or its just you want to include ` steps for connecting and authenticating with my elastic cloud account`"},{"owner":{"account_id":5529128,"reputation":1401,"user_id":4389737,"display_name":"GNG"},"score":0,"creation_date":1583121548,"post_id":60480002,"comment_id":106996979,"body_markdown":"The latter. No error in the eclipse console. Running my code simply does not hit my elastic cloud account.so I need guidance with connecting and authenticating.","body":"The latter. No error in the eclipse console. Running my code simply does not hit my elastic cloud account.so I need guidance with connecting and authenticating."},{"owner":{"account_id":8581071,"reputation":129,"user_id":6428644,"accept_rate":50,"display_name":"INDRESH KHANDELWAL"},"score":0,"creation_date":1583140338,"post_id":60480002,"comment_id":107002446,"body_markdown":"What happens when you try to connect to your local elasticsearch instance ? Did connection went through then ?","body":"What happens when you try to connect to your local elasticsearch instance ? Did connection went through then ?"},{"owner":{"account_id":5529128,"reputation":1401,"user_id":4389737,"display_name":"GNG"},"score":0,"creation_date":1583150840,"post_id":60480002,"comment_id":107007560,"body_markdown":"I don’t even know where to find the code that sets up the connection. I imagine I need more than the port number. Do I need to add a header? Is there other setup code required? Where is this documentation? Ideally there is an example somewhere?","body":"I don’t even know where to find the code that sets up the connection. I imagine I need more than the port number. Do I need to add a header? Is there other setup code required? Where is this documentation? Ideally there is an example somewhere?"},{"owner":{"account_id":5529128,"reputation":1401,"user_id":4389737,"display_name":"GNG"},"score":0,"creation_date":1583168447,"post_id":60480002,"comment_id":107017014,"body_markdown":"Actually, there is an error... org.glassfish.jersey.server.internal.process.MappableException: java.net.ConnectException @OpsterElasticsearchNinja","body":"Actually, there is an error... org.glassfish.jersey.server.internal.process.MappableExcepti&zwnj;&#8203;on: java.net.ConnectException @OpsterElasticsearchNinja"},{"owner":{"account_id":5529128,"reputation":1401,"user_id":4389737,"display_name":"GNG"},"score":0,"creation_date":1583171424,"post_id":60480002,"comment_id":107018402,"body_markdown":"I updated the question with more details. Specifically, I included my Elastic Search endpoint URL in the client code. @OpsterElasticsearchNinja","body":"I updated the question with more details. Specifically, I included my Elastic Search endpoint URL in the client code. @OpsterElasticsearchNinja"}],"answers":[{"tags":[],"owner":{"account_id":5529128,"reputation":1401,"user_id":4389737,"display_name":"GNG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583178339,"creation_date":1583178339,"answer_id":60495608,"question_id":60480002,"body_markdown":"Found the answer here: [enter link description here][1]\r\n\r\nUpdated code that works:\r\n\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.elasticsearch.ElasticsearchException;\r\n    import org.elasticsearch.action.index.IndexRequest;\r\n    import org.elasticsearch.action.index.IndexResponse;\r\n    import org.elasticsearch.client.RequestOptions;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder;\r\n    import org.elasticsearch.client.RestHighLevelClient;\r\n    import org.elasticsearch.common.xcontent.XContentType;\r\n    import org.elasticsearch.rest.RestStatus;\r\n    \r\n    @Path(&quot;/elasticsearch&quot;)\r\n    public class ElasticSearchService {\r\n    \tprivate static final String ELASTIC_SEARCH_USER_NAME = &lt;my elastic search username&gt;;\r\n    \tprivate static final String ELASTIC_SEARCH_PASSWORD = &lt;my elastic search password&gt;;\r\n    \tprivate static final String ELASTIC_SEARCH_ENDPOINT_URL = &lt;my elastic search endpoint url&gt;\r\n    \tprivate static final Integer ELASTIC_SEARCH_PORT = 9243;\r\n    \r\n    \t@POST\r\n    \tpublic void createElasticIndex() throws IOException {\r\n    \r\n    \t\tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n    \t\tcredentialsProvider.setCredentials(AuthScope.ANY,\r\n    \t\t\t\tnew UsernamePasswordCredentials(ELASTIC_SEARCH_USER_NAME, ELASTIC_SEARCH_PASSWORD));\r\n    \r\n    \t\tRestClientBuilder builder = RestClient\r\n    \t\t\t\t.builder(new HttpHost(\r\n    \t\t\t\t\t\tELASTIC_SEARCH_ENDPOINT_URL,\r\n    \t\t\t\t\t\tELASTIC_SEARCH_PORT, &quot;https&quot;))\r\n    \t\t\t\t.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\tRestHighLevelClient client = new RestHighLevelClient(builder);\r\n    \r\n    \t\tIndexRequest request = new IndexRequest(\r\n    \t\t\t\t&quot;contacts&quot;,\r\n    \t\t\t\t&quot;doc&quot;,\r\n    \t\t\t\t&quot;1&quot;);\r\n    \t\tString jsonString = &quot;{&quot; +\r\n    \t\t\t\t&quot;\\&quot;user\\&quot;:\\&quot;frank\\&quot;,&quot; +\r\n    \t\t\t\t&quot;\\&quot;postDate\\&quot;:\\&quot;2020-03-02\\&quot;,&quot; +\r\n    \t\t\t\t&quot;\\&quot;message\\&quot;:\\&quot;created this document from Java\\&quot;&quot; +\r\n    \t\t\t\t&quot;}&quot;;\r\n    \t\trequest.source(jsonString, XContentType.JSON);\r\n    \r\n    \t\ttry {\r\n    \t\t\tIndexResponse response = client.index(request, RequestOptions.DEFAULT);\r\n    \t\t\tSystem.out.println(response);\r\n    \r\n    \t\t} catch (ElasticsearchException e) {\r\n    \t\t\tif (e.status() == RestStatus.CONFLICT) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tclient.close();\r\n    \t}\r\n    \r\n    }\r\nThis code creates an index called `contacts` and adds a document to that index.\r\n\r\n  [1]: https://stackoverflow.com/questions/48185570/add-authentication-in-elasticsearch-high-level-client-for-java\r\n","title":"How can I create an elastic search index with the JAVA high level REST client?","body":"<p>Found the answer here: <a href=\"https://stackoverflow.com/questions/48185570/add-authentication-in-elasticsearch-high-level-client-for-java\">enter link description here</a></p>\n\n<p>Updated code that works:</p>\n\n<pre><code>import java.io.IOException;\n\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\n\nimport org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.elasticsearch.ElasticsearchException;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.action.index.IndexResponse;\nimport org.elasticsearch.client.RequestOptions;\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestClientBuilder;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.common.xcontent.XContentType;\nimport org.elasticsearch.rest.RestStatus;\n\n@Path(\"/elasticsearch\")\npublic class ElasticSearchService {\n    private static final String ELASTIC_SEARCH_USER_NAME = &lt;my elastic search username&gt;;\n    private static final String ELASTIC_SEARCH_PASSWORD = &lt;my elastic search password&gt;;\n    private static final String ELASTIC_SEARCH_ENDPOINT_URL = &lt;my elastic search endpoint url&gt;\n    private static final Integer ELASTIC_SEARCH_PORT = 9243;\n\n    @POST\n    public void createElasticIndex() throws IOException {\n\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY,\n                new UsernamePasswordCredentials(ELASTIC_SEARCH_USER_NAME, ELASTIC_SEARCH_PASSWORD));\n\n        RestClientBuilder builder = RestClient\n                .builder(new HttpHost(\n                        ELASTIC_SEARCH_ENDPOINT_URL,\n                        ELASTIC_SEARCH_PORT, \"https\"))\n                .setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                });\n\n        RestHighLevelClient client = new RestHighLevelClient(builder);\n\n        IndexRequest request = new IndexRequest(\n                \"contacts\",\n                \"doc\",\n                \"1\");\n        String jsonString = \"{\" +\n                \"\\\"user\\\":\\\"frank\\\",\" +\n                \"\\\"postDate\\\":\\\"2020-03-02\\\",\" +\n                \"\\\"message\\\":\\\"created this document from Java\\\"\" +\n                \"}\";\n        request.source(jsonString, XContentType.JSON);\n\n        try {\n            IndexResponse response = client.index(request, RequestOptions.DEFAULT);\n            System.out.println(response);\n\n        } catch (ElasticsearchException e) {\n            if (e.status() == RestStatus.CONFLICT) {\n            }\n        }\n\n        client.close();\n    }\n\n}\n</code></pre>\n\n<p>This code creates an index called <code>contacts</code> and adds a document to that index.</p>\n"},{"tags":[],"owner":{"account_id":10633545,"reputation":1,"user_id":7830893,"display_name":"Bibhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587232206,"creation_date":1587232206,"answer_id":61293669,"question_id":60480002,"body_markdown":"You can use both synchronous and asynchronous API of elastic search to create index. But it depends on requirement. \r\n \r\nFind the below link of elastic search documentation which explain both synchronous and asynchronous API use.\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/java-rest-high-create-index.html\r\n\r\nSample code:-\r\nSynchronous API :-\r\n\r\n        CreateIndexRequest request = new CreateIndexRequest(&quot;twitter&quot;);\r\n        request.settings(Settings.builder() \r\n            .put(&quot;index.number_of_shards&quot;, 3)\r\n            .put(&quot;index.number_of_replicas&quot;, 2)\r\n        );\r\n    \r\n    CreateIndexResponse createIndexResponse = client.indices().create(request, RequestOptions.DEFAULT);\r\n\r\nAsynchronous API:-\r\n\r\n    client.indices().createAsync(request, RequestOptions.DEFAULT, listener);\r\n\r\nAsynchronous API adds advantages of thread and makes API to work better way. Concern in asynchronous API is to receive response. Below is the snippet how can you receive response.\r\n\r\n    PlainActionFuture&lt;CreateIndexResponse &gt; future = new PlainActionFuture&lt;&gt;();\r\n    client.indices().createAsync(request, RequestOptions.DEFAULT, future);\r\n    CreateIndexResponse response = future.actionGet(); \r\n\r\n   \r\n  \r\n\r\n    ","title":"How can I create an elastic search index with the JAVA high level REST client?","body":"<p>You can use both synchronous and asynchronous API of elastic search to create index. But it depends on requirement. </p>\n\n<p>Find the below link of elastic search documentation which explain both synchronous and asynchronous API use.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/java-rest-high-create-index.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/master/java-rest-high-create-index.html</a></p>\n\n<p>Sample code:-\nSynchronous API :-</p>\n\n<pre><code>    CreateIndexRequest request = new CreateIndexRequest(\"twitter\");\n    request.settings(Settings.builder() \n        .put(\"index.number_of_shards\", 3)\n        .put(\"index.number_of_replicas\", 2)\n    );\n\nCreateIndexResponse createIndexResponse = client.indices().create(request, RequestOptions.DEFAULT);\n</code></pre>\n\n<p>Asynchronous API:-</p>\n\n<pre><code>client.indices().createAsync(request, RequestOptions.DEFAULT, listener);\n</code></pre>\n\n<p>Asynchronous API adds advantages of thread and makes API to work better way. Concern in asynchronous API is to receive response. Below is the snippet how can you receive response.</p>\n\n<pre><code>PlainActionFuture&lt;CreateIndexResponse &gt; future = new PlainActionFuture&lt;&gt;();\nclient.indices().createAsync(request, RequestOptions.DEFAULT, future);\nCreateIndexResponse response = future.actionGet(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17012954,"reputation":201,"user_id":12307560,"display_name":"Bui Hai Duong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964654,"creation_date":1664964654,"answer_id":73958888,"question_id":60480002,"body_markdown":"If you know how to insert documents through API then this way will much more easy for you to do anything similar API (DELETE,POST,PUT...)\r\nFirst, you will need RestHighLevelClient and all you have to do\r\n\r\n    String index = &quot;/indexName/_doc&quot;;\r\n    Request request = new Request(&quot;POST&quot;, index);\r\n    request.setJsonEntity(\r\n          &quot;{ \\&quot;message\\&quot;: \\&quot; example add insert\\&quot; }&quot;\r\n    );\r\n    \r\n    client.getLowLevelClient().performRequest(request); \r\n\r\nThis will execute like how API does.","title":"How can I create an elastic search index with the JAVA high level REST client?","body":"<p>If you know how to insert documents through API then this way will much more easy for you to do anything similar API (DELETE,POST,PUT...)\nFirst, you will need RestHighLevelClient and all you have to do</p>\n<pre><code>String index = &quot;/indexName/_doc&quot;;\nRequest request = new Request(&quot;POST&quot;, index);\nrequest.setJsonEntity(\n      &quot;{ \\&quot;message\\&quot;: \\&quot; example add insert\\&quot; }&quot;\n);\n\nclient.getLowLevelClient().performRequest(request); \n</code></pre>\n<p>This will execute like how API does.</p>\n"}],"owner":{"account_id":5529128,"reputation":1401,"user_id":4389737,"display_name":"GNG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5887,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664964654,"creation_date":1583098513,"question_id":60480002,"body_markdown":"I was going through these docs to create an elastic search index from Elastic&#39;s high level JAVA REST client.  It seems to skip over steps for authenticating with my elastic cloud account.\r\nCan someone please point me toward the relevant documentation?\r\n\r\n\r\nI launched my elastic search instance and copied the endpoint URL into my client code.\r\n\r\nI initially had connection errors and now there are none. Only authentication errors. So, I&#39;m pretty sure I&#39;m connecting with the correct endpoint URL and need to authenticate somehow - perhaps with a header.\r\n\r\nNow, I am seeing this error: \r\n\r\n&gt; Elasticsearch exception [type=security_exception, reason=action\r\n&gt; [indices:data/write/index] requires authentication]\r\n\r\nI can view the endpoint of my Elastic Search deployment with no problems from Postman with this command: \r\nGET https://&lt;username&gt;:&lt;password&gt;@d9721&lt;hidden characters&gt;5aee2.us-east-1.aws.found.io:9243\r\n\r\nI can also create an index using this command from Postman...\r\nPUT https://elastic:4YQIMXfoSZ9mXPgY1fj7T5BU@d97218f74f6d48489b355dd7d665aee2.us-east-1.aws.found.io:9243/&lt;new index name&gt;. Yet, I cannot do the same from the Java code.\r\n\r\nHere is the state of my Java code. It is pretty much the code from these tutorial pages.\r\n\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-index.html\r\n\r\n    import java.io.IOException;\r\n    \r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.elasticsearch.action.index.IndexRequest;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestHighLevelClient;\r\n    import org.elasticsearch.common.xcontent.XContentType;\r\n    \r\n    @Path(&quot;/elasticsearch&quot;)\r\n    public class ElasticSearchService {\r\n    \r\n    \t@POST\r\n    \tpublic void createElasticIndex() throws IOException {\r\n    \t\tRestHighLevelClient client = new RestHighLevelClient(\r\n    \t\t\t\tRestClient.builder(\r\n\t\t\t\t\t\tnew HttpHost(&quot;d9&lt;deleted a bunch of characters for privacy&gt;7d665aee2.us-east-1.aws.found.io&quot;, 9243, &quot;https&quot;)));\r\n\r\n    \r\n    \t\tIndexRequest request = new IndexRequest(\r\n    \t\t\t\t&quot;posts&quot;,\r\n    \t\t\t\t&quot;doc&quot;,\r\n    \t\t\t\t&quot;1&quot;);\r\n    \t\tString jsonString = &quot;{&quot; +\r\n    \t\t\t\t&quot;\\&quot;user\\&quot;:\\&quot;kimchy\\&quot;,&quot; +\r\n    \t\t\t\t&quot;\\&quot;postDate\\&quot;:\\&quot;2013-01-30\\&quot;,&quot; +\r\n    \t\t\t\t&quot;\\&quot;message\\&quot;:\\&quot;trying out Elasticsearch\\&quot;&quot; +\r\n    \t\t\t\t&quot;}&quot;;\r\n    \t\trequest.source(jsonString, XContentType.JSON);\r\n    \r\n    \t\tclient.close();\r\n    \t}    \r\n    }\r\n\r\nI have also tried updating the URL address with our username and password as suggested by this post: https://stackoverflow.com/questions/44570228/elasticsearch-authentication-error-with-elasticcloud\r\n\r\nEssentially, I updated my URL like this...\r\n\r\n\t\t\tRestClient.builder(\r\n\t\t\t\t\tnew HttpHost(\r\n\t\t\t\t\t\t\t&quot;&lt;my user name&gt;:&lt;my password&gt;@d97218&lt;hidden characters&gt;d665aee2.us-east-1.aws.found.io&quot;,\r\n\t\t\t\t\t\t\t9243, &quot;https&quot;)));\r\n\r\nThis did not work for me. I am guessing this person wasn&#39;t using the new Elastic \r\nHigh Level REST client.\r\nI received this error: \r\n\r\n&gt; org.glassfish.jersey.server.internal.process.MappableException:\r\n&gt; java.io.IOException: &lt;my username&gt;:&lt;my password&gt;@d972&lt;hidden\r\n&gt; characters&gt;65aee2.us-east-1.aws.found.io: invalid IPv6 address\r\n\r\n","title":"How can I create an elastic search index with the JAVA high level REST client?","body":"<p>I was going through these docs to create an elastic search index from Elastic's high level JAVA REST client.  It seems to skip over steps for authenticating with my elastic cloud account.\nCan someone please point me toward the relevant documentation?</p>\n\n<p>I launched my elastic search instance and copied the endpoint URL into my client code.</p>\n\n<p>I initially had connection errors and now there are none. Only authentication errors. So, I'm pretty sure I'm connecting with the correct endpoint URL and need to authenticate somehow - perhaps with a header.</p>\n\n<p>Now, I am seeing this error: </p>\n\n<blockquote>\n  <p>Elasticsearch exception [type=security_exception, reason=action\n  [indices:data/write/index] requires authentication]</p>\n</blockquote>\n\n<p>I can view the endpoint of my Elastic Search deployment with no problems from Postman with this command: \nGET https://:@d97215aee2.us-east-1.aws.found.io:9243</p>\n\n<p>I can also create an index using this command from Postman...\nPUT <a href=\"https://elastic:4YQIMXfoSZ9mXPgY1fj7T5BU@d97218f74f6d48489b355dd7d665aee2.us-east-1.aws.found.io:9243/\" rel=\"nofollow noreferrer\">https://elastic:4YQIMXfoSZ9mXPgY1fj7T5BU@d97218f74f6d48489b355dd7d665aee2.us-east-1.aws.found.io:9243/</a>. Yet, I cannot do the same from the Java code.</p>\n\n<p>Here is the state of my Java code. It is pretty much the code from these tutorial pages.</p>\n\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html</a></p>\n\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-index.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.4/java-rest-high-document-index.html</a></p>\n\n<pre><code>import java.io.IOException;\n\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\n\nimport org.apache.http.HttpHost;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.common.xcontent.XContentType;\n\n@Path(\"/elasticsearch\")\npublic class ElasticSearchService {\n\n    @POST\n    public void createElasticIndex() throws IOException {\n        RestHighLevelClient client = new RestHighLevelClient(\n                RestClient.builder(\n                    new HttpHost(\"d9&lt;deleted a bunch of characters for privacy&gt;7d665aee2.us-east-1.aws.found.io\", 9243, \"https\")));\n\n\n        IndexRequest request = new IndexRequest(\n                \"posts\",\n                \"doc\",\n                \"1\");\n        String jsonString = \"{\" +\n                \"\\\"user\\\":\\\"kimchy\\\",\" +\n                \"\\\"postDate\\\":\\\"2013-01-30\\\",\" +\n                \"\\\"message\\\":\\\"trying out Elasticsearch\\\"\" +\n                \"}\";\n        request.source(jsonString, XContentType.JSON);\n\n        client.close();\n    }    \n}\n</code></pre>\n\n<p>I have also tried updating the URL address with our username and password as suggested by this post: <a href=\"https://stackoverflow.com/questions/44570228/elasticsearch-authentication-error-with-elasticcloud\">ElasticSearch authentication error with ElasticCloud?</a></p>\n\n<p>Essentially, I updated my URL like this...</p>\n\n<pre><code>        RestClient.builder(\n                new HttpHost(\n                        \"&lt;my user name&gt;:&lt;my password&gt;@d97218&lt;hidden characters&gt;d665aee2.us-east-1.aws.found.io\",\n                        9243, \"https\")));\n</code></pre>\n\n<p>This did not work for me. I am guessing this person wasn't using the new Elastic \nHigh Level REST client.\nI received this error: </p>\n\n<blockquote>\n  <p>org.glassfish.jersey.server.internal.process.MappableException:\n  java.io.IOException: :@d97265aee2.us-east-1.aws.found.io: invalid IPv6 address</p>\n</blockquote>\n"},{"tags":["java","performance","math","max","min"],"comments":[{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":2,"creation_date":1396230452,"post_id":22752198,"comment_id":34681878,"body_markdown":"I get essentially identical code and timings---admittedly on an older JVM and hardware.  Post a complete, self-contained benchmark and as many details as you can about your environment if you want folks to look at it.  Also, learn to use `-XX:+PrintAssembly`.  It will save your ass when you get confused by things like this.","body":"I get essentially identical code and timings---admittedly on an older JVM and hardware.  Post a complete, self-contained benchmark and as many details as you can about your environment if you want folks to look at it.  Also, learn to use <code>-XX:+PrintAssembly</code>.  It will save your ass when you get confused by things like this."},{"owner":{"account_id":4252924,"reputation":553,"user_id":3479386,"accept_rate":100,"display_name":"TheStack"},"score":0,"creation_date":1396233786,"post_id":22752198,"comment_id":34682679,"body_markdown":"All right I&#39;ll post a self contained test, I don&#39;t have a +PrintAssembly enabled JVM though.","body":"All right I&#39;ll post a self contained test, I don&#39;t have a +PrintAssembly enabled JVM though."},{"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"score":3,"creation_date":1396234115,"post_id":22752198,"comment_id":34682763,"body_markdown":"Is that `Benchmark` from `Caliper` (https://code.google.com/p/caliper/)? If not, read this: https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks","body":"Is that <code>Benchmark</code> from <code>Caliper</code> (<a href=\"https://code.google.com/p/caliper/\" rel=\"nofollow noreferrer\">code.google.com/p/caliper</a>)? If not, read this: <a href=\"https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow noreferrer\">code.google.com/p/caliper/wiki/JavaMicrobenchmarks</a>"},{"owner":{"account_id":4252924,"reputation":553,"user_id":3479386,"accept_rate":100,"display_name":"TheStack"},"score":0,"creation_date":1396235241,"post_id":22752198,"comment_id":34683034,"body_markdown":"Posted self contained benchmark.It isn&#39;t Caliper&#39;s Benchmark. I know it isn&#39;t a representative case of real world usage (I certainly won&#39;t be calling max on 2 million integers any time soon). I&#39;m just asking why the difference is so big (2x difference is quite important, and it scales if you use bigger array sizes). Its a pretty apples-to-apples comparison here, and the results are pretty much the same run after run.","body":"Posted self contained benchmark.It isn&#39;t Caliper&#39;s Benchmark. I know it isn&#39;t a representative case of real world usage (I certainly won&#39;t be calling max on 2 million integers any time soon). I&#39;m just asking why the difference is so big (2x difference is quite important, and it scales if you use bigger array sizes). Its a pretty apples-to-apples comparison here, and the results are pretty much the same run after run."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":2,"creation_date":1396235743,"post_id":22752198,"comment_id":34683138,"body_markdown":"Please post the code you&#39;re running.  `final double end = (System.nanoTime() - start;` won&#39;t compile, so this isn&#39;t what you ran.","body":"Please post the code you&#39;re running.  <code>final double end = (System.nanoTime() - start;</code> won&#39;t compile, so this isn&#39;t what you ran."},{"owner":{"account_id":4252924,"reputation":553,"user_id":3479386,"accept_rate":100,"display_name":"TheStack"},"score":0,"creation_date":1396236033,"post_id":22752198,"comment_id":34683213,"body_markdown":"added the parenthesis and changed &quot;AltMath&quot; to &quot;OpsMath&quot; if it makes such a difference :/ OpsMath is the real name of my math class.","body":"added the parenthesis and changed &quot;AltMath&quot; to &quot;OpsMath&quot; if it makes such a difference :/ OpsMath is the real name of my math class."},{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":0,"creation_date":1396237609,"post_id":22752198,"comment_id":34683556,"body_markdown":"Yeah, this benchmark isn&#39;t measuring what you want it to measure.  I&#39;m about to add an answer regardless that picks apart the effects I see (factor two difference in the opposite direction).  You should read about the things that go wrong when you try to benchmark Java code without knowing what you&#39;re doing; among other things, it&#39;s not clear to me that you&#39;re timing fully-optimised code rather than interpreted or OSR code.","body":"Yeah, this benchmark isn&#39;t measuring what you want it to measure.  I&#39;m about to add an answer regardless that picks apart the effects I see (factor two difference in the opposite direction).  You should read about the things that go wrong when you try to benchmark Java code without knowing what you&#39;re doing; among other things, it&#39;s not clear to me that you&#39;re timing fully-optimised code rather than interpreted or OSR code."},{"owner":{"account_id":4252924,"reputation":553,"user_id":3479386,"accept_rate":100,"display_name":"TheStack"},"score":0,"creation_date":1396238292,"post_id":22752198,"comment_id":34683707,"body_markdown":"afaik the compiling threshold is 1 thousand invocations. whatever Math.max optimization HotSpot has under its belt, it should kick in here pretty fast since it doing a couple million calls to it.","body":"afaik the compiling threshold is 1 thousand invocations. whatever Math.max optimization HotSpot has under its belt, it should kick in here pretty fast since it doing a couple million calls to it."},{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":0,"creation_date":1396238499,"post_id":22752198,"comment_id":34683748,"body_markdown":"`Math.max` is far from the only thing that needs to be inlined and compiled properly.","body":"<code>Math.max</code> is far from the only thing that needs to be inlined and compiled properly."},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":1,"creation_date":1396247277,"post_id":22752198,"comment_id":34686266,"body_markdown":"Out of sheer interest created a JMH-based benchmark - the same timings for Math.max and custom if-based and conditional-based implementations. As expected.","body":"Out of sheer interest created a JMH-based benchmark - the same timings for Math.max and custom if-based and conditional-based implementations. As expected."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1396355116,"post_id":22752198,"comment_id":34741711,"body_markdown":"@OlegEstekhin: Would you mind sharing it? I&#39;ve just [proposed to kick out the intrinsics](http://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2014-April/013885.html).","body":"@OlegEstekhin: Would you mind sharing it? I&#39;ve just <a href=\"http://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2014-April/013885.html\" rel=\"nofollow noreferrer\">proposed to kick out the intrinsics</a>."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1397578483,"post_id":22752198,"comment_id":35289693,"body_markdown":"By the way, none of those `final`s has any performance impact","body":"By the way, none of those <code>final</code>s has any performance impact"},{"owner":{"account_id":4252924,"reputation":553,"user_id":3479386,"accept_rate":100,"display_name":"TheStack"},"score":0,"creation_date":1397599293,"post_id":22752198,"comment_id":35301607,"body_markdown":"yep I know, it&#39;s just an habit. specially on method parameters.","body":"yep I know, it&#39;s just an habit. specially on method parameters."}],"answers":[{"tags":[],"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396276363,"creation_date":1396240250,"answer_id":22753678,"question_id":22752198,"body_markdown":"When I run your (suitably-modified) code using `Math.max` on an old (1.6.0_27) JVM, the hot loop looks like this:\r\n\r\n    0x00007f4b65425c50: mov    %r11d,%edi         ;*getstatic array\r\n                                                  ; - foo146::bench@81 (line 40)\r\n    0x00007f4b65425c53: mov    0x10(%rax,%rdx,4),%r8d\r\n    0x00007f4b65425c58: mov    0x14(%rax,%rdx,4),%r10d\r\n    0x00007f4b65425c5d: mov    0x18(%rax,%rdx,4),%ecx\r\n    0x00007f4b65425c61: mov    0x2c(%rax,%rdx,4),%r11d\r\n    0x00007f4b65425c66: mov    0x28(%rax,%rdx,4),%r9d\r\n    0x00007f4b65425c6b: mov    0x24(%rax,%rdx,4),%ebx\r\n    0x00007f4b65425c6f: rex mov    0x20(%rax,%rdx,4),%esi\r\n    0x00007f4b65425c74: mov    0x1c(%rax,%rdx,4),%r14d  ;*iaload\r\n                                                  ; - foo146::bench@86 (line 40)\r\n    0x00007f4b65425c79: cmp    %edi,%r8d\r\n    0x00007f4b65425c7c: cmovl  %edi,%r8d\r\n    0x00007f4b65425c80: cmp    %r8d,%r10d\r\n    0x00007f4b65425c83: cmovl  %r8d,%r10d\r\n    0x00007f4b65425c87: cmp    %r10d,%ecx\r\n    0x00007f4b65425c8a: cmovl  %r10d,%ecx\r\n    0x00007f4b65425c8e: cmp    %ecx,%r14d\r\n    0x00007f4b65425c91: cmovl  %ecx,%r14d\r\n    0x00007f4b65425c95: cmp    %r14d,%esi\r\n    0x00007f4b65425c98: cmovl  %r14d,%esi\r\n    0x00007f4b65425c9c: cmp    %esi,%ebx\r\n    0x00007f4b65425c9e: cmovl  %esi,%ebx\r\n    0x00007f4b65425ca1: cmp    %ebx,%r9d\r\n    0x00007f4b65425ca4: cmovl  %ebx,%r9d\r\n    0x00007f4b65425ca8: cmp    %r9d,%r11d\r\n    0x00007f4b65425cab: cmovl  %r9d,%r11d         ;*invokestatic max\r\n                                                  ; - foo146::bench@88 (line 40)\r\n    0x00007f4b65425caf: add    $0x8,%edx          ;*iinc\r\n                                                  ; - foo146::bench@92 (line 39)\r\n    0x00007f4b65425cb2: cmp    $0x1ffff9,%edx\r\n    0x00007f4b65425cb8: jl     0x00007f4b65425c50\r\n\r\nApart from the weirdly-placed REX prefix (not sure what that&#39;s about), here you have a loop that&#39;s been unrolled 8 times that does mostly what you&#39;d expect---loads, comparisons, and conditional moves.  Interestingly, if you swap the order of the arguments to `max`, here it outputs the other kind of 8-deep `cmovl` chain.  I guess it doesn&#39;t know how to generate a 3-deep tree of `cmovl`s or 8 separate `cmovl` chains to be merged after the loop is done.\r\n\r\nWith the explicit `OpsMath.max`, it turns into a ratsnest of conditional and unconditional branches that&#39;s unrolled 8 times.  I&#39;m not going to post the loop; it&#39;s not pretty.  Basically each `mov/cmp/cmovl` above gets broken into a load, a compare and a conditional jump to where a `mov` and a `jmp` happen.  Interestingly, if you swap the order of the arguments to `max`, here it outputs an 8-deep `cmovle` chain instead.  ***EDIT***: As @maaartinus points out, said ratsnest of branches is actually faster on some machines because the branch predictor works its magic on them and these are well-predicted branches.\r\n\r\nI would hesitate to draw conclusions from this benchmark.  You have benchmark construction issues; you have to run it a *lot* more times than you are and you have to factor your code differently if you want to time Hotspot&#39;s fastest code.  Beyond the wrapper code, you aren&#39;t measuring how fast your `max` is, or how well Hotspot understands what you&#39;re trying to do, or anything else of value here.   Both implementations of `max` will result in code that&#39;s entirely too fast for any sort of direct measurement to be meaningful within the context of a larger program.","title":"Java Math.min/max performance","body":"<p>When I run your (suitably-modified) code using <code>Math.max</code> on an old (1.6.0_27) JVM, the hot loop looks like this:</p>\n\n<pre><code>0x00007f4b65425c50: mov    %r11d,%edi         ;*getstatic array\n                                              ; - foo146::bench@81 (line 40)\n0x00007f4b65425c53: mov    0x10(%rax,%rdx,4),%r8d\n0x00007f4b65425c58: mov    0x14(%rax,%rdx,4),%r10d\n0x00007f4b65425c5d: mov    0x18(%rax,%rdx,4),%ecx\n0x00007f4b65425c61: mov    0x2c(%rax,%rdx,4),%r11d\n0x00007f4b65425c66: mov    0x28(%rax,%rdx,4),%r9d\n0x00007f4b65425c6b: mov    0x24(%rax,%rdx,4),%ebx\n0x00007f4b65425c6f: rex mov    0x20(%rax,%rdx,4),%esi\n0x00007f4b65425c74: mov    0x1c(%rax,%rdx,4),%r14d  ;*iaload\n                                              ; - foo146::bench@86 (line 40)\n0x00007f4b65425c79: cmp    %edi,%r8d\n0x00007f4b65425c7c: cmovl  %edi,%r8d\n0x00007f4b65425c80: cmp    %r8d,%r10d\n0x00007f4b65425c83: cmovl  %r8d,%r10d\n0x00007f4b65425c87: cmp    %r10d,%ecx\n0x00007f4b65425c8a: cmovl  %r10d,%ecx\n0x00007f4b65425c8e: cmp    %ecx,%r14d\n0x00007f4b65425c91: cmovl  %ecx,%r14d\n0x00007f4b65425c95: cmp    %r14d,%esi\n0x00007f4b65425c98: cmovl  %r14d,%esi\n0x00007f4b65425c9c: cmp    %esi,%ebx\n0x00007f4b65425c9e: cmovl  %esi,%ebx\n0x00007f4b65425ca1: cmp    %ebx,%r9d\n0x00007f4b65425ca4: cmovl  %ebx,%r9d\n0x00007f4b65425ca8: cmp    %r9d,%r11d\n0x00007f4b65425cab: cmovl  %r9d,%r11d         ;*invokestatic max\n                                              ; - foo146::bench@88 (line 40)\n0x00007f4b65425caf: add    $0x8,%edx          ;*iinc\n                                              ; - foo146::bench@92 (line 39)\n0x00007f4b65425cb2: cmp    $0x1ffff9,%edx\n0x00007f4b65425cb8: jl     0x00007f4b65425c50\n</code></pre>\n\n<p>Apart from the weirdly-placed REX prefix (not sure what that's about), here you have a loop that's been unrolled 8 times that does mostly what you'd expect---loads, comparisons, and conditional moves.  Interestingly, if you swap the order of the arguments to <code>max</code>, here it outputs the other kind of 8-deep <code>cmovl</code> chain.  I guess it doesn't know how to generate a 3-deep tree of <code>cmovl</code>s or 8 separate <code>cmovl</code> chains to be merged after the loop is done.</p>\n\n<p>With the explicit <code>OpsMath.max</code>, it turns into a ratsnest of conditional and unconditional branches that's unrolled 8 times.  I'm not going to post the loop; it's not pretty.  Basically each <code>mov/cmp/cmovl</code> above gets broken into a load, a compare and a conditional jump to where a <code>mov</code> and a <code>jmp</code> happen.  Interestingly, if you swap the order of the arguments to <code>max</code>, here it outputs an 8-deep <code>cmovle</code> chain instead.  <strong><em>EDIT</em></strong>: As @maaartinus points out, said ratsnest of branches is actually faster on some machines because the branch predictor works its magic on them and these are well-predicted branches.</p>\n\n<p>I would hesitate to draw conclusions from this benchmark.  You have benchmark construction issues; you have to run it a <em>lot</em> more times than you are and you have to factor your code differently if you want to time Hotspot's fastest code.  Beyond the wrapper code, you aren't measuring how fast your <code>max</code> is, or how well Hotspot understands what you're trying to do, or anything else of value here.   Both implementations of <code>max</code> will result in code that's entirely too fast for any sort of direct measurement to be meaningful within the context of a larger program.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1396369488,"creation_date":1396248124,"answer_id":22755044,"question_id":22752198,"body_markdown":"It&#39;s hard to tell why `Math.max` is slower than a `Ops.max`, but it&#39;s easy to tell why this benchmark strongly favors branching to conditional moves: On the `n`-th iteration, the probability of\r\n\r\n    Math.max( array[i], max );\r\n\r\nbeing not equal to `max` is the probability that `array[n-1]` is bigger than all previous elements. Obviously, this probability gets lower and lower with growing `n` and given\r\n\r\n    final int[] array = new int[(8*1024*1024)/4];\r\n\r\nit&#39;s rather negligible most of the time. The conditional move instruction is insensitive to the branching probability, it always take the same amount of time to execute. The  conditional move instruction is faster than branch prediction *if* the branch is very hard to predict. On the other hand, branch prediction is faster if the branch can be predicted well with high probability. Currently, I&#39;m unsure about the speed of conditional move compared to best and worst case of branching.&lt;sup&gt;1&lt;/sup&gt;\r\n\r\nIn your case all but first few branches are fairly predictable. From about `n == 10` onward, there&#39;s no point in using conditional moves as the branch is rather guaranteed to be predicted correctly and can execute in parallel with other instructions (I guess you need exactly one cycle per iteration).\r\n\r\nThis seems to happen for algorithms computing minimum/maximum or doing some inefficient sorting (good branch predictability means low entropy per step).\r\n\r\n___\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Both conditional move and predicted branch take one cycle. The problem with the former is that it needs its two operands and this takes additional instruction. In the end the critical path may get longer and/or the ALUs saturated while the branching unit is idle. Often, but not always, branches can be predicted well in practical applications; that&#39;s why branch prediction was invented in the first place.\r\n\r\nAs for the gory details of timing conditional move vs. branch prediction best and worst case, see the discussion below in comments. My [my own benchmark][my] shows that conditional move is significantly faster than branch prediction when branch prediction encounters its worst case, but I can&#39;t ignore [contradictory results][q]. We need some explanation for what exactly makes the difference. Some more benchmarks and/or analysis could help.\r\n\r\n[q]: https://stackoverflow.com/questions/21055946/why-does-tree-vectorization-make-this-sorting-algorithm-2x-slower\r\n[my]: https://stackoverflow.com/questions/19689214/strange-branching-performance","title":"Java Math.min/max performance","body":"<p>It's hard to tell why <code>Math.max</code> is slower than a <code>Ops.max</code>, but it's easy to tell why this benchmark strongly favors branching to conditional moves: On the <code>n</code>-th iteration, the probability of</p>\n\n<pre><code>Math.max( array[i], max );\n</code></pre>\n\n<p>being not equal to <code>max</code> is the probability that <code>array[n-1]</code> is bigger than all previous elements. Obviously, this probability gets lower and lower with growing <code>n</code> and given</p>\n\n<pre><code>final int[] array = new int[(8*1024*1024)/4];\n</code></pre>\n\n<p>it's rather negligible most of the time. The conditional move instruction is insensitive to the branching probability, it always take the same amount of time to execute. The  conditional move instruction is faster than branch prediction <em>if</em> the branch is very hard to predict. On the other hand, branch prediction is faster if the branch can be predicted well with high probability. Currently, I'm unsure about the speed of conditional move compared to best and worst case of branching.<sup>1</sup></p>\n\n<p>In your case all but first few branches are fairly predictable. From about <code>n == 10</code> onward, there's no point in using conditional moves as the branch is rather guaranteed to be predicted correctly and can execute in parallel with other instructions (I guess you need exactly one cycle per iteration).</p>\n\n<p>This seems to happen for algorithms computing minimum/maximum or doing some inefficient sorting (good branch predictability means low entropy per step).</p>\n\n<hr>\n\n<p><sup>1</sup> Both conditional move and predicted branch take one cycle. The problem with the former is that it needs its two operands and this takes additional instruction. In the end the critical path may get longer and/or the ALUs saturated while the branching unit is idle. Often, but not always, branches can be predicted well in practical applications; that's why branch prediction was invented in the first place.</p>\n\n<p>As for the gory details of timing conditional move vs. branch prediction best and worst case, see the discussion below in comments. My <a href=\"https://stackoverflow.com/questions/19689214/strange-branching-performance\">my own benchmark</a> shows that conditional move is significantly faster than branch prediction when branch prediction encounters its worst case, but I can't ignore <a href=\"https://stackoverflow.com/questions/21055946/why-does-tree-vectorization-make-this-sorting-algorithm-2x-slower\">contradictory results</a>. We need some explanation for what exactly makes the difference. Some more benchmarks and/or analysis could help.</p>\n"},{"tags":[],"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396277114,"creation_date":1396275553,"answer_id":22764058,"question_id":22752198,"body_markdown":"Using JDK 8:\r\n\r\n    java version &quot;1.8.0&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0-b132)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)\r\n\r\nOn Ubuntu 13.10\r\n\r\nI ran the following:\r\n\r\n    import java.util.Random;\r\n    import java.util.function.BiFunction;\r\n\r\n    public class MaxPerformance {\r\n      private final BiFunction&lt;Integer, Integer, Integer&gt; max;\r\n      private final int[] array;\r\n\r\n      public MaxPerformance(BiFunction&lt;Integer, Integer, Integer&gt; max, int[] array) {\r\n        this.max = max;\r\n        this.array = array;\r\n      }\r\n\r\n      public double time() {\r\n        long start = System.nanoTime();\r\n\r\n        int m = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; array.length; ++i) m = max.apply(m, array[i]);\r\n\r\n        m = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; array.length; ++i) m = max.apply(array[i], m);\r\n\r\n        // total time over number of calls to max\r\n        return ((double) (System.nanoTime() - start)) / (double) array.length / 2.0;\r\n      }\r\n\r\n      public double averageTime(int repeats) {\r\n        double cumulativeTime = 0;\r\n        for (int i = 0; i &lt; repeats; i++)\r\n          cumulativeTime += time();\r\n        return (double) cumulativeTime / (double) repeats;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        int size = 1000000;\r\n        Random random = new Random(123123123L);\r\n        int[] array = new int[size];\r\n        for (int i = 0; i &lt; size; i++) array[i] = random.nextInt();\r\n\r\n        double tMath = new MaxPerformance(Math::max, array).averageTime(100);\r\n        double tAlt1 = new MaxPerformance(MaxPerformance::max1, array).averageTime(100);\r\n        double tAlt2 = new MaxPerformance(MaxPerformance::max2, array).averageTime(100);\r\n\r\n        System.out.println(&quot;Java Math: &quot; + tMath);\r\n        System.out.println(&quot;Alt 1:     &quot; + tAlt1);\r\n        System.out.println(&quot;Alt 2:     &quot; + tAlt2);\r\n      }\r\n\r\n      public static int max1(final int a, final int b) {\r\n        if (a &gt;= b) return a;\r\n        return b;\r\n      }\r\n\r\n      public static int max2(final int a, final int b) {\r\n        return (a &gt;= b) ? a : b; // same as JDK implementation\r\n      }\r\n    }\r\n\r\nAnd I got the following results (average nanoseconds taken for each call to max):\r\n\r\n    Java Math: 15.443555810000003\r\n    Alt 1:     14.968298919999997\r\n    Alt 2:     16.442204045\r\n\r\nSo on a long run it looks like the second implementation is the fastest, although by a relatively small margin.\r\n\r\nIn order to have a slightly more scientific test, it makes sense to compute the max of pairs of elements where each call is independent from the previous one. This can be done by using two randomized arrays instead of one as in this benchmark:\r\n\r\n    import java.util.Random;\r\n    import java.util.function.BiFunction;\r\n    public class MaxPerformance2 {\r\n      private final BiFunction&lt;Integer, Integer, Integer&gt; max;\r\n      private final int[] array1, array2;\r\n\r\n      public MaxPerformance2(BiFunction&lt;Integer, Integer, Integer&gt; max, int[] array1, int[] array2) {\r\n        this.max = max;\r\n        this.array1 = array1;\r\n        this.array2 = array2;\r\n        if (array1.length != array2.length) throw new IllegalArgumentException();\r\n      }\r\n\r\n      public double time() {\r\n        long start = System.nanoTime();\r\n\r\n        int m = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; array1.length; ++i) m = max.apply(array1[i], array2[i]);\r\n        m += m; // to avoid optimizations!\r\n\r\n        return ((double) (System.nanoTime() - start)) / (double) array1.length;\r\n      }\r\n\r\n      public double averageTime(int repeats) {\r\n        // warm up rounds:\r\n        double tmp = 0;\r\n        for (int i = 0; i &lt; 10; i++) tmp += time();\r\n        tmp *= 2.0;\r\n\r\n        double cumulativeTime = 0;\r\n        for (int i = 0; i &lt; repeats; i++)\r\n            cumulativeTime += time();\r\n        return cumulativeTime / (double) repeats;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        int size = 1000000;\r\n        Random random = new Random(123123123L);\r\n        int[] array1 = new int[size];\r\n        int[] array2 = new int[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            array1[i] = random.nextInt();\r\n            array2[i] = random.nextInt();\r\n        }\r\n\r\n        double tMath = new MaxPerformance2(Math::max, array1, array2).averageTime(100);\r\n        double tAlt1 = new MaxPerformance2(MaxPerformance2::max1, array1, array2).averageTime(100);\r\n        double tAlt2 = new MaxPerformance2(MaxPerformance2::max2, array1, array2).averageTime(100);\r\n\r\n        System.out.println(&quot;Java Math: &quot; + tMath);\r\n        System.out.println(&quot;Alt 1:     &quot; + tAlt1);\r\n        System.out.println(&quot;Alt 2:     &quot; + tAlt2);\r\n      }\r\n\r\n      public static int max1(final int a, final int b) {\r\n        if (a &gt;= b) return a;\r\n        return b;\r\n      }\r\n\r\n      public static int max2(final int a, final int b) {\r\n        return (a &gt;= b) ? a : b; // same as JDK implementation\r\n      }\r\n    }\r\n\r\nWhich gave me:\r\n\r\n    Java Math: 15.346468170000005\r\n    Alt 1:     16.378737519999998\r\n    Alt 2:     20.506475350000006\r\n\r\nThe way your test is set up makes a huge difference on the results. The JDK version seems to be the fastest in this scenario. This time by a relatively large margin compared to the previous case.\r\n\r\nSomebody mentioned Caliper. Well if you read [the wiki](https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks), one the first things they say about micro-benchmarking is __not__ to do it: this is because it&#39;s hard to get accurate results in general. I think this is a clear example of that.","title":"Java Math.min/max performance","body":"<p>Using JDK 8:</p>\n\n<pre><code>java version \"1.8.0\"\nJava(TM) SE Runtime Environment (build 1.8.0-b132)\nJava HotSpot(TM) 64-Bit Server VM (build 25.0-b70, mixed mode)\n</code></pre>\n\n<p>On Ubuntu 13.10</p>\n\n<p>I ran the following:</p>\n\n<pre><code>import java.util.Random;\nimport java.util.function.BiFunction;\n\npublic class MaxPerformance {\n  private final BiFunction&lt;Integer, Integer, Integer&gt; max;\n  private final int[] array;\n\n  public MaxPerformance(BiFunction&lt;Integer, Integer, Integer&gt; max, int[] array) {\n    this.max = max;\n    this.array = array;\n  }\n\n  public double time() {\n    long start = System.nanoTime();\n\n    int m = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; array.length; ++i) m = max.apply(m, array[i]);\n\n    m = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; array.length; ++i) m = max.apply(array[i], m);\n\n    // total time over number of calls to max\n    return ((double) (System.nanoTime() - start)) / (double) array.length / 2.0;\n  }\n\n  public double averageTime(int repeats) {\n    double cumulativeTime = 0;\n    for (int i = 0; i &lt; repeats; i++)\n      cumulativeTime += time();\n    return (double) cumulativeTime / (double) repeats;\n  }\n\n  public static void main(String[] args) {\n    int size = 1000000;\n    Random random = new Random(123123123L);\n    int[] array = new int[size];\n    for (int i = 0; i &lt; size; i++) array[i] = random.nextInt();\n\n    double tMath = new MaxPerformance(Math::max, array).averageTime(100);\n    double tAlt1 = new MaxPerformance(MaxPerformance::max1, array).averageTime(100);\n    double tAlt2 = new MaxPerformance(MaxPerformance::max2, array).averageTime(100);\n\n    System.out.println(\"Java Math: \" + tMath);\n    System.out.println(\"Alt 1:     \" + tAlt1);\n    System.out.println(\"Alt 2:     \" + tAlt2);\n  }\n\n  public static int max1(final int a, final int b) {\n    if (a &gt;= b) return a;\n    return b;\n  }\n\n  public static int max2(final int a, final int b) {\n    return (a &gt;= b) ? a : b; // same as JDK implementation\n  }\n}\n</code></pre>\n\n<p>And I got the following results (average nanoseconds taken for each call to max):</p>\n\n<pre><code>Java Math: 15.443555810000003\nAlt 1:     14.968298919999997\nAlt 2:     16.442204045\n</code></pre>\n\n<p>So on a long run it looks like the second implementation is the fastest, although by a relatively small margin.</p>\n\n<p>In order to have a slightly more scientific test, it makes sense to compute the max of pairs of elements where each call is independent from the previous one. This can be done by using two randomized arrays instead of one as in this benchmark:</p>\n\n<pre><code>import java.util.Random;\nimport java.util.function.BiFunction;\npublic class MaxPerformance2 {\n  private final BiFunction&lt;Integer, Integer, Integer&gt; max;\n  private final int[] array1, array2;\n\n  public MaxPerformance2(BiFunction&lt;Integer, Integer, Integer&gt; max, int[] array1, int[] array2) {\n    this.max = max;\n    this.array1 = array1;\n    this.array2 = array2;\n    if (array1.length != array2.length) throw new IllegalArgumentException();\n  }\n\n  public double time() {\n    long start = System.nanoTime();\n\n    int m = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; array1.length; ++i) m = max.apply(array1[i], array2[i]);\n    m += m; // to avoid optimizations!\n\n    return ((double) (System.nanoTime() - start)) / (double) array1.length;\n  }\n\n  public double averageTime(int repeats) {\n    // warm up rounds:\n    double tmp = 0;\n    for (int i = 0; i &lt; 10; i++) tmp += time();\n    tmp *= 2.0;\n\n    double cumulativeTime = 0;\n    for (int i = 0; i &lt; repeats; i++)\n        cumulativeTime += time();\n    return cumulativeTime / (double) repeats;\n  }\n\n  public static void main(String[] args) {\n    int size = 1000000;\n    Random random = new Random(123123123L);\n    int[] array1 = new int[size];\n    int[] array2 = new int[size];\n    for (int i = 0; i &lt; size; i++) {\n        array1[i] = random.nextInt();\n        array2[i] = random.nextInt();\n    }\n\n    double tMath = new MaxPerformance2(Math::max, array1, array2).averageTime(100);\n    double tAlt1 = new MaxPerformance2(MaxPerformance2::max1, array1, array2).averageTime(100);\n    double tAlt2 = new MaxPerformance2(MaxPerformance2::max2, array1, array2).averageTime(100);\n\n    System.out.println(\"Java Math: \" + tMath);\n    System.out.println(\"Alt 1:     \" + tAlt1);\n    System.out.println(\"Alt 2:     \" + tAlt2);\n  }\n\n  public static int max1(final int a, final int b) {\n    if (a &gt;= b) return a;\n    return b;\n  }\n\n  public static int max2(final int a, final int b) {\n    return (a &gt;= b) ? a : b; // same as JDK implementation\n  }\n}\n</code></pre>\n\n<p>Which gave me:</p>\n\n<pre><code>Java Math: 15.346468170000005\nAlt 1:     16.378737519999998\nAlt 2:     20.506475350000006\n</code></pre>\n\n<p>The way your test is set up makes a huge difference on the results. The JDK version seems to be the fastest in this scenario. This time by a relatively large margin compared to the previous case.</p>\n\n<p>Somebody mentioned Caliper. Well if you read <a href=\"https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow\">the wiki</a>, one the first things they say about micro-benchmarking is <strong>not</strong> to do it: this is because it's hard to get accurate results in general. I think this is a clear example of that.</p>\n"},{"tags":[],"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964533,"creation_date":1664964533,"answer_id":73958866,"question_id":22752198,"body_markdown":"Here&#39;s a branchless `min` operation, `max` can be implemented by replacing `diff=a-b` with `diff=b-a`.\r\n\r\n    public static final long min(final long a, final long b) {\r\n        final long diff = a - b;\r\n        // All zeroes if a&gt;=b, all ones if a&lt;b because the sign bit is propagated\r\n        final long mask = diff &gt;&gt; 63;\r\n        return (a &amp; mask) | (b &amp; (~mask));\r\n    }\r\n\r\nIt should be as fast as streaming the memory because the CPU operations should be hidden by the sequential memory read latency.","title":"Java Math.min/max performance","body":"<p>Here's a branchless <code>min</code> operation, <code>max</code> can be implemented by replacing <code>diff=a-b</code> with <code>diff=b-a</code>.</p>\n<pre><code>public static final long min(final long a, final long b) {\n    final long diff = a - b;\n    // All zeroes if a&gt;=b, all ones if a&lt;b because the sign bit is propagated\n    final long mask = diff &gt;&gt; 63;\n    return (a &amp; mask) | (b &amp; (~mask));\n}\n</code></pre>\n<p>It should be as fast as streaming the memory because the CPU operations should be hidden by the sequential memory read latency.</p>\n"}],"owner":{"account_id":4252924,"reputation":553,"user_id":3479386,"accept_rate":100,"display_name":"TheStack"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9297,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":22755044,"answer_count":4,"score":26,"last_activity_date":1664964533,"creation_date":1396228677,"question_id":22752198,"body_markdown":"EDIT: maaartinus gave the answer I was looking for and tmyklebu&#39;s data on the problem helped a lot, so thanks both! :)\r\n\r\nI&#39;ve read a bit about how HotSpot has some &quot;intrinsics&quot; that injects in the code, specially for Java standard Math libs ([from here][1])\r\n\r\nSo I decided to give it a try, to see how much difference HotSpot could make against doing the comparison directly (specially since I&#39;ve heard min/max can compile to branchless asm).\r\n```java\r\npublic class OpsMath {\r\n    public static final int max(final int a, final int b) {\r\n        if (a &gt; b) {\r\n            return a;\r\n        }\r\n        return b;\r\n    }\r\n}\r\n```\r\nThat&#39;s my implementation. From another SO question I&#39;ve read that using the ternary operator uses an extra register, I haven&#39;t found significant differences between doing an if block and using a ternary operator (ie, return ( a &gt; b ) ? a : b ).\r\n\r\nAllocating a 8Mb int array (ie, 2 million values), and randomizing it, I do the following test:\r\n\r\n    try ( final Benchmark bench = new Benchmark( &quot;millis to max&quot; ) )\r\n\t\t{\r\n\t\t\tint max = Integer.MIN_VALUE;\r\n\r\n\t\t\tfor ( int i = 0; i &lt; array.length; ++i )\r\n\t\t\t{\r\n\t\t\t\tmax = OpsMath.max( max, array[i] );\r\n\t\t\t\t// max = Math.max( max, array[i] );\r\n\t\t\t}\r\n\t\t}\r\n\r\nI&#39;m using a Benchmark object in a try-with-resources block. When it finishes, it calls close() on the object and prints the time the block took to complete. The tests are done separately by commenting in/out the max calls in the code above.\r\n\r\n&#39;max&#39; is added to a list outside the benchmark block and printed later, so to avoid the JVM optimizing the whole block away.\r\n\r\nThe array is randomized each time the test runs.\r\n\r\nRunning the test 6 times, it gives these results:\r\n\r\nJava standard Math:\r\n\r\n    millis to max 9.242167 \r\n    millis to max 2.1566199999999998\r\n    millis to max 2.046396 \r\n    millis to max 2.048616  \r\n    millis to max 2.035761\r\n    millis to max 2.001044 \r\n\r\nSo fairly stable after the first run, and running the tests again gives similar results.\r\n\r\nOpsMath:\r\n\r\n    millis to max 8.65418 \r\n    millis to max 1.161559  \r\n    millis to max 0.955851 \r\n    millis to max 0.946642 \r\n    millis to max 0.994543 \r\n    millis to max 0.9469069999999999 \r\n\r\nAgain, very stable results after the first run.\r\n\r\nThe question is: **Why?** Thats quite a big difference there. And I have no idea why. Even if I implement my max() method **exactly** like Math.max() (ie, return (a &gt;= b) ? a : b ) I still get better results! It makes no sense.\r\n\r\nSpecs:\r\n\r\nCPU: Intel i5 2500, 3,3Ghz.\r\nJava Version: JDK 8 (public march 18 release), x64.\r\nDebian Jessie (testing release) x64.\r\n\r\nI have yet to try with 32 bit JVM.\r\n\r\n  [1]: https://wikis.oracle.com/display/HotSpotInternals/PerformanceTechniques\r\n\r\nEDIT: Self contained test as requested. Added a line to force the JVM to preload Math and OpsMath classes. That eliminates the 18ms cost of the first iteration for OpsMath test.\r\n\r\n    // Constant nano to millis.\r\n    final double TO_MILLIS = 1.0d / 1000000.0d;\r\n    // 8Mb alloc.\r\n    final int[] array = new int[(8*1024*1024)/4];\r\n    // Result and time array.\r\n    final ArrayList&lt;Integer&gt; results = new ArrayList&lt;&gt;();\r\n    final ArrayList&lt;Double&gt; times = new ArrayList&lt;&gt;();\r\n    // Number of tests.\r\n    final int itcount = 6;\r\n    // Call both Math and OpsMath method so JVM initializes the classes.\r\n    System.out.println(&quot;initialize classes &quot; + \r\n    OpsMath.max( Math.max( 20.0f, array.length ), array.length / 2.0f ));\r\n\t\t\r\n    final Random r = new Random();\r\n    for ( int it = 0; it &lt; itcount; ++it )\r\n    {\r\n    \tint max = Integer.MIN_VALUE;\r\n    \t\r\n    \t// Randomize the array.\r\n    \tfor ( int i = 0; i &lt; array.length; ++i )\r\n    \t{\r\n    \t\tarray[i] = r.nextInt();\r\n    \t}\r\n    \t\r\n    \tfinal long start = System.nanoTime();\r\n    \tfor ( int i = 0; i &lt; array.length; ++i )\r\n    \t{\r\n    \t\tmax = Math.max( array[i], max );\r\n                // OpsMath.max() method implemented as described.\r\n    \t\t// max = OpsMath.max( array[i], max );\r\n    \t}\r\n    \t// Calc time.\r\n    \tfinal double end = (System.nanoTime() - start);\r\n    \t// Store results.\r\n    \ttimes.add( Double.valueOf( end ) );\r\n    \tresults.add( Integer.valueOf(  max ) );\r\n    }\r\n    // Print everything.\r\n    for ( int i = 0; i &lt; itcount; ++i )\r\n    {\r\n    \tSystem.out.println( &quot;IT&quot; + i + &quot; result: &quot; + results.get( i ) );\r\n    \tSystem.out.println( &quot;IT&quot; + i + &quot; millis: &quot; + times.get( i ) * TO_MILLIS );\r\n    }\r\n\r\nJava Math.max result:\r\n\r\n    IT0 result: 2147477409\r\n    IT0 millis: 9.636998\r\n    IT1 result: 2147483098\r\n    IT1 millis: 1.901314\r\n    IT2 result: 2147482877\r\n    IT2 millis: 2.095551\r\n    IT3 result: 2147483286\r\n    IT3 millis: 1.9232859999999998\r\n    IT4 result: 2147482828\r\n    IT4 millis: 1.9455179999999999\r\n    IT5 result: 2147482475\r\n    IT5 millis: 1.882047\r\n\r\nOpsMath.max result:\r\n\r\n    IT0 result: 2147482689\r\n    IT0 millis: 9.003616\r\n    IT1 result: 2147483480\r\n    IT1 millis: 0.882421\r\n    IT2 result: 2147483186\r\n    IT2 millis: 1.079143\r\n    IT3 result: 2147478560\r\n    IT3 millis: 0.8861169999999999\r\n    IT4 result: 2147477851\r\n    IT4 millis: 0.916383\r\n    IT5 result: 2147481983\r\n    IT5 millis: 0.873984\r\n\r\nStill the same overall results. I&#39;ve tried with randomizing the array only once, and repeating the tests over the same array, I get faster results overall, but the same 2x difference between Java Math.max and OpsMath.max.","title":"Java Math.min/max performance","body":"<p>EDIT: maaartinus gave the answer I was looking for and tmyklebu's data on the problem helped a lot, so thanks both! :)</p>\n<p>I've read a bit about how HotSpot has some &quot;intrinsics&quot; that injects in the code, specially for Java standard Math libs (<a href=\"https://wikis.oracle.com/display/HotSpotInternals/PerformanceTechniques\" rel=\"nofollow noreferrer\">from here</a>)</p>\n<p>So I decided to give it a try, to see how much difference HotSpot could make against doing the comparison directly (specially since I've heard min/max can compile to branchless asm).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OpsMath {\n    public static final int max(final int a, final int b) {\n        if (a &gt; b) {\n            return a;\n        }\n        return b;\n    }\n}\n</code></pre>\n<p>That's my implementation. From another SO question I've read that using the ternary operator uses an extra register, I haven't found significant differences between doing an if block and using a ternary operator (ie, return ( a &gt; b ) ? a : b ).</p>\n<p>Allocating a 8Mb int array (ie, 2 million values), and randomizing it, I do the following test:</p>\n<pre><code>try ( final Benchmark bench = new Benchmark( &quot;millis to max&quot; ) )\n    {\n        int max = Integer.MIN_VALUE;\n\n        for ( int i = 0; i &lt; array.length; ++i )\n        {\n            max = OpsMath.max( max, array[i] );\n            // max = Math.max( max, array[i] );\n        }\n    }\n</code></pre>\n<p>I'm using a Benchmark object in a try-with-resources block. When it finishes, it calls close() on the object and prints the time the block took to complete. The tests are done separately by commenting in/out the max calls in the code above.</p>\n<p>'max' is added to a list outside the benchmark block and printed later, so to avoid the JVM optimizing the whole block away.</p>\n<p>The array is randomized each time the test runs.</p>\n<p>Running the test 6 times, it gives these results:</p>\n<p>Java standard Math:</p>\n<pre><code>millis to max 9.242167 \nmillis to max 2.1566199999999998\nmillis to max 2.046396 \nmillis to max 2.048616  \nmillis to max 2.035761\nmillis to max 2.001044 \n</code></pre>\n<p>So fairly stable after the first run, and running the tests again gives similar results.</p>\n<p>OpsMath:</p>\n<pre><code>millis to max 8.65418 \nmillis to max 1.161559  \nmillis to max 0.955851 \nmillis to max 0.946642 \nmillis to max 0.994543 \nmillis to max 0.9469069999999999 \n</code></pre>\n<p>Again, very stable results after the first run.</p>\n<p>The question is: <strong>Why?</strong> Thats quite a big difference there. And I have no idea why. Even if I implement my max() method <strong>exactly</strong> like Math.max() (ie, return (a &gt;= b) ? a : b ) I still get better results! It makes no sense.</p>\n<p>Specs:</p>\n<p>CPU: Intel i5 2500, 3,3Ghz.\nJava Version: JDK 8 (public march 18 release), x64.\nDebian Jessie (testing release) x64.</p>\n<p>I have yet to try with 32 bit JVM.</p>\n<p>EDIT: Self contained test as requested. Added a line to force the JVM to preload Math and OpsMath classes. That eliminates the 18ms cost of the first iteration for OpsMath test.</p>\n<pre><code>// Constant nano to millis.\nfinal double TO_MILLIS = 1.0d / 1000000.0d;\n// 8Mb alloc.\nfinal int[] array = new int[(8*1024*1024)/4];\n// Result and time array.\nfinal ArrayList&lt;Integer&gt; results = new ArrayList&lt;&gt;();\nfinal ArrayList&lt;Double&gt; times = new ArrayList&lt;&gt;();\n// Number of tests.\nfinal int itcount = 6;\n// Call both Math and OpsMath method so JVM initializes the classes.\nSystem.out.println(&quot;initialize classes &quot; + \nOpsMath.max( Math.max( 20.0f, array.length ), array.length / 2.0f ));\n    \nfinal Random r = new Random();\nfor ( int it = 0; it &lt; itcount; ++it )\n{\n    int max = Integer.MIN_VALUE;\n    \n    // Randomize the array.\n    for ( int i = 0; i &lt; array.length; ++i )\n    {\n        array[i] = r.nextInt();\n    }\n    \n    final long start = System.nanoTime();\n    for ( int i = 0; i &lt; array.length; ++i )\n    {\n        max = Math.max( array[i], max );\n            // OpsMath.max() method implemented as described.\n        // max = OpsMath.max( array[i], max );\n    }\n    // Calc time.\n    final double end = (System.nanoTime() - start);\n    // Store results.\n    times.add( Double.valueOf( end ) );\n    results.add( Integer.valueOf(  max ) );\n}\n// Print everything.\nfor ( int i = 0; i &lt; itcount; ++i )\n{\n    System.out.println( &quot;IT&quot; + i + &quot; result: &quot; + results.get( i ) );\n    System.out.println( &quot;IT&quot; + i + &quot; millis: &quot; + times.get( i ) * TO_MILLIS );\n}\n</code></pre>\n<p>Java Math.max result:</p>\n<pre><code>IT0 result: 2147477409\nIT0 millis: 9.636998\nIT1 result: 2147483098\nIT1 millis: 1.901314\nIT2 result: 2147482877\nIT2 millis: 2.095551\nIT3 result: 2147483286\nIT3 millis: 1.9232859999999998\nIT4 result: 2147482828\nIT4 millis: 1.9455179999999999\nIT5 result: 2147482475\nIT5 millis: 1.882047\n</code></pre>\n<p>OpsMath.max result:</p>\n<pre><code>IT0 result: 2147482689\nIT0 millis: 9.003616\nIT1 result: 2147483480\nIT1 millis: 0.882421\nIT2 result: 2147483186\nIT2 millis: 1.079143\nIT3 result: 2147478560\nIT3 millis: 0.8861169999999999\nIT4 result: 2147477851\nIT4 millis: 0.916383\nIT5 result: 2147481983\nIT5 millis: 0.873984\n</code></pre>\n<p>Still the same overall results. I've tried with randomizing the array only once, and repeating the tests over the same array, I get faster results overall, but the same 2x difference between Java Math.max and OpsMath.max.</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api"],"comments":[{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1550061658,"post_id":54670422,"comment_id":96130685,"body_markdown":"Similary if I don&#39;t do CreateIndex also it will create when I post data.","body":"Similary if I don&#39;t do CreateIndex also it will create when I post data."}],"answers":[{"tags":[],"owner":{"account_id":1126788,"reputation":197,"user_id":1113887,"display_name":"mihomir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550065271,"creation_date":1550065271,"answer_id":54671609,"question_id":54670422,"body_markdown":"By type you mean document type?\r\n\r\nWhat about the second section [Index Mappings](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high-create-index.html#_index_mappings) in the link you provided? \r\nDoes this not work for you?","title":"Creating type inside index in elastic search through rest high level client","body":"<p>By type you mean document type?</p>\n\n<p>What about the second section <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high-create-index.html#_index_mappings\" rel=\"nofollow noreferrer\">Index Mappings</a> in the link you provided? \nDoes this not work for you?</p>\n"},{"tags":[],"owner":{"account_id":1919946,"reputation":11,"user_id":1731711,"display_name":"bikeholik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583484582,"creation_date":1583484582,"answer_id":60560433,"question_id":54670422,"body_markdown":"I needed to set type to &quot;_doc&quot; to make it working with ES7.6","title":"Creating type inside index in elastic search through rest high level client","body":"<p>I needed to set type to \"_doc\" to make it working with ES7.6</p>\n"},{"tags":[],"owner":{"account_id":17012954,"reputation":201,"user_id":12307560,"display_name":"Bui Hai Duong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664964196,"creation_date":1664964196,"answer_id":73958789,"question_id":54670422,"body_markdown":"If you know how to insert documents through API then this way will much more easy for you to do anything similar API (DELETE,POST,PUT...)\r\nFirst, you will need RestHighLevelClient and all you have to do\r\n\r\n\r\n    String index = &quot;/indexName/_doc&quot;; &lt;- Your path or type here\r\n    Request request = new Request(&quot;POST&quot;, index); &lt;- Your method\r\n    request.setJsonEntity(\r\n          &quot;{ \\&quot;message\\&quot;: \\&quot; example add insert\\&quot; }&quot; &lt;- Your request body\r\n    );\r\n    \r\n    client.getLowLevelClient().performRequest(request); \r\n\r\n&#160;&#160;&#160;&#160;\r\nThis will execute like how API does.\r\n","title":"Creating type inside index in elastic search through rest high level client","body":"<p>If you know how to insert documents through API then this way will much more easy for you to do anything similar API (DELETE,POST,PUT...)\nFirst, you will need RestHighLevelClient and all you have to do</p>\n<pre><code>String index = &quot;/indexName/_doc&quot;; &lt;- Your path or type here\nRequest request = new Request(&quot;POST&quot;, index); &lt;- Your method\nrequest.setJsonEntity(\n      &quot;{ \\&quot;message\\&quot;: \\&quot; example add insert\\&quot; }&quot; &lt;- Your request body\n);\n\nclient.getLowLevelClient().performRequest(request); \n</code></pre>\n<p>    \nThis will execute like how API does.</p>\n"}],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664964196,"creation_date":1550061568,"question_id":54670422,"body_markdown":"I am using rest high level client elastic search in my JAVA application. Document can be found [here][1].\r\nIn my application at startup I am deleting index named &quot;posts&quot; where Elasticsearch datas are stored and creating again Index &quot;posts&quot; following this [link][2] \r\n    \r\n    CreateIndexRequest request = new CreateIndexRequest(&quot;posts&quot;);\r\nBut, Inside index I need to create one type named &quot;doc&quot;. Which is not mentioned in the website.\r\nTemporary fix is when I am posting some data following this [link][3] it is creating type\r\n\r\n    Map&lt;String, Object&gt; jsonMap = new HashMap&lt;&gt;();\r\n    jsonMap.put(&quot;user&quot;, &quot;kimchy&quot;);\r\n    jsonMap.put(&quot;postDate&quot;, new Date());\r\n    jsonMap.put(&quot;message&quot;, &quot;trying out Elasticsearch&quot;);\r\n    IndexRequest indexRequest = new IndexRequest(&quot;posts&quot;, &quot;doc&quot;, &quot;1&quot;)\r\n        .source(jsonMap); \r\n\r\nBut, in this process when I am posting only  then I can able to create type &quot;doc&quot;. If I am not posting and trying to hit controller which calls data frmo index &quot;posts&quot; and type &quot;doc&quot;. It gives error as &quot;doc&quot; type is not there.\r\n\r\nAnyone hava any idea how to create type using rest high level client ES in java\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high-create-index.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high-document-index.html","title":"Creating type inside index in elastic search through rest high level client","body":"<p>I am using rest high level client elastic search in my JAVA application. Document can be found <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high.html\" rel=\"nofollow noreferrer\">here</a>.\nIn my application at startup I am deleting index named \"posts\" where Elasticsearch datas are stored and creating again Index \"posts\" following this <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high-create-index.html\" rel=\"nofollow noreferrer\">link</a> </p>\n\n<pre><code>CreateIndexRequest request = new CreateIndexRequest(\"posts\");\n</code></pre>\n\n<p>But, Inside index I need to create one type named \"doc\". Which is not mentioned in the website.\nTemporary fix is when I am posting some data following this <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.2/java-rest-high-document-index.html\" rel=\"nofollow noreferrer\">link</a> it is creating type</p>\n\n<pre><code>Map&lt;String, Object&gt; jsonMap = new HashMap&lt;&gt;();\njsonMap.put(\"user\", \"kimchy\");\njsonMap.put(\"postDate\", new Date());\njsonMap.put(\"message\", \"trying out Elasticsearch\");\nIndexRequest indexRequest = new IndexRequest(\"posts\", \"doc\", \"1\")\n    .source(jsonMap); \n</code></pre>\n\n<p>But, in this process when I am posting only  then I can able to create type \"doc\". If I am not posting and trying to hit controller which calls data frmo index \"posts\" and type \"doc\". It gives error as \"doc\" type is not there.</p>\n\n<p>Anyone hava any idea how to create type using rest high level client ES in java</p>\n"},{"tags":["java","jdbc","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1569865225,"post_id":58172649,"comment_id":102726356,"body_markdown":"From where did you get that name? Shouldn&#39;t that be `com.snowflake.client.jdbc.SnowflakeDriver` instead?","body":"From where did you get that name? Shouldn&#39;t that be <code>com.snowflake.client.jdbc.SnowflakeDriver</code> instead?"},{"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"score":0,"creation_date":1569865278,"post_id":58172649,"comment_id":102726372,"body_markdown":"I got it from their example in their documentation","body":"I got it from their example in their documentation"},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1569865482,"post_id":58172649,"comment_id":102726447,"body_markdown":"I would suggest then to inspect the registered drivers that you have, loop over `DriverManager.getDrivers()` and print them all, see if you have it. Probably the `com.` one is an old version (or viceversa).","body":"I would suggest then to inspect the registered drivers that you have, loop over <code>DriverManager.getDrivers()</code> and print them all, see if you have it. Probably the <code>com.</code> one is an old version (or viceversa)."},{"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"score":0,"creation_date":1569874728,"post_id":58172649,"comment_id":102730267,"body_markdown":"I did that, and it appears no drivers are being loaded/read by eclipse","body":"I did that, and it appears no drivers are being loaded/read by eclipse"},{"owner":{"account_id":7193357,"reputation":325,"user_id":5492926,"display_name":"Alfaz Jikani"},"score":0,"creation_date":1654063746,"post_id":58172649,"comment_id":127999785,"body_markdown":"In my case, it was invalid database URI. Correct URL pattern is &quot;jdbc:snowflake://myorganization-myaccount.snowflakecomputing.com/?user=peter&amp;warehouse=mywh&amp;db=mydb&amp;schema=public&quot;.","body":"In my case, it was invalid database URI. Correct URL pattern is &quot;jdbc:snowflake://myorganization-myaccount.snowflakecomputin&zwnj;&#8203;g.com/?user=peter&amp;wa&zwnj;&#8203;rehouse=mywh&amp;db=mydb&zwnj;&#8203;&amp;schema=public&quot;."}],"answers":[{"tags":[],"owner":{"account_id":16776688,"reputation":511,"user_id":12127815,"display_name":"Rachel McGuigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570032561,"creation_date":1569880826,"answer_id":58175794,"question_id":58172649,"body_markdown":"The research I would suggest taking a look at is: https://docs.snowflake.net/manuals/user-guide/jdbc-configure.html\r\n\r\nThis answer also looked helpful: https://stackoverflow.com/a/54504514/12127815 \r\n&quot;adding the jar to classpath, and then running the following command, Class.forName(&quot;provided driver name&quot;) in the calling class? &quot;\r\nThough a light jar has been asked to be an an enhancement here: &quot;[open]Light driver jar? #174&quot; https://github.com/snowflakedb/snowflake-jdbc/issues/174\r\n\r\nIntegrating the driver to a project: https://docs.snowflake.net/manuals/user-guide/jdbc-download.html#integrating-the-driver-into-a-project\r\nSpecific information copied from the documentation: &quot;To integrate the driver into a project, add the necessary tags to your pom.xml file. For example:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\r\n    &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;3.9.2&lt;/version&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhere the &lt;version&gt; tag specifies the version of the driver you wish to integrate. Note that version 3.9.2 is used in this example for illustration purposes only. The latest available version of the driver may be higher.&quot;\r\n\r\n Others may have better insights. ","title":"No suitable driver found snowflake JDBC","body":"<p>The research I would suggest taking a look at is: <a href=\"https://docs.snowflake.net/manuals/user-guide/jdbc-configure.html\" rel=\"nofollow noreferrer\">https://docs.snowflake.net/manuals/user-guide/jdbc-configure.html</a></p>\n\n<p>This answer also looked helpful: <a href=\"https://stackoverflow.com/a/54504514/12127815\">https://stackoverflow.com/a/54504514/12127815</a> \n\"adding the jar to classpath, and then running the following command, Class.forName(\"provided driver name\") in the calling class? \"\nThough a light jar has been asked to be an an enhancement here: \"[open]Light driver jar? #174\" <a href=\"https://github.com/snowflakedb/snowflake-jdbc/issues/174\" rel=\"nofollow noreferrer\">https://github.com/snowflakedb/snowflake-jdbc/issues/174</a></p>\n\n<p>Integrating the driver to a project: <a href=\"https://docs.snowflake.net/manuals/user-guide/jdbc-download.html#integrating-the-driver-into-a-project\" rel=\"nofollow noreferrer\">https://docs.snowflake.net/manuals/user-guide/jdbc-download.html#integrating-the-driver-into-a-project</a>\nSpecific information copied from the documentation: \"To integrate the driver into a project, add the necessary tags to your pom.xml file. For example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;groupId&gt;net.snowflake&lt;/groupId&gt;\r\n&lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\r\n&lt;version&gt;3.9.2&lt;/version&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Where the  tag specifies the version of the driver you wish to integrate. Note that version 3.9.2 is used in this example for illustration purposes only. The latest available version of the driver may be higher.\"</p>\n\n<p>Others may have better insights. </p>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964016,"creation_date":1664963116,"answer_id":73958592,"question_id":58172649,"body_markdown":"I believe the error message may be misleading.\r\n\r\nIn my case, Snowflake server is behind a firewall/proxy and I get the same error when connection cannot be obtained physically. It all works on the server all right - I get the error when trying to connect to the DB from my local machine that is on the opposite side of the firewall. \r\n\r\nSo, make sure your application can physically connect to the DB or use a proxy parameter in your java launcher, such as \r\n\r\n` -Dhttp.proxyHost=a-proxy.host.domain.net -Dhttp.proxyPort=8080` or similar","title":"No suitable driver found snowflake JDBC","body":"<p>I believe the error message may be misleading.</p>\n<p>In my case, Snowflake server is behind a firewall/proxy and I get the same error when connection cannot be obtained physically. It all works on the server all right - I get the error when trying to connect to the DB from my local machine that is on the opposite side of the firewall.</p>\n<p>So, make sure your application can physically connect to the DB or use a proxy parameter in your java launcher, such as</p>\n<p><code> -Dhttp.proxyHost=a-proxy.host.domain.net -Dhttp.proxyPort=8080</code> or similar</p>\n"}],"owner":{"account_id":11249887,"reputation":827,"user_id":8251318,"accept_rate":100,"display_name":"Matthew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58175794,"answer_count":2,"score":2,"last_activity_date":1664964016,"creation_date":1569864840,"question_id":58172649,"body_markdown":"I&#39;m currently working on an application. We are moving off our file systems and over to our Snowflake database. I can&#39;t seem to make a connection to the database - I am continually met with &quot;no suitable driver found&quot; error.\r\n\r\nThe correct driver was loaded and installed into the build path. *Does anyone know whats going on?*\r\n\r\nThe code:\r\n\r\n    package com.GriefUI.DBComponents;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.Properties;\r\n\r\n    public class Snowflake_Driver {\r\n\r\n\tpublic static void databaseConnection(HttpServletRequest request, HttpServletResponse response) throws UnsupportedOperationException{\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tConnection connObject = getConnection();\r\n\t\t\tStatement stmt = connObject.createStatement();\r\n\t\t\tResultSet rSet = stmt.executeQuery(&quot;SELECT * FROM MY_TABLE&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t private static Connection getConnection()\r\n\t\t      throws SQLException {\r\n\t\t    try {\r\n\t\t      Class.forName(&quot;net.snowflake.client.jdbc.SnowflakeDriver&quot;);\r\n\t\t    } catch (ClassNotFoundException ex) {\r\n\t\t      System.err.println(&quot;Driver not found&quot;);\r\n\t\t    }\r\n\t\t    \r\n\t\t    Properties properties = new Properties();\r\n\t\t    \r\n\t\t    String user = &quot;user&quot;;\r\n\t\t    String pwsd = &quot;password&quot;;\r\n\t\t    String connectStr = &quot;jdbc:snowflake://My_Environment.snowflakecomputing.com&quot;;\r\n\t\t    \r\n\t\t    Connection conn = DriverManager.getConnection(connectStr, user, pwsd);\r\n\t\t    return conn;\r\n\t\t  }\r\n\r\n     }\r\n\r\n\r\nBuild path:\r\n\r\n[![Build path][1]][1]\r\n\r\nAnd the related stacktrace:\r\n\r\n    Driver not found\r\n    java.sql.SQLException: No suitable driver found for jdbc:snowflake://My_Environment.snowflakecomputing.com\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:689)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat com.GriefUI.DBComponents.Snowflake_Driver.getConnection(Snowflake_Driver.java:54)\r\n\tat com.GriefUI.DBComponents.Snowflake_Driver.databaseConnection(Snowflake_Driver.java:20)\r\n\tat com.GriefUI.Servers.PushServer.doPost(PushServer.java:60)\r\n\tat com.GriefUI.Servers.PushServer.doGet(PushServer.java:47)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZIKuI.png","title":"No suitable driver found snowflake JDBC","body":"<p>I'm currently working on an application. We are moving off our file systems and over to our Snowflake database. I can't seem to make a connection to the database - I am continually met with \"no suitable driver found\" error.</p>\n\n<p>The correct driver was loaded and installed into the build path. <em>Does anyone know whats going on?</em></p>\n\n<p>The code:</p>\n\n<pre><code>package com.GriefUI.DBComponents;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.Properties;\n\npublic class Snowflake_Driver {\n\npublic static void databaseConnection(HttpServletRequest request, HttpServletResponse response) throws UnsupportedOperationException{\n\n\n    try {\n\n        Connection connObject = getConnection();\n        Statement stmt = connObject.createStatement();\n        ResultSet rSet = stmt.executeQuery(\"SELECT * FROM MY_TABLE\");\n\n\n    }catch(Exception e) {\n        e.printStackTrace();\n        throw new UnsupportedOperationException();\n    }\n\n}\n\n\n private static Connection getConnection()\n          throws SQLException {\n        try {\n          Class.forName(\"net.snowflake.client.jdbc.SnowflakeDriver\");\n        } catch (ClassNotFoundException ex) {\n          System.err.println(\"Driver not found\");\n        }\n\n        Properties properties = new Properties();\n\n        String user = \"user\";\n        String pwsd = \"password\";\n        String connectStr = \"jdbc:snowflake://My_Environment.snowflakecomputing.com\";\n\n        Connection conn = DriverManager.getConnection(connectStr, user, pwsd);\n        return conn;\n      }\n\n }\n</code></pre>\n\n<p>Build path:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZIKuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZIKuI.png\" alt=\"Build path\"></a></p>\n\n<p>And the related stacktrace:</p>\n\n<pre><code>Driver not found\njava.sql.SQLException: No suitable driver found for jdbc:snowflake://My_Environment.snowflakecomputing.com\nat java.sql.DriverManager.getConnection(DriverManager.java:689)\nat java.sql.DriverManager.getConnection(DriverManager.java:247)\nat com.GriefUI.DBComponents.Snowflake_Driver.getConnection(Snowflake_Driver.java:54)\nat com.GriefUI.DBComponents.Snowflake_Driver.databaseConnection(Snowflake_Driver.java:20)\nat com.GriefUI.Servers.PushServer.doPost(PushServer.java:60)\nat com.GriefUI.Servers.PushServer.doGet(PushServer.java:47)\n</code></pre>\n"},{"tags":["java","rest","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":11311218,"reputation":161,"user_id":8294265,"display_name":"Egor K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521038273,"creation_date":1521027869,"answer_id":49276954,"question_id":49265314,"body_markdown":"**A RestHighLevelClient instance needs a REST low-level client builder to be built as follows**:\r\n\r\n\r\n       RestHighLevelClient client = new RestHighLevelClient(\r\n            RestClient.builder(\r\n                    new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\r\n                    new HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)));\r\n\r\n**Create an index (if it not exist)**\r\n\r\n   `CreateIndexRequest request = new CreateIndexRequest(&quot;twitter&quot;);`\r\n\r\n**Update document:** \r\n\r\n    XContentBuilder builder = XContentFactory.jsonBuilder();\r\n    builder.startObject();\r\n    {\r\n        builder.field(&quot;updated&quot;, new Date());\r\n        builder.field(&quot;reason&quot;, &quot;daily update&quot;);\r\n    }\r\n    builder.endObject();\r\n    UpdateRequest request = new UpdateRequest(&quot;posts&quot;, &quot;doc&quot;, &quot;1&quot;)\r\n            .doc(builder);\r\n\r\n**Use your client for send request.**\r\n\r\nP.S. [es high level client][1]\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/index.html ","title":"How to insert document into ElasticSearch using RestHighLevelClient in Java Spring Boot","body":"<p><strong>A RestHighLevelClient instance needs a REST low-level client builder to be built as follows</strong>:</p>\n\n<pre><code>   RestHighLevelClient client = new RestHighLevelClient(\n        RestClient.builder(\n                new HttpHost(\"localhost\", 9200, \"http\"),\n                new HttpHost(\"localhost\", 9201, \"http\")));\n</code></pre>\n\n<p><strong>Create an index (if it not exist)</strong></p>\n\n<p><code>CreateIndexRequest request = new CreateIndexRequest(\"twitter\");</code></p>\n\n<p><strong>Update document:</strong> </p>\n\n<pre><code>XContentBuilder builder = XContentFactory.jsonBuilder();\nbuilder.startObject();\n{\n    builder.field(\"updated\", new Date());\n    builder.field(\"reason\", \"daily update\");\n}\nbuilder.endObject();\nUpdateRequest request = new UpdateRequest(\"posts\", \"doc\", \"1\")\n        .doc(builder);\n</code></pre>\n\n<p><strong>Use your client for send request.</strong></p>\n\n<p>P.S. <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/index.html\" rel=\"nofollow noreferrer\">es high level client</a></p>\n"},{"tags":[],"owner":{"account_id":17012954,"reputation":201,"user_id":12307560,"display_name":"Bui Hai Duong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664963769,"creation_date":1664963291,"answer_id":73958631,"question_id":49265314,"body_markdown":"If you know how to insert documents through API then this way will much more easy for you to do anything similar API (DELETE,POST,PUT...)\r\nFirst, you will need RestHighLevelClient and all you have to do \r\n\r\n    String index = &quot;/s3-upload-2022.10.04/_doc/2&quot;; &lt;-- Your path\r\n    Request request = new Request(&quot;POST&quot;, index);  &lt;-- Your method\r\n    request.setJsonEntity(\r\n              &quot;{ \\&quot;message\\&quot;: \\&quot; example add insert\\&quot; }&quot;  &lt;-- Your request body\r\n    );\r\n    \r\n    client.getLowLevelClient().performRequest(request); &lt;-- Run Action\r\nThis will execute like how API does.","title":"How to insert document into ElasticSearch using RestHighLevelClient in Java Spring Boot","body":"<p>If you know how to insert documents through API then this way will much more easy for you to do anything similar API (DELETE,POST,PUT...)\nFirst, you will need RestHighLevelClient and all you have to do</p>\n<pre><code>String index = &quot;/s3-upload-2022.10.04/_doc/2&quot;; &lt;-- Your path\nRequest request = new Request(&quot;POST&quot;, index);  &lt;-- Your method\nrequest.setJsonEntity(\n          &quot;{ \\&quot;message\\&quot;: \\&quot; example add insert\\&quot; }&quot;  &lt;-- Your request body\n);\n\nclient.getLowLevelClient().performRequest(request); &lt;-- Run Action\n</code></pre>\n<p>This will execute like how API does.</p>\n"}],"owner":{"account_id":6869319,"reputation":141,"user_id":5280383,"accept_rate":50,"display_name":"GzAndy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5062,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664963769,"creation_date":1520972877,"question_id":49265314,"body_markdown":"I am developing a Spring Boot program that use RestHighLevelClient to insert document into ElasticSearch. Now I have built the configuration for the client, however, I am not sure how to insert/index. The documentation on ElasticSearch seems confusing to me..\r\n\r\nHere is the piece of code I tried so far:\r\n\r\n    @KafkaListener(topics = &quot;${kafka.topic}&quot;,groupId = &quot;test&quot;)\r\n    public void receive(String message) {\r\n\r\n        LOGGER.info(message);\r\n        insertData(message);\r\n        latch.countDown();\r\n    }\r\n\r\n    private void insertData(String message){\r\n        IndexRequest request = new IndexRequest(\r\n                &quot;fx-rate&quot;,\r\n                &quot;_doc&quot;,\r\n                &quot;1&quot;);\r\n        request.source(message, XContentType.JSON);\r\n    }","title":"How to insert document into ElasticSearch using RestHighLevelClient in Java Spring Boot","body":"<p>I am developing a Spring Boot program that use RestHighLevelClient to insert document into ElasticSearch. Now I have built the configuration for the client, however, I am not sure how to insert/index. The documentation on ElasticSearch seems confusing to me..</p>\n\n<p>Here is the piece of code I tried so far:</p>\n\n<pre><code>@KafkaListener(topics = \"${kafka.topic}\",groupId = \"test\")\npublic void receive(String message) {\n\n    LOGGER.info(message);\n    insertData(message);\n    latch.countDown();\n}\n\nprivate void insertData(String message){\n    IndexRequest request = new IndexRequest(\n            \"fx-rate\",\n            \"_doc\",\n            \"1\");\n    request.source(message, XContentType.JSON);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","rest-assured"],"comments":[{"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"score":0,"creation_date":1606368368,"post_id":65011084,"comment_id":114944532,"body_markdown":"What is the response body?. Response body should be in json format. So you should compare the particular value from the json body with the expected result.","body":"What is the response body?. Response body should be in json format. So you should compare the particular value from the json body with the expected result."},{"owner":{"account_id":16561468,"reputation":129,"user_id":11967293,"display_name":"Lucifer Morningstar"},"score":0,"creation_date":1606373090,"post_id":65011084,"comment_id":114945647,"body_markdown":"As you see in the controller Return type, I am expecting a boolean value.","body":"As you see in the controller Return type, I am expecting a boolean value."}],"answers":[{"tags":[],"owner":{"account_id":10132205,"reputation":413,"user_id":7485135,"display_name":"Tamil.S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607085548,"creation_date":1607085548,"answer_id":65143725,"question_id":65011084,"body_markdown":"extract the response as in the format you want exactly.something looks like below snippet.\r\n\r\n        @Test\r\n        public void UploadAttachmentTest() throws Exception {\r\n            Boolean response = given()\r\n                              .pathParam(&quot;id&quot;, &quot;randomId&quot;)\r\n                              .multiPart(dummyFile)\r\n                              .expect()\r\n                              .statusCode(HttpStatus.SC_CREATED)\r\n                              .extract().response().as(Boolean.class);\r\n\r\n            // Here u can check response with assertTrue() or assertFalase()\r\n            assertTrue(response);\r\n        }","title":"Assert boolean response with restassured SpringBoot","body":"<p>extract the response as in the format you want exactly.something looks like below snippet.</p>\n<pre><code>    @Test\n    public void UploadAttachmentTest() throws Exception {\n        Boolean response = given()\n                          .pathParam(&quot;id&quot;, &quot;randomId&quot;)\n                          .multiPart(dummyFile)\n                          .expect()\n                          .statusCode(HttpStatus.SC_CREATED)\n                          .extract().response().as(Boolean.class);\n\n        // Here u can check response with assertTrue() or assertFalase()\n        assertTrue(response);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12183768,"reputation":26,"user_id":8894443,"display_name":"Ewa Przybylska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634709463,"creation_date":1634656394,"answer_id":69633460,"question_id":65011084,"body_markdown":"use `is` instead of `equal`:\r\n```java\r\n  .statusCode(HttpStatus.SC_CREATED).body(is(true)).when()\r\n```","title":"Assert boolean response with restassured SpringBoot","body":"<p>use <code>is</code> instead of <code>equal</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .statusCode(HttpStatus.SC_CREATED).body(is(true)).when()\n</code></pre>\n"}],"owner":{"account_id":16561468,"reputation":129,"user_id":11967293,"display_name":"Lucifer Morningstar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69633460,"answer_count":2,"score":2,"last_activity_date":1664963746,"creation_date":1606330656,"question_id":65011084,"body_markdown":"I want to evaluate Boolean response coming from my Rest Controller in Spring Boot Junit Test Case. The response seems to be the same but Rest Assured is putting brackets in the response value.\r\n\r\nMy Controller:- \r\n\r\n    @PutMapping(&quot;/file/{id}&quot;)\r\n    ResponseEntity&lt;Boolean&gt; uploadFile(@RequestBody MultipartFile file,\r\n    \t\t@PathVariable String id) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(\r\n    \t\t\t\tfileService.uploadImage(file, id),\r\n    \t\t\t\tHttpStatus.CREATED);\r\n    \t}\r\n\r\n\r\nMy Test Case:- \r\n\r\n    @Test\r\n    \tpublic void UploadAttachmentTest() throws Exception {\r\n    \t\tgiven().pathParam(&quot;id&quot;, &quot;randomId&quot;).multiPart(dummyFile).expect()\r\n    \t\t\t\t.statusCode(HttpStatus.SC_CREATED).body(equalTo(true)).when()\r\n    \t\t\t\t.put(&quot;/file/{id}&quot;);\r\n    \t}\r\n\r\nError while running junit test case:-\r\n\r\n    java.lang.AssertionError: 1 expectation failed.\r\n    Response body doesn&#39;t match expectation.\r\n    Expected: &lt;true&gt;\r\n      Actual: true\r\n    \r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:80)\r\n    \tat org.codehaus.groovy.reflection.CachedConstructor.doConstructorInvoke(CachedConstructor.java:74)\r\n    \tat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrap.callConstructor(ConstructorSite.java:84)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:237)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:249)\r\n    ....","title":"Assert boolean response with restassured SpringBoot","body":"<p>I want to evaluate Boolean response coming from my Rest Controller in Spring Boot Junit Test Case. The response seems to be the same but Rest Assured is putting brackets in the response value.</p>\n<p>My Controller:-</p>\n<pre><code>@PutMapping(&quot;/file/{id}&quot;)\nResponseEntity&lt;Boolean&gt; uploadFile(@RequestBody MultipartFile file,\n        @PathVariable String id) {\n        return new ResponseEntity&lt;&gt;(\n                fileService.uploadImage(file, id),\n                HttpStatus.CREATED);\n    }\n</code></pre>\n<p>My Test Case:-</p>\n<pre><code>@Test\n    public void UploadAttachmentTest() throws Exception {\n        given().pathParam(&quot;id&quot;, &quot;randomId&quot;).multiPart(dummyFile).expect()\n                .statusCode(HttpStatus.SC_CREATED).body(equalTo(true)).when()\n                .put(&quot;/file/{id}&quot;);\n    }\n</code></pre>\n<p>Error while running junit test case:-</p>\n<pre><code>java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: &lt;true&gt;\n  Actual: true\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:80)\n    at org.codehaus.groovy.reflection.CachedConstructor.doConstructorInvoke(CachedConstructor.java:74)\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrap.callConstructor(ConstructorSite.java:84)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:59)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:237)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:249)\n....\n</code></pre>\n"},{"tags":["java","selenium","dependencies"],"answers":[{"tags":[],"owner":{"account_id":24169986,"reputation":246,"user_id":18132195,"display_name":"Darshan Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664963744,"creation_date":1664963344,"answer_id":73958643,"question_id":73954369,"body_markdown":"The error `Unable to find an exact match for CDP version 105, so returning the closest version found: 104` is not associated with the script but its associated with the `chrome version` being used\r\n\r\nIt seems you are using `chrome version 105` for that you will have to update the `dependencies` for `selenium-java` and `selenium-devtools-v105`\r\n\r\nThis is highlighted in release notes of `selenium 4.5` over [here][1]\r\n\r\n\r\nAdd following dependencies and check if that works fine(Remove older version for the dependency before adding new one)\r\n\r\n   \r\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt; \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n       &lt;version&gt;4.5.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n       &lt;!--https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium- \r\n       devtools-v105 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-devtools-v105&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nNote:- In case you are using a different version of chrome other than `105` select the corresponding dependency from [here][2] for devtools.\r\nAlso ensure you are using the correct version of chromed driver as per the current version of chrome installed on your system\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG#L3\r\n  [2]: https://mvnrepository.com/search?q=Selenium%20Devtools","title":"Unable to find an exact match for CDP - Cannot upload a file in SELENIUM &amp; JAVA from windows popup","body":"<p>The error <code>Unable to find an exact match for CDP version 105, so returning the closest version found: 104</code> is not associated with the script but its associated with the <code>chrome version</code> being used</p>\n<p>It seems you are using <code>chrome version 105</code> for that you will have to update the <code>dependencies</code> for <code>selenium-java</code> and <code>selenium-devtools-v105</code></p>\n<p>This is highlighted in release notes of <code>selenium 4.5</code> over <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG#L3\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Add following dependencies and check if that works fine(Remove older version for the dependency before adding new one)</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt; \n&lt;dependency&gt;\n   &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n   &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n   &lt;version&gt;4.5.0&lt;/version&gt;\n &lt;/dependency&gt;\n   &lt;!--https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium- \n   devtools-v105 --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-devtools-v105&lt;/artifactId&gt;\n  &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Note:- In case you are using a different version of chrome other than <code>105</code> select the corresponding dependency from <a href=\"https://mvnrepository.com/search?q=Selenium%20Devtools\" rel=\"nofollow noreferrer\">here</a> for devtools.\nAlso ensure you are using the correct version of chromed driver as per the current version of chrome installed on your system</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664963744,"creation_date":1664924190,"question_id":73954369,"body_markdown":"I&#39;m trying to select a file from a windows pop up in my multi-language page:\r\n\r\nMy code clicks on 2 buttons until the pop up is shown:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy CODE:\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;,&#39;display:block;&#39;)&quot;, ele);\r\n    Thread.sleep(8000);\r\n    //driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]//button[text()=&#39;Subir nuevo archivo&#39;]&quot;)).click();\r\n    //Thread.sleep(8000);\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).click();\r\n    Thread.sleep(8000);\r\n    driver.switchTo().activeElement().sendKeys(&quot;C:\\\\Users\\\\steve\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\r\n\r\nI am getting this error message:\r\n\r\n    Unable to find an exact match for CDP version 105, so returning the closest version found: 104\r\n    oct. 04, 2022 7:46:10 P.&#160;M. org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    Found CDP implementation for version 105 of 104\r\n\r\n\r\nIs my code alright? am i doing anything wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/VBbdV.gif\r\n","title":"Unable to find an exact match for CDP - Cannot upload a file in SELENIUM &amp; JAVA from windows popup","body":"<p>I'm trying to select a file from a windows pop up in my multi-language page:</p>\n<p>My code clicks on 2 buttons until the pop up is shown:</p>\n<p><a href=\"https://i.stack.imgur.com/VBbdV.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VBbdV.gif\" alt=\"enter image description here\" /></a></p>\n<p>My CODE:</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].setAttribute('style','display:block;')&quot;, ele);\nThread.sleep(8000);\n//driver.findElement(By.xpath(&quot;//div[@class='row attachment-files-item']//button[text()='Subir nuevo archivo']&quot;)).click();\n//Thread.sleep(8000);\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).click();\nThread.sleep(8000);\ndriver.switchTo().activeElement().sendKeys(&quot;C:\\\\Users\\\\steve\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\n</code></pre>\n<p>I am getting this error message:</p>\n<pre><code>Unable to find an exact match for CDP version 105, so returning the closest version found: 104\noct. 04, 2022 7:46:10 P. M. org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nFound CDP implementation for version 105 of 104\n</code></pre>\n<p>Is my code alright? am i doing anything wrong?</p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1633867095,"post_id":69453934,"comment_id":122869884,"body_markdown":"Welcome to SO.  Is &quot;test 123&quot; the MD5 value you are attempting to send along with the file content?  It is very unlikely that &quot;test 123&quot; is the MD5 value of the file.  It sounds to me like S3 is expecting the MD5 value you send with your content to match the MD5 value it is calculating on the AWS side.","body":"Welcome to SO.  Is &quot;test 123&quot; the MD5 value you are attempting to send along with the file content?  It is very unlikely that &quot;test 123&quot; is the MD5 value of the file.  It sounds to me like S3 is expecting the MD5 value you send with your content to match the MD5 value it is calculating on the AWS side."},{"owner":{"account_id":22491847,"reputation":1,"user_id":16689466,"display_name":"Fabiano de Souza"},"score":0,"creation_date":1634657514,"post_id":69453934,"comment_id":123081791,"body_markdown":"Thanks for your comment. I tried convert it to MD5 and send but doesn&#39;t work. A friend send me a solution using chunk connection and now it&#39;s working fine.","body":"Thanks for your comment. I tried convert it to MD5 and send but doesn&#39;t work. A friend send me a solution using chunk connection and now it&#39;s working fine."},{"owner":{"account_id":1428332,"reputation":548,"user_id":1351315,"display_name":"antiocol"},"score":0,"creation_date":1664961905,"post_id":69453934,"comment_id":130586369,"body_markdown":"@FabianodeSouza can you share the solution you used? I&#39;m having the same issue but with .net sdk, but i guess it would be something similar what we are experiencing.","body":"@FabianodeSouza can you share the solution you used? I&#39;m having the same issue but with .net sdk, but i guess it would be something similar what we are experiencing."}],"answers":[{"tags":[],"owner":{"account_id":1428332,"reputation":548,"user_id":1351315,"display_name":"antiocol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664963479,"creation_date":1664963479,"answer_id":73958673,"question_id":69453934,"body_markdown":"I had the same problem with the .NET AWSSDK.S3. The key was that when using PutObjectRequest object, there is a default value in the property UseChunkEncoding=true. Well, if you set that value to false everything will work fine. \r\n","title":"How can I send a file using AWS S3 API conding in java? My error is: The Content-MD5 you specified is not valid","body":"<p>I had the same problem with the .NET AWSSDK.S3. The key was that when using PutObjectRequest object, there is a default value in the property UseChunkEncoding=true. Well, if you set that value to false everything will work fine.</p>\n"}],"owner":{"account_id":22491847,"reputation":1,"user_id":16689466,"display_name":"Fabiano de Souza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664963479,"creation_date":1633450278,"question_id":69453934,"body_markdown":"\r\nI can send files without problem using Postman but when try send it in java it doesn&#39;t work.\r\n\r\nI&#39;ve tried everything, but always when try send a file with Content I receive this Error Message : The Content-MD5 you specified is not valid.\r\n\r\nWhen I said, &quot;with Content&quot; I mean for example a text file named &quot;text.txt&quot; with &quot;test 123&quot;. But when I tried send the same file but without content it&#39;s works fine.\r\n[enter image description here][1]\r\nError messagem: \r\n`{&quot;Error&quot;: {\r\n    &quot;Message&quot;: &quot;The Content-MD5 you specified is not valid.&quot;,\r\n    &quot;RequestId&quot;: 822352709,\r\n    &quot;Resource&quot;: &quot;/dns1niadf001/textoSemConteudo.txt&quot;,\r\n    &quot;Code&quot;: &quot;InvalidDigest&quot;\r\n}}`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zBaEk.png","title":"How can I send a file using AWS S3 API conding in java? My error is: The Content-MD5 you specified is not valid","body":"<p>I can send files without problem using Postman but when try send it in java it doesn't work.</p>\n<p>I've tried everything, but always when try send a file with Content I receive this Error Message : The Content-MD5 you specified is not valid.</p>\n<p>When I said, &quot;with Content&quot; I mean for example a text file named &quot;text.txt&quot; with &quot;test 123&quot;. But when I tried send the same file but without content it's works fine.\n<a href=\"https://i.stack.imgur.com/zBaEk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nError messagem:\n<code>{&quot;Error&quot;: { &quot;Message&quot;: &quot;The Content-MD5 you specified is not valid.&quot;, &quot;RequestId&quot;: 822352709, &quot;Resource&quot;: &quot;/dns1niadf001/textoSemConteudo.txt&quot;, &quot;Code&quot;: &quot;InvalidDigest&quot; }}</code></p>\n"},{"tags":["java","spring","mongodb","spring-boot","liquibase"],"comments":[{"owner":{"account_id":8609147,"reputation":1368,"user_id":6448167,"accept_rate":62,"display_name":"KSigWyatt"},"score":0,"creation_date":1665030370,"post_id":73958650,"comment_id":130604767,"body_markdown":"Either you are making an illegal cast or you may not have this library installed correctly. Make sure that you are casting your objects in the right way.","body":"Either you are making an illegal cast or you may not have this library installed correctly. Make sure that you are casting your objects in the right way."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665030383,"post_id":73958650,"comment_id":130604769,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26036781,"reputation":1,"user_id":19742126,"display_name":"Nida Tariq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664963392,"creation_date":1664963392,"question_id":73958650,"body_markdown":"Getting this exception :     \r\n\r\n    class liquibase.database.core.UnsupportedDatabase cannot be cast to class liquibase.nosql.database.AbstractNoSqlDatabase (liquibase.database.core.UnsupportedDatabase and liquibase.nosql.database.AbstractNoSqlDatabase are in unnamed module of loader &#39;app&#39;)\r\n\r\n\r\nMy changelog file is : \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd\r\n            http://www.liquibase.org/xml/ns/dbchangelog-ext https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd&quot;&gt;\r\n    \r\n        &lt;changeSet id=&quot;1&quot; author=&quot;liquibase&quot;&gt;\r\n            &lt;ext:dropCollection collectionName=&quot;dummy&quot;/&gt;\r\n        &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\nAny solutions on this?\r\n\r\n","title":"Liquibase classcastException with mongodb","body":"<p>Getting this exception :</p>\n<pre><code>class liquibase.database.core.UnsupportedDatabase cannot be cast to class liquibase.nosql.database.AbstractNoSqlDatabase (liquibase.database.core.UnsupportedDatabase and liquibase.nosql.database.AbstractNoSqlDatabase are in unnamed module of loader 'app')\n</code></pre>\n<p>My changelog file is :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd\n        http://www.liquibase.org/xml/ns/dbchangelog-ext https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd&quot;&gt;\n\n    &lt;changeSet id=&quot;1&quot; author=&quot;liquibase&quot;&gt;\n        &lt;ext:dropCollection collectionName=&quot;dummy&quot;/&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>Any solutions on this?</p>\n"},{"tags":["java","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":7982061,"reputation":21,"user_id":6022999,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664963243,"creation_date":1664490229,"answer_id":73902237,"question_id":72161538,"body_markdown":"what helps me:\r\n\r\nin: `android/gradle/wrapper/gradle-wrapper.properties`\r\nupdate to: `distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.1-all.zip`\r\n\r\nin: `android/build.gradle`\r\nupdate to: \r\n    classpath &#39;com.android.tools.build:gradle:4.2.0&#39;\r\n\r\n","title":"Execution failed for task &#39;:flutter_inappwebview:compileDebugJavaWithJavac&#39;","body":"<p>what helps me:</p>\n<p>in: <code>android/gradle/wrapper/gradle-wrapper.properties</code>\nupdate to: <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.1-all.zip</code></p>\n<p>in: <code>android/build.gradle</code>\nupdate to:\nclasspath 'com.android.tools.build:gradle:4.2.0'</p>\n"}],"owner":{"account_id":25233796,"reputation":1,"user_id":19068617,"display_name":"andika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664963243,"creation_date":1652016920,"question_id":72161538,"body_markdown":"Launching lib\\main.dart on Android SDK built for x86 in debug mode...\r\nWarning: Mapping new ns http:/schemas.android.com/repository/android/common/02 to old ns http:/schemas.android.com/repository/android/common/01\r\nWarning: Mapping new ns http:/schemas.android.com/repository/android/generic/02 to old ns http:/schemas.android.com/repository/android/generic/01\r\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/addon2/02 to old ns http:/schemas.android.com/sdk/android/repo/addon2/01\r\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/repository2/02 to old ns http:/schemas.android.com/sdk/android/repo/repository2/01\r\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http:/schemas.android.com/sdk/android/repo/sys-img2/01\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:flutter_inappwebview:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:flutter_inappwebview:debugCompileClasspath&#39;.\r\n   &gt; Could not download okhttp-3.14.9.jar (com.squareup.okhttp3:okhttp:3.14.9)\r\n      &gt; Could not get resource &#39;https:/repo.maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar&#39;.\r\n         &gt; Could not HEAD &#39;https:/repo.maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar&#39;.\r\n            &gt; No such host is known (repo.maven.apache.org)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https:/help.gradle.org\r\n\r\nBUILD FAILED in 42s\r\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\r\nWarning: Mapping new ns http:/schemas.android.com/repository/android/common/02 to old ns http:/schemas.android.com/repository/android/common/01\r\nWarning: Mapping new ns http:/schemas.android.com/repository/android/generic/02 to old ns http:/schemas.android.com/repository/android/generic/01\r\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/addon2/02 to old ns http:/schemas.android.com/sdk/android/repo/addon2/01\r\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/repository2/02 to old ns http:/schemas.android.com/sdk/android/repo/repository2/01\r\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http:/schemas.android.com/sdk/android/repo/sys-img2/01\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:flutter_inappwebview:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:flutter_inappwebview:debugCompileClasspath&#39;.\r\n   &gt; Could not download okhttp-3.14.9.jar (com.squareup.okhttp3:okhttp:3.14.9)\r\n      &gt; Could not get resource &#39;https:/repo.maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar&#39;.\r\n         &gt; Could not HEAD &#39;https:/repo*maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar&#39;.\r\n            &gt; repo.maven.apache.org\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https:/help.gradle.org\r\n\r\nBUILD FAILED in 7s\r\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\r\nException: Gradle task assembleDebug failed with exit code 1\r\nExited (sigterm)\r\n","title":"Execution failed for task &#39;:flutter_inappwebview:compileDebugJavaWithJavac&#39;","body":"<p>Launching lib\\main.dart on Android SDK built for x86 in debug mode...\nWarning: Mapping new ns http:/schemas.android.com/repository/android/common/02 to old ns http:/schemas.android.com/repository/android/common/01\nWarning: Mapping new ns http:/schemas.android.com/repository/android/generic/02 to old ns http:/schemas.android.com/repository/android/generic/01\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/addon2/02 to old ns http:/schemas.android.com/sdk/android/repo/addon2/01\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/repository2/02 to old ns http:/schemas.android.com/sdk/android/repo/repository2/01\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http:/schemas.android.com/sdk/android/repo/sys-img2/01</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':flutter_inappwebview:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':flutter_inappwebview:debugCompileClasspath'.\nCould not download okhttp-3.14.9.jar (com.squareup.okhttp3:okhttp:3.14.9)\n&gt; Could not get resource 'https:/repo.maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar'.\n&gt; Could not HEAD 'https:/repo.maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar'.\n&gt; No such host is known (repo.maven.apache.org)</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at https:/help.gradle.org</p>\n</li>\n</ul>\n<p>BUILD FAILED in 42s\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\nWarning: Mapping new ns http:/schemas.android.com/repository/android/common/02 to old ns http:/schemas.android.com/repository/android/common/01\nWarning: Mapping new ns http:/schemas.android.com/repository/android/generic/02 to old ns http:/schemas.android.com/repository/android/generic/01\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/addon2/02 to old ns http:/schemas.android.com/sdk/android/repo/addon2/01\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/repository2/02 to old ns http:/schemas.android.com/sdk/android/repo/repository2/01\nWarning: Mapping new ns http:/schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http:/schemas.android.com/sdk/android/repo/sys-img2/01</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':flutter_inappwebview:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':flutter_inappwebview:debugCompileClasspath'.\nCould not download okhttp-3.14.9.jar (com.squareup.okhttp3:okhttp:3.14.9)\n&gt; Could not get resource 'https:/repo.maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar'.\n&gt; Could not HEAD 'https:/repo*maven.apache.org/maven2/com/squareup/okhttp3/okhttp/3.14.9/okhttp-3.14.9.jar'.\n&gt; repo.maven.apache.org</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at https:/help.gradle.org</p>\n</li>\n</ul>\n<p>BUILD FAILED in 7s\n[!] Gradle threw an error while downloading artifacts from the network. Retrying to download...\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)</p>\n"},{"tags":["java","android","exception","multi-touch"],"comments":[{"owner":{"account_id":37436,"reputation":15715,"user_id":107029,"accept_rate":83,"display_name":"Peterdk"},"score":0,"creation_date":1318071918,"post_id":6919292,"comment_id":9357702,"body_markdown":"Yes, I have exactly the same problem on HoneyComb only with my mini piano. On phones it&#39;s just behaving normally.","body":"Yes, I have exactly the same problem on HoneyComb only with my mini piano. On phones it&#39;s just behaving normally."}],"answers":[{"tags":[],"owner":{"account_id":423682,"reputation":1766,"user_id":803244,"accept_rate":83,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1312330684,"creation_date":1312330684,"answer_id":6920299,"question_id":6919292,"body_markdown":"Your missing a few things, you need to apply the mask to the pointer otherwise as you are not technically accessing the ID of the finger you think you are\r\n\r\n    int action = event.getAction() &amp; MotionEvent.ACTION_MASK;     \r\n    int pointerIndex = (event.getAction() &amp; MotionEvent.ACTION_POINTER_ID_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_ID_SHIFT;\r\n    int pointerId = event.getPointerId(pointerIndex);","title":"pointerIndex out of range Android multitouch","body":"<p>Your missing a few things, you need to apply the mask to the pointer otherwise as you are not technically accessing the ID of the finger you think you are</p>\n\n<pre><code>int action = event.getAction() &amp; MotionEvent.ACTION_MASK;     \nint pointerIndex = (event.getAction() &amp; MotionEvent.ACTION_POINTER_ID_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_ID_SHIFT;\nint pointerId = event.getPointerId(pointerIndex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":889382,"reputation":11,"user_id":927992,"display_name":"blackjack102"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315175569,"creation_date":1315171376,"answer_id":7302223,"question_id":6919292,"body_markdown":"Just change your `getPointerId()` to `findPointerIndex()`. Maybe change `geAction()` to `getActionMasked()`.\r\n\r\nHope it helps!","title":"pointerIndex out of range Android multitouch","body":"<p>Just change your <code>getPointerId()</code> to <code>findPointerIndex()</code>. Maybe change <code>geAction()</code> to <code>getActionMasked()</code>.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":294621,"reputation":887,"user_id":598618,"accept_rate":88,"display_name":"Millec8"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1315422371,"creation_date":1315422371,"answer_id":7339216,"question_id":6919292,"body_markdown":"My problem was that it was actually calling event.getX(1) when there wasn&#39;t actually two ids. So I made sure that there were two ids with event.getPointerCount() &gt;= 2 and it now works.  Maybe you&#39;ll have the same luck!","title":"pointerIndex out of range Android multitouch","body":"<p>My problem was that it was actually calling event.getX(1) when there wasn't actually two ids. So I made sure that there were two ids with event.getPointerCount() >= 2 and it now works.  Maybe you'll have the same luck!</p>\n"},{"tags":[],"owner":{"account_id":1458624,"reputation":550,"user_id":1373568,"display_name":"Aladin Q"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577791014,"creation_date":1350840872,"answer_id":13000343,"question_id":6919292,"body_markdown":"I&#39;m also having this error but none of the solutions before the date of my post work. The only temporary pseudo-fix which works for me is to use a **try-catch** against **IllegalArgumentException**.\r\n\r\nAccording to Android [Issue 18990][1], it is related to **ScaleGestureDetector** and a fix has been committed few days ago.\r\n\r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/android/issues/detail?id=18990","title":"pointerIndex out of range Android multitouch","body":"<p>I'm also having this error but none of the solutions before the date of my post work. The only temporary pseudo-fix which works for me is to use a <strong>try-catch</strong> against <strong>IllegalArgumentException</strong>.</p>\n\n<p>According to Android <a href=\"http://code.google.com/p/android/issues/detail?id=18990\" rel=\"nofollow noreferrer\">Issue 18990</a>, it is related to <strong>ScaleGestureDetector</strong> and a fix has been committed few days ago.</p>\n"},{"tags":[],"owner":{"account_id":2267747,"reputation":21,"user_id":1995914,"display_name":"David Fleming"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640094472,"creation_date":1358740461,"answer_id":14432307,"question_id":6919292,"body_markdown":"The original posting is using the **pointer id** when the [`getX`][1] and [`getY`][2] use the **pointer index**.\r\n\r\nIt appears to work when you use the ID for a single touch because the id and the index are both 0.  It will mess up if you use a multi-touch because the indices **can** change.\r\n\r\nExample:\r\n\r\n- Touch 1 Down.&lt;br&gt; Touch 1 State Index=0.  ID=0&lt;br&gt;\r\n\r\n- Touch 2 Down.&lt;br&gt; Touch 1 State Index=0.  ID=0&lt;br&gt; Touch 2 State\r\n**Index=1.**  ID=1&lt;br&gt;\r\n\r\n- Touch 1 Release.&lt;br&gt; Touch 2 State **Index=0**.  ID=1&lt;br&gt;\r\n\r\n\r\nTry the following code:\r\n\r\n    int action = event.getAction();\t    \r\n    int pointerIndex = (action &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) \r\n                       &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\t\t\r\n    float x = event.getX(pointerIndex);\r\n    float y = event.getY(pointerIndex);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/MotionEvent#getX(int)\r\n  [2]: https://developer.android.com/reference/android/view/MotionEvent#getY(int)","title":"pointerIndex out of range Android multitouch","body":"<p>The original posting is using the <strong>pointer id</strong> when the <a href=\"https://developer.android.com/reference/android/view/MotionEvent#getX(int)\" rel=\"nofollow noreferrer\"><code>getX</code></a> and <a href=\"https://developer.android.com/reference/android/view/MotionEvent#getY(int)\" rel=\"nofollow noreferrer\"><code>getY</code></a> use the <strong>pointer index</strong>.</p>\n<p>It appears to work when you use the ID for a single touch because the id and the index are both 0.  It will mess up if you use a multi-touch because the indices <strong>can</strong> change.</p>\n<p>Example:</p>\n<ul>\n<li><p>Touch 1 Down.<br> Touch 1 State Index=0.  ID=0<br></p>\n</li>\n<li><p>Touch 2 Down.<br> Touch 1 State Index=0.  ID=0<br> Touch 2 State\n<strong>Index=1.</strong>  ID=1<br></p>\n</li>\n<li><p>Touch 1 Release.<br> Touch 2 State <strong>Index=0</strong>.  ID=1<br></p>\n</li>\n</ul>\n<p>Try the following code:</p>\n<pre><code>int action = event.getAction();     \nint pointerIndex = (action &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) \n                   &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;       \nfloat x = event.getX(pointerIndex);\nfloat y = event.getY(pointerIndex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5717927,"reputation":10607,"user_id":4517450,"display_name":"vikas kumar"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1577791389,"creation_date":1577791389,"answer_id":59543453,"question_id":6919292,"body_markdown":"For those who are still looking for answers please note that this may happen also when you are using any **ViewPager** with some **Zooming** or **Scaling** features on image etc inside it. Then there is a possibility you can get this Exception as well. \r\n\r\n**Solution**:\r\n\r\n**Extend** the existing **ViewPager** and override these methods with try catch. \r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent ev) {\r\n        try {\r\n            return super.onTouchEvent(ev);\r\n        } catch (IllegalArgumentException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean onInterceptTouchEvent(MotionEvent ev) {\r\n        try {\r\n            return super.onInterceptTouchEvent(ev);\r\n        } catch (IllegalArgumentException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return false;\r\n    }","title":"pointerIndex out of range Android multitouch","body":"<p>For those who are still looking for answers please note that this may happen also when you are using any <strong>ViewPager</strong> with some <strong>Zooming</strong> or <strong>Scaling</strong> features on image etc inside it. Then there is a possibility you can get this Exception as well. </p>\n\n<p><strong>Solution</strong>:</p>\n\n<p><strong>Extend</strong> the existing <strong>ViewPager</strong> and override these methods with try catch. </p>\n\n<pre><code>@Override\npublic boolean onTouchEvent(MotionEvent ev) {\n    try {\n        return super.onTouchEvent(ev);\n    } catch (IllegalArgumentException ex) {\n        ex.printStackTrace();\n    }\n    return false;\n}\n\n@Override\npublic boolean onInterceptTouchEvent(MotionEvent ev) {\n    try {\n        return super.onInterceptTouchEvent(ev);\n    } catch (IllegalArgumentException ex) {\n        ex.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24559488,"reputation":75,"user_id":18467494,"display_name":"Abdullah Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664963223,"creation_date":1664963223,"answer_id":73958619,"question_id":6919292,"body_markdown":"This worked for me : \r\n\r\n    @Override\r\n    public boolean dispatchTouchEvent(MotionEvent ev) {\r\n        try {\r\n            return super.dispatchTouchEvent(ev);\r\n        } catch (IllegalArgumentException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n","title":"pointerIndex out of range Android multitouch","body":"<p>This worked for me :</p>\n<pre><code>@Override\npublic boolean dispatchTouchEvent(MotionEvent ev) {\n    try {\n        return super.dispatchTouchEvent(ev);\n    } catch (IllegalArgumentException ex) {\n        ex.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":278813,"reputation":11279,"user_id":573595,"accept_rate":89,"display_name":"DRiFTy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48449,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":7339216,"answer_count":7,"score":45,"last_activity_date":1664963223,"creation_date":1312322838,"question_id":6919292,"body_markdown":"I have a touch event exception that is causing my game to crash on tablets (or more specifically, honeycomb)... My game works fine on my phone and I haven&#39;t heard of this happening to anyone that isn&#39;t running Android 3.0 or higher. Here is the relevant log info...\r\n\r\n    E/AndroidRuntime(26487): java.lang.IllegalArgumentException: pointerIndex out of range\r\n    E/AndroidRuntime(26487): \tat android.view.MotionEvent.nativeGetAxisValue(Native Method)\r\n    E/AndroidRuntime(26487): \tat android.view.MotionEvent.getX(MotionEvent.java:1549)\r\n    E/AndroidRuntime(26487): \tat kieran.android.asteroids.GameUI.onTouchEvent(GameUI.java:665)\r\n    E/AndroidRuntime(26487): \tat android.view.View.dispatchTouchEvent(View.java:4616)\r\n    E/AndroidRuntime(26487): \tat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)\r\n    E/AndroidRuntime(26487): \tat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1291)\r\n    E/AndroidRuntime(26487): \tat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)\r\n    E/AndroidRuntime(26487): \tat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1291)\r\n    E/AndroidRuntime(26487): \tat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)\r\n    E/AndroidRuntime(26487): \tat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1291)\r\n\r\n... And here is the code that is calling it. Seems fine to me, but maybe there is a bug in honeycomb that hasn&#39;t been fixed yet? The line number 665 from the log above corresponds to the `float x = event.getX(id);` line. It must have something to do with the way I am getting the `which` variable maybe? But it works fine on the phones/2.3 and lower...\r\n    \r\n    int action = event.getAction();\r\n    int actionCode = action &amp; MotionEvent.ACTION_MASK;\r\n\r\n    if(actionCode == MotionEvent.ACTION_POINTER_UP || action == MotionEvent.ACTION_UP) {\r\n    \tint which = action &gt;&gt; MotionEvent.ACTION_POINTER_ID_SHIFT;\r\n    \tint id = event.getPointerId(which);\r\n    \tfloat x = event.getX(id);\r\n    \tfloat y = event.getY(id);\r\n\r\nAny help/ideas would be greatly appreciated as I am trying to make my game available to tablet users as well. Thanks.","title":"pointerIndex out of range Android multitouch","body":"<p>I have a touch event exception that is causing my game to crash on tablets (or more specifically, honeycomb)... My game works fine on my phone and I haven't heard of this happening to anyone that isn't running Android 3.0 or higher. Here is the relevant log info...</p>\n\n<pre><code>E/AndroidRuntime(26487): java.lang.IllegalArgumentException: pointerIndex out of range\nE/AndroidRuntime(26487):    at android.view.MotionEvent.nativeGetAxisValue(Native Method)\nE/AndroidRuntime(26487):    at android.view.MotionEvent.getX(MotionEvent.java:1549)\nE/AndroidRuntime(26487):    at kieran.android.asteroids.GameUI.onTouchEvent(GameUI.java:665)\nE/AndroidRuntime(26487):    at android.view.View.dispatchTouchEvent(View.java:4616)\nE/AndroidRuntime(26487):    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)\nE/AndroidRuntime(26487):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1291)\nE/AndroidRuntime(26487):    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)\nE/AndroidRuntime(26487):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1291)\nE/AndroidRuntime(26487):    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1560)\nE/AndroidRuntime(26487):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1291)\n</code></pre>\n\n<p>... And here is the code that is calling it. Seems fine to me, but maybe there is a bug in honeycomb that hasn't been fixed yet? The line number 665 from the log above corresponds to the <code>float x = event.getX(id);</code> line. It must have something to do with the way I am getting the <code>which</code> variable maybe? But it works fine on the phones/2.3 and lower...</p>\n\n<pre><code>int action = event.getAction();\nint actionCode = action &amp; MotionEvent.ACTION_MASK;\n\nif(actionCode == MotionEvent.ACTION_POINTER_UP || action == MotionEvent.ACTION_UP) {\n    int which = action &gt;&gt; MotionEvent.ACTION_POINTER_ID_SHIFT;\n    int id = event.getPointerId(which);\n    float x = event.getX(id);\n    float y = event.getY(id);\n</code></pre>\n\n<p>Any help/ideas would be greatly appreciated as I am trying to make my game available to tablet users as well. Thanks.</p>\n"},{"tags":["java","sql-server","spring-data-jpa","repository"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665044059,"post_id":73958504,"comment_id":130608030,"body_markdown":"Please include all the information for your question in the question, do not hide them behind links.","body":"Please include all the information for your question in the question, do not hide them behind links."}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664963140,"creation_date":1664963140,"answer_id":73958598,"question_id":73958504,"body_markdown":"You can create custom queries in spring data jpa using specifications\r\n\r\nHere you conditionally add create criteria queries.  \r\nref:\r\n\r\nhttps://reflectoring.io/spring-data-specifications/\r\n\r\nhttps://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n\r\nThis can help you with all your custom permutations and combinations.","title":"Conditional Query depending on parameters","body":"<p>You can create custom queries in spring data jpa using specifications</p>\n<p>Here you conditionally add create criteria queries.<br />\nref:</p>\n<p><a href=\"https://reflectoring.io/spring-data-specifications/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-data-specifications/</a></p>\n<p><a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/</a></p>\n<p>This can help you with all your custom permutations and combinations.</p>\n"}],"owner":{"account_id":25140250,"reputation":3,"user_id":18986679,"display_name":"anmursas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665044133,"answer_count":1,"score":0,"last_activity_date":1664963140,"creation_date":1664962678,"question_id":73958504,"body_markdown":"I&#39;m doing a React + Springboot application. In some part of the app I have a four selectors and a button to search(&quot;Buscar&quot;). \r\n[Like this][1]\r\n\r\nWhat I&#39;m trying to do is a conditional query depending on which values are selected.\r\nWith this code below I can do the query if all the values are filled but if some is missing it throws an error (\r\n[Current Query][2] )\r\n\r\nI think it may be with the Specifiaction or something like that not sure yet\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CyHc7.png\r\n  [2]: https://i.stack.imgur.com/7yTtn.png","title":"Conditional Query depending on parameters","body":"<p>I'm doing a React + Springboot application. In some part of the app I have a four selectors and a button to search(&quot;Buscar&quot;).\n<a href=\"https://i.stack.imgur.com/CyHc7.png\" rel=\"nofollow noreferrer\">Like this</a></p>\n<p>What I'm trying to do is a conditional query depending on which values are selected.\nWith this code below I can do the query if all the values are filled but if some is missing it throws an error (\n<a href=\"https://i.stack.imgur.com/7yTtn.png\" rel=\"nofollow noreferrer\">Current Query</a> )</p>\n<p>I think it may be with the Specifiaction or something like that not sure yet</p>\n"},{"tags":["java","plugins","intellij-idea","path"],"comments":[{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":0,"creation_date":1409311221,"post_id":25567111,"comment_id":39927660,"body_markdown":"The plugins folder is located in the `[Install Dir]/JetBrains/IntelliJ Ideaxxx/plugins` was there an error during the plugin installation ?","body":"The plugins folder is located in the <code>[Install Dir]&#47;JetBrains&#47;IntelliJ Ideaxxx&#47;plugins</code> was there an error during the plugin installation ?"},{"owner":{"account_id":1765944,"reputation":4779,"user_id":1611830,"accept_rate":58,"display_name":"user1611830"},"score":0,"creation_date":1409311300,"post_id":25567111,"comment_id":39927690,"body_markdown":"@KennethClark sorry if it is a stupid question, but where is the JetBrains directory ? the doc indicates `~/Library/Application Support/IntelliJIdeaXX` but I find nothing (as indicated here `https://intellij-support.jetbrains.com/entries/23358108-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs`)","body":"@KennethClark sorry if it is a stupid question, but where is the JetBrains directory ? the doc indicates <code>~&#47;Library&#47;Application Support&#47;IntelliJIdeaXX</code> but I find nothing (as indicated here <code>https:&#47;&#47;intellij-support.jetbrains.com&#47;entries&#47;23358108-Dire&zwnj;&#8203;ctories-used-by-the-&zwnj;&#8203;IDE-to-store-setting&zwnj;&#8203;s-caches-plugins-and&zwnj;&#8203;-logs</code>)"},{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":0,"creation_date":1409312115,"post_id":25567111,"comment_id":39928069,"body_markdown":"Are you using Linux ?","body":"Are you using Linux ?"},{"owner":{"account_id":1765944,"reputation":4779,"user_id":1611830,"accept_rate":58,"display_name":"user1611830"},"score":0,"creation_date":1409312692,"post_id":25567111,"comment_id":39928363,"body_markdown":"@KennethClark no I am using `OSX`","body":"@KennethClark no I am using <code>OSX</code>"},{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":0,"creation_date":1409313483,"post_id":25567111,"comment_id":39928764,"body_markdown":"I have not actually installed IntelliJ on OSX but im assuming it will be in the following path `/opt/local/Library/`","body":"I have not actually installed IntelliJ on OSX but im assuming it will be in the following path <code>&#47;opt&#47;local&#47;Library&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":9150635,"reputation":169,"user_id":6805334,"display_name":"李方郑"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1505109311,"creation_date":1505109311,"answer_id":46149030,"question_id":25567111,"body_markdown":"Mac\r\n\r\n`/Applications/IntelliJ IDEA.app/Contents/plugins`","title":"intelliJ plugin installation path","body":"<p>Mac</p>\n\n<p><code>/Applications/IntelliJ IDEA.app/Contents/plugins</code></p>\n"},{"tags":[],"owner":{"account_id":1795799,"reputation":403,"user_id":1635225,"display_name":"Serhii Vasko"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1618869072,"creation_date":1618869072,"answer_id":67169778,"question_id":25567111,"body_markdown":"[Location of the IDE files depends on the operating system, product and version.][1]\r\n\r\nWindows:\r\nPlugins (idea.plugins.path): \r\nC:\\Users\\&lt;user&gt;\\AppData\\Roaming\\JetBrains\\IntelliJIdea2020.3\\plugins\r\n\r\nmacOS:\r\nPlugins (idea.plugins.path): ~/Library/Application \r\n\r\nLinux:\r\nPlugins (idea.plugins.path): ~/.local/share/JetBrains/IntelliJIdea2020.3\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs","title":"intelliJ plugin installation path","body":"<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs\" rel=\"nofollow noreferrer\">Location of the IDE files depends on the operating system, product and version.</a></p>\n<p>Windows:\nPlugins (idea.plugins.path):\nC:\\Users&lt;user&gt;\\AppData\\Roaming\\JetBrains\\IntelliJIdea2020.3\\plugins</p>\n<p>macOS:\nPlugins (idea.plugins.path): ~/Library/Application</p>\n<p>Linux:\nPlugins (idea.plugins.path): ~/.local/share/JetBrains/IntelliJIdea2020.3</p>\n"},{"tags":[],"owner":{"account_id":20948184,"reputation":11,"user_id":15390520,"display_name":"Maxim Golota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664963093,"creation_date":1664431407,"answer_id":73890924,"question_id":25567111,"body_markdown":"According to the [JetBrains documentation][1] it locates here for IntelliJ IDEA 2022.2:\r\n\r\nWindows:\r\n\r\n    Plugins (idea.plugins.path): %APPDATA%\\JetBrains\\IntelliJIdea2022.2\\plugins\r\n\r\nmacOS:\r\n\r\n    Plugins (idea.plugins.path): ~/Library/Application Support/JetBrains/IntelliJIdea2022.2/plugins\r\n\r\nLinux:\r\n\r\n    Plugins (idea.plugins.path): ~/.local/share/JetBrains/IntelliJIdea2022.2\r\n\r\nTake into account on mac I could find it via terminal.\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs","title":"intelliJ plugin installation path","body":"<p>According to the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs\" rel=\"nofollow noreferrer\">JetBrains documentation</a> it locates here for IntelliJ IDEA 2022.2:</p>\n<p>Windows:</p>\n<pre><code>Plugins (idea.plugins.path): %APPDATA%\\JetBrains\\IntelliJIdea2022.2\\plugins\n</code></pre>\n<p>macOS:</p>\n<pre><code>Plugins (idea.plugins.path): ~/Library/Application Support/JetBrains/IntelliJIdea2022.2/plugins\n</code></pre>\n<p>Linux:</p>\n<pre><code>Plugins (idea.plugins.path): ~/.local/share/JetBrains/IntelliJIdea2022.2\n</code></pre>\n<p>Take into account on mac I could find it via terminal.</p>\n"}],"owner":{"account_id":1765944,"reputation":4779,"user_id":1611830,"accept_rate":58,"display_name":"user1611830"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664963093,"creation_date":1409310569,"question_id":25567111,"body_markdown":"I have installed `visualvm` plugin in from the dedicated `intelliJ` panel. I am now the plugin path. I can&#39;t find it, I tried :  `~/Library/Application Support/IntelliJIdeaXX` but I only get the two files `availables.xml extensions.xml`. I suppose the path I am asked is the jar file of the installed plugin, but I don&#39;t know where it is stored. Could someone help ?","title":"intelliJ plugin installation path","body":"<p>I have installed <code>visualvm</code> plugin in from the dedicated <code>intelliJ</code> panel. I am now the plugin path. I can't find it, I tried :  <code>~/Library/Application Support/IntelliJIdeaXX</code> but I only get the two files <code>availables.xml extensions.xml</code>. I suppose the path I am asked is the jar file of the installed plugin, but I don't know where it is stored. Could someone help ?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664965199,"post_id":73958586,"comment_id":130587396,"body_markdown":"Can you check `user/.m2/repository/org/glassfish/ha/ha-api/3.1.12/class-model.jar` path. Do you have fine?","body":"Can you check <code>user&#47;.m2&#47;repository&#47;org&#47;glassfish&#47;ha&#47;ha-api&#47;3.1.12&#47;class-mod&zwnj;&#8203;el.jar</code> path. Do you have fine?"},{"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"score":0,"creation_date":1664966750,"post_id":73958586,"comment_id":130587918,"body_markdown":"@DhavalGajjar yes i have checked it before, when i remove glassfish directory and reload maven project, maven download it again, but that jar file is missing","body":"@DhavalGajjar yes i have checked it before, when i remove glassfish directory and reload maven project, maven download it again, but that jar file is missing"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664967181,"post_id":73958586,"comment_id":130588070,"body_markdown":"Just to check whether it works download the jar file manually from mvnrepository.com and place it in that directory. If it works then either you can add that in pom.xml (May cause a problem if you upgrade library versions) as a dependency or check the dependency graph using `mvn dependency:tree`","body":"Just to check whether it works download the jar file manually from mvnrepository.com and place it in that directory. If it works then either you can add that in pom.xml (May cause a problem if you upgrade library versions) as a dependency or check the dependency graph using <code>mvn dependency:tree</code>"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664963092,"creation_date":1664963092,"question_id":73958586,"body_markdown":"I have project using spring boot with maven, when i run it it works perfectly fine, but when i try to use debuger it stops in URLClassPath with FileNotFoundException, the path to file that was not found is &quot;user/.m2/repository/org/glassfish/ha/ha-api/3.1.12/class-model.jar&quot;. \r\n\r\nAm i missing some dependency? I tried to add glassfish dependency to my pom file, but this does not fix my issue, and not being able to use Debug mode is quite difficult sometimes.\r\n\r\nMy pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;&lt;/groupId&gt;\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;&lt;/name&gt;\r\n    &lt;description&gt;&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.14&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.sendgrid/sendgrid-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sendgrid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.jonathanlink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;PDFLayoutTextStripper&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.locationtech.proj4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;proj4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hk2-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.13.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                    &lt;generatePackage&gt;big.wsdl&lt;/generatePackage&gt;\r\n                    &lt;schemas&gt;\r\n                        &lt;schema&gt;\r\n                            &lt;url&gt;https://wasstt.infomonitor.pl/bigApi/v1/LiabilitiesManagementService/WEB-INF/wsdl/wsBigApi1v1.wsdl&lt;/url&gt;\r\n                        &lt;/schema&gt;\r\n                    &lt;/schemas&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Java missing hk2.jar","body":"<p>I have project using spring boot with maven, when i run it it works perfectly fine, but when i try to use debuger it stops in URLClassPath with FileNotFoundException, the path to file that was not found is &quot;user/.m2/repository/org/glassfish/ha/ha-api/3.1.12/class-model.jar&quot;.</p>\n<p>Am i missing some dependency? I tried to add glassfish dependency to my pom file, but this does not fix my issue, and not being able to use Debug mode is quite difficult sometimes.</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;&lt;/groupId&gt;\n    &lt;artifactId&gt;&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;&lt;/name&gt;\n    &lt;description&gt;&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.14&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sendgrid/sendgrid-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sendgrid&lt;/groupId&gt;\n            &lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;\n            &lt;version&gt;4.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.jonathanlink&lt;/groupId&gt;\n            &lt;artifactId&gt;PDFLayoutTextStripper&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.locationtech.proj4j&lt;/groupId&gt;\n            &lt;artifactId&gt;proj4j&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.13.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n                &lt;configuration&gt;\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                    &lt;generatePackage&gt;big.wsdl&lt;/generatePackage&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;\n                            &lt;url&gt;https://wasstt.infomonitor.pl/bigApi/v1/LiabilitiesManagementService/WEB-INF/wsdl/wsBigApi1v1.wsdl&lt;/url&gt;\n                        &lt;/schema&gt;\n                    &lt;/schemas&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ldap"],"answers":[{"tags":[],"owner":{"account_id":6804288,"reputation":21,"user_id":5236601,"display_name":"macrianus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664963053,"creation_date":1664444400,"answer_id":73893382,"question_id":64129238,"body_markdown":"After debugging SimpleLdapRepository implementation I have discovered that a class marked with `@Entry` needs to implement Persistable interface in order to be able to save new entry in `LDAP`.\r\n","title":"Spring data ldap not persisting user but ldap template works","body":"<p>After debugging SimpleLdapRepository implementation I have discovered that a class marked with <code>@Entry</code> needs to implement Persistable interface in order to be able to save new entry in <code>LDAP</code>.</p>\n"}],"owner":{"account_id":7297640,"reputation":4600,"user_id":5561773,"accept_rate":65,"display_name":"Clement"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664963053,"creation_date":1601424480,"question_id":64129238,"body_markdown":"I am trying to use Spring data LDAP to persist a new user to Open DJ ldap server. It works well with the LdapTemplate. But if I try and use Spring Data, the object classes are not taken into account and I get the following error:\r\n\r\n```java\r\njavax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Entry dc=example,dc=com cannot be modified because the resulting entry would have violated the server schema: Entry dc=example,dc=com violates the Directory Server schema configuration because it includes attribute cn which is not allowed by any of the objectclasses defined in that entry]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3190) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3105) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2896) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1476) ~[na:na]\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:277) ~[na:na]\r\n\tat java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:192) ~[na:na]\r\n\tat java.naming/javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:201) ~[na:na]\r\n\tat org.springframework.ldap.core.LdapTemplate$19.executeWithContext(LdapTemplate.java:966) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:817) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.ldap.core.LdapTemplate.executeReadWrite(LdapTemplate.java:812) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.ldap.core.LdapTemplate.modifyAttributes(LdapTemplate.java:964) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.ldap.core.LdapTemplate.modifyAttributes(LdapTemplate.java:1317) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.ldap.core.LdapTemplate.update(LdapTemplate.java:1778) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\tat org.springframework.data.ldap.repository.support.SimpleLdapRepository.save(SimpleLdapRepository.java:110) ~[spring-data-ldap-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat com.sun.proxy.$Proxy62.save(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat com.sun.proxy.$Proxy62.save(Unknown Source) ~[na:na]\r\n\tat com.example.demo.services.UserService.create(UserService.java:44) ~[main/:na]\r\n\tat com.example.demo.controllers.LdapTestController.createUser(LdapTestController.java:26) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n\tat java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\r\n\r\n```\r\n\r\n```java\r\n@Configuration\r\n@EnableLdapRepositories(basePackages = {&quot;com.example.demo.**&quot;})\r\npublic class LdapConfig {\r\n\r\n    private final String ldapUrl;\r\n    private final String directoryManagerDistinguishedName;\r\n    private final String directoryManagerPassword;\r\n    private final String baseDistinguishedName;\r\n\r\n    public LdapConfig(@Value(&quot;${ldap.url}&quot;) String ldapUrl,\r\n                      @Value(&quot;${ldap.directory-manager.dn}&quot;) String directoryManagerDistinguishedName,\r\n                      @Value(&quot;${ldap.directory-manager.password}&quot;) String directoryManagerPassword,\r\n                      @Value(&quot;${ldap.base-dn}&quot;) String baseDistinguishedName) {\r\n        this.ldapUrl = ldapUrl;\r\n        this.directoryManagerDistinguishedName = directoryManagerDistinguishedName;\r\n        this.directoryManagerPassword = directoryManagerPassword;\r\n        this.baseDistinguishedName = baseDistinguishedName;\r\n    }\r\n\r\n    @Bean\r\n    ContextSource contextSource() {\r\n        LdapContextSource ldapContextSource = new LdapContextSource();\r\n        ldapContextSource.setUrl(ldapUrl);\r\n        ldapContextSource.setUserDn(directoryManagerDistinguishedName);\r\n        ldapContextSource.setPassword(directoryManagerPassword);\r\n        ldapContextSource.setBase(baseDistinguishedName);\r\n\r\n        return ldapContextSource;\r\n    }\r\n\r\n    @Bean\r\n    LdapTemplate ldapTemplate(ContextSource contextSource) {\r\n        return new LdapTemplate(contextSource);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**The code below works:** Using the ldap template bean.\r\n\r\n```java\r\npublic void create(String firstName, String username, String lastName, String password) {\r\n    Name dn = LdapNameBuilder\r\n        .newInstance()\r\n        .add(&quot;ou&quot;, &quot;users&quot;)\r\n        .add(&quot;cn&quot;, firstName)\r\n        .build();\r\n    DirContextAdapter context = new DirContextAdapter(dn);\r\n    String[] objectClasses = {&quot;top&quot;, &quot;person&quot;, &quot;organizationalPerson&quot;, &quot;inetOrgPerson&quot;};\r\n    context.setAttributeValues(&quot;objectclass&quot;, objectClasses);\r\n    context.setAttributeValue(&quot;sn&quot;, lastName);\r\n    context.setAttributeValue(&quot;displayName&quot;, username);\r\n    context.setAttributeValue(&quot;userPassword&quot;, password);\r\n\r\n    ldapTemplate.bind(context);\r\n}\r\n\r\n```\r\n\r\nBut the code below using the Spring Data Ldap Repository does not work. The same object classes have been provided in the `@Entry` annotation for the model.\r\n\r\n```java\r\npublic void create(String firstName, String username, String lastName, String password) {        \r\n    User user = new User(firstName, lastName, password, username);\r\n    userRepository.save(user);\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface UserRepository extends LdapRepository&lt;User&gt; {\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Entry(\r\n    objectClasses = {&quot;top&quot;, &quot;person&quot;, &quot;organizationalPerson&quot;, &quot;inetOrgPerson&quot;},\r\n    base = &quot;ou=users&quot;\r\n)\r\npublic class User {\r\n    @Id\r\n    private Name dn;\r\n\r\n    @Attribute(name = &quot;cn&quot;) private String firstName;\r\n    @Attribute(name = &quot;sn&quot;) private String lastName;\r\n    @Attribute(name = &quot;userPassword&quot;) private String userPassword;\r\n    @Attribute(name = &quot;displayName&quot;) private String displayName;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(String firstName, String lastName, String userPassword, String displayName) {\r\n        this.dn = LdapNameBuilder\r\n            .newInstance()\r\n            .build();\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.userPassword = userPassword;\r\n        this.displayName = displayName;\r\n    }\r\n\r\n    // ...getters and setters\r\n}\r\n\r\n```","title":"Spring data ldap not persisting user but ldap template works","body":"<p>I am trying to use Spring data LDAP to persist a new user to Open DJ ldap server. It works well with the LdapTemplate. But if I try and use Spring Data, the object classes are not taken into account and I get the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Entry dc=example,dc=com cannot be modified because the resulting entry would have violated the server schema: Entry dc=example,dc=com violates the Directory Server schema configuration because it includes attribute cn which is not allowed by any of the objectclasses defined in that entry]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3190) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3105) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2896) ~[na:na]\n    at java.naming/com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1476) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:277) ~[na:na]\n    at java.naming/com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:192) ~[na:na]\n    at java.naming/javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:201) ~[na:na]\n    at org.springframework.ldap.core.LdapTemplate$19.executeWithContext(LdapTemplate.java:966) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:817) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.executeReadWrite(LdapTemplate.java:812) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.modifyAttributes(LdapTemplate.java:964) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.modifyAttributes(LdapTemplate.java:1317) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.update(LdapTemplate.java:1778) ~[spring-ldap-core-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.data.ldap.repository.support.SimpleLdapRepository.save(SimpleLdapRepository.java:110) ~[spring-data-ldap-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at com.sun.proxy.$Proxy62.save(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at com.sun.proxy.$Proxy62.save(Unknown Source) ~[na:na]\n    at com.example.demo.services.UserService.create(UserService.java:44) ~[main/:na]\n    at com.example.demo.controllers.LdapTestController.createUser(LdapTestController.java:26) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableLdapRepositories(basePackages = {&quot;com.example.demo.**&quot;})\npublic class LdapConfig {\n\n    private final String ldapUrl;\n    private final String directoryManagerDistinguishedName;\n    private final String directoryManagerPassword;\n    private final String baseDistinguishedName;\n\n    public LdapConfig(@Value(&quot;${ldap.url}&quot;) String ldapUrl,\n                      @Value(&quot;${ldap.directory-manager.dn}&quot;) String directoryManagerDistinguishedName,\n                      @Value(&quot;${ldap.directory-manager.password}&quot;) String directoryManagerPassword,\n                      @Value(&quot;${ldap.base-dn}&quot;) String baseDistinguishedName) {\n        this.ldapUrl = ldapUrl;\n        this.directoryManagerDistinguishedName = directoryManagerDistinguishedName;\n        this.directoryManagerPassword = directoryManagerPassword;\n        this.baseDistinguishedName = baseDistinguishedName;\n    }\n\n    @Bean\n    ContextSource contextSource() {\n        LdapContextSource ldapContextSource = new LdapContextSource();\n        ldapContextSource.setUrl(ldapUrl);\n        ldapContextSource.setUserDn(directoryManagerDistinguishedName);\n        ldapContextSource.setPassword(directoryManagerPassword);\n        ldapContextSource.setBase(baseDistinguishedName);\n\n        return ldapContextSource;\n    }\n\n    @Bean\n    LdapTemplate ldapTemplate(ContextSource contextSource) {\n        return new LdapTemplate(contextSource);\n    }\n\n}\n\n</code></pre>\n<p><strong>The code below works:</strong> Using the ldap template bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void create(String firstName, String username, String lastName, String password) {\n    Name dn = LdapNameBuilder\n        .newInstance()\n        .add(&quot;ou&quot;, &quot;users&quot;)\n        .add(&quot;cn&quot;, firstName)\n        .build();\n    DirContextAdapter context = new DirContextAdapter(dn);\n    String[] objectClasses = {&quot;top&quot;, &quot;person&quot;, &quot;organizationalPerson&quot;, &quot;inetOrgPerson&quot;};\n    context.setAttributeValues(&quot;objectclass&quot;, objectClasses);\n    context.setAttributeValue(&quot;sn&quot;, lastName);\n    context.setAttributeValue(&quot;displayName&quot;, username);\n    context.setAttributeValue(&quot;userPassword&quot;, password);\n\n    ldapTemplate.bind(context);\n}\n\n</code></pre>\n<p>But the code below using the Spring Data Ldap Repository does not work. The same object classes have been provided in the <code>@Entry</code> annotation for the model.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void create(String firstName, String username, String lastName, String password) {        \n    User user = new User(firstName, lastName, password, username);\n    userRepository.save(user);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends LdapRepository&lt;User&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entry(\n    objectClasses = {&quot;top&quot;, &quot;person&quot;, &quot;organizationalPerson&quot;, &quot;inetOrgPerson&quot;},\n    base = &quot;ou=users&quot;\n)\npublic class User {\n    @Id\n    private Name dn;\n\n    @Attribute(name = &quot;cn&quot;) private String firstName;\n    @Attribute(name = &quot;sn&quot;) private String lastName;\n    @Attribute(name = &quot;userPassword&quot;) private String userPassword;\n    @Attribute(name = &quot;displayName&quot;) private String displayName;\n\n    public User() {\n    }\n\n    public User(String firstName, String lastName, String userPassword, String displayName) {\n        this.dn = LdapNameBuilder\n            .newInstance()\n            .build();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.userPassword = userPassword;\n        this.displayName = displayName;\n    }\n\n    // ...getters and setters\n}\n\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664961752,"post_id":73958257,"comment_id":130586319,"body_markdown":"What is the difference between first and last child of *chunk*. Looks like the last is generated in the correct way?","body":"What is the difference between first and last child of <i>chunk</i>. Looks like the last is generated in the correct way?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664961823,"post_id":73958257,"comment_id":130586339,"body_markdown":"BTW: Do not address files with prefix *src/main/resources/*. This folder will not exist if you run the code as a jar","body":"BTW: Do not address files with prefix <i>src/main/resources/</i>. This folder will not exist if you run the code as a jar"},{"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"score":0,"creation_date":1664961883,"post_id":73958257,"comment_id":130586364,"body_markdown":"Just change the id, and then run main@Jens","body":"Just change the id, and then run main@Jens"}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1664962880,"creation_date":1664962880,"answer_id":73958544,"question_id":73958257,"body_markdown":"May be it&#39;s a result of a known bug in Java9 or later.\r\n\r\nFor further details see: https://bugs.openjdk.org/browse/JDK-8262285?attachmentViewMode=list","title":"Extra empty lines appear when saving the XML file","body":"<p>May be it's a result of a known bug in Java9 or later.</p>\n<p>For further details see: <a href=\"https://bugs.openjdk.org/browse/JDK-8262285?attachmentViewMode=list\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8262285?attachmentViewMode=list</a></p>\n"}],"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73958544,"answer_count":1,"score":0,"last_activity_date":1664962880,"creation_date":1664961339,"question_id":73958257,"body_markdown":"When saving an XML file in Java, multiple runs show that after each run, a line of white space is added between the elements, and the most recently inserted data is normal. How to solve this problem?\r\n\r\n    public class OperateXml {\r\n        public static void main(String[] args) {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            try {\r\n                DocumentBuilder builder = factory.newDocumentBuilder();\r\n                Document document = builder.parse(&quot;src/main/resources/chunkInfo/chunk.xml&quot;);\r\n                add(document);\r\n                saveDocument(document, new File(&quot;src/main/resources/chunkInfo/chunk.xml&quot;));\r\n            } catch (Exception e) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public static void saveDocument(Document document, File xmlFile) {\r\n            TransformerFactory tff = TransformerFactory.newInstance();\r\n            tff.setAttribute(&quot;indent-number&quot;, 2);\r\n            try {\r\n                Transformer tf = tff.newTransformer();\r\n                tf.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;chunk.dtd&quot;);\r\n                tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                tf.transform(new DOMSource(document), new StreamResult(xmlFile));\r\n            } catch (TransformerConfigurationException e) {\r\n                e.printStackTrace();\r\n            } catch (TransformerException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void add(Document document) {\r\n            Element root = document.getDocumentElement();\r\n            Element chunk = document.createElement(&quot;chunk&quot;);\r\n            root.appendChild(chunk);\r\n            chunk.setAttribute(&quot;id&quot;, &quot;id_8&quot;);\r\n            Element name = document.createElement(&quot;name&quot;);\r\n            name.setTextContent(&quot;test_6&quot;);\r\n            chunk.appendChild(name);\r\n            Element type = document.createElement(&quot;type&quot;);\r\n            type.setTextContent(&quot;log&quot;);\r\n            chunk.appendChild(type);\r\n            Element item = document.createElement(&quot;item&quot;);\r\n            item.setTextContent(&quot;2,3,4,5&quot;);\r\n            chunk.appendChild(item);\r\n        }\r\n    }\r\n\r\nThe result of saving XML file is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XWEiz.png","title":"Extra empty lines appear when saving the XML file","body":"<p>When saving an XML file in Java, multiple runs show that after each run, a line of white space is added between the elements, and the most recently inserted data is normal. How to solve this problem?</p>\n<pre><code>public class OperateXml {\n    public static void main(String[] args) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document document = builder.parse(&quot;src/main/resources/chunkInfo/chunk.xml&quot;);\n            add(document);\n            saveDocument(document, new File(&quot;src/main/resources/chunkInfo/chunk.xml&quot;));\n        } catch (Exception e) {\n\n        }\n    }\n\n    public static void saveDocument(Document document, File xmlFile) {\n        TransformerFactory tff = TransformerFactory.newInstance();\n        tff.setAttribute(&quot;indent-number&quot;, 2);\n        try {\n            Transformer tf = tff.newTransformer();\n            tf.setOutputProperty(OutputKeys.DOCTYPE_SYSTEM, &quot;chunk.dtd&quot;);\n            tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            tf.transform(new DOMSource(document), new StreamResult(xmlFile));\n        } catch (TransformerConfigurationException e) {\n            e.printStackTrace();\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void add(Document document) {\n        Element root = document.getDocumentElement();\n        Element chunk = document.createElement(&quot;chunk&quot;);\n        root.appendChild(chunk);\n        chunk.setAttribute(&quot;id&quot;, &quot;id_8&quot;);\n        Element name = document.createElement(&quot;name&quot;);\n        name.setTextContent(&quot;test_6&quot;);\n        chunk.appendChild(name);\n        Element type = document.createElement(&quot;type&quot;);\n        type.setTextContent(&quot;log&quot;);\n        chunk.appendChild(type);\n        Element item = document.createElement(&quot;item&quot;);\n        item.setTextContent(&quot;2,3,4,5&quot;);\n        chunk.appendChild(item);\n    }\n}\n</code></pre>\n<p>The result of saving XML file is:\n<a href=\"https://i.stack.imgur.com/XWEiz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWEiz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","build.gradle","soap-client","gradle-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664962565,"post_id":73958463,"comment_id":130586549,"body_markdown":"Because you only build for JAXB which is generating classes from schema&#39;s it is not for generating webservice stubs.","body":"Because you only build for JAXB which is generating classes from schema&#39;s it is not for generating webservice stubs."},{"owner":{"account_id":26533630,"reputation":1,"user_id":20165468,"display_name":"Bigon"},"score":0,"creation_date":1664962784,"post_id":73958463,"comment_id":130586620,"body_markdown":"@M.Deinum So what shall I use instead of JAXB to generate webservice stubs?","body":"@M.Deinum So what shall I use instead of JAXB to generate webservice stubs?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664962872,"post_id":73958463,"comment_id":130586659,"body_markdown":"The Apache CXF plugin is what comes to mind.","body":"The Apache CXF plugin is what comes to mind."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664975119,"post_id":73958463,"comment_id":130590725,"body_markdown":"yes, (cxf) &quot;wsdl2java&quot;/ (jaxws) &quot;wsimport&quot;...","body":"yes, (cxf) &quot;wsdl2java&quot;/ (jaxws) &quot;wsimport&quot;..."}],"owner":{"account_id":26533630,"reputation":1,"user_id":20165468,"display_name":"Bigon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664962473,"creation_date":1664962473,"question_id":73958463,"body_markdown":"I am trying to add a SOAP client in my spring application. I haven&#39;t ever worked on SOAP clients before. I looked it up and found a basic [tutorial][1] on it and I am following this tutorial to add a SOAP client to my Spring application.\r\n\r\nThe first step is to map the WSDL file to the Java classes. For that I wrote a gradle script as described in the tutorial. When I run the above script, it generates classes from `xs:complexType` and `xs:element` but it doesn&#39;t generate any service endpoint interface from `wsdl:portType`\r\n\r\nGradle task:\r\n\r\n    task genJaxb {\r\n\text.sourcesDir = &quot;${projectDir}/java/main&quot;\r\n\text.classesDir = &quot;${buildDir}/classes/main&quot;\r\n\text.schema = &quot;java/main/resources/wsdl_file.wsdl&quot;\r\n\r\n\toutputs.dir classesDir\r\n\r\n\tdoLast() {\r\n\t\tproject.ant {\r\n\t\t\ttaskdef name: &quot;xjc&quot;, classname: &quot;com.sun.tools.xjc.XJCTask&quot;,\r\n\t\t\t\t\tclasspath: configurations.jaxb.asPath\r\n\t\t\tmkdir(dir: sourcesDir)\r\n\t\t\tmkdir(dir: classesDir)\r\n\r\n\t\t\t\txjc(destdir: sourcesDir, schema: schema,\r\n\t\t\t\t\t\tpackage: &quot;com.example.consumingwebservice.wsdl&quot;) {\r\n\t\t\t\t\t\targ(value: &quot;-wsdl&quot;)\r\n\t\t\t\t\tproduces(dir: sourcesDir, includes: &quot;**/*.java&quot;)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjavac(destdir: classesDir, source: 1.8, target: 1.8, debug: true,\r\n\t\t\t\t\t\tdebugLevel: &quot;lines,vars,source&quot;,\r\n\t\t\t\t\t\tclasspath: configurations.jaxb.asPath) {\r\n\t\t\t\t\t        src(path: sourcesDir)\r\n\t\t\t\t\t        include(name: &quot;**/*.java&quot;)\r\n\t\t\t\t\t        include(name: &quot;*.java&quot;)\r\n\t\t\t\t\t    }\r\n\r\n\t\t\t\tcopy(todir: classesDir) {\r\n\t\t\t\t\t\tfileset(dir: sourcesDir, erroronmissingdir: false) {\r\n\t\t\t\t\t\texclude(name: &quot;**/*.java&quot;)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\nOnly dependencies that I am using for this:\r\n\r\n    dependencies{\r\n        .\r\n        .\r\n        .\r\n        jaxb &#39;org.glassfish.jaxb:jaxb-core:2.2.11&#39;\r\n        jaxb &#39;org.glassfish.jaxb:jxc-core:2.2.11&#39;\r\n        jaxb &#39;org.glassfish.jaxb:xjc-core:2.2.11&#39;\r\n    }\r\n\r\nAny reason why it isn&#39;t generating the service endpoint interface using `wsdl:portType`?\r\n\r\n  [1]: https://spring.io/guides/gs/consuming-web-service/","title":"Gradle task is not mapping wsdl:portType from the WSDL to the service endpoint interface","body":"<p>I am trying to add a SOAP client in my spring application. I haven't ever worked on SOAP clients before. I looked it up and found a basic <a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">tutorial</a> on it and I am following this tutorial to add a SOAP client to my Spring application.</p>\n<p>The first step is to map the WSDL file to the Java classes. For that I wrote a gradle script as described in the tutorial. When I run the above script, it generates classes from <code>xs:complexType</code> and <code>xs:element</code> but it doesn't generate any service endpoint interface from <code>wsdl:portType</code></p>\n<p>Gradle task:</p>\n<pre><code>task genJaxb {\next.sourcesDir = &quot;${projectDir}/java/main&quot;\next.classesDir = &quot;${buildDir}/classes/main&quot;\next.schema = &quot;java/main/resources/wsdl_file.wsdl&quot;\n\noutputs.dir classesDir\n\ndoLast() {\n    project.ant {\n        taskdef name: &quot;xjc&quot;, classname: &quot;com.sun.tools.xjc.XJCTask&quot;,\n                classpath: configurations.jaxb.asPath\n        mkdir(dir: sourcesDir)\n        mkdir(dir: classesDir)\n\n            xjc(destdir: sourcesDir, schema: schema,\n                    package: &quot;com.example.consumingwebservice.wsdl&quot;) {\n                    arg(value: &quot;-wsdl&quot;)\n                produces(dir: sourcesDir, includes: &quot;**/*.java&quot;)\n            }\n\n            javac(destdir: classesDir, source: 1.8, target: 1.8, debug: true,\n                    debugLevel: &quot;lines,vars,source&quot;,\n                    classpath: configurations.jaxb.asPath) {\n                        src(path: sourcesDir)\n                        include(name: &quot;**/*.java&quot;)\n                        include(name: &quot;*.java&quot;)\n                    }\n\n            copy(todir: classesDir) {\n                    fileset(dir: sourcesDir, erroronmissingdir: false) {\n                    exclude(name: &quot;**/*.java&quot;)\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>Only dependencies that I am using for this:</p>\n<pre><code>dependencies{\n    .\n    .\n    .\n    jaxb 'org.glassfish.jaxb:jaxb-core:2.2.11'\n    jaxb 'org.glassfish.jaxb:jxc-core:2.2.11'\n    jaxb 'org.glassfish.jaxb:xjc-core:2.2.11'\n}\n</code></pre>\n<p>Any reason why it isn't generating the service endpoint interface using <code>wsdl:portType</code>?</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664868024,"post_id":73943998,"comment_id":130562629,"body_markdown":"Can you modify the native function (at the C/C++ side)?","body":"Can you modify the native function (at the C/C++ side)?"},{"owner":{"account_id":11440267,"reputation":117,"user_id":8386121,"display_name":"TheBlank"},"score":0,"creation_date":1664868515,"post_id":73943998,"comment_id":130562790,"body_markdown":"Did you mean, passing Int from Java world instead of Optional&lt;Integer&gt; and modify my Native Function to use Integer instead of Optional&lt;Int&gt;...Nope I can&#39;t do this :(","body":"Did you mean, passing Int from Java world instead of Optional&lt;Integer&gt; and modify my Native Function to use Integer instead of Optional&lt;Int&gt;...Nope I can&#39;t do this :("},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664868887,"post_id":73943998,"comment_id":130562898,"body_markdown":"No, I meant if you&#39;re the author of the native function, so you can change it to your needs. Basically, the signature will include a jstring for your sessionID and a jobject for the Optional, but I&#39;ll have to try,","body":"No, I meant if you&#39;re the author of the native function, so you can change it to your needs. Basically, the signature will include a jstring for your sessionID and a jobject for the Optional, but I&#39;ll have to try,"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664869965,"post_id":73943998,"comment_id":130563243,"body_markdown":"If you can modify the JNI code that you posted, you can add any arguments you want. Keep in mind that calling methods of any object arguments requires a lot more work, with method lookups etc. I don&#39;t know if switching to JNA is an option, that allows you to better mix native and Java code.","body":"If you can modify the JNI code that you posted, you can add any arguments you want. Keep in mind that calling methods of any object arguments requires a lot more work, with method lookups etc. I don&#39;t know if switching to JNA is an option, that allows you to better mix native and Java code."},{"owner":{"account_id":11440267,"reputation":117,"user_id":8386121,"display_name":"TheBlank"},"score":0,"creation_date":1664870295,"post_id":73943998,"comment_id":130563355,"body_markdown":"@RobSpoor , I got your point, like I can add more arguments to my JNI Code...but Since I want to pass an Optional&lt;Integer&gt; from Java, In JNI Code, what would be the arguement signature for that??","body":"@RobSpoor , I got your point, like I can add more arguments to my JNI Code...but Since I want to pass an Optional&lt;Integer&gt; from Java, In JNI Code, what would be the arguement signature for that??"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1664870511,"post_id":73943998,"comment_id":130563411,"body_markdown":"You don’t want to pass neither an `OptionalInt` nor an `Optional&lt;Integer&gt;` to JNI. Ideally design two methods, one that takes an `int` argument and one that does not. Also `Optional` in Java is for return values from methods. I still haven’t seen an example where it has got any advantage as method argument.","body":"You don’t want to pass neither an <code>OptionalInt</code> nor an <code>Optional&lt;Integer&gt;</code> to JNI. Ideally design two methods, one that takes an <code>int</code> argument and one that does not. Also <code>Optional</code> in Java is for return values from methods. I still haven’t seen an example where it has got any advantage as method argument."},{"owner":{"account_id":11440267,"reputation":117,"user_id":8386121,"display_name":"TheBlank"},"score":0,"creation_date":1664870552,"post_id":73943998,"comment_id":130563423,"body_markdown":"@Mihe, If that works for you, can you please share dummy Implementation, would be great help :)","body":"@Mihe, If that works for you, can you please share dummy Implementation, would be great help :)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664873230,"post_id":73943998,"comment_id":130564228,"body_markdown":"@TheBlank I generally let the JNI interface be generated, but I think that `OptionalInt` and `Optional&lt;T&gt;` for any `T` are just `jobject` in JNI. However, I agree with Ole, you don&#39;t want to too much Java-based logic in JNI. All the overhead usually isn&#39;t worth it.","body":"@TheBlank I generally let the JNI interface be generated, but I think that <code>OptionalInt</code> and <code>Optional&lt;T&gt;</code> for any <code>T</code> are just <code>jobject</code> in JNI. However, I agree with Ole, you don&#39;t want to too much Java-based logic in JNI. All the overhead usually isn&#39;t worth it."},{"owner":{"account_id":11440267,"reputation":117,"user_id":8386121,"display_name":"TheBlank"},"score":1,"creation_date":1664874004,"post_id":73943998,"comment_id":130564468,"body_markdown":"I think the best way would be then to create 2 methods one with Int and one without. Thanks @RobSpoor !!","body":"I think the best way would be then to create 2 methods one with Int and one without. Thanks @RobSpoor !!"}],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664962111,"creation_date":1664962111,"answer_id":73958390,"question_id":73943998,"body_markdown":"For completeness, assuming you have an `Optional&lt;Integer&gt;` passed to C++ as `jobject optInt`:\r\n```\r\njclass cls_Optional = env-&gt;GetObjectclass(optInt);\r\njmethod mid_Optional_isPresent = env-&gt;GetMethodID(cls_Optional, &quot;isPresent&quot;, &quot;()Z&quot;);\r\nif (env-&gt;CallBooleanMethod(optInt, mid_Optional_isPresent)) {\r\n  jmethod mid_Optional_get = env-&gt;GetMethodID(cls_Optional, &quot;get&quot;, &quot;()Ljava/lang/Object;&quot;);\r\n  jobject obj = env-&gt;CallObjectMethod(optInt, mid_Optional_get);\r\n  // do something with obj, probably call `intValue()` or `longValue()`.\r\n} else {\r\n  // Optional was empty.\r\n}\r\n```","title":"Is there a way to pass Optional Int to JNI layer?","body":"<p>For completeness, assuming you have an <code>Optional&lt;Integer&gt;</code> passed to C++ as <code>jobject optInt</code>:</p>\n<pre><code>jclass cls_Optional = env-&gt;GetObjectclass(optInt);\njmethod mid_Optional_isPresent = env-&gt;GetMethodID(cls_Optional, &quot;isPresent&quot;, &quot;()Z&quot;);\nif (env-&gt;CallBooleanMethod(optInt, mid_Optional_isPresent)) {\n  jmethod mid_Optional_get = env-&gt;GetMethodID(cls_Optional, &quot;get&quot;, &quot;()Ljava/lang/Object;&quot;);\n  jobject obj = env-&gt;CallObjectMethod(optInt, mid_Optional_get);\n  // do something with obj, probably call `intValue()` or `longValue()`.\n} else {\n  // Optional was empty.\n}\n</code></pre>\n"}],"owner":{"account_id":11440267,"reputation":117,"user_id":8386121,"display_name":"TheBlank"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664962111,"creation_date":1664865854,"question_id":73943998,"body_markdown":"(Java Code) AAuthenticationService.java\r\n\r\n```\r\npublic AuthTokenProperties(String sessionId, Optional&lt;Integer&gt; ttl) {                            \r\n        m_cppRef = CppCreate();\r\n}\r\nprivate native long CppCreate();\r\n```\r\n\r\nJni Layer\r\n```\r\nextern &quot;C&quot; JNIEXPORT jlong JNICALL\r\nJava_AAuthenticationService_CppCreate(JNIEnv *env, jobject jniAuthenticationService)\r\n{\r\n}\r\n```\r\nI need to pass this sessionID and Optional Integer ttl to CppCreate() which is a native function, Is there any way to pass this Optional&lt;Integer&gt; ??","title":"Is there a way to pass Optional Int to JNI layer?","body":"<p>(Java Code) AAuthenticationService.java</p>\n<pre><code>public AuthTokenProperties(String sessionId, Optional&lt;Integer&gt; ttl) {                            \n        m_cppRef = CppCreate();\n}\nprivate native long CppCreate();\n</code></pre>\n<p>Jni Layer</p>\n<pre><code>extern &quot;C&quot; JNIEXPORT jlong JNICALL\nJava_AAuthenticationService_CppCreate(JNIEnv *env, jobject jniAuthenticationService)\n{\n}\n</code></pre>\n<p>I need to pass this sessionID and Optional Integer ttl to CppCreate() which is a native function, Is there any way to pass this Optional ??</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1664875333,"post_id":73945098,"comment_id":130564872,"body_markdown":"if you are using pom.xml, please share","body":"if you are using pom.xml, please share"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664961669,"creation_date":1664961669,"answer_id":73958302,"question_id":73945098,"body_markdown":"Your command needs modification, actual command would be:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8080&quot;\r\n\r\nYou have to use `-Dspring-boot` before your run.jvmArguments to make is execute.\r\n\r\nReference : https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run.examples.debug","title":"No plugin found for prefix &#39;.jvmArguments=-Xdebug -Xrunjdwp&#39; in the current project","body":"<p>Your command needs modification, actual command would be:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8080&quot;\n</code></pre>\n<p>You have to use <code>-Dspring-boot</code> before your run.jvmArguments to make is execute.</p>\n<p>Reference : <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run.examples.debug\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run.examples.debug</a></p>\n"}],"owner":{"account_id":25244088,"reputation":47,"user_id":19077564,"display_name":"erohtpur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664961669,"creation_date":1664872390,"question_id":73945098,"body_markdown":"I&#39;m trying to start my Spring Boot application locally in debugging mode.\r\n\r\nI navigate to the directory with my application.\r\nI launch the application and specify the necessary JVM arguments and the debug port using the following command:\r\n\r\n- `mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8080&quot;`\r\n\r\nI get the following error:\r\n\r\n`[ERROR] No plugin found for prefix &#39;.jvmArguments=-Xdebug -Xrunjdwp&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\flore\\.m2\\repository), spring-snapshots (https://repo.spring.io/snapshot), spring-milestones (https://repo.spring.io/milestone), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]`\r\n\r\nThe content of pom.xml file is as it follows:\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n                &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n            &lt;/parent&gt;\r\n            &lt;groupId&gt;me.zhulin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shop-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;name&gt;shop-api&lt;/name&gt;\r\n            &lt;description&gt;Online Shopping API Server&lt;/description&gt;\r\n        \r\n            &lt;properties&gt;\r\n                &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;/properties&gt;\r\n        \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                    &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;optional&gt;true&lt;/optional&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.9.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        \r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                    &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                    &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                    &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n            &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                    &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                    &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                    &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;/pluginRepository&gt;\r\n            &lt;/pluginRepositories&gt;\r\n        &lt;/project&gt;\r\n\r\n ","title":"No plugin found for prefix &#39;.jvmArguments=-Xdebug -Xrunjdwp&#39; in the current project","body":"<p>I'm trying to start my Spring Boot application locally in debugging mode.</p>\n<p>I navigate to the directory with my application.\nI launch the application and specify the necessary JVM arguments and the debug port using the following command:</p>\n<ul>\n<li><code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8080&quot;</code></li>\n</ul>\n<p>I get the following error:</p>\n<p><code>[ERROR] No plugin found for prefix '.jvmArguments=-Xdebug -Xrunjdwp' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\flore\\.m2\\repository), spring-snapshots (https://repo.spring.io/snapshot), spring-milestones (https://repo.spring.io/milestone), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]</code></p>\n<p>The content of pom.xml file is as it follows:</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0.BUILD-SNAPSHOT&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;me.zhulin&lt;/groupId&gt;\n        &lt;artifactId&gt;shop-api&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;shop-api&lt;/name&gt;\n        &lt;description&gt;Online Shopping API Server&lt;/description&gt;\n    \n        &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n                &lt;version&gt;0.9.1&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;spring-milestones&lt;/id&gt;\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;spring-milestones&lt;/id&gt;\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt;\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","linux","intellij-idea","virtual-machine","vmware"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1664963763,"post_id":73958272,"comment_id":130586972,"body_markdown":"Please contact IntelliJ IDEA support at https://intellij-support.jetbrains.com/hc/en-us/requests/new and provide a CPU snapshot as per https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems","body":"Please contact IntelliJ IDEA support at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and provide a CPU snapshot as per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1664963790,"post_id":73958272,"comment_id":130586980,"body_markdown":"Try to temporarily disable all third-party plugins https://www.jetbrains.com/help/idea/managing-plugins.html","body":"Try to temporarily disable all third-party plugins <a href=\"https://www.jetbrains.com/help/idea/managing-plugins.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/managing-plugins.html</a>"}],"owner":{"account_id":25099621,"reputation":29,"user_id":18950478,"display_name":"sk306"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664961444,"creation_date":1664961444,"question_id":73958272,"body_markdown":"I&#39;m getting an usage 100% when the Intelij is running. After 20 min I cannot do anything on VMWARE and then I am forced to supsend or restart VM.\r\n\r\nI tried to remove `rm /var/crash/*` but it did not help.\r\n\r\nMay you please advice me how to resolve the slowness problems?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wL1SW.png\r\n  [2]: https://i.stack.imgur.com/eYfek.png","title":"Intelij uses 100% of CPU -&gt; vmware is extremely slow","body":"<p>I'm getting an usage 100% when the Intelij is running. After 20 min I cannot do anything on VMWARE and then I am forced to supsend or restart VM.</p>\n<p>I tried to remove <code>rm /var/crash/*</code> but it did not help.</p>\n<p>May you please advice me how to resolve the slowness problems?</p>\n<p><a href=\"https://i.stack.imgur.com/wL1SW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wL1SW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eYfek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eYfek.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664961401,"post_id":73958096,"comment_id":130586220,"body_markdown":"Looks like you have some dependency issue (or broken jars). Try `mvn dependency:purge-local-repository` then do `mvn verify` (or whatever you use to build) to re download the dependencies. The `@Repository` on the repository is useless it doesn&#39;t add anything.","body":"Looks like you have some dependency issue (or broken jars). Try <code>mvn dependency:purge-local-repository</code> then do <code>mvn verify</code> (or whatever you use to build) to re download the dependencies. The <code>@Repository</code> on the repository is useless it doesn&#39;t add anything."},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1664961955,"post_id":73958096,"comment_id":130586383,"body_markdown":"Hi I did a mvn clean install command on my project root folder but the error still persist","body":"Hi I did a mvn clean install command on my project root folder but the error still persist"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664962047,"post_id":73958096,"comment_id":130586408,"body_markdown":"After you purged the dependencies?","body":"After you purged the dependencies?"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1664962131,"post_id":73958096,"comment_id":130586432,"body_markdown":"@M.Deinum yes yes I also invalidate cache and restarted my intellij, but the problem still persist","body":"@M.Deinum yes yes I also invalidate cache and restarted my intellij, but the problem still persist"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664962436,"post_id":73958096,"comment_id":130586511,"body_markdown":"Did the `mvn clean install` complete successfully?","body":"Did the <code>mvn clean install</code> complete successfully?"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1664962594,"post_id":73958096,"comment_id":130586565,"body_markdown":"Yes it completed successfully. I tried to call the default function like findAll() provided by JPA also throwing the same error","body":"Yes it completed successfully. I tried to call the default function like findAll() provided by JPA also throwing the same error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664962853,"post_id":73958096,"comment_id":130586648,"body_markdown":"So it is an IDE issue not a dependency issue as your code (and test) successfully runs on the cmd line. Maybe wrong JDK? Make sure that Maven uses the project JDK for compiling/dependencies (can be set through the settings in Intellij).","body":"So it is an IDE issue not a dependency issue as your code (and test) successfully runs on the cmd line. Maybe wrong JDK? Make sure that Maven uses the project JDK for compiling/dependencies (can be set through the settings in Intellij)."},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1664963174,"post_id":73958096,"comment_id":130586772,"body_markdown":"@M.Deinum Hi I am not able to test successfully as there is a compilation error","body":"@M.Deinum Hi I am not able to test successfully as there is a compilation error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664963245,"post_id":73958096,"comment_id":130586794,"body_markdown":"Yes you are as `mvn clean install` works, that also runs tests. With that it is thus an IDE issue.","body":"Yes you are as <code>mvn clean install</code> works, that also runs tests. With that it is thus an IDE issue."}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664961167,"creation_date":1664960518,"question_id":73958096,"body_markdown":"I was having some problem when trying to write some junit test cases for repository in spring boot. Here is my JUnit Test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    public class RoomRepositoryTest {\r\n    @Autowired\r\n    private TestEntityManager entityManager;\r\n    @Autowired\r\n    private RoomRepository roomRepository;\r\n\r\n    @Test\r\n    public void whenFindByRoomNumber_thenReturnRoom() {\r\n        Room room = new Room();\r\n        room.setRoomNumber(&quot;P1&quot;);\r\n        entityManager.persist(room);\r\n        entityManager.flush();\r\n\r\n        Room found = roomRepository.findByRoomNumber(room.getRoomNumber());\r\n        assertEquals(found.getRoomNumber(), room.getRoomNumber());\r\n    }\r\n\r\nAnd my Repository class:\r\n\r\n    @Repository\r\n    public interface RoomRepository extends JpaRepository&lt;Room, Long&gt; {\r\n        Room findByRoomNumber(String roomNumber);\r\n    }\r\n\r\nMy pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nHowever, I am having compilation error \r\n\r\n    Cannot access org.springframework.data.jpa.repository.JpaRepository \r\n\r\nat this line \r\n\r\n    roomRepository.findByRoomNumber\r\n\r\nAny ideas how to fix this? Thanks!\r\n","title":"Spring Boot JUnit Test Case Getting JPARepository Error","body":"<p>I was having some problem when trying to write some junit test cases for repository in spring boot. Here is my JUnit Test class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class RoomRepositoryTest {\n@Autowired\nprivate TestEntityManager entityManager;\n@Autowired\nprivate RoomRepository roomRepository;\n\n@Test\npublic void whenFindByRoomNumber_thenReturnRoom() {\n    Room room = new Room();\n    room.setRoomNumber(&quot;P1&quot;);\n    entityManager.persist(room);\n    entityManager.flush();\n\n    Room found = roomRepository.findByRoomNumber(room.getRoomNumber());\n    assertEquals(found.getRoomNumber(), room.getRoomNumber());\n}\n</code></pre>\n<p>And my Repository class:</p>\n<pre><code>@Repository\npublic interface RoomRepository extends JpaRepository&lt;Room, Long&gt; {\n    Room findByRoomNumber(String roomNumber);\n}\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>However, I am having compilation error</p>\n<pre><code>Cannot access org.springframework.data.jpa.repository.JpaRepository \n</code></pre>\n<p>at this line</p>\n<pre><code>roomRepository.findByRoomNumber\n</code></pre>\n<p>Any ideas how to fix this? Thanks!</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1664874339,"post_id":73945317,"comment_id":130564567,"body_markdown":"`mLevel` will be 0 by default, you can check when setting the new value if the current one is 0. If the variable is gonna be stored to be used in the future, you can add a flag saying the variable hasn&#39;t been used","body":"<code>mLevel</code> will be 0 by default, you can check when setting the new value if the current one is 0. If the variable is gonna be stored to be used in the future, you can add a flag saying the variable hasn&#39;t been used"},{"owner":{"account_id":21002489,"reputation":3,"user_id":15433004,"display_name":"LuCC"},"score":0,"creation_date":1664960975,"post_id":73945317,"comment_id":130586102,"body_markdown":"How can I implement the flag? I&#39;m storing the level value in SQLite db and it will be updated and used constantly whenever mExperience is increased","body":"How can I implement the flag? I&#39;m storing the level value in SQLite db and it will be updated and used constantly whenever mExperience is increased"}],"answers":[{"tags":[],"owner":{"account_id":23720736,"reputation":36,"user_id":17741327,"display_name":"Bloody160"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664874855,"creation_date":1664874855,"answer_id":73945608,"question_id":73945317,"body_markdown":"I added a variable named &quot;hLevel&quot; and added an if check, which checks if hLevel is lower than mLevel. If this is the case, it updates the variable to mLevel and you can do your stuff or call a method in that if case.\r\n\r\n   \r\n\r\n     public class UserModel {\r\n    private static int mExperience;\r\n    private static int mLevel;\r\n    private static int hLevel\r\n    \r\n    public int getExperience() {\r\n        return mExperience;\r\n    }\r\n    \r\n    public void setExperience(int experience) {\r\n        mExperience = experience;\r\n    }\r\n    \r\n    public int getLevel() {\r\n        return mLevel;\r\n    }\r\n    \r\n    public void setLevel(int experience) {\r\n        if(experience &lt; 80){\r\n            mLevel = 1;\r\n        }else if(experience &gt;= 80 &amp;&amp; experience &lt;270){\r\n            mLevel = 2;\r\n        }else if(experience &gt;= 270 &amp;&amp; experience &lt;640){\r\n            mLevel = 3;\r\n        } else if(experience &gt;= 640 &amp;&amp; experience &lt;1250){\r\n            mLevel = 4;\r\n        }else if(experience &gt;= 1250 &amp;&amp; experience &lt;2160){\r\n            mLevel = 5;\r\n        }else if(experience &gt;= 2160 &amp;&amp; experience &lt;3430){\r\n            mLevel = 6;\r\n        }else if(experience &gt;= 3430 &amp;&amp; experience &lt;5120){\r\n            mLevel = 7;\r\n        }else if(experience &gt;= 5120 &amp;&amp; experience &lt;7290){\r\n            mLevel = 8;\r\n        }else if(experience &gt;= 7290 &amp;&amp; experience &lt;10000){\r\n            mLevel = 9;\r\n        }else{\r\n            mLevel = 10;\r\n        }\r\n        if (hLevel&lt;mLevel) {\r\n            //Current highest\r\n            hLevel = mLevel;\r\n        }\r\n    }\r\n    }","title":"How to check if a variable is set to a particular value for the first time in Android Studio?","body":"<p>I added a variable named &quot;hLevel&quot; and added an if check, which checks if hLevel is lower than mLevel. If this is the case, it updates the variable to mLevel and you can do your stuff or call a method in that if case.</p>\n<pre><code> public class UserModel {\nprivate static int mExperience;\nprivate static int mLevel;\nprivate static int hLevel\n\npublic int getExperience() {\n    return mExperience;\n}\n\npublic void setExperience(int experience) {\n    mExperience = experience;\n}\n\npublic int getLevel() {\n    return mLevel;\n}\n\npublic void setLevel(int experience) {\n    if(experience &lt; 80){\n        mLevel = 1;\n    }else if(experience &gt;= 80 &amp;&amp; experience &lt;270){\n        mLevel = 2;\n    }else if(experience &gt;= 270 &amp;&amp; experience &lt;640){\n        mLevel = 3;\n    } else if(experience &gt;= 640 &amp;&amp; experience &lt;1250){\n        mLevel = 4;\n    }else if(experience &gt;= 1250 &amp;&amp; experience &lt;2160){\n        mLevel = 5;\n    }else if(experience &gt;= 2160 &amp;&amp; experience &lt;3430){\n        mLevel = 6;\n    }else if(experience &gt;= 3430 &amp;&amp; experience &lt;5120){\n        mLevel = 7;\n    }else if(experience &gt;= 5120 &amp;&amp; experience &lt;7290){\n        mLevel = 8;\n    }else if(experience &gt;= 7290 &amp;&amp; experience &lt;10000){\n        mLevel = 9;\n    }else{\n        mLevel = 10;\n    }\n    if (hLevel&lt;mLevel) {\n        //Current highest\n        hLevel = mLevel;\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21002489,"reputation":3,"user_id":15433004,"display_name":"LuCC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73945608,"answer_count":1,"score":0,"last_activity_date":1664961018,"creation_date":1664873573,"question_id":73945317,"body_markdown":"I&#39;m trying to implement a level-up type of thing. So, I wanted to check whenever the &quot;mLevel&quot; variable is changed for the first time. For instance, 1 to 2, or 2 to 3 for the very first time.\r\n\r\n```\r\npublic class UserModel {\r\n    private static int mExperience;\r\n    private static int mLevel;\r\n\r\n    public int getExperience() {\r\n        return mExperience;\r\n    }\r\n\r\n    public void setExperience(int experience) {\r\n        mExperience = experience;\r\n    }\r\n\r\n    public int getLevel() {\r\n        return mLevel;\r\n    }\r\n\r\n    public void setLevel(int experience) {\r\n        if(experience &lt; 80){\r\n            mLevel = 1;\r\n        }else if(experience &gt;= 80 &amp;&amp; experience &lt;270){\r\n            mLevel = 2;\r\n        }else if(experience &gt;= 270 &amp;&amp; experience &lt;640){\r\n            mLevel = 3;\r\n        } else if(experience &gt;= 640 &amp;&amp; experience &lt;1250){\r\n            mLevel = 4;\r\n        }else if(experience &gt;= 1250 &amp;&amp; experience &lt;2160){\r\n            mLevel = 5;\r\n        }else if(experience &gt;= 2160 &amp;&amp; experience &lt;3430){\r\n            mLevel = 6;\r\n        }else if(experience &gt;= 3430 &amp;&amp; experience &lt;5120){\r\n            mLevel = 7;\r\n        }else if(experience &gt;= 5120 &amp;&amp; experience &lt;7290){\r\n            mLevel = 8;\r\n        }else if(experience &gt;= 7290 &amp;&amp; experience &lt;10000){\r\n            mLevel = 9;\r\n        }else{\r\n            mLevel = 10;\r\n        }\r\n    }\r\n}\r\n```","title":"How to check if a variable is set to a particular value for the first time in Android Studio?","body":"<p>I'm trying to implement a level-up type of thing. So, I wanted to check whenever the &quot;mLevel&quot; variable is changed for the first time. For instance, 1 to 2, or 2 to 3 for the very first time.</p>\n<pre><code>public class UserModel {\n    private static int mExperience;\n    private static int mLevel;\n\n    public int getExperience() {\n        return mExperience;\n    }\n\n    public void setExperience(int experience) {\n        mExperience = experience;\n    }\n\n    public int getLevel() {\n        return mLevel;\n    }\n\n    public void setLevel(int experience) {\n        if(experience &lt; 80){\n            mLevel = 1;\n        }else if(experience &gt;= 80 &amp;&amp; experience &lt;270){\n            mLevel = 2;\n        }else if(experience &gt;= 270 &amp;&amp; experience &lt;640){\n            mLevel = 3;\n        } else if(experience &gt;= 640 &amp;&amp; experience &lt;1250){\n            mLevel = 4;\n        }else if(experience &gt;= 1250 &amp;&amp; experience &lt;2160){\n            mLevel = 5;\n        }else if(experience &gt;= 2160 &amp;&amp; experience &lt;3430){\n            mLevel = 6;\n        }else if(experience &gt;= 3430 &amp;&amp; experience &lt;5120){\n            mLevel = 7;\n        }else if(experience &gt;= 5120 &amp;&amp; experience &lt;7290){\n            mLevel = 8;\n        }else if(experience &gt;= 7290 &amp;&amp; experience &lt;10000){\n            mLevel = 9;\n        }else{\n            mLevel = 10;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gdal","geotiff"],"answers":[{"tags":[],"owner":{"account_id":7265249,"reputation":1110,"user_id":5540231,"display_name":"jausen brett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476315715,"creation_date":1476315715,"answer_id":40010059,"question_id":40008416,"body_markdown":"The dreaded UnsatisfiedLinkErrors are quite common problems when having to deal with native libraries.\r\n\r\nNormally you need to set the java.library.path VM parameter so that Java can find the native libs.\r\n\r\n[See an example here][1]\r\n\r\n[Another gdal related unsatisfied link error issue here][2]\r\n\r\n\r\n  [1]: http://gdal-dev.osgeo.narkive.com/MJ8G6XNw/native-library-load-failed-while-using-gdal-maven-dependency-unsatisfiedlinkerror\r\n  [2]: https://stackoverflow.com/questions/32573954/unsatisfiedlinkerror-caused-by-org-gdal-ogr-ogrjni-getdrivercount","title":"Error when opening file gdal java","body":"<p>The dreaded UnsatisfiedLinkErrors are quite common problems when having to deal with native libraries.</p>\n\n<p>Normally you need to set the java.library.path VM parameter so that Java can find the native libs.</p>\n\n<p><a href=\"http://gdal-dev.osgeo.narkive.com/MJ8G6XNw/native-library-load-failed-while-using-gdal-maven-dependency-unsatisfiedlinkerror\" rel=\"nofollow noreferrer\">See an example here</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/32573954/unsatisfiedlinkerror-caused-by-org-gdal-ogr-ogrjni-getdrivercount\">Another gdal related unsatisfied link error issue here</a></p>\n"},{"tags":[],"owner":{"account_id":8392202,"reputation":303,"user_id":6300590,"accept_rate":25,"display_name":"Alexlionnel Sieyadjeu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664960938,"creation_date":1476351871,"answer_id":40017557,"question_id":40008416,"body_markdown":"I resolve the problem.\r\n\r\nI replaced the jar file located in repository maven (*C:\\Users\\Myuser\\.m2\\repository\\org\\gdal\\gdal\\2.1.0*) by the jar file located in the gdal folder (*C:\\Program Files\\GDAL\\java*): and now it works.","title":"Error when opening file gdal java","body":"<p>I resolve the problem.</p>\n<p>I replaced the jar file located in repository maven (<em>C:\\Users\\Myuser.m2\\repository\\org\\gdal\\gdal\\2.1.0</em>) by the jar file located in the gdal folder (<em>C:\\Program Files\\GDAL\\java</em>): and now it works.</p>\n"}],"owner":{"account_id":8392202,"reputation":303,"user_id":6300590,"accept_rate":25,"display_name":"Alexlionnel Sieyadjeu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664960938,"creation_date":1476306639,"question_id":40008416,"body_markdown":"I am trying to load geotiff file with gdal api (java). Here is my test code.\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            gdal.AllRegister();\r\n            Dataset dataset = gdal.Open(&quot;output.tif&quot;);\r\n        }\r\n    }\r\n\r\nBut i have an error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.Dataset_SWIGUpcast(J)J\r\n\tat org.gdal.gdal.gdalJNI.Dataset_SWIGUpcast(Native Method)\r\n\tat org.gdal.gdal.Dataset.&lt;init&gt;(Dataset.java:20)\r\n\tat org.gdal.gdal.gdal.Open(gdal.java:585)\r\n\tat org.gdaltest.projection.App.main(App.java:18)\r\n\r\nI am using maven project, so i added gdal dependency \r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.gdal&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;gdal&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI am using windows 10 and installed gdal 2.1.0. I had already set environment variable GDAL_DATA and Gdal directory in path.\r\n\r\nAm i missing something?","title":"Error when opening file gdal java","body":"<p>I am trying to load geotiff file with gdal api (java). Here is my test code.</p>\n\n<pre><code>public class App \n{\n    public static void main( String[] args )\n    {\n        gdal.AllRegister();\n        Dataset dataset = gdal.Open(\"output.tif\");\n    }\n}\n</code></pre>\n\n<p>But i have an error</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.Dataset_SWIGUpcast(J)J\nat org.gdal.gdal.gdalJNI.Dataset_SWIGUpcast(Native Method)\nat org.gdal.gdal.Dataset.&lt;init&gt;(Dataset.java:20)\nat org.gdal.gdal.gdal.Open(gdal.java:585)\nat org.gdaltest.projection.App.main(App.java:18)\n</code></pre>\n\n<p>I am using maven project, so i added gdal dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.gdal&lt;/groupId&gt;\n    &lt;artifactId&gt;gdal&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I am using windows 10 and installed gdal 2.1.0. I had already set environment variable GDAL_DATA and Gdal directory in path.</p>\n\n<p>Am i missing something?</p>\n"},{"tags":["java","selenium","button"],"comments":[{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1664907518,"post_id":73951727,"comment_id":130575896,"body_markdown":"It is quite possibly be that you are using the wrong xpath. Perhaps post a better more legible HTML code and your Java code?","body":"It is quite possibly be that you are using the wrong xpath. Perhaps post a better more legible HTML code and your Java code?"}],"answers":[{"tags":[],"owner":{"account_id":4881746,"reputation":17,"user_id":16111063,"display_name":"Micah Rothenbuhler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664908808,"creation_date":1664908808,"answer_id":73952265,"question_id":73951727,"body_markdown":"First note is that if possible, always tag the element itself with the id so your selectors are trivial.\r\n\r\nAlso, CSS selectors are usually more readable for humans. Under the hood, it&#39;s all xpath in the end, so it&#39;s good to be familiar with it, but it&#39;s not optimal. It&#39;s not really possible to diagnose your issue with the information provided. One possibility is that the selector is wrong, another is that the element is not loaded yet and you need to include a wait. A third possibility is your driver, or the browser version. Selenium has many things that can potentially go wrong","title":"Cannot click on a button using SELENIUM and JAVA - triggering windows popup to upload file","body":"<p>First note is that if possible, always tag the element itself with the id so your selectors are trivial.</p>\n<p>Also, CSS selectors are usually more readable for humans. Under the hood, it's all xpath in the end, so it's good to be familiar with it, but it's not optimal. It's not really possible to diagnose your issue with the information provided. One possibility is that the selector is wrong, another is that the element is not loaded yet and you need to include a wait. A third possibility is your driver, or the browser version. Selenium has many things that can potentially go wrong</p>\n"},{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664960609,"creation_date":1664960609,"answer_id":73958118,"question_id":73951727,"body_markdown":"If the class value is unique, then you can use:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@class=&#39;btn btn-primary btn-sm btn-upload&#39;]&quot;)).click()\r\n\r\n(or)\r\n\r\n    driver.findElement(By.cssSelector(&quot;.btn.btn-primary.btn-sm.btn-upload&quot;)).click();\r\n\r\notherwise:\r\n\r\n    driver.findElement(By.xpath(&quot;.//a[contains(text(),&#39;Select file&#39;)]&quot;)).click();\r\n\r\n","title":"Cannot click on a button using SELENIUM and JAVA - triggering windows popup to upload file","body":"<p>If the class value is unique, then you can use:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@class='btn btn-primary btn-sm btn-upload']&quot;)).click()\n</code></pre>\n<p>(or)</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;.btn.btn-primary.btn-sm.btn-upload&quot;)).click();\n</code></pre>\n<p>otherwise:</p>\n<pre><code>driver.findElement(By.xpath(&quot;.//a[contains(text(),'Select file')]&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664960609,"creation_date":1664905524,"question_id":73951727,"body_markdown":"I cannot click on a specific button.\r\n\r\nIts name is &quot;Select file&quot; and it should open a windows popup:\r\n\r\n    &lt;a class=&quot;btn btn-primary btn-sm btn-upload&quot;&gt;Select file&lt;/a&gt;\r\n\r\nThe XPATH is:\r\n\r\n    //*[@id=&quot;div-add-file&quot;]/a\r\n\r\nI tried something like this but it seems not to be clicking anything and that&#39;s strange:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).click();\r\n\r\nI also tried something like this:\r\n\r\n    driver.findElement(By.linkText(&quot;Select file&quot;)).click();\r\n\r\nWhat&#39;s going on here?","title":"Cannot click on a button using SELENIUM and JAVA - triggering windows popup to upload file","body":"<p>I cannot click on a specific button.</p>\n<p>Its name is &quot;Select file&quot; and it should open a windows popup:</p>\n<pre><code>&lt;a class=&quot;btn btn-primary btn-sm btn-upload&quot;&gt;Select file&lt;/a&gt;\n</code></pre>\n<p>The XPATH is:</p>\n<pre><code>//*[@id=&quot;div-add-file&quot;]/a\n</code></pre>\n<p>I tried something like this but it seems not to be clicking anything and that's strange:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).click();\n</code></pre>\n<p>I also tried something like this:</p>\n<pre><code>driver.findElement(By.linkText(&quot;Select file&quot;)).click();\n</code></pre>\n<p>What's going on here?</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1664959321,"post_id":73957610,"comment_id":130585638,"body_markdown":"I would always use a namespace aware DocumentBuilder(Factory) with XSLT/XPath as it relies on XML with namespaces. On the other hand, why do you need a DOMSource/DOM document for the XSLT at all? Let the processor parse e.g. `newTransformer(new StreamSource(new File(xmlDocument)))`. Otherwise, for the DOMSource, it might help to set the system id.","body":"I would always use a namespace aware DocumentBuilder(Factory) with XSLT/XPath as it relies on XML with namespaces. On the other hand, why do you need a DOMSource/DOM document for the XSLT at all? Let the processor parse e.g. <code>newTransformer(new StreamSource(new File(xmlDocument)))</code>. Otherwise, for the DOMSource, it might help to set the system id."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1664959550,"post_id":73957610,"comment_id":130585695,"body_markdown":"But https://github.com/apache/xalan-j/blob/9ee2e2fd8ae95812744f49b198f6beac7a66c667/samples/trax/Examples.java#L686 suggests with a stylesheet reference in the XML you might try code along the lines of https://github.com/apache/xalan-j/blob/9ee2e2fd8ae95812744f49b198f6beac7a66c667/samples/trax/Examples.java#L686.","body":"But <a href=\"https://github.com/apache/xalan-j/blob/9ee2e2fd8ae95812744f49b198f6beac7a66c667/samples/trax/Examples.java#L686\" rel=\"nofollow noreferrer\">github.com/apache/xalan-j/blob/&hellip;</a> suggests with a stylesheet reference in the XML you might try code along the lines of <a href=\"https://github.com/apache/xalan-j/blob/9ee2e2fd8ae95812744f49b198f6beac7a66c667/samples/trax/Examples.java#L686\" rel=\"nofollow noreferrer\">github.com/apache/xalan-j/blob/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664960512,"creation_date":1664960512,"answer_id":73958095,"question_id":73957610,"body_markdown":"I think, to use an embedded stylesheet, you should basically do\r\n\r\n        TransformerFactory tf = TransformerFactory.newInstance();\r\n\r\n        Source input = new StreamSource(new File(&quot;test.xml&quot;));\r\n\r\n        Source xslt = tf.getAssociatedStylesheet(input, null, null, null);\r\n\r\n        Transformer transformer = tf.newTransformer(xslt);\r\n\r\n        transformer.transform(input, new StreamResult(&quot;output.html&quot;));","title":"Problem with XSLT to HTML transformation in Java","body":"<p>I think, to use an embedded stylesheet, you should basically do</p>\n<pre><code>    TransformerFactory tf = TransformerFactory.newInstance();\n\n    Source input = new StreamSource(new File(&quot;test.xml&quot;));\n\n    Source xslt = tf.getAssociatedStylesheet(input, null, null, null);\n\n    Transformer transformer = tf.newTransformer(xslt);\n\n    transformer.transform(input, new StreamResult(&quot;output.html&quot;));\n</code></pre>\n"}],"owner":{"account_id":11658221,"reputation":3,"user_id":8537317,"display_name":"cedo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73958095,"answer_count":1,"score":0,"last_activity_date":1664960512,"creation_date":1664957907,"question_id":73957610,"body_markdown":"Suppose we have the following XSL document to convert to HTML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;?xml-stylesheet type=&#39;text/xsl&#39; href=&quot;#&quot;?&gt;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot;&gt;\r\n\r\n\t&lt;xsl:output doctype-public=&quot;-//W3C//DTD HTML 4.01//EN&quot; doctype-system=&quot;http://www.w3.org/TR/html4/strict.dtd&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot; method=&quot;html&quot; version=&quot;4.01&quot;/&gt;\r\n\t\r\n\t&lt;xsl:template match=&quot;/&quot;&gt;\r\n\t\t&lt;head&gt;\r\n\t\t\t&lt;meta content=&quot;text/html; charset=utf-8&quot; http-equiv=&quot;Content-Type&quot;/&gt;\r\n\t\t\t&lt;style type=&quot;text/css&quot;&gt;\r\n\t\t\t\t\tbody { font-family:Arial; }\r\n\t\t\t&lt;/style&gt;\r\n\t\t&lt;/head&gt;\r\n\t\t&lt;body&gt;\r\n\t\t\t&lt;p&gt;Hello world!&lt;/p&gt;\r\n\t\t&lt;/body&gt;\r\n\t&lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\nWhen I try transform it to HTML using the following code in Java I get an error:\r\n\r\n```\r\n\tpublic static void test3() {\r\n\t\ttry {\r\n\t\t\t  InputStream is = new FileInputStream(DataDir + &quot;\\\\test.xml&quot;);\r\n\t\t      \r\n\t\t      DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n\t\t      Document xmlDocument = builder.parse(is);\r\n\t\t      Document newDocument = builder.newDocument();\r\n\t\t\r\n\t\t      TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\t\t\t  Transformer transformer = transformerFactory.newTransformer(new DOMSource(xmlDocument));\r\n\t\t\t  transformer.transform(new DOMSource(newDocument), new StreamResult(DataDir + &quot;\\\\output.html&quot;));\r\n\r\n\t\t} catch (TransformerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParserConfigurationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SAXException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe error I get:\r\n\r\n*ERROR:  &#39;Could not compile stylesheet&#39;\r\nFATAL ERROR:  &#39;Could not find stylesheet target &#39;#&#39;.&#39;\r\n           :Could not find stylesheet target &#39;#&#39;.\r\njavax.xml.transform.TransformerConfigurationException: Could not find stylesheet target &#39;#&#39;.*\r\n\r\nEven if I rewrite the XSLT document by removing the href attribute, the HTML transform doesn&#39;t work.\r\n\r\n```\r\n\tpublic static void test2() {\r\n\t\ttry {\r\n\t\t\t  InputStream is = new FileInputStream(DataDir + &quot;\\\\test.xml&quot;);\r\n\t\t      \r\n\t\t      DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n\t\t      Document xmlDocument = builder.parse(is);\r\n\r\n\t\t      XPath xPath = XPathFactory.newInstance().newXPath();\r\n\t\t      String expression = &quot;/processing-instruction()[name() = &#39;xml-stylesheet&#39;]&quot;;\r\n\t\t      NodeList nodes = (NodeList) xPath.evaluate(expression, xmlDocument, XPathConstants.NODESET);\r\n\t\t      for(int NodeNo = 0; NodeNo &lt; nodes.getLength(); NodeNo++) {\r\n\t\t    \t  ProcessingInstruction pi = (ProcessingInstruction) nodes.item(NodeNo);\r\n\t\t    \t  String nodeValue = pi.getNodeValue();\r\n\t\t    \t  nodeValue = nodeValue.replace(&quot;href=\\&quot;#\\&quot;&quot;, &quot;&quot;);\r\n\t\t    \t  pi.setNodeValue(nodeValue);\r\n\t\t      }\r\n\r\n\t\t      Document newDocument = builder.newDocument();\r\n\t\t\r\n\t\t      TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\t\t\t  Transformer transformer = transformerFactory.newTransformer(new DOMSource(xmlDocument));\r\n\t\t\t  transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\t\t  transformer.transform(new DOMSource(newDocument), new StreamResult(DataDir + &quot;\\\\output.html&quot;));\r\n\r\n\t\t} catch (TransformerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParserConfigurationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SAXException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\nAny idea ?","title":"Problem with XSLT to HTML transformation in Java","body":"<p>Suppose we have the following XSL document to convert to HTML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;?xml-stylesheet type='text/xsl' href=&quot;#&quot;?&gt;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot;&gt;\n\n    &lt;xsl:output doctype-public=&quot;-//W3C//DTD HTML 4.01//EN&quot; doctype-system=&quot;http://www.w3.org/TR/html4/strict.dtd&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot; method=&quot;html&quot; version=&quot;4.01&quot;/&gt;\n    \n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;head&gt;\n            &lt;meta content=&quot;text/html; charset=utf-8&quot; http-equiv=&quot;Content-Type&quot;/&gt;\n            &lt;style type=&quot;text/css&quot;&gt;\n                    body { font-family:Arial; }\n            &lt;/style&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;p&gt;Hello world!&lt;/p&gt;\n        &lt;/body&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>When I try transform it to HTML using the following code in Java I get an error:</p>\n<pre><code>    public static void test3() {\n        try {\n              InputStream is = new FileInputStream(DataDir + &quot;\\\\test.xml&quot;);\n              \n              DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n              Document xmlDocument = builder.parse(is);\n              Document newDocument = builder.newDocument();\n        \n              TransformerFactory transformerFactory = TransformerFactory.newInstance();\n              Transformer transformer = transformerFactory.newTransformer(new DOMSource(xmlDocument));\n              transformer.transform(new DOMSource(newDocument), new StreamResult(DataDir + &quot;\\\\output.html&quot;));\n\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ParserConfigurationException e) {\n            e.printStackTrace();\n        } catch (SAXException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The error I get:</p>\n<p><em>ERROR:  'Could not compile stylesheet'\nFATAL ERROR:  'Could not find stylesheet target '#'.'\n:Could not find stylesheet target '#'.\njavax.xml.transform.TransformerConfigurationException: Could not find stylesheet target '#'.</em></p>\n<p>Even if I rewrite the XSLT document by removing the href attribute, the HTML transform doesn't work.</p>\n<pre><code>    public static void test2() {\n        try {\n              InputStream is = new FileInputStream(DataDir + &quot;\\\\test.xml&quot;);\n              \n              DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n              Document xmlDocument = builder.parse(is);\n\n              XPath xPath = XPathFactory.newInstance().newXPath();\n              String expression = &quot;/processing-instruction()[name() = 'xml-stylesheet']&quot;;\n              NodeList nodes = (NodeList) xPath.evaluate(expression, xmlDocument, XPathConstants.NODESET);\n              for(int NodeNo = 0; NodeNo &lt; nodes.getLength(); NodeNo++) {\n                  ProcessingInstruction pi = (ProcessingInstruction) nodes.item(NodeNo);\n                  String nodeValue = pi.getNodeValue();\n                  nodeValue = nodeValue.replace(&quot;href=\\&quot;#\\&quot;&quot;, &quot;&quot;);\n                  pi.setNodeValue(nodeValue);\n              }\n\n              Document newDocument = builder.newDocument();\n        \n              TransformerFactory transformerFactory = TransformerFactory.newInstance();\n              Transformer transformer = transformerFactory.newTransformer(new DOMSource(xmlDocument));\n              transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n              transformer.transform(new DOMSource(newDocument), new StreamResult(DataDir + &quot;\\\\output.html&quot;));\n\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ParserConfigurationException e) {\n            e.printStackTrace();\n        } catch (SAXException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Any idea ?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"score":0,"creation_date":1664956901,"post_id":73951296,"comment_id":130584851,"body_markdown":"I think my problem is similar to: https://stackoverflow.com/questions/73330750/parse-json-array-into-java-classes-using-jackson","body":"I think my problem is similar to: <a href=\"https://stackoverflow.com/questions/73330750/parse-json-array-into-java-classes-using-jackson\" title=\"parse json array into java classes using jackson\">stackoverflow.com/questions/73330750/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664959715,"creation_date":1664959715,"answer_id":73957941,"question_id":73951296,"body_markdown":"A possible solution is the creation of a new json file that can be easily converted to your pojo, some considerations about the json you attached to your post here below:\r\n\r\n~~~\r\n{ &quot;attributes&quot;: [\r\n    { &quot;key&quot;: &quot;name&quot;, &quot;value&quot;: &quot;Jane&quot; },\r\n    { &quot;key&quot;: &quot;age&quot;, &quot;value&quot;: 34 }\r\n]}\r\n~~~\r\n\r\nBasically this is a `JsonArray` named *attributes* of repeating records in the form of *key, value* entries that can be converted to a map containing just the *key, value* entries. It would less complicated if the all values had the same type, anyway the useful map can be obtained with the creation of an opportune `ObjectNode` with the correct properties:\r\n\r\n~~~\r\n//ok , it is an empty objectnode\r\nObjectNode objectNode = new ObjectNode(JsonNodeFactory.instance);\r\n//pointing to the attributes array\r\nJsonNode attributes = mapper.readTree(json).at(&quot;/attributes&quot;);\r\nfor (int i = 0; i &lt; attributes.size(); ++i) {\r\n    //at the first iteration key is &quot;name&quot; and so on...\r\n    String key = attributes.get(i).findValue(&quot;key&quot;).asText();\r\n    //at the first iteration value is &quot;Jane&quot; and so on...\r\n    JsonNode value = attributes.get(i).findValue(&quot;value&quot;);\r\n    //setting the &quot;name&quot; property to the &quot;Jane&quot; value in the objectNode\r\n    objectNode.set(key, value);\r\n}\r\n\r\n//objectNode is {&quot;name&quot;:&quot;Jane&quot;,&quot;age&quot;:34} and can be converted to Person\r\nPerson person = mapper.treeToValue(objectNode, Person.class);\r\n~~~\r\n\r\nThis solves the initial case you have considered, I don&#39;t exclude that in other more complicated cases some modify will be necessary but the code should be substantially remain the same. \r\n","title":"Deserializing JSON that with key/value fields using Jackson","body":"<p>A possible solution is the creation of a new json file that can be easily converted to your pojo, some considerations about the json you attached to your post here below:</p>\n<pre><code>{ &quot;attributes&quot;: [\n    { &quot;key&quot;: &quot;name&quot;, &quot;value&quot;: &quot;Jane&quot; },\n    { &quot;key&quot;: &quot;age&quot;, &quot;value&quot;: 34 }\n]}\n</code></pre>\n<p>Basically this is a <code>JsonArray</code> named <em>attributes</em> of repeating records in the form of <em>key, value</em> entries that can be converted to a map containing just the <em>key, value</em> entries. It would less complicated if the all values had the same type, anyway the useful map can be obtained with the creation of an opportune <code>ObjectNode</code> with the correct properties:</p>\n<pre><code>//ok , it is an empty objectnode\nObjectNode objectNode = new ObjectNode(JsonNodeFactory.instance);\n//pointing to the attributes array\nJsonNode attributes = mapper.readTree(json).at(&quot;/attributes&quot;);\nfor (int i = 0; i &lt; attributes.size(); ++i) {\n    //at the first iteration key is &quot;name&quot; and so on...\n    String key = attributes.get(i).findValue(&quot;key&quot;).asText();\n    //at the first iteration value is &quot;Jane&quot; and so on...\n    JsonNode value = attributes.get(i).findValue(&quot;value&quot;);\n    //setting the &quot;name&quot; property to the &quot;Jane&quot; value in the objectNode\n    objectNode.set(key, value);\n}\n\n//objectNode is {&quot;name&quot;:&quot;Jane&quot;,&quot;age&quot;:34} and can be converted to Person\nPerson person = mapper.treeToValue(objectNode, Person.class);\n</code></pre>\n<p>This solves the initial case you have considered, I don't exclude that in other more complicated cases some modify will be necessary but the code should be substantially remain the same.</p>\n"}],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664960222,"creation_date":1664902995,"question_id":73951296,"body_markdown":"I&#39;m looking to map some JSON to an Object using Jackson, although the syntax is JSON, it&#39;s not a native JSON schema. Normal JSON would have a person data as:\r\n\r\n    { &quot;name&quot;: &quot;Jane&quot;, &quot;age&quot;: 34}\r\n\r\nand using Jackson I could reasonably easily map this onto a Java object.\r\n\r\n    public class Person {\r\n        String name;\r\n        Integer age;\r\n    }\r\n\r\nHowever in my case the JSON is:\r\n\r\n    { &quot;attributes&quot;: [\r\n        { &quot;key&quot;: &quot;name&quot;, &quot;value&quot;: &quot;Jane&quot; },\r\n        { &quot;key&quot;: &quot;age&quot;, &quot;value&quot;: 34 }\r\n    ]}\r\n\r\nThe actual JSON is more complex and has `attribute` arrays as values as well. Ideally I was looking for a generic solution so I don&#39;t have to have custom code for each object I want to map.\r\n\r\nMy first thought was a custom `com.fasterxml.jackson.databind.deser.std.DelegatingDeserializer` that understands this style of JSON.\r\n\r\nDoes anyone have a good solution to transforming the structure when parsing JSON?","title":"Deserializing JSON that with key/value fields using Jackson","body":"<p>I'm looking to map some JSON to an Object using Jackson, although the syntax is JSON, it's not a native JSON schema. Normal JSON would have a person data as:</p>\n<pre><code>{ &quot;name&quot;: &quot;Jane&quot;, &quot;age&quot;: 34}\n</code></pre>\n<p>and using Jackson I could reasonably easily map this onto a Java object.</p>\n<pre><code>public class Person {\n    String name;\n    Integer age;\n}\n</code></pre>\n<p>However in my case the JSON is:</p>\n<pre><code>{ &quot;attributes&quot;: [\n    { &quot;key&quot;: &quot;name&quot;, &quot;value&quot;: &quot;Jane&quot; },\n    { &quot;key&quot;: &quot;age&quot;, &quot;value&quot;: 34 }\n]}\n</code></pre>\n<p>The actual JSON is more complex and has <code>attribute</code> arrays as values as well. Ideally I was looking for a generic solution so I don't have to have custom code for each object I want to map.</p>\n<p>My first thought was a custom <code>com.fasterxml.jackson.databind.deser.std.DelegatingDeserializer</code> that understands this style of JSON.</p>\n<p>Does anyone have a good solution to transforming the structure when parsing JSON?</p>\n"},{"tags":["java","android","flutter","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":22001143,"reputation":697,"user_id":16272855,"display_name":"Adeel Nazim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664443021,"creation_date":1664443021,"answer_id":73893109,"question_id":73615631,"body_markdown":"It works for me to replace **jdk7 with jdk8** in **app/build.gradle** file under the dependencies\r\n\r\n     implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n\r\nwith\r\n\r\n     implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;","title":"flutter build apk - Runtime JAR files in the classpath should have the same version","body":"<p>It works for me to replace <strong>jdk7 with jdk8</strong> in <strong>app/build.gradle</strong> file under the dependencies</p>\n<pre><code> implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n</code></pre>\n<p>with</p>\n<pre><code> implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24730759,"reputation":71,"user_id":18618759,"display_name":"anton-definit"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664959772,"creation_date":1664959673,"answer_id":73957935,"question_id":73615631,"body_markdown":"I had the exact same issue. Here is how I fixed it:\r\n\r\n 1. Upgrade the **Kotlin** version to `1.7.10` in `android/app/build.gradle`. Should look like this `ext.kotlin_version = &#39;1.7.10&#39;`\r\n 2. Upgrade the **Android Gradle plugin** to `7.3.0` in `android/app/build.gradle`. Should look like this `classpath &#39;com.android.tools.build:gradle:7.3.0&#39;`\r\n 3. In the terminal navigate to the android folder `cd android` and run `./gradlew wrapper --gradle-version=7.5.1` to upgrade the **Gradle** version to `7.5.1`. This will change the distribution url in `android/gradle/wrapper/gradle-wrapper.properties` to point to the correct gradle distribution. \r\n 4. Delete the folder `android/.gradle` and run `flutter clean` in the terminal\r\n 5. Run your app and the warnings should be gone.\r\n\r\nFor future reference, a good place to find the supported combinations of the **Android Gradle plugin** and **Gradle** is here: [https://developer.android.com/studio/releases/gradle-plugin][1]\r\n\r\nSimply replacing `jdk7` with `jdk8` in `android/app/build.gradle` as suggested, did not work for me. In fact, it could be best to just remove this dependency altogether because it is added by default by the **Android Gradle plugin**. Reference: [https://github.com/flutter/flutter/issues/101373][2]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases/gradle-plugin\r\n  [2]: https://github.com/flutter/flutter/issues/101373","title":"flutter build apk - Runtime JAR files in the classpath should have the same version","body":"<p>I had the exact same issue. Here is how I fixed it:</p>\n<ol>\n<li>Upgrade the <strong>Kotlin</strong> version to <code>1.7.10</code> in <code>android/app/build.gradle</code>. Should look like this <code>ext.kotlin_version = '1.7.10'</code></li>\n<li>Upgrade the <strong>Android Gradle plugin</strong> to <code>7.3.0</code> in <code>android/app/build.gradle</code>. Should look like this <code>classpath 'com.android.tools.build:gradle:7.3.0'</code></li>\n<li>In the terminal navigate to the android folder <code>cd android</code> and run <code>./gradlew wrapper --gradle-version=7.5.1</code> to upgrade the <strong>Gradle</strong> version to <code>7.5.1</code>. This will change the distribution url in <code>android/gradle/wrapper/gradle-wrapper.properties</code> to point to the correct gradle distribution.</li>\n<li>Delete the folder <code>android/.gradle</code> and run <code>flutter clean</code> in the terminal</li>\n<li>Run your app and the warnings should be gone.</li>\n</ol>\n<p>For future reference, a good place to find the supported combinations of the <strong>Android Gradle plugin</strong> and <strong>Gradle</strong> is here: <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"noreferrer\">https://developer.android.com/studio/releases/gradle-plugin</a></p>\n<p>Simply replacing <code>jdk7</code> with <code>jdk8</code> in <code>android/app/build.gradle</code> as suggested, did not work for me. In fact, it could be best to just remove this dependency altogether because it is added by default by the <strong>Android Gradle plugin</strong>. Reference: <a href=\"https://github.com/flutter/flutter/issues/101373\" rel=\"noreferrer\">https://github.com/flutter/flutter/issues/101373</a></p>\n"}],"owner":{"account_id":11061371,"reputation":567,"user_id":8122500,"display_name":"Yogi Arif Widodo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664959772,"creation_date":1662423808,"question_id":73615631,"body_markdown":"similar issue https://stackoverflow.com/questions/71347054/flutter-build-runtime-jar-files-in-the-classpath-should-have-the-same-version-t\r\n\r\nsolved only for new project https://stackoverflow.com/a/71362765/8122500 but when i tried on old project, the error is still facing on me. also i have tried with **flutter clean**, **restart device**, etc\r\n```\r\n➜  xxxx git:(master) ✗ flutter build apk --release      \r\n\r\n&#128170; Building with sound null safety &#128170;\r\n\r\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.7.10/1ef73fee66f45d52c67e2aca12fd945dbe0659bf/kotlin-stdlib-jdk7-1.7.10.jar (version 1.7)\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\r\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\r\ne: /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.7.10/1ef73fee66f45d52c67e2aca12fd945dbe0659bf/kotlin-stdlib-jdk7-1.7.10.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\r\ne: /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\r\ne: /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\r\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.7.10/1ef73fee66f45d52c67e2aca12fd945dbe0659bf/kotlin-stdlib-jdk7-1.7.10.jar (version 1.7)\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\r\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\r\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\r\nRunning Gradle task &#39;assembleRelease&#39;...                           22.3s\r\n✓  Built build/app/outputs/flutter-apk/app-release.apk (25.7MB).\r\n```\r\n\r\nmy configuration\r\n```\r\n/x/android/build.gradle\r\n\r\next.kotlin_version = &#39;1.6.10&#39;\r\n...\r\n...\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n        // START: FlutterFire Configuration\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.8.1&#39;\r\n        // END: FlutterFire Configuration\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n...\r\n...\r\n/x/android/gradle/wrapper/gradle-wrapper.properties\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\r\n...\r\n...\r\n/x/android/app/build.gradle\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n}\r\n```\r\n\r\nmy engine\r\n```\r\n➜  first_app flutter doctor -v\r\n[✓] Flutter (Channel stable, 3.0.5, on macOS 12.4 21F79 darwin-arm, locale en-ID)\r\n    • Flutter version 3.0.5 at /Users/yogiarifwidodo/dev/flutter\r\n    • Upstream repository https://github.com/flutter/flutter.git\r\n    • Framework revision f1875d570e (8 weeks ago), 2022-07-13 11:24:16 -0700\r\n    • Engine revision e85ea0e79c\r\n    • Dart version 2.17.6\r\n    • DevTools version 2.12.2\r\n\r\n[✓] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n    • Android SDK at /Users/yogiarifwidodo/Library/Android/sdk\r\n    • Platform android-33, build-tools 30.0.3\r\n    • ANDROID_HOME = /Users/yogiarifwidodo/Library/Android/sdk\r\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\r\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\r\n    • All Android licenses accepted.\r\n\r\n[✓] Xcode - develop for iOS and macOS (Xcode 13.3)\r\n    • Xcode at /Applications/Xcode.app/Contents/Developer\r\n    • CocoaPods version 1.11.0\r\n\r\n[✓] Chrome - develop for the web\r\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n\r\n[✓] Android Studio (version 2021.2)\r\n    • Android Studio at /Applications/Android Studio.app/Contents\r\n    • Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\r\n\r\n[✓] VS Code (version 1.72.0-insider)\r\n    • VS Code at /Applications/Visual Studio Code - Insiders.app/Contents\r\n    • Flutter extension version 3.48.0\r\n\r\n[✓] Connected device (2 available)\r\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 12.4 21F79 darwin-arm\r\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 104.0.5112.101\r\n\r\n[✓] HTTP Host Availability\r\n    • All required HTTP hosts are available\r\n\r\n• No issues found!\r\n```\r\n\r\n```\r\n➜  JavaVirtualMachines ll\r\ntotal 0\r\ndrwxr-xr-x  3 root  wheel    96B Jun 27  2021 zulu-11.jdk\r\ndrwxr-xr-x  3 root  wheel    96B Sep  3 11:58 zulu-17.jdk\r\ndrwxr-xr-x  3 root  wheel    96B May  1  2021 zulu-8.jdk\r\n➜  JavaVirtualMachines pwd\r\n/Library/Java/JavaVirtualMachines\r\n```","title":"flutter build apk - Runtime JAR files in the classpath should have the same version","body":"<p>similar issue <a href=\"https://stackoverflow.com/questions/71347054/flutter-build-runtime-jar-files-in-the-classpath-should-have-the-same-version-t\">flutter build Runtime JAR files in the classpath should have the same version. These files were found in the classpath</a></p>\n<p>solved only for new project <a href=\"https://stackoverflow.com/a/71362765/8122500\">https://stackoverflow.com/a/71362765/8122500</a> but when i tried on old project, the error is still facing on me. also i have tried with <strong>flutter clean</strong>, <strong>restart device</strong>, etc</p>\n<pre><code>➜  xxxx git:(master) ✗ flutter build apk --release      \n\n💪 Building with sound null safety 💪\n\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.7.10/1ef73fee66f45d52c67e2aca12fd945dbe0659bf/kotlin-stdlib-jdk7-1.7.10.jar (version 1.7)\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\ne: /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.7.10/1ef73fee66f45d52c67e2aca12fd945dbe0659bf/kotlin-stdlib-jdk7-1.7.10.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\ne: /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\ne: /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.7.1, expected version is 1.5.1.\nw: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.6.10/e80fe6ac3c3573a80305f5ec43f86b829e8ab53d/kotlin-stdlib-jdk8-1.6.10.jar (version 1.6)\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.7.10/1ef73fee66f45d52c67e2aca12fd945dbe0659bf/kotlin-stdlib-jdk7-1.7.10.jar (version 1.7)\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.7.10/d2abf9e77736acc4450dc4a3f707fa2c10f5099d/kotlin-stdlib-1.7.10.jar (version 1.7)\n    /Users/yogiarifwidodo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.7.10/bac80c520d0a9e3f3673bc2658c6ed02ef45a76a/kotlin-stdlib-common-1.7.10.jar (version 1.7)\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\nRunning Gradle task 'assembleRelease'...                           22.3s\n✓  Built build/app/outputs/flutter-apk/app-release.apk (25.7MB).\n</code></pre>\n<p>my configuration</p>\n<pre><code>/x/android/build.gradle\n\next.kotlin_version = '1.6.10'\n...\n...\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        // START: FlutterFire Configuration\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n        // END: FlutterFire Configuration\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n...\n...\n/x/android/gradle/wrapper/gradle-wrapper.properties\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\n...\n...\n/x/android/app/build.gradle\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n}\n</code></pre>\n<p>my engine</p>\n<pre><code>➜  first_app flutter doctor -v\n[✓] Flutter (Channel stable, 3.0.5, on macOS 12.4 21F79 darwin-arm, locale en-ID)\n    • Flutter version 3.0.5 at /Users/yogiarifwidodo/dev/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f1875d570e (8 weeks ago), 2022-07-13 11:24:16 -0700\n    • Engine revision e85ea0e79c\n    • Dart version 2.17.6\n    • DevTools version 2.12.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n    • Android SDK at /Users/yogiarifwidodo/Library/Android/sdk\n    • Platform android-33, build-tools 30.0.3\n    • ANDROID_HOME = /Users/yogiarifwidodo/Library/Android/sdk\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 13.3)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • CocoaPods version 1.11.0\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[✓] VS Code (version 1.72.0-insider)\n    • VS Code at /Applications/Visual Studio Code - Insiders.app/Contents\n    • Flutter extension version 3.48.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 12.4 21F79 darwin-arm\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 104.0.5112.101\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n</code></pre>\n<pre><code>➜  JavaVirtualMachines ll\ntotal 0\ndrwxr-xr-x  3 root  wheel    96B Jun 27  2021 zulu-11.jdk\ndrwxr-xr-x  3 root  wheel    96B Sep  3 11:58 zulu-17.jdk\ndrwxr-xr-x  3 root  wheel    96B May  1  2021 zulu-8.jdk\n➜  JavaVirtualMachines pwd\n/Library/Java/JavaVirtualMachines\n</code></pre>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1664957881,"post_id":73957583,"comment_id":130585205,"body_markdown":"You can nest wicket components inside wicket:message tags. See: https://cwiki.apache.org/confluence/display/WICKET/Wicket%27s+XHTML+tags#Wicket&#39;sXHTMLtags-Elementwicket:message","body":"You can nest wicket components inside wicket:message tags. See: <a href=\"https://cwiki.apache.org/confluence/display/WICKET/Wicket%27s+XHTML+tags#Wicket&#39;sXHTMLtags-Elementwicket:message\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/WICKET/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664959759,"creation_date":1664959759,"answer_id":73957953,"question_id":73957583,"body_markdown":"I guess the Agreement page has a static url, so just hardcode the link in the message.\r\n\r\n     &lt;wicket:message key=&quot;someKey&quot; escape=&quot;false&quot; /&gt;\r\n\r\n\r\nMyApp.properties\r\n\r\n     someKey=You are logged in with limited functionality - please &lt;a href=&quot;some/url&quot;&gt;sign the agreement&lt;/a&gt; for full access\r\n\r\n\r\nMyApp_de.properties\r\n\r\n     someKey=(in German) You are logged in with limited functionality - please &lt;a href=&quot;some/url&quot;&gt;sign the agreement&lt;/a&gt; for full access","title":"Insert a link in a translated message wicket apache","body":"<p>I guess the Agreement page has a static url, so just hardcode the link in the message.</p>\n<pre><code> &lt;wicket:message key=&quot;someKey&quot; escape=&quot;false&quot; /&gt;\n</code></pre>\n<p>MyApp.properties</p>\n<pre><code> someKey=You are logged in with limited functionality - please &lt;a href=&quot;some/url&quot;&gt;sign the agreement&lt;/a&gt; for full access\n</code></pre>\n<p>MyApp_de.properties</p>\n<pre><code> someKey=(in German) You are logged in with limited functionality - please &lt;a href=&quot;some/url&quot;&gt;sign the agreement&lt;/a&gt; for full access\n</code></pre>\n"}],"owner":{"account_id":19942002,"reputation":157,"user_id":14613565,"display_name":"Hani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664959759,"creation_date":1664957738,"question_id":73957583,"body_markdown":"I am working on a small task with an old wicket Apache version 1.4.x\r\n\r\nthat task is to add a text to one page, but that text should be translated for many languages, and it has a link : \r\n\r\nYou are logged in with limited functionality - please [sign the agreement][1] for full access\r\n\r\n\r\nso is there is a way to pass the link in the message ? \r\n\r\n  [1]: https://www.yahoo.com","title":"Insert a link in a translated message wicket apache","body":"<p>I am working on a small task with an old wicket Apache version 1.4.x</p>\n<p>that task is to add a text to one page, but that text should be translated for many languages, and it has a link :</p>\n<p>You are logged in with limited functionality - please <a href=\"https://www.yahoo.com\" rel=\"nofollow noreferrer\">sign the agreement</a> for full access</p>\n<p>so is there is a way to pass the link in the message ?</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":167317,"reputation":89112,"user_id":392044,"accept_rate":93,"display_name":"Mike Christensen"},"score":0,"creation_date":1368230378,"post_id":16492370,"comment_id":23670875,"body_markdown":"It&#39;s probably inserting it as `&#39;F&#39;::text`, which would cause the error.","body":"It&#39;s probably inserting it as <code>&#39;F&#39;::text</code>, which would cause the error."},{"owner":{"account_id":2682143,"reputation":99,"user_id":2317288,"display_name":"user2317288"},"score":0,"creation_date":1368231237,"post_id":16492370,"comment_id":23671030,"body_markdown":"ok i found as solution and it works","body":"ok i found as solution and it works"},{"owner":{"account_id":2682143,"reputation":99,"user_id":2317288,"display_name":"user2317288"},"score":0,"creation_date":1368231253,"post_id":16492370,"comment_id":23671033,"body_markdown":"pre_state=main.conne.conn.prepareStatement(&quot;insert into customers values (?,?,?,?,?,?::gender,?,?,?,?,?)&quot;);","body":"pre_state=main.conne.conn.prepareStatement(&quot;insert into customers values (?,?,?,?,?,?::gender,?,?,?,?,?)&quot;);"},{"owner":{"account_id":2682143,"reputation":99,"user_id":2317288,"display_name":"user2317288"},"score":0,"creation_date":1368231336,"post_id":16492370,"comment_id":23671050,"body_markdown":"pre_state.setString(6,gendertype.F.toString());","body":"pre_state.setString(6,gendertype.F.toString());"},{"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":8,"creation_date":1368232826,"post_id":16492370,"comment_id":23671299,"body_markdown":"Please consider adding an `Other` and/or `unspecified` value for `gender`. Gender isn&#39;t simply two values; you have genetically XXY individuals, developmentally intersex individuals, etc. Like assuming that names has a &quot;first name&quot; and &quot;surname&quot; it&#39;s a bad habit in computing that needs to go away.","body":"Please consider adding an <code>Other</code> and/or <code>unspecified</code> value for <code>gender</code>. Gender isn&#39;t simply two values; you have genetically XXY individuals, developmentally intersex individuals, etc. Like assuming that names has a &quot;first name&quot; and &quot;surname&quot; it&#39;s a bad habit in computing that needs to go away."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1368239913,"post_id":16492370,"comment_id":23672247,"body_markdown":"@CraigRinger that&#39;s an excellent point. I know someone who has only one name, which is &quot;LynC&quot;. Her drivers licence has a dot as her first name... etc. Don&#39;t be too prescriptive with data","body":"@CraigRinger that&#39;s an excellent point. I know someone who has only one name, which is &quot;LynC&quot;. Her drivers licence has a dot as her first name... etc. Don&#39;t be too prescriptive with data"}],"answers":[{"tags":[],"owner":{"account_id":464466,"reputation":3004,"user_id":867998,"display_name":"Tim Child"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1392288517,"creation_date":1368272972,"answer_id":16496763,"question_id":16492370,"body_markdown":"I can take no credit for this answer as you have already solved it,  but I will explain why it works.\r\n\r\nPostgreSQL  provides the answer when it says  \r\n\r\n&gt; Hint: You will need to rewrite or cast the expression\r\n\r\nThe Java code is creating a string literal value that represents  the Java enum gendertype type.\r\n\r\nCasting a literal to a PostgreSQL  gender type is done by adding a casting suffix to the value `::gender`.\r\n\r\nSo valid input would be\r\n\r\n    &#39;F&#39;::gender\r\n\r\nor\r\n\r\n    &#39;M&#39;::gender\r\n\r\nThis works because all PostgreSQL types have a input method that takes a text representation and converts that to the internal form.","title":"java enum and postgresql enum","body":"<p>I can take no credit for this answer as you have already solved it,  but I will explain why it works.</p>\n\n<p>PostgreSQL  provides the answer when it says  </p>\n\n<blockquote>\n  <p>Hint: You will need to rewrite or cast the expression</p>\n</blockquote>\n\n<p>The Java code is creating a string literal value that represents  the Java enum gendertype type.</p>\n\n<p>Casting a literal to a PostgreSQL  gender type is done by adding a casting suffix to the value <code>::gender</code>.</p>\n\n<p>So valid input would be</p>\n\n<pre><code>'F'::gender\n</code></pre>\n\n<p>or</p>\n\n<pre><code>'M'::gender\n</code></pre>\n\n<p>This works because all PostgreSQL types have a input method that takes a text representation and converts that to the internal form.</p>\n"},{"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584460642,"creation_date":1584460642,"answer_id":60725916,"question_id":16492370,"body_markdown":"Your solution would have been\r\n\r\n    pre_state.setObject(6, gendertype.F.toString(), Types.OTHER);","title":"java enum and postgresql enum","body":"<p>Your solution would have been</p>\n\n<pre><code>pre_state.setObject(6, gendertype.F.toString(), Types.OTHER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7812692,"reputation":3085,"user_id":5908433,"accept_rate":100,"display_name":"Dmitriy Fialkovskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664959411,"creation_date":1664957453,"answer_id":73957533,"question_id":16492370,"body_markdown":"In addition to other answers if you use for example `createNativeQuery()` you should cast value to your `enum` like `cast(? as gender)`, something like that:\r\n    \r\n    Person person = new Person(&quot;Gurbanguly&quot;, &quot;Berdymukhamedov&quot;, Gender.Male)\r\n    Session session = HibernateUtil.getSessionFactory().openSession();\r\n    Transaction transaction = session.beginTransaction();\r\n    session.createNativeQuery(&quot;INSERT INTO Person (firstname, lastname, gender) VALUES (?,?,cast(? as gender))&quot;)\r\n                .setParameter(1, person.getFirstName())\r\n                .setParameter(2, person.getLastName())\r\n                .setParameter(3, person.getGender().toString())\r\n                .executeUpdate();\r\n    transaction.commit();\r\n    session.close(); // this statement is needed not to produce many sessions\r\n\r\n\r\n    ","title":"java enum and postgresql enum","body":"<p>In addition to other answers if you use for example <code>createNativeQuery()</code> you should cast value to your <code>enum</code> like <code>cast(? as gender)</code>, something like that:</p>\n<pre><code>Person person = new Person(&quot;Gurbanguly&quot;, &quot;Berdymukhamedov&quot;, Gender.Male)\nSession session = HibernateUtil.getSessionFactory().openSession();\nTransaction transaction = session.beginTransaction();\nsession.createNativeQuery(&quot;INSERT INTO Person (firstname, lastname, gender) VALUES (?,?,cast(? as gender))&quot;)\n            .setParameter(1, person.getFirstName())\n            .setParameter(2, person.getLastName())\n            .setParameter(3, person.getGender().toString())\n            .executeUpdate();\ntransaction.commit();\nsession.close(); // this statement is needed not to produce many sessions\n</code></pre>\n"}],"owner":{"account_id":2682143,"reputation":99,"user_id":2317288,"display_name":"user2317288"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15208,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":3,"score":8,"last_activity_date":1664959411,"creation_date":1368230228,"question_id":16492370,"body_markdown":"    CREATE TABLE customers\r\n    (\r\n      first_name character varying(15),\r\n      second_name character varying(20),\r\n      login character varying(15) NOT NULL,\r\n      password character varying(15),\r\n      email character varying(40),\r\n      gender gender,\r\n      register_date date,\r\n      date_of_birth date,\r\n      address character varying(40),\r\n      address_number integer,\r\n      town character varying(20),\r\n      CONSTRAINT login PRIMARY KEY (login)\r\n    )\r\n\r\n\r\nI have this table and I created an enum of gender such as:\r\n\r\n    CREATE TYPE gender AS ENUM ( &#39;F&#39;, &#39;M&#39;,);\r\n\r\nI am trying to insert into customers data from eclipse java with PreparedStatement\r\nbut there is an error such as ERROR: column &quot;gender&quot; is of type gender but expression is of type character varying\r\n  Hint: You will need to rewrite or cast the expression.\r\n\r\nMy Java code looks like: \r\n\r\n    PreparedStatement pre_state;\r\n    \r\n    public enum gendertype {\r\n    \tF,\r\n    \tM;\r\n    }\r\n\r\n    pre_state = conn.prepareStatement(&quot;INSERT INTO&quot;\r\n                + &quot; customers VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;);\r\n    pre_state.set(6, gendertype.F.toString());","title":"java enum and postgresql enum","body":"<pre><code>CREATE TABLE customers\n(\n  first_name character varying(15),\n  second_name character varying(20),\n  login character varying(15) NOT NULL,\n  password character varying(15),\n  email character varying(40),\n  gender gender,\n  register_date date,\n  date_of_birth date,\n  address character varying(40),\n  address_number integer,\n  town character varying(20),\n  CONSTRAINT login PRIMARY KEY (login)\n)\n</code></pre>\n\n<p>I have this table and I created an enum of gender such as:</p>\n\n<pre><code>CREATE TYPE gender AS ENUM ( 'F', 'M',);\n</code></pre>\n\n<p>I am trying to insert into customers data from eclipse java with PreparedStatement\nbut there is an error such as ERROR: column \"gender\" is of type gender but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.</p>\n\n<p>My Java code looks like: </p>\n\n<pre><code>PreparedStatement pre_state;\n\npublic enum gendertype {\n    F,\n    M;\n}\n\npre_state = conn.prepareStatement(\"INSERT INTO\"\n            + \" customers VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\");\npre_state.set(6, gendertype.F.toString());\n</code></pre>\n"},{"tags":["java","azure","scala","azure-databricks","delta-lake"],"answers":[{"tags":[],"owner":{"account_id":2552375,"reputation":508,"user_id":2215906,"accept_rate":42,"display_name":"dileepvarma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559877619,"creation_date":1559872438,"answer_id":56487054,"question_id":56485607,"body_markdown":"Check this link below. This has steps to configure delta using JDBC\r\n\r\nhttp://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html\r\n\r\ncode provided in this link:\r\n\r\n        import java.sql.DriverManager \r\n    import java.sql.Driver\r\n    import java.sql.Connection \r\n    import javax.sql.DataSource\r\n    \r\n    object ScalaJdbcConnectSelect {\r\n    \tdef main(args: Array[String]) {\r\n    \t\tval driver = &quot;com.simba.spark.jdbc41.Driver&quot;  //attach the Spark jar to the Classpath.\r\n    \t\tval url = &quot;jdbc:spark://field-eng.cloud.databricks.com:443/default;transportMode=http;ssl=true;httpPath=sql/protocolvl/o/0/0911-153027-hopes19&quot;;\t\r\n    \t\tval username = &quot;token&quot; \r\n    \t\tval password = &quot;&lt;token-value&gt;&quot; //Token generated from databricks profile page.\r\n    \t\tvar connection:Connection = null\r\n    \t\ttry {\r\n    \t\t// Create the connection\r\n    \t\t\tClass.forName(driver)\r\n    \t\t\tconnection = DriverManager.getConnection(url, username, password)\r\n    \t\t\tif(connection != null){\r\n    \t\t\t\tprintln(&quot;Connection Established&quot;);\r\n    \r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tprintln(&quot;Connection Failed&quot;);\r\n    \t\t\t}\r\n    \t\t\t// create the statement\r\n    \t\t\tval statement = connection.createStatement()\r\n    \t\t\tval resultSet = statement.executeQuery(&quot;&lt;&lt;Query&gt;&quot;) // Profile your query here.\r\n    \t\t\twhile ( resultSet.next() ) {\r\n    \t\t\t\t// Iterate through Result set\r\n    \t\t\t} \r\n    \t\tcatch {\r\n    \t\t\tcase e =&gt; e.printStackTrace\r\n    \t\t}\r\n    \t\tconnection.close()\r\n    \t}\r\n    }\r\n\r\n","title":"How to Connect to Databricks Delta table using JDBC driver","body":"<p>Check this link below. This has steps to configure delta using JDBC</p>\n\n<p><a href=\"http://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html\" rel=\"nofollow noreferrer\">http://sedeks.blogspot.com/2019/05/how-to-connect-to-databricks-delta.html</a></p>\n\n<p>code provided in this link:</p>\n\n<pre><code>    import java.sql.DriverManager \nimport java.sql.Driver\nimport java.sql.Connection \nimport javax.sql.DataSource\n\nobject ScalaJdbcConnectSelect {\n    def main(args: Array[String]) {\n        val driver = \"com.simba.spark.jdbc41.Driver\"  //attach the Spark jar to the Classpath.\n        val url = \"jdbc:spark://field-eng.cloud.databricks.com:443/default;transportMode=http;ssl=true;httpPath=sql/protocolvl/o/0/0911-153027-hopes19\";    \n        val username = \"token\" \n        val password = \"&lt;token-value&gt;\" //Token generated from databricks profile page.\n        var connection:Connection = null\n        try {\n        // Create the connection\n            Class.forName(driver)\n            connection = DriverManager.getConnection(url, username, password)\n            if(connection != null){\n                println(\"Connection Established\");\n\n            }\n            else {\n                println(\"Connection Failed\");\n            }\n            // create the statement\n            val statement = connection.createStatement()\n            val resultSet = statement.executeQuery(\"&lt;&lt;Query&gt;\") // Profile your query here.\n            while ( resultSet.next() ) {\n                // Iterate through Result set\n            } \n        catch {\n            case e =&gt; e.printStackTrace\n        }\n        connection.close()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5415209,"reputation":83,"user_id":4310522,"display_name":"srinivasa raju p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11886,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56487054,"answer_count":1,"score":6,"last_activity_date":1664958885,"creation_date":1559858365,"question_id":56485607,"body_markdown":"How can I connect to Databricks Delta table using JDBC?\r\n\r\nI have tried connecting simba driver but im getting hard time for driver class name and url configuration.\r\n\r\nAny solution is appreciated.\r\nI cannot paste code here as its company code.\r\n\r\nThanks in advance.","title":"How to Connect to Databricks Delta table using JDBC driver","body":"<p>How can I connect to Databricks Delta table using JDBC?</p>\n\n<p>I have tried connecting simba driver but im getting hard time for driver class name and url configuration.</p>\n\n<p>Any solution is appreciated.\nI cannot paste code here as its company code.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"score":3,"creation_date":1664958094,"post_id":73957618,"comment_id":130585284,"body_markdown":"Does this answer your question? [How to add elements of a Java8 stream into an existing List](https://stackoverflow.com/questions/22753755/how-to-add-elements-of-a-java8-stream-into-an-existing-list)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22753755/how-to-add-elements-of-a-java8-stream-into-an-existing-list\">How to add elements of a Java8 stream into an existing List</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1664958110,"post_id":73957618,"comment_id":130585288,"body_markdown":"Could you please describe the purpose of the return value? What is it supposed to contain?","body":"Could you please describe the purpose of the return value? What is it supposed to contain?"},{"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"score":3,"creation_date":1664958160,"post_id":73957618,"comment_id":130585302,"body_markdown":"Note that every time you call `collect`, you assign a new list to `allBooks`. So it contains the last loop iteration`s result","body":"Note that every time you call <code>collect</code>, you assign a new list to <code>allBooks</code>. So it contains the last loop iteration`s result"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664958756,"creation_date":1664958756,"answer_id":73957773,"question_id":73957618,"body_markdown":"You don&#39;t need to combine a loop and a stream action, you can work wit only streams thanks to `flatMap`:\r\n\r\n```java\r\nList&lt;States&gt; states = new ArrayList&lt;&gt;();\r\nstates.add(States.AVAILABLE);\r\nstates.add(States.BORROWED);\r\nstates.add(States.BLOCKED);\r\nreturn states.stream()\r\n        .flatMap(state -&gt; getBooks(libraryId, state.getValue())\r\n                .getValues()\r\n                .stream()\r\n        )\r\n        .map(book -&gt; {\r\n            Book bookInfo = new Book();\r\n            bookInfo.setId(book.getId());\r\n            bookInfo.setTitle(book.getTitle());\r\n            bookInfo.setState(book.getState());\r\n            bookInfo.setLinks(book.getLinks());\r\n            return bookInfo;\r\n        })\r\n        .collect(Collectors.toList());\r\n```","title":"how to use java 8 stream in a loop and add results in a list","body":"<p>You don't need to combine a loop and a stream action, you can work wit only streams thanks to <code>flatMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;States&gt; states = new ArrayList&lt;&gt;();\nstates.add(States.AVAILABLE);\nstates.add(States.BORROWED);\nstates.add(States.BLOCKED);\nreturn states.stream()\n        .flatMap(state -&gt; getBooks(libraryId, state.getValue())\n                .getValues()\n                .stream()\n        )\n        .map(book -&gt; {\n            Book bookInfo = new Book();\n            bookInfo.setId(book.getId());\n            bookInfo.setTitle(book.getTitle());\n            bookInfo.setState(book.getState());\n            bookInfo.setLinks(book.getLinks());\n            return bookInfo;\n        })\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73957773,"answer_count":1,"score":0,"last_activity_date":1664958756,"creation_date":1664957946,"question_id":73957618,"body_markdown":"I am using Java 8 stream in a loop, and the problem is that the final result is null. When I remove the loop, the final result is okay. And I guess the problem is with the `collect` part but I have no idea about what to use instead. So, could anyone help me with this? Thanks \r\n\r\n    public List&lt;Book&gt; updateBooks(String libraryId) {\r\n        List&lt;States&gt; states = new ArrayList&lt;&gt;();\r\n        states.add(States.AVAILABLE);\r\n        states.add(States.BORROWED);\r\n        states.add(States.BLOCKED);\r\n        for (State state : states) {\r\n          books = getBooks(libraryId,state.getValue());\r\n          allBooks = books .getValues().stream().map(book -&gt; {\r\n            Book bookInfo = new Book();\r\n            bookInfo.setId(book.getId());\r\n            bookInfo.setTitle(book.getTitle());\r\n            bookInfo.setState(book.getState());\r\n            bookInfo.setLinks(book.getLinks());\r\n            return pullRequestInfo;\r\n          }).collect(Collectors.toList());\r\n        }\r\n        return allBooks;\r\n      }\r\n\r\n","title":"how to use java 8 stream in a loop and add results in a list","body":"<p>I am using Java 8 stream in a loop, and the problem is that the final result is null. When I remove the loop, the final result is okay. And I guess the problem is with the <code>collect</code> part but I have no idea about what to use instead. So, could anyone help me with this? Thanks</p>\n<pre><code>public List&lt;Book&gt; updateBooks(String libraryId) {\n    List&lt;States&gt; states = new ArrayList&lt;&gt;();\n    states.add(States.AVAILABLE);\n    states.add(States.BORROWED);\n    states.add(States.BLOCKED);\n    for (State state : states) {\n      books = getBooks(libraryId,state.getValue());\n      allBooks = books .getValues().stream().map(book -&gt; {\n        Book bookInfo = new Book();\n        bookInfo.setId(book.getId());\n        bookInfo.setTitle(book.getTitle());\n        bookInfo.setState(book.getState());\n        bookInfo.setLinks(book.getLinks());\n        return pullRequestInfo;\n      }).collect(Collectors.toList());\n    }\n    return allBooks;\n  }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6697330,"reputation":64,"user_id":5164987,"display_name":"Radu Jakab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538583748,"creation_date":1538583748,"answer_id":52631610,"question_id":52631349,"body_markdown":"the error says that it cannot the file:\r\n    Caused by: org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value &#39;ServletContext resource [/schema-mysql.sql]&#39; is invalid: The specified resource does not exist.\r\n\r\nThe default behavior is to search for data-*.sql and schema-*.sql, under the application context, as you can see [in DataInitializer][1].\r\n\r\nHowever, your problem is probably quite simple, you need to add &quot;classpath:&quot; before the file names, to indicate that you are providing files &amp; locations. Something like\r\n    spring.datasource.data=classpath:/my-seed-data.sql\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/112214a307dcacfe3b863c06acaa9e89fe015db5/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceInitializer.java","title":"Create database and table, and to insert static data in to table using java in springboot","body":"<p>the error says that it cannot the file:\n    Caused by: org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value 'ServletContext resource [/schema-mysql.sql]' is invalid: The specified resource does not exist.</p>\n\n<p>The default behavior is to search for data-<em>.sql and schema-</em>.sql, under the application context, as you can see <a href=\"https://github.com/spring-projects/spring-boot/blob/112214a307dcacfe3b863c06acaa9e89fe015db5/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceInitializer.java\" rel=\"nofollow noreferrer\">in DataInitializer</a>.</p>\n\n<p>However, your problem is probably quite simple, you need to add \"classpath:\" before the file names, to indicate that you are providing files &amp; locations. Something like\n    spring.datasource.data=classpath:/my-seed-data.sql</p>\n"},{"tags":[],"owner":{"account_id":26016631,"reputation":1,"user_id":19724866,"display_name":"Sero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664958691,"creation_date":1664958691,"answer_id":73957765,"question_id":52631349,"body_markdown":"    package createDatabase;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DatabaseMetaData;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class CreateDatabaseTable {\r\n    \r\n        public final static String xxxxTable = &quot;xxxxx_table&quot;;\r\n        public final static String xxxxxTable = &quot;xxxxxx_table&quot;;\r\n        public final static String xxxxxxTable = &quot;xxxxxx_table&quot;;\r\n    \r\n        public static final String DB_URL = &quot;jdbc:postgresql://localhost/&quot;; // Intsert Database URL\r\n        public static final String USER = &quot;postgres&quot;; // Your Username\r\n        public static final String PASS = &quot;xxxxx&quot;; // Your password\r\n        private final static String database = &quot;NAME OF YOUR DATABASE&quot;;\r\n        \r\n        public static void main(String[] args) throws SQLException {\r\n            CreateDatabaseTable table = new CreateDatabaseTable();\r\n            table.createTables();\r\n        }\r\n        public void createTables() throws SQLException {\r\n            // Open a connection\r\n            Connection con = DriverManager.getConnection(DB_URL + database, USER, PASS);\r\n            DatabaseMetaData dbm = con.getMetaData();\r\n            try {\r\n                System.out.println(&quot;Creating Tables....&quot;);\r\n                Statement stmt = con.createStatement();\r\n                String sql = &quot;CREATE TABLE &quot; + TableName+ &quot;(ID INT PRIMARY KEY NOT NULL,ColumnName TEXT,ColumnName 2 TEXT);&quot;;\r\n                stmt.executeUpdate(sql);\r\n                Statement stmt1 = con.createStatement();\r\n                String sql1 = &quot;CREATE TABLE &quot; + TableName+ &quot;(ID SERIAL PRIMARY KEY,ColumnName TEXT,ColumnName TEXT,ColumnName TEXT);&quot;;\r\n                stmt1.executeUpdate(sql1);\r\n                Statement stmt2 = con.createStatement();\r\n                String sql2 = &quot;CREATE TABLE &quot; + TableName+ &quot;(ID SERIAL PRIMARY KEY,ColumnName TEXT,ColumnName TEXT,ColumnName TEXT);&quot;;\r\n                stmt2.executeUpdate(sql2);\r\n                System.out.println(&quot;Tables created succesfully.\\n&quot;);\r\n            } catch (SQLException e) {\r\n                System.err.println(e+&quot;\\n&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is a Copy/Paste Template to create Tables using JDBC. When using this, don&#39;t forget to change the Code, also this is PostgreSql, so if you use MySQL or whatever you might have to change the SQL commands a little bit. \r\n","title":"Create database and table, and to insert static data in to table using java in springboot","body":"<pre><code>package createDatabase;\n\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class CreateDatabaseTable {\n\n    public final static String xxxxTable = &quot;xxxxx_table&quot;;\n    public final static String xxxxxTable = &quot;xxxxxx_table&quot;;\n    public final static String xxxxxxTable = &quot;xxxxxx_table&quot;;\n\n    public static final String DB_URL = &quot;jdbc:postgresql://localhost/&quot;; // Intsert Database URL\n    public static final String USER = &quot;postgres&quot;; // Your Username\n    public static final String PASS = &quot;xxxxx&quot;; // Your password\n    private final static String database = &quot;NAME OF YOUR DATABASE&quot;;\n    \n    public static void main(String[] args) throws SQLException {\n        CreateDatabaseTable table = new CreateDatabaseTable();\n        table.createTables();\n    }\n    public void createTables() throws SQLException {\n        // Open a connection\n        Connection con = DriverManager.getConnection(DB_URL + database, USER, PASS);\n        DatabaseMetaData dbm = con.getMetaData();\n        try {\n            System.out.println(&quot;Creating Tables....&quot;);\n            Statement stmt = con.createStatement();\n            String sql = &quot;CREATE TABLE &quot; + TableName+ &quot;(ID INT PRIMARY KEY NOT NULL,ColumnName TEXT,ColumnName 2 TEXT);&quot;;\n            stmt.executeUpdate(sql);\n            Statement stmt1 = con.createStatement();\n            String sql1 = &quot;CREATE TABLE &quot; + TableName+ &quot;(ID SERIAL PRIMARY KEY,ColumnName TEXT,ColumnName TEXT,ColumnName TEXT);&quot;;\n            stmt1.executeUpdate(sql1);\n            Statement stmt2 = con.createStatement();\n            String sql2 = &quot;CREATE TABLE &quot; + TableName+ &quot;(ID SERIAL PRIMARY KEY,ColumnName TEXT,ColumnName TEXT,ColumnName TEXT);&quot;;\n            stmt2.executeUpdate(sql2);\n            System.out.println(&quot;Tables created succesfully.\\n&quot;);\n        } catch (SQLException e) {\n            System.err.println(e+&quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here is a Copy/Paste Template to create Tables using JDBC. When using this, don't forget to change the Code, also this is PostgreSql, so if you use MySQL or whatever you might have to change the SQL commands a little bit.</p>\n"}],"owner":{"account_id":14164826,"reputation":1,"user_id":10233062,"display_name":"Guruprasad A N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664958691,"creation_date":1538582751,"question_id":52631349,"body_markdown":"Am trying to create Database and Table, and then need insert static data to the table by Java 1.8v while initialization of .JAR .\r\n\r\nHere is my application.properties file:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url = jdbc:mysql:\r\n    spring.datasource.username =root\r\n    spring.datasource.password =root\r\n    server.port=9090\r\n\r\n    spring.jpa.hibernate.ddl-auto = create-drop\r\n    spring.jpa.show-sql = true\r\n    spring.jpa.hibernate.naming-strategy = \r\n    org.hibernate.cfg.ImprovedNamingStrategy\r\n    spring.jpa.properties.hibernate.dialect = \r\n    org.hibernate.dialect.MySQL5Dialect\r\n\r\n    spring.datasource.initialization-mode=always\r\n    spring.datasource.platform=mysql\r\n    spring.datasource.schema=schema-mysql.sql\r\n    spring.datasource.data=data-mysql.sql\r\n    spring.datasource.initialize=true\r\n    spring.datasource.continue-on-error=true\r\n\r\nIn compile time its giving this error:\r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-10-03 21:07:24.291 ERROR 13826 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker&#39;: Invocation of init method failed; nested exception is org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value &#39;ServletContext resource [/schema-mysql.sql]&#39; is invalid: The specified resource does not exist.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat com.database.DatabaseAutomation.DatabaseAutomationApplication.main(DatabaseAutomationApplication.java:10) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker&#39;: Invocation of init method failed; nested exception is org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value &#39;ServletContext resource [/schema-mysql.sql]&#39; is invalid: The specified resource does not exist.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1135) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\t... 28 common frames omitted\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker&#39;: Invocation of init method failed; nested exception is org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value &#39;ServletContext resource [/schema-mysql.sql]&#39; is invalid: The specified resource does not exist.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1012) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:338) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:333) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1703) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\t... 38 common frames omitted\r\n\r\n    Caused by: org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value &#39;ServletContext resource [/schema-mysql.sql]&#39; is invalid: The specified resource does not exist.\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.getResources(DataSourceInitializer.java:169) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.getScripts(DataSourceInitializer.java:151) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:95) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n\t... 51 common frames omitted\r\n\r\nschema.sql is:\r\n\r\n    create database if not exists &#39;data1&#39; ;\r\n\r\ndata.sql contains:\r\n\r\n    create table if not exists &#39;data1&#39;.&#39;table_1&#39; (table_id INT(11) , name VARCHAR(255));\r\n\r\nHow can create and insert data in the Java application start time auto matically, whithout creating and inserting manually.","title":"Create database and table, and to insert static data in to table using java in springboot","body":"<p>Am trying to create Database and Table, and then need insert static data to the table by Java 1.8v while initialization of .JAR .</p>\n\n<p>Here is my application.properties file:</p>\n\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url = jdbc:mysql:\nspring.datasource.username =root\nspring.datasource.password =root\nserver.port=9090\n\nspring.jpa.hibernate.ddl-auto = create-drop\nspring.jpa.show-sql = true\nspring.jpa.hibernate.naming-strategy = \norg.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.properties.hibernate.dialect = \norg.hibernate.dialect.MySQL5Dialect\n\nspring.datasource.initialization-mode=always\nspring.datasource.platform=mysql\nspring.datasource.schema=schema-mysql.sql\nspring.datasource.data=data-mysql.sql\nspring.datasource.initialize=true\nspring.datasource.continue-on-error=true\n</code></pre>\n\n<p>In compile time its giving this error:</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-10-03 21:07:24.291 ERROR 13826 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value 'ServletContext resource [/schema-mysql.sql]' is invalid: The specified resource does not exist.\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat com.database.DatabaseAutomation.DatabaseAutomationApplication.main(DatabaseAutomationApplication.java:10) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value 'ServletContext resource [/schema-mysql.sql]' is invalid: The specified resource does not exist.\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1135) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1062) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:818) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:724) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n... 28 common frames omitted\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value 'ServletContext resource [/schema-mysql.sql]' is invalid: The specified resource does not exist.\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1012) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:338) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:333) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1703) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n... 38 common frames omitted\n\nCaused by: org.springframework.boot.context.properties.source.InvalidConfigurationPropertyValueException: Property spring.datasource.schema with value 'ServletContext resource [/schema-mysql.sql]' is invalid: The specified resource does not exist.\nat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.getResources(DataSourceInitializer.java:169) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.getScripts(DataSourceInitializer.java:151) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:95) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n... 51 common frames omitted\n</code></pre>\n\n<p>schema.sql is:</p>\n\n<pre><code>create database if not exists 'data1' ;\n</code></pre>\n\n<p>data.sql contains:</p>\n\n<pre><code>create table if not exists 'data1'.'table_1' (table_id INT(11) , name VARCHAR(255));\n</code></pre>\n\n<p>How can create and insert data in the Java application start time auto matically, whithout creating and inserting manually.</p>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":443865,"reputation":1815,"user_id":835348,"accept_rate":83,"display_name":"James DW"},"score":3,"creation_date":1316531821,"post_id":7487526,"comment_id":9063279,"body_markdown":"Is there another process running in debug mode already? The port might be busy.","body":"Is there another process running in debug mode already? The port might be busy."},{"owner":{"account_id":142772,"reputation":10398,"user_id":350685,"accept_rate":72,"display_name":"Sriram"},"score":0,"creation_date":1316532058,"post_id":7487526,"comment_id":9063352,"body_markdown":"@JamesDW: how do I check that? I do not have any other debuggers (gdb/ddd) on.","body":"@JamesDW: how do I check that? I do not have any other debuggers (gdb/ddd) on."},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":2,"creation_date":1316532303,"post_id":7487526,"comment_id":9063424,"body_markdown":"@JamesDW probably he would be getting `ERROR: transport error 202: bind failed: Address already in use ` in case the port was already in use.","body":"@JamesDW probably he would be getting <code>ERROR: transport error 202: bind failed: Address already in use </code> in case the port was already in use."},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1316532357,"post_id":7487526,"comment_id":9063439,"body_markdown":"@Sriram Which parameters are you starting the jvm with?","body":"@Sriram Which parameters are you starting the jvm with?"},{"owner":{"account_id":142772,"reputation":10398,"user_id":350685,"accept_rate":72,"display_name":"Sriram"},"score":0,"creation_date":1316536487,"post_id":7487526,"comment_id":9064666,"body_markdown":"@XaviL&#243;pez: I am a complete noob as far as Java goes. I don&#39;t think I have specifically mentioned any parameters. I just hit the build and run buttons to run the program. How do I check what parameters I am running jvm with?","body":"@XaviL&#243;pez: I am a complete noob as far as Java goes. I don&#39;t think I have specifically mentioned any parameters. I just hit the build and run buttons to run the program. How do I check what parameters I am running jvm with?"},{"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"score":0,"creation_date":1316540414,"post_id":7487526,"comment_id":9065688,"body_markdown":"@Sriram is it a standalone application you&#39;re trying to debug, or is it a webapp running on a web server? I think in the debug configuration options you can see those parameters maybe in &#39;Environment&#39; tab, I don&#39;t remember the details.","body":"@Sriram is it a standalone application you&#39;re trying to debug, or is it a webapp running on a web server? I think in the debug configuration options you can see those parameters maybe in &#39;Environment&#39; tab, I don&#39;t remember the details."},{"owner":{"account_id":142772,"reputation":10398,"user_id":350685,"accept_rate":72,"display_name":"Sriram"},"score":0,"creation_date":1316541483,"post_id":7487526,"comment_id":9065984,"body_markdown":"@XaviL&#243;pez: This is a standalone application. Nothing is over the web.","body":"@XaviL&#243;pez: This is a standalone application. Nothing is over the web."}],"answers":[{"tags":[],"owner":{"account_id":544584,"reputation":518,"user_id":914080,"accept_rate":100,"display_name":"Maza89"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1316531839,"creation_date":1316531839,"answer_id":7487574,"question_id":7487526,"body_markdown":"Looks like the same problem as [here][1]. A reboot of the pc fixed the problem there. I haven&#39;t found any other solutions.\r\n\r\n\r\n  [1]: http://www.eclipse.org/forums/index.php/m/502101/","title":"Unable to debug in Java with eclipse","body":"<p>Looks like the same problem as <a href=\"http://www.eclipse.org/forums/index.php/m/502101/\" rel=\"noreferrer\">here</a>. A reboot of the pc fixed the problem there. I haven't found any other solutions.</p>\n"},{"tags":[],"owner":{"account_id":1148406,"reputation":611,"user_id":1130664,"display_name":"gonadarian"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1330355858,"creation_date":1330355858,"answer_id":9467408,"question_id":7487526,"body_markdown":"I just had the same problem.\r\n\r\nYesterday everything worked fine, now nothing - same error as you gave. I found out that network admins made some changes in the meantime. Some firewall stuff. Problem is that Eclipse tries to establish connection to JVM at &quot;localhost&quot; (and some random port). When I tried pinging localhost (or 127.0.0.1) I got following:\r\n\r\n    C:\\Windows\\system32&gt;ping 127.0.0.1\r\n    Pinging 127.0.0.1 with 32 bytes of data:\r\n    PING: transmit failed. General failure.\r\n    PING: transmit failed. General failure.\r\n    PING: transmit failed. General failure.\r\n    PING: transmit failed. General failure.\r\n\r\nand\r\n\r\n    C:\\Windows\\system32&gt;ping localhost\r\n    Ping request could not find host localhost. Please check the name and try again.\r\n\r\nIt seams that in some cases DNS is expected to resolve this, and if firewall prevents localhost requests to DNS - stuff breaks. I had to alter hosts file and remove comments in following lines, so I would not rely on DNS for this anymore:\r\n\r\n    # 127.0.0.1       localhost\r\n    # ::1             localhost\r\n\r\nAlthough it is written that hosts file changes take effect immediately, I think that some processes locked this and restart was necessary in my case. After that, everything worked again.","title":"Unable to debug in Java with eclipse","body":"<p>I just had the same problem.</p>\n\n<p>Yesterday everything worked fine, now nothing - same error as you gave. I found out that network admins made some changes in the meantime. Some firewall stuff. Problem is that Eclipse tries to establish connection to JVM at \"localhost\" (and some random port). When I tried pinging localhost (or 127.0.0.1) I got following:</p>\n\n<pre><code>C:\\Windows\\system32&gt;ping 127.0.0.1\nPinging 127.0.0.1 with 32 bytes of data:\nPING: transmit failed. General failure.\nPING: transmit failed. General failure.\nPING: transmit failed. General failure.\nPING: transmit failed. General failure.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>C:\\Windows\\system32&gt;ping localhost\nPing request could not find host localhost. Please check the name and try again.\n</code></pre>\n\n<p>It seams that in some cases DNS is expected to resolve this, and if firewall prevents localhost requests to DNS - stuff breaks. I had to alter hosts file and remove comments in following lines, so I would not rely on DNS for this anymore:</p>\n\n<pre><code># 127.0.0.1       localhost\n# ::1             localhost\n</code></pre>\n\n<p>Although it is written that hosts file changes take effect immediately, I think that some processes locked this and restart was necessary in my case. After that, everything worked again.</p>\n"},{"tags":[],"owner":{"account_id":142772,"reputation":10398,"user_id":350685,"accept_rate":72,"display_name":"Sriram"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1333106186,"creation_date":1333106186,"answer_id":9941889,"question_id":7487526,"body_markdown":"Continuing @gonadarian&#39;s answer, it seems `Eclipse` uses port `127.0.0.1` for debug purposes. This port is also called `localhost`. The way this error can be removed is by ensuring that there are no processes or services running on the above ports. The way to do this, on Linux is:  \r\n\r\n1. As `root`, enter the command:  \r\n`netstat -tulpn | grep 127.0.0.1`  \r\n\r\n2. If there are processes running on the above port, it will show up in the format:  \r\n`process_id/process name`.  \r\n\r\n3. Kill the above processes like so: `kill -KILL process_id`  \r\n\r\n4. Restart the computer for these changes to take effect. The error should no longer occur.","title":"Unable to debug in Java with eclipse","body":"<p>Continuing @gonadarian's answer, it seems <code>Eclipse</code> uses port <code>127.0.0.1</code> for debug purposes. This port is also called <code>localhost</code>. The way this error can be removed is by ensuring that there are no processes or services running on the above ports. The way to do this, on Linux is:  </p>\n\n<ol>\n<li><p>As <code>root</code>, enter the command:<br>\n<code>netstat -tulpn | grep 127.0.0.1</code>  </p></li>\n<li><p>If there are processes running on the above port, it will show up in the format:<br>\n<code>process_id/process name</code>.  </p></li>\n<li><p>Kill the above processes like so: <code>kill -KILL process_id</code>  </p></li>\n<li><p>Restart the computer for these changes to take effect. The error should no longer occur.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2827911,"reputation":1757,"user_id":2430134,"accept_rate":50,"display_name":"Adair"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1369774053,"creation_date":1369774053,"answer_id":16801226,"question_id":7487526,"body_markdown":"I was getting the same error on my ubuntu machine because of a mishap with the /etc/hosts file. I had commented out the mapping of localhost to 127.0.0.1, and to complicate matters further there was a swap file hanging around.\r\n\r\nThis was the first line of my /etc/hosts:\r\n\r\n    127.0.0.1       #localhost\r\n\r\nDeleting the # fixed the problem, whereas rebooting understandably had not.","title":"Unable to debug in Java with eclipse","body":"<p>I was getting the same error on my ubuntu machine because of a mishap with the /etc/hosts file. I had commented out the mapping of localhost to 127.0.0.1, and to complicate matters further there was a swap file hanging around.</p>\n\n<p>This was the first line of my /etc/hosts:</p>\n\n<pre><code>127.0.0.1       #localhost\n</code></pre>\n\n<p>Deleting the # fixed the problem, whereas rebooting understandably had not.</p>\n"},{"tags":[],"owner":{"account_id":3319049,"reputation":21,"user_id":2790656,"display_name":"Calix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386662531,"creation_date":1386661277,"answer_id":20488708,"question_id":7487526,"body_markdown":"Its Very Simple,Just do the Following Changes in eclipse.ini file.\r\n\r\n    -vm\r\n    binary\\com.sun.java.jdk.win32.x86_1.6.0.u43\\jre\\bin\\javaw.exe","title":"Unable to debug in Java with eclipse","body":"<p>Its Very Simple,Just do the Following Changes in eclipse.ini file.</p>\n\n<pre><code>-vm\nbinary\\com.sun.java.jdk.win32.x86_1.6.0.u43\\jre\\bin\\javaw.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1016521,"reputation":785,"user_id":1027985,"accept_rate":71,"display_name":"Didjit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1396466967,"creation_date":1396466967,"answer_id":22821192,"question_id":7487526,"body_markdown":"My cause &amp; solution were completely different. &lt;br&gt;\r\nI think in my case it was due to the installation of JProfiler.  I fixed it by uninstalling JProfiler and launching eclipse with the &lt;code&gt;-clean&lt;/code&gt; option.  I suspect that JProfiler was inserting itself in the debugger.  The &lt;code&gt;-clean&lt;/code&gt; option forces Eclipse to re-assess its plugins, so that alone might have been sufficient.","title":"Unable to debug in Java with eclipse","body":"<p>My cause &amp; solution were completely different. <br>\nI think in my case it was due to the installation of JProfiler.  I fixed it by uninstalling JProfiler and launching eclipse with the <code>-clean</code> option.  I suspect that JProfiler was inserting itself in the debugger.  The <code>-clean</code> option forces Eclipse to re-assess its plugins, so that alone might have been sufficient.</p>\n"},{"tags":[],"owner":{"account_id":2281836,"reputation":476,"user_id":2006736,"display_name":"Willie Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454448784,"creation_date":1454448784,"answer_id":35164186,"question_id":7487526,"body_markdown":"My case is I have a bunch of domains refer to 127.0.0.1 in hosts file, like this:\r\n\r\n&gt; 127.0.0.1 localhost domian1.local domain2.local domain3.local\r\n\r\none day I added another new domain to refer to 127.0.0.1. By mistake, I put the domain in front of &quot;localhost&quot;, like this:\r\n\r\n&gt; 127.0.0.1 **domain4.local** localhost domian1.local domain2.local domainx.local\r\n\r\nAfter this, I always got an alert window in eclipse while debugging:\r\n\r\n&gt; Cannot connect to VM\r\n&gt; com.sun.jdi.connect.TransportTimeoutException\r\n\r\nIn console:\r\n\r\n&gt; ERROR: transport error 202: connect failed: Connection refused\r\n&gt; ERROR: JDWP: Failed to initialize transport via localhost:50470, trying localhost via 127.0.0.1:50470\r\n&gt; FATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)\r\n&gt; ERROR: transport error 202: connect failed: Connection refused\r\n&gt; ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\n&gt; JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [../../../src/share/back/debugInit.c:690]\r\n\r\nThe solution is keep &quot;localhost&quot; at the first position all the time.\r\n\r\n&gt; 127.0.0.1 localhost domian1.local domain2.local domainx.local **domain4.local**","title":"Unable to debug in Java with eclipse","body":"<p>My case is I have a bunch of domains refer to 127.0.0.1 in hosts file, like this:</p>\n\n<blockquote>\n  <p>127.0.0.1 localhost domian1.local domain2.local domain3.local</p>\n</blockquote>\n\n<p>one day I added another new domain to refer to 127.0.0.1. By mistake, I put the domain in front of \"localhost\", like this:</p>\n\n<blockquote>\n  <p>127.0.0.1 <strong>domain4.local</strong> localhost domian1.local domain2.local domainx.local</p>\n</blockquote>\n\n<p>After this, I always got an alert window in eclipse while debugging:</p>\n\n<blockquote>\n  <p>Cannot connect to VM\n  com.sun.jdi.connect.TransportTimeoutException</p>\n</blockquote>\n\n<p>In console:</p>\n\n<blockquote>\n  <p>ERROR: transport error 202: connect failed: Connection refused\n  ERROR: JDWP: Failed to initialize transport via localhost:50470, trying localhost via 127.0.0.1:50470\n  FATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)\n  ERROR: transport error 202: connect failed: Connection refused\n  ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\n  JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [../../../src/share/back/debugInit.c:690]</p>\n</blockquote>\n\n<p>The solution is keep \"localhost\" at the first position all the time.</p>\n\n<blockquote>\n  <p>127.0.0.1 localhost domian1.local domain2.local domainx.local <strong>domain4.local</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":363083,"reputation":703,"user_id":706611,"display_name":"Carlos ABS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524854224,"creation_date":1524854224,"answer_id":50068436,"question_id":7487526,"body_markdown":"What solved for me was deleting the entire domain1 folder inside the domains folder on glassfish main folder. \r\nEclipse will ask you to recreate a domain and then everything works again.","title":"Unable to debug in Java with eclipse","body":"<p>What solved for me was deleting the entire domain1 folder inside the domains folder on glassfish main folder. \nEclipse will ask you to recreate a domain and then everything works again.</p>\n"},{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1526369161,"creation_date":1526369161,"answer_id":50344544,"question_id":7487526,"body_markdown":"I was seeing an error while using the -X format:\r\n\r\n    java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000,suspend=n myapp\r\n\r\nThe error went away when I switched to the newer format:\r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,address=4000,suspend=n myapp\r\n\r\n","title":"Unable to debug in Java with eclipse","body":"<p>I was seeing an error while using the -X format:</p>\n\n<pre><code>java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=4000,suspend=n myapp\n</code></pre>\n\n<p>The error went away when I switched to the newer format:</p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,address=4000,suspend=n myapp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7146588,"reputation":21,"user_id":5462095,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582620668,"creation_date":1582618088,"answer_id":60390043,"question_id":7487526,"body_markdown":"I changed \r\n\r\n```\r\n-agentlib:jdwp=transport=dt_socket,address=9009,server=n,suspend=y\r\n```\r\n\r\nto \r\n\r\n```\r\n-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n\r\n```\r\n\r\nand that did the trick!","title":"Unable to debug in Java with eclipse","body":"<p>I changed </p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,address=9009,server=n,suspend=y\n</code></pre>\n\n<p>to </p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n\n</code></pre>\n\n<p>and that did the trick!</p>\n"},{"tags":[],"owner":{"account_id":12172246,"reputation":789,"user_id":8886529,"display_name":"vladimirror"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587195393,"creation_date":1587195393,"answer_id":61285706,"question_id":7487526,"body_markdown":"Had same problem, but the solution was to run the application with `-server=y` option and not with `-server=n`.\r\n\r\nBefore:\r\n```\r\njava -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:5005 \r\n```\r\n\r\nAfter:\r\n```\r\njava -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:5005\r\n``` ","title":"Unable to debug in Java with eclipse","body":"<p>Had same problem, but the solution was to run the application with <code>-server=y</code> option and not with <code>-server=n</code>.</p>\n\n<p>Before:</p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:5005 \n</code></pre>\n\n<p>After:</p>\n\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:5005\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26533312,"reputation":1,"user_id":20165187,"display_name":"2xMarci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664958606,"creation_date":1664958606,"answer_id":73957751,"question_id":7487526,"body_markdown":"In eclipse select Run tab -&gt; Debug configuration -&gt; Junit -&gt; select your test name -&gt;\r\nEnvironment tab -&gt; add variable server=y .","title":"Unable to debug in Java with eclipse","body":"<p>In eclipse select Run tab -&gt; Debug configuration -&gt; Junit -&gt; select your test name -&gt;\nEnvironment tab -&gt; add variable server=y .</p>\n"}],"owner":{"account_id":142772,"reputation":10398,"user_id":350685,"accept_rate":72,"display_name":"Sriram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68458,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":9467408,"answer_count":12,"score":24,"last_activity_date":1664958606,"creation_date":1316531626,"question_id":7487526,"body_markdown":"I am trying to debug a simple Java application on my machine using Eclipse as an IDE. When I try to debug the application by entering the Debug Perspective, I set a breakpoint and start debug. Within a few seconds, the following pop-up window:  \r\n\r\n`Launching unicodeRead has encountered a problem. Cannot connect to VM`.  \r\n\r\nThe message dumped on the console is as follows:  \r\n\r\n    ERROR: transport error 202: connect failed: Connection refused\r\n    ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\n    JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [../../../src/share/back/debugInit.c:708]\r\n    FATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)  \r\n\r\nHow do I correct this? Why does this happen?","title":"Unable to debug in Java with eclipse","body":"<p>I am trying to debug a simple Java application on my machine using Eclipse as an IDE. When I try to debug the application by entering the Debug Perspective, I set a breakpoint and start debug. Within a few seconds, the following pop-up window:  </p>\n\n<p><code>Launching unicodeRead has encountered a problem. Cannot connect to VM</code>.  </p>\n\n<p>The message dumped on the console is as follows:  </p>\n\n<pre><code>ERROR: transport error 202: connect failed: Connection refused\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [../../../src/share/back/debugInit.c:708]\nFATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)  \n</code></pre>\n\n<p>How do I correct this? Why does this happen?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1460507285,"post_id":36586412,"comment_id":60771575,"body_markdown":"Just the purpose.  A deep copy means you copy every element (without specifying the reason), and a defensive copy means you copy to prevent anyone else from accessing the same object (e.g. for thread safety).","body":"Just the purpose.  A deep copy means you copy every element (without specifying the reason), and a defensive copy means you copy to prevent anyone else from accessing the same object (e.g. for thread safety)."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":3,"creation_date":1460508746,"post_id":36586412,"comment_id":60771953,"body_markdown":"I can drive to work in a Toyota but driving to work is completely different from a Toyota. One is a type of car, one is a way that a car is used. A deep copy is a type of copy and a defensive copy is a way that a copy is used.","body":"I can drive to work in a Toyota but driving to work is completely different from a Toyota. One is a type of car, one is a way that a car is used. A deep copy is a type of copy and a defensive copy is a way that a copy is used."}],"answers":[{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1664958421,"creation_date":1460507622,"answer_id":36586470,"question_id":36586412,"body_markdown":"**Deep copy**: a kind of object copying techniques: copying all data in the structure deeply. A &quot;harsh&quot; method to produce a deep copy of an object is to serialize then deserialize it. For trees, generally, recursive copying is an efficient solution.\r\n\r\n**Defensive copy:** result of an operation to protect internal data. Usually it is a deep or shallow copy used to prevent undesirable access through an internal reference result. For example:\r\n\r\n```java\r\npublic int[] getValues() {\r\n    return Arrays.copyOf(values, values.length);\r\n}\r\n```\r\n\r\nIn general, you should use defensive copy to protect an inner array, collection or other structure. If we simply returned with (a reference to) the array, user could modify our internal structure!\r\n\r\nLet&#39;s see an example.\r\n\r\nTom writes a class which lazily caches some aggregations of an `Integer` collection:\r\n\r\n```java\r\npublic class CachedIntegerAggregator {\r\n\r\n    private List&lt;Integer&gt; integers;\r\n\r\n    private boolean isSumCalculated = false;\r\n    private int sum = 0;\r\n\r\n    private boolean isMultiCalculated = false;\r\n    private int multi = 0;\r\n\r\n    public CachedIntegerAggregator(Integer... integers) {\r\n        this(Arrays.asList(integers));\r\n    }\r\n\r\n    public CachedIntegerAggregator(Collection&lt;Integer&gt; integers) {\r\n        this.integers = new ArrayList&lt;Integer&gt;(integers);\r\n    }\r\n\r\n    public List&lt;Integer&gt; getIntegers() {\r\n        return integers;\r\n    }\r\n\r\n    public int getSum() {\r\n        if (!isSumCalculated) {\r\n            sum = 0;\r\n            for (Integer integer: integers) {\r\n                sum += integer;\r\n            }\r\n            isSumCalculated = true;\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    public int getMulti() {\r\n        if (!isMultiCalculated) {\r\n            multi = 1;\r\n            for (Integer integer: integers) {\r\n                multi *= integer;\r\n            }\r\n            isMultiCalculated = true;\r\n        }\r\n        return multi;\r\n    }\r\n\r\n}\r\n```\r\n\r\nJerry uses the above class in this way:\r\n\r\n```java\r\nCachedIntegerAggregator aggregator = new CachedIntegerAggregator(2, 3, 4);\r\n\r\n// hm, what is the sum?\r\nSystem.out.println(aggregator.getSum());\r\n\r\n// let&#39;s print of integers\r\nList&lt;Integer&gt; integers = aggregator.getIntegers();\r\nSystem.out.println(integers);\r\n\r\n// now, see the double\r\nint size = integers.size();\r\nfor (int i = 0; i &lt; size; i++) { // (oops! this changes internal data!)\r\n    integers.set(i, integers.get(i) * 2);\r\n}\r\nSystem.out.println(integers);\r\n\r\n// hm, see sum and multi\r\nSystem.out.println(aggregator.getSum());\r\nSystem.out.println(aggregator.getMulti()); // (oops! total inconsistency!)\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n9\r\n[2, 3, 4]\r\n[4, 6, 8]\r\n9\r\n192\r\n```\r\n\r\nWhat is the main problem? Tom leaks a mutable internal structure. What is the solution? In `getIntegers()` make a copy of it before return:\r\n\r\n```java\r\npublic List&lt;Integer&gt; getIntegers() {\r\n    return new ArrayList&lt;Integer&gt;(integers);\r\n}\r\n```\r\n\r\nIn some cases, an immutable wrapper whould be also right:\r\n\r\n```java\r\npublic List&lt;Integer&gt; getIntegers() {\r\n    return Collections.unmodifiableList(integers);\r\n}\r\n```\r\n\r\nPerformance? Generally, do not worry about it. Fast object creation is one of the major Java advantages. Of course, there are complex structures, which will be copied inefficiently. In this case, you can use copy-on-write technique. Some big data structure implementations have built in copy-on-write support, such as [BigList][1].\r\n\r\n  [1]: http://www.magicwerk.org/page-collections-overview.html","title":"Can someone explain the difference between a deep copy and a defensive copy?","body":"<p><strong>Deep copy</strong>: a kind of object copying techniques: copying all data in the structure deeply. A &quot;harsh&quot; method to produce a deep copy of an object is to serialize then deserialize it. For trees, generally, recursive copying is an efficient solution.</p>\n<p><strong>Defensive copy:</strong> result of an operation to protect internal data. Usually it is a deep or shallow copy used to prevent undesirable access through an internal reference result. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] getValues() {\n    return Arrays.copyOf(values, values.length);\n}\n</code></pre>\n<p>In general, you should use defensive copy to protect an inner array, collection or other structure. If we simply returned with (a reference to) the array, user could modify our internal structure!</p>\n<p>Let's see an example.</p>\n<p>Tom writes a class which lazily caches some aggregations of an <code>Integer</code> collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CachedIntegerAggregator {\n\n    private List&lt;Integer&gt; integers;\n\n    private boolean isSumCalculated = false;\n    private int sum = 0;\n\n    private boolean isMultiCalculated = false;\n    private int multi = 0;\n\n    public CachedIntegerAggregator(Integer... integers) {\n        this(Arrays.asList(integers));\n    }\n\n    public CachedIntegerAggregator(Collection&lt;Integer&gt; integers) {\n        this.integers = new ArrayList&lt;Integer&gt;(integers);\n    }\n\n    public List&lt;Integer&gt; getIntegers() {\n        return integers;\n    }\n\n    public int getSum() {\n        if (!isSumCalculated) {\n            sum = 0;\n            for (Integer integer: integers) {\n                sum += integer;\n            }\n            isSumCalculated = true;\n        }\n        return sum;\n    }\n\n    public int getMulti() {\n        if (!isMultiCalculated) {\n            multi = 1;\n            for (Integer integer: integers) {\n                multi *= integer;\n            }\n            isMultiCalculated = true;\n        }\n        return multi;\n    }\n\n}\n</code></pre>\n<p>Jerry uses the above class in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CachedIntegerAggregator aggregator = new CachedIntegerAggregator(2, 3, 4);\n\n// hm, what is the sum?\nSystem.out.println(aggregator.getSum());\n\n// let's print of integers\nList&lt;Integer&gt; integers = aggregator.getIntegers();\nSystem.out.println(integers);\n\n// now, see the double\nint size = integers.size();\nfor (int i = 0; i &lt; size; i++) { // (oops! this changes internal data!)\n    integers.set(i, integers.get(i) * 2);\n}\nSystem.out.println(integers);\n\n// hm, see sum and multi\nSystem.out.println(aggregator.getSum());\nSystem.out.println(aggregator.getMulti()); // (oops! total inconsistency!)\n</code></pre>\n<p>Output:</p>\n<pre><code>9\n[2, 3, 4]\n[4, 6, 8]\n9\n192\n</code></pre>\n<p>What is the main problem? Tom leaks a mutable internal structure. What is the solution? In <code>getIntegers()</code> make a copy of it before return:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Integer&gt; getIntegers() {\n    return new ArrayList&lt;Integer&gt;(integers);\n}\n</code></pre>\n<p>In some cases, an immutable wrapper whould be also right:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Integer&gt; getIntegers() {\n    return Collections.unmodifiableList(integers);\n}\n</code></pre>\n<p>Performance? Generally, do not worry about it. Fast object creation is one of the major Java advantages. Of course, there are complex structures, which will be copied inefficiently. In this case, you can use copy-on-write technique. Some big data structure implementations have built in copy-on-write support, such as <a href=\"http://www.magicwerk.org/page-collections-overview.html\" rel=\"nofollow noreferrer\">BigList</a>.</p>\n"}],"owner":{"account_id":8235587,"reputation":73,"user_id":6194913,"display_name":"JWigz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1340,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":36586470,"answer_count":1,"score":6,"last_activity_date":1664958421,"creation_date":1460507214,"question_id":36586412,"body_markdown":"My professor said they are completely different, but I read they are pretty similar. I don&#39;t know what context &#39;different&#39; he was referring to.\r\nAnd if this question as already been answered just link it. Thanks.","title":"Can someone explain the difference between a deep copy and a defensive copy?","body":"<p>My professor said they are completely different, but I read they are pretty similar. I don't know what context 'different' he was referring to.\nAnd if this question as already been answered just link it. Thanks.</p>\n"},{"tags":["java","spring-boot","asynchronous","redis"],"answers":[{"tags":[],"owner":{"account_id":8863577,"reputation":21,"user_id":6619325,"display_name":"Sahin "},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664958414,"creation_date":1664958414,"answer_id":73957695,"question_id":72379109,"body_markdown":"Basically, you are right, if it is going to be in the same application within the same server, no need for MQ because async is already has a queue. But there are some key points you should be decided on even if in the same application\r\n\r\n 1. if you care about ordering message queue is more meaningful, you can use async in this case too but you have to configure the thread pool to use only one thread to process async\r\n\r\n 2. if you care about losing messages and if some bad things happen before processing messages, you should use an MQ that saves messages to the disk or somewhere to process the rest of the messages later on\r\n\r\n3. if your application gets a lot of requests and you did not carefully set threads in the async thread pool, you could get overflow errors or other problems with using machine resources  \r\n\r\nChoose within capabilities within your application, do not over-engineer from day one, you spin up from what you have and what you already tested ","title":"@async vs message queue difference","body":"<p>Basically, you are right, if it is going to be in the same application within the same server, no need for MQ because async is already has a queue. But there are some key points you should be decided on even if in the same application</p>\n<ol>\n<li><p>if you care about ordering message queue is more meaningful, you can use async in this case too but you have to configure the thread pool to use only one thread to process async</p>\n</li>\n<li><p>if you care about losing messages and if some bad things happen before processing messages, you should use an MQ that saves messages to the disk or somewhere to process the rest of the messages later on</p>\n</li>\n<li><p>if your application gets a lot of requests and you did not carefully set threads in the async thread pool, you could get overflow errors or other problems with using machine resources</p>\n</li>\n</ol>\n<p>Choose within capabilities within your application, do not over-engineer from day one, you spin up from what you have and what you already tested</p>\n"}],"owner":{"account_id":25272108,"reputation":31,"user_id":19101289,"display_name":"magangxu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664958414,"creation_date":1653487428,"question_id":72379109,"body_markdown":"I have a spring boot project, deploying in two servers and using nginx. One method in the project will do:\r\n\r\n1. set some key-values in redis\r\n\r\n2. insert something in db\r\n\r\nAfter 1, I want to do 2 in async way. \r\n\r\nOne solution is to let doDB() be a springboot @async method:\r\n\r\n```\r\nClass A {\r\n    public void ***() {\r\n        doRedis() // 1.set some key-values in redis\r\n        doDB() // 2.insert something in db\r\n    }\r\n}\r\n\r\nClass B {\r\n    @async\r\n    doDB()\r\n}\r\n```\r\n\r\nAnother solution is to send message to MQ:\r\n\r\n```\r\nClass A {\r\n    public void ***() {\r\n        doRedis() // 1.set some key-values in redis\r\n        sendMessage() \r\n    }\r\n}\r\n\r\nClass B {\r\n    onMessage(){\r\n        doDB()\r\n    }\r\n}\r\n```\r\n\r\nIf Class A and B are both in the spring boot project, just deploying this project in two servers. I think using `@async` is enough, there is no need to use MQ to achieve the async way because there is no difference between server one to do Class B doDB() and server two to do Class B doDB(). If class B is in another project, then using MQ is good because it&#39;s decoupling for project one doing redis work and project two doing db work. \r\n\r\nIs it right? Thanks!","title":"@async vs message queue difference","body":"<p>I have a spring boot project, deploying in two servers and using nginx. One method in the project will do:</p>\n<ol>\n<li><p>set some key-values in redis</p>\n</li>\n<li><p>insert something in db</p>\n</li>\n</ol>\n<p>After 1, I want to do 2 in async way.</p>\n<p>One solution is to let doDB() be a springboot @async method:</p>\n<pre><code>Class A {\n    public void ***() {\n        doRedis() // 1.set some key-values in redis\n        doDB() // 2.insert something in db\n    }\n}\n\nClass B {\n    @async\n    doDB()\n}\n</code></pre>\n<p>Another solution is to send message to MQ:</p>\n<pre><code>Class A {\n    public void ***() {\n        doRedis() // 1.set some key-values in redis\n        sendMessage() \n    }\n}\n\nClass B {\n    onMessage(){\n        doDB()\n    }\n}\n</code></pre>\n<p>If Class A and B are both in the spring boot project, just deploying this project in two servers. I think using <code>@async</code> is enough, there is no need to use MQ to achieve the async way because there is no difference between server one to do Class B doDB() and server two to do Class B doDB(). If class B is in another project, then using MQ is good because it's decoupling for project one doing redis work and project two doing db work.</p>\n<p>Is it right? Thanks!</p>\n"},{"tags":["java","json","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640165098,"creation_date":1640163290,"answer_id":70446432,"question_id":70446042,"body_markdown":"Depending on how much data you&#39;re going to be handling, a simple method that doesn&#39;t rely on streams is to use a `Map`. Hash the aggregation column values to produce map keys, and update the map values from the value of the aggregation column.\r\n\r\nHere I&#39;ve created an `Operation` interface that can be implemented for each of the operations (sum, max, min, etc.).\r\n\r\nE.g.\r\n```java\r\ninterface Operation {\r\n    Long update(Long currentAggregate, int nextValue);\r\n}\r\n\r\nclass Sum implements Operation {\r\n    @Override\r\n    public Long update(Long currentAggregate, int nextValue) {\r\n        return currentAggregate + nextValue;\r\n    }\r\n}\r\n\r\nJSONArray aggregate(JSONArray array, String[] columns, String aggregateColumn, Operation op) {\r\n    Map&lt;String, Long&gt; aggregates = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; array.size(); ++i) {\r\n        JSONObject obj = array.getJsonObject(i);\r\n        String key = getKey(obj, columns);\r\n        Long current = aggregates.get(key);\r\n        aggregates.put(key, op.update(current, obj.getInt(aggregateColumn)));\r\n    }\r\n    // Then split the map key back out to columns values (or use a more sophisticated \r\n    // object in place of &#39;aggregates&#39; that also stores the column values explicitly) and \r\n    // return a JSONArray with values for the &#39;aggregateColumn&#39; taken from &#39;aggregates&#39;.\r\n    // ...\r\n}\r\n\r\nString getKey(JSONObject obj, String[] columns) {\r\n    // Assumes no column names include &quot;_&quot;.\r\n    StringBuilder builder = new StringBuilder();\r\n    for (int i = 0; i &lt; columns.length; ++i)\r\n        builder.append(obj.getString(columns[i])).append(&quot;_&quot;);\r\n    return builder.toString();\r\n}\r\n```\r\n","title":"Grouping and Aggregating data based on List of columns","body":"<p>Depending on how much data you're going to be handling, a simple method that doesn't rely on streams is to use a <code>Map</code>. Hash the aggregation column values to produce map keys, and update the map values from the value of the aggregation column.</p>\n<p>Here I've created an <code>Operation</code> interface that can be implemented for each of the operations (sum, max, min, etc.).</p>\n<p>E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Operation {\n    Long update(Long currentAggregate, int nextValue);\n}\n\nclass Sum implements Operation {\n    @Override\n    public Long update(Long currentAggregate, int nextValue) {\n        return currentAggregate + nextValue;\n    }\n}\n\nJSONArray aggregate(JSONArray array, String[] columns, String aggregateColumn, Operation op) {\n    Map&lt;String, Long&gt; aggregates = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; array.size(); ++i) {\n        JSONObject obj = array.getJsonObject(i);\n        String key = getKey(obj, columns);\n        Long current = aggregates.get(key);\n        aggregates.put(key, op.update(current, obj.getInt(aggregateColumn)));\n    }\n    // Then split the map key back out to columns values (or use a more sophisticated \n    // object in place of 'aggregates' that also stores the column values explicitly) and \n    // return a JSONArray with values for the 'aggregateColumn' taken from 'aggregates'.\n    // ...\n}\n\nString getKey(JSONObject obj, String[] columns) {\n    // Assumes no column names include &quot;_&quot;.\n    StringBuilder builder = new StringBuilder();\n    for (int i = 0; i &lt; columns.length; ++i)\n        builder.append(obj.getString(columns[i])).append(&quot;_&quot;);\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640165958,"creation_date":1640165641,"answer_id":70446925,"question_id":70446042,"body_markdown":"You have to break down the problem before you then realize it is not that hard especially when there is tooling that can match your needs so you don&#39;t even need to implement something yourself. Streams are totally a fine option here since Java 8 Streams API allows grouping streamed elements by keys and proceed the groups as a downstream for, say, aggregating operations.\r\n\r\nSuppose you have a JSON source producing a huge dataset: for your example it still can be represented as a `Stream&lt;JSONObject&gt;`. I used your file to read it in a streaming manner producing ready-to-be-analyzed data stream (I bet my spliterator implementation is not perfect, but it seems to work):\r\n\r\n```java\r\npublic static &lt;T&gt; Stream&lt;T&gt; asStream(final JSONTokener jsonTokener) {\r\n\treturn StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;&gt;(Long.MAX_VALUE, Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.ORDERED) {\r\n\t\tprivate Status status = Status.BEFORE_ARRAY;\r\n\r\n\t\t@Override\r\n\t\tpublic boolean tryAdvance(final Consumer&lt;? super T&gt; action) {\r\n\t\t\tfor ( ; ; ) {\r\n\t\t\t\tswitch ( status ) {\r\n\t\t\t\tcase BEFORE_ARRAY:\r\n\t\t\t\t\tjsonTokener.next(&#39;[&#39;);\r\n\t\t\t\t\tstatus = Status.IN_ARRAY;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tcase IN_ARRAY:\r\n\t\t\t\t\tswitch ( jsonTokener.nextClean() ) {\r\n\t\t\t\t\tcase &#39;,&#39;:\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\tcase &#39;]&#39;:\r\n\t\t\t\t\t\tstatus = Status.AFTER_ARRAY;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tjsonTokener.back();\r\n\t\t\t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\t\t\t\tfinal T value = (T) jsonTokener.nextValue();\r\n\t\t\t\t\t\taction.accept(value);\r\n\t\t\t\t\t\tcontinue; // or return true?\r\n\t\t\t\t\t}\r\n\t\t\t\tcase AFTER_ARRAY:\r\n\t\t\t\t\tthrow new IllegalStateException();\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new AssertionError(status);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, false);\r\n}\r\n\r\nprivate enum Status {\r\n\r\n\tBEFORE_ARRAY,\r\n\tIN_ARRAY,\r\n\tAFTER_ARRAY\r\n\r\n}\r\n```\r\n\r\nAll it does is transforming some JSON token stream to a stream of _something_ (since org.json object model does not suggest a common base class).\r\n. If you have a `JSONArray` buffered already, it can be streamed using something from here: https://stackoverflow.com/questions/23932061/convert-iterable-to-stream-using-java-8-jdk\r\n\r\n\r\nNext, merely use grouping collectors from the stream parsed above:\r\n\r\n```java\r\nfinal Collector&lt;JSONObject, ?, Map&lt;List&lt;String&gt;, Double&gt;&gt; collector = Collectors.groupingBy(\r\n\t\t// your groups for (col1. col2)\r\n\t\trow -&gt; List.of(row.getString(&quot;col1&quot;), row.getString(&quot;col2&quot;)),\r\n\t\t// your aggregating SUM for col3\r\n\t\tCollectors.summingDouble(row -&gt; row.getDouble(&quot;col3&quot;))\r\n);\r\nAssertions.assertEquals(\r\n\t\tMap.of(List.of(&quot;c1&quot;, &quot;r2&quot;), 8874.0, List.of(&quot;c1&quot;, &quot;r1&quot;), 13442.0),\r\n\t\tJsonStreams.&lt;JSONObject&gt;asStream(new JSONTokener(reader))\r\n\t\t\t\t.collect(collector)\r\n);\r\n```\r\n\r\nThat&#39;s it for `SUM`. `AVG` result can be accomplished by using `Collectors.averagingDouble`.","title":"Grouping and Aggregating data based on List of columns","body":"<p>You have to break down the problem before you then realize it is not that hard especially when there is tooling that can match your needs so you don't even need to implement something yourself. Streams are totally a fine option here since Java 8 Streams API allows grouping streamed elements by keys and proceed the groups as a downstream for, say, aggregating operations.</p>\n<p>Suppose you have a JSON source producing a huge dataset: for your example it still can be represented as a <code>Stream&lt;JSONObject&gt;</code>. I used your file to read it in a streaming manner producing ready-to-be-analyzed data stream (I bet my spliterator implementation is not perfect, but it seems to work):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Stream&lt;T&gt; asStream(final JSONTokener jsonTokener) {\n    return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;&gt;(Long.MAX_VALUE, Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.ORDERED) {\n        private Status status = Status.BEFORE_ARRAY;\n\n        @Override\n        public boolean tryAdvance(final Consumer&lt;? super T&gt; action) {\n            for ( ; ; ) {\n                switch ( status ) {\n                case BEFORE_ARRAY:\n                    jsonTokener.next('[');\n                    status = Status.IN_ARRAY;\n                    continue;\n                case IN_ARRAY:\n                    switch ( jsonTokener.nextClean() ) {\n                    case ',':\n                        return true;\n                    case ']':\n                        status = Status.AFTER_ARRAY;\n                        return false;\n                    default:\n                        jsonTokener.back();\n                        @SuppressWarnings(&quot;unchecked&quot;)\n                        final T value = (T) jsonTokener.nextValue();\n                        action.accept(value);\n                        continue; // or return true?\n                    }\n                case AFTER_ARRAY:\n                    throw new IllegalStateException();\n                default:\n                    throw new AssertionError(status);\n                }\n            }\n        }\n    }, false);\n}\n\nprivate enum Status {\n\n    BEFORE_ARRAY,\n    IN_ARRAY,\n    AFTER_ARRAY\n\n}\n</code></pre>\n<p>All it does is transforming some JSON token stream to a stream of <em>something</em> (since org.json object model does not suggest a common base class).\n. If you have a <code>JSONArray</code> buffered already, it can be streamed using something from here: <a href=\"https://stackoverflow.com/questions/23932061/convert-iterable-to-stream-using-java-8-jdk\">Convert Iterable to Stream using Java 8 JDK</a></p>\n<p>Next, merely use grouping collectors from the stream parsed above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Collector&lt;JSONObject, ?, Map&lt;List&lt;String&gt;, Double&gt;&gt; collector = Collectors.groupingBy(\n        // your groups for (col1. col2)\n        row -&gt; List.of(row.getString(&quot;col1&quot;), row.getString(&quot;col2&quot;)),\n        // your aggregating SUM for col3\n        Collectors.summingDouble(row -&gt; row.getDouble(&quot;col3&quot;))\n);\nAssertions.assertEquals(\n        Map.of(List.of(&quot;c1&quot;, &quot;r2&quot;), 8874.0, List.of(&quot;c1&quot;, &quot;r1&quot;), 13442.0),\n        JsonStreams.&lt;JSONObject&gt;asStream(new JSONTokener(reader))\n                .collect(collector)\n);\n</code></pre>\n<p>That's it for <code>SUM</code>. <code>AVG</code> result can be accomplished by using <code>Collectors.averagingDouble</code>.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664958306,"creation_date":1664906839,"answer_id":73951945,"question_id":70446042,"body_markdown":"Library _Josson_ can do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[{&quot; +\r\n        &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\r\n        &quot;    \\&quot;col2\\&quot;: \\&quot;r1\\&quot;,&quot; +\r\n        &quot;    \\&quot;col3\\&quot;: 12121&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\r\n        &quot;    \\&quot;col2\\&quot;: \\&quot;r1\\&quot;,&quot; +\r\n        &quot;    \\&quot;col3\\&quot;: 1321&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\r\n        &quot;    \\&quot;col2\\&quot;: \\&quot;r2\\&quot;,&quot; +\r\n        &quot;    \\&quot;col3\\&quot;: 4342&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\r\n        &quot;    \\&quot;col2\\&quot;: \\&quot;r2\\&quot;,&quot; +\r\n        &quot;    \\&quot;col3\\&quot;: 4532&quot; +\r\n        &quot;}]&quot;);\r\n\r\nQuery\r\n\r\n    JsonNode node = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.min())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\n    node = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.max())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\n    node = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.sum())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\n    node = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.avg())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n    node = josson.getNode(\r\n        &quot;group(map(col1,col2))&quot; +\r\n        &quot;.map(key.col1&quot; +\r\n        &quot;    ,key.col2&quot; +\r\n        &quot;    ,col3: map(min: elements.col3.min()&quot; +\r\n        &quot;              ,max: elements.col3.max()&quot; +\r\n        &quot;              ,sum: elements.col3.sum()&quot; +\r\n        &quot;              ,avg: elements.col3.avg())&quot; +\r\n        &quot;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput: min()\r\n\r\n    [ {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r1&quot;,\r\n      &quot;col3&quot; : 1321\r\n    }, {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r2&quot;,\r\n      &quot;col3&quot; : 4342\r\n    } ]\r\n    \r\nOutput: max()\r\n\r\n    [ {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r1&quot;,\r\n      &quot;col3&quot; : 12121\r\n    }, {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r2&quot;,\r\n      &quot;col3&quot; : 4532\r\n    } ]\r\n    \r\nOutput: sum()\r\n\r\n    [ {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r1&quot;,\r\n      &quot;col3&quot; : 13442.0\r\n    }, {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r2&quot;,\r\n      &quot;col3&quot; : 8874.0\r\n    } ]\r\n    \r\nOutput: avg()\r\n\r\n    [ {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r1&quot;,\r\n      &quot;col3&quot; : 6721.0\r\n    }, {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r2&quot;,\r\n      &quot;col3&quot; : 4437.0\r\n    } ]\r\n\r\nOutput: all-in-one\r\n\r\n    [ {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r1&quot;,\r\n      &quot;col3&quot; : {\r\n        &quot;min&quot; : 1321,\r\n        &quot;max&quot; : 12121,\r\n        &quot;sum&quot; : 13442.0,\r\n        &quot;avg&quot; : 6721.0\r\n      }\r\n    }, {\r\n      &quot;col1&quot; : &quot;c1&quot;,\r\n      &quot;col2&quot; : &quot;r2&quot;,\r\n      &quot;col3&quot; : {\r\n        &quot;min&quot; : 4342,\r\n        &quot;max&quot; : 4532,\r\n        &quot;sum&quot; : 8874.0,\r\n        &quot;avg&quot; : 4437.0\r\n      }\r\n    } ]\r\n","title":"Grouping and Aggregating data based on List of columns","body":"<p>Library <em>Josson</em> can do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[{&quot; +\n    &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\n    &quot;    \\&quot;col2\\&quot;: \\&quot;r1\\&quot;,&quot; +\n    &quot;    \\&quot;col3\\&quot;: 12121&quot; +\n    &quot;}, {&quot; +\n    &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\n    &quot;    \\&quot;col2\\&quot;: \\&quot;r1\\&quot;,&quot; +\n    &quot;    \\&quot;col3\\&quot;: 1321&quot; +\n    &quot;}, {&quot; +\n    &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\n    &quot;    \\&quot;col2\\&quot;: \\&quot;r2\\&quot;,&quot; +\n    &quot;    \\&quot;col3\\&quot;: 4342&quot; +\n    &quot;}, {&quot; +\n    &quot;    \\&quot;col1\\&quot;: \\&quot;c1\\&quot;,&quot; +\n    &quot;    \\&quot;col2\\&quot;: \\&quot;r2\\&quot;,&quot; +\n    &quot;    \\&quot;col3\\&quot;: 4532&quot; +\n    &quot;}]&quot;);\n</code></pre>\n<p>Query</p>\n<pre><code>JsonNode node = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.min())&quot;);\nSystem.out.println(node.toPrettyString());\n\nnode = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.max())&quot;);\nSystem.out.println(node.toPrettyString());\n\nnode = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.sum())&quot;);\nSystem.out.println(node.toPrettyString());\n\nnode = josson.getNode(&quot;group(map(col1,col2)).map(key.col1,key.col2,elements.col3.avg())&quot;);\nSystem.out.println(node.toPrettyString());\n\nnode = josson.getNode(\n    &quot;group(map(col1,col2))&quot; +\n    &quot;.map(key.col1&quot; +\n    &quot;    ,key.col2&quot; +\n    &quot;    ,col3: map(min: elements.col3.min()&quot; +\n    &quot;              ,max: elements.col3.max()&quot; +\n    &quot;              ,sum: elements.col3.sum()&quot; +\n    &quot;              ,avg: elements.col3.avg())&quot; +\n    &quot;)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output: min()</p>\n<pre><code>[ {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r1&quot;,\n  &quot;col3&quot; : 1321\n}, {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r2&quot;,\n  &quot;col3&quot; : 4342\n} ]\n</code></pre>\n<p>Output: max()</p>\n<pre><code>[ {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r1&quot;,\n  &quot;col3&quot; : 12121\n}, {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r2&quot;,\n  &quot;col3&quot; : 4532\n} ]\n</code></pre>\n<p>Output: sum()</p>\n<pre><code>[ {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r1&quot;,\n  &quot;col3&quot; : 13442.0\n}, {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r2&quot;,\n  &quot;col3&quot; : 8874.0\n} ]\n</code></pre>\n<p>Output: avg()</p>\n<pre><code>[ {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r1&quot;,\n  &quot;col3&quot; : 6721.0\n}, {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r2&quot;,\n  &quot;col3&quot; : 4437.0\n} ]\n</code></pre>\n<p>Output: all-in-one</p>\n<pre><code>[ {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r1&quot;,\n  &quot;col3&quot; : {\n    &quot;min&quot; : 1321,\n    &quot;max&quot; : 12121,\n    &quot;sum&quot; : 13442.0,\n    &quot;avg&quot; : 6721.0\n  }\n}, {\n  &quot;col1&quot; : &quot;c1&quot;,\n  &quot;col2&quot; : &quot;r2&quot;,\n  &quot;col3&quot; : {\n    &quot;min&quot; : 4342,\n    &quot;max&quot; : 4532,\n    &quot;sum&quot; : 8874.0,\n    &quot;avg&quot; : 4437.0\n  }\n} ]\n</code></pre>\n"}],"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70446432,"answer_count":3,"score":1,"last_activity_date":1664958306,"creation_date":1640161054,"question_id":70446042,"body_markdown":"I have a JSONArray which contains multiple JSONObjects and each JSON object represents a row of data. (Like a SQL row)\r\n\r\n**Example:**\r\n\r\n    [{\r\n        &quot;col1&quot;: &quot;c1&quot;,\r\n        &quot;col2&quot;: &quot;r1&quot;,\r\n        &quot;col3&quot;: 12121\r\n    }, {\r\n        &quot;col1&quot;: &quot;c1&quot;,\r\n        &quot;col2&quot;: &quot;r1&quot;,\r\n        &quot;col3&quot;: 1321\r\n    }, {\r\n        &quot;col1&quot;: &quot;c1&quot;,\r\n        &quot;col2&quot;: &quot;r2&quot;,\r\n        &quot;col3&quot;: 4342\r\n    }, {\r\n        &quot;col1&quot;: &quot;c1&quot;,\r\n        &quot;col2&quot;: &quot;r2&quot;,\r\n        &quot;col3&quot;: 4532\r\n    }]\r\n\r\nA list containing the columns on which group by has to happen:\r\n\r\n**Example:**\r\n\r\n    [&quot;col1&quot;,&quot;col2&quot;]\r\n\r\nFinally, the aggregate that has to be applied, `MIN`, `MAX`, `SUM`, `AVG` and also the column on which the aggregate has to be applied:\r\n\r\n**Expected Output: with aggregate being SUM**\r\n\r\n    [{\r\n        &quot;col1&quot;: &quot;c1&quot;,\r\n        &quot;col2&quot;: &quot;r1&quot;,\r\n        &quot;col3&quot;: 13442\r\n    },{\r\n        &quot;col1&quot;: &quot;c1&quot;,\r\n        &quot;col2&quot;: &quot;r2&quot;,\r\n        &quot;col3&quot;: 8874\r\n    }]\r\n\r\n&gt; What I have tried so far:\r\n\r\nI thought of comparing current with previous with the list of columns that I&#39;ve whenever I see a change in the value I do an aggregate on that. But This method looks way too inefficient. I was thinking of using Java Streams, but I&#39;ve very bad at it. Any help would be appreciated.\r\n\r\n     if (agg.equalsIgnoreCase(&quot;MIN&quot;)) {\r\n            Number min = data.getJSONObject(0).getNumber(column);\r\n            for (int i = 0; i &lt; data.length(); i++) {\r\n                JSONObject jsonObject = data.getJSONObject(i);\r\n                if (i &gt; 1) {\r\n                }\r\n            }\r\n        }","title":"Grouping and Aggregating data based on List of columns","body":"<p>I have a JSONArray which contains multiple JSONObjects and each JSON object represents a row of data. (Like a SQL row)</p>\n<p><strong>Example:</strong></p>\n<pre><code>[{\n    &quot;col1&quot;: &quot;c1&quot;,\n    &quot;col2&quot;: &quot;r1&quot;,\n    &quot;col3&quot;: 12121\n}, {\n    &quot;col1&quot;: &quot;c1&quot;,\n    &quot;col2&quot;: &quot;r1&quot;,\n    &quot;col3&quot;: 1321\n}, {\n    &quot;col1&quot;: &quot;c1&quot;,\n    &quot;col2&quot;: &quot;r2&quot;,\n    &quot;col3&quot;: 4342\n}, {\n    &quot;col1&quot;: &quot;c1&quot;,\n    &quot;col2&quot;: &quot;r2&quot;,\n    &quot;col3&quot;: 4532\n}]\n</code></pre>\n<p>A list containing the columns on which group by has to happen:</p>\n<p><strong>Example:</strong></p>\n<pre><code>[&quot;col1&quot;,&quot;col2&quot;]\n</code></pre>\n<p>Finally, the aggregate that has to be applied, <code>MIN</code>, <code>MAX</code>, <code>SUM</code>, <code>AVG</code> and also the column on which the aggregate has to be applied:</p>\n<p><strong>Expected Output: with aggregate being SUM</strong></p>\n<pre><code>[{\n    &quot;col1&quot;: &quot;c1&quot;,\n    &quot;col2&quot;: &quot;r1&quot;,\n    &quot;col3&quot;: 13442\n},{\n    &quot;col1&quot;: &quot;c1&quot;,\n    &quot;col2&quot;: &quot;r2&quot;,\n    &quot;col3&quot;: 8874\n}]\n</code></pre>\n<blockquote>\n<p>What I have tried so far:</p>\n</blockquote>\n<p>I thought of comparing current with previous with the list of columns that I've whenever I see a change in the value I do an aggregate on that. But This method looks way too inefficient. I was thinking of using Java Streams, but I've very bad at it. Any help would be appreciated.</p>\n<pre><code> if (agg.equalsIgnoreCase(&quot;MIN&quot;)) {\n        Number min = data.getJSONObject(0).getNumber(column);\n        for (int i = 0; i &lt; data.length(); i++) {\n            JSONObject jsonObject = data.getJSONObject(i);\n            if (i &gt; 1) {\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","sharedpreferences"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1664894533,"post_id":73948390,"comment_id":130571541,"body_markdown":"move your these 2 lines of code after `super.onCreate(savedInstanceState);`","body":"move your these 2 lines of code after <code>super.onCreate(savedInstanceState);</code>"}],"answers":[{"tags":[],"owner":{"account_id":25186198,"reputation":35,"user_id":19027050,"display_name":"zBlubba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664957555,"creation_date":1664957535,"answer_id":73957550,"question_id":73948390,"body_markdown":"&gt; move your these 2 lines of code after `super.onCreate(savedInstanceState);` – \r\n[M DEV][1]\r\n\r\nThanks mate this solved my problem :D\r\n\r\n  [1]: https://stackoverflow.com/users/16765223/m-dev","title":"App does not start when using SharedPrefernces","body":"<blockquote>\n<p>move your these 2 lines of code after <code>super.onCreate(savedInstanceState);</code> –\n<a href=\"https://stackoverflow.com/users/16765223/m-dev\">M DEV</a></p>\n</blockquote>\n<p>Thanks mate this solved my problem :D</p>\n"}],"owner":{"account_id":25186198,"reputation":35,"user_id":19027050,"display_name":"zBlubba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664957888,"creation_date":1664888964,"question_id":73948390,"body_markdown":"I&#39;m coding my own private Android application with Android Studio. I want to store data with SharedPreferences, but when I use it, my app does not start. Can anyone help me?\r\n\r\nCode of main MainActivity.java\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    SharedPreferences settings = getApplicationContext().getSharedPreferences(&quot;ACCOUNT&quot;, Context.MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = settings.edit();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        //unimportant code\r\n    }\r\n    \r\n}\r\n```\r\nIf I delete these 2 lines starting with SharedPreferences, my app starts, but now it doesn&#39;t.","title":"App does not start when using SharedPrefernces","body":"<p>I'm coding my own private Android application with Android Studio. I want to store data with SharedPreferences, but when I use it, my app does not start. Can anyone help me?</p>\n<p>Code of main MainActivity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    SharedPreferences settings = getApplicationContext().getSharedPreferences(&quot;ACCOUNT&quot;, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = settings.edit();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        \n        //unimportant code\n    }\n    \n}\n</code></pre>\n<p>If I delete these 2 lines starting with SharedPreferences, my app starts, but now it doesn't.</p>\n"},{"tags":["java","spring","spring-boot","telegram","telegram-bot"],"comments":[{"owner":{"account_id":2257141,"reputation":2906,"user_id":1988097,"accept_rate":53,"display_name":"Darius X."},"score":0,"creation_date":1587831873,"post_id":61428240,"comment_id":108666541,"body_markdown":"Not much to go on, but the first snippet looks like is plain old JAVA, not starting up via Spring. So, auto-wiring would not kick in. The second is Spring based (using CommandLineRunner. The spamming part is a separate issue.","body":"Not much to go on, but the first snippet looks like is plain old JAVA, not starting up via Spring. So, auto-wiring would not kick in. The second is Spring based (using CommandLineRunner. The spamming part is a separate issue."},{"owner":{"account_id":18403582,"reputation":11,"user_id":13405965,"display_name":"Alina Neshchebnaya"},"score":1,"creation_date":1587836514,"post_id":61428240,"comment_id":108668393,"body_markdown":"@DariusX. the first part is everywhere in telegram bot tutorials. the second one is an adapted version for Spring boot to be able to autowire services. But in the last case &quot;TelegramApiRequestException: Error getting updates&quot; error message occurs and it spams logs","body":"@DariusX. the first part is everywhere in telegram bot tutorials. the second one is an adapted version for Spring boot to be able to autowire services. But in the last case &quot;TelegramApiRequestException: Error getting updates&quot; error message occurs and it spams logs"}],"answers":[{"tags":[],"owner":{"account_id":11762400,"reputation":23,"user_id":8608053,"display_name":"arslandinho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664957827,"creation_date":1664957641,"answer_id":73957566,"question_id":61428240,"body_markdown":"In case someone comes across the same problem, I guess I found a solution. If you inject your bot as a dependency, you don&#39;t need to manually register it - just put your `@Component` annotation over your bot class and that&#39;s it.\r\n\r\nIf not, then you need to manually register it just like OP did in their case. I had the same problem. I didn&#39;t put `@Component` annotation at first, rather created bot bean via `@Bean` annotation on my config file with all the manual registration stuff and had the same problem with my logs being bombarded with _&quot;TelegramApiRequestException: Error getting updates&quot;_ errors.\r\n\r\nAfter that, I just put `@Component` annotation over my bot class, removed bean creation from a config class, and it worked just fine.\r\n\r\nMy guess is that telegrambots library makes it so your bot is registered whenever Spring creates a bean out of it, and when you manually register it, then there are two instances of the bot, thus the errors.\r\n\r\n","title":"Java TelegramApiRequestException: Error getting updates","body":"<p>In case someone comes across the same problem, I guess I found a solution. If you inject your bot as a dependency, you don't need to manually register it - just put your <code>@Component</code> annotation over your bot class and that's it.</p>\n<p>If not, then you need to manually register it just like OP did in their case. I had the same problem. I didn't put <code>@Component</code> annotation at first, rather created bot bean via <code>@Bean</code> annotation on my config file with all the manual registration stuff and had the same problem with my logs being bombarded with <em>&quot;TelegramApiRequestException: Error getting updates&quot;</em> errors.</p>\n<p>After that, I just put <code>@Component</code> annotation over my bot class, removed bean creation from a config class, and it worked just fine.</p>\n<p>My guess is that telegrambots library makes it so your bot is registered whenever Spring creates a bean out of it, and when you manually register it, then there are two instances of the bot, thus the errors.</p>\n"}],"owner":{"account_id":18403582,"reputation":11,"user_id":13405965,"display_name":"Alina Neshchebnaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664957827,"creation_date":1587829245,"question_id":61428240,"body_markdown":"As I know this error occurs when several bot instances are running, bit I run only one instance.\r\n\r\nI noticed that\r\n\r\n1) There are no _&quot;TelegramApiRequestException: Error getting updates&quot;_ errors if I create and register bot like this:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ApiContextInitializer.init();\r\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\r\n        try {\r\n            telegramBotsApi.registerBot(new MyBot());\r\n        } catch (TelegramApiException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nBut in this case autowiring doesn&#39;t work.\r\n\r\n2) Here autowiring is working, but that _&quot;TelegramApiRequestException: Error getting updates&quot;_ message spams my logs\r\n```java\r\npublic class MyApplication implements CommandLineRunner {\r\n\r\n    static {\r\n        ApiContextInitializer.init();\r\n    }\r\n\r\n    @Autowired\r\n    private MyBot;\r\n\r\n    @Autowired\r\n    private MyService myService;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\r\n        telegramBotsApi.registerBot(bot);\r\n\r\n        myService.doSomeWork();\r\n    }\r\n}\r\n```\r\n[logs img][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CDRAM.png","title":"Java TelegramApiRequestException: Error getting updates","body":"<p>As I know this error occurs when several bot instances are running, bit I run only one instance.</p>\n<p>I noticed that</p>\n<ol>\n<li>There are no <em>&quot;TelegramApiRequestException: Error getting updates&quot;</em> errors if I create and register bot like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        ApiContextInitializer.init();\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\n        try {\n            telegramBotsApi.registerBot(new MyBot());\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>But in this case autowiring doesn't work.</p>\n<ol start=\"2\">\n<li>Here autowiring is working, but that <em>&quot;TelegramApiRequestException: Error getting updates&quot;</em> message spams my logs</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApplication implements CommandLineRunner {\n\n    static {\n        ApiContextInitializer.init();\n    }\n\n    @Autowired\n    private MyBot;\n\n    @Autowired\n    private MyService myService;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\n        telegramBotsApi.registerBot(bot);\n\n        myService.doSomeWork();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CDRAM.png\" rel=\"nofollow noreferrer\">logs img</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"score":0,"creation_date":1664950081,"post_id":73955658,"comment_id":130583196,"body_markdown":"did you check internet permissions","body":"did you check internet permissions"},{"owner":{"account_id":25352811,"reputation":31,"user_id":19169404,"display_name":"TP SINGH"},"score":0,"creation_date":1664955061,"post_id":73955658,"comment_id":130584334,"body_markdown":"yes i am check internet permission","body":"yes i am check internet permission"}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664957800,"creation_date":1664957800,"answer_id":73957592,"question_id":73955658,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nIt is working for me. I will share the source code here for your use.\r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.webkit.DownloadListener;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n    WebView webview;\r\n\r\n    String LoginUrl = &quot;https://premium.mysirg.com/learn/beginners-web-development&quot;;\r\n\r\n\r\n    private static String TAG = &quot;WebView&quot;;\r\n    private static final int REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS = 124;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webview = findViewById(R.id.webview);\r\n\r\n        webview.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\r\n                view.loadUrl(url);\r\n                return true;\r\n\r\n            }\r\n            /*@Override\r\n            public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n     //                    super.onReceivedSslError(view, handler, error);\r\n                handler.proceed();\r\n            }*/\r\n        });\r\n\r\n        webview.setDownloadListener(new DownloadListener() {\r\n            public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\r\n            }\r\n        });\r\n\r\n        webview.getSettings().setJavaScriptEnabled(true);\r\n        webview.getSettings().setSupportZoom(false);\r\n        webview.getSettings().setAllowFileAccess(true);\r\n        webview.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\n\r\n        webview.getSettings().setUseWideViewPort(false);\r\n        webview.getSettings().setLoadWithOverviewMode(false);\r\n        webview.setVerticalScrollBarEnabled(false);\r\n        webview.setHorizontalScrollBarEnabled(false);\r\n        webview.getSettings().setAppCacheEnabled(true);\r\n        webview.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n        webview.getSettings().setSupportMultipleWindows(false);\r\n        webview.getSettings().setDomStorageEnabled(true);\r\n\r\n    //            webview.getSettings().setUserAgentString(&quot;Mozilla&quot;);\r\n    //        webview.getSettings().setUserAgentString(&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;);\r\n        \r\n     \r\n    webview.getSettings().setUserAgentString(WebSettings.getDefaultUserAgent(this));\r\n\r\n        webview.loadUrl(LoginUrl);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n      //        super.onBackPressed();\r\n        if(webview.canGoBack())\r\n            webview.goBack();\r\n        else\r\n            finish();\r\n    }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/xi8Sm.png\r\n","title":"when we click on link the webview not show any content","body":"<p><a href=\"https://i.stack.imgur.com/xi8Sm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xi8Sm.png\" alt=\"enter image description here\" /></a></p>\n<p>It is working for me. I will share the source code here for your use.</p>\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.webkit.DownloadListener;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends Activity {\n\nWebView webview;\n\nString LoginUrl = &quot;https://premium.mysirg.com/learn/beginners-web-development&quot;;\n\n\nprivate static String TAG = &quot;WebView&quot;;\nprivate static final int REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS = 124;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    webview = findViewById(R.id.webview);\n\n    webview.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n            view.loadUrl(url);\n            return true;\n\n        }\n        /*@Override\n        public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n //                    super.onReceivedSslError(view, handler, error);\n            handler.proceed();\n        }*/\n    });\n\n    webview.setDownloadListener(new DownloadListener() {\n        public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\n        }\n    });\n\n    webview.getSettings().setJavaScriptEnabled(true);\n    webview.getSettings().setSupportZoom(false);\n    webview.getSettings().setAllowFileAccess(true);\n    webview.getSettings().setAllowUniversalAccessFromFileURLs(true);\n\n    webview.getSettings().setUseWideViewPort(false);\n    webview.getSettings().setLoadWithOverviewMode(false);\n    webview.setVerticalScrollBarEnabled(false);\n    webview.setHorizontalScrollBarEnabled(false);\n    webview.getSettings().setAppCacheEnabled(true);\n    webview.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n    webview.getSettings().setSupportMultipleWindows(false);\n    webview.getSettings().setDomStorageEnabled(true);\n\n//            webview.getSettings().setUserAgentString(&quot;Mozilla&quot;);\n//        webview.getSettings().setUserAgentString(&quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1&quot;);\n    \n \nwebview.getSettings().setUserAgentString(WebSettings.getDefaultUserAgent(this));\n\n    webview.loadUrl(LoginUrl);\n\n}\n\n@Override\npublic void onBackPressed() {\n  //        super.onBackPressed();\n    if(webview.canGoBack())\n        webview.goBack();\n    else\n        finish();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":25352811,"reputation":31,"user_id":19169404,"display_name":"TP SINGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664957800,"creation_date":1664940425,"question_id":73955658,"body_markdown":"when we use this url (&quot;https://premium.mysirg.com/learn/beginners-web-development&quot;) in webview the webview not show any content or when we click on link from website the page not loaded by webview and show blank white screen and when we load this url in browser it work fine and show all content but webView not show any content  how to solve this problem please help.\r\n``` \r\nwebView = view.findViewById(R.id.webView);\r\nwebView.loadUrl(&quot;https://premium.mysirg.com/learn/beginners-web-development&quot;);\r\nWebSettings webSettings = webView.getSettings();\r\nwebSettings.setJavaScriptEnabled(true);\r\nwebSettings.setBuiltInZoomControls(true);\r\nwebView.setWebViewClient(new WebViewClient() {\r\n\r\n    @Override public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\r\n        super.onReceivedError(view, request, error);\r\n    }\r\n\r\n    @Override public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n        super.onReceivedError(view, errorCode, description, failingUrl);\r\n    }\r\n});\r\nwebView.setWebChromeClient(new WebChromeClient(){\r\n});\r\n```","title":"when we click on link the webview not show any content","body":"<p>when we use this url (&quot;https://premium.mysirg.com/learn/beginners-web-development&quot;) in webview the webview not show any content or when we click on link from website the page not loaded by webview and show blank white screen and when we load this url in browser it work fine and show all content but webView not show any content  how to solve this problem please help.</p>\n<pre><code>webView = view.findViewById(R.id.webView);\nwebView.loadUrl(&quot;https://premium.mysirg.com/learn/beginners-web-development&quot;);\nWebSettings webSettings = webView.getSettings();\nwebSettings.setJavaScriptEnabled(true);\nwebSettings.setBuiltInZoomControls(true);\nwebView.setWebViewClient(new WebViewClient() {\n\n    @Override public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\n        super.onReceivedError(view, request, error);\n    }\n\n    @Override public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n        super.onReceivedError(view, errorCode, description, failingUrl);\n    }\n});\nwebView.setWebChromeClient(new WebChromeClient(){\n});\n</code></pre>\n"},{"tags":["java","spring-boot","rest","elasticsearch","nullpointerexception"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1646912609,"post_id":71420577,"comment_id":126243468,"body_markdown":"show your BookElasticSearchService, and which version of ElasticSearch/Spring-data you are using.","body":"show your BookElasticSearchService, and which version of ElasticSearch/Spring-data you are using."},{"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"score":0,"creation_date":1646913172,"post_id":71420577,"comment_id":126243683,"body_markdown":"The ElasticSearchService is BookService only, I will add the repository file also","body":"The ElasticSearchService is BookService only, I will add the repository file also"},{"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"score":0,"creation_date":1646913333,"post_id":71420577,"comment_id":126243743,"body_markdown":"Elasticsearch 8.0.0 is the version of Elastic search","body":"Elasticsearch 8.0.0 is the version of Elastic search"},{"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"score":0,"creation_date":1646913596,"post_id":71420577,"comment_id":126243845,"body_markdown":"Spring boot version -2.6.4 I am using and java 17","body":"Spring boot version -2.6.4 I am using and java 17"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1646915001,"post_id":71420577,"comment_id":126244351,"body_markdown":"Sorry I meant add the repo","body":"Sorry I meant add the repo"},{"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"score":0,"creation_date":1646917838,"post_id":71420577,"comment_id":126245498,"body_markdown":"please check I have added the Elastic Search Repo also","body":"please check I have added the Elastic Search Repo also"},{"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"score":0,"creation_date":1646979101,"post_id":71420577,"comment_id":126261830,"body_markdown":"the issue Has been resolved. I am using the elastic search version 8.0.0 but when I had used the lower version It has worked.","body":"the issue Has been resolved. I am using the elastic search version 8.0.0 but when I had used the lower version It has worked."},{"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"score":1,"creation_date":1646981926,"post_id":71420577,"comment_id":126262464,"body_markdown":"I am not sure if the version of spring boot you use is officially compilant  with elasticsearch 8.0","body":"I am not sure if the version of spring boot you use is officially compilant  with elasticsearch 8.0"},{"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"score":0,"creation_date":1646985758,"post_id":71420577,"comment_id":126263392,"body_markdown":"@sixrandanes yes actually the problem is in the spring boot version is not compilant with the elastic search version which I had used.","body":"@sixrandanes yes actually the problem is in the spring boot version is not compilant with the elastic search version which I had used."},{"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"score":1,"creation_date":1669502919,"post_id":71420577,"comment_id":131656213,"body_markdown":"Just follow this thread: https://discuss.elastic.co/t/spring-data-version-compatibility-with-es-6-x-compatibility/175384/2","body":"Just follow this thread: <a href=\"https://discuss.elastic.co/t/spring-data-version-compatibility-with-es-6-x-compatibility/175384/2\" rel=\"nofollow noreferrer\">discuss.elastic.co/t/&hellip;</a>"}],"owner":{"account_id":18510377,"reputation":115,"user_id":13485727,"display_name":"Aditya Jain"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664957550,"creation_date":1646899074,"question_id":71420577,"body_markdown":"I am Using Elasticsearch 8.0.0 version with spring boot to do crud opertaion and also storing data at mongodb.While adding data in mongodb and elastic search from postman,In elastic search it creates the document but gives a error of **Unable to parse response body**. \r\n\r\n```Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: Unable to parse response body for Response{requestLine=PUT /books/_doc/9?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is java.lang.RuntimeException: Unable to parse response body for Response{requestLine=PUT /books/_doc/9?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}] with root cause```\r\n\r\nthe complete logstash is - \r\n```java.lang.NullPointerException: null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:208) ~[na:na]\r\n\tat org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:116) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:43) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:28) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:96) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.action.index.IndexResponse.fromXContent(IndexResponse.java:78) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAndParseEntity$8(RestHighLevelClient.java:1673) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1749) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$doIndex$0(ElasticsearchRestTemplate.java:158) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:408) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:158) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:195) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:184) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:357) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:184) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy78.save(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy78.save(Unknown Source) ~[na:na]\r\n\tat com.aditya.librarymanagement.service.BookService.addBook(BookService.java:26) ~[classes/:na]\r\n\tat com.aditya.librarymanagement.api.restricted.RestrictedBookApi.addBook(RestrictedBookApi.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat com.aditya.librarymanagement.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:54) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nMy Model class is Book.java - \r\n```@Document(collection = &quot;books&quot;)\r\n@org.springframework.data.elasticsearch.annotations.Document(indexName = &quot;books&quot;)\r\npublic class Book {\r\n\r\n    @Id\r\n    private int bookId;\r\n    private String title;\r\n    private String description;\r\n    private String author;\r\n    private String publisher;\r\n    private String category;\r\n\r\n    public Book(){}\r\n\r\n    public Book(int bookId, String title, String description, String author, String publisher, String category) {\r\n        this.bookId = bookId;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.author = author;\r\n        this.publisher = publisher;\r\n        this.category = category;\r\n    }\r\n\r\n    public int getBookId() {\r\n        return bookId;\r\n    }\r\n\r\n    public void setBookId(int bookId) {\r\n        this.bookId = bookId;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getPublisher() {\r\n        return publisher;\r\n    }\r\n\r\n    public void setPublisher(String publisher) {\r\n        this.publisher = publisher;\r\n    }\r\n\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n}\r\n```\r\n\r\nService class is BookService.class - \r\n\r\n```@Service\r\npublic class BookService {\r\n\r\n    private BookRepository bookRepository;\r\n    private BookElasticRepository bookElasticRepository;\r\n\r\n    @Autowired\r\n    public BookService(BookRepository bookRepository, BookElasticRepository bookElasticRepository) {\r\n        this.bookRepository = bookRepository;\r\n        this.bookElasticRepository = bookElasticRepository;\r\n    }\r\n\r\n    public Book addBook(Book book) {\r\n        bookRepository.save(book);\r\n        return bookElasticRepository.save(book);\r\n    }\r\n\r\n    public List&lt;Book&gt; getBooks() {\r\n        return bookRepository.findAll();\r\n    }\r\n\r\n    public void addBooks(List&lt;Book&gt; books) {\r\n        bookRepository.saveAll(books);\r\n        bookElasticRepository.saveAll(books);\r\n    }\r\n\r\n    public void updateBook(Book book) {\r\n        bookRepository.save(book);\r\n        bookElasticRepository.save(book);\r\n    }\r\n\r\n    public void deleteBook(String bookId) {\r\n        bookRepository.deleteByBookId(Integer.parseInt(bookId));\r\n        bookElasticRepository.deleteByBookId(Integer.parseInt(bookId));\r\n    }\r\n\r\n    public Book getBook(String bookId) {\r\n        return bookRepository.findByBookId(Integer.parseInt(bookId));\r\n    }\r\n\r\n\r\n    public Book getFastBook(String bookId) {\r\n        return bookElasticRepository.findByBookId(Integer.parseInt(bookId));\r\n    }\r\n}\r\n```\r\n**Getting error while using addBook method of BookService.class**\r\n\r\nUpdate 1:- Added ElasticSearchRepo\r\n\r\n```import com.aditya.librarymanagement.model.Book;\r\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface BookElasticRepository extends ElasticsearchRepository&lt;Book,Integer&gt; {\r\n\r\n    public void deleteByBookId(Integer bookId);\r\n\r\n    public Book findByBookId(Integer bookId);\r\n}\r\n```\r\n \r\nThanks in advance for help!","title":"Getting Error while saving data on elastic search using spring boot - Unable to parse response body for Response","body":"<p>I am Using Elasticsearch 8.0.0 version with spring boot to do crud opertaion and also storing data at mongodb.While adding data in mongodb and elastic search from postman,In elastic search it creates the document but gives a error of <strong>Unable to parse response body</strong>.</p>\n<p><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: Unable to parse response body for Response{requestLine=PUT /books/_doc/9?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is java.lang.RuntimeException: Unable to parse response body for Response{requestLine=PUT /books/_doc/9?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}] with root cause</code></p>\n<p>the complete logstash is -</p>\n<pre><code>    at java.base/java.util.Objects.requireNonNull(Objects.java:208) ~[na:na]\n    at org.elasticsearch.action.DocWriteResponse.&lt;init&gt;(DocWriteResponse.java:116) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:43) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.&lt;init&gt;(IndexResponse.java:28) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse$Builder.build(IndexResponse.java:96) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.action.index.IndexResponse.fromXContent(IndexResponse.java:78) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAndParseEntity$8(RestHighLevelClient.java:1673) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1749) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:1029) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.lambda$doIndex$0(ElasticsearchRestTemplate.java:158) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.execute(ElasticsearchRestTemplate.java:408) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:158) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:195) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:184) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:357) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:184) ~[spring-data-elasticsearch-4.3.2.jar:4.3.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.16.jar:5.3.16]\n    at jdk.proxy2/jdk.proxy2.$Proxy78.save(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.16.jar:5.3.16]\n    at jdk.proxy2/jdk.proxy2.$Proxy78.save(Unknown Source) ~[na:na]\n    at com.aditya.librarymanagement.service.BookService.addBook(BookService.java:26) ~[classes/:na]\n    at com.aditya.librarymanagement.api.restricted.RestrictedBookApi.addBook(RestrictedBookApi.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at com.aditya.librarymanagement.filter.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:54) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My Model class is Book.java -</p>\n<pre><code>@org.springframework.data.elasticsearch.annotations.Document(indexName = &quot;books&quot;)\npublic class Book {\n\n    @Id\n    private int bookId;\n    private String title;\n    private String description;\n    private String author;\n    private String publisher;\n    private String category;\n\n    public Book(){}\n\n    public Book(int bookId, String title, String description, String author, String publisher, String category) {\n        this.bookId = bookId;\n        this.title = title;\n        this.description = description;\n        this.author = author;\n        this.publisher = publisher;\n        this.category = category;\n    }\n\n    public int getBookId() {\n        return bookId;\n    }\n\n    public void setBookId(int bookId) {\n        this.bookId = bookId;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getPublisher() {\n        return publisher;\n    }\n\n    public void setPublisher(String publisher) {\n        this.publisher = publisher;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n}\n</code></pre>\n<p>Service class is BookService.class -</p>\n<pre><code>public class BookService {\n\n    private BookRepository bookRepository;\n    private BookElasticRepository bookElasticRepository;\n\n    @Autowired\n    public BookService(BookRepository bookRepository, BookElasticRepository bookElasticRepository) {\n        this.bookRepository = bookRepository;\n        this.bookElasticRepository = bookElasticRepository;\n    }\n\n    public Book addBook(Book book) {\n        bookRepository.save(book);\n        return bookElasticRepository.save(book);\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return bookRepository.findAll();\n    }\n\n    public void addBooks(List&lt;Book&gt; books) {\n        bookRepository.saveAll(books);\n        bookElasticRepository.saveAll(books);\n    }\n\n    public void updateBook(Book book) {\n        bookRepository.save(book);\n        bookElasticRepository.save(book);\n    }\n\n    public void deleteBook(String bookId) {\n        bookRepository.deleteByBookId(Integer.parseInt(bookId));\n        bookElasticRepository.deleteByBookId(Integer.parseInt(bookId));\n    }\n\n    public Book getBook(String bookId) {\n        return bookRepository.findByBookId(Integer.parseInt(bookId));\n    }\n\n\n    public Book getFastBook(String bookId) {\n        return bookElasticRepository.findByBookId(Integer.parseInt(bookId));\n    }\n}\n</code></pre>\n<p><strong>Getting error while using addBook method of BookService.class</strong></p>\n<p>Update 1:- Added ElasticSearchRepo</p>\n<pre><code>import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface BookElasticRepository extends ElasticsearchRepository&lt;Book,Integer&gt; {\n\n    public void deleteByBookId(Integer bookId);\n\n    public Book findByBookId(Integer bookId);\n}\n</code></pre>\n<p>Thanks in advance for help!</p>\n"},{"tags":["java","spring-boot","generics"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":1,"creation_date":1664914505,"post_id":73952857,"comment_id":130577839,"body_markdown":"How do you want to make your function generic, when you have specific commands inside? (e.g. `.map(MsilVehicleLayout::getId, VehicleImageAndLayoutDTO::setMsil)`)","body":"How do you want to make your function generic, when you have specific commands inside? (e.g. <code>.map(MsilVehicleLayout::getId, VehicleImageAndLayoutDTO::setMsil)</code>)"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1664915320,"post_id":73952857,"comment_id":130578059,"body_markdown":"I will plan to isolate that addMapping part, or I&#39;ll think some of the way where we leverage the reflection API&#39;s invoke method in such case, if you have some suggestion, please let me know, most welcome","body":"I will plan to isolate that addMapping part, or I&#39;ll think some of the way where we leverage the reflection API&#39;s invoke method in such case, if you have some suggestion, please let me know, most welcome"},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1664950261,"post_id":73952857,"comment_id":130583235,"body_markdown":"Then ask your question with more details. Throwing some code and expecting us to understand what&#39;s on your mind is too optimistic :)","body":"Then ask your question with more details. Throwing some code and expecting us to understand what&#39;s on your mind is too optimistic :)"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1664957371,"post_id":73952857,"comment_id":130585009,"body_markdown":"Please see my edits, you will get more clarity this time","body":"Please see my edits, you will get more clarity this time"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664957338,"creation_date":1664912260,"question_id":73952857,"body_markdown":"I have written a method which map the entity to dto using modelMapper, now I want to reuse it for other entities, so I want to transform the below method into generic type.\r\n\r\n    private VehicleImageAndLayoutDTO mapToDto(MsilVehicleLayout msilVehicleLayout) {\r\n    \t\tlog.info(&quot;MsilVehicleLayoutServiceImpl::mapToDto::START&quot;);\r\n    \t\tthis.modelMapper = new ModelMapper();\r\n    \t\tTypeMap&lt;MsilVehicleLayout, VehicleImageAndLayoutDTO&gt; propertyMapper = this.modelMapper\r\n    \t\t\t\t.createTypeMap(MsilVehicleLayout.class, VehicleImageAndLayoutDTO.class);\r\n    //\t\tpropertyMapper.addMappings(skipFieldsMap);\r\n    \t\tpropertyMapper.addMappings(mapper -&gt; mapper.using(v -&gt; Boolean.TRUE).map(MsilVehicleLayout::getId,\r\n    \t\t\t\tVehicleImageAndLayoutDTO::setMsil));\r\n    \t\tVehicleImageAndLayoutDTO imageAndLayoutDto = this.modelMapper.map(msilVehicleLayout,\r\n    \t\t\t\tVehicleImageAndLayoutDTO.class);\r\n    \t\treturn imageAndLayoutDto;\r\n    \t}\r\n\r\nNow the problem is that, it is tightly coupled because of below line,\r\n\r\n    propertyMapper.addMappings(mapper -&gt; mapper.using(v -&gt; Boolean.TRUE).map(MsilVehicleLayout::getId,\r\n        \t\t\t\tVehicleImageAndLayoutDTO::setMsil)); \r\n\r\n because i am using model mapper, but few properties I want to set with static values, so the above code is nothing, but setting the `setMsil` method of `VehicleImageAndLayoutDTO` with `Boolean.TRUE`.\r\n\r\nNow the first argument `MsilVehicleLayout::getId` is just like a mock argument because `mapper.map()` expecting two argument, so first argument is just mock one and has nothing to do with `VehicleImageAndLayoutDTO::setMsil`\r\n\r\n\r\n\r\nNow, I want to figured out a way to either isolate these dependency out of this snippet or is there a way to leverage the Reflection API in order to set the custom values ??\r\nthis is the problem statement which I am expecting the answer for, please help","title":"Create Generic method for mapping of entity to dto in spring boot","body":"<p>I have written a method which map the entity to dto using modelMapper, now I want to reuse it for other entities, so I want to transform the below method into generic type.</p>\n<pre><code>private VehicleImageAndLayoutDTO mapToDto(MsilVehicleLayout msilVehicleLayout) {\n        log.info(&quot;MsilVehicleLayoutServiceImpl::mapToDto::START&quot;);\n        this.modelMapper = new ModelMapper();\n        TypeMap&lt;MsilVehicleLayout, VehicleImageAndLayoutDTO&gt; propertyMapper = this.modelMapper\n                .createTypeMap(MsilVehicleLayout.class, VehicleImageAndLayoutDTO.class);\n//      propertyMapper.addMappings(skipFieldsMap);\n        propertyMapper.addMappings(mapper -&gt; mapper.using(v -&gt; Boolean.TRUE).map(MsilVehicleLayout::getId,\n                VehicleImageAndLayoutDTO::setMsil));\n        VehicleImageAndLayoutDTO imageAndLayoutDto = this.modelMapper.map(msilVehicleLayout,\n                VehicleImageAndLayoutDTO.class);\n        return imageAndLayoutDto;\n    }\n</code></pre>\n<p>Now the problem is that, it is tightly coupled because of below line,</p>\n<pre><code>propertyMapper.addMappings(mapper -&gt; mapper.using(v -&gt; Boolean.TRUE).map(MsilVehicleLayout::getId,\n                    VehicleImageAndLayoutDTO::setMsil)); \n</code></pre>\n<p>because i am using model mapper, but few properties I want to set with static values, so the above code is nothing, but setting the <code>setMsil</code> method of <code>VehicleImageAndLayoutDTO</code> with <code>Boolean.TRUE</code>.</p>\n<p>Now the first argument <code>MsilVehicleLayout::getId</code> is just like a mock argument because <code>mapper.map()</code> expecting two argument, so first argument is just mock one and has nothing to do with <code>VehicleImageAndLayoutDTO::setMsil</code></p>\n<p>Now, I want to figured out a way to either isolate these dependency out of this snippet or is there a way to leverage the Reflection API in order to set the custom values ??\nthis is the problem statement which I am expecting the answer for, please help</p>\n"},{"tags":["java","linux","user-interface","command-line"],"answers":[{"tags":[],"owner":{"account_id":431516,"reputation":16665,"user_id":815632,"accept_rate":86,"display_name":"David Cain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1335641572,"creation_date":1335641572,"answer_id":10366844,"question_id":10366504,"body_markdown":"Swing is probably a good choice for creating a GUI; I see no reason why you should change it.\r\n\r\nI would suggest taking a look at X forwarding. With X forwarding, you SSH into the server as normal. The server runs all your code and handles the creation of your GUI. It then sends the window display information back to your machine.\r\n\r\nI found a quick [guide to configuring X forwarding in PuTTy](http://www.math.umn.edu/systems_guide/putty_xwin32.html). It should serve your needs well.\r\n\r\n### Caveats ###\r\n\r\nFor X forwarding to work, your SSH configuration must have it enabled. You can surely talk to your professor about this- it&#39;s a simple change to the sshd config file. The speed of X forwarding shouldn&#39;t be a concern if you and the server are both on campus, but note that this can be a drawback with other networking setups.","title":"How using a Java GUI in a GL Linux Server command line?","body":"<p>Swing is probably a good choice for creating a GUI; I see no reason why you should change it.</p>\n\n<p>I would suggest taking a look at X forwarding. With X forwarding, you SSH into the server as normal. The server runs all your code and handles the creation of your GUI. It then sends the window display information back to your machine.</p>\n\n<p>I found a quick <a href=\"http://www.math.umn.edu/systems_guide/putty_xwin32.html\" rel=\"nofollow\">guide to configuring X forwarding in PuTTy</a>. It should serve your needs well.</p>\n\n<h3>Caveats</h3>\n\n<p>For X forwarding to work, your SSH configuration must have it enabled. You can surely talk to your professor about this- it's a simple change to the sshd config file. The speed of X forwarding shouldn't be a concern if you and the server are both on campus, but note that this can be a drawback with other networking setups.</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664957064,"creation_date":1664788427,"answer_id":73933330,"question_id":10366504,"body_markdown":"To run a GUI application inside a Linux-based machine, the $DISPLAY should be defined to pass all GUI info.\r\n\r\nSo we have multiple ways to do that:\r\n\r\n\r\n1- Connect a real Display:  \r\nSo you will find the `$DISPLAY` environment variable defined, then you can run the GUI application.\r\n\r\n2- Use SSH with X forwarding:  \r\nWhen you connect to a remote Linux system, ask it to forward the GUI operations buffer to your machine   \r\n`ssh -X run-my-gui-application.sh`\r\n\r\n3- Fake the DISPLAY (**Hardware** solution):  \r\nBy injecting small real hardware like a USB connector (not a display) then the operating system will assume there is a display, then the GUI app will run\r\n\r\n4- Fake the DISPLAY (**Software** solution):  \r\nBy installing a package to emulate the DISPLAY, for example, use [xvfb][1] lib:\r\n\r\n    sudo apt-get install xvfb\r\n\r\n    # [GUI] headless mode\r\n    # ~FAKE DISPLAY~ number 88\r\n    nohup Xvfb :88 -ac &amp; \r\n    export DISPLAY=:88.0\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Xvfb","title":"How using a Java GUI in a GL Linux Server command line?","body":"<p>To run a GUI application inside a Linux-based machine, the $DISPLAY should be defined to pass all GUI info.</p>\n<p>So we have multiple ways to do that:</p>\n<p>1- Connect a real Display:<br />\nSo you will find the <code>$DISPLAY</code> environment variable defined, then you can run the GUI application.</p>\n<p>2- Use SSH with X forwarding:<br />\nWhen you connect to a remote Linux system, ask it to forward the GUI operations buffer to your machine<br />\n<code>ssh -X run-my-gui-application.sh</code></p>\n<p>3- Fake the DISPLAY (<strong>Hardware</strong> solution):<br />\nBy injecting small real hardware like a USB connector (not a display) then the operating system will assume there is a display, then the GUI app will run</p>\n<p>4- Fake the DISPLAY (<strong>Software</strong> solution):<br />\nBy installing a package to emulate the DISPLAY, for example, use <a href=\"https://en.wikipedia.org/wiki/Xvfb\" rel=\"nofollow noreferrer\">xvfb</a> lib:</p>\n<pre><code>sudo apt-get install xvfb\n\n# [GUI] headless mode\n# ~FAKE DISPLAY~ number 88\nnohup Xvfb :88 -ac &amp; \nexport DISPLAY=:88.0\n</code></pre>\n"}],"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1556,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10366844,"answer_count":2,"score":3,"last_activity_date":1664957064,"creation_date":1335638883,"question_id":10366504,"body_markdown":"My school projects are all done on the Linux Server, which is all done with command lines and no GUI. One of my java projects requires me to create a java GUI and to be able to build and run the project on the GL server.\r\n\r\nI&#39;m confused since the GL server is all command line, but my professor says that it can be done. \r\n\r\nTo connect to the school&#39;s GL Server, I use Putty. I don&#39;t know if it matters or not. And I&#39;m using swing for Java GUI. I use ant to compile and run, and so will my professor when he grades it.\r\n\r\nI built the program with success, but when I run it this comes up:\r\n\r\n    Buildfile: build.xml\r\n\r\n    run:\r\n         [java] Exception in thread &quot;main&quot; java.awt.HeadlessException:\r\n         [java] No X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\n         [java]     at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)\r\n         [java]     at java.awt.Window.&lt;init&gt;(Window.java:406)\r\n         [java]     at java.awt.Frame.&lt;init&gt;(Frame.java:402)\r\n         [java]     at javax.swing.JFrame.&lt;init&gt;(JFrame.java:207)\r\n         [java]     at gui.PushCounter.main(PushCounter.java:18)\r\n         [java] Java Result: 1\r\n\r\n    BUILD SUCCESSFUL\r\n    Total time: 0 seconds\r\n\r\nIs there a different class or method of creating a GUI in Java when you are working with command line? Is there another terminal I can log into other than Putty that would better suit using Java GUI? Is there some extra thing I have to add in my code or in the Linux Server?","title":"How using a Java GUI in a GL Linux Server command line?","body":"<p>My school projects are all done on the Linux Server, which is all done with command lines and no GUI. One of my java projects requires me to create a java GUI and to be able to build and run the project on the GL server.</p>\n\n<p>I'm confused since the GL server is all command line, but my professor says that it can be done. </p>\n\n<p>To connect to the school's GL Server, I use Putty. I don't know if it matters or not. And I'm using swing for Java GUI. I use ant to compile and run, and so will my professor when he grades it.</p>\n\n<p>I built the program with success, but when I run it this comes up:</p>\n\n<pre><code>Buildfile: build.xml\n\nrun:\n     [java] Exception in thread \"main\" java.awt.HeadlessException:\n     [java] No X11 DISPLAY variable was set, but this program performed an operation which requires it.\n     [java]     at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)\n     [java]     at java.awt.Window.&lt;init&gt;(Window.java:406)\n     [java]     at java.awt.Frame.&lt;init&gt;(Frame.java:402)\n     [java]     at javax.swing.JFrame.&lt;init&gt;(JFrame.java:207)\n     [java]     at gui.PushCounter.main(PushCounter.java:18)\n     [java] Java Result: 1\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds\n</code></pre>\n\n<p>Is there a different class or method of creating a GUI in Java when you are working with command line? Is there another terminal I can log into other than Putty that would better suit using Java GUI? Is there some extra thing I have to add in my code or in the Linux Server?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9006,"page":986,"page_size":100}
