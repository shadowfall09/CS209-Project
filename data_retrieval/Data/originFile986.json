{"items":[{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1642437176,"post_id":70741100,"comment_id":125064993,"body_markdown":"‚Äú_the [‚Ä¶] second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete_‚Äù ‚Äì I don‚Äôt really understand what you mean here, what is ‚Äú_everything else_‚Äù? Both would be called at the same moment (well, except `thenApply()` won‚Äôt be called in case of exception). `whenComplete()` seems to be exactly what you are looking for.","body":"‚Äú<i>the [‚Ä¶] second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete</i>‚Äù ‚Äì I don‚Äôt really understand what you mean here, what is ‚Äú<i>everything else</i>‚Äù? Both would be called at the same moment (well, except <code>thenApply()</code> won‚Äôt be called in case of exception). <code>whenComplete()</code> seems to be exactly what you are looking for."},{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":0,"creation_date":1642443325,"post_id":70741100,"comment_id":125067071,"body_markdown":"Hmm, I assumed after whenComplete wouldn&#39;t allow then&#39;s after it. However, whenComplete forces me to explicitly deal with exception cases, which is not what I want at this stage.","body":"Hmm, I assumed after whenComplete wouldn&#39;t allow then&#39;s after it. However, whenComplete forces me to explicitly deal with exception cases, which is not what I want at this stage."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1642444231,"post_id":70741100,"comment_id":125067365,"body_markdown":"Well, if you want an equivalent to `peek()`, you should deal with exceptions as well since they don‚Äôt stop the execution of descendant stages ‚Äì as opposed to the `Stream` API, in which any exception stops the whole pipeline. Anyway, the solutions mentioned here are all we have for now &#128521;","body":"Well, if you want an equivalent to <code>peek()</code>, you should deal with exceptions as well since they don‚Äôt stop the execution of descendant stages ‚Äì as opposed to the <code>Stream</code> API, in which any exception stops the whole pipeline. Anyway, the solutions mentioned here are all we have for now üòâ"}],"answers":[{"comments":[{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":2,"creation_date":1642435364,"post_id":70743202,"comment_id":125064337,"body_markdown":"That&#39;s a good point and I hadn&#39;t thought of it. However, breaking up the chain like this kind of defeats the purpose of the fluent api. It&#39;s probably the canonical JDK solution, but not exactly &#39;elegant&#39;.","body":"That&#39;s a good point and I hadn&#39;t thought of it. However, breaking up the chain like this kind of defeats the purpose of the fluent api. It&#39;s probably the canonical JDK solution, but not exactly &#39;elegant&#39;."},{"owner":{"account_id":4054771,"reputation":2177,"user_id":3333174,"accept_rate":71,"display_name":"r&#252;-"},"score":0,"creation_date":1684858524,"post_id":70743202,"comment_id":134577540,"body_markdown":"But you don&#39;t have access to the result, which is the purpose of peeking.\nEven worse: **this doesn&#39;t work reliably!** If `doSomething()` takes longer/sleeps, then it may not finish before `f2` finishes, i.e. it may not finish at all or it may succeed even though `f2` fails. Don&#39;t do that. @Nicole has a much better solution.","body":"But you don&#39;t have access to the result, which is the purpose of peeking. Even worse: <b>this doesn&#39;t work reliably!</b> If <code>doSomething()</code> takes longer/sleeps, then it may not finish before <code>f2</code> finishes, i.e. it may not finish at all or it may succeed even though <code>f2</code> fails. Don&#39;t do that. @Nicole has a much better solution."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1684922743,"post_id":70743202,"comment_id":134587267,"body_markdown":"The peek can succeed while the next function fails in Nicole&#39;s solution and in `Stream.peek` also. It&#39;s not clear that the order of operations matters for OP, but you&#39;re right that if it does then they should model that explicitly.","body":"The peek can succeed while the next function fails in Nicole&#39;s solution and in <code>Stream.peek</code> also. It&#39;s not clear that the order of operations matters for OP, but you&#39;re right that if it does then they should model that explicitly."},{"owner":{"account_id":4054771,"reputation":2177,"user_id":3333174,"accept_rate":71,"display_name":"r&#252;-"},"score":0,"creation_date":1684926322,"post_id":70743202,"comment_id":134588021,"body_markdown":"I didn&#39;t say it correctly: what I should have said is that the second `thenApply` will run, even when the `thenRun` fails.\nAnd I think the order of operations is almost always relevant. E.g. the `peek` could be a verification... a very common use case.","body":"I didn&#39;t say it correctly: what I should have said is that the second <code>thenApply</code> will run, even when the <code>thenRun</code> fails. And I think the order of operations is almost always relevant. E.g. the <code>peek</code> could be a verification... a very common use case."}],"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642430842,"creation_date":1642430842,"answer_id":70743202,"question_id":70741100,"body_markdown":"Unlike with `Stream`, you can make multiple function chains from a single future, so it is not necessary to do everything in a single chain of calls. I would approach your problem like so:\r\n\r\n```\r\nvar f1 = CompletableFuture.supplyAsync(...);\r\nf1.thenRun(() -&gt; doSomething()); // this is your &quot;peek&quot;\r\nvar f2 = f1.thenApply(...); // continue your chain of operations here\r\n```","title":"What is the CompletableFuture equivalent of Streams peek()?","body":"<p>Unlike with <code>Stream</code>, you can make multiple function chains from a single future, so it is not necessary to do everything in a single chain of calls. I would approach your problem like so:</p>\n<pre><code>var f1 = CompletableFuture.supplyAsync(...);\nf1.thenRun(() -&gt; doSomething()); // this is your &quot;peek&quot;\nvar f2 = f1.thenApply(...); // continue your chain of operations here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665016455,"creation_date":1665016455,"answer_id":73967572,"question_id":70741100,"body_markdown":"I wanted to do this too, so I just made my own wrapper:\r\n\r\n```java\r\n/** Converts a Consumer into an identity Function that passes through the input */\r\npublic static &lt;T&gt; Function&lt;T, T&gt; peek(Consumer&lt;T&gt; fn) {\r\n    return (t) -&gt; {\r\n        fn.accept(t);\r\n        return t;\r\n    };\r\n}\r\n```\r\n\r\nused like:\r\n\r\n```java\r\n.thenApply(Functions.peek(SomeUtil::yourConsumerMethod));\r\n```","title":"What is the CompletableFuture equivalent of Streams peek()?","body":"<p>I wanted to do this too, so I just made my own wrapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Converts a Consumer into an identity Function that passes through the input */\npublic static &lt;T&gt; Function&lt;T, T&gt; peek(Consumer&lt;T&gt; fn) {\n    return (t) -&gt; {\n        fn.accept(t);\n        return t;\n    };\n}\n</code></pre>\n<p>used like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.thenApply(Functions.peek(SomeUtil::yourConsumerMethod));\n</code></pre>\n"}],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1665016455,"creation_date":1642421303,"question_id":70741100,"body_markdown":"An answer [here](https://stackoverflow.com/a/49534709/441662) quotes a table of all CompletableFuture methods, but it&#39;s not quite what I&#39;m looking for, or perhaps I&#39;m going about it wrong.\r\n\r\n\r\nI&#39;m looking for the CompletableFuture equivalent of Streams&#39; *peek()*, so basically a `thenApply` that returns the input argument or a `thenRun` that doesn&#39;t return `Void`. There are two ways I can think of that both don&#39;t semantically accurately express my intention, but do the job:\r\n\r\n```java\r\n(..)\r\n.thenApply((a) -&gt; {\r\n   doSomething();\r\n   return a;\r\n}\r\n(..)\r\n```\r\nand\r\n```java\r\n(..)\r\n.whenComplete((result, exception) -&gt; {\r\n   if (exception == null) {\r\n      doSomething();\r\n   }\r\n}\r\n(..)\r\n```\r\nBoth take the input from the previous stage, allow me to perform an action and return with the same type to the next stage. Of these two the latter second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete.\r\n\r\nI&#39;ve also been searching for an identity function that takes a consumer function as argument, but it seems I would have to write that myself:\r\n\r\n```java\r\npublic static &lt;T&gt; Function&lt;T, T&gt; identityConsumer(Consumer&lt;T&gt; c) {\r\n    return a -&gt; { c.accept(a); return a; };\r\n}\r\n```\r\n```java\r\n(..)\r\n.thenApply(identityConsumer(a -&gt; doSomething()));\r\n(..)\r\n```\r\nSo short of writing my own util functions, is there an elegant way of performing an action in an intermediate stage, where I don&#39;t have to return something, while keeping the stage&#39;s current type?","title":"What is the CompletableFuture equivalent of Streams peek()?","body":"<p>An answer <a href=\"https://stackoverflow.com/a/49534709/441662\">here</a> quotes a table of all CompletableFuture methods, but it's not quite what I'm looking for, or perhaps I'm going about it wrong.</p>\n<p>I'm looking for the CompletableFuture equivalent of Streams' <em>peek()</em>, so basically a <code>thenApply</code> that returns the input argument or a <code>thenRun</code> that doesn't return <code>Void</code>. There are two ways I can think of that both don't semantically accurately express my intention, but do the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(..)\n.thenApply((a) -&gt; {\n   doSomething();\n   return a;\n}\n(..)\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>(..)\n.whenComplete((result, exception) -&gt; {\n   if (exception == null) {\n      doSomething();\n   }\n}\n(..)\n</code></pre>\n<p>Both take the input from the previous stage, allow me to perform an action and return with the same type to the next stage. Of these two the latter second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete.</p>\n<p>I've also been searching for an identity function that takes a consumer function as argument, but it seems I would have to write that myself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Function&lt;T, T&gt; identityConsumer(Consumer&lt;T&gt; c) {\n    return a -&gt; { c.accept(a); return a; };\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>(..)\n.thenApply(identityConsumer(a -&gt; doSomething()));\n(..)\n</code></pre>\n<p>So short of writing my own util functions, is there an elegant way of performing an action in an intermediate stage, where I don't have to return something, while keeping the stage's current type?</p>\n"},{"tags":["java","hibernate","orm","persistence"],"answers":[{"comments":[{"owner":{"account_id":17496824,"reputation":1070,"user_id":12687879,"display_name":"Dulani Maheshi"},"score":0,"creation_date":1614936645,"post_id":14025157,"comment_id":117543046,"body_markdown":"This explanation is more clear, because of the example you provided. Thanks.","body":"This explanation is more clear, because of the example you provided. Thanks."}],"tags":[],"owner":{"account_id":272236,"reputation":1157,"user_id":563223,"display_name":"Mattias Josefsson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356378246,"creation_date":1356378246,"answer_id":14025157,"question_id":14025136,"body_markdown":"Persistant objects are the classes that in your program that has a representation in the database.\r\n\r\nExample if you have a Car class with the properties NumberPlate, Fuel. The NHibernate configuration will map this to for example a table in the database that is named Car and has these columns corresponding to the Car class properties.","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistant objects are the classes that in your program that has a representation in the database.</p>\n\n<p>Example if you have a Car class with the properties NumberPlate, Fuel. The NHibernate configuration will map this to for example a table in the database that is named Car and has these columns corresponding to the Car class properties.</p>\n"},{"comments":[{"owner":{"account_id":445124,"reputation":663,"user_id":917202,"accept_rate":44,"display_name":"Mohammad Asgari"},"score":0,"creation_date":1356379909,"post_id":14025241,"comment_id":19371061,"body_markdown":"yes, but what happens to Hibernate cash ? and is persistent object saved in DB when session is closed?@ken Chan","body":"yes, but what happens to Hibernate cash ? and is persistent object saved in DB when session is closed?@ken Chan"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":2,"creation_date":1356380935,"post_id":14025241,"comment_id":19371241,"body_markdown":"in hibernate term , the persistent objects  will be synchronized  with DB (i.e  saved/updated/deleted from DB depending on the state of the persistent objects) when the hibernate session is `flushed`","body":"in hibernate term , the persistent objects  will be synchronized  with DB (i.e  saved/updated/deleted from DB depending on the state of the persistent objects) when the hibernate session is <code>flushed</code>"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1356378953,"creation_date":1356378953,"answer_id":14025241,"question_id":14025136,"body_markdown":"According to the figure , you configure `hibernate.properties` or some `XML mapping` to  map a database table to a java object which is called `persistent object` . \r\n\r\nThen in your `application ` , you use the `persistent object` as a normal java object to \r\nmanipulate its state  . You can pass `persistent object` to hibernate .Hibernate will then  generate and issue the necessary SQL to DB to synchronize the state of the `persistent object`and its corresponding database record .Does it make sense ? \r\n\r\n\r\n","title":"What does persistence object means in Hibernate architecture?","body":"<p>According to the figure , you configure <code>hibernate.properties</code> or some <code>XML mapping</code> to  map a database table to a java object which is called <code>persistent object</code> . </p>\n\n<p>Then in your <code>application</code> , you use the <code>persistent object</code> as a normal java object to \nmanipulate its state  . You can pass <code>persistent object</code> to hibernate .Hibernate will then  generate and issue the necessary SQL to DB to synchronize the state of the <code>persistent object</code>and its corresponding database record .Does it make sense ? </p>\n"},{"tags":[],"owner":{"account_id":2154039,"reputation":2760,"user_id":1909669,"accept_rate":50,"display_name":"DarkHorse"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1453459094,"creation_date":1356499744,"answer_id":14036337,"question_id":14025136,"body_markdown":"I will make it more clearer. Persistent objects are instances of POJO classes that you create that represent rows in the table in the database.\r\nAccording to [hibernate-doc](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html) an instance of POJO class representing table in database goes through 3 states of which persistent is one of them.\r\n\r\nWhen a POJO instance is in session scope, it is said to be persistent i.e hibernate detects any changes made to that object and synchronizes it with database when we close or flush the session.\r\n\r\nAnd about hibernate.properties and XML Mapping @Ken Chan is right. Go through [hibernate-doc](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html) for more illustrations on objects in hibernate. \r\n\r\n","title":"What does persistence object means in Hibernate architecture?","body":"<p>I will make it more clearer. Persistent objects are instances of POJO classes that you create that represent rows in the table in the database.\nAccording to <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">hibernate-doc</a> an instance of POJO class representing table in database goes through 3 states of which persistent is one of them.</p>\n\n<p>When a POJO instance is in session scope, it is said to be persistent i.e hibernate detects any changes made to that object and synchronizes it with database when we close or flush the session.</p>\n\n<p>And about hibernate.properties and XML Mapping @Ken Chan is right. Go through <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">hibernate-doc</a> for more illustrations on objects in hibernate. </p>\n"},{"tags":[],"owner":{"account_id":4857794,"reputation":51,"user_id":3918323,"display_name":"Dragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1407416100,"creation_date":1407413674,"answer_id":25182277,"question_id":14025136,"body_markdown":"Persistent object is nothing but an instance of POJO class. And POJO class is nothing but a class that represents a table. And Hibernate always monitoring that persistent object. Whenever you manipulate that object or you made any changes in that object, Hibernate will do the same in that table (that one represent by the POJO class). that all handle by the hibernate. So in sort this is the one of the feature  of hibernate framework. ","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistent object is nothing but an instance of POJO class. And POJO class is nothing but a class that represents a table. And Hibernate always monitoring that persistent object. Whenever you manipulate that object or you made any changes in that object, Hibernate will do the same in that table (that one represent by the POJO class). that all handle by the hibernate. So in sort this is the one of the feature  of hibernate framework. </p>\n"},{"tags":[],"owner":{"account_id":3311159,"reputation":3521,"user_id":3839716,"display_name":"CodeShadow"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409896880,"creation_date":1409896880,"answer_id":25679493,"question_id":14025136,"body_markdown":"Persistent Objects are generally those objects that exist in memory even beyond the duration of the process that creates it.\r\nThese objects are then stored in the database. ","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistent Objects are generally those objects that exist in memory even beyond the duration of the process that creates it.\nThese objects are then stored in the database. </p>\n"},{"comments":[{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":1,"creation_date":1570528127,"post_id":39383063,"comment_id":102933050,"body_markdown":"this should have been the accepted answer. Great explanation, very easy.","body":"this should have been the accepted answer. Great explanation, very easy."}],"tags":[],"owner":{"account_id":9153966,"reputation":331,"user_id":6807481,"display_name":"Parteek"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1497858712,"creation_date":1473311882,"answer_id":39383063,"question_id":14025136,"body_markdown":"Firstly you need to understand the three states of the Hibernate object i.e Transient, Persistent, Detached. \r\n\r\n\r\nTransient state: An object is in transient state if it just has been instantiated using the new operator and there is no reference of it in the database i.e it does not represent any row in the database.\r\n \r\nPersistent state: An object is in the persistent state if it has some reference in the database i.e it represent some row in the database and identifier value is assigned to it. If any changes are made to the object then hibernate will detect those changes and effects will be there in the database that is why the name Persistent. These changes are made when session is closed. A persistent object is in the session scope.\r\n\r\nDetached state: An object that has been persistent and is no longer in the session scope. The hibernate will not detect any changes made to this object. It can be connected to the session again to make it persistent again.","title":"What does persistence object means in Hibernate architecture?","body":"<p>Firstly you need to understand the three states of the Hibernate object i.e Transient, Persistent, Detached. </p>\n\n<p>Transient state: An object is in transient state if it just has been instantiated using the new operator and there is no reference of it in the database i.e it does not represent any row in the database.</p>\n\n<p>Persistent state: An object is in the persistent state if it has some reference in the database i.e it represent some row in the database and identifier value is assigned to it. If any changes are made to the object then hibernate will detect those changes and effects will be there in the database that is why the name Persistent. These changes are made when session is closed. A persistent object is in the session scope.</p>\n\n<p>Detached state: An object that has been persistent and is no longer in the session scope. The hibernate will not detect any changes made to this object. It can be connected to the session again to make it persistent again.</p>\n"},{"tags":[],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665015194,"creation_date":1664988779,"answer_id":73963780,"question_id":14025136,"body_markdown":"Persistence object is Java object of a class which is parallel to the DB table.\r\nIf you have an `EMP` table in DB, with columns `name`, `age` and `salary`. Then you can make a Java class with data fields `name`, `age` and `salary` with their `getter` and `setter` for all 3 fields.\r\nObject of such classes which has a parallel DB table are called `Persistent Object`.\r\n\r\n\r\nIn the given diagram below: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nJava Application will have `POJO` class which will have `Persistent Objects`, then `Hibernate` framework will be persisting these objects in DB with the knowedge of DB connections and object &lt;-&gt; table mapping with `hibernate.properties` and `XML Mapping` respectively.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X815T.png","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistence object is Java object of a class which is parallel to the DB table.\nIf you have an <code>EMP</code> table in DB, with columns <code>name</code>, <code>age</code> and <code>salary</code>. Then you can make a Java class with data fields <code>name</code>, <code>age</code> and <code>salary</code> with their <code>getter</code> and <code>setter</code> for all 3 fields.\nObject of such classes which has a parallel DB table are called <code>Persistent Object</code>.</p>\n<p>In the given diagram below:</p>\n<p><a href=\"https://i.stack.imgur.com/X815T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X815T.png\" alt=\"enter image description here\" /></a></p>\n<p>Java Application will have <code>POJO</code> class which will have <code>Persistent Objects</code>, then <code>Hibernate</code> framework will be persisting these objects in DB with the knowedge of DB connections and object &lt;-&gt; table mapping with <code>hibernate.properties</code> and <code>XML Mapping</code> respectively.</p>\n"}],"owner":{"account_id":445124,"reputation":663,"user_id":917202,"accept_rate":44,"display_name":"Mohammad Asgari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64681,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":14036337,"answer_count":7,"score":40,"last_activity_date":1665015194,"creation_date":1356378131,"question_id":14025136,"body_markdown":"&gt; &lt;h2&gt;Hibernate is a persistence framework which is used to persist data\r\n&gt; from Java environment to database.&lt;/h2&gt;\r\n\r\nI am so confused.. if we persist an object to the database, then why does Hibernate Architecture depicts the persistent object in the middle of Application and Hibernate in the picture below? \r\n\r\n[![a busy cat][1]][1]  \r\n&lt;sub&gt;(source: [viralpatel.net](https://img.viralpatel.net/2011/11/hibernate-architecture-mini.png))&lt;/sub&gt;  \r\n\r\n\r\n [1]: https://i.stack.imgur.com/xC7bv.png","title":"What does persistence object means in Hibernate architecture?","body":"<blockquote>\n  <h2>Hibernate is a persistence framework which is used to persist data\n  from Java environment to database.</h2>\n</blockquote>\n\n<p>I am so confused.. if we persist an object to the database, then why does Hibernate Architecture depicts the persistent object in the middle of Application and Hibernate in the picture below? </p>\n\n<p><a href=\"https://i.stack.imgur.com/xC7bv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xC7bv.png\" alt=\"a busy cat\"></a><br>\n<sub>(source: <a href=\"https://img.viralpatel.net/2011/11/hibernate-architecture-mini.png\" rel=\"noreferrer\">viralpatel.net</a>)</sub>  </p>\n"},{"tags":["java","hibernate","jpa","javalin"],"comments":[{"owner":{"account_id":2558,"reputation":98516,"user_id":3571,"accept_rate":57,"display_name":"codeape"},"score":0,"creation_date":1646227131,"post_id":71323135,"comment_id":126070172,"body_markdown":"Re. the close vote: The question is NOT about &quot;please recommend which library/framework to use&quot;. The question is: What is the best way to combine library A and library B.","body":"Re. the close vote: The question is NOT about &quot;please recommend which library/framework to use&quot;. The question is: What is the best way to combine library A and library B."}],"answers":[{"comments":[{"owner":{"account_id":6297426,"reputation":402,"user_id":7916291,"display_name":"tipsy"},"score":2,"creation_date":1665521291,"post_id":73967063,"comment_id":130719419,"body_markdown":"Maybe this would make a good example/tutorial for javalin.io ? :)","body":"Maybe this would make a good example/tutorial for javalin.io ? :)"}],"tags":[],"owner":{"account_id":2558,"reputation":98516,"user_id":3571,"accept_rate":57,"display_name":"codeape"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665010283,"creation_date":1665010283,"answer_id":73967063,"question_id":71323135,"body_markdown":"I ended up implementing the following:\r\n\r\n* Create an `EntityManagerFactory` on startup. Create a `Javalin` instance on startup. Then call `enableRequestBoundEntityManager(javalinApp, entityManagerFactory)`.\r\n* Whenever a handler needs an `EntityManager`, use the extension property `Context.entityManager`.\r\n\r\nI.e.:\r\n```\r\nfun main() {\r\n    val app = Javalin.create()\r\n    val emf = createEntityManagerFactorySomehow()\r\n\r\n    enableRequestBoundEntityManager(app, emf)\r\n\r\n    app.get(&quot;/list/&quot;) { ctx -&gt; ctx.json(\r\n        ctx.entityManager.createQuery(&quot;select ... from ...&quot;).resultList\r\n    ) }\r\n\r\n    app.start()\r\n}\r\n\r\n/**\r\n * Adds an `entityManagerFactory` application attribute, and sets up clean up after requests have been handled\r\n */\r\nfun enableRequestBoundEntityManager(app: Javalin, entityManagerFactory: EntityManagerFactory) {\r\n    app.attribute(&quot;entityManagerFactory&quot;, entityManagerFactory)\r\n\r\n    app.after {\r\n        val entityManager: EntityManager? = it.attribute(&quot;entityManager&quot;)\r\n        if (entityManager != null) {\r\n            entityManager.close()\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a JPA entity manager scoped to the Javalin context\r\n */\r\nval Context.entityManager: EntityManager\r\n    get() {\r\n        if (this.attribute&lt;EntityManager&gt;(&quot;entityManager&quot;) == null) {\r\n            this.attribute(&quot;entityManager&quot;, this.appAttribute&lt;EntityManagerFactory&gt;(&quot;entityManagerFactory&quot;).createEntityManager())\r\n        }\r\n        return this.attribute(&quot;entityManager&quot;)!!\r\n    }\r\n```","title":"Using JPA in a Javalin application","body":"<p>I ended up implementing the following:</p>\n<ul>\n<li>Create an <code>EntityManagerFactory</code> on startup. Create a <code>Javalin</code> instance on startup. Then call <code>enableRequestBoundEntityManager(javalinApp, entityManagerFactory)</code>.</li>\n<li>Whenever a handler needs an <code>EntityManager</code>, use the extension property <code>Context.entityManager</code>.</li>\n</ul>\n<p>I.e.:</p>\n<pre><code>fun main() {\n    val app = Javalin.create()\n    val emf = createEntityManagerFactorySomehow()\n\n    enableRequestBoundEntityManager(app, emf)\n\n    app.get(&quot;/list/&quot;) { ctx -&gt; ctx.json(\n        ctx.entityManager.createQuery(&quot;select ... from ...&quot;).resultList\n    ) }\n\n    app.start()\n}\n\n/**\n * Adds an `entityManagerFactory` application attribute, and sets up clean up after requests have been handled\n */\nfun enableRequestBoundEntityManager(app: Javalin, entityManagerFactory: EntityManagerFactory) {\n    app.attribute(&quot;entityManagerFactory&quot;, entityManagerFactory)\n\n    app.after {\n        val entityManager: EntityManager? = it.attribute(&quot;entityManager&quot;)\n        if (entityManager != null) {\n            entityManager.close()\n        }\n    }\n}\n\n/**\n * Returns a JPA entity manager scoped to the Javalin context\n */\nval Context.entityManager: EntityManager\n    get() {\n        if (this.attribute&lt;EntityManager&gt;(&quot;entityManager&quot;) == null) {\n            this.attribute(&quot;entityManager&quot;, this.appAttribute&lt;EntityManagerFactory&gt;(&quot;entityManagerFactory&quot;).createEntityManager())\n        }\n        return this.attribute(&quot;entityManager&quot;)!!\n    }\n</code></pre>\n"}],"owner":{"account_id":2558,"reputation":98516,"user_id":3571,"accept_rate":57,"display_name":"codeape"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73967063,"answer_count":1,"score":2,"last_activity_date":1665010283,"creation_date":1646226002,"question_id":71323135,"body_markdown":"I am creating a web application in Java and would like to use the [Javalin](https://javalin.io/) framework.\r\n\r\nIssues/questions:\r\n- What would be the best way to use [JPA (via hibernate)](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#bootstrap-jpa) in a [Javalin](https://javalin.io/) web application?\r\n- I.e. what is the best way make a JPA `EntityManager` object available to  the Javalin request handlers?\r\n\r\n*Update: Some more context*\r\n\r\nI want to use JPA (via Hibernate) in my javalin application. The central concept in JPA is that you use an `EntityManager` instance to access the database. To create an `EntityManager`, there is a `EntityManagerFactory`.\r\n\r\nWhat I currently do is that I create a global `EntityManagerFactory` and the handlers that use the database call `factory.createEntityManager()`.\r\n\r\nWhile this works, I wonder if there are other recommended apporaches? Coming from a Flask/SQLAlchemy/Python background - on that stack the ORM session (EntityManager equivalent) is typically available as a request-bound object.\r\n","title":"Using JPA in a Javalin application","body":"<p>I am creating a web application in Java and would like to use the <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a> framework.</p>\n<p>Issues/questions:</p>\n<ul>\n<li>What would be the best way to use <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#bootstrap-jpa\" rel=\"nofollow noreferrer\">JPA (via hibernate)</a> in a <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a> web application?</li>\n<li>I.e. what is the best way make a JPA <code>EntityManager</code> object available to  the Javalin request handlers?</li>\n</ul>\n<p><em>Update: Some more context</em></p>\n<p>I want to use JPA (via Hibernate) in my javalin application. The central concept in JPA is that you use an <code>EntityManager</code> instance to access the database. To create an <code>EntityManager</code>, there is a <code>EntityManagerFactory</code>.</p>\n<p>What I currently do is that I create a global <code>EntityManagerFactory</code> and the handlers that use the database call <code>factory.createEntityManager()</code>.</p>\n<p>While this works, I wonder if there are other recommended apporaches? Coming from a Flask/SQLAlchemy/Python background - on that stack the ORM session (EntityManager equivalent) is typically available as a request-bound object.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665011004,"post_id":73967050,"comment_id":130602120,"body_markdown":"What do you think `String.getBytes()` does? Are the values in `byte_arr` the values you think the meter wants? Have you stepped through your code with the debugger?","body":"What do you think <code>String.getBytes()</code> does? Are the values in <code>byte_arr</code> the values you think the meter wants? Have you stepped through your code with the debugger?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665013565,"post_id":73967050,"comment_id":130602510,"body_markdown":"Neither what looks like what you intend to be hex values, nor what you intend to be binary values are actually that. What you need is ```(byte)0b0000_1111```  etc. for your values","body":"Neither what looks like what you intend to be hex values, nor what you intend to be binary values are actually that. What you need is <code>(byte)0b0000_1111</code>  etc. for your values"},{"owner":{"account_id":26539768,"reputation":11,"user_id":20170711,"display_name":"Aenbiarshy"},"score":0,"creation_date":1665162035,"post_id":73967050,"comment_id":130642984,"body_markdown":"Thank you guys reply. I found my problem and fix it!","body":"Thank you guys reply. I found my problem and fix it!"}],"owner":{"account_id":26539768,"reputation":11,"user_id":20170711,"display_name":"Aenbiarshy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665010180,"creation_date":1665010180,"question_id":73967050,"body_markdown":"I try to send a command to Smart Meter to receive total_deliver(kwh). I have USB &lt;-&gt; RS485 converter and using jSerialComm library. I use two different format (str.getByte(), and binary initialize into byte array) try to convert command into byte array, but none of them get a response from smart meter. Does anyone know what did I do wrong?  Thanks!!\r\n\r\n    public static void main(String[] args) throws UnsupportedEncodingException\r\n    \t{\r\n    \t\tSerialPort[] Device_ports = SerialPort.getCommPorts();\r\n    \t\tfor (int i = 0; i &lt; Device_ports.length; i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;[&quot;+i+&quot;]&quot;+Device_ports[i].getSystemPortName()+&quot;:&quot;+Device_ports[i].getDescriptivePortName()+&quot;-&quot;+Device_ports[i].getPortDescription());\r\n    \t\t}\r\n    \t\tSerialPort mySerialPort = Device_ports[1];\r\n    \t\t\r\n    \t\tString cmd = &quot;0F04049E0002103B&quot;; \r\n    \t\tbyte[] arr = {(byte) 00001111, 00000100, 00000100, (byte) 10011110, 00000000, 00000010, (byte) 00010000, (byte) 00111011};\r\n    \t\tbyte[] byte_arr = cmd.getBytes();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 3; i++ )\r\n    \t\t{\r\n    \t\t\t//Send(OpenPort(mySerialPort), arr);\r\n    \t\t\tSend(OpenPort(mySerialPort), byte_arr);\r\n    \t\t\tRecv(mySerialPort);\r\n    \t\t}\r\n    \t\tmySerialPort.closePort();\r\n    \t}\r\n\r\nSend\r\n\r\n    public static void Send(SerialPort mySerialPort, byte[] arr) \r\n    \t{\r\n    \t\tif (mySerialPort.isOpen())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Send &quot;);\r\n    \t\t\tfor (int i = 0; i &lt; arr.length; i++)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(arr[i]+ &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tmySerialPort.writeBytes(arr, arr.length);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Send fail&quot;);\r\n    \t\t}\r\n    \t}\r\nReceive\r\n\r\n    public static byte[] Recv(SerialPort mySerialPort)\r\n    \t{\r\n    \t\tbyte[] readbuffer = new byte[25];\r\n    \t\tint counter = 0;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twhile (counter &lt;= 5)\r\n    \t\t\t{\r\n    \t\t\t\twhile (mySerialPort.bytesAvailable() == 0 &amp;&amp; counter &lt;= 5)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tThread.sleep(20000);\r\n    \t\t\t\t\tSystem.out.println(&quot;Receive: none&quot;);\r\n    \t\t\t\t\tcounter++;\r\n    \t\t\t\t}\r\n    \t\t\t\tmySerialPort.readBytes(readbuffer, readbuffer.length);\r\n    \t\t\t\tSystem.out.println(&quot;Receive: &quot;);\r\n    \t\t\t\tfor (int i = 0; i &lt; readbuffer.length; i++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(readbuffer[i]+&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn readbuffer;\r\n    \t}","title":"Send Command via Modbus RS485","body":"<p>I try to send a command to Smart Meter to receive total_deliver(kwh). I have USB &lt;-&gt; RS485 converter and using jSerialComm library. I use two different format (str.getByte(), and binary initialize into byte array) try to convert command into byte array, but none of them get a response from smart meter. Does anyone know what did I do wrong?  Thanks!!</p>\n<pre><code>public static void main(String[] args) throws UnsupportedEncodingException\n    {\n        SerialPort[] Device_ports = SerialPort.getCommPorts();\n        for (int i = 0; i &lt; Device_ports.length; i++)\n        {\n            System.out.println(&quot;[&quot;+i+&quot;]&quot;+Device_ports[i].getSystemPortName()+&quot;:&quot;+Device_ports[i].getDescriptivePortName()+&quot;-&quot;+Device_ports[i].getPortDescription());\n        }\n        SerialPort mySerialPort = Device_ports[1];\n        \n        String cmd = &quot;0F04049E0002103B&quot;; \n        byte[] arr = {(byte) 00001111, 00000100, 00000100, (byte) 10011110, 00000000, 00000010, (byte) 00010000, (byte) 00111011};\n        byte[] byte_arr = cmd.getBytes();\n\n        for (int i = 0; i &lt; 3; i++ )\n        {\n            //Send(OpenPort(mySerialPort), arr);\n            Send(OpenPort(mySerialPort), byte_arr);\n            Recv(mySerialPort);\n        }\n        mySerialPort.closePort();\n    }\n</code></pre>\n<p>Send</p>\n<pre><code>public static void Send(SerialPort mySerialPort, byte[] arr) \n    {\n        if (mySerialPort.isOpen())\n        {\n            System.out.println(&quot;Send &quot;);\n            for (int i = 0; i &lt; arr.length; i++)\n            {\n                System.out.print(arr[i]+ &quot; &quot;);\n            }\n            mySerialPort.writeBytes(arr, arr.length);\n        }\n        else\n        {\n            System.out.println(&quot;Send fail&quot;);\n        }\n    }\n</code></pre>\n<p>Receive</p>\n<pre><code>public static byte[] Recv(SerialPort mySerialPort)\n    {\n        byte[] readbuffer = new byte[25];\n        int counter = 0;\n        try\n        {\n            while (counter &lt;= 5)\n            {\n                while (mySerialPort.bytesAvailable() == 0 &amp;&amp; counter &lt;= 5)\n                {\n                    Thread.sleep(20000);\n                    System.out.println(&quot;Receive: none&quot;);\n                    counter++;\n                }\n                mySerialPort.readBytes(readbuffer, readbuffer.length);\n                System.out.println(&quot;Receive: &quot;);\n                for (int i = 0; i &lt; readbuffer.length; i++)\n                {\n                    System.out.print(readbuffer[i]+&quot; &quot;);\n                }\n            }\n        } catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n        return readbuffer;\n    }\n</code></pre>\n"},{"tags":["java","floating-point"],"comments":[{"owner":{"account_id":12191330,"reputation":459,"user_id":8898704,"display_name":"Asad Ganiev"},"score":0,"creation_date":1630859837,"post_id":69065269,"comment_id":122064677,"body_markdown":"Why are you wrapping the result of `Float.parseFloat(&quot;76028223&quot;)` with `Float.valueOf`?","body":"Why are you wrapping the result of <code>Float.parseFloat(&quot;76028223&quot;)</code> with <code>Float.valueOf</code>?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1630859951,"post_id":69065269,"comment_id":122064707,"body_markdown":"To convert it to int. Without that the result is:\n7.6028224E7\n7.6028223E7","body":"To convert it to int. Without that the result is: 7.6028224E7 7.6028223E7"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1630859978,"post_id":69065269,"comment_id":122064715,"body_markdown":"Of course, an (int) cast would also work. And it has the same result","body":"Of course, an (int) cast would also work. And it has the same result"},{"owner":{"account_id":123931,"reputation":9636,"user_id":318716,"display_name":"Joseph Quinsey"},"score":0,"creation_date":1630955300,"post_id":69065269,"comment_id":122089710,"body_markdown":"Does this answer your question? [How many significant digits do floats and doubles have in java?](https://stackoverflow.com/questions/13542944/how-many-significant-digits-do-floats-and-doubles-have-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13542944/how-many-significant-digits-do-floats-and-doubles-have-in-java\">How many significant digits do floats and doubles have in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1665010109,"creation_date":1630860254,"answer_id":69065375,"question_id":69065269,"body_markdown":"A float is stored using an exponent-mantissa representation (similar to scientific notation taught in grade school). The number of bits available to store the mantissa and exponent depends on the specific type (float vs double in Java, as well as more unusual types listed [here](https://en.wikipedia.org/wiki/IEEE_754#Basic_and_interchange_formats) and elsewhere).\r\n\r\nOne way to represent the numerical value 76028223 (not referring to any specific floating-point type yet) is 1.00100010000001100100111111&lt;sub&gt;2&lt;/sub&gt; * 2^26.\r\n\r\nThe mantissa of a `float` represents 24 bits (23 stored in the float, one implicit&lt;sup&gt;1&lt;/sup&gt;), meaning that it cannot represent all significant bits of 1.00100010000001100100111111. That mantissa would require 27 bits to represent exactly.\r\n\r\nRather, the best we can do with our float is use the closest 24-bit (1.23 bits) mantissa, which is 1.00100010000001100101000 (obtained by rounding the previous mantissa). This mantissa, combined with the correct exponent, represents 1.00100010000001100101000&lt;sub&gt;2&lt;/sub&gt; * 2^26 = 76028224.\r\n\r\nThis kind of truncation leads to a number of unexpected surprises, for example `76028223f + 1 == 76028223f` is true (the closest representation to that float literal is 76028224, and the closest float representation of 76028224+1 is also 76028224).\r\n\r\nA `double` has more precision and hence both a larger exponent range + higher precision mantissa (53 bits of which 52 are explicitly stored), so it can represent your selected input precisely.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; The leading bit before the &quot;decimal point&quot; is always 1 for a non-[subnormal](https://en.wikipedia.org/wiki/Denormal_number) float, so it does not need to be stored.","title":"Float parsing with strange result compared to Double","body":"<p>A float is stored using an exponent-mantissa representation (similar to scientific notation taught in grade school). The number of bits available to store the mantissa and exponent depends on the specific type (float vs double in Java, as well as more unusual types listed <a href=\"https://en.wikipedia.org/wiki/IEEE_754#Basic_and_interchange_formats\" rel=\"nofollow noreferrer\">here</a> and elsewhere).</p>\n<p>One way to represent the numerical value 76028223 (not referring to any specific floating-point type yet) is 1.00100010000001100100111111<sub>2</sub> * 2^26.</p>\n<p>The mantissa of a <code>float</code> represents 24 bits (23 stored in the float, one implicit<sup>1</sup>), meaning that it cannot represent all significant bits of 1.00100010000001100100111111. That mantissa would require 27 bits to represent exactly.</p>\n<p>Rather, the best we can do with our float is use the closest 24-bit (1.23 bits) mantissa, which is 1.00100010000001100101000 (obtained by rounding the previous mantissa). This mantissa, combined with the correct exponent, represents 1.00100010000001100101000<sub>2</sub> * 2^26 = 76028224.</p>\n<p>This kind of truncation leads to a number of unexpected surprises, for example <code>76028223f + 1 == 76028223f</code> is true (the closest representation to that float literal is 76028224, and the closest float representation of 76028224+1 is also 76028224).</p>\n<p>A <code>double</code> has more precision and hence both a larger exponent range + higher precision mantissa (53 bits of which 52 are explicitly stored), so it can represent your selected input precisely.</p>\n<p><sup>1</sup> The leading bit before the &quot;decimal point&quot; is always 1 for a non-<a href=\"https://en.wikipedia.org/wiki/Denormal_number\" rel=\"nofollow noreferrer\">subnormal</a> float, so it does not need to be stored.</p>\n"}],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1665010109,"creation_date":1630859547,"question_id":69065269,"body_markdown":"I just stumbled upon the following issue. And while I know that floats and doubles have their quirks, this sounds bizarre. Can someone explain (Java 11)?\r\n\r\n\r\n    System.out.println(Float.valueOf(Float.parseFloat(&quot;76028223&quot;)).intValue());\r\n    System.out.println(Double.valueOf(Double.parseDouble(&quot;76028223&quot;)).intValue());\r\n\r\nResult:\r\n\r\n    76028224\r\n    76028223\r\n\r\n","title":"Float parsing with strange result compared to Double","body":"<p>I just stumbled upon the following issue. And while I know that floats and doubles have their quirks, this sounds bizarre. Can someone explain (Java 11)?</p>\n<pre><code>System.out.println(Float.valueOf(Float.parseFloat(&quot;76028223&quot;)).intValue());\nSystem.out.println(Double.valueOf(Double.parseDouble(&quot;76028223&quot;)).intValue());\n</code></pre>\n<p>Result:</p>\n<pre><code>76028224\n76028223\n</code></pre>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664598982,"post_id":73914612,"comment_id":130513612,"body_markdown":"Can you run file `RUN.bat` from a command prompt window (with the same user that you run the Java code) ? Also, the &quot;command&quot; string that you pass to method `exec` only needs to be the path to `RUN.bat`, i.e. `batchFile.getAbsolutePath()`. The operating system knows how to execute that file.","body":"Can you run file <code>RUN.bat</code> from a command prompt window (with the same user that you run the Java code) ? Also, the &quot;command&quot; string that you pass to method <code>exec</code> only needs to be the path to <code>RUN.bat</code>, i.e. <code>batchFile.getAbsolutePath()</code>. The operating system knows how to execute that file."},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664612669,"post_id":73914612,"comment_id":130515141,"body_markdown":"@Abra Running it from a command prompt works without problems and the server starts up. I also swapped the command string as you said, but that simply timed me out (and performed no actions) so had to change back to the &quot;longer&quot; command string","body":"@Abra Running it from a command prompt works without problems and the server starts up. I also swapped the command string as you said, but that simply timed me out (and performed no actions) so had to change back to the &quot;longer&quot; command string"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664615087,"post_id":73914612,"comment_id":130515486,"body_markdown":"_the server starts up_ How do you know that the server starts up? _simply timed me out_ What happens that tells you that a timeout has occurred? Perhaps you can post a [mcve] because if I can&#39;t reproduce your problem, it&#39;s difficult to find the cause.","body":"<i>the server starts up</i> How do you know that the server starts up? <i>simply timed me out</i> What happens that tells you that a timeout has occurred? Perhaps you can post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> because if I can&#39;t reproduce your problem, it&#39;s difficult to find the cause."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664617801,"post_id":73914612,"comment_id":130515912,"body_markdown":"You&#39;re not processing stderr, which is quite wrong. And use ```ProcessBuilder``` which will make doing that (and more) easier","body":"You&#39;re not processing stderr, which is quite wrong. And use <code>ProcessBuilder</code> which will make doing that (and more) easier"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664626250,"post_id":73914612,"comment_id":130517375,"body_markdown":"@Abra As I&#39;m using this in a game environment, I know that it starts up because I can join the game server (in this case the Minecraft server) and play it. I can also see in the console how the game started up.\n\nThe game server shut down and said &quot;Timeout&quot;, that&#39;s how I know I timed out. But I fixed that part specifically, that was just me being dum.\n\nI switched it to a shell script and added some text printing, and the texts prints fine but as soon as it gets to the jar startup, it immediately goes back to **Error: Unable to access jarfile**","body":"@Abra As I&#39;m using this in a game environment, I know that it starts up because I can join the game server (in this case the Minecraft server) and play it. I can also see in the console how the game started up.  The game server shut down and said &quot;Timeout&quot;, that&#39;s how I know I timed out. But I fixed that part specifically, that was just me being dum.  I switched it to a shell script and added some text printing, and the texts prints fine but as soon as it gets to the jar startup, it immediately goes back to <b>Error: Unable to access jarfile</b>"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664626605,"post_id":73914612,"comment_id":130517449,"body_markdown":"@g00se I tried using `ProcessBuilder` (and did before as well), but I then get a mix of new fancy errors with the latest one being `CreatProcess error=2 (cannot find file)`, even though the path (and the entire command) is the exact same as in the `#getRuntime().exec()` code","body":"@g00se I tried using <code>ProcessBuilder</code> (and did before as well), but I then get a mix of new fancy errors with the latest one being <code>CreatProcess error=2 (cannot find file)</code>, even though the path (and the entire command) is the exact same as in the <code>#getRuntime().exec()</code> code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664627948,"post_id":73914612,"comment_id":130517678,"body_markdown":"There&#39;s not really enough information. Also it doesn&#39;t inspire confidence that the file is called &#39;start.sh&#39; (&#39;.sh&#39; normally a *Unix* shell script extension)","body":"There&#39;s not really enough information. Also it doesn&#39;t inspire confidence that the file is called &#39;start.sh&#39; (&#39;.sh&#39; normally a <i>Unix</i> shell script extension)"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664628658,"post_id":73914612,"comment_id":130517782,"body_markdown":"@g00se What do you want me to call the file instead then?","body":"@g00se What do you want me to call the file instead then?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664628862,"post_id":73914612,"comment_id":130517813,"body_markdown":"It doesn&#39;t matter what it&#39;s called ;) What does matter is if you&#39;re trying to run a bash shell script on Windows. I don&#39;t know if you are or not, because you haven&#39;t shown the content of that file. What&#39;s more, you haven&#39;t shown the value of ```startScript```","body":"It doesn&#39;t matter what it&#39;s called ;) What does matter is if you&#39;re trying to run a bash shell script on Windows. I don&#39;t know if you are or not, because you haven&#39;t shown the content of that file. What&#39;s more, you haven&#39;t shown the value of <code>startScript</code>"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664632237,"post_id":73914612,"comment_id":130518387,"body_markdown":"@g00se Ah I see, my bad! I&#39;ve updated my post to add the contents of the shell script. The value of startScript returns `..\\prison-spawn-2\\start.sh` if that is what you mean?","body":"@g00se Ah I see, my bad! I&#39;ve updated my post to add the contents of the shell script. The value of startScript returns <code>..\\prison-spawn-2\\start.sh</code> if that is what you mean?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664632743,"post_id":73914612,"comment_id":130518471,"body_markdown":"Why are you mixing `/bin/sh` (shell script) and `cmd.exe` (ProcessBuilder)? I doubt any system will have both installed","body":"Why are you mixing <code>&#47;bin&#47;sh</code> (shell script) and <code>cmd.exe</code> (ProcessBuilder)? I doubt any system will have both installed"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664633017,"post_id":73914612,"comment_id":130518515,"body_markdown":"@knittl Well mostly because working with shell scripts (nor how to run them from code) before. What solution do you recommend I go for instead?","body":"@knittl Well mostly because working with shell scripts (nor how to run them from code) before. What solution do you recommend I go for instead?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664633131,"post_id":73914612,"comment_id":130518546,"body_markdown":"@Liam I don&#39;t understand. Are you running this on a Linux or Windows system? Linux has `/bin/sh`, Windows has `cmd.exe`. But Linux does not have `cmd.exe` and Windows does not have `/bin/sh`. So starting `cmd.exe` from a shell script is going to fail. Running a shell script on Windows will fail too. Pick one system and stick to it.","body":"@Liam I don&#39;t understand. Are you running this on a Linux or Windows system? Linux has <code>&#47;bin&#47;sh</code>, Windows has <code>cmd.exe</code>. But Linux does not have <code>cmd.exe</code> and Windows does not have <code>&#47;bin&#47;sh</code>. So starting <code>cmd.exe</code> from a shell script is going to fail. Running a shell script on Windows will fail too. Pick one system and stick to it."},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664633993,"post_id":73914612,"comment_id":130518759,"body_markdown":"@knittl Currently running this on Windows. It will run on Linux later in production, but it&#39;s Windows for now. As said, I&#39;ve not worked with shell scripts before and I&#39;m currently trying to learn, sorry for the inconvenience.\n\nWhat do you mean by &quot;*Running a shell script on Windows will fail too*&quot;? Because I can certainly run a shell script on my computer to start up the game server (the server.jar application). What I can&#39;t, is having another java application run the script through code","body":"@knittl Currently running this on Windows. It will run on Linux later in production, but it&#39;s Windows for now. As said, I&#39;ve not worked with shell scripts before and I&#39;m currently trying to learn, sorry for the inconvenience.  What do you mean by &quot;<i>Running a shell script on Windows will fail too</i>&quot;? Because I can certainly run a shell script on my computer to start up the game server (the server.jar application). What I can&#39;t, is having another java application run the script through code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664634762,"post_id":73914612,"comment_id":130518962,"body_markdown":"OK. You&#39;ve given me the value. Now we need the content of the file. If by some fluke the contents of that file are platform-neutral, it *could* work. But please don&#39;t treat .sh and .bat files as interchangeable. They are for different operating systems","body":"OK. You&#39;ve given me the value. Now we need the content of the file. If by some fluke the contents of that file are platform-neutral, it <i>could</i> work. But please don&#39;t treat .sh and .bat files as interchangeable. They are for different operating systems"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664635162,"post_id":73914612,"comment_id":130519066,"body_markdown":"@g00se When you say content of the file, you mean content of the shell script? If so I&#39;ve added that to my post.\n\nAlright I see what you mean with not treating the files as interchangeable. Actually didn&#39;t know that until now, does that mean you think I should go back to using batch instead while on the Windows machine?","body":"@g00se When you say content of the file, you mean content of the shell script? If so I&#39;ve added that to my post.  Alright I see what you mean with not treating the files as interchangeable. Actually didn&#39;t know that until now, does that mean you think I should go back to using batch instead while on the Windows machine?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664635387,"post_id":73914612,"comment_id":130519102,"body_markdown":"Ah right, I missed the contents. If you get rid of the ```sleep```  calls and the first line, you can, (and should) rename that as &#39;start.bat&#39;","body":"Ah right, I missed the contents. If you get rid of the <code>sleep</code>  calls and the first line, you can, (and should) rename that as &#39;start.bat&#39;"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664635897,"post_id":73914612,"comment_id":130519227,"body_markdown":"@g00se Alright I did the changes and ran the program. The application runs the batch file, the batch file sends &quot;Starting server&quot;, but then again gives me the &quot;`Unable to access jarfile`&quot; error.\n\nThis is what I first tried before swapping my batch script to a shell script (as I thought trying with something would give a new outcome). But I&#39;m pretty sure that I&#39;m just back where I started now?","body":"@g00se Alright I did the changes and ran the program. The application runs the batch file, the batch file sends &quot;Starting server&quot;, but then again gives me the &quot;<code>Unable to access jarfile</code>&quot; error.  This is what I first tried before swapping my batch script to a shell script (as I thought trying with something would give a new outcome). But I&#39;m pretty sure that I&#39;m just back where I started now?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664640214,"post_id":73914612,"comment_id":130520174,"body_markdown":"server.jar needs to be in the *current* directory. Is that the case?","body":"server.jar needs to be in the <i>current</i> directory. Is that the case?"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664645825,"post_id":73914612,"comment_id":130521358,"body_markdown":"@g00se The server.jar is in the same directory as the batch script, but not the same directory as the java application running the batch script","body":"@g00se The server.jar is in the same directory as the batch script, but not the same directory as the java application running the batch script"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664650452,"post_id":73914612,"comment_id":130522260,"body_markdown":"OK, so you need to do some research into what &#39;current directory&#39; means, but for the moment, remove doubt by replacing all your relative paths with absolute ones (those would be from the drive letter to the file name inclusive)","body":"OK, so you need to do some research into what &#39;current directory&#39; means, but for the moment, remove doubt by replacing all your relative paths with absolute ones (those would be from the drive letter to the file name inclusive)"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664651203,"post_id":73914612,"comment_id":130522400,"body_markdown":"@g00se I swapped out the path to an absolute one (for the record, still issue occurs, but pretty sure the point of that specifically wasn&#39;t to fix the issue overall)\n\nI tried looking into &#39;current directory&#39;, and it explains it as &quot;current working directory or folder&quot; with some examples. And from that, I feel like my answer would still be that the batch file is in the same directory as server.jar, but that the application executing the batch is *not* in the same directory as the jarfile. But if I still got current directory wrong, then I&#39;m not sure what to answer on that, I&#39;m sorry.","body":"@g00se I swapped out the path to an absolute one (for the record, still issue occurs, but pretty sure the point of that specifically wasn&#39;t to fix the issue overall)  I tried looking into &#39;current directory&#39;, and it explains it as &quot;current working directory or folder&quot; with some examples. And from that, I feel like my answer would still be that the batch file is in the same directory as server.jar, but that the application executing the batch is <i>not</i> in the same directory as the jarfile. But if I still got current directory wrong, then I&#39;m not sure what to answer on that, I&#39;m sorry."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664652071,"post_id":73914612,"comment_id":130522554,"body_markdown":"*I swapped out the path* &quot;The&quot; path? I mean *all* paths","body":"<i>I swapped out the path</i> &quot;The&quot; path? I mean <i>all</i> paths"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664652304,"post_id":73914612,"comment_id":130522595,"body_markdown":"@g00se I only have the path to the start script, or am I completely wrong? In the snippet of code I run for each test, the only path I can think of is that.\n\nI changed `getAbsolutePath()` to `getCanonicalPath()`, which when I print it out gives me the absolute path","body":"@g00se I only have the path to the start script, or am I completely wrong? In the snippet of code I run for each test, the only path I can think of is that.  I changed <code>getAbsolutePath()</code> to <code>getCanonicalPath()</code>, which when I print it out gives me the absolute path"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664653159,"post_id":73914612,"comment_id":130522716,"body_markdown":"Ok please post new script in your q and       value of startScript","body":"Ok please post new script in your q and       value of startScript"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664654316,"post_id":73914612,"comment_id":130522874,"body_markdown":"@g00se I updated the post with the content of the batch file. The value of `startScript` is `..\\prison-spawn-2\\start.bat` and the value of the absolute path used where the command text is written is `C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\prison-spawn-2\\start.bat`","body":"@g00se I updated the post with the content of the batch file. The value of <code>startScript</code> is <code>..\\prison-spawn-2\\start.bat</code> and the value of the absolute path used where the command text is written is <code>C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\priso&zwnj;&#8203;n-spawn-2\\start.bat</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664654581,"post_id":73914612,"comment_id":130522918,"body_markdown":"Ok you need to reread my comments more carefully, in particular about *drive letters*. Nearly all your paths are *still* relative","body":"Ok you need to reread my comments more carefully, in particular about <i>drive letters</i>. Nearly all your paths are <i>still</i> relative"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664654952,"post_id":73914612,"comment_id":130522974,"body_markdown":"@g00se I now also swapped out the startScript file to be the absolute path, so when I print those 2 values shown above, they now both show the same (being the longer message of the 2 I showed in the message above)\n\nIf that is not what you had in mind, then I must admit to not knowing what you mean by swapping all files to absolute","body":"@g00se I now also swapped out the startScript file to be the absolute path, so when I print those 2 values shown above, they now both show the same (being the longer message of the 2 I showed in the message above)  If that is not what you had in mind, then I must admit to not knowing what you mean by swapping all files to absolute"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664655349,"post_id":73914612,"comment_id":130523046,"body_markdown":"No visible difference to the path inside the batch file that was there originally...PLUS the code shows you assigning a *relative* path to &#39;startScript&#39; even now (!)","body":"No visible difference to the path inside the batch file that was there originally...PLUS the code shows you assigning a <i>relative</i> path to &#39;startScript&#39; even now (!)"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664655603,"post_id":73914612,"comment_id":130523084,"body_markdown":"@g00se If you look at the code in the post now, is that what you mean?","body":"@g00se If you look at the code in the post now, is that what you mean?"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1664655687,"post_id":73914612,"comment_id":130523098,"body_markdown":"What&#39;s the point of having a shell script at all here? Why not have your Java code directly start the other jar? You&#39;re asking us to help troubleshoot moving pieces that don&#39;t need to exist in the first place.","body":"What&#39;s the point of having a shell script at all here? Why not have your Java code directly start the other jar? You&#39;re asking us to help troubleshoot moving pieces that don&#39;t need to exist in the first place."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1664655862,"post_id":73914612,"comment_id":130523133,"body_markdown":"...yes, you say you&#39;ve shown us an error, but if you ask us how to fix that error then we&#39;ll be better able to get somewhere useful. It&#39;s better to fix the simple thing than to ask a question about how to do a different, more complex, more failure-prone, less-portable thing.","body":"...yes, you say you&#39;ve shown us an error, but if you ask us how to fix that error then we&#39;ll be better able to get somewhere useful. It&#39;s better to fix the simple thing than to ask a question about how to do a different, more complex, more failure-prone, less-portable thing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664655882,"post_id":73914612,"comment_id":130523135,"body_markdown":"No change in the script. @CharlesDuffy I&#39;m kind of hoping there are further things not shown ;)","body":"No change in the script. @CharlesDuffy I&#39;m kind of hoping there are further things not shown ;)"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1664656013,"post_id":73914612,"comment_id":130523153,"body_markdown":"@g00se, I&#39;m not sure that inference is founded, insofar as the OP says they _tried_ directly invoking the jar with ProcessBuilder and failed (and so fell back to trying to start a script -- &quot;fixing&quot; a broken system by replacing it with a more-complicated, still-broken system).","body":"@g00se, I&#39;m not sure that inference is founded, insofar as the OP says they <i>tried</i> directly invoking the jar with ProcessBuilder and failed (and so fell back to trying to start a script -- &quot;fixing&quot; a broken system by replacing it with a more-complicated, still-broken system)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664656167,"post_id":73914612,"comment_id":130523173,"body_markdown":"I&#39;m also hoping those path elements in curly braces are not real","body":"I&#39;m also hoping those path elements in curly braces are not real"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664656520,"post_id":73914612,"comment_id":130523239,"body_markdown":"@g00se To ease your mind, no those paths in curly braces are not real, hopefully you can sleep a bit better now. I really am trying my best here, but apparently my best in *this case* didn&#39;t make the cut.\nI do appreciate the help you&#39;ve given so far, but I&#39;ll try to continue on my own using the resources already available to me if that&#39;s better","body":"@g00se To ease your mind, no those paths in curly braces are not real, hopefully you can sleep a bit better now. I really am trying my best here, but apparently my best in <i>this case</i> didn&#39;t make the cut. I do appreciate the help you&#39;ve given so far, but I&#39;ll try to continue on my own using the resources already available to me if that&#39;s better"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664657768,"post_id":73914612,"comment_id":130523458,"body_markdown":"Before you go, put an absolute path inside your batch file and you might get a different result","body":"Before you go, put an absolute path inside your batch file and you might get a different result"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664658181,"post_id":73914612,"comment_id":130523527,"body_markdown":"@g00se Alright will do, thank you","body":"@g00se Alright will do, thank you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664658676,"post_id":73914612,"comment_id":130523599,"body_markdown":"Just to remove all doubt, that means it will start with a drive letter","body":"Just to remove all doubt, that means it will start with a drive letter"}],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":39,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665009730,"creation_date":1664578153,"question_id":73914612,"body_markdown":"I have a java application and from that application I want to be able to run new applications. While the concept is the same, I&#39;m using this in a Minecraft environment where I want to have one application be able to run other Minecraft servers whenever I specify so in the first application.\r\n\r\nI&#39;m trying to run the startup shell script but whenever I do I simply get the error **Error: Unable to access jarfile server.jar**.\r\n\r\nNote that I am perfectly able to run the script on my computer by &quot;*double clicking it*&quot;, the shell script works, Java application starts up, and I can join the game server and play without any problems.\r\n\r\nI&#39;ve also tried running the jar application directly from the code, but then I get either **CreatProcess error=5** or **CreatProcess error=193** (using ProcessBuilder), even though I&#39;ve set all the computer to have all permissions regarding reading and writing the file.\r\n\r\nThis is my code for running the shell script:\r\n```java\r\n// Starts the server by running the script\r\nFile startScript = new File(&quot;C:\\\\Users\\\\{MYUSER}\\\\Desktop\\\\{PROJECTNAME_FOLDER}\\\\Network\\\\prison-spawn-2\\\\start.bat&quot;);\r\n\r\n// Run the process\r\ntry {\r\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c start &quot; + startScript.getCanonicalPath());\r\n\r\n    int exitVal = process.waitFor();\r\n    if (exitVal == 0) {\r\n        System.out.println(&quot;Success!&quot;);\r\n    }\r\n} catch (Exception exception) {\r\n    exception.printStackTrace();\r\n}\r\n```\r\n**Batch Script Content**\r\n```\r\necho &quot;Starting server...&quot;\r\n\r\njava -jar C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\prison-spawn-2\\server.jar nogui\r\n```","title":"Running a shell script which runs a Java program","body":"<p>I have a java application and from that application I want to be able to run new applications. While the concept is the same, I'm using this in a Minecraft environment where I want to have one application be able to run other Minecraft servers whenever I specify so in the first application.</p>\n<p>I'm trying to run the startup shell script but whenever I do I simply get the error <strong>Error: Unable to access jarfile server.jar</strong>.</p>\n<p>Note that I am perfectly able to run the script on my computer by &quot;<em>double clicking it</em>&quot;, the shell script works, Java application starts up, and I can join the game server and play without any problems.</p>\n<p>I've also tried running the jar application directly from the code, but then I get either <strong>CreatProcess error=5</strong> or <strong>CreatProcess error=193</strong> (using ProcessBuilder), even though I've set all the computer to have all permissions regarding reading and writing the file.</p>\n<p>This is my code for running the shell script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Starts the server by running the script\nFile startScript = new File(&quot;C:\\\\Users\\\\{MYUSER}\\\\Desktop\\\\{PROJECTNAME_FOLDER}\\\\Network\\\\prison-spawn-2\\\\start.bat&quot;);\n\n// Run the process\ntry {\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c start &quot; + startScript.getCanonicalPath());\n\n    int exitVal = process.waitFor();\n    if (exitVal == 0) {\n        System.out.println(&quot;Success!&quot;);\n    }\n} catch (Exception exception) {\n    exception.printStackTrace();\n}\n</code></pre>\n<p><strong>Batch Script Content</strong></p>\n<pre><code>echo &quot;Starting server...&quot;\n\njava -jar C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\prison-spawn-2\\server.jar nogui\n</code></pre>\n"},{"tags":["java","netty","minecraft","minecraft-fabric"],"owner":{"account_id":26532280,"reputation":11,"user_id":20164288,"display_name":"asablock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665009485,"creation_date":1664951690,"question_id":73956619,"body_markdown":"I am trying to create a temperature system in my mod, and I synchronize temperature data (2 floats) with Fabric Networking API. Packets are created with these codes.\r\n```\r\n// Temperature.java\r\nprivate float ambient;\r\nprivate float biome;\r\n\r\npublic PacketByteBuf createBuffer() {\r\n    PacketByteBuf buf = PacketByteBufs.create();\r\n    buf.writeFloat(ambient);\r\n    buf.writeFloat(biome);\r\n    return buf;\r\n}\r\n\r\npublic void loadBuffer(PacketByteBuf buf) {\r\n    this.ambient = buf.readFloat();\r\n    this.biome = buf.readFloat();\r\n}\r\n\r\npublic void copyFieldsTo(Temperature that) {\r\n    Objects.requireNonNull(that, &quot;that&quot;);\r\n    that.ambient = this.ambient;\r\n    that.biome = this.biome;\r\n}\r\n```\r\nNetty always throws &quot;io.netty.util.IllegalReferenceCountException: refCnt: 0&quot; in loadBuffer method. Data are not synchronized, but packets are received.\r\nThese are codes to send packets and receive packets.\r\n```\r\n// In a mixin to ServerPlayerEntity\r\n@Unique\r\nprivate Temperature rmc$temperature;\r\n@Unique\r\nprivate Temperature rmc$syncedTemperature;\r\n@Inject(method = &quot;playerTick&quot;, at = @At(value = &quot;INVOKE&quot;,\r\n            target = &quot;Lnet/minecraft/server/network/ServerPlayerEntity;getHealth()F&quot;,\r\n            shift = At.Shift.BEFORE, ordinal = 0))\r\nprivate void syncRMCData(CallbackInfo ci) {\r\n    TemperatureUtil.update(rmc$temperature, self);//Update temperature data\r\n    if (!rmc$temperature.equals(rmc$syncedTemperature)) {\r\n         ServerPlayNetworking.send(self, TemperatureUtil.PACKET_ID, rmc$temperature.createBuffer());\r\n         rmc$temperature.copyFieldsTo(rmc$syncedTemperature);\r\n    }\r\n}\r\n// In client mod initializer\r\nClientPlayNetworking.registerGlobalReceiver(TemperatureUtil.PACKET_ID,\r\n        (client, handler, buf, responseSender) -&gt; client.execute(\r\n                () -&gt; ((TemperatureAccess) client.player).getTemperature()\r\n                        .loadBuffer(buf)));\r\n// TemperatureAccess is an interface implemented by a mixin to ClientPlayerEntity\r\n```\r\nThis is the stack trace:\r\n```\r\n[13:22:34] [main/FATAL] (Minecraft) Error executing task on Client\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0\r\n\tat io.netty.buffer.AbstractByteBuf.ensureAccessible(AbstractByteBuf.java:1417) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1403) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.readByte(AbstractByteBuf.java:707) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\r\n\tat net.minecraft.network.PacketByteBuf.readByte(PacketByteBuf.java:1260) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.network.PacketByteBuf.readVarInt(PacketByteBuf.java:483) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat io.github.asablock.rmc.temperature.Temperature.loadBuffer(Temperature.java:50) ~[main/:?]\r\n\tat io.github.asablock.rmc.client.ClientReasonableMCMod.lambda$onInitializeClient$2(ClientReasonableMCMod.java:57) ~[main/:?]\r\n\tat net.minecraft.util.thread.ThreadExecutor.executeTask(ThreadExecutor.java:136) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.util.thread.ReentrantThreadExecutor.executeTask(ReentrantThreadExecutor.java:22) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.util.thread.ThreadExecutor.runTask(ThreadExecutor.java:109) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.util.thread.ThreadExecutor.runTasks(ThreadExecutor.java:97) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.client.MinecraftClient.render(MinecraftClient.java:1047) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.client.MinecraftClient.run(MinecraftClient.java:685) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.client.main.Main.main(Main.java:187) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\r\n\tat net.fabricmc.loader.game.MinecraftGameProvider.launch(MinecraftGameProvider.java:234) [fabric-loader-0.11.6.jar:?]\r\n\tat net.fabricmc.loader.launch.knot.Knot.launch(Knot.java:153) [fabric-loader-0.11.6.jar:?]\r\n\tat net.fabricmc.loader.launch.knot.KnotClient.main(KnotClient.java:28) [fabric-loader-0.11.6.jar:?]\r\n\tat net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\r\n```","title":"io.netty.util.IllegalReferenceCountException: refCnt: 0 throws while invoking PacketByteBuf.readFloat in minecraft 1.16.5","body":"<p>I am trying to create a temperature system in my mod, and I synchronize temperature data (2 floats) with Fabric Networking API. Packets are created with these codes.</p>\n<pre><code>// Temperature.java\nprivate float ambient;\nprivate float biome;\n\npublic PacketByteBuf createBuffer() {\n    PacketByteBuf buf = PacketByteBufs.create();\n    buf.writeFloat(ambient);\n    buf.writeFloat(biome);\n    return buf;\n}\n\npublic void loadBuffer(PacketByteBuf buf) {\n    this.ambient = buf.readFloat();\n    this.biome = buf.readFloat();\n}\n\npublic void copyFieldsTo(Temperature that) {\n    Objects.requireNonNull(that, &quot;that&quot;);\n    that.ambient = this.ambient;\n    that.biome = this.biome;\n}\n</code></pre>\n<p>Netty always throws &quot;io.netty.util.IllegalReferenceCountException: refCnt: 0&quot; in loadBuffer method. Data are not synchronized, but packets are received.\nThese are codes to send packets and receive packets.</p>\n<pre><code>// In a mixin to ServerPlayerEntity\n@Unique\nprivate Temperature rmc$temperature;\n@Unique\nprivate Temperature rmc$syncedTemperature;\n@Inject(method = &quot;playerTick&quot;, at = @At(value = &quot;INVOKE&quot;,\n            target = &quot;Lnet/minecraft/server/network/ServerPlayerEntity;getHealth()F&quot;,\n            shift = At.Shift.BEFORE, ordinal = 0))\nprivate void syncRMCData(CallbackInfo ci) {\n    TemperatureUtil.update(rmc$temperature, self);//Update temperature data\n    if (!rmc$temperature.equals(rmc$syncedTemperature)) {\n         ServerPlayNetworking.send(self, TemperatureUtil.PACKET_ID, rmc$temperature.createBuffer());\n         rmc$temperature.copyFieldsTo(rmc$syncedTemperature);\n    }\n}\n// In client mod initializer\nClientPlayNetworking.registerGlobalReceiver(TemperatureUtil.PACKET_ID,\n        (client, handler, buf, responseSender) -&gt; client.execute(\n                () -&gt; ((TemperatureAccess) client.player).getTemperature()\n                        .loadBuffer(buf)));\n// TemperatureAccess is an interface implemented by a mixin to ClientPlayerEntity\n</code></pre>\n<p>This is the stack trace:</p>\n<pre><code>[13:22:34] [main/FATAL] (Minecraft) Error executing task on Client\nio.netty.util.IllegalReferenceCountException: refCnt: 0\n    at io.netty.buffer.AbstractByteBuf.ensureAccessible(AbstractByteBuf.java:1417) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\n    at io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1403) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\n    at io.netty.buffer.AbstractByteBuf.readByte(AbstractByteBuf.java:707) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\n    at net.minecraft.network.PacketByteBuf.readByte(PacketByteBuf.java:1260) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.network.PacketByteBuf.readVarInt(PacketByteBuf.java:483) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at io.github.asablock.rmc.temperature.Temperature.loadBuffer(Temperature.java:50) ~[main/:?]\n    at io.github.asablock.rmc.client.ClientReasonableMCMod.lambda$onInitializeClient$2(ClientReasonableMCMod.java:57) ~[main/:?]\n    at net.minecraft.util.thread.ThreadExecutor.executeTask(ThreadExecutor.java:136) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.util.thread.ReentrantThreadExecutor.executeTask(ReentrantThreadExecutor.java:22) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.util.thread.ThreadExecutor.runTask(ThreadExecutor.java:109) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.util.thread.ThreadExecutor.runTasks(ThreadExecutor.java:97) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.client.MinecraftClient.render(MinecraftClient.java:1047) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.client.MinecraftClient.run(MinecraftClient.java:685) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.client.main.Main.main(Main.java:187) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\n    at net.fabricmc.loader.game.MinecraftGameProvider.launch(MinecraftGameProvider.java:234) [fabric-loader-0.11.6.jar:?]\n    at net.fabricmc.loader.launch.knot.Knot.launch(Knot.java:153) [fabric-loader-0.11.6.jar:?]\n    at net.fabricmc.loader.launch.knot.KnotClient.main(KnotClient.java:28) [fabric-loader-0.11.6.jar:?]\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\n</code></pre>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1664975930,"post_id":73960907,"comment_id":130591075,"body_markdown":"You might want to throw exception, then catch and handle it(notify). But there is no best way, depends on what you want to happen in the case of invalid input.","body":"You might want to throw exception, then catch and handle it(notify). But there is no best way, depends on what you want to happen in the case of invalid input."},{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":0,"creation_date":1664976080,"post_id":73960907,"comment_id":130591136,"body_markdown":"If the input is invalid, it would be best if the user was notified, then invited to try again","body":"If the input is invalid, it would be best if the user was notified, then invited to try again"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1664976140,"post_id":73960907,"comment_id":130591170,"body_markdown":"@anatoliy121 In that case, you might want to keep prompting the user for an age until you get a valid one and only create the `User` object after that.","body":"@anatoliy121 In that case, you might want to keep prompting the user for an age until you get a valid one and only create the <code>User</code> object after that."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664976364,"post_id":73960907,"comment_id":130591261,"body_markdown":"I&#39;d combine the 2 approaches: check the age before creating the user but also check in the setter and throw an exception if validation fails. You want to catch invalid input early on but at the same time don&#39;t want to trust any code external to the class to maintain those constraints.","body":"I&#39;d combine the 2 approaches: check the age before creating the user but also check in the setter and throw an exception if validation fails. You want to catch invalid input early on but at the same time don&#39;t want to trust any code external to the class to maintain those constraints."},{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":0,"creation_date":1664976930,"post_id":73960907,"comment_id":130591499,"body_markdown":"So it would be best to check the values before creating the objects, but when you&#39;d change the value it would be best to handle that check in the setters?","body":"So it would be best to check the values before creating the objects, but when you&#39;d change the value it would be best to handle that check in the setters?"}],"answers":[{"comments":[{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":1,"creation_date":1664976154,"post_id":73961020,"comment_id":130591179,"body_markdown":"But that would stop the program, right?","body":"But that would stop the program, right?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664976169,"post_id":73961020,"comment_id":130591190,"body_markdown":"@anatoliy121 You can catch the Exception and handle it.","body":"@anatoliy121 You can catch the Exception and handle it."},{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":0,"creation_date":1664976415,"post_id":73961020,"comment_id":130591288,"body_markdown":"I suppose that the same thing could be applied to setters. However, isn&#39;t it dull to check the value of every constructor parameter that way?","body":"I suppose that the same thing could be applied to setters. However, isn&#39;t it dull to check the value of every constructor parameter that way?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1664976454,"post_id":73961020,"comment_id":130591296,"body_markdown":"@anatoliy121 Then you can check all the input before creating the `User` object.","body":"@anatoliy121 Then you can check all the input before creating the <code>User</code> object."},{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":0,"creation_date":1664976575,"post_id":73961020,"comment_id":130591348,"body_markdown":"In an MVC pattern, would the input be checked in the view?","body":"In an MVC pattern, would the input be checked in the view?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664976636,"post_id":73961020,"comment_id":130591380,"body_markdown":"@anatoliy121 See this: https://stackoverflow.com/questions/2068627/where-does-input-validation-belong-in-an-mvc-application","body":"@anatoliy121 See this: <a href=\"https://stackoverflow.com/questions/2068627/where-does-input-validation-belong-in-an-mvc-application\" title=\"where does input validation belong in an mvc application\">stackoverflow.com/questions/2068627/&hellip;</a>"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664976068,"creation_date":1664976068,"answer_id":73961020,"question_id":73960907,"body_markdown":"Throw an appropriate `Exception` to indicate the problem.\r\n\r\n```java\r\npublic User(int age) {\r\n  if (age &lt; 150)\r\n\t this.age = age;\r\n  else\r\n\t throw new IllegalArgumentException(&quot;Age &gt;= 150&quot;);\r\n}\r\n```","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>Throw an appropriate <code>Exception</code> to indicate the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public User(int age) {\n  if (age &lt; 150)\n     this.age = age;\n  else\n     throw new IllegalArgumentException(&quot;Age &gt;= 150&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12436591,"reputation":13,"user_id":13952980,"display_name":"MDH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664976800,"creation_date":1664976800,"answer_id":73961172,"question_id":73960907,"body_markdown":"As mentioned already, you can check for the age before you create the object.\r\n\r\nAlternatively you could make the constructor private and use a method like this to create the object:\r\n\r\n    public static User createUser(int age) {\r\n        if (age &gt;= 150) {\r\n            throw new IllegalArgumentException(&quot;Too old&quot;);\r\n        }\r\n        return new User(age);\r\n    }","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>As mentioned already, you can check for the age before you create the object.</p>\n<p>Alternatively you could make the constructor private and use a method like this to create the object:</p>\n<pre><code>public static User createUser(int age) {\n    if (age &gt;= 150) {\n        throw new IllegalArgumentException(&quot;Too old&quot;);\n    }\n    return new User(age);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214370,"reputation":5510,"user_id":468304,"accept_rate":100,"display_name":"cyber-monk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665008382,"creation_date":1665008382,"answer_id":73966858,"question_id":73960907,"body_markdown":"A design alternative instead of throwing exception might be: if they pick a value over the max, just set it to the max.  \r\n\r\nAs an aside it&#39;s generally a good idea to return a value to the caller to signal what action was taken by the method.  If you update the value, return the updated value.  If you didn&#39;t update the value, return the existing value. That way the caller and decide what to do if the value was or was not updated.\r\n\r\nYou could also return a boolean value to signal if the age was updated or not.\r\n\r\nAnother idea to follow is the &quot;principle of least surprise&quot; which you can think of as: what would the caller expect to happen if the value is out of range...  as an example outsider, I would think that the age doesn&#39;t get set and it tells me what the acceptable ranges are so I can pick again, or better yet it only lets me pick acceptable values so I don&#39;t have to go back and forth.","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>A design alternative instead of throwing exception might be: if they pick a value over the max, just set it to the max.</p>\n<p>As an aside it's generally a good idea to return a value to the caller to signal what action was taken by the method.  If you update the value, return the updated value.  If you didn't update the value, return the existing value. That way the caller and decide what to do if the value was or was not updated.</p>\n<p>You could also return a boolean value to signal if the age was updated or not.</p>\n<p>Another idea to follow is the &quot;principle of least surprise&quot; which you can think of as: what would the caller expect to happen if the value is out of range...  as an example outsider, I would think that the age doesn't get set and it tells me what the acceptable ranges are so I can pick again, or better yet it only lets me pick acceptable values so I don't have to go back and forth.</p>\n"}],"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1665032755,"answer_count":3,"score":-1,"last_activity_date":1665008382,"creation_date":1664975538,"question_id":73960907,"body_markdown":"Let&#39;s assume that the user is creating a &quot;User&quot; class which represents their profile:\r\n```java\r\npublic class User {\r\n   private int age;\r\n\r\n   public User(int age) {\r\n      if (age &lt; 150)\r\n         this.age = age;\r\n      else\r\n         System.out.println(&quot;Incorrect age, try again&quot;);\r\n   }\r\n}\r\n```\r\nSince we don&#39;t want `age` to be greater than 150, if the user inputs 170, we should tell them that they made a mistake.\r\n\r\nHowever, printing in the class doesn&#39;t seem clean, and printing in the constructor even less so. What would be the best way to achieve this ? Similarly, how would you check the input when modifying `age` via a setter ?","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>Let's assume that the user is creating a &quot;User&quot; class which represents their profile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n   private int age;\n\n   public User(int age) {\n      if (age &lt; 150)\n         this.age = age;\n      else\n         System.out.println(&quot;Incorrect age, try again&quot;);\n   }\n}\n</code></pre>\n<p>Since we don't want <code>age</code> to be greater than 150, if the user inputs 170, we should tell them that they made a mistake.</p>\n<p>However, printing in the class doesn't seem clean, and printing in the constructor even less so. What would be the best way to achieve this ? Similarly, how would you check the input when modifying <code>age</code> via a setter ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1664905899,"post_id":73951707,"comment_id":130575468,"body_markdown":"Just read it as a string and try to parse it to an int. See [this answer](https://stackoverflow.com/a/1102916/10601203) for a few ways to check if the string is a number.","body":"Just read it as a string and try to parse it to an int. See <a href=\"https://stackoverflow.com/a/1102916/10601203\">this answer</a> for a few ways to check if the string is a number."}],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664906667,"creation_date":1664906667,"answer_id":73951918,"question_id":73951707,"body_markdown":"if the value of entered is an integer, then you can simply use regex where \r\n\r\n    if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\r\n\r\nchecks if the entered number is a number of 1 or more digits or the entered number is a negative number with one or more digits\r\n\r\nand if that is the case, then you can `x = Integer.parseInt(str);` to convert that entered string into integer and make `str = &quot;&quot;;` otherwise , the entered string is stored in `str` and never parsed to `int`\r\n\r\n\r\n\r\n\r\nand this is the edited code:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;Enter either a string or a number\\n&quot;);\r\n\r\n            String str = input.nextLine();\r\n\r\n            int x = 0;\r\n\r\n            if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\r\n            {\r\n                x = Integer.parseInt(str);\r\n                str = &quot;&quot;;\r\n            }\r\n            else\r\n            {\r\n                // nothing to do\r\n            }\r\n\r\n            System.out.println(&quot;x = &quot; + x);\r\n            System.out.println(&quot;str = &quot; + str);\r\n\r\n        }\r\n\r\n    }\r\n\r\nand this is some example output:\r\n\r\n    Enter either a string or a number\r\n    10\r\n    x = 10\r\n    str = \r\n\r\n\r\n----------\r\n\r\n    Enter either a string or a number\r\n    test\r\n    x = 0\r\n    str = test\r\n\r\n\r\n----------\r\n\r\n    Enter either a string or a number\r\n    -30\r\n    x = -30\r\n    str = \r\n\r\n\r\n----------\r\n\r\n    Enter either a string or a number\r\n    test10\r\n    x = 0\r\n    str = test10\r\n\r\n","title":"If condition is met -&gt; scan input into one variable. If not -&gt; scan input into another variable","body":"<p>if the value of entered is an integer, then you can simply use regex where</p>\n<pre><code>if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\n</code></pre>\n<p>checks if the entered number is a number of 1 or more digits or the entered number is a negative number with one or more digits</p>\n<p>and if that is the case, then you can <code>x = Integer.parseInt(str);</code> to convert that entered string into integer and make <code>str = &quot;&quot;;</code> otherwise , the entered string is stored in <code>str</code> and never parsed to <code>int</code></p>\n<p>and this is the edited code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Enter either a string or a number\\n&quot;);\n\n        String str = input.nextLine();\n\n        int x = 0;\n\n        if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\n        {\n            x = Integer.parseInt(str);\n            str = &quot;&quot;;\n        }\n        else\n        {\n            // nothing to do\n        }\n\n        System.out.println(&quot;x = &quot; + x);\n        System.out.println(&quot;str = &quot; + str);\n\n    }\n\n}\n</code></pre>\n<p>and this is some example output:</p>\n<pre><code>Enter either a string or a number\n10\nx = 10\nstr = \n</code></pre>\n<hr />\n<pre><code>Enter either a string or a number\ntest\nx = 0\nstr = test\n</code></pre>\n<hr />\n<pre><code>Enter either a string or a number\n-30\nx = -30\nstr = \n</code></pre>\n<hr />\n<pre><code>Enter either a string or a number\ntest10\nx = 0\nstr = test10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665008287,"creation_date":1665008287,"answer_id":73966851,"question_id":73951707,"body_markdown":"The answer provided by abdo and the comment by Jesse are both valid and very good answers.\r\n\r\nHowever it is also possible to achieve your goal with the Scanner methods. In this case `hasNextInt()` is your friend.\r\nf\r\nBut note, that `nextLine()` will consume the line break, while `nextInt()` will not. IMHO it will be more clear to code both options alike and use `next()` instead.\r\n\r\nThe most simple approach:\r\n```java\r\nif (input.hasNextInt()) {\r\n    x = input.nextInt();\r\n}\r\nelse {\r\n    str = input.next();\r\n}\r\ninput.nextLine(); // consume the line break, too\r\n```\r\nHere still one issue remains: By default Scanner uses whitespace as delimiter, not line breaks. With the input &quot;4 2\\n&quot; `nextInt()` will return 4 and `nextLine()` will discard the rest. However the user&#39;s intention (number versus string) is not obvious in this case either, therefor I&#39;d tend to create the string &quot;4 2&quot; instead. This can easily be achieved by using line breaks as delimiter instead:\r\n```java\r\nScanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\r\n```\r\nA full demo example:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ScannerExample {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\r\n\r\n        System.out.println(&quot;Enter either a string or a number&quot;);\r\n\r\n        String str = null;\r\n        while (!&quot;end&quot;.equals(str)) {\r\n            int x = 0;\r\n            str = null;\r\n            if (input.hasNextInt()) {\r\n                x = input.nextInt();\r\n            }\r\n            else {\r\n                str = input.next();\r\n            }\r\n            input.nextLine();\r\n            if (str != null) {\r\n                System.out.printf(&quot;we have a string! str=%s%n&quot;, str);\r\n            }\r\n            else {\r\n                System.out.printf(&quot;we have a number! x=%d%n&quot;, x);\r\n            }\r\n        }\r\n        System.out.println(&quot;goodbye!&quot;);\r\n    }\r\n\r\n}\r\n```","title":"If condition is met -&gt; scan input into one variable. If not -&gt; scan input into another variable","body":"<p>The answer provided by abdo and the comment by Jesse are both valid and very good answers.</p>\n<p>However it is also possible to achieve your goal with the Scanner methods. In this case <code>hasNextInt()</code> is your friend.\nf\nBut note, that <code>nextLine()</code> will consume the line break, while <code>nextInt()</code> will not. IMHO it will be more clear to code both options alike and use <code>next()</code> instead.</p>\n<p>The most simple approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (input.hasNextInt()) {\n    x = input.nextInt();\n}\nelse {\n    str = input.next();\n}\ninput.nextLine(); // consume the line break, too\n</code></pre>\n<p>Here still one issue remains: By default Scanner uses whitespace as delimiter, not line breaks. With the input &quot;4 2\\n&quot; <code>nextInt()</code> will return 4 and <code>nextLine()</code> will discard the rest. However the user's intention (number versus string) is not obvious in this case either, therefor I'd tend to create the string &quot;4 2&quot; instead. This can easily be achieved by using line breaks as delimiter instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\n</code></pre>\n<p>A full demo example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ScannerExample {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\n\n        System.out.println(&quot;Enter either a string or a number&quot;);\n\n        String str = null;\n        while (!&quot;end&quot;.equals(str)) {\n            int x = 0;\n            str = null;\n            if (input.hasNextInt()) {\n                x = input.nextInt();\n            }\n            else {\n                str = input.next();\n            }\n            input.nextLine();\n            if (str != null) {\n                System.out.printf(&quot;we have a string! str=%s%n&quot;, str);\n            }\n            else {\n                System.out.printf(&quot;we have a number! x=%d%n&quot;, x);\n            }\n        }\n        System.out.println(&quot;goodbye!&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user18554247"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665008287,"creation_date":1664905420,"question_id":73951707,"body_markdown":"    Scanner input = new Scanner(System.in)\r\n    \r\n    System.out.print(&quot;Enter either a string or a number&quot;);\r\n    \r\n    String str = input.nextLine();\r\n    int x = input.nextInt();\r\n\r\nThe program here expects 2 values, a string and an integer. YET there is only one.\r\n\r\nI want `str` to register the value if it is a string, BUT if it is an integer, I want the value to be registered by `x`\r\n\r\nIn other words, I only want one of the variables to be active","title":"If condition is met -&gt; scan input into one variable. If not -&gt; scan input into another variable","body":"<pre><code>Scanner input = new Scanner(System.in)\n\nSystem.out.print(&quot;Enter either a string or a number&quot;);\n\nString str = input.nextLine();\nint x = input.nextInt();\n</code></pre>\n<p>The program here expects 2 values, a string and an integer. YET there is only one.</p>\n<p>I want <code>str</code> to register the value if it is a string, BUT if it is an integer, I want the value to be registered by <code>x</code></p>\n<p>In other words, I only want one of the variables to be active</p>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":53317,"reputation":19342,"user_id":159388,"accept_rate":73,"display_name":"murgatroid99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665008047,"creation_date":1665008047,"answer_id":73966822,"question_id":73910183,"body_markdown":"No, you cannot do this. The fully qualified name of the method, including the package and service names, determines the URL that gRPC will use to make the request. So `ServA/request` and `ServB/request` will request different URLs, and one cannot be used in place of the other.\r\n\r\nOf course, if the services have the same name, then they can be used interchangeably, but I would describe that as extending the service, which the question says is not an option.","title":"gRPC communication between protos","body":"<p>No, you cannot do this. The fully qualified name of the method, including the package and service names, determines the URL that gRPC will use to make the request. So <code>ServA/request</code> and <code>ServB/request</code> will request different URLs, and one cannot be used in place of the other.</p>\n<p>Of course, if the services have the same name, then they can be used interchangeably, but I would describe that as extending the service, which the question says is not an option.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665008047,"creation_date":1664547524,"question_id":73910183,"body_markdown":"If I define two proto files\r\n\r\n**protoA**\r\n\r\n    service ServA {\r\n    \r\n        rpc request(MyMessage) returns(ResponseMessage);\r\n    \r\n    }\r\n    message MyMessage{\r\n      string body= 1;\r\n    }\r\n    \r\n    message ResponseMessage{\r\n      string body= 1;\r\n    }\r\n\r\n\r\n**protoB**\r\n\r\n    service ServB {\r\n    \r\n        rpc request(MyMessage) returns(ResponseMessage);\r\n\r\n        rpc newFeatures(Bla) returns(Foo)\r\n    \r\n    }\r\n    message MyMessage{\r\n      string body= 1;\r\n    }\r\n    \r\n    message ResponseMessage{\r\n      string body= 1;\r\n    }\r\n\r\nUsing the stub from **protoA** can  I call **protoB**\r\n\r\n        this.stub = ProtoA.newBlockingStub(this.managedChannel);\r\n        stub.request(new MyMessage(&quot;hello world&quot;)\r\n\r\n\r\nI need to do this, because I have to create a new service (protoB) that has new functionality and also need to be retro compatible with the old call to **protoA**. And extend **protoA** is not an option.\r\n","title":"gRPC communication between protos","body":"<p>If I define two proto files</p>\n<p><strong>protoA</strong></p>\n<pre><code>service ServA {\n\n    rpc request(MyMessage) returns(ResponseMessage);\n\n}\nmessage MyMessage{\n  string body= 1;\n}\n\nmessage ResponseMessage{\n  string body= 1;\n}\n</code></pre>\n<p><strong>protoB</strong></p>\n<pre><code>service ServB {\n\n    rpc request(MyMessage) returns(ResponseMessage);\n\n    rpc newFeatures(Bla) returns(Foo)\n\n}\nmessage MyMessage{\n  string body= 1;\n}\n\nmessage ResponseMessage{\n  string body= 1;\n}\n</code></pre>\n<p>Using the stub from <strong>protoA</strong> can  I call <strong>protoB</strong></p>\n<pre><code>    this.stub = ProtoA.newBlockingStub(this.managedChannel);\n    stub.request(new MyMessage(&quot;hello world&quot;)\n</code></pre>\n<p>I need to do this, because I have to create a new service (protoB) that has new functionality and also need to be retro compatible with the old call to <strong>protoA</strong>. And extend <strong>protoA</strong> is not an option.</p>\n"},{"tags":["java","database","oracle","spring-boot","oracle-cloud-infrastructure"],"comments":[{"owner":{"account_id":15201515,"reputation":408,"user_id":10969365,"display_name":"lsarecz"},"score":0,"creation_date":1569229239,"post_id":57953262,"comment_id":102514885,"body_markdown":"I&#39;m not sure if this is the reason, but please check what is the version of JDBC driver you are using? Try to upgrade it to the latest 18.3 version. If you need to use an older version, you have to set the Java properties prior to starting the application. Did you do that?","body":"I&#39;m not sure if this is the reason, but please check what is the version of JDBC driver you are using? Try to upgrade it to the latest 18.3 version. If you need to use an older version, you have to set the Java properties prior to starting the application. Did you do that?"}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665007966,"creation_date":1665007526,"answer_id":73966760,"question_id":57953262,"body_markdown":"Download the wallet from the UI\r\n[![OCI Autodb management][1]][1]\r\n\r\nthen unzip the wallet zip into a folder\r\n[![unzipped wallet][2]][2] \r\nfor spring boot configuration\r\n```properties\r\nspring.datasource.url=jdbc:oracle:thin:@ddf9jcwvp9o3z7aa_high?TNS_ADMIN=/home/mintozzy/Downloads/Wallet_DDF9JCWVP9O3Z7AA\r\nspring.datasource.username=READONLY_USER\r\nspring.datasource.password=qw27dLDW4uDZf9D\r\n```\r\nYou can see running spring boot petclinic example [here](https://github.com/ozkanpakdil/spring-examples/tree/master/oracle-atp-ehcache-hibernate-second-level-cache) for full [properties](https://github.com/ozkanpakdil/spring-examples/blob/master/oracle-atp-ehcache-hibernate-second-level-cache/src/main/resources/application.properties)\r\n\r\n[here](https://github.com/ozkanpakdil/ozkanpakdil.github.io/issues/16#issuecomment-1268917208) you can see how to connect sql developer to cloud db.\r\n\r\n  [1]: https://i.stack.imgur.com/ROyJI.png\r\n  [2]: https://i.stack.imgur.com/Qxq86.png","title":"I am trying to connect to Oracle ATP database using JDBC thin client in an spring-boot app, but getting error: Authentication lapse","body":"<p>Download the wallet from the UI\n<a href=\"https://i.stack.imgur.com/ROyJI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ROyJI.png\" alt=\"OCI Autodb management\" /></a></p>\n<p>then unzip the wallet zip into a folder\n<a href=\"https://i.stack.imgur.com/Qxq86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qxq86.png\" alt=\"unzipped wallet\" /></a>\nfor spring boot configuration</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@ddf9jcwvp9o3z7aa_high?TNS_ADMIN=/home/mintozzy/Downloads/Wallet_DDF9JCWVP9O3Z7AA\nspring.datasource.username=READONLY_USER\nspring.datasource.password=qw27dLDW4uDZf9D\n</code></pre>\n<p>You can see running spring boot petclinic example <a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/oracle-atp-ehcache-hibernate-second-level-cache\" rel=\"nofollow noreferrer\">here</a> for full <a href=\"https://github.com/ozkanpakdil/spring-examples/blob/master/oracle-atp-ehcache-hibernate-second-level-cache/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">properties</a></p>\n<p><a href=\"https://github.com/ozkanpakdil/ozkanpakdil.github.io/issues/16#issuecomment-1268917208\" rel=\"nofollow noreferrer\">here</a> you can see how to connect sql developer to cloud db.</p>\n"}],"owner":{"account_id":16704305,"reputation":21,"user_id":12073168,"display_name":"Siddhant Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665007966,"creation_date":1568623506,"question_id":57953262,"body_markdown":"I have setted up an Oracle cloud Autonomous transaction Processing (ATP) database, but when I am trying to connect it to my Java Spring boot application, it is throwing error:\r\n&gt; java.sql.SQLRecoverableException: IO Error: An existing connection was forcibly closed by the remote host, Authentication lapse 0 ms.&quot; \r\n\r\nI have correctly configured `tnsnames.ora` file and also `sqlnet.ora` file with proper location of credentials folder. But still getting above error. \r\n\r\nMy application.properties file is as below:  \r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@sampledb_high?TNS_ADMIN=E:\\\\Oracle cloud POC\\\\Wallet_sampleDB \r\nspring.datasource.username=ADMIN \r\nspring.datasource.password=******** \r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nPlease let me know how to solve this.","title":"I am trying to connect to Oracle ATP database using JDBC thin client in an spring-boot app, but getting error: Authentication lapse","body":"<p>I have setted up an Oracle cloud Autonomous transaction Processing (ATP) database, but when I am trying to connect it to my Java Spring boot application, it is throwing error:</p>\n\n<blockquote>\n  <p>java.sql.SQLRecoverableException: IO Error: An existing connection was forcibly closed by the remote host, Authentication lapse 0 ms.\" </p>\n</blockquote>\n\n<p>I have correctly configured <code>tnsnames.ora</code> file and also <code>sqlnet.ora</code> file with proper location of credentials folder. But still getting above error. </p>\n\n<p>My application.properties file is as below:  </p>\n\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@sampledb_high?TNS_ADMIN=E:\\\\Oracle cloud POC\\\\Wallet_sampleDB \nspring.datasource.username=ADMIN \nspring.datasource.password=******** \nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n\n<p>Please let me know how to solve this.</p>\n"},{"tags":["java","spring-boot","validation"],"owner":{"account_id":25688894,"reputation":61,"user_id":19450596,"display_name":"Ng·ªçc ƒê·ª©c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665007275,"creation_date":1661216608,"question_id":73452385,"body_markdown":"I tried using annotation `@NotNull` and `@Past` with my field for validation, but when I posted with null value in PostMan, it gave me 2 error responses instead of 1, is this a problem and if it is, how to fix it?\r\n\r\nError Handler:\r\n\r\n```java\r\n@Override\r\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(final MethodArgumentNotValidException ex, final HttpHeaders headers, final HttpStatus status, final WebRequest request) {\r\n    logger.info(ex.getClass().getName());\r\n\r\n    final Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n\r\n    for (final FieldError error : ex.getBindingResult().getFieldErrors()) {\r\n        errors.put(error.getField(), String.format(&quot;%s %s&quot;, error.getField(), error.getDefaultMessage()));\r\n    }\r\n\r\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\r\n```\r\n\r\nThe field that needs to validate:\r\n\r\n```java\r\n@Past\r\n@NotNull\r\nprivate Date birthDate;\r\n```\r\n\r\nRequest body:\r\n\r\n```json\r\n{\r\n   &quot;birthDate&quot;:&quot;&quot;\r\n}\r\n```\r\n\r\nResponse:\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;field&quot;: &quot;birthDate&quot;,\r\n        &quot;message&quot;: &quot;must not be null&quot;\r\n    },\r\n    {\r\n        &quot;field&quot;: &quot;birthDate&quot;,\r\n        &quot;message&quot;: &quot;must not be null&quot;\r\n    }\r\n]\r\n```","title":"Spring Boot BindingResult returns 2 same error messages on one field","body":"<p>I tried using annotation <code>@NotNull</code> and <code>@Past</code> with my field for validation, but when I posted with null value in PostMan, it gave me 2 error responses instead of 1, is this a problem and if it is, how to fix it?</p>\n<p>Error Handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(final MethodArgumentNotValidException ex, final HttpHeaders headers, final HttpStatus status, final WebRequest request) {\n    logger.info(ex.getClass().getName());\n\n    final Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n\n    for (final FieldError error : ex.getBindingResult().getFieldErrors()) {\n        errors.put(error.getField(), String.format(&quot;%s %s&quot;, error.getField(), error.getDefaultMessage()));\n    }\n\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\n</code></pre>\n<p>The field that needs to validate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Past\n@NotNull\nprivate Date birthDate;\n</code></pre>\n<p>Request body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;birthDate&quot;:&quot;&quot;\n}\n</code></pre>\n<p>Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;field&quot;: &quot;birthDate&quot;,\n        &quot;message&quot;: &quot;must not be null&quot;\n    },\n    {\n        &quot;field&quot;: &quot;birthDate&quot;,\n        &quot;message&quot;: &quot;must not be null&quot;\n    }\n]\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":17270161,"reputation":190,"user_id":12506059,"display_name":"Kristian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665007240,"creation_date":1664970324,"question_id":73959874,"body_markdown":"I want my app to display a notification after reboot. Everything works when I try it on emulator but it doesn&#39;t work on real device. (Huawei p20 pro). There is no action when the system boots.\r\nTurns out Huawei has this thing called automatic management which when I turned off made the app worked as intended. \r\n\r\nHowever there are some apps installed on the device that have it turned on and somehow bypass this setting, any idea how is this achieved?\r\n\r\nDo other brands have something similar? If yes, how to bypass those? \r\n\r\nThanks for any help in advance.\r\n\r\nHere is my code for\r\n\r\n**OnRebootReceiver.java**\r\n\r\n    public class OnRebootReceiver extends BroadcastReceiver {\r\n    \r\n        //DB\r\n        private ReminderService reminderService;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            this.reminderService = new ReminderService(context);\r\n    \r\n            reminderService.setReminder();\r\n        }\r\n    }\r\nnote : method `setReminder()` doesn&#39;t set any background/foreground service nor have I asked any permission in that regard. It schedules new work using workManager. Not sure if that matters\r\n\r\n**Manifest**\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n      .\r\n      .\r\n      &lt;receiver android:name=&quot;.Adapters.Reminder.OnRebootReceiver&quot;\r\n           android:exported=&quot;true&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\r\n               &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n      &lt;/receiver&gt;","title":"WorkManager doesn&#39;t start after reboot on real device","body":"<p>I want my app to display a notification after reboot. Everything works when I try it on emulator but it doesn't work on real device. (Huawei p20 pro). There is no action when the system boots.\nTurns out Huawei has this thing called automatic management which when I turned off made the app worked as intended.</p>\n<p>However there are some apps installed on the device that have it turned on and somehow bypass this setting, any idea how is this achieved?</p>\n<p>Do other brands have something similar? If yes, how to bypass those?</p>\n<p>Thanks for any help in advance.</p>\n<p>Here is my code for</p>\n<p><strong>OnRebootReceiver.java</strong></p>\n<pre><code>public class OnRebootReceiver extends BroadcastReceiver {\n\n    //DB\n    private ReminderService reminderService;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        this.reminderService = new ReminderService(context);\n\n        reminderService.setReminder();\n    }\n}\n</code></pre>\n<p>note : method <code>setReminder()</code> doesn't set any background/foreground service nor have I asked any permission in that regard. It schedules new work using workManager. Not sure if that matters</p>\n<p><strong>Manifest</strong></p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n  .\n  .\n  &lt;receiver android:name=&quot;.Adapters.Reminder.OnRebootReceiver&quot;\n       android:exported=&quot;true&quot;&gt;\n       &lt;intent-filter&gt;\n           &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\n           &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot;/&gt;\n       &lt;/intent-filter&gt;\n  &lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","rest","swagger"],"answers":[{"tags":[],"owner":{"account_id":11222708,"reputation":587,"user_id":8233361,"display_name":"Claudio Weiler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665007039,"creation_date":1665007039,"answer_id":73966705,"question_id":73519615,"body_markdown":"1. Create a custom ModelConverter:\r\n```java\r\nimport java.lang.reflect.Type;\r\nimport java.time.YearMonth;\r\nimport java.util.Iterator;\r\n\r\nimport com.fasterxml.jackson.databind.type.SimpleType;\r\n\r\nimport io.swagger.v3.core.converter.AnnotatedType;\r\nimport io.swagger.v3.core.converter.ModelConverter;\r\nimport io.swagger.v3.core.converter.ModelConverterContext;\r\nimport io.swagger.v3.oas.models.media.Schema;\r\n\r\n/*\r\n* Custom ModelConverter that create a custom schema for YearMonth types\r\n*/\r\npublic class CustomModelConverter implements ModelConverter {\r\n    private static final Schema SCHEMA_YEAR_MONTH = new Schema().type(&quot;string&quot;).format(&quot;year-month&quot;).example(&quot;2020-06&quot;);\r\n\r\n\t@Override\r\n\tpublic Schema resolve(AnnotatedType annotatedType, ModelConverterContext context, Iterator&lt;ModelConverter&gt; chain) {\r\n\t\tType type = annotatedType.getType();\r\n\t\tif (type instanceof SimpleType) {\r\n\t\t\tSimpleType simpleType = (SimpleType) type;\r\n\r\n\t\t\tif (simpleType.getRawClass().isAssignableFrom(YearMonth.class)) {\r\n\t\t\t\treturn SCHEMA_YEAR_MONTH;\r\n\t\t\t}\r\n\t\t}\r\n\r\n        // It&#39;s needed to follow chain for unresolved types\r\n\t\tif (chain.hasNext()) {\r\n\t\t\treturn chain.next().resolve(annotatedType, context, chain);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n2. Register your custom ModelConverter:\r\n```java\r\nModelConverters.getInstance().addConverter(new CustomModelConverter());\r\n```\r\nSuggestion: put this as static initializer block on JAX-RS Activator","title":"How to set a default custom schema for types in Swagger","body":"<ol>\n<li>Create a custom ModelConverter:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Type;\nimport java.time.YearMonth;\nimport java.util.Iterator;\n\nimport com.fasterxml.jackson.databind.type.SimpleType;\n\nimport io.swagger.v3.core.converter.AnnotatedType;\nimport io.swagger.v3.core.converter.ModelConverter;\nimport io.swagger.v3.core.converter.ModelConverterContext;\nimport io.swagger.v3.oas.models.media.Schema;\n\n/*\n* Custom ModelConverter that create a custom schema for YearMonth types\n*/\npublic class CustomModelConverter implements ModelConverter {\n    private static final Schema SCHEMA_YEAR_MONTH = new Schema().type(&quot;string&quot;).format(&quot;year-month&quot;).example(&quot;2020-06&quot;);\n\n    @Override\n    public Schema resolve(AnnotatedType annotatedType, ModelConverterContext context, Iterator&lt;ModelConverter&gt; chain) {\n        Type type = annotatedType.getType();\n        if (type instanceof SimpleType) {\n            SimpleType simpleType = (SimpleType) type;\n\n            if (simpleType.getRawClass().isAssignableFrom(YearMonth.class)) {\n                return SCHEMA_YEAR_MONTH;\n            }\n        }\n\n        // It's needed to follow chain for unresolved types\n        if (chain.hasNext()) {\n            return chain.next().resolve(annotatedType, context, chain);\n        }\n        return null;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Register your custom ModelConverter:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>ModelConverters.getInstance().addConverter(new CustomModelConverter());\n</code></pre>\n<p>Suggestion: put this as static initializer block on JAX-RS Activator</p>\n"}],"owner":{"account_id":11222708,"reputation":587,"user_id":8233361,"display_name":"Claudio Weiler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966705,"answer_count":1,"score":1,"last_activity_date":1665007039,"creation_date":1661697518,"question_id":73519615,"body_markdown":"There is a way to define a custom schema as default for a Java Class in Swagger?\r\n\r\nYou can set the schema with annotations like this:\r\n```lang-java\r\nschema = @Schema(type = &quot;string&quot;, format = &quot;&lt;custom-format&gt;&quot;, example = &quot;&lt;custom-example&gt;&quot;))\r\n```\r\n\r\nBut I want to assign this schema to a Java Class as default, so I don&#39;t need to add schema annotations always I define this data type on API.\r\n\r\n* https://swagger.io/docs/specification/data-models/data-types/\r\n* https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema\r\n\r\n---\r\n**Update**\r\n\r\nDefault schema types are defined in https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java\r\n\r\nThere is a way to override or extend this?","title":"How to set a default custom schema for types in Swagger","body":"<p>There is a way to define a custom schema as default for a Java Class in Swagger?</p>\n<p>You can set the schema with annotations like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>schema = @Schema(type = &quot;string&quot;, format = &quot;&lt;custom-format&gt;&quot;, example = &quot;&lt;custom-example&gt;&quot;))\n</code></pre>\n<p>But I want to assign this schema to a Java Class as default, so I don't need to add schema annotations always I define this data type on API.</p>\n<ul>\n<li><a href=\"https://swagger.io/docs/specification/data-models/data-types/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/data-models/data-types/</a></li>\n<li><a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema</a></li>\n</ul>\n<hr />\n<p><strong>Update</strong></p>\n<p>Default schema types are defined in <a href=\"https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java</a></p>\n<p>There is a way to override or extend this?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1665008544,"post_id":73966700,"comment_id":130601684,"body_markdown":"Do the positions of the value (`1000.0` at index 0, `&quot;id123456789&quot;` at index 1) determine the meaning and type of the value? If so there is probably no other solution than to implement a custom `TypeAdapter` (or see if any community library handles this). If not, then what kind of values can this array contain? Maybe you could just deserialize it as `List&lt;Object&gt;`. Also just to be sure, `@Gson.TypeAdapters` comes from https://github.com/immutables/immutables, right?","body":"Do the positions of the value (<code>1000.0</code> at index 0, <code>&quot;id123456789&quot;</code> at index 1) determine the meaning and type of the value? If so there is probably no other solution than to implement a custom <code>TypeAdapter</code> (or see if any community library handles this). If not, then what kind of values can this array contain? Maybe you could just deserialize it as <code>List&lt;Object&gt;</code>. Also just to be sure, <code>@Gson.TypeAdapters</code> comes from <a href=\"https://github.com/immutables/immutables\" rel=\"nofollow noreferrer\">github.com/immutables/immutables</a>, right?"},{"owner":{"account_id":15258615,"reputation":317,"user_id":11009484,"display_name":"wanderingstu"},"score":0,"creation_date":1665009450,"post_id":73966700,"comment_id":130601877,"body_markdown":"Yeah, that&#39;s the idea I was going with. So when I wrote the SortArray class, I tried with using the positiions of the 2 elements being the type of the value, but that doesn&#39;t seem to be working, so I was wondering how I could deserialize it correctly.  `List&lt;Object&gt;` might work.. The array only contains a double and a String. And yes, that annotation comes from Immutables.","body":"Yeah, that&#39;s the idea I was going with. So when I wrote the SortArray class, I tried with using the positiions of the 2 elements being the type of the value, but that doesn&#39;t seem to be working, so I was wondering how I could deserialize it correctly.  <code>List&lt;Object&gt;</code> might work.. The array only contains a double and a String. And yes, that annotation comes from Immutables."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1665011597,"post_id":73966700,"comment_id":130602207,"body_markdown":"If your `SortArray` only has the `sortScore` and `id` value though, then writing a `TypeAdapter` for it might be the cleaner approach; it would also not be that verbose.","body":"If your <code>SortArray</code> only has the <code>sortScore</code> and <code>id</code> value though, then writing a <code>TypeAdapter</code> for it might be the cleaner approach; it would also not be that verbose."}],"owner":{"account_id":15258615,"reputation":317,"user_id":11009484,"display_name":"wanderingstu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665007011,"creation_date":1665007011,"question_id":73966700,"body_markdown":"I have a JSON String as follows\r\n\r\n```\r\n{\r\n&quot;sort&quot;: [1000.0, &quot;id123456789&quot;]\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to deserialize this JSON String into an Object using `GSON.fromJson(str, SortArray.class)` but I don&#39;t know what to do since the JSON Array contains a `double` and a `String`, which are two different types.\r\n\r\nDoes anyone know how I could model this array in a class so I can deserialize it?\r\n\r\n\r\nI have tried the following but it does not work\r\n\r\n```\r\n@Gson.TypeAdapters(nullAsDefault = true)\r\n@Value.Immutable\r\npublic interface SortArray {\r\n\r\n@Value.Parameter\r\ndouble sortScore();\r\n\r\n@Value.Parameter\r\nString id();\r\n\r\n}\r\n```\r\n","title":"How do you deserialize a JSON Array with multiple types using GSON?","body":"<p>I have a JSON String as follows</p>\n<pre><code>{\n&quot;sort&quot;: [1000.0, &quot;id123456789&quot;]\n}\n\n</code></pre>\n<p>I'm trying to deserialize this JSON String into an Object using <code>GSON.fromJson(str, SortArray.class)</code> but I don't know what to do since the JSON Array contains a <code>double</code> and a <code>String</code>, which are two different types.</p>\n<p>Does anyone know how I could model this array in a class so I can deserialize it?</p>\n<p>I have tried the following but it does not work</p>\n<pre><code>@Gson.TypeAdapters(nullAsDefault = true)\n@Value.Immutable\npublic interface SortArray {\n\n@Value.Parameter\ndouble sortScore();\n\n@Value.Parameter\nString id();\n\n}\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665000727,"post_id":73965823,"comment_id":130599730,"body_markdown":"Looks like `com.diffplug.spotless` cannot handle records yet. Disable the plugin or upgrade","body":"Looks like <code>com.diffplug.spotless</code> cannot handle records yet. Disable the plugin or upgrade"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665002266,"post_id":73965823,"comment_id":130600153,"body_markdown":"I tried upgrading the plugin but this did not resolve the error.","body":"I tried upgrading the plugin but this did not resolve the error."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665002326,"post_id":73965823,"comment_id":130600174,"body_markdown":"Then I see two options: a) disable the plugin or b) don&#39;t use records in your code","body":"Then I see two options: a) disable the plugin or b) don&#39;t use records in your code"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665002959,"post_id":73965823,"comment_id":130600356,"body_markdown":"I can look into disabling the plugin temporarily but neither of those two options seem viable long term unfortunately. I am simply the low man on the totem poll so disabling the plugin on an enterprise level project is above my pay grade.","body":"I can look into disabling the plugin temporarily but neither of those two options seem viable long term unfortunately. I am simply the low man on the totem poll so disabling the plugin on an enterprise level project is above my pay grade."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665003043,"post_id":73965823,"comment_id":130600374,"body_markdown":"Third option: wait until the plugin supports records. Fourth option: contribute code to the plugin so it can support records. It&#39;s [hacktober](https://hacktoberfest.com/) after all!","body":"Third option: wait until the plugin supports records. Fourth option: contribute code to the plugin so it can support records. It&#39;s <a href=\"https://hacktoberfest.com/\" rel=\"nofollow noreferrer\">hacktober</a> after all!"}],"answers":[{"comments":[{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665008072,"post_id":73966643,"comment_id":130601588,"body_markdown":"I want to agree with you, but the program runs with using record. I can do other tasks with the code, I just cant commit to a local branch","body":"I want to agree with you, but the program runs with using record. I can do other tasks with the code, I just cant commit to a local branch"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1665015028,"post_id":73966643,"comment_id":130602690,"body_markdown":"https://github.com/diffplug/spotless/issues/977 Did you try upgrading to this version?","body":"<a href=\"https://github.com/diffplug/spotless/issues/977\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/977</a> Did you try upgrading to this version?"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665021782,"post_id":73966643,"comment_id":130603562,"body_markdown":"I have not yet but will try tomorrow when I get to the office and let you know. Thanks for the suggestion.","body":"I have not yet but will try tomorrow when I get to the office and let you know. Thanks for the suggestion."},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665062742,"post_id":73966643,"comment_id":130615038,"body_markdown":"I do not see any place to change the googleJavaFormat version. The only version for spotless I see and have access to is in my gradle.properties file &#39;spotlessVersion=6.10.0&#39;","body":"I do not see any place to change the googleJavaFormat version. The only version for spotless I see and have access to is in my gradle.properties file &#39;spotlessVersion=6.10.0&#39;"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1665082853,"post_id":73966643,"comment_id":130622557,"body_markdown":"did you try 6.11.0? https://plugins.gradle.org/plugin/com.diffplug.gradle.spotless","body":"did you try 6.11.0? <a href=\"https://plugins.gradle.org/plugin/com.diffplug.gradle.spotless\" rel=\"nofollow noreferrer\">plugins.gradle.org/plugin/com.diffplug.gradle.spotless</a>"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1665083137,"post_id":73966643,"comment_id":130622641,"body_markdown":"AFAIK, java records are supported by spotless. https://github.com/diffplug/spotless/issues","body":"AFAIK, java records are supported by spotless. <a href=\"https://github.com/diffplug/spotless/issues\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues</a>"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1665083186,"post_id":73966643,"comment_id":130622648,"body_markdown":"Try asking this at https://github.com/diffplug/spotless/issues","body":"Try asking this at <a href=\"https://github.com/diffplug/spotless/issues\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues</a>"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665088079,"post_id":73966643,"comment_id":130624089,"body_markdown":"Turns out that for some reason when I opened intellij that it reverted me back to an older version of java, one that did not support records. I fixed this problem and now the overall issues is fixed. Long story short, I am dumber than I thought.","body":"Turns out that for some reason when I opened intellij that it reverted me back to an older version of java, one that did not support records. I fixed this problem and now the overall issues is fixed. Long story short, I am dumber than I thought."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1665111083,"post_id":73966643,"comment_id":130627907,"body_markdown":"Never say that. It happens to the best of us. :-)","body":"Never say that. It happens to the best of us. :-)"}],"tags":[],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665006399,"creation_date":1665006399,"answer_id":73966643,"question_id":73965823,"body_markdown":"It seems you are using a java version that does not support (or support not enabled for) Java &quot;record&quot;.\r\n\r\n\r\nThe error is:\r\n\r\n       class, interface, or enum expected\r\n\r\nBut it finds a record.\r\n\r\nThey were delivered in Java 14 as a preview feature. See [this][1].\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8246771","title":"Java Compiler Error &quot;class, interface, or enum expected&quot; but I cannot find any of the common causes of this error","body":"<p>It seems you are using a java version that does not support (or support not enabled for) Java &quot;record&quot;.</p>\n<p>The error is:</p>\n<pre><code>   class, interface, or enum expected\n</code></pre>\n<p>But it finds a record.</p>\n<p>They were delivered in Java 14 as a preview feature. See <a href=\"https://bugs.openjdk.org/browse/JDK-8246771\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966643,"answer_count":1,"score":1,"last_activity_date":1665006399,"creation_date":1665000614,"question_id":73965823,"body_markdown":"I am trying to use git commit to commit my changes to a repo, but when I do, I keep getting a &#39;java.lang.reflect.InvocationTargetException&#39; with the caused by statement being &#39;Caused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected&#39;\r\n\r\nI understand some of the common causes of this error are too many/too few curly braces, or placing a method outside the class, but I cannot seem to find such an error here.\r\n\r\n```\r\npackage *********;\r\n\r\nimport java.util.UUID;\r\n\r\npublic record PaymentLinkUpdateDTO(UUID paymentDeclineID,\r\n    String paymentIntentID,\r\n    String paymentMethodId,\r\n    String customerMethodID,\r\n    String paymentLinkID) {\r\n}\r\n```\r\nA few things to note. 1. I did not write this code segment, it is just in the project I am on. 2. PaymentLinkUpdateDTO is used in 30 different spots but from what I can tell it is properly used/placed each time. 3. I removed the package name for privacy reasons. Error code is below, with package name again removed.\r\n\r\n```\r\nStep &#39;removeUnusedImports&#39; found problem in &#39;****/PaymentLinkUpdateDTO.java&#39;:\r\nnull\r\njava.lang.reflect.InvocationTargetException\r\n        at jdk.internal.reflect.GeneratedMethodAccessor375.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4(GoogleJavaFormatStep.java:211)\r\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2(GoogleJavaFormatStep.java:188)\r\n        at com.diffplug.spotless.FormatterFunc.apply(FormatterFunc.java:32)\r\n        at com.diffplug.spotless.FormatterStepImpl$Standard.format(FormatterStepImpl.java:82)\r\n        at com.diffplug.spotless.FormatterStep$Strict.format(FormatterStep.java:88)\r\n        at com.diffplug.spotless.Formatter.compute(Formatter.java:230)\r\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:203)\r\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:190)\r\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.processInputFile(SpotlessTaskImpl.java:102)\r\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.performAction(SpotlessTaskImpl.java:88)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n        at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n        at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected\r\n        at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics(FormatterException.java:51)\r\n        at com.google.googlejavaformat.java.RemoveUnusedImports.parse(RemoveUnusedImports.java:262)\r\n        at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports(RemoveUnusedImports.java:219)\r\n        ... 129 more\r\n```\r\n\r\n\r\nUPDATE:\r\nI deleted my project, rebooted my machine (mac), created a new directory, cloned the master branch, created a new local branch, and now am able to commit some changes.\r\nI don&#39;t think this is a permanent solution; I am guessing an underlying problem still exists.\r\n\r\nUPDATE 2:\r\nApparently the problem is caused when I try and commit changes made to certain areas of the project. For example, I want to modify one class in the main code section and the error pops up, but I can modify a docker-compose file with no issues.","title":"Java Compiler Error &quot;class, interface, or enum expected&quot; but I cannot find any of the common causes of this error","body":"<p>I am trying to use git commit to commit my changes to a repo, but when I do, I keep getting a 'java.lang.reflect.InvocationTargetException' with the caused by statement being 'Caused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected'</p>\n<p>I understand some of the common causes of this error are too many/too few curly braces, or placing a method outside the class, but I cannot seem to find such an error here.</p>\n<pre><code>package *********;\n\nimport java.util.UUID;\n\npublic record PaymentLinkUpdateDTO(UUID paymentDeclineID,\n    String paymentIntentID,\n    String paymentMethodId,\n    String customerMethodID,\n    String paymentLinkID) {\n}\n</code></pre>\n<p>A few things to note. 1. I did not write this code segment, it is just in the project I am on. 2. PaymentLinkUpdateDTO is used in 30 different spots but from what I can tell it is properly used/placed each time. 3. I removed the package name for privacy reasons. Error code is below, with package name again removed.</p>\n<pre><code>Step 'removeUnusedImports' found problem in '****/PaymentLinkUpdateDTO.java':\nnull\njava.lang.reflect.InvocationTargetException\n        at jdk.internal.reflect.GeneratedMethodAccessor375.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4(GoogleJavaFormatStep.java:211)\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2(GoogleJavaFormatStep.java:188)\n        at com.diffplug.spotless.FormatterFunc.apply(FormatterFunc.java:32)\n        at com.diffplug.spotless.FormatterStepImpl$Standard.format(FormatterStepImpl.java:82)\n        at com.diffplug.spotless.FormatterStep$Strict.format(FormatterStep.java:88)\n        at com.diffplug.spotless.Formatter.compute(Formatter.java:230)\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:203)\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:190)\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.processInputFile(SpotlessTaskImpl.java:102)\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.performAction(SpotlessTaskImpl.java:88)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n        at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n        at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected\n        at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics(FormatterException.java:51)\n        at com.google.googlejavaformat.java.RemoveUnusedImports.parse(RemoveUnusedImports.java:262)\n        at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports(RemoveUnusedImports.java:219)\n        ... 129 more\n</code></pre>\n<p>UPDATE:\nI deleted my project, rebooted my machine (mac), created a new directory, cloned the master branch, created a new local branch, and now am able to commit some changes.\nI don't think this is a permanent solution; I am guessing an underlying problem still exists.</p>\n<p>UPDATE 2:\nApparently the problem is caused when I try and commit changes made to certain areas of the project. For example, I want to modify one class in the main code section and the error pops up, but I can modify a docker-compose file with no issues.</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1664991823,"post_id":73964273,"comment_id":130597057,"body_markdown":"What part of this very long code snippet is &quot;not allowing&quot; you to change the value, and what value (variable) are we talking about exactly?  Could you indicate clearly in the code what value is not changing?","body":"What part of this very long code snippet is &quot;not allowing&quot; you to change the value, and what value (variable) are we talking about exactly?  Could you indicate clearly in the code what value is not changing?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664992158,"post_id":73964273,"comment_id":130597173,"body_markdown":"*I have 2 programs using a process to communicate with each other.* I think not. What you might have is two independent Java programs using stdin and stdout. You can&#39;t communicate like that. The most you could do is pipe output of the one to the stdin of the other *in the same terminal*. That would be a messier and more complex way of performing similar functionality using *one application alone*. Inter-process communication is something specialized and *not* done using Java","body":"<i>I have 2 programs using a process to communicate with each other.</i> I think not. What you might have is two independent Java programs using stdin and stdout. You can&#39;t communicate like that. The most you could do is pipe output of the one to the stdin of the other <i>in the same terminal</i>. That would be a messier and more complex way of performing similar functionality using <i>one application alone</i>. Inter-process communication is something specialized and <i>not</i> done using Java"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664993385,"post_id":73964273,"comment_id":130597543,"body_markdown":"Just an aside, I believe Java&#39;s named pipes implement IPC: https://stackoverflow.com/questions/634564/how-to-open-a-windows-named-pipe-from-java","body":"Just an aside, I believe Java&#39;s named pipes implement IPC: <a href=\"https://stackoverflow.com/questions/634564/how-to-open-a-windows-named-pipe-from-java\" title=\"how to open a windows named pipe from java\">stackoverflow.com/questions/634564/&hellip;</a>"},{"owner":{"display_name":"user17244850"},"score":0,"creation_date":1664998320,"post_id":73964273,"comment_id":130599075,"body_markdown":"@markspace I am trying to let the user pick which passkey they wanted encrypted. There is a method history that is a linked list full of all of the available passwords. If you try to change which password you want to be encrypted, It keeps returning the same value","body":"@markspace I am trying to let the user pick which passkey they wanted encrypted. There is a method history that is a linked list full of all of the available passwords. If you try to change which password you want to be encrypted, It keeps returning the same value"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664998819,"post_id":73964273,"comment_id":130599207,"body_markdown":"Which variable is that?  Where is that in the code exactly?","body":"Which variable is that?  Where is that in the code exactly?"},{"owner":{"display_name":"user17244850"},"score":0,"creation_date":1665006456,"post_id":73964273,"comment_id":130601225,"body_markdown":"history is supposed to output the index of the option that the user selects, and then encrypt is supposed to decrypt the string at that index in the linkedlist, my problem is - once you encrypy one string - it wont let you encryot a different string without restarting the program @markspace","body":"history is supposed to output the index of the option that the user selects, and then encrypt is supposed to decrypt the string at that index in the linkedlist, my problem is - once you encrypy one string - it wont let you encryot a different string without restarting the program @markspace"}],"owner":{"display_name":"user17244850"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665006378,"creation_date":1664991493,"question_id":73964273,"body_markdown":"I have 2 programs using a process to communicate with each other. My program is meant to allow a user to encrypt any password from their history - however it is not allowing me to change the value of what I am trying to encrypt. I understand how the processes communicate, but for some reason changing the value is not working.\r\n\r\nMy history\r\n```\r\n public static int History(LinkedList&lt;String&gt; listy){\r\n        Scanner s = new Scanner(System.in);\r\n        int input;\r\n        String selection;\r\n        System.out.println(&quot;--------------------&quot;);\r\n        System.out.println(&quot;       History      &quot;);\r\n        for(int i = 0; i &lt; listy.size(); i++){\r\n            System.out.println(i + &quot;.) &quot; + listy.get(i));\r\n        }\r\n        System.out.println(&quot;Please make a selection: &quot;);\r\n        input = s.nextInt();\r\n\r\n        selection = listy.get(input);\r\n        System.out.println(&quot;--------------------&quot;);\r\n        return input;\r\n    }\r\n```\r\n\r\nHere is my encrypt:\r\n```\r\nString mode;\r\n        Scanner s = new Scanner(System.in);\r\n        String passkey = &quot;&quot;;\r\n        //String answer = &quot;&quot;;\r\n        mode = s.next();\r\n        String encryptedMsg = &quot;&quot;;\r\n\r\n            while(!mode.equals(&quot;QUIT&quot;)){\r\n                if(mode.equals(&quot;PASSKEY&quot;)){\r\n                    passkey = s.next();\r\n                    passkey = passkey.toUpperCase();\r\n                    encryptedMsg = encrypt(passkey);\r\n                }\r\n            if(mode.equals(&quot;ENCRYPT&quot;)){\r\n                System.out.println(encrypt(passkey) + &quot; is the password encrypted&quot;);\r\n            }else if(mode.equals(&quot;DECRYPT&quot;)){\r\n                System.out.println(decrypt(encryptedMsg) + &quot; is the password decrypted&quot;);\r\n            }\r\n            mode = s.next();\r\n        }\r\n```\r\n\r\nand here is my call to change the passkey being encrypted:\r\n```\r\nelse if(mode.equals(&quot;ENCRYPT&quot;)){\r\n                        toLogger.println(&quot;ENCRYPT&quot;);\r\n                        String thisPasskey;\r\n                        System.out.println(&quot;Would you like to see your password history? Enter (Y/N)&quot;);\r\n                        mode = s.next();\r\n                        if(mode.equals(&quot;Y&quot;)){\r\n                            //History(listykenz);\r\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\r\n                            //thisPasskey = History(listykenz);\r\n                            int index = History(listykenz);\r\n                            System.out.println(listykenz.get(index));\r\n                            toEncrypt.println(listykenz.get(index));\r\n                            toEncrypt.flush();\r\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\r\n                            toEncrypt.flush();\r\n                            System.out.println(fromEncrypt.nextLine());\r\n                            toEncrypt.flush();\r\n                            toLogger.flush();\r\n                        }else if(mode.equals(&quot;N&quot;)) {\r\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\r\n                            thisPasskey = listykenz.getLast();\r\n                            System.out.println(thisPasskey);\r\n                            toEncrypt.println(thisPasskey);\r\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\r\n                            toEncrypt.flush();\r\n                            System.out.println(fromEncrypt.nextLine());\r\n                            toLogger.flush();\r\n                            toEncrypt.flush();\r\n                        }\r\n                        toLogger.flush();\r\n                    }\r\n```\r\nThank you","title":"Java process how to change value","body":"<p>I have 2 programs using a process to communicate with each other. My program is meant to allow a user to encrypt any password from their history - however it is not allowing me to change the value of what I am trying to encrypt. I understand how the processes communicate, but for some reason changing the value is not working.</p>\n<p>My history</p>\n<pre><code> public static int History(LinkedList&lt;String&gt; listy){\n        Scanner s = new Scanner(System.in);\n        int input;\n        String selection;\n        System.out.println(&quot;--------------------&quot;);\n        System.out.println(&quot;       History      &quot;);\n        for(int i = 0; i &lt; listy.size(); i++){\n            System.out.println(i + &quot;.) &quot; + listy.get(i));\n        }\n        System.out.println(&quot;Please make a selection: &quot;);\n        input = s.nextInt();\n\n        selection = listy.get(input);\n        System.out.println(&quot;--------------------&quot;);\n        return input;\n    }\n</code></pre>\n<p>Here is my encrypt:</p>\n<pre><code>String mode;\n        Scanner s = new Scanner(System.in);\n        String passkey = &quot;&quot;;\n        //String answer = &quot;&quot;;\n        mode = s.next();\n        String encryptedMsg = &quot;&quot;;\n\n            while(!mode.equals(&quot;QUIT&quot;)){\n                if(mode.equals(&quot;PASSKEY&quot;)){\n                    passkey = s.next();\n                    passkey = passkey.toUpperCase();\n                    encryptedMsg = encrypt(passkey);\n                }\n            if(mode.equals(&quot;ENCRYPT&quot;)){\n                System.out.println(encrypt(passkey) + &quot; is the password encrypted&quot;);\n            }else if(mode.equals(&quot;DECRYPT&quot;)){\n                System.out.println(decrypt(encryptedMsg) + &quot; is the password decrypted&quot;);\n            }\n            mode = s.next();\n        }\n</code></pre>\n<p>and here is my call to change the passkey being encrypted:</p>\n<pre><code>else if(mode.equals(&quot;ENCRYPT&quot;)){\n                        toLogger.println(&quot;ENCRYPT&quot;);\n                        String thisPasskey;\n                        System.out.println(&quot;Would you like to see your password history? Enter (Y/N)&quot;);\n                        mode = s.next();\n                        if(mode.equals(&quot;Y&quot;)){\n                            //History(listykenz);\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\n                            //thisPasskey = History(listykenz);\n                            int index = History(listykenz);\n                            System.out.println(listykenz.get(index));\n                            toEncrypt.println(listykenz.get(index));\n                            toEncrypt.flush();\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\n                            toEncrypt.flush();\n                            System.out.println(fromEncrypt.nextLine());\n                            toEncrypt.flush();\n                            toLogger.flush();\n                        }else if(mode.equals(&quot;N&quot;)) {\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\n                            thisPasskey = listykenz.getLast();\n                            System.out.println(thisPasskey);\n                            toEncrypt.println(thisPasskey);\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\n                            toEncrypt.flush();\n                            System.out.println(fromEncrypt.nextLine());\n                            toLogger.flush();\n                            toEncrypt.flush();\n                        }\n                        toLogger.flush();\n                    }\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"score":0,"creation_date":1664998916,"post_id":73965555,"comment_id":130599229,"body_markdown":"This is what I have so far. It works when the input is 0 and when the input is less then 0 however, it doesn&#39;t work when the input is above 0. I just want to know how to basically do input * the corporate rate = tax (double)","body":"This is what I have so far. It works when the input is 0 and when the input is less then 0 however, it doesn&#39;t work when the input is above 0. I just want to know how to basically do input * the corporate rate = tax (double)"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1664999209,"post_id":73965555,"comment_id":130599311,"body_markdown":"Remember, [put all your details in the post](/help/how-to-ask), just use the [edit] function and work them into your post, don&#39;t post comments with additional details. (and don&#39;t just write &quot;edit:&quot; and then the new details, actually work them into your post, so that they&#39;re in the right place in the text relevant to what you&#39;re talking about)","body":"Remember, <a href=\"/help/how-to-ask\">put all your details in the post</a>, just use the <a href=\"https://stackoverflow.com/posts/73965555/edit\">edit</a> function and work them into your post, don&#39;t post comments with additional details. (and don&#39;t just write &quot;edit:&quot; and then the new details, actually work them into your post, so that they&#39;re in the right place in the text relevant to what you&#39;re talking about)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1664999412,"post_id":73965555,"comment_id":130599368,"body_markdown":"Your question does not make clear where exactly is the problem you are facing. Making a guess, are you perhaps trying to do `tax = income.getIncome() * corporaterate`?","body":"Your question does not make clear where exactly is the problem you are facing. Making a guess, are you perhaps trying to do <code>tax = income.getIncome() * corporaterate</code>?"},{"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"score":0,"creation_date":1664999852,"post_id":73965555,"comment_id":130599492,"body_markdown":"@Chaosfire I apologize for not being clearer. I am just trying to figure out how to multiply the income method by the corporaterate when the income method is in a different class. I can&#39;t figure out how to call the method when it is in another class. Currently it is in another class called Tax Payer.","body":"@Chaosfire I apologize for not being clearer. I am just trying to figure out how to multiply the income method by the corporaterate when the income method is in a different class. I can&#39;t figure out how to call the method when it is in another class. Currently it is in another class called Tax Payer."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1665000311,"post_id":73965555,"comment_id":130599612,"body_markdown":"@JOHN As mentioned in another comment, you should edit your question with such information, not adding comments, there is even link for editing included. About how to call the method, it&#39;s done exactly the way i wrote it in my previous comment.","body":"@JOHN As mentioned in another comment, you should edit your question with such information, not adding comments, there is even link for editing included. About how to call the method, it&#39;s done exactly the way i wrote it in my previous comment."}],"answers":[{"comments":[{"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"score":0,"creation_date":1665005839,"post_id":73966380,"comment_id":130601104,"body_markdown":"I appreciate your answer! Thank you so much. I have updated my code and shown the entirety of the TaxPayer class.","body":"I appreciate your answer! Thank you so much. I have updated my code and shown the entirety of the TaxPayer class."}],"tags":[],"owner":{"account_id":4945200,"reputation":114,"user_id":3980798,"display_name":"Kevin Field"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665004255,"creation_date":1665004255,"answer_id":73966380,"question_id":73965555,"body_markdown":"To call method getIncome() that is a method of class TaxPayer, there are two possibilities, depending upon whether the method is a static method or an instance method.\r\n\r\nFor a static method, from the other class (such as from TaxCalculator):\r\n\r\n    tax = TaxPayer.getIncome() * corporateRate;  // TaxPayer is a class; getIncome() is a static method\r\n\r\nFor instance methods, you need an instance of a TaxPayer object:\r\n\r\n    tax = taxPayer.getIncome() * corporateRate;  // taxPayer is an object of type TaxPayer; getIncome is an instance method\r\n\r\nFrom what you posted, it appears that you&#39;re working with an instance method, and the calculate method that calls the getIncome() method gets an instance of TaxPayer as it&#39;s parameter. If this is all true, the code seems correct. Before you call calculateCorporateIncomeTax(payer), you should verify that TaxPayer object *payer* is initialized correctly.\r\n\r\nAs others have stated, it would be easier to answer with full code posted.\r\n","title":"How do I multiply by a method in a different class java","body":"<p>To call method getIncome() that is a method of class TaxPayer, there are two possibilities, depending upon whether the method is a static method or an instance method.</p>\n<p>For a static method, from the other class (such as from TaxCalculator):</p>\n<pre><code>tax = TaxPayer.getIncome() * corporateRate;  // TaxPayer is a class; getIncome() is a static method\n</code></pre>\n<p>For instance methods, you need an instance of a TaxPayer object:</p>\n<pre><code>tax = taxPayer.getIncome() * corporateRate;  // taxPayer is an object of type TaxPayer; getIncome is an instance method\n</code></pre>\n<p>From what you posted, it appears that you're working with an instance method, and the calculate method that calls the getIncome() method gets an instance of TaxPayer as it's parameter. If this is all true, the code seems correct. Before you call calculateCorporateIncomeTax(payer), you should verify that TaxPayer object <em>payer</em> is initialized correctly.</p>\n<p>As others have stated, it would be easier to answer with full code posted.</p>\n"}],"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1665005802,"creation_date":1664998858,"question_id":73965555,"body_markdown":"I want to know how to call an income method that is located in a different method. Currently, my income method is located in a TaxPayer class. I want to call on this method however, and use it in the equation below income * corporate rate = tax. How do I do this?\r\nTax calculator:\r\n\r\n\t`public class TaxCalculator {\r\n\tdouble tax;\r\n\r\n\r\n\t\r\n\t/**\r\n\t * Creates a TaxCalculator using 2021-2022 tax rates;\r\n\t */\r\n\tpublic TaxCalculator() {\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * Calculates a tax payer&#39;s tax assuming they are a corporation.\r\n\t * \r\n\t * @precondition payer != null AND payer.isCorporation()==true\r\n\t * @postcondition none\r\n\t * \r\n\t * @param payer the tax payer\r\n\t */\r\n\r\n\tpublic double corporaterate = 0.21;\r\n\tpublic double taxcalc(TaxPayer income) {\r\n\t\ttax = income.getIncome() * corporaterate;\r\n\t\treturn tax;\r\n\t}\r\n\r\n\t\r\n\tpublic double calculateCorporateIncomeTax(TaxPayer payer) {\r\n\t\tif (tax &lt; 0) {\r\n\t\t\ttax = 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn tax;\r\n\t}`\r\n\t\r\n\r\nI am trying to call upon my method located in a different class called Tax Payer: \r\n```\r\npublic class TaxPayer {\r\n\tprivate String name;\r\n\tprivate int age;\r\n\tprivate boolean isCorporation;\r\n\tprivate double income;\r\n\t\r\n\t/**\r\n\t * Creates a new taxpayer.\r\n\t * \r\n\t * @precondition name != null AND !name.isEmpty() AND age &gt;= 0\r\n\t * @postcondition getName()==name AND getAge()==age AND getIsBusiness()=isBusiness\r\n\t * \r\n\t * @param name the person or business&#39; name\r\n\t * @param age the person&#39;s age (ignored if it is a business)\r\n\t * @param income the annual income\r\n\t * @param isCorporation true if the taxpayer is a business, false otherwise\r\n\t */\r\n\tpublic TaxPayer(String name, int age, double income, boolean isCorporation) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.age = age;\r\n\t\tthis.isCorporation = isCorporation;\r\n\t\tthis.income = income;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the name\r\n\t * @return the name\r\n\t */\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the age\r\n\t * @return the age\r\n\t */\r\n\tpublic int getAge() {\r\n\t\treturn this.age;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the taxpayer&#39;s annual income.\r\n\t * @return the taxpayer&#39;s annual income.\r\n\t */\r\n\tpublic double getIncome() {\r\n\t\treturn this.income;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets whether or not this is a corporation (and not a person)\r\n\t * @return true if a corporation, false otherwise\r\n\t */\r\n\tpublic boolean isCorporation() {\r\n\t\treturn this.isCorporation;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\nI want to know how to call this getIncome method.\r\n\r\n","title":"How do I multiply by a method in a different class java","body":"<p>I want to know how to call an income method that is located in a different method. Currently, my income method is located in a TaxPayer class. I want to call on this method however, and use it in the equation below income * corporate rate = tax. How do I do this?\nTax calculator:</p>\n<pre><code>`public class TaxCalculator {\ndouble tax;\n\n\n\n/**\n * Creates a TaxCalculator using 2021-2022 tax rates;\n */\npublic TaxCalculator() {\n\n}\n\n/**\n * Calculates a tax payer's tax assuming they are a corporation.\n * \n * @precondition payer != null AND payer.isCorporation()==true\n * @postcondition none\n * \n * @param payer the tax payer\n */\n\npublic double corporaterate = 0.21;\npublic double taxcalc(TaxPayer income) {\n    tax = income.getIncome() * corporaterate;\n    return tax;\n}\n\n\npublic double calculateCorporateIncomeTax(TaxPayer payer) {\n    if (tax &lt; 0) {\n        tax = 0;\n    }\n    \n    return tax;\n}`\n</code></pre>\n<p>I am trying to call upon my method located in a different class called Tax Payer:</p>\n<pre><code>public class TaxPayer {\n    private String name;\n    private int age;\n    private boolean isCorporation;\n    private double income;\n    \n    /**\n     * Creates a new taxpayer.\n     * \n     * @precondition name != null AND !name.isEmpty() AND age &gt;= 0\n     * @postcondition getName()==name AND getAge()==age AND getIsBusiness()=isBusiness\n     * \n     * @param name the person or business' name\n     * @param age the person's age (ignored if it is a business)\n     * @param income the annual income\n     * @param isCorporation true if the taxpayer is a business, false otherwise\n     */\n    public TaxPayer(String name, int age, double income, boolean isCorporation) {\n        super();\n        this.name = name;\n        this.age = age;\n        this.isCorporation = isCorporation;\n        this.income = income;\n    }\n\n    /**\n     * Gets the name\n     * @return the name\n     */\n    public String getName() {\n        return this.name;\n    }\n\n    /**\n     * Gets the age\n     * @return the age\n     */\n    public int getAge() {\n        return this.age;\n    }\n    \n    /**\n     * Gets the taxpayer's annual income.\n     * @return the taxpayer's annual income.\n     */\n    public double getIncome() {\n        return this.income;\n    }\n\n    /**\n     * Gets whether or not this is a corporation (and not a person)\n     * @return true if a corporation, false otherwise\n     */\n    public boolean isCorporation() {\n        return this.isCorporation;\n    }\n    \n    \n}\n</code></pre>\n<p>I want to know how to call this getIncome method.</p>\n"},{"tags":["java","sql","unix","jdbc","db2"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665005136,"post_id":73965838,"comment_id":130600926,"body_markdown":"The local DB&#39;s table contains different data from the remote DB&#39;s table? (or, when you say &quot;the same database&quot; do you mean the same JDBC connection URL to the same server and the same physical DB?) Or, there is an error but your code has swallowed it, instead of logging it (maybe unlikely)? Some other reason? There isn&#39;t much info for us to go on.","body":"The local DB&#39;s table contains different data from the remote DB&#39;s table? (or, when you say &quot;the same database&quot; do you mean the same JDBC connection URL to the same server and the same physical DB?) Or, there is an error but your code has swallowed it, instead of logging it (maybe unlikely)? Some other reason? There isn&#39;t much info for us to go on."},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1665005588,"post_id":73965838,"comment_id":130601035,"body_markdown":"What&#39;s the `edm.tdemande.datecreation` column data type? It&#39;s a prepared statement according to the `datecreation &lt; ?` expression. Edit your question with your java code showing the data type of the parameter and the actual parameter value you get unexpected result on.","body":"What&#39;s the <code>edm.tdemande.datecreation</code> column data type? It&#39;s a prepared statement according to the <code>datecreation &lt; ?</code> expression. Edit your question with your java code showing the data type of the parameter and the actual parameter value you get unexpected result on."}],"owner":{"account_id":26539111,"reputation":1,"user_id":20170161,"display_name":"Jefferson Faustin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665004781,"creation_date":1665000712,"question_id":73965838,"body_markdown":"I have a select query that is suppose to return the number of request in a table, that fits certain criterias. When I run it locally, in my eclipse IDE, it returns the number request, but when I deploy it in a distant server, it returns 0. I&#39;m using java, with a db2 client, with jdbc and the server is a unix server. There&#39;s no error, on ther server, it returns nothing, but locally  it returns the number of records. It&#39;s the same database, table, same username and password, just different results on the server and local. `What could be the reason for that?\r\n\r\nHere is the query:\r\n```sql\r\nselect count(numconfirmation) as recordCount from edm.tdemande where (typedemande not in (&#39;1&#39;, &#39;4&#39;, &#39;105&#39;, &#39;66&#39;, &#39;75&#39;, &#39;76&#39;, &#39;78&#39;, &#39;12&#39;, &#39;84&#39;, &#39;60&#39;, &#39;61&#39;, &#39;42&#39;, &#39;42S&#39;, &#39;43&#39;, &#39;43S&#39;, &#39;44&#39;, &#39;2&#39;, &#39;5&#39;, &#39;40&#39;, &#39;7&#39;, &#39;2S&#39;, &#39;3S&#39;, &#39;6&#39;, &#39;3&#39;, &#39;30&#39;, &#39;31&#39;, &#39;13&#39;, &#39;15&#39;, &#39;22&#39;, &#39;23&#39;, &#39;24&#39;, &#39;25&#39;, &#39;36&#39;, &#39;82&#39;, &#39;33&#39;, &#39;34&#39;, &#39;35&#39;, &#39;37&#39;, &#39;38&#39;, &#39;39&#39;, &#39;45&#39;, &#39;46&#39;, &#39;47&#39;, &#39;48&#39;, &#39;49&#39;, &#39;50&#39;, &#39;52&#39;, &#39;53&#39;, &#39;54&#39;, &#39;55&#39;, &#39;56&#39;, &#39;57&#39;, &#39;88&#39;, &#39;89&#39;, &#39;90&#39;, &#39;91&#39;, &#39;93&#39;, &#39;14&#39;, &#39;70&#39;, &#39;73&#39;, &#39;74&#39;, &#39;18&#39;, &#39;29&#39;, &#39;87&#39;) or codedomaff in (&#39;MAR&#39;,&#39;AFF&#39;,&#39;DFCE&#39;)) and datecreation &lt; ?  with ur\r\n```","title":"SQL query select return empty resultset in distant server but not when running locally","body":"<p>I have a select query that is suppose to return the number of request in a table, that fits certain criterias. When I run it locally, in my eclipse IDE, it returns the number request, but when I deploy it in a distant server, it returns 0. I'm using java, with a db2 client, with jdbc and the server is a unix server. There's no error, on ther server, it returns nothing, but locally  it returns the number of records. It's the same database, table, same username and password, just different results on the server and local. `What could be the reason for that?</p>\n<p>Here is the query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select count(numconfirmation) as recordCount from edm.tdemande where (typedemande not in ('1', '4', '105', '66', '75', '76', '78', '12', '84', '60', '61', '42', '42S', '43', '43S', '44', '2', '5', '40', '7', '2S', '3S', '6', '3', '30', '31', '13', '15', '22', '23', '24', '25', '36', '82', '33', '34', '35', '37', '38', '39', '45', '46', '47', '48', '49', '50', '52', '53', '54', '55', '56', '57', '88', '89', '90', '91', '93', '14', '70', '73', '74', '18', '29', '87') or codedomaff in ('MAR','AFF','DFCE')) and datecreation &lt; ?  with ur\n</code></pre>\n"},{"tags":["javascript","java","microservices","jaeger","opentracing"],"answers":[{"tags":[],"owner":{"account_id":5757532,"reputation":129,"user_id":4544921,"display_name":"cyber_trunk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665004705,"creation_date":1665004705,"answer_id":73966431,"question_id":73941607,"body_markdown":"Jaeger has a solution to address the possibility of clock skew between the many host machines part of the traces: https://www.jaegertracing.io/docs/1.21/deployment/#clock-skew-adjustment\r\n\r\nIt is most likely the case that one of the host machines have a clock skew which causes the tracing to be out of order.","title":"Jaeger traces out of order","body":"<p>Jaeger has a solution to address the possibility of clock skew between the many host machines part of the traces: <a href=\"https://www.jaegertracing.io/docs/1.21/deployment/#clock-skew-adjustment\" rel=\"nofollow noreferrer\">https://www.jaegertracing.io/docs/1.21/deployment/#clock-skew-adjustment</a></p>\n<p>It is most likely the case that one of the host machines have a clock skew which causes the tracing to be out of order.</p>\n"}],"owner":{"account_id":5757532,"reputation":129,"user_id":4544921,"display_name":"cyber_trunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665004705,"creation_date":1664838280,"question_id":73941607,"body_markdown":"I have a front-end application (component A) that makes a request to a Java back-end application (component B). \r\n\r\nBoth components are configured to export trace information to my jaegertracing/all-in-one:1.37 deployment.\r\n\r\nThe headers from component A are propagating correctly to component B, and I can see the traces being nested, but they are out of order.[![enter image description here][2]][2]\r\n[![enter image description here][1]][1]\r\n\r\nI printed the start and end time for both component A and B, it looks like timestamp from component B is *earlier* than of component A. Has anyone run into this issue before?\r\n\r\nThe way I print the epoch time for both services are:\r\n\r\n**Java**\r\nSystem.currentTimeMillis();\r\n\r\n**JavaScript**\r\nnew Date().getTime()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OJNAz.png\r\n  [2]: https://i.stack.imgur.com/xPnLL.png","title":"Jaeger traces out of order","body":"<p>I have a front-end application (component A) that makes a request to a Java back-end application (component B).</p>\n<p>Both components are configured to export trace information to my jaegertracing/all-in-one:1.37 deployment.</p>\n<p>The headers from component A are propagating correctly to component B, and I can see the traces being nested, but they are out of order.<a href=\"https://i.stack.imgur.com/xPnLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPnLL.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/OJNAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJNAz.png\" alt=\"enter image description here\" /></a></p>\n<p>I printed the start and end time for both component A and B, it looks like timestamp from component B is <em>earlier</em> than of component A. Has anyone run into this issue before?</p>\n<p>The way I print the epoch time for both services are:</p>\n<p><strong>Java</strong>\nSystem.currentTimeMillis();</p>\n<p><strong>JavaScript</strong>\nnew Date().getTime()</p>\n"},{"tags":["java","refactoring","abstract-class"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665002725,"post_id":73966054,"comment_id":130600289,"body_markdown":"Don&#39;t make the method abstract but implement it in the base class?","body":"Don&#39;t make the method abstract but implement it in the base class?"},{"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"score":0,"creation_date":1665003434,"post_id":73966054,"comment_id":130600483,"body_markdown":"Are you saying to keep the abstract class but make none of its methods abstract?","body":"Are you saying to keep the abstract class but make none of its methods abstract?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665003546,"post_id":73966054,"comment_id":130600531,"body_markdown":"I&#39;m not saying _none_ of its methods, but implement the methods which need implementing. Any method which _must_ be implemented by the child classes should remain abstract.","body":"I&#39;m not saying <i>none</i> of its methods, but implement the methods which need implementing. Any method which <i>must</i> be implemented by the child classes should remain abstract."},{"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"score":0,"creation_date":1665003719,"post_id":73966054,"comment_id":130600580,"body_markdown":"Ah got it, yep that seems like the easiest approach then. Thanks!","body":"Ah got it, yep that seems like the easiest approach then. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665003891,"creation_date":1665003891,"answer_id":73966320,"question_id":73966054,"body_markdown":"If all implementations of an abstract method are identical, then there&#39;s no need to have the abstract method in the first place. Move the implementation to the base class.\r\n\r\nAn abstract method _forces_ all derived classes to implement this method (or be abstract themselves). If child classes are free to implement or override the method, it doesn&#39;t have to be abstract.","title":"Trying to avoid code duplication when implementing abstract methods","body":"<p>If all implementations of an abstract method are identical, then there's no need to have the abstract method in the first place. Move the implementation to the base class.</p>\n<p>An abstract method <em>forces</em> all derived classes to implement this method (or be abstract themselves). If child classes are free to implement or override the method, it doesn't have to be abstract.</p>\n"}],"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73966320,"answer_count":1,"score":0,"last_activity_date":1665003891,"creation_date":1665001978,"question_id":73966054,"body_markdown":"I have the following abstract class defined here:\r\n```\r\n@Slf4j\r\npublic abstract class PublishMappingService {\r\n    @Autowired\r\n    private ErpPackageRepository erpPackageRepository;\r\n\r\n    @Autowired\r\n    private PubSubClient pubSubClient;\r\n\r\n    @Autowired\r\n    private RequestInfo requestInfo;\r\n\r\n    public abstract void publishMappingUpdateEvent(MappingsEntity mappingsEntity);\r\n    public abstract void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList);\r\n\r\n    public void publishEvent(String companyId) {\r\n        ErpPackage erpPackage;\r\n\r\n        try {\r\n            erpPackage = erpPackageRepository.getSelectedErpPackageForCompanyId(companyId);\r\n            pubSubClient.publishEventAsync(\r\n                    new MappingUpdatedEvent(\r\n                            erpPackage.getPartnerId(), erpPackage.getCompanyId(),\r\n                            erpPackage.getErpId(), this.requestInfo.getCorrelationId(),\r\n                            null\r\n                    )\r\n            );\r\n        } catch (NotFoundException e) {\r\n            log.error(&quot;MappingsRepository::publishEvent: This entity is not registered with ECP - companyId: {}&quot;, companyId, e);\r\n        } catch (Exception e) {\r\n            log.error(&quot;MappingsRepository::publishEvent: Failed to publish MappingUpdatedEvent for {}&quot;, companyId, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLet&#39;s say I have two classes (A and B) that inherit from the abstract base class\r\n```\r\npublic class A extends PublishMappingService {\r\n// public class B extends PublishMappingService {\r\n    @Override\r\n    public void publishMappingUpdateEvent(MappingsEntity mappingsEntity) {\r\n        // Identical in Class B\r\n        if (mappingsEntity != null) {\r\n            String companyId = mappingsEntity.getCompanyId();\r\n\r\n            publishEvent(companyId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList) {\r\n        // Identical in Class B\r\n        if (mappingsEntityList != null &amp;&amp; !mappingsEntityList.isEmpty()) {\r\n            String companyId = mappingsEntityList.get(0).getCompanyId();\r\n\r\n            publishEvent(companyId);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEssentially, the problem is that when I override and implement the abstract methods defined in my subclasses, these methods will be identical across every subclass. \r\n\r\nSince I&#39;m not avoiding code duplication with my abstract class, I thought of just making a utility class instead. However, from what I&#39;ve read, utility classes should only be created if every method can be declared as static which I can&#39;t do so as seen in the behavior of the `publishEvent` method.\r\n\r\nI also thought about using an interface with default methods but that approach also wouldn&#39;t work since then my instance variables would be need to be static and final, which isn&#39;t possible with autowired fields.\r\n\r\nThus, I&#39;m asking to see if there&#39;s any alternative ways I can approach refactoring my code to avoid duplication here? Thanks!","title":"Trying to avoid code duplication when implementing abstract methods","body":"<p>I have the following abstract class defined here:</p>\n<pre><code>@Slf4j\npublic abstract class PublishMappingService {\n    @Autowired\n    private ErpPackageRepository erpPackageRepository;\n\n    @Autowired\n    private PubSubClient pubSubClient;\n\n    @Autowired\n    private RequestInfo requestInfo;\n\n    public abstract void publishMappingUpdateEvent(MappingsEntity mappingsEntity);\n    public abstract void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList);\n\n    public void publishEvent(String companyId) {\n        ErpPackage erpPackage;\n\n        try {\n            erpPackage = erpPackageRepository.getSelectedErpPackageForCompanyId(companyId);\n            pubSubClient.publishEventAsync(\n                    new MappingUpdatedEvent(\n                            erpPackage.getPartnerId(), erpPackage.getCompanyId(),\n                            erpPackage.getErpId(), this.requestInfo.getCorrelationId(),\n                            null\n                    )\n            );\n        } catch (NotFoundException e) {\n            log.error(&quot;MappingsRepository::publishEvent: This entity is not registered with ECP - companyId: {}&quot;, companyId, e);\n        } catch (Exception e) {\n            log.error(&quot;MappingsRepository::publishEvent: Failed to publish MappingUpdatedEvent for {}&quot;, companyId, e);\n        }\n    }\n}\n</code></pre>\n<p>Let's say I have two classes (A and B) that inherit from the abstract base class</p>\n<pre><code>public class A extends PublishMappingService {\n// public class B extends PublishMappingService {\n    @Override\n    public void publishMappingUpdateEvent(MappingsEntity mappingsEntity) {\n        // Identical in Class B\n        if (mappingsEntity != null) {\n            String companyId = mappingsEntity.getCompanyId();\n\n            publishEvent(companyId);\n        }\n    }\n\n    @Override\n    public void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList) {\n        // Identical in Class B\n        if (mappingsEntityList != null &amp;&amp; !mappingsEntityList.isEmpty()) {\n            String companyId = mappingsEntityList.get(0).getCompanyId();\n\n            publishEvent(companyId);\n        }\n    }\n}\n</code></pre>\n<p>Essentially, the problem is that when I override and implement the abstract methods defined in my subclasses, these methods will be identical across every subclass.</p>\n<p>Since I'm not avoiding code duplication with my abstract class, I thought of just making a utility class instead. However, from what I've read, utility classes should only be created if every method can be declared as static which I can't do so as seen in the behavior of the <code>publishEvent</code> method.</p>\n<p>I also thought about using an interface with default methods but that approach also wouldn't work since then my instance variables would be need to be static and final, which isn't possible with autowired fields.</p>\n<p>Thus, I'm asking to see if there's any alternative ways I can approach refactoring my code to avoid duplication here? Thanks!</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":6,"creation_date":1487789757,"post_id":32841543,"comment_id":71946935,"body_markdown":"quick side note: `Mockito.times(1)` is the default of `verify` and can be omitted.","body":"quick side note: <code>Mockito.times(1)</code> is the default of <code>verify</code> and can be omitted."}],"answers":[{"comments":[{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":10,"creation_date":1591631085,"post_id":32841698,"comment_id":110122369,"body_markdown":"UPDATES, we can use `nullable(String.class)` as `isNull(String.class)` considered deprecated now","body":"UPDATES, we can use <code>nullable(String.class)</code> as <code>isNull(String.class)</code> considered deprecated now"}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":1,"down_vote_count":0,"up_vote_count":143,"is_accepted":true,"score":143,"last_activity_date":1480521530,"creation_date":1443522793,"answer_id":32841698,"question_id":32841543,"body_markdown":"The error message you are getting is expected since you are using argument matcher for only one argument and not the other. From [`Matchers`](http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html) Javadoc:\r\n&gt; If you are using argument matchers, **all arguments** have to be provided by matchers. \r\n\r\nTherefore, the fix is to use a matcher for the second parameter of the method as well. In this case, it would be a matcher matching `null`. Depending on the version of Mockito and Java, you can have:\r\n\r\n - Starting with Mockito 2, you can use [`ArgumentMatchers.isNull()`](https://static.javadoc.io/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatchers.html#isNull()). This works with Java 8 and above:\r\n\r\n        verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull());\r\n\r\n Note that if you&#39;re running with Java 7 or older, you&#39;ll need an explicit cast to make this work, because the type inference in those versions of Java does not take into account the types of the method called:\r\n\r\n        verify(objectDemo, times(1)).objectDemoMethod(any(String.class), (String) isNull());\r\n\r\n - If you&#39;re using Mockito 1, you can use the [`Matchers.isNull(clazz)`](https://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html#isNull(java.lang.Class)) instead:\r\n\r\n        verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull(String.class));\r\n\r\nFor the Java &amp;le; 7 or Mockito 1 cases, the examples uses a case where the second parameter was of type `String`: it would need to be replaced with the actual type of the method parameter.","title":"Matchers.any() for null value in Mockito","body":"<p>The error message you are getting is expected since you are using argument matcher for only one argument and not the other. From <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html\"><code>Matchers</code></a> Javadoc:</p>\n\n<blockquote>\n  <p>If you are using argument matchers, <strong>all arguments</strong> have to be provided by matchers. </p>\n</blockquote>\n\n<p>Therefore, the fix is to use a matcher for the second parameter of the method as well. In this case, it would be a matcher matching <code>null</code>. Depending on the version of Mockito and Java, you can have:</p>\n\n<ul>\n<li><p>Starting with Mockito 2, you can use <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatchers.html#isNull()\"><code>ArgumentMatchers.isNull()</code></a>. This works with Java 8 and above:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull());\n</code></pre>\n\n<p>Note that if you're running with Java 7 or older, you'll need an explicit cast to make this work, because the type inference in those versions of Java does not take into account the types of the method called:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), (String) isNull());\n</code></pre></li>\n<li><p>If you're using Mockito 1, you can use the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html#isNull(java.lang.Class)\"><code>Matchers.isNull(clazz)</code></a> instead:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull(String.class));\n</code></pre></li>\n</ul>\n\n<p>For the Java &le; 7 or Mockito 1 cases, the examples uses a case where the second parameter was of type <code>String</code>: it would need to be replaced with the actual type of the method parameter.</p>\n"},{"comments":[{"owner":{"display_name":"anon"},"score":18,"creation_date":1536090562,"post_id":51717144,"comment_id":91296865,"body_markdown":"To be clear, it&#39;s only `isNull(Class)` that&#39;s deprecated. `isNull()` is still there, and not going away anytime soon (at least, as of this writing).","body":"To be clear, it&#39;s only <code>isNull(Class)</code> that&#39;s deprecated. <code>isNull()</code> is still there, and not going away anytime soon (at least, as of this writing)."}],"tags":[],"owner":{"account_id":5409905,"reputation":2215,"user_id":4307080,"display_name":"Amadeu Cavalcante Filho"},"comment_count":1,"down_vote_count":2,"up_vote_count":44,"is_accepted":false,"score":42,"last_activity_date":1591630623,"creation_date":1533600653,"answer_id":51717144,"question_id":32841543,"body_markdown":"`isNull` seems to be deprecated \r\n\r\n&gt; With Java 8 this method will be removed in Mockito 3.0. This method is only used for generic friendliness to avoid casting, this is not anymore needed in Java 8.\r\n\r\nI think you could use `nullable`:\r\n   \r\n- `public static &lt;T&gt; T nullable(Class&lt;T&gt; clazz)`\r\n\r\nYou could use something like:\r\n\r\n    verify(objectDemo, times(1)).objectDemoMethod(any(String.class), nullable(String.class));\r\n\r\n\r\n\r\n\r\n     ","title":"Matchers.any() for null value in Mockito","body":"<p><code>isNull</code> seems to be deprecated </p>\n\n<blockquote>\n  <p>With Java 8 this method will be removed in Mockito 3.0. This method is only used for generic friendliness to avoid casting, this is not anymore needed in Java 8.</p>\n</blockquote>\n\n<p>I think you could use <code>nullable</code>:</p>\n\n<ul>\n<li><code>public static &lt;T&gt; T nullable(Class&lt;T&gt; clazz)</code></li>\n</ul>\n\n<p>You could use something like:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), nullable(String.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558359976,"creation_date":1558359976,"answer_id":56222283,"question_id":32841543,"body_markdown":"Just use:\r\n\r\n`Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), (ClassName) isNull());`\r\n\r\nAbove help me in java 8 version. Hope this will help you.","title":"Matchers.any() for null value in Mockito","body":"<p>Just use:</p>\n\n<p><code>Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), (ClassName) isNull());</code></p>\n\n<p>Above help me in java 8 version. Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":6883892,"reputation":1109,"user_id":5289701,"display_name":"Kwabena Berko"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605360411,"creation_date":1605360411,"answer_id":64834396,"question_id":32841543,"body_markdown":"You can make use of Mockito&#39;s ArgumentMatchers class, like so:\r\n\r\n```java\r\nMockito.verify(objectDemo).objectDemoMethod(ArgumentMatchers.any(String.class), ArgumentMatchers.isNull());\r\n```","title":"Matchers.any() for null value in Mockito","body":"<p>You can make use of Mockito's ArgumentMatchers class, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.verify(objectDemo).objectDemoMethod(ArgumentMatchers.any(String.class), ArgumentMatchers.isNull());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35681,"reputation":399,"user_id":101141,"accept_rate":50,"display_name":"Montana Harkin"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1665003637,"creation_date":1665003637,"answer_id":73966288,"question_id":32841543,"body_markdown":"Ran into this when using Mockito 2.28 and Mockito Kotlin 2.2 \r\n\r\n`any()` and `isNull()` weren&#39;t matching. However, `eq(null)` did finally match, so you might try that if you&#39;re in the same boat.","title":"Matchers.any() for null value in Mockito","body":"<p>Ran into this when using Mockito 2.28 and Mockito Kotlin 2.2</p>\n<p><code>any()</code> and <code>isNull()</code> weren't matching. However, <code>eq(null)</code> did finally match, so you might try that if you're in the same boat.</p>\n"}],"owner":{"account_id":6021625,"reputation":1293,"user_id":4728509,"accept_rate":67,"display_name":"Avinash Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170987,"favorite_count":0,"down_vote_count":1,"up_vote_count":104,"accepted_answer_id":32841698,"answer_count":5,"score":103,"last_activity_date":1665003637,"creation_date":1443522135,"question_id":32841543,"body_markdown":"Suppose I am having this object `objectDemo` which calls to the method `objectDemoMethod` with 2 parameters `String` and `null`. Now I want to verify with Mockito that this method was called:\r\n  \r\n    objectDemo.objectDemoMethod(&quot;SAMPLE_STRING&quot;, null);\r\n\r\nI have written this:\r\n\r\n    Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), null);\r\n\r\nbut it&#39;s giving an error:\r\n\r\n&gt; Invalid use of argument matchers for null value.\r\n\r\nIs there any another way to pass `null` value?\r\n \r\n   \r\n","title":"Matchers.any() for null value in Mockito","body":"<p>Suppose I am having this object <code>objectDemo</code> which calls to the method <code>objectDemoMethod</code> with 2 parameters <code>String</code> and <code>null</code>. Now I want to verify with Mockito that this method was called:</p>\n<pre><code>objectDemo.objectDemoMethod(&quot;SAMPLE_STRING&quot;, null);\n</code></pre>\n<p>I have written this:</p>\n<pre><code>Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), null);\n</code></pre>\n<p>but it's giving an error:</p>\n<blockquote>\n<p>Invalid use of argument matchers for null value.</p>\n</blockquote>\n<p>Is there any another way to pass <code>null</code> value?</p>\n"},{"tags":["java","file","recursion","java-7","nio"],"comments":[{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":3,"creation_date":1435554123,"post_id":2056221,"comment_id":50230609,"body_markdown":"I have just completed [Test Results](https://github.com/brettryan/io-recurse-tests) that provide performance tests for many of the answers. Unsurprisingly all NIO based answers perform best. The commons-io answer is clearly the worst performer with over twice the run length.","body":"I have just completed <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"nofollow noreferrer\">Test Results</a> that provide performance tests for many of the answers. Unsurprisingly all NIO based answers perform best. The commons-io answer is clearly the worst performer with over twice the run length."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":2,"creation_date":1475596315,"post_id":2056221,"comment_id":67001401,"body_markdown":"Java8 : Files.walk ?","body":"Java8 : Files.walk ?"}],"answers":[{"comments":[{"owner":{"account_id":267956,"reputation":1127,"user_id":556444,"accept_rate":61,"display_name":"Ginger McMurray"},"score":2,"creation_date":1594409471,"post_id":2056257,"comment_id":111127281,"body_markdown":"&quot;Use recursion&quot; isn&#39;t helpful. There should be an example of how.","body":"&quot;Use recursion&quot; isn&#39;t helpful. There should be an example of how."}],"tags":[],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Micha≈Ç Niklas"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1263382553,"creation_date":1263382553,"answer_id":2056257,"question_id":2056221,"body_markdown":"I think this should do the work:\r\n\r\n\tFile dir = new File(dirname);\r\n\tString[] files = dir.list();\r\n\r\nThis way you have files and dirs. Now use recursion and do the same for dirs (`File` class has `isDirectory()` method).","title":"Recursively list files in Java","body":"<p>I think this should do the work:</p>\n\n<pre><code>File dir = new File(dirname);\nString[] files = dir.list();\n</code></pre>\n\n<p>This way you have files and dirs. Now use recursion and do the same for dirs (<code>File</code> class has <code>isDirectory()</code> method).</p>\n"},{"comments":[{"owner":{"account_id":420478,"reputation":4165,"user_id":798198,"accept_rate":94,"display_name":"andronikus"},"score":46,"creation_date":1335549193,"post_id":2056258,"comment_id":13341894,"body_markdown":"FYI/TLDR: if you just want to list all files recursively with no filtering, do `FileUtils.listFiles(dir, TrueFileFilter.INSTANCE, TrueFileFilter.INSTANCE)`, where `dir` is a File object that points to the base directory.","body":"FYI/TLDR: if you just want to list all files recursively with no filtering, do <code>FileUtils.listFiles(dir, TrueFileFilter.INSTANCE, TrueFileFilter.INSTANCE)</code>, where <code>dir</code> is a File object that points to the base directory."},{"owner":{"account_id":2071615,"reputation":7603,"user_id":1845976,"accept_rate":56,"display_name":"schnatterer"},"score":2,"creation_date":1392378068,"post_id":2056258,"comment_id":32948084,"body_markdown":"You might want to consider using `listFilesAndDirs()`, as `listFiles()` does not return empty folders.","body":"You might want to consider using <code>listFilesAndDirs()</code>, as <code>listFiles()</code> does not return empty folders."},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":1,"creation_date":1400836528,"post_id":2056258,"comment_id":36656131,"body_markdown":"@MikeFHay Looking at the FileUtils code, I think that vould be `FileUtils.listFiles(dir, true, true)`. using `FileUtils.listFiles(dir, null, true)` will throw an Exception, while `FileUtils.listFiles(dir, true, null)` will list all files without looking into subdirectories.","body":"@MikeFHay Looking at the FileUtils code, I think that vould be <code>FileUtils.listFiles(dir, true, true)</code>. using <code>FileUtils.listFiles(dir, null, true)</code> will throw an Exception, while <code>FileUtils.listFiles(dir, true, null)</code> will list all files without looking into subdirectories."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1410988401,"post_id":2056258,"comment_id":40538285,"body_markdown":"How about a JDK native library? I can implement this easy but I would simply be C&amp;P from other places","body":"How about a JDK native library? I can implement this easy but I would simply be C&amp;P from other places"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":1,"creation_date":1435499898,"post_id":2056258,"comment_id":50216478,"body_markdown":"I&#39;m putting some tests together, but so far this seems to be performing 4 times slower than that of using JDK8 or JDK7 alternatives. Symlinks also prove to be problematic with this approach, especially where they link to directories higher in the tree, this causes the method to never return, this can be avoided by handling the filter, but unfortunately the symlinks themselves don&#39;t get visited even as a file.","body":"I&#39;m putting some tests together, but so far this seems to be performing 4 times slower than that of using JDK8 or JDK7 alternatives. Symlinks also prove to be problematic with this approach, especially where they link to directories higher in the tree, this causes the method to never return, this can be avoided by handling the filter, but unfortunately the symlinks themselves don&#39;t get visited even as a file."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":5,"down_vote_count":3,"up_vote_count":171,"is_accepted":false,"score":168,"last_activity_date":1468267973,"creation_date":1263382565,"answer_id":2056258,"question_id":2056221,"body_markdown":"[FileUtils][1] have [`iterateFiles`][2] and [`listFiles`][3] methods. Give them a try. (from &lt;a href=&quot;http://commons.apache.org/proper/commons-io/&quot;&gt;commons-io&lt;/a&gt;)\r\n\r\nEdit: You can [check here][4] for a benchmark of different approaches. It seems that the commons-io approach is slow, so pick some of the faster ones [from here][5] (if it matters)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#iterateFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\r\n  [3]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#listFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\r\n  [4]: https://github.com/brettryan/io-recurse-tests\r\n  [5]: https://github.com/brettryan/io-recurse-tests/blob/master/src/test/java/com/drunkendev/io/recurse/tests/RecursionTest.java","title":"Recursively list files in Java","body":"<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">FileUtils</a> have <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#iterateFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\" rel=\"noreferrer\"><code>iterateFiles</code></a> and <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#listFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\" rel=\"noreferrer\"><code>listFiles</code></a> methods. Give them a try. (from <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">commons-io</a>)</p>\n\n<p>Edit: You can <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"noreferrer\">check here</a> for a benchmark of different approaches. It seems that the commons-io approach is slow, so pick some of the faster ones <a href=\"https://github.com/brettryan/io-recurse-tests/blob/master/src/test/java/com/drunkendev/io/recurse/tests/RecursionTest.java\" rel=\"noreferrer\">from here</a> (if it matters)</p>\n"},{"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":1,"creation_date":1263383040,"post_id":2056259,"comment_id":1983882,"body_markdown":"Please! let the caller initialize the files list so it hasn&#39;t have to check its nullity each time. If you want create a second (public) method that creates the list, calls this internal method and returns the complete list.","body":"Please! let the caller initialize the files list so it hasn&#39;t have to check its nullity each time. If you want create a second (public) method that creates the list, calls this internal method and returns the complete list."},{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":1,"creation_date":1263383137,"post_id":2056259,"comment_id":1983890,"body_markdown":"whatever. a null check isn&#39;t very expensive, convenience + personal preference aside i think he&#39;ll get the point.","body":"whatever. a null check isn&#39;t very expensive, convenience + personal preference aside i think he&#39;ll get the point."}],"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"comment_count":2,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1263382586,"creation_date":1263382586,"answer_id":2056259,"question_id":2056221,"body_markdown":"just write it yourself using simple recursion:\r\n\r\n    public List&lt;File&gt; addFiles(List&lt;File&gt; files, File dir)\r\n    {\r\n        if (files == null)\r\n            files = new LinkedList&lt;File&gt;();\r\n    \r\n        if (!dir.isDirectory())\r\n        {\r\n            files.add(dir);\r\n            return files;\r\n        }\r\n    \r\n        for (File file : dir.listFiles())\r\n            addFiles(files, file);\r\n        return files;\r\n    }","title":"Recursively list files in Java","body":"<p>just write it yourself using simple recursion:</p>\n\n<pre><code>public List&lt;File&gt; addFiles(List&lt;File&gt; files, File dir)\n{\n    if (files == null)\n        files = new LinkedList&lt;File&gt;();\n\n    if (!dir.isDirectory())\n    {\n        files.add(dir);\n        return files;\n    }\n\n    for (File file : dir.listFiles())\n        addFiles(files, file);\n    return files;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":160897,"reputation":2483,"user_id":381281,"accept_rate":67,"display_name":"hfs"},"score":6,"creation_date":1321522244,"post_id":2056276,"comment_id":10024938,"body_markdown":"From the documentation of `listFiles()`: ‚ÄúIf this abstract pathname does not denote a directory, then this method returns `null`.‚Äù","body":"From the documentation of <code>listFiles()</code>: ‚ÄúIf this abstract pathname does not denote a directory, then this method returns <code>null</code>.‚Äù"},{"owner":{"account_id":1401031,"reputation":2245,"user_id":1329813,"display_name":"Ben"},"score":0,"creation_date":1385163050,"post_id":2056276,"comment_id":30044929,"body_markdown":"Improved variant\n\n\n    public static Collection&lt;File&gt; listFileTree(File dir) {\n        if (null == dir || !dir.isDirectory()) {\n            return Collections.emptyList();\n        }\n        final Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\n        for (File entry : dir.listFiles()) {\n            if (entry.isFile()) {\n                fileTree.add(entry);\n            } else {\n                fileTree.addAll(listFileTree(entry));\n            }\n        }\n        return fileTree;\n    }","body":"Improved variant       public static Collection&lt;File&gt; listFileTree(File dir) {         if (null == dir || !dir.isDirectory()) {             return Collections.emptyList();         }         final Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();         for (File entry : dir.listFiles()) {             if (entry.isFile()) {                 fileTree.add(entry);             } else {                 fileTree.addAll(listFileTree(entry));             }         }         return fileTree;     }"},{"owner":{"account_id":1559523,"reputation":331,"user_id":1449743,"display_name":"William"},"score":0,"creation_date":1527777035,"post_id":2056276,"comment_id":88263436,"body_markdown":"To me this is the most concise answer that is recursive.","body":"To me this is the most concise answer that is recursive."}],"tags":[],"owner":{"account_id":20147,"reputation":1152,"user_id":1958045,"display_name":"Stefan Schmidt"},"comment_count":3,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1263382773,"creation_date":1263382773,"answer_id":2056276,"question_id":2056221,"body_markdown":"I would go with something like: \r\n\r\n    public void list(File file) {\r\n\t\tSystem.out.println(file.getName());\r\n\t\tFile[] children = file.listFiles();\r\n\t\tfor (File child : children) {\r\n\t\t\tlist(child);\r\n\t\t}\r\n\t}\r\n\r\nThe System.out.println is just there to indicate to do something with the file. there is no need to differentiate between files and directories, since a normal file will simply have zero children.","title":"Recursively list files in Java","body":"<p>I would go with something like: </p>\n\n<pre><code>public void list(File file) {\n    System.out.println(file.getName());\n    File[] children = file.listFiles();\n    for (File child : children) {\n        list(child);\n    }\n}\n</code></pre>\n\n<p>The System.out.println is just there to indicate to do something with the file. there is no need to differentiate between files and directories, since a normal file will simply have zero children.</p>\n"},{"comments":[{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":10,"creation_date":1435497414,"post_id":2056326,"comment_id":50215739,"body_markdown":"Just beware that for symbolic links that point to a path higher in the path hierarchy will cause the method to never end. Consider a path with a symlink that points to `-&gt; .`.","body":"Just beware that for symbolic links that point to a path higher in the path hierarchy will cause the method to never end. Consider a path with a symlink that points to <code>-&gt; .</code>."},{"owner":{"account_id":6936177,"reputation":196,"user_id":6565366,"display_name":"Tyler Nichols"},"score":2,"creation_date":1529358299,"post_id":2056326,"comment_id":88835836,"body_markdown":"This is just essentially a bad implementation of Files.walkFileTree. I would reccomend that people look at FIles.walkFileTree instead of trying to roll it yourself... It has handling for the exact problem @BrettRyan pointed it.","body":"This is just essentially a bad implementation of Files.walkFileTree. I would reccomend that people look at FIles.walkFileTree instead of trying to roll it yourself... It has handling for the exact problem @BrettRyan pointed it."},{"owner":{"account_id":7775128,"reputation":322,"user_id":5883480,"accept_rate":33,"display_name":"Moses Kirathe"},"score":0,"creation_date":1592084342,"post_id":2056326,"comment_id":110299490,"body_markdown":"Path may vary depending on where the Filewalker file is. Use `&quot;/&quot;`,`&quot;./&quot;` or `&quot;../&quot;` for root directory, current working directory, and parent directory, respectively","body":"Path may vary depending on where the Filewalker file is. Use <code>&quot;&#47;&quot;</code>,<code>&quot;.&#47;&quot;</code> or <code>&quot;..&#47;&quot;</code> for root directory, current working directory, and parent directory, respectively"}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":3,"down_vote_count":3,"up_vote_count":148,"is_accepted":false,"score":145,"last_activity_date":1428633357,"creation_date":1263383277,"answer_id":2056326,"question_id":2056221,"body_markdown":"// Ready to run\r\n\r\n    import java.io.File;\r\n    \r\n    public class Filewalker {\r\n        \r\n        public void walk( String path ) {\r\n        \r\n            File root = new File( path );\r\n            File[] list = root.listFiles();\r\n                    \r\n            if (list == null) return;\r\n    \r\n            for ( File f : list ) {\r\n                if ( f.isDirectory() ) {\r\n                    walk( f.getAbsolutePath() );\r\n                    System.out.println( &quot;Dir:&quot; + f.getAbsoluteFile() );\r\n                }\r\n                else {\r\n                    System.out.println( &quot;File:&quot; + f.getAbsoluteFile() );\r\n                }\r\n            }\r\n        }\r\n        \t\r\n        public static void main(String[] args) {\r\n            Filewalker fw = new Filewalker();\r\n            fw.walk(&quot;c:\\\\&quot; );\r\n        }\r\n        \r\n    }\r\n    ","title":"Recursively list files in Java","body":"<p>// Ready to run</p>\n\n<pre><code>import java.io.File;\n\npublic class Filewalker {\n\n    public void walk( String path ) {\n\n        File root = new File( path );\n        File[] list = root.listFiles();\n\n        if (list == null) return;\n\n        for ( File f : list ) {\n            if ( f.isDirectory() ) {\n                walk( f.getAbsolutePath() );\n                System.out.println( \"Dir:\" + f.getAbsoluteFile() );\n            }\n            else {\n                System.out.println( \"File:\" + f.getAbsoluteFile() );\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Filewalker fw = new Filewalker();\n        fw.walk(\"c:\\\\\" );\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1592240465,"post_id":2056352,"comment_id":110348482,"body_markdown":"And it never notifies end of walk.","body":"And it never notifies end of walk."}],"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"comment_count":1,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1365172973,"creation_date":1263383569,"answer_id":2056352,"question_id":2056221,"body_markdown":"Java 7 &lt;strike&gt;will have&lt;/strike&gt; has [Files.walkFileTree][1]:\r\n\r\n&gt; If you provide a starting point and a file visitor, it will invoke various methods on the file visitor as it walks through the file in the file tree. We expect people to use this if they are developing a recursive copy, a recursive move, a recursive delete, or a recursive operation that sets permissions or performs another operation on each of the files.\r\n\r\nThere is now an entire [Oracle tutorial on this question][2].\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html \r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/io/walk.html","title":"Recursively list files in Java","body":"<p>Java 7 <strike>will have</strike> has <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">Files.walkFileTree</a>:</p>\n\n<blockquote>\n  <p>If you provide a starting point and a file visitor, it will invoke various methods on the file visitor as it walks through the file in the file tree. We expect people to use this if they are developing a recursive copy, a recursive move, a recursive delete, or a recursive operation that sets permissions or performs another operation on each of the files.</p>\n</blockquote>\n\n<p>There is now an entire <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/walk.html\" rel=\"noreferrer\">Oracle tutorial on this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468914136,"creation_date":1263387238,"answer_id":2056708,"question_id":2056221,"body_markdown":"Apart from the recursive traversal one can use a Visitor based approach as well.\r\n\r\nBelow code is uses Visitor based approach for the traversal.It is expected that the input to the program is the root directory to traverse.\r\n\r\n\r\n    public interface Visitor {\r\n        void visit(DirElement d);\r\n        void visit(FileElement f);\r\n    }\r\n\r\n    public abstract class Element {\r\n        protected File rootPath;\r\n        abstract void accept(Visitor v);\r\n\r\n        @Override\r\n        public String toString() {\r\n            return rootPath.getAbsolutePath();\r\n        }\r\n    }\r\n\r\n    public class FileElement extends Element {\r\n        FileElement(final String path) {\r\n            rootPath = new File(path);\r\n        }\r\n\r\n        @Override\r\n        void accept(final Visitor v) {\r\n            v.visit(this);\r\n        }\r\n    }\r\n\r\n    public class DirElement extends Element implements Iterable&lt;Element&gt; {\r\n        private final List&lt;Element&gt; elemList;\r\n        DirElement(final String path) {\r\n            elemList = new ArrayList&lt;Element&gt;();\r\n            rootPath = new File(path);\r\n            for (File f : rootPath.listFiles()) {\r\n                if (f.isDirectory()) {\r\n                    elemList.add(new DirElement(f.getAbsolutePath()));\r\n                } else if (f.isFile()) {\r\n                    elemList.add(new FileElement(f.getAbsolutePath()));\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        void accept(final Visitor v) {\r\n            v.visit(this);\r\n        }\r\n\r\n        public Iterator&lt;Element&gt; iterator() {\r\n            return elemList.iterator();\r\n        }\r\n    }\r\n\r\n    public class ElementWalker {\r\n        private final String rootDir;\r\n        ElementWalker(final String dir) {\r\n            rootDir = dir;\r\n        }\r\n\r\n        private void traverse() {\r\n            Element d = new DirElement(rootDir);\r\n            d.accept(new Walker());\r\n        }\r\n\r\n        public static void main(final String[] args) {\r\n            ElementWalker t = new ElementWalker(&quot;C:\\\\temp&quot;);\r\n            t.traverse();\r\n        }\r\n\r\n        private class Walker implements Visitor {\r\n            public void visit(final DirElement d) {\r\n                System.out.println(d);\r\n                for(Element e:d) {\r\n                    e.accept(this);\r\n                }\r\n            }\r\n\r\n            public void visit(final FileElement f) {\r\n                System.out.println(f);\r\n            }\r\n        }\r\n    }\r\n","title":"Recursively list files in Java","body":"<p>Apart from the recursive traversal one can use a Visitor based approach as well.</p>\n\n<p>Below code is uses Visitor based approach for the traversal.It is expected that the input to the program is the root directory to traverse.</p>\n\n<pre><code>public interface Visitor {\n    void visit(DirElement d);\n    void visit(FileElement f);\n}\n\npublic abstract class Element {\n    protected File rootPath;\n    abstract void accept(Visitor v);\n\n    @Override\n    public String toString() {\n        return rootPath.getAbsolutePath();\n    }\n}\n\npublic class FileElement extends Element {\n    FileElement(final String path) {\n        rootPath = new File(path);\n    }\n\n    @Override\n    void accept(final Visitor v) {\n        v.visit(this);\n    }\n}\n\npublic class DirElement extends Element implements Iterable&lt;Element&gt; {\n    private final List&lt;Element&gt; elemList;\n    DirElement(final String path) {\n        elemList = new ArrayList&lt;Element&gt;();\n        rootPath = new File(path);\n        for (File f : rootPath.listFiles()) {\n            if (f.isDirectory()) {\n                elemList.add(new DirElement(f.getAbsolutePath()));\n            } else if (f.isFile()) {\n                elemList.add(new FileElement(f.getAbsolutePath()));\n            }\n        }\n    }\n\n    @Override\n    void accept(final Visitor v) {\n        v.visit(this);\n    }\n\n    public Iterator&lt;Element&gt; iterator() {\n        return elemList.iterator();\n    }\n}\n\npublic class ElementWalker {\n    private final String rootDir;\n    ElementWalker(final String dir) {\n        rootDir = dir;\n    }\n\n    private void traverse() {\n        Element d = new DirElement(rootDir);\n        d.accept(new Walker());\n    }\n\n    public static void main(final String[] args) {\n        ElementWalker t = new ElementWalker(\"C:\\\\temp\");\n        t.traverse();\n    }\n\n    private class Walker implements Visitor {\n        public void visit(final DirElement d) {\n            System.out.println(d);\n            for(Element e:d) {\n                e.accept(this);\n            }\n        }\n\n        public void visit(final FileElement f) {\n            System.out.println(f);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138080,"reputation":101,"user_id":1672138,"display_name":"Wei"},"score":0,"creation_date":1359698085,"post_id":10814316,"comment_id":20453712,"body_markdown":"But your algorithm cannot print with indented output. Dirs and files are messed. Any solution?","body":"But your algorithm cannot print with indented output. Dirs and files are messed. Any solution?"}],"tags":[],"owner":{"account_id":893373,"reputation":2488,"user_id":931220,"accept_rate":83,"display_name":"benroth"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1338373605,"creation_date":1338373041,"answer_id":10814316,"question_id":2056221,"body_markdown":"I prefer using a queue over recursion for this kind of simple traversion:\r\n\r\n    List&lt;File&gt; allFiles = new ArrayList&lt;File&gt;();\r\n    Queue&lt;File&gt; dirs = new LinkedList&lt;File&gt;();\r\n    dirs.add(new File(&quot;/start/dir/&quot;));\r\n    while (!dirs.isEmpty()) {\r\n      for (File f : dirs.poll().listFiles()) {\r\n        if (f.isDirectory()) {\r\n          dirs.add(f);\r\n        } else if (f.isFile()) {\r\n          allFiles.add(f);\r\n        }\r\n      }\r\n    }\r\n","title":"Recursively list files in Java","body":"<p>I prefer using a queue over recursion for this kind of simple traversion:</p>\n\n<pre><code>List&lt;File&gt; allFiles = new ArrayList&lt;File&gt;();\nQueue&lt;File&gt; dirs = new LinkedList&lt;File&gt;();\ndirs.add(new File(\"/start/dir/\"));\nwhile (!dirs.isEmpty()) {\n  for (File f : dirs.poll().listFiles()) {\n    if (f.isDirectory()) {\n      dirs.add(f);\n    } else if (f.isFile()) {\n      allFiles.add(f);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439624,"reputation":5561,"user_id":828681,"display_name":"Petrucio"},"comment_count":0,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1470159523,"creation_date":1343248579,"answer_id":11658192,"question_id":2056221,"body_markdown":"No external libraries needed.\r\n&lt;br&gt;Returns a Collection so you can do whatever you want with it after the call.\r\n\r\n    public static Collection&lt;File&gt; listFileTree(File dir) {\r\n    \tSet&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\r\n        if(dir==null||dir.listFiles()==null){\r\n\t    \treturn fileTree;\r\n\t    }\r\n        for (File entry : dir.listFiles()) {\r\n        \tif (entry.isFile()) fileTree.add(entry);\r\n        \telse fileTree.addAll(listFileTree(entry));\r\n        }\r\n        return fileTree;\r\n    }","title":"Recursively list files in Java","body":"<p>No external libraries needed.\n<br>Returns a Collection so you can do whatever you want with it after the call.</p>\n\n<pre><code>public static Collection&lt;File&gt; listFileTree(File dir) {\n    Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\n    if(dir==null||dir.listFiles()==null){\n        return fileTree;\n    }\n    for (File entry : dir.listFiles()) {\n        if (entry.isFile()) fileTree.add(entry);\n        else fileTree.addAll(listFileTree(entry));\n    }\n    return fileTree;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98926,"reputation":18506,"user_id":267482,"accept_rate":70,"display_name":"bobah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379845041,"creation_date":1379845041,"answer_id":18942722,"question_id":2056221,"body_markdown":"Non-recursive BFS with a single list (particular example is searching for *.eml files):\r\n\r\n        final FileFilter filter = new FileFilter() {\r\n            @Override\r\n            public boolean accept(File file) {\r\n                return file.isDirectory() || file.getName().endsWith(&quot;.eml&quot;);\r\n            }\r\n        };\r\n\r\n        // BFS recursive search\r\n        List&lt;File&gt; queue = new LinkedList&lt;File&gt;();\r\n        queue.addAll(Arrays.asList(dir.listFiles(filter)));\r\n\r\n        for (ListIterator&lt;File&gt; itr = queue.listIterator(); itr.hasNext();) {\r\n            File file = itr.next();\r\n            if (file.isDirectory()) {\r\n                itr.remove();\r\n                for (File f: file.listFiles(filter)) itr.add(f);\r\n            }\r\n        }","title":"Recursively list files in Java","body":"<p>Non-recursive BFS with a single list (particular example is searching for *.eml files):</p>\n\n<pre><code>    final FileFilter filter = new FileFilter() {\n        @Override\n        public boolean accept(File file) {\n            return file.isDirectory() || file.getName().endsWith(\".eml\");\n        }\n    };\n\n    // BFS recursive search\n    List&lt;File&gt; queue = new LinkedList&lt;File&gt;();\n    queue.addAll(Arrays.asList(dir.listFiles(filter)));\n\n    for (ListIterator&lt;File&gt; itr = queue.listIterator(); itr.hasNext();) {\n        File file = itr.next();\n        if (file.isDirectory()) {\n            itr.remove();\n            for (File f: file.listFiles(filter)) itr.add(f);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1282739,"reputation":6995,"user_id":1236461,"accept_rate":57,"display_name":"Samuel Kerrien"},"score":1,"creation_date":1434362074,"post_id":21254129,"comment_id":49728017,"body_markdown":"While it probably works, the question is about file browsing, not rendering of browsed files. Better expose your algorithm as such, it is not a recommended practice to embed business logic inside a JSP.","body":"While it probably works, the question is about file browsing, not rendering of browsed files. Better expose your algorithm as such, it is not a recommended practice to embed business logic inside a JSP."},{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1435148525,"post_id":21254129,"comment_id":50077386,"body_markdown":"That depends what you are doing. In an enterprise-size application you are absolutely right. If you just need this as a drop-in to a simple, standalone listing, then this is perfectly fine.","body":"That depends what you are doing. In an enterprise-size application you are absolutely right. If you just need this as a drop-in to a simple, standalone listing, then this is perfectly fine."}],"tags":[],"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1390297401,"creation_date":1390296756,"answer_id":21254129,"question_id":2056221,"body_markdown":"Based on stacker answer. Here is a solution working in JSP without any external libraries so you can put it almost anywhere on your server:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.util.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.io.*&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; %&gt;\r\n    \r\n    &lt;%!\r\n    \tpublic List&lt;String&gt; files = new ArrayList&lt;String&gt;();\r\n    \t/**\r\n    \t\tFills files array with all sub-files.\r\n    \t*/\r\n    \tpublic void walk( File root ) {\r\n    \t\tFile[] list = root.listFiles();\r\n    \r\n    \t\tif (list == null) return;\r\n    \r\n    \t\tfor ( File f : list ) {\r\n    \t\t\tif ( f.isDirectory() ) {\r\n    \t\t\t\twalk( f );\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tfiles.add(f.getAbsolutePath());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    %&gt;\r\n    &lt;%\r\n    \tfiles.clear();\r\n    \tFile jsp = new File(request.getRealPath(request.getServletPath()));\r\n    \tFile dir = jsp.getParentFile();\r\n    \twalk(dir);\r\n    \tString prefixPath = dir.getAbsolutePath() + &quot;/&quot;;\r\n    %&gt;\r\n\r\nThen you just do something like:\r\n\r\n\t\t&lt;ul&gt;\r\n\t\t\t&lt;% for (String file : files) { %&gt;\r\n\t\t\t\t&lt;% if (file.matches(&quot;.+\\\\.(apk|ipa|mobileprovision)&quot;)) { %&gt;\r\n\t\t\t\t\t&lt;li&gt;&lt;%=file.replace(prefixPath, &quot;&quot;)%&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;% } %&gt;\r\n\t\t\t&lt;% } %&gt;\r\n\t\t&lt;/ul&gt;\r\n\r\n","title":"Recursively list files in Java","body":"<p>Based on stacker answer. Here is a solution working in JSP without any external libraries so you can put it almost anywhere on your server:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ page session=\"false\" %&gt;\n&lt;%@ page import=\"java.util.*\" %&gt;\n&lt;%@ page import=\"java.io.*\" %&gt;\n&lt;%@ page contentType=\"text/html; charset=UTF-8\" %&gt;\n\n&lt;%!\n    public List&lt;String&gt; files = new ArrayList&lt;String&gt;();\n    /**\n        Fills files array with all sub-files.\n    */\n    public void walk( File root ) {\n        File[] list = root.listFiles();\n\n        if (list == null) return;\n\n        for ( File f : list ) {\n            if ( f.isDirectory() ) {\n                walk( f );\n            }\n            else {\n                files.add(f.getAbsolutePath());\n            }\n        }\n    }\n%&gt;\n&lt;%\n    files.clear();\n    File jsp = new File(request.getRealPath(request.getServletPath()));\n    File dir = jsp.getParentFile();\n    walk(dir);\n    String prefixPath = dir.getAbsolutePath() + \"/\";\n%&gt;\n</code></pre>\n\n<p>Then you just do something like:</p>\n\n<pre><code>    &lt;ul&gt;\n        &lt;% for (String file : files) { %&gt;\n            &lt;% if (file.matches(\".+\\\\.(apk|ipa|mobileprovision)\")) { %&gt;\n                &lt;li&gt;&lt;%=file.replace(prefixPath, \"\")%&gt;&lt;/li&gt;\n            &lt;% } %&gt;\n        &lt;% } %&gt;\n    &lt;/ul&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":2,"creation_date":1435270717,"post_id":24006711,"comment_id":50144003,"body_markdown":"How does the performance of this compare with pre-java 8 methods? My current directory traversal is too slow and I&#39;m looking for something that will speed it up.","body":"How does the performance of this compare with pre-java 8 methods? My current directory traversal is too slow and I&#39;m looking for something that will speed it up."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":1,"creation_date":1435499657,"post_id":24006711,"comment_id":50216404,"body_markdown":"I&#39;m writing up some tests containing most of the variants in the answers provided. So far, it seems that using `Files.walk` with a parallel stream is the best, followed closely by `Files.walkFileTree` which is only marginally slower. The accepted answer using commons-io is by far the slowest by my tests to be 4 times slower.","body":"I&#39;m writing up some tests containing most of the variants in the answers provided. So far, it seems that using <code>Files.walk</code> with a parallel stream is the best, followed closely by <code>Files.walkFileTree</code> which is only marginally slower. The accepted answer using commons-io is by far the slowest by my tests to be 4 times slower."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1435554813,"post_id":24006711,"comment_id":50230786,"body_markdown":"Tests are complete and a [project added to Github, check it out for the results](https://github.com/brettryan/io-recurse-tests). The short answer is use any NIO flavour of the answers provided.","body":"Tests are complete and a <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"nofollow noreferrer\">project added to Github, check it out for the results</a>. The short answer is use any NIO flavour of the answers provided."},{"owner":{"account_id":4438800,"reputation":2921,"user_id":3613893,"accept_rate":81,"display_name":"Kachna"},"score":3,"creation_date":1441443487,"post_id":24006711,"comment_id":52690013,"body_markdown":"@BrettRyan, I tried your solution but I get an exception `Exception in thread &quot;main&quot; java.io.UncheckedIOException: java.nio.file.AccessDeniedException`. How could I correct it","body":"@BrettRyan, I tried your solution but I get an exception <code>Exception in thread &quot;main&quot; java.io.UncheckedIOException: java.nio.file.AccessDeniedException</code>. How could I correct it"},{"owner":{"account_id":1821511,"reputation":6530,"user_id":1655478,"accept_rate":33,"display_name":"dessalines"},"score":7,"creation_date":1444406288,"post_id":24006711,"comment_id":53905891,"body_markdown":"How do I get an actual list of files from this?","body":"How do I get an actual list of files from this?"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":1,"creation_date":1444438695,"post_id":24006711,"comment_id":53919077,"body_markdown":"@thouliha instead of `forEach` use `collect` with a set or list collector such as `.collect(Collectors.toList())`. If you can avoid a collector in your logic the better as you will be using less objects and processing can be faster.","body":"@thouliha instead of <code>forEach</code> use <code>collect</code> with a set or list collector such as <code>.collect(Collectors.toList())</code>. If you can avoid a collector in your logic the better as you will be using less objects and processing can be faster."},{"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"score":0,"creation_date":1457015762,"post_id":24006711,"comment_id":59221423,"body_markdown":"@BrettRyan am I correct that by default Files.walk() doesn&#39;t follow symbolic links? If so and one wanted to follow symlinks, it looks like the first chunk of code could instead be `Files.walk(Paths.get(path), FileVisitOption.FOLLOW_LINKS)`","body":"@BrettRyan am I correct that by default Files.walk() doesn&#39;t follow symbolic links? If so and one wanted to follow symlinks, it looks like the first chunk of code could instead be <code>Files.walk(Paths.get(path), FileVisitOption.FOLLOW_LINKS)</code>"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1457649106,"post_id":24006711,"comment_id":59515870,"body_markdown":"Apologies for the delayed response @MattPassell, you are correct. There is a caveat to using this when a circular link is found, you won&#39;t end up with a recursive loop though you unfortunately will get a [FileSystemLoopException](https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemLoopException.html) being thrown which is wrapped in an [UncheckedIOException](https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html)","body":"Apologies for the delayed response @MattPassell, you are correct. There is a caveat to using this when a circular link is found, you won&#39;t end up with a recursive loop though you unfortunately will get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystemLoopException.html\" rel=\"nofollow noreferrer\">FileSystemLoopException</a> being thrown which is wrapped in an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html\" rel=\"nofollow noreferrer\">UncheckedIOException</a>"},{"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"score":1,"creation_date":1457710341,"post_id":24006711,"comment_id":59544580,"body_markdown":"@BrettRyan thanks, good point. In the particular spot I&#39;m using it, the starting path might be a symlink, but from that point down, it isn&#39;t. That allowed me to do something like this `Path basePath = Files.isSymbolicLink(basePath) ? Files.readSymbolicLink(basePath) : basePath;` and then walk the tree without following links. :)","body":"@BrettRyan thanks, good point. In the particular spot I&#39;m using it, the starting path might be a symlink, but from that point down, it isn&#39;t. That allowed me to do something like this <code>Path basePath = Files.isSymbolicLink(basePath) ? Files.readSymbolicLink(basePath) : basePath;</code> and then walk the tree without following links. :)"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":1,"creation_date":1484276906,"post_id":24006711,"comment_id":70454398,"body_markdown":"@BrettRyan &quot;instead of forEach use collect&quot; Sorry but I&#39;m still unclear. Calling `.collect(stagingFileList::add)` on the resulting stream from that code gets me `Collector&lt;Path,A,R&gt; is not a functional interface` on the collect parameter. This stream stuff is cool but I&#39;m not completely sure what I&#39;m looking at anymore to fix this.","body":"@BrettRyan &quot;instead of forEach use collect&quot; Sorry but I&#39;m still unclear. Calling <code>.collect(stagingFileList::add)</code> on the resulting stream from that code gets me <code>Collector&lt;Path,A,R&gt; is not a functional interface</code> on the collect parameter. This stream stuff is cool but I&#39;m not completely sure what I&#39;m looking at anymore to fix this."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1484277116,"post_id":24006711,"comment_id":70454452,"body_markdown":"This is what I&#39;m attempting--\n`Files.find(\tPaths.get(path), Integer.MAX_VALUE, (filePath, fileAttr) -&gt; fileAttr.isRegularFile()) .collect(list::add);`","body":"This is what I&#39;m attempting-- <code>Files.find(\tPaths.get(path), Integer.MAX_VALUE, (filePath, fileAttr) -&gt; fileAttr.isRegularFile()) .collect(list::add);</code>"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":1,"creation_date":1484278993,"post_id":24006711,"comment_id":70454836,"body_markdown":"@Amalgovinus what you&#39;re looking for is a collector, what you&#39;ve given is a method reference. Replace list::add with `Collectors.toList()`","body":"@Amalgovinus what you&#39;re looking for is a collector, what you&#39;ve given is a method reference. Replace list::add with <code>Collectors.toList()</code>"},{"owner":{"account_id":186168,"reputation":1411,"user_id":423351,"display_name":"Jonathan Hult"},"score":0,"creation_date":1484545530,"post_id":24006711,"comment_id":70538049,"body_markdown":"Watch out for this issue: https://bugs.openjdk.java.net/browse/JDK-8039910\n\nMore info here: https://stackoverflow.com/questions/22867286/files-walk-calculate-total-size","body":"Watch out for this issue: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8039910\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8039910</a>  More info here: <a href=\"https://stackoverflow.com/questions/22867286/files-walk-calculate-total-size\" title=\"files walk calculate total size\">stackoverflow.com/questions/22867286/&hellip;</a>"},{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":3,"creation_date":1542885426,"post_id":24006711,"comment_id":93733528,"body_markdown":"Files.walk looks nice, but quite often is useless.... it throws exception if you don&#39;t have an access to even one file... and you got nothing...","body":"Files.walk looks nice, but quite often is useless.... it throws exception if you don&#39;t have an access to even one file... and you got nothing..."},{"owner":{"account_id":272180,"reputation":1562,"user_id":563133,"accept_rate":50,"display_name":"Vahid Pazirandeh"},"score":0,"creation_date":1585772527,"post_id":24006711,"comment_id":107884499,"body_markdown":"@BrettRyan - What does it mean for a dir to be &quot;open&quot;, thus requiring it to be closed? The [javadoc](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/file/Files.html) says to put walk() and find() into a try-with-resources block. I&#39;ve never heard of the concept of an &quot;open dir&quot;","body":"@BrettRyan - What does it mean for a dir to be &quot;open&quot;, thus requiring it to be closed? The <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">javadoc</a> says to put walk() and find() into a try-with-resources block. I&#39;ve never heard of the concept of an &quot;open dir&quot;"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1633654106,"post_id":24006711,"comment_id":122823743,"body_markdown":"You must put Files.walk in a try-with-resources block since it&#39;s backed by DirectoryStreams (https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html ) which says: &quot;Failure to close the stream may result in a resource leak. The try-with-resources statement provides a useful construct to ensure that the stream is closed&quot;","body":"You must put Files.walk in a try-with-resources block since it&#39;s backed by DirectoryStreams (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/file/&hellip;</a> ) which says: &quot;Failure to close the stream may result in a resource leak. The try-with-resources statement provides a useful construct to ensure that the stream is closed&quot;"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1633655202,"post_id":24006711,"comment_id":122823895,"body_markdown":"Please see https://stackoverflow.com/a/69489309/1810962 for a more complete answer.","body":"Please see <a href=\"https://stackoverflow.com/a/69489309/1810962\">stackoverflow.com/a/69489309/1810962</a> for a more complete answer."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1701963038,"post_id":24006711,"comment_id":136842042,"body_markdown":"Thank you for updating the solution with try-with-resources.","body":"Thank you for updating the solution with try-with-resources."}],"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":18,"down_vote_count":1,"up_vote_count":470,"is_accepted":true,"score":469,"last_activity_date":1665003543,"creation_date":1401766649,"answer_id":24006711,"question_id":2056221,"body_markdown":"Java 8 provides a nice stream to process all files in a tree.\r\n```java\r\ntry (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\r\n    stream.filter(Files::isRegularFile)\r\n          .forEach(System.out::println);\r\n}\r\n```\r\nThis provides a natural way to traverse files. Since it&#39;s a stream you can do all nice stream operations on the result such as limit, grouping, mapping, exit early etc.\r\n\r\n**UPDATE**: I might point out there is also [Files.find][1] which takes a [BiPredicate][2] that could be more efficient if you need to check file attributes.\r\n\r\n    Files.find(Paths.get(path),\r\n               Integer.MAX_VALUE,\r\n               (filePath, fileAttr) -&gt; fileAttr.isRegularFile())\r\n            .forEach(System.out::println);\r\n\r\nNote that while the JavaDoc eludes that this method could be more efficient than [Files.walk][3] it is effectively identical, the difference in performance can be observed if you are also retrieving file attributes within your filter. In the end, if you need to filter on attributes use [Files.find][1], otherwise use [Files.walk][3], mostly because there are overloads and it&#39;s more convenient.\r\n\r\n**TESTS**: As requested I&#39;ve provided a performance comparison of many of the answers. Check out the [Github project which contains results and a test case](https://github.com/brettryan/io-recurse-tests).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-","title":"Recursively list files in Java","body":"<p>Java 8 provides a nice stream to process all files in a tree.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\n    stream.filter(Files::isRegularFile)\n          .forEach(System.out::println);\n}\n</code></pre>\n<p>This provides a natural way to traverse files. Since it's a stream you can do all nice stream operations on the result such as limit, grouping, mapping, exit early etc.</p>\n<p><strong>UPDATE</strong>: I might point out there is also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.find</a> which takes a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html\" rel=\"noreferrer\">BiPredicate</a> that could be more efficient if you need to check file attributes.</p>\n<pre><code>Files.find(Paths.get(path),\n           Integer.MAX_VALUE,\n           (filePath, fileAttr) -&gt; fileAttr.isRegularFile())\n        .forEach(System.out::println);\n</code></pre>\n<p>Note that while the JavaDoc eludes that this method could be more efficient than <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.walk</a> it is effectively identical, the difference in performance can be observed if you are also retrieving file attributes within your filter. In the end, if you need to filter on attributes use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.find</a>, otherwise use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.walk</a>, mostly because there are overloads and it's more convenient.</p>\n<p><strong>TESTS</strong>: As requested I've provided a performance comparison of many of the answers. Check out the <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"noreferrer\">Github project which contains results and a test case</a>.</p>\n"},{"tags":[],"owner":{"account_id":1045150,"reputation":1865,"user_id":1050319,"display_name":"Roy Kachouh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1412512718,"creation_date":1412512718,"answer_id":26202639,"question_id":2056221,"body_markdown":"In Java 8, we can now use the Files utility to walk a file tree. Very simple.\r\n\r\n    Files.walk(root.toPath())\r\n          .filter(path -&gt; !Files.isDirectory(path))\r\n          .forEach(path -&gt; System.out.println(path));\r\n","title":"Recursively list files in Java","body":"<p>In Java 8, we can now use the Files utility to walk a file tree. Very simple.</p>\n\n<pre><code>Files.walk(root.toPath())\n      .filter(path -&gt; !Files.isDirectory(path))\n      .forEach(path -&gt; System.out.println(path));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2173846,"reputation":1923,"user_id":1925060,"accept_rate":86,"display_name":"chao"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1502833054,"creation_date":1416669324,"answer_id":27078924,"question_id":2056221,"body_markdown":"With Java 7 you can use the following class:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class MyFileIterator extends SimpleFileVisitor&lt;Path&gt;\r\n    {\r\n        public MyFileIterator(String path) throws Exception\r\n        {\r\n            Files.walkFileTree(Paths.get(path), this);\r\n        }\r\n    \r\n        @Override\r\n        public FileVisitResult visitFile(Path file,\r\n                BasicFileAttributes attributes) throws IOException\r\n        {\r\n            System.out.println(&quot;File: &quot; + file);\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n    \r\n        @Override\r\n        public FileVisitResult preVisitDirectory(Path dir,\r\n                BasicFileAttributes attributes) throws IOException\r\n        {\r\n            System.out.println(&quot;Dir: &quot; + dir);\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n    }","title":"Recursively list files in Java","body":"<p>With Java 7 you can use the following class:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class MyFileIterator extends SimpleFileVisitor&lt;Path&gt;\n{\n    public MyFileIterator(String path) throws Exception\n    {\n        Files.walkFileTree(Paths.get(path), this);\n    }\n\n    @Override\n    public FileVisitResult visitFile(Path file,\n            BasicFileAttributes attributes) throws IOException\n    {\n        System.out.println(\"File: \" + file);\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult preVisitDirectory(Path dir,\n            BasicFileAttributes attributes) throws IOException\n    {\n        System.out.println(\"Dir: \" + dir);\n        return FileVisitResult.CONTINUE;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223102,"reputation":1803,"user_id":1189332,"accept_rate":24,"display_name":"user1189332"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446984800,"creation_date":1446984800,"answer_id":33593796,"question_id":2056221,"body_markdown":"My version (of course I could have used the built in walk in Java 8  ;-) ):\r\n\r\n    public static List&lt;File&gt; findFilesIn(File rootDir, Predicate&lt;File&gt; predicate) {\r\n            ArrayList&lt;File&gt; collected = new ArrayList&lt;&gt;();\r\n            walk(rootDir, predicate, collected);\r\n            return collected;\r\n        }\r\n    \r\n        private static void walk(File dir, Predicate&lt;File&gt; filterFunction, List&lt;File&gt; collected) {\r\n            Stream.of(listOnlyWhenDirectory(dir))\r\n                    .forEach(file -&gt; walk(file, filterFunction, addAndReturn(collected, file, filterFunction)));\r\n        }\r\n    \r\n        private static File[] listOnlyWhenDirectory(File dir) {\r\n            return dir.isDirectory() ? dir.listFiles() : new File[]{};\r\n        }\r\n    \r\n        private static List&lt;File&gt; addAndReturn(List&lt;File&gt; files, File toAdd, Predicate&lt;File&gt; filterFunction) {\r\n            if (filterFunction.test(toAdd)) {\r\n                files.add(toAdd);\r\n            }\r\n            return files;\r\n        }","title":"Recursively list files in Java","body":"<p>My version (of course I could have used the built in walk in Java 8  ;-) ):</p>\n\n<pre><code>public static List&lt;File&gt; findFilesIn(File rootDir, Predicate&lt;File&gt; predicate) {\n        ArrayList&lt;File&gt; collected = new ArrayList&lt;&gt;();\n        walk(rootDir, predicate, collected);\n        return collected;\n    }\n\n    private static void walk(File dir, Predicate&lt;File&gt; filterFunction, List&lt;File&gt; collected) {\n        Stream.of(listOnlyWhenDirectory(dir))\n                .forEach(file -&gt; walk(file, filterFunction, addAndReturn(collected, file, filterFunction)));\n    }\n\n    private static File[] listOnlyWhenDirectory(File dir) {\n        return dir.isDirectory() ? dir.listFiles() : new File[]{};\n    }\n\n    private static List&lt;File&gt; addAndReturn(List&lt;File&gt; files, File toAdd, Predicate&lt;File&gt; filterFunction) {\n        if (filterFunction.test(toAdd)) {\n            files.add(toAdd);\n        }\n        return files;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498195544,"creation_date":1498195544,"answer_id":44713656,"question_id":2056221,"body_markdown":"You can use below code to get a list of files of specific folder or directory recursively.\r\n\r\n\r\n    public static void main(String args[]) {\r\n          \r\n    \t\trecusiveList(&quot;D:&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static void recursiveList(String path) {\r\n    \r\n    \t\tFile f = new File(path);\r\n    \t\tFile[] fl = f.listFiles();\r\n    \t\tfor (int i = 0; i &lt; fl.length; i++) {\r\n    \t\t\tif (fl[i].isDirectory() &amp;&amp; !fl[i].isHidden()) {\r\n    \t\t\t\tSystem.out.println(fl[i].getAbsolutePath());\r\n    \t\t\t\trecusiveList(fl[i].getAbsolutePath());\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(fl[i].getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Recursively list files in Java","body":"<p>You can use below code to get a list of files of specific folder or directory recursively.</p>\n\n<pre><code>public static void main(String args[]) {\n\n        recusiveList(\"D:\");\n\n    }\n\n    public static void recursiveList(String path) {\n\n        File f = new File(path);\n        File[] fl = f.listFiles();\n        for (int i = 0; i &lt; fl.length; i++) {\n            if (fl[i].isDirectory() &amp;&amp; !fl[i].isHidden()) {\n                System.out.println(fl[i].getAbsolutePath());\n                recusiveList(fl[i].getAbsolutePath());\n            } else {\n                System.out.println(fl[i].getName());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11312319,"reputation":61,"user_id":8295130,"display_name":"Ralf Roeber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507804987,"creation_date":1507804987,"answer_id":46707604,"question_id":2056221,"body_markdown":"Example outputs *.csv files in directory recursive searching Subdirectories using Files.find() from java.nio:\r\n\r\n    String path = &quot;C:/Daten/ibiss/ferret/&quot;;\r\n        logger.debug(&quot;Path:&quot; + path);\r\n        try (Stream&lt;Path&gt; fileList = Files.find(Paths.get(path), Integer.MAX_VALUE,\r\n                (filePath, fileAttr) -&gt; fileAttr.isRegularFile() &amp;&amp; filePath.toString().endsWith(&quot;csv&quot;))) {\r\n            List&lt;String&gt; someThingNew = fileList.sorted().map(String::valueOf).collect(Collectors.toList());\r\n            for (String t : someThingNew) {\r\n                t.toString();\r\n                logger.debug(&quot;Filename:&quot; + t);\r\n            }\r\n\r\n        }\r\n\r\nPosting this example, as I had trouble understanding howto pass the filename parameter in the #1 example given by Bryan, using foreach on Stream-result - \r\n\r\nHope this helps.","title":"Recursively list files in Java","body":"<p>Example outputs *.csv files in directory recursive searching Subdirectories using Files.find() from java.nio:</p>\n\n<pre><code>String path = \"C:/Daten/ibiss/ferret/\";\n    logger.debug(\"Path:\" + path);\n    try (Stream&lt;Path&gt; fileList = Files.find(Paths.get(path), Integer.MAX_VALUE,\n            (filePath, fileAttr) -&gt; fileAttr.isRegularFile() &amp;&amp; filePath.toString().endsWith(\"csv\"))) {\n        List&lt;String&gt; someThingNew = fileList.sorted().map(String::valueOf).collect(Collectors.toList());\n        for (String t : someThingNew) {\n            t.toString();\n            logger.debug(\"Filename:\" + t);\n        }\n\n    }\n</code></pre>\n\n<p>Posting this example, as I had trouble understanding howto pass the filename parameter in the #1 example given by Bryan, using foreach on Stream-result - </p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1553596398,"creation_date":1509383671,"answer_id":47020817,"question_id":2056221,"body_markdown":"*This code is ready to run*\r\n\r\n    public static void main(String... args) {\r\n\t\tFile[] files = new File(&quot;D:/&quot;).listFiles();\r\n        if (files != null) \r\n\t\t   getFiles(files);\r\n\t}\r\n\r\n\tpublic static void getFiles(File[] files) {\r\n\t\tfor (File file : files) {\r\n\t\t\tif (file.isDirectory()) {\r\n\t\t\t\tgetFiles(file.listFiles());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;File: &quot; + file);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Recursively list files in Java","body":"<p><em>This code is ready to run</em></p>\n\n<pre><code>public static void main(String... args) {\n    File[] files = new File(\"D:/\").listFiles();\n    if (files != null) \n       getFiles(files);\n}\n\npublic static void getFiles(File[] files) {\n    for (File file : files) {\n        if (file.isDirectory()) {\n            getFiles(file.listFiles());\n        } else {\n            System.out.println(\"File: \" + file);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514840802,"creation_date":1514840802,"answer_id":48053233,"question_id":2056221,"body_markdown":"Here a simple but perfectly working solution using `recursion`:\r\n\r\n    public static List&lt;Path&gt; listFiles(String rootDirectory)\r\n    {\r\n    \tList&lt;Path&gt; files = new ArrayList&lt;&gt;();\r\n    \tlistFiles(rootDirectory, files);\r\n    \r\n    \treturn files;\r\n    }\r\n    \r\n    private static void listFiles(String path, List&lt;Path&gt; collectedFiles)\r\n    {\r\n    \tFile root = new File(path);\r\n    \tFile[] files = root.listFiles();\r\n    \r\n    \tif (files == null)\r\n    \t{\r\n    \t\treturn;\r\n    \t}\r\n    \r\n    \tfor (File file : files)\r\n    \t{\r\n    \t\tif (file.isDirectory())\r\n    \t\t{\r\n    \t\t\tlistFiles(file.getAbsolutePath(), collectedFiles);\r\n    \t\t} else\r\n    \t\t{\r\n    \t\t\tcollectedFiles.add(file.toPath());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Recursively list files in Java","body":"<p>Here a simple but perfectly working solution using <code>recursion</code>:</p>\n\n<pre><code>public static List&lt;Path&gt; listFiles(String rootDirectory)\n{\n    List&lt;Path&gt; files = new ArrayList&lt;&gt;();\n    listFiles(rootDirectory, files);\n\n    return files;\n}\n\nprivate static void listFiles(String path, List&lt;Path&gt; collectedFiles)\n{\n    File root = new File(path);\n    File[] files = root.listFiles();\n\n    if (files == null)\n    {\n        return;\n    }\n\n    for (File file : files)\n    {\n        if (file.isDirectory())\n        {\n            listFiles(file.getAbsolutePath(), collectedFiles);\n        } else\n        {\n            collectedFiles.add(file.toPath());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529744749,"creation_date":1529744749,"answer_id":50999631,"question_id":2056221,"body_markdown":"        private void fillFilesRecursively(File file, List&lt;File&gt; resultFiles) {\r\n            if (file.isFile()) {\r\n                resultFiles.add(file);\r\n            } else {\r\n                for (File child : file.listFiles()) {\r\n                    fillFilesRecursively(child, resultFiles);\r\n                }\r\n            }\r\n        }","title":"Recursively list files in Java","body":"<pre><code>    private void fillFilesRecursively(File file, List&lt;File&gt; resultFiles) {\n        if (file.isFile()) {\n            resultFiles.add(file);\n        } else {\n            for (File child : file.listFiles()) {\n                fillFilesRecursively(child, resultFiles);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564767630,"creation_date":1564767630,"answer_id":57331220,"question_id":2056221,"body_markdown":"I came up with this for printing all the files/file names recursively.\r\n\r\n    private static void printAllFiles(String filePath,File folder) {\r\n    \tif(filePath==null) {\r\n    \t\treturn;\r\n    \t}\r\n    \tFile[] files = folder.listFiles();\r\n    \tfor(File element : files) {\r\n    \t\tif(element.isDirectory()) {\r\n    \t\t\tprintAllFiles(filePath,element);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot; FileName &quot;+ element.getName());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Recursively list files in Java","body":"<p>I came up with this for printing all the files/file names recursively.</p>\n\n<pre><code>private static void printAllFiles(String filePath,File folder) {\n    if(filePath==null) {\n        return;\n    }\n    File[] files = folder.listFiles();\n    for(File element : files) {\n        if(element.isDirectory()) {\n            printAllFiles(filePath,element);\n        } else {\n            System.out.println(\" FileName \"+ element.getName());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1322392,"reputation":7439,"user_id":1690078,"accept_rate":67,"display_name":"Clyde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575971739,"creation_date":1575971739,"answer_id":59264492,"question_id":2056221,"body_markdown":"Kotlin has [`FileTreeWalk`][1] for this purpose. For example:\r\n\r\n    dataDir.walkTopDown().filter { !it.isDirectory }.joinToString(&quot;\\n&quot;) {\r\n       &quot;${it.toRelativeString(dataDir)}: ${it.length()}&quot;\r\n    }\r\nWill produce a text list of all the non-directory files under a given root, one file per line with the path relative to the root and length.\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file-tree-walk/index.html","title":"Recursively list files in Java","body":"<p>Kotlin has <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file-tree-walk/index.html\" rel=\"nofollow noreferrer\"><code>FileTreeWalk</code></a> for this purpose. For example:</p>\n\n<pre><code>dataDir.walkTopDown().filter { !it.isDirectory }.joinToString(\"\\n\") {\n   \"${it.toRelativeString(dataDir)}: ${it.length()}\"\n}\n</code></pre>\n\n<p>Will produce a text list of all the non-directory files under a given root, one file per line with the path relative to the root and length.</p>\n"},{"tags":[],"owner":{"account_id":1232737,"reputation":1673,"user_id":1207791,"display_name":"cfstras"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1576592104,"creation_date":1576592104,"answer_id":59376134,"question_id":2056221,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/24006711/1207791) is great, however it breaks down when you want to do IO inside the lambda.\r\n\r\nHere is what you can do if your action declares IOExceptions.\r\n\r\nYou can treat the filtered stream as an `Iterable`, and then do your action in a regular for-each loop. This way, you don&#39;t have to handle exceptions inside a lambda.\r\n\r\n```java\r\ntry (Stream&lt;Path&gt; pathStream = Files.walk(Paths.get(path))\r\n        .filter(Files::isRegularFile)) {\r\n\r\n    for (Path file : (Iterable&lt;Path&gt;) pathStream::iterator) {\r\n        // something that throws IOException\r\n        Files.copy(file, System.out);\r\n    }\r\n}\r\n```\r\n\r\nFound that trick here: https://stackoverflow.com/a/32668807/1207791","title":"Recursively list files in Java","body":"<p>The <a href=\"https://stackoverflow.com/a/24006711/1207791\">accepted answer</a> is great, however it breaks down when you want to do IO inside the lambda.</p>\n\n<p>Here is what you can do if your action declares IOExceptions.</p>\n\n<p>You can treat the filtered stream as an <code>Iterable</code>, and then do your action in a regular for-each loop. This way, you don't have to handle exceptions inside a lambda.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;Path&gt; pathStream = Files.walk(Paths.get(path))\n        .filter(Files::isRegularFile)) {\n\n    for (Path file : (Iterable&lt;Path&gt;) pathStream::iterator) {\n        // something that throws IOException\n        Files.copy(file, System.out);\n    }\n}\n</code></pre>\n\n<p>Found that trick here: <a href=\"https://stackoverflow.com/a/32668807/1207791\">https://stackoverflow.com/a/32668807/1207791</a></p>\n"},{"tags":[],"owner":{"account_id":5360594,"reputation":426,"user_id":4271976,"accept_rate":50,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580226685,"creation_date":1580226685,"answer_id":59952462,"question_id":2056221,"body_markdown":"Another way you can do even if someone already provide Java 8 walk.\r\n\r\nThis one will provide you all files recursively\r\n\r\n      private Stream&lt;File&gt; files(File file) {\r\n        return file.isDirectory()\r\n                ? Arrays.stream(file.listFiles()).flatMap(this::files)\r\n                : Stream.of(file);\r\n    }","title":"Recursively list files in Java","body":"<p>Another way you can do even if someone already provide Java 8 walk.</p>\n\n<p>This one will provide you all files recursively</p>\n\n<pre><code>  private Stream&lt;File&gt; files(File file) {\n    return file.isDirectory()\n            ? Arrays.stream(file.listFiles()).flatMap(this::files)\n            : Stream.of(file);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16517371,"reputation":41,"user_id":11934422,"display_name":"Parikshit Phukan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597690035,"creation_date":1597690035,"answer_id":63456915,"question_id":2056221,"body_markdown":"    public static String getExten(String path) {\r\n\t\tint i = path.lastIndexOf(&#39;.&#39;);\r\n\t\tif (i &gt; 0) {\r\n\t\t   return path.substring(i);\r\n\t\t}\r\n\t\telse return &quot;&quot;;\r\n\t}\r\n\tpublic static List&lt;String&gt; GetAllFiles(String path, List&lt;String&gt;fileList){\r\n\t\tFile file = new File(path);\r\n\t\t\r\n\t\tFile[] files = file.listFiles();\r\n\t\tfor(File folder:files) {\r\n\t\t\tif(extensions.contains(getExten(folder.getPath()))) {\r\n\t\t\t\tfileList.add(folder.getPath());\r\n\t\t\t}\r\n\t\t}\r\n\t\tFile[] direcs = file.listFiles(File::isDirectory);\r\n\t\tfor(File dir:direcs) {\r\n\t\t\tGetAllFiles(dir.getPath(),fileList);\r\n\t\t}\r\n\t\treturn fileList;\r\n\t\t\r\n\t}\r\nThis is a simple recursive function that should give you all the files. extensions is a list of string that contains only those extensions which are accepted. Example extensions = [&quot;.txt&quot;,&quot;.docx&quot;] etc.\r\n","title":"Recursively list files in Java","body":"<pre><code>public static String getExten(String path) {\n    int i = path.lastIndexOf('.');\n    if (i &gt; 0) {\n       return path.substring(i);\n    }\n    else return &quot;&quot;;\n}\npublic static List&lt;String&gt; GetAllFiles(String path, List&lt;String&gt;fileList){\n    File file = new File(path);\n    \n    File[] files = file.listFiles();\n    for(File folder:files) {\n        if(extensions.contains(getExten(folder.getPath()))) {\n            fileList.add(folder.getPath());\n        }\n    }\n    File[] direcs = file.listFiles(File::isDirectory);\n    for(File dir:direcs) {\n        GetAllFiles(dir.getPath(),fileList);\n    }\n    return fileList;\n    \n}\n</code></pre>\n<p>This is a simple recursive function that should give you all the files. extensions is a list of string that contains only those extensions which are accepted. Example extensions = [&quot;.txt&quot;,&quot;.docx&quot;] etc.</p>\n"},{"tags":[],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600686958,"creation_date":1600685687,"answer_id":63990855,"question_id":2056221,"body_markdown":"&gt; Lists all files with provided extensions,with option to scan\r\n&gt; subfolders (recursive)\r\n\r\n     \r\n \r\n\r\n     public static ArrayList&lt;File&gt; listFileTree(File dir,boolean recursive) {\r\n            if (null == dir || !dir.isDirectory()) {\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n            final Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\r\n            FileFilter fileFilter = new FileFilter() {\r\n                private final String[] acceptedExtensions = new String[]{&quot;jpg&quot;, &quot;png&quot;, &quot;webp&quot;, &quot;jpeg&quot;};\r\n    \r\n                @Override\r\n                public boolean accept(File file) {\r\n                    if (file.isDirectory()) {\r\n                        return true;\r\n                    }\r\n                    for (String extension : acceptedExtensions) {\r\n                        if (file.getName().toLowerCase().endsWith(extension)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n            };\r\n            File[] listed = dir.listFiles(fileFilter);\r\n            if(listed!=null){\r\n                for (File entry : listed) {\r\n                    if (entry.isFile()) {\r\n                        fileTree.add(entry);\r\n                    } else if(recursive){\r\n                        fileTree.addAll(listFileTree(entry,true));\r\n                    }\r\n                }\r\n            }\r\n            return new ArrayList&lt;&gt;(fileTree);\r\n        }","title":"Recursively list files in Java","body":"<blockquote>\n<p>Lists all files with provided extensions,with option to scan\nsubfolders (recursive)</p>\n</blockquote>\n<pre><code> public static ArrayList&lt;File&gt; listFileTree(File dir,boolean recursive) {\n        if (null == dir || !dir.isDirectory()) {\n            return new ArrayList&lt;&gt;();\n        }\n        final Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\n        FileFilter fileFilter = new FileFilter() {\n            private final String[] acceptedExtensions = new String[]{&quot;jpg&quot;, &quot;png&quot;, &quot;webp&quot;, &quot;jpeg&quot;};\n\n            @Override\n            public boolean accept(File file) {\n                if (file.isDirectory()) {\n                    return true;\n                }\n                for (String extension : acceptedExtensions) {\n                    if (file.getName().toLowerCase().endsWith(extension)) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n        File[] listed = dir.listFiles(fileFilter);\n        if(listed!=null){\n            for (File entry : listed) {\n                if (entry.isFile()) {\n                    fileTree.add(entry);\n                } else if(recursive){\n                    fileTree.addAll(listFileTree(entry,true));\n                }\n            }\n        }\n        return new ArrayList&lt;&gt;(fileTree);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603091577,"creation_date":1602473118,"answer_id":64311326,"question_id":2056221,"body_markdown":"base on @Michael answer, add check whether listFiles return null\r\n\r\n    static Stream&lt;File&gt; files(File file) {\r\n        return file.isDirectory()\r\n                ? Optional.ofNullable(file.listFiles()).map(Stream::of).orElseGet(Stream::empty).flatMap(MainActivity::files)\r\n                : Stream.of(file);\r\n    }\r\n\r\nor use [Lightweight-Stream-API][1], which support Android5 &amp; Android6\r\n\r\n    static Stream&lt;File&gt; files(File f) {\r\n        return f.isDirectory() ? Stream.ofNullable(f.listFiles()).flatMap(MainActivity::files) : Stream.of(f);\r\n    }\r\n\r\n  [1]: https://github.com/aNNiMON/Lightweight-Stream-API","title":"Recursively list files in Java","body":"<p>base on @Michael answer, add check whether listFiles return null</p>\n<pre><code>static Stream&lt;File&gt; files(File file) {\n    return file.isDirectory()\n            ? Optional.ofNullable(file.listFiles()).map(Stream::of).orElseGet(Stream::empty).flatMap(MainActivity::files)\n            : Stream.of(file);\n}\n</code></pre>\n<p>or use <a href=\"https://github.com/aNNiMON/Lightweight-Stream-API\" rel=\"nofollow noreferrer\">Lightweight-Stream-API</a>, which support Android5 &amp; Android6</p>\n<pre><code>static Stream&lt;File&gt; files(File f) {\n    return f.isDirectory() ? Stream.ofNullable(f.listFiles()).flatMap(MainActivity::files) : Stream.of(f);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1701962983,"post_id":69489309,"comment_id":136842033,"body_markdown":"The chosen answer was updated with the try with resources fix.","body":"The chosen answer was updated with the try with resources fix."}],"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633654452,"creation_date":1633654452,"answer_id":69489309,"question_id":2056221,"body_markdown":"The accepted answer is poor because it can result in a resource leak.\r\n\r\n[Files.walk][1] is backed by [DirectoryStreams][2].\r\n\r\n&gt;  The returned stream encapsulates one or more DirectoryStreams. If timely disposal of file system resources is required, the try-with-resources construct should be used to ensure that the stream&#39;s close method is invoked after the stream operations are completed. Operating on a closed stream will result in an IllegalStateException.\r\n\r\nA DirectoryStream must be closed as specified in it&#39;s javadoc:\r\n\r\n&gt; A DirectoryStream is opened upon creation and is closed by invoking the close method. Closing a directory stream releases any resources associated with the stream. Failure to close the stream may result in a resource leak. The try-with-resources statement provides a useful construct to ensure that the stream is closed:\r\n```\r\nPath dir = ...\r\ntry (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir)) {\r\n    for (Path entry: stream) {\r\n        ...\r\n    }\r\n}\r\n```  \r\n\r\nAs a result, the true answer is:\r\n```\r\ntry (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\r\n    // Do something with the stream.\r\n    stream.filter(Files::isRegularFile)\r\n          .forEach(System.out::println);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html","title":"Recursively list files in Java","body":"<p>The accepted answer is poor because it can result in a resource leak.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\">Files.walk</a> is backed by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html\" rel=\"nofollow noreferrer\">DirectoryStreams</a>.</p>\n<blockquote>\n<p>The returned stream encapsulates one or more DirectoryStreams. If timely disposal of file system resources is required, the try-with-resources construct should be used to ensure that the stream's close method is invoked after the stream operations are completed. Operating on a closed stream will result in an IllegalStateException.</p>\n</blockquote>\n<p>A DirectoryStream must be closed as specified in it's javadoc:</p>\n<blockquote>\n<p>A DirectoryStream is opened upon creation and is closed by invoking the close method. Closing a directory stream releases any resources associated with the stream. Failure to close the stream may result in a resource leak. The try-with-resources statement provides a useful construct to ensure that the stream is closed:</p>\n</blockquote>\n<pre><code>Path dir = ...\ntry (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir)) {\n    for (Path entry: stream) {\n        ...\n    }\n}\n</code></pre>\n<p>As a result, the true answer is:</p>\n<pre><code>try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\n    // Do something with the stream.\n    stream.filter(Files::isRegularFile)\n          .forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4767604,"reputation":251,"user_id":3853332,"display_name":"sklimkovitch"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638465832,"creation_date":1638465832,"answer_id":70203909,"question_id":2056221,"body_markdown":"    import java.io.File;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tloopFiles(new File(&quot;C:\\\\Users\\\\serge.klimkovitch\\\\Documents&quot;));\r\n    \t}\r\n    \r\n    \tprivate static void loopFiles(File element) {\r\n    \t\tif (element.isDirectory()) {\r\n    \t\t\tfor (File currentFile : element.listFiles()) {\r\n    \t\t\t\tloopFiles(currentFile);\r\n    \t\t\t\tSystem.out.println(currentFile);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Recursively list files in Java","body":"<pre><code>import java.io.File;\n\npublic class Main {\n    public static void main(String[] args) {\n        loopFiles(new File(&quot;C:\\\\Users\\\\serge.klimkovitch\\\\Documents&quot;));\n    }\n\n    private static void loopFiles(File element) {\n        if (element.isDirectory()) {\n            for (File currentFile : element.listFiles()) {\n                loopFiles(currentFile);\n                System.out.println(currentFile);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14843263,"reputation":49,"user_id":10719341,"display_name":"Saravanan Andavar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643967254,"creation_date":1643675614,"answer_id":70934436,"question_id":2056221,"body_markdown":"```java\r\nList&lt;Path&gt; filePaths = Files\r\n    .find(Paths.get(dir), Integer.MAX_VALUE, (filePath, fileAttr) -&gt; fileAttr.isRegularFile() || fileAttr.isDirectory())\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n`filePaths` will have files and folder list which can be iterated and proceed further.","title":"Recursively list files in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>List&lt;Path&gt; filePaths = Files\n    .find(Paths.get(dir), Integer.MAX_VALUE, (filePath, fileAttr) -&gt; fileAttr.isRegularFile() || fileAttr.isDirectory())\n    .collect(Collectors.toList());\n</code></pre>\n<p><code>filePaths</code> will have files and folder list which can be iterated and proceed further.</p>\n"}],"owner":{"account_id":39297,"reputation":16022,"user_id":113247,"accept_rate":69,"display_name":"Quintin Par"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382005,"favorite_count":0,"down_vote_count":1,"up_vote_count":344,"accepted_answer_id":24006711,"answer_count":30,"score":343,"last_activity_date":1665003543,"creation_date":1263382172,"question_id":2056221,"body_markdown":"How do I recursively list all files under a directory in Java? Does the framework provide any utility?   \r\n\r\nI saw a lot of hacky implementations. But none from the framework or [nio][1]  \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/nio/package-summary.html","title":"Recursively list files in Java","body":"<p>How do I recursively list all files under a directory in Java? Does the framework provide any utility?   </p>\n\n<p>I saw a lot of hacky implementations. But none from the framework or <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/nio/package-summary.html\" rel=\"noreferrer\">nio</a>  </p>\n"},{"tags":["java","javac"],"answers":[{"tags":[],"owner":{"account_id":21322574,"reputation":51,"user_id":15695480,"display_name":"Programmer AHN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621707425,"creation_date":1621706431,"answer_id":67652672,"question_id":67652202,"body_markdown":"Run the program like this :\r\n\r\n    java algs4.Ortho text_1.txt &lt; text_2.txt\r\nLet me know if this worked for you or no.\r\n","title":"Compiling and running a simple Java program using java-algs4","body":"<p>Run the program like this :</p>\n<pre><code>java algs4.Ortho text_1.txt &lt; text_2.txt\n</code></pre>\n<p>Let me know if this worked for you or no.</p>\n"}],"owner":{"account_id":18254132,"reputation":253,"user_id":13288479,"display_name":"Occhima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665003307,"creation_date":1621703474,"question_id":67652202,"body_markdown":"I&#39;m learning Java through the this Princeton course https://algs4.cs.princeton.edu/home/. I&#39;ve create a simple Java program called Ortho.java using the Java provided by the course (that I installed using this tutorial: https://algs4.cs.princeton.edu/linux/). The program receives two .txt input files, it reads those as a list of strings, and print their first value.\r\n\r\nHere&#39;s the program:\r\n\r\n```java \r\npackage edu.princeton.cs.algs4;\r\nimport java.util.Arrays;\r\n\r\nclass Ortho{\r\n\r\n    public static void main(String args[]){     \r\n\r\n        // Read files from input and print statements\r\n        In in = new In(args[0]);\r\n        String[] list = in.readAllStrings(); //parse the first text input\r\n\r\n        while (!StdIn.isEmpty()) {\r\n            String key = StdIn.readString();\r\n            System.out.print(key);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI run this command on the shell to compile my program, this creates a file called Ortho.class:\r\n\r\n`javac-algs4 Ortho.java`\r\n\r\nThis is the command I use to run the program: \r\n\r\n`java-algs4 Ortho.class text_1.txt &lt; text_2.txt`\r\n\r\nBut I always get this error:\r\n\r\n```java\r\nError: Could not find or load main class Ortho.class\r\nCaused by: java.lang.ClassNotFoundException: Ortho.class\r\n```\r\n\r\nWhat do I need to do to properly compile and run this program with the algs4 Java lib provided by the course?\r\n\r\nThis is my project structure:\r\n\r\n```\r\ndir/\r\n  Ortho.java\r\n  Ortho.class\r\n  text_1.txt\r\n  text_2.txt\r\n\r\n```\r\n","title":"Compiling and running a simple Java program using java-algs4","body":"<p>I'm learning Java through the this Princeton course <a href=\"https://algs4.cs.princeton.edu/home/\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/home/</a>. I've create a simple Java program called Ortho.java using the Java provided by the course (that I installed using this tutorial: <a href=\"https://algs4.cs.princeton.edu/linux/\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/linux/</a>). The program receives two .txt input files, it reads those as a list of strings, and print their first value.</p>\n<p>Here's the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package edu.princeton.cs.algs4;\nimport java.util.Arrays;\n\nclass Ortho{\n\n    public static void main(String args[]){     \n\n        // Read files from input and print statements\n        In in = new In(args[0]);\n        String[] list = in.readAllStrings(); //parse the first text input\n\n        while (!StdIn.isEmpty()) {\n            String key = StdIn.readString();\n            System.out.print(key);\n        }\n    }\n\n}\n</code></pre>\n<p>I run this command on the shell to compile my program, this creates a file called Ortho.class:</p>\n<p><code>javac-algs4 Ortho.java</code></p>\n<p>This is the command I use to run the program:</p>\n<p><code>java-algs4 Ortho.class text_1.txt &lt; text_2.txt</code></p>\n<p>But I always get this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Error: Could not find or load main class Ortho.class\nCaused by: java.lang.ClassNotFoundException: Ortho.class\n</code></pre>\n<p>What do I need to do to properly compile and run this program with the algs4 Java lib provided by the course?</p>\n<p>This is my project structure:</p>\n<pre><code>dir/\n  Ortho.java\n  Ortho.class\n  text_1.txt\n  text_2.txt\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664972187,"post_id":73960146,"comment_id":130589649,"body_markdown":"&quot;I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data&quot; -- you will not have access to that file on Android 11+. &quot;How to find where they have copied this file and its path using JAVA/KOTLIN code?&quot; -- use `ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument` and let the user choose the file. Not only will you have access to it, but you do not need to guess at its location.","body":"&quot;I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data&quot; -- you will not have access to that file on Android 11+. &quot;How to find where they have copied this file and its path using JAVA/KOTLIN code?&quot; -- use <code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code> and let the user choose the file. Not only will you have access to it, but you do not need to guess at its location."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1664972237,"post_id":73960146,"comment_id":130589664,"body_markdown":"I would simply call that a bad app design. If the file is not too large I would consider your Windows app to display a QR code with a special scheme that is registered by your app like `myapp://host/data123`. Then scanning the QR code and executing the link will open your app and you can process the URL and extract the data.","body":"I would simply call that a bad app design. If the file is not too large I would consider your Windows app to display a QR code with a special scheme that is registered by your app like <code>myapp:&#47;&#47;host&#47;data123</code>. Then scanning the QR code and executing the link will open your app and you can process the URL and extract the data."}],"answers":[{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664983915,"post_id":73960366,"comment_id":130594417,"body_markdown":"None of this is relevant for Android. For example, Android programs do not implement a `main()` method.","body":"None of this is relevant for Android. For example, Android programs do not implement a <code>main()</code> method."},{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1664991389,"post_id":73960366,"comment_id":130596945,"body_markdown":"@CommonsWare, you are right. I got confused by the way the question begins ‚ÄúMy Windows app‚Ä¶‚Äù. However, the principle is pretty much the same to all platforms I believe. Main - is just a code snippet, could be dropped and only the line for actual  read of env variable  is relevant","body":"@CommonsWare, you are right. I got confused by the way the question begins ‚ÄúMy Windows app‚Ä¶‚Äù. However, the principle is pretty much the same to all platforms I believe. Main - is just a code snippet, could be dropped and only the line for actual  read of env variable  is relevant"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664997277,"post_id":73960366,"comment_id":130598793,"body_markdown":"&quot;the principle is pretty much the same to all platforms I believe&quot; -- not for Android.","body":"&quot;the principle is pretty much the same to all platforms I believe&quot; -- not for Android."},{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1665002858,"post_id":73960366,"comment_id":130600327,"body_markdown":"@CommonsWare updated the answer. The principle is very much the same","body":"@CommonsWare updated the answer. The principle is very much the same"},{"owner":{"account_id":12160867,"reputation":11,"user_id":8878450,"display_name":"SKDM"},"score":0,"creation_date":1665206061,"post_id":73960366,"comment_id":130650145,"body_markdown":"Please ignore the Windows App portion of my question. My specific requirement is a piece of code written in JAVA/KOTLIN in Android studio to search everywhere in the mobile and find a specific file ‚Äúfoo.txt‚Äù in the external storage. \nMy code in Kotlin works if the file is present in known folders. What if I want to look into subfolders ? And how to read into a removable SD card ?\nIs it possible to run through the entire Directory Tree in search of a file ?\nIn Kotlin there is a function FILES.WALK but I do not know what id does and how to use it.","body":"Please ignore the Windows App portion of my question. My specific requirement is a piece of code written in JAVA/KOTLIN in Android studio to search everywhere in the mobile and find a specific file ‚Äúfoo.txt‚Äù in the external storage.  My code in Kotlin works if the file is present in known folders. What if I want to look into subfolders ? And how to read into a removable SD card ? Is it possible to run through the entire Directory Tree in search of a file ? In Kotlin there is a function FILES.WALK but I do not know what id does and how to use it."},{"owner":{"account_id":12160867,"reputation":11,"user_id":8878450,"display_name":"SKDM"},"score":0,"creation_date":1665296719,"post_id":73960366,"comment_id":130663842,"body_markdown":"@aviad Please ignore the Windows App portion of my question. My specific requirement is a piece of code written in JAVA/KOTLIN in Android studio to search everywhere in the mobile and find a specific file ‚Äúfoo.txt‚Äù in the external storage. My code in Kotlin works if the file is present in known folders. What if I want to look into subfolders ? And how to read into a removable SD card ? Is it possible to run through the entire Directory Tree in search of a file ? In Kotlin there is a function FILES.WALK but I do not know what id does and how to use it","body":"@aviad Please ignore the Windows App portion of my question. My specific requirement is a piece of code written in JAVA/KOTLIN in Android studio to search everywhere in the mobile and find a specific file ‚Äúfoo.txt‚Äù in the external storage. My code in Kotlin works if the file is present in known folders. What if I want to look into subfolders ? And how to read into a removable SD card ? Is it possible to run through the entire Directory Tree in search of a file ? In Kotlin there is a function FILES.WALK but I do not know what id does and how to use it"},{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1665299464,"post_id":73960366,"comment_id":130664169,"body_markdown":"My recommendation (and the best practice) is to use a predefined location in file system for writing and reading files by your application. If you give users a flexibility to save files where they want and then will try to figure out later where the file you gave them was stored it will soon and surely turn into a mess. In your case, I would use /data/data/&lt;package_name&gt; (and corresponding SD-part):\n\ndatabases/: here go the app&#39;s databases\nlib/: libraries and helpers for the app\nfiles/: other related files\nshared_prefs/: preferences and settings\ncache/: - caches","body":"My recommendation (and the best practice) is to use a predefined location in file system for writing and reading files by your application. If you give users a flexibility to save files where they want and then will try to figure out later where the file you gave them was stored it will soon and surely turn into a mess. In your case, I would use /data/data/&lt;package_name&gt; (and corresponding SD-part):  databases/: here go the app&#39;s databases lib/: libraries and helpers for the app files/: other related files shared_prefs/: preferences and settings cache/: - caches"}],"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665002805,"creation_date":1664972897,"answer_id":73960366,"question_id":73960146,"body_markdown":"UDATE: on Android getting the application directory can be achieved as follows:\r\n\r\n    Context.getApplicationInfo().dataDir\r\n\r\n**Leaving the Windows OS part below for the sake of comment history tracking.**\r\n \r\n\r\nThe files your app writes need to have predefined location on every OS your java app works. There are System properties in java you can use to refer to OS specific location. For example to get the current working directory your application is running in:\r\n\r\n    public class JavaApplication {\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n      }\r\n    }\r\n\r\nFor getting the location where applications are meant to store their data on Windows you can use one of the following environment variables: \r\n\r\n 1. `%PROGRAMDATA%`  \r\n 2. `%ALLUSERSPROFILE%`\r\n\r\nPersonally, I think that %PROGRAMDATA% is a better fit.\r\n\r\nYou can get the value of the environment variable like this:\r\n\r\n    String programDataDir = System.getenv(&quot;PROGRAMDATA&quot;);\r\n\r\n\r\n","title":"How to find where a particular file is located using JAVA/KOTLIN code?","body":"<p>UDATE: on Android getting the application directory can be achieved as follows:</p>\n<pre><code>Context.getApplicationInfo().dataDir\n</code></pre>\n<p><strong>Leaving the Windows OS part below for the sake of comment history tracking.</strong></p>\n<p>The files your app writes need to have predefined location on every OS your java app works. There are System properties in java you can use to refer to OS specific location. For example to get the current working directory your application is running in:</p>\n<pre><code>public class JavaApplication {\n  public static void main(String[] args) {\n    System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n  }\n}\n</code></pre>\n<p>For getting the location where applications are meant to store their data on Windows you can use one of the following environment variables:</p>\n<ol>\n<li><code>%PROGRAMDATA%</code></li>\n<li><code>%ALLUSERSPROFILE%</code></li>\n</ol>\n<p>Personally, I think that %PROGRAMDATA% is a better fit.</p>\n<p>You can get the value of the environment variable like this:</p>\n<pre><code>String programDataDir = System.getenv(&quot;PROGRAMDATA&quot;);\n</code></pre>\n"}],"owner":{"account_id":12160867,"reputation":11,"user_id":8878450,"display_name":"SKDM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665002805,"creation_date":1664971898,"question_id":73960146,"body_markdown":"My Windows app creates a &quot;foo.txt&quot; file. I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data. But many of them put this in any of DOCUMENTS, PICTURES, MUSIC folders or into the REMOVABLE SD CARD. How to find where they have copied this file and its path using JAVA/KOTLIN code?","title":"How to find where a particular file is located using JAVA/KOTLIN code?","body":"<p>My Windows app creates a &quot;foo.txt&quot; file. I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data. But many of them put this in any of DOCUMENTS, PICTURES, MUSIC folders or into the REMOVABLE SD CARD. How to find where they have copied this file and its path using JAVA/KOTLIN code?</p>\n"},{"tags":["python","java","jar","subprocess"],"comments":[{"owner":{"account_id":20123120,"reputation":1074,"user_id":14757226,"display_name":"saquintes"},"score":0,"creation_date":1665003030,"post_id":73966161,"comment_id":130600370,"body_markdown":"I assume you&#39;ve tried running the same commands you are trying to run through python on the command line and they work?","body":"I assume you&#39;ve tried running the same commands you are trying to run through python on the command line and they work?"},{"owner":{"account_id":24105047,"reputation":71,"user_id":20138585,"display_name":"kevkev9957"},"score":0,"creation_date":1665006698,"post_id":73966161,"comment_id":130601275,"body_markdown":"@saquintes - Does not work on the command line either.","body":"@saquintes - Does not work on the command line either."},{"owner":{"account_id":20123120,"reputation":1074,"user_id":14757226,"display_name":"saquintes"},"score":0,"creation_date":1665387960,"post_id":73966161,"comment_id":130679740,"body_markdown":"Gotcha.  So no really an issue with Python or subprocess, but a problem with your jar file?","body":"Gotcha.  So no really an issue with Python or subprocess, but a problem with your jar file?"}],"owner":{"account_id":24105047,"reputation":71,"user_id":20138585,"display_name":"kevkev9957"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665002744,"creation_date":1665002744,"question_id":73966161,"body_markdown":"I&#39;m on a Windows 10 machine, using a third party jar file, ccmcl.jar, from https://github.com/usnistgov/combinatorial-testing-tools/tree/master/CCM%20Command%20Line%20Tool. I have a python script that executes:  \r\n\r\n    p1 = subprocess.Popen([&#39;timeout&#39;, &#39;30&#39;, &#39;java&#39;, &#39;-jar&#39;, &#39;ccmcl.jar&#39;, &#39;-A&#39;, &#39;my_text_file.txt&#39;, &#39;-I&#39;, &#39;my_csv_file.csv&#39;, &#39;-T&#39;, &#39;3&#39;], stdout=subprocess.PIPE)\r\n    p1.wait()\r\n    idc_acc_array_content, err = p1.communicate()\r\n I get the following error:  \r\n\r\n    ERROR: Invalid syntax. Default option is not allowed more than &#39;1&#39; time(s).\r\n    Type &quot;TIMEOUT /?&quot; for usage.\r\nThis results in `idc_acc_array = b&#39;&#39;`. The usage is correct for that jar file and all files referenced are in the current working directory. If I remove the &quot;timeout&quot; portion of the subprocess line I have:  \r\n\r\n    p1 = subprocess.Popen([&#39;java&#39;, &#39;-jar&#39;, &#39;ccmcl.jar&#39;, &#39;-A&#39;, &#39;my_text_file.txt&#39;, &#39;-I&#39;, &#39;my_csv_file.csv&#39;, &#39;-T&#39;, &#39;3&#39;], stdout=subprocess.PIPE)\r\n    p1.wait()\r\n    idc_acc_array_content, err = p1.communicate()\r\nAgain, I get that `idc_acc_array_content = b&#39;&#39;`, and the following error:  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jfree/data/xy/XYDataset\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:56)\r\n    Caused by: java.lang.ClassNotFoundException: org.jfree.data.xy.XYDataset\r\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 3 more\r\n    \r\nAm I incorrect in thinking this jar file should be usable &quot;out of the box&quot;? Note that this is what I have in terms of my Java version:  \r\n\r\n    $ java -version\r\n    openjdk version &quot;11.0.15&quot; 2022-04-19\r\n    OpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\r\n    OpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)","title":"Python subprocess.Popen not working for jar file","body":"<p>I'm on a Windows 10 machine, using a third party jar file, ccmcl.jar, from <a href=\"https://github.com/usnistgov/combinatorial-testing-tools/tree/master/CCM%20Command%20Line%20Tool\" rel=\"nofollow noreferrer\">https://github.com/usnistgov/combinatorial-testing-tools/tree/master/CCM%20Command%20Line%20Tool</a>. I have a python script that executes:</p>\n<pre><code>p1 = subprocess.Popen(['timeout', '30', 'java', '-jar', 'ccmcl.jar', '-A', 'my_text_file.txt', '-I', 'my_csv_file.csv', '-T', '3'], stdout=subprocess.PIPE)\np1.wait()\nidc_acc_array_content, err = p1.communicate()\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>ERROR: Invalid syntax. Default option is not allowed more than '1' time(s).\nType &quot;TIMEOUT /?&quot; for usage.\n</code></pre>\n<p>This results in <code>idc_acc_array = b''</code>. The usage is correct for that jar file and all files referenced are in the current working directory. If I remove the &quot;timeout&quot; portion of the subprocess line I have:</p>\n<pre><code>p1 = subprocess.Popen(['java', '-jar', 'ccmcl.jar', '-A', 'my_text_file.txt', '-I', 'my_csv_file.csv', '-T', '3'], stdout=subprocess.PIPE)\np1.wait()\nidc_acc_array_content, err = p1.communicate()\n</code></pre>\n<p>Again, I get that <code>idc_acc_array_content = b''</code>, and the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jfree/data/xy/XYDataset\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:56)\nCaused by: java.lang.ClassNotFoundException: org.jfree.data.xy.XYDataset\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 3 more\n</code></pre>\n<p>Am I incorrect in thinking this jar file should be usable &quot;out of the box&quot;? Note that this is what I have in terms of my Java version:</p>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.15&quot; 2022-04-19\nOpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)\n</code></pre>\n"},{"tags":["java","io","buffer"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664975457,"post_id":73960223,"comment_id":130590870,"body_markdown":"Why should the documentation of **FileChannel** have relevance for the **Pipe.SinkChannel**? On the other hand, you didn‚Äôt cite the FileChannel‚Äôs documentation, contrary to what you said. When you read [`WritableByteChannel.write`‚Äôs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/WritableByteChannel.html#write(java.nio.ByteBuffer)) *completely*, you may notice that it says: ‚Äú*Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all.*‚Äù","body":"Why should the documentation of <b>FileChannel</b> have relevance for the <b>Pipe.SinkChannel</b>? On the other hand, you didn‚Äôt cite the FileChannel‚Äôs documentation, contrary to what you said. When you read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/WritableByteChannel.html#write(java.nio.ByteBuffer)\" rel=\"nofollow noreferrer\"><code>WritableByteChannel.write</code>‚Äôs</a> <i>completely</i>, you may notice that it says: ‚Äú<i>Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all.</i>‚Äù"},{"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"score":0,"creation_date":1664975743,"post_id":73960223,"comment_id":130591004,"body_markdown":"So does the sinkChannel write all the remaining bytes or not ?","body":"So does the sinkChannel write all the remaining bytes or not ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664975908,"post_id":73960223,"comment_id":130591071,"body_markdown":"That doesn‚Äôt mean that you always need a `while (writeBuffer.hasRemaining()) { ‚Ä¶ }` loop. If you implement the loop correctly, i.e. using [`compact()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#compact()) instead of `flip` after the write, there‚Äôs no problem if not all bytes have been written. In your case, you have to skip the `writeBuffer.put(currentTime.getBytes())` if there is not enough remaining space (which would implicitly write again).","body":"That doesn‚Äôt mean that you always need a <code>while (writeBuffer.hasRemaining()) { ‚Ä¶ }</code> loop. If you implement the loop correctly, i.e. using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#compact()\" rel=\"nofollow noreferrer\"><code>compact()</code></a> instead of <code>flip</code> after the write, there‚Äôs no problem if not all bytes have been written. In your case, you have to skip the <code>writeBuffer.put(currentTime.getBytes())</code> if there is not enough remaining space (which would implicitly write again)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664976008,"post_id":73960223,"comment_id":130591101,"body_markdown":"Since the documentation of `SinkChannel` does not specify anything, I‚Äôd not assume that it makes any guarantees. But why should it matter? If you implement the loop correctly, there‚Äôs no harm.","body":"Since the documentation of <code>SinkChannel</code> does not specify anything, I‚Äôd not assume that it makes any guarantees. But why should it matter? If you implement the loop correctly, there‚Äôs no harm."}],"answers":[{"tags":[],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665002249,"creation_date":1665002249,"answer_id":73966089,"question_id":73960223,"body_markdown":"After investigating a little deeper I found that the abstract class **SinkChannel** that is a part of the class **Pipe** is implemented by a class named **SinkChannelImpl**. \r\n\r\nIn the latter class, a **SocketChannel** object is used as a channel, and the write method is implemented in the **SocketChannelImpl** class since\r\n**SocketChannel** is an abstract class too. \r\n\r\nBottom line is that when I call the write method of the SinkChannel I am actually calling the write method of the SocketChannelImpl class.\r\n\r\nUnfortunately, the documentation does not really specify if all of the remaining bytes will be written to the channel or not, quote: &quot;*Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all*&quot;, also the code is obfuscated and will take some time to know how it works.\r\n\r\nSo I will be using the **compact** method after the write so in case some of the bytes are not written they will be moved to the **beginning** of the buffer.","title":"Is hasRemaining method really necessary while reading from the source channel of Pipe object?","body":"<p>After investigating a little deeper I found that the abstract class <strong>SinkChannel</strong> that is a part of the class <strong>Pipe</strong> is implemented by a class named <strong>SinkChannelImpl</strong>.</p>\n<p>In the latter class, a <strong>SocketChannel</strong> object is used as a channel, and the write method is implemented in the <strong>SocketChannelImpl</strong> class since\n<strong>SocketChannel</strong> is an abstract class too.</p>\n<p>Bottom line is that when I call the write method of the SinkChannel I am actually calling the write method of the SocketChannelImpl class.</p>\n<p>Unfortunately, the documentation does not really specify if all of the remaining bytes will be written to the channel or not, quote: &quot;<em>Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all</em>&quot;, also the code is obfuscated and will take some time to know how it works.</p>\n<p>So I will be using the <strong>compact</strong> method after the write so in case some of the bytes are not written they will be moved to the <strong>beginning</strong> of the buffer.</p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966089,"answer_count":1,"score":1,"last_activity_date":1665002249,"creation_date":1664972274,"question_id":73960223,"body_markdown":"The **hasRemaining** method of the **ByteBuffer** class in Java.NIO package returns whether there are any elements between the current position and the limit. \r\n\r\nAt the same time, the documentation of the **write** method of **FileChannel** class says &quot;*An attempt is made to write up to r bytes to the channel, where r is the number of bytes remaining in the buffer, that is, src.remaining(), at the moment this method is invoked*&quot;\r\n\r\nThis is my **main method** code where I am using the **sink channel** and **source channel** of **pipes** in java NIO :\r\n\r\n    try {\r\n                Pipe pipe = Pipe.open();\r\n                Runnable writer = () -&gt; {\r\n                    try {\r\n                        Pipe.SinkChannel sinkChannel = pipe.sink();\r\n                        ByteBuffer writeBuffer = ByteBuffer.allocate(100);\r\n    \r\n                        for (int i = 0; i &lt; 10; i++) {\r\n                            String currentTime = &quot;The current time is &quot; + System.currentTimeMillis();\r\n                            writeBuffer.put(currentTime.getBytes());\r\n                            writeBuffer.flip();\r\n    \r\n                            while (writeBuffer.hasRemaining()) {\r\n                                int writtenBytes = sinkChannel.write(writeBuffer);\r\n                                System.out.println(&quot;Channel is writing &quot; + writtenBytes + &quot; bytes&quot;);\r\n                            }\r\n    \r\n                            writeBuffer.flip();\r\n                            Thread.sleep(150);\r\n                        }\r\n    \r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                };\r\n    \r\n                Runnable reader = () -&gt; {\r\n                    try {\r\n                        Pipe.SourceChannel sourceChannel = pipe.source();\r\n                        ByteBuffer readBuffer = ByteBuffer.allocate(100);\r\n    \r\n                        for (int i = 0; i &lt; 10; i++) {\r\n                            int bytesRead = sourceChannel.read(readBuffer); \r\n                            byte[] stringRead = new byte[bytesRead];\r\n    \r\n                            readBuffer.flip();\r\n                            readBuffer.get(stringRead);\r\n                            readBuffer.flip();\r\n    \r\n                            System.out.println(&quot;Buffer reading &#39;&quot; + new String(stringRead) + &quot;&#39;&quot;);\r\n                            Thread.sleep(150);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                };\r\n    \r\n                new Thread(writer).start();\r\n                new Thread(reader).start();\r\n\r\n    } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nI would like to know if the **hasRemaining** is really mandatory or not and when should I use it.","title":"Is hasRemaining method really necessary while reading from the source channel of Pipe object?","body":"<p>The <strong>hasRemaining</strong> method of the <strong>ByteBuffer</strong> class in Java.NIO package returns whether there are any elements between the current position and the limit.</p>\n<p>At the same time, the documentation of the <strong>write</strong> method of <strong>FileChannel</strong> class says &quot;<em>An attempt is made to write up to r bytes to the channel, where r is the number of bytes remaining in the buffer, that is, src.remaining(), at the moment this method is invoked</em>&quot;</p>\n<p>This is my <strong>main method</strong> code where I am using the <strong>sink channel</strong> and <strong>source channel</strong> of <strong>pipes</strong> in java NIO :</p>\n<pre><code>try {\n            Pipe pipe = Pipe.open();\n            Runnable writer = () -&gt; {\n                try {\n                    Pipe.SinkChannel sinkChannel = pipe.sink();\n                    ByteBuffer writeBuffer = ByteBuffer.allocate(100);\n\n                    for (int i = 0; i &lt; 10; i++) {\n                        String currentTime = &quot;The current time is &quot; + System.currentTimeMillis();\n                        writeBuffer.put(currentTime.getBytes());\n                        writeBuffer.flip();\n\n                        while (writeBuffer.hasRemaining()) {\n                            int writtenBytes = sinkChannel.write(writeBuffer);\n                            System.out.println(&quot;Channel is writing &quot; + writtenBytes + &quot; bytes&quot;);\n                        }\n\n                        writeBuffer.flip();\n                        Thread.sleep(150);\n                    }\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            };\n\n            Runnable reader = () -&gt; {\n                try {\n                    Pipe.SourceChannel sourceChannel = pipe.source();\n                    ByteBuffer readBuffer = ByteBuffer.allocate(100);\n\n                    for (int i = 0; i &lt; 10; i++) {\n                        int bytesRead = sourceChannel.read(readBuffer); \n                        byte[] stringRead = new byte[bytesRead];\n\n                        readBuffer.flip();\n                        readBuffer.get(stringRead);\n                        readBuffer.flip();\n\n                        System.out.println(&quot;Buffer reading '&quot; + new String(stringRead) + &quot;'&quot;);\n                        Thread.sleep(150);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            };\n\n            new Thread(writer).start();\n            new Thread(reader).start();\n\n} catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I would like to know if the <strong>hasRemaining</strong> is really mandatory or not and when should I use it.</p>\n"},{"tags":["java","arrays","algorithm","computer-science"],"comments":[{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1595575538,"post_id":63068610,"comment_id":111528036,"body_markdown":"Utilize a tree. You can go through the array once, put each element in a tree. Each node of the tree should hold the value + mean of the path of values to reach the node. In the end, all paths to the leaves with mean = S are the solution. Runtime O(n log n).","body":"Utilize a tree. You can go through the array once, put each element in a tree. Each node of the tree should hold the value + mean of the path of values to reach the node. In the end, all paths to the leaves with mean = S are the solution. Runtime O(n log n)."},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1595575643,"post_id":63068610,"comment_id":111528091,"body_markdown":"I‚Äôm voting to close this question because it [belongs on Software Recommendations.SE, as per this meta](https://meta.stackexchange.com/questions/322252/where-can-i-ask-for-algorithm-recommendations).","body":"I‚Äôm voting to close this question because it <a href=\"https://meta.stackexchange.com/questions/322252/where-can-i-ask-for-algorithm-recommendations\">belongs on Software Recommendations.SE, as per this meta</a>."},{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1595576610,"post_id":63068610,"comment_id":111528573,"body_markdown":"It is worth to specify - what do you mean by `subsequence`. Usually continuous pieces of array are called subarrays while subsequence might be non-continuous. Your code addresses continuous subarrays.","body":"It is worth to specify - what do you mean by <code>subsequence</code>. Usually continuous pieces of array are called subarrays while subsequence might be non-continuous. Your code addresses continuous subarrays."},{"owner":{"account_id":14190268,"reputation":505,"user_id":11228095,"display_name":"Ekesh Kumar"},"score":0,"creation_date":1595627711,"post_id":63068610,"comment_id":111551199,"body_markdown":"What&#39;s the source of this problem?","body":"What&#39;s the source of this problem?"},{"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"score":0,"creation_date":1597070081,"post_id":63068610,"comment_id":112006033,"body_markdown":"@Polygnome  Can you elaborate on &quot;mean of the path of values to reach the node&quot;?\nFor each node there should be many paths reaching to self so many mean values right?","body":"@Polygnome  Can you elaborate on &quot;mean of the path of values to reach the node&quot;? For each node there should be many paths reaching to self so many mean values right?"},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1597070138,"post_id":63068610,"comment_id":112006062,"body_markdown":"@selman https://en.wikipedia.org/wiki/Arithmetic_mean In a *tree*, there is exactly one path from the root to each node. Otherwise, its not a tree.","body":"@selman <a href=\"https://en.wikipedia.org/wiki/Arithmetic_mean\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Arithmetic_mean</a> In a <i>tree</i>, there is exactly one path from the root to each node. Otherwise, its not a tree."},{"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"score":0,"creation_date":1597070343,"post_id":63068610,"comment_id":112006176,"body_markdown":"@Polygnome  \nAbout &quot;Each node of the tree should hold the value + mean of the path of values to reach the node&quot; : Each node has many paths reaching to it. Given X=[5,3,6,2] and a Node holds the value 6,there are many paths reaching to that node. For instance one is [5,3,6] other is [3,6] and another is just [6]. \nSo how does a node holds all the arithmetic mean values for those?","body":"@Polygnome   About &quot;Each node of the tree should hold the value + mean of the path of values to reach the node&quot; : Each node has many paths reaching to it. Given X=[5,3,6,2] and a Node holds the value 6,there are many paths reaching to that node. For instance one is [5,3,6] other is [3,6] and another is just [6].  So how does a node holds all the arithmetic mean values for those?"},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1597070478,"post_id":63068610,"comment_id":112006240,"body_markdown":"@selman By definition, a node in a tree can only be reached by one path from the node. Otherwise, its not a tree, but a directed graph.","body":"@selman By definition, a node in a tree can only be reached by one path from the node. Otherwise, its not a tree, but a directed graph."},{"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"score":0,"creation_date":1597070888,"post_id":63068610,"comment_id":112006459,"body_markdown":"@Polygnome \nin this case utilizing a tree is not a solution for this problem.","body":"@Polygnome  in this case utilizing a tree is not a solution for this problem."}],"answers":[{"comments":[{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"◊í◊ú◊¢◊ì ◊ë◊®◊ß◊ü"},"score":0,"creation_date":1595604552,"post_id":63069299,"comment_id":111542109,"body_markdown":"We do not need counting or any kind of sort. We can accomplish this in `O(n)` time regardless of element range.","body":"We do not need counting or any kind of sort. We can accomplish this in <code>O(n)</code> time regardless of element range."}],"tags":[],"owner":{"account_id":7981773,"reputation":1199,"user_id":6022817,"display_name":"CƒÉtƒÉlin Fr&#226;ncu"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595577464,"creation_date":1595577464,"answer_id":63069299,"question_id":63068610,"body_markdown":"I will use 1-based indexing for this algorithm. This feels like one of those cases where it is OK.\r\n\r\nLet `P` be the partial sums array, that is `P[0] = 0` and `P[i] = X[1] + ... + X[i]`. Furthermore, let `Q[i] = P[i] - S * i`. For example,\r\n\r\n    i     0   1   2   3   4   5   6   7\r\n    -----------------------------------\r\n    X         5   3   6   2   5   5   2\r\n    P     0   5   8  14  16  21  26  28\r\n    Q     0   1   0   2   0   1   2   0\r\n\r\nWhat does it mean that the average of `[i,j]` (including `i` and `j`) is `S`? With the notations above, it can be written as\r\n\r\n    (P[j] - P[i - 1]) / (j - i + 1) = S     ==&gt;\r\n    P[j] - P[i - 1] = S * (j - i + 1)       ==&gt;\r\n    P[j] - P[i - 1] = S * j - S * (i - 1)   ==&gt;\r\n    P[j] - S * j = P[i - 1] - S * (i - 1)   ==&gt;\r\n    Q[j] = Q[i - 1]\r\n\r\nThis means that any pair of equal values in `Q` corresponds to a range of average `S`. For example, the two values of 1 in `Q` correspond to the range [3, 6, 2, 5]. The four values of 0 in `Q` give rise to six ranges of average `S=4`: [5,3], [6,2], [5,5,2], [5,3,6,2], [6,2,5,5,2] and [5,3,6,2,5,5,2].\r\n\r\nTherefore the following algorithm also runs in `O(n log n)`, the same as @Polygnome&#39;s comment, but should be considerably easier to implement:\r\n\r\n* calculate Q;\r\n* sort Q;\r\n* for every batch of `k` equal values in `Q`, add `k * (k - 1) / 2` to the answer;\r\n* return the answer.\r\n\r\nThis can be reduced to `O(n)` using a hash table or if the range of the values in `Q` is small enough to allow counting sort.","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>I will use 1-based indexing for this algorithm. This feels like one of those cases where it is OK.</p>\n<p>Let <code>P</code> be the partial sums array, that is <code>P[0] = 0</code> and <code>P[i] = X[1] + ... + X[i]</code>. Furthermore, let <code>Q[i] = P[i] - S * i</code>. For example,</p>\n<pre><code>i     0   1   2   3   4   5   6   7\n-----------------------------------\nX         5   3   6   2   5   5   2\nP     0   5   8  14  16  21  26  28\nQ     0   1   0   2   0   1   2   0\n</code></pre>\n<p>What does it mean that the average of <code>[i,j]</code> (including <code>i</code> and <code>j</code>) is <code>S</code>? With the notations above, it can be written as</p>\n<pre><code>(P[j] - P[i - 1]) / (j - i + 1) = S     ==&gt;\nP[j] - P[i - 1] = S * (j - i + 1)       ==&gt;\nP[j] - P[i - 1] = S * j - S * (i - 1)   ==&gt;\nP[j] - S * j = P[i - 1] - S * (i - 1)   ==&gt;\nQ[j] = Q[i - 1]\n</code></pre>\n<p>This means that any pair of equal values in <code>Q</code> corresponds to a range of average <code>S</code>. For example, the two values of 1 in <code>Q</code> correspond to the range [3, 6, 2, 5]. The four values of 0 in <code>Q</code> give rise to six ranges of average <code>S=4</code>: [5,3], [6,2], [5,5,2], [5,3,6,2], [6,2,5,5,2] and [5,3,6,2,5,5,2].</p>\n<p>Therefore the following algorithm also runs in <code>O(n log n)</code>, the same as @Polygnome's comment, but should be considerably easier to implement:</p>\n<ul>\n<li>calculate Q;</li>\n<li>sort Q;</li>\n<li>for every batch of <code>k</code> equal values in <code>Q</code>, add <code>k * (k - 1) / 2</code> to the answer;</li>\n<li>return the answer.</li>\n</ul>\n<p>This can be reduced to <code>O(n)</code> using a hash table or if the range of the values in <code>Q</code> is small enough to allow counting sort.</p>\n"},{"comments":[{"owner":{"account_id":7981773,"reputation":1199,"user_id":6022817,"display_name":"CƒÉtƒÉlin Fr&#226;ncu"},"score":0,"creation_date":1595606501,"post_id":63076661,"comment_id":111542993,"body_markdown":"Intriguing! Can you please clarify how you determine &quot;the number of times we&#39;ve seen the same prefix sum before&quot;? The prefix sums can be on the order of billions. I could not think of anything except a hash table, as mentioned in my answer.","body":"Intriguing! Can you please clarify how you determine &quot;the number of times we&#39;ve seen the same prefix sum before&quot;? The prefix sums can be on the order of billions. I could not think of anything except a hash table, as mentioned in my answer."},{"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"◊í◊ú◊¢◊ì ◊ë◊®◊ß◊ü"},"score":0,"creation_date":1595609587,"post_id":63076661,"comment_id":111544420,"body_markdown":"@CƒÉtƒÉlinFr&#226;ncu the number of prefix sums cannot be greater than O(n). Example: [1, 2, -3, 2, - 2, 4, -1], prefix sums: [1, 3, 0, 2, 0, 4, 3], the contiguous sums between identical prefix values, `(0,0] 2 - 2 = 0, and (3, 3] -3 + 2 - 2 + 4 - 1 = 0`, are zeros. Each rightmost prefix can be paired with as many equal prefixes we find to its left (with a special case for the full length prefix) to form contiguous sums zero. All we have to do is count how many prefixes with value, `v`, we have seen so far as we iterate to the right. We can use a hash table to store them.","body":"@CƒÉtƒÉlinFr&#226;ncu the number of prefix sums cannot be greater than O(n). Example: [1, 2, -3, 2, - 2, 4, -1], prefix sums: [1, 3, 0, 2, 0, 4, 3], the contiguous sums between identical prefix values, <code>(0,0] 2 - 2 = 0, and (3, 3] -3 + 2 - 2 + 4 - 1 = 0</code>, are zeros. Each rightmost prefix can be paired with as many equal prefixes we find to its left (with a special case for the full length prefix) to form contiguous sums zero. All we have to do is count how many prefixes with value, <code>v</code>, we have seen so far as we iterate to the right. We can use a hash table to store them."},{"owner":{"account_id":4680697,"reputation":1742,"user_id":3789481,"display_name":"T·∫•n Nguy&#234;n"},"score":0,"creation_date":1644937146,"post_id":63076661,"comment_id":125733998,"body_markdown":"Brilliant idea from using prefix sum and dictionary to check any seen of previous sum before.","body":"Brilliant idea from using prefix sum and dictionary to check any seen of previous sum before."},{"owner":{"account_id":400391,"reputation":5147,"user_id":766330,"accept_rate":68,"display_name":"plhn"},"score":0,"creation_date":1670852002,"post_id":63076661,"comment_id":131961982,"body_markdown":"how smart idea this is","body":"how smart idea this is"}],"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"◊í◊ú◊¢◊ì ◊ë◊®◊ß◊ü"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1595604361,"creation_date":1595604361,"answer_id":63076661,"question_id":63068610,"body_markdown":"There&#39;s a trick here to obtain an `O(n)` algorithm:\r\n\r\n    average = (A[i] + A[i+1] ... + A[j]) / (j - i + 1)\r\n    \r\n    average * (j - i + 1) = A[i] + A[i+1]...+ A[j]\r\n    \r\nNotice that since `average` is now multiplied by exactly the number of elements on the right side of the equation, we can subtract the average *once* for each one of the elements:\r\n\r\n    0 = (A[i]-average) + (A[i+1]-average) ... + (A[j]-average)\r\n    \r\nFinding contiguous sums that equal zero can be done by examining prefix sums. For each rightmost element (`A[j]-average`), we want to add the number of times we&#39;ve seen the same prefix sum before. We make an adjustment for prefix sum 0 so as to count the full length of the array prefix if applicable:\r\n\r\n    2 1 3, avg 2\r\n    \r\n    2-2 = 0    ps = 0    count = 1 (1 for the full array prefix)\r\n    1-2 = -1   ps = -1\r\n    3-2 = 1    ps = 0    count = 2 (1 for index 0 and 1 for the full array prefix)\r\n\r\n                         total = 3","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>There's a trick here to obtain an <code>O(n)</code> algorithm:</p>\n<pre><code>average = (A[i] + A[i+1] ... + A[j]) / (j - i + 1)\n\naverage * (j - i + 1) = A[i] + A[i+1]...+ A[j]\n</code></pre>\n<p>Notice that since <code>average</code> is now multiplied by exactly the number of elements on the right side of the equation, we can subtract the average <em>once</em> for each one of the elements:</p>\n<pre><code>0 = (A[i]-average) + (A[i+1]-average) ... + (A[j]-average)\n</code></pre>\n<p>Finding contiguous sums that equal zero can be done by examining prefix sums. For each rightmost element (<code>A[j]-average</code>), we want to add the number of times we've seen the same prefix sum before. We make an adjustment for prefix sum 0 so as to count the full length of the array prefix if applicable:</p>\n<pre><code>2 1 3, avg 2\n\n2-2 = 0    ps = 0    count = 1 (1 for the full array prefix)\n1-2 = -1   ps = -1\n3-2 = 1    ps = 0    count = 2 (1 for index 0 and 1 for the full array prefix)\n\n                     total = 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9286286,"reputation":408,"user_id":6896067,"display_name":"Alexey Rykhalskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601982607,"creation_date":1601973650,"answer_id":64222225,"question_id":63068610,"body_markdown":"I found explanation by [CƒÉtƒÉlin Fr&#226;ncu][1] extremely clear and concise. Here is the code with tests (Scala):\r\n\r\n    object T3 {\r\n      def numOfSubArraysWithMean(a: Array[Int], s: Int): Int =\r\n        a.lazyZip(LazyList from 1)\r\n          .foldLeft((0, List(0))) { case ((pi, q), (ai, i)) =&gt;\r\n            val pi2 = pi + ai\r\n            val qi = pi2 - s * i\r\n            (pi2, qi :: q)\r\n          }._2\r\n          .groupMapReduce(identity)(_=&gt;1)(_+_)\r\n          .withFilter { case (_, v) =&gt; v &gt; 1 }\r\n          .map { case (_, v) =&gt; v * (v - 1) / 2 }\r\n          .sum\r\n    }\r\n    \r\n    class T3Spec extends AnyFunSpec with Matchers {\r\n      import T3._\r\n      def a[A: ClassTag](aa: A*): Array[A] = aa.toArray\r\n      it(&quot;a&quot;) {\r\n        val data = Seq(\r\n          (a(5,3,6,2,5,5,2),4) -&gt; 8,\r\n          (a(5,3,6,2,5),4) -&gt; 4,\r\n          (a(5,3,6,2,5,3),4) -&gt; 7,\r\n          (a(5,3,6,2),4) -&gt; 3,\r\n          (a(5,3,6,2,4),4) -&gt; 6,\r\n          (a(2,1,3,7,2,2,1,3),2) -&gt; 9,\r\n          (a(0,8,1,7,2,6,3,5),4) -&gt; 10,\r\n          (a(2,2,3,4,1,1),2) -&gt; 4,\r\n          (a(2,2,2,2,2,2),2) -&gt; 21,\r\n          (a(2,2,2,2),2) -&gt; 10,\r\n        )\r\n        for {\r\n          ((a, s), r) &lt;- data\r\n        } numOfSubArraysWithMean(a, s) shouldEqual r\r\n      }\r\n    }\r\n\r\nIn most cases, `N` vs `NlogN` doesn&#39;t matter. But `N^2` is a problem \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6022817/c%C4%83t%C4%83lin-fr%C3%A2ncu","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>I found explanation by <a href=\"https://stackoverflow.com/users/6022817/c%C4%83t%C4%83lin-fr%C3%A2ncu\">CƒÉtƒÉlin Fr√¢ncu</a> extremely clear and concise. Here is the code with tests (Scala):</p>\n<pre><code>object T3 {\n  def numOfSubArraysWithMean(a: Array[Int], s: Int): Int =\n    a.lazyZip(LazyList from 1)\n      .foldLeft((0, List(0))) { case ((pi, q), (ai, i)) =&gt;\n        val pi2 = pi + ai\n        val qi = pi2 - s * i\n        (pi2, qi :: q)\n      }._2\n      .groupMapReduce(identity)(_=&gt;1)(_+_)\n      .withFilter { case (_, v) =&gt; v &gt; 1 }\n      .map { case (_, v) =&gt; v * (v - 1) / 2 }\n      .sum\n}\n\nclass T3Spec extends AnyFunSpec with Matchers {\n  import T3._\n  def a[A: ClassTag](aa: A*): Array[A] = aa.toArray\n  it(&quot;a&quot;) {\n    val data = Seq(\n      (a(5,3,6,2,5,5,2),4) -&gt; 8,\n      (a(5,3,6,2,5),4) -&gt; 4,\n      (a(5,3,6,2,5,3),4) -&gt; 7,\n      (a(5,3,6,2),4) -&gt; 3,\n      (a(5,3,6,2,4),4) -&gt; 6,\n      (a(2,1,3,7,2,2,1,3),2) -&gt; 9,\n      (a(0,8,1,7,2,6,3,5),4) -&gt; 10,\n      (a(2,2,3,4,1,1),2) -&gt; 4,\n      (a(2,2,2,2,2,2),2) -&gt; 21,\n      (a(2,2,2,2),2) -&gt; 10,\n    )\n    for {\n      ((a, s), r) &lt;- data\n    } numOfSubArraysWithMean(a, s) shouldEqual r\n  }\n}\n</code></pre>\n<p>In most cases, <code>N</code> vs <code>NlogN</code> doesn't matter. But <code>N^2</code> is a problem</p>\n"},{"tags":[],"owner":{"account_id":18631972,"reputation":2321,"user_id":13579714,"display_name":"jmvcollaborator"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614662511,"creation_date":1614130820,"answer_id":66343478,"question_id":63068610,"body_markdown":"Heres a Java solution with prefix sums, also using feedback from this thread. \r\n\r\n\r\n\r\n\r\n\r\n    import java.util.*;\r\n    \r\n            public static int returnSubsequenceCount(int[] X, int S)\r\n        {\r\n            HashMap&lt;Integer, Integer&gt; prefixes = new HashMap&lt;Integer, Integer&gt;();\r\n            int result = 0;\r\n            int[] P = new int[X.length + 1];\r\n            prefixes.put(0, 1);\r\n    \r\n            int[] Q = new int[X.length + 1];\r\n            P[0] = 0;\r\n            Q[0] = 0;\r\n    \r\n            for (int i = 1; i &lt; X.length + 1; i++)\r\n            {\r\n                P[i] = P[i - 1] + X[i - 1];\r\n                Q[i] = P[i] - S * i;\r\n    \r\n                if (!prefixes.containsKey(Q[i]))\r\n                {\r\n                    prefixes.put(Q[i], 1);\r\n                }\r\n                else\r\n                {\r\n                    Integer temp=prefixes.get(Q[i]);\r\n                    temp++;\r\n                    prefixes.put(Q[i],temp);\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n            for (Map.Entry&lt;Integer, Integer&gt; entry : prefixes.entrySet())\r\n            {\r\n                int value = entry.getValue();\r\n                result += value * (value - 1) / 2;\r\n            }\r\n    \r\n            return result;\r\n        }","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>Heres a Java solution with prefix sums, also using feedback from this thread.</p>\n<pre><code>import java.util.*;\n\n        public static int returnSubsequenceCount(int[] X, int S)\n    {\n        HashMap&lt;Integer, Integer&gt; prefixes = new HashMap&lt;Integer, Integer&gt;();\n        int result = 0;\n        int[] P = new int[X.length + 1];\n        prefixes.put(0, 1);\n\n        int[] Q = new int[X.length + 1];\n        P[0] = 0;\n        Q[0] = 0;\n\n        for (int i = 1; i &lt; X.length + 1; i++)\n        {\n            P[i] = P[i - 1] + X[i - 1];\n            Q[i] = P[i] - S * i;\n\n            if (!prefixes.containsKey(Q[i]))\n            {\n                prefixes.put(Q[i], 1);\n            }\n            else\n            {\n                Integer temp=prefixes.get(Q[i]);\n                temp++;\n                prefixes.put(Q[i],temp);\n\n            }\n\n        }\n\n        for (Map.Entry&lt;Integer, Integer&gt; entry : prefixes.entrySet())\n        {\n            int value = entry.getValue();\n            result += value * (value - 1) / 2;\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650378506,"post_id":71926285,"comment_id":127097629,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71926285/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":938378,"reputation":9,"user_id":966905,"display_name":"spyr01d"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650377596,"creation_date":1650377000,"answer_id":71926285,"question_id":63068610,"body_markdown":"Kotlin version\r\n\r\n    fun solution(A: IntArray, S: Int): Int {\r\n        return A.asSequence()\r\n            .runningFold(0) { acc, i -&gt; acc + i }\r\n            .map { ((it % S) + S) % S }\r\n            .groupingBy { it }\r\n            .eachCount()\r\n            .values\r\n            .sumOf { it * (it - 1) / 2 }\r\n    }","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>Kotlin version</p>\n<pre><code>fun solution(A: IntArray, S: Int): Int {\n    return A.asSequence()\n        .runningFold(0) { acc, i -&gt; acc + i }\n        .map { ((it % S) + S) % S }\n        .groupingBy { it }\n        .eachCount()\n        .values\n        .sumOf { it * (it - 1) / 2 }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8959501,"reputation":105,"user_id":6682696,"display_name":"Anggi Permana Harianja"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650783793,"creation_date":1650783793,"answer_id":71986206,"question_id":63068610,"body_markdown":"This is how to do it in python, the key is to produce Powerset\r\n\r\n    def mean_subsequence(array: list, mean: int) -&gt; int:\r\n    result = 0\r\n    powerset = [[]]\r\n    \r\n    for num in array:\r\n        len_ = len(powerset)\r\n        for i in range(len_):\r\n            subsequent = powerset[i]\r\n            #check the mean\r\n            tmp = [num] + subsequent\r\n            if tmp != [] and sum(tmp) / len(tmp) == mean:\r\n                result += 1\r\n            #update power set\r\n            powerset.appened([num] + subsequent)\r\n            \r\n    return result\r\n","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>This is how to do it in python, the key is to produce Powerset</p>\n<pre><code>def mean_subsequence(array: list, mean: int) -&gt; int:\nresult = 0\npowerset = [[]]\n\nfor num in array:\n    len_ = len(powerset)\n    for i in range(len_):\n        subsequent = powerset[i]\n        #check the mean\n        tmp = [num] + subsequent\n        if tmp != [] and sum(tmp) / len(tmp) == mean:\n            result += 1\n        #update power set\n        powerset.appened([num] + subsequent)\n        \nreturn result\n</code></pre>\n"}],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14283,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1665002152,"creation_date":1595574780,"question_id":63068610,"body_markdown":"I am trying to find number of ways o calculate arithmetic mean of a subarray of an array.\r\nIt boils down to this; given an array X and an integer S, how many contiguous fragments of X has arithmetic mean equal to S?\r\n\r\nFor instance, given  X=[5,3,6,2] and S=4 result is 3. [5,3] , [6,2] and [5,3,6,2] has the mean 4.\r\n\r\n&gt; X might have up to 100.000 elements. Each value of X is an integer in\r\n&gt; range of {-1.000.000.000,+1.000.000.000}. So is S.\r\n&gt; We don&#39;t round the arithmetic mean found.\r\n\r\nMy code below(on Java) works for small set of data but it is not efficient. O(n^2).\r\n\r\n```\r\npublic static int returnSubsequenceCount(int[] X, int S) {\r\n        int counter = 0;\r\n\r\n        for (int i = 0; i &lt; X.length; i++) {\r\n            int[] dpSum = new int[X.length];\r\n\r\n            dpSum[i] = X[i];\r\n\r\n            if (X[i] == S) {\r\n                counter++;\r\n            }\r\n\r\n            for (int j = i + 1; j &lt; X.length; j++) {\r\n                int sum = dpSum[j - 1] + X[j];\r\n\r\n                dpSum[j] = sum;\r\n\r\n                if ((double) sum / (j - i + 1) == S) {\r\n                    counter++;\r\n                }\r\n            }\r\n        }\r\n        return counter;\r\n    }\r\n```","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>I am trying to find number of ways o calculate arithmetic mean of a subarray of an array.\nIt boils down to this; given an array X and an integer S, how many contiguous fragments of X has arithmetic mean equal to S?</p>\n<p>For instance, given  X=[5,3,6,2] and S=4 result is 3. [5,3] , [6,2] and [5,3,6,2] has the mean 4.</p>\n<blockquote>\n<p>X might have up to 100.000 elements. Each value of X is an integer in\nrange of {-1.000.000.000,+1.000.000.000}. So is S.\nWe don't round the arithmetic mean found.</p>\n</blockquote>\n<p>My code below(on Java) works for small set of data but it is not efficient. O(n^2).</p>\n<pre><code>public static int returnSubsequenceCount(int[] X, int S) {\n        int counter = 0;\n\n        for (int i = 0; i &lt; X.length; i++) {\n            int[] dpSum = new int[X.length];\n\n            dpSum[i] = X[i];\n\n            if (X[i] == S) {\n                counter++;\n            }\n\n            for (int j = i + 1; j &lt; X.length; j++) {\n                int sum = dpSum[j - 1] + X[j];\n\n                dpSum[j] = sum;\n\n                if ((double) sum / (j - i + 1) == S) {\n                    counter++;\n                }\n            }\n        }\n        return counter;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":2,"creation_date":1665002406,"post_id":73966042,"comment_id":130600196,"body_markdown":"Unless you are doing some academic exercise I doubt you will gain anything from reading with multiple threads. See https://stackoverflow.com/a/18972018/4110190 where @Gene explains why it might even be slower.","body":"Unless you are doing some academic exercise I doubt you will gain anything from reading with multiple threads. See <a href=\"https://stackoverflow.com/a/18972018/4110190\">stackoverflow.com/a/18972018/4110190</a> where @Gene explains why it might even be slower."},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1665040065,"post_id":73966042,"comment_id":130606794,"body_markdown":"Hello Jonas, it&#39;s an entreprise scale batch processing project using spring batch, we need to keep the file lines initial order and at the same time we want to increase performance. If using multi-threading won&#39;t be faster when processing items then why is it provided by the spring batch API ?","body":"Hello Jonas, it&#39;s an entreprise scale batch processing project using spring batch, we need to keep the file lines initial order and at the same time we want to increase performance. If using multi-threading won&#39;t be faster when processing items then why is it provided by the spring batch API ?"},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1665056628,"post_id":73966042,"comment_id":130612580,"body_markdown":"I do not know the specific reason. But multi-threading in Spring Batch can indeed be faster when reading from multiple sources. But reading from the same physical source will need some form of synchronisation to not read randomly from the file. You could read the content of the file in one thread and then split the processing of parts in multiple threads. You should be able to control the ordering if you know which part of the content being processed by which thread. If the processing changes the order, then you could have some problems joining the result into one again.","body":"I do not know the specific reason. But multi-threading in Spring Batch can indeed be faster when reading from multiple sources. But reading from the same physical source will need some form of synchronisation to not read randomly from the file. You could read the content of the file in one thread and then split the processing of parts in multiple threads. You should be able to control the ordering if you know which part of the content being processed by which thread. If the processing changes the order, then you could have some problems joining the result into one again."},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1665067833,"post_id":73966042,"comment_id":130617153,"body_markdown":"I agree. My use case is getting more complicated, because I have to read a main file, then I need to open a second file and find some information (using some column value as a join key), the relation between the main file and the second one is 1..N, and the join key is a numeric value (both files are already sorted that way) .. so even the processing needs to respect the initial order.","body":"I agree. My use case is getting more complicated, because I have to read a main file, then I need to open a second file and find some information (using some column value as a join key), the relation between the main file and the second one is 1..N, and the join key is a numeric value (both files are already sorted that way) .. so even the processing needs to respect the initial order."}],"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665001885,"creation_date":1665001885,"question_id":73966042,"body_markdown":"I understood that there are some limitations regarding the items processing order when it comes to using multi-threading. \r\n\r\nFrom my understanding, when we configure a `Step` (read process, write) to use multi-threading (`taskExecutor` for example), we can&#39;t guarantee the items incoming order, since we don&#39;t know which thread will process first.\r\n\r\nIs there a safe and a simple way to read and process a flat file (`FlatFileItemReader`) with the initial order of its items using multi-threading ?\r\n\r\n\r\nThank you","title":"Is there a way to read and process lines (items) and keep their initial order in the input file using a mulit-threading config?","body":"<p>I understood that there are some limitations regarding the items processing order when it comes to using multi-threading.</p>\n<p>From my understanding, when we configure a <code>Step</code> (read process, write) to use multi-threading (<code>taskExecutor</code> for example), we can't guarantee the items incoming order, since we don't know which thread will process first.</p>\n<p>Is there a safe and a simple way to read and process a flat file (<code>FlatFileItemReader</code>) with the initial order of its items using multi-threading ?</p>\n<p>Thank you</p>\n"},{"tags":["java","methods","this"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1664999235,"post_id":73965525,"comment_id":130599322,"body_markdown":"Please put the code as *text* in your question, rather than as a screenshot.","body":"Please put the code as <i>text</i> in your question, rather than as a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":25548076,"reputation":51,"user_id":19333036,"display_name":"Brandon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664999056,"creation_date":1664999056,"answer_id":73965581,"question_id":73965525,"body_markdown":"&quot;this&quot; keyword is used for the object that contains the method, so you would use this.variable if you are referring to something outside of the method, and would not use it when referring to the parameters passed to the method. A better explanation of the &quot;this&quot; keyword in Java can be found here: https://www.w3schools.com/java/ref_keyword_this.asp","title":"How do I access the variables of the method argument?","body":"<p>&quot;this&quot; keyword is used for the object that contains the method, so you would use this.variable if you are referring to something outside of the method, and would not use it when referring to the parameters passed to the method. A better explanation of the &quot;this&quot; keyword in Java can be found here: <a href=\"https://www.w3schools.com/java/ref_keyword_this.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/ref_keyword_this.asp</a></p>\n"},{"tags":[],"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665001338,"creation_date":1665001338,"answer_id":73965952,"question_id":73965525,"body_markdown":"If your *public variable* and *method argument* have same name use `this`\r\n\r\n*public variable* - `this.yourVariable` \r\n\r\n*method argument*        -`yourVariable`\r\n\r\n","title":"How do I access the variables of the method argument?","body":"<p>If your <em>public variable</em> and <em>method argument</em> have same name use <code>this</code></p>\n<p><em>public variable</em> - <code>this.yourVariable</code></p>\n<p><em>method argument</em>        -<code>yourVariable</code></p>\n"}],"owner":{"account_id":26538860,"reputation":1,"user_id":20169947,"display_name":"iNeedHelpPls"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665001338,"creation_date":1664998625,"question_id":73965525,"body_markdown":"[Methods][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sw93z.png\r\nThere are instance variables for the numerator and denominator but I don&#39;t know if using &quot;this&quot; would get the argument&#39;s variables or the variables for the Fraction that the method is used on. How would I get both of their variables? There&#39;s no get method btw.","title":"How do I access the variables of the method argument?","body":"<p><a href=\"https://i.stack.imgur.com/Sw93z.png\" rel=\"nofollow noreferrer\">Methods</a></p>\n<p>There are instance variables for the numerator and denominator but I don't know if using &quot;this&quot; would get the argument's variables or the variables for the Fraction that the method is used on. How would I get both of their variables? There's no get method btw.</p>\n"},{"tags":["java","android-studio","oop"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1641080620,"post_id":70551735,"comment_id":124717601,"body_markdown":"Could you redraft to clarity the question? Shouldn&#39;t the dialog appear on the Andoid device or emulator? And that can have a title, but isn&#39;t that different than the name this local variable of type Dialog you&#39;ve declared?","body":"Could you redraft to clarity the question? Shouldn&#39;t the dialog appear on the Andoid device or emulator? And that can have a title, but isn&#39;t that different than the name this local variable of type Dialog you&#39;ve declared?"},{"owner":{"account_id":17183205,"reputation":15,"user_id":12438319,"display_name":"abdussamed17"},"score":0,"creation_date":1641101834,"post_id":70551735,"comment_id":124719776,"body_markdown":"Yes youre right i could use a string as the parameter of the dialog to give the method the title too but title is not neccessary when creating dialogs. I just dont want to retype other parameters like dialoglayout,dialogbackground and so on.","body":"Yes youre right i could use a string as the parameter of the dialog to give the method the title too but title is not neccessary when creating dialogs. I just dont want to retype other parameters like dialoglayout,dialogbackground and so on."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":1,"creation_date":1641173246,"post_id":70551735,"comment_id":124732643,"body_markdown":"If you need to keep a reference to the object, the factory method&#39;s return type should not be ``void``. It should be a Dialog. By the way, the docs https://developer.android.com/guide/topics/ui/dialogs say to avoid instantiating Dialog directly - instead subclasses.","body":"If you need to keep a reference to the object, the factory method&#39;s return type should not be <code>void</code>. It should be a Dialog. By the way, the docs <a href=\"https://developer.android.com/guide/topics/ui/dialogs\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/dialogs</a> say to avoid instantiating Dialog directly - instead subclasses."}],"answers":[{"tags":[],"owner":{"account_id":17183205,"reputation":15,"user_id":12438319,"display_name":"abdussamed17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665000921,"creation_date":1665000921,"answer_id":73965873,"question_id":70551735,"body_markdown":"The easiest approach to create custom dialogs is to create a new class named &#39;mycustomdialog&#39; wh≈üch extends the normal &#39;Dialog&#39; Class from AppCompat in order to have same functionality. Then for parameters like width, length..... And all the parameters which should stay fixed for each dialog, I would set these properties within the &#39;mycustomdialog&#39; Class and add a String parameter to the constructor of rhe class to set the different names.","title":"How to Create a create_dialog() Method in Android Studio in which you can pass the name of the Dialog Name you want to create with the Method","body":"<p>The easiest approach to create custom dialogs is to create a new class named 'mycustomdialog' wh≈üch extends the normal 'Dialog' Class from AppCompat in order to have same functionality. Then for parameters like width, length..... And all the parameters which should stay fixed for each dialog, I would set these properties within the 'mycustomdialog' Class and add a String parameter to the constructor of rhe class to set the different names.</p>\n"}],"owner":{"account_id":17183205,"reputation":15,"user_id":12438319,"display_name":"abdussamed17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73965873,"answer_count":1,"score":0,"last_activity_date":1665000921,"creation_date":1641069734,"question_id":70551735,"body_markdown":"i want to create a Method which creates a dialog in Android Studio, but i also want to pass in the name of the Dialog which should be used as the Dialogname.\r\nUntil now i use the following metgod to create Dialogs:\r\n```\r\n    Dialog DialogName = new Dialog(context);\r\n    //Parameters of the Dialog\r\n    //Parameters of the Dialog\r\n    //Parameters of the Dialog\r\n    //Parameters of the Dialog\r\n    //Parameters of the Dialog\r\n    DialogName.show();\r\n```\r\n\r\nBut since the parameteres are the same everytime but the names of the dialoges change i just want to use a method to handle rest for me something like \r\n\r\n```\r\n    create_dialog_method(&quot;my_new_Dialog&quot;,MainActivity.this);\r\n    //Some Other Code\r\n    my_new_Dialog.dismiss();\r\n```\r\n\r\n\r\nThe method i want to declare outside of onCreate Method but within AppCompat would be something like:\r\n```\r\n    private void create_dialog_method(String DialogName,Context context) {\r\n    Dialog DialogName = new Dialog (context);\r\n    //Other parameters which are the same for every dialog\r\n    //Other parameters which are the same for every dialog\r\n    //Other parameters which are the same for every dialog\r\n    //Other parameters which are the same for every dialog\r\n    //Other parameters which are the same for every dialog\r\n    DialogName.show();\r\n}\r\n```\r\n\r\nThanks in Regards for any help\r\n\r\n","title":"How to Create a create_dialog() Method in Android Studio in which you can pass the name of the Dialog Name you want to create with the Method","body":"<p>i want to create a Method which creates a dialog in Android Studio, but i also want to pass in the name of the Dialog which should be used as the Dialogname.\nUntil now i use the following metgod to create Dialogs:</p>\n<pre><code>    Dialog DialogName = new Dialog(context);\n    //Parameters of the Dialog\n    //Parameters of the Dialog\n    //Parameters of the Dialog\n    //Parameters of the Dialog\n    //Parameters of the Dialog\n    DialogName.show();\n</code></pre>\n<p>But since the parameteres are the same everytime but the names of the dialoges change i just want to use a method to handle rest for me something like</p>\n<pre><code>    create_dialog_method(&quot;my_new_Dialog&quot;,MainActivity.this);\n    //Some Other Code\n    my_new_Dialog.dismiss();\n</code></pre>\n<p>The method i want to declare outside of onCreate Method but within AppCompat would be something like:</p>\n<pre><code>    private void create_dialog_method(String DialogName,Context context) {\n    Dialog DialogName = new Dialog (context);\n    //Other parameters which are the same for every dialog\n    //Other parameters which are the same for every dialog\n    //Other parameters which are the same for every dialog\n    //Other parameters which are the same for every dialog\n    //Other parameters which are the same for every dialog\n    DialogName.show();\n}\n</code></pre>\n<p>Thanks in Regards for any help</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","file-upload"],"comments":[{"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"score":0,"creation_date":1664934084,"post_id":73955090,"comment_id":130581235,"body_markdown":"https://www.softwaretestinghelp.com/file-upload-in-selenium/","body":"<a href=\"https://www.softwaretestinghelp.com/file-upload-in-selenium/\" rel=\"nofollow noreferrer\">softwaretestinghelp.com/file-upload-in-selenium</a>"},{"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"score":0,"creation_date":1664934098,"post_id":73955090,"comment_id":130581236,"body_markdown":"https://stackoverflow.com/questions/11256732/how-to-handle-windows-file-upload-using-selenium-webdriver","body":"<a href=\"https://stackoverflow.com/questions/11256732/how-to-handle-windows-file-upload-using-selenium-webdriver\" title=\"how to handle windows file upload using selenium webdriver\">stackoverflow.com/questions/11256732/&hellip;</a>"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664935554,"post_id":73955090,"comment_id":130581403,"body_markdown":"Hey @SwaroopHumane i did this but it&#39;s not working: \tWebElement browse = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;));\n\tbrowse.sendKeys(&quot;C:\\\\Users\\\\Steven\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);","body":"Hey @SwaroopHumane i did this but it&#39;s not working: \tWebElement browse = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)); \tbrowse.sendKeys(&quot;C:\\\\Users\\\\Steven\\\\Downloads\\\\01004185FCA0&zwnj;&#8203;03900517097.pdf&quot;);"}],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":1,"creation_date":1665000101,"post_id":73965648,"comment_id":130599563,"body_markdown":"Hey pal, i&#39;m checking it out","body":"Hey pal, i&#39;m checking it out"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1665002289,"post_id":73965648,"comment_id":130600162,"body_markdown":"Why do you specifiy a &quot;(&quot;//input[@type=&#39;file&#39;]&quot;)? is it necessary?","body":"Why do you specifiy a &quot;(&quot;//input[@type=&#39;file&#39;]&quot;)? is it necessary?"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1665003877,"post_id":73965648,"comment_id":130600629,"body_markdown":"Yes. This is the locator of that element","body":"Yes. This is the locator of that element"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1665351989,"post_id":73965648,"comment_id":130674290,"body_markdown":"Pal, take a look at this one: https://stackoverflow.com/questions/74008505/next-option-not-working-after-selecting-a-file-in-windows-pop-up-selenium-j","body":"Pal, take a look at this one: <a href=\"https://stackoverflow.com/questions/74008505/next-option-not-working-after-selecting-a-file-in-windows-pop-up-selenium-j\" title=\"next option not working after selecting a file in windows pop up selenium j\">stackoverflow.com/questions/74008505/&hellip;</a>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1665419440,"post_id":73965648,"comment_id":130690783,"body_markdown":"I was not here. Will take a look","body":"I was not here. Will take a look"}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665000852,"creation_date":1664999550,"answer_id":73965648,"question_id":73955090,"body_markdown":"Uploading a file with Selenium is done by sending a path to the uploaded file to a special element on the page. This element can normally be located by this XPath: `//input[@type=&#39;file&#39;]`  \r\nSo your command could be something like the following:\r\n```java\r\ndriver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;)).sendKeys(&quot;C:\\\\Users\\\\Maxi\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\r\n```   \r\nMaybe you will need to add some delay to make the page loaded. If so `WebDriverWait` should be used.  \r\n```java\r\nWebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\r\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;))).sendKeys(&quot;C:\\\\Users\\\\Maxi\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\r\n```   \r\nSometimes several more that 1 inputs matching the above locator will be on the same page and sometimes there will be no such element.   \r\nIn case there are more than 1 elements matching the above locator we will need to find the precise, unique locator.  \r\nIn case of no such element we will have to find another approach to upload file.\r\n","title":"Windows file pop up wont add my file in Selenium &amp; JAVA. Why","body":"<p>Uploading a file with Selenium is done by sending a path to the uploaded file to a special element on the page. This element can normally be located by this XPath: <code>//input[@type='file']</code><br />\nSo your command could be something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//input[@type='file']&quot;)).sendKeys(&quot;C:\\\\Users\\\\Maxi\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\n</code></pre>\n<p>Maybe you will need to add some delay to make the page loaded. If so <code>WebDriverWait</code> should be used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(webDriver, timeoutInSeconds);\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@type='file']&quot;))).sendKeys(&quot;C:\\\\Users\\\\Maxi\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\n</code></pre>\n<p>Sometimes several more that 1 inputs matching the above locator will be on the same page and sometimes there will be no such element.<br />\nIn case there are more than 1 elements matching the above locator we will need to find the precise, unique locator.<br />\nIn case of no such element we will have to find another approach to upload file.</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73965648,"answer_count":1,"score":0,"last_activity_date":1665000852,"creation_date":1664932647,"question_id":73955090,"body_markdown":"I&#39;m trying to upload a file within the windows pop up after clicking on a button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter clicking on that button a pop up in shown:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI click on that button by using this:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).click();\r\n\r\nThen, i used this:\r\n\r\n    driver.switchTo().activeElement().sendKeys(&quot;C:\\\\Users\\\\Steve\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\r\n\r\nIt did not work.\r\n------------------------------------------------------------------\r\nI tried to do something like that avoiding clicking on the button but sending the file path:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).sendKeys(&quot;C:\\\\Users\\\\Maxi\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\r\n\r\nbut it wont work.\r\n\r\nAm i doing anything wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CPxux.png\r\n  [2]: https://i.stack.imgur.com/9TzZd.png","title":"Windows file pop up wont add my file in Selenium &amp; JAVA. Why","body":"<p>I'm trying to upload a file within the windows pop up after clicking on a button:</p>\n<p><a href=\"https://i.stack.imgur.com/CPxux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CPxux.png\" alt=\"enter image description here\" /></a></p>\n<p>After clicking on that button a pop up in shown:</p>\n<p><a href=\"https://i.stack.imgur.com/9TzZd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9TzZd.png\" alt=\"enter image description here\" /></a></p>\n<p>I click on that button by using this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).click();\n</code></pre>\n<p>Then, i used this:</p>\n<pre><code>driver.switchTo().activeElement().sendKeys(&quot;C:\\\\Users\\\\Steve\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\n</code></pre>\n<h2>It did not work.</h2>\n<p>I tried to do something like that avoiding clicking on the button but sending the file path:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;div-add-file\\&quot;]/a&quot;)).sendKeys(&quot;C:\\\\Users\\\\Maxi\\\\Downloads\\\\01004185FCA003900517097.pdf&quot;);\n</code></pre>\n<p>but it wont work.</p>\n<p>Am i doing anything wrong?</p>\n"},{"tags":["java","debugging","intellij-14"],"comments":[{"owner":{"account_id":135802,"reputation":28349,"user_id":338904,"accept_rate":93,"display_name":"D&#233;j&#224; vu"},"score":0,"creation_date":1631506234,"post_id":69156375,"comment_id":122230640,"body_markdown":"You probably lost the focus on the line or something similar.","body":"You probably lost the focus on the line or something similar."}],"answers":[{"comments":[{"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1631505709,"post_id":69156632,"comment_id":122230559,"body_markdown":"I tried clicking that but didn&#39;t see any additional options. I think I&#39;m already in debug application mode","body":"I tried clicking that but didn&#39;t see any additional options. I think I&#39;m already in debug application mode"}],"tags":[],"owner":{"account_id":11663757,"reputation":91,"user_id":8541123,"display_name":"xwine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631500046,"creation_date":1631500046,"answer_id":69156632,"question_id":69156375,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kaja1.jpg\r\n\r\nchange to  your debug application","title":"Intellij Debugging - Why is step in/step out greyed out?","body":"<p><a href=\"https://i.stack.imgur.com/Kaja1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kaja1.jpg\" alt=\"enter image description here\" /></a></p>\n<p>change to  your debug application</p>\n"},{"tags":[],"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631506100,"creation_date":1631506100,"answer_id":69157144,"question_id":69156375,"body_markdown":"I&#39;m still not sure what the cause of this issue was but what I did to fix the issue was call kill -9 with the process id of Intellij \r\n\r\nThen I restarted Intellij and it&#39;s working fine now ","title":"Intellij Debugging - Why is step in/step out greyed out?","body":"<p>I'm still not sure what the cause of this issue was but what I did to fix the issue was call kill -9 with the process id of Intellij</p>\n<p>Then I restarted Intellij and it's working fine now</p>\n"},{"tags":[],"owner":{"account_id":11663757,"reputation":91,"user_id":8541123,"display_name":"xwine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631509986,"creation_date":1631509986,"answer_id":69157565,"question_id":69156375,"body_markdown":"you can click the &quot;pause pragram&quot;  to see where the breakpoints stopped. then make sure it&#39;s your expect application.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ROqF.jpg","title":"Intellij Debugging - Why is step in/step out greyed out?","body":"<p>you can click the &quot;pause pragram&quot;  to see where the breakpoints stopped. then make sure it's your expect application.\n<a href=\"https://i.stack.imgur.com/5ROqF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ROqF.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20886393,"reputation":9,"user_id":15342891,"display_name":"atwega328p"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665000608,"creation_date":1665000608,"answer_id":73965819,"question_id":69156375,"body_markdown":"In my case it was greyed out until i entered a input (i.e part of program before breakpoint). After i entered the input using Scanner class, i was able to access step into and other buttons.","title":"Intellij Debugging - Why is step in/step out greyed out?","body":"<p>In my case it was greyed out until i entered a input (i.e part of program before breakpoint). After i entered the input using Scanner class, i was able to access step into and other buttons.</p>\n"}],"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1665000608,"creation_date":1631496809,"question_id":69156375,"body_markdown":"This is what I see in my Intellij UI IDE\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe correct breakpoint is being hit(line 128 - checkRunFlag() )\r\n\r\nbut the step over/step in buttons next to console in the bottom left part of the screen are greyed out. Does anyone know what is causing this/how I can re-enable those buttons?\r\n\r\n  [1]: https://i.stack.imgur.com/9fpTp.png","title":"Intellij Debugging - Why is step in/step out greyed out?","body":"<p>This is what I see in my Intellij UI IDE</p>\n<p><a href=\"https://i.stack.imgur.com/9fpTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fpTp.png\" alt=\"enter image description here\" /></a></p>\n<p>The correct breakpoint is being hit(line 128 - checkRunFlag() )</p>\n<p>but the step over/step in buttons next to console in the bottom left part of the screen are greyed out. Does anyone know what is causing this/how I can re-enable those buttons?</p>\n"},{"tags":["java","encoding","aes"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":1,"creation_date":1619474365,"post_id":67273684,"comment_id":118912526,"body_markdown":"It is not really HexToStr, it is rather ByteToStr. Your encoding is very bad on the size. Try to use Base64 or the real hex encoding. See https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html . Also, You use the AES without defining the encryption mode, as a result it chooses ECB with PKCS#5 (actually PKCS#7) padding. Don&#39;t use ECB, use at least CBC or CTR or better AES-GCM.","body":"It is not really HexToStr, it is rather ByteToStr. Your encoding is very bad on the size. Try to use Base64 or the real hex encoding. See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Base64.html</a> . Also, You use the AES without defining the encryption mode, as a result it chooses ECB with PKCS#5 (actually PKCS#7) padding. Don&#39;t use ECB, use at least CBC or CTR or better AES-GCM."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1619478738,"post_id":67273684,"comment_id":118913608,"body_markdown":"I&#39;ve actually got a hex encoder based on the same principles / class structure as the base 64 codec which I always forget to file the appropriate bug report for (so including e.g. streaming).","body":"I&#39;ve actually got a hex encoder based on the same principles / class structure as the base 64 codec which I always forget to file the appropriate bug report for (so including e.g. streaming)."},{"owner":{"account_id":7453006,"reputation":883,"user_id":5667103,"accept_rate":60,"display_name":"Manifest Man"},"score":0,"creation_date":1619639211,"post_id":67273684,"comment_id":118969282,"body_markdown":"@kelalaka, i know **Base64**  from Codec is the best way to go, but for a simple **URL** paramter or token, i will better go with **HEX** (0-f). But it,s not my issue right now, i,m just trying if with my short program right there, i will be able to recover my **plain-text** again.","body":"@kelalaka, i know <b>Base64</b>  from Codec is the best way to go, but for a simple <b>URL</b> paramter or token, i will better go with <b>HEX</b> (0-f). But it,s not my issue right now, i,m just trying if with my short program right there, i will be able to recover my <b>plain-text</b> again."},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1619639553,"post_id":67273684,"comment_id":118969408,"body_markdown":"HEX encoding is way costlier than the Base64.","body":"HEX encoding is way costlier than the Base64."},{"owner":{"account_id":7453006,"reputation":883,"user_id":5667103,"accept_rate":60,"display_name":"Manifest Man"},"score":0,"creation_date":1619639635,"post_id":67273684,"comment_id":118969442,"body_markdown":"Okay, because of the length i suppose ?","body":"Okay, because of the length i suppose ?"}],"owner":{"account_id":7453006,"reputation":883,"user_id":5667103,"accept_rate":60,"display_name":"Manifest Man"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665000521,"creation_date":1619470419,"question_id":67273684,"body_markdown":"I have a method to convert a **byte array** to a single **String**. It works also as expected. It looks like following:\r\n\r\n**Main.java**\r\n\r\n    private static String HexToStr(byte[] allBytes) throws InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : AllBytes) {\r\n            sb.append(String.format(&quot;%02x&quot;, (int) b &amp; 0xFF));\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\nBut now I&#39;m trying to write another method to do the opposite operation (strToHex) and decode the original encrypted and encoded text with same method specification as the above one, means:\r\n\r\n    private static String strToHex(byte[] allBytes) throws InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n        StringBuilder sb = new StringBuilder();\r\n        \r\n       // start here \r\n       ...\r\n        for (byte b : bytes) {\r\n            ... // here is where i&#39;m missing something\r\n\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n\r\nLater on, I test all with a small **&quot;main&quot;**-method as following:\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        String str = &quot;Alpha Beta Gamma&quot;; // text to encode and decode\r\n        Secret myKey = KeyGenerator.getInstance(&quot;AES&quot;).generateKey();\r\n        Cipher myCipher = Cipher.getInstance(&quot;AES&quot;);\r\n        // encrypt then encode\r\n        myCipher.init(Cipher.ENCRYPT_MODE, myKey);\r\n        byte[] encryptResBytes = myCipher.doFinal(str.getBytes());\r\n        String encryptResBytesEncoded = HexToStr(encryptResBytes);\r\n        System.out.println(&quot;decrypt or decode should be first ?: &quot; + encryptResBytesEncoded);\r\n        \r\n        // Decode then decrypt or decrypt then decode ? \r\n        // I&#39;m not sure any more, so be free to say how you think I could go ahead :)\r\n        ...\r\n        myCipher.init(Cipher.DECRYPT_MODE, myKey);\r\n        byte[] decryptResBytes = myCipher.doFinal(encryptResBytesEncoded.getBytes());\r\n        String decryptResBytesDecoded = StrToHex(decryptResBytes);\r\n        System.out.println(&quot;Encrypt and encoded custom text: &quot; + encryptResBytesEncoded);\r\n        ...\r\n        ...\r\n        \r\n\r\n    }\r\n\r\n\r\nHow can I continue at this point?\r\n","title":"After encrypt then encode, how to decrypt and decode properly with AES in small Java program","body":"<p>I have a method to convert a <strong>byte array</strong> to a single <strong>String</strong>. It works also as expected. It looks like following:</p>\n<p><strong>Main.java</strong></p>\n<pre><code>private static String HexToStr(byte[] allBytes) throws InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n    StringBuilder sb = new StringBuilder();\n    for (byte b : AllBytes) {\n        sb.append(String.format(&quot;%02x&quot;, (int) b &amp; 0xFF));\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>But now I'm trying to write another method to do the opposite operation (strToHex) and decode the original encrypted and encoded text with same method specification as the above one, means:</p>\n<pre><code>private static String strToHex(byte[] allBytes) throws InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n    StringBuilder sb = new StringBuilder();\n    \n   // start here \n   ...\n    for (byte b : bytes) {\n        ... // here is where i'm missing something\n\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>Later on, I test all with a small <strong>&quot;main&quot;</strong>-method as following:</p>\n<pre><code>public static void main(String[] args) {\n    \n    String str = &quot;Alpha Beta Gamma&quot;; // text to encode and decode\n    Secret myKey = KeyGenerator.getInstance(&quot;AES&quot;).generateKey();\n    Cipher myCipher = Cipher.getInstance(&quot;AES&quot;);\n    // encrypt then encode\n    myCipher.init(Cipher.ENCRYPT_MODE, myKey);\n    byte[] encryptResBytes = myCipher.doFinal(str.getBytes());\n    String encryptResBytesEncoded = HexToStr(encryptResBytes);\n    System.out.println(&quot;decrypt or decode should be first ?: &quot; + encryptResBytesEncoded);\n    \n    // Decode then decrypt or decrypt then decode ? \n    // I'm not sure any more, so be free to say how you think I could go ahead :)\n    ...\n    myCipher.init(Cipher.DECRYPT_MODE, myKey);\n    byte[] decryptResBytes = myCipher.doFinal(encryptResBytesEncoded.getBytes());\n    String decryptResBytesDecoded = StrToHex(decryptResBytes);\n    System.out.println(&quot;Encrypt and encoded custom text: &quot; + encryptResBytesEncoded);\n    ...\n    ...\n    \n\n}\n</code></pre>\n<p>How can I continue at this point?</p>\n"},{"tags":["java","oop","ocl"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664971783,"post_id":73960096,"comment_id":130589517,"body_markdown":"Shouldn&#39;t `getSurfaceArea()` return `surfaceArea` in the first place? Why are you passing it to the constructor in the first place instead of calculating from the nested territories?","body":"Shouldn&#39;t <code>getSurfaceArea()</code> return <code>surfaceArea</code> in the first place? Why are you passing it to the constructor in the first place instead of calculating from the nested territories?"},{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1664971850,"post_id":73960096,"comment_id":130589549,"body_markdown":"I agree with you, that is a better approach, but the task explicitly asked for this kind of implementation because of the need to use OCL.","body":"I agree with you, that is a better approach, but the task explicitly asked for this kind of implementation because of the need to use OCL."}],"answers":[{"comments":[{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1665181442,"post_id":73965753,"comment_id":130647630,"body_markdown":"Thank you for the answer. The `post: result = surfaceArea` is what I needed.","body":"Thank you for the answer. The <code>post: result = surfaceArea</code> is what I needed."}],"tags":[],"owner":{"account_id":10337742,"reputation":1205,"user_id":7625261,"display_name":"Ed Willink"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665000168,"creation_date":1665000168,"answer_id":73965753,"question_id":73960096,"body_markdown":"In the absence of a metamodel, what you ask is a bit crazy. Assuming you have a metamodel with a ComplexTerritory::surfaceArea property you could complement your Java model with the Complete OCL snippet:\r\n\r\n    context ComplexTerritory::getSurfaceArea(): Real\r\n      post: result = surfaceArea \r\n\r\nBut as already observed it is unclear why you use getSurfaceArea().\r\n\r\nYour Java seems fairly free form so I suspect that your OCL will be no more than documentation. Even if you used OCLinEcore to auto-generate your Java code, you would still find that the postcondition was just documentation. (Eclipse OCL only checks the syntax of pre and postconditions).\r\n\r\nIf you coded \r\n\r\n    context ComplexTerritory::surfaceArea : Real\r\n     def: territories.surfaceArea-&gt;sum()\r\n      \r\nas an OCLinEcore property, the Java would be synthesized. \r\n","title":"How can I add OCL restriction to the class variable?","body":"<p>In the absence of a metamodel, what you ask is a bit crazy. Assuming you have a metamodel with a ComplexTerritory::surfaceArea property you could complement your Java model with the Complete OCL snippet:</p>\n<pre><code>context ComplexTerritory::getSurfaceArea(): Real\n  post: result = surfaceArea \n</code></pre>\n<p>But as already observed it is unclear why you use getSurfaceArea().</p>\n<p>Your Java seems fairly free form so I suspect that your OCL will be no more than documentation. Even if you used OCLinEcore to auto-generate your Java code, you would still find that the postcondition was just documentation. (Eclipse OCL only checks the syntax of pre and postconditions).</p>\n<p>If you coded</p>\n<pre><code>context ComplexTerritory::surfaceArea : Real\n def: territories.surfaceArea-&gt;sum()\n  \n</code></pre>\n<p>as an OCLinEcore property, the Java would be synthesized.</p>\n"}],"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73965753,"answer_count":1,"score":1,"last_activity_date":1665000168,"creation_date":1664971621,"question_id":73960096,"body_markdown":"I&#39;m implementing a Composite design pattern to which a need to add OCL restriction. This is a snippet of a code I&#39;m using.\r\n\r\n    public abstract class ComplexTerritory implements ITerritory {\r\n        private List&lt;ITerritory&gt; territories = new ArrayList&lt;ITerritory&gt;();\r\n        private Double surfaceArea;\r\n        private String name;\r\n    \r\n        public ComplexTerritory(String name, Double surfaceArea) {\r\n            this.name = name;\r\n            this.surfaceArea = surfaceArea;\r\n        }\r\n\r\n        ...\r\n    \r\n        public Double getSurfaceArea() {\r\n            Double sArea = 0.0d;\r\n            for (ITerritory ter : territories) {\r\n                sArea += ter.getSurfaceArea();\r\n            }\r\n            return sArea;\r\n        }\r\n    }\r\n\r\n    public class City extends ComplexTerritory {\r\n        public City(String name, Double surfaceArea) {\r\n            super(name, surfaceArea);\r\n        }\r\n    }\r\n\r\nThe OCL restriction is regards to the total surface area. When you call `getSurfaceArea()` the result of the calculation should match the value that is stored as `surfaceArea`. How can I do this using OCL? This is what I have come up with, but I&#39;m doubtful that I can use local variable from a method in OCL.\r\n\r\n    context ComplexTerritory::getSurfaceArea(): Real\r\n      post: self.surfaceArea = sArea\r\n\r\nThe other idea I had is, that maybe I can iterate over the List using the OCL, something like this:\r\n\r\n    context ComplexTerritory::getSurfaceArea(): Real\r\n      def: let area : Real = 0.0\r\n           self.territories -&gt; iterate(ter: ITerritory | area = area + ter.getSurfaceArea())\r\n      pre: self.surfaceArea = area\r\n\r\nAlso, should OCL be used on my abstract class `ComplexTerritory` or on `City` class?","title":"How can I add OCL restriction to the class variable?","body":"<p>I'm implementing a Composite design pattern to which a need to add OCL restriction. This is a snippet of a code I'm using.</p>\n<pre><code>public abstract class ComplexTerritory implements ITerritory {\n    private List&lt;ITerritory&gt; territories = new ArrayList&lt;ITerritory&gt;();\n    private Double surfaceArea;\n    private String name;\n\n    public ComplexTerritory(String name, Double surfaceArea) {\n        this.name = name;\n        this.surfaceArea = surfaceArea;\n    }\n\n    ...\n\n    public Double getSurfaceArea() {\n        Double sArea = 0.0d;\n        for (ITerritory ter : territories) {\n            sArea += ter.getSurfaceArea();\n        }\n        return sArea;\n    }\n}\n\npublic class City extends ComplexTerritory {\n    public City(String name, Double surfaceArea) {\n        super(name, surfaceArea);\n    }\n}\n</code></pre>\n<p>The OCL restriction is regards to the total surface area. When you call <code>getSurfaceArea()</code> the result of the calculation should match the value that is stored as <code>surfaceArea</code>. How can I do this using OCL? This is what I have come up with, but I'm doubtful that I can use local variable from a method in OCL.</p>\n<pre><code>context ComplexTerritory::getSurfaceArea(): Real\n  post: self.surfaceArea = sArea\n</code></pre>\n<p>The other idea I had is, that maybe I can iterate over the List using the OCL, something like this:</p>\n<pre><code>context ComplexTerritory::getSurfaceArea(): Real\n  def: let area : Real = 0.0\n       self.territories -&gt; iterate(ter: ITerritory | area = area + ter.getSurfaceArea())\n  pre: self.surfaceArea = area\n</code></pre>\n<p>Also, should OCL be used on my abstract class <code>ComplexTerritory</code> or on <code>City</code> class?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1664998943,"post_id":73965403,"comment_id":130599241,"body_markdown":"Please edit your question to include the error you get.","body":"Please edit your question to include the error you get."},{"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"score":1,"creation_date":1665001675,"post_id":73965403,"comment_id":130600002,"body_markdown":"I suspect your root destination is different from the one you expect. Correct me if I&#39;m wrong but you are expecting this file to be looking into a folder which contains a folder called &quot;sampledata&quot;, correct? It might be the case that the root folder is starts in is different to you expect. I think this might help: https://stackoverflow.com/questions/3844307/how-to-read-file-from-relative-path-in-java-project-java-io-file-cannot-find-th","body":"I suspect your root destination is different from the one you expect. Correct me if I&#39;m wrong but you are expecting this file to be looking into a folder which contains a folder called &quot;sampledata&quot;, correct? It might be the case that the root folder is starts in is different to you expect. I think this might help: <a href=\"https://stackoverflow.com/questions/3844307/how-to-read-file-from-relative-path-in-java-project-java-io-file-cannot-find-th\" title=\"how to read file from relative path in java project java io file cannot find th\">stackoverflow.com/questions/3844307/&hellip;</a>"}],"owner":{"account_id":24258007,"reputation":3,"user_id":18208053,"display_name":"Kyle Boan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665000166,"creation_date":1664997921,"question_id":73965403,"body_markdown":"I am trying to read in data from a file */sampledata/delivererList.txt* and I cannot get the file to open and receive an *No file or directory* error each time even though it very much exists. For context im trying to retrieve information on a deliverer based on whether they are eligible to deliver, 1 or 0, and pass the information back to main function within a String array.\r\n&gt;sampledata/delivererList.txt\r\n```\r\n1,deliverer name,666-666-6666,test\r\n0,different deliverer,999-999-9999,alsoTest\r\n```\r\n&gt;read function\r\n```    \r\npublic String[] readDeliverers() {\r\n        String[] noDeliverer = {&quot;0&quot;, &quot;NO&quot;, &quot;DELIVERER&quot;, &quot;AVAILABLE&quot;};\r\n        try {\r\n            File deliverFile = new File(&quot;sampledata/delivererList.txt&quot;);\r\n            Scanner fileReader = new Scanner(deliverFile);\r\n            if (fileReader.next().charAt(0) == &#39;1&#39;) {\r\n                String data = fileReader.nextLine();\r\n                List&lt;String&gt; delivererList = Arrays.asList(data.split(&quot;,&quot;));\r\n                String[] delivererArray = new String[delivererList.size()];\r\n                int index = 0;\r\n                for (String value : delivererList) {\r\n                    delivererArray[index] = value;\r\n                    index++;\r\n                }\r\n                return delivererArray;\r\n            } else {\r\n                System.out.println(&quot;Error read&quot;);\r\n            }\r\n            fileReader.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occurred. NO FILE&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return noDeliverer;\r\n}\r\n```","title":"Reading file in java, Android Studio","body":"<p>I am trying to read in data from a file <em>/sampledata/delivererList.txt</em> and I cannot get the file to open and receive an <em>No file or directory</em> error each time even though it very much exists. For context im trying to retrieve information on a deliverer based on whether they are eligible to deliver, 1 or 0, and pass the information back to main function within a String array.</p>\n<blockquote>\n<p>sampledata/delivererList.txt</p>\n</blockquote>\n<pre><code>1,deliverer name,666-666-6666,test\n0,different deliverer,999-999-9999,alsoTest\n</code></pre>\n<blockquote>\n<p>read function</p>\n</blockquote>\n<pre><code>public String[] readDeliverers() {\n        String[] noDeliverer = {&quot;0&quot;, &quot;NO&quot;, &quot;DELIVERER&quot;, &quot;AVAILABLE&quot;};\n        try {\n            File deliverFile = new File(&quot;sampledata/delivererList.txt&quot;);\n            Scanner fileReader = new Scanner(deliverFile);\n            if (fileReader.next().charAt(0) == '1') {\n                String data = fileReader.nextLine();\n                List&lt;String&gt; delivererList = Arrays.asList(data.split(&quot;,&quot;));\n                String[] delivererArray = new String[delivererList.size()];\n                int index = 0;\n                for (String value : delivererList) {\n                    delivererArray[index] = value;\n                    index++;\n                }\n                return delivererArray;\n            } else {\n                System.out.println(&quot;Error read&quot;);\n            }\n            fileReader.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred. NO FILE&quot;);\n            e.printStackTrace();\n        }\n        return noDeliverer;\n}\n</code></pre>\n"},{"tags":["java","optaplanner"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;≈° Petrovick&#253;"},"score":0,"creation_date":1664993978,"post_id":73963981,"comment_id":130597752,"body_markdown":"Please be specific. Describe what you are trying to accomplish, your goal - we can then discuss the correct means to accomplish it.","body":"Please be specific. Describe what you are trying to accomplish, your goal - we can then discuss the correct means to accomplish it."},{"owner":{"account_id":428647,"reputation":1358,"user_id":811108,"accept_rate":56,"display_name":"Justin Phillips"},"score":0,"creation_date":1664999081,"post_id":73963981,"comment_id":130599271,"body_markdown":"@Luk&#225;≈°Petrovick&#253; question updated as requested. Thanks.","body":"@Luk&#225;≈°Petrovick&#253; question updated as requested. Thanks."},{"owner":{"account_id":428647,"reputation":1358,"user_id":811108,"accept_rate":56,"display_name":"Justin Phillips"},"score":0,"creation_date":1664999331,"post_id":73963981,"comment_id":130599348,"body_markdown":"@Luk&#225;≈°Petrovick&#253; Would this be what I am looking for (Java code example)? https://stackoverflow.com/a/72184672/811108","body":"@Luk&#225;≈°Petrovick&#253; Would this be what I am looking for (Java code example)? <a href=\"https://stackoverflow.com/a/72184672/811108\">stackoverflow.com/a/72184672/811108</a>"}],"answers":[{"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1665401222,"post_id":73965670,"comment_id":130684097,"body_markdown":"+1 But there is an open issue that neither Spring nor Quarkus can configure a SolverConfigConfigurator, something that can take the default SolverConfig created from the classpath info (entity classes etc already filled in), but allows us to enrich it programmatically (for example based on application.properties) with for example move selector configuration.","body":"+1 But there is an open issue that neither Spring nor Quarkus can configure a SolverConfigConfigurator, something that can take the default SolverConfig created from the classpath info (entity classes etc already filled in), but allows us to enrich it programmatically (for example based on application.properties) with for example move selector configuration."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;≈° Petrovick&#253;"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664999636,"creation_date":1664999636,"answer_id":73965670,"question_id":73963981,"body_markdown":"There is a direct 1-to-1 mapping between the solver config XML, and `SolverConfig`. If you can already set termination config, you can set anything else.\r\n\r\nSpecifically, from the solver config, you can reach the phase config list. In there, find the local search phase config. And finally in there, find the selector which you want to filter, and set the filter.\r\n\r\nIt is possible that, by default, the phase config list will be empty. OptaPlanner would normally automatically add construction heuristics and local search at runtime. If that is the case, you will need to add these phases to the config list explicitly, incl. the selector configs.\r\n\r\nAs you yourself pointed out in the comments above, [this answer][1] probably gives you everything, incl. a code sample.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72174372/set-a-listmovechange-filter-when-using-optaplanner-spring-boot-starter/72184672#72184672","title":"OptaPlanner - Configuring a move selection filter programmatically","body":"<p>There is a direct 1-to-1 mapping between the solver config XML, and <code>SolverConfig</code>. If you can already set termination config, you can set anything else.</p>\n<p>Specifically, from the solver config, you can reach the phase config list. In there, find the local search phase config. And finally in there, find the selector which you want to filter, and set the filter.</p>\n<p>It is possible that, by default, the phase config list will be empty. OptaPlanner would normally automatically add construction heuristics and local search at runtime. If that is the case, you will need to add these phases to the config list explicitly, incl. the selector configs.</p>\n<p>As you yourself pointed out in the comments above, <a href=\"https://stackoverflow.com/questions/72174372/set-a-listmovechange-filter-when-using-optaplanner-spring-boot-starter/72184672#72184672\">this answer</a> probably gives you everything, incl. a code sample.</p>\n"}],"owner":{"account_id":428647,"reputation":1358,"user_id":811108,"accept_rate":56,"display_name":"Justin Phillips"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664999636,"creation_date":1664989837,"question_id":73963981,"body_markdown":"Is there a way of programmatically configuring a move selection filter?\r\n\r\nhttps://www.optaplanner.org/docs/optaplanner/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#filteredMoveSelection\r\n\r\nI have a SpringBoot application that configures OP programmatically such as setting the termination config. I would like to tell OP to use a move selection filter without having to resort to an XML file as described in the documentation above.\r\n\r\nThanks in advance.","title":"OptaPlanner - Configuring a move selection filter programmatically","body":"<p>Is there a way of programmatically configuring a move selection filter?</p>\n<p><a href=\"https://www.optaplanner.org/docs/optaplanner/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#filteredMoveSelection\" rel=\"nofollow noreferrer\">https://www.optaplanner.org/docs/optaplanner/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#filteredMoveSelection</a></p>\n<p>I have a SpringBoot application that configures OP programmatically such as setting the termination config. I would like to tell OP to use a move selection filter without having to resort to an XML file as described in the documentation above.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1664999692,"post_id":73965658,"comment_id":130599454,"body_markdown":"What happens when you try doing so? And what happens when you try omitting them?","body":"What happens when you try doing so? And what happens when you try omitting them?"},{"owner":{"account_id":3428879,"reputation":3755,"user_id":2873896,"display_name":"Luke Briggs"},"score":0,"creation_date":1665000269,"post_id":73965658,"comment_id":130599605,"body_markdown":"Welcome to the wonderful world of software :) Just like Silvio suggests, simply just trying things and seeing what happens is a very effective way to learn. If you mean something like a class called `Dog` which inherits `Animal`, &quot;does the `Dog` class need to set `Animal.LegCount` in the constructor of `Dog`&quot;  - No, it doesn&#39;t, but it probably should - it depends on what you need it to do.","body":"Welcome to the wonderful world of software :) Just like Silvio suggests, simply just trying things and seeing what happens is a very effective way to learn. If you mean something like a class called <code>Dog</code> which inherits <code>Animal</code>, &quot;does the <code>Dog</code> class need to set <code>Animal.LegCount</code> in the constructor of <code>Dog</code>&quot;  - No, it doesn&#39;t, but it probably should - it depends on what you need it to do."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665033779,"post_id":73965658,"comment_id":130605322,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26475205,"reputation":11,"user_id":20115199,"display_name":"Tobias Koroyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664999585,"creation_date":1664999585,"question_id":73965658,"body_markdown":"I&#39;m just starting in programming and I have this doubt. For example, if I have to make a constructor in the class, do I have to declare the atributes of the superclass so I can make it? ","title":"Is it necessary to declare the attributes of a superclass in the extended class?","body":"<p>I'm just starting in programming and I have this doubt. For example, if I have to make a constructor in the class, do I have to declare the atributes of the superclass so I can make it?</p>\n"},{"tags":["java","android","android-viewmodel"],"comments":[{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594638696,"post_id":62874373,"comment_id":111185258,"body_markdown":"You have to get the response which contains the toast from your server and then simply show it in your mainactivity","body":"You have to get the response which contains the toast from your server and then simply show it in your mainactivity"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594638895,"post_id":62874373,"comment_id":111185346,"body_markdown":"How explain it  I am fetching toast message in repository how can I get message in `MainActivity` from there.","body":"How explain it  I am fetching toast message in repository how can I get message in <code>MainActivity</code> from there."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594638938,"post_id":62874373,"comment_id":111185372,"body_markdown":"did you get the toast from your server ?","body":"did you get the toast from your server ?"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594639255,"post_id":62874373,"comment_id":111185510,"body_markdown":"yeah when I get error message  from the server it shows in MainaAtivity but progress bar keeps on showing it should be hide.","body":"yeah when I get error message  from the server it shows in MainaAtivity but progress bar keeps on showing it should be hide."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594639326,"post_id":62874373,"comment_id":111185547,"body_markdown":"After showing the toast , you have to simply hide or set the progressbar visibility t ogone","body":"After showing the toast , you have to simply hide or set the progressbar visibility t ogone"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594639461,"post_id":62874373,"comment_id":111185611,"body_markdown":"Thats the only problem how can I update UI in repository class where I am getting Toast from the server look at my code above.","body":"Thats the only problem how can I update UI in repository class where I am getting Toast from the server look at my code above."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594639516,"post_id":62874373,"comment_id":111185641,"body_markdown":"what are you using to fetch data , i  mean how are you observing the data , are you using rxjava ?","body":"what are you using to fetch data , i  mean how are you observing the data , are you using rxjava ?"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594639739,"post_id":62874373,"comment_id":111185763,"body_markdown":"Yeah i am using rxjava","body":"Yeah i am using rxjava"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594639837,"post_id":62874373,"comment_id":111185805,"body_markdown":"but where do you have the progress bar launched from , your main activity ?","body":"but where do you have the progress bar launched from , your main activity ?"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594639898,"post_id":62874373,"comment_id":111185827,"body_markdown":"Yeah I have progress bar defined in `MainActivity`","body":"Yeah I have progress bar defined in <code>MainActivity</code>"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594640032,"post_id":62874373,"comment_id":111185883,"body_markdown":"so if i get what you mean you want to show  toast message bsed on the status from the server , if data is loading , success and failure , is that what you want ?","body":"so if i get what you mean you want to show  toast message bsed on the status from the server , if data is loading , success and failure , is that what you want ?"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594640139,"post_id":62874373,"comment_id":111185935,"body_markdown":"yeah exactly if there is no data on server then based in that i  am showing some image and if data is present then I am showing recycler view.","body":"yeah exactly if there is no data on server then based in that i  am showing some image and if data is present then I am showing recycler view."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1594640232,"post_id":62874373,"comment_id":111185984,"body_markdown":"Alright the way i did this before in my project is by using generic class which has some enumerations , i ll share some code with you and you can check it out and change it based on your situation","body":"Alright the way i did this before in my project is by using generic class which has some enumerations , i ll share some code with you and you can check it out and change it based on your situation"},{"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"score":0,"creation_date":1594640297,"post_id":62874373,"comment_id":111186014,"body_markdown":"please explain with code I have hard time finding out  this","body":"please explain with code I have hard time finding out  this"}],"answers":[{"tags":[],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594660385,"creation_date":1594640855,"answer_id":62875195,"question_id":62874373,"body_markdown":"To implement that you firstly need to create a class which has the status of the response , \r\nLoading which is before the fetching of the data and there you can set progress bar to visible then on success you would set the data to your adapter and right after your hide your progress bar and in the on failure one , you show the toast message error \r\n \r\n* This is the generic class \r\n```\r\nclass AuthResource&lt;T&gt;(\r\n    var authStatus : AuthStatus? = null,\r\n    var data : T,\r\n    var msg : String? = null\r\n\r\n)\r\n\r\nfun &lt;T&gt; success(@Nullable data: T): AuthResource&lt;T&gt; {\r\n    return AuthResource(\r\n        AuthStatus.Success,\r\n        data,\r\n        null\r\n    )\r\n}\r\n\r\nfun &lt;T&gt; Error(@NonNull msg: String?, @Nullable data: T) : AuthResource&lt;T&gt;? {\r\n    return AuthResource(\r\n        AuthStatus.ERROR,\r\n        data,\r\n        msg\r\n    )\r\n}\r\n\r\nfun &lt;T&gt; loading(@Nullable data: T): AuthResource&lt;T&gt;? {\r\n    return AuthResource(\r\n        AuthStatus.LOADING,\r\n        data,\r\n        null\r\n    )\r\n}\r\n\r\n\r\nenum class AuthStatus {\r\n    Success, ERROR, LOADING\r\n}\r\n```\r\n* This is my view model where i implement the authResource with the api response \r\n\r\n```\r\nclass MainViewModel @Inject constructor( private var webAuth: WebAuth,\r\n    private var favFoodDao: FavFoodDao,\r\n    private var application: Application) : ViewModel() {\r\n\r\n    /// you have to create MediatorLiveData with authresource which contains your modelclass \r\n\r\n    private var mediatorLiveData = MediatorLiveData&lt;AuthResource&lt;WrapLatestMeals&gt;&gt;()\r\n    \r\n    ///Here you return a livedata object \r\n    fun ObserverCountries(): LiveData&lt;AuthResource&lt;WrapCountries&gt;&gt; {\r\n        var liveData = LiveDataReactiveStreams.fromPublisher(\r\n            webAuth.getCountries()\r\n                 ///onerrorreturn , rxjava operator which returns error in case \r\n                 ///of response failure \r\n                .onErrorReturn(object : Function&lt;Throwable, WrapCountries&gt; {\r\n                    override fun apply(t: Throwable): WrapCountries {\r\n                        var country = WrapCountries()\r\n                        return country\r\n                    }\r\n                })\r\n                .map(object : Function&lt;WrapCountries, \r\n                     AuthResource&lt;WrapCountries&gt;&gt; {\r\n                    override fun apply(t: WrapCountries): \r\n                        AuthResource&lt;WrapCountries&gt; {\r\n                        if(t.meals.isNullOrEmpty())\r\n                        {\r\n                            return Error(\r\n                                &quot;Error&quot;,\r\n                                t\r\n                            )!!\r\n                        }\r\n                        return success(t)\r\n                    }\r\n                })\r\n                .subscribeOn(Schedulers.io())\r\n        )\r\n\r\n       \r\n        //add that data to mediatorLivedata \r\n        mediatorLiveDataCountries.addSource(liveData, Observer {\r\n            mediatorLiveDataCountries.postValue(it)\r\n            mediatorLiveDataCountries.removeSource(liveData)\r\n        })\r\n        return mediatorLiveDataCountries\r\n\r\n    }\r\n\r\n```\r\n * This is how you handle the status in your MainActivity \r\n\r\n```\r\n mainViewModel = ViewModelProvider(this,provider)[MainViewModel::class.java]\r\n        mainViewModel.ObserverCountries().observe(viewLifecycleOwner, Observer {\r\n             when(it.authStatus) {\r\n                 AuthStatus.LOADING -&gt; /// here you show progressbar in response pre-fetch\r\n                 {\r\n                     \r\n                     countriesFragmentBinding.countryprogress.show()\r\n                 }\r\n                 AuthStatus.Success -&gt; { // here you update your ui\r\n\r\n                     countriesAdapter = CountriesAdapter(it.data.meals!!, \r\n                     requireContext())\r\n                     countriesFragmentBinding.recyclercountries.adapter = countriesAdapter\r\n                     countriesAdapter!!.deleteCategory(23)\r\n                     countriesFragmentBinding.countryprogress.hide()\r\n                 }\r\n                 AuthStatus.ERROR -&gt; // here you hide your progressbar and show your toast\r\n                 {\r\n                   \r\n                     countriesFragmentBinding.countryprogress.hide()\r\n                     ToastyError(requireContext(),getString(R.string.errorretreivingdata))\r\n                 }\r\n\r\n             }\r\n        })\r\n\r\n        return countriesFragmentBinding.root\r\n    }\r\n\r\n}\r\n```","title":"How to update server response in UI using MVVM pattern","body":"<p>To implement that you firstly need to create a class which has the status of the response ,\nLoading which is before the fetching of the data and there you can set progress bar to visible then on success you would set the data to your adapter and right after your hide your progress bar and in the on failure one , you show the toast message error</p>\n<ul>\n<li>This is the generic class</li>\n</ul>\n<pre><code>class AuthResource&lt;T&gt;(\n    var authStatus : AuthStatus? = null,\n    var data : T,\n    var msg : String? = null\n\n)\n\nfun &lt;T&gt; success(@Nullable data: T): AuthResource&lt;T&gt; {\n    return AuthResource(\n        AuthStatus.Success,\n        data,\n        null\n    )\n}\n\nfun &lt;T&gt; Error(@NonNull msg: String?, @Nullable data: T) : AuthResource&lt;T&gt;? {\n    return AuthResource(\n        AuthStatus.ERROR,\n        data,\n        msg\n    )\n}\n\nfun &lt;T&gt; loading(@Nullable data: T): AuthResource&lt;T&gt;? {\n    return AuthResource(\n        AuthStatus.LOADING,\n        data,\n        null\n    )\n}\n\n\nenum class AuthStatus {\n    Success, ERROR, LOADING\n}\n</code></pre>\n<ul>\n<li>This is my view model where i implement the authResource with the api response</li>\n</ul>\n<pre><code>class MainViewModel @Inject constructor( private var webAuth: WebAuth,\n    private var favFoodDao: FavFoodDao,\n    private var application: Application) : ViewModel() {\n\n    /// you have to create MediatorLiveData with authresource which contains your modelclass \n\n    private var mediatorLiveData = MediatorLiveData&lt;AuthResource&lt;WrapLatestMeals&gt;&gt;()\n    \n    ///Here you return a livedata object \n    fun ObserverCountries(): LiveData&lt;AuthResource&lt;WrapCountries&gt;&gt; {\n        var liveData = LiveDataReactiveStreams.fromPublisher(\n            webAuth.getCountries()\n                 ///onerrorreturn , rxjava operator which returns error in case \n                 ///of response failure \n                .onErrorReturn(object : Function&lt;Throwable, WrapCountries&gt; {\n                    override fun apply(t: Throwable): WrapCountries {\n                        var country = WrapCountries()\n                        return country\n                    }\n                })\n                .map(object : Function&lt;WrapCountries, \n                     AuthResource&lt;WrapCountries&gt;&gt; {\n                    override fun apply(t: WrapCountries): \n                        AuthResource&lt;WrapCountries&gt; {\n                        if(t.meals.isNullOrEmpty())\n                        {\n                            return Error(\n                                &quot;Error&quot;,\n                                t\n                            )!!\n                        }\n                        return success(t)\n                    }\n                })\n                .subscribeOn(Schedulers.io())\n        )\n\n       \n        //add that data to mediatorLivedata \n        mediatorLiveDataCountries.addSource(liveData, Observer {\n            mediatorLiveDataCountries.postValue(it)\n            mediatorLiveDataCountries.removeSource(liveData)\n        })\n        return mediatorLiveDataCountries\n\n    }\n\n</code></pre>\n<ul>\n<li>This is how you handle the status in your MainActivity</li>\n</ul>\n<pre><code> mainViewModel = ViewModelProvider(this,provider)[MainViewModel::class.java]\n        mainViewModel.ObserverCountries().observe(viewLifecycleOwner, Observer {\n             when(it.authStatus) {\n                 AuthStatus.LOADING -&gt; /// here you show progressbar in response pre-fetch\n                 {\n                     \n                     countriesFragmentBinding.countryprogress.show()\n                 }\n                 AuthStatus.Success -&gt; { // here you update your ui\n\n                     countriesAdapter = CountriesAdapter(it.data.meals!!, \n                     requireContext())\n                     countriesFragmentBinding.recyclercountries.adapter = countriesAdapter\n                     countriesAdapter!!.deleteCategory(23)\n                     countriesFragmentBinding.countryprogress.hide()\n                 }\n                 AuthStatus.ERROR -&gt; // here you hide your progressbar and show your toast\n                 {\n                   \n                     countriesFragmentBinding.countryprogress.hide()\n                     ToastyError(requireContext(),getString(R.string.errorretreivingdata))\n                 }\n\n             }\n        })\n\n        return countriesFragmentBinding.root\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664998901,"creation_date":1594637801,"question_id":62874373,"body_markdown":"I am using MVVM pattern in my app I have separate repository class for network operations. In repository class I am getting response from the server. How can I show Toast message send from the server in my main activity.\r\n\r\nBelow is my code:\r\n\r\n**Repository.java**\r\n\r\n    public class MyRepository {\r\n\r\n    MutableLiveData&lt;List&lt;Facts&gt;&gt; mutableLiveData = new MutableLiveData&lt;&gt;();\r\n        \r\n    Application application;\r\n\r\n    public MyRepository(Application application) {\r\n        this.application = application;\r\n    }\r\n\r\n    public MutableLiveData&lt;List&lt;Facts&gt;&gt; getMutableLiveData(){\r\n\r\n        Retrofit retrofit = RetrofitClient.getInstance();\r\n        ApiService apiService = retrofit.create(ApiService.class);\r\n\r\n        apiService.getFacts().subscribeOn(Schedulers.io())\r\n                             .observeOn(AndroidSchedulers.mainThread())\r\n                             .subscribe(new Observer&lt;List&lt;Facts&gt;&gt;() {\r\n                                 @Override\r\n                                 public void onSubscribe(Disposable d) {\r\n\r\n                                 }\r\n\r\n                                 @Override\r\n                                 public void onNext(List&lt;Facts&gt; facts) {\r\n\r\n                                     if(facts.size() &gt; 0 &amp;&amp; facts != null){\r\n\r\n                                         mutableLiveData.setValue(facts);\r\n                                     }\r\n                                 }\r\n\r\n                                 @Override\r\n                                 public void onError(Throwable e) {\r\n\r\n                                     TastyToast.makeText(application,e.getMessage(),TastyToast.LENGTH_SHORT,\r\n                                             TastyToast.ERROR).show();\r\n                                 }\r\n\r\n                                 @Override\r\n                                 public void onComplete() {\r\n\r\n                                 }\r\n                             });\r\n\r\n           return mutableLiveData;\r\n      }\r\n     }\r\n\r\n**FactsViewModel.java**\r\n\r\n    public class FactsViewModel extends AndroidViewModel {\r\n\r\n    MyRepository repo;\r\n\r\n    public FactsViewModel(@NonNull Application application) {\r\n        super(application);\r\n\r\n        repo = new MyRepository(application);\r\n      }\r\n\r\n    public LiveData&lt;List&lt;Facts&gt;&gt; getAllFacts(){\r\n\r\n        return repo.getMutableLiveData();\r\n      }\r\n    }\r\n\r\n\r\n**MainActivity.java**\r\n\r\n     private void myFacts(){\r\n\r\n        FactsViewModel viewModel = new ViewModelProvider(this).get(FactsViewModel.class);  \r\n\r\n        viewModel.getAllFacts().observe(this, new Observer&lt;List&lt;Facts&gt;&gt;() {\r\n           @Override\r\n           public void onChanged(List&lt;Facts&gt; facts) {\r\n\r\n               adapter = new FactsAdapter(facts,getActivity());\r\n               recycle.setAdapter(adapter);\r\n           }\r\n       });\r\n\r\n    }\r\n\r\nHow can I show error toast messages in `MainActivity`?\r\n","title":"How to update server response in UI using MVVM pattern","body":"<p>I am using MVVM pattern in my app I have separate repository class for network operations. In repository class I am getting response from the server. How can I show Toast message send from the server in my main activity.</p>\n<p>Below is my code:</p>\n<p><strong>Repository.java</strong></p>\n<pre><code>public class MyRepository {\n\nMutableLiveData&lt;List&lt;Facts&gt;&gt; mutableLiveData = new MutableLiveData&lt;&gt;();\n    \nApplication application;\n\npublic MyRepository(Application application) {\n    this.application = application;\n}\n\npublic MutableLiveData&lt;List&lt;Facts&gt;&gt; getMutableLiveData(){\n\n    Retrofit retrofit = RetrofitClient.getInstance();\n    ApiService apiService = retrofit.create(ApiService.class);\n\n    apiService.getFacts().subscribeOn(Schedulers.io())\n                         .observeOn(AndroidSchedulers.mainThread())\n                         .subscribe(new Observer&lt;List&lt;Facts&gt;&gt;() {\n                             @Override\n                             public void onSubscribe(Disposable d) {\n\n                             }\n\n                             @Override\n                             public void onNext(List&lt;Facts&gt; facts) {\n\n                                 if(facts.size() &gt; 0 &amp;&amp; facts != null){\n\n                                     mutableLiveData.setValue(facts);\n                                 }\n                             }\n\n                             @Override\n                             public void onError(Throwable e) {\n\n                                 TastyToast.makeText(application,e.getMessage(),TastyToast.LENGTH_SHORT,\n                                         TastyToast.ERROR).show();\n                             }\n\n                             @Override\n                             public void onComplete() {\n\n                             }\n                         });\n\n       return mutableLiveData;\n  }\n }\n</code></pre>\n<p><strong>FactsViewModel.java</strong></p>\n<pre><code>public class FactsViewModel extends AndroidViewModel {\n\nMyRepository repo;\n\npublic FactsViewModel(@NonNull Application application) {\n    super(application);\n\n    repo = new MyRepository(application);\n  }\n\npublic LiveData&lt;List&lt;Facts&gt;&gt; getAllFacts(){\n\n    return repo.getMutableLiveData();\n  }\n}\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code> private void myFacts(){\n\n    FactsViewModel viewModel = new ViewModelProvider(this).get(FactsViewModel.class);  \n\n    viewModel.getAllFacts().observe(this, new Observer&lt;List&lt;Facts&gt;&gt;() {\n       @Override\n       public void onChanged(List&lt;Facts&gt; facts) {\n\n           adapter = new FactsAdapter(facts,getActivity());\n           recycle.setAdapter(adapter);\n       }\n   });\n\n}\n</code></pre>\n<p>How can I show error toast messages in <code>MainActivity</code>?</p>\n"},{"tags":["java","xml","xml-parsing","jaxb"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664995241,"post_id":73964713,"comment_id":130598119,"body_markdown":"Share your &quot;unmarshalling details&quot; ...https://javaee.github.io/jaxb-v2/doc/user-guide/ch03.html#unmarshalling-unmarshalling-is-not-working-help","body":"Share your &quot;unmarshalling details&quot; ...<a href=\"https://javaee.github.io/jaxb-v2/doc/user-guide/ch03.html#unmarshalling-unmarshalling-is-not-working-help\" rel=\"nofollow noreferrer\">javaee.github.io/jaxb-v2/doc/user-guide/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664995345,"post_id":73964713,"comment_id":130598154,"body_markdown":"..then we can also &quot;try to install `ValidationEventHandler` on the unmarshaller&quot; ..and check JAXBContext;)","body":"..then we can also &quot;try to install <code>ValidationEventHandler</code> on the unmarshaller&quot; ..and check JAXBContext;)"},{"owner":{"account_id":3765082,"reputation":375,"user_id":3128804,"accept_rate":50,"display_name":"const.grigoryev"},"score":1,"creation_date":1664999262,"post_id":73964713,"comment_id":130599327,"body_markdown":"@xerx593 I did, and this doesn&#39;t helped (see post update). And also I have no complete XSD schema of a document to validate against, so the next tip from the user guide (&quot;Make sure your instance document is valid&quot;) is not relevant to my case.","body":"@xerx593 I did, and this doesn&#39;t helped (see post update). And also I have no complete XSD schema of a document to validate against, so the next tip from the user guide (&quot;Make sure your instance document is valid&quot;) is not relevant to my case."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1665009334,"post_id":73964713,"comment_id":130601851,"body_markdown":"Without an XSD there no such &quot;errors&quot; as long as the XML is well formed so JAXB can&#39;t see multiple elements as an error.","body":"Without an XSD there no such &quot;errors&quot; as long as the XML is well formed so JAXB can&#39;t see multiple elements as an error."}],"owner":{"account_id":3765082,"reputation":375,"user_id":3128804,"accept_rate":50,"display_name":"const.grigoryev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664998684,"creation_date":1664994096,"question_id":73964713,"body_markdown":"Suppose I have an annotated Java class:\r\n\r\n```java\r\n@XmlRootElement\r\nclass Person {\r\n    public String name;\r\n    public int age;\r\n}\r\n```\r\n\r\nInstances of that class should be created from an XML document. But sometimes XML record does not match well to my POJOs. For example, it may has multiple `&lt;name&gt;` tags:\r\n\r\n```xml\r\n&lt;person&gt;\r\n  &lt;name&gt;Dr. Jekyll&lt;/name&gt;\r\n  &lt;name&gt;Mr. Hyde&lt;/name&gt;\r\n  &lt;age&gt;35&lt;/age&gt;\r\n&lt;/person&gt;\r\n```\r\n\r\nIn such cases I expect to get an error message from unmarshaller. But it actually just quietly re-initializes the property twice. Is there a way to make JAXB notify me about those errors? (Something like `VerificationErrorHandler` would be a perfect solution. Throwing an exception from the property setter looks too boiler-platy for me)\r\n\r\n**UPD.** My JAXB setup contains no surprise:\r\n\r\n```java\r\nvar jaxb = JAXBContext.newInstance(Person.class);\r\nvar jaxbDecoder = jaxb.createUnmarshaller();\r\nvar errorLog = new ArrayList&lt;ValidationEvent&gt;();\r\njaxbDecoder.setEventHandler(e -&gt; errorLog.add(e));\r\n// Now unmarshal:\r\nvar p = (Person) jaxbDecoder.unmarshal(xml);\r\n```\r\n\r\nAfter that, `errorLog` is empty despite my XML document is obviously incorrect.","title":"JAXB doesn&#39;t report about illegal element duplicate","body":"<p>Suppose I have an annotated Java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement\nclass Person {\n    public String name;\n    public int age;\n}\n</code></pre>\n<p>Instances of that class should be created from an XML document. But sometimes XML record does not match well to my POJOs. For example, it may has multiple <code>&lt;name&gt;</code> tags:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;person&gt;\n  &lt;name&gt;Dr. Jekyll&lt;/name&gt;\n  &lt;name&gt;Mr. Hyde&lt;/name&gt;\n  &lt;age&gt;35&lt;/age&gt;\n&lt;/person&gt;\n</code></pre>\n<p>In such cases I expect to get an error message from unmarshaller. But it actually just quietly re-initializes the property twice. Is there a way to make JAXB notify me about those errors? (Something like <code>VerificationErrorHandler</code> would be a perfect solution. Throwing an exception from the property setter looks too boiler-platy for me)</p>\n<p><strong>UPD.</strong> My JAXB setup contains no surprise:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var jaxb = JAXBContext.newInstance(Person.class);\nvar jaxbDecoder = jaxb.createUnmarshaller();\nvar errorLog = new ArrayList&lt;ValidationEvent&gt;();\njaxbDecoder.setEventHandler(e -&gt; errorLog.add(e));\n// Now unmarshal:\nvar p = (Person) jaxbDecoder.unmarshal(xml);\n</code></pre>\n<p>After that, <code>errorLog</code> is empty despite my XML document is obviously incorrect.</p>\n"},{"tags":["java","junit","mockito","mockmvc"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1664995107,"post_id":73964696,"comment_id":130598073,"body_markdown":"Can you show the `Response` class code or include the import if it&#39;s a part of an external library?","body":"Can you show the <code>Response</code> class code or include the import if it&#39;s a part of an external library?"},{"owner":{"account_id":23551117,"reputation":1,"user_id":17593813,"display_name":"Muse"},"score":0,"creation_date":1664996747,"post_id":73964696,"comment_id":130598605,"body_markdown":"@Jonasz I have another test for getting a single User and the data returns just fine.\nThe only difference between these two tests is the one here uses a List&lt;User&gt; and the other one use only User. I have no clue why.","body":"@Jonasz I have another test for getting a single User and the data returns just fine. The only difference between these two tests is the one here uses a List&lt;User&gt; and the other one use only User. I have no clue why."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1664997452,"post_id":73964696,"comment_id":130598852,"body_markdown":"Could you show the other test and the controller method it&#39;s testing as well as the `Response` class?","body":"Could you show the other test and the controller method it&#39;s testing as well as the <code>Response</code> class?"},{"owner":{"account_id":23551117,"reputation":1,"user_id":17593813,"display_name":"Muse"},"score":0,"creation_date":1664998688,"post_id":73964696,"comment_id":130599168,"body_markdown":"I added the test that works below","body":"I added the test that works below"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1664999519,"post_id":73964696,"comment_id":130599398,"body_markdown":"And are you 100% sure that `users` object returned from the mocked service is not empty? This and the `JsonInclude` `NON_EMPTY` would explain the missing field in response. Could you show the creation of the `users` object in the test?","body":"And are you 100% sure that <code>users</code> object returned from the mocked service is not empty? This and the <code>JsonInclude</code> <code>NON_EMPTY</code> would explain the missing field in response. Could you show the creation of the <code>users</code> object in the test?"}],"owner":{"account_id":23551117,"reputation":1,"user_id":17593813,"display_name":"Muse"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664998652,"creation_date":1664994023,"question_id":73964696,"body_markdown":"The content from MockMvc managed to have status code but missing the data.\r\n\r\nTest class:\r\n\r\n    @Test\r\n    public void shouldReturnAll() throws Exception {\r\n        when(userService.getAll()).thenReturn(users); // note that &#39;users&#39; is not empty, I already checked.\r\n    \r\n        MvcResult response = this.mvc.perform(get(&quot;/users&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data&quot;, hasSize(2)))\r\n                .andReturn();\r\n     \r\n    }\r\n\r\n\r\nReponse:\r\n\r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/json&quot;]\r\n         Content type = application/json\r\n                 Body = {&quot;status&quot;:&quot;success&quot;}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n\r\nI think it has something to do with Response object in my Controller class.\r\n\r\nController:\r\n\r\n    @GetMapping\r\n        public ResponseEntity&lt;Response&gt; getAll() {\r\n            List&lt;User&gt; users = userService.getAll();\r\n            Response resp = new Response(StatusMessage.SUCCESS, users);\r\n            return new ResponseEntity&lt;Response&gt;(resp, HttpStatus.OK);\r\n        }\r\n\r\n\r\n*****Edit*****: Another test which works (getting a single User):\r\n\r\n    @Test\r\n    public void getUserByIdTest() throws Exception {\r\n                when(this.userService.getUserById(any(Long.class))).thenReturn(user);\r\n    \r\n        MvcResult response = this.mvc.perform(get(&quot;/users/{id}&quot;, user.getId()))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.data.id&quot;, is(user.getId().intValue())))\r\n                .andExpect(jsonPath(&quot;$.data.name&quot;, is(user.getName())))\r\n                .andReturn();\r\n    }\r\n\r\n\r\n\r\n\r\nController:\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Response&gt; getUserById(@PathVariable Long id) throws Exception {\r\n        try {\r\n            User user = userService.getUserById(id);\r\n            Response resp = new Response(StatusMessage.SUCCESS, user);\r\n            return new ResponseEntity&lt;Response&gt;(resp, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            throw new Exception(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nResponse object class:\r\n\r\n\r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class Response&lt;T&gt; {\r\n    \r\n        private String status;\r\n        private T data;\r\n    \r\n        public Response(StatusMessage status, T data) {\r\n            this.status = status.getStatusMessage();\r\n            this.data = data;\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"MockMVC content is missing","body":"<p>The content from MockMvc managed to have status code but missing the data.</p>\n<p>Test class:</p>\n<pre><code>@Test\npublic void shouldReturnAll() throws Exception {\n    when(userService.getAll()).thenReturn(users); // note that 'users' is not empty, I already checked.\n\n    MvcResult response = this.mvc.perform(get(&quot;/users&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.data&quot;, hasSize(2)))\n            .andReturn();\n \n}\n</code></pre>\n<p>Reponse:</p>\n<pre><code>MockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = {&quot;status&quot;:&quot;success&quot;}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>I think it has something to do with Response object in my Controller class.</p>\n<p>Controller:</p>\n<pre><code>@GetMapping\n    public ResponseEntity&lt;Response&gt; getAll() {\n        List&lt;User&gt; users = userService.getAll();\n        Response resp = new Response(StatusMessage.SUCCESS, users);\n        return new ResponseEntity&lt;Response&gt;(resp, HttpStatus.OK);\n    }\n</code></pre>\n<p><em><strong><strong>Edit</strong></strong></em>: Another test which works (getting a single User):</p>\n<pre><code>@Test\npublic void getUserByIdTest() throws Exception {\n            when(this.userService.getUserById(any(Long.class))).thenReturn(user);\n\n    MvcResult response = this.mvc.perform(get(&quot;/users/{id}&quot;, user.getId()))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.data.id&quot;, is(user.getId().intValue())))\n            .andExpect(jsonPath(&quot;$.data.name&quot;, is(user.getName())))\n            .andReturn();\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping(value = &quot;/{id}&quot;)\npublic ResponseEntity&lt;Response&gt; getUserById(@PathVariable Long id) throws Exception {\n    try {\n        User user = userService.getUserById(id);\n        Response resp = new Response(StatusMessage.SUCCESS, user);\n        return new ResponseEntity&lt;Response&gt;(resp, HttpStatus.OK);\n    } catch (Exception e) {\n        throw new Exception(e.getMessage());\n    }\n}\n</code></pre>\n<p>Response object class:</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class Response&lt;T&gt; {\n\n    private String status;\n    private T data;\n\n    public Response(StatusMessage status, T data) {\n        this.status = status.getStatusMessage();\n        this.data = data;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1664996864,"post_id":73964889,"comment_id":130598651,"body_markdown":"Is there a specific reason why you&#39;re using the outdated configuration style instead of using Spring Boot?","body":"Is there a specific reason why you&#39;re using the outdated configuration style instead of using Spring Boot?"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1664998918,"post_id":73964889,"comment_id":130599230,"body_markdown":"A lot of projects will have and quite a few interview questions will mention XML configuration and MVC flow rather than Spring Boot afaik.","body":"A lot of projects will have and quite a few interview questions will mention XML configuration and MVC flow rather than Spring Boot afaik."}],"answers":[{"comments":[{"owner":{"account_id":26538483,"reputation":1,"user_id":20169618,"display_name":"N9verMore"},"score":0,"creation_date":1665036261,"post_id":73965521,"comment_id":130605795,"body_markdown":"1. No, im using &quot;/test&quot;, in case that in my Tomcat &quot;Application context&quot; is &quot;test&quot;.\n2. Yes, it is in dir &quot;view&quot;, file &quot;hello_world.jsp&quot;\n3. No, my controller path is &quot;ua.ilya.springcourse.HelloController.java&quot;\n4. I`m using Intellij idea ultimate","body":"1. No, im using &quot;/test&quot;, in case that in my Tomcat &quot;Application context&quot; is &quot;test&quot;. 2. Yes, it is in dir &quot;view&quot;, file &quot;hello_world.jsp&quot; 3. No, my controller path is &quot;ua.ilya.springcourse.HelloController.java&quot; 4. I`m using Intellij idea ultimate"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1665071170,"post_id":73965521,"comment_id":130618576,"body_markdown":"You do not have anything mapped with /test in your controller from what I can see in the code that you shared.","body":"You do not have anything mapped with /test in your controller from what I can see in the code that you shared."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664998606,"creation_date":1664998606,"answer_id":73965521,"question_id":73964889,"body_markdown":" 1. Are you trying to trigger URL on `localhost:8080/appname/hello`?\r\n 2. Do you have jsp page called hello_world in your view folder?\r\n 3. Is your controller located in `ua.ilya.springcourse.controller` or any subdirectory of `ua.ilya.springcourse`?\r\n 4. Are you using Eclipse as an IDE and do you by any chance have WebContent folder in your project?\r\n\r\n The reason for the 4th question is because eclipse changed dynamic project structure, so if your eclipse is creating a dynamic web project with webapp, that means that you cannot have WebContent instead of it, you must follow the new pattern and look at webapp folder as replacement for WebContent.\r\nYou can test webapp/WebContent by creating a new Dynamic Web Project. If that is the case, just move your WEB-INF folder into webapp folder, and that&#39;s about it.\r\nHere is also a picture of the project structure if your Eclipse is creating WebContent ( left ) or is creating webapp ( right ).\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Byatt.png","title":"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists (Spring MVC)","body":"<ol>\n<li>Are you trying to trigger URL on <code>localhost:8080/appname/hello</code>?</li>\n<li>Do you have jsp page called hello_world in your view folder?</li>\n<li>Is your controller located in <code>ua.ilya.springcourse.controller</code> or any subdirectory of <code>ua.ilya.springcourse</code>?</li>\n<li>Are you using Eclipse as an IDE and do you by any chance have WebContent folder in your project?</li>\n</ol>\n<p>The reason for the 4th question is because eclipse changed dynamic project structure, so if your eclipse is creating a dynamic web project with webapp, that means that you cannot have WebContent instead of it, you must follow the new pattern and look at webapp folder as replacement for WebContent.\nYou can test webapp/WebContent by creating a new Dynamic Web Project. If that is the case, just move your WEB-INF folder into webapp folder, and that's about it.\nHere is also a picture of the project structure if your Eclipse is creating WebContent ( left ) or is creating webapp ( right ).\n<a href=\"https://i.stack.imgur.com/Byatt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Byatt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26538483,"reputation":1,"user_id":20169618,"display_name":"N9verMore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664998606,"creation_date":1664994993,"question_id":73964889,"body_markdown":"My dispatcher servlet dont working correctly. Its only starting index.jsp file, thats all, Request mapping doesn`t working.\r\n\r\n**web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n         id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n\r\n  &lt;display-name&gt;spring-cource-mvc&lt;/display-name&gt;\r\n\r\n  &lt;absolute-ordering/&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n**applicationContext.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n       xsi:schemaLocation=&quot;\r\n\t\thttp://www.springframework.org/schema/beans\r\n    \thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \thttp://www.springframework.org/schema/context\r\n    \thttp://www.springframework.org/schema/context/spring-context.xsd\r\n    \thttp://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;ua.ilya.springcourse&quot; /&gt;\r\n\r\n    &lt;mvc:annotation-driven/&gt;\r\n    &lt;bean id = &quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\n```\r\n**Controller**\r\n```\r\n@Controller\r\npublic class HelloController {\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    public String sayHello() {\r\n        return &quot;hello_world&quot;;\r\n    }\r\n}\r\n```\r\nWatched many themes and courses about this, but everywhere everything working properly. ","title":"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists (Spring MVC)","body":"<p>My dispatcher servlet dont working correctly. Its only starting index.jsp file, thats all, Request mapping doesn`t working.</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n\n  &lt;display-name&gt;spring-cource-mvc&lt;/display-name&gt;\n\n  &lt;absolute-ordering/&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n      &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>applicationContext.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;ua.ilya.springcourse&quot; /&gt;\n\n    &lt;mvc:annotation-driven/&gt;\n    &lt;bean id = &quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@Controller\npublic class HelloController {\n    @RequestMapping(&quot;/hello&quot;)\n    public String sayHello() {\n        return &quot;hello_world&quot;;\n    }\n}\n</code></pre>\n<p>Watched many themes and courses about this, but everywhere everything working properly.</p>\n"},{"tags":["java","bitcoin","pbkdf2"],"comments":[{"owner":{"account_id":3943859,"reputation":1239,"user_id":10674888,"display_name":"MS90"},"score":0,"creation_date":1554940917,"post_id":55622851,"comment_id":97938637,"body_markdown":"Can you tell us Q?","body":"Can you tell us Q?"},{"owner":{"account_id":15719998,"reputation":252,"user_id":11343164,"display_name":"Septem151"},"score":0,"creation_date":1554941046,"post_id":55622851,"comment_id":97938661,"body_markdown":"@MS90 The Q of what? I&#39;m not attempting to create keypairs from the seed yet, just trying to generate a correct Seed from a mnemonic phrase.","body":"@MS90 The Q of what? I&#39;m not attempting to create keypairs from the seed yet, just trying to generate a correct Seed from a mnemonic phrase."}],"answers":[{"tags":[],"owner":{"account_id":15719998,"reputation":252,"user_id":11343164,"display_name":"Septem151"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1555018852,"creation_date":1555018852,"answer_id":55641586,"question_id":55622851,"body_markdown":"Looks like I was able to answer my own question.\r\nIn my program, I was concatenating the seed words without spaces using\r\n```java\r\nString mnemonicPhrase = &quot;&quot;;\r\nfor (String word : mnemonicWords)\r\n  mnemonicPhrase += word;\r\n```\r\nBut this is not the correct format, as the spaces are to be included. Changing this code block to add spaces:\r\n```java\r\nString mnemonicPhrase = &quot;&quot;;\r\nfor(int i=0; i&lt;mnemonicWords.length; i++) {\r\n    mnemonicPhrase += mnemonicWords[i];\r\n    if(i &lt; mnemonicWords.length-1) mnemonicPhrase += &quot; &quot;;\r\n}\r\n```\r\n\r\nyields expected Test Vector results published [here](https://github.com/trezor/python-mnemonic/blob/master/vectors.json) using a password of &quot;TREZOR&quot;.","title":"Seed from BIP39 Mnemonic not matching Test Vectors","body":"<p>Looks like I was able to answer my own question.\nIn my program, I was concatenating the seed words without spaces using</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String mnemonicPhrase = \"\";\nfor (String word : mnemonicWords)\n  mnemonicPhrase += word;\n</code></pre>\n\n<p>But this is not the correct format, as the spaces are to be included. Changing this code block to add spaces:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String mnemonicPhrase = \"\";\nfor(int i=0; i&lt;mnemonicWords.length; i++) {\n    mnemonicPhrase += mnemonicWords[i];\n    if(i &lt; mnemonicWords.length-1) mnemonicPhrase += \" \";\n}\n</code></pre>\n\n<p>yields expected Test Vector results published <a href=\"https://github.com/trezor/python-mnemonic/blob/master/vectors.json\" rel=\"nofollow noreferrer\">here</a> using a password of \"TREZOR\".</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665305481,"post_id":73965510,"comment_id":130665124,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73965510/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26538874,"reputation":1,"user_id":20169958,"display_name":"–í–∞–ª–µ—Ä–∞ –í–∞—Ä–∞–∫–∏–Ω"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664998514,"creation_date":1664998514,"answer_id":73965510,"question_id":55622851,"body_markdown":"String mnemonicPhrase = &quot;&quot;;\r\nfor (String word : mnemonicWords)\r\n  mnemonicPhrase += word bc1qsrgkdlk8ruk7uyer3jkv502ykww243yu367ay9","title":"Seed from BIP39 Mnemonic not matching Test Vectors","body":"<p>String mnemonicPhrase = &quot;&quot;;\nfor (String word : mnemonicWords)\nmnemonicPhrase += word bc1qsrgkdlk8ruk7uyer3jkv502ykww243yu367ay9</p>\n"}],"owner":{"account_id":15719998,"reputation":252,"user_id":11343164,"display_name":"Septem151"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55641586,"answer_count":2,"score":3,"last_activity_date":1664998514,"creation_date":1554940745,"question_id":55622851,"body_markdown":"I&#39;m writing a Java implementation of Bitcoin&#39;s BIP39. So far, my code is able to produce a randomly generated mnemonic phrase correctly. However, when converting the 12 word Mnemonic Phrase into a 512-bit seed, the resulting value does not match with results from [Ian Coleman&#39;s BIP39 Tool](https://iancoleman.io/bip39/).\r\n\r\nTo start, a SecureRandom object generates a random 512-bit Entropy value (ENT). The ENT value is hashed using SHA256 to compute the checksum value (CS), which is the first 4 bits of the hash. The checksum is concatenated to end of ENT to give ENT_CS. ENT_CS is split into sections of 11 bits each, and the corresponding integer value of the 11 bits is used as the index number to obtain a word from the Word List. This generates my 12 word Mnemonic Phrase. So far, all steps up to this point match the expected results from aforementioned BIP39 Tool.\r\n\r\nTo create the Seed, I am using PBKDF2 with HmacSHA512, setting the iterations to 2048, and the key-size to 512 bits (64 bytes). I have tested my implementation of PBKDF2 against these [Test Vectors](https://stackoverflow.com/questions/15593184/pbkdf2-hmac-sha-512-test-vectors), Google&#39;s &quot;crypto&quot; package implementation, and NovaCrypto&#39;s Java BIP39 implementation. The mnemonic words, excluding separators, is used as input along with a salt of `&quot;mnemonic&quot;+password` as per the [Bitcoin Core BIP39 Specifications](https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki).\r\n\r\nPBKDF2 Function\r\n-----------------\r\n```java\r\n  public static byte[] PBKDF2(String mnemonic, String salt) {\r\n    try {\r\n      byte[] fixedSalt = (&quot;mnemonic&quot;+salt).getBytes(StandardCharsets.UTF_8);\r\n      KeySpec spec = new PBEKeySpec(mnemonic.toCharArray(), fixedSalt, 2048, 512);\r\n      SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA512&quot;);\r\n      return f.generateSecret(spec).getEncoded();\r\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException ex) {\r\n      throw new RuntimeException(ex);\r\n    }\r\n  }\r\n```\r\n\r\nGenerate Mnemonic Function\r\n-----------------\r\n```java\r\npublic static String[] generateMnemonic() {\r\n  // Generate 128-bit Random Number for Entropy\r\n  byte[] ENT = getEntropy();\r\n\r\n  // Hash the Entropy value\r\n  byte[] HASH = SHA256(ENT);\r\n\r\n  // Copy first 4 bits of Hash as Checksum\r\n  boolean[] CS = Arrays.copyOfRange(bytesToBits(HASH), 0, 4);\r\n\r\n  // Add Checksum to the end of Entropy bits\r\n  boolean[] ENT_CS = Arrays.copyOf(bytesToBits(ENT), bytesToBits(ENT).length + CS.length);\r\n  System.arraycopy(CS, 0, ENT_CS, bytesToBits(ENT).length, CS.length);\r\n\r\n  // Split ENT_CS into groups of 11 bits and creates String array for\r\n  // mnemonicWords\r\n  String[] mnemonicWords = new String[12];\r\n  for (int i = 0; i &lt; 12; i++) {\r\n    boolean[] numBits = Arrays.copyOfRange(ENT_CS, i * 11, i * 11 + 11);\r\n    mnemonicWords[i] = wordList.get(bitsToInt(numBits));\r\n  }\r\n  return mnemonicWords;\r\n}\r\n```\r\n\r\nHelper Functions\r\n-----------------\r\n```java\r\n// Returns randomly generated, 16-byte number\r\n  public static byte[] getEntropy() {\r\n    byte[] ent = new byte[16];\r\n    sr.nextBytes(ent);\r\n    return ent;\r\n  }\r\n\r\n// Returns bit representation of byte array\r\n  public static boolean[] bytesToBits(byte[] data) {\r\n    boolean[] bits = new boolean[data.length * 8];\r\n    for (int i = 0; i &lt; data.length; ++i)\r\n      for (int j = 0; j &lt; 8; ++j)\r\n        bits[(i * 8) + j] = (data[i] &amp; (1 &lt;&lt; (7 - j))) != 0;\r\n    return bits;\r\n  }\r\n\r\n// Returns hex string from byte array\r\n  private final static char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n  public static String bytesToHex(byte[] bytes) {\r\n    char[] hexChars = new char[bytes.length * 2];\r\n    for (int j = 0; j &lt; bytes.length; j++) {\r\n      int v = bytes[j] &amp; 0xFF;\r\n      hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n      hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n    }\r\n    return new String(hexChars);\r\n  }\r\n\r\n// Returns SHA256 hash of input data\r\n  public static byte[] SHA256(byte[] data) {\r\n    try {\r\n      MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n      System.out.println(Arrays.toString(data));\r\n      return digest.digest(data);\r\n    } catch (NoSuchAlgorithmException ex) {\r\n      throw new RuntimeException(ex);\r\n    }\r\n  }\r\n\r\n// Returns int value of a bit array\r\n  public static int bitsToInt(boolean[] bits) {\r\n    int n = 0, l = bits.length;\r\n    for (int i = 0; i &lt; l; ++i) {\r\n      n = (n &lt;&lt; 1) + (bits[i] ? 1 : 0);\r\n    }\r\n    return n;\r\n  }\r\n```\r\n\r\nUsage\r\n-----------------\r\n```java\r\n// Generate Mnemonic Words, Mnemonic Phrase, and Seed\r\n    String[] mnemonicWords = generateMnemonic();\r\n    String mnemonicPhrase = &quot;&quot;;\r\n    for (String word : mnemonicWords)\r\n      mnemonicPhrase += word;\r\n    byte[] seed = PBKDF2(mnemonicPhrase, &quot;&quot;);\r\n    System.out.println(&quot;Seed: &quot; + bytesToHex(seed));\r\n```\r\n\r\nExample Results\r\n-----------------\r\n```\r\n    My Program Trial\r\nEntropy (hex): 3CCB62D9AF76F1E8DB113E66B2D84656\r\nChecksum bits: 1100\r\nRaw Binary: 00111100110 01011011000 10110110011 01011110111 01101111000 11110100011 01101100010 00100111110 01100110101 10010110110 00010001100 1010110\r\nMnemonic: devote force reopen galaxy humor virtual hobby chief grit nothing bag pulse\r\nSeed: 013FFA714C57AA26C59DC215880D9C2398A8B38D10D7E41A882CF98C35976F0BF26BCC08B0B196945DE8778C7FD561FB0F20A8B9BAD46B12196C963A85E3B40E\r\n\r\n    Expected Results (Derived from same Entropy)\r\nEntropy (hex): 3CCB62D9AF76F1E8DB113E66B2D84656\r\nChecksum bits: 1100\r\nRaw Binary: 00111100110 01011011000 10110110011 01011110111 01101111000 11110100011 01101100010 00100111110 01100110101 10010110110 00010001100 1010110\r\nMnemonic: devote force reopen galaxy humor virtual hobby chief grit nothing bag pulse\r\nSeed: 0c3c5f9ae724a2a3ed70aeb24919c10506e4962223a5375f70164be8b897d615ec9bf9f3e64a889cff03318cc5d0b3c8378ba0264d198e307c609632016ddd01\r\n```","title":"Seed from BIP39 Mnemonic not matching Test Vectors","body":"<p>I'm writing a Java implementation of Bitcoin's BIP39. So far, my code is able to produce a randomly generated mnemonic phrase correctly. However, when converting the 12 word Mnemonic Phrase into a 512-bit seed, the resulting value does not match with results from <a href=\"https://iancoleman.io/bip39/\" rel=\"nofollow noreferrer\">Ian Coleman's BIP39 Tool</a>.</p>\n\n<p>To start, a SecureRandom object generates a random 512-bit Entropy value (ENT). The ENT value is hashed using SHA256 to compute the checksum value (CS), which is the first 4 bits of the hash. The checksum is concatenated to end of ENT to give ENT_CS. ENT_CS is split into sections of 11 bits each, and the corresponding integer value of the 11 bits is used as the index number to obtain a word from the Word List. This generates my 12 word Mnemonic Phrase. So far, all steps up to this point match the expected results from aforementioned BIP39 Tool.</p>\n\n<p>To create the Seed, I am using PBKDF2 with HmacSHA512, setting the iterations to 2048, and the key-size to 512 bits (64 bytes). I have tested my implementation of PBKDF2 against these <a href=\"https://stackoverflow.com/questions/15593184/pbkdf2-hmac-sha-512-test-vectors\">Test Vectors</a>, Google's \"crypto\" package implementation, and NovaCrypto's Java BIP39 implementation. The mnemonic words, excluding separators, is used as input along with a salt of <code>\"mnemonic\"+password</code> as per the <a href=\"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki\" rel=\"nofollow noreferrer\">Bitcoin Core BIP39 Specifications</a>.</p>\n\n<h2>PBKDF2 Function</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>  public static byte[] PBKDF2(String mnemonic, String salt) {\n    try {\n      byte[] fixedSalt = (\"mnemonic\"+salt).getBytes(StandardCharsets.UTF_8);\n      KeySpec spec = new PBEKeySpec(mnemonic.toCharArray(), fixedSalt, 2048, 512);\n      SecretKeyFactory f = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA512\");\n      return f.generateSecret(spec).getEncoded();\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException ex) {\n      throw new RuntimeException(ex);\n    }\n  }\n</code></pre>\n\n<h2>Generate Mnemonic Function</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] generateMnemonic() {\n  // Generate 128-bit Random Number for Entropy\n  byte[] ENT = getEntropy();\n\n  // Hash the Entropy value\n  byte[] HASH = SHA256(ENT);\n\n  // Copy first 4 bits of Hash as Checksum\n  boolean[] CS = Arrays.copyOfRange(bytesToBits(HASH), 0, 4);\n\n  // Add Checksum to the end of Entropy bits\n  boolean[] ENT_CS = Arrays.copyOf(bytesToBits(ENT), bytesToBits(ENT).length + CS.length);\n  System.arraycopy(CS, 0, ENT_CS, bytesToBits(ENT).length, CS.length);\n\n  // Split ENT_CS into groups of 11 bits and creates String array for\n  // mnemonicWords\n  String[] mnemonicWords = new String[12];\n  for (int i = 0; i &lt; 12; i++) {\n    boolean[] numBits = Arrays.copyOfRange(ENT_CS, i * 11, i * 11 + 11);\n    mnemonicWords[i] = wordList.get(bitsToInt(numBits));\n  }\n  return mnemonicWords;\n}\n</code></pre>\n\n<h2>Helper Functions</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Returns randomly generated, 16-byte number\n  public static byte[] getEntropy() {\n    byte[] ent = new byte[16];\n    sr.nextBytes(ent);\n    return ent;\n  }\n\n// Returns bit representation of byte array\n  public static boolean[] bytesToBits(byte[] data) {\n    boolean[] bits = new boolean[data.length * 8];\n    for (int i = 0; i &lt; data.length; ++i)\n      for (int j = 0; j &lt; 8; ++j)\n        bits[(i * 8) + j] = (data[i] &amp; (1 &lt;&lt; (7 - j))) != 0;\n    return bits;\n  }\n\n// Returns hex string from byte array\n  private final static char[] hexArray = \"0123456789ABCDEF\".toCharArray();\n  public static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n      int v = bytes[j] &amp; 0xFF;\n      hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n      hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n  }\n\n// Returns SHA256 hash of input data\n  public static byte[] SHA256(byte[] data) {\n    try {\n      MessageDigest digest = MessageDigest.getInstance(\"SHA-256\");\n      System.out.println(Arrays.toString(data));\n      return digest.digest(data);\n    } catch (NoSuchAlgorithmException ex) {\n      throw new RuntimeException(ex);\n    }\n  }\n\n// Returns int value of a bit array\n  public static int bitsToInt(boolean[] bits) {\n    int n = 0, l = bits.length;\n    for (int i = 0; i &lt; l; ++i) {\n      n = (n &lt;&lt; 1) + (bits[i] ? 1 : 0);\n    }\n    return n;\n  }\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Generate Mnemonic Words, Mnemonic Phrase, and Seed\n    String[] mnemonicWords = generateMnemonic();\n    String mnemonicPhrase = \"\";\n    for (String word : mnemonicWords)\n      mnemonicPhrase += word;\n    byte[] seed = PBKDF2(mnemonicPhrase, \"\");\n    System.out.println(\"Seed: \" + bytesToHex(seed));\n</code></pre>\n\n<h2>Example Results</h2>\n\n<pre><code>    My Program Trial\nEntropy (hex): 3CCB62D9AF76F1E8DB113E66B2D84656\nChecksum bits: 1100\nRaw Binary: 00111100110 01011011000 10110110011 01011110111 01101111000 11110100011 01101100010 00100111110 01100110101 10010110110 00010001100 1010110\nMnemonic: devote force reopen galaxy humor virtual hobby chief grit nothing bag pulse\nSeed: 013FFA714C57AA26C59DC215880D9C2398A8B38D10D7E41A882CF98C35976F0BF26BCC08B0B196945DE8778C7FD561FB0F20A8B9BAD46B12196C963A85E3B40E\n\n    Expected Results (Derived from same Entropy)\nEntropy (hex): 3CCB62D9AF76F1E8DB113E66B2D84656\nChecksum bits: 1100\nRaw Binary: 00111100110 01011011000 10110110011 01011110111 01101111000 11110100011 01101100010 00100111110 01100110101 10010110110 00010001100 1010110\nMnemonic: devote force reopen galaxy humor virtual hobby chief grit nothing bag pulse\nSeed: 0c3c5f9ae724a2a3ed70aeb24919c10506e4962223a5375f70164be8b897d615ec9bf9f3e64a889cff03318cc5d0b3c8378ba0264d198e307c609632016ddd01\n</code></pre>\n"},{"tags":["java","android","wav","record"],"answers":[{"comments":[{"owner":{"account_id":2074381,"reputation":2169,"user_id":1848157,"accept_rate":50,"display_name":"Radhey"},"score":2,"creation_date":1588311456,"post_id":57486719,"comment_id":108854131,"body_markdown":"not working! where did you find this configuration?","body":"not working! where did you find this configuration?"}],"tags":[],"owner":{"account_id":16107398,"reputation":69,"user_id":11626567,"display_name":"Juli&#225;n Medina"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1565741691,"creation_date":1565741691,"answer_id":57486719,"question_id":57486603,"body_markdown":"Found it. This configuration works:\r\n\r\n        mediaRecorder = new MediaRecorder();\r\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        mediaRecorder.setOutputFormat(AudioFormat.ENCODING_PCM_16BIT);\r\n        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\r\n        mediaRecorder.setAudioChannels(1);\r\n        mediaRecorder.setAudioEncodingBitRate(128000);\r\n        mediaRecorder.setAudioSamplingRate(48000);\r\n        mediaRecorder.setOutputFile(MainActivity.PATH_TEMP_RECORDING);","title":"How to configure MediaRecorder to record audio in WAV format at 48KHz in Android Studio?","body":"<p>Found it. This configuration works:</p>\n\n<pre><code>    mediaRecorder = new MediaRecorder();\n    mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n    mediaRecorder.setOutputFormat(AudioFormat.ENCODING_PCM_16BIT);\n    mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n    mediaRecorder.setAudioChannels(1);\n    mediaRecorder.setAudioEncodingBitRate(128000);\n    mediaRecorder.setAudioSamplingRate(48000);\n    mediaRecorder.setOutputFile(MainActivity.PATH_TEMP_RECORDING);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7112834,"reputation":481,"user_id":5440132,"display_name":"Lynne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664998435,"creation_date":1664998435,"answer_id":73965496,"question_id":57486603,"body_markdown":"The MediaRecorder do not let you record in the lossless format. Instead, AudioRecord is more low-level API for audio recording, while you need to write buffer code and filewriting code yourself. [Here][1] is a example of using AudioRecord to write into .pcm file. WAV is basically a container of PCM [2]. If you want to write into .wav, you need to write the header yourself, and [here][3] is an example of using AudioRecord to write into .wav.\r\n\r\n\r\n  [1]: https://github.com/aahlenst/android-audiorecord-sample/blob/master/src/main/java/com/example/audiorecord/AudioRecordActivity.java\r\n  [2]: https://stackoverflow.com/questions/21131595/convert-from-pcm-to-wav-is-it;-possible\r\n  [3]: https://github.com/vishwakneelamegam/android-wav","title":"How to configure MediaRecorder to record audio in WAV format at 48KHz in Android Studio?","body":"<p>The MediaRecorder do not let you record in the lossless format. Instead, AudioRecord is more low-level API for audio recording, while you need to write buffer code and filewriting code yourself. <a href=\"https://github.com/aahlenst/android-audiorecord-sample/blob/master/src/main/java/com/example/audiorecord/AudioRecordActivity.java\" rel=\"nofollow noreferrer\">Here</a> is a example of using AudioRecord to write into .pcm file. WAV is basically a container of PCM <a href=\"https://stackoverflow.com/questions/21131595/convert-from-pcm-to-wav-is-it;-possible\">2</a>. If you want to write into .wav, you need to write the header yourself, and <a href=\"https://github.com/vishwakneelamegam/android-wav\" rel=\"nofollow noreferrer\">here</a> is an example of using AudioRecord to write into .wav.</p>\n"}],"owner":{"account_id":16107398,"reputation":69,"user_id":11626567,"display_name":"Juli&#225;n Medina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5851,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664998435,"creation_date":1565740449,"question_id":57486603,"body_markdown":"So far I have this: With this code I can configure Media Recorder to record in 3gp, but i need to record in WAV for a later process.\r\n\r\n    private void setupMediaRecorder() {\r\n        mediaRecorder = new MediaRecorder();\r\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n        mediaRecorder.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB);\r\n        mediaRecorder.setOutputFile(MainActivity.PATH_TEMP_RECORDING);\r\n    }","title":"How to configure MediaRecorder to record audio in WAV format at 48KHz in Android Studio?","body":"<p>So far I have this: With this code I can configure Media Recorder to record in 3gp, but i need to record in WAV for a later process.</p>\n\n<pre><code>private void setupMediaRecorder() {\n    mediaRecorder = new MediaRecorder();\n    mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n    mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n    mediaRecorder.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB);\n    mediaRecorder.setOutputFile(MainActivity.PATH_TEMP_RECORDING);\n}\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664997724,"post_id":73965333,"comment_id":130598926,"body_markdown":"Solution #2. You can re-use that function with data from sources other than just stdin. For example: a file or maybe in a GUI program.","body":"Solution #2. You can re-use that function with data from sources other than just stdin. For example: a file or maybe in a GUI program."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664997794,"post_id":73965333,"comment_id":130598944,"body_markdown":"Define &quot;best&quot;: lines of code, runtime complexity, memory usage, maintainability, points during exam, time to market, testability, aesthetics, ‚Ä¶? I have a favorite (it&#39;s solution 2), but this question is purely _opinion-based_ and as such off-topic for stackoverflow.","body":"Define &quot;best&quot;: lines of code, runtime complexity, memory usage, maintainability, points during exam, time to market, testability, aesthetics, ‚Ä¶? I have a favorite (it&#39;s solution 2), but this question is purely <i>opinion-based</i> and as such off-topic for stackoverflow."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1664997854,"post_id":73965333,"comment_id":130598962,"body_markdown":"I&#39;ve voted to close as opinion based.  But the right answer is #2.  One method should have one responsibility; but  the  `area()` method in solution #1 does three different things - the input, the calculation and the output.","body":"I&#39;ve voted to close as opinion based.  But the right answer is #2.  One method should have one responsibility; but  the  <code>area()</code> method in solution #1 does three different things - the input, the calculation and the output."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1664997863,"post_id":73965333,"comment_id":130598966,"body_markdown":"Solution 2. The design principle you are looking for her that justifies this choice is https://en.wikipedia.org/wiki/Separation_of_concerns\n\nYou might even take it further and separate out reading user input from the main function.","body":"Solution 2. The design principle you are looking for her that justifies this choice is <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Separation_of_concerns</a>  You might even take it further and separate out reading user input from the main function."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665000914,"post_id":73965333,"comment_id":130599780,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"·¥á ü·¥áv·¥Ä—Ç·¥á"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664997888,"creation_date":1664997888,"answer_id":73965397,"question_id":73965333,"body_markdown":"The second version is better because it separates the concerns of (a) calculating the area from (b) what to do with the results.\r\n\r\nYou don&#39;t need to declare `double area = 0` before you assign a value to it. You can simply write:\r\n\r\n    double area = 3.14 * r * r;\r\n\r\nBut, in fact, you don&#39;t need to declare a variable at all in that method. You can return the value.\r\n\r\n    public static double area(double r){\r\n        return 3.14 * r * r;\r\n    }\r\n\r\nYou can also use the Math constant for PI:\r\n\r\n    public static double areaOfCircle(double r){\r\n        return Math.PI * r * r;\r\n    }","title":"What is the better java coding practice?","body":"<p>The second version is better because it separates the concerns of (a) calculating the area from (b) what to do with the results.</p>\n<p>You don't need to declare <code>double area = 0</code> before you assign a value to it. You can simply write:</p>\n<pre><code>double area = 3.14 * r * r;\n</code></pre>\n<p>But, in fact, you don't need to declare a variable at all in that method. You can return the value.</p>\n<pre><code>public static double area(double r){\n    return 3.14 * r * r;\n}\n</code></pre>\n<p>You can also use the Math constant for PI:</p>\n<pre><code>public static double areaOfCircle(double r){\n    return Math.PI * r * r;\n}\n</code></pre>\n"}],"owner":{"account_id":26229495,"reputation":5,"user_id":19905693,"display_name":"Klord"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664997877,"accepted_answer_id":73965397,"answer_count":1,"score":0,"last_activity_date":1664997888,"creation_date":1664997497,"question_id":73965333,"body_markdown":"I got the below question for an assignment in my Java class. \r\n\r\n**Write a Java method to find &amp; print the area of a circle when user input the radius.**\r\n\r\nI came up with 2 solutions,\r\n\r\n**Solution 1**: Call a void method where the method does all the inputs and calculations and prints the output.\r\n\r\n    import java.util.*;\r\n    class Example{\r\n       public static void area(){\r\n          Scanner input = new Scanner (System.in);\r\n          double area = 0;\r\n          double radius = input.nextInt();\r\n          area = 3.14 * radius * radius;\r\n          System.out.println(&quot;Area is: &quot; + area);\r\n       }\r\n    \r\n       public static void main(String args[]){\r\n          System.out.println(&quot;Input the radius: &quot;);\r\n          area();\r\n       }\r\n    }\r\n\r\n**Solution 2**: Call a parameterized double method. Here the input is fed to the main method and calculation is done in the double method and value is returned back to the main method. \r\n\r\n    import java.util.*;\r\n    class Example{\r\n       public static double area(double r){\r\n          double area = 0;\r\n          area = 3.14 * r * r;\r\n          return area;\r\n       }\r\n    \r\n       public static void main(String args[]){\r\n          System.out.println(&quot;Input the radius: &quot;);\r\n          Scanner input = new Scanner (System.in);\r\n          double radius = input.nextDouble();\r\n          System.out.println(&quot;Area is: &quot; + area(radius));\r\n       }\r\n    }\r\n\r\nI am wondering what is the best coding practice. Solution 1 or 2 and why is that? Thanks in advance for all the responses. ","title":"What is the better java coding practice?","body":"<p>I got the below question for an assignment in my Java class.</p>\n<p><strong>Write a Java method to find &amp; print the area of a circle when user input the radius.</strong></p>\n<p>I came up with 2 solutions,</p>\n<p><strong>Solution 1</strong>: Call a void method where the method does all the inputs and calculations and prints the output.</p>\n<pre><code>import java.util.*;\nclass Example{\n   public static void area(){\n      Scanner input = new Scanner (System.in);\n      double area = 0;\n      double radius = input.nextInt();\n      area = 3.14 * radius * radius;\n      System.out.println(&quot;Area is: &quot; + area);\n   }\n\n   public static void main(String args[]){\n      System.out.println(&quot;Input the radius: &quot;);\n      area();\n   }\n}\n</code></pre>\n<p><strong>Solution 2</strong>: Call a parameterized double method. Here the input is fed to the main method and calculation is done in the double method and value is returned back to the main method.</p>\n<pre><code>import java.util.*;\nclass Example{\n   public static double area(double r){\n      double area = 0;\n      area = 3.14 * r * r;\n      return area;\n   }\n\n   public static void main(String args[]){\n      System.out.println(&quot;Input the radius: &quot;);\n      Scanner input = new Scanner (System.in);\n      double radius = input.nextDouble();\n      System.out.println(&quot;Area is: &quot; + area(radius));\n   }\n}\n</code></pre>\n<p>I am wondering what is the best coding practice. Solution 1 or 2 and why is that? Thanks in advance for all the responses.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664998805,"post_id":73965089,"comment_id":130599203,"body_markdown":"Alternatively, since the point of Java is X-platform operation, do the ```cat```  in pure Java. ```SequenceInputStream``` is your friend ;)","body":"Alternatively, since the point of Java is X-platform operation, do the <code>cat</code>  in pure Java. <code>SequenceInputStream</code> is your friend ;)"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664997670,"creation_date":1664997068,"answer_id":73965261,"question_id":73965089,"body_markdown":"Redirection `&gt;&gt;` is a feature of your shell so you need to run under that shell. Java process launch cannot handle. Try calling your shell to handle the command such as say:\r\n\r\n    String []cmd = new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;cat ... &gt;&gt; xyz.txt&quot;};\r\n\r\nAlternatively use `ProcessBuilder` with file [redirectOutput][1] for saving standard output to a file and drop the &quot;&gt;&gt;&quot; part, and you may need to use full pathname to the `cat` executable if that is not on the PATH of JVM.\r\n\r\n    String []cmd = new String[] {&quot;cat&quot;, &quot;path1&quot;, &quot;path2&quot;};\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ProcessBuilder.html#redirectOutput(java.io.File)","title":"Executing cat ./file1.txt file2.txt &gt;&gt; merged.txt fails with java.lang.RuntimeException: cat: &gt;: No such file or directory","body":"<p>Redirection <code>&gt;&gt;</code> is a feature of your shell so you need to run under that shell. Java process launch cannot handle. Try calling your shell to handle the command such as say:</p>\n<pre><code>String []cmd = new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;cat ... &gt;&gt; xyz.txt&quot;};\n</code></pre>\n<p>Alternatively use <code>ProcessBuilder</code> with file <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ProcessBuilder.html#redirectOutput(java.io.File)\" rel=\"nofollow noreferrer\">redirectOutput</a> for saving standard output to a file and drop the &quot;&gt;&gt;&quot; part, and you may need to use full pathname to the <code>cat</code> executable if that is not on the PATH of JVM.</p>\n<pre><code>String []cmd = new String[] {&quot;cat&quot;, &quot;path1&quot;, &quot;path2&quot;};\n</code></pre>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73965261,"answer_count":1,"score":0,"last_activity_date":1664997670,"creation_date":1664996127,"question_id":73965089,"body_markdown":"I&#39;m trying to execute this Linux command from Java: `cat ./file1.txt ./file2.txt &gt;&gt; ./merged.txt`\r\n\r\n```\r\nRuntime.getRuntime().exec(&quot;cat&quot;, &quot;FULLPATH/file1.txt&quot;, &quot;FULLPATH/file2.txt&quot;, &quot;&gt;&gt;&quot;, &quot;FULLPATH/merged.txt&quot;);\r\n```\r\n\r\nThis works directly in the console but fails in Java:\r\n\r\n```\r\njava.lang.RuntimeException: cat: &gt;: No such file or directory\r\ncat: FULLPATH/merged.txt: No such file or directory\r\n```\r\n\r\nDo you know how to fix it?","title":"Executing cat ./file1.txt file2.txt &gt;&gt; merged.txt fails with java.lang.RuntimeException: cat: &gt;: No such file or directory","body":"<p>I'm trying to execute this Linux command from Java: <code>cat ./file1.txt ./file2.txt &gt;&gt; ./merged.txt</code></p>\n<pre><code>Runtime.getRuntime().exec(&quot;cat&quot;, &quot;FULLPATH/file1.txt&quot;, &quot;FULLPATH/file2.txt&quot;, &quot;&gt;&gt;&quot;, &quot;FULLPATH/merged.txt&quot;);\n</code></pre>\n<p>This works directly in the console but fails in Java:</p>\n<pre><code>java.lang.RuntimeException: cat: &gt;: No such file or directory\ncat: FULLPATH/merged.txt: No such file or directory\n</code></pre>\n<p>Do you know how to fix it?</p>\n"},{"tags":["java","arrays","variables"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1664997339,"post_id":73965296,"comment_id":130598815,"body_markdown":"Because it doesn&#39;t. You declared it scoped to `main`, yet you&#39;re trying to use it inside `sort` without having passed it along.","body":"Because it doesn&#39;t. You declared it scoped to <code>main</code>, yet you&#39;re trying to use it inside <code>sort</code> without having passed it along."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664997352,"post_id":73965296,"comment_id":130598818,"body_markdown":"Because `num` only exist inside `main`. Other methods do not automatically have access to local variables. You can pass the variable as argument, or you can make it a field, or ‚Ä¶","body":"Because <code>num</code> only exist inside <code>main</code>. Other methods do not automatically have access to local variables. You can pass the variable as argument, or you can make it a field, or ‚Ä¶"},{"owner":{"account_id":7123850,"reputation":1,"user_id":5447466,"display_name":"stupidmoron"},"score":0,"creation_date":1664997975,"post_id":73965296,"comment_id":130598986,"body_markdown":"OMG, I did not see that I declared it inside main!  Now I know why programming is done in groups on the job.  It always takes another pair of eyes to find your mistakes!","body":"OMG, I did not see that I declared it inside main!  Now I know why programming is done in groups on the job.  It always takes another pair of eyes to find your mistakes!"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664997379,"creation_date":1664997379,"answer_id":73965316,"question_id":73965296,"body_markdown":"`nums` is not visible outside of the method in which it was defined (`main`). Pass it as an argument to `sort` instead.\r\n\r\nChange the signature of `sort` to accept an array parameter:\r\n\r\n```java\r\npublic static void sort(int[] nums)\r\n```\r\n\r\nPass `nums` to `sort` in `main`:\r\n\r\n```java\r\nsort(nums);\r\n```","title":"Why is my array not found when it is so there?","body":"<p><code>nums</code> is not visible outside of the method in which it was defined (<code>main</code>). Pass it as an argument to <code>sort</code> instead.</p>\n<p>Change the signature of <code>sort</code> to accept an array parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sort(int[] nums)\n</code></pre>\n<p>Pass <code>nums</code> to <code>sort</code> in <code>main</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sort(nums);\n</code></pre>\n"}],"owner":{"account_id":7123850,"reputation":1,"user_id":5447466,"display_name":"stupidmoron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664997379,"creation_date":1664997262,"question_id":73965296,"body_markdown":"My jdk compiler keeps telling me that my array, called nums, is not found when it is so there!  What gives?  Please forgive my ignorance; I am just learning.  Anyway, my code is listed below.\r\n```\r\nimport java.util.Random;\r\nimport java.util.Arrays;\r\n\r\npublic class BubbleSort {\r\n\tpublic static void main(String[] args) {\r\n\t\tRandom rand = new Random();\r\n\t\tint[] nums = new int[10];\r\n\t\tfor (int i = 0; i &lt; nums.length; i++)\r\n\t\t\tnums[i] = rand.nextInt(100);\r\n\t\tSystem.out.println(&quot;Unsorted array: &quot; + Arrays.toString(nums));\r\n\t\tsort();\r\n\t\tSystem.out.println(&quot;Sorted array: &quot; + Arrays.toString(nums));\r\n\t}\r\n\t\r\n\tpublic static void sort() {\r\n\t\tint temp;\r\n\t\tfor (int i = 0; i &lt; nums.length - 1; i++) {\r\n\t\t\tfor (int j = 0; j &lt; nums.length - i - 1; j++) {\r\n\t\t\t\tif (nums[j] &gt; nums[j+1]) {\r\n\t\t\t\t\ttemp = nums[j];\r\n\t\t\t\t\tnums[j] = nums[j+1];\r\n\t\t\t\t\tnums[j+1] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Why is my array not found when it is so there?","body":"<p>My jdk compiler keeps telling me that my array, called nums, is not found when it is so there!  What gives?  Please forgive my ignorance; I am just learning.  Anyway, my code is listed below.</p>\n<pre><code>import java.util.Random;\nimport java.util.Arrays;\n\npublic class BubbleSort {\n    public static void main(String[] args) {\n        Random rand = new Random();\n        int[] nums = new int[10];\n        for (int i = 0; i &lt; nums.length; i++)\n            nums[i] = rand.nextInt(100);\n        System.out.println(&quot;Unsorted array: &quot; + Arrays.toString(nums));\n        sort();\n        System.out.println(&quot;Sorted array: &quot; + Arrays.toString(nums));\n    }\n    \n    public static void sort() {\n        int temp;\n        for (int i = 0; i &lt; nums.length - 1; i++) {\n            for (int j = 0; j &lt; nums.length - i - 1; j++) {\n                if (nums[j] &gt; nums[j+1]) {\n                    temp = nums[j];\n                    nums[j] = nums[j+1];\n                    nums[j+1] = temp;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":996986,"reputation":3954,"user_id":1012689,"accept_rate":65,"display_name":"ttt"},"score":0,"creation_date":1562596406,"post_id":56937148,"comment_id":100414600,"body_markdown":"Hi Gary, thanks for your reply. So what is `myConfiguredAvroDeserializer`? Do I need to create this? I am thinking to use the default `KafkaAvroDeserializer` which provides by Confluent. I used the same for producer.","body":"Hi Gary, thanks for your reply. So what is <code>myConfiguredAvroDeserializer</code>? Do I need to create this? I am thinking to use the default <code>KafkaAvroDeserializer</code> which provides by Confluent. I used the same for producer."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1562596550,"post_id":56937148,"comment_id":100414683,"body_markdown":"Yes, you will need to configure it (schema registry etc) instead of via the consumer properties. You can call `configure()` passing in the properties.","body":"Yes, you will need to configure it (schema registry etc) instead of via the consumer properties. You can call <code>configure()</code> passing in the properties."},{"owner":{"account_id":996986,"reputation":3954,"user_id":1012689,"accept_rate":65,"display_name":"ttt"},"score":0,"creation_date":1562596984,"post_id":56937148,"comment_id":100414942,"body_markdown":"Can you please show me an example by using confluent&#39;s `KafkaAvroDeserializer`?","body":"Can you please show me an example by using confluent&#39;s <code>KafkaAvroDeserializer</code>?"},{"owner":{"account_id":996986,"reputation":3954,"user_id":1012689,"accept_rate":65,"display_name":"ttt"},"score":0,"creation_date":1562598622,"post_id":56937148,"comment_id":100415971,"body_markdown":"The compile can&#39;t passed given `&lt;&gt;` can&#39;t infer arguments. Even I remove `&lt;&gt;` and run the consumer still same issues. It&#39;s quite weird.","body":"The compile can&#39;t passed given <code>&lt;&gt;</code> can&#39;t infer arguments. Even I remove <code>&lt;&gt;</code> and run the consumer still same issues. It&#39;s quite weird."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1562599422,"post_id":56937148,"comment_id":100416483,"body_markdown":"Try `public ConsumerFactory&lt;String, Object&gt; consumerFactory() {`.","body":"Try <code>public ConsumerFactory&lt;String, Object&gt; consumerFactory() {</code>."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1562611302,"post_id":56937148,"comment_id":100421775,"body_markdown":"I&#39;d be interested to know what your runtime environment is. I can&#39;t reproduce the issue with a stand alone application.","body":"I&#39;d be interested to know what your runtime environment is. I can&#39;t reproduce the issue with a stand alone application."},{"owner":{"account_id":236518,"reputation":3191,"user_id":504060,"accept_rate":71,"display_name":"kiltek"},"score":0,"creation_date":1587277920,"post_id":56937148,"comment_id":108443947,"body_markdown":"Is it possible to have to have `MyAvroDataClass` as type parameter instead of `Object`? I tried, but the IDE shows: `Con not infer type arguments`, e.g.: `@Bean\n    public ProducerFactory&lt;String, MyCustomData&gt; yetAnotherProducerFactory() {\n        DefaultKafkaProducerFactory&lt;String, MyCustomData&gt; x = new DefaultKafkaProducerFactory&lt;&gt;(\n                myAvroProducerConfig(),\n                StringSerializer::new,\n                KafkaAvroSerializer::new);\n        return x;\n    }`","body":"Is it possible to have to have <code>MyAvroDataClass</code> as type parameter instead of <code>Object</code>? I tried, but the IDE shows: <code>Con not infer type arguments</code>, e.g.: <code>@Bean     public ProducerFactory&lt;String, MyCustomData&gt; yetAnotherProducerFactory() {         DefaultKafkaProducerFactory&lt;String, MyCustomData&gt; x = new DefaultKafkaProducerFactory&lt;&gt;(                 myAvroProducerConfig(),                 StringSerializer::new,                 KafkaAvroSerializer::new);         return x;     }</code>"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1587307293,"post_id":56937148,"comment_id":108454045,"body_markdown":"Don&#39;t ask new questions in comments; it doesn&#39;t help other people finding answers. No; because `KafkaAvroSerializer` is not generic; it `implements Serializer&lt;Object&gt;`.  Why do you need it defined that way? (don&#39;t answer here - ask a new question).","body":"Don&#39;t ask new questions in comments; it doesn&#39;t help other people finding answers. No; because <code>KafkaAvroSerializer</code> is not generic; it <code>implements Serializer&lt;Object&gt;</code>.  Why do you need it defined that way? (don&#39;t answer here - ask a new question)."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562600120,"creation_date":1562596236,"answer_id":56937148,"question_id":56936582,"body_markdown":"&gt;However there is no such thing in the Spring Kafka document.\r\n\r\nThere is nothing to document; it&#39;s just another serializer/deserializer.\r\n\r\n&gt;Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for ...\r\n\r\nThis looks like some kind of class loader issue.\r\n\r\nTry using this instead\r\n\r\n```java\r\n  @Bean\r\n  public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\r\n    KafkaAvroDeserializer avroDeser = new KafkaAvroDeserializer();\r\n    avroDeser.configure(consumerConfigs(), false);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), \r\n                   new StringDeserializer(), \r\n                   avroDeser);\r\n  }\r\n```\r\n\r\nso that the listener and deserializer are created in the same class loader.","title":"Spring Kafka with Confluent Kafka Avro Deserializer","body":"<blockquote>\n  <p>However there is no such thing in the Spring Kafka document.</p>\n</blockquote>\n\n<p>There is nothing to document; it's just another serializer/deserializer.</p>\n\n<blockquote>\n  <p>Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for ...</p>\n</blockquote>\n\n<p>This looks like some kind of class loader issue.</p>\n\n<p>Try using this instead</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\n    KafkaAvroDeserializer avroDeser = new KafkaAvroDeserializer();\n    avroDeser.configure(consumerConfigs(), false);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), \n                   new StringDeserializer(), \n                   avroDeser);\n  }\n</code></pre>\n\n<p>so that the listener and deserializer are created in the same class loader.</p>\n"}],"owner":{"account_id":996986,"reputation":3954,"user_id":1012689,"accept_rate":65,"display_name":"ttt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664996670,"creation_date":1562594373,"question_id":56936582,"body_markdown":"I am trying to use Spring Kafka with Confluent schema registry and Kafka Avro Deserializer. However there is no such thing in the Spring Kafka document.\r\n\r\nFollowing is what I do for my Spring Kafka consumer:\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConfiguration {\r\n    \r\n      @Bean\r\n      ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n      }\r\n    \r\n      @Bean\r\n      public ConsumerFactory&lt;String, Customer&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n      }\r\n    \r\n      @Bean\r\n      public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);\r\n        props.put(&quot;schema.registry.url&quot;, &quot;http://127.0.0.1:8081&quot;);\r\n        props.put(&quot;specific.avro.reader&quot;, &quot;true&quot;);\r\n    \r\n    //    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;); // disable auto commit of offsets\r\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;100&quot;); // disable auto commit of offsets\r\n        return props;\r\n      }\r\n    }\r\n\r\nand \r\n\r\n    @Component\r\n    @Slf4j\r\n    public class KafkaConsumerService {\r\n    \r\n      private CustomerConverter customerConverter;\r\n    \r\n      public KafkaConsumerService(CustomerConverter customerConverter) {\r\n        this.customerConverter = customerConverter;\r\n      }\r\n    \r\n      @KafkaListener(id = &quot;demo-consumer-1st-group&quot;, topics = &quot;kafka-demo-avro&quot;)\r\n      public void process(@Payload Customer customer,\r\n                          @Header(KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\r\n                          @Header(KafkaHeaders.RECEIVED_TOPIC) List&lt;String&gt; topics,\r\n                          @Header(KafkaHeaders.OFFSET) List&lt;Long&gt; offsets) {\r\n        LOGGER.info(&quot;topic: {}, partition: {}, offset: {}&quot;, topics.get(0), partitions.get(0), offsets.get(0));\r\n        CustomerModel customerModel = customerConverter.convertToModel(customer);\r\n        LOGGER.info(&quot;customer: {}&quot;, customerModel);\r\n      }\r\n    }\r\n\r\nMy producer can produce Avro message successfully without any problem. But the error I got for consumer is:\r\n\r\n    Method [public void kafkademo.kafka.KafkaConsumerService.process(kafkademo.generated.avro.Customer)]\r\n    Bean [kafkademo.kafka.KafkaConsumerService@238258a0]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for GenericMessage [payload={&quot;id&quot;: 7, &quot;key&quot;: &quot;key-789&quot;, &quot;name&quot;: &quot;kafka&quot;}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}], failedMessage=GenericMessage [payload={&quot;id&quot;: 7, &quot;key&quot;: &quot;key-789&quot;, &quot;name&quot;: &quot;kafka&quot;}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for GenericMessage [payload={&quot;id&quot;: 7, &quot;key&quot;: &quot;key-789&quot;, &quot;name&quot;: &quot;kafka&quot;}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}], failedMessage=GenericMessage [payload={&quot;id&quot;: 7, &quot;key&quot;: &quot;key-789&quot;, &quot;name&quot;: &quot;kafka&quot;}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:1324) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:1313) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1229) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1200) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1120) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:935) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:751) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:700) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for GenericMessage [payload={&quot;id&quot;: 7, &quot;key&quot;: &quot;key-789&quot;, &quot;name&quot;: &quot;kafka&quot;}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}], failedMessage=GenericMessage [payload={&quot;id&quot;: 7, &quot;key&quot;: &quot;key-789&quot;, &quot;name&quot;: &quot;kafka&quot;}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}]\r\n    \tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:292) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:79) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:1275) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:1258) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1219) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\r\n    \t... 8 common frames omitted","title":"Spring Kafka with Confluent Kafka Avro Deserializer","body":"<p>I am trying to use Spring Kafka with Confluent schema registry and Kafka Avro Deserializer. However there is no such thing in the Spring Kafka document.</p>\n\n<p>Following is what I do for my Spring Kafka consumer:</p>\n\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConfiguration {\n\n  @Bean\n  ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, Customer&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n  }\n\n  @Bean\n  public ConsumerFactory&lt;String, Customer&gt; consumerFactory() {\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n  }\n\n  @Bean\n  public Map&lt;String, Object&gt; consumerConfigs() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);\n    props.put(\"schema.registry.url\", \"http://127.0.0.1:8081\");\n    props.put(\"specific.avro.reader\", \"true\");\n\n//    props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, \"false\"); // disable auto commit of offsets\n    props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, \"100\"); // disable auto commit of offsets\n    return props;\n  }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Component\n@Slf4j\npublic class KafkaConsumerService {\n\n  private CustomerConverter customerConverter;\n\n  public KafkaConsumerService(CustomerConverter customerConverter) {\n    this.customerConverter = customerConverter;\n  }\n\n  @KafkaListener(id = \"demo-consumer-1st-group\", topics = \"kafka-demo-avro\")\n  public void process(@Payload Customer customer,\n                      @Header(KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\n                      @Header(KafkaHeaders.RECEIVED_TOPIC) List&lt;String&gt; topics,\n                      @Header(KafkaHeaders.OFFSET) List&lt;Long&gt; offsets) {\n    LOGGER.info(\"topic: {}, partition: {}, offset: {}\", topics.get(0), partitions.get(0), offsets.get(0));\n    CustomerModel customerModel = customerConverter.convertToModel(customer);\n    LOGGER.info(\"customer: {}\", customerModel);\n  }\n}\n</code></pre>\n\n<p>My producer can produce Avro message successfully without any problem. But the error I got for consumer is:</p>\n\n<pre><code>Method [public void kafkademo.kafka.KafkaConsumerService.process(kafkademo.generated.avro.Customer)]\nBean [kafkademo.kafka.KafkaConsumerService@238258a0]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for GenericMessage [payload={\"id\": 7, \"key\": \"key-789\", \"name\": \"kafka\"}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}], failedMessage=GenericMessage [payload={\"id\": 7, \"key\": \"key-789\", \"name\": \"kafka\"}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for GenericMessage [payload={\"id\": 7, \"key\": \"key-789\", \"name\": \"kafka\"}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}], failedMessage=GenericMessage [payload={\"id\": 7, \"key\": \"key-789\", \"name\": \"kafka\"}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:1324) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:1313) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1229) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1200) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1120) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:935) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:751) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:700) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [kafkademo.generated.avro.Customer] to [kafkademo.generated.avro.Customer] for GenericMessage [payload={\"id\": 7, \"key\": \"key-789\", \"name\": \"kafka\"}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}], failedMessage=GenericMessage [payload={\"id\": 7, \"key\": \"key-789\", \"name\": \"kafka\"}, headers={kafka_offset=6, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@7e280b0e, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=key-789, kafka_receivedPartitionId=0, kafka_receivedTopic=kafka-demo-avro, kafka_receivedTimestamp=1562593667254}]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:292) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:79) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:1275) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:1258) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1219) ~[spring-kafka-2.2.7.RELEASE.jar:2.2.7.RELEASE]\n    ... 8 common frames omitted\n</code></pre>\n"},{"tags":["java","android","video","text"],"owner":{"account_id":19127495,"reputation":21,"user_id":13970166,"display_name":"Anuj Roxxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664996555,"creation_date":1602489037,"question_id":64313683,"body_markdown":"I&#39;m making a video editing app where I am trying to add text on a video to a particular frame. I tried to solve this by taking the exact frame and making a bitmap and adding text on it through canvas, but it didn&#39;t work.\r\n\r\nHere is my code:\r\n\r\n    \tprivate void extractVideoFrame ( String path , Context context , int time ) {\r\n\r\n\t\tMediaMetadataRetriever retriever = new MediaMetadataRetriever ( );\r\n\t\ttry {\r\n\t\t\tretriever.setDataSource ( path );\r\n\t\t} catch ( Exception e ) {\r\n\t\t\tSystem.out.println ( &quot;Exception= &quot; + e );\r\n\t\t}\r\n\t\tString duration = retriever.extractMetadata ( MediaMetadataRetriever.METADATA_KEY_DURATION );\r\n\r\n\t\tvideoFramesBitmapList = retriever.getFrameAtTime ( time );\r\n\t\tpickFrame.setImageBitmap ( videoFramesBitmapList );\r\n\r\n\t\tToast.makeText ( context , &quot;current&quot; + time , Toast.LENGTH_SHORT ).show ( ); FFmpegMediaMetadataRetriever.OPTION_CLOSEST);\r\n\t}\r\n\r\nAll I want to do is to add text on a frame from a video, I also don&#39;t wanna use ffmpeg, since I have do to through java.","title":"How to set text on a particular frame on a video in android java?","body":"<p>I'm making a video editing app where I am trying to add text on a video to a particular frame. I tried to solve this by taking the exact frame and making a bitmap and adding text on it through canvas, but it didn't work.</p>\n<p>Here is my code:</p>\n<pre><code>    private void extractVideoFrame ( String path , Context context , int time ) {\n\n    MediaMetadataRetriever retriever = new MediaMetadataRetriever ( );\n    try {\n        retriever.setDataSource ( path );\n    } catch ( Exception e ) {\n        System.out.println ( &quot;Exception= &quot; + e );\n    }\n    String duration = retriever.extractMetadata ( MediaMetadataRetriever.METADATA_KEY_DURATION );\n\n    videoFramesBitmapList = retriever.getFrameAtTime ( time );\n    pickFrame.setImageBitmap ( videoFramesBitmapList );\n\n    Toast.makeText ( context , &quot;current&quot; + time , Toast.LENGTH_SHORT ).show ( ); FFmpegMediaMetadataRetriever.OPTION_CLOSEST);\n}\n</code></pre>\n<p>All I want to do is to add text on a frame from a video, I also don't wanna use ffmpeg, since I have do to through java.</p>\n"},{"tags":["java","validation","junit","constraints","hibernate-validator"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1664997088,"post_id":73965083,"comment_id":130598725,"body_markdown":"Answer: The validation doesn&#39;t fail because you have stated a schema in the JDBC url despite your intention to miss this out (Cf. `multi-tenant-database-config-invalid-no-schema.yml`). As a result `@SchemaNameInJdbcUrlConstraint` was satisfied.","body":"Answer: The validation doesn&#39;t fail because you have stated a schema in the JDBC url despite your intention to miss this out (Cf. <code>multi-tenant-database-config-invalid-no-schema.yml</code>). As a result <code>@SchemaNameInJdbcUrlConstraint</code> was satisfied."},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1664997526,"post_id":73965083,"comment_id":130598870,"body_markdown":"@kladderradatsch but `password` is `null`","body":"@kladderradatsch but <code>password</code> is <code>null</code>"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1664998216,"post_id":73965083,"comment_id":130599045,"body_markdown":"Did you forget a `@Valid` above `@NotNull private Database database;` in `Configuration.java`?","body":"Did you forget a <code>@Valid</code> above <code>@NotNull private Database database;</code> in <code>Configuration.java</code>?"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664996109,"creation_date":1664996109,"question_id":73965083,"body_markdown":"\r\n`multi-tenant-database-config-invalid-no-schema.yml`:\r\n```\r\ntenants:\r\n  &quot;001&quot;:\r\n    tenantId: &quot;001&quot;\r\n    configuration:\r\n      database:\r\n        url: &quot;jdbc:postgresql://localhost:5432/postgres?currentSchema=001&quot;\r\n        username: &quot;postgres&quot;\r\n```\r\n\r\nJ-Unit class:\r\n```\r\npublic class AppTest {\r\n\r\n  @Test\r\n  public void testInvalid() throws Exception {\r\n\r\n    Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\n\r\n    File multiTenantConfigurationFile = getMultiTenantTestConfiguration(&quot;config/multi-tenant-database-config-invalid-no-schema.yml&quot;);\r\n\r\n    DatabaseEnabledTenants databaseEnabledTenants = objectMapper.readValue(multiTenantConfigurationFile, DatabaseEnabledTenants.class);\r\n\r\n    Set&lt;ConstraintViolation&lt;DatabaseEnabledTenants&gt;&gt; constraintViolations = validator\r\n            .validate(databaseEnabledTenants);\r\n    Assertions.assertEquals(0, constraintViolations.size()); // &lt;- Expect this to fail!\r\n  }\r\n\r\n  private File getMultiTenantTestConfiguration(String filename) throws URISyntaxException {\r\n    ClassLoader classLoader = getClass().getClassLoader();\r\n    URL resource = classLoader.getResource(filename);\r\n    File file = new File(resource.toURI());\r\n    return file;\r\n  }\r\n}\r\n```\r\n\r\n`DatabaseEnabledTenants.java`:\r\n```\r\n@Valid\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;multi-tenancy&quot;)\r\npublic class DatabaseEnabledTenants {\r\n\r\n  @Valid\r\n  @NotNull private Map&lt;String, DatabaseEnabledTenant&gt; tenants = new HashMap&lt;&gt;();\r\n\r\n  public Map&lt;String, DatabaseEnabledTenant&gt; getTenants() {\r\n    return tenants;\r\n  }\r\n\r\n  public void setTenants(Map&lt;String, DatabaseEnabledTenant&gt; tenants) {\r\n    this.tenants = tenants;\r\n  }\r\n}\r\n```\r\n\r\n`DatabaseEnabledTenant.java`:\r\n```\r\n@Valid\r\npublic class DatabaseEnabledTenant extends TenantDetails {\r\n\r\n  @Valid\r\n  @NotNull private Configuration configuration;\r\n\r\n  /** Empty constructor, values populated later. */\r\n  public DatabaseEnabledTenant() {}\r\n\r\n  public Configuration getConfiguration() {\r\n    return configuration;\r\n  }\r\n\r\n  public void setConfiguration(Configuration configuration) {\r\n    this.configuration = configuration;\r\n  }\r\n}\r\n```\r\n\r\n`Configuration.java`:\r\n```\r\npublic class Configuration {\r\n\r\n  @NotNull private Database database;\r\n\r\n  public Configuration() {}\r\n\r\n  public Database getDatabase() {\r\n    return database;\r\n  }\r\n\r\n  public void setDatabase(Database database) {\r\n    this.database = database;\r\n  }\r\n}\r\n```\r\n\r\n`Database.java`:\r\n```\r\npublic class Database {\r\n\r\n  @JsonProperty(&quot;url&quot;)\r\n  @NotBlank(message = &quot;RL must not be blank in tenant configuration&quot;)\r\n  @SchemaNameInJdbcUrlConstraint\r\n  private String jdbcUrl;\r\n\r\n  @NotBlank(message = &quot;Database username must not be blank in tenant configuration&quot;)\r\n  private String username;\r\n\r\n  @NotNull(message = &quot;Database password must not be null in tenant configuration&quot;)\r\n  private String password;\r\n\r\n  public Database() {}\r\n\r\n  public String getUrl() {\r\n    return url;\r\n  }\r\n\r\n  public void setUrl(String url) {\r\n    this.url = url;\r\n  }\r\n\r\n  public String getUsername() {\r\n    return username;\r\n  }\r\n\r\n  public void setUsername(String username) {\r\n    this.username = username;\r\n  }\r\n\r\n  public String getPassword() {\r\n    return password;\r\n  }\r\n\r\n  public void setPassword(String password) {\r\n    this.password = password;\r\n  }\r\n}\r\n```","title":"Why no constraint violations found using javax.validation.Validator? When object not populated with values","body":"<p><code>multi-tenant-database-config-invalid-no-schema.yml</code>:</p>\n<pre><code>tenants:\n  &quot;001&quot;:\n    tenantId: &quot;001&quot;\n    configuration:\n      database:\n        url: &quot;jdbc:postgresql://localhost:5432/postgres?currentSchema=001&quot;\n        username: &quot;postgres&quot;\n</code></pre>\n<p>J-Unit class:</p>\n<pre><code>public class AppTest {\n\n  @Test\n  public void testInvalid() throws Exception {\n\n    Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\n\n    File multiTenantConfigurationFile = getMultiTenantTestConfiguration(&quot;config/multi-tenant-database-config-invalid-no-schema.yml&quot;);\n\n    DatabaseEnabledTenants databaseEnabledTenants = objectMapper.readValue(multiTenantConfigurationFile, DatabaseEnabledTenants.class);\n\n    Set&lt;ConstraintViolation&lt;DatabaseEnabledTenants&gt;&gt; constraintViolations = validator\n            .validate(databaseEnabledTenants);\n    Assertions.assertEquals(0, constraintViolations.size()); // &lt;- Expect this to fail!\n  }\n\n  private File getMultiTenantTestConfiguration(String filename) throws URISyntaxException {\n    ClassLoader classLoader = getClass().getClassLoader();\n    URL resource = classLoader.getResource(filename);\n    File file = new File(resource.toURI());\n    return file;\n  }\n}\n</code></pre>\n<p><code>DatabaseEnabledTenants.java</code>:</p>\n<pre><code>@Valid\n@Component\n@ConfigurationProperties(prefix = &quot;multi-tenancy&quot;)\npublic class DatabaseEnabledTenants {\n\n  @Valid\n  @NotNull private Map&lt;String, DatabaseEnabledTenant&gt; tenants = new HashMap&lt;&gt;();\n\n  public Map&lt;String, DatabaseEnabledTenant&gt; getTenants() {\n    return tenants;\n  }\n\n  public void setTenants(Map&lt;String, DatabaseEnabledTenant&gt; tenants) {\n    this.tenants = tenants;\n  }\n}\n</code></pre>\n<p><code>DatabaseEnabledTenant.java</code>:</p>\n<pre><code>@Valid\npublic class DatabaseEnabledTenant extends TenantDetails {\n\n  @Valid\n  @NotNull private Configuration configuration;\n\n  /** Empty constructor, values populated later. */\n  public DatabaseEnabledTenant() {}\n\n  public Configuration getConfiguration() {\n    return configuration;\n  }\n\n  public void setConfiguration(Configuration configuration) {\n    this.configuration = configuration;\n  }\n}\n</code></pre>\n<p><code>Configuration.java</code>:</p>\n<pre><code>public class Configuration {\n\n  @NotNull private Database database;\n\n  public Configuration() {}\n\n  public Database getDatabase() {\n    return database;\n  }\n\n  public void setDatabase(Database database) {\n    this.database = database;\n  }\n}\n</code></pre>\n<p><code>Database.java</code>:</p>\n<pre><code>public class Database {\n\n  @JsonProperty(&quot;url&quot;)\n  @NotBlank(message = &quot;RL must not be blank in tenant configuration&quot;)\n  @SchemaNameInJdbcUrlConstraint\n  private String jdbcUrl;\n\n  @NotBlank(message = &quot;Database username must not be blank in tenant configuration&quot;)\n  private String username;\n\n  @NotNull(message = &quot;Database password must not be null in tenant configuration&quot;)\n  private String password;\n\n  public Database() {}\n\n  public String getUrl() {\n    return url;\n  }\n\n  public void setUrl(String url) {\n    this.url = url;\n  }\n\n  public String getUsername() {\n    return username;\n  }\n\n  public void setUsername(String username) {\n    this.username = username;\n  }\n\n  public String getPassword() {\n    return password;\n  }\n\n  public void setPassword(String password) {\n    this.password = password;\n  }\n}\n</code></pre>\n"},{"tags":["java","security","ssl"],"answers":[{"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664995980,"creation_date":1664995980,"answer_id":73965062,"question_id":73958582,"body_markdown":"Looks like SO is dead these days.\r\n\r\nSo I&#39;ve found the answer : the security properties displayed by the code above are the right ones and no they don&#39;t take into account system properties and Security.setProperty(...).\r\n\r\nTo override a security property, u need to put it in a file (my-new-security-props.security) and add this system property :\r\n\r\n    -Djava.security.properties=/full/path/to/my-new-security-props.security\r\n\r\n","title":"java : How to know the actual security properties in use?","body":"<p>Looks like SO is dead these days.</p>\n<p>So I've found the answer : the security properties displayed by the code above are the right ones and no they don't take into account system properties and Security.setProperty(...).</p>\n<p>To override a security property, u need to put it in a file (my-new-security-props.security) and add this system property :</p>\n<pre><code>-Djava.security.properties=/full/path/to/my-new-security-props.security\n</code></pre>\n"}],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664995980,"creation_date":1664963085,"question_id":73958582,"body_markdown":"What I&#39;ve tried so far, I&#39;m able to dump both system properties and &quot;security properties&quot; but clearly the security properties don&#39;t take my overriding system properties into account, it looks like it just reads &quot;java.security&quot; (see code below). I&#39;d like to know what are the actual security properties in use.\r\n\r\nFor example, in &quot;Security properties&quot; I see this :\r\n\r\n    jdk.tls.disabledAlgorithms : SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, include jdk.disabled.namedCurves\r\n\r\nand in &quot;System properties&quot;, I see this :\r\n\r\n    jdk.tls.disabledAlgorithms:SSLv3\r\n\r\nBut I have no way to know which one is the active property (the system property should override the property from java.security file though).\r\n\r\nIn my test trying to reach a legacy server using TLSv1.1, I get :\r\n\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nWhen I try to debug with `-Djava.security.debug=properties`, I get :\r\n\r\n    properties: reading security properties file: /opt/java/svr_openjdk11-11.0.16/conf/security/java.security\r\n    properties: {(...) jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, include jdk.disabled.namedCurves (...)}\r\n    properties: java.security.disableSystemPropertiesFile=false\r\n    properties: security.useSystemPropertiesFile=false\r\n    properties: System security property support disabled by user.\r\n    properties: WARNING: FIPS mode support can not be enabled without system security properties being enabled.\r\n\r\nSo it looks like the property known by java is the one from java.security and not the one passed in command line as system property.\r\n\r\n``` java\r\n\t\tSystem.out.println(&quot;=== System properties ===&quot;);\r\n\t\tProperties properties = System.getProperties();\r\n\t\tproperties.forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v));\r\n\r\n\t\tSystem.out.println(&quot;=== Security properties ===&quot;);\t\t\r\n\t\tField f = null;\r\n\t\ttry {\r\n\t\t\tf = Security.class.getDeclaredField(&quot;props&quot;);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\tProperties allProps = (Properties) f.get(null);\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tEnumeration&lt;String&gt; propertyNames = (Enumeration&lt;String&gt;) allProps.propertyNames();\r\n\t\t\twhile (propertyNames.hasMoreElements()) {\r\n\t\t\t\tString propertyName = propertyNames.nextElement();\r\n\t\t\t\tSystem.out.println(propertyName + &quot; : &quot; + allProps.getProperty(propertyName));\r\n\t\t\t}\t\t\t\r\n\t\t} catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\nUPDATE : I&#39;ve just added :\r\n``` java\r\nSecurity.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;SSLv3&quot;);\r\n```\r\nbefore the display of security properties, and it looks like it&#39;s just ignored, the &quot;jdk.tls.disabledAlgorithms&quot; property still displays the value from java.security file.","title":"java : How to know the actual security properties in use?","body":"<p>What I've tried so far, I'm able to dump both system properties and &quot;security properties&quot; but clearly the security properties don't take my overriding system properties into account, it looks like it just reads &quot;java.security&quot; (see code below). I'd like to know what are the actual security properties in use.</p>\n<p>For example, in &quot;Security properties&quot; I see this :</p>\n<pre><code>jdk.tls.disabledAlgorithms : SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, include jdk.disabled.namedCurves\n</code></pre>\n<p>and in &quot;System properties&quot;, I see this :</p>\n<pre><code>jdk.tls.disabledAlgorithms:SSLv3\n</code></pre>\n<p>But I have no way to know which one is the active property (the system property should override the property from java.security file though).</p>\n<p>In my test trying to reach a legacy server using TLSv1.1, I get :</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>When I try to debug with <code>-Djava.security.debug=properties</code>, I get :</p>\n<pre><code>properties: reading security properties file: /opt/java/svr_openjdk11-11.0.16/conf/security/java.security\nproperties: {(...) jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, include jdk.disabled.namedCurves (...)}\nproperties: java.security.disableSystemPropertiesFile=false\nproperties: security.useSystemPropertiesFile=false\nproperties: System security property support disabled by user.\nproperties: WARNING: FIPS mode support can not be enabled without system security properties being enabled.\n</code></pre>\n<p>So it looks like the property known by java is the one from java.security and not the one passed in command line as system property.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        System.out.println(&quot;=== System properties ===&quot;);\n        Properties properties = System.getProperties();\n        properties.forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v));\n\n        System.out.println(&quot;=== Security properties ===&quot;);      \n        Field f = null;\n        try {\n            f = Security.class.getDeclaredField(&quot;props&quot;);\n            f.setAccessible(true);\n            Properties allProps = (Properties) f.get(null);\n            @SuppressWarnings(&quot;unchecked&quot;)\n            Enumeration&lt;String&gt; propertyNames = (Enumeration&lt;String&gt;) allProps.propertyNames();\n            while (propertyNames.hasMoreElements()) {\n                String propertyName = propertyNames.nextElement();\n                System.out.println(propertyName + &quot; : &quot; + allProps.getProperty(propertyName));\n            }           \n        } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>UPDATE : I've just added :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;SSLv3&quot;);\n</code></pre>\n<p>before the display of security properties, and it looks like it's just ignored, the &quot;jdk.tls.disabledAlgorithms&quot; property still displays the value from java.security file.</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1487356685,"post_id":42305075,"comment_id":71765073,"body_markdown":"`but this approach has its limitations` - what limitations?","body":"<code>but this approach has its limitations</code> - what limitations?"},{"owner":{"account_id":3181490,"reputation":111,"user_id":2701720,"accept_rate":14,"display_name":"Jim"},"score":0,"creation_date":1487357115,"post_id":42305075,"comment_id":71765294,"body_markdown":"I was not able to transfer between applications with successive button clicks on the device. I may be wrong, however.","body":"I was not able to transfer between applications with successive button clicks on the device. I may be wrong, however."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1487357329,"post_id":42305075,"comment_id":71765412,"body_markdown":"You&#39;ll have to setup the bluetooth monitor as a background service on phone, from there its just which app launch intent to fire.","body":"You&#39;ll have to setup the bluetooth monitor as a background service on phone, from there its just which app launch intent to fire."}],"answers":[{"tags":[],"owner":{"account_id":338690,"reputation":424,"user_id":667706,"accept_rate":80,"display_name":"Tbadams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487359313,"creation_date":1487359313,"answer_id":42305852,"question_id":42305075,"body_markdown":"There should be a number of ways to get what you want, depending on your circumstances.  We can provide more help for specifics if you post some of the code you&#39;re currently using to start the apps. It never hurts to [review the basics][1] of using Intents to start Activities.\r\n\r\nJust guessing, but you may need to [bring the requested activity to the foreground][2] if it has already started and something else has focus.\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/intents/sending.html\r\n  [2]: https://stackoverflow.com/questions/2232238/how-to-bring-an-activity-to-foreground-top-of-stack","title":"Triggering an Application launch from bluetooth device","body":"<p>There should be a number of ways to get what you want, depending on your circumstances.  We can provide more help for specifics if you post some of the code you're currently using to start the apps. It never hurts to <a href=\"https://developer.android.com/training/basics/intents/sending.html\" rel=\"nofollow noreferrer\">review the basics</a> of using Intents to start Activities.</p>\n\n<p>Just guessing, but you may need to <a href=\"https://stackoverflow.com/questions/2232238/how-to-bring-an-activity-to-foreground-top-of-stack\">bring the requested activity to the foreground</a> if it has already started and something else has focus.</p>\n"}],"owner":{"account_id":3181490,"reputation":111,"user_id":2701720,"accept_rate":14,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664995757,"creation_date":1487356279,"question_id":42305075,"body_markdown":"I have a Bluetooth device that I can connect to an android phone, and I need to launch a specific application when a certain button is pressed on the Bluetooth Device. \r\n\r\nSo on press A--&gt; Application A needs to be opened. \r\n\r\nAs of now, I am attempting to build an android application which can scan for and connect to the bluetooth device, with a set of built-in keymaps (A-&gt;Application A, etc), and the application would open up the application corresponding to the keymap, but this approach has its limitations in that I was not able to successively select buttons to transfer between apps.\r\n\r\nWould there be a way to directly interact with the android kernal from BlueTooth to try to directly open up desired applications?  ","title":"Triggering an Application launch from bluetooth device","body":"<p>I have a Bluetooth device that I can connect to an android phone, and I need to launch a specific application when a certain button is pressed on the Bluetooth Device. </p>\n\n<p>So on press A--> Application A needs to be opened. </p>\n\n<p>As of now, I am attempting to build an android application which can scan for and connect to the bluetooth device, with a set of built-in keymaps (A->Application A, etc), and the application would open up the application corresponding to the keymap, but this approach has its limitations in that I was not able to successively select buttons to transfer between apps.</p>\n\n<p>Would there be a way to directly interact with the android kernal from BlueTooth to try to directly open up desired applications?  </p>\n"},{"tags":["java","jvm","jvm-bytecode"],"answers":[{"comments":[{"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"score":0,"creation_date":1664997783,"post_id":73965007,"comment_id":130598941,"body_markdown":"And just to confirm, it also wouldn&#39;t work to have the stackmap be empty (meaning locals[0] is not even specified at all), correct?","body":"And just to confirm, it also wouldn&#39;t work to have the stackmap be empty (meaning locals[0] is not even specified at all), correct?"},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1665015009,"post_id":73965007,"comment_id":130602686,"body_markdown":"Empty locals won&#39;t work. If it did, then it would defeat the verification capabilities.","body":"Empty locals won&#39;t work. If it did, then it would defeat the verification capabilities."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665065480,"post_id":73965007,"comment_id":130616160,"body_markdown":"@Archie the key point here is that *the absence of an `uninitializedThis`* in the stackmap is enough to clear the `flagThisUninit` which conflicts with the exception handler frame. It doesn&#39;t matter whether you have an initialized this or no this in the frame (there is, by the way, no difference between dropping the variable or setting it to top; the former is just a more compact way to express the same thing).","body":"@Archie the key point here is that <i>the absence of an <code>uninitializedThis</code></i> in the stackmap is enough to clear the <code>flagThisUninit</code> which conflicts with the exception handler frame. It doesn&#39;t matter whether you have an initialized this or no this in the frame (there is, by the way, no difference between dropping the variable or setting it to top; the former is just a more compact way to express the same thing)."}],"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664995667,"creation_date":1664995667,"answer_id":73965007,"question_id":73962302,"body_markdown":"Short answer: No. The problem is that the state of the new object is non-deterministic when the exception handler is run. Did the exception occur before bci 1, in which case the object is still uninitialized, or did the exception occur at bci 4, in which case the object is initialized?\r\n\r\nIn general, it&#39;s unlikely for an exception to be thrown by a load or store instruction, but it can happen when if Thread.stop method is called at the right moment. Note that the stop method is being removed in Java 20, but debuggers might still be able to stop threads in a similar fashion.\r\n\r\nI was curious to see what would happen if the stack map was hacked such that the object type was `top`, but it failed to verify. The problem is that `top` doesn&#39;t match `uninitialized this` or a fully initialized instance.","title":"Is it possible for a Java classfile StackMap to model a &quot;broken&quot; this instance?","body":"<p>Short answer: No. The problem is that the state of the new object is non-deterministic when the exception handler is run. Did the exception occur before bci 1, in which case the object is still uninitialized, or did the exception occur at bci 4, in which case the object is initialized?</p>\n<p>In general, it's unlikely for an exception to be thrown by a load or store instruction, but it can happen when if Thread.stop method is called at the right moment. Note that the stop method is being removed in Java 20, but debuggers might still be able to stop threads in a similar fashion.</p>\n<p>I was curious to see what would happen if the stack map was hacked such that the object type was <code>top</code>, but it failed to verify. The problem is that <code>top</code> doesn't match <code>uninitialized this</code> or a fully initialized instance.</p>\n"}],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73965007,"answer_count":1,"score":2,"last_activity_date":1664995667,"creation_date":1664981607,"question_id":73962302,"body_markdown":"In [this answer][1] it is stated:\r\n\r\n&gt;  It is impossible to create an exception handler covering the entire constructor, including the super(‚Ä¶), with stack maps.\r\n\r\nI mostly believe the above statement but still have a lingering doubt, because later (in a comment) it&#39;s stated:\r\n\r\n&gt; Generally, frames do not need to describe what has been there in the previous code, but what will be used in the subsequent code. \r\n\r\nThis makes it sound like it *might* be possible for the StackMap to simply omit the &quot;this&quot; instance, and then as long as the exception handler code doesn&#39;t touch it, it would still verify.\r\n\r\nTo be specific, I know you can&#39;t compile this code, but suppose you could:\r\n```java\r\npublic class TryCtor {\r\n    public TryCtor() {\r\n        try {\r\n            super();\r\n        } catch (Error e) {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n}\r\n```\r\nNote that `this` is not referenced at all in the exception handler.\r\n\r\nYou would then get a classfile that contained bytecode looking like this:\r\n```\r\npublic class TryCtor {\r\n  TryCtor();\r\n    descriptor: ()V\r\n    Code:\r\n       0: aload_0\r\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4: goto          16\r\n       7: astore_1\r\n       8: new           #9                  // class java/lang/RuntimeException\r\n      11: dup\r\n      12: invokespecial #11                 // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\r\n      15: athrow\r\n      16: return\r\n    Exception table:\r\n       from    to  target type\r\n           0     4     7   Class java/lang/Error\r\n}\r\n```\r\n\r\nSo my question is: *Is it correct to say that there&#39;s no possible StackMap that could be included in such a classfile that would allow it to verify?*\r\n\r\nEven if you specified `top`, or an empty stack, or whatever?\r\n\r\nFor the purposes of this question, assume a modern JVM version using StackMaps.\r\n\r\nThanks.\r\n\r\n  [1]: https://stackoverflow.com/a/69554673/263801","title":"Is it possible for a Java classfile StackMap to model a &quot;broken&quot; this instance?","body":"<p>In <a href=\"https://stackoverflow.com/a/69554673/263801\">this answer</a> it is stated:</p>\n<blockquote>\n<p>It is impossible to create an exception handler covering the entire constructor, including the super(‚Ä¶), with stack maps.</p>\n</blockquote>\n<p>I mostly believe the above statement but still have a lingering doubt, because later (in a comment) it's stated:</p>\n<blockquote>\n<p>Generally, frames do not need to describe what has been there in the previous code, but what will be used in the subsequent code.</p>\n</blockquote>\n<p>This makes it sound like it <em>might</em> be possible for the StackMap to simply omit the &quot;this&quot; instance, and then as long as the exception handler code doesn't touch it, it would still verify.</p>\n<p>To be specific, I know you can't compile this code, but suppose you could:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TryCtor {\n    public TryCtor() {\n        try {\n            super();\n        } catch (Error e) {\n            throw new RuntimeException();\n        }\n    }\n}\n</code></pre>\n<p>Note that <code>this</code> is not referenced at all in the exception handler.</p>\n<p>You would then get a classfile that contained bytecode looking like this:</p>\n<pre><code>public class TryCtor {\n  TryCtor();\n    descriptor: ()V\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: goto          16\n       7: astore_1\n       8: new           #9                  // class java/lang/RuntimeException\n      11: dup\n      12: invokespecial #11                 // Method java/lang/RuntimeException.&quot;&lt;init&gt;&quot;:()V\n      15: athrow\n      16: return\n    Exception table:\n       from    to  target type\n           0     4     7   Class java/lang/Error\n}\n</code></pre>\n<p>So my question is: <em>Is it correct to say that there's no possible StackMap that could be included in such a classfile that would allow it to verify?</em></p>\n<p>Even if you specified <code>top</code>, or an empty stack, or whatever?</p>\n<p>For the purposes of this question, assume a modern JVM version using StackMaps.</p>\n<p>Thanks.</p>\n"},{"tags":["java","project"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1664994824,"post_id":73964821,"comment_id":130597984,"body_markdown":"Eclipse is a free and open source IDE for Java. You may wanna check IntelliJ and NetBeans","body":"Eclipse is a free and open source IDE for Java. You may wanna check IntelliJ and NetBeans"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1664995040,"post_id":73964821,"comment_id":130598052,"body_markdown":"What specific problem are you running into? Have you actually tried anything yet?","body":"What specific problem are you running into? Have you actually tried anything yet?"}],"answers":[{"tags":[],"owner":{"account_id":18820005,"reputation":26,"user_id":13726208,"display_name":"Dylan Lam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664995215,"creation_date":1664995185,"answer_id":73964925,"question_id":73964821,"body_markdown":"If you already have the source code,\r\n\r\n 1. Open a command prompt window then cd to the directory where you saved the java program. \r\n\r\n    For example, JavaProgram.java is in C:/\r\n\r\n 2. Type `&#39;javac JavaProgram.java&#39;` and enter to compile your code.\r\n 3. Now type `&#39;java JavaProgram&#39;` to run your program.\r\n 4. You will be able to see the result printed on the window.\r\n\r\nGood luck :)","title":"How can I make project in java","body":"<p>If you already have the source code,</p>\n<ol>\n<li><p>Open a command prompt window then cd to the directory where you saved the java program.</p>\n<p>For example, JavaProgram.java is in C:/</p>\n</li>\n<li><p>Type <code>'javac JavaProgram.java'</code> and enter to compile your code.</p>\n</li>\n<li><p>Now type <code>'java JavaProgram'</code> to run your program.</p>\n</li>\n<li><p>You will be able to see the result printed on the window.</p>\n</li>\n</ol>\n<p>Good luck :)</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664995200,"creation_date":1664995200,"answer_id":73964930,"question_id":73964821,"body_markdown":"&gt; we have source code\r\n\r\nYou&#39;ll need to compile it.\r\n\r\nThen you need to execute it. That could involve web containers with WAR or standalone, executable Java JARs, or directly execute a class file. Without seeing your code it&#39;s hard to answer that, but you wouldn&#39;t use an IDE to actually deploy/run your code outside of individual development. \r\n\r\nYou&#39;ll also need some server to run it on. That&#39;s not unique to Java.\r\n\r\nRegarding the original question: &quot;Make a project&quot; - you could use Maven Archetypes or Spring and Quarkus have project starter websites, for example... ","title":"How can I make project in java","body":"<blockquote>\n<p>we have source code</p>\n</blockquote>\n<p>You'll need to compile it.</p>\n<p>Then you need to execute it. That could involve web containers with WAR or standalone, executable Java JARs, or directly execute a class file. Without seeing your code it's hard to answer that, but you wouldn't use an IDE to actually deploy/run your code outside of individual development.</p>\n<p>You'll also need some server to run it on. That's not unique to Java.</p>\n<p>Regarding the original question: &quot;Make a project&quot; - you could use Maven Archetypes or Spring and Quarkus have project starter websites, for example...</p>\n"}],"owner":{"account_id":26538413,"reputation":3,"user_id":20169560,"display_name":"stnew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1664995842,"accepted_answer_id":73964925,"answer_count":2,"score":-2,"last_activity_date":1664995527,"creation_date":1664994641,"question_id":73964821,"body_markdown":"We have to do java project like a management system and we have source code but the question is how to run it and where? anyone knows?\r\n\r\nQueries\r\n\r\n- IDE\r\n- How to run it?\r\n","title":"How can I make project in java","body":"<p>We have to do java project like a management system and we have source code but the question is how to run it and where? anyone knows?</p>\n<p>Queries</p>\n<ul>\n<li>IDE</li>\n<li>How to run it?</li>\n</ul>\n"},{"tags":["java","user-interface","intellij-idea","wicket","wicket-8"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1664986104,"post_id":73963000,"comment_id":130595165,"body_markdown":"If the compilation fails, you project is likely missing some dependency. Make sure all the required jars are present and the libraries your project uses are added in `pom.xml` dependencies. Since the issue occurs on Maven build, the issue has nothing to do with IntelliJ IDEA and you should not set this tag in your question.","body":"If the compilation fails, you project is likely missing some dependency. Make sure all the required jars are present and the libraries your project uses are added in <code>pom.xml</code> dependencies. Since the issue occurs on Maven build, the issue has nothing to do with IntelliJ IDEA and you should not set this tag in your question."}],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664994911,"creation_date":1664994911,"answer_id":73964873,"question_id":73963000,"body_markdown":"wicket-event.js has been merged into wicket-ajax.js for Wicket 9.0.0, I believe.\r\n\r\nSo, you can safely remove this line!","title":"Reciving error on getWicketEventReference wicket 8","body":"<p>wicket-event.js has been merged into wicket-ajax.js for Wicket 9.0.0, I believe.</p>\n<p>So, you can safely remove this line!</p>\n"}],"owner":{"account_id":20511815,"reputation":1,"user_id":15053406,"display_name":"Orhan Taghizadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664994911,"creation_date":1664984772,"question_id":73963000,"body_markdown":"I receiving an error that the getWicketEventReference method does not exist and cannot find the symbol, the error:\r\ncannot find symbol\r\nsymbol:   method getWicketEventReference()\r\nlocation: class org.apache.wicket.settings.JavaScriptLibrarySettings\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iYGzW.png","title":"Reciving error on getWicketEventReference wicket 8","body":"<p>I receiving an error that the getWicketEventReference method does not exist and cannot find the symbol, the error:\ncannot find symbol\nsymbol:   method getWicketEventReference()\nlocation: class org.apache.wicket.settings.JavaScriptLibrarySettings\n<a href=\"https://i.stack.imgur.com/iYGzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYGzW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","drools","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661299130,"creation_date":1661299130,"answer_id":73466084,"question_id":73454811,"body_markdown":"Drools abandoned proper semver and began introducing breaking changes with minor version increments in 7.44. You&#39;re crossing that boundary, and being bitten by at least one of these issues.\r\n\r\nYou need to review the release notes for all intermediate releases between your original and your target version. At minimum, you&#39;re missing a dependency (`drools-engine` or `drools-engine-classic`) from the 7.45 release. Note also the descoping of the eclipse compiler (if relevant) in 7.47.\r\n\r\nUnfortunately you&#39;ve got so many exclusions going on that I&#39;m not entirely sure _what_ you&#39;re trying to do, or what you&#39;re trying to work around, so beyond pointing you at the documentation there&#39;s not much more guidance I can offer in terms of upgrade compatibility.\r\n\r\nThe release notes for each release are the &quot;New and Noteworthy in XYZ&quot; sections at the end of the official documentation:\r\nhttps://docs.drools.org/latest/drools-docs/html_single","title":"Upgrading drools from 7.23.0.Final to 7.73.0.Final giving error Session Closed","body":"<p>Drools abandoned proper semver and began introducing breaking changes with minor version increments in 7.44. You're crossing that boundary, and being bitten by at least one of these issues.</p>\n<p>You need to review the release notes for all intermediate releases between your original and your target version. At minimum, you're missing a dependency (<code>drools-engine</code> or <code>drools-engine-classic</code>) from the 7.45 release. Note also the descoping of the eclipse compiler (if relevant) in 7.47.</p>\n<p>Unfortunately you've got so many exclusions going on that I'm not entirely sure <em>what</em> you're trying to do, or what you're trying to work around, so beyond pointing you at the documentation there's not much more guidance I can offer in terms of upgrade compatibility.</p>\n<p>The release notes for each release are the &quot;New and Noteworthy in XYZ&quot; sections at the end of the official documentation:\n<a href=\"https://docs.drools.org/latest/drools-docs/html_single\" rel=\"nofollow noreferrer\">https://docs.drools.org/latest/drools-docs/html_single</a></p>\n"},{"tags":[],"owner":{"account_id":7937983,"reputation":36,"user_id":5993187,"display_name":"ami2110"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664994537,"creation_date":1664994537,"answer_id":73964797,"question_id":73454811,"body_markdown":"I also had some issues when trying to upgrade and the workaround was to remove both `drools-compiler` and `drools-core` and use `drools-engine-classic` instead. As mentioned in a previous comment, starting with 7.45 they did added some breaking changes, see https://docs.drools.org/7.45.0.Final/drools-docs/html_single/#droolsreleasenoteschapter","title":"Upgrading drools from 7.23.0.Final to 7.73.0.Final giving error Session Closed","body":"<p>I also had some issues when trying to upgrade and the workaround was to remove both <code>drools-compiler</code> and <code>drools-core</code> and use <code>drools-engine-classic</code> instead. As mentioned in a previous comment, starting with 7.45 they did added some breaking changes, see <a href=\"https://docs.drools.org/7.45.0.Final/drools-docs/html_single/#droolsreleasenoteschapter\" rel=\"nofollow noreferrer\">https://docs.drools.org/7.45.0.Final/drools-docs/html_single/#droolsreleasenoteschapter</a></p>\n"}],"owner":{"account_id":21690681,"reputation":33,"user_id":16005336,"display_name":"Rasika Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664994537,"creation_date":1661240291,"question_id":73454811,"body_markdown":"Hi I am trying to upgrade drools-compiler, drools-core, and other drools components like drools-core-dynamic, drools-decisiontables etc from 7.23.0.Final to 7.73.0.Final. But I keep getting the below error : \r\n\r\n```\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.RuntimeException: java.io.IOException: Stream Closed\r\n```\r\n\r\nLet me know how to resolve this. I am using following dependencies : \r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.mvel&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mvel2&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-templates&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;drools-bom&lt;/artifactId&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;version&gt;7.73.0.Final&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n","title":"Upgrading drools from 7.23.0.Final to 7.73.0.Final giving error Session Closed","body":"<p>Hi I am trying to upgrade drools-compiler, drools-core, and other drools components like drools-core-dynamic, drools-decisiontables etc from 7.23.0.Final to 7.73.0.Final. But I keep getting the below error :</p>\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.RuntimeException: java.io.IOException: Stream Closed\n</code></pre>\n<p>Let me know how to resolve this. I am using following dependencies :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mvel&lt;/groupId&gt;\n                    &lt;artifactId&gt;mvel2&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n                    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-templates&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\n                    &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kie&lt;/groupId&gt;\n            &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.drools&lt;/groupId&gt;\n                &lt;artifactId&gt;drools-bom&lt;/artifactId&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;version&gt;7.73.0.Final&lt;/version&gt;\n         &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1664993861,"post_id":73964591,"comment_id":130597713,"body_markdown":"If the unused generators are never instantiated, they wouldn&#39;t exist as beans in the Spring application context, so they can never be used.","body":"If the unused generators are never instantiated, they wouldn&#39;t exist as beans in the Spring application context, so they can never be used."}],"answers":[{"comments":[{"owner":{"account_id":4613776,"reputation":1517,"user_id":3741030,"display_name":"cma0014"},"score":0,"creation_date":1665001625,"post_id":73964775,"comment_id":130599988,"body_markdown":"Just to make sure I&#39;m following, this would necessitate having a key for each generator right?","body":"Just to make sure I&#39;m following, this would necessitate having a key for each generator right?"},{"owner":{"account_id":62233,"reputation":5089,"user_id":185031,"accept_rate":96,"display_name":"spa"},"score":0,"creation_date":1665044922,"post_id":73964775,"comment_id":130608332,"body_markdown":"If you want to control all individually of course. However, there&#39;s no one preventing you to use the same key for multiple beans - they will be turned on/off as group then.","body":"If you want to control all individually of course. However, there&#39;s no one preventing you to use the same key for multiple beans - they will be turned on/off as group then."},{"owner":{"account_id":4613776,"reputation":1517,"user_id":3741030,"display_name":"cma0014"},"score":0,"creation_date":1665067078,"post_id":73964775,"comment_id":130616808,"body_markdown":"I also saw you can define custom conditionals that employ some logic, so perhaps I can configure a list of &quot;keys&quot; and check if the one relevant to the bean is present in that list as the condition","body":"I also saw you can define custom conditionals that employ some logic, so perhaps I can configure a list of &quot;keys&quot; and check if the one relevant to the bean is present in that list as the condition"}],"tags":[],"owner":{"account_id":62233,"reputation":5089,"user_id":185031,"accept_rate":96,"display_name":"spa"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664994462,"creation_date":1664994462,"answer_id":73964775,"question_id":73964591,"body_markdown":"This is actually quite simple. The term here is &quot;Conditional beans&quot;.\r\n\r\n```java\r\n@Service\r\n@ConditionalOnProperty(value=&quot;a.b.c&quot;, havingValue = &quot;true&quot;)\r\npublic class FromFileObjectGenerator implements IObjectGenerator {\r\n   //\r\n}\r\n```\r\n\r\nThis will tell the system to only create the bean if the key &quot;a.b.c&quot; in the application.properties is set to &quot;true&quot;. There are a lot more `@ConditionalOn...` annotations, check https://www.baeldung.com/spring-conditional-annotations.","title":"Java Spring - Dynamically inject multiple different interface implementations based on configuration","body":"<p>This is actually quite simple. The term here is &quot;Conditional beans&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@ConditionalOnProperty(value=&quot;a.b.c&quot;, havingValue = &quot;true&quot;)\npublic class FromFileObjectGenerator implements IObjectGenerator {\n   //\n}\n</code></pre>\n<p>This will tell the system to only create the bean if the key &quot;a.b.c&quot; in the application.properties is set to &quot;true&quot;. There are a lot more <code>@ConditionalOn...</code> annotations, check <a href=\"https://www.baeldung.com/spring-conditional-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-conditional-annotations</a>.</p>\n"}],"owner":{"account_id":4613776,"reputation":1517,"user_id":3741030,"display_name":"cma0014"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73964775,"answer_count":1,"score":0,"last_activity_date":1664994462,"creation_date":1664993467,"question_id":73964591,"body_markdown":"Suppose I have an interface (Note: Object is used for example simplicity, not in practice)\r\n\r\n```java\r\npublic interface IObjectGenerator {\r\n    public List&lt;Object&gt; getObjectsFromThing(String thing);\r\n}\r\n```\r\n\r\nand multiple implementations of this interface\r\n\r\n```java\r\n@Service\r\npublic class FromFileObjectGenerator implements IObjectGenerator {\r\n    // File interaction supporting vars and functions\r\n\r\n    public List&lt;Object&gt; getObjectsFromThing(String thing){\r\n        // Use file stuff to generate and return list of objects\r\n    }\r\n}\r\n\r\n@Service\r\npublic class FromDatabaseObjectGenerator implements IObjectGenerator {\r\n    // DB interaction supporting vars and functions\r\n    \r\n    public List&lt;Object&gt; getObjectsFromThing(String thing) {\r\n        // Use DB stuff to generate and return list of objects\r\n    }\r\n}\r\n\r\n@Service\r\npublic class FromWebObjectGenerator implements IObjectGenerator {\r\n    // Web interaction supporting vars and functions\r\n    \r\n    public List&lt;Object&gt; getObjectsFromThing(String thing) {\r\n        // Use Web stuff to generate and return list of objects\r\n    }\r\n}\r\n```\r\n\r\nSometimes I only want to leverage the file based generator, sometimes the file and db, or db and web, or all of them, etc.\r\n\r\nSo, I think I need to be able to set which implementations to inject, from at least one of them, up to all of them (and any that may be created in the future), and any combination in between. This needs to be done in configuration file (like application.properties). \r\n\r\n```java\r\npublic class GeneratorUser {\r\n    private List&lt;IObjectGenerator&gt; generators;\r\n\r\n    @Autowired\r\n    public GeneratorUser(List&lt;IObjectGenerator&gt; generators){\r\n        this.generators = generators;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve seen the possibility of making an overarching management class that instantiates all of the generator, injecting the management class, and have it only return the generators necessary when queried, but I&#39;d prefer to prevent instantiating the unused generators at all if possible. Is there an easy way to go about this?","title":"Java Spring - Dynamically inject multiple different interface implementations based on configuration","body":"<p>Suppose I have an interface (Note: Object is used for example simplicity, not in practice)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IObjectGenerator {\n    public List&lt;Object&gt; getObjectsFromThing(String thing);\n}\n</code></pre>\n<p>and multiple implementations of this interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class FromFileObjectGenerator implements IObjectGenerator {\n    // File interaction supporting vars and functions\n\n    public List&lt;Object&gt; getObjectsFromThing(String thing){\n        // Use file stuff to generate and return list of objects\n    }\n}\n\n@Service\npublic class FromDatabaseObjectGenerator implements IObjectGenerator {\n    // DB interaction supporting vars and functions\n    \n    public List&lt;Object&gt; getObjectsFromThing(String thing) {\n        // Use DB stuff to generate and return list of objects\n    }\n}\n\n@Service\npublic class FromWebObjectGenerator implements IObjectGenerator {\n    // Web interaction supporting vars and functions\n    \n    public List&lt;Object&gt; getObjectsFromThing(String thing) {\n        // Use Web stuff to generate and return list of objects\n    }\n}\n</code></pre>\n<p>Sometimes I only want to leverage the file based generator, sometimes the file and db, or db and web, or all of them, etc.</p>\n<p>So, I think I need to be able to set which implementations to inject, from at least one of them, up to all of them (and any that may be created in the future), and any combination in between. This needs to be done in configuration file (like application.properties).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GeneratorUser {\n    private List&lt;IObjectGenerator&gt; generators;\n\n    @Autowired\n    public GeneratorUser(List&lt;IObjectGenerator&gt; generators){\n        this.generators = generators;\n    }\n}\n</code></pre>\n<p>I've seen the possibility of making an overarching management class that instantiates all of the generator, injecting the management class, and have it only return the generators necessary when queried, but I'd prefer to prevent instantiating the unused generators at all if possible. Is there an easy way to go about this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1664994642,"post_id":73964757,"comment_id":130597932,"body_markdown":"Will you have only an empty constructor? If you have more than one constructor, you may want to assign the value when declaring the attribute and change the value if needed in each constructor","body":"Will you have only an empty constructor? If you have more than one constructor, you may want to assign the value when declaring the attribute and change the value if needed in each constructor"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664994648,"post_id":73964757,"comment_id":130597934,"body_markdown":"There is no difference in the majority of cases.","body":"There is no difference in the majority of cases."},{"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"score":0,"creation_date":1664994728,"post_id":73964757,"comment_id":130597956,"body_markdown":"Most of the time, I will only have one constructor which is not likely to be empty.","body":"Most of the time, I will only have one constructor which is not likely to be empty."},{"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"score":0,"creation_date":1664994972,"post_id":73964757,"comment_id":130598029,"body_markdown":"If there is no difference, I suppose it would be best to set it when declaring the attribute to remove one line of code.","body":"If there is no difference, I suppose it would be best to set it when declaring the attribute to remove one line of code."}],"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664994348,"creation_date":1664994348,"question_id":73964757,"body_markdown":"In other words, should I set the value in the constructor :\r\n```java\r\npublic class Game {\r\n    private int players;\r\n\r\n    public Game() {\r\n        this.players = 2;\r\n    }\r\n}\r\n```\r\nor set it as soon as the attribute is declared:\r\n```java\r\npublic class Game {\r\n    private int players = 2;\r\n\r\n    public Game() {\r\n    }\r\n}\r\n```","title":"Is it best to define the default value of a class attribute when declaring it or when constructing the object? [Java]","body":"<p>In other words, should I set the value in the constructor :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Game {\n    private int players;\n\n    public Game() {\n        this.players = 2;\n    }\n}\n</code></pre>\n<p>or set it as soon as the attribute is declared:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Game {\n    private int players = 2;\n\n    public Game() {\n    }\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","log4j2"],"owner":{"account_id":11245577,"reputation":109,"user_id":8248447,"accept_rate":100,"display_name":"Marina Rappoport"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664994218,"creation_date":1664994218,"question_id":73964734,"body_markdown":"I am trying to set up ecs-logging for java project, using the guide https://www.elastic.co/guide/en/ecs-logging/java/1.x/setup.html\r\n\r\nLogs is been writing correctly when I run the project inside IntelleJ idea, but when I run the jar I got the exception:\r\n\r\n    ERROR File contains an invalid element or attribute &quot;EcsLayout&quot;\r\n\r\n And no log is being created. I use java 17, but also tried 11 &amp; 15 - no difference.\r\n\r\nFor ecs-logs I added 2 dependencies:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j2-ecs-layout&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ecs-logging-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe log4j2.xml looks like:\r\n\r\n    &lt;Configuration status=&quot;INFO&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;File name=&quot;FILE_JSON&quot; fileName=&quot;app-logs/dataloader.log&quot; immediateFlush=&quot;false&quot;&gt;\r\n                &lt;EcsLayout serviceName=&quot;Dataloader&quot;/&gt;\r\n            &lt;/File&gt;\r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;com.idomoo&quot; level=&quot;${env:LOG_LEVEL}&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;FILE_JSON&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n            &lt;Logger name=&quot;*&quot; level=&quot;ERROR&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;FILE_JSON&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n            &lt;Root level=&quot;ERROR&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;FILE_JSON&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nI guess that there is some kind of dependency conflict (because an empty project with the same configuration works fine), but I can&#39;t resolve. Any help is much appreciated.\r\n\r\nFor log4j2 I use dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAlso the project contains lot of &#39;software.amazon.awssdk&#39; dependencies, mysql-connector-java, mongodb-driver-sync, org.apache.commons.","title":"ERROR File contains an invalid element or attribute &quot;EcsLayout&quot;","body":"<p>I am trying to set up ecs-logging for java project, using the guide <a href=\"https://www.elastic.co/guide/en/ecs-logging/java/1.x/setup.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/ecs-logging/java/1.x/setup.html</a></p>\n<p>Logs is been writing correctly when I run the project inside IntelleJ idea, but when I run the jar I got the exception:</p>\n<pre><code>ERROR File contains an invalid element or attribute &quot;EcsLayout&quot;\n</code></pre>\n<p>And no log is being created. I use java 17, but also tried 11 &amp; 15 - no difference.</p>\n<p>For ecs-logs I added 2 dependencies:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;co.elastic.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j2-ecs-layout&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;co.elastic.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;ecs-logging-core&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The log4j2.xml looks like:</p>\n<pre><code>&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;File name=&quot;FILE_JSON&quot; fileName=&quot;app-logs/dataloader.log&quot; immediateFlush=&quot;false&quot;&gt;\n            &lt;EcsLayout serviceName=&quot;Dataloader&quot;/&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.idomoo&quot; level=&quot;${env:LOG_LEVEL}&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE_JSON&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;*&quot; level=&quot;ERROR&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE_JSON&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Root level=&quot;ERROR&quot;&gt;\n            &lt;AppenderRef ref=&quot;FILE_JSON&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>I guess that there is some kind of dependency conflict (because an empty project with the same configuration works fine), but I can't resolve. Any help is much appreciated.</p>\n<p>For log4j2 I use dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Also the project contains lot of 'software.amazon.awssdk' dependencies, mysql-connector-java, mongodb-driver-sync, org.apache.commons.</p>\n"},{"tags":["java","jpa","spring-data-jpa","persistence","static-methods"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664993189,"post_id":73964520,"comment_id":130597493,"body_markdown":"You cant do that.","body":"You cant do that."},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664993328,"post_id":73964520,"comment_id":130597528,"body_markdown":"@talex Accessing the database in a static method is normal behavior, right? So this limitation is due to the design of Hibernate?","body":"@talex Accessing the database in a static method is normal behavior, right? So this limitation is due to the design of Hibernate?"},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664993575,"post_id":73964520,"comment_id":130597600,"body_markdown":"@talex Sorry I don&#39;t even know who caused this limitation, Spring, Hibernate, or JPA. JDBC doesn&#39;t deny me use in static methods.","body":"@talex Sorry I don&#39;t even know who caused this limitation, Spring, Hibernate, or JPA. JDBC doesn&#39;t deny me use in static methods."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1664993992,"post_id":73964520,"comment_id":130597756,"body_markdown":"It is not limitation of hibernate, but Spring. Spring work using injection. Unless you want to use static injection (which you shouldn&#39;t) you can use spring features.","body":"It is not limitation of hibernate, but Spring. Spring work using injection. Unless you want to use static injection (which you shouldn&#39;t) you can use spring features."},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665052233,"post_id":73964520,"comment_id":130611050,"body_markdown":"Why do you want it to be static in the first place? Just make it a proper bean.","body":"Why do you want it to be static in the first place? Just make it a proper bean."},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1665143972,"post_id":73964520,"comment_id":130636562,"body_markdown":"@Jens Schauder I designed this class as a utility that disables instantiation, I don&#39;t want to change the nature of the class just because I need to access the database. And I&#39;m not sure if it&#39;s better suited as a Bean.","body":"@Jens Schauder I designed this class as a utility that disables instantiation, I don&#39;t want to change the nature of the class just because I need to access the database. And I&#39;m not sure if it&#39;s better suited as a Bean."},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665147322,"post_id":73964520,"comment_id":130637771,"body_markdown":"&quot;And I&#39;m not sure if it&#39;s better suited as a Bean.&quot; It sure is. It seems to solve all the problems you seem to have just because you decide make it static in the first place.","body":"&quot;And I&#39;m not sure if it&#39;s better suited as a Bean.&quot; It sure is. It seems to solve all the problems you seem to have just because you decide make it static in the first place."}],"answers":[{"comments":[{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1665144110,"post_id":73964688,"comment_id":130636626,"body_markdown":"Thanks for your answer. I worked around the hassle temporarily by creating the Bean via the ApplicationContext.","body":"Thanks for your answer. I worked around the hassle temporarily by creating the Bean via the ApplicationContext."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664993958,"creation_date":1664993958,"answer_id":73964688,"question_id":73964520,"body_markdown":"You could try to circumvent the static limitation.\r\n\r\nYour DB access goes into a class that has no static members. Obviously now you need an instance of this class. But you define it as singleton so there is one and only one for your application.\r\n\r\nFrom your static method, get a reference to the singleton class and run the method that performs the DB lookup.","title":"How to access DB in a static method using JPA?","body":"<p>You could try to circumvent the static limitation.</p>\n<p>Your DB access goes into a class that has no static members. Obviously now you need an instance of this class. But you define it as singleton so there is one and only one for your application.</p>\n<p>From your static method, get a reference to the singleton class and run the method that performs the DB lookup.</p>\n"}],"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73964688,"answer_count":1,"score":0,"last_activity_date":1664993958,"creation_date":1664993086,"question_id":73964520,"body_markdown":"I have a class for querying ```RegionCode```(where the IMSI belongs) of ```IMSI```. Here is my code:\r\n``` Java\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class IMSI {\r\n\r\n    /**\r\n     * Query RegionCode of IMSI\r\n     */\r\n    public static String queryRegionCode(String imsi) throws IMSIQueryException {\r\n        // An HTTP call is here\r\n        return HttpUtils.doQueryRequest();\r\n    }\r\n\r\n}\r\n```\r\nThe utility class works fine. Since the HTTP requests are too frequent, I intend to save **the mapping information (immutable)** of ```IMSI``` and ```RegionCode``` to the database. So I have the following code:\r\n``` Java\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class IMSI {\r\n\r\n    @Autowired\r\n    private static RegionCodeCacheRepository repository;\r\n\r\n    /**\r\n     * Query RegionCode of IMSI\r\n     */\r\n    public static String queryRegionCode(String imsi) throws IMSIQueryException {\r\n        // Query from DB preferentially\r\n        if (repository.existsById(imsi)) return repository.getById(imsi).getRegionCode();\r\n        // Call HTTP for query, if it does not exist in DB\r\n        String regionCode = HttpUtils.doQueryRequest();\r\n        // Save RegionCode and IMSI to DB\r\n        RegionCodeCacheEntity entity = new RegionCodeCacheEntity();\r\n        entity.setId(imsi);\r\n        entity.setRegionCode(regionCode);\r\n        repository.save(entity);\r\n        // Return the RegionCode\r\n        return regionCode;\r\n    }\r\n\r\n}\r\n```\r\nThe trouble now is that Spring can&#39;t inject the ```repository``` for me because it&#39;s static. I know *Spring static injection* is a common question, but here I am just trying to access the database in a static method instead of looking for an answer to static injection(that&#39;s bad, right?). How can I solve the problem I am facing now?\r\n\r\nAny answer is appreciated and thankful :)\r\n\r\n- - - - - - - - - - - - - - - \r\n\r\nThe following is some extra information:\r\n\r\nBecause these mappings are fixed, immutable and they won&#39;t lose their information value over time, I choose to store them persistently. I didn&#39;t choose to save to Redis, files, or Java memory, as they require more work for persistent storage than databases, and since this is a small project, I don&#39;t want to introduce unnecessary complexity (like Redis). These are all my considerations, and probably they are bad or wrong. Whatever, what is the best practice for this scenario?\r\n\r\nThanks again :)","title":"How to access DB in a static method using JPA?","body":"<p>I have a class for querying <code>RegionCode</code>(where the IMSI belongs) of <code>IMSI</code>. Here is my code:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class IMSI {\n\n    /**\n     * Query RegionCode of IMSI\n     */\n    public static String queryRegionCode(String imsi) throws IMSIQueryException {\n        // An HTTP call is here\n        return HttpUtils.doQueryRequest();\n    }\n\n}\n</code></pre>\n<p>The utility class works fine. Since the HTTP requests are too frequent, I intend to save <strong>the mapping information (immutable)</strong> of <code>IMSI</code> and <code>RegionCode</code> to the database. So I have the following code:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class IMSI {\n\n    @Autowired\n    private static RegionCodeCacheRepository repository;\n\n    /**\n     * Query RegionCode of IMSI\n     */\n    public static String queryRegionCode(String imsi) throws IMSIQueryException {\n        // Query from DB preferentially\n        if (repository.existsById(imsi)) return repository.getById(imsi).getRegionCode();\n        // Call HTTP for query, if it does not exist in DB\n        String regionCode = HttpUtils.doQueryRequest();\n        // Save RegionCode and IMSI to DB\n        RegionCodeCacheEntity entity = new RegionCodeCacheEntity();\n        entity.setId(imsi);\n        entity.setRegionCode(regionCode);\n        repository.save(entity);\n        // Return the RegionCode\n        return regionCode;\n    }\n\n}\n</code></pre>\n<p>The trouble now is that Spring can't inject the <code>repository</code> for me because it's static. I know <em>Spring static injection</em> is a common question, but here I am just trying to access the database in a static method instead of looking for an answer to static injection(that's bad, right?). How can I solve the problem I am facing now?</p>\n<p>Any answer is appreciated and thankful :)</p>\n<hr />\n<p>The following is some extra information:</p>\n<p>Because these mappings are fixed, immutable and they won't lose their information value over time, I choose to store them persistently. I didn't choose to save to Redis, files, or Java memory, as they require more work for persistent storage than databases, and since this is a small project, I don't want to introduce unnecessary complexity (like Redis). These are all my considerations, and probably they are bad or wrong. Whatever, what is the best practice for this scenario?</p>\n<p>Thanks again :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664995208,"post_id":73964556,"comment_id":130598106,"body_markdown":"Can you show your loop and provide the data sample?","body":"Can you show your loop and provide the data sample?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664993507,"creation_date":1664993507,"answer_id":73964600,"question_id":73964556,"body_markdown":"You can use a nested loop to generate all the possible moves, so the bounds check only has to be written once.\r\n\r\n```java\r\nint count = 0;\r\nfor (int dx = -1; dx &lt;= 1; dx++)\r\n    for (int dy = -1; dy &lt;= 1; dy++)\r\n        if (dx != 0 || dy != 0) {\r\n            int nx = i + dx, ny = j + dy;\r\n            if (nx &gt;= 0 &amp;&amp; nx &lt; n &amp;&amp; ny &gt;= 0 &amp;&amp; ny &lt; m) count += matrix[nx][ny];\r\n        }\r\n```","title":"Less ugly way to add adjacent fields in a matrix","body":"<p>You can use a nested loop to generate all the possible moves, so the bounds check only has to be written once.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = 0;\nfor (int dx = -1; dx &lt;= 1; dx++)\n    for (int dy = -1; dy &lt;= 1; dy++)\n        if (dx != 0 || dy != 0) {\n            int nx = i + dx, ny = j + dy;\n            if (nx &gt;= 0 &amp;&amp; nx &lt; n &amp;&amp; ny &gt;= 0 &amp;&amp; ny &lt; m) count += matrix[nx][ny];\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664993581,"creation_date":1664993581,"answer_id":73964614,"question_id":73964556,"body_markdown":"You can create matrix of size n+2 x m+2. this matrix will have extra rows and columns surrounding the nxm matrix. now you fill these surrounding rows/columns with zeros.  now if you make your loops start at 1 and going until size()-2 you will always have surrounding cells","title":"Less ugly way to add adjacent fields in a matrix","body":"<p>You can create matrix of size n+2 x m+2. this matrix will have extra rows and columns surrounding the nxm matrix. now you fill these surrounding rows/columns with zeros.  now if you make your loops start at 1 and going until size()-2 you will always have surrounding cells</p>\n"}],"owner":{"account_id":17679096,"reputation":13,"user_id":13842460,"display_name":"RandomNobody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73964600,"answer_count":2,"score":0,"last_activity_date":1664993581,"creation_date":1664993260,"question_id":73964556,"body_markdown":"I&#39;m trying to add all adjacent fields (including diagonally adjacent) of each field in an nxm integer matrix. When looping through this index by index, then at the border and corner cases (e.g. [0][n-1]), this evaluation will fails as some of the surrounding eight fields will not exist (in the above example specifically [-1][n-2], [-1][n-1], [-1][n], [0][n] and [1][n]).\r\n\r\nThe simplest solutions that come to my mind are either going\r\n\r\n    if(i != 0){\r\n       //check all fields\r\n    }else if(i == 0 &amp;&amp; j == 0){\r\n       //check only fields left, below and left-below \r\n    }else if(...){\r\n        ...\r\n    }\r\n\r\nor using try-catch eight times\r\n\r\n    int count = 0;\r\n    try{\r\n        count += matrix[i-1][j];\r\n    }catch(IndexOutOfBoundsException e){\r\n        ....\r\n    }\r\n\r\nwhich still looks ugly. Is there a better solution for this?","title":"Less ugly way to add adjacent fields in a matrix","body":"<p>I'm trying to add all adjacent fields (including diagonally adjacent) of each field in an nxm integer matrix. When looping through this index by index, then at the border and corner cases (e.g. [0][n-1]), this evaluation will fails as some of the surrounding eight fields will not exist (in the above example specifically [-1][n-2], [-1][n-1], [-1][n], [0][n] and [1][n]).</p>\n<p>The simplest solutions that come to my mind are either going</p>\n<pre><code>if(i != 0){\n   //check all fields\n}else if(i == 0 &amp;&amp; j == 0){\n   //check only fields left, below and left-below \n}else if(...){\n    ...\n}\n</code></pre>\n<p>or using try-catch eight times</p>\n<pre><code>int count = 0;\ntry{\n    count += matrix[i-1][j];\n}catch(IndexOutOfBoundsException e){\n    ....\n}\n</code></pre>\n<p>which still looks ugly. Is there a better solution for this?</p>\n"},{"tags":["java","spring","yaml"],"comments":[{"owner":{"account_id":11030478,"reputation":1,"user_id":8101966,"display_name":"Jules Ntare"},"score":1,"creation_date":1663664981,"post_id":73784166,"comment_id":130287686,"body_markdown":"you can refer to this provided answer: https://stackoverflow.com/a/46095356/8101966","body":"you can refer to this provided answer: <a href=\"https://stackoverflow.com/a/46095356/8101966\">stackoverflow.com/a/46095356/8101966</a>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1663669336,"post_id":73784166,"comment_id":130289091,"body_markdown":"@JulesNtare - Hey, I already saw that post, but I am not clear on how to read all data in Map?","body":"@JulesNtare - Hey, I already saw that post, but I am not clear on how to read all data in Map?"},{"owner":{"account_id":15994992,"reputation":81,"user_id":11543102,"display_name":"Vivekanandan Sakthivelu"},"score":0,"creation_date":1664708376,"post_id":73784166,"comment_id":130529495,"body_markdown":"What is the spring version that your using ?? and how does you main class look like","body":"What is the spring version that your using ?? and how does you main class look like"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1664866384,"post_id":73784166,"comment_id":130562198,"body_markdown":"Can you please add the code of your `Config` class?","body":"Can you please add the code of your <code>Config</code> class?"}],"answers":[{"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1665133446,"post_id":73948486,"comment_id":130633000,"body_markdown":"How can we get the context object in separate class - other than main class?","body":"How can we get the context object in separate class - other than main class?"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1665251814,"post_id":73948486,"comment_id":130658255,"body_markdown":"How can we convert this to HashMap? Looks like its not possible dynamically","body":"How can we convert this to HashMap? Looks like its not possible dynamically"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665259752,"post_id":73948486,"comment_id":130659807,"body_markdown":"`new HashMap&lt;&gt;(oldMap);`!?:)","body":"<code>new HashMap&lt;&gt;(oldMap);</code>!?:)"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1665260055,"post_id":73948486,"comment_id":130659868,"body_markdown":"Nope, it doesn&#39;t work, would you mind answering here: https://stackoverflow.com/questions/73999292/read-yml-file-and-convert-it-to-hashmap-instead-of-linkedhashmap?","body":"Nope, it doesn&#39;t work, would you mind answering here: <a href=\"https://stackoverflow.com/questions/73999292/read-yml-file-and-convert-it-to-hashmap-instead-of-linkedhashmap\" title=\"read yml file and convert it to hashmap instead of linkedhashmap\">stackoverflow.com/questions/73999292/&hellip;</a>?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665260433,"post_id":73948486,"comment_id":130659931,"body_markdown":"&quot;On my computer&quot;: works, sorry! &#128540;","body":"&quot;On my computer&quot;: works, sorry! üòú"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665260607,"post_id":73948486,"comment_id":130659969,"body_markdown":"[this](https://stackoverflow.com/questions/73999292/read-yml-file-and-convert-it-to-hashmap-instead-of-linkedhashmap) is completely different question (same use case, different question), please accept!&#128536;","body":"<a href=\"https://stackoverflow.com/questions/73999292/read-yml-file-and-convert-it-to-hashmap-instead-of-linkedhashmap\">this</a> is completely different question (same use case, different question), please accept!üòò"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664993091,"creation_date":1664889374,"answer_id":73948486,"question_id":73784166,"body_markdown":"What Do you mean with &quot;all data in a Map&quot;!?\r\n\r\nThe [discussed/linked solution][1] can expose your yaml file as a `java.util.Properties` (, which is a `Map&lt;String, Object&gt;` &quot;per se&quot;).\r\n\r\n\r\n----------\r\n\r\n\r\npom.xml:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.my&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-xml-config-with-yaml&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n(src/main/resources/)application.yaml:\r\n\r\nSame as OP!\r\n\r\n\r\n----------\r\n\r\n\r\nsrc/main/resources/applicationContext.xml (simplified):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                           https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    &lt;bean id=&quot;yamlProperties&quot; class=&quot;org.springframework.beans.factory.config.YamlPropertiesFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;resources&quot; value=&quot;classpath:application.yaml&quot;/&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThen just a test (main):\r\n```\r\npackage org.my.springxmlconfig;\r\n\r\nimport java.util.Properties;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class SpringXmlConfigMain {\r\n\r\n    public static void main(String[] args) {\r\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n        Properties propsBean = context.getBean(&quot;yamlProperties&quot;, Properties.class);\r\n        System.err.println(propsBean);\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\nPrints (unformatted):\r\n```\r\n{\r\n  vtp.config.priority[3].country=IN,\r\n  vtp.config.priority[4].countryFriend[0]=NL,\r\n  vtp.config.priority[2].countryFriend[1]=AG,\r\n  vtp.config.priority[2].countryFriend[0]=UK,\r\n  vtp.config.priority[5].countryFriend[0]=DN,\r\n  vtp.config.priority[2].country=US,\r\n  vtp.config.priority[4].country=PO,\r\n  vtp.config.priority[5].country=KN,\r\n  vtp.config.priority[3].countryFriend[0]=UK, \r\n  vtp.config.priority[3].countryFriend[1]=AG\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nIn a &quot;normal spring usage&quot;, we can refer to them:\r\n```\r\n@Autowired\r\n@Qualifier(&quot;yamlProperties&quot;)// we need qualifier already due to &quot;systemProperties&quot;\r\njava.util.Properties yamlProps;\r\n```\r\n\r\n\r\n----------\r\nOf course this solution is not as elegant as spring-boot&#39;s, but it correctly depicts the yaml structure.\r\nThe resulting map is &quot;flat&quot;, but structure is achieved through (more hierarchical) &quot;keys&quot;.\r\n\r\n\r\n----------\r\nTo achieve &quot;more hierarchical&quot; map, I&#39;d:\r\n\r\n- try to modify/extend existent [factory][2] ([+ processor][3] ;(;(\r\n-  [***think about &quot;booting&quot;***][4]! (at least the &quot;first steps&quot; don&#39;t sound very costy nor very dangerous) \r\n- (trying to implement a &quot;custom converter&quot;,:) I finally found: [`YamlMapFactoryBean`][5]!!\r\n\r\n\r\n----------\r\n\r\n### EDIT!:\r\n\r\nAdding this to our config xml:\r\n```lang-xml\r\n&lt;bean id=&quot;yamlMap&quot; class=&quot;org.springframework.beans.factory.config.YamlMapFactoryBean&quot;&gt;\r\n  &lt;property name=&quot;resources&quot; value=&quot;classpath:application.yaml&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\nDoing this:\r\n```lang-java\r\nimport org.apache.commons.collections4.MapUtils;\r\n// ...\r\nMap&lt;String, Object&gt; mapBean = context.getBean(&quot;yamlMap&quot;, Map.class);\r\nMapUtils.debugPrint(System.err, &quot;yamlMap&quot;, mapBean);\r\n```\r\n(Only for (quick) debug (pretty) print,) we add this:\r\n```lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n  &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n  &lt;version&gt;4.4&lt;/version&gt; &lt;!-- resp. latest --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n..then console prints also (formatted):\r\n\r\n```lang-bash\r\nyamlMap = \r\n{\r\n    vtp = \r\n    {\r\n        config = \r\n        {\r\n            priority = \r\n            {\r\n                [2] = \r\n                {\r\n                    country = US java.lang.String\r\n                    countryFriend = [UK, AG] java.util.ArrayList\r\n                } java.util.LinkedHashMap\r\n                [3] = \r\n                {\r\n                    country = IN java.lang.String\r\n                    countryFriend = [UK, AG] java.util.ArrayList\r\n                } java.util.LinkedHashMap\r\n                [4] = \r\n                {\r\n                    country = PO java.lang.String\r\n                    countryFriend = [NL] java.util.ArrayList\r\n                } java.util.LinkedHashMap\r\n                [5] = \r\n                {\r\n                    country = KN java.lang.String\r\n                    countryFriend = [DN] java.util.ArrayList\r\n                } java.util.LinkedHashMap\r\n            } java.util.LinkedHashMap\r\n        } java.util.LinkedHashMap\r\n    } java.util.LinkedHashMap\r\n} java.util.LinkedHashMap\r\n```\r\n\r\n Thx also to: https://stackoverflow.com/q/15171699/592355\r\n\r\n  [1]: https://stackoverflow.com/a/46095356/592355\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlPropertiesFactoryBean.java\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlProcessor.java\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment.convert-existing-application\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/YamlMapFactoryBean.html","title":"How to read application.yml in Spring XML configurations?","body":"<p>What Do you mean with &quot;all data in a Map&quot;!?</p>\n<p>The <a href=\"https://stackoverflow.com/a/46095356/592355\">discussed/linked solution</a> can expose your yaml file as a <code>java.util.Properties</code> (, which is a <code>Map&lt;String, Object&gt;</code> &quot;per se&quot;).</p>\n<hr />\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.my&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-xml-config-with-yaml&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;1.28&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>(src/main/resources/)application.yaml:</p>\n<p>Same as OP!</p>\n<hr />\n<p>src/main/resources/applicationContext.xml (simplified):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot; \n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n                           https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean id=&quot;yamlProperties&quot; class=&quot;org.springframework.beans.factory.config.YamlPropertiesFactoryBean&quot;&gt;\n        &lt;property name=&quot;resources&quot; value=&quot;classpath:application.yaml&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<hr />\n<p>Then just a test (main):</p>\n<pre><code>package org.my.springxmlconfig;\n\nimport java.util.Properties;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class SpringXmlConfigMain {\n\n    public static void main(String[] args) {\n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        Properties propsBean = context.getBean(&quot;yamlProperties&quot;, Properties.class);\n        System.err.println(propsBean);\n    }\n}\n</code></pre>\n<hr />\n<p>Prints (unformatted):</p>\n<pre><code>{\n  vtp.config.priority[3].country=IN,\n  vtp.config.priority[4].countryFriend[0]=NL,\n  vtp.config.priority[2].countryFriend[1]=AG,\n  vtp.config.priority[2].countryFriend[0]=UK,\n  vtp.config.priority[5].countryFriend[0]=DN,\n  vtp.config.priority[2].country=US,\n  vtp.config.priority[4].country=PO,\n  vtp.config.priority[5].country=KN,\n  vtp.config.priority[3].countryFriend[0]=UK, \n  vtp.config.priority[3].countryFriend[1]=AG\n}\n</code></pre>\n<hr />\n<p>In a &quot;normal spring usage&quot;, we can refer to them:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;yamlProperties&quot;)// we need qualifier already due to &quot;systemProperties&quot;\njava.util.Properties yamlProps;\n</code></pre>\n<hr />\n<p>Of course this solution is not as elegant as spring-boot's, but it correctly depicts the yaml structure.\nThe resulting map is &quot;flat&quot;, but structure is achieved through (more hierarchical) &quot;keys&quot;.</p>\n<hr />\n<p>To achieve &quot;more hierarchical&quot; map, I'd:</p>\n<ul>\n<li>try to modify/extend existent <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlPropertiesFactoryBean.java\" rel=\"nofollow noreferrer\">factory</a> (<a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/config/YamlProcessor.java\" rel=\"nofollow noreferrer\">+ processor</a> ;(;(</li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment.convert-existing-application\" rel=\"nofollow noreferrer\"><em><strong>think about &quot;booting&quot;</strong></em></a>! (at least the &quot;first steps&quot; don't sound very costy nor very dangerous)</li>\n<li>(trying to implement a &quot;custom converter&quot;,:) I finally found: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/YamlMapFactoryBean.html\" rel=\"nofollow noreferrer\"><code>YamlMapFactoryBean</code></a>!!</li>\n</ul>\n<hr />\n<h3>EDIT!:</h3>\n<p>Adding this to our config xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;yamlMap&quot; class=&quot;org.springframework.beans.factory.config.YamlMapFactoryBean&quot;&gt;\n  &lt;property name=&quot;resources&quot; value=&quot;classpath:application.yaml&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.collections4.MapUtils;\n// ...\nMap&lt;String, Object&gt; mapBean = context.getBean(&quot;yamlMap&quot;, Map.class);\nMapUtils.debugPrint(System.err, &quot;yamlMap&quot;, mapBean);\n</code></pre>\n<p>(Only for (quick) debug (pretty) print,) we add this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n  &lt;version&gt;4.4&lt;/version&gt; &lt;!-- resp. latest --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>..then console prints also (formatted):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>yamlMap = \n{\n    vtp = \n    {\n        config = \n        {\n            priority = \n            {\n                [2] = \n                {\n                    country = US java.lang.String\n                    countryFriend = [UK, AG] java.util.ArrayList\n                } java.util.LinkedHashMap\n                [3] = \n                {\n                    country = IN java.lang.String\n                    countryFriend = [UK, AG] java.util.ArrayList\n                } java.util.LinkedHashMap\n                [4] = \n                {\n                    country = PO java.lang.String\n                    countryFriend = [NL] java.util.ArrayList\n                } java.util.LinkedHashMap\n                [5] = \n                {\n                    country = KN java.lang.String\n                    countryFriend = [DN] java.util.ArrayList\n                } java.util.LinkedHashMap\n            } java.util.LinkedHashMap\n        } java.util.LinkedHashMap\n    } java.util.LinkedHashMap\n} java.util.LinkedHashMap\n</code></pre>\n<p>Thx also to: <a href=\"https://stackoverflow.com/q/15171699/592355\">Multi-line pretty-printing of (nested) collections in Java</a></p>\n"},{"tags":[],"owner":{"account_id":1332279,"reputation":337,"user_id":1275904,"display_name":"forrestg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664956485,"creation_date":1664938635,"answer_id":73955538,"question_id":73784166,"body_markdown":"Briefly speaking, you achieve this by 3 steps: 1) rewrite config in bean xml; 2) Define class to match the bean definition, 3) get bean by code from context.\r\n\r\nI made a working sample project, can be found here: https://github.com/forrest1g/spring-xml-demo\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n\t&lt;bean id=&quot;countryConfigBean&quot; class=&quot;com.itranswarp.learnjava.VTPConfig&quot;&gt;\r\n\t\t&lt;property name=&quot;countries&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;ref bean=&quot;US&quot;/&gt;\r\n\t\t\t\t&lt;ref bean=&quot;IN&quot; /&gt;\r\n\t\t\t\t&lt;ref bean=&quot;PO&quot; /&gt;\r\n\t\t\t\t&lt;ref bean=&quot;KN&quot; /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;US&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\r\n\t\t&lt;property name=&quot;priority&quot; value=&quot;2&quot;/&gt;\r\n\t\t&lt;property name=&quot;country&quot; value=&quot;US&quot;/&gt;\r\n\t\t&lt;property name=&quot;countryFriends&quot; value=&quot;[&#39;UK&#39;,&#39;AG&#39;]&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;IN&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\r\n\t\t&lt;property name=&quot;priority&quot; value=&quot;3&quot;/&gt;\r\n\t\t&lt;property name=&quot;country&quot; value=&quot;IN&quot;/&gt;\r\n\t\t&lt;property name=&quot;countryFriends&quot; value=&quot;[&#39;UK&#39;,&#39;AG&#39;]&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;PO&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\r\n\t\t&lt;property name=&quot;priority&quot; value=&quot;4&quot;/&gt;\r\n\t\t&lt;property name=&quot;country&quot; value=&quot;PO&quot;/&gt;\r\n\t\t&lt;property name=&quot;countryFriends&quot; value=&quot;[&#39;NL&#39;]&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;KN&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\r\n\t\t&lt;property name=&quot;priority&quot; value=&quot;5&quot;/&gt;\r\n\t\t&lt;property name=&quot;country&quot; value=&quot;KN&quot;/&gt;\r\n\t\t&lt;property name=&quot;countryFriends&quot; value=&quot;[&#39;DN&#39;]&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nFurther more, you can find some sample about how to define collection in bean xml here: [how to define collection][1] \r\n\r\n\r\n  [1]: https://www.concretepage.com/spring/spring-collection-injection-example-with-list-set-map-and-properties\r\n\r\nOutput like:\r\n\r\n    priority: 2, country: US, countryFriends: [&#39;UK&#39;,&#39;AG&#39;]\r\n    priority: 3, country: IN, countryFriends: [&#39;UK&#39;,&#39;AG&#39;]\r\n    priority: 4, country: PO, countryFriends: [&#39;NL&#39;]\r\n    priority: 5, country: KN, countryFriends: [&#39;DN&#39;]","title":"How to read application.yml in Spring XML configurations?","body":"<p>Briefly speaking, you achieve this by 3 steps: 1) rewrite config in bean xml; 2) Define class to match the bean definition, 3) get bean by code from context.</p>\n<p>I made a working sample project, can be found here: <a href=\"https://github.com/forrest1g/spring-xml-demo\" rel=\"nofollow noreferrer\">https://github.com/forrest1g/spring-xml-demo</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n&lt;bean id=&quot;countryConfigBean&quot; class=&quot;com.itranswarp.learnjava.VTPConfig&quot;&gt;\n    &lt;property name=&quot;countries&quot;&gt;\n        &lt;list&gt;\n            &lt;ref bean=&quot;US&quot;/&gt;\n            &lt;ref bean=&quot;IN&quot; /&gt;\n            &lt;ref bean=&quot;PO&quot; /&gt;\n            &lt;ref bean=&quot;KN&quot; /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;US&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\n    &lt;property name=&quot;priority&quot; value=&quot;2&quot;/&gt;\n    &lt;property name=&quot;country&quot; value=&quot;US&quot;/&gt;\n    &lt;property name=&quot;countryFriends&quot; value=&quot;['UK','AG']&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;IN&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\n    &lt;property name=&quot;priority&quot; value=&quot;3&quot;/&gt;\n    &lt;property name=&quot;country&quot; value=&quot;IN&quot;/&gt;\n    &lt;property name=&quot;countryFriends&quot; value=&quot;['UK','AG']&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;PO&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\n    &lt;property name=&quot;priority&quot; value=&quot;4&quot;/&gt;\n    &lt;property name=&quot;country&quot; value=&quot;PO&quot;/&gt;\n    &lt;property name=&quot;countryFriends&quot; value=&quot;['NL']&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;KN&quot; class=&quot;com.itranswarp.learnjava.CountryConfig&quot;&gt;\n    &lt;property name=&quot;priority&quot; value=&quot;5&quot;/&gt;\n    &lt;property name=&quot;country&quot; value=&quot;KN&quot;/&gt;\n    &lt;property name=&quot;countryFriends&quot; value=&quot;['DN']&quot;/&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Further more, you can find some sample about how to define collection in bean xml here: <a href=\"https://www.concretepage.com/spring/spring-collection-injection-example-with-list-set-map-and-properties\" rel=\"nofollow noreferrer\">how to define collection</a></p>\n<p>Output like:</p>\n<pre><code>priority: 2, country: US, countryFriends: ['UK','AG']\npriority: 3, country: IN, countryFriends: ['UK','AG']\npriority: 4, country: PO, countryFriends: ['NL']\npriority: 5, country: KN, countryFriends: ['DN']\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2069,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73948486,"answer_count":2,"score":2,"last_activity_date":1664993091,"creation_date":1663664708,"question_id":73784166,"body_markdown":"In my project I use XML-based configurations and I&#39;m trying to read the application.yml file \r\n\r\napplication.yml\r\n\r\n    vtp:\r\n      config:\r\n          priority: \r\n            2:\r\n              country: &#39;US&#39;\r\n              countryFriend: [&#39;UK&#39;,&#39;AG&#39;]\r\n            3:\r\n              country: &#39;IN&#39;\r\n              countryFriend: [&#39;UK&#39;,&#39;AG&#39;]\r\n            4:\r\n              country: &#39;PO&#39;\r\n              countryFriend: [&#39;NL&#39;]\r\n            5:\r\n              country: &#39;KN&#39;\r\n              countryFriend: [&#39;DN&#39;]\r\n\r\nI am able to read it using Spring Boot by creating a POJO class to map the properties like below\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;vtp.config&quot;)\r\n    @PropertySource(value = &quot;classpath:application.yml&quot;)\r\n    public class MeraPriorityConfig {\r\n    \tprivate Map&lt;String, Config&gt; priority;\r\n    \r\n    \tpublic Map&lt;String, Config&gt; getPriority() {\r\n    \t\treturn priority;\r\n    \t}\r\n    \r\n    \tpublic void setPriority(Map&lt;String, Config&gt; priority) {\r\n    \t\tthis.priority = priority;\r\n    \t}\r\n    }\r\n\r\nHow can I do the same using an XML-based configuration?","title":"How to read application.yml in Spring XML configurations?","body":"<p>In my project I use XML-based configurations and I'm trying to read the application.yml file</p>\n<p>application.yml</p>\n<pre><code>vtp:\n  config:\n      priority: \n        2:\n          country: 'US'\n          countryFriend: ['UK','AG']\n        3:\n          country: 'IN'\n          countryFriend: ['UK','AG']\n        4:\n          country: 'PO'\n          countryFriend: ['NL']\n        5:\n          country: 'KN'\n          countryFriend: ['DN']\n</code></pre>\n<p>I am able to read it using Spring Boot by creating a POJO class to map the properties like below</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;vtp.config&quot;)\n@PropertySource(value = &quot;classpath:application.yml&quot;)\npublic class MeraPriorityConfig {\n    private Map&lt;String, Config&gt; priority;\n\n    public Map&lt;String, Config&gt; getPriority() {\n        return priority;\n    }\n\n    public void setPriority(Map&lt;String, Config&gt; priority) {\n        this.priority = priority;\n    }\n}\n</code></pre>\n<p>How can I do the same using an XML-based configuration?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664993083,"creation_date":1664993083,"answer_id":73964519,"question_id":73964518,"body_markdown":"Changing type to some more valuable type like `String` made this error be never thrown, however, it is still intriguing for me why the error message was unrelated to the useless of `Object` type as JPA Entity field.","title":"Exception when having Object type field in JPA @Entity: Caused by: org.hibernate.MappingException: property mapping has wrong number of columns","body":"<p>Changing type to some more valuable type like <code>String</code> made this error be never thrown, however, it is still intriguing for me why the error message was unrelated to the useless of <code>Object</code> type as JPA Entity field.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73964519,"answer_count":1,"score":0,"last_activity_date":1664993083,"creation_date":1664993083,"question_id":73964518,"body_markdown":"I have a JPA object that has field like that:\r\n\r\n    @Column(name = &quot;check_close&quot;)\r\n    private Object check_close;\r\n\r\nand the start I&#39;m getting \r\n\r\n    Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: rf.dom.billing.model.billing.TransactionRegistry.check_close type: object\r\n\r\nWhy the error is about the wrong number of columns? Shouldn&#39;t it point to the wront type used?\r\n\r\n\r\n\r\n","title":"Exception when having Object type field in JPA @Entity: Caused by: org.hibernate.MappingException: property mapping has wrong number of columns","body":"<p>I have a JPA object that has field like that:</p>\n<pre><code>@Column(name = &quot;check_close&quot;)\nprivate Object check_close;\n</code></pre>\n<p>and the start I'm getting</p>\n<pre><code>Caused by: org.hibernate.MappingException: property mapping has wrong number of columns: rf.dom.billing.model.billing.TransactionRegistry.check_close type: object\n</code></pre>\n<p>Why the error is about the wrong number of columns? Shouldn't it point to the wront type used?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":1,"creation_date":1664991244,"post_id":73964181,"comment_id":130596896,"body_markdown":"This isn&#39;t anti-cheat. This is how first-person shooters garantees that your mouse will not hit the side of the screen, for example. The game evaluates the delta of the mouse, then reset the cursor back.","body":"This isn&#39;t anti-cheat. This is how first-person shooters garantees that your mouse will not hit the side of the screen, for example. The game evaluates the delta of the mouse, then reset the cursor back."},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1664991276,"post_id":73964181,"comment_id":130596906,"body_markdown":"So, how can I fix this?","body":"So, how can I fix this?"},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1664991461,"post_id":73964181,"comment_id":130596967,"body_markdown":"have you tried using a timer running at 60 FPS to ever slightly move the cursor? For example, if you want to turn an FPS player right X&#176; within Y ms, then you update the mouse position dx every t frame (depending on your in-game mouse setetings, etc.)","body":"have you tried using a timer running at 60 FPS to ever slightly move the cursor? For example, if you want to turn an FPS player right X&#176; within Y ms, then you update the mouse position dx every t frame (depending on your in-game mouse setetings, etc.)"},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":1,"creation_date":1664991720,"post_id":73964181,"comment_id":130597028,"body_markdown":"The code I have written updates the location of the mouse about 60-120 times a second. But, when in game, The game kinda stutters/glitches if that makes sense. As if, The player rotates x degrees and then comes back x degrees within a few frames. Eventually no change in direction the player is facing.","body":"The code I have written updates the location of the mouse about 60-120 times a second. But, when in game, The game kinda stutters/glitches if that makes sense. As if, The player rotates x degrees and then comes back x degrees within a few frames. Eventually no change in direction the player is facing."},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1664992071,"post_id":73964181,"comment_id":130597142,"body_markdown":"Can you share the relevant Java code setting mouse location every frame?","body":"Can you share the relevant Java code setting mouse location every frame?"},{"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"score":0,"creation_date":1664992974,"post_id":73964181,"comment_id":130597417,"body_markdown":"I just added the code. This function gets called after almost every 12ms.","body":"I just added the code. This function gets called after almost every 12ms."},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1664993175,"post_id":73964181,"comment_id":130597488,"body_markdown":"Please read : https://stackoverflow.com/a/10725039/320700","body":"Please read : <a href=\"https://stackoverflow.com/a/10725039/320700\">stackoverflow.com/a/10725039/320700</a>"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664992832,"creation_date":1664990960,"question_id":73964181,"body_markdown":"I am working on a project similiar to cloud gaming. I am also currently using `java.awt.Robot` to emulate mouse movements. But, the problem is that it does not work inside most games. While I was attempting to move my mouse inside the game, I also captured its locations. Here&#39;s the data -\r\n\r\n### While inside the game -\r\n\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 539\r\n    mouse: x = 959\t\ty = 539\r\n    mouse: x = 959\t\ty = 539\r\n    mouse: x = 960\t\ty = 540\r\n    mouse: x = 960\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 959\t\ty = 540\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 960\t\ty = 539\r\n    mouse: x = 947\t\ty = 534\r\n    mouse: x = 924\t\ty = 540\r\n\r\n### While outside the game -\r\n\r\n    mouse: x = 1537\t\ty = 229\r\n    mouse: x = 1537\t\ty = 229\r\n    mouse: x = 1537\t\ty = 229\r\n    mouse: x = 1475\t\ty = 238\r\n    mouse: x = 1119\t\ty = 465\r\n    mouse: x = 627\t\ty = 943\r\n    mouse: x = 480\t\ty = 1056\r\n    mouse: x = 575\t\ty = 939\r\n    mouse: x = 827\t\ty = 263\r\n    mouse: x = 616\t\ty = 776\r\n    mouse: x = 213\t\ty = 1005\r\n    mouse: x = 1679\t\ty = 48\r\n    mouse: x = 1679\t\ty = 48\r\n    mouse: x = 1679\t\ty = 48\r\n    mouse: x = 1679\t\ty = 48\r\n    mouse: x = 1679\t\ty = 48\r\n    mouse: x = 1425\t\ty = 238\r\n    mouse: x = 991\t\ty = 443\r\n\r\nThese locations were recorded after every second and the issue isn&#39;t there while outside the game. If you look closely, The mouse is kinda forced to stay at the center of the screen while in-game. `960, 540` for the screen resolution of `1920, 1080`. This might not be an anti-cheat system issue because I also tried this for shadow of the tomb raider and kinda the same issue there.\r\n\r\nIdeas tried from other Stackoverflow questions -\r\n- Somebody suggested changing the game to windowed instead of full-screen, that didn&#39;t work.\r\n- Another suggestion was to run the IDE in administrator mode, didn&#39;t work.\r\n\r\nThe main aim of emulating mouse is so that I can control my games as if I was controlling the mouse myself. I was able to get everything working from mouse clicks to key presses to long presses. This is the last step.\r\n\r\n---\r\ncode added -\r\n\r\n    void animateMouse(int dx, int dy) {\r\n        robot.mouseMove(\r\n                MouseInfo.getPointerInfo().getLocation().x + dx,\r\n                MouseInfo.getPointerInfo().getLocation().y + dy\r\n        );\r\n    }","title":"emulate a mouse movement inside a full screen game using java","body":"<p>I am working on a project similiar to cloud gaming. I am also currently using <code>java.awt.Robot</code> to emulate mouse movements. But, the problem is that it does not work inside most games. While I was attempting to move my mouse inside the game, I also captured its locations. Here's the data -</p>\n<h3>While inside the game -</h3>\n<pre><code>mouse: x = 959      y = 540\nmouse: x = 959      y = 540\nmouse: x = 959      y = 540\nmouse: x = 959      y = 540\nmouse: x = 960      y = 539\nmouse: x = 959      y = 540\nmouse: x = 960      y = 539\nmouse: x = 960      y = 540\nmouse: x = 959      y = 540\nmouse: x = 959      y = 539\nmouse: x = 959      y = 539\nmouse: x = 959      y = 539\nmouse: x = 960      y = 540\nmouse: x = 960      y = 540\nmouse: x = 959      y = 540\nmouse: x = 959      y = 540\nmouse: x = 960      y = 539\nmouse: x = 959      y = 540\nmouse: x = 959      y = 540\nmouse: x = 959      y = 540\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 959      y = 540\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 960      y = 539\nmouse: x = 947      y = 534\nmouse: x = 924      y = 540\n</code></pre>\n<h3>While outside the game -</h3>\n<pre><code>mouse: x = 1537     y = 229\nmouse: x = 1537     y = 229\nmouse: x = 1537     y = 229\nmouse: x = 1475     y = 238\nmouse: x = 1119     y = 465\nmouse: x = 627      y = 943\nmouse: x = 480      y = 1056\nmouse: x = 575      y = 939\nmouse: x = 827      y = 263\nmouse: x = 616      y = 776\nmouse: x = 213      y = 1005\nmouse: x = 1679     y = 48\nmouse: x = 1679     y = 48\nmouse: x = 1679     y = 48\nmouse: x = 1679     y = 48\nmouse: x = 1679     y = 48\nmouse: x = 1425     y = 238\nmouse: x = 991      y = 443\n</code></pre>\n<p>These locations were recorded after every second and the issue isn't there while outside the game. If you look closely, The mouse is kinda forced to stay at the center of the screen while in-game. <code>960, 540</code> for the screen resolution of <code>1920, 1080</code>. This might not be an anti-cheat system issue because I also tried this for shadow of the tomb raider and kinda the same issue there.</p>\n<p>Ideas tried from other Stackoverflow questions -</p>\n<ul>\n<li>Somebody suggested changing the game to windowed instead of full-screen, that didn't work.</li>\n<li>Another suggestion was to run the IDE in administrator mode, didn't work.</li>\n</ul>\n<p>The main aim of emulating mouse is so that I can control my games as if I was controlling the mouse myself. I was able to get everything working from mouse clicks to key presses to long presses. This is the last step.</p>\n<hr />\n<p>code added -</p>\n<pre><code>void animateMouse(int dx, int dy) {\n    robot.mouseMove(\n            MouseInfo.getPointerInfo().getLocation().x + dx,\n            MouseInfo.getPointerInfo().getLocation().y + dy\n    );\n}\n</code></pre>\n"},{"tags":["java","android","google-drive-api","spreadsheet"],"answers":[{"comments":[{"owner":{"account_id":12802735,"reputation":79,"user_id":9263520,"display_name":"Penny Chen"},"score":0,"creation_date":1600420541,"post_id":63952344,"comment_id":113088889,"body_markdown":"Hi, I tried it and get error &quot;java.lang.IndexOutOfBoundsException: Index: 0, Size: 0&quot;. It seems that it get nothing :(","body":"Hi, I tried it and get error &quot;java.lang.IndexOutOfBoundsException: Index: 0, Size: 0&quot;. It seems that it get nothing :("},{"owner":{"account_id":17682094,"reputation":2853,"user_id":12835757,"display_name":"Mateo Randwolf"},"score":0,"creation_date":1600676283,"post_id":63952344,"comment_id":113151254,"body_markdown":"Hi ! I have added a code snippet to my answer. Could you try running it as I have written (i.e first setting the query and then the spaces) and let me know if you still get the same error? Also, in which line of code is this error located?","body":"Hi ! I have added a code snippet to my answer. Could you try running it as I have written (i.e first setting the query and then the spaces) and let me know if you still get the same error? Also, in which line of code is this error located?"}],"tags":[],"owner":{"account_id":17682094,"reputation":2853,"user_id":12835757,"display_name":"Mateo Randwolf"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664992754,"creation_date":1600418742,"answer_id":63952344,"question_id":63936355,"body_markdown":"According to the documentation, for looking for Google Spreadsheets your MimeType should be ```application/vnd.google-apps.spreadsheet```. Reference to all Google MimeTypes [here](https://developers.google.com/drive/api/v3/mime-types).\r\n\r\nSample code of how to make this request (documentation [here](https://developers.google.com/drive/api/v3/search-files#search_for_specific_files_or_folders_on_the_current_users_my_drive)):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n      FileList result = driveService.files().list()\r\n          .setQ(&quot;name contains &#39;ContactList&#39; and mimeType=&#39;application/vnd.google-apps.spreadsheet&#39;&quot;)\r\n          .setOrderBy(&quot;modifiedTime desc&quot;)\r\n          .setSpaces(&quot;drive&quot;)\r\n          .setPageToken(pageToken)\r\n          .execute();\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"How can I get Google spreadsheets file Id by using Google drive API v3?","body":"<p>According to the documentation, for looking for Google Spreadsheets your MimeType should be <code>application/vnd.google-apps.spreadsheet</code>. Reference to all Google MimeTypes <a href=\"https://developers.google.com/drive/api/v3/mime-types\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Sample code of how to make this request (documentation <a href=\"https://developers.google.com/drive/api/v3/search-files#search_for_specific_files_or_folders_on_the_current_users_my_drive\" rel=\"nofollow noreferrer\">here</a>):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  FileList result = driveService.files().list()\n      .setQ(\"name contains 'ContactList' and mimeType='application/vnd.google-apps.spreadsheet'\")\n      .setOrderBy(\"modifiedTime desc\")\n      .setSpaces(\"drive\")\n      .setPageToken(pageToken)\n      .execute();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":12802735,"reputation":79,"user_id":9263520,"display_name":"Penny Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63952344,"answer_count":1,"score":0,"last_activity_date":1664992754,"creation_date":1600339424,"question_id":63936355,"body_markdown":"I upload a ContactList.csv file to my google drive. When I click to open the CSV file, it will create and open a &quot;ContactList&quot; google spreadsheets file. After I do some edit to it, I need to search this google spreadsheets file to download it as CSV.\r\n\r\nWhat&#39;s the `mimeTpye` should I put in? I tried to use `&#39;text/csv&#39;`, but it will find the original CSV file, not the google spreadsheets one. Thus I don&#39;t know how to get the google spreadsheets file id.\r\nCan anyone tell me how to do?\r\n\r\n     FileList result= null;\r\n            try {\r\n                result= driveService.files().list()\r\n                        .setSpaces(&quot;drive&quot;)\r\n                        .setQ(&quot; name contains &#39;ContactList&#39; and mimeType = &#39;text/csv&#39; &quot;)\r\n\r\n                        .setOrderBy(&quot;modifiedTime desc&quot;)\r\n                        .execute();\r\n\r\n                System.out.println(&quot;searchFile ID:&quot;+result.getFiles().get(0).getId());\r\n\r\n\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pn3glm.png","title":"How can I get Google spreadsheets file Id by using Google drive API v3?","body":"<p>I upload a ContactList.csv file to my google drive. When I click to open the CSV file, it will create and open a &quot;ContactList&quot; google spreadsheets file. After I do some edit to it, I need to search this google spreadsheets file to download it as CSV.</p>\n<p>What's the <code>mimeTpye</code> should I put in? I tried to use <code>'text/csv'</code>, but it will find the original CSV file, not the google spreadsheets one. Thus I don't know how to get the google spreadsheets file id.\nCan anyone tell me how to do?</p>\n<pre><code> FileList result= null;\n        try {\n            result= driveService.files().list()\n                    .setSpaces(&quot;drive&quot;)\n                    .setQ(&quot; name contains 'ContactList' and mimeType = 'text/csv' &quot;)\n\n                    .setOrderBy(&quot;modifiedTime desc&quot;)\n                    .execute();\n\n            System.out.println(&quot;searchFile ID:&quot;+result.getFiles().get(0).getId());\n\n\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Pn3glm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pn3glm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","rest","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":9570800,"reputation":29,"user_id":7108486,"display_name":"Jac"},"score":0,"creation_date":1664971250,"post_id":73958640,"comment_id":130589363,"body_markdown":"Re: OOM, I am afraid some of them might be quite large so wonder if I could directly stream that to the http output pipe","body":"Re: OOM, I am afraid some of them might be quite large so wonder if I could directly stream that to the http output pipe"}],"tags":[],"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664972902,"creation_date":1664963326,"answer_id":73958640,"question_id":73958408,"body_markdown":"Instead of ```write```, you have plenty of methods in ```Dataset``` which can collect all data on the driver (collect, collectAsList, toLocalIterator - [spark javadoc][1]). Just don&#39;t forget that all your data should fit in driver memory or you will get OOM.\r\n\r\nAfter collecting all data you need on the driver you can handle it as any java object(e.g. serialize it to JSON) and send as response.\r\n\r\nHere is an example\r\n\r\n```java\r\nList&lt;Row&gt; rows = new ArrayList&lt;&gt;();\r\n\r\nrows.add(RowFactory.create(&quot;1&quot;, &quot;name&quot;));\r\nrows.add(RowFactory.create(&quot;2&quot;, &quot;name2&quot;));\r\nrows.add(RowFactory.create(&quot;3&quot;, &quot;name3&quot;));\r\n\r\nStructType schema = new StructType();\r\nschema = schema.add(&quot;id&quot;, DataTypes.StringType, false);\r\nschema = schema.add(&quot;name&quot;, DataTypes.StringType, false);\r\n\r\nDataset&lt;Row&gt; df = spark.createDataFrame(rows, schema);\r\n\r\nList&lt;String&gt; res = df.withColumn(\r\n        &quot;struct&quot;,\r\n        functions.struct(functions.col(&quot;id&quot;), functions.col(&quot;name&quot;))\r\n).withColumn(\r\n        &quot;json&quot;,\r\n        functions.to_json(functions.col(&quot;struct&quot;))\r\n).select(&quot;json&quot;).collectAsList().stream().map(\r\n        row -&gt; row.getString(0)\r\n).collect(Collectors.toList());\r\n```\r\n\r\n\r\n[1]: https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/Dataset.html#collectAsList--","title":"How to convert a spark dataframe into a http response in JSON format","body":"<p>Instead of <code>write</code>, you have plenty of methods in <code>Dataset</code> which can collect all data on the driver (collect, collectAsList, toLocalIterator - <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/sql/Dataset.html#collectAsList--\" rel=\"nofollow noreferrer\">spark javadoc</a>). Just don't forget that all your data should fit in driver memory or you will get OOM.</p>\n<p>After collecting all data you need on the driver you can handle it as any java object(e.g. serialize it to JSON) and send as response.</p>\n<p>Here is an example</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Row&gt; rows = new ArrayList&lt;&gt;();\n\nrows.add(RowFactory.create(&quot;1&quot;, &quot;name&quot;));\nrows.add(RowFactory.create(&quot;2&quot;, &quot;name2&quot;));\nrows.add(RowFactory.create(&quot;3&quot;, &quot;name3&quot;));\n\nStructType schema = new StructType();\nschema = schema.add(&quot;id&quot;, DataTypes.StringType, false);\nschema = schema.add(&quot;name&quot;, DataTypes.StringType, false);\n\nDataset&lt;Row&gt; df = spark.createDataFrame(rows, schema);\n\nList&lt;String&gt; res = df.withColumn(\n        &quot;struct&quot;,\n        functions.struct(functions.col(&quot;id&quot;), functions.col(&quot;name&quot;))\n).withColumn(\n        &quot;json&quot;,\n        functions.to_json(functions.col(&quot;struct&quot;))\n).select(&quot;json&quot;).collectAsList().stream().map(\n        row -&gt; row.getString(0)\n).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":9570800,"reputation":29,"user_id":7108486,"display_name":"Jac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664992608,"creation_date":1664962187,"question_id":73958408,"body_markdown":"My use case is as follows. When the HTTP endpoint is hit, it will read a Parquet file, convert to Spark dataframe/other framework dataframe, run some simple processing and output it in response in JSON format.\r\n\r\n**EDITED** \r\nAdding datasets - they range from small, under 100 rows * 10 columns, to medium 500,000 rows * 20 columns, column value are text and numerical numbers\r\nSo open to other suggestions.  I am trying Arrow, Spark .\r\n\r\nI tried dataset.write and it writes to file. I wonder if there is a way to convert it to either \r\n1. JSON string, might be some mapper?\r\n2. direct stream to HTTP output stream\r\n\r\nOr maybe I shouldn&#39;t use Spark?","title":"How to convert a spark dataframe into a http response in JSON format","body":"<p>My use case is as follows. When the HTTP endpoint is hit, it will read a Parquet file, convert to Spark dataframe/other framework dataframe, run some simple processing and output it in response in JSON format.</p>\n<p><strong>EDITED</strong>\nAdding datasets - they range from small, under 100 rows * 10 columns, to medium 500,000 rows * 20 columns, column value are text and numerical numbers\nSo open to other suggestions.  I am trying Arrow, Spark .</p>\n<p>I tried dataset.write and it writes to file. I wonder if there is a way to convert it to either</p>\n<ol>\n<li>JSON string, might be some mapper?</li>\n<li>direct stream to HTTP output stream</li>\n</ol>\n<p>Or maybe I shouldn't use Spark?</p>\n"},{"tags":["java","xml","merge","openxml","docx"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":2,"creation_date":1664982733,"post_id":73962243,"comment_id":130593964,"body_markdown":"How about unmarshalling to A and B lists, sorting by id, merging to a LinkedHashSet and marshall it?","body":"How about unmarshalling to A and B lists, sorting by id, merging to a LinkedHashSet and marshall it?"}],"answers":[{"comments":[{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1665038574,"post_id":73964436,"comment_id":130606353,"body_markdown":"That does sound promising. And the `A`/`B` and `id` attribute are indeed a simplification of course. In reality, the `word/numbering.xml` files within a .docx zip file are `A` + `A.id` = `&lt;w:abstractNum w:abstractNumId=&quot;0&quot;&gt;` and `B` + `B.id` = `&lt;w:num w:numId=&quot;1&quot;&gt;`. In addition, both `A` and `B` will have child elements and perhaps other attributes besides `w:abstractNumId` that should remain unchanged within.","body":"That does sound promising. And the <code>A</code>/<code>B</code> and <code>id</code> attribute are indeed a simplification of course. In reality, the <code>word&#47;numbering.xml</code> files within a .docx zip file are <code>A</code> + <code>A.id</code> = <code>&lt;w:abstractNum w:abstractNumId=&quot;0&quot;&gt;</code> and <code>B</code> + <code>B.id</code> = <code>&lt;w:num w:numId=&quot;1&quot;&gt;</code>. In addition, both <code>A</code> and <code>B</code> will have child elements and perhaps other attributes besides <code>w:abstractNumId</code> that should remain unchanged within."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664992535,"creation_date":1664992535,"answer_id":73964436,"question_id":73962243,"body_markdown":"Looking at this from an XSLT perspective (as I invariably do), in your example it&#39;s simply a case of concatenating the two sequences, and then sorting by a two-part key comprising (a) the element name, and (b) the value of the `id` attribute. In XSLT 3.0, you can optimize this a little with `xsl:merge`.\r\n\r\nBut this assumes the element names are sorted (A, B, ...) as in your example, and I recognise this might not actually be the case. But that then raises questions about exactly what the input sequences might be if they are not exactly as in your example. Can we rely on the fact that partitioning each sequence by element name will produce exactly the same sequence of element names for each of the two sequences? If that&#39;s the case then you could use `xsl:for-each-group group-adjacent=&quot;node-name()&quot;` to partition each of the input sequences, and then concatenate and sort the corresponding groups. ","title":"Merging two XML files, where order of elements is important","body":"<p>Looking at this from an XSLT perspective (as I invariably do), in your example it's simply a case of concatenating the two sequences, and then sorting by a two-part key comprising (a) the element name, and (b) the value of the <code>id</code> attribute. In XSLT 3.0, you can optimize this a little with <code>xsl:merge</code>.</p>\n<p>But this assumes the element names are sorted (A, B, ...) as in your example, and I recognise this might not actually be the case. But that then raises questions about exactly what the input sequences might be if they are not exactly as in your example. Can we rely on the fact that partitioning each sequence by element name will produce exactly the same sequence of element names for each of the two sequences? If that's the case then you could use <code>xsl:for-each-group group-adjacent=&quot;node-name()&quot;</code> to partition each of the input sequences, and then concatenate and sort the corresponding groups.</p>\n"}],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664992535,"creation_date":1664981385,"question_id":73962243,"body_markdown":"**Background:**\r\n\r\n*(Not too relevant, so you can skip the background if you&#39;d like.)*  \r\nWe have a Word docx template document (which may or may not contain a numbered/bullet-list), containing some tags we replace. We already have code to replace our tags with data. This data however, can also contain certain elements including numbered/bullet-lists (converted from HTML to docx format). All this is working well, except for one issue: a docx-zip needs to contain a `word/numbering.xml` with a definition for all its lists. I&#39;m currently in the process of merging an existing `numbering.xml` from the Word docx template, with another `numbering.xml` from our HTML to docx converted values. I&#39;ve already incremented the `numId`s and `abstractNumId`s in the `numbering.xml` I want to merge, and now want to actually merge the elements.\r\n\r\n**What I&#39;m currently trying to accomplish:**\r\n\r\nSo I&#39;m having two `numbering.xml` file contents (as String) that I&#39;m now trying to merge in [tag:java]. Hugely simplified, I have these two files:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;parent&gt;\r\n      &lt;A id=&quot;1&quot;&gt;...&lt;/A&gt;\r\n      &lt;A id=&quot;2&quot;&gt;...&lt;/A&gt;\r\n      &lt;B id=&quot;1&quot;&gt;...&lt;/B&gt;\r\n      &lt;B id=&quot;2&quot;&gt;...&lt;/B&gt;\r\n    &lt;/parent&gt;\r\n\r\nAnd:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;parent&gt;\r\n      &lt;A id=&quot;3&quot;&gt;...&lt;/A&gt;\r\n      &lt;B id=&quot;3&quot;&gt;...&lt;/B&gt;\r\n    &lt;/parent&gt;\r\n\r\nAnd I want it merge to:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;parent&gt;\r\n      &lt;A id=&quot;1&quot;&gt;...&lt;/A&gt;\r\n      &lt;A id=&quot;2&quot;&gt;...&lt;/A&gt;\r\n      &lt;A id=&quot;3&quot;&gt;...&lt;/A&gt;\r\n      &lt;B id=&quot;1&quot;&gt;...&lt;/B&gt;\r\n      &lt;B id=&quot;2&quot;&gt;...&lt;/B&gt;\r\n      &lt;B id=&quot;3&quot;&gt;...&lt;/B&gt;\r\n    &lt;/parent&gt;\r\n\r\nSo basically have all `&lt;A&gt;` elements grouped together and all `&lt;B&gt;` elements grouped together, while retaining order.\r\n\r\n**Current problem:**\r\n\r\nGoogling a bit, [I could use the Java code provided in this stackoverflow question body](https://stackoverflow.com/questions/14568995/merging-xml-file-using-java-nodelist) to merge the `&lt;parent&gt;` elements. But that would result in `A1,A2,B1,B2,A3,B3` instead of `A1,A2,A3,B1,B2,B3`. Unfortunately, the Word docx doesn&#39;t work in that case (I&#39;ve tested this), since [order in (OO)XML is important](https://stackoverflow.com/questions/1131495/in-xml-is-order-important).\r\n\r\nSo, does anyone know how to merge the elements of two XML files, grouping child-elements together as mentioned above?","title":"Merging two XML files, where order of elements is important","body":"<p><strong>Background:</strong></p>\n<p><em>(Not too relevant, so you can skip the background if you'd like.)</em><br />\nWe have a Word docx template document (which may or may not contain a numbered/bullet-list), containing some tags we replace. We already have code to replace our tags with data. This data however, can also contain certain elements including numbered/bullet-lists (converted from HTML to docx format). All this is working well, except for one issue: a docx-zip needs to contain a <code>word/numbering.xml</code> with a definition for all its lists. I'm currently in the process of merging an existing <code>numbering.xml</code> from the Word docx template, with another <code>numbering.xml</code> from our HTML to docx converted values. I've already incremented the <code>numId</code>s and <code>abstractNumId</code>s in the <code>numbering.xml</code> I want to merge, and now want to actually merge the elements.</p>\n<p><strong>What I'm currently trying to accomplish:</strong></p>\n<p>So I'm having two <code>numbering.xml</code> file contents (as String) that I'm now trying to merge in <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" aria-label=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"java-container\">java</a>. Hugely simplified, I have these two files:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;parent&gt;\n  &lt;A id=&quot;1&quot;&gt;...&lt;/A&gt;\n  &lt;A id=&quot;2&quot;&gt;...&lt;/A&gt;\n  &lt;B id=&quot;1&quot;&gt;...&lt;/B&gt;\n  &lt;B id=&quot;2&quot;&gt;...&lt;/B&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;parent&gt;\n  &lt;A id=&quot;3&quot;&gt;...&lt;/A&gt;\n  &lt;B id=&quot;3&quot;&gt;...&lt;/B&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And I want it merge to:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;parent&gt;\n  &lt;A id=&quot;1&quot;&gt;...&lt;/A&gt;\n  &lt;A id=&quot;2&quot;&gt;...&lt;/A&gt;\n  &lt;A id=&quot;3&quot;&gt;...&lt;/A&gt;\n  &lt;B id=&quot;1&quot;&gt;...&lt;/B&gt;\n  &lt;B id=&quot;2&quot;&gt;...&lt;/B&gt;\n  &lt;B id=&quot;3&quot;&gt;...&lt;/B&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>So basically have all <code>&lt;A&gt;</code> elements grouped together and all <code>&lt;B&gt;</code> elements grouped together, while retaining order.</p>\n<p><strong>Current problem:</strong></p>\n<p>Googling a bit, <a href=\"https://stackoverflow.com/questions/14568995/merging-xml-file-using-java-nodelist\">I could use the Java code provided in this stackoverflow question body</a> to merge the <code>&lt;parent&gt;</code> elements. But that would result in <code>A1,A2,B1,B2,A3,B3</code> instead of <code>A1,A2,A3,B1,B2,B3</code>. Unfortunately, the Word docx doesn't work in that case (I've tested this), since <a href=\"https://stackoverflow.com/questions/1131495/in-xml-is-order-important\">order in (OO)XML is important</a>.</p>\n<p>So, does anyone know how to merge the elements of two XML files, grouping child-elements together as mentioned above?</p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"comments":[{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1664932816,"post_id":73950875,"comment_id":130581049,"body_markdown":"thank you for your reply @Christian-beikon, I notice your solution adds invoice entity so do you think isnt possible with only 2 entity? was the tables designed wrongly?","body":"thank you for your reply @Christian-beikon, I notice your solution adds invoice entity so do you think isnt possible with only 2 entity? was the tables designed wrongly?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1664955968,"post_id":73950875,"comment_id":130584581,"body_markdown":"Yeah the table was designed wrongly. If you want to use a `@ManyToMany` association you must mention the full primary key in the join table.","body":"Yeah the table was designed wrongly. If you want to use a <code>@ManyToMany</code> association you must mention the full primary key in the join table."},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1664991900,"post_id":73950875,"comment_id":130597089,"body_markdown":"I cant see the @ManyToMany relationship here, could you explain it?","body":"I cant see the @ManyToMany relationship here, could you explain it?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1664992220,"post_id":73950875,"comment_id":130597191,"body_markdown":"I updated the answer and added a little explanation","body":"I updated the answer and added a little explanation"},{"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"score":0,"creation_date":1665066758,"post_id":73950875,"comment_id":130616689,"body_markdown":"I see...so is there no way to make a many-to-many relationship without copying the full primary key?","body":"I see...so is there no way to make a many-to-many relationship without copying the full primary key?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665066979,"post_id":73950875,"comment_id":130616766,"body_markdown":"A many-to-many association is by definition modeled by a putting the unique keys from both sides into a join table. The database model you are having does not model a many-to-many association.","body":"A many-to-many association is by definition modeled by a putting the unique keys from both sides into a join table. The database model you are having does not model a many-to-many association."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664992200,"creation_date":1664900755,"answer_id":73950875,"question_id":73941170,"body_markdown":"You could split up the many-to-many association into two one-to-many associations and an entity for the join table. You can map it like this:\r\n\r\n```java\r\npublic class User{\r\n  @Id\r\n  private String userId;\r\n  @OneToMany(mappedBy = &quot;user&quot;)\r\n  private List&lt;Invoice&gt; invoices;\r\n}\r\n@Table(name = &quot;user_invoice&quot;)\r\npublic class Invoice{\r\n  @Id\r\n  @ManyToOne(fetch = LAZY)\r\n  @JoinColumn(name=&quot;user_id&quot;)\r\n  private User user;\r\n  @Id\r\n  private String invoiceId;\r\n  @OneToMany(mappedBy = &quot;invoice&quot;)\r\n  private List&lt;InvoiceItem&gt; invoiceItems;\r\n}\r\n\r\npublic class InvoiceItem{\r\n  @Id\r\n  @ManyToOne(fetch = LAZY)\r\n  private Invoice invoice;\r\n  @Id\r\n  private String invoiceItemId;\r\n}\r\n\r\n```","title":"How to map master detail on hibernate?","body":"<p>You could split up the many-to-many association into two one-to-many associations and an entity for the join table. You can map it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User{\n  @Id\n  private String userId;\n  @OneToMany(mappedBy = &quot;user&quot;)\n  private List&lt;Invoice&gt; invoices;\n}\n@Table(name = &quot;user_invoice&quot;)\npublic class Invoice{\n  @Id\n  @ManyToOne(fetch = LAZY)\n  @JoinColumn(name=&quot;user_id&quot;)\n  private User user;\n  @Id\n  private String invoiceId;\n  @OneToMany(mappedBy = &quot;invoice&quot;)\n  private List&lt;InvoiceItem&gt; invoiceItems;\n}\n\npublic class InvoiceItem{\n  @Id\n  @ManyToOne(fetch = LAZY)\n  private Invoice invoice;\n  @Id\n  private String invoiceItemId;\n}\n\n</code></pre>\n"}],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73950875,"answer_count":1,"score":0,"last_activity_date":1664992200,"creation_date":1664833853,"question_id":73941170,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n6jAR.png\r\n\r\nI can not change the db schema and this is what I got so far:\r\n```\r\npublic class User{\r\n  @Id\r\n  private String userId;\r\n  @OneToMany\r\n  @JoinTable(\r\n       name = &quot;user_invoice&quot;,\r\n       joinColumns = @JoinColumn(name=&quot;user_id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;invoice_id&quot;)\r\n  )\r\n  private List&lt;InvoiceItem&gt; invoiceItems;\r\n}\r\n\r\npublic class InvoiceItem{\r\n  @Id\r\n  private String invoiceId;\r\n  private String invoiceItemId;\r\n}\r\n\r\n```\r\nThis configuration does not allow invoice_id to be duplicated on invoice_item table(it should since I can have multiple items on a given invoice)&lt;br&gt;\r\nIf I make invoice_item_id composite pk I would need to add an extra column on user_invoice table which I can not.&lt;br&gt;\r\nHow can I map this?","title":"How to map master detail on hibernate?","body":"<p><a href=\"https://i.stack.imgur.com/n6jAR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6jAR.png\" alt=\"enter image description here\" /></a></p>\n<p>I can not change the db schema and this is what I got so far:</p>\n<pre><code>public class User{\n  @Id\n  private String userId;\n  @OneToMany\n  @JoinTable(\n       name = &quot;user_invoice&quot;,\n       joinColumns = @JoinColumn(name=&quot;user_id&quot;),\n       inverseJoinColumns = @JoinColumn(name = &quot;invoice_id&quot;)\n  )\n  private List&lt;InvoiceItem&gt; invoiceItems;\n}\n\npublic class InvoiceItem{\n  @Id\n  private String invoiceId;\n  private String invoiceItemId;\n}\n\n</code></pre>\n<p>This configuration does not allow invoice_id to be duplicated on invoice_item table(it should since I can have multiple items on a given invoice)<br>\nIf I make invoice_item_id composite pk I would need to add an extra column on user_invoice table which I can not.<br>\nHow can I map this?</p>\n"},{"tags":["java","algorithm","generics","tree","iterator"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664987121,"post_id":73963259,"comment_id":130595533,"body_markdown":"An `Iterable&lt;T&gt;` contains `T` which can be iterated over, providing an `#iterator` method. That method returns an `Iterator&lt;T&gt;`, which actually performs the iteration. In essence, a `Tree` would be `Iterable`, and `DFSAlgorithm` would be a manual `Iterator` for some `Node&lt;T&gt;`. Overridden methods are just that: they will be called instead of the default/abstract inherited method from `Iterator&lt;T&gt;`","body":"An <code>Iterable&lt;T&gt;</code> contains <code>T</code> which can be iterated over, providing an <code>#iterator</code> method. That method returns an <code>Iterator&lt;T&gt;</code>, which actually performs the iteration. In essence, a <code>Tree</code> would be <code>Iterable</code>, and <code>DFSAlgorithm</code> would be a manual <code>Iterator</code> for some <code>Node&lt;T&gt;</code>. Overridden methods are just that: they will be called instead of the default/abstract inherited method from <code>Iterator&lt;T&gt;</code>"}],"answers":[{"comments":[{"owner":{"display_name":"user17221096"},"score":0,"creation_date":1665035412,"post_id":73964148,"comment_id":130605617,"body_markdown":"What should i do to start dfs now (How can I call dfs)? And can you explain, please, why my iterator works with generic type &lt;T&gt;.  Iterator should work with type &lt;Node&lt;T&gt;&gt;, isn&#39;t it?","body":"What should i do to start dfs now (How can I call dfs)? And can you explain, please, why my iterator works with generic type &lt;T&gt;.  Iterator should work with type &lt;Node&lt;T&gt;&gt;, isn&#39;t it?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1665056311,"post_id":73964148,"comment_id":130612480,"body_markdown":"@HandcraftingCountry Not sure if I understood your comment correctly. If you need to be able to traverse the whole tree in one go, then you can add `dfs()` method as well, [that&#39;s how it might look like](https://www.jdoodle.com/ia/wME). The code I&#39;ve provided is a &quot;ready to go&quot; solution of how to use `DFSAlgorithm` as an iterator.","body":"@HandcraftingCountry Not sure if I understood your comment correctly. If you need to be able to traverse the whole tree in one go, then you can add <code>dfs()</code> method as well, <a href=\"https://www.jdoodle.com/ia/wME\" rel=\"nofollow noreferrer\">that&#39;s how it might look like</a>. The code I&#39;ve provided is a &quot;ready to go&quot; solution of how to use <code>DFSAlgorithm</code> as an iterator."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1665056879,"post_id":73964148,"comment_id":130612668,"body_markdown":"@HandcraftingCountry *&quot; why my iterator works with generic type &lt;T&gt;. Iterator should work with type &lt;Node&lt;T&gt;&gt;, isn&#39;t it?&quot;* - the `Node&lt;T&gt;` is an implementation detail of your data structure that usually shouldn&#39;t exposed to the outside world. Because the code that uses your Tree is concerned with storing and retrieving values of type `T` from it, without having any knowledge of Nodes (similarly you don&#39;t need to know how your phone works internally in order to use it).","body":"@HandcraftingCountry <i>&quot; why my iterator works with generic type &lt;T&gt;. Iterator should work with type &lt;Node&lt;T&gt;&gt;, isn&#39;t it?&quot;</i> - the <code>Node&lt;T&gt;</code> is an implementation detail of your data structure that usually shouldn&#39;t exposed to the outside world. Because the code that uses your Tree is concerned with storing and retrieving values of type <code>T</code> from it, without having any knowledge of Nodes (similarly you don&#39;t need to know how your phone works internally in order to use it)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1665057072,"post_id":73964148,"comment_id":130612747,"body_markdown":"@HandcraftingCountry Of course, you can make the iterator return a node `Node&lt;T&gt;`, but I doubt if you really want it. Here is a contract of the [Iterator.next()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html#next()). If you want the method `next()` to return the value `T` of the node (but not the node), then your iterator should be declared as `DFSAlgorithm&lt;T&gt; implements Iterator&lt;T&gt;` (that&#39;s what you can see in the code above).","body":"@HandcraftingCountry Of course, you can make the iterator return a node <code>Node&lt;T&gt;</code>, but I doubt if you really want it. Here is a contract of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Iterator.html#next()\" rel=\"nofollow noreferrer\">Iterator.next()</a>. If you want the method <code>next()</code> to return the value <code>T</code> of the node (but not the node), then your iterator should be declared as <code>DFSAlgorithm&lt;T&gt; implements Iterator&lt;T&gt;</code> (that&#39;s what you can see in the code above)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1665057473,"post_id":73964148,"comment_id":130612887,"body_markdown":"@HandcraftingCountry On the other hand, if you declare the iterator as `DFSAlgorithm&lt;Node&lt;T&gt;&gt; implements Iterator&lt;Node&lt;T&gt;&gt;`, then method `next()` should be implemented to retrieve the whole node `Node&lt;T&gt;`, not the value `T`. Which would be inconvenient and breaks the encapsulation by exposing implementation detains of your Tree (which is not great, because external code should not depend on the implementation details).","body":"@HandcraftingCountry On the other hand, if you declare the iterator as <code>DFSAlgorithm&lt;Node&lt;T&gt;&gt; implements Iterator&lt;Node&lt;T&gt;&gt;</code>, then method <code>next()</code> should be implemented to retrieve the whole node <code>Node&lt;T&gt;</code>, not the value <code>T</code>. Which would be inconvenient and breaks the encapsulation by exposing implementation detains of your Tree (which is not great, because external code should not depend on the implementation details)."},{"owner":{"display_name":"user17221096"},"score":0,"creation_date":1665064156,"post_id":73964148,"comment_id":130615616,"body_markdown":"One more question. What if I want to make DFS and BFS iterators. Should I write two different @Overrides of iterator for DFS and BFS or it&#39;s impossible?","body":"One more question. What if I want to make DFS and BFS iterators. Should I write two different @Overrides of iterator for DFS and BFS or it&#39;s impossible?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665065900,"post_id":73964148,"comment_id":130616347,"body_markdown":"@HandcraftingCountry While overriding `iterator()` method in your Tree, you need to provide an implementation (a **particular** implementation). In practice, collections have only one iterator. You can implement more than one iterator, but method `iterator()` is parameterless, so there&#39;s no way (*almost*) to get different instances of iterator at different calls. As a work-around, you can introduce a field in the Tree class, which would allow determining what kind of iterator should be provided.","body":"@HandcraftingCountry While overriding <code>iterator()</code> method in your Tree, you need to provide an implementation (a <b>particular</b> implementation). In practice, collections have only one iterator. You can implement more than one iterator, but method <code>iterator()</code> is parameterless, so there&#39;s no way (<i>almost</i>) to get different instances of iterator at different calls. As a work-around, you can introduce a field in the Tree class, which would allow determining what kind of iterator should be provided."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664991617,"creation_date":1664990786,"answer_id":73964148,"question_id":73963259,"body_markdown":"As *@Rogue* has said in the comments, your Tree should implement interface `Iterable`, i.e. it needs to override `iterator()` method, which is meant to provide a mean of traversal over this tree.\r\n\r\n`DFSAlgorithm` in turn should be an `Iterator`, i.e. `MyTree.iterator()` would return a new instance of `DFSAlgorithm`. And `DFSAlgorithm` needs to implement the contract of the `Iterator` interface by overriding methods `next()` and `hasNext()`.\r\n\r\nThere&#39;s a few things to note:\r\n\r\n* Method `DFS()` is not needed. The logic of Depth first search algorithm should be reflected in the implementations of `next()` and `hasNext()` (by the way, method name `DFS()` is not aligned with Java naming conventions).\r\n\r\n* A Stack, which is used a mean of traversal in DFS algorithm, should be an instance variable of the iterator implementation (no need to create another instantiate of the stack as you&#39;ve done and store it in a local variable). And Stack should be populated with the *root-node* of the Tree while instantiating the iterator.\r\n\r\n* Field `List&lt;Node&lt;T&gt;&gt; listOfChildren` is redundant, it&#39;s not required in the classic DFS implementation and in this case as well. Having only a Stack is sufficient to perform traversal of a Tree.\r\n\r\n* Class `java.util.Stack` is legacy and not recommenced to be used. Instead, when you need an implementation of the Stack data structure, it&#39;s advisable to utilize implementations of the `Deque` interface.\r\n\r\n* Method `remove()` has a default implementation which throws `UnsupportedOperationException` (which is semantically more suitable, than `ConcurrentModificationException` that can be observed in your code). If you&#39;re not going to implement the functionality for removing nodes by the means of iterator, there&#39;s no need to override this method.\r\n\r\n* `ConcurrentModificationException` is meant to guard against structural modifications (i.e. modifications that affect the size of the data structure) that happen during the iteration process, which can lead to the situation when iteration is unaware of the actual state of the data structure. The common practice is to introduce a couple of modification counters and compare their values at the very beginning of the call `Iterator.next()`. If you wonder how it might be implemented, have a look at the standard Collections from JDK.\r\n\r\nThat&#39;s how the implementation might look like:\r\n\r\n```\r\npublic class MyTree&lt;T&gt; implements Iterable&lt;T&gt; {\r\n    \r\n    private Node&lt;T&gt; root;\r\n    \r\n    // constructor of the Tree, etc.\r\n    \r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return new DFSAlgorithm&lt;&gt;(root);\r\n    }\r\n    \r\n    public class DFSAlgorithm&lt;T&gt; implements Iterator&lt;T&gt; {\r\n        \r\n        private final Deque&lt;Node&lt;T&gt;&gt; stack = new ArrayDeque&lt;&gt;();\r\n    \r\n        public DFSAlgorithm(Node&lt;T&gt; vertex) {\r\n            this.stack.push(vertex);\r\n        }\r\n        \r\n        @Override\r\n        public boolean hasNext() {\r\n            return !stack.isEmpty();\r\n        }\r\n        \r\n        @Override\r\n        public T next() {\r\n            Node&lt;T&gt; next = stack.pop();\r\n            \r\n            for (Node&lt;T&gt; tNode: next.getListOfChildren()) {\r\n                stack.push(tNode);\r\n            }\r\n            \r\n            return next.getValue();\r\n        }\r\n    }\r\n    \r\n    public class Node&lt;T&gt; {\r\n        // you code without changes here\r\n    }\r\n}\r\n```","title":"DFS class that implements Iterator&lt;T&gt;","body":"<p>As <em>@Rogue</em> has said in the comments, your Tree should implement interface <code>Iterable</code>, i.e. it needs to override <code>iterator()</code> method, which is meant to provide a mean of traversal over this tree.</p>\n<p><code>DFSAlgorithm</code> in turn should be an <code>Iterator</code>, i.e. <code>MyTree.iterator()</code> would return a new instance of <code>DFSAlgorithm</code>. And <code>DFSAlgorithm</code> needs to implement the contract of the <code>Iterator</code> interface by overriding methods <code>next()</code> and <code>hasNext()</code>.</p>\n<p>There's a few things to note:</p>\n<ul>\n<li><p>Method <code>DFS()</code> is not needed. The logic of Depth first search algorithm should be reflected in the implementations of <code>next()</code> and <code>hasNext()</code> (by the way, method name <code>DFS()</code> is not aligned with Java naming conventions).</p>\n</li>\n<li><p>A Stack, which is used a mean of traversal in DFS algorithm, should be an instance variable of the iterator implementation (no need to create another instantiate of the stack as you've done and store it in a local variable). And Stack should be populated with the <em>root-node</em> of the Tree while instantiating the iterator.</p>\n</li>\n<li><p>Field <code>List&lt;Node&lt;T&gt;&gt; listOfChildren</code> is redundant, it's not required in the classic DFS implementation and in this case as well. Having only a Stack is sufficient to perform traversal of a Tree.</p>\n</li>\n<li><p>Class <code>java.util.Stack</code> is legacy and not recommenced to be used. Instead, when you need an implementation of the Stack data structure, it's advisable to utilize implementations of the <code>Deque</code> interface.</p>\n</li>\n<li><p>Method <code>remove()</code> has a default implementation which throws <code>UnsupportedOperationException</code> (which is semantically more suitable, than <code>ConcurrentModificationException</code> that can be observed in your code). If you're not going to implement the functionality for removing nodes by the means of iterator, there's no need to override this method.</p>\n</li>\n<li><p><code>ConcurrentModificationException</code> is meant to guard against structural modifications (i.e. modifications that affect the size of the data structure) that happen during the iteration process, which can lead to the situation when iteration is unaware of the actual state of the data structure. The common practice is to introduce a couple of modification counters and compare their values at the very beginning of the call <code>Iterator.next()</code>. If you wonder how it might be implemented, have a look at the standard Collections from JDK.</p>\n</li>\n</ul>\n<p>That's how the implementation might look like:</p>\n<pre><code>public class MyTree&lt;T&gt; implements Iterable&lt;T&gt; {\n    \n    private Node&lt;T&gt; root;\n    \n    // constructor of the Tree, etc.\n    \n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new DFSAlgorithm&lt;&gt;(root);\n    }\n    \n    public class DFSAlgorithm&lt;T&gt; implements Iterator&lt;T&gt; {\n        \n        private final Deque&lt;Node&lt;T&gt;&gt; stack = new ArrayDeque&lt;&gt;();\n    \n        public DFSAlgorithm(Node&lt;T&gt; vertex) {\n            this.stack.push(vertex);\n        }\n        \n        @Override\n        public boolean hasNext() {\n            return !stack.isEmpty();\n        }\n        \n        @Override\n        public T next() {\n            Node&lt;T&gt; next = stack.pop();\n            \n            for (Node&lt;T&gt; tNode: next.getListOfChildren()) {\n                stack.push(tNode);\n            }\n            \n            return next.getValue();\n        }\n    }\n    \n    public class Node&lt;T&gt; {\n        // you code without changes here\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17221096"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73964148,"answer_count":1,"score":0,"last_activity_date":1664991649,"creation_date":1664986026,"question_id":73963259,"body_markdown":"I want to realize DFS for my own generic tree with my own nodes.\r\nNodes have this fields\r\n```\r\nprivate T value;\r\nprivate final List&lt;Node&lt;T&gt;&gt; listOfChildren;\r\n```\r\nAnd Tree.class has only Node&lt;T&gt; root field.\r\nMy DFS realization is working fine, but it&#39;s my first work with iterator and I don&#39;t understand how I should @Override methods.\r\n```\r\nimport java.util.ConcurrentModificationException;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Stack;\r\n\r\npublic class DFSAlgorithm&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    private final Stack&lt;Iterator&lt;T&gt;&gt; stack = new Stack&lt;&gt;();\r\n\r\n    private List&lt;Node&lt;T&gt;&gt; listOfChildren;\r\n\r\n    public void DFS(Node&lt;T&gt; vertex) {\r\n        System.out.println(&quot;DFS start&quot;);\r\n        Stack&lt;Node&lt;T&gt;&gt; stack = new Stack&lt;&gt;();\r\n        stack.push(vertex);\r\n        while (!stack.isEmpty()) {\r\n            Node&lt;T&gt; node = stack.pop();\r\n            System.out.println(node.getValue());\r\n            for (Node&lt;T&gt; tNode : node.getListOfChildren()) {\r\n                stack.push(tNode);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void remove() {\r\n        throw new ConcurrentModificationException();\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return this.listOfChildren != null;\r\n    }\r\n\r\n    @Override\r\n    public T next() {\r\n        return null;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nMy Node.class \r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Node&lt;T&gt; {\r\n    private T value;\r\n    private final List&lt;Node&lt;T&gt;&gt; listOfChildren;\r\n\r\n    public Node(){\r\n        super();\r\n        listOfChildren = new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n    }\r\n\r\n    public Node(T value){\r\n        this();\r\n        setValue(value);\r\n    }\r\n\r\n    public T getValue() {\r\n        return value;\r\n    }\r\n\r\n    public List&lt;Node&lt;T&gt;&gt; getListOfChildren() {\r\n        return listOfChildren;\r\n    }\r\n\r\n    public void setValue(T value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public int getNumberOfChildren() {\r\n        return listOfChildren.size();\r\n    }\r\n\r\n    public void addChildren(Node&lt;T&gt; child) {\r\n        listOfChildren.add(child);\r\n    }\r\n}\r\n\r\n```\r\nI don&#39;t understand where I should write Node&lt;T&gt; and where I should write Iterable&lt;T&gt;.\r\nShould I write this methods for stack in DFS or for Tree? \r\nCan you explain this, please, I&#39;m new in java","title":"DFS class that implements Iterator&lt;T&gt;","body":"<p>I want to realize DFS for my own generic tree with my own nodes.\nNodes have this fields</p>\n<pre><code>private T value;\nprivate final List&lt;Node&lt;T&gt;&gt; listOfChildren;\n</code></pre>\n<p>And Tree.class has only Node root field.\nMy DFS realization is working fine, but it's my first work with iterator and I don't understand how I should @Override methods.</p>\n<pre><code>import java.util.ConcurrentModificationException;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Stack;\n\npublic class DFSAlgorithm&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Stack&lt;Iterator&lt;T&gt;&gt; stack = new Stack&lt;&gt;();\n\n    private List&lt;Node&lt;T&gt;&gt; listOfChildren;\n\n    public void DFS(Node&lt;T&gt; vertex) {\n        System.out.println(&quot;DFS start&quot;);\n        Stack&lt;Node&lt;T&gt;&gt; stack = new Stack&lt;&gt;();\n        stack.push(vertex);\n        while (!stack.isEmpty()) {\n            Node&lt;T&gt; node = stack.pop();\n            System.out.println(node.getValue());\n            for (Node&lt;T&gt; tNode : node.getListOfChildren()) {\n                stack.push(tNode);\n            }\n        }\n    }\n\n    @Override\n    public void remove() {\n        throw new ConcurrentModificationException();\n    }\n\n    @Override\n    public boolean hasNext() {\n        return this.listOfChildren != null;\n    }\n\n    @Override\n    public T next() {\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>My Node.class</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Node&lt;T&gt; {\n    private T value;\n    private final List&lt;Node&lt;T&gt;&gt; listOfChildren;\n\n    public Node(){\n        super();\n        listOfChildren = new ArrayList&lt;Node&lt;T&gt;&gt;();\n    }\n\n    public Node(T value){\n        this();\n        setValue(value);\n    }\n\n    public T getValue() {\n        return value;\n    }\n\n    public List&lt;Node&lt;T&gt;&gt; getListOfChildren() {\n        return listOfChildren;\n    }\n\n    public void setValue(T value) {\n        this.value = value;\n    }\n\n    public int getNumberOfChildren() {\n        return listOfChildren.size();\n    }\n\n    public void addChildren(Node&lt;T&gt; child) {\n        listOfChildren.add(child);\n    }\n}\n\n</code></pre>\n<p>I don't understand where I should write Node and where I should write Iterable.\nShould I write this methods for stack in DFS or for Tree?\nCan you explain this, please, I'm new in java</p>\n"},{"tags":["java","spring","properties","annotations","spring-annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1480295625,"post_id":40835785,"comment_id":68888961,"body_markdown":"No, which is why Spring&#39;s functionality exists.","body":"No, which is why Spring&#39;s functionality exists."},{"owner":{"account_id":503248,"reputation":6802,"user_id":1941755,"accept_rate":77,"display_name":"ealfonso"},"score":0,"creation_date":1480369596,"post_id":40835785,"comment_id":68924753,"body_markdown":"Since I wanted a non-spring answer, I shouldn&#39;t have included `spring`-* tags","body":"Since I wanted a non-spring answer, I shouldn&#39;t have included <code>spring</code>-* tags"}],"answers":[{"comments":[{"owner":{"account_id":3000070,"reputation":2420,"user_id":2545722,"accept_rate":69,"display_name":"AFP_555"},"score":12,"creation_date":1510321251,"post_id":40859326,"comment_id":81397974,"body_markdown":"Thank you answering your question. I know this is a bad comment, but it&#39;s rare for people to come back and help others that may have the same problems. So thanks.","body":"Thank you answering your question. I know this is a bad comment, but it&#39;s rare for people to come back and help others that may have the same problems. So thanks."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1554228071,"post_id":40859326,"comment_id":97671852,"body_markdown":"Are you saying you used this to read &quot;application.yml&quot; (emphasis on yml), OR you used this library and (reverted back) to read application.properties file?","body":"Are you saying you used this to read &quot;application.yml&quot; (emphasis on yml), OR you used this library and (reverted back) to read application.properties file?"},{"owner":{"account_id":503248,"reputation":6802,"user_id":1941755,"accept_rate":77,"display_name":"ealfonso"},"score":0,"creation_date":1554240188,"post_id":40859326,"comment_id":97677143,"body_markdown":"I probably read from application.properties using this library, I don&#39;t think yml vs properties mattered to me at the time, but I don&#39;t remember.","body":"I probably read from application.properties using this library, I don&#39;t think yml vs properties mattered to me at the time, but I don&#39;t remember."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1554304939,"post_id":40859326,"comment_id":97704422,"body_markdown":"Ok.  Yeah, I like the syntax of application.yml, but the spring-baggage is too much to bear for just that component.  @AnnotationEasyPeezey.","body":"Ok.  Yeah, I like the syntax of application.yml, but the spring-baggage is too much to bear for just that component.  @AnnotationEasyPeezey."},{"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"score":4,"creation_date":1584662112,"post_id":40859326,"comment_id":107513038,"body_markdown":"I&#39;m surprised that this is the accepted answer with that many upvotes. The original question seemed to be asking for a pure JSR-330 way to achieve what `@Value` does in Spring, e.g. something like `@Inject @Named(&quot;some.property.name&quot;)\nprivate String somePropertyName;` (which AFAIK is not actually supported by any of the frameworks that implement JSR-330). Also, the accepted answer is not annotation-based and, moreover, does not even use dependency injection at all. In my mind, this does not answer the question at all.","body":"I&#39;m surprised that this is the accepted answer with that many upvotes. The original question seemed to be asking for a pure JSR-330 way to achieve what <code>@Value</code> does in Spring, e.g. something like <code>@Inject @Named(&quot;some.property.name&quot;) private String somePropertyName;</code> (which AFAIK is not actually supported by any of the frameworks that implement JSR-330). Also, the accepted answer is not annotation-based and, moreover, does not even use dependency injection at all. In my mind, this does not answer the question at all."},{"owner":{"account_id":503248,"reputation":6802,"user_id":1941755,"accept_rate":77,"display_name":"ealfonso"},"score":0,"creation_date":1584950999,"post_id":40859326,"comment_id":107588082,"body_markdown":"Where does the question ask about pure JSR-330, or that annotations are a hard requirement?","body":"Where does the question ask about pure JSR-330, or that annotations are a hard requirement?"}],"tags":[],"owner":{"account_id":503248,"reputation":6802,"user_id":1941755,"accept_rate":77,"display_name":"ealfonso"},"comment_count":6,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1480845355,"creation_date":1480401730,"answer_id":40859326,"question_id":40835785,"body_markdown":"I ended up using [apache commons configuration][1]:\r\n\r\npom.xml:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nsrc/.../PropertiesLoader.java\r\n\r\n    PropertiesConfiguration config = new PropertiesConfiguration();\r\n    config.load(PROPERTIES_FILENAME);\r\n    config.getInt(&quot;someKey&quot;);\r\n\r\n\r\n/src/main/resources/application.properties\r\n\r\n    someKey: 2\r\n\r\nI did not want to turn my library into a Spring application (I wanted `@Value` annotations, but no application context + `@Component`, extra beans, extra Spring ecosystem/baggage which doesn&#39;t make sense in my project).\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/","title":"Inject application properties without Spring","body":"<p>I ended up using <a href=\"https://commons.apache.org/proper/commons-configuration/\" rel=\"noreferrer\">apache commons configuration</a>:</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n      &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>src/.../PropertiesLoader.java</p>\n\n<pre><code>PropertiesConfiguration config = new PropertiesConfiguration();\nconfig.load(PROPERTIES_FILENAME);\nconfig.getInt(\"someKey\");\n</code></pre>\n\n<p>/src/main/resources/application.properties</p>\n\n<pre><code>someKey: 2\n</code></pre>\n\n<p>I did not want to turn my library into a Spring application (I wanted <code>@Value</code> annotations, but no application context + <code>@Component</code>, extra beans, extra Spring ecosystem/baggage which doesn't make sense in my project).</p>\n"},{"comments":[{"owner":{"account_id":1012271,"reputation":1818,"user_id":1024581,"accept_rate":84,"display_name":"Semjon M&#246;ssinger"},"score":2,"creation_date":1656594977,"post_id":71999794,"comment_id":128615000,"body_markdown":"This should be the accepted answer! This code works pretty well. Why including a whole library if you can accomplish it with 10 lines of self written code.","body":"This should be the accepted answer! This code works pretty well. Why including a whole library if you can accomplish it with 10 lines of self written code."},{"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"score":0,"creation_date":1685531465,"post_id":71999794,"comment_id":134672304,"body_markdown":"OP asks for yaml approach. This solution doesn&#39;t work for YAML files.","body":"OP asks for yaml approach. This solution doesn&#39;t work for YAML files."}],"tags":[],"owner":{"account_id":3994569,"reputation":603,"user_id":3292585,"display_name":"Stone"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1664991498,"creation_date":1650890882,"answer_id":71999794,"question_id":40835785,"body_markdown":"Define application properties here **/src/main/resources/application.properties**\r\n\r\n\r\n**Define PropertiesLoader class**\r\n\r\n```\r\npublic class PropertiesLoader {\r\n\r\n    public static Properties loadProperties() throws IOException {\r\n        Properties configuration = new Properties();\r\n        InputStream inputStream = PropertiesLoader.class\r\n          .getClassLoader()\r\n          .getResourceAsStream(&quot;application.properties&quot;);\r\n        configuration.load(inputStream);\r\n        inputStream.close();\r\n        return configuration;\r\n    }\r\n}\r\n```\r\n\r\nInject property value in the required class like below,\r\n```\r\n    Properties conf = PropertiesLoader.loadProperties();\r\n    String property = conf.getProperty(key);\r\n```\r\n","title":"Inject application properties without Spring","body":"<p>Define application properties here <strong>/src/main/resources/application.properties</strong></p>\n<p><strong>Define PropertiesLoader class</strong></p>\n<pre><code>public class PropertiesLoader {\n\n    public static Properties loadProperties() throws IOException {\n        Properties configuration = new Properties();\n        InputStream inputStream = PropertiesLoader.class\n          .getClassLoader()\n          .getResourceAsStream(&quot;application.properties&quot;);\n        configuration.load(inputStream);\n        inputStream.close();\n        return configuration;\n    }\n}\n</code></pre>\n<p>Inject property value in the required class like below,</p>\n<pre><code>    Properties conf = PropertiesLoader.loadProperties();\n    String property = conf.getProperty(key);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3528523,"reputation":21,"user_id":2948875,"display_name":"GrugBrainedDeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661850431,"creation_date":1661850431,"answer_id":73539823,"question_id":40835785,"body_markdown":"I stumbled upon this answer on google, yet i&#39;m not satisfied.\r\n\r\nIn the end I created Environment class that uses both application properties from @Stone answer and hardcoded env variables. But Im still looking for better options, since I cannot modify ENV_VARIABLE name inside application.propeties, which is what I originally wanted.\r\n```\r\npublic class EnvironmentPlainJava {\r\n\r\n    public int httpsPort() {\r\n        return Integer.parseInt(PropertiesLoader.loadProperties().getProperty(&quot;https.port&quot;));\r\n    }\r\n\r\n    public String keyStorePath() {\r\n        return System.getenv(&quot;KEY_STORE_PATH&quot;);\r\n    }\r\n}\r\n```","title":"Inject application properties without Spring","body":"<p>I stumbled upon this answer on google, yet i'm not satisfied.</p>\n<p>In the end I created Environment class that uses both application properties from @Stone answer and hardcoded env variables. But Im still looking for better options, since I cannot modify ENV_VARIABLE name inside application.propeties, which is what I originally wanted.</p>\n<pre><code>public class EnvironmentPlainJava {\n\n    public int httpsPort() {\n        return Integer.parseInt(PropertiesLoader.loadProperties().getProperty(&quot;https.port&quot;));\n    }\n\n    public String keyStorePath() {\n        return System.getenv(&quot;KEY_STORE_PATH&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663531250,"creation_date":1663531250,"answer_id":73766027,"question_id":40835785,"body_markdown":"For reference, here is an idiomatic Kotlin version of the @Stone code (using `ClassPathResource` Spring utility class - doesn&#39;t require running Spring!):\r\n```\r\nfun loadProperties(properties: String = &quot;application.properties&quot;): Properties =\r\n    ClassPathResource(properties).inputStream.use { inputStream -&gt;\r\n        Properties().also {\r\n            it.load(inputStream)\r\n        }\r\n    }\r\n```","title":"Inject application properties without Spring","body":"<p>For reference, here is an idiomatic Kotlin version of the @Stone code (using <code>ClassPathResource</code> Spring utility class - doesn't require running Spring!):</p>\n<pre><code>fun loadProperties(properties: String = &quot;application.properties&quot;): Properties =\n    ClassPathResource(properties).inputStream.use { inputStream -&gt;\n        Properties().also {\n            it.load(inputStream)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":503248,"reputation":6802,"user_id":1941755,"accept_rate":77,"display_name":"ealfonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23311,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":40859326,"answer_count":4,"score":16,"last_activity_date":1664991498,"creation_date":1480295217,"question_id":40835785,"body_markdown":"I would like a simple, preferably annotation-based way to inject external properties into a java program, without using the spring framework (`org.springframework.beans.factory.annotation.Value;`)\r\n\r\nSomeClass.java\r\n\r\n    @Value(&quot;${some.property.name}&quot;)\r\n    private String somePropertyName;\r\n\r\napplication.yml\r\n\r\n    some:\r\n      property:\r\n        name: someValue\r\n\r\nIs there a recommended way to do this in the standard library?","title":"Inject application properties without Spring","body":"<p>I would like a simple, preferably annotation-based way to inject external properties into a java program, without using the spring framework (<code>org.springframework.beans.factory.annotation.Value;</code>)</p>\n\n<p>SomeClass.java</p>\n\n<pre><code>@Value(\"${some.property.name}\")\nprivate String somePropertyName;\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>some:\n  property:\n    name: someValue\n</code></pre>\n\n<p>Is there a recommended way to do this in the standard library?</p>\n"},{"tags":["java","spring","spring-test"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664993017,"post_id":73964198,"comment_id":130597434,"body_markdown":"You have to manually load spring context for each profile","body":"You have to manually load spring context for each profile"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1665052411,"post_id":73964198,"comment_id":130611104,"body_markdown":"only way i know is to split tests requiring different profiles to different classes, both with needed `@ActiveProfiles(&quot;xxx&quot;)` then if You run all project tests there will be two spring contexts","body":"only way i know is to split tests requiring different profiles to different classes, both with needed <code>@ActiveProfiles(&quot;xxx&quot;)</code> then if You run all project tests there will be two spring contexts"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664991024,"creation_date":1664991024,"question_id":73964198,"body_markdown":"How can I change the Spring profile between tests in order to repopulate the `@Component` `DatabaseEnabledTenants` with different values? Is that even possible?\r\n\r\nI&#39;d like to validate different behaviour based on `DatabaseEnabledTenants` containing different values.\r\n\r\n```\r\n@SpringBootTest(classes = App.class)\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class DatabaseTenantsTest {\r\n\r\n  @Autowired\r\n  public DatabaseEnabledTenants databaseEnabledTenants;\r\n\r\n  @Test\r\n  public void test1() throws Exception {\r\n\r\n    System.out.println(databaseEnabledTenants.getTenants());\r\n  }\r\n\r\n  @Test\r\n  public void test2() throws Exception {\r\n\r\n    System.out.println(databaseEnabledTenants.getTenants());\r\n  }\r\n}\r\n```\r\n\r\n`application-test.yml`:\r\n```\r\nmulti-tenancy:\r\n  tenants:\r\n    &quot;001&quot;:\r\n      tenantId: &quot;001&quot;\r\n    &quot;002&quot;:\r\n      tenantId: &quot;002&quot;\r\n    &quot;003&quot;:\r\n      tenantId: &quot;003&quot;\r\n```\r\n\r\n`application-test2.yml`:\r\n```\r\nmulti-tenancy:\r\n  tenants:\r\n    &quot;001&quot;:\r\n      tenantId: &quot;&quot;\r\n    &quot;002&quot;:\r\n      tenantId: &quot;&quot;\r\n    &quot;003&quot;:\r\n      tenantId: &quot;&quot;\r\n```\r\n\r\n`DatabaseEnabledTenants.java`:\r\n```\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;multi-tenancy&quot;)\r\npublic class DatabaseEnabledTenants {\r\n\r\n  @NotNull private Map&lt;String, String&gt; tenants = new HashMap&lt;&gt;();\r\n\r\n  public Map&lt;String, String&gt; getTenants() {\r\n    return tenants;\r\n  }\r\n\r\n  public void setTenants(Map&lt;String, String&gt; tenants) {\r\n    this.tenants = tenants;\r\n  }\r\n}\r\n```","title":"How to change Spring Profile between tests in order to repopulate an autowired component?","body":"<p>How can I change the Spring profile between tests in order to repopulate the <code>@Component</code> <code>DatabaseEnabledTenants</code> with different values? Is that even possible?</p>\n<p>I'd like to validate different behaviour based on <code>DatabaseEnabledTenants</code> containing different values.</p>\n<pre><code>@SpringBootTest(classes = App.class)\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\npublic class DatabaseTenantsTest {\n\n  @Autowired\n  public DatabaseEnabledTenants databaseEnabledTenants;\n\n  @Test\n  public void test1() throws Exception {\n\n    System.out.println(databaseEnabledTenants.getTenants());\n  }\n\n  @Test\n  public void test2() throws Exception {\n\n    System.out.println(databaseEnabledTenants.getTenants());\n  }\n}\n</code></pre>\n<p><code>application-test.yml</code>:</p>\n<pre><code>multi-tenancy:\n  tenants:\n    &quot;001&quot;:\n      tenantId: &quot;001&quot;\n    &quot;002&quot;:\n      tenantId: &quot;002&quot;\n    &quot;003&quot;:\n      tenantId: &quot;003&quot;\n</code></pre>\n<p><code>application-test2.yml</code>:</p>\n<pre><code>multi-tenancy:\n  tenants:\n    &quot;001&quot;:\n      tenantId: &quot;&quot;\n    &quot;002&quot;:\n      tenantId: &quot;&quot;\n    &quot;003&quot;:\n      tenantId: &quot;&quot;\n</code></pre>\n<p><code>DatabaseEnabledTenants.java</code>:</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;multi-tenancy&quot;)\npublic class DatabaseEnabledTenants {\n\n  @NotNull private Map&lt;String, String&gt; tenants = new HashMap&lt;&gt;();\n\n  public Map&lt;String, String&gt; getTenants() {\n    return tenants;\n  }\n\n  public void setTenants(Map&lt;String, String&gt; tenants) {\n    this.tenants = tenants;\n  }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","hashmap","deserialization"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664990716,"creation_date":1664990716,"answer_id":73964133,"question_id":73963994,"body_markdown":"In JSON object you have `Attributes` is an object (Map) but in your `MyCustomObject` class you trying to convert it to an array (List). So because of that you getting error.\r\n\r\nPlease change `private List&lt;Map&lt;String, String&gt;&gt; attributes;` to `private Map&lt;String, String&gt; attributes;` Remove list then check it will convert data successfully.\r\n\r\n```\r\n@JsonInclude(JsonInclude.Include.ALWAYS)\r\n@JsonPropertyOrder({&quot;CustomId&quot;, &quot;Attributes&quot;})\r\n\r\n@Generated(&quot;jsonschema2pojo&quot;)\r\npublic class MyCustomObject {\r\n\r\n    public MyCustomObject() {}\r\n\r\n    @JsonProperty(&quot;CustomId&quot;)\r\n    private String customId;\r\n\r\n    @JsonProperty(&quot;Attributes&quot;)\r\n    private Map&lt;String, String&gt; attributes;\r\n\r\n    @JsonProperty(&quot;CustomId&quot;)\r\n    public String getCustomId() {\r\n        return customId;\r\n    }\r\n\r\n    @JsonProperty(&quot;CustomId&quot;)\r\n    public void setCustomId(String customId) {\r\n        this.customId = customId;\r\n    }\r\n\r\n    @JsonSerialize(keyUsing = MapSerializer.class)\r\n    @JsonProperty(&quot;Attributes&quot;)\r\n    public Map&lt;String, String&gt; getAttributes() {\r\n        return attributes;\r\n    }\r\n\r\n    @JsonProperty(&quot;Attributes&quot;)\r\n    public void setAttributes(Map&lt;String, String&gt; attributes) {\r\n        this.attributes = attributes;\r\n    }\r\n}\r\n```","title":"Serialize Json with List&lt;Map..&gt; into custom object using Jackson","body":"<p>In JSON object you have <code>Attributes</code> is an object (Map) but in your <code>MyCustomObject</code> class you trying to convert it to an array (List). So because of that you getting error.</p>\n<p>Please change <code>private List&lt;Map&lt;String, String&gt;&gt; attributes;</code> to <code>private Map&lt;String, String&gt; attributes;</code> Remove list then check it will convert data successfully.</p>\n<pre><code>@JsonInclude(JsonInclude.Include.ALWAYS)\n@JsonPropertyOrder({&quot;CustomId&quot;, &quot;Attributes&quot;})\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class MyCustomObject {\n\n    public MyCustomObject() {}\n\n    @JsonProperty(&quot;CustomId&quot;)\n    private String customId;\n\n    @JsonProperty(&quot;Attributes&quot;)\n    private Map&lt;String, String&gt; attributes;\n\n    @JsonProperty(&quot;CustomId&quot;)\n    public String getCustomId() {\n        return customId;\n    }\n\n    @JsonProperty(&quot;CustomId&quot;)\n    public void setCustomId(String customId) {\n        this.customId = customId;\n    }\n\n    @JsonSerialize(keyUsing = MapSerializer.class)\n    @JsonProperty(&quot;Attributes&quot;)\n    public Map&lt;String, String&gt; getAttributes() {\n        return attributes;\n    }\n\n    @JsonProperty(&quot;Attributes&quot;)\n    public void setAttributes(Map&lt;String, String&gt; attributes) {\n        this.attributes = attributes;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":188169,"reputation":1003,"user_id":426746,"accept_rate":77,"display_name":"Nayrb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73964133,"answer_count":1,"score":0,"last_activity_date":1664990716,"creation_date":1664989881,"question_id":73963994,"body_markdown":"I have a custom object that has a handful of properties and even has other objects. It also has a List&lt;Map&lt;String, String&gt;&gt; that I am trying to deserialize from json using Jackson and the Object mapper using only annotations.\r\n\r\nMy Custom object looks like this,\r\n\r\n    import javax.annotation.Generated;\r\n    import com.fasterxml.jackson.annotation.*;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.databind.ser.std.MapSerializer;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    @JsonInclude(JsonInclude.Include.ALWAYS)\r\n    @JsonPropertyOrder({\r\n            &quot;CustomId&quot;,\r\n            &quot;Attributes&quot;\r\n    })\r\n    \r\n    @Generated(&quot;jsonschema2pojo&quot;)\r\n    public class MyCustomObject {\r\n    \r\n        public MyCustomObject(){\r\n        }\r\n    \r\n        @JsonProperty(&quot;CustomId&quot;)\r\n        private String customId;\r\n    \r\n        @JsonProperty(&quot;Attributes&quot;)\r\n        private List&lt;Map&lt;String, String&gt;&gt; attributes;\r\n    \r\n        @JsonProperty(&quot;CustomId&quot;)\r\n        public String getCustomId() {\r\n            return customId;\r\n        }\r\n    \r\n        @JsonProperty(&quot;CustomId&quot;)\r\n        public void setCustomId(String customId) {\r\n            this.customId = customId;\r\n        }\r\n    \r\n        @JsonSerialize(keyUsing = MapSerializer.class)\r\n        @JsonProperty(&quot;Attributes&quot;)\r\n        public List&lt;Map&lt;String, String&gt;&gt; getAttributes() {\r\n            return attributes;\r\n        }\r\n    \r\n        @JsonProperty(&quot;Attributes&quot;)\r\n        public void setAttributes(List&lt;Map&lt;String, String&gt;&gt; attributes) {\r\n            this.attributes = attributes;\r\n        }\r\n    }\r\n\r\nHere are 3 examples of what the json response might look like,\r\n\r\n    {\r\n    \t&quot;CustomId&quot;: &quot;9610&quot;,\r\n    \t&quot;Attributes&quot;: {}\r\n    }\r\n    \r\n    \r\n    {\r\n    \t&quot;CustomId&quot;: &quot;9610&quot;,\r\n    \t&quot;Attributes&quot;: {\r\n                &quot;Test&quot;: 0\r\n            }\r\n    }\r\n    \r\n    {\r\n    \t&quot;CustomId&quot;: &quot;9610&quot;,\r\n    \t&quot;Attributes&quot;: {\r\n                &quot;Test1&quot;: 3,\r\n    \t\t\t&quot;Test2&quot;: 4\r\n            }\r\n    }\r\n\r\nThis is line I am using to parse the json and where my error occurs.\r\n\r\n    String result = (... A returned Json string);\r\n    strategy = objectMapper.readValue(result, new TypeReference&lt;MyCustomObject&gt;() {});\r\n\r\nLastly, the error I am receiving.\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token....\r\n    ....[truncated 270 chars]; line: 1, column: 768] \r\n     (through reference chain: com.model.jackson.MyCustomObject[&quot;Attributes&quot;])\r\n\r\nAre there any annotations I am missing? Are there any other examples out there of parsing into a list&lt;map...&gt;&gt; ?","title":"Serialize Json with List&lt;Map..&gt; into custom object using Jackson","body":"<p>I have a custom object that has a handful of properties and even has other objects. It also has a List&lt;Map&lt;String, String&gt;&gt; that I am trying to deserialize from json using Jackson and the Object mapper using only annotations.</p>\n<p>My Custom object looks like this,</p>\n<pre><code>import javax.annotation.Generated;\nimport com.fasterxml.jackson.annotation.*;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.databind.ser.std.MapSerializer;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Map;\n\n@JsonInclude(JsonInclude.Include.ALWAYS)\n@JsonPropertyOrder({\n        &quot;CustomId&quot;,\n        &quot;Attributes&quot;\n})\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class MyCustomObject {\n\n    public MyCustomObject(){\n    }\n\n    @JsonProperty(&quot;CustomId&quot;)\n    private String customId;\n\n    @JsonProperty(&quot;Attributes&quot;)\n    private List&lt;Map&lt;String, String&gt;&gt; attributes;\n\n    @JsonProperty(&quot;CustomId&quot;)\n    public String getCustomId() {\n        return customId;\n    }\n\n    @JsonProperty(&quot;CustomId&quot;)\n    public void setCustomId(String customId) {\n        this.customId = customId;\n    }\n\n    @JsonSerialize(keyUsing = MapSerializer.class)\n    @JsonProperty(&quot;Attributes&quot;)\n    public List&lt;Map&lt;String, String&gt;&gt; getAttributes() {\n        return attributes;\n    }\n\n    @JsonProperty(&quot;Attributes&quot;)\n    public void setAttributes(List&lt;Map&lt;String, String&gt;&gt; attributes) {\n        this.attributes = attributes;\n    }\n}\n</code></pre>\n<p>Here are 3 examples of what the json response might look like,</p>\n<pre><code>{\n    &quot;CustomId&quot;: &quot;9610&quot;,\n    &quot;Attributes&quot;: {}\n}\n\n\n{\n    &quot;CustomId&quot;: &quot;9610&quot;,\n    &quot;Attributes&quot;: {\n            &quot;Test&quot;: 0\n        }\n}\n\n{\n    &quot;CustomId&quot;: &quot;9610&quot;,\n    &quot;Attributes&quot;: {\n            &quot;Test1&quot;: 3,\n            &quot;Test2&quot;: 4\n        }\n}\n</code></pre>\n<p>This is line I am using to parse the json and where my error occurs.</p>\n<pre><code>String result = (... A returned Json string);\nstrategy = objectMapper.readValue(result, new TypeReference&lt;MyCustomObject&gt;() {});\n</code></pre>\n<p>Lastly, the error I am receiving.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token....\n....[truncated 270 chars]; line: 1, column: 768] \n (through reference chain: com.model.jackson.MyCustomObject[&quot;Attributes&quot;])\n</code></pre>\n<p>Are there any annotations I am missing? Are there any other examples out there of parsing into a list&lt;map...&gt;&gt; ?</p>\n"},{"tags":["java","jakarta-ee","design-patterns","dao"],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1417186963,"creation_date":1370772532,"answer_id":17008537,"question_id":17008521,"body_markdown":"The DAO is responsible for getting a business object in a storage independent way.\r\nFor example you can create a DAO for accessing a customer like\r\n\r\n    public interface CustomerDAO {\r\n        public Customer getCustomerById(Integer id)\r\n  \r\n    }\r\n\r\nand then implement a data access in jdbc\r\n\r\n    public class JdbcCustomerDao {\r\n\r\n        public Customer getCustomerById(Integer id){\r\n            DataSource dataSource ...;\r\n\r\n             Connection con = dataSource.getConnection(...);\r\n        }\r\n    }\r\n\r\nor implement an CustomerDao that accesses a web service or whatelse.\r\nThe advantage of the CustomerDao is that a client (the code that uses the CustomerDao)\r\nis independent of the concreate storage technology. That&#39;s why you should desing the DAO API without storage dependencies. A good hint is the import statements of the CustomerDAO interface. If the CustomerDAO import statements contain something like:\r\n\r\n    import javax.sql.***\r\n\r\nyou should re-think the design of your API.\r\nBut keep in mind that you can also introduce API dependencies with strings.\r\nE.g.\r\n\r\n    public Customer findCustomer(String sqlWhereClause){\r\n       ...\r\n    }\r\n\r\n\r\nThe business object holds the data an it is the place where you should\r\nput the domain logic at. If you are using a rich domain model approach.\r\n\r\nFor details see https://stackoverflow.com/questions/6293981/concrete-examples-on-why-the-anemic-domain-model-is-considered-an-anti-pattern/15020493#15020493","title":"DAO pattern in java what is a Business Object","body":"<p>The DAO is responsible for getting a business object in a storage independent way.\nFor example you can create a DAO for accessing a customer like</p>\n\n<pre><code>public interface CustomerDAO {\n    public Customer getCustomerById(Integer id)\n\n}\n</code></pre>\n\n<p>and then implement a data access in jdbc</p>\n\n<pre><code>public class JdbcCustomerDao {\n\n    public Customer getCustomerById(Integer id){\n        DataSource dataSource ...;\n\n         Connection con = dataSource.getConnection(...);\n    }\n}\n</code></pre>\n\n<p>or implement an CustomerDao that accesses a web service or whatelse.\nThe advantage of the CustomerDao is that a client (the code that uses the CustomerDao)\nis independent of the concreate storage technology. That's why you should desing the DAO API without storage dependencies. A good hint is the import statements of the CustomerDAO interface. If the CustomerDAO import statements contain something like:</p>\n\n<pre><code>import javax.sql.***\n</code></pre>\n\n<p>you should re-think the design of your API.\nBut keep in mind that you can also introduce API dependencies with strings.\nE.g.</p>\n\n<pre><code>public Customer findCustomer(String sqlWhereClause){\n   ...\n}\n</code></pre>\n\n<p>The business object holds the data an it is the place where you should\nput the domain logic at. If you are using a rich domain model approach.</p>\n\n<p>For details see <a href=\"https://stackoverflow.com/questions/6293981/concrete-examples-on-why-the-anemic-domain-model-is-considered-an-anti-pattern/15020493#15020493\">Concrete examples on why the &#39;Anemic Domain Model&#39; is considered an anti-pattern</a></p>\n"},{"comments":[{"owner":{"account_id":2296572,"reputation":12748,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"score":1,"creation_date":1370772986,"post_id":17008541,"comment_id":24577539,"body_markdown":"Thanks! an application service.. easy. I think there are not many resource on line that explain in detail for the layman about this DAO pattern.","body":"Thanks! an application service.. easy. I think there are not many resource on line that explain in detail for the layman about this DAO pattern."},{"owner":{"account_id":2096177,"reputation":1707,"user_id":1864883,"accept_rate":68,"display_name":"wviana"},"score":0,"creation_date":1497017058,"post_id":17008541,"comment_id":75915962,"body_markdown":"Broken link. :(","body":"Broken link. :("}],"tags":[],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1370772588,"creation_date":1370772588,"answer_id":17008541,"question_id":17008521,"body_markdown":"&gt; Business objects are objects that concentrate all the logic of your\r\n&gt; application. Use Business Objects to separate business data and logic using an object model.\r\n\r\n[`SEE HERE`][1]\r\n\r\n\r\n  [1]: http://www.corej2eepatterns.com/Patterns2ndEd/BusinessObject.htm","title":"DAO pattern in java what is a Business Object","body":"<blockquote>\n  <p>Business objects are objects that concentrate all the logic of your\n  application. Use Business Objects to separate business data and logic using an object model.</p>\n</blockquote>\n\n<p><a href=\"http://www.corej2eepatterns.com/Patterns2ndEd/BusinessObject.htm\" rel=\"noreferrer\"><code>SEE HERE</code></a></p>\n"},{"tags":[],"owner":{"account_id":9511513,"reputation":81,"user_id":7069297,"display_name":"Fabusuyi012"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513721193,"creation_date":1513692712,"answer_id":47888836,"question_id":17008521,"body_markdown":"I&#39;m no expert in this,\r\nbut I think the layman&#39;s explanation I would give to business object is this: business objects hold instance variables and attributes needed for a data access (e.g database) and business logic (for example, a Java class handling real operations) to communicate.\r\n\r\nThe business object usually does nothing for itself.\r\nFor example,\r\na phone can be a business object between a person and a news portal,\r\nthe phone doesn&#39;t do anything itself,\r\nit just holds the browser and internet configuration settings needed by both parties.","title":"DAO pattern in java what is a Business Object","body":"<p>I'm no expert in this,\nbut I think the layman's explanation I would give to business object is this: business objects hold instance variables and attributes needed for a data access (e.g database) and business logic (for example, a Java class handling real operations) to communicate.</p>\n\n<p>The business object usually does nothing for itself.\nFor example,\na phone can be a business object between a person and a news portal,\nthe phone doesn't do anything itself,\nit just holds the browser and internet configuration settings needed by both parties.</p>\n"},{"tags":[],"owner":{"account_id":257535,"reputation":19557,"user_id":539023,"accept_rate":11,"display_name":"kta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557296302,"creation_date":1557294711,"answer_id":56034322,"question_id":17008521,"body_markdown":"In addition -\r\n\r\nWhen you start implementing all your business classes, I am assuming you already have some couple of DAOs in hand.\r\n\r\nLet‚Äôs take an example, a blogBO requires blogDAO to create or retrieve an existing blog from the database. \r\n\r\nHowever, a blog contains it‚Äôs associated collection of comments. blogBO may have function getComments() that looks into the database using commentBO ( that uses commmentDAO) and reads all comments associated to that blog using that DAO. All these activities belong to business that you are adding in blogBO.\r\n\r\nAll the underlying DAOs should communicate and returns data to the business layer through TO (transfer object or value object.) However, you should already have an associative value object every of your DAO.\r\n","title":"DAO pattern in java what is a Business Object","body":"<p>In addition -</p>\n\n<p>When you start implementing all your business classes, I am assuming you already have some couple of DAOs in hand.</p>\n\n<p>Let‚Äôs take an example, a blogBO requires blogDAO to create or retrieve an existing blog from the database. </p>\n\n<p>However, a blog contains it‚Äôs associated collection of comments. blogBO may have function getComments() that looks into the database using commentBO ( that uses commmentDAO) and reads all comments associated to that blog using that DAO. All these activities belong to business that you are adding in blogBO.</p>\n\n<p>All the underlying DAOs should communicate and returns data to the business layer through TO (transfer object or value object.) However, you should already have an associative value object every of your DAO.</p>\n"},{"tags":[],"owner":{"account_id":253649,"reputation":2214,"user_id":532504,"accept_rate":86,"display_name":"Artem A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664990700,"creation_date":1664990700,"answer_id":73964126,"question_id":17008521,"body_markdown":"Business object is a total anti-pattern with spagetti code breaking SOLID. Use DDD, Luke.","title":"DAO pattern in java what is a Business Object","body":"<p>Business object is a total anti-pattern with spagetti code breaking SOLID. Use DDD, Luke.</p>\n"}],"owner":{"account_id":2296572,"reputation":12748,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28869,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":17008541,"answer_count":5,"score":6,"last_activity_date":1664990700,"creation_date":1370772412,"question_id":17008521,"body_markdown":"Directly from [this][1] oracle article about the J2EE DAO Pattern:\r\n\r\nEverything is very clear indeed but the Business Object &quot;participant&quot; (as they call it).\r\n\r\nHere I quote the bit I would like more insights about (especially would be useful a real life example (an easy one)).\r\n\r\n&gt;    BusinessObject\r\n&gt; \r\n&gt; The BusinessObject represents the data client. It is the object that\r\n&gt; requires access to the data source to obtain and store data. A\r\n&gt; BusinessObject may be implemented as a session bean, entity bean, or\r\n&gt; some other Java object, in addition to a servlet or helper bean that\r\n&gt; accesses the data source.\r\n\r\nI am trying to use this pattern as an exercise (as a student for the exam OCPJP it requires to understand the DAO Pattern). So far I have my DataSource (mysql database), my transfer object (JavaBean called Person) and my DAO object interfacing properly between the database and the JavaBean (Person).\r\n\r\nSo again What exactly a Business Object is?\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/dataaccessobject-138824.html","title":"DAO pattern in java what is a Business Object","body":"<p>Directly from <a href=\"http://www.oracle.com/technetwork/java/dataaccessobject-138824.html\" rel=\"noreferrer\">this</a> oracle article about the J2EE DAO Pattern:</p>\n\n<p>Everything is very clear indeed but the Business Object \"participant\" (as they call it).</p>\n\n<p>Here I quote the bit I would like more insights about (especially would be useful a real life example (an easy one)).</p>\n\n<blockquote>\n  <p>BusinessObject</p>\n  \n  <p>The BusinessObject represents the data client. It is the object that\n  requires access to the data source to obtain and store data. A\n  BusinessObject may be implemented as a session bean, entity bean, or\n  some other Java object, in addition to a servlet or helper bean that\n  accesses the data source.</p>\n</blockquote>\n\n<p>I am trying to use this pattern as an exercise (as a student for the exam OCPJP it requires to understand the DAO Pattern). So far I have my DataSource (mysql database), my transfer object (JavaBean called Person) and my DAO object interfacing properly between the database and the JavaBean (Person).</p>\n\n<p>So again What exactly a Business Object is?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1664780482,"post_id":73931140,"comment_id":130541597,"body_markdown":"The code in the question meets the criteria to use `log4j-1.2-api`. And the `Category` class was never removed.","body":"The code in the question meets the criteria to use <code>log4j-1.2-api</code>. And the <code>Category</code> class was never removed."},{"owner":{"account_id":4641128,"reputation":135,"user_id":3766089,"accept_rate":0,"display_name":"Sam"},"score":0,"creation_date":1664997361,"post_id":73931140,"comment_id":130598822,"body_markdown":"Thanks both for your inputs. Helped me to fine tune my log xml now able to generate the logging properly. Just one more query I have added logger on specific server package and db package to print logs only when the logs are warn level to Console Appender and Console appender is also set on debug level in root level. Have edited my xml above please let me know if I&#39;m missing something.","body":"Thanks both for your inputs. Helped me to fine tune my log xml now able to generate the logging properly. Just one more query I have added logger on specific server package and db package to print logs only when the logs are warn level to Console Appender and Console appender is also set on debug level in root level. Have edited my xml above please let me know if I&#39;m missing something."}],"tags":[],"owner":{"account_id":8142585,"reputation":182,"user_id":6132227,"display_name":"Vikas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664771527,"creation_date":1664771527,"answer_id":73931140,"question_id":73930550,"body_markdown":"You will have to make code changes:\r\nThis class has been deprecated and replaced by the Logger subclass. It will be kept around to preserve backward compatibility until mid 2003.\r\nSource: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html\r\n\r\nLog4j2 bridge doesn&#39;t seem to support this:\r\nApplications can migrate by just using the bridge without further code changes, if they meet the following requirements:\r\nThey must not access methods and classes internal to the Log4j 1.x implementation such as Appenders, LoggerRepository or Category&#39;s callAppenders\r\nSource: https://logging.apache.org/log4j/2.x/manual/migration.html\r\n\r\n","title":"Lo4j2 config setup","body":"<p>You will have to make code changes:\nThis class has been deprecated and replaced by the Logger subclass. It will be kept around to preserve backward compatibility until mid 2003.\nSource: <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html</a></p>\n<p>Log4j2 bridge doesn't seem to support this:\nApplications can migrate by just using the bridge without further code changes, if they meet the following requirements:\nThey must not access methods and classes internal to the Log4j 1.x implementation such as Appenders, LoggerRepository or Category's callAppenders\nSource: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n"},{"comments":[{"owner":{"account_id":4641128,"reputation":135,"user_id":3766089,"accept_rate":0,"display_name":"Sam"},"score":0,"creation_date":1664989100,"post_id":73932575,"comment_id":130596187,"body_markdown":"@Karwasz, my bad submitted the confusing code.","body":"@Karwasz, my bad submitted the confusing code."}],"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664783971,"creation_date":1664783971,"answer_id":73932575,"question_id":73930550,"body_markdown":"Your code does not use Log4j2 (packages `org.apache.logging.log4j.*`) but Log4j (1.x, package `org.apache.log4j.*`).\r\n\r\nYou need to use the Log4j-to-Log4j2 bridge to forward your logging messages to Log4j2 (cf. [migration](https://logging.apache.org/log4j/2.x/manual/migration.html)): this sums up to replacing the [`log4j:log4j`](https://mvnrepository.com/artifact/log4j/log4j) with [`org.apache.logging.log4j:log4j-1.2-api`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api).\r\n\r\nThere are also a couple of typos in your configuration:\r\n\r\n - the name of the rolling file appender (&quot;Applog&quot;) does not match its appender reference (&quot;EDMLog&quot;),\r\n - the `fileName` of the rolling file appender probably points to a non-existent directory `/logs` which your Tomcat server can not create. Try `${sys:catalina.base}/logs/AppService.log` instead.\r\n\r\nInstead of adding a `ThresholdFilter` to an appender, you can add a `level` setting to the appender reference:\r\n\r\n```lang-xml\r\n&lt;Logger name=&quot;com.java.app.restservices.migration&quot;  additivity=&quot;false&quot;&gt;         \r\n    &lt;AppenderRef ref=&quot;Applog&quot; level=&quot;INFO&quot;/&gt;\r\n&lt;/Logger&gt;\r\n```","title":"Lo4j2 config setup","body":"<p>Your code does not use Log4j2 (packages <code>org.apache.logging.log4j.*</code>) but Log4j (1.x, package <code>org.apache.log4j.*</code>).</p>\n<p>You need to use the Log4j-to-Log4j2 bridge to forward your logging messages to Log4j2 (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration</a>): this sums up to replacing the <a href=\"https://mvnrepository.com/artifact/log4j/log4j\" rel=\"nofollow noreferrer\"><code>log4j:log4j</code></a> with <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j:log4j-1.2-api</code></a>.</p>\n<p>There are also a couple of typos in your configuration:</p>\n<ul>\n<li>the name of the rolling file appender (&quot;Applog&quot;) does not match its appender reference (&quot;EDMLog&quot;),</li>\n<li>the <code>fileName</code> of the rolling file appender probably points to a non-existent directory <code>/logs</code> which your Tomcat server can not create. Try <code>${sys:catalina.base}/logs/AppService.log</code> instead.</li>\n</ul>\n<p>Instead of adding a <code>ThresholdFilter</code> to an appender, you can add a <code>level</code> setting to the appender reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Logger name=&quot;com.java.app.restservices.migration&quot;  additivity=&quot;false&quot;&gt;         \n    &lt;AppenderRef ref=&quot;Applog&quot; level=&quot;INFO&quot;/&gt;\n&lt;/Logger&gt;\n</code></pre>\n"}],"owner":{"account_id":4641128,"reputation":135,"user_id":3766089,"accept_rate":0,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73931140,"answer_count":2,"score":0,"last_activity_date":1664990589,"creation_date":1664762693,"question_id":73930550,"body_markdown":"I&#39;m trying to setup log4j2 config xml. I had made below setup for logging specific package under different log files.\r\n\r\nLog4j2.xml config file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \r\n&lt;configuration status=&quot;error&quot;&gt;  \r\n  \r\n    &lt;Appenders&gt;  \r\n\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;  \r\n\r\n            &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;  \r\n\r\n            &lt;PatternLayout pattern=&quot;[%d{yyyy-MM-dd HH:mm:ss.SSS}][%t][%-5level][%class{36}][%L][%M]: %msg%xEx%n&quot;/&gt;  \r\n        &lt;/Console&gt;  \r\n  \r\n\r\n\t\t&lt;RollingFile name=&quot;Applog&quot; fileName=&quot;/logs/AppService.log&quot; filePattern=&quot;/usr/local/tomcat/logs/AppService.log-%d{yyyy-MM-dd}&quot;&gt;  \r\n            &lt;PatternLayout pattern=&quot;[%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %class{36} %L %M ]: %msg%xEx%n&quot;/&gt;  \r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;  \r\n\r\n    &lt;/Appenders&gt; \r\n\r\n    &lt;loggers&gt;  \t          \r\n\r\n\t\t&lt;logger name=&quot;com.java.app.restservices.migration&quot;  additivity=&quot;false&quot;&gt;        \t\r\n\t\t\t&lt;AppenderRef ref=&quot;Applog&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.apache&quot;  level=&quot;warn&quot; additivity=&quot;false&quot;&gt;        \t\r\n\t\t\t&lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n       &lt;logger name=&quot;org.exolab&quot;  level=&quot;warn&quot; additivity=&quot;false&quot;&gt;        \t\r\n\t\t\t&lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n\t\t&lt;logger name=&quot;com.java.app&quot;  additivity=&quot;false&quot;&gt;        \r\n\t\t\t&lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n\t\t&lt;/logger&gt;\r\n\r\n     \r\n\t\t&lt;root level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;              \r\n        &lt;/root&gt;\r\n\r\n    &lt;/loggers&gt;  \r\n&lt;/configuration&gt;  \r\n\r\n```\r\n\r\nJava class example:\r\n\r\n```\r\npackage com.java.app;\r\n\r\nimport org.apache.log4j.Category;\r\n\r\npublic class HelloWorld {\r\n\r\n\t private static Category category = Category.getInstance(HelloWorld.class.getName());\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t    \tcategory.debug(&quot;Hello from Log4j 2&quot;);\r\n\t    \tcategory.info(&quot;Hello from Log4j 2&quot;);\r\n\t    \tcategory.error(&quot;Hello from Log4j 2&quot;);\r\n\t    }\r\n\r\n}\r\n\r\n```\r\nRestservices package:\r\n\r\n```\r\npackage com.java.app.restservices.migration;\r\n\r\nimport org.apache.log4j.Category;\r\n\r\npublic class HelloRestService {\r\n\r\n\t private static Category category = Category.getInstance(HelloRestService .class.getName());\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t    \tcategory.debug(&quot;Hello Rest Services from Log4j 2&quot;);\r\n\t    \tcategory.info(&quot;Hello Rest Services from Log4j 2&quot;);\r\n\t    \tcategory.error(&quot;Hello Rest Services from Log4j 2&quot;);\r\n\t    }\r\n\r\n}\r\n\r\n```\r\nBut my loggers are not behaving as expected &#39;AppService.log&#39; is not getting populated. The online examples I saw it uses Loggers instead of Category in java classes. But its very old application with lots of java files which uses &quot;Category&quot; for logging. Is there a way where I don&#39;t have to change java classes and modify my log4j2.xml file to accommodate package wise logging. Thanks a lot for your inputs in advance.\r\n","title":"Lo4j2 config setup","body":"<p>I'm trying to setup log4j2 config xml. I had made below setup for logging specific package under different log files.</p>\n<p>Log4j2.xml config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    \n&lt;configuration status=&quot;error&quot;&gt;  \n  \n    &lt;Appenders&gt;  \n\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;  \n\n            &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;  \n\n            &lt;PatternLayout pattern=&quot;[%d{yyyy-MM-dd HH:mm:ss.SSS}][%t][%-5level][%class{36}][%L][%M]: %msg%xEx%n&quot;/&gt;  \n        &lt;/Console&gt;  \n  \n\n        &lt;RollingFile name=&quot;Applog&quot; fileName=&quot;/logs/AppService.log&quot; filePattern=&quot;/usr/local/tomcat/logs/AppService.log-%d{yyyy-MM-dd}&quot;&gt;  \n            &lt;PatternLayout pattern=&quot;[%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %class{36} %L %M ]: %msg%xEx%n&quot;/&gt;  \n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;                              \n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;  \n\n    &lt;/Appenders&gt; \n\n    &lt;loggers&gt;             \n\n        &lt;logger name=&quot;com.java.app.restservices.migration&quot;  additivity=&quot;false&quot;&gt;         \n            &lt;AppenderRef ref=&quot;Applog&quot;/&gt;\n        &lt;/logger&gt;\n\n       &lt;logger name=&quot;org.apache&quot;  level=&quot;warn&quot; additivity=&quot;false&quot;&gt;          \n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/logger&gt;\n\n       &lt;logger name=&quot;org.exolab&quot;  level=&quot;warn&quot; additivity=&quot;false&quot;&gt;          \n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/logger&gt;\n\n        &lt;logger name=&quot;com.java.app&quot;  additivity=&quot;false&quot;&gt;        \n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/logger&gt;\n\n     \n        &lt;root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;              \n        &lt;/root&gt;\n\n    &lt;/loggers&gt;  \n&lt;/configuration&gt;  \n\n</code></pre>\n<p>Java class example:</p>\n<pre><code>package com.java.app;\n\nimport org.apache.log4j.Category;\n\npublic class HelloWorld {\n\n     private static Category category = Category.getInstance(HelloWorld.class.getName());\n\n        public static void main(String[] args) {\n\n            category.debug(&quot;Hello from Log4j 2&quot;);\n            category.info(&quot;Hello from Log4j 2&quot;);\n            category.error(&quot;Hello from Log4j 2&quot;);\n        }\n\n}\n\n</code></pre>\n<p>Restservices package:</p>\n<pre><code>package com.java.app.restservices.migration;\n\nimport org.apache.log4j.Category;\n\npublic class HelloRestService {\n\n     private static Category category = Category.getInstance(HelloRestService .class.getName());\n\n        public static void main(String[] args) {\n\n            category.debug(&quot;Hello Rest Services from Log4j 2&quot;);\n            category.info(&quot;Hello Rest Services from Log4j 2&quot;);\n            category.error(&quot;Hello Rest Services from Log4j 2&quot;);\n        }\n\n}\n\n</code></pre>\n<p>But my loggers are not behaving as expected 'AppService.log' is not getting populated. The online examples I saw it uses Loggers instead of Category in java classes. But its very old application with lots of java files which uses &quot;Category&quot; for logging. Is there a way where I don't have to change java classes and modify my log4j2.xml file to accommodate package wise logging. Thanks a lot for your inputs in advance.</p>\n"},{"tags":["java","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1664987299,"post_id":73963266,"comment_id":130595596,"body_markdown":"What version of RESTEasy are you using? Also, are you running in a container like WildFly?","body":"What version of RESTEasy are you using? Also, are you running in a container like WildFly?"},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1664987608,"post_id":73963266,"comment_id":130595713,"body_markdown":"@JamesR.Perkins RESTEasy version 3.15.3.Final and I&#39;m running on Tomcat 8.5","body":"@JamesR.Perkins RESTEasy version 3.15.3.Final and I&#39;m running on Tomcat 8.5"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1664989921,"post_id":73963266,"comment_id":130596439,"body_markdown":"I&#39;m getting an exception with invalid JSON. You don&#39;t by some change have a reproducer do you? One option though would be a `ContainerRequestFilter` and examine the entity.","body":"I&#39;m getting an exception with invalid JSON. You don&#39;t by some change have a reproducer do you? One option though would be a <code>ContainerRequestFilter</code> and examine the entity."},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1664991188,"post_id":73963266,"comment_id":130596878,"body_markdown":"@JamesR.Perkins what does your Person class look like then? Mine has fields with jaxb annotations and they all have required = true","body":"@JamesR.Perkins what does your Person class look like then? Mine has fields with jaxb annotations and they all have required = true"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1664997493,"post_id":73963266,"comment_id":130598861,"body_markdown":"I just created a very basic one with no annotations. You must be using Jackson though if you&#39;re using JAXB annotations. I only tested with the Jakarta JSON Binding provider.","body":"I just created a very basic one with no annotations. You must be using Jackson though if you&#39;re using JAXB annotations. I only tested with the Jakarta JSON Binding provider."}],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664990124,"creation_date":1664986046,"question_id":73963266,"body_markdown":"My resteasy app has a POST method, which accepts a Person in body and adds it to database. I&#39;d expect that if client passed an invalid json (missing fields, or even an empty one!) the method wouldn&#39;t even start but I get 200 OK! How can I stop this from happening?","title":"Prevent resteasy from accepting empty request body","body":"<p>My resteasy app has a POST method, which accepts a Person in body and adds it to database. I'd expect that if client passed an invalid json (missing fields, or even an empty one!) the method wouldn't even start but I get 200 OK! How can I stop this from happening?</p>\n"},{"tags":["java","android","in-app-billing"],"answers":[{"comments":[{"owner":{"account_id":3890345,"reputation":2955,"user_id":3220708,"accept_rate":62,"display_name":"Craig Grummitt"},"score":0,"creation_date":1645196709,"post_id":71168788,"comment_id":125814168,"body_markdown":"1. I am using 4.0.0.              [newline]. \n2. I only have one activity (use fragments)","body":"1. I am using 4.0.0.              [newline].  2. I only have one activity (use fragments)"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":2,"creation_date":1645248152,"post_id":71168788,"comment_id":125825875,"body_markdown":"I mean, if you&#39;re `start connection` more than one time called, then make sure that you have to destroy it before a new connection with `billingClient.endConnection()`.","body":"I mean, if you&#39;re <code>start connection</code> more than one time called, then make sure that you have to destroy it before a new connection with <code>billingClient.endConnection()</code>."},{"owner":{"account_id":3890345,"reputation":2955,"user_id":3220708,"accept_rate":62,"display_name":"Craig Grummitt"},"score":0,"creation_date":1645284542,"post_id":71168788,"comment_id":125832521,"body_markdown":"Thanks for your comments. `billingClient.startConnection` is only called once, and `onBillingSetupFinished` is only triggered once with a responseCode of OK. I know this because I log to the console when these two events occur.","body":"Thanks for your comments. <code>billingClient.startConnection</code> is only called once, and <code>onBillingSetupFinished</code> is only triggered once with a responseCode of OK. I know this because I log to the console when these two events occur."},{"owner":{"account_id":4358691,"reputation":2969,"user_id":3556515,"accept_rate":50,"display_name":"XpressGeek"},"score":2,"creation_date":1663656111,"post_id":71168788,"comment_id":130284730,"body_markdown":"billingClient.endConnection() solved my problem. Thanks","body":"billingClient.endConnection() solved my problem. Thanks"}],"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645162368,"creation_date":1645162368,"answer_id":71168788,"question_id":71161098,"body_markdown":"**This can happen for 2 reasons.**\r\n1. if you are using an outdated version of the `google-billing` API.\r\n2. if you forgot to destroy the billing client at the finish of the activity.","title":"onPurchasesUpdated called multiple times","body":"<p><strong>This can happen for 2 reasons.</strong></p>\n<ol>\n<li>if you are using an outdated version of the <code>google-billing</code> API.</li>\n<li>if you forgot to destroy the billing client at the finish of the activity.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2880172,"reputation":1430,"user_id":2471275,"display_name":"Djek-Grif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664989982,"creation_date":1664989982,"answer_id":73964020,"question_id":71161098,"body_markdown":"I&#39;ve checked [Samples for Google Play In-app Billing][1] and how I can see the main idea of usage the billing client is to use it with activity/fragment lifecycles. So your billing client should implement `DefaultLifecycleObserver`. We need it to have connect/disconnect billing client use UI lifecycle. In other case we could have few instances of billing client in the App and few listeners that will be triggered with success purchase in same time. So code should looks like:\r\n\r\nActivity/Fragment:\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n      super.onCreate(savedInstanceState)\r\n      lifecycle.addObserver(billingLifecycleManager)\r\n    }\r\n\r\nBillingLifecycleManager:\r\n\r\n    class BillingLifecycleManager { \r\n\r\n        override fun onCreate(owner: LifecycleOwner) {\r\n            super.onCreate(owner)\r\n    \r\n            billingClient = BillingClient.newBuilder(app)\r\n                .setListener(purchasesUpdatedListener)\r\n                .enablePendingPurchases()\r\n                .build()\r\n            if (billingClient.isReady) {\r\n                billingClient.startConnection(...)\r\n            }\r\n        }\r\n        \r\n        override fun onDestroy(owner: LifecycleOwner) {\r\n              super.onDestroy(owner)\r\n              if (billingClient.isReady) {\r\n                  billingClient.endConnection()\r\n              }\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/android/play-billing-samples","title":"onPurchasesUpdated called multiple times","body":"<p>I've checked <a href=\"https://github.com/android/play-billing-samples\" rel=\"nofollow noreferrer\">Samples for Google Play In-app Billing</a> and how I can see the main idea of usage the billing client is to use it with activity/fragment lifecycles. So your billing client should implement <code>DefaultLifecycleObserver</code>. We need it to have connect/disconnect billing client use UI lifecycle. In other case we could have few instances of billing client in the App and few listeners that will be triggered with success purchase in same time. So code should looks like:</p>\n<p>Activity/Fragment:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(savedInstanceState)\n  lifecycle.addObserver(billingLifecycleManager)\n}\n</code></pre>\n<p>BillingLifecycleManager:</p>\n<pre><code>class BillingLifecycleManager { \n\n    override fun onCreate(owner: LifecycleOwner) {\n        super.onCreate(owner)\n\n        billingClient = BillingClient.newBuilder(app)\n            .setListener(purchasesUpdatedListener)\n            .enablePendingPurchases()\n            .build()\n        if (billingClient.isReady) {\n            billingClient.startConnection(...)\n        }\n    }\n    \n    override fun onDestroy(owner: LifecycleOwner) {\n          super.onDestroy(owner)\n          if (billingClient.isReady) {\n              billingClient.endConnection()\n          }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3890345,"reputation":2955,"user_id":3220708,"accept_rate":62,"display_name":"Craig Grummitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664989982,"creation_date":1645112450,"question_id":71161098,"body_markdown":"I have set up in-app billing on an Android app (java). When I call `launchBillingFlow` on the `BillingClient`:\r\n\r\n```\r\n        BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n                .setSkuDetails(skuDetails)\r\n                .build();\r\n        BillingResult billingResult = billingClient.launchBillingFlow(activity, billingFlowParams);\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            //the system displays the Google Play purchase screen\r\n        } else {\r\n            Log.e(TAG, &quot;Billing failed: + &quot; + billingResult.getDebugMessage());\r\n        }\r\n```\r\n\r\n\r\nThis is what my `onPurchasesUpdated` (from `PurchasesUpdatedListener`) looks like:\r\n\r\n```\r\n    @Override\r\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK\r\n                &amp;&amp; purchases != null) {\r\n            for (Purchase purchase : purchases) {\r\n                for (String sku : purchase.getSkus()) {\r\n                    if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED) {\r\n                        if (skuConsumables.contains(sku)) {\r\n                            handlePurchaseConsumable(purchase);\r\n                        } else if (skuNonconsumables.contains(sku)) {\r\n                            handlePurchaseNonconsumable(purchase);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\r\n            // Handle an error caused by a user cancelling the purchase flow.\r\n            billingServiceListener.receivePurchaseError();\r\n        } else {\r\n            // Handle any other error codes.\r\n            billingServiceListener.receivePurchaseError();\r\n        }\r\n    }\r\n```\r\n\r\n`onPurchasesUpdated` is called six times, each time with a responseCode of `OK`. Twice `onPurchasesUpdated` is called with zero purchases, that&#39;s fine. What I am confused about is how to deal with the four times `onPurchasesUpdated` is called with one purchase. And it seems as though each of these four purchase objects are indistinguishable - the same `packageName`, `acknowledged`, `orderId`, `productId`, `purchaseState`, `purchaseToken`, etc. \r\n\r\nTo complicate things, for consumable in-app billing, (these are consumable) I am then calling `ConsumeResponseListener` and `onConsumeResponse` is also returning four times, each time with responseCode of OK. \r\n\r\n```\r\nprivate void handlePurchaseConsumable(Purchase purchase) {\r\n\r\n        ConsumeParams consumeParams =\r\n                ConsumeParams.newBuilder()\r\n                        .setPurchaseToken(purchase.getPurchaseToken())\r\n                        .build();\r\n\r\n        ConsumeResponseListener listener = new ConsumeResponseListener() {\r\n            @Override\r\n            public void onConsumeResponse(BillingResult billingResult, String purchaseToken) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    // Handle the success of the consume operation.\r\n\r\n                }\r\n            }\r\n        };\r\n        billingClient.consumeAsync(consumeParams, listener);\r\n    }\r\n```\r\n\r\nIs this behaviour seen by others? I am using static responses while in development, could this be the reason? If people are seeing this, how do you deal with this - do you keep track of what purchase you have attempted, and then when the first response is returned do you register that the purchase was successful and ignore subsequent times that `onPurchasesUpdated` returns a purchase if you weren&#39;t expecting a payment? Though I&#39;ve seen that Android permits cash purchases with `enablePendingPurchases`, so that can&#39;t be a solution...","title":"onPurchasesUpdated called multiple times","body":"<p>I have set up in-app billing on an Android app (java). When I call <code>launchBillingFlow</code> on the <code>BillingClient</code>:</p>\n<pre><code>        BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n                .setSkuDetails(skuDetails)\n                .build();\n        BillingResult billingResult = billingClient.launchBillingFlow(activity, billingFlowParams);\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n            //the system displays the Google Play purchase screen\n        } else {\n            Log.e(TAG, &quot;Billing failed: + &quot; + billingResult.getDebugMessage());\n        }\n</code></pre>\n<p>This is what my <code>onPurchasesUpdated</code> (from <code>PurchasesUpdatedListener</code>) looks like:</p>\n<pre><code>    @Override\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; purchases) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK\n                &amp;&amp; purchases != null) {\n            for (Purchase purchase : purchases) {\n                for (String sku : purchase.getSkus()) {\n                    if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED) {\n                        if (skuConsumables.contains(sku)) {\n                            handlePurchaseConsumable(purchase);\n                        } else if (skuNonconsumables.contains(sku)) {\n                            handlePurchaseNonconsumable(purchase);\n                        }\n                    }\n                }\n\n            }\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\n            // Handle an error caused by a user cancelling the purchase flow.\n            billingServiceListener.receivePurchaseError();\n        } else {\n            // Handle any other error codes.\n            billingServiceListener.receivePurchaseError();\n        }\n    }\n</code></pre>\n<p><code>onPurchasesUpdated</code> is called six times, each time with a responseCode of <code>OK</code>. Twice <code>onPurchasesUpdated</code> is called with zero purchases, that's fine. What I am confused about is how to deal with the four times <code>onPurchasesUpdated</code> is called with one purchase. And it seems as though each of these four purchase objects are indistinguishable - the same <code>packageName</code>, <code>acknowledged</code>, <code>orderId</code>, <code>productId</code>, <code>purchaseState</code>, <code>purchaseToken</code>, etc.</p>\n<p>To complicate things, for consumable in-app billing, (these are consumable) I am then calling <code>ConsumeResponseListener</code> and <code>onConsumeResponse</code> is also returning four times, each time with responseCode of OK.</p>\n<pre><code>private void handlePurchaseConsumable(Purchase purchase) {\n\n        ConsumeParams consumeParams =\n                ConsumeParams.newBuilder()\n                        .setPurchaseToken(purchase.getPurchaseToken())\n                        .build();\n\n        ConsumeResponseListener listener = new ConsumeResponseListener() {\n            @Override\n            public void onConsumeResponse(BillingResult billingResult, String purchaseToken) {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    // Handle the success of the consume operation.\n\n                }\n            }\n        };\n        billingClient.consumeAsync(consumeParams, listener);\n    }\n</code></pre>\n<p>Is this behaviour seen by others? I am using static responses while in development, could this be the reason? If people are seeing this, how do you deal with this - do you keep track of what purchase you have attempted, and then when the first response is returned do you register that the purchase was successful and ignore subsequent times that <code>onPurchasesUpdated</code> returns a purchase if you weren't expecting a payment? Though I've seen that Android permits cash purchases with <code>enablePendingPurchases</code>, so that can't be a solution...</p>\n"},{"tags":["java","time-complexity","big-o"],"comments":[{"owner":{"account_id":1008902,"reputation":12661,"user_id":1021920,"accept_rate":70,"display_name":"hellow"},"score":0,"creation_date":1530525262,"post_id":51133356,"comment_id":89251286,"body_markdown":"How do you call your function. Do you call `m` or `m1`?","body":"How do you call your function. Do you call <code>m</code> or <code>m1</code>?"},{"owner":{"account_id":13880188,"reputation":71,"user_id":10020738,"display_name":"Effie"},"score":0,"creation_date":1530525392,"post_id":51133356,"comment_id":89251355,"body_markdown":"I need the cost of m","body":"I need the cost of m"},{"owner":{"account_id":13880188,"reputation":71,"user_id":10020738,"display_name":"Effie"},"score":0,"creation_date":1530525825,"post_id":51133356,"comment_id":89251612,"body_markdown":"That basically is the cost of m1","body":"That basically is the cost of m1"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1530538828,"post_id":51133356,"comment_id":89259070,"body_markdown":"i wonder how to express that &quot;merge&quot; part&#39;s (f (n)&#39;s) complexity, i.e. the addition of 4 values returned by recursive calls, in terms of &quot;n&quot;. On top level there are 4 addends, on 2nd level there are 4^2 addends, on Nth level there are 4^N addends, with N having log4_n at most, which means that there are exactly &quot;n&quot; addends on the lowest level. So if we accept the complexity of addition as O(n), then T(n) = 4T(n/4)+O(n) is correct, but we cannot apply master theorem here because f(n)&#39;s complexity is not theta(n), it is lower","body":"i wonder how to express that &quot;merge&quot; part&#39;s (f (n)&#39;s) complexity, i.e. the addition of 4 values returned by recursive calls, in terms of &quot;n&quot;. On top level there are 4 addends, on 2nd level there are 4^2 addends, on Nth level there are 4^N addends, with N having log4_n at most, which means that there are exactly &quot;n&quot; addends on the lowest level. So if we accept the complexity of addition as O(n), then T(n) = 4T(n/4)+O(n) is correct, but we cannot apply master theorem here because f(n)&#39;s complexity is not theta(n), it is lower"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":1,"creation_date":1530539276,"post_id":51133356,"comment_id":89259375,"body_markdown":"basically we could get away without even applying master theorem by taking into account that there are log4_n levels in this recursion and if we take into account that the maximum number of addends on a single level is equal to &quot;n&quot; then the complexity becomes O(n * log4_n)","body":"basically we could get away without even applying master theorem by taking into account that there are log4_n levels in this recursion and if we take into account that the maximum number of addends on a single level is equal to &quot;n&quot; then the complexity becomes O(n * log4_n)"}],"answers":[{"tags":[],"owner":{"account_id":4482255,"reputation":619,"user_id":3646014,"display_name":"Harsh Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610099308,"creation_date":1610099308,"answer_id":65626711,"question_id":51133356,"body_markdown":"As far as I can tell:  At each stage, we divide the problem space into four parts. To combine the results from the sub-problems, we are adding four integers together and this operation happens in constant time `O(1)`.\r\n\r\nAssume `n` is the height of the matrix `a` in the question, and `m` is the width of the matrix `a` in the question\r\n\r\nWe can visualize the complexity as a 4-nary tree with `n x m` leaf-nodes and height `log4(nm)`. . The total number of nodes in the tree is `O(nm)`, so the complexity is `O(nm)`. \r\n\r\n\r\nWithout parallelism, this recursive algorithm shouldn&#39;t be faster than a sequential algorithm on the matrix.","title":"How to calculate the cost of an algorithm?","body":"<p>As far as I can tell:  At each stage, we divide the problem space into four parts. To combine the results from the sub-problems, we are adding four integers together and this operation happens in constant time <code>O(1)</code>.</p>\n<p>Assume <code>n</code> is the height of the matrix <code>a</code> in the question, and <code>m</code> is the width of the matrix <code>a</code> in the question</p>\n<p>We can visualize the complexity as a 4-nary tree with <code>n x m</code> leaf-nodes and height <code>log4(nm)</code>. . The total number of nodes in the tree is <code>O(nm)</code>, so the complexity is <code>O(nm)</code>.</p>\n<p>Without parallelism, this recursive algorithm shouldn't be faster than a sequential algorithm on the matrix.</p>\n"},{"tags":[],"owner":{"account_id":18555620,"reputation":71,"user_id":13520809,"display_name":"lawnjittle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664989870,"creation_date":1664989870,"answer_id":73963991,"question_id":51133356,"body_markdown":"A recurrence relation takes the form:\r\n\r\n```\r\nT(n) = A * T(n / B) + O(f(n))\r\n```\r\nWhere the `A * T(n / B)` represents the represents the recursive call to the function and `O(f(n))` represents the work done *during* each call to the function.\r\n\r\nFor this case, you can clearly divide the code into two components:\r\n\r\n1. The work done *during* the call to the function:\r\n```\r\nif(c1 &gt; c2 || l1 &gt; l2) return 0;\r\nif(c1 == c2 &amp;&amp; l1 == l2) return a[l1][c1];\r\nint c = (c1+c2)/2,\r\n    l = (l1+l2)/2;\r\n```\r\n2. And the recursive calls to the function:\r\n```\r\n  return m1(a, l1, l, c1, c) + \r\n         m1(a, l1, l, c+1, c2) + \r\n         m1(a, l+1, l2,c1, c) + \r\n         m1(a, l+1, l2, c+1, c2);\r\n```\r\nTake `n = |a|`. When you make your recursive call, each call is operating on a disjoint quadrant of the matrix input to the call. You make 4 such recursive calls, so your recurrence relation starts like this:\r\n```\r\nT(n) = 4 * T(n / 4) ...\r\n```\r\nThen, you readjust your attention to how much work is done in each call to the function. In this case, the work is `O(1)`. Recall that we evaluate the Big O membership of a function based on the **size of its input**. In this case, the size of the input is the size of the matrix `a`, which we have quantified as `n`. So the question you should ask yourself as you try to assess how much work is done in each call to this function is, &quot;As the `n` becomes arbitrarily large, how does this specific operation&#39;s cost change with it?&quot;\r\n\r\nLet&#39;s answer that question for each of the operations:\r\n```\r\nif(c1 &gt; c2 || l1 &gt; l2) return 0;\r\n```\r\nI think that most computer science professors who are teaching introductory algorithms and/or data structures will say that as the size of `a` increases, the cost of doing this math will remain the same. I tend to agree with this philosophy since folks are just learning this stuff for the first time.\r\n\r\nHowever, some folks will say that the cost of these arithmetic operations are actually `O(m)` where `m` is the number of bits in the larger of the two numbers. (Using `m` because `n` is taken.) This is technically true, and I&#39;ll explain the &quot;answer&quot; for both approaches below.\r\n\r\n**Assuming that basic arithmetic is O(1)...** \r\n\r\nIn this case, all of your index math takes O(1) time, so your recurrence relation becomes:\r\n```\r\nT(n) = 4 * T(n / 4) + O(1)\r\n```\r\nWhich works out to `O(n)` time. If you break `n` down into `a`&#39;s dimensions, it&#39;s `O(hw)` where `h` is `a`&#39; height and `w` is `a`&#39;s width. Easy enough, right?\r\n\r\n**Assuming that basic arithmetic is O(m)...**\r\n\r\nWe&#39;ve entered a whole new layer of complexity -- congratulations! To move on from here, we need to think about what `m` represents. As noted above, `m` is the number of bits in the larger of the two numbers in any addition or subtraction operation. (Addition and subtraction underpin the `&gt;`, `&lt;`, `==`, `&amp;&amp;`, and `||` operations.) The question we need to ask: As `n` grows arbitrarily large, how will the number of bits in these indices change with it?\r\n\r\nObviously, if `n` is really big, then you&#39;ll need numbers with more bits to express the indices to access the `n` values in `a`. Conversely, if `n` remains very small, you&#39;ll require a much smaller number of bits to represent your indices. But what *exactly* is the asymptotic relationship between `n` and `m`?\r\n\r\nWell, suppose `a` were a `1 by n` matrix. Then you&#39;d need indices that can go all the way up to `n - 1`, correct? Since we&#39;re using bits, that means our indices will need to have at least `O(log n)` bits (there is a cool way to compute the exact number of bits needed, but that&#39;s out of scope here).\r\n\r\nSo, we can be a little pessimistic (i.e. slightly overestimate) and say that given any matrix `a` with magnitude `n`, we need all indices to have `O(log n)` bits. In other words, `m = O(log n)`. That means that each basic arithmetic operation (addition, subtraction, bit-wise operations) would actually cost `O(m) = O(log n)` time. So now your recurrence relation becomes:\r\n```\r\nT(n) = 4 * T(n / 4) + O(log n)\r\n```\r\n... which *still* evaluates to `O(n)` time! (Also known as `O(hw)` as stated earlier.)\r\n\r\nHope this helps! :)\r\n\r\n\r\n","title":"How to calculate the cost of an algorithm?","body":"<p>A recurrence relation takes the form:</p>\n<pre><code>T(n) = A * T(n / B) + O(f(n))\n</code></pre>\n<p>Where the <code>A * T(n / B)</code> represents the represents the recursive call to the function and <code>O(f(n))</code> represents the work done <em>during</em> each call to the function.</p>\n<p>For this case, you can clearly divide the code into two components:</p>\n<ol>\n<li>The work done <em>during</em> the call to the function:</li>\n</ol>\n<pre><code>if(c1 &gt; c2 || l1 &gt; l2) return 0;\nif(c1 == c2 &amp;&amp; l1 == l2) return a[l1][c1];\nint c = (c1+c2)/2,\n    l = (l1+l2)/2;\n</code></pre>\n<ol start=\"2\">\n<li>And the recursive calls to the function:</li>\n</ol>\n<pre><code>  return m1(a, l1, l, c1, c) + \n         m1(a, l1, l, c+1, c2) + \n         m1(a, l+1, l2,c1, c) + \n         m1(a, l+1, l2, c+1, c2);\n</code></pre>\n<p>Take <code>n = |a|</code>. When you make your recursive call, each call is operating on a disjoint quadrant of the matrix input to the call. You make 4 such recursive calls, so your recurrence relation starts like this:</p>\n<pre><code>T(n) = 4 * T(n / 4) ...\n</code></pre>\n<p>Then, you readjust your attention to how much work is done in each call to the function. In this case, the work is <code>O(1)</code>. Recall that we evaluate the Big O membership of a function based on the <strong>size of its input</strong>. In this case, the size of the input is the size of the matrix <code>a</code>, which we have quantified as <code>n</code>. So the question you should ask yourself as you try to assess how much work is done in each call to this function is, &quot;As the <code>n</code> becomes arbitrarily large, how does this specific operation's cost change with it?&quot;</p>\n<p>Let's answer that question for each of the operations:</p>\n<pre><code>if(c1 &gt; c2 || l1 &gt; l2) return 0;\n</code></pre>\n<p>I think that most computer science professors who are teaching introductory algorithms and/or data structures will say that as the size of <code>a</code> increases, the cost of doing this math will remain the same. I tend to agree with this philosophy since folks are just learning this stuff for the first time.</p>\n<p>However, some folks will say that the cost of these arithmetic operations are actually <code>O(m)</code> where <code>m</code> is the number of bits in the larger of the two numbers. (Using <code>m</code> because <code>n</code> is taken.) This is technically true, and I'll explain the &quot;answer&quot; for both approaches below.</p>\n<p><strong>Assuming that basic arithmetic is O(1)...</strong></p>\n<p>In this case, all of your index math takes O(1) time, so your recurrence relation becomes:</p>\n<pre><code>T(n) = 4 * T(n / 4) + O(1)\n</code></pre>\n<p>Which works out to <code>O(n)</code> time. If you break <code>n</code> down into <code>a</code>'s dimensions, it's <code>O(hw)</code> where <code>h</code> is <code>a</code>' height and <code>w</code> is <code>a</code>'s width. Easy enough, right?</p>\n<p><strong>Assuming that basic arithmetic is O(m)...</strong></p>\n<p>We've entered a whole new layer of complexity -- congratulations! To move on from here, we need to think about what <code>m</code> represents. As noted above, <code>m</code> is the number of bits in the larger of the two numbers in any addition or subtraction operation. (Addition and subtraction underpin the <code>&gt;</code>, <code>&lt;</code>, <code>==</code>, <code>&amp;&amp;</code>, and <code>||</code> operations.) The question we need to ask: As <code>n</code> grows arbitrarily large, how will the number of bits in these indices change with it?</p>\n<p>Obviously, if <code>n</code> is really big, then you'll need numbers with more bits to express the indices to access the <code>n</code> values in <code>a</code>. Conversely, if <code>n</code> remains very small, you'll require a much smaller number of bits to represent your indices. But what <em>exactly</em> is the asymptotic relationship between <code>n</code> and <code>m</code>?</p>\n<p>Well, suppose <code>a</code> were a <code>1 by n</code> matrix. Then you'd need indices that can go all the way up to <code>n - 1</code>, correct? Since we're using bits, that means our indices will need to have at least <code>O(log n)</code> bits (there is a cool way to compute the exact number of bits needed, but that's out of scope here).</p>\n<p>So, we can be a little pessimistic (i.e. slightly overestimate) and say that given any matrix <code>a</code> with magnitude <code>n</code>, we need all indices to have <code>O(log n)</code> bits. In other words, <code>m = O(log n)</code>. That means that each basic arithmetic operation (addition, subtraction, bit-wise operations) would actually cost <code>O(m) = O(log n)</code> time. So now your recurrence relation becomes:</p>\n<pre><code>T(n) = 4 * T(n / 4) + O(log n)\n</code></pre>\n<p>... which <em>still</em> evaluates to <code>O(n)</code> time! (Also known as <code>O(hw)</code> as stated earlier.)</p>\n<p>Hope this helps! :)</p>\n"}],"owner":{"account_id":13880188,"reputation":71,"user_id":10020738,"display_name":"Effie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2059,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1664989870,"creation_date":1530525013,"question_id":51133356,"body_markdown":"I have to calculate the cost of this algorithm.\r\n\r\nI was thinking about an exponential cost. I tried the recurrence relation. `4*T(n/4) + c*n` and at the end it&#39;s `((4^n) - 1)/3`.\r\n\r\nIs that correct? Are there other methods to calculate it?\r\n\r\n    int m(int a[][]) {\r\n        return m1(a, 0, a.length-1, 0, a[0].length-1);\r\n    }\r\n\r\n    int m1(int a[][], int l1, int l2, int c1, int c2) {\r\n      if(c1 &gt; c2 || l1 &gt; l2) return 0;\r\n      if(c1 == c2 &amp;&amp; l1 == l2) return a[l1][c1];\r\n      int c = (c1+c2)/2,\r\n          l = (l1+l2)/2;\r\n\r\n      return m1(a, l1, l, c1, c) + \r\n             m1(a, l1, l, c+1, c2) + \r\n             m1(a, l+1, l2,c1, c) + \r\n             m1(a, l+1, l2, c+1, c2);\r\n    }","title":"How to calculate the cost of an algorithm?","body":"<p>I have to calculate the cost of this algorithm.</p>\n\n<p>I was thinking about an exponential cost. I tried the recurrence relation. <code>4*T(n/4) + c*n</code> and at the end it's <code>((4^n) - 1)/3</code>.</p>\n\n<p>Is that correct? Are there other methods to calculate it?</p>\n\n<pre><code>int m(int a[][]) {\n    return m1(a, 0, a.length-1, 0, a[0].length-1);\n}\n\nint m1(int a[][], int l1, int l2, int c1, int c2) {\n  if(c1 &gt; c2 || l1 &gt; l2) return 0;\n  if(c1 == c2 &amp;&amp; l1 == l2) return a[l1][c1];\n  int c = (c1+c2)/2,\n      l = (l1+l2)/2;\n\n  return m1(a, l1, l, c1, c) + \n         m1(a, l1, l, c+1, c2) + \n         m1(a, l+1, l2,c1, c) + \n         m1(a, l+1, l2, c+1, c2);\n}\n</code></pre>\n"},{"tags":["java","lambda","collections","hashcode"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1664989505,"post_id":73963868,"comment_id":130596300,"body_markdown":"You need to be _really_ careful. Stateless lambdas will be essentially singletons, and thus if you re-used that lambda (which would usually be pretty intentional: `Consumer&lt;Event&gt; listener = evt -&gt; evt.toString()`), then they would be the same. However, separate lambdas as you&#39;ve denoted may be separate instances, and would not pass an equality check here. It&#39;d likely be better (and no less lightweight) to wrap these lambdas in a class like `RegisteredListener` or somesuch, which would provide a `#cancel` or `#remove` method to unregister the listener using the instance you provided.","body":"You need to be <i>really</i> careful. Stateless lambdas will be essentially singletons, and thus if you re-used that lambda (which would usually be pretty intentional: <code>Consumer&lt;Event&gt; listener = evt -&gt; evt.toString()</code>), then they would be the same. However, separate lambdas as you&#39;ve denoted may be separate instances, and would not pass an equality check here. It&#39;d likely be better (and no less lightweight) to wrap these lambdas in a class like <code>RegisteredListener</code> or somesuch, which would provide a <code>#cancel</code> or <code>#remove</code> method to unregister the listener using the instance you provided."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1664990083,"post_id":73963868,"comment_id":130596482,"body_markdown":"Have you tried actually running list.remove(lambda)? It throws errors for me.\nAs for removal, lambda must inherit equals from object, so the way you try to do this it will be two different lambdas, hence you can&#39;t remove it.","body":"Have you tried actually running list.remove(lambda)? It throws errors for me. As for removal, lambda must inherit equals from object, so the way you try to do this it will be two different lambdas, hence you can&#39;t remove it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664990146,"post_id":73963868,"comment_id":130596499,"body_markdown":"Alternately don&#39;t use lambdas.  Make your own type `MyEventTask` and use concrete classes and class types to manage it manually.  Personally I always prefer code that is least likely to give me an unpleasant surprise or be brittle and fail in the future.  Not using lambdas might seem unsophisticated but there&#39;s a certain smartness to systems that work in obvious ways and are hard to break.","body":"Alternately don&#39;t use lambdas.  Make your own type <code>MyEventTask</code> and use concrete classes and class types to manage it manually.  Personally I always prefer code that is least likely to give me an unpleasant surprise or be brittle and fail in the future.  Not using lambdas might seem unsophisticated but there&#39;s a certain smartness to systems that work in obvious ways and are hard to break."},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1664990676,"post_id":73963868,"comment_id":130596688,"body_markdown":"thank you all for the help, i think i will go with concrete classes to make the code clearer","body":"thank you all for the help, i think i will go with concrete classes to make the code clearer"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665040556,"post_id":73963868,"comment_id":130606944,"body_markdown":"Actually, the difference to concrete classes is tiny. If you use `list.add(new Consumer&lt;Event&gt;() { public void accept(Event evt) { evt.toString(); } })` you have exactly the same issue. You have to remember the instance in a variable if you want to call `remove` later on. The difference is at the other side: two listeners implemented as lambda expressions doing the same *might* become the same instance in some environments. The solution is not to use sets. Normally, event sources allow adding the same listener multiple times. And usually the listener count to too low to benefit from hashing.","body":"Actually, the difference to concrete classes is tiny. If you use <code>list.add(new Consumer&lt;Event&gt;() { public void accept(Event evt) { evt.toString(); } })</code> you have exactly the same issue. You have to remember the instance in a variable if you want to call <code>remove</code> later on. The difference is at the other side: two listeners implemented as lambda expressions doing the same <i>might</i> become the same instance in some environments. The solution is not to use sets. Normally, event sources allow adding the same listener multiple times. And usually the listener count to too low to benefit from hashing."}],"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664989837,"answer_count":0,"score":1,"last_activity_date":1664989622,"creation_date":1664989195,"question_id":73963868,"body_markdown":"i am making a lightweight event system, and i need a list of callbacks to be triggered for the event. My question is, since collections work with hashmaps and equality, how does this interact with lambdas, and how can i make sure that i can do list.remove() of the same lambda to remove it from the callbacks? \r\n\r\ne.g\r\n\r\n```list.add(evt -&gt; evt.toString())```\r\n```list.remove(evt -&gt; evt.toString())```\r\n\r\nWill these too always result in the same element removed?","title":"List of lambda suppliers, and equality","body":"<p>i am making a lightweight event system, and i need a list of callbacks to be triggered for the event. My question is, since collections work with hashmaps and equality, how does this interact with lambdas, and how can i make sure that i can do list.remove() of the same lambda to remove it from the callbacks?</p>\n<p>e.g</p>\n<p><code>list.add(evt -&gt; evt.toString())</code>\n<code>list.remove(evt -&gt; evt.toString())</code></p>\n<p>Will these too always result in the same element removed?</p>\n"},{"tags":["java","http","logging","java-11","java-http-client"],"comments":[{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1550501376,"post_id":54731243,"comment_id":96281708,"body_markdown":"See https://stackoverflow.com/questions/53215038/how-to-log-request-response-using-java-net-http-httpclient/53231046#53231046","body":"See <a href=\"https://stackoverflow.com/questions/53215038/how-to-log-request-response-using-java-net-http-httpclient/53231046#53231046\" title=\"how to log request response using java net http httpclient\">stackoverflow.com/questions/53215038/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8088448,"reputation":749,"user_id":6095220,"display_name":"Mobigital"},"score":0,"creation_date":1605297922,"post_id":54731244,"comment_id":114617301,"body_markdown":"thank you this worked for me, after following ALL steps :)","body":"thank you this worked for me, after following ALL steps :)"},{"owner":{"account_id":14200864,"reputation":73,"user_id":10258807,"display_name":"Sooraj"},"score":0,"creation_date":1650450237,"post_id":54731244,"comment_id":127117234,"body_markdown":"Thanks @Maxim for this answer. However, this does log a lot of information. Is there a way to log only httpclient.wire.content.wire logs using this approach?","body":"Thanks @Maxim for this answer. However, this does log a lot of information. Is there a way to log only httpclient.wire.content.wire logs using this approach?"}],"tags":[],"owner":{"account_id":296387,"reputation":2647,"user_id":601311,"accept_rate":58,"display_name":"Maxim Kirilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664989619,"creation_date":1550390226,"answer_id":54731244,"question_id":54731243,"body_markdown":"The client uses java.util.logging, the easiest way is to use SLF4J.\r\nSee https://stackoverflow.com/questions/9117030/jul-to-slf4j-bridge for more information.\r\n\r\n3 steps are required:\r\n\r\n 1. Add [jul-to-slf4j bridge][1] to you classpath with runtime scope.  \r\n**Maven:**  \r\n\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n           &lt;version&gt;1.7.25&lt;/version&gt;\r\n           &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  \r\n\r\n **Gradle**:\r\n\r\n    `runtime group: &#39;org.slf4j&#39;, name: &#39;jul-to-slf4j&#39;, version: &#39;1.7.25&#39;`\r\n\r\n\r\n 2. Add in logback.xml (logback-test.xml), don&#39;t forget to add a STDOUT appender (or change it accordingly)\r\n\r\n        &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n            &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n        &lt;/contextListener&gt;\r\n\r\n        &lt;logger name=&quot;jdk.internal.httpclient.debug&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n 3. Add in your code:\r\n\r\n         static {\r\n         SLF4JBridgeHandler.removeHandlersForRootLogger();\r\n         SLF4JBridgeHandler.install();\r\n         }\r\n\r\n\r\n\r\nAlternatively, for educational purposes it is possible to add a system property:  \r\n`-Djdk.httpclient.HttpClient.log=all`\r\nwhich will enable all logging printing to the console.\r\n\r\n  [1]: https://www.slf4j.org/legacy.html#jul-to-slf4j","title":"Logging in JDK11 HttpClient","body":"<p>The client uses java.util.logging, the easiest way is to use SLF4J.\nSee <a href=\"https://stackoverflow.com/questions/9117030/jul-to-slf4j-bridge\">JUL to SLF4J Bridge</a> for more information.</p>\n<p>3 steps are required:</p>\n<ol>\n<li><p>Add <a href=\"https://www.slf4j.org/legacy.html#jul-to-slf4j\" rel=\"nofollow noreferrer\">jul-to-slf4j bridge</a> to you classpath with runtime scope.<br />\n<strong>Maven:</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n   &lt;version&gt;1.7.25&lt;/version&gt;\n   &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p><strong>Gradle</strong>:</p>\n<pre><code>`runtime group: 'org.slf4j', name: 'jul-to-slf4j', version: '1.7.25'`\n</code></pre>\n<ol start=\"2\">\n<li><p>Add in logback.xml (logback-test.xml), don't forget to add a STDOUT appender (or change it accordingly)</p>\n<pre><code>&lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\n    &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n&lt;/contextListener&gt;\n\n&lt;logger name=&quot;jdk.internal.httpclient.debug&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;root level=&quot;DEBUG&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n</li>\n<li><p>Add in your code:</p>\n<pre><code> static {\n SLF4JBridgeHandler.removeHandlersForRootLogger();\n SLF4JBridgeHandler.install();\n }\n</code></pre>\n</li>\n</ol>\n<p>Alternatively, for educational purposes it is possible to add a system property:<br />\n<code>-Djdk.httpclient.HttpClient.log=all</code>\nwhich will enable all logging printing to the console.</p>\n"}],"owner":{"account_id":296387,"reputation":2647,"user_id":601311,"accept_rate":58,"display_name":"Maxim Kirilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3564,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664989619,"creation_date":1550390226,"question_id":54731243,"body_markdown":"JDK11 introduced a new HTTP Client, with many features that lacks in traditional `java.net.HttpURLConnection` class. First question that I encountered with is how to properly enable logging in newly added HTTP Client?","title":"Logging in JDK11 HttpClient","body":"<p>JDK11 introduced a new HTTP Client, with many features that lacks in traditional <code>java.net.HttpURLConnection</code> class. First question that I encountered with is how to properly enable logging in newly added HTTP Client?</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1665042490,"post_id":73963901,"comment_id":130607533,"body_markdown":"I tried getting the information using the `SessionStatistics` but I wasn&#39;t able to get the number of inserts, deletes or creates. There are some methods like: `getEntityCount`, `getCollectionCount` and `getEntityKeys` which aren&#39;t giving the needed information. Or am I missing something?","body":"I tried getting the information using the <code>SessionStatistics</code> but I wasn&#39;t able to get the number of inserts, deletes or creates. There are some methods like: <code>getEntityCount</code>, <code>getCollectionCount</code> and <code>getEntityKeys</code> which aren&#39;t giving the needed information. Or am I missing something?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665049348,"post_id":73963901,"comment_id":130609961,"body_markdown":"These are the statistics that are collected on a per-session basis. You can collect custom metrics if you want by implementing a custom `Interceptor`: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#events","body":"These are the statistics that are collected on a per-session basis. You can collect custom metrics if you want by implementing a custom <code>Interceptor</code>: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#events\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.6/userguide/html_single/&hellip;</a>"},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1665050398,"post_id":73963901,"comment_id":130610379,"body_markdown":"I did that already, created a custom `Interceptor` but wasn&#39;t able to add a spring managed bean so I can save the statistics and that&#39;s why I went with this approach.","body":"I did that already, created a custom <code>Interceptor</code> but wasn&#39;t able to add a spring managed bean so I can save the statistics and that&#39;s why I went with this approach."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665050646,"post_id":73963901,"comment_id":130610485,"body_markdown":"You could propagate the context through a `ThreadLocal`. I think that if you want to use a Spring bean as interceptor, you&#39;ll have create a custom bean factory for the `EntityManagerFactory`","body":"You could propagate the context through a <code>ThreadLocal</code>. I think that if you want to use a Spring bean as interceptor, you&#39;ll have create a custom bean factory for the <code>EntityManagerFactory</code>"},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1665131893,"post_id":73963901,"comment_id":130632459,"body_markdown":"What I did and it&#39;s working in the implementation that is above is that in the Component that is deciding which importer to be called based on the PATH variable, made that method synchronised. So now there won&#39;t be a possibility for two threads to execute two importers in parallel so the SessionFactory will give me clear results. But will check the `EntitymanagerFactory` to see how it&#39;s working.","body":"What I did and it&#39;s working in the implementation that is above is that in the Component that is deciding which importer to be called based on the PATH variable, made that method synchronised. So now there won&#39;t be a possibility for two threads to execute two importers in parallel so the SessionFactory will give me clear results. But will check the <code>EntitymanagerFactory</code> to see how it&#39;s working."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664989376,"creation_date":1664989376,"answer_id":73963901,"question_id":73959574,"body_markdown":"If you want the statistics of a session, then call the `getStatistics()` method on `session`, which will give you the `SessionStatistics`. A `SessionFactory` should only exist once and statistics there are across all sessions.","title":"Get number of inserts, updates, deletes for entity using org.hibernate.SessionFactory per Session per thread","body":"<p>If you want the statistics of a session, then call the <code>getStatistics()</code> method on <code>session</code>, which will give you the <code>SessionStatistics</code>. A <code>SessionFactory</code> should only exist once and statistics there are across all sessions.</p>\n"}],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664989376,"creation_date":1664968432,"question_id":73959574,"body_markdown":"I have the following scenario:\r\n\r\nI have one controller which based on a path variable calls a different service.\r\n\r\nIn every service there is a transactional method where some import logic is happening(call one external api, get a csv file, parse it, convert it to entity and save it in database).\r\n\r\nAdditionally in every service I want to keep statistics of how many entities will be updated, inserted and deleted. For that reason I am using the `org.hibernate.SessionFactory `. One example of how I am using that is:\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class MarketReportImporterImpl extends Support implements MarketReportImporter {\r\n\r\n    @Override\r\n    @Transactional\r\n    public void importMarketReports(ImporterLog importerLog) {\r\n        try {\r\n            String export = getCsvFile();\r\n            Session session = getCurrentSessionAndClearSessionFactoryStatistics();\r\n            // parse the csv and save the entities\r\n            flushSession(session);\r\n            setSuccessfulImport(session, importerLog);\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to import market reports. Unable to parse export&quot;, e);\r\n            getTelemetryClient().trackException(e);\r\n            importerLogService.setFailedImport(importerLog, e.getMessage());\r\n        }\r\n    }\r\n\r\nand the methods `getCurrentSessionAndClearSessionFactoryStatistics()` and `setSuccessfulImport(session, importerLog);` are in the `Support` class:\r\n\r\n    @Component\r\n    public abstract class Support {\r\n\r\n    private final ImporterLogService importerLogService;\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public Support(ImporterLogService importerLogService) {\r\n        this.importerLogService = importerLogService;\r\n    }\r\n\r\n    public void flushSession(Session session) {\r\n        session.flush();\r\n    }\r\n\r\n    public void setSuccessfulImport(Session session, ImporterLog importerLog) {\r\n\r\n        Statistics statistics = session.getSessionFactory().getStatistics();\r\n        int entityInsertCount = (int) statistics.getEntityInsertCount();\r\n        int entityDeleteCount = (int) statistics.getEntityDeleteCount();\r\n        int entityUpdateCount = (int) statistics.getEntityUpdateCount();\r\n        importerLogService.setSuccessfulImport(importerLog, entityUpdateCount, entityDeleteCount, entityInsertCount);\r\n    }\r\n\r\n    public Session getCurrentSessionAndClearSessionFactoryStatistics() {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        SessionFactory sessionFactory = session.getSessionFactory();\r\n        sessionFactory.getStatistics().clear();\r\n        return session;\r\n    }\r\n\r\nThis works perfectly fine when calling it for one importer. But If from the frontend I am calling quickly two importers (meaning two threads run in parallel) there will be mix in the results. The `session.getSessionFactory().getStatistics();` will have mix results from the first importer and from the second importer and I want to have a clear result only for the current session. For example service A and service B are running in parallel and in service A I am saving entities of type `aa` and in service B of type `bb`. In each service I want to know how many entities are saved, updated or deleted meaning in service A -&gt; how many of type `aa` and in service B -&gt; how many of type `bb` . As I understand every thread should open a session on it&#39;s own and then for every session I should get the correct sessionFactory and the correct results. But as it turns out this sessionFactory I guess (not sure in this statement) it belongs to every session and that is why I have mix results. \r\n\r\nMy question is if there is a way to separate somehow the sessionFactory and have clear vision of which entity how many times is saved,deleted,updated even in multithreaded environment.","title":"Get number of inserts, updates, deletes for entity using org.hibernate.SessionFactory per Session per thread","body":"<p>I have the following scenario:</p>\n<p>I have one controller which based on a path variable calls a different service.</p>\n<p>In every service there is a transactional method where some import logic is happening(call one external api, get a csv file, parse it, convert it to entity and save it in database).</p>\n<p>Additionally in every service I want to keep statistics of how many entities will be updated, inserted and deleted. For that reason I am using the <code>org.hibernate.SessionFactory </code>. One example of how I am using that is:</p>\n<pre><code>@Service\n@Slf4j\npublic class MarketReportImporterImpl extends Support implements MarketReportImporter {\n\n@Override\n@Transactional\npublic void importMarketReports(ImporterLog importerLog) {\n    try {\n        String export = getCsvFile();\n        Session session = getCurrentSessionAndClearSessionFactoryStatistics();\n        // parse the csv and save the entities\n        flushSession(session);\n        setSuccessfulImport(session, importerLog);\n    } catch (Exception e) {\n        log.error(&quot;Failed to import market reports. Unable to parse export&quot;, e);\n        getTelemetryClient().trackException(e);\n        importerLogService.setFailedImport(importerLog, e.getMessage());\n    }\n}\n</code></pre>\n<p>and the methods <code>getCurrentSessionAndClearSessionFactoryStatistics()</code> and <code>setSuccessfulImport(session, importerLog);</code> are in the <code>Support</code> class:</p>\n<pre><code>@Component\npublic abstract class Support {\n\nprivate final ImporterLogService importerLogService;\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\npublic Support(ImporterLogService importerLogService) {\n    this.importerLogService = importerLogService;\n}\n\npublic void flushSession(Session session) {\n    session.flush();\n}\n\npublic void setSuccessfulImport(Session session, ImporterLog importerLog) {\n\n    Statistics statistics = session.getSessionFactory().getStatistics();\n    int entityInsertCount = (int) statistics.getEntityInsertCount();\n    int entityDeleteCount = (int) statistics.getEntityDeleteCount();\n    int entityUpdateCount = (int) statistics.getEntityUpdateCount();\n    importerLogService.setSuccessfulImport(importerLog, entityUpdateCount, entityDeleteCount, entityInsertCount);\n}\n\npublic Session getCurrentSessionAndClearSessionFactoryStatistics() {\n    Session session = entityManager.unwrap(Session.class);\n    SessionFactory sessionFactory = session.getSessionFactory();\n    sessionFactory.getStatistics().clear();\n    return session;\n}\n</code></pre>\n<p>This works perfectly fine when calling it for one importer. But If from the frontend I am calling quickly two importers (meaning two threads run in parallel) there will be mix in the results. The <code>session.getSessionFactory().getStatistics();</code> will have mix results from the first importer and from the second importer and I want to have a clear result only for the current session. For example service A and service B are running in parallel and in service A I am saving entities of type <code>aa</code> and in service B of type <code>bb</code>. In each service I want to know how many entities are saved, updated or deleted meaning in service A -&gt; how many of type <code>aa</code> and in service B -&gt; how many of type <code>bb</code> . As I understand every thread should open a session on it's own and then for every session I should get the correct sessionFactory and the correct results. But as it turns out this sessionFactory I guess (not sure in this statement) it belongs to every session and that is why I have mix results.</p>\n<p>My question is if there is a way to separate somehow the sessionFactory and have clear vision of which entity how many times is saved,deleted,updated even in multithreaded environment.</p>\n"},{"tags":["java","android","google-play","in-app-purchase"],"answers":[{"comments":[{"owner":{"account_id":1819192,"reputation":818,"user_id":1653609,"accept_rate":62,"display_name":"rootmeanclaire"},"score":0,"creation_date":1524694748,"post_id":50016520,"comment_id":87080327,"body_markdown":"Which arguments would I need to consider? Just `getSkuDetails()` (the function throwing the error) or other functions too?","body":"Which arguments would I need to consider? Just <code>getSkuDetails()</code> (the function throwing the error) or other functions too?"},{"owner":{"account_id":2136564,"reputation":13618,"user_id":7635471,"display_name":"Nick Fortescue"},"score":0,"creation_date":1524726997,"post_id":50016520,"comment_id":87090008,"body_markdown":"The error just says that the function which sends the RPC to Play has incorrect arguments, so yes, getSkuDetails() if that is the result with an error.","body":"The error just says that the function which sends the RPC to Play has incorrect arguments, so yes, getSkuDetails() if that is the result with an error."}],"tags":[],"owner":{"account_id":2136564,"reputation":13618,"user_id":7635471,"display_name":"Nick Fortescue"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524641646,"creation_date":1524641646,"answer_id":50016520,"question_id":49993253,"body_markdown":"All the response codes [are listed here](https://developer.android.com/google/play/billing/billing_reference.html).\r\n\r\n5 means you are calling the API with invalid arguments. You have broken your API call somehow. Maybe compare the contents of your API call under the old and new version of your code (you are using source control right?).\r\n\r\n  - **0.** BILLING_RESPONSE_RESULT_OK:\tSuccess\r\n  - **1.** BILLING_RESPONSE_RESULT_USER_CANCELED: User pressed back or canceled a dialog\r\n  - **2.** BILLING_RESPONSE_RESULT_SERVICE_UNAVAILABLE: Network connection is down\r\n  - **3.** BILLING_RESPONSE_RESULT_BILLING_UNAVAILABLE: Billing API version is not supported for the type requested\r\n  - **4.** BILLING_RESPONSE_RESULT_ITEM_UNAVAILABLE: Requested product is not available for purchase\r\n  - **5.** BILLING_RESPONSE_RESULT_DEVELOPER_ERROR: Invalid arguments provided to the API. This error can also indicate that the application was not correctly signed or properly set up for In-app Billing in Google Play, or does not have the necessary permissions in its manifest\r\n  - **6.** BILLING_RESPONSE_RESULT_ERROR: Fatal error during the API action\r\n  - **7.** BILLING_RESPONSE_RESULT_ITEM_ALREADY_OWNED: Failure to purchase since item is already owned\r\n  - **8.** BILLING_RESPONSE_RESULT_ITEM_NOT_OWNED: Failure to consume since item is not owned\r\n","title":"Android Billing - I receive response code 5","body":"<p>All the response codes <a href=\"https://developer.android.com/google/play/billing/billing_reference.html\" rel=\"nofollow noreferrer\">are listed here</a>.</p>\n\n<p>5 means you are calling the API with invalid arguments. You have broken your API call somehow. Maybe compare the contents of your API call under the old and new version of your code (you are using source control right?).</p>\n\n<ul>\n<li><strong>0.</strong> BILLING_RESPONSE_RESULT_OK:  Success</li>\n<li><strong>1.</strong> BILLING_RESPONSE_RESULT_USER_CANCELED: User pressed back or canceled a dialog</li>\n<li><strong>2.</strong> BILLING_RESPONSE_RESULT_SERVICE_UNAVAILABLE: Network connection is down</li>\n<li><strong>3.</strong> BILLING_RESPONSE_RESULT_BILLING_UNAVAILABLE: Billing API version is not supported for the type requested</li>\n<li><strong>4.</strong> BILLING_RESPONSE_RESULT_ITEM_UNAVAILABLE: Requested product is not available for purchase</li>\n<li><strong>5.</strong> BILLING_RESPONSE_RESULT_DEVELOPER_ERROR: Invalid arguments provided to the API. This error can also indicate that the application was not correctly signed or properly set up for In-app Billing in Google Play, or does not have the necessary permissions in its manifest</li>\n<li><strong>6.</strong> BILLING_RESPONSE_RESULT_ERROR: Fatal error during the API action</li>\n<li><strong>7.</strong> BILLING_RESPONSE_RESULT_ITEM_ALREADY_OWNED: Failure to purchase since item is already owned</li>\n<li><strong>8.</strong> BILLING_RESPONSE_RESULT_ITEM_NOT_OWNED: Failure to consume since item is not owned</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":250167,"reputation":982,"user_id":526715,"accept_rate":71,"display_name":"Kleber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627647539,"creation_date":1620042965,"answer_id":67368517,"question_id":49993253,"body_markdown":"This error can be a bunch of things according to the documentation. For me it was the Licensed users. When I was adding them, there wasn&#39;t an indication that the emails were being added to the list of licence testers. I kept adding them, chaging the &quot;License response&quot; and saving but nothing changed at all.\r\n\r\nIt was after a while that I realize that I had to press &quot;Enter&quot; in the email list to actually add the users. I know it sounds silly but that was my only issue (at least I think it was since I spend a day searching for the cause).\r\n\r\nSo, if you getting this error and don&#39;t see any emails inside `Settings -&gt; License Testing -&gt; License testers` you might be a single key of distance of getting your debug working properly.","title":"Android Billing - I receive response code 5","body":"<p>This error can be a bunch of things according to the documentation. For me it was the Licensed users. When I was adding them, there wasn't an indication that the emails were being added to the list of licence testers. I kept adding them, chaging the &quot;License response&quot; and saving but nothing changed at all.</p>\n<p>It was after a while that I realize that I had to press &quot;Enter&quot; in the email list to actually add the users. I know it sounds silly but that was my only issue (at least I think it was since I spend a day searching for the cause).</p>\n<p>So, if you getting this error and don't see any emails inside <code>Settings -&gt; License Testing -&gt; License testers</code> you might be a single key of distance of getting your debug working properly.</p>\n"},{"tags":[],"owner":{"account_id":2880172,"reputation":1430,"user_id":2471275,"display_name":"Djek-Grif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664988917,"creation_date":1664988917,"answer_id":73963809,"question_id":49993253,"body_markdown":"&quot;response code 5  Obfuscated profile id cannot be set without obfuscated account id.&quot; It was my error. And after checking I&#39;ve found my `setObfuscatedAccountId` is empty. Also Or it could be any other param that you provided to billing client. ","title":"Android Billing - I receive response code 5","body":"<p>&quot;response code 5  Obfuscated profile id cannot be set without obfuscated account id.&quot; It was my error. And after checking I've found my <code>setObfuscatedAccountId</code> is empty. Also Or it could be any other param that you provided to billing client.</p>\n"}],"owner":{"account_id":1819192,"reputation":818,"user_id":1653609,"accept_rate":62,"display_name":"rootmeanclaire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6685,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1664988917,"creation_date":1524542733,"question_id":49993253,"body_markdown":"I had my in-app billing working, but then I moved some code around for greater extensibility and it broke. Essentially what I was trying to do was make an Adapter for my addons so that it would be easier to add them in with less programming effort later. My project has billing permissions in the manifest and is configured for billing on the Google Play Store so that&#39;s not the issue.\r\n\r\nAdOnsActivity\r\n\r\n    public class AdOnsActivity extends AppCompatActivity {\r\n    \tprivate IInAppBillingService mService;\r\n    \tprivate ServiceConnection mServiceConn = new ServiceConnection() {\r\n    \t\t@Override\r\n    \t\tpublic void onServiceDisconnected(ComponentName name) {\r\n    \t\t\tmService = null;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void onServiceConnected(ComponentName name, IBinder service) {\r\n    \t\t\tmService = IInAppBillingService.Stub.asInterface(service);\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_ad_ons);\r\n    \t\t\r\n    \t\tIntent serviceIntent = new Intent(&quot;com.android.vending.billing.InAppBillingService.BIND&quot;);\r\n    \t\tserviceIntent.setPackage(&quot;com.android.vending&quot;);\r\n    \t\tbindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\r\n    \t\t\r\n    \t\tlistAdOns = findViewById(R.id.listAdOns);\r\n    \t\t\r\n    \t\tHandler handler = new Handler();\r\n    \t\thandler.post(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n                        ...\r\n    \t\t\t\t\tlistAdOns.setAdapter(new AdOnAdapter(AdOnsActivity.this, json.getJSONArray(&quot;adOns&quot;), mService));\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tToast.makeText(AdOnsActivity.this, getResources().getString(R.string.error_load_ad_ons), Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\tfinish();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n\r\n\r\nAdOnAdapter\r\n\r\n    public class AdOnAdapter extends BaseAdapter {\r\n    \tpublic AdOnAdapter(Activity activity, JSONArray adOns, IInAppBillingService mService) throws RemoteException {\r\n    \t\tBundle querySkus = new Bundle();\r\n    \t\t\r\n    \t\tthis.activity = activity;\r\n    \t\tthis.adOns = adOns;\r\n    \t\tthis.mService = mService;\r\n    \t\t\r\n    \t\tskuDetails = mService.getSkuDetails(3, activity.getPackageName(), &quot;inapp&quot;, querySkus);\r\n    \t\tresponseDetails = skuDetails.getInt(&quot;RESPONSE_CODE&quot;);\r\n    \t\townedItems = mService.getPurchases(3, activity.getPackageName(), &quot;inapp&quot;, null);\r\n    \t\tresponseOwned = ownedItems.getInt(&quot;RESPONSE_CODE&quot;);\r\n    \t}","title":"Android Billing - I receive response code 5","body":"<p>I had my in-app billing working, but then I moved some code around for greater extensibility and it broke. Essentially what I was trying to do was make an Adapter for my addons so that it would be easier to add them in with less programming effort later. My project has billing permissions in the manifest and is configured for billing on the Google Play Store so that's not the issue.</p>\n\n<p>AdOnsActivity</p>\n\n<pre><code>public class AdOnsActivity extends AppCompatActivity {\n    private IInAppBillingService mService;\n    private ServiceConnection mServiceConn = new ServiceConnection() {\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            mService = null;\n        }\n\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            mService = IInAppBillingService.Stub.asInterface(service);\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_ad_ons);\n\n        Intent serviceIntent = new Intent(\"com.android.vending.billing.InAppBillingService.BIND\");\n        serviceIntent.setPackage(\"com.android.vending\");\n        bindService(serviceIntent, mServiceConn, Context.BIND_AUTO_CREATE);\n\n        listAdOns = findViewById(R.id.listAdOns);\n\n        Handler handler = new Handler();\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    ...\n                    listAdOns.setAdapter(new AdOnAdapter(AdOnsActivity.this, json.getJSONArray(\"adOns\"), mService));\n                } catch (Exception e) {\n                    Toast.makeText(AdOnsActivity.this, getResources().getString(R.string.error_load_ad_ons), Toast.LENGTH_SHORT).show();\n                    e.printStackTrace();\n                    finish();\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>AdOnAdapter</p>\n\n<pre><code>public class AdOnAdapter extends BaseAdapter {\n    public AdOnAdapter(Activity activity, JSONArray adOns, IInAppBillingService mService) throws RemoteException {\n        Bundle querySkus = new Bundle();\n\n        this.activity = activity;\n        this.adOns = adOns;\n        this.mService = mService;\n\n        skuDetails = mService.getSkuDetails(3, activity.getPackageName(), \"inapp\", querySkus);\n        responseDetails = skuDetails.getInt(\"RESPONSE_CODE\");\n        ownedItems = mService.getPurchases(3, activity.getPackageName(), \"inapp\", null);\n        responseOwned = ownedItems.getInt(\"RESPONSE_CODE\");\n    }\n</code></pre>\n"},{"tags":["java","selenium","maven","jvm","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664988880,"creation_date":1664988880,"answer_id":73963802,"question_id":71283773,"body_markdown":"I have done this (a long time ago now)\r\nYou can just get the response from a text file and strip it out in bash:\r\n\r\n    cmd=&quot;mvn test --log-file log.txt -Dtest=x -Dcucumber.filter.tags=&#39;&quot;$TAGS&quot;&#39;\r\n    reportsUrl=$(grep -hr &quot;reports.cucumber&quot; log.txt | grep -v &quot;profile&quot; | grep -Eo &#39;http[^ \\[U&gt;]+&#39;| sed &#39;s/[^a-z0-9\\.\\/\\-\\:-]//g&#39;)\r\n    testLine=$(grep -hr &quot;Tests run&quot; log.txt | grep -v &quot;FAILURE&quot; | grep -v &quot;Time elapsed&quot;)","title":"selenium cucumber.io get the reports link in Java or Bash (if Bash, still console ouput), so it can be used else where (like slack)","body":"<p>I have done this (a long time ago now)\nYou can just get the response from a text file and strip it out in bash:</p>\n<pre><code>cmd=&quot;mvn test --log-file log.txt -Dtest=x -Dcucumber.filter.tags='&quot;$TAGS&quot;'\nreportsUrl=$(grep -hr &quot;reports.cucumber&quot; log.txt | grep -v &quot;profile&quot; | grep -Eo 'http[^ \\[U&gt;]+'| sed 's/[^a-z0-9\\.\\/\\-\\:-]//g')\ntestLine=$(grep -hr &quot;Tests run&quot; log.txt | grep -v &quot;FAILURE&quot; | grep -v &quot;Time elapsed&quot;)\n</code></pre>\n"}],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73963802,"answer_count":1,"score":0,"last_activity_date":1664988880,"creation_date":1645956064,"question_id":71283773,"body_markdown":"When we run tests using Cucumber, we have the option to use an ENV variable and publish the results to cucumber.io, or even without an ENV variable eg:\r\n   \r\n    View your Cucumber Report at:                                            \r\n    https://reports.cucumber.io/reports/some-uuid \r\n    This report will self-destruct in 24h.                                   \r\n    Keep reports forever: https://reports.cucumber.io/profile               \r\n\r\nThis works great!!!! But I would like to grab that &quot;some-uuid&quot; and send it to slack (and other places) so others can use it\r\n\r\nI can not see a way of getting this with Java using a Hook or Listeners (I think it gets sent back to maven)\r\n\r\nI trigger the tests with a bash script, and I was hoping the uuid could be grabbed using something like:\r\n\r\n    mvn test -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...| tee log.txt\r\n\r\nHowever, in this case, within the log.txt, the above does not capture that bit of text containing the reports url (I dont really know why), if it did, I could regex the output and grab that url\r\n\r\nI have also tried using --log-file, eg:\r\n\r\n    mvn test --log-file log.txt -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...\r\n\r\nIn this case, within the log.txt, it DOES capture the uuid, However when the tests run, there is no command output. I really need that command output, since testers use it while running the tests.  \r\n\r\nHow can I get the reports url (https://reports.cucumber.io/reports/some-uuid ) and keep the console output?\r\n","title":"selenium cucumber.io get the reports link in Java or Bash (if Bash, still console ouput), so it can be used else where (like slack)","body":"<p>When we run tests using Cucumber, we have the option to use an ENV variable and publish the results to cucumber.io, or even without an ENV variable eg:</p>\n<pre><code>View your Cucumber Report at:                                            \nhttps://reports.cucumber.io/reports/some-uuid \nThis report will self-destruct in 24h.                                   \nKeep reports forever: https://reports.cucumber.io/profile               \n</code></pre>\n<p>This works great!!!! But I would like to grab that &quot;some-uuid&quot; and send it to slack (and other places) so others can use it</p>\n<p>I can not see a way of getting this with Java using a Hook or Listeners (I think it gets sent back to maven)</p>\n<p>I trigger the tests with a bash script, and I was hoping the uuid could be grabbed using something like:</p>\n<pre><code>mvn test -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...| tee log.txt\n</code></pre>\n<p>However, in this case, within the log.txt, the above does not capture that bit of text containing the reports url (I dont really know why), if it did, I could regex the output and grab that url</p>\n<p>I have also tried using --log-file, eg:</p>\n<pre><code>mvn test --log-file log.txt -Dtest=jRunnerMyTest -Dcucumber.filter.tags=&quot;$TAGS&quot; ...\n</code></pre>\n<p>In this case, within the log.txt, it DOES capture the uuid, However when the tests run, there is no command output. I really need that command output, since testers use it while running the tests.</p>\n<p>How can I get the reports url (<a href=\"https://reports.cucumber.io/reports/some-uuid\" rel=\"nofollow noreferrer\">https://reports.cucumber.io/reports/some-uuid</a> ) and keep the console output?</p>\n"},{"tags":["java","android","xml","android-studio","android-11"],"answers":[{"tags":[],"owner":{"account_id":26528903,"reputation":11,"user_id":20161430,"display_name":"ximp_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664988878,"creation_date":1664988878,"answer_id":73963801,"question_id":73962300,"body_markdown":"First of all, **never** use `RecyclerView` inside `Scrollview`. Instead, use `NestedScrollView`.\r\n&gt; NestedScrollView is just like ScrollView, but it supports acting as both a nested scrolling parent and child on both new and old versions of Android. Nested scrolling is enabled by default.\r\n\r\nIf you don&#39;t want your `RecyclerViews` too be scrollable in the first place, add your content as child views to a layout view.\r\n\r\nSecond, for your `ScrollView` to take up all the remaining space given by the `AdView`, craft a constraint chain and give the `ScrollView` a height of `0dp`. This means, you need to constrain the bottom of the `ScrollView` to the top of the `AdView` and vice versa. \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n ...&gt;\r\n    &lt;android.support.v4.widget.NestedScrollView \r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:id=&quot;@+id/ScrollView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/LinearAdLayout&quot;&gt;\r\n\r\n        &lt;!--Your content here--&gt;\r\n\r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/LinearAdLayout&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/ScrollView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n        \r\n        &lt;!--Your AdView here--&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n","title":"ScrollView doesn&#39;t stay to a certain part of the screen and takes whole screen","body":"<p>First of all, <strong>never</strong> use <code>RecyclerView</code> inside <code>Scrollview</code>. Instead, use <code>NestedScrollView</code>.</p>\n<blockquote>\n<p>NestedScrollView is just like ScrollView, but it supports acting as both a nested scrolling parent and child on both new and old versions of Android. Nested scrolling is enabled by default.</p>\n</blockquote>\n<p>If you don't want your <code>RecyclerViews</code> too be scrollable in the first place, add your content as child views to a layout view.</p>\n<p>Second, for your <code>ScrollView</code> to take up all the remaining space given by the <code>AdView</code>, craft a constraint chain and give the <code>ScrollView</code> a height of <code>0dp</code>. This means, you need to constrain the bottom of the <code>ScrollView</code> to the top of the <code>AdView</code> and vice versa.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n ...&gt;\n    &lt;android.support.v4.widget.NestedScrollView \n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:id=&quot;@+id/ScrollView&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/LinearAdLayout&quot;&gt;\n\n        &lt;!--Your content here--&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/LinearAdLayout&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/ScrollView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n        \n        &lt;!--Your AdView here--&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":26402143,"reputation":1,"user_id":20052443,"display_name":"Gavin123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664988878,"creation_date":1664981600,"question_id":73962300,"body_markdown":"I am trying to limit my ScrollView to only a certain section of my screen as I am trying to attach a banner ad to the bottom of my screen and I want the banner ad to be static while the rest of the contents to be scroll-able therefore I don&#39;t want the banner ad to be affected by the ScrollView. For some reason though only the scroll-able section is visible on my device screen when I run my app, my banner ad does not show up at all. I have tried multiple methods to fix this problem to make it work and yet I still can&#39;t figure it out.\r\nThis is my current activity_main.xml code\r\n\r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/grey&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_margin=&quot;16dp&quot;\r\n                app:cardCornerRadius=&quot;8dp&quot;\r\n                app:cardElevation=&quot;8dp&quot;\r\n                app:cardBackgroundColor=&quot;@color/blue&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;androidx.appcompat.widget.SearchView\r\n                    android:id=&quot;@+id/search_view&quot;\r\n                    app:defaultQueryHint=&quot;Search...&quot;\r\n                    app:iconifiedByDefault=&quot;false&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_margin=&quot;16dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView_a&quot;\r\n                    android:textSize=&quot;24sp&quot;\r\n                    android:text=&quot;A&quot;\r\n                    android:textColor=&quot;@color/blue&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:padding=&quot;8dp&quot;\r\n                    android:textStyle=&quot;italic&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_phonetics&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;TextView\r\n                    android:textSize=&quot;24sp&quot;\r\n                    android:text=&quot;B&quot;\r\n                    android:textColor=&quot;@color/blue&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:padding=&quot;8dp&quot;\r\n                    android:textStyle=&quot;italic&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;/&gt;\r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycler_meanings&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n        &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n        &lt;/com.google.android.gms.ads.AdView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"ScrollView doesn&#39;t stay to a certain part of the screen and takes whole screen","body":"<p>I am trying to limit my ScrollView to only a certain section of my screen as I am trying to attach a banner ad to the bottom of my screen and I want the banner ad to be static while the rest of the contents to be scroll-able therefore I don't want the banner ad to be affected by the ScrollView. For some reason though only the scroll-able section is visible on my device screen when I run my app, my banner ad does not show up at all. I have tried multiple methods to fix this problem to make it work and yet I still can't figure it out.\nThis is my current activity_main.xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:background=&quot;@color/grey&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_margin=&quot;16dp&quot;\n            app:cardCornerRadius=&quot;8dp&quot;\n            app:cardElevation=&quot;8dp&quot;\n            app:cardBackgroundColor=&quot;@color/blue&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n            &lt;androidx.appcompat.widget.SearchView\n                android:id=&quot;@+id/search_view&quot;\n                app:defaultQueryHint=&quot;Search...&quot;\n                app:iconifiedByDefault=&quot;false&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;/&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;LinearLayout\n            android:layout_margin=&quot;16dp&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;TextView\n                android:id=&quot;@+id/textView_a&quot;\n                android:textSize=&quot;24sp&quot;\n                android:text=&quot;A&quot;\n                android:textColor=&quot;@color/blue&quot;\n                android:textAlignment=&quot;center&quot;\n                android:padding=&quot;8dp&quot;\n                android:textStyle=&quot;italic&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_phonetics&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;TextView\n                android:textSize=&quot;24sp&quot;\n                android:text=&quot;B&quot;\n                android:textColor=&quot;@color/blue&quot;\n                android:textAlignment=&quot;center&quot;\n                android:padding=&quot;8dp&quot;\n                android:textStyle=&quot;italic&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycler_meanings&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        ads:adSize=&quot;BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","web","primefaces"],"owner":{"account_id":19334443,"reputation":11,"user_id":14135283,"display_name":"SeOs_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664988692,"creation_date":1663796232,"question_id":73807182,"body_markdown":"I&#39;m working on a project with PrimeFaces 3.2.2 and I want to use a `p:fieldset` in a form. I saw in the documentation that the legend is aligned to the left by default, the problem I have is that the legend is aligned to the center, I tried using the style attribute, and I looked for solutions but I did not find any helpful.\r\n\r\nThe fieldset is inside a `p:dialog`, I thought it was the problem but no.\r\n\r\nThis is the definition of the fieldset:\r\n\r\n```\r\n&lt;p:fieldset legend=&quot;Simple Fieldset&quot;&gt;\r\n  &lt;h:panelGrid &gt;\r\n    &lt;h:outputText value=&quot;The story begins as Don Vito Corleone ...&quot; /&gt;\r\n   &lt;/h:panelGrid&gt;\r\n&lt;/p:fieldset&gt;\r\n```\r\n\r\nBut always the legend is shown like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand for better UI visibility I want the legend like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried searching for attributes in the `style` tag but I have no success. I want to know if I have a problem with the order of tags, or maybe is the version I&#39;m using. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p7Gci.png\r\n  [2]: https://i.stack.imgur.com/HRUMM.png","title":"Legend of fieldset is align in the center by default","body":"<p>I'm working on a project with PrimeFaces 3.2.2 and I want to use a <code>p:fieldset</code> in a form. I saw in the documentation that the legend is aligned to the left by default, the problem I have is that the legend is aligned to the center, I tried using the style attribute, and I looked for solutions but I did not find any helpful.</p>\n<p>The fieldset is inside a <code>p:dialog</code>, I thought it was the problem but no.</p>\n<p>This is the definition of the fieldset:</p>\n<pre><code>&lt;p:fieldset legend=&quot;Simple Fieldset&quot;&gt;\n  &lt;h:panelGrid &gt;\n    &lt;h:outputText value=&quot;The story begins as Don Vito Corleone ...&quot; /&gt;\n   &lt;/h:panelGrid&gt;\n&lt;/p:fieldset&gt;\n</code></pre>\n<p>But always the legend is shown like this:</p>\n<p><a href=\"https://i.stack.imgur.com/p7Gci.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p7Gci.png\" alt=\"enter image description here\" /></a></p>\n<p>and for better UI visibility I want the legend like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HRUMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HRUMM.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried searching for attributes in the <code>style</code> tag but I have no success. I want to know if I have a problem with the order of tags, or maybe is the version I'm using. Thanks in advance.</p>\n"},{"tags":["java","oop","null","overloading"],"comments":[{"owner":{"account_id":219702,"reputation":13061,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"score":3,"creation_date":1299571170,"post_id":5229809,"comment_id":5885196,"body_markdown":"Just change the `Integer` to `int`.","body":"Just change the <code>Integer</code> to <code>int</code>."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1299571369,"post_id":5229809,"comment_id":5885231,"body_markdown":"@Mudassir: and what exactly would that solve?","body":"@Mudassir: and what exactly would that solve?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":2,"creation_date":1299571531,"post_id":5229809,"comment_id":5885257,"body_markdown":"@Joachim Sauer: If changed from Integer to int, then null isn&#39;t referred to primitive types in Java, so the compiler will not throw error.","body":"@Joachim Sauer: If changed from Integer to int, then null isn&#39;t referred to primitive types in Java, so the compiler will not throw error."},{"owner":{"account_id":219702,"reputation":13061,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"score":0,"creation_date":1299571757,"post_id":5229809,"comment_id":5885295,"body_markdown":"@Joachim Sauer: It&#39;ll not throw the `reference to doSomething is ambiguous` error.","body":"@Joachim Sauer: It&#39;ll not throw the <code>reference to doSomething is ambiguous</code> error."}],"answers":[{"comments":[{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1299571263,"post_id":5229823,"comment_id":5885213,"body_markdown":"I removed the method with Integer parameter, it&#39;s invoking the function and returning output as **&quot;Array Called&quot;**, so what&#39;s the contract between **Array and Object**?","body":"I removed the method with Integer parameter, it&#39;s invoking the function and returning output as <b>&quot;Array Called&quot;</b>, so what&#39;s the contract between <b>Array and Object</b>?"},{"owner":{"account_id":320703,"reputation":4309,"user_id":639119,"display_name":"Zds"},"score":3,"creation_date":1299574436,"post_id":5229823,"comment_id":5885763,"body_markdown":"Java arrays are also Objects.","body":"Java arrays are also Objects."}],"tags":[],"owner":{"account_id":326293,"reputation":3667,"user_id":647987,"display_name":"Lars Noschinski"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1299571080,"creation_date":1299571080,"answer_id":5229823,"question_id":5229809,"body_markdown":"`null` is a valid value for any of the three types; so the compiler cannot decide which function to use. Use something like `doSomething((Object)null)` or `doSomething((Integer)null)` instead.","title":"How to do method overloading for null argument?","body":"<p><code>null</code> is a valid value for any of the three types; so the compiler cannot decide which function to use. Use something like <code>doSomething((Object)null)</code> or <code>doSomething((Integer)null)</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"score":1,"creation_date":1439276046,"post_id":5229828,"comment_id":51781111,"body_markdown":"Only `Integer`-`char[]` pair is ambiguous, because in other two cases, Java compiler can choose most specific choice, like @JoachimSauer described.","body":"Only <code>Integer</code>-<code>char[]</code> pair is ambiguous, because in other two cases, Java compiler can choose most specific choice, like @JoachimSauer described."},{"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"score":2,"creation_date":1442296304,"post_id":5229828,"comment_id":53011601,"body_markdown":"@kajacx: OPs original question was about calling these methods with `null` as parameter. Under that precondition, all three pairs are ambiguous. For the general case, I agree that only `Integer - char[]` pair is ambiguous.","body":"@kajacx: OPs original question was about calling these methods with <code>null</code> as parameter. Under that precondition, all three pairs are ambiguous. For the general case, I agree that only <code>Integer - char[]</code> pair is ambiguous."},{"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"score":0,"creation_date":1478531594,"post_id":5229828,"comment_id":68181168,"body_markdown":"what about `doSomething(null)` for \n`public static  void doSomething(String str) {\n   System.out.println(&quot;String called&quot;);\n}`\n\nThis will return string called.","body":"what about <code>doSomething(null)</code> for  <code>public static  void doSomething(String str) {    System.out.println(&quot;String called&quot;); }</code>  This will return string called."},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":0,"creation_date":1500414197,"post_id":5229828,"comment_id":77323770,"body_markdown":"Is it possible to use an anotation like &quot;nullable&quot; or &quot;not nullable&quot; and set up the declarations so only the one method you want to get a null with so that an explicit &quot;null&quot; (yet implicit null type) argument always unambiguously selects a specific overload ??","body":"Is it possible to use an anotation like &quot;nullable&quot; or &quot;not nullable&quot; and set up the declarations so only the one method you want to get a null with so that an explicit &quot;null&quot; (yet implicit null type) argument always unambiguously selects a specific overload ??"}],"tags":[],"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"comment_count":4,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1299572616,"creation_date":1299571115,"answer_id":5229828,"question_id":5229809,"body_markdown":"Each pair of these three methods is ambiguous by itself when called with a `null` argument. Because each parameter type is a reference type. \r\n\r\nThe following are the three ways to call one specific method of yours with null.\r\n\r\n    doSomething( (Object) null);\r\n    doSomething( (Integer) null);\r\n    doSomething( (char[]) null);\r\n\r\nMay I suggest to remove this ambiguity if you actually plan to call these methods with `null` arguments. Such a design invites errors in the future.\r\n","title":"How to do method overloading for null argument?","body":"<p>Each pair of these three methods is ambiguous by itself when called with a <code>null</code> argument. Because each parameter type is a reference type. </p>\n\n<p>The following are the three ways to call one specific method of yours with null.</p>\n\n<pre><code>doSomething( (Object) null);\ndoSomething( (Integer) null);\ndoSomething( (char[]) null);\n</code></pre>\n\n<p>May I suggest to remove this ambiguity if you actually plan to call these methods with <code>null</code> arguments. Such a design invites errors in the future.</p>\n"},{"tags":[],"owner":{"account_id":272537,"reputation":2753,"user_id":563673,"accept_rate":43,"display_name":"Ankit"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299571520,"creation_date":1299571520,"answer_id":5229884,"question_id":5229809,"body_markdown":"Every class in Java extends Object class.Even Integer class also extends Object. Hence both Object and Integer are considered as Object instance. So when you pass null as a parameter than compiler gets confused that which object method to call i.e. With parameter Object or parameter Integer since they both are object and their reference can be null. But the primitives in java does not extends Object.","title":"How to do method overloading for null argument?","body":"<p>Every class in Java extends Object class.Even Integer class also extends Object. Hence both Object and Integer are considered as Object instance. So when you pass null as a parameter than compiler gets confused that which object method to call i.e. With parameter Object or parameter Integer since they both are object and their reference can be null. But the primitives in java does not extends Object.</p>\n"},{"comments":[{"owner":{"account_id":2400921,"reputation":75,"user_id":2098591,"accept_rate":67,"display_name":"Christian Gosch"},"score":1,"creation_date":1423830590,"post_id":5229890,"comment_id":45318522,"body_markdown":"This is stated for Java 7. Does that also apply to previous Java versions? I mean: If you have several method signatures with parameters only along a type hierarchy, than you are on the save side with null as actual value? And if you have built a &quot;hierarchy for&quot; like in the example here, then you are not?","body":"This is stated for Java 7. Does that also apply to previous Java versions? I mean: If you have several method signatures with parameters only along a type hierarchy, than you are on the save side with null as actual value? And if you have built a &quot;hierarchy for&quot; like in the example here, then you are not?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1423839860,"post_id":5229890,"comment_id":45324054,"body_markdown":"I&#39;m pretty sure those rules are the same for at least everything since Java 1.1 (except for the addition of generics, obviously).","body":"I&#39;m pretty sure those rules are the same for at least everything since Java 1.1 (except for the addition of generics, obviously)."},{"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"score":1,"creation_date":1478769721,"post_id":5229890,"comment_id":68288210,"body_markdown":"Does this mean that if compiler were to choose in between doSomething(String str) and doSomething(Object obj) during runtime with doSomething(null), doSomething(String str) will be called.","body":"Does this mean that if compiler were to choose in between doSomething(String str) and doSomething(Object obj) during runtime with doSomething(null), doSomething(String str) will be called."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":254,"is_accepted":true,"score":254,"last_activity_date":1496288443,"creation_date":1299571588,"answer_id":5229890,"question_id":5229809,"body_markdown":"Java will always try to use the most specific applicable version of a method that&#39;s available (see [JLS &#167;15.12.2][1]).\r\n\r\n`Object`, `char[]` and `Integer` can all take `null` as a valid value. Therefore all 3 version are applicable, so Java will have to find the most specific one.\r\n\r\nSince `Object` is the super-type of `char[]`, the array version is more specific than the `Object`-version. So if only those two methods exist, the `char[]` version will be chosen.\r\n\r\nWhen both the `char[]` and `Integer` versions are available, then **both** of them are more specific than `Object` but none is more specific than the other, so Java can&#39;t decide which one to call. In this case you&#39;ll have to explicitly mention which one you want to call by casting the argument to the appropriate type.\r\n\r\nNote that in practice this problem occurs far more seldom than one might think. The reason for this is that it only happens when you&#39;re explicitly calling a method with `null` or with a variable of a rather un-specific type (such as `Object`).\r\n\r\nOn the contrary, the following invocation would be perfectly unambiguous:\r\n\r\n    char[] x = null;\r\n    doSomething(x);\r\n\r\nAlthough you&#39;re still passing the value `null`, Java knows exactly which method to call, since it will take the type of the variable into account.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.5","title":"How to do method overloading for null argument?","body":"<p>Java will always try to use the most specific applicable version of a method that's available (see <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.5\" rel=\"noreferrer\">JLS ¬ß15.12.2</a>).</p>\n\n<p><code>Object</code>, <code>char[]</code> and <code>Integer</code> can all take <code>null</code> as a valid value. Therefore all 3 version are applicable, so Java will have to find the most specific one.</p>\n\n<p>Since <code>Object</code> is the super-type of <code>char[]</code>, the array version is more specific than the <code>Object</code>-version. So if only those two methods exist, the <code>char[]</code> version will be chosen.</p>\n\n<p>When both the <code>char[]</code> and <code>Integer</code> versions are available, then <strong>both</strong> of them are more specific than <code>Object</code> but none is more specific than the other, so Java can't decide which one to call. In this case you'll have to explicitly mention which one you want to call by casting the argument to the appropriate type.</p>\n\n<p>Note that in practice this problem occurs far more seldom than one might think. The reason for this is that it only happens when you're explicitly calling a method with <code>null</code> or with a variable of a rather un-specific type (such as <code>Object</code>).</p>\n\n<p>On the contrary, the following invocation would be perfectly unambiguous:</p>\n\n<pre><code>char[] x = null;\ndoSomething(x);\n</code></pre>\n\n<p>Although you're still passing the value <code>null</code>, Java knows exactly which method to call, since it will take the type of the variable into account.</p>\n"},{"tags":[],"owner":{"account_id":143959,"reputation":1094,"user_id":352673,"accept_rate":45,"display_name":"Jafar Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498804245,"creation_date":1406735840,"answer_id":25041486,"question_id":5229809,"body_markdown":"  I Have tried this and when there is exactly one pair of overloaded method and one of them has a parameter type Object then the compiler will always select the method with more specific type.  But when there is more than one specific type, then the compiler throws an ambiguous method error. \r\n\r\n  Since this is a compile time event, this can only happen when one intentionally passes null to this method.  If this is done intentionally then it is better to overload this method again with no parameter or create another method altogether.  ","title":"How to do method overloading for null argument?","body":"<p>I Have tried this and when there is exactly one pair of overloaded method and one of them has a parameter type Object then the compiler will always select the method with more specific type.  But when there is more than one specific type, then the compiler throws an ambiguous method error. </p>\n\n<p>Since this is a compile time event, this can only happen when one intentionally passes null to this method.  If this is done intentionally then it is better to overload this method again with no parameter or create another method altogether.  </p>\n"},{"tags":[],"owner":{"account_id":7311271,"reputation":1,"user_id":5570364,"display_name":"chitrendra chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664988492,"creation_date":1509756083,"answer_id":47106196,"question_id":5229809,"body_markdown":"there is an ambiguity because of `doSomething(char[] obj)` and `doSomething(Integer obj)`.\r\n\r\nchar[] and Integer both are the same superior for null that&#39;s why they are ambiguous.\r\n  ","title":"How to do method overloading for null argument?","body":"<p>there is an ambiguity because of <code>doSomething(char[] obj)</code> and <code>doSomething(Integer obj)</code>.</p>\n<p>char[] and Integer both are the same superior for null that's why they are ambiguous.</p>\n"},{"comments":[{"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"score":0,"creation_date":1632299920,"post_id":51685978,"comment_id":122451978,"body_markdown":"Do you have idea why this method will called ```public static void printVal(Object i){\n        System.out.println(&quot;obj called &quot;+i);\n    } ```","body":"Do you have idea why this method will called <code>public static void printVal(Object i){         System.out.println(&quot;obj called &quot;+i);     } </code>"}],"tags":[],"owner":{"account_id":14092190,"reputation":1,"user_id":10180157,"display_name":"nagarjuna chimakurthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533388482,"creation_date":1533388482,"answer_id":51685978,"question_id":5229809,"body_markdown":"    class Sample{\r\n      public static void main (String[] args) {\r\n           Sample s = new Sample();\r\n           s.printVal(null);\r\n           \r\n        } \r\n        public static void printVal(Object i){\r\n            System.out.println(&quot;obj called &quot;+i);\r\n        }\r\n        \r\n        public static void printVal(Integer i){\r\n            System.out.println(&quot;Int called &quot;+i);\r\n        }\r\n    }\r\n\r\nThe output is Int called null and so ambiguity is with char[] and Integer ","title":"How to do method overloading for null argument?","body":"<pre><code>class Sample{\n  public static void main (String[] args) {\n       Sample s = new Sample();\n       s.printVal(null);\n\n    } \n    public static void printVal(Object i){\n        System.out.println(\"obj called \"+i);\n    }\n\n    public static void printVal(Integer i){\n        System.out.println(\"Int called \"+i);\n    }\n}\n</code></pre>\n\n<p>The output is Int called null and so ambiguity is with char[] and Integer </p>\n"}],"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99800,"favorite_count":0,"down_vote_count":1,"up_vote_count":162,"accepted_answer_id":5229890,"answer_count":7,"score":161,"last_activity_date":1664988492,"creation_date":1299570921,"question_id":5229809,"body_markdown":"I have added three methods with parameters:\r\n\r\n    public static  void doSomething(Object obj) {\r\n\t\tSystem.out.println(&quot;Object called&quot;);\r\n\t}\r\n\t\r\n\tpublic static  void doSomething(char[] obj) {\r\n\t\tSystem.out.println(&quot;Array called&quot;);\r\n\t}\r\n\r\n\tpublic static  void doSomething(Integer obj) {\r\n\t\tSystem.out.println(&quot;Integer called&quot;);\r\n\t}\r\n\r\nWhen I am calling `doSomething(null)` , then compiler throws error as **ambiguous methods**. So is the issue because `Integer` and `char[]` methods or `Integer` and `Object` methods?","title":"How to do method overloading for null argument?","body":"<p>I have added three methods with parameters:</p>\n\n<pre><code>public static  void doSomething(Object obj) {\n    System.out.println(\"Object called\");\n}\n\npublic static  void doSomething(char[] obj) {\n    System.out.println(\"Array called\");\n}\n\npublic static  void doSomething(Integer obj) {\n    System.out.println(\"Integer called\");\n}\n</code></pre>\n\n<p>When I am calling <code>doSomething(null)</code> , then compiler throws error as <strong>ambiguous methods</strong>. So is the issue because <code>Integer</code> and <code>char[]</code> methods or <code>Integer</code> and <code>Object</code> methods?</p>\n"},{"tags":["java","spring","mockito"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664988446,"creation_date":1664988446,"answer_id":73963728,"question_id":73937973,"body_markdown":"That&#39;s a pretty curious case. Let&#39;s understand the cause of such behavior first and then we&#39;ll try to figure out a solution.\r\n\r\nWhen we dive into Mockito code, we&#39;ll find out that in this case the exception is thrown here (`CallsRealMethods` class):\r\n```java\r\npublic void validateFor(InvocationOnMock invocation) {\r\n    if (new InvocationInfo(invocation).isAbstract()) {\r\n        throw cannotCallAbstractRealMethod();\r\n    }\r\n}\r\n```\r\nVerification if the method is abstract is based on this code (`InvocationInfo` class):\r\n```java\r\npublic boolean isAbstract() {\r\n    return (method.getModifiers() &amp; Modifier.ABSTRACT) != 0;\r\n}\r\n```\r\nwhich simply verifies if the method has an abstract flag (bit) set and in case of the `CrudRepository` interface (where `deleteAll` and `findById` are sourced) it is obviously true.\r\n\r\nAs the method calls from Spring-managed repositories are proxied (in this case - to the `SimpleJpaRepository` instance, [read more here][1]), Mockito has no way of knowing that the real method called here would not cause problems - it is abstract, but it is intercepted by Spring. So basically - Mockito is right to throw such an exception in this case without any additional context.\r\n\r\nWhat can we do about it? There may be various ways of working around that after you know the cause of the problem - I will show you the first one that came to my mind, but I suppose there may be other (and better). I simply covered the abstract method from the interface with a fake class that delegates the tested method calls to the real repository. Such fake class instance can be easily spied on using Mockito - thanks to that the code you&#39;ve provided works just fine (I&#39;ve missed the fact that you were stubbing `deleteAll` method, so in my case it&#39;s `findById`). Please, see the code below as well as the inline comments.\r\n\r\n```java\r\n// should not be treated as a Spring bean\r\n// and should not be loaded into the Spring Context\r\n@ConditionalOnExpression(&quot;false&quot;)\r\nclass MyRepositoryFake implements MyRepository {\r\n\r\n    private MyRepository delegate;\r\n\r\n    MyRepositoryFake(MyRepository delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;MyEntity&gt; findById(Long id) {\r\n        // all methods spied on in the tests should be delegated like this\r\n        // if you&#39;re using Lombok, consider:\r\n        // https://projectlombok.org/features/experimental/Delegate\r\n        return delegate.findById(id);\r\n    }\r\n\r\n    // rest of the methods...\r\n}\r\n```\r\n\r\n```java\r\n@Autowired\r\nMyRepository repository;\r\n\r\n@Test\r\nvoid test() {\r\n    // we&#39;re wrapping the repository to avoid\r\n    // Mockito interpreting the mocked method as abstract\r\n    // and then we&#39;re spying on it to make it easy to modify its behaviour\r\n    var repositorySpy = spy(new MyRepositoryFake(repository));\r\n    var id = 1L;\r\n    doThrow(new RuntimeException(&quot;first&quot;))\r\n            .doCallRealMethod()\r\n            .doThrow(new RuntimeException(&quot;second&quot;))\r\n            .when(repositorySpy)\r\n            .findById(id);\r\n\r\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\r\n            .hasMessage(&quot;first&quot;);\r\n    assertThat(repositorySpy.findById(id))\r\n            .isEmpty();\r\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\r\n            .hasMessage(&quot;second&quot;);\r\n}\r\n```\r\n\r\nI&#39;ve reproduced it in [a GitHub repository, where you can find all the code][2]. The test shown above (and in the repo) passes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38509882/how-are-spring-data-repositories-actually-implemented\r\n  [2]: https://github.com/Jonarzz/stack-overflow/blob/73937973/spring-boot-module/src/test/java/io/github/jonarzz/WorkingTest.java#L17","title":"Execute method from JpaRepository in SpyBean","body":"<p>That's a pretty curious case. Let's understand the cause of such behavior first and then we'll try to figure out a solution.</p>\n<p>When we dive into Mockito code, we'll find out that in this case the exception is thrown here (<code>CallsRealMethods</code> class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void validateFor(InvocationOnMock invocation) {\n    if (new InvocationInfo(invocation).isAbstract()) {\n        throw cannotCallAbstractRealMethod();\n    }\n}\n</code></pre>\n<p>Verification if the method is abstract is based on this code (<code>InvocationInfo</code> class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAbstract() {\n    return (method.getModifiers() &amp; Modifier.ABSTRACT) != 0;\n}\n</code></pre>\n<p>which simply verifies if the method has an abstract flag (bit) set and in case of the <code>CrudRepository</code> interface (where <code>deleteAll</code> and <code>findById</code> are sourced) it is obviously true.</p>\n<p>As the method calls from Spring-managed repositories are proxied (in this case - to the <code>SimpleJpaRepository</code> instance, <a href=\"https://stackoverflow.com/questions/38509882/how-are-spring-data-repositories-actually-implemented\">read more here</a>), Mockito has no way of knowing that the real method called here would not cause problems - it is abstract, but it is intercepted by Spring. So basically - Mockito is right to throw such an exception in this case without any additional context.</p>\n<p>What can we do about it? There may be various ways of working around that after you know the cause of the problem - I will show you the first one that came to my mind, but I suppose there may be other (and better). I simply covered the abstract method from the interface with a fake class that delegates the tested method calls to the real repository. Such fake class instance can be easily spied on using Mockito - thanks to that the code you've provided works just fine (I've missed the fact that you were stubbing <code>deleteAll</code> method, so in my case it's <code>findById</code>). Please, see the code below as well as the inline comments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// should not be treated as a Spring bean\n// and should not be loaded into the Spring Context\n@ConditionalOnExpression(&quot;false&quot;)\nclass MyRepositoryFake implements MyRepository {\n\n    private MyRepository delegate;\n\n    MyRepositoryFake(MyRepository delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Optional&lt;MyEntity&gt; findById(Long id) {\n        // all methods spied on in the tests should be delegated like this\n        // if you're using Lombok, consider:\n        // https://projectlombok.org/features/experimental/Delegate\n        return delegate.findById(id);\n    }\n\n    // rest of the methods...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nMyRepository repository;\n\n@Test\nvoid test() {\n    // we're wrapping the repository to avoid\n    // Mockito interpreting the mocked method as abstract\n    // and then we're spying on it to make it easy to modify its behaviour\n    var repositorySpy = spy(new MyRepositoryFake(repository));\n    var id = 1L;\n    doThrow(new RuntimeException(&quot;first&quot;))\n            .doCallRealMethod()\n            .doThrow(new RuntimeException(&quot;second&quot;))\n            .when(repositorySpy)\n            .findById(id);\n\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\n            .hasMessage(&quot;first&quot;);\n    assertThat(repositorySpy.findById(id))\n            .isEmpty();\n    assertThatThrownBy(() -&gt; repositorySpy.findById(id))\n            .hasMessage(&quot;second&quot;);\n}\n</code></pre>\n<p>I've reproduced it in <a href=\"https://github.com/Jonarzz/stack-overflow/blob/73937973/spring-boot-module/src/test/java/io/github/jonarzz/WorkingTest.java#L17\" rel=\"nofollow noreferrer\">a GitHub repository, where you can find all the code</a>. The test shown above (and in the repo) passes.</p>\n"}],"owner":{"account_id":23847029,"reputation":23,"user_id":17851416,"display_name":"rabbitvirus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664988446,"creation_date":1664812918,"question_id":73937973,"body_markdown":"I am writing a service test with `JpaRepository`. It works fine, but I want to check a case with a sequence of failures from a database.\r\n\r\nI created a test and injected a `@SpyBean` as a bean of my `Repository` type. In general, I want to use a real repository bean in happy path scenarios, I just want to break it in a few cases when I want to simulate a failure.\r\n\r\nIt works fine, but I wanted to check a sequence of calls to a single method like this: `exception -&gt; ok -&gt; exception` - I work with batches, so that&#39;s why I would love to test it that way.\r\n\r\nI tried to mock the behavior like this:\r\n```\r\ndoThrow(...).doCallRealMethod().doThrow(...)\r\n    .when(mySpyBean).deleteAll(any());\r\n```\r\nto simulate that sequence.\r\n\r\nUnfortunately, it fails with an exception and a message like this:\r\n```\r\nCannot call abstract real method on java object!\r\nCalling real methods is only possible when mocking non abstract method.\r\n```\r\nOk, I get that message, however I just want to call what would be called if I do not set up any methods Mockito methods (like default behavior). I just want to delegate a call to a real bean registered in Spring in the second call.\r\n\r\nI also tried with `doAnswer(...)`, but did not manage to find a correct solution for that.\r\n\r\nAny ideas?","title":"Execute method from JpaRepository in SpyBean","body":"<p>I am writing a service test with <code>JpaRepository</code>. It works fine, but I want to check a case with a sequence of failures from a database.</p>\n<p>I created a test and injected a <code>@SpyBean</code> as a bean of my <code>Repository</code> type. In general, I want to use a real repository bean in happy path scenarios, I just want to break it in a few cases when I want to simulate a failure.</p>\n<p>It works fine, but I wanted to check a sequence of calls to a single method like this: <code>exception -&gt; ok -&gt; exception</code> - I work with batches, so that's why I would love to test it that way.</p>\n<p>I tried to mock the behavior like this:</p>\n<pre><code>doThrow(...).doCallRealMethod().doThrow(...)\n    .when(mySpyBean).deleteAll(any());\n</code></pre>\n<p>to simulate that sequence.</p>\n<p>Unfortunately, it fails with an exception and a message like this:</p>\n<pre><code>Cannot call abstract real method on java object!\nCalling real methods is only possible when mocking non abstract method.\n</code></pre>\n<p>Ok, I get that message, however I just want to call what would be called if I do not set up any methods Mockito methods (like default behavior). I just want to delegate a call to a real bean registered in Spring in the second call.</p>\n<p>I also tried with <code>doAnswer(...)</code>, but did not manage to find a correct solution for that.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","jsp","servlets"],"owner":{"account_id":22873416,"reputation":23,"user_id":17016103,"display_name":"utente1234567890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664988366,"creation_date":1664286485,"question_id":73868749,"body_markdown":"I cannot print the list of elements of my for in jsp.If I put the quotes instead of the single quote, it gives me other errors, if I put the variable without $, the blank page appears. It would take a link to the correct syntax of variables nested in methods called by variables with the $.\r\n\r\nThis code gives me these errors:\r\n\r\n     &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n     pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt;\r\n\r\n     &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n     &lt;%@ page import=&quot;com.giuggiola.entity.Parlamentare&quot; %&gt;\r\n\r\n     &lt;!DOCTYPE html&gt;\r\n\r\n     &lt;html&gt;\r\n     &lt;head&gt;\r\n     &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n     &lt;title&gt;Lista parlamentari&lt;/title&gt;\r\n     &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/jquery-1.11.1.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\r\n     &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/bootstrap.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\r\n     &lt;/head&gt;\r\n     &lt;body&gt;    \r\n     \r\n     &lt;h2&gt;Lista dei parlamentari:&lt;/h2&gt;\r\n     &lt;form method=&quot;POST&quot; action=&quot;lista_parlamentari.jsp&quot;&gt;\r\n     &lt;c:forEach items=&quot;${parlamentari}&quot; var=&quot;parlamentare&quot;&gt;\r\n     &lt;table&gt;\r\n     &lt;tr&gt;\r\n     &lt;td&gt;Nome:&lt;/td&gt;\r\n     &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getNome()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \r\n     prova con getPk().getNome() --&gt;\r\n     &lt;/tr&gt;\r\n     &lt;tr&gt;\r\n     &lt;td&gt;Partito:&lt;/td&gt;\r\n     &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getPartito()}&quot;/&gt;&lt;/td&gt; \r\n     &lt;/tr&gt;\r\n     &lt;tr&gt;\r\n     &lt;td&gt;Circoscrizione:&lt;/td&gt;\r\n    \r\n \r\n  \r\n    \r\n        &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \r\n    var=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \r\n     \r\n    &lt;td&gt;&lt;c:out value=&quot;${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, \r\n    &#39;&lt;c:out value=&#39;${loop.index}&#39;/&gt;&#39;)}&quot;/&gt;&lt;br&gt;&lt;/td&gt; \r\n            &lt;/c:forEach&gt;\r\n       &lt;/tr&gt;\r\n        &lt;tr&gt;   \r\n       &lt;td&gt;Data di nascita:&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getData_nascita()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n         &lt;td&gt;Luogo:&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getLuogo()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n       &lt;/tr&gt;\r\n       &lt;tr&gt;\r\n         &lt;td&gt;Titolo di studi:&lt;/td&gt;\r\n       &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getTitolo_studi()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\r\n       &lt;/tr&gt;\r\n       &lt;tr&gt;\r\n       &lt;td&gt;Mandati:&lt;/td&gt;\r\n       &lt;c:forEach items=&quot;${parlamentare.getMandati()}&quot; var=&quot;mandato&quot; varStatus=&quot;myIndex&quot;&gt;\r\n           &lt;table&gt;\r\n            &lt;tr&gt;\r\n           &lt;td&gt;Mandato:&lt;/td&gt; \r\n           &lt;td&gt;&lt;c:out value=&quot;${mandato.getElement(&#39;&lt;c:out value=&#39;${mandato}&#39;/&gt;&#39;,&#39;&lt;c:out \r\n      value=&#39;${myIndex.index}&#39;/&gt;&#39;)}&quot; /&gt; &lt;/td&gt;\r\n           &lt;/tr&gt;\r\n           &lt;/table&gt;\r\n           &lt;/c:forEach&gt;\r\n     &lt;/tr&gt;\r\n     \r\n     &lt;tr&gt;\r\n         &lt;td&gt;Commissioni:&lt;/td&gt;\r\n          &lt;c:forEach items=&quot;${parlamentare.getCommissioni()}&quot; var=&quot;commissione&quot; \r\n     varStatus=&quot;myIndex&quot;&gt;\r\n           &lt;table&gt;\r\n            &lt;tr&gt;\r\n           &lt;td&gt;Commissione:&lt;/td&gt; \r\n           &lt;td&gt;&lt;c:out value=&quot;${commissione.getElement(&#39;&lt;c:out \r\n     value=&#39;${commissione}&#39;/&gt;&#39;,&#39;&lt;c:out value=&#39;${myIndex.index}&#39;/&gt;&#39;)}&quot;/&gt;&lt;/td&gt;\r\n           &lt;/tr&gt;\r\n           &lt;/table&gt;\r\n           &lt;/c:forEach&gt;\r\n       &lt;/tr&gt;\r\n      \r\n       &lt;/table&gt;\r\n       &lt;/c:forEach&gt;\r\n     \r\n         &lt;/form&gt;\r\n         \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nstacktrace:\r\n\r\n        SEVERE: Servlet.service() for servlet [jsp] in context with path [/Parlamento] \r\n        threw exception [/lista_parlamentari.jsp (line: [38], column: [4]) \r\n        [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}] contains invalid expression(s): \r\n        [jakarta.el.ELException: Failed to parse the expression \r\n        [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}]]] with root cause\r\n        org.apache.jasper.JasperException: /lista_parlamentari.jsp (line: [38], column: \r\n        [4]) [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}] contains invalid expression(s): \r\n        [jakarta.el.ELException: Failed to parse the expression \r\n        [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;, &#39;&lt;c:out \r\n        value=&#39;${loop.index}&#39;/&gt;&#39;)}]]\r\n\r\nLista_parlamentari.java\r\n\r\n     public ModelAndView doPost()//(Parlamentare parlamentare) \r\n\t {\t\r\n\t\tModelAndView mv= new ModelAndView();\r\n\t\r\n\t\tList&lt;Parlamentare&gt; parlamentari =parlamRepo.findAll();\r\n\t\tmv.addObject(&quot;parlamentari&quot;,parlamentari);\r\n\t\tmv.setViewName(&quot;lista_parlamentari.jsp&quot;);\r\n\t\treturn mv;\r\n\t }\r\n\r\nUpdate: I modified the code with the solutions I found at these links, but the page remains blank and I have no stacktrace from the server.Can anyone help me please? Thank you\r\n\r\nhttps://stackoverflow.com/questions/7563267/doubly-nested-el-variables\r\n\r\nhttps://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaij\r\n\r\n    ${requestScope[&#39;javax.servlet.forward.servlet_path&#39;]}\r\n\r\nlista_parlamentari.jsp\r\n\r\n    &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \r\n     var=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \r\n    \r\n    &lt;td&gt;&lt;c:out \r\n    value= \r\n    &quot;${CIRCOSCRIZIONE}.getElement(${requestScope[&#39;CIRCOSCRIZIONE&#39;]}, \r\n    ${requestScope[&#39;myIndex.index&#39;]})&quot;/&gt;&lt;br&gt;&lt;/td&gt; \r\n        &lt;/c:forEach&gt;\r\n   &lt;/tr&gt;\r\n    &lt;tr&gt;   \r\n\r\nupdate: I changed the code like this, but it just prints the title, the page remains blank.  I followed the directions at this link:\r\n\r\nhttps://stackoverflow.com/questions/15592614/how-to-nest-an-el-expression-in-another-el-expression\r\n\r\n    &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \r\n    var=&quot;CIRCOSCRIZIONE2&quot; varStatus=&quot;myIndex&quot;&gt; \r\n         &lt;c:set var=&quot;circoscrizione&quot; \r\n    value= \r\n    &quot;circoscrizione.getElement(${CIRCOSCRIZIONE2},${myIndex.index})&quot; \r\n     /&gt;\r\n        ${requestScope[circoscrizione] }\r\n          &lt;c:out value=&quot;${circoscrizione}&quot; /&gt;\r\n          &lt;/c:forEach&gt;\r\n   \r\n\r\n\r\n   \r\nSOLUZIONE: &lt;c:set var=&quot;circoscrizione&quot; value=&quot;${CIRCOSCRIZIONE2.getElement(CIRCOSCRIZIONE2,myIndex.index)}&quot;/&gt; \r\n","title":"[jakarta.el.ELException: Failed to parse the expression [${CIRCOSCRIZIONE.getElement( &#39;&lt;c:out value=&#39;${circoscrizione}&#39;/&gt;&#39;","body":"<p>I cannot print the list of elements of my for in jsp.If I put the quotes instead of the single quote, it gives me other errors, if I put the variable without $, the blank page appears. It would take a link to the correct syntax of variables nested in methods called by variables with the $.</p>\n<p>This code gives me these errors:</p>\n<pre><code> &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n pageEncoding=&quot;UTF-8&quot; isELIgnored=&quot;false&quot;%&gt;\n\n &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n &lt;%@ page import=&quot;com.giuggiola.entity.Parlamentare&quot; %&gt;\n\n &lt;!DOCTYPE html&gt;\n\n &lt;html&gt;\n &lt;head&gt;\n &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n &lt;title&gt;Lista parlamentari&lt;/title&gt;\n &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/jquery-1.11.1.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\n &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/bootstrap.min.js&quot; /&gt;&quot;&gt;&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;    \n \n &lt;h2&gt;Lista dei parlamentari:&lt;/h2&gt;\n &lt;form method=&quot;POST&quot; action=&quot;lista_parlamentari.jsp&quot;&gt;\n &lt;c:forEach items=&quot;${parlamentari}&quot; var=&quot;parlamentare&quot;&gt;\n &lt;table&gt;\n &lt;tr&gt;\n &lt;td&gt;Nome:&lt;/td&gt;\n &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getNome()}&quot;/&gt;&lt;/td&gt; &lt;!-- se non funziona \n prova con getPk().getNome() --&gt;\n &lt;/tr&gt;\n &lt;tr&gt;\n &lt;td&gt;Partito:&lt;/td&gt;\n &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getPk().getPartito()}&quot;/&gt;&lt;/td&gt; \n &lt;/tr&gt;\n &lt;tr&gt;\n &lt;td&gt;Circoscrizione:&lt;/td&gt;\n\n\n\n\n    &lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \nvar=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \n \n&lt;td&gt;&lt;c:out value=&quot;${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', \n'&lt;c:out value='${loop.index}'/&gt;')}&quot;/&gt;&lt;br&gt;&lt;/td&gt; \n        &lt;/c:forEach&gt;\n   &lt;/tr&gt;\n    &lt;tr&gt;   \n   &lt;td&gt;Data di nascita:&lt;/td&gt;\n   &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getData_nascita()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n     &lt;td&gt;Luogo:&lt;/td&gt;\n   &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getLuogo()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;tr&gt;\n     &lt;td&gt;Titolo di studi:&lt;/td&gt;\n   &lt;td&gt;&lt;c:out value=&quot;${parlamentare.getTitolo_studi()}&quot;/&gt;&lt;br&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n   &lt;tr&gt;\n   &lt;td&gt;Mandati:&lt;/td&gt;\n   &lt;c:forEach items=&quot;${parlamentare.getMandati()}&quot; var=&quot;mandato&quot; varStatus=&quot;myIndex&quot;&gt;\n       &lt;table&gt;\n        &lt;tr&gt;\n       &lt;td&gt;Mandato:&lt;/td&gt; \n       &lt;td&gt;&lt;c:out value=&quot;${mandato.getElement('&lt;c:out value='${mandato}'/&gt;','&lt;c:out \n  value='${myIndex.index}'/&gt;')}&quot; /&gt; &lt;/td&gt;\n       &lt;/tr&gt;\n       &lt;/table&gt;\n       &lt;/c:forEach&gt;\n &lt;/tr&gt;\n \n &lt;tr&gt;\n     &lt;td&gt;Commissioni:&lt;/td&gt;\n      &lt;c:forEach items=&quot;${parlamentare.getCommissioni()}&quot; var=&quot;commissione&quot; \n varStatus=&quot;myIndex&quot;&gt;\n       &lt;table&gt;\n        &lt;tr&gt;\n       &lt;td&gt;Commissione:&lt;/td&gt; \n       &lt;td&gt;&lt;c:out value=&quot;${commissione.getElement('&lt;c:out \n value='${commissione}'/&gt;','&lt;c:out value='${myIndex.index}'/&gt;')}&quot;/&gt;&lt;/td&gt;\n       &lt;/tr&gt;\n       &lt;/table&gt;\n       &lt;/c:forEach&gt;\n   &lt;/tr&gt;\n  \n   &lt;/table&gt;\n   &lt;/c:forEach&gt;\n \n     &lt;/form&gt;\n     \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>stacktrace:</p>\n<pre><code>    SEVERE: Servlet.service() for servlet [jsp] in context with path [/Parlamento] \n    threw exception [/lista_parlamentari.jsp (line: [38], column: [4]) \n    [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}] contains invalid expression(s): \n    [jakarta.el.ELException: Failed to parse the expression \n    [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}]]] with root cause\n    org.apache.jasper.JasperException: /lista_parlamentari.jsp (line: [38], column: \n    [4]) [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}] contains invalid expression(s): \n    [jakarta.el.ELException: Failed to parse the expression \n    [${CIRCOSCRIZIONE.getElement( '&lt;c:out value='${circoscrizione}'/&gt;', '&lt;c:out \n    value='${loop.index}'/&gt;')}]]\n</code></pre>\n<p>Lista_parlamentari.java</p>\n<pre><code> public ModelAndView doPost()//(Parlamentare parlamentare) \n {  \n    ModelAndView mv= new ModelAndView();\n\n    List&lt;Parlamentare&gt; parlamentari =parlamRepo.findAll();\n    mv.addObject(&quot;parlamentari&quot;,parlamentari);\n    mv.setViewName(&quot;lista_parlamentari.jsp&quot;);\n    return mv;\n }\n</code></pre>\n<p>Update: I modified the code with the solutions I found at these links, but the page remains blank and I have no stacktrace from the server.Can anyone help me please? Thank you</p>\n<p><a href=\"https://stackoverflow.com/questions/7563267/doubly-nested-el-variables\">Doubly nested EL variables?</a></p>\n<p><a href=\"https://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaij\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaij</a></p>\n<pre><code>${requestScope['javax.servlet.forward.servlet_path']}\n</code></pre>\n<p>lista_parlamentari.jsp</p>\n<pre><code>&lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \n var=&quot;CIRCOSCRIZIONE&quot; varStatus=&quot;myIndex&quot;&gt; \n\n&lt;td&gt;&lt;c:out \nvalue= \n&quot;${CIRCOSCRIZIONE}.getElement(${requestScope['CIRCOSCRIZIONE']}, \n${requestScope['myIndex.index']})&quot;/&gt;&lt;br&gt;&lt;/td&gt; \n    &lt;/c:forEach&gt;\n</code></pre>\n   \n       \n<p>update: I changed the code like this, but it just prints the title, the page remains blank.  I followed the directions at this link:</p>\n<p><a href=\"https://stackoverflow.com/questions/15592614/how-to-nest-an-el-expression-in-another-el-expression\">How to nest an EL expression in another EL expression</a></p>\n<pre><code>&lt;c:forEach items=&quot;${parlamentare.getPk().getCircoscrizione()}&quot; \nvar=&quot;CIRCOSCRIZIONE2&quot; varStatus=&quot;myIndex&quot;&gt; \n     &lt;c:set var=&quot;circoscrizione&quot; \nvalue= \n&quot;circoscrizione.getElement(${CIRCOSCRIZIONE2},${myIndex.index})&quot; \n /&gt;\n    ${requestScope[circoscrizione] }\n      &lt;c:out value=&quot;${circoscrizione}&quot; /&gt;\n      &lt;/c:forEach&gt;\n</code></pre>\n<p>SOLUZIONE: &lt;c:set var=&quot;circoscrizione&quot; value=&quot;${CIRCOSCRIZIONE2.getElement(CIRCOSCRIZIONE2,myIndex.index)}&quot;/&gt;</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1664892311,"post_id":73949105,"comment_id":130570654,"body_markdown":"You can have as many methods in your java programs as you want. You just need to call them for them to be executed. The `public static void main` method is just the entry point of your program, but there is nothing stopping you from calling as many other methods from that entry point as you want. I recommend reading a beginners tutorial that deals with how you define and call methods in java.","body":"You can have as many methods in your java programs as you want. You just need to call them for them to be executed. The <code>public static void main</code> method is just the entry point of your program, but there is nothing stopping you from calling as many other methods from that entry point as you want. I recommend reading a beginners tutorial that deals with how you define and call methods in java."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1664892502,"post_id":73949105,"comment_id":130570736,"body_markdown":"If you were asked to write &quot;orderedArray&quot; and &quot;reverseArray&quot; methods, why did you name them instead &quot;main&quot; and &quot;main1&quot; ?","body":"If you were asked to write &quot;orderedArray&quot; and &quot;reverseArray&quot; methods, why did you name them instead &quot;main&quot; and &quot;main1&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664892704,"creation_date":1664892704,"answer_id":73949254,"question_id":73949105,"body_markdown":"the ordering method works because it is inside main method.\r\nIn java the first method run is the main method, instead the reverse method is inside another method and you never call it, that is the reason why only ordering method works.\r\n\r\nYou could create:\r\na main method, two different method and call them inside your main.\r\nLike this:\r\n\r\n    public static void main(String[] args) {\r\n        Integer[] array = {1,4,3,2,5};\r\n        orderedArray(array);\r\n        System.out.println(&quot;&quot;);\r\n        reverseArray(array);\r\n    }\r\n\r\n    public static void reverseArray(Integer[] args) {\r\n        Arrays.sort(args,Collections.reverseOrder());\r\n        System.out.print(&quot;reverse array &quot;);\r\n        for(int i:args)\r\n        {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n    public static void orderedArray(Integer[] args) {\r\n        Arrays.sort(args);\r\n        System.out.print(&quot;ordered array &quot;);\r\n        for(int num : args) {\r\n            System.out.print(num + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nThe result will be \r\n\r\nordered array 1 2 3 4 5 \r\n\r\nreverse array 5 4 3 2 1 ","title":"How can I add a method for ordering an array plus a method to reverse the order of the array?","body":"<p>the ordering method works because it is inside main method.\nIn java the first method run is the main method, instead the reverse method is inside another method and you never call it, that is the reason why only ordering method works.</p>\n<p>You could create:\na main method, two different method and call them inside your main.\nLike this:</p>\n<pre><code>public static void main(String[] args) {\n    Integer[] array = {1,4,3,2,5};\n    orderedArray(array);\n    System.out.println(&quot;&quot;);\n    reverseArray(array);\n}\n\npublic static void reverseArray(Integer[] args) {\n    Arrays.sort(args,Collections.reverseOrder());\n    System.out.print(&quot;reverse array &quot;);\n    for(int i:args)\n    {\n        System.out.print(i + &quot; &quot;);\n    }\n}\npublic static void orderedArray(Integer[] args) {\n    Arrays.sort(args);\n    System.out.print(&quot;ordered array &quot;);\n    for(int num : args) {\n        System.out.print(num + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>The result will be</p>\n<p>ordered array 1 2 3 4 5</p>\n<p>reverse array 5 4 3 2 1</p>\n"}],"owner":{"account_id":23369153,"reputation":11,"user_id":17440308,"display_name":"kirito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1664988329,"creation_date":1664892027,"question_id":73949105,"body_markdown":"The question I was given is asking me to write a `orderedArray` method as well as a `reverseArray` method.\r\n\r\nI have done this but I used a static void which makes only the first written method to work and the following method to not work. The ordering method works but not the reverse order method. \r\n\r\nIf I delete one of the methods it works, no matter which I delete the other work, if that makes sense.\r\n\r\nThis is the code:\r\n```java\r\npublic static void main(String[] args)\r\n    {    \t\r\n    \tint[] orderedArray = {1,4,3,2,5};\r\n    \tArrays.sort(orderedArray);\r\n    \tfor(int num : orderedArray) {\r\n    \t\tSystem.out.print(num + &quot; &quot;);\r\n    \t}\r\n    }\r\n    \r\n    public static void main1(String[] args) {\r\n    \t\r\n    \tint[] reverseArray = {1,2,3,4,5};\r\n    \tfor(int i=reverseArray.length-1;i&gt;=0;i--)\r\n    \t\tSystem.out.print(reverseArray[i] + &quot;  &quot;);\r\n    }\r\n```\r\n  \t\r\nI am just wondering if there is a better way to write this or how I can make it two separate methods so they work at the same time rather than the scenario I currently have. \r\n\r\nIf anyone has any suggestions I would greatly appreciate it","title":"How can I add a method for ordering an array plus a method to reverse the order of the array?","body":"<p>The question I was given is asking me to write a <code>orderedArray</code> method as well as a <code>reverseArray</code> method.</p>\n<p>I have done this but I used a static void which makes only the first written method to work and the following method to not work. The ordering method works but not the reverse order method.</p>\n<p>If I delete one of the methods it works, no matter which I delete the other work, if that makes sense.</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n    {       \n        int[] orderedArray = {1,4,3,2,5};\n        Arrays.sort(orderedArray);\n        for(int num : orderedArray) {\n            System.out.print(num + &quot; &quot;);\n        }\n    }\n    \n    public static void main1(String[] args) {\n        \n        int[] reverseArray = {1,2,3,4,5};\n        for(int i=reverseArray.length-1;i&gt;=0;i--)\n            System.out.print(reverseArray[i] + &quot;  &quot;);\n    }\n</code></pre>\n<p>I am just wondering if there is a better way to write this or how I can make it two separate methods so they work at the same time rather than the scenario I currently have.</p>\n<p>If anyone has any suggestions I would greatly appreciate it</p>\n"},{"tags":["java","sorting","generics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664986390,"post_id":73963223,"comment_id":130595265,"body_markdown":"Your List is of type `...Class&lt;? extends FooBar&gt;...` but the comparator is simply `...Class&lt;?&gt;...`, as you saw. The casting further on in your question essentially confirms that is the issue. Why not define your `Comparator` as `&lt;? extends FooBar&gt;` to begin with?","body":"Your List is of type <code>...Class&lt;? extends FooBar&gt;...</code> but the comparator is simply <code>...Class&lt;?&gt;...</code>, as you saw. The casting further on in your question essentially confirms that is the issue. Why not define your <code>Comparator</code> as <code>&lt;? extends FooBar&gt;</code> to begin with?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664986537,"post_id":73963223,"comment_id":130595308,"body_markdown":"@Rogue Probably because the comparator isn&#39;t specific to comparing map entries that have `Class&lt;? extends FooBar&gt;` as keys.","body":"@Rogue Probably because the comparator isn&#39;t specific to comparing map entries that have <code>Class&lt;? extends FooBar&gt;</code> as keys."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664986633,"post_id":73963223,"comment_id":130595349,"body_markdown":"I suppose that&#39;s fair, but I&#39;m pretty sure the language semantics for generics will bite you in that case (nested generics don&#39;t play very well here). From my understanding, a `Foo&lt;A&lt;? extends X&gt;&gt;` and a `Foo&lt;A&lt;? extends Y&gt;&gt;` (unrelated A/B/X/Y classes) are just as different as `Foo&lt;A&gt;` and `Foo&lt;B&gt;` for this kind of type inference resolution.","body":"I suppose that&#39;s fair, but I&#39;m pretty sure the language semantics for generics will bite you in that case (nested generics don&#39;t play very well here). From my understanding, a <code>Foo&lt;A&lt;? extends X&gt;&gt;</code> and a <code>Foo&lt;A&lt;? extends Y&gt;&gt;</code> (unrelated A/B/X/Y classes) are just as different as <code>Foo&lt;A&gt;</code> and <code>Foo&lt;B&gt;</code> for this kind of type inference resolution."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664986853,"post_id":73963223,"comment_id":130595440,"body_markdown":"`MY_COMPARATOR` can work with any class in the world. Why should I constrain it to `FooBar` classes? And my list is really `List&lt;Map.Entry&lt;Class&lt;? extends T&gt;, Integer&gt;&gt;`, as it itself is parameterized in a captured generic type, so I don&#39;t even know what type it is ahead of time. But why should I care what type of class it is? I know `MY_COMPARATOR` can handle it! And yes, the &quot;language semantics for generics [are] bit[ing] [me] in [this] case&quot;. The question is: we all agree this should work and no harm will come from it. And it&#39;s even logical. So how do I work around it?","body":"<code>MY_COMPARATOR</code> can work with any class in the world. Why should I constrain it to <code>FooBar</code> classes? And my list is really <code>List&lt;Map.Entry&lt;Class&lt;? extends T&gt;, Integer&gt;&gt;</code>, as it itself is parameterized in a captured generic type, so I don&#39;t even know what type it is ahead of time. But why should I care what type of class it is? I know <code>MY_COMPARATOR</code> can handle it! And yes, the &quot;language semantics for generics [are] bit[ing] [me] in [this] case&quot;. The question is: we all agree this should work and no harm will come from it. And it&#39;s even logical. So how do I work around it?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664986961,"post_id":73963223,"comment_id":130595484,"body_markdown":"I&#39;ll even be happy with a small kludge that I can suppress warnings on, but intermediate casting to `Object` is too much I think. Plus it still leaves warnings.","body":"I&#39;ll even be happy with a small kludge that I can suppress warnings on, but intermediate casting to <code>Object</code> is too much I think. Plus it still leaves warnings."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664987514,"post_id":73963223,"comment_id":130595678,"body_markdown":"Change your declaration to `Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR ‚Ä¶` There is, by the way, no need to resort to `Collections.sort(‚Ä¶)` anymore. You can simply call `foobarValues.sort(MY_COMPARATOR);`","body":"Change your declaration to <code>Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR ‚Ä¶</code> There is, by the way, no need to resort to <code>Collections.sort(‚Ä¶)</code> anymore. You can simply call <code>foobarValues.sort(MY_COMPARATOR);</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664987936,"post_id":73963223,"comment_id":130595821,"body_markdown":"Wow, Holger, that did it!! (You don&#39;t know how many combinations of `extends` and `super` I tried. &#128517;) Please place your comment in a separate answer; I want to open a bounty to award it and show my appreciation. And thanks for reminding me about `List.sort()`. Yes, this is super-old code I&#39;m trying to finally clean up. (One comment in that file said, &quot;works on Eclipse 3.4M3 but not on Sun JDK 1.6.0_03-b05&quot;, so it was a while ago. &#128518;)","body":"Wow, Holger, that did it!! (You don&#39;t know how many combinations of <code>extends</code> and <code>super</code> I tried. üòÖ) Please place your comment in a separate answer; I want to open a bounty to award it and show my appreciation. And thanks for reminding me about <code>List.sort()</code>. Yes, this is super-old code I&#39;m trying to finally clean up. (One comment in that file said, &quot;works on Eclipse 3.4M3 but not on Sun JDK 1.6.0_03-b05&quot;, so it was a while ago. üòÜ)"}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664988210,"post_id":73963648,"comment_id":130595913,"body_markdown":"Holger had mentioned this as well, and indeed `Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;` works! I&#39;m grateful for the answer! I had went over the PECS principle, but in my mind that would give me `Comparator&lt;? extends Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;`. I&#39;ll have to say I&#39;m a 90% expert on Java generics, but that last 10% is a doozy! haha","body":"Holger had mentioned this as well, and indeed <code>Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;</code> works! I&#39;m grateful for the answer! I had went over the PECS principle, but in my mind that would give me <code>Comparator&lt;? extends Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;</code>. I&#39;ll have to say I&#39;m a 90% expert on Java generics, but that last 10% is a doozy! haha"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664988348,"post_id":73963648,"comment_id":130595956,"body_markdown":"@GarretWilson See my edit. `Comparator` is a consumer here, not a producer!","body":"@GarretWilson See my edit. <code>Comparator</code> is a consumer here, not a producer!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1664988517,"post_id":73963648,"comment_id":130595996,"body_markdown":"Gah, good catch. Even with PECS in mind, I glossed over applying `extends` on `Class`.","body":"Gah, good catch. Even with PECS in mind, I glossed over applying <code>extends</code> on <code>Class</code>."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664988884,"post_id":73963648,"comment_id":130596123,"body_markdown":"Oh, so you&#39;re saying that `sort(Comparator&lt;? super E&gt;)` is the same as my using `Comparator&lt;? super Map.Entry&lt;Class&lt;?&gt;&gt;`? So in this case, the `? extends Class&lt;?&gt;` is functioning as a _producer_ to the `Map.Entry&lt;&gt;`, while `Comparator&lt;&gt;` is functioning as a _consumer_ to `sort()`? &#129327;","body":"Oh, so you&#39;re saying that <code>sort(Comparator&lt;? super E&gt;)</code> is the same as my using <code>Comparator&lt;? super Map.Entry&lt;Class&lt;?&gt;&gt;</code>? So in this case, the <code>? extends Class&lt;?&gt;</code> is functioning as a <i>producer</i> to the <code>Map.Entry&lt;&gt;</code>, while <code>Comparator&lt;&gt;</code> is functioning as a <i>consumer</i> to <code>sort()</code>? ü§Ø"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664989351,"post_id":73963648,"comment_id":130596252,"body_markdown":"I mean **if** `sort` were only declared to take `Comparator&lt;E&gt;`, you would have to apply PECS at the `Comparator` level and write `Comparator&lt;? super ...&gt;` too. Since it&#39;s declared to take `Comparator&lt;? super E&gt;`, you don&#39;t have to do that, but it&#39;s fine if you do. `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;` reads &quot;`Map.Entry` is a producer of `Class&lt;?&gt;`&quot; and `sort(Comparator&lt;? super E&gt;)` reads &quot;`sort` takes in a comparator, that is a consumer of `E`s&quot;. I think you should go through the PECS post again... @GarretWilson","body":"I mean <b>if</b> <code>sort</code> were only declared to take <code>Comparator&lt;E&gt;</code>, you would have to apply PECS at the <code>Comparator</code> level and write <code>Comparator&lt;? super ...&gt;</code> too. Since it&#39;s declared to take <code>Comparator&lt;? super E&gt;</code>, you don&#39;t have to do that, but it&#39;s fine if you do. <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code> reads &quot;<code>Map.Entry</code> is a producer of <code>Class&lt;?&gt;</code>&quot; and <code>sort(Comparator&lt;? super E&gt;)</code> reads &quot;<code>sort</code> takes in a comparator, that is a consumer of <code>E</code>s&quot;. I think you should go through the PECS post again... @GarretWilson"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664989676,"post_id":73963648,"comment_id":130596357,"body_markdown":"@GarretWilson a common source of confusion is that types like `Map.Entry&lt;Class&lt;?&gt;, Integer&gt;` and `Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;` are *invariant*. The type arguments are types with wildcards, but the generic type (here `Map.Entry&lt;‚Ä¶&gt;`) has no wildcards. So neither of those types is a subtype of the other. But both are subtypes of `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;` (which is a type with wildcards). So, if the comparator can sort elements of type `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;`, it can also sort elements of the subtype `Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;`‚Ä¶","body":"@GarretWilson a common source of confusion is that types like <code>Map.Entry&lt;Class&lt;?&gt;, Integer&gt;</code> and <code>Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;</code> are <i>invariant</i>. The type arguments are types with wildcards, but the generic type (here <code>Map.Entry&lt;‚Ä¶&gt;</code>) has no wildcards. So neither of those types is a subtype of the other. But both are subtypes of <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code> (which is a type with wildcards). So, if the comparator can sort elements of type <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code>, it can also sort elements of the subtype <code>Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;</code>‚Ä¶"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664990153,"post_id":73963648,"comment_id":130596503,"body_markdown":"&quot;So neither of those types is a subtype of the other.&quot; Yeah, I was getting that part. But ‚Ä¶ oh, I think I see: you&#39;ve made `Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;` a more general class by making the second level of generics non-specific. `Map.Entry&lt;X, Integer&gt;` isn&#39;t a subtype of `Map.Entry&lt;Y, Integer&gt;`, but by saying `Map.Entry&lt;? extends Z, Integer&gt;` you take the type compatibility problem away at that level by making that level not a specific type. Something like that. It&#39;s hard to explain in simple words, but I think intuitively I understand. Thank you.","body":"&quot;So neither of those types is a subtype of the other.&quot; Yeah, I was getting that part. But ‚Ä¶ oh, I think I see: you&#39;ve made <code>Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;</code> a more general class by making the second level of generics non-specific. <code>Map.Entry&lt;X, Integer&gt;</code> isn&#39;t a subtype of <code>Map.Entry&lt;Y, Integer&gt;</code>, but by saying <code>Map.Entry&lt;? extends Z, Integer&gt;</code> you take the type compatibility problem away at that level by making that level not a specific type. Something like that. It&#39;s hard to explain in simple words, but I think intuitively I understand. Thank you."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664988288,"creation_date":1664988008,"answer_id":73963648,"question_id":73963223,"body_markdown":"I would suggest that you declare the comparator by applying the [PECS][1] principle. It should have the type:\r\n\r\n    Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;\r\n\r\nBoth type parameters for `Map.Entry` should have `? extends` (though just the first one is enough to fix the error) because a map entry is a producer of its keys and value types.\r\n\r\nYou could also add `? super` to the type parameter of `Comparator`, since the comparator is a consumer of map entries, but that is not needed here because it is actually already written in the method signature of `sort`.\r\n\r\n    void sort(Comparator&lt;? super E&gt; c)\r\n\r\nAfter that, you can write:\r\n\r\n    foobarValues.sort(MY_COMPARATOR);\r\n\r\n&lt;hr&gt;\r\n\r\nIf you cannot change the type of `MY_COMPARATOR`, one way to get the compiler to &quot;just shut up&quot; is to cast to `Object` first:\r\n\r\n    (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;) (Object) MY_COMPARATOR\r\n\r\nCasting from `Object` to a parameterised type is an unchecked cast, which is presumably what you are looking for.\r\n\r\nThis unchecked cast would be safe as far as I know, since a map entry cannot be used as a consumer of its key type. You can only get, but not set, its key.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"Java comparator for sorting double-nested generics array","body":"<p>I would suggest that you declare the comparator by applying the <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a> principle. It should have the type:</p>\n<pre><code>Comparator&lt;Map.Entry&lt;? extends Class&lt;?&gt;, Integer&gt;&gt;\n</code></pre>\n<p>Both type parameters for <code>Map.Entry</code> should have <code>? extends</code> (though just the first one is enough to fix the error) because a map entry is a producer of its keys and value types.</p>\n<p>You could also add <code>? super</code> to the type parameter of <code>Comparator</code>, since the comparator is a consumer of map entries, but that is not needed here because it is actually already written in the method signature of <code>sort</code>.</p>\n<pre><code>void sort(Comparator&lt;? super E&gt; c)\n</code></pre>\n<p>After that, you can write:</p>\n<pre><code>foobarValues.sort(MY_COMPARATOR);\n</code></pre>\n<hr>\n<p>If you cannot change the type of <code>MY_COMPARATOR</code>, one way to get the compiler to &quot;just shut up&quot; is to cast to <code>Object</code> first:</p>\n<pre><code>(Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;) (Object) MY_COMPARATOR\n</code></pre>\n<p>Casting from <code>Object</code> to a parameterised type is an unchecked cast, which is presumably what you are looking for.</p>\n<p>This unchecked cast would be safe as far as I know, since a map entry cannot be used as a consumer of its key type. You can only get, but not set, its key.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664988288,"creation_date":1664985854,"question_id":73963223,"body_markdown":"With Java 17 I want to compare map entries based upon some criteria, where the map entries are Java classes associated with some value, like this:\r\n\r\n```java\r\nComparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR =\r\n    new Comparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;() { ‚Ä¶ }\r\n```\r\n\r\nLater I have a list of a list of classes and their associated values (whether it&#39;s counts, memory size, or whatever). The twist is that my code is so refined (tongue in cheek) that I happen to know that all these classes extend from `FooBar`:\r\n\r\n```java\r\nList&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt; foobarValues = new ArrayList&lt;&gt;();\r\n```\r\n\r\nNow I just want to sort those map entries using `MY_COMPARATOR` (to find the smallest/largest classes, the classes most encountered, or whatever `MY_COMPARATOR` uses as its criteria). But this doesn&#39;t work:\r\n\r\n```java\r\njava.util.Collections.sort(foobarValues, MY_COMPARATOR);\r\n```\r\n\r\nJava (actually Eclipse 2022-09) tells me:\r\n\r\n&gt; `The method sort(List&lt;T&gt;, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (List&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;,Integer&gt;&gt;, Comparator&lt;Map.Entry&lt;Class&lt;?&gt;,Integer&gt;&gt;)`\r\n\r\nI&#39;ve been working with Java generics for a long time, and my best simplified explanation of what&#39;s happening is that the `? super T` in `Collections.sort()` &quot;hides&quot; the lower layer of generics, and that `? super Map.Entry&lt;Class&lt;?&gt;&gt;` has no relation to `? super Map.Entry&lt;Class&lt;? extends FooBar&gt;&gt;`. (But still, really?.) Actually my mind can&#39;t quite grasp the full intricacies of the problem.\r\n\r\nBut let&#39;s say I don&#39;t care so much about the problem; I just want the code to work with no warnings. You and I know that the comparator can work with _any class that is possible to exist_, so it will never cause a `ClassCastException` and it will never cause heap pollution, and it will never even sneak into your house at night and kill your bamboo plant.\r\n\r\nHow can I tell Java that it&#39;s OK for me to use this comparator? This does not work:\r\n\r\n```java\r\nCollections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)MY_COMPARATOR);\r\n```\r\n\r\nI would be happy casting the list being sorted, but this doesn&#39;t work either:\r\n\r\n```java\r\nCollections.sort((List&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;)foo, MY_COMPARATOR);\r\n```\r\n\r\nThis _does_ work!\r\n\r\n```java\r\nCollections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)(Object)comparator);\r\n```\r\n\r\nBut to use it I have to add `@SuppressWarnings(&quot;unchecked&quot;)`, and Java 17 `javac` with `-Xlint:all` still complains, and besides I feel dirty using it.\r\n\r\nI would be content with some workaround that would allow me to suppress the warning with `@SuppressWarnings(&quot;unchecked&quot;)` as long as javac lint still didn&#39;t complain. But the intermediate cast to `Object` is too much of a kludge for me to accept.\r\n\r\nWhat should I be doing?","title":"Java comparator for sorting double-nested generics array","body":"<p>With Java 17 I want to compare map entries based upon some criteria, where the map entries are Java classes associated with some value, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt; MY_COMPARATOR =\n    new Comparator&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;() { ‚Ä¶ }\n</code></pre>\n<p>Later I have a list of a list of classes and their associated values (whether it's counts, memory size, or whatever). The twist is that my code is so refined (tongue in cheek) that I happen to know that all these classes extend from <code>FooBar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt; foobarValues = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Now I just want to sort those map entries using <code>MY_COMPARATOR</code> (to find the smallest/largest classes, the classes most encountered, or whatever <code>MY_COMPARATOR</code> uses as its criteria). But this doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.Collections.sort(foobarValues, MY_COMPARATOR);\n</code></pre>\n<p>Java (actually Eclipse 2022-09) tells me:</p>\n<blockquote>\n<p><code>The method sort(List&lt;T&gt;, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (List&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;,Integer&gt;&gt;, Comparator&lt;Map.Entry&lt;Class&lt;?&gt;,Integer&gt;&gt;)</code></p>\n</blockquote>\n<p>I've been working with Java generics for a long time, and my best simplified explanation of what's happening is that the <code>? super T</code> in <code>Collections.sort()</code> &quot;hides&quot; the lower layer of generics, and that <code>? super Map.Entry&lt;Class&lt;?&gt;&gt;</code> has no relation to <code>? super Map.Entry&lt;Class&lt;? extends FooBar&gt;&gt;</code>. (But still, really?.) Actually my mind can't quite grasp the full intricacies of the problem.</p>\n<p>But let's say I don't care so much about the problem; I just want the code to work with no warnings. You and I know that the comparator can work with <em>any class that is possible to exist</em>, so it will never cause a <code>ClassCastException</code> and it will never cause heap pollution, and it will never even sneak into your house at night and kill your bamboo plant.</p>\n<p>How can I tell Java that it's OK for me to use this comparator? This does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)MY_COMPARATOR);\n</code></pre>\n<p>I would be happy casting the list being sorted, but this doesn't work either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort((List&lt;Map.Entry&lt;Class&lt;?&gt;, Integer&gt;&gt;)foo, MY_COMPARATOR);\n</code></pre>\n<p>This <em>does</em> work!</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.sort(foo, (Comparator&lt;Map.Entry&lt;Class&lt;? extends FooBar&gt;, Integer&gt;&gt;)(Object)comparator);\n</code></pre>\n<p>But to use it I have to add <code>@SuppressWarnings(&quot;unchecked&quot;)</code>, and Java 17 <code>javac</code> with <code>-Xlint:all</code> still complains, and besides I feel dirty using it.</p>\n<p>I would be content with some workaround that would allow me to suppress the warning with <code>@SuppressWarnings(&quot;unchecked&quot;)</code> as long as javac lint still didn't complain. But the intermediate cast to <code>Object</code> is too much of a kludge for me to accept.</p>\n<p>What should I be doing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":41065,"reputation":37025,"user_id":119271,"accept_rate":78,"display_name":"Douglas"},"score":1,"creation_date":1324373476,"post_id":8572565,"comment_id":10629751,"body_markdown":"Since you&#39;re trying to improve performance with these changes, have you tried measuring the performance before and after moving the conditions? On one hand, that should tell you whether the logic is indeed being short-circuited as explained below, and on the other, it will tell you if the magnitude of these changes are significant in the bigger picture.","body":"Since you&#39;re trying to improve performance with these changes, have you tried measuring the performance before and after moving the conditions? On one hand, that should tell you whether the logic is indeed being short-circuited as explained below, and on the other, it will tell you if the magnitude of these changes are significant in the bigger picture."},{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":0,"creation_date":1664940274,"post_id":8572565,"comment_id":130581914,"body_markdown":"Does this answer your question? [Does Java evaluate remaining conditions after boolean result is known?](https://stackoverflow.com/questions/6352139/does-java-evaluate-remaining-conditions-after-boolean-result-is-known)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6352139/does-java-evaluate-remaining-conditions-after-boolean-result-is-known\">Does Java evaluate remaining conditions after boolean result is known?</a>"}],"answers":[{"tags":[],"owner":{"account_id":69161,"reputation":11035,"user_id":201393,"accept_rate":94,"display_name":"Srinivas Reddy Thatiparthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1324369624,"creation_date":1324369624,"answer_id":8572583,"question_id":8572565,"body_markdown":"Yes,that is called short-circuiting.\r\n\r\nPlease take a look at this wikipedia page on [short-circuiting][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Short-circuit_evaluation","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Yes,that is called short-circuiting.</p>\n\n<p>Please take a look at this wikipedia page on <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuiting</a></p>\n"},{"comments":[{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":4,"creation_date":1409074814,"post_id":8572585,"comment_id":39825654,"body_markdown":"sorry for digging up an old thread, but why do you have &quot; &amp;&amp; and &quot; ? do you mean just &quot; &amp;&amp; &quot; ?","body":"sorry for digging up an old thread, but why do you have &quot; &amp;&amp; and &quot; ? do you mean just &quot; &amp;&amp; &quot; ?"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1438346467,"creation_date":1324369628,"answer_id":8572585,"question_id":8572565,"body_markdown":"Yes, Java (similar to other mainstream languages) uses &lt;strike&gt;*lazy evaluation*&lt;/strike&gt; short-circuiting which means it evaluates as little as possible.\r\n\r\nThis means that the following code is completely safe:\r\n\r\n    if(p != null &amp;&amp; p.getAge() &gt; 10)\r\n\r\nAlso, `a || b` never evaluates `b` if `a` evaluates to `true`.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Yes, Java (similar to other mainstream languages) uses <strike><em>lazy evaluation</em></strike> short-circuiting which means it evaluates as little as possible.</p>\n\n<p>This means that the following code is completely safe:</p>\n\n<pre><code>if(p != null &amp;&amp; p.getAge() &gt; 10)\n</code></pre>\n\n<p>Also, <code>a || b</code> never evaluates <code>b</code> if <code>a</code> evaluates to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1324370069,"creation_date":1324370069,"answer_id":8572655,"question_id":8572565,"body_markdown":"&gt; Is Java smart enough to skip checking bool2 and bool2 if bool1 was evaluated to false?\r\n\r\nIts not a matter of being smart, its a requirement specified in the language.  Otherwise you couldn&#39;t write expressions like.\r\n\r\n    if(s != null &amp;&amp; s.length() &gt; 0)\r\n\r\nor\r\n\r\n    if(s == null || s.length() == 0)\r\n\r\nBTW if you use `&amp;` and `|` it will always evaluate both sides of the expression.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<blockquote>\n  <p>Is Java smart enough to skip checking bool2 and bool2 if bool1 was evaluated to false?</p>\n</blockquote>\n\n<p>Its not a matter of being smart, its a requirement specified in the language.  Otherwise you couldn't write expressions like.</p>\n\n<pre><code>if(s != null &amp;&amp; s.length() &gt; 0)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if(s == null || s.length() == 0)\n</code></pre>\n\n<p>BTW if you use <code>&amp;</code> and <code>|</code> it will always evaluate both sides of the expression.</p>\n"},{"tags":[],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1324375124,"creation_date":1324372569,"answer_id":8573095,"question_id":8572565,"body_markdown":"Please [look up](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.22) the difference between `&amp;` and `&amp;&amp;` in Java (the same applies to `|` and `||`).\r\n\r\n`&amp;` and `|` are **just** logical operators, while `&amp;&amp;` and `||` are **conditional** logical operators, which in your example means that\r\n\r\n    if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\r\n\r\nwill skip `bool2` and `bool3` if `bool1` is false, and\r\n\r\n    if(bool1 &amp; bool2 &amp; bool3) {\r\n\r\nwill evaluate all conditions regardless of their values.\r\n\r\nFor example, given:\r\n\r\n\tboolean foo() {\r\n\t\tSystem.out.println(&quot;foo&quot;);\r\n\t\treturn true;\r\n\t}\r\n\r\n`if(foo() | foo())` will print `foo` **twice**, and `if(foo() || foo())` - just **once**.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Please <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.22\" rel=\"noreferrer\">look up</a> the difference between <code>&amp;</code> and <code>&amp;&amp;</code> in Java (the same applies to <code>|</code> and <code>||</code>).</p>\n\n<p><code>&amp;</code> and <code>|</code> are <strong>just</strong> logical operators, while <code>&amp;&amp;</code> and <code>||</code> are <strong>conditional</strong> logical operators, which in your example means that</p>\n\n<pre><code>if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\n</code></pre>\n\n<p>will skip <code>bool2</code> and <code>bool3</code> if <code>bool1</code> is false, and</p>\n\n<pre><code>if(bool1 &amp; bool2 &amp; bool3) {\n</code></pre>\n\n<p>will evaluate all conditions regardless of their values.</p>\n\n<p>For example, given:</p>\n\n<pre><code>boolean foo() {\n    System.out.println(\"foo\");\n    return true;\n}\n</code></pre>\n\n<p><code>if(foo() | foo())</code> will print <code>foo</code> <strong>twice</strong>, and <code>if(foo() || foo())</code> - just <strong>once</strong>.</p>\n"}],"owner":{"account_id":274769,"reputation":5173,"user_id":567200,"accept_rate":55,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173760,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":8572585,"answer_count":4,"score":19,"last_activity_date":1664988263,"creation_date":1324369521,"question_id":8572565,"body_markdown":"Lets say I have this:\r\n\r\n    if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\r\n    ...\r\n    }\r\n\r\nNow. Is Java smart enough to skip checking bool2 and bool3 if bool1 was evaluated to false? Does java even check them from left to right?\r\nI&#39;m asking this because i was &quot;sorting&quot; the conditions inside my if statements by the time it takes to do them (starting with the cheapest ones on the left). Now I&#39;m not sure if this gives me any performance benefits because i don&#39;t know how Java handles this.","title":"How does Java deal with multiple conditions inside a single IF statement","body":"<p>Lets say I have this:</p>\n<pre><code>if(bool1 &amp;&amp; bool2 &amp;&amp; bool3) {\n...\n}\n</code></pre>\n<p>Now. Is Java smart enough to skip checking bool2 and bool3 if bool1 was evaluated to false? Does java even check them from left to right?\nI'm asking this because i was &quot;sorting&quot; the conditions inside my if statements by the time it takes to do them (starting with the cheapest ones on the left). Now I'm not sure if this gives me any performance benefits because i don't know how Java handles this.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663555137,"creation_date":1663544579,"answer_id":73767090,"question_id":73766659,"body_markdown":"#### Explanation ####\r\n\r\nBy default, VSCode outputs &#39;.class&#39; files into different locations depending on the type of file you&#39;re working with:-\r\n1. If you run a single &#39;.java&#39; file, it&#39;ll output the &#39;.class&#39; file into a path that looks like this: /private/var/folders/ys/rgjr_wyd0d715dz546hydfrr0000gn/T/vscodesws_6d2aa/jdt_ws/jdt.ls-java-project/bin\r\n[![enter image description here][1]][1]\r\n\r\n2. If you open a folder that contains &#39;.java&#39; files and run them, the &#39;.class&#39; files will be inside of a path that looks like this: /Users/YourUserNameHere/Library/Application Support/Code/User/workspaceStorage/e358195aec7543686cb2440051c91f82/redhat.java/jdt_ws/SplayTree Project_d551e7d6/bin\r\n[![enter image description here][2]][2]\r\n\r\n---\r\n\r\n#### Solutions ####\r\n\r\n1. To find the output path for your **own** project, just look for it inside VSCode&#39;s terminal after running.\r\n\r\n2. To change the default output directory for compiled &#39;.class&#39; files: \r\nGo to VSCode settings -&gt; Search for &quot;java project output path&quot; -&gt; Click on &quot;Edit in settings.json&quot; -&gt; Add the desired path inside the quotation marks (Note: this will only work with Workspace projects. It won&#39;t work with Maven/Gradle).\r\n\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EICeZ.png\r\n  [2]: https://i.stack.imgur.com/gPJNC.png\r\n  [3]: https://i.stack.imgur.com/iSRiz.png\r\n  [4]: https://i.stack.imgur.com/KcDLp.png","title":"how to find the .class file after running a .java project on vscode for macOS?","body":"<h4>Explanation</h4>\n<p>By default, VSCode outputs '.class' files into different locations depending on the type of file you're working with:-</p>\n<ol>\n<li><p>If you run a single '.java' file, it'll output the '.class' file into a path that looks like this: /private/var/folders/ys/rgjr_wyd0d715dz546hydfrr0000gn/T/vscodesws_6d2aa/jdt_ws/jdt.ls-java-project/bin\n<a href=\"https://i.stack.imgur.com/EICeZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EICeZ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>If you open a folder that contains '.java' files and run them, the '.class' files will be inside of a path that looks like this: /Users/YourUserNameHere/Library/Application Support/Code/User/workspaceStorage/e358195aec7543686cb2440051c91f82/redhat.java/jdt_ws/SplayTree Project_d551e7d6/bin\n<a href=\"https://i.stack.imgur.com/gPJNC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPJNC.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<hr />\n<h4>Solutions</h4>\n<ol>\n<li><p>To find the output path for your <strong>own</strong> project, just look for it inside VSCode's terminal after running.</p>\n</li>\n<li><p>To change the default output directory for compiled '.class' files:\nGo to VSCode settings -&gt; Search for &quot;java project output path&quot; -&gt; Click on &quot;Edit in settings.json&quot; -&gt; Add the desired path inside the quotation marks (Note: this will only work with Workspace projects. It won't work with Maven/Gradle).</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iSRiz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSRiz.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/KcDLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KcDLp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26374609,"reputation":11,"user_id":20028763,"display_name":"Besen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664988152,"creation_date":1663538146,"question_id":73766659,"body_markdown":"I&#39;m trying to find the .class file after running a java project in VScode on macOS, I searched Google but there is only a path for Windows OS. Can anyone help to figure out the .class file?  \r\nThis is the java project&#39;s name: testSearch.java\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to find the testSearch.class file after running. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvEUV.png","title":"how to find the .class file after running a .java project on vscode for macOS?","body":"<p>I'm trying to find the .class file after running a java project in VScode on macOS, I searched Google but there is only a path for Windows OS. Can anyone help to figure out the .class file?<br />\nThis is the java project's name: testSearch.java</p>\n<p><a href=\"https://i.stack.imgur.com/UvEUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvEUV.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to find the testSearch.class file after running.</p>\n"},{"tags":["java","spring-boot","maven","opencsv"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1664890216,"post_id":73948304,"comment_id":130569782,"body_markdown":"I cannot reproduce your problem based on the information in the question. What version of OpenCSV are you using and what does that Maven dependency look like? What else do you have in your pom.xml? Your question tags mention other libraries such as POI and Spring - so maybe there is a library conflict. Can you narrow down the problem by starting with just a plain OpenCSV project and then adding other dependencies?","body":"I cannot reproduce your problem based on the information in the question. What version of OpenCSV are you using and what does that Maven dependency look like? What else do you have in your pom.xml? Your question tags mention other libraries such as POI and Spring - so maybe there is a library conflict. Can you narrow down the problem by starting with just a plain OpenCSV project and then adding other dependencies?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1664890219,"post_id":73948304,"comment_id":130569785,"body_markdown":"(Just to note: The current version of OpenCSV ([5.7.0](https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.0)) has Commons Collections 4 as a transitive Maven dependency, so you should not even need to add that explicitly to your POM.)","body":"(Just to note: The current version of OpenCSV (<a href=\"https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.0\" rel=\"nofollow noreferrer\">5.7.0</a>) has Commons Collections 4 as a transitive Maven dependency, so you should not even need to add that explicitly to your POM.)"},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1664897454,"post_id":73948304,"comment_id":130572665,"body_markdown":"@andrewJames this is what the dependency tree shows : +- com.opencsv:opencsv:jar:5.7.0:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |     +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile","body":"@andrewJames this is what the dependency tree shows : +- com.opencsv:opencsv:jar:5.7.0:compile [INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile [INFO] |     +- commons-logging:commons-logging:jar:1.2:compile [INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile [INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1664912930,"post_id":73948304,"comment_id":130577383,"body_markdown":"How are you making sure that all the dependency jars are present at *runtime* and not just at compile time?","body":"How are you making sure that all the dependency jars are present at <i>runtime</i> and not just at compile time?"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664988054,"creation_date":1664888611,"question_id":73948304,"body_markdown":"I&#39;m trying to use the OpenCsv library.When trying to instantiate a StatefulBeanToCsv for writing to a csv with\r\n\r\n    StatefulBeanToCsv&lt;Addresses&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Addresses&gt;(output)\r\n                                .build();\r\n\r\n I get the following exception \r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError:\r\n&gt; org/apache/commons/collections4/ListValuedMap\r\n\r\nwhile the dependency to commons-collections4 is there\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n                &lt;version&gt;4.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nwhich includes the ListValueMap.\r\n\r\nI have re-built,cleaned,compiled the project,checked the classpath but the error persists! this is what the dependency tree shows\r\n\r\n    +- com.opencsv:opencsv:jar:5.7.0:compile\r\n    [INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile\r\n    [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n    [INFO] |     +- commons-logging:commons-logging:jar:1.2:compile\r\n    [INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile\r\n    [INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\r\n\r\n","title":"Class not found while library is there","body":"<p>I'm trying to use the OpenCsv library.When trying to instantiate a StatefulBeanToCsv for writing to a csv with</p>\n<pre><code>StatefulBeanToCsv&lt;Addresses&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Addresses&gt;(output)\n                            .build();\n</code></pre>\n<p>I get the following exception</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError:\norg/apache/commons/collections4/ListValuedMap</p>\n</blockquote>\n<p>while the dependency to commons-collections4 is there</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>which includes the ListValueMap.</p>\n<p>I have re-built,cleaned,compiled the project,checked the classpath but the error persists! this is what the dependency tree shows</p>\n<pre><code>+- com.opencsv:opencsv:jar:5.7.0:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |     +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\n</code></pre>\n"},{"tags":["java","csv","serialization","deserialization"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1664978614,"post_id":73961328,"comment_id":130592278,"body_markdown":"Can you specify what did not work?","body":"Can you specify what did not work?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664982504,"post_id":73961328,"comment_id":130593850,"body_markdown":"Show us `prettyPrintCSV`. It is the method which does actual serialization.","body":"Show us <code>prettyPrintCSV</code>. It is the method which does actual serialization."}],"answers":[{"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664982599,"post_id":73961390,"comment_id":130593897,"body_markdown":"It is not csv parser. Id doesn&#39;t work with escaping. It is always better to use existing library.","body":"It is not csv parser. Id doesn&#39;t work with escaping. It is always better to use existing library."}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664977757,"creation_date":1664977757,"answer_id":73961390,"question_id":73961328,"body_markdown":"You have to create new instances of books for every line: \r\n\r\n    while ((line = br.readLine()) != null) {\r\n        String[] values = line.split(&quot;,&quot;);\r\n        records.add(new Book(values[0], values[1],values[2]));\r\n    }\r\n\r\nAlso you should return your list at the end and why you have the parameter `book` for the desirialize method?\r\nAlso the List makes no sence, you only serialize only one book","title":"Optimal way to reverse this serialization","body":"<p>You have to create new instances of books for every line:</p>\n<pre><code>while ((line = br.readLine()) != null) {\n    String[] values = line.split(&quot;,&quot;);\n    records.add(new Book(values[0], values[1],values[2]));\n}\n</code></pre>\n<p>Also you should return your list at the end and why you have the parameter <code>book</code> for the desirialize method?\nAlso the List makes no sence, you only serialize only one book</p>\n"}],"owner":{"account_id":24381704,"reputation":1,"user_id":18313137,"display_name":"nathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664987894,"creation_date":1664977475,"question_id":73961328,"body_markdown":"I&#39;ve written the following method to serialize an object and write it to a .csv file: it works well.\r\n\r\n```\r\n    public static void serializeAsCSV(String path, Book book) throws IOException {\r\n        Path filePath = Paths.get(path); //create a new path object, passing the path\r\n        byte[] strToBytes = book.prettyPrintCSV().getBytes();//converts the String to bytes\r\n        Files.write(filePath, strToBytes); //writes the bytes to the file\r\n```\r\n\r\nI suppose I don&#39;t understand it fully because I&#39;m having trouble writing the method to deserialize the .csv file into an object. \r\n\r\nthis is what I have currently:\r\n\r\n```\r\n    public static void deserializeFromCSV(String path, Book book) throws IOException {\r\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;books.csv&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] values = line.split(&quot;,&quot;);\r\n                records.add(Arrays.asList(values));\r\n                records.add(Arrays.asList(values));\r\n            }\r\n```\r\n\r\nmain method which calls serialize/deserialize:\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        Book book = new Book(&quot;Donald&quot;, &quot;Male&quot;, &quot;Brown&quot;); //create a new instance of Book\r\n        System.out.println(book.prettyPrintCSV()); //output the String values of new Book instance, moves to new line\r\n        Book.serializeAsCSV(&quot;books.csv&quot;, book); //calls the serializeAsCSV method, passing the path and the book object\r\n        Book.deserializeFromCSV(&quot;books.csv&quot;, book); //calls the deserializeFromCSV method, passing the path\r\n    }\r\n```\r\n\r\nplease ignore the attributes which don&#39;t have anything to do with books. I changed the class from &quot;Baby&quot; to &quot;Book&quot; and I need to refactor.","title":"Optimal way to reverse this serialization","body":"<p>I've written the following method to serialize an object and write it to a .csv file: it works well.</p>\n<pre><code>    public static void serializeAsCSV(String path, Book book) throws IOException {\n        Path filePath = Paths.get(path); //create a new path object, passing the path\n        byte[] strToBytes = book.prettyPrintCSV().getBytes();//converts the String to bytes\n        Files.write(filePath, strToBytes); //writes the bytes to the file\n</code></pre>\n<p>I suppose I don't understand it fully because I'm having trouble writing the method to deserialize the .csv file into an object.</p>\n<p>this is what I have currently:</p>\n<pre><code>    public static void deserializeFromCSV(String path, Book book) throws IOException {\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;books.csv&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                records.add(Arrays.asList(values));\n                records.add(Arrays.asList(values));\n            }\n</code></pre>\n<p>main method which calls serialize/deserialize:</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        Book book = new Book(&quot;Donald&quot;, &quot;Male&quot;, &quot;Brown&quot;); //create a new instance of Book\n        System.out.println(book.prettyPrintCSV()); //output the String values of new Book instance, moves to new line\n        Book.serializeAsCSV(&quot;books.csv&quot;, book); //calls the serializeAsCSV method, passing the path and the book object\n        Book.deserializeFromCSV(&quot;books.csv&quot;, book); //calls the deserializeFromCSV method, passing the path\n    }\n</code></pre>\n<p>please ignore the attributes which don't have anything to do with books. I changed the class from &quot;Baby&quot; to &quot;Book&quot; and I need to refactor.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1664985376,"post_id":73961635,"comment_id":130594944,"body_markdown":"Does this answer your question? [How to inject a Map using the @Value Spring Annotation?](https://stackoverflow.com/questions/30691949/how-to-inject-a-map-using-the-value-spring-annotation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30691949/how-to-inject-a-map-using-the-value-spring-annotation\">How to inject a Map using the @Value Spring Annotation?</a>"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664987885,"creation_date":1664986834,"answer_id":73963425,"question_id":73961635,"body_markdown":"&quot;Easy-peasy&quot;:\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication \r\n@EnableConfigurationProperties(MyProps.class) // !\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Bean // a simple test bean\r\n    CommandLineRunner cmd(/*@Autowired*/ MyProps props) {\r\n        return (args) -&gt; {\r\n            System.err.println(props.getRoot());\r\n        };\r\n    }\r\n}\r\n\r\n@ConfigurationProperties // ! ..no prefix, because we are &quot;close to&quot;/root! \r\nclass MyProps {\r\n\r\n    // this gets our &quot;root.&quot; prefix\r\n    private final Map&lt;String, ?&gt; root = new HashMap&lt;&gt;();\r\n\r\n    // since initialized, getter sufficient \r\n    public Map&lt;String, ?&gt; getRoot() {\r\n        return root;\r\n    }\r\n\r\n}\r\n\r\n``` \r\nWith, application.properties:\r\n\r\n```lang-properties\r\nroot.prop = xxxx\r\nroot.prop2 = yyyy\r\nroot.prop3 = zzzz\r\n```\r\n\r\nAnd pom.xml:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n... console prints:\r\n```lang-bash\r\n...\r\n2022-10-05 18:12:20.101  INFO 9684 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.834 seconds (JVM running for 1.111)\r\n{prop2=yyyy, prop=xxxx, prop3=zzzz}\r\n------------------------------------------------------------------------\r\n...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nTo reside the properties in a &quot;non-default location&quot; (`foo.properties` e.g.), just:\r\n```lang-java\r\n//@ ... ion\r\n@EnableConfigurationProperties(MyProps.class)\r\n@PropertySource(&quot;classpath:/foo.properties&quot;) // ! ...\r\n``` \r\n\r\n..but attention: `application.properties` will have precedence! \r\n\r\nRefs: \r\n- https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\r\n- esp.: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties","title":"Get all properties as map in properties file Spring Boot","body":"<p>&quot;Easy-peasy&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication \n@EnableConfigurationProperties(MyProps.class) // !\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean // a simple test bean\n    CommandLineRunner cmd(/*@Autowired*/ MyProps props) {\n        return (args) -&gt; {\n            System.err.println(props.getRoot());\n        };\n    }\n}\n\n@ConfigurationProperties // ! ..no prefix, because we are &quot;close to&quot;/root! \nclass MyProps {\n\n    // this gets our &quot;root.&quot; prefix\n    private final Map&lt;String, ?&gt; root = new HashMap&lt;&gt;();\n\n    // since initialized, getter sufficient \n    public Map&lt;String, ?&gt; getRoot() {\n        return root;\n    }\n\n}\n\n</code></pre>\n<p>With, application.properties:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>root.prop = xxxx\nroot.prop2 = yyyy\nroot.prop3 = zzzz\n</code></pre>\n<p>And pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>... console prints:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\n2022-10-05 18:12:20.101  INFO 9684 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.834 seconds (JVM running for 1.111)\n{prop2=yyyy, prop=xxxx, prop3=zzzz}\n------------------------------------------------------------------------\n...\n</code></pre>\n<hr />\n<p>To reside the properties in a &quot;non-default location&quot; (<code>foo.properties</code> e.g.), just:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//@ ... ion\n@EnableConfigurationProperties(MyProps.class)\n@PropertySource(&quot;classpath:/foo.properties&quot;) // ! ...\n</code></pre>\n<p>..but attention: <code>application.properties</code> will have precedence!</p>\n<p>Refs:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config</a></li>\n<li>esp.: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties</a></li>\n</ul>\n"}],"owner":{"account_id":9775456,"reputation":618,"user_id":7245669,"accept_rate":67,"display_name":"NeptuneZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1894,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73963425,"answer_count":1,"score":4,"last_activity_date":1664987885,"creation_date":1664978850,"question_id":73961635,"body_markdown":"I have a spring boot project , I want to get those properties as map by prefix , in this exemple the prefix is root :\r\n\r\napplication.properties : \r\n\r\n    root.prop = xxxx\r\n    root.prop2 = yyyy\r\n    root.prop3 = zzzz\r\n\r\nI dont want to change my filetype from properties to YAML.\r\n","title":"Get all properties as map in properties file Spring Boot","body":"<p>I have a spring boot project , I want to get those properties as map by prefix , in this exemple the prefix is root :</p>\n<p>application.properties :</p>\n<pre><code>root.prop = xxxx\nroot.prop2 = yyyy\nroot.prop3 = zzzz\n</code></pre>\n<p>I dont want to change my filetype from properties to YAML.</p>\n"},{"tags":["java","linux","ubuntu"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1664984927,"post_id":73962950,"comment_id":130594801,"body_markdown":"You need a job or process to be stopped before you can use `fg` to resume it in the foreground.  If it is not already stopped, you should be able to stop it with `kill -STOP`.","body":"You need a job or process to be stopped before you can use <code>fg</code> to resume it in the foreground.  If it is not already stopped, you should be able to stop it with <code>kill -STOP</code>."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1664985182,"post_id":73962950,"comment_id":130594874,"body_markdown":"However, the process also needs to be in the same session, and have the same controlling terminal.  Roughly speaking, that means it needs to have been started from the same terminal where you issue the `fg` command, and maybe even from the same instance of the shell.","body":"However, the process also needs to be in the same session, and have the same controlling terminal.  Roughly speaking, that means it needs to have been started from the same terminal where you issue the <code>fg</code> command, and maybe even from the same instance of the shell."}],"answers":[{"comments":[{"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"score":0,"creation_date":1664985785,"post_id":73963092,"comment_id":130595080,"body_markdown":"by typing jobs or jobs -l I do not get any response","body":"by typing jobs or jobs -l I do not get any response"},{"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"score":0,"creation_date":1664986078,"post_id":73963092,"comment_id":130595155,"body_markdown":"Are you using the same shell? job shows background commands belonging to the same shell only","body":"Are you using the same shell? job shows background commands belonging to the same shell only"},{"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"score":0,"creation_date":1664986374,"post_id":73963092,"comment_id":130595258,"body_markdown":"Indeed, no, Im not using the same shell .. is there a way to get a task back in foreground anyway?","body":"Indeed, no, Im not using the same shell .. is there a way to get a task back in foreground anyway?"},{"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"score":1,"creation_date":1664986730,"post_id":73963092,"comment_id":130595375,"body_markdown":"**you cannot take over a process that was started in a different shell**\n\nif you want to get access to your processes from different terminal you should use **virtual terminal manager** like tmux or screen and run your backgroun process from virtual terminal","body":"<b>you cannot take over a process that was started in a different shell</b>  if you want to get access to your processes from different terminal you should use <b>virtual terminal manager</b> like tmux or screen and run your backgroun process from virtual terminal"}],"tags":[],"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664987028,"creation_date":1664985228,"answer_id":73963092,"question_id":73962950,"body_markdown":"\r\ntype ***jobs***\r\n\r\nYou will get list of all your background processes\r\n\r\n    [1]  Stopped notepadQQ\r\n    [2]  Stopped bash\r\n    [3]  Stopped /usr/lib/jvm/jdk-1.8.0/bin/java -version\r\n    [4]  Running /process/you/neeed\r\n\r\nuse background process index number with fg command to bring it back to the foreground\r\n\r\n    fg %4\r\n\r\n*Edit::*\r\n\r\nThis method only works **if you are using the same shell**. Be aware that **you cannot take over a process that was started in a different shell**.\r\n\r\nIf you want to get access to your processes from different terminal you should use **virtual terminal manager** like *tmux* or *screen*\r\n\r\n","title":"Ubuntu: background task does not want to get back in the foreground","body":"<p>type <em><strong>jobs</strong></em></p>\n<p>You will get list of all your background processes</p>\n<pre><code>[1]  Stopped notepadQQ\n[2]  Stopped bash\n[3]  Stopped /usr/lib/jvm/jdk-1.8.0/bin/java -version\n[4]  Running /process/you/neeed\n</code></pre>\n<p>use background process index number with fg command to bring it back to the foreground</p>\n<pre><code>fg %4\n</code></pre>\n<p><em>Edit::</em></p>\n<p>This method only works <strong>if you are using the same shell</strong>. Be aware that <strong>you cannot take over a process that was started in a different shell</strong>.</p>\n<p>If you want to get access to your processes from different terminal you should use <strong>virtual terminal manager</strong> like <em>tmux</em> or <em>screen</em></p>\n"}],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664987028,"creation_date":1664984529,"question_id":73962950,"body_markdown":"I have a java program running on my linux server, the jar has been startet with &quot;&amp;&quot; and is now running in the background, by using htop I can see it too. Now, I tried jobs or fg to get the task back to the foreground, without success. Any idea what am I doing wrong?\r\n\r\n```\r\nerdo@localhost:~$ jobs -l\r\nerdo@localhost:~$ fg 45502\r\n-bash: fg: 45502: no such job\r\n```","title":"Ubuntu: background task does not want to get back in the foreground","body":"<p>I have a java program running on my linux server, the jar has been startet with &quot;&amp;&quot; and is now running in the background, by using htop I can see it too. Now, I tried jobs or fg to get the task back to the foreground, without success. Any idea what am I doing wrong?</p>\n<pre><code>erdo@localhost:~$ jobs -l\nerdo@localhost:~$ fg 45502\n-bash: fg: 45502: no such job\n</code></pre>\n"},{"tags":["java","xml","maven","xsd","java-9"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506052164,"post_id":46356092,"comment_id":79672857,"body_markdown":"You might want to read [How to express dependency on java-ee features in Java9](https://stackoverflow.com/questions/46084751/how-to-express-dependency-in-maven-on-java-ee-features-for-transition-to-java-9)","body":"You might want to read <a href=\"https://stackoverflow.com/questions/46084751/how-to-express-dependency-in-maven-on-java-ee-features-for-transition-to-java-9\">How to express dependency on java-ee features in Java9</a>"},{"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"score":0,"creation_date":1506060905,"post_id":46356092,"comment_id":79675646,"body_markdown":"Adding --add-modules javax.xml.bind early fails with: module not found: javax.xml.bind. Adding --add-modules java.se.ee without additional dependencies for the jaxb2-maven-plugin (as in the proposed solution) does not solve the problem either.","body":"Adding --add-modules javax.xml.bind early fails with: module not found: javax.xml.bind. Adding --add-modules java.se.ee without additional dependencies for the jaxb2-maven-plugin (as in the proposed solution) does not solve the problem either."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506060998,"post_id":46356092,"comment_id":79675687,"body_markdown":"Could you share your `module-info.java`  and the `pom.xml` for the module as well in that case?","body":"Could you share your <code>module-info.java</code>  and the <code>pom.xml</code> for the module as well in that case?"},{"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"score":0,"creation_date":1506061322,"post_id":46356092,"comment_id":79675843,"body_markdown":"I don&#39;t have a module-info.java file yet. I was performing a smoke build test of our legacy projects just by upgrading the JDK to version 9, in a first step.","body":"I don&#39;t have a module-info.java file yet. I was performing a smoke build test of our legacy projects just by upgrading the JDK to version 9, in a first step."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1506061718,"post_id":46356092,"comment_id":79676026,"body_markdown":"Could you please update the question with this detail and also add the complete stacktrace to make the question and answers useful.","body":"Could you please update the question with this detail and also add the complete stacktrace to make the question and answers useful."},{"owner":{"account_id":282043,"reputation":4264,"user_id":578706,"accept_rate":100,"display_name":"Tibor Blenessy"},"score":0,"creation_date":1506958015,"post_id":46356092,"comment_id":80011636,"body_markdown":"@St&#233;phaneAppercel the correct module name is `java.xml.bind` , not `javax.xml.bind`","body":"@St&#233;phaneAppercel the correct module name is <code>java.xml.bind</code> , not <code>javax.xml.bind</code>"},{"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"score":0,"creation_date":1506987701,"post_id":46356092,"comment_id":80025041,"body_markdown":"Thanks @TiborBlenessy. For the sake of clarity, it&#39;s still required to add the jaxb-jxc-jdk9 dependency to the jaxb2-maven-plugin to make it work, as in the proposed solution.","body":"Thanks @TiborBlenessy. For the sake of clarity, it&#39;s still required to add the jaxb-jxc-jdk9 dependency to the jaxb2-maven-plugin to make it work, as in the proposed solution."}],"answers":[{"comments":[{"owner":{"account_id":412515,"reputation":749,"user_id":785622,"display_name":"Ioannis Sermetziadis"},"score":3,"creation_date":1511222650,"post_id":46356093,"comment_id":81760044,"body_markdown":"This answer fixes the plugin failure on Java 9 (kudos!), but exposes another issue. The generated XML schema does not have prefix specified for the XML schema elements (e.g. schema, element, complexType, simpleType), which causes issues when trying to parse the generated it. This issue does not come up when using jaxb2-maven-plugin on Java 8. Did Java 9 change in relation to the XML schema marshalling?","body":"This answer fixes the plugin failure on Java 9 (kudos!), but exposes another issue. The generated XML schema does not have prefix specified for the XML schema elements (e.g. schema, element, complexType, simpleType), which causes issues when trying to parse the generated it. This issue does not come up when using jaxb2-maven-plugin on Java 8. Did Java 9 change in relation to the XML schema marshalling?"}],"tags":[],"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506048594,"creation_date":1506048594,"answer_id":46356093,"question_id":46356092,"body_markdown":"I could fix the problem by adding the following dependencies to the plugin:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-jxc-jdk9&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nFor the xjc goal, I assume that it&#39;s needed to add the following dependencies to the plugin:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-xjc-jdk9&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nOf course this is a workaround until a new version of the plugin is released. \r\n","title":"jaxb2-maven-plugin failing on java 9","body":"<p>I could fix the problem by adding the following dependencies to the plugin:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-jxc-jdk9&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>For the xjc goal, I assume that it's needed to add the following dependencies to the plugin:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-xjc-jdk9&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Of course this is a workaround until a new version of the plugin is released. </p>\n"},{"comments":[{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":1,"creation_date":1547077727,"post_id":49937305,"comment_id":95072460,"body_markdown":"The OP was talking about the `schemagen` goal. Note that your approach won&#39;t work with Java 11 + because `xjc` exectuable is removed.","body":"The OP was talking about the <code>schemagen</code> goal. Note that your approach won&#39;t work with Java 11 + because <code>xjc</code> exectuable is removed."},{"owner":{"account_id":6414730,"reputation":91,"user_id":4973301,"display_name":"7er"},"score":0,"creation_date":1618552662,"post_id":49937305,"comment_id":118640290,"body_markdown":"It is enough to have jdk8/bin in PATH for maven to run xjc.","body":"It is enough to have jdk8/bin in PATH for maven to run xjc."}],"tags":[],"owner":{"account_id":6414730,"reputation":91,"user_id":4973301,"display_name":"7er"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524212838,"creation_date":1524212838,"answer_id":49937305,"question_id":46356092,"body_markdown":"I finally resolved issue using xjc directly:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;execute xjc&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;exec&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;xjc&lt;/executable&gt;\r\n                    &lt;longModulepath&gt;false&lt;/longModulepath&gt;\r\n                    &lt;arguments&gt;\r\n                        &lt;argument&gt;-extension&lt;/argument&gt;\r\n                        &lt;argument&gt;-no-header&lt;/argument&gt;\r\n                        &lt;argument&gt;-d&lt;/argument&gt;\r\n                        &lt;argument&gt;src/main/java&lt;/argument&gt;\r\n    \r\n                        &lt;argument&gt;-p&lt;/argument&gt;\r\n                        &lt;argument&gt;my.package.name&lt;/argument&gt;\r\n                        &lt;argument&gt;-b&lt;/argument&gt;\r\n                        &lt;argument&gt;src/main/resources/mybindings.xjb&lt;/argument&gt;\r\n                        &lt;argument&gt;src/main/resources/myschema.xsd&lt;/argument&gt;\r\n                    &lt;/arguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"jaxb2-maven-plugin failing on java 9","body":"<p>I finally resolved issue using xjc directly:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;execute xjc&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;xjc&lt;/executable&gt;\n                &lt;longModulepath&gt;false&lt;/longModulepath&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-extension&lt;/argument&gt;\n                    &lt;argument&gt;-no-header&lt;/argument&gt;\n                    &lt;argument&gt;-d&lt;/argument&gt;\n                    &lt;argument&gt;src/main/java&lt;/argument&gt;\n\n                    &lt;argument&gt;-p&lt;/argument&gt;\n                    &lt;argument&gt;my.package.name&lt;/argument&gt;\n                    &lt;argument&gt;-b&lt;/argument&gt;\n                    &lt;argument&gt;src/main/resources/mybindings.xjb&lt;/argument&gt;\n                    &lt;argument&gt;src/main/resources/myschema.xsd&lt;/argument&gt;\n                &lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20768059,"reputation":1,"user_id":15251469,"display_name":"Dhruv Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664986587,"creation_date":1664986587,"answer_id":73963373,"question_id":46356092,"body_markdown":"I was getting similar compilation errors while building maven with Java 17 and maven-jaxb2 plugin 2.3.0 . I tried latest version as well but got Mojo Exception while building the same with Maven . After researching a bit I was able to fix the issue using below implementation for jaxb2-plugin ,\r\n\r\nJava - 17\r\n\r\nJaxb2-maven-plugin - 0.14.0\r\n\r\nSpring Boot Maven - 2.7.4 \r\n\r\nIn properties Tag add below version ,\r\n\t&lt;maven-jaxb2-plugin.version&gt;0.14.0&lt;/maven-jaxb2-plugin.version&gt;\r\n\r\nIn Build Tag , \r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${maven-jaxb2-plugin.version}&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;example-xmls&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;generateDirectory&gt;${project.basedir}/src/main/java/com/cumulocity/exchnage_Demo&lt;/generateDirectory&gt;\r\n\t\t\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/&lt;/schemaDirectory&gt;\r\n\t\t\t\t&lt;schemaIncludes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xsd&lt;/include&gt;\r\n\t\t\t\t&lt;/schemaIncludes&gt;\r\n\t\t\t\t&lt;bindingDirectory&gt;${project.basedir}/src/main/resources/&lt;/bindingDirectory&gt;\r\n\t\t\t\t&lt;bindingIncludes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xjb&lt;/include&gt;\r\n\t\t\t\t&lt;/bindingIncludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\t\r\n\r\nAfter this JAXB-2 Implementation was successfully generated . Make sure to add below dependency as well helpful to provide implementation during runtime (When we run the main class)\r\n\r\n\r\n\t&lt;dependency&gt;\r\n             &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n             &lt;version&gt;2.3.3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n             &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis should work for all those struggling with Java 17 and spring boot version 2.7.4+ with jabxb2 maven plugin.","title":"jaxb2-maven-plugin failing on java 9","body":"<p>I was getting similar compilation errors while building maven with Java 17 and maven-jaxb2 plugin 2.3.0 . I tried latest version as well but got Mojo Exception while building the same with Maven . After researching a bit I was able to fix the issue using below implementation for jaxb2-plugin ,</p>\n<p>Java - 17</p>\n<p>Jaxb2-maven-plugin - 0.14.0</p>\n<p>Spring Boot Maven - 2.7.4</p>\n<p>In properties Tag add below version ,\n&lt;maven-jaxb2-plugin.version&gt;0.14.0&lt;/maven-jaxb2-plugin.version&gt;</p>\n<p>In Build Tag ,</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n&lt;version&gt;${maven-jaxb2-plugin.version}&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;example-xmls&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;generateDirectory&gt;${project.basedir}/src/main/java/com/cumulocity/exchnage_Demo&lt;/generateDirectory&gt;\n            &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/&lt;/schemaDirectory&gt;\n            &lt;schemaIncludes&gt;\n                &lt;include&gt;**/*.xsd&lt;/include&gt;\n            &lt;/schemaIncludes&gt;\n            &lt;bindingDirectory&gt;${project.basedir}/src/main/resources/&lt;/bindingDirectory&gt;\n            &lt;bindingIncludes&gt;\n                &lt;include&gt;**/*.xjb&lt;/include&gt;\n            &lt;/bindingIncludes&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/plugin&gt;   \n</code></pre>\n<p>After this JAXB-2 Implementation was successfully generated . Make sure to add below dependency as well helpful to provide implementation during runtime (When we run the main class)</p>\n<pre><code>&lt;dependency&gt;\n         &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n         &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n         &lt;version&gt;2.3.3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This should work for all those struggling with Java 17 and spring boot version 2.7.4+ with jabxb2 maven plugin.</p>\n"}],"owner":{"account_id":3197637,"reputation":1437,"user_id":2700478,"accept_rate":29,"display_name":"St&#233;phane Appercel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6333,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1664986587,"creation_date":1506048594,"question_id":46356092,"body_markdown":"The schemagen goal of the jaxb2-maven-plugin fails on Java 9.\r\nThe error is:\r\n\r\n    [Exception]: java.lang.ClassNotFoundException\r\n    [Message]: com.sun.istack.SAXParseException2\r\n\r\n- The jaxb2 plugin version is 2.3.1\r\n- The maven version is 3.5.0.\r\n- The maven compiler plugin version is 3.7.0.\r\n- All the plugins / dependencies are up-to-date.\r\n\r\nI don&#39;t have any module-info.java file. The projects I build are legacy Java 8 projects, where the JDK has been upgraded from 1.8u144 to version 9.\r\n\r\nHopefully, the only plugin that fails at this moment is the jaxb2-maven-plugin. Everything else is OK, both at compile time and at execution time. The stack trace is:\r\n\r\n    org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n    org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n    org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n    com.sun.tools.jxc.ap.SchemaGenerator.process(SchemaGenerator.java:103)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:968)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:884)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2200(JavacProcessingEnvironment.java:108)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1206)\r\n    jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1315)\r\n    jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1246)\r\n    jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:922)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:100)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:142)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:96)\r\n    jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:90)\r\n    com.sun.tools.jxc.SchemaGenerator$Runner.compile(SchemaGenerator.java:261)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    com.sun.tools.jxc.SchemaGenerator.run(SchemaGenerator.java:166)\r\n    org.codehaus.mojo.jaxb2.schemageneration.AbstractXsdGeneratorMojo.performExecution(AbstractXsdGeneratorMojo.java:372)\r\n    org.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:257)\r\n    org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n    org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n    org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n    org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n    org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n    org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n    org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n    org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\r\n\r\n\r\n","title":"jaxb2-maven-plugin failing on java 9","body":"<p>The schemagen goal of the jaxb2-maven-plugin fails on Java 9.\nThe error is:</p>\n\n<pre><code>[Exception]: java.lang.ClassNotFoundException\n[Message]: com.sun.istack.SAXParseException2\n</code></pre>\n\n<ul>\n<li>The jaxb2 plugin version is 2.3.1</li>\n<li>The maven version is 3.5.0.</li>\n<li>The maven compiler plugin version is 3.7.0.</li>\n<li>All the plugins / dependencies are up-to-date.</li>\n</ul>\n\n<p>I don't have any module-info.java file. The projects I build are legacy Java 8 projects, where the JDK has been upgraded from 1.8u144 to version 9.</p>\n\n<p>Hopefully, the only plugin that fails at this moment is the jaxb2-maven-plugin. Everything else is OK, both at compile time and at execution time. The stack trace is:</p>\n\n<pre><code>org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\norg.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\norg.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\norg.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\ncom.sun.tools.jxc.ap.SchemaGenerator.process(SchemaGenerator.java:103)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:968)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:884)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2200(JavacProcessingEnvironment.java:108)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1206)\njdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1315)\njdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1246)\njdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:922)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:100)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:142)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:96)\njdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:90)\ncom.sun.tools.jxc.SchemaGenerator$Runner.compile(SchemaGenerator.java:261)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:564)\ncom.sun.tools.jxc.SchemaGenerator.run(SchemaGenerator.java:166)\norg.codehaus.mojo.jaxb2.schemageneration.AbstractXsdGeneratorMojo.performExecution(AbstractXsdGeneratorMojo.java:372)\norg.codehaus.mojo.jaxb2.AbstractJaxbMojo.execute(AbstractJaxbMojo.java:257)\norg.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\norg.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\norg.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\norg.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\norg.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\norg.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\norg.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\norg.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\norg.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\norg.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\norg.apache.maven.cli.MavenCli.main(MavenCli.java:191)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:564)\norg.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\norg.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\norg.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\norg.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659428930,"post_id":73201824,"comment_id":129286507,"body_markdown":"Are you talking about https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L880? It returns a `SetView` implementation whose methods _are_ executed... when you call them, not before. Note how the methods only return elements from `set1` if they are not contained in `set2`. That&#39;s where the &quot;difference&quot; is implemented.","body":"Are you talking about <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L880\" rel=\"nofollow noreferrer\">github.com/google/guava/blob/master/guava/src/com/google/com&zwnj;&#8203;mon/&hellip;</a>? It returns a <code>SetView</code> implementation whose methods <i>are</i> executed... when you call them, not before. Note how the methods only return elements from <code>set1</code> if they are not contained in <code>set2</code>. That&#39;s where the &quot;difference&quot; is implemented."}],"answers":[{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664986371,"creation_date":1659415213,"answer_id":73202056,"question_id":73201824,"body_markdown":"`Sets.difference`, as per the docs, tell:\r\n\r\n&gt;     public static &lt;E&gt; Sets.SetView&lt;E&gt; difference(Set&lt;E&gt; set1, Set&lt;?&gt; set2)\r\n&gt;\r\n&gt;\r\n&gt; Returns an unmodifiable view of the difference of two sets. *The returned set\r\n&gt; contains all elements that are contained by set1 and not contained by\r\n&gt; set2*. set2 may also contain elements not present in set1; these are\r\n&gt; simply ignored. The iteration order of the returned set matches that\r\n&gt; of set1.\r\n\r\n\r\nAs the doc already tells, `Sets.difference` make use of Set&#39;s `contains()` method in order to achieve the operation of difference.\r\n\r\nYou won&#39;t directly be able to check the operation in guava&#39;s src, as `contains()` is just a function declaration in the interface, so has no implementation and must be implemented by the structures that [implement the `Set` interface][1].\r\n\r\nFor example, a `HashSet` (which uses a `HashMap` under the hood) will use `hashCode()` and `equals()` methods, while other implementation may utilize `compareTo()`, or `compare()`, if a `Comparator` is used.\r\n\r\n\r\n  [1]: https://developer.classpath.org/doc/java/util/Set-source.html","title":"in java guava Sets.differenceÔºåHow does it work","body":"<p><code>Sets.difference</code>, as per the docs, tell:</p>\n<blockquote>\n<pre><code>public static &lt;E&gt; Sets.SetView&lt;E&gt; difference(Set&lt;E&gt; set1, Set&lt;?&gt; set2)\n</code></pre>\n<p>Returns an unmodifiable view of the difference of two sets. <em>The returned set\ncontains all elements that are contained by set1 and not contained by\nset2</em>. set2 may also contain elements not present in set1; these are\nsimply ignored. The iteration order of the returned set matches that\nof set1.</p>\n</blockquote>\n<p>As the doc already tells, <code>Sets.difference</code> make use of Set's <code>contains()</code> method in order to achieve the operation of difference.</p>\n<p>You won't directly be able to check the operation in guava's src, as <code>contains()</code> is just a function declaration in the interface, so has no implementation and must be implemented by the structures that <a href=\"https://developer.classpath.org/doc/java/util/Set-source.html\" rel=\"nofollow noreferrer\">implement the <code>Set</code> interface</a>.</p>\n<p>For example, a <code>HashSet</code> (which uses a <code>HashMap</code> under the hood) will use <code>hashCode()</code> and <code>equals()</code> methods, while other implementation may utilize <code>compareTo()</code>, or <code>compare()</code>, if a <code>Comparator</code> is used.</p>\n"}],"owner":{"account_id":18692289,"reputation":11,"user_id":13626372,"display_name":"Miller snow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1659457899,"accepted_answer_id":73202056,"answer_count":1,"score":-1,"last_activity_date":1664986371,"creation_date":1659412667,"question_id":73201824,"body_markdown":"I have read the source code but I saw that it just creates an anonymous instance and overrides some method.\r\nIn executed difference method, these overriden methods are not executed.\r\nSo how does it implement the difference set?\r\n","title":"in java guava Sets.differenceÔºåHow does it work","body":"<p>I have read the source code but I saw that it just creates an anonymous instance and overrides some method.\nIn executed difference method, these overriden methods are not executed.\nSo how does it implement the difference set?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1664987346,"post_id":73963165,"comment_id":130595610,"body_markdown":"Why would you run `sudo su`? You either run `sudo &lt;some executable&gt;` to execute that as superuser, _or_ you use `su` to **s**ubstitute a **u**ser. You _never_ need to `sudo` the `su` command, the whole point is that you&#39;re asking the OS to change to a different user, which it will let you do as long as you provide the correct credentials for that user.","body":"Why would you run <code>sudo su</code>? You either run <code>sudo &lt;some executable&gt;</code> to execute that as superuser, <i>or</i> you use <code>su</code> to <b>s</b>ubstitute a <b>u</b>ser. You <i>never</i> need to <code>sudo</code> the <code>su</code> command, the whole point is that you&#39;re asking the OS to change to a different user, which it will let you do as long as you provide the correct credentials for that user."},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1664988243,"post_id":73963165,"comment_id":130595922,"body_markdown":"Do you mean I should use instead of ```sudo su``` then ```mvn install```, just use ```sudo mvn install```? Well, if you mean that I tried that but it&#39;s still the same.","body":"Do you mean I should use instead of <code>sudo su</code> then <code>mvn install</code>, just use <code>sudo mvn install</code>? Well, if you mean that I tried that but it&#39;s still the same."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1664992534,"post_id":73963165,"comment_id":130597287,"body_markdown":"Sounds like you forgot to add your user to the docker group. I.e. https://stackoverflow.com/a/48957722/740553","body":"Sounds like you forgot to add your user to the docker group. I.e. <a href=\"https://stackoverflow.com/a/48957722/740553\">stackoverflow.com/a/48957722/740553</a>"}],"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664986291,"creation_date":1664985607,"question_id":73963165,"body_markdown":"&gt; [ERROR] Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\r\n&gt; (default) on project twitter-to-kafka-service: Execution default of\r\n&gt; goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\r\n&gt; failed: Connection to the Docker daemon at &#39;localhost&#39; failed with\r\n&gt; error &quot;[13] Permission denied&quot;; ensure the Docker daemon is running\r\n&gt; and accessible: com.sun.jna.LastErrorException: [13] Permission denied\r\n&gt; -&gt; [Help 1]\r\n\r\nI get the above error when I try to create an image using the spring-boot-maven-plugin. To solve the problem, I gave all privileges to the terminal with ```sudo su``` and the problem was solved.\r\n\r\nHowever, I ran into a more interesting problem. Normal user cannot access the image created after typing ```sudo su```. So in the Docker Desktop application, and when I type ``docker images`` in the terminal, I can&#39;t see the created images. Whenever I type ```sudo su``` and then ```docker images``` then I can view it. I don&#39;t want it to be this way either. Because it is easier to use Docker Desktop application.\r\n\r\n\r\n```none\r\ndocker images\r\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\r\n\r\n\r\nsudo su\r\n[sudo] password for umut: \r\nroot@umut-ThinkPad-E14-Gen-2:/home/umut# docker images\r\nREPOSITORY                          TAG              IMAGE ID       CREATED        SIZE\r\npaketobuildpacks/run                base-cnb         320a67ab6606   2 weeks ago    87.8MB\r\ntedex123/twitter-to-kafka-service   0.0.1-SNAPSHOT   a94cc13fed95   42 years ago   291MB\r\npaketobuildpacks/builder            base             49d8ba727b2b   42 years ago   1.34GB\r\n```","title":"Can&#39;t Acces Images I Created With &quot;Sudo Su&quot;","body":"<blockquote>\n<p>[ERROR] Failed to execute goal\norg.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\n(default) on project twitter-to-kafka-service: Execution default of\ngoal\norg.springframework.boot:spring-boot-maven-plugin:2.7.4:build-image\nfailed: Connection to the Docker daemon at 'localhost' failed with\nerror &quot;[13] Permission denied&quot;; ensure the Docker daemon is running\nand accessible: com.sun.jna.LastErrorException: [13] Permission denied\n-&gt; [Help 1]</p>\n</blockquote>\n<p>I get the above error when I try to create an image using the spring-boot-maven-plugin. To solve the problem, I gave all privileges to the terminal with <code>sudo su</code> and the problem was solved.</p>\n<p>However, I ran into a more interesting problem. Normal user cannot access the image created after typing <code>sudo su</code>. So in the Docker Desktop application, and when I type <code>docker images</code> in the terminal, I can't see the created images. Whenever I type <code>sudo su</code> and then <code>docker images</code> then I can view it. I don't want it to be this way either. Because it is easier to use Docker Desktop application.</p>\n<pre class=\"lang-none prettyprint-override\"><code>docker images\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\n\n\nsudo su\n[sudo] password for umut: \nroot@umut-ThinkPad-E14-Gen-2:/home/umut# docker images\nREPOSITORY                          TAG              IMAGE ID       CREATED        SIZE\npaketobuildpacks/run                base-cnb         320a67ab6606   2 weeks ago    87.8MB\ntedex123/twitter-to-kafka-service   0.0.1-SNAPSHOT   a94cc13fed95   42 years ago   291MB\npaketobuildpacks/builder            base             49d8ba727b2b   42 years ago   1.34GB\n</code></pre>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1323381109,"post_id":8438105,"comment_id":10428544,"body_markdown":"Out of curiosity, why do you want to get rid of `standalone=&quot;no&quot;`? After all, the lack of `standalone` attribute is equivalent to `standalone=&quot;no&quot;`: &quot;If there are no external markup declarations, the standalone document declaration has no meaning. If there are external markup declarations but there is no standalone document declaration, the value &quot;no&quot; is assumed.&quot; http://www.w3.org/TR/REC-xml/#sec-rmd","body":"Out of curiosity, why do you want to get rid of <code>standalone=&quot;no&quot;</code>? After all, the lack of <code>standalone</code> attribute is equivalent to <code>standalone=&quot;no&quot;</code>: &quot;If there are no external markup declarations, the standalone document declaration has no meaning. If there are external markup declarations but there is no standalone document declaration, the value &quot;no&quot; is assumed.&quot; <a href=\"http://www.w3.org/TR/REC-xml/#sec-rmd\" rel=\"nofollow noreferrer\">w3.org/TR/REC-xml/#sec-rmd</a>"},{"owner":{"account_id":1089563,"reputation":1852,"user_id":1084509,"accept_rate":88,"display_name":"user1084509"},"score":1,"creation_date":1323381347,"post_id":8438105,"comment_id":10428599,"body_markdown":"Because Im currently developing a system in which an electronic invoice should be generated. For generating the invoice, I need to create an xml which should follow the specifications done by the SAT (In Mexico). When an specification is not followed, the invoice becomes invalid.","body":"Because Im currently developing a system in which an electronic invoice should be generated. For generating the invoice, I need to create an xml which should follow the specifications done by the SAT (In Mexico). When an specification is not followed, the invoice becomes invalid."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":2,"creation_date":1323382886,"post_id":8438105,"comment_id":10429047,"body_markdown":"Specifications that say an XML document must conform to such-and-such formatting convention, i.e. specifications beyond the content of the XML information model, require postprocessing. XML serializers in general are not able to fulfill arbitrary specs about serialization. (And I mean &quot;arbitrary&quot; more in the information science sense, not in the sense of &quot;random.&quot;)","body":"Specifications that say an XML document must conform to such-and-such formatting convention, i.e. specifications beyond the content of the XML information model, require postprocessing. XML serializers in general are not able to fulfill arbitrary specs about serialization. (And I mean &quot;arbitrary&quot; more in the information science sense, not in the sense of &quot;random.&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"score":1,"creation_date":1347559027,"post_id":8438236,"comment_id":16682117,"body_markdown":"I still get standalone=&quot;no&quot; in output with Sun Java 1.6.0_35 on Windows 7","body":"I still get standalone=&quot;no&quot; in output with Sun Java 1.6.0_35 on Windows 7"},{"owner":{"account_id":715236,"reputation":1477,"user_id":639718,"accept_rate":59,"display_name":"Jan Hruby"},"score":3,"creation_date":1360745898,"post_id":8438236,"comment_id":20812081,"body_markdown":"you can also set property of transformer - OutputKeys.STANDALONE to true","body":"you can also set property of transformer - OutputKeys.STANDALONE to true"},{"owner":{"account_id":1064549,"reputation":520,"user_id":1065448,"accept_rate":59,"display_name":"cypronmaya"},"score":2,"creation_date":1411313818,"post_id":8438236,"comment_id":40646004,"body_markdown":"@JanHruby It should be set as &quot;yes&quot;","body":"@JanHruby It should be set as &quot;yes&quot;"},{"owner":{"account_id":7226350,"reputation":4371,"user_id":5514765,"accept_rate":100,"display_name":"ParkerHalo"},"score":5,"creation_date":1471006252,"post_id":8438236,"comment_id":65193639,"body_markdown":"@Pangea it works, but when i do it, it doesn&#39;t print a newline after the prolog anymore!","body":"@Pangea it works, but when i do it, it doesn&#39;t print a newline after the prolog anymore!"},{"owner":{"account_id":1126140,"reputation":320,"user_id":1113396,"display_name":"Jirka Meluzin"},"score":9,"creation_date":1547043057,"post_id":8438236,"comment_id":95056122,"body_markdown":"transformer.setOutputProperty(OutputKeys.DOCTYPE_PUBLIC, &quot;&quot;); Causes to add new line after prolog","body":"transformer.setOutputProperty(OutputKeys.DOCTYPE_PUBLIC, &quot;&quot;); Causes to add new line after prolog"},{"owner":{"account_id":307060,"reputation":1113,"user_id":618156,"display_name":"cooltea"},"score":0,"creation_date":1616612905,"post_id":8438236,"comment_id":118060673,"body_markdown":"The Oracle forum thread link given by this answer is broken. I think it was replaced with the following https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084","body":"The Oracle forum thread link given by this answer is broken. I think it was replaced with the following <a href=\"https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084\" rel=\"nofollow noreferrer\">community.oracle.com/tech/developers/discussion/comment/&hellip;</a>"},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1664986197,"post_id":8438236,"comment_id":130595198,"body_markdown":"@cooltea tx. updated the link","body":"@cooltea tx. updated the link"}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":7,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1664986175,"creation_date":1323381310,"answer_id":8438236,"question_id":8438105,"body_markdown":"From what I&#39;ve read you can do this by calling the below method on `Document` before creating the `DOMSource`:\r\n\r\n    doc.setXmlStandalone(true); //before creating the DOMSource\r\n\r\nIf you set it `false` *you cannot control it to appear or not*. So `setXmlStandalone(true)` on `Document`. In transformer if you want an output use `OutputKeys` with whatever &quot;yes&quot; or &quot;no&quot; you need. If you `setXmlStandalone(false)` on `Document` your output will be always `standalone=&quot;no&quot;` no matter what you set (if you set) in `Transformer`.\r\n\r\nRead the [thread in this forum][1]\r\n\r\n  [1]: https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084","title":"How to remove standalone attribute declaration in xml document?","body":"<p>From what I've read you can do this by calling the below method on <code>Document</code> before creating the <code>DOMSource</code>:</p>\n<pre><code>doc.setXmlStandalone(true); //before creating the DOMSource\n</code></pre>\n<p>If you set it <code>false</code> <em>you cannot control it to appear or not</em>. So <code>setXmlStandalone(true)</code> on <code>Document</code>. In transformer if you want an output use <code>OutputKeys</code> with whatever &quot;yes&quot; or &quot;no&quot; you need. If you <code>setXmlStandalone(false)</code> on <code>Document</code> your output will be always <code>standalone=&quot;no&quot;</code> no matter what you set (if you set) in <code>Transformer</code>.</p>\n<p>Read the <a href=\"https://community.oracle.com/tech/developers/discussion/comment/6845084#Comment_6845084\" rel=\"nofollow noreferrer\">thread in this forum</a></p>\n"}],"owner":{"account_id":1089563,"reputation":1852,"user_id":1084509,"accept_rate":88,"display_name":"user1084509"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39174,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":8438236,"answer_count":1,"score":44,"last_activity_date":1664986175,"creation_date":1323380543,"question_id":8438105,"body_markdown":"Im am currently creating an xml using Java and then I transform it into a String. The xml declaration is as follows:\r\n\r\n    DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder docBuilder = dbfac.newDocumentBuilder();\r\n    Document doc = docBuilder.newDocument();\r\n    doc.setXmlVersion(&quot;1.0&quot;);\r\n\r\nFor transforming the document into String, I include the following declaration: \r\n\r\n    TransformerFactory transfac = TransformerFactory.newInstance();\r\n    Transformer trans = transfac.newTransformer();\r\n    trans.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;no&quot;);\r\n    trans.setOutputProperty(OutputKeys.VERSION, &quot;1.0&quot;);\r\n    trans.setOutputProperty(OutputKeys.ENCODING,&quot;UTF-8&quot;);\r\n    trans.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\nAnd then I do the transformation: \r\n\r\n    StringWriter sw = new StringWriter();\r\n    StreamResult result = new StreamResult(sw);\r\n    DOMSource source = new DOMSource(doc);\r\n    trans.transform(source, result);\r\n    String xmlString = sw.toString();\r\n\r\nThe problem is that in the XML Declaration attributes, the standalone attribute is included and I don&#39;t want that, but I want the version and encoding attributes to appear: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\r\nIs there any property where that could be specified?\r\n\r\n\r\n","title":"How to remove standalone attribute declaration in xml document?","body":"<p>Im am currently creating an xml using Java and then I transform it into a String. The xml declaration is as follows:</p>\n\n<pre><code>DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\nDocumentBuilder docBuilder = dbfac.newDocumentBuilder();\nDocument doc = docBuilder.newDocument();\ndoc.setXmlVersion(\"1.0\");\n</code></pre>\n\n<p>For transforming the document into String, I include the following declaration: </p>\n\n<pre><code>TransformerFactory transfac = TransformerFactory.newInstance();\nTransformer trans = transfac.newTransformer();\ntrans.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"no\");\ntrans.setOutputProperty(OutputKeys.VERSION, \"1.0\");\ntrans.setOutputProperty(OutputKeys.ENCODING,\"UTF-8\");\ntrans.setOutputProperty(OutputKeys.INDENT, \"yes\");\n</code></pre>\n\n<p>And then I do the transformation: </p>\n\n<pre><code>StringWriter sw = new StringWriter();\nStreamResult result = new StreamResult(sw);\nDOMSource source = new DOMSource(doc);\ntrans.transform(source, result);\nString xmlString = sw.toString();\n</code></pre>\n\n<p>The problem is that in the XML Declaration attributes, the standalone attribute is included and I don't want that, but I want the version and encoding attributes to appear: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n</code></pre>\n\n<p>Is there any property where that could be specified?</p>\n"},{"tags":["java","spring","hibernate","jpa","java-stream"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664984904,"post_id":73962750,"comment_id":130594794,"body_markdown":"Does this answer your question? [Native queries support Spring data jpa stream for SQL Server](https://stackoverflow.com/questions/61352590/native-queries-support-spring-data-jpa-stream-for-sql-server)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61352590/native-queries-support-spring-data-jpa-stream-for-sql-server\">Native queries support Spring data jpa stream for SQL Server</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664985148,"post_id":73962750,"comment_id":130594865,"body_markdown":"I doubt it answers (your production considerations), but it shows how (easy is) to  `Stream&lt;SomeEntity&gt;` in spring-data. Of course you should &quot;analyze your query plan&quot;, ...load, capacities, bottlenecks, cache ... before moving to production","body":"I doubt it answers (your production considerations), but it shows how (easy is) to  <code>Stream&lt;SomeEntity&gt;</code> in spring-data. Of course you should &quot;analyze your query plan&quot;, ...load, capacities, bottlenecks, cache ... before moving to production"},{"owner":{"account_id":8449743,"reputation":19,"user_id":6338956,"display_name":"lshem16"},"score":0,"creation_date":1664986016,"post_id":73962750,"comment_id":130595142,"body_markdown":"@xerx593 thanks but no, I am particularly concerned about it loading a full result set which that does not address","body":"@xerx593 thanks but no, I am particularly concerned about it loading a full result set which that does not address"}],"answers":[{"comments":[{"owner":{"account_id":8449743,"reputation":19,"user_id":6338956,"display_name":"lshem16"},"score":0,"creation_date":1664992008,"post_id":73963172,"comment_id":130597127,"body_markdown":"Interesting. The extra annotations and detach aren&#39;t ideal. I don&#39;t think I would want that repeated as a pattern in the codebase. However I&#39;ll accept if a better answer doesn&#39;t come along. Thanks.","body":"Interesting. The extra annotations and detach aren&#39;t ideal. I don&#39;t think I would want that repeated as a pattern in the codebase. However I&#39;ll accept if a better answer doesn&#39;t come along. Thanks."}],"tags":[],"owner":{"account_id":4698404,"reputation":226,"user_id":3802693,"display_name":"majdibo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664985650,"creation_date":1664985650,"answer_id":73963172,"question_id":73962750,"body_markdown":"You can use Stream Api to lazy load from database without breaking your memory but to make this work you need to do the following : \r\n\r\nAnnotate your query with these hints :\r\n\r\n     @QueryHints(value = {\r\n            @QueryHint(name = HINT_FETCH_SIZE, value = &quot;&quot; + Integer.MIN_VALUE),\r\n            @QueryHint(name = HINT_CACHEABLE, value = &quot;false&quot;),\r\n            @QueryHint(name = READ_ONLY, value = &quot;true&quot;)\r\n    })\r\n    @Query(nativeQuery = true, &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\r\n    Stream&lt;MyEntity&gt; getAll();\r\n\r\nThis will disable second level caching and return read only record.\r\n\r\nThen to use your query you need to provid it in a transactional block : \r\n\r\n    @Transactional(readOnly = true)\r\n      public void process() {\r\n        Stream&lt;MyEntity&gt; myEntityStream = myEntityRepo.getAll();\r\n      \r\n        myEntityStream .forEach(entity-&gt; {\r\n          // do some processing\r\n         entityManager.detach(entity);\r\n        });\r\n      }\r\nNote at the end I detach entity to let the garbage collector free memory\r\n","title":"Will a Spring JPA Repository Native Query returning a Stream using Hibernate over SQL Server lazy-load the collection?","body":"<p>You can use Stream Api to lazy load from database without breaking your memory but to make this work you need to do the following :</p>\n<p>Annotate your query with these hints :</p>\n<pre><code> @QueryHints(value = {\n        @QueryHint(name = HINT_FETCH_SIZE, value = &quot;&quot; + Integer.MIN_VALUE),\n        @QueryHint(name = HINT_CACHEABLE, value = &quot;false&quot;),\n        @QueryHint(name = READ_ONLY, value = &quot;true&quot;)\n})\n@Query(nativeQuery = true, &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\nStream&lt;MyEntity&gt; getAll();\n</code></pre>\n<p>This will disable second level caching and return read only record.</p>\n<p>Then to use your query you need to provid it in a transactional block :</p>\n<pre><code>@Transactional(readOnly = true)\n  public void process() {\n    Stream&lt;MyEntity&gt; myEntityStream = myEntityRepo.getAll();\n  \n    myEntityStream .forEach(entity-&gt; {\n      // do some processing\n     entityManager.detach(entity);\n    });\n  }\n</code></pre>\n<p>Note at the end I detach entity to let the garbage collector free memory</p>\n"}],"owner":{"account_id":8449743,"reputation":19,"user_id":6338956,"display_name":"lshem16"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664985650,"creation_date":1664983661,"question_id":73962750,"body_markdown":"I&#39;m picking a up a project where there is a JpaRepository implementation that uses a native query in Spring on top of hibernate and SQL Server which returns a List. The query does not having paging or limits implemented. I&#39;m worried this will cause a problem in production if it loads the full result set into memory.\r\n\r\nExample: \r\n```java\r\npublic interface MyEntityRepo extends JpaRepository&lt;MyEntity,String&gt; {\r\n...\r\n@Query(nativeQuery = true,\r\n  value = &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\r\nList&lt;MyEntity&gt; getAll();\r\n```\r\n\r\nThe code that consumes this List uses the Stream API so I could refactor the method to return a Stream&lt;MyEntity&gt; but I cannot find any documentation that indicates if this will lazy-load to avoid fetching the whole result set at once.\r\n\r\nWill that work? Or do I need to refactor this do to proper paging?","title":"Will a Spring JPA Repository Native Query returning a Stream using Hibernate over SQL Server lazy-load the collection?","body":"<p>I'm picking a up a project where there is a JpaRepository implementation that uses a native query in Spring on top of hibernate and SQL Server which returns a List. The query does not having paging or limits implemented. I'm worried this will cause a problem in production if it loads the full result set into memory.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEntityRepo extends JpaRepository&lt;MyEntity,String&gt; {\n...\n@Query(nativeQuery = true,\n  value = &quot;SELECT t.name, t.date FROM MY_TABLE t WHERE t.condition = true&quot;)\nList&lt;MyEntity&gt; getAll();\n</code></pre>\n<p>The code that consumes this List uses the Stream API so I could refactor the method to return a Stream but I cannot find any documentation that indicates if this will lazy-load to avoid fetching the whole result set at once.</p>\n<p>Will that work? Or do I need to refactor this do to proper paging?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9237,"page":986,"page_size":100}
