{"items":[{"tags":["java","android","fonts","toolbar","title"],"answers":[{"comments":[{"owner":{"account_id":6875229,"reputation":779,"user_id":5283893,"accept_rate":50,"display_name":"anupam x"},"score":1,"creation_date":1441608526,"post_id":32398137,"comment_id":52729935,"body_markdown":"yeah my activity also shows the class name along with the textview. How to remove the class name from it.","body":"yeah my activity also shows the class name along with the textview. How to remove the class name from it."},{"owner":{"account_id":251616,"reputation":2727,"user_id":529138,"accept_rate":100,"display_name":"Bandreid"},"score":0,"creation_date":1455271004,"post_id":32398137,"comment_id":58425150,"body_markdown":"@anupamx You can remove the actionbar like this: \n*getSupportActionBar().setTitle(null);* Do it right after you set the toolbar as the actionbar: *setSupportActionBar(toolbar);*","body":"@anupamx You can remove the actionbar like this:  <i>getSupportActionBar().setTitle(null);</i> Do it right after you set the toolbar as the actionbar: <i>setSupportActionBar(toolbar);</i>"},{"owner":{"account_id":469598,"reputation":2912,"user_id":876267,"accept_rate":85,"display_name":"Mehmed"},"score":0,"creation_date":1487521499,"post_id":32398137,"comment_id":71811991,"body_markdown":"@gmetax If I put a custom TextView inside toolbar in XML, then I will not be able to use default title of the toolbar, right? I mean my call `toolbar.setTitle()` will be in vain, am I right?","body":"@gmetax If I put a custom TextView inside toolbar in XML, then I will not be able to use default title of the toolbar, right? I mean my call <code>toolbar.setTitle()</code> will be in vain, am I right?"},{"owner":{"account_id":2791034,"reputation":3873,"user_id":2401265,"accept_rate":56,"display_name":"gmetax"},"score":0,"creation_date":1509708095,"post_id":32398137,"comment_id":81138417,"body_markdown":"@Mehmed yes but you can override that method to work as you want","body":"@Mehmed yes but you can override that method to work as you want"},{"owner":{"account_id":1385398,"reputation":4788,"user_id":1317564,"accept_rate":100,"display_name":"Learn OpenGL ES"},"score":0,"creation_date":1564152590,"post_id":32398137,"comment_id":100949286,"body_markdown":"The dynamic one is the only one that worked for me.","body":"The dynamic one is the only one that worked for me."},{"owner":{"account_id":1557671,"reputation":709,"user_id":1448272,"display_name":"Edmund Johnson"},"score":0,"creation_date":1611351460,"post_id":32398137,"comment_id":116433478,"body_markdown":"This was working for me until I started using the navigation component, after which I had to change `view.text == title` to `view.text == title.toString()`","body":"This was working for me until I started using the navigation component, after which I had to change <code>view.text == title</code> to <code>view.text == title.toString()</code>"}],"tags":[],"owner":{"account_id":2791034,"reputation":3873,"user_id":2401265,"accept_rate":56,"display_name":"gmetax"},"comment_count":6,"down_vote_count":2,"up_vote_count":67,"is_accepted":true,"score":65,"last_activity_date":1532948262,"creation_date":1441369825,"answer_id":32398137,"question_id":32398104,"body_markdown":"**Update 2018 (kotlin version)**\r\n\r\n    fun Toolbar.changeToolbarFont(){\r\n        for (i in 0 until childCount) {\r\n            val view = getChildAt(i)\r\n            if (view is TextView &amp;&amp; view.text == title) {\r\n                view.typeface = Typeface.createFromAsset(view.context.assets, &quot;fonts/customFont&quot;)\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\nand use it like that `toolBar.changeToolbarFont()`\r\n\r\n\r\n**old-post**\r\n\r\nTo use a custom title in your Toolbar all you need to do is remember is that Toolbar is just a fancy ViewGroup so you can add a custom title like so:\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar_top&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@color/action_bar_bkgnd&quot;\r\n        app:theme=&quot;@style/ToolBarTheme&quot; &gt;\r\n    \r\n    \r\n         &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Toolbar Title&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/toolbar_title&quot; /&gt;\r\n    \r\n    \r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nThis means that you can style the TextView however you would like because it&#39;s just a regular TextView. So in your activity you can access the title like so:\r\n\r\n    Toolbar toolbarTop = (Toolbar) findViewById(R.id.toolbar_top);\r\n    TextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\r\n\r\nAnd then: \r\n\r\n    Typeface khandBold = Typeface.createFromAsset(BalrogApplication.getApplication().getAssets(), &quot;fonts/Khand-bold.ttf&quot;);\r\n\r\n    mTitle.setTypeface(khandBold);\r\n\r\n\r\n**UPDATE** \r\ndynamically version\r\n\r\n    public static void changeToolbarFont(Toolbar toolbar, Activity context) {\r\n        for (int i = 0; i &lt; toolbar.getChildCount(); i++) {\r\n            View view = toolbar.getChildAt(i);\r\n            if (view instanceof TextView) {\r\n                TextView tv = (TextView) view;\r\n                if (tv.getText().equals(toolbar.getTitle())) {\r\n                    applyFont(tv, context);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void applyFont(TextView tv, Activity context) {\r\n        tv.setTypeface(Typeface.createFromAsset(context.getAssets(), &quot;fonts/customFont&quot;));\r\n    }\r\n\r\nand use it like that\r\n\r\n    changeToolbarFont(findViewById(R.id.app_bar), this);\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p><strong>Update 2018 (kotlin version)</strong></p>\n\n<pre><code>fun Toolbar.changeToolbarFont(){\n    for (i in 0 until childCount) {\n        val view = getChildAt(i)\n        if (view is TextView &amp;&amp; view.text == title) {\n            view.typeface = Typeface.createFromAsset(view.context.assets, \"fonts/customFont\")\n            break\n        }\n    }\n}\n</code></pre>\n\n<p>and use it like that <code>toolBar.changeToolbarFont()</code></p>\n\n<p><strong>old-post</strong></p>\n\n<p>To use a custom title in your Toolbar all you need to do is remember is that Toolbar is just a fancy ViewGroup so you can add a custom title like so:</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    android:id=\"@+id/toolbar_top\"\n    android:layout_height=\"wrap_content\"\n    android:layout_width=\"match_parent\"\n    android:minHeight=\"?attr/actionBarSize\"\n    android:background=\"@color/action_bar_bkgnd\"\n    app:theme=\"@style/ToolBarTheme\" &gt;\n\n\n     &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Toolbar Title\"\n        android:layout_gravity=\"center\"\n        android:id=\"@+id/toolbar_title\" /&gt;\n\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>This means that you can style the TextView however you would like because it's just a regular TextView. So in your activity you can access the title like so:</p>\n\n<pre><code>Toolbar toolbarTop = (Toolbar) findViewById(R.id.toolbar_top);\nTextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\n</code></pre>\n\n<p>And then: </p>\n\n<pre><code>Typeface khandBold = Typeface.createFromAsset(BalrogApplication.getApplication().getAssets(), \"fonts/Khand-bold.ttf\");\n\nmTitle.setTypeface(khandBold);\n</code></pre>\n\n<p><strong>UPDATE</strong> \ndynamically version</p>\n\n<pre><code>public static void changeToolbarFont(Toolbar toolbar, Activity context) {\n    for (int i = 0; i &lt; toolbar.getChildCount(); i++) {\n        View view = toolbar.getChildAt(i);\n        if (view instanceof TextView) {\n            TextView tv = (TextView) view;\n            if (tv.getText().equals(toolbar.getTitle())) {\n                applyFont(tv, context);\n                break;\n            }\n        }\n    }\n}\n\npublic static void applyFont(TextView tv, Activity context) {\n    tv.setTypeface(Typeface.createFromAsset(context.getAssets(), \"fonts/customFont\"));\n}\n</code></pre>\n\n<p>and use it like that</p>\n\n<pre><code>changeToolbarFont(findViewById(R.id.app_bar), this);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3856008,"reputation":6013,"user_id":3194929,"accept_rate":80,"display_name":"afathman"},"score":0,"creation_date":1455223634,"post_id":32398397,"comment_id":58406690,"body_markdown":"Reflection is sketchy at best. It fails for me when minify is enabled.","body":"Reflection is sketchy at best. It fails for me when minify is enabled."}],"tags":[],"owner":{"account_id":1107006,"reputation":4327,"user_id":1098218,"accept_rate":53,"display_name":"Amarjit"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441546011,"creation_date":1441370583,"answer_id":32398397,"question_id":32398104,"body_markdown":"  You can use this simple method to set custom font to toolbar title.\r\n\r\n          \r\n     Toolbar   toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\r\n            TextView tv = getToolBarTextView();\r\n            tv.settext(&quot;Hello&quot;);\r\n\r\n    private TextView getToolBarTextView() {\r\n            TextView titleTextView = null;\r\n        \r\n            try {\r\n                Field f = mToolBar.getClass().getDeclaredField(&quot;mTitleTextView&quot;);\r\n                f.setAccessible(true);\r\n                titleTextView = (TextView) f.get(mToolBar);\r\n        \r\n         Typeface font = Typeface.createFromAsset(getApplicationContext().getAssets(),&quot;fonts/mfont.ttf&quot;);\r\n        titleTextView.setTypeface(font);\r\n        \r\n            } catch (NoSuchFieldException e) {\r\n            } catch (IllegalAccessException e) {\r\n            }\r\n            return titleTextView;\r\n        }\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>You can use this simple method to set custom font to toolbar title.</p>\n\n<pre><code> Toolbar   toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\n        TextView tv = getToolBarTextView();\n        tv.settext(\"Hello\");\n\nprivate TextView getToolBarTextView() {\n        TextView titleTextView = null;\n\n        try {\n            Field f = mToolBar.getClass().getDeclaredField(\"mTitleTextView\");\n            f.setAccessible(true);\n            titleTextView = (TextView) f.get(mToolBar);\n\n     Typeface font = Typeface.createFromAsset(getApplicationContext().getAssets(),\"fonts/mfont.ttf\");\n    titleTextView.setTypeface(font);\n\n        } catch (NoSuchFieldException e) {\n        } catch (IllegalAccessException e) {\n        }\n        return titleTextView;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2791034,"reputation":3873,"user_id":2401265,"accept_rate":56,"display_name":"gmetax"},"score":0,"creation_date":1509708278,"post_id":34763303,"comment_id":81138526,"body_markdown":"you can use an abstract activity that will do that work and then extend that activity on your activites to not have the same code in various activites","body":"you can use an abstract activity that will do that work and then extend that activity on your activites to not have the same code in various activites"}],"tags":[],"owner":{"account_id":4920519,"reputation":563,"user_id":3963197,"display_name":"farukcankaya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452678543,"creation_date":1452678543,"answer_id":34763303,"question_id":32398104,"body_markdown":"Thank you @gmetax, it&#39;s a good point. It&#39;s bad to access textview for each activity. We have to write code below for each activity:\r\n\r\n    TextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\r\n\r\nWe&#39;ve already bind toolbar and we&#39;ve use toolbar.setTitle(). So, I extend Toolbar and override setTitle method like this:\r\n\r\n    @Override\r\n    public void setTitle(CharSequence title) {\r\n        super.setTitle(&quot;&quot;);\r\n        mTitle = (TextView) findViewById(R.id.toolbar_title);\r\n        if (mTitle != null) {\r\n            if (!TextUtils.isEmpty(title)) {\r\n                mTitle.setText(title);\r\n            }\r\n        }\r\n    }\r\n(Of course, custom font should be setted in CustomTextView class.setTypeface)\r\nNow, we can use just like this:\r\n\r\n    toolbar.setTitle(&quot;bla bla&quot;);","title":"How to set a custom font to the title in toolbar android","body":"<p>Thank you @gmetax, it's a good point. It's bad to access textview for each activity. We have to write code below for each activity:</p>\n\n<pre><code>TextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\n</code></pre>\n\n<p>We've already bind toolbar and we've use toolbar.setTitle(). So, I extend Toolbar and override setTitle method like this:</p>\n\n<pre><code>@Override\npublic void setTitle(CharSequence title) {\n    super.setTitle(\"\");\n    mTitle = (TextView) findViewById(R.id.toolbar_title);\n    if (mTitle != null) {\n        if (!TextUtils.isEmpty(title)) {\n            mTitle.setText(title);\n        }\n    }\n}\n</code></pre>\n\n<p>(Of course, custom font should be setted in CustomTextView class.setTypeface)\nNow, we can use just like this:</p>\n\n<pre><code>toolbar.setTitle(\"bla bla\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3856008,"reputation":6013,"user_id":3194929,"accept_rate":80,"display_name":"afathman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455223406,"creation_date":1455223406,"answer_id":35349655,"question_id":32398104,"body_markdown":"I still wanted to use the Toolbars title methods, so adding in the custom TextView inside of the Toolbar xml element didn&#39;t work for me. Instead, I used the following method to find the TextView:\r\n\r\n    public static void applyFontForToolbarTitle(Activity context){\r\n        Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\r\n        for(int i = 0; i &lt; toolbar.getChildCount(); i++){\r\n            View view = toolbar.getChildAt(i);\r\n            if(view instanceof TextView){\r\n                TextView tv = (TextView) view;\r\n                Typeface titleFont = Typeface.\r\n                   createFromAsset(context.getAssets(), &quot;fonts/customFont&quot;);\r\n                if(tv.getText().equals(context.getTitle())){\r\n                    tv.setTypeface(titleFont);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to set a custom font to the title in toolbar android","body":"<p>I still wanted to use the Toolbars title methods, so adding in the custom TextView inside of the Toolbar xml element didn't work for me. Instead, I used the following method to find the TextView:</p>\n\n<pre><code>public static void applyFontForToolbarTitle(Activity context){\n    Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\n    for(int i = 0; i &lt; toolbar.getChildCount(); i++){\n        View view = toolbar.getChildAt(i);\n        if(view instanceof TextView){\n            TextView tv = (TextView) view;\n            Typeface titleFont = Typeface.\n               createFromAsset(context.getAssets(), \"fonts/customFont\");\n            if(tv.getText().equals(context.getTitle())){\n                tv.setTypeface(titleFont);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":263266,"reputation":6394,"user_id":548714,"accept_rate":60,"display_name":"crubio"},"score":3,"creation_date":1458053225,"post_id":35349713,"comment_id":59680481,"body_markdown":"It&#39;s toolbar.getTitle() instead of context.getTitle(). Thanks! It worked for me.","body":"It&#39;s toolbar.getTitle() instead of context.getTitle(). Thanks! It worked for me."},{"owner":{"account_id":1293621,"reputation":1500,"user_id":1245235,"accept_rate":100,"display_name":"&#205;caro"},"score":0,"creation_date":1484854412,"post_id":35349713,"comment_id":70692703,"body_markdown":"This helped me setting a custom font when I did not have access to the layout files and couldn&#39;t add a `TextView` to the `Toolbar`.","body":"This helped me setting a custom font when I did not have access to the layout files and couldn&#39;t add a <code>TextView</code> to the <code>Toolbar</code>."},{"owner":{"account_id":4865394,"reputation":1989,"user_id":3923839,"accept_rate":75,"display_name":"abedfar"},"score":0,"creation_date":1488814616,"post_id":35349713,"comment_id":72387077,"body_markdown":"if you set the toolbar title string in the code, then make sure that you call above method after setting the toolbar title. Before setting the title, it has no effect.","body":"if you set the toolbar title string in the code, then make sure that you call above method after setting the toolbar title. Before setting the title, it has no effect."},{"owner":{"account_id":2791034,"reputation":3873,"user_id":2401265,"accept_rate":56,"display_name":"gmetax"},"score":0,"creation_date":1502361007,"post_id":35349713,"comment_id":78180607,"body_markdown":"the only suggestion i can make is to return a success value when you have setted the typeface.","body":"the only suggestion i can make is to return a success value when you have setted the typeface."}],"tags":[],"owner":{"account_id":3856008,"reputation":6013,"user_id":3194929,"accept_rate":80,"display_name":"afathman"},"comment_count":4,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1484859092,"creation_date":1455223603,"answer_id":35349713,"question_id":32398104,"body_markdown":"I still wanted to use the Toolbars title methods (nor did I want to have a custom Toolbar class), so adding in the custom TextView inside of the Toolbar xml element didn&#39;t work for me. Instead, I used the following method to find the TextView:\r\n\r\n    public static void applyFontForToolbarTitle(Activity context){\r\n        Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\r\n        for(int i = 0; i &lt; toolbar.getChildCount(); i++){\r\n            View view = toolbar.getChildAt(i);\r\n            if(view instanceof TextView){\r\n                TextView tv = (TextView) view;\r\n                Typeface titleFont = Typeface.\r\n                   createFromAsset(context.getAssets(), &quot;fonts/customFont&quot;);\r\n                if(tv.getText().equals(toolbar.getTitle())){\r\n                    tv.setTypeface(titleFont);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to set a custom font to the title in toolbar android","body":"<p>I still wanted to use the Toolbars title methods (nor did I want to have a custom Toolbar class), so adding in the custom TextView inside of the Toolbar xml element didn't work for me. Instead, I used the following method to find the TextView:</p>\n\n<pre><code>public static void applyFontForToolbarTitle(Activity context){\n    Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\n    for(int i = 0; i &lt; toolbar.getChildCount(); i++){\n        View view = toolbar.getChildAt(i);\n        if(view instanceof TextView){\n            TextView tv = (TextView) view;\n            Typeface titleFont = Typeface.\n               createFromAsset(context.getAssets(), \"fonts/customFont\");\n            if(tv.getText().equals(toolbar.getTitle())){\n                tv.setTypeface(titleFont);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2484267,"reputation":3870,"user_id":2163045,"accept_rate":53,"display_name":"murt"},"score":0,"creation_date":1521673851,"post_id":38122684,"comment_id":85837718,"body_markdown":"I think that using xml attribute would be better. `app:titleTextAppearance=&quot;@style/ToolbarTextAppearance&quot;`","body":"I think that using xml attribute would be better. <code>app:titleTextAppearance=&quot;@style&#47;ToolbarTextAppearance&quot;</code>"}],"tags":[],"owner":{"account_id":8501144,"reputation":61,"user_id":6374057,"display_name":"arushe"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467288539,"creation_date":1467288539,"answer_id":38122684,"question_id":32398104,"body_markdown":"1. Placement of Fonts:\r\n- Firstly, download a .ttf file. My file is Balker.ttf\r\n- make sure that you have got an &quot;assets&quot; folder. If there is none, right click over app go to New&gt;Folder&gt;assets Folder\r\n- In assets folder, create a new folder and name it &#39;font&#39;\r\n- Put your file, as I did with Balker.ttf, into the &#39;font&#39; folder.\r\n\r\n2. Go to the java file of the activity whose font you have to customize. I customized mainActivity here.\r\n\r\n         for(int i = 0; i &lt; toolbar.getChildCount(); i++)     \r\n         { View view = toolbar.getChildAt(i);\r\n\r\n            if(view instanceof TextView) {\r\n                TextView textView = (TextView) view;\r\n   \r\n                Typeface myCustomFont=Typeface.createFromAsset(getAssets(),&quot;font/Balker.ttf&quot;);\r\n                textView.setTypeface(myCustomFont); }\r\n\r\n            \r\n         }\r\n\r\n\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<ol>\n<li><p>Placement of Fonts:</p>\n\n<ul>\n<li>Firstly, download a .ttf file. My file is Balker.ttf</li>\n<li>make sure that you have got an \"assets\" folder. If there is none, right click over app go to New>Folder>assets Folder</li>\n<li>In assets folder, create a new folder and name it 'font'</li>\n<li>Put your file, as I did with Balker.ttf, into the 'font' folder.</li>\n</ul></li>\n<li><p>Go to the java file of the activity whose font you have to customize. I customized mainActivity here.</p>\n\n<pre><code> for(int i = 0; i &lt; toolbar.getChildCount(); i++)     \n { View view = toolbar.getChildAt(i);\n\n    if(view instanceof TextView) {\n        TextView textView = (TextView) view;\n\n        Typeface myCustomFont=Typeface.createFromAsset(getAssets(),\"font/Balker.ttf\");\n        textView.setTypeface(myCustomFont); }\n\n\n }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10743614,"reputation":21,"user_id":7905779,"display_name":"mohammad golche"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492866878,"creation_date":1492865769,"answer_id":43559489,"question_id":32398104,"body_markdown":"This works for me\r\n\r\n    typeFace= Typeface.createFromAsset(this.getAssets(), &quot;fonts/myfont.ttf&quot;);\r\n    ((TextView)toolbar.getChildAt(1)).setTypeface(typeFace);\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>This works for me</p>\n\n<pre><code>typeFace= Typeface.createFromAsset(this.getAssets(), \"fonts/myfont.ttf\");\n((TextView)toolbar.getChildAt(1)).setTypeface(typeFace);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6547970,"reputation":3832,"user_id":5063320,"display_name":"Goodlife"},"score":6,"creation_date":1510560721,"post_id":45895693,"comment_id":81469995,"body_markdown":"The best answer","body":"The best answer"},{"owner":{"account_id":2678732,"reputation":2991,"user_id":2314488,"display_name":"Fabrizio Caldarelli"},"score":0,"creation_date":1522054376,"post_id":45895693,"comment_id":85977444,"body_markdown":"To complete there right answer, I&#39;d add the link to create font xml: https://developer.android.com/guide/topics/ui/look-and-feel/fonts-in-xml.html","body":"To complete there right answer, I&#39;d add the link to create font xml: <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/fonts-in-xml.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/look-and-feel/&hellip;</a>"},{"owner":{"account_id":321846,"reputation":4560,"user_id":640913,"accept_rate":70,"display_name":"Nirav Bhandari"},"score":1,"creation_date":1541413098,"post_id":45895693,"comment_id":93195025,"body_markdown":"it solved my problem with only single line of change. thanks man","body":"it solved my problem with only single line of change. thanks man"},{"owner":{"account_id":3288977,"reputation":9634,"user_id":2767703,"accept_rate":94,"display_name":"Kevin van Mierlo"},"score":1,"creation_date":1542967232,"post_id":45895693,"comment_id":93761750,"body_markdown":"Maybe add a parent to the style like this: `parent=&quot;TextAppearance.Widget.AppCompat.Toolbar.Title&quot;`. Because the size of the title is otherwise very small for me.","body":"Maybe add a parent to the style like this: <code>parent=&quot;TextAppearance.Widget.AppCompat.Toolbar.Title&quot;</code>. Because the size of the title is otherwise very small for me."},{"owner":{"account_id":18395628,"reputation":432,"user_id":13400168,"display_name":"Jimmy ALejandro"},"score":0,"creation_date":1649170918,"post_id":45895693,"comment_id":126805338,"body_markdown":"It worked for me. But i implemented in the xml file like \n`app:titleTextAppearance=&quot;@style/ToolbarTextAppearance&quot;`","body":"It worked for me. But i implemented in the xml file like  <code>app:titleTextAppearance=&quot;@style&#47;ToolbarTextAppearance&quot;</code>"}],"tags":[],"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"comment_count":5,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1503752701,"creation_date":1503752701,"answer_id":45895693,"question_id":32398104,"body_markdown":"Since `android.support.v7.appcompat 24.2` `Toolbar` has method `setTitleTextAppearance` and you can set its font without external `textview`.\r\n\r\ncreate new style in styles.xml\r\n\r\n    &lt;style name=&quot;RobotoBoldTextAppearance&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/roboto_condensed_bold&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand use it\r\n\r\n    mToolbar.setTitleTextAppearance(this, R.style.RobotoBoldTextAppearance);\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>Since <code>android.support.v7.appcompat 24.2</code> <code>Toolbar</code> has method <code>setTitleTextAppearance</code> and you can set its font without external <code>textview</code>.</p>\n\n<p>create new style in styles.xml</p>\n\n<pre><code>&lt;style name=\"RobotoBoldTextAppearance\"&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/roboto_condensed_bold&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>mToolbar.setTitleTextAppearance(this, R.style.RobotoBoldTextAppearance);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7875628,"reputation":172,"user_id":5951494,"display_name":"zayn1991"},"score":2,"creation_date":1508915948,"post_id":46842576,"comment_id":80799246,"body_markdown":"I think, better write `getSupportActionBar().setDisplayShowTitleEnabled(false);`","body":"I think, better write <code>getSupportActionBar().setDisplayShowTitleEnabled(false);</code>"}],"tags":[],"owner":{"account_id":11444755,"reputation":537,"user_id":8389034,"accept_rate":0,"display_name":"realpac"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508475143,"creation_date":1508475143,"answer_id":46842576,"question_id":32398104,"body_markdown":"If anyone has an issue of getting multiple toolbar title (one default and one that you set ) for xml:\r\n\r\n      &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/app_name&quot;\r\n                    android:layout_gravity=&quot;left&quot;\r\n                    android:id=&quot;@+id/toolbar_title&quot;\r\n                    android:textSize=&quot;20sp&quot;/&gt;\r\n    \r\n            &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n then do this:\r\n \r\n            getSupportActionBar().setTitle(null);//Set the default to null\r\n            typeFace= Typeface.createFromAsset(getAssets(), &quot;fonts/Raleway-Light.ttf&quot;);\r\n            toolbarTitle = (TextView) toolbar.findViewById(R.id.toolbar_title);\r\n            toolbarTitle.setTypeface(typeFace);\r\n\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>If anyone has an issue of getting multiple toolbar title (one default and one that you set ) for xml:</p>\n\n<pre><code>  &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/app_name\"\n                android:layout_gravity=\"left\"\n                android:id=\"@+id/toolbar_title\"\n                android:textSize=\"20sp\"/&gt;\n\n        &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>then do this:</p>\n\n<pre><code>        getSupportActionBar().setTitle(null);//Set the default to null\n        typeFace= Typeface.createFromAsset(getAssets(), \"fonts/Raleway-Light.ttf\");\n        toolbarTitle = (TextView) toolbar.findViewById(R.id.toolbar_title);\n        toolbarTitle.setTypeface(typeFace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6705531,"reputation":411,"user_id":8224142,"display_name":"sirvan alie"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1555571390,"creation_date":1509908136,"answer_id":47125348,"question_id":32398104,"body_markdown":"You can create **fonts** folder under res directory in last version Android studio 3 .After this you must be define custom style in **styles**, and after this , you must be use **titleTextAppearance** in toolbar to style you are defined.\r\n\r\n**Steps** like below.\r\n\r\n**1.** Create fonts directory : **res** &gt; **Android Resource Directory** &gt; Resource type : **fonts**, and click on **Ok** to create fonts directory(Android studio 3).\r\n\r\n\r\n2. Open **styles.xml** and make custom style like below \r\n\r\n        &lt;style name=&quot;**TextAppearance.TabsFont**&quot; parent=&quot;**android:TextAppearance**&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;font/rmedium&lt;/item&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\n3.Now open layout and add **app:titleTextAppearance=&quot;@style/TextAppearance.TabsFont&quot;** to Toolbar tag, like below.\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n\r\n        android:id=&quot;@+id/toolbarMain&quot;\r\n        app:title=&quot;@string/time_amp_date&quot;\r\n        app:titleTextAppearance=&quot;@style/TextAppearance.TabsFont&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        app:elevation=&quot;2dp&quot; /&gt;\r\n\r\nThat&#39;s **DONE**. Now if you running app, you can see font set to your toolbar.\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>You can create <strong>fonts</strong> folder under res directory in last version Android studio 3 .After this you must be define custom style in <strong>styles</strong>, and after this , you must be use <strong>titleTextAppearance</strong> in toolbar to style you are defined.</p>\n\n<p><strong>Steps</strong> like below.</p>\n\n<p><strong>1.</strong> Create fonts directory : <strong>res</strong> > <strong>Android Resource Directory</strong> > Resource type : <strong>fonts</strong>, and click on <strong>Ok</strong> to create fonts directory(Android studio 3).</p>\n\n<ol start=\"2\">\n<li><p>Open <strong>styles.xml</strong> and make custom style like below </p>\n\n<pre><code>&lt;style name=\"**TextAppearance.TabsFont**\" parent=\"**android:TextAppearance**\"&gt;\n    &lt;item name=\"android:fontFamily\"&gt;font/rmedium&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;18sp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre></li>\n</ol>\n\n<p>3.Now open layout and add <strong>app:titleTextAppearance=\"@style/TextAppearance.TabsFont\"</strong> to Toolbar tag, like below.</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n\n    android:id=\"@+id/toolbarMain\"\n    app:title=\"@string/time_amp_date\"\n    app:titleTextAppearance=\"@style/TextAppearance.TabsFont\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"@color/colorPrimary\"\n    android:theme=\"@style/AppTheme\"\n    app:elevation=\"2dp\" /&gt;\n</code></pre>\n\n<p>That's <strong>DONE</strong>. Now if you running app, you can see font set to your toolbar.</p>\n"},{"tags":[],"owner":{"account_id":358299,"reputation":2393,"user_id":698984,"accept_rate":86,"display_name":"kashlo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512747089,"creation_date":1512747089,"answer_id":47717406,"question_id":32398104,"body_markdown":"If you are using google fonts (ie. Open Sans) you can add TextView as a child of your Toolbar like this\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/app_name&quot;\r\n                    android:fontFamily=&quot;@font/open_sans&quot;/&gt;\r\n    \r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nand then just set fontFamily property for your TextView in Attributes menu (More Fonts option at the end of the dropdown list)\r\n\r\n    android:fontFamily=&quot;@font/open_sans","title":"How to set a custom font to the title in toolbar android","body":"<p>If you are using google fonts (ie. Open Sans) you can add TextView as a child of your Toolbar like this</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/app_name\"\n                android:fontFamily=\"@font/open_sans\"/&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>and then just set fontFamily property for your TextView in Attributes menu (More Fonts option at the end of the dropdown list)</p>\n\n<pre><code>android:fontFamily=\"@font/open_sans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349272,"reputation":1621,"user_id":4928861,"display_name":"Nikhil Jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514959051,"creation_date":1514959051,"answer_id":48071943,"question_id":32398104,"body_markdown":"Just add textapperance in your toolbar xml no need to custumization:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@color/colorPrimary&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:minHeight=&quot;?attr/actionBarSize&quot;\r\n    **app:titleTextAppearance=&quot;@font/montserrat_regular&quot;**// apply your font\r\n    app:titleTextColor=&quot;@android:color/white&quot; /&gt;","title":"How to set a custom font to the title in toolbar android","body":"<p>Just add textapperance in your toolbar xml no need to custumization:-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.Toolbar xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"@color/colorPrimary\"\nandroid:gravity=\"center\"\nandroid:minHeight=\"?attr/actionBarSize\"\n**app:titleTextAppearance=\"@font/montserrat_regular\"**// apply your font\napp:titleTextColor=\"@android:color/white\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7467954,"reputation":371,"user_id":5676788,"display_name":"Pritam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515144972,"creation_date":1515144972,"answer_id":48110785,"question_id":32398104,"body_markdown":" You can Use   Custom font  of toolbar  programmatically  Like this \r\n\r\n  1) first Create sub dir fonts  in asset folder \r\n\r\n  2)   Add your font files in the fonts folder.\r\n \r\n      toolbar.setTitle(&quot;Welcome&quot;);\r\n            Typeface fromAsset  = Typeface.createFromAsset(getAssets(),&quot;fonts/OpenSans-Light.ttf&quot;);\r\n            ((TextView)toolbar.getChildAt(1)).setTypeface(fromAsset); ","title":"How to set a custom font to the title in toolbar android","body":"<p>You can Use   Custom font  of toolbar  programmatically  Like this </p>\n\n<p>1) first Create sub dir fonts  in asset folder </p>\n\n<p>2)   Add your font files in the fonts folder.</p>\n\n<pre><code>  toolbar.setTitle(\"Welcome\");\n        Typeface fromAsset  = Typeface.createFromAsset(getAssets(),\"fonts/OpenSans-Light.ttf\");\n        ((TextView)toolbar.getChildAt(1)).setTypeface(fromAsset); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7821806,"reputation":827,"user_id":5914754,"display_name":"Sudhir Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515750135,"creation_date":1515750135,"answer_id":48223422,"question_id":32398104,"body_markdown":"1st create \r\n\r\n      &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:titleTextAppearance=&quot;@style/DancingWhite&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                &gt;\r\n                \r\n        \r\n     &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Toolbar Title&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:id=&quot;@+id/toolbar_title&quot; /&gt;\r\n\r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n\r\n2nd \r\n\r\nyour activity you can access the title like so:\r\n\r\n     Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n     TextView mTitle = (TextView) \r\n     toolbar.findViewById(R.id.toolbar_title);\r\n\r\n     Typeface font = Typeface.createFromAsset(getAssets(), &quot;Mukta- Regular.ttf&quot;);\r\n\r\n      mTitle.setTypeface(font);\r\n\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>1st create </p>\n\n<pre><code>  &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:titleTextAppearance=\"@style/DancingWhite\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n            &gt;\n\n\n &lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Toolbar Title\"\n    android:layout_gravity=\"center\"\n    android:id=\"@+id/toolbar_title\" /&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>2nd </p>\n\n<p>your activity you can access the title like so:</p>\n\n<pre><code> Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n TextView mTitle = (TextView) \n toolbar.findViewById(R.id.toolbar_title);\n\n Typeface font = Typeface.createFromAsset(getAssets(), \"Mukta- Regular.ttf\");\n\n  mTitle.setTypeface(font);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761989,"reputation":523,"user_id":2378694,"display_name":"ahaisting"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1525963612,"creation_date":1525963283,"answer_id":50275543,"question_id":32398104,"body_markdown":"## You can do this using just themes:\r\n[I wrote an article outlining the full solution.][2] Here are the basics:\r\n### 1) Define a theme in `styles.xml`:\r\n\r\n    &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/fancy-font&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n### 2) Set that theme in your `Toolbar`s layout:\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;/&gt;\r\n\r\n### This assumes that you have a `.ttf` file stored in `res/font`:\r\n\r\n[![Resourced directory with font][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1zBV8.png\r\n  [2]: https://medium.com/@ahaisting/how-to-change-the-toolbar-font-on-android-b1ba87e7e29d","title":"How to set a custom font to the title in toolbar android","body":"<h2>You can do this using just themes:</h2>\n\n<p><a href=\"https://medium.com/@ahaisting/how-to-change-the-toolbar-font-on-android-b1ba87e7e29d\" rel=\"noreferrer\">I wrote an article outlining the full solution.</a> Here are the basics:</p>\n\n<h3>1) Define a theme in <code>styles.xml</code>:</h3>\n\n<pre><code>&lt;style name=\"ToolbarTheme\" parent=\"ThemeOverlay.AppCompat.Light\"&gt;\n    &lt;item name=\"android:fontFamily\"&gt;@font/fancy-font&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<h3>2) Set that theme in your <code>Toolbar</code>s layout:</h3>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"@color/colorPrimary\"\n    android:theme=\"@style/ToolbarTheme\"/&gt;\n</code></pre>\n\n<h3>This assumes that you have a <code>.ttf</code> file stored in <code>res/font</code>:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/1zBV8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1zBV8.png\" alt=\"Resourced directory with font\"></a></p>\n"},{"tags":[],"owner":{"account_id":10120648,"reputation":317,"user_id":7477675,"display_name":"anshajkhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527435828,"creation_date":1527435828,"answer_id":50553823,"question_id":32398104,"body_markdown":"I searched for this question as well, and this was one of the first answers that came up. I&#39;ll add my solution since the one given here can be counted as a bit outdated (keep in mind it would work nonetheless).\r\n\r\nSince Android now supports custom fonts, there&#39;s no reason to assign fonts in Java, it can be done while making the XML file itself.\r\n\r\nFirst, in your layout file, add a custom Toolbar (you can set the text size here itself)\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar_top&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/primary&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/signup&quot;\r\n                android:textSize=&quot;22sp&quot; /&gt;\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nThen, go to the design tab of your XML file, and select the text on the toolbar.\r\n\r\n\r\n[![Step 1][1]][1]\r\n\r\nSelect the option of fontFamily and select the font you want under the given options. If it is not given, you can search for more fonts.\r\n\r\n\r\n[![Step 2][2]][2]\r\n\r\nSearch for the font you want and select it. Your font gets changed.\r\n\r\n\r\n[![Step 3][3]][3]\r\n\r\nYour XML file now will reflect the font you added, there will be an attribute named `android:fontFamily`\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar_top&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/primary&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/roboto_slab&quot;\r\n                android:text=&quot;@string/signup&quot;\r\n                android:textColor=&quot;@color/secondaryBackground&quot;\r\n                android:textSize=&quot;22sp&quot; /&gt;\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nHope this helped.\r\n\r\n  [1]: https://i.stack.imgur.com/6rnbl.jpg\r\n  [2]: https://i.stack.imgur.com/ytU4m.jpg\r\n  [3]: https://i.stack.imgur.com/1BrbW.jpg","title":"How to set a custom font to the title in toolbar android","body":"<p>I searched for this question as well, and this was one of the first answers that came up. I'll add my solution since the one given here can be counted as a bit outdated (keep in mind it would work nonetheless).</p>\n\n<p>Since Android now supports custom fonts, there's no reason to assign fonts in Java, it can be done while making the XML file itself.</p>\n\n<p>First, in your layout file, add a custom Toolbar (you can set the text size here itself)</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar_top\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:background=\"@color/primary\"&gt;\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@string/signup\"\n            android:textSize=\"22sp\" /&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>Then, go to the design tab of your XML file, and select the text on the toolbar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6rnbl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rnbl.jpg\" alt=\"Step 1\"></a></p>\n\n<p>Select the option of fontFamily and select the font you want under the given options. If it is not given, you can search for more fonts.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ytU4m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ytU4m.jpg\" alt=\"Step 2\"></a></p>\n\n<p>Search for the font you want and select it. Your font gets changed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1BrbW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BrbW.jpg\" alt=\"Step 3\"></a></p>\n\n<p>Your XML file now will reflect the font you added, there will be an attribute named <code>android:fontFamily</code></p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar_top\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:background=\"@color/primary\"&gt;\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/roboto_slab\"\n            android:text=\"@string/signup\"\n            android:textColor=\"@color/secondaryBackground\"\n            android:textSize=\"22sp\" /&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>Hope this helped.</p>\n"},{"comments":[{"owner":{"account_id":14940437,"reputation":475,"user_id":10787285,"display_name":"Pooja"},"score":1,"creation_date":1572639967,"post_id":53763332,"comment_id":103634102,"body_markdown":"Easy solution! Thanks","body":"Easy solution! Thanks"}],"tags":[],"owner":{"account_id":8152269,"reputation":3283,"user_id":6138892,"accept_rate":40,"display_name":"Rahul"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544708922,"creation_date":1544708922,"answer_id":53763332,"question_id":32398104,"body_markdown":"**No need to use external textview if you only want to change the font of toolbar title** because `android.support.v7.appcompat 24.2` `Toolbar` has method `setTitleTextAppearance` and you can set its font like below.\r\n\r\ncreate a new style in styles.xml\r\n\r\n    &lt;style name=&quot;CamptonBookTextAppearance&quot;&gt;\r\n         &lt;item name=&quot;android:fontFamily&quot;&gt;@font/campton_book&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand use it\r\n\r\n    mToolbar.setTitleTextAppearance(this, R.style.CamptonBookTextAppearance);","title":"How to set a custom font to the title in toolbar android","body":"<p><strong>No need to use external textview if you only want to change the font of toolbar title</strong> because <code>android.support.v7.appcompat 24.2</code> <code>Toolbar</code> has method <code>setTitleTextAppearance</code> and you can set its font like below.</p>\n\n<p>create a new style in styles.xml</p>\n\n<pre><code>&lt;style name=\"CamptonBookTextAppearance\"&gt;\n     &lt;item name=\"android:fontFamily\"&gt;@font/campton_book&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>mToolbar.setTitleTextAppearance(this, R.style.CamptonBookTextAppearance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14747355,"reputation":69,"user_id":10650329,"display_name":"Mukesh Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545740722,"creation_date":1545740722,"answer_id":53922377,"question_id":32398104,"body_markdown":"just download what font you want to show in title and move it under res-&gt;font folder and create a file over there fontfamily\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;font-family xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;font\r\n        android:fontStyle=&quot;normal&quot;\r\n        android:fontWeight=&quot;400&quot;\r\n        android:font=&quot;@font/futura_book&quot; /&gt;\r\n\r\n\r\n    &lt;font\r\n        android:fontStyle=&quot;normal&quot;\r\n        android:fontWeight=&quot;400&quot;\r\n        android:font=&quot;@font/your font file name&quot; /&gt;\r\n\r\n\r\n \r\n\r\n    &lt;/font-family&gt;\r\n\r\n\r\n now add    fontfamily=&quot;your downloaded font family name like a.ttf&quot;  in your xml file thats it\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>just download what font you want to show in title and move it under res->font folder and create a file over there fontfamily</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;font-family xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;font\n    android:fontStyle=\"normal\"\n    android:fontWeight=\"400\"\n    android:font=\"@font/futura_book\" /&gt;\n\n\n&lt;font\n    android:fontStyle=\"normal\"\n    android:fontWeight=\"400\"\n    android:font=\"@font/your font file name\" /&gt;\n\n\n\n\n&lt;/font-family&gt;\n</code></pre>\n\n<p>now add    fontfamily=\"your downloaded font family name like a.ttf\"  in your xml file thats it</p>\n"},{"tags":[],"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557911737,"creation_date":1557911737,"answer_id":56145670,"question_id":32398104,"body_markdown":"I made a binding adapter for this purpose.\r\n\r\n```\r\npublic class FontBindingAdapter\r\n{\r\n\t@BindingAdapter({&quot;font&quot;})\r\n\tpublic static void setFont(Toolbar toolbar, String font)\r\n\t{\r\n\t\tfor (int i = 0; i &lt; toolbar.getChildCount(); i++) {\r\n\t\t\tif (toolbar.getChildAt(i) instanceof AppCompatTextView) {\r\n\t\t\t\tUIUtil.setFont(font, (AppCompatTextView) toolbar.getChildAt(i));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThen use it like:\r\n```\r\n            &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@color/green&quot;\r\n                app:font=&quot;@{`LatoRegular`}&quot;\r\n                app:title=&quot;@string/setup_favorites&quot;\r\n                app:titleTextColor=&quot;@color/white&quot;/&gt;\r\n\r\n```","title":"How to set a custom font to the title in toolbar android","body":"<p>I made a binding adapter for this purpose.</p>\n\n<pre><code>public class FontBindingAdapter\n{\n    @BindingAdapter({\"font\"})\n    public static void setFont(Toolbar toolbar, String font)\n    {\n        for (int i = 0; i &lt; toolbar.getChildCount(); i++) {\n            if (toolbar.getChildAt(i) instanceof AppCompatTextView) {\n                UIUtil.setFont(font, (AppCompatTextView) toolbar.getChildAt(i));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then use it like:</p>\n\n<pre><code>            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"@color/green\"\n                app:font=\"@{`LatoRegular`}\"\n                app:title=\"@string/setup_favorites\"\n                app:titleTextColor=\"@color/white\"/&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6675144,"reputation":994,"user_id":5163725,"accept_rate":33,"display_name":"Minion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560799527,"creation_date":1560799527,"answer_id":56637698,"question_id":32398104,"body_markdown":"Download the custom font and keep it in font folder inside the res folder.\r\nAs Toolbar is a viewGroup we can place the textView inside the Toolbar and use as follow\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Toolbar&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:fontFamily=&quot;@font/roboto_regular&quot; &lt;--- custom font\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textAppearance=&quot;@style/Base.TextAppearance.Widget.AppCompat.Toolbar.Title&quot;\r\n                /&gt;\r\n\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n\r\n    &lt;/android.support.design.widget.AppBarLayout&gt;\r\n\r\nThis method is also used to make font **BOLD**.","title":"How to set a custom font to the title in toolbar android","body":"<p>Download the custom font and keep it in font folder inside the res folder.\nAs Toolbar is a viewGroup we can place the textView inside the Toolbar and use as follow</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:elevation=\"0dp\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        &gt;\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Toolbar\"\n            android:gravity=\"center\"\n            android:fontFamily=\"@font/roboto_regular\" &lt;--- custom font\n            android:textColor=\"@color/white\"\n            android:textStyle=\"bold\"\n            android:textAppearance=\"@style/Base.TextAppearance.Widget.AppCompat.Toolbar.Title\"\n            /&gt;\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n\n<p>This method is also used to make font <strong>BOLD</strong>.</p>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664799807,"creation_date":1596690598,"answer_id":63277206,"question_id":32398104,"body_markdown":"**Two way you can do custom font on toolbar title**\r\n\r\n**Solution : 1 [ Static Method ]**\r\n\r\n\r\n*1) Define a theme in **styles.xml**:*\r\n\r\n      &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;&gt;\r\n          &lt;item name=&quot;android:fontFamily&quot;&gt;@font/ubuntu&lt;/item&gt;\r\n      &lt;/style&gt;\r\n\r\n*2) Set that theme in your **Toolbar&#39;s** layout:*\r\n\r\n       &lt;android.support.v7.widget.Toolbar\r\n         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n         android:id=&quot;@+id/toolbar&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;?attr/actionBarSize&quot;\r\n         android:background=&quot;@color/colorPrimary&quot;\r\n         android:theme=&quot;@style/ToolbarTheme&quot;/&gt;\r\n\r\n\r\n*Solution 2 : [ Dynamic ]*\r\n\r\n**Kotlin** \r\n       \r\n        fun Toolbar.titleFont(){\r\n        for (i in 0 until childCount) {\r\n            val view = getChildAt(i)\r\n            if (view is TextView &amp;&amp; view.text == title) {\r\n                view.typeface = Typeface.createFromAsset(context.assets,&quot;fonts/customfont.ttf&quot;)\r\n                break\r\n            }\r\n        }\r\n    } \r\n\r\nthen use it like\r\n\r\n       toolBar.titleFont()","title":"How to set a custom font to the title in toolbar android","body":"<p><strong>Two way you can do custom font on toolbar title</strong></p>\n<p><strong>Solution : 1 [ Static Method ]</strong></p>\n<p><em>1) Define a theme in <strong>styles.xml</strong>:</em></p>\n<pre><code>  &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;&gt;\n      &lt;item name=&quot;android:fontFamily&quot;&gt;@font/ubuntu&lt;/item&gt;\n  &lt;/style&gt;\n</code></pre>\n<p><em>2) Set that theme in your <strong>Toolbar's</strong> layout:</em></p>\n<pre><code>   &lt;android.support.v7.widget.Toolbar\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     android:id=&quot;@+id/toolbar&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;?attr/actionBarSize&quot;\n     android:background=&quot;@color/colorPrimary&quot;\n     android:theme=&quot;@style/ToolbarTheme&quot;/&gt;\n</code></pre>\n<p><em>Solution 2 : [ Dynamic ]</em></p>\n<p><strong>Kotlin</strong></p>\n<pre><code>    fun Toolbar.titleFont(){\n    for (i in 0 until childCount) {\n        val view = getChildAt(i)\n        if (view is TextView &amp;&amp; view.text == title) {\n            view.typeface = Typeface.createFromAsset(context.assets,&quot;fonts/customfont.ttf&quot;)\n            break\n        }\n    }\n} \n</code></pre>\n<p>then use it like</p>\n<pre><code>   toolBar.titleFont()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17282105,"reputation":19,"user_id":12515415,"display_name":"Firaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605961366,"creation_date":1605961366,"answer_id":64942986,"question_id":32398104,"body_markdown":"I just add my fonts to the font folder I made in ```res``` along with the other fonts, then I made a custom XML file for the bar.\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:gravity=&quot;center&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/action_bar_image&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:fontFamily=&quot;@font/yourfont&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;&lt;/LinearLayout&gt;\r\n\r\nThen, I added this to my ```MainActivity```\r\n\r\n    getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\r\n        getSupportActionBar().setDisplayShowCustomEnabled(true);\r\n        getSupportActionBar().setCustomView(R.layout.your_xml_file);\r\n\r\nBoth OTF and TTF works","title":"How to set a custom font to the title in toolbar android","body":"<p>I just add my fonts to the font folder I made in <code>res</code> along with the other fonts, then I made a custom XML file for the bar.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:gravity=&quot;center&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/action_bar_image&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/app_name&quot;\n    android:textSize=&quot;30sp&quot;\n    android:fontFamily=&quot;@font/yourfont&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;/&gt;&lt;/LinearLayout&gt;\n</code></pre>\n<p>Then, I added this to my <code>MainActivity</code></p>\n<pre><code>getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\n    getSupportActionBar().setDisplayShowCustomEnabled(true);\n    getSupportActionBar().setCustomView(R.layout.your_xml_file);\n</code></pre>\n<p>Both OTF and TTF works</p>\n"},{"tags":[],"owner":{"account_id":13786691,"reputation":825,"user_id":9950391,"display_name":"BVB09"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610148067,"creation_date":1610148067,"answer_id":65637692,"question_id":32398104,"body_markdown":"The best answer really is the best. If you want to increase (adjust the font size) and change the colour then update your style like this:\r\n\r\n    &lt;style name=&quot;NexaBoldToolbar&quot;&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nexabold&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/fullWhite&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How to set a custom font to the title in toolbar android","body":"<p>The best answer really is the best. If you want to increase (adjust the font size) and change the colour then update your style like this:</p>\n<pre><code>&lt;style name=&quot;NexaBoldToolbar&quot;&gt;\n    &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nexabold&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/fullWhite&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28362157,"reputation":11,"user_id":21692001,"display_name":"Veer J Kamdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683459304,"creation_date":1683459304,"answer_id":76193667,"question_id":32398104,"body_markdown":"I suggest using textview inside the toolbar as it would give better customization options as compared to using the title property.\r\n\r\n**Like shown over here:**\r\n\r\n     &lt;com.google.android.material.appbar.MaterialToolbar\r\n        android:id=&quot;@+id/materialToolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;top&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;?attr/actionBarTheme&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_wrapBehaviorInParent=&quot;included&quot;\r\n        app:menu=&quot;@menu/top_app_bar&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/inter_bold&quot;\r\n            android:text=&quot;Good day, Megha J Kamdar&quot;/&gt;\r\n    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>I suggest using textview inside the toolbar as it would give better customization options as compared to using the title property.</p>\n<p><strong>Like shown over here:</strong></p>\n<pre><code> &lt;com.google.android.material.appbar.MaterialToolbar\n    android:id=&quot;@+id/materialToolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;top&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;?attr/actionBarTheme&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_wrapBehaviorInParent=&quot;included&quot;\n    app:menu=&quot;@menu/top_app_bar&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/inter_bold&quot;\n        android:text=&quot;Good day, Megha J Kamdar&quot;/&gt;\n&lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n</code></pre>\n"}],"owner":{"account_id":6875229,"reputation":779,"user_id":5283893,"accept_rate":50,"display_name":"anupam x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67741,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":32398137,"answer_count":24,"score":54,"last_activity_date":1683459304,"creation_date":1441369748,"question_id":32398104,"body_markdown":"I am doing this:\r\n\r\n    toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\r\n    setSupportActionBar(toolbar);\r\n    setTitle(&quot;hello&quot;);\r\n\r\nI want to set a custom font for the text here in the title &quot;hello&quot;. How to do that?","title":"How to set a custom font to the title in toolbar android","body":"<p>I am doing this:</p>\n\n<pre><code>toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\nsetSupportActionBar(toolbar);\nsetTitle(\"hello\");\n</code></pre>\n\n<p>I want to set a custom font for the text here in the title \"hello\". How to do that?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-deep-link"],"answers":[{"comments":[{"owner":{"account_id":14226746,"reputation":87,"user_id":10277217,"display_name":"George Samuel"},"score":0,"creation_date":1640851206,"post_id":70514427,"comment_id":124673839,"body_markdown":"Why need to add &lt;data android:scheme=&quot;http&quot; /&gt;? Why need to separate?","body":"Why need to add &lt;data android:scheme=&quot;http&quot; /&gt;? Why need to separate?"},{"owner":{"account_id":14226746,"reputation":87,"user_id":10277217,"display_name":"George Samuel"},"score":0,"creation_date":1640857504,"post_id":70514427,"comment_id":124675563,"body_markdown":"It&#39;s also not working for me","body":"It&#39;s also not working for me"},{"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"score":0,"creation_date":1640931115,"post_id":70514427,"comment_id":124692989,"body_markdown":"@GeorgeSamuel I just corrected my answer. Please see my last solution. Hope it is useful.","body":"@GeorgeSamuel I just corrected my answer. Please see my last solution. Hope it is useful."},{"owner":{"account_id":14226746,"reputation":87,"user_id":10277217,"display_name":"George Samuel"},"score":0,"creation_date":1641121479,"post_id":70514427,"comment_id":124722384,"body_markdown":"Thank you for your help, the code successfully worked when I pushed the code to internal testing on google play console, then download the app, it worked fine.\nto run the code on release mode isn&#39;t enough to do the correct behavior.","body":"Thank you for your help, the code successfully worked when I pushed the code to internal testing on google play console, then download the app, it worked fine. to run the code on release mode isn&#39;t enough to do the correct behavior."}],"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640930966,"creation_date":1640743427,"answer_id":70514427,"question_id":70494348,"body_markdown":"I think need to add scheme separately\r\n```\r\n&lt;intent-filter\r\n\tandroid:autoVerify=&quot;true&quot;&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t\r\n\t&lt;data android:scheme=&quot;http&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;https&quot; /&gt;\r\n\r\n\t&lt;data\r\n\t\tandroid:host=&quot;yourdomain.com&quot;\r\n\t\tandroid:pathPrefix=&quot;/prefixpath/&quot; /&gt;\r\n\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nIf the above steps don&#39;t work, please try changing the name of the website in the URL given below, which will show you the SHA256 key google has been cached.\r\n\r\nhttps://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://www.your-website-name.com&amp;relation=delegate_permission/common.handle_all_urls\r\n\r\nSee this https://stackoverflow.com/questions/55510142/how-to-force-google-to-refetch-well-known-assetlinks-json-in-order-to-fix-my-an","title":"Android Deep Linking - Verify App links with website","body":"<p>I think need to add scheme separately</p>\n<pre><code>&lt;intent-filter\n    android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    \n    &lt;data android:scheme=&quot;http&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot; /&gt;\n\n    &lt;data\n        android:host=&quot;yourdomain.com&quot;\n        android:pathPrefix=&quot;/prefixpath/&quot; /&gt;\n\n&lt;/intent-filter&gt;\n</code></pre>\n<p>If the above steps don't work, please try changing the name of the website in the URL given below, which will show you the SHA256 key google has been cached.</p>\n<p><a href=\"https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://www.your-website-name.com&amp;relation=delegate_permission/common.handle_all_urls\" rel=\"nofollow noreferrer\">https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://www.your-website-name.com&amp;relation=delegate_permission/common.handle_all_urls</a></p>\n<p>See this <a href=\"https://stackoverflow.com/questions/55510142/how-to-force-google-to-refetch-well-known-assetlinks-json-in-order-to-fix-my-an\">How to force Google to refetch .well-known/assetlinks.json in order to fix my Android App Link implementation</a></p>\n"}],"owner":{"account_id":14226746,"reputation":87,"user_id":10277217,"display_name":"George Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70514427,"answer_count":1,"score":0,"last_activity_date":1683458250,"creation_date":1640601235,"question_id":70494348,"body_markdown":"I am trying to enable deep linking with my app &lt;br/&gt;\r\nI need when I scan the QR from outside my app like using **QR Scanner** app or using QR scanner in the system, and when I choose the web browser and search with the link, it directs to my app &lt;br/&gt;\r\nI added the code to manifest like this image: &lt;br/&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand when I searched with https://domain.ex/.well-known/assetlinks.json &lt;br/&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand searched with https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://domain.example&amp;relation=delegate_permission/common.handle_all_urls &lt;br/&gt;\r\n\r\n[![enter image description here][3]][3]\r\n\r\nwhat is the error I had made? \r\n\r\nI am running one release mode and SHA256 is from google play console.\r\n\r\n**expected behaviour is:** when I search with https://domain.example/pathPrefix it direct to my app\r\n\r\n  [1]: https://i.stack.imgur.com/niseE.png\r\n  [2]: https://i.stack.imgur.com/Fn9MO.png\r\n  [3]: https://i.stack.imgur.com/MtrKL.png","title":"Android Deep Linking - Verify App links with website","body":"<p>I am trying to enable deep linking with my app <br/>\nI need when I scan the QR from outside my app like using <strong>QR Scanner</strong> app or using QR scanner in the system, and when I choose the web browser and search with the link, it directs to my app <br/>\nI added the code to manifest like this image: <br/></p>\n<p><a href=\"https://i.stack.imgur.com/niseE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niseE.png\" alt=\"enter image description here\" /></a></p>\n<p>and when I searched with <a href=\"https://domain.ex/.well-known/assetlinks.json\" rel=\"nofollow noreferrer\">https://domain.ex/.well-known/assetlinks.json</a> <br/></p>\n<p><a href=\"https://i.stack.imgur.com/Fn9MO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fn9MO.png\" alt=\"enter image description here\" /></a></p>\n<p>and searched with <a href=\"https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://domain.example&amp;relation=delegate_permission/common.handle_all_urls\" rel=\"nofollow noreferrer\">https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://domain.example&amp;relation=delegate_permission/common.handle_all_urls</a> <br/></p>\n<p><a href=\"https://i.stack.imgur.com/MtrKL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MtrKL.png\" alt=\"enter image description here\" /></a></p>\n<p>what is the error I had made?</p>\n<p>I am running one release mode and SHA256 is from google play console.</p>\n<p><strong>expected behaviour is:</strong> when I search with <a href=\"https://domain.example/pathPrefix\" rel=\"nofollow noreferrer\">https://domain.example/pathPrefix</a> it direct to my app</p>\n"},{"tags":["java","logging","configuration","open-liberty"],"owner":{"account_id":28531547,"reputation":1,"user_id":21838882,"display_name":"Elie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683456522,"answer_count":0,"score":0,"last_activity_date":1683456937,"creation_date":1683413041,"question_id":76191504,"body_markdown":"I use SLF4J with Logback to log events in my application which is deployed on OpenLiberty. The current log output:\r\n\r\n```\r\n[INFO] [07/05/2023 00:07:53:743 CEST] 0000005a SystemOut     O   [ERROR] o.p.c.p.c.TextArrayConverter - ...\r\n```\r\n\r\nBecause of that, all logs appears at the INFO level :\r\n\r\n```\r\n[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [ERROR] ...\r\n[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [INFO] ...\r\n[INFO] [07/05/2023 00:37:53:487 CEST] 000000ab SystemOut     O   [INFO] ...\r\n```\r\n\r\nHowever, I want the output to look like this :\r\n\r\n```\r\n[ERROR] o.p.c.p.c.TextArrayConverter - ...\r\n```\r\n\r\n**Which configuration should I use to have the desired output ? or at least show the correct severity in server logs ?**\r\n\r\nI have no logging configuration in server.xml.\r\n\r\n*bootstrap.properties*:\r\n\r\n```\r\ncom.ibm.ws.logging.stackTraceSingleEntry=true\r\ncom.ibm.ws.logging.message.log.level=OFF\r\ncom.ibm.ws.logging.message.format=json\r\ncom.ibm.ws.logging.message.source=\r\ncom.ibm.ws.logging.trace.log.level=OFF\r\ncom.ibm.ws.logging.console.format=TBASIC\r\ncom.ibm.ws.logging.console.log.level=INFO\r\n```\r\n\r\n*logback.xml*:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;Pattern&gt;\r\n        [%level] %C{1} - %msg%n\r\n      &lt;/Pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;info&quot;&gt;\r\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI tried different bootstrap configurations but nothing worked. For exemple, I tried to output logs in JSON format by adding to the *bootstrap.properties* file :\r\n```\r\ncom.ibm.ws.logging.apps.write.json=true\r\ncom.ibm.ws.logging.console.format=JSON\r\n```\r\n\r\nThe output was :\r\n```\r\n{&quot;message&quot;:&quot;[ERROR] o.p.c.p.c.TextArrayConverter - ...&quot;,&quot;level&quot;:&quot;SystemOut&quot;,...}\r\n```\r\n\r\nThe level is not set correctly.\r\n\r\n**EDIT:**\r\n\r\nAn answer was provided in this post: [Logback JUL appender][1].\r\n\r\nI did a similar thing by changing the SLF4J binding from Logback to JUL since OpenLiberty uses JUL.\r\nUsing JUL with SLF4J is described [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72472129/logback-jul-appender\r\n  [2]: https://howtodoinjava.com/logback/setting-up-slf4j/","title":"OpenLiberty - How to separate application logs from server logs and set the correct Log level","body":"<p>I use SLF4J with Logback to log events in my application which is deployed on OpenLiberty. The current log output:</p>\n<pre><code>[INFO] [07/05/2023 00:07:53:743 CEST] 0000005a SystemOut     O   [ERROR] o.p.c.p.c.TextArrayConverter - ...\n</code></pre>\n<p>Because of that, all logs appears at the INFO level :</p>\n<pre><code>[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [ERROR] ...\n[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [INFO] ...\n[INFO] [07/05/2023 00:37:53:487 CEST] 000000ab SystemOut     O   [INFO] ...\n</code></pre>\n<p>However, I want the output to look like this :</p>\n<pre><code>[ERROR] o.p.c.p.c.TextArrayConverter - ...\n</code></pre>\n<p><strong>Which configuration should I use to have the desired output ? or at least show the correct severity in server logs ?</strong></p>\n<p>I have no logging configuration in server.xml.</p>\n<p><em>bootstrap.properties</em>:</p>\n<pre><code>com.ibm.ws.logging.stackTraceSingleEntry=true\ncom.ibm.ws.logging.message.log.level=OFF\ncom.ibm.ws.logging.message.format=json\ncom.ibm.ws.logging.message.source=\ncom.ibm.ws.logging.trace.log.level=OFF\ncom.ibm.ws.logging.console.format=TBASIC\ncom.ibm.ws.logging.console.log.level=INFO\n</code></pre>\n<p><em>logback.xml</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;Pattern&gt;\n        [%level] %C{1} - %msg%n\n      &lt;/Pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I tried different bootstrap configurations but nothing worked. For exemple, I tried to output logs in JSON format by adding to the <em>bootstrap.properties</em> file :</p>\n<pre><code>com.ibm.ws.logging.apps.write.json=true\ncom.ibm.ws.logging.console.format=JSON\n</code></pre>\n<p>The output was :</p>\n<pre><code>{&quot;message&quot;:&quot;[ERROR] o.p.c.p.c.TextArrayConverter - ...&quot;,&quot;level&quot;:&quot;SystemOut&quot;,...}\n</code></pre>\n<p>The level is not set correctly.</p>\n<p><strong>EDIT:</strong></p>\n<p>An answer was provided in this post: <a href=\"https://stackoverflow.com/questions/72472129/logback-jul-appender\">Logback JUL appender</a>.</p>\n<p>I did a similar thing by changing the SLF4J binding from Logback to JUL since OpenLiberty uses JUL.\nUsing JUL with SLF4J is described <a href=\"https://howtodoinjava.com/logback/setting-up-slf4j/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","sap-erp","jco"],"answers":[{"tags":[],"owner":{"account_id":8767058,"reputation":41,"user_id":6555074,"display_name":"Klaus Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467793882,"creation_date":1467793882,"answer_id":38219499,"question_id":25661491,"body_markdown":"To access SAP Tables just by specifying just the table name and columns, use the RFC [RFC_READ_TABLE][1] (External access to R/3 tables via RFC)\r\n\r\n- parameter **QUERY_TABLE** - specify the table name here\r\n- (optional) parameter **ROWSKIPS** - skip the first records\r\n- (optional) parameter **ROWCOUNT** - max row count to be loaded, for performance considerations\r\n\r\n\r\n  [1]: https://www.sapdatasheet.org/abap/func/rfc_read_table.html","title":"Accessing SAP tables via JCo","body":"<p>To access SAP Tables just by specifying just the table name and columns, use the RFC <a href=\"https://www.sapdatasheet.org/abap/func/rfc_read_table.html\" rel=\"nofollow\">RFC_READ_TABLE</a> (External access to R/3 tables via RFC)</p>\n\n<ul>\n<li>parameter <strong>QUERY_TABLE</strong> - specify the table name here</li>\n<li>(optional) parameter <strong>ROWSKIPS</strong> - skip the first records</li>\n<li>(optional) parameter <strong>ROWCOUNT</strong> - max row count to be loaded, for performance considerations</li>\n</ul>\n"}],"owner":{"account_id":1475375,"reputation":1118,"user_id":1385883,"accept_rate":43,"display_name":"vr3w3c9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683455378,"creation_date":1409821860,"question_id":25661491,"body_markdown":"I&#39;m currently using SAP JCo to connect to SAP system and fetch the data from the SAP tables. I&#39;m using the internal BAPI functions to fetch the data from SAP tables. I would like to know the approach of how to fetch the data from SAP tables, by just specifying the table name and the columns from which the data should be retrieved. \r\n\r\nBelow is the code that I&#39;m using to fetch data via the BAPI functions.\r\n\r\nAny help on how to access the SAP tables by specifying just the table name and columns is much appreciated. Thanks in Advance.\r\n\r\n    JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\r\n        if(function == null)\r\n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\r\n\r\n        try\r\n        {\r\n            function.execute(destination);\r\n        }\r\n        catch(AbapException e)\r\n        {\r\n            System.out.println(e.toString());\r\n            return;\r\n        }\r\n        \r\n        JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \r\n        {\r\n           throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n        }\r\n        \r\n        JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\r\n        final FileWriter outFile = new FileWriter(&quot;D:\\\\out.csv&quot;);\r\n        \r\n        for (int i = 0; i &lt; codes.getNumRows(); i++) \r\n        {\r\n            codes.setRow(i);\r\n          \r\n        }\r\n        \r\n        \r\n        codes.firstRow();\r\n        for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \r\n        {\r\n            function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\r\n            if (function == null) \r\n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\r\n            \r\n            function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\r\n            function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\r\n            \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch (AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n\r\n            returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\r\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\r\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \r\n            {\r\n                throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n            }\r\n            \r\n            JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\r\n","title":"Accessing SAP tables via JCo","body":"<p>I'm currently using SAP JCo to connect to SAP system and fetch the data from the SAP tables. I'm using the internal BAPI functions to fetch the data from SAP tables. I would like to know the approach of how to fetch the data from SAP tables, by just specifying the table name and the columns from which the data should be retrieved.</p>\n<p>Below is the code that I'm using to fetch data via the BAPI functions.</p>\n<p>Any help on how to access the SAP tables by specifying just the table name and columns is much appreciated. Thanks in Advance.</p>\n<pre><code>JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\n    if(function == null)\n        throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\n\n    try\n    {\n        function.execute(destination);\n    }\n    catch(AbapException e)\n    {\n        System.out.println(e.toString());\n        return;\n    }\n    \n    JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n    if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \n    {\n       throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n    }\n    \n    JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\n    final FileWriter outFile = new FileWriter(&quot;D:\\\\out.csv&quot;);\n    \n    for (int i = 0; i &lt; codes.getNumRows(); i++) \n    {\n        codes.setRow(i);\n      \n    }\n    \n    \n    codes.firstRow();\n    for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \n    {\n        function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\n        if (function == null) \n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\n        \n        function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\n        function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\n        \n        try\n        {\n            function.execute(destination);\n        }\n        catch (AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n\n        returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\n               returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\n               returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \n        {\n            throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n        }\n        \n        JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683385283,"post_id":76189478,"comment_id":134360333,"body_markdown":"Please give as an actual example of an input and the expected output.","body":"Please give as an actual example of an input and the expected output."},{"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"score":0,"creation_date":1683385950,"post_id":76189478,"comment_id":134360425,"body_markdown":"input is 4.000.000$ and expected output is 4000000","body":"input is 4.000.000$ and expected output is 4000000"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1683391560,"post_id":76189478,"comment_id":134361119,"body_markdown":"@likenzy put examples in your post, and make sure they make sense: dollar amounts are generally for countries that use a &quot;decimal **point**&quot;, with thousands separated by commas, and the currency symbol would be in front, not behind, so is this for a specific locale that uses a different convention? Which one? Also, show examples of what should happen with prices that _do_ have decimal fractions? How many digits? Should it round if it&#39;s more than 2? Leave them? [Put all your details in your post](/help/how-to-ask) because parsing prices can be trivial, but almost never is.","body":"@likenzy put examples in your post, and make sure they make sense: dollar amounts are generally for countries that use a &quot;decimal <b>point</b>&quot;, with thousands separated by commas, and the currency symbol would be in front, not behind, so is this for a specific locale that uses a different convention? Which one? Also, show examples of what should happen with prices that <i>do</i> have decimal fractions? How many digits? Should it round if it&#39;s more than 2? Leave them? <a href=\"/help/how-to-ask\">Put all your details in your post</a> because parsing prices can be trivial, but almost never is."}],"answers":[{"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1683391292,"post_id":76190025,"comment_id":134361091,"body_markdown":"Remember to think about the edge cases: if the text is &quot;get 5for $20&quot; then your answer will turn that into the number 520. And of course, remember that SO has been around for a _loooong_ time and this cannot possibly be the first time this got asked, so this is almost certainly a duplicate =)","body":"Remember to think about the edge cases: if the text is &quot;get 5for $20&quot; then your answer will turn that into the number 520. And of course, remember that SO has been around for a <i>loooong</i> time and this cannot possibly be the first time this got asked, so this is almost certainly a duplicate =)"},{"owner":{"account_id":11709353,"reputation":491,"user_id":8571768,"display_name":"Sid"},"score":0,"creation_date":1683391835,"post_id":76190025,"comment_id":134361155,"body_markdown":"Yes @Mike&#39;Pomax&#39;Kamermans, just wanted to give a generalised answer, the regex can be modified as per requirement.","body":"Yes @Mike&#39;Pomax&#39;Kamermans, just wanted to give a generalised answer, the regex can be modified as per requirement."}],"tags":[],"owner":{"account_id":11709353,"reputation":491,"user_id":8571768,"display_name":"Sid"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391361,"creation_date":1683391191,"answer_id":76190025,"question_id":76189478,"body_markdown":"From selenium `WebElement.getText` method you will get the element text as it is in the DOM. Then you can perform operations on the string as per requirement. In this case, you can replace all non-numeric characters after getting the text from the element.\r\n\r\nHere is one example how you can parse the numeric value from the price string.\r\n\r\n    public static String parseNumericPrice(String price) {\r\n        return price.replaceAll(&quot;[^0-9\\\\.]&quot;, &quot;&quot;); // remove everything other than number and dot (.), modify based on your need\r\n\t}\r\n\r\n\r\nFurther if you need to get the value as double / integer you can pass the output of `parseNumericPrice` into `Double.parseDouble` or `Integer.parseInt`.\r\n\r\nExample as per your use-case:\r\n\r\n    System.out.println(parseNumber(price.getText())); // string\r\n    System.out.println(Double.parseDouble(parseNumber(price.getText()))); // as double\r\n\r\n\r\n\r\n\r\n","title":"How to filter pure number out of text string","body":"<p>From selenium <code>WebElement.getText</code> method you will get the element text as it is in the DOM. Then you can perform operations on the string as per requirement. In this case, you can replace all non-numeric characters after getting the text from the element.</p>\n<p>Here is one example how you can parse the numeric value from the price string.</p>\n<pre><code>public static String parseNumericPrice(String price) {\n    return price.replaceAll(&quot;[^0-9\\\\.]&quot;, &quot;&quot;); // remove everything other than number and dot (.), modify based on your need\n}\n</code></pre>\n<p>Further if you need to get the value as double / integer you can pass the output of <code>parseNumericPrice</code> into <code>Double.parseDouble</code> or <code>Integer.parseInt</code>.</p>\n<p>Example as per your use-case:</p>\n<pre><code>System.out.println(parseNumber(price.getText())); // string\nSystem.out.println(Double.parseDouble(parseNumber(price.getText()))); // as double\n</code></pre>\n"}],"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1683395612,"answer_count":1,"score":-1,"last_activity_date":1683455005,"creation_date":1683384042,"question_id":76189478,"body_markdown":"I want to scrape the price out of a website to compare the price between my website\r\nThe data exported out was in form $XXX.XXX and I want it in a pure number like XXXXXX.\r\nHere is my code:\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class scrape {\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;...driver\\\\chromedriver.exe&quot;);\r\n        ChromeDriver driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;...&quot;);\r\n        WebElement price = driver.findElement(By.xpath(&quot;//p[contains(@class, &#39;box-price-present&#39;)]&quot;));\r\n        System.out.println(&quot;price: &quot;+price.getText());\r\n        driver.quit();\r\n}}\r\n```\r\n\r\n\r\nThe exported data was in text form and I want it in pure number form.","title":"How to filter pure number out of text string","body":"<p>I want to scrape the price out of a website to compare the price between my website\nThe data exported out was in form $XXX.XXX and I want it in a pure number like XXXXXX.\nHere is my code:</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class scrape {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;...driver\\\\chromedriver.exe&quot;);\n        ChromeDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;...&quot;);\n        WebElement price = driver.findElement(By.xpath(&quot;//p[contains(@class, 'box-price-present')]&quot;));\n        System.out.println(&quot;price: &quot;+price.getText());\n        driver.quit();\n}}\n</code></pre>\n<p>The exported data was in text form and I want it in pure number form.</p>\n"},{"tags":["java","cmd","cd"],"comments":[{"owner":{"account_id":3124049,"reputation":9478,"user_id":2643274,"accept_rate":91,"display_name":"Steam"},"score":0,"creation_date":1414997565,"post_id":15464111,"comment_id":42010248,"body_markdown":"There is some code here - http://viralpatel.net/blogs/how-to-execute-command-prompt-command-view-output-java/","body":"There is some code here - <a href=\"http://viralpatel.net/blogs/how-to-execute-command-prompt-command-view-output-java/\" rel=\"nofollow noreferrer\">viralpatel.net/blogs/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1091752,"reputation":1946,"user_id":1086247,"accept_rate":40,"display_name":"Reham"},"score":0,"creation_date":1363542829,"post_id":15464122,"comment_id":21882812,"body_markdown":"where should i add this line ,do you mean \nRuntime.getRuntime().exec(&quot;cd what?&quot;);\ncan you give me an example for the cd command.","body":"where should i add this line ,do you mean  Runtime.getRuntime().exec(&quot;cd what?&quot;); can you give me an example for the cd command."},{"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"score":0,"creation_date":1363542926,"post_id":15464122,"comment_id":21882854,"body_markdown":"Edited my answer to hopefully add some clarity.","body":"Edited my answer to hopefully add some clarity."},{"owner":{"account_id":1091752,"reputation":1946,"user_id":1086247,"accept_rate":40,"display_name":"Reham"},"score":0,"creation_date":1363543415,"post_id":15464122,"comment_id":21883016,"body_markdown":"thank you ,,but i&#39;m getting \njava.io.IOException: Cannot run program &quot;cd&quot;: CreateProcess error=2, The system cannot find the file specified\n\tat java.lang.ProcessBuilder.start(Unknown Source)","body":"thank you ,,but i&#39;m getting  java.io.IOException: Cannot run program &quot;cd&quot;: CreateProcess error=2, The system cannot find the file specified \tat java.lang.ProcessBuilder.start(Unknown Source)"},{"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"score":0,"creation_date":1363544101,"post_id":15464122,"comment_id":21883261,"body_markdown":"@Reham See my revised answer as to why you can&#39;t use your specific command the way you want.","body":"@Reham See my revised answer as to why you can&#39;t use your specific command the way you want."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1363544153,"post_id":15464122,"comment_id":21883283,"body_markdown":"Re: &quot;In a Java program you can&#39;t change your current working directory and you shouldn&#39;t need to&quot;: This is not true. See my answer.","body":"Re: &quot;In a Java program you can&#39;t change your current working directory and you shouldn&#39;t need to&quot;: This is not true. See my answer."}],"tags":[],"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363544067,"creation_date":1363542783,"answer_id":15464122,"question_id":15464111,"body_markdown":"The easiest way would be to use [`Runtime.getRuntime.exec()`][1].\r\n\r\nFor example, to get a registry value for the default browser on Windows:\r\n\r\n    String command = &quot;REG QUERY HKEY_CLASSES_ROOT\\\\http\\\\shell\\\\open\\\\command&quot;;\r\n    try\r\n    {\r\n        Process process = Runtime.getRuntime().exec(command);\r\n    } catch (IOException e)\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThen use a `Scanner` to get the output of the command, if necessary.\r\n\r\n    Scanner kb = new Scanner(process.getInputStream());\r\n\r\n**Note**: the `\\` is an escape character in a `String`, and must be escaped to work properly (hence the `\\\\`).\r\n\r\n---\r\n\r\nHowever, there is no executable called `cd`, because it can&#39;t be implemented in a separate process.\r\n\r\nThe one case where the current working directory matters is executing an external process (using [`ProcessBuilder`][2] or [`Runtime.exec()`][3]). In those cases you can specify the working directory to use for the newly started process explicitly.\r\n\r\nEasiest way for your command: \r\n\r\n    System.setProperty(&quot;user.dir&quot;, &quot;C:\\\\Program Files\\\\Flowella&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#directory%28java.io.File%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec(java.lang.String,%20java.lang.String%5B%5D,%20java.io.File)","title":"Run cmd commands through Java","body":"<p>The easiest way would be to use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\" rel=\"nofollow\"><code>Runtime.getRuntime.exec()</code></a>.</p>\n\n<p>For example, to get a registry value for the default browser on Windows:</p>\n\n<pre><code>String command = \"REG QUERY HKEY_CLASSES_ROOT\\\\http\\\\shell\\\\open\\\\command\";\ntry\n{\n    Process process = Runtime.getRuntime().exec(command);\n} catch (IOException e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Then use a <code>Scanner</code> to get the output of the command, if necessary.</p>\n\n<pre><code>Scanner kb = new Scanner(process.getInputStream());\n</code></pre>\n\n<p><strong>Note</strong>: the <code>\\</code> is an escape character in a <code>String</code>, and must be escaped to work properly (hence the <code>\\\\</code>).</p>\n\n<hr>\n\n<p>However, there is no executable called <code>cd</code>, because it can't be implemented in a separate process.</p>\n\n<p>The one case where the current working directory matters is executing an external process (using <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#directory%28java.io.File%29\" rel=\"nofollow\"><code>ProcessBuilder</code></a> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String,%20java.lang.String%5B%5D,%20java.io.File%29\" rel=\"nofollow\"><code>Runtime.exec()</code></a>). In those cases you can specify the working directory to use for the newly started process explicitly.</p>\n\n<p>Easiest way for your command: </p>\n\n<pre><code>System.setProperty(\"user.dir\", \"C:\\\\Program Files\\\\Flowella\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1363543608,"post_id":15464129,"comment_id":21883079,"body_markdown":"Perhaps because you&#39;re using `Runtime.getRuntime().exec(...)` instead of a `ProcessBuilder`?  Personally, I regard `Runtime.getRuntime().exec(...)` as deprecated.  (It wasn&#39;t me that downvoted, though.)","body":"Perhaps because you&#39;re using <code>Runtime.getRuntime().exec(...)</code> instead of a <code>ProcessBuilder</code>?  Personally, I regard <code>Runtime.getRuntime().exec(...)</code> as deprecated.  (It wasn&#39;t me that downvoted, though.)"},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":4,"creation_date":1363543702,"post_id":15464129,"comment_id":21883110,"body_markdown":"I&#39;m not the downvoter, but -- your code is almost exactly the same as the code the OP already has. It will not solve whatever problem the OP is currently having.","body":"I&#39;m not the downvoter, but -- your code is almost exactly the same as the code the OP already has. It will not solve whatever problem the OP is currently having."}],"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"comment_count":2,"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1363543981,"creation_date":1363542819,"answer_id":15464129,"question_id":15464111,"body_markdown":"You can try this:-\r\n\r\n    Process p = Runtime.getRuntime().exec(command);","title":"Run cmd commands through Java","body":"<p>You can try this:-</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(command);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2363243,"reputation":2546,"user_id":2069493,"display_name":"Akhilesh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363543356,"creation_date":1363543356,"answer_id":15464222,"question_id":15464111,"body_markdown":"Once you get the reference to Process, you can call getOutpuStream on it to get the standard input of the cmd prompt. Then you can send any command over the stream using write method as with any other stream.\r\n\r\nNote that it is process.getOutputStream() which is connected to the stdin on the spawned process. Similarly, to get the output of any command, you will need to call getInputStream and then read over this as any other input stream.","title":"Run cmd commands through Java","body":"<p>Once you get the reference to Process, you can call getOutpuStream on it to get the standard input of the cmd prompt. Then you can send any command over the stream using write method as with any other stream.</p>\n\n<p>Note that it is process.getOutputStream() which is connected to the stdin on the spawned process. Similarly, to get the output of any command, you will need to call getInputStream and then read over this as any other input stream.</p>\n"},{"tags":[],"owner":{"account_id":430718,"reputation":2188,"user_id":814304,"accept_rate":33,"display_name":"iMysak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363543712,"creation_date":1363543712,"answer_id":15464292,"question_id":15464111,"body_markdown":"My example (from real project)\r\n\r\nfolder  File.\r\n\r\nzipFile, filesString  String;\r\n\r\n\r\n\r\n            final String command = &quot;/bin/tar -xvf &quot; + zipFile + &quot; &quot; + filesString;\r\n            logger.info(&quot;Start unzipping: {}    into the folder {}&quot;, command, folder.getPath());\r\n            final Runtime r = Runtime.getRuntime();\r\n            final Process p = r.exec(command, null, folder);\r\n            final int returnCode = p.waitFor();\r\n\r\n            if (logger.isWarnEnabled()) {\r\n                final BufferedReader is = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n                String line;\r\n                while ((line = is.readLine()) != null) {\r\n                    logger.warn(line);\r\n                }\r\n                final BufferedReader is2 = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n                while ((line = is2.readLine()) != null) {\r\n                    logger.warn(line);\r\n                }\r\n            }","title":"Run cmd commands through Java","body":"<p>My example (from real project)</p>\n\n<p>folder  File.</p>\n\n<p>zipFile, filesString  String;</p>\n\n<pre><code>        final String command = \"/bin/tar -xvf \" + zipFile + \" \" + filesString;\n        logger.info(\"Start unzipping: {}    into the folder {}\", command, folder.getPath());\n        final Runtime r = Runtime.getRuntime();\n        final Process p = r.exec(command, null, folder);\n        final int returnCode = p.waitFor();\n\n        if (logger.isWarnEnabled()) {\n            final BufferedReader is = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String line;\n            while ((line = is.readLine()) != null) {\n                logger.warn(line);\n            }\n            final BufferedReader is2 = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n            while ((line = is2.readLine()) != null) {\n                logger.warn(line);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363543955,"creation_date":1363543955,"answer_id":15464323,"question_id":15464111,"body_markdown":"You can&#39;t run `cd` this way, because `cd` isn&#39;t a real program; it&#39;s a built-in part of the command-line, and all it does is change the command-line&#39;s environment. It doesn&#39;t make sense to run it in a subprocess, because then you&#39;re changing that subprocess&#39;s environment &amp;mdash; but that subprocess closes immediately, discarding its environment.\r\n\r\nTo set the current working directory in your actual Java program, you should write:\r\n\r\n    System.setProperty(&quot;user.dir&quot;, &quot;C:\\\\Program Files\\\\Flowella&quot;);","title":"Run cmd commands through Java","body":"<p>You can't run <code>cd</code> this way, because <code>cd</code> isn't a real program; it's a built-in part of the command-line, and all it does is change the command-line's environment. It doesn't make sense to run it in a subprocess, because then you're changing that subprocess's environment &mdash; but that subprocess closes immediately, discarding its environment.</p>\n\n<p>To set the current working directory in your actual Java program, you should write:</p>\n\n<pre><code>System.setProperty(\"user.dir\", \"C:\\\\Program Files\\\\Flowella\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1091752,"reputation":1946,"user_id":1086247,"accept_rate":40,"display_name":"Reham"},"score":0,"creation_date":1363590659,"post_id":15464449,"comment_id":21895540,"body_markdown":"Thanks A lot..:)\nI put another command after the cd i want to execute it on the current directory,it uses some android commands,but it gives me \nandroid&#39; is not recognized as an internal or external command,Although it works on the cmd and i added the paths to the environment variables.","body":"Thanks A lot..:) I put another command after the cd i want to execute it on the current directory,it uses some android commands,but it gives me  android&#39; is not recognized as an internal or external command,Although it works on the cmd and i added the paths to the environment variables."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1363644865,"post_id":15464449,"comment_id":21924841,"body_markdown":"That sounds to me like a `PATH` issue.  Try printing out the value of the `PATH` environment variable to see whether it contains the path to the Android commands you mention.  (Use `System.getenv(&quot;PATH&quot;)` to get its value.)  You don&#39;t say how you&#39;re running your Java code (from a command prompt, from an IDE, in a web app, ...), so I can&#39;t say what you could do to fix this apparent `PATH` issue.","body":"That sounds to me like a <code>PATH</code> issue.  Try printing out the value of the <code>PATH</code> environment variable to see whether it contains the path to the Android commands you mention.  (Use <code>System.getenv(&quot;PATH&quot;)</code> to get its value.)  You don&#39;t say how you&#39;re running your Java code (from a command prompt, from an IDE, in a web app, ...), so I can&#39;t say what you could do to fix this apparent <code>PATH</code> issue."},{"owner":{"account_id":3124049,"reputation":9478,"user_id":2643274,"accept_rate":91,"display_name":"Steam"},"score":0,"creation_date":1414997178,"post_id":15464449,"comment_id":42010129,"body_markdown":"@LukeWoodward - Thanks. Can you please explain what these string parameters mean - &quot;/c&quot; and &quot;cd \\&quot;C:\\\\Program Files\\\\Microsoft SQL Server\\&quot; &amp;&amp; dir&quot; ? I am actually trying to execute an svn command `svn log --limit 1  http://svn.repo1.com/trunk/app` from C:\\Windows\\system32. Please help me to get this right.","body":"@LukeWoodward - Thanks. Can you please explain what these string parameters mean - &quot;/c&quot; and &quot;cd \\&quot;C:\\\\Program Files\\\\Microsoft SQL Server\\&quot; &amp;&amp; dir&quot; ? I am actually trying to execute an svn command <code>svn log --limit 1  http:&#47;&#47;svn.repo1.com&#47;trunk&#47;app</code> from C:\\Windows\\system32. Please help me to get this right."},{"owner":{"account_id":3124049,"reputation":9478,"user_id":2643274,"accept_rate":91,"display_name":"Steam"},"score":0,"creation_date":1414997926,"post_id":15464449,"comment_id":42010366,"body_markdown":"I tried my luck and found out how to do it - `ProcessBuilder builder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, my_svn_code);` It works, but I don&#39;t know how it works.","body":"I tried my luck and found out how to do it - <code>ProcessBuilder builder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;&#47;c&quot;, my_svn_code);</code> It works, but I don&#39;t know how it works."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":12,"creation_date":1415049508,"post_id":15464449,"comment_id":42036372,"body_markdown":"@Steam: `cmd.exe` is the Command Prompt.  `/c` tells the Command Prompt to run the rest of the line and then exit.  Using a Command Prompt allows me to change directory - `cd` is built in to the Command Prompt, there&#39;s no `cd.exe` - and also to chain together two commands using `&amp;&amp;`.","body":"@Steam: <code>cmd.exe</code> is the Command Prompt.  <code>&#47;c</code> tells the Command Prompt to run the rest of the line and then exit.  Using a Command Prompt allows me to change directory - <code>cd</code> is built in to the Command Prompt, there&#39;s no <code>cd.exe</code> - and also to chain together two commands using <code>&amp;&amp;</code>."},{"owner":{"account_id":338214,"reputation":181,"user_id":1575052,"display_name":"Oseack"},"score":0,"creation_date":1432734870,"post_id":15464449,"comment_id":49047593,"body_markdown":"This helped me with Jenkins groovy console script. Thank you so much!","body":"This helped me with Jenkins groovy console script. Thank you so much!"},{"owner":{"account_id":2767646,"reputation":4657,"user_id":2382964,"accept_rate":67,"display_name":"Tushar Pandey"},"score":0,"creation_date":1510131778,"post_id":15464449,"comment_id":81299922,"body_markdown":"@LukeWoodward .. can we run ( git-pull or git push ) long running task from shell script without opening cmd.exe, actually i dont black command_promt scree, ( i want it to run like background service )","body":"@LukeWoodward .. can we run ( git-pull or git push ) long running task from shell script without opening cmd.exe, actually i dont black command_promt scree, ( i want it to run like background service )"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1510174690,"post_id":15464449,"comment_id":81328425,"body_markdown":"@TusharPandey: why shell out to `git` when you could use a Java interface to Git such as JGit?","body":"@TusharPandey: why shell out to <code>git</code> when you could use a Java interface to Git such as JGit?"},{"owner":{"account_id":2767646,"reputation":4657,"user_id":2382964,"accept_rate":67,"display_name":"Tushar Pandey"},"score":0,"creation_date":1510203943,"post_id":15464449,"comment_id":81337528,"body_markdown":"@LukeWoodward .. i agree but i want to use a script, and little bit confused  .... that, will JGIT be able to run this script ( https://stackoverflow.com/a/17192101/2382964 ) this script is just a example","body":"@LukeWoodward .. i agree but i want to use a script, and little bit confused  .... that, will JGIT be able to run this script ( <a href=\"https://stackoverflow.com/a/17192101/2382964\">stackoverflow.com/a/17192101/2382964</a> ) this script is just a example"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1510256328,"post_id":15464449,"comment_id":81369557,"body_markdown":"@TusharPandey: if you want an answer to your question, please ask a separate question.","body":"@TusharPandey: if you want an answer to your question, please ask a separate question."},{"owner":{"account_id":1344570,"reputation":442,"user_id":1285565,"accept_rate":25,"display_name":"Kumar"},"score":0,"creation_date":1538288997,"post_id":15464449,"comment_id":92086094,"body_markdown":"@LukeWoodward Hi Luke, Could you please provide the same command to execute in ubuntu OS.","body":"@LukeWoodward Hi Luke, Could you please provide the same command to execute in ubuntu OS."},{"owner":{"account_id":1264721,"reputation":1210,"user_id":1222271,"accept_rate":33,"display_name":"Boris Karloff"},"score":0,"creation_date":1583029165,"post_id":15464449,"comment_id":106978422,"body_markdown":"&quot;cmd.exe&quot;, &quot;/c&quot; it is for Windows. And for other O.S.?","body":"&quot;cmd.exe&quot;, &quot;/c&quot; it is for Windows. And for other O.S.?"}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":12,"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1363544605,"creation_date":1363544605,"answer_id":15464449,"question_id":15464111,"body_markdown":"One way to run a process from a different directory to the working directory of your Java program is to change directory and then run the process in the same command line.  You can do this by getting `cmd.exe` to run a command line such as  `cd some_directory &amp;&amp; some_program`.\r\n\r\nThe following example changes to a different directory and runs `dir` from there.  Admittedly, I could just `dir` that directory without needing to `cd` to it, but this is only an example:\r\n\r\n    import java.io.*;\r\n    \r\n    public class CmdTest {\r\n        public static void main(String[] args) throws Exception {\r\n            ProcessBuilder builder = new ProcessBuilder(\r\n                &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;C:\\\\Program Files\\\\Microsoft SQL Server\\&quot; &amp;&amp; dir&quot;);\r\n            builder.redirectErrorStream(true);\r\n            Process p = builder.start();\r\n            BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while (true) {\r\n                line = r.readLine();\r\n                if (line == null) { break; }\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n\r\nNote also that I&#39;m using a `ProcessBuilder` to run the command.  Amongst other things, this allows me to redirect the process&#39;s standard error into its standard output, by calling `redirectErrorStream(true)`.  Doing so gives me only one stream to read from.\r\n\r\nThis gives me the following output on my machine:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    C:\\Users\\Luke\\StackOverflow&gt;java CmdTest\r\n     Volume in drive C is Windows7\r\n     Volume Serial Number is D8F0-C934\r\n    \r\n     Directory of C:\\Program Files\\Microsoft SQL Server\r\n    \r\n    29/07/2011  11:03    &lt;DIR&gt;          .\r\n    29/07/2011  11:03    &lt;DIR&gt;          ..\r\n    21/01/2011  20:37    &lt;DIR&gt;          100\r\n    21/01/2011  20:35    &lt;DIR&gt;          80\r\n    21/01/2011  20:35    &lt;DIR&gt;          90\r\n    21/01/2011  20:39    &lt;DIR&gt;          MSSQL10_50.SQLEXPRESS\r\n                   0 File(s)              0 bytes\r\n                   6 Dir(s)  209,496,424,448 bytes free","title":"Run cmd commands through Java","body":"<p>One way to run a process from a different directory to the working directory of your Java program is to change directory and then run the process in the same command line.  You can do this by getting <code>cmd.exe</code> to run a command line such as  <code>cd some_directory &amp;&amp; some_program</code>.</p>\n\n<p>The following example changes to a different directory and runs <code>dir</code> from there.  Admittedly, I could just <code>dir</code> that directory without needing to <code>cd</code> to it, but this is only an example:</p>\n\n<pre><code>import java.io.*;\n\npublic class CmdTest {\n    public static void main(String[] args) throws Exception {\n        ProcessBuilder builder = new ProcessBuilder(\n            \"cmd.exe\", \"/c\", \"cd \\\"C:\\\\Program Files\\\\Microsoft SQL Server\\\" &amp;&amp; dir\");\n        builder.redirectErrorStream(true);\n        Process p = builder.start();\n        BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        while (true) {\n            line = r.readLine();\n            if (line == null) { break; }\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n\n<p>Note also that I'm using a <code>ProcessBuilder</code> to run the command.  Amongst other things, this allows me to redirect the process's standard error into its standard output, by calling <code>redirectErrorStream(true)</code>.  Doing so gives me only one stream to read from.</p>\n\n<p>This gives me the following output on my machine:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\Luke\\StackOverflow&gt;java CmdTest\n Volume in drive C is Windows7\n Volume Serial Number is D8F0-C934\n\n Directory of C:\\Program Files\\Microsoft SQL Server\n\n29/07/2011  11:03    &lt;DIR&gt;          .\n29/07/2011  11:03    &lt;DIR&gt;          ..\n21/01/2011  20:37    &lt;DIR&gt;          100\n21/01/2011  20:35    &lt;DIR&gt;          80\n21/01/2011  20:35    &lt;DIR&gt;          90\n21/01/2011  20:39    &lt;DIR&gt;          MSSQL10_50.SQLEXPRESS\n               0 File(s)              0 bytes\n               6 Dir(s)  209,496,424,448 bytes free\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5482203,"reputation":101,"user_id":4358267,"display_name":"Ashwini Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1521478446,"creation_date":1418511542,"answer_id":27464536,"question_id":15464111,"body_markdown":"If you want to perform actions like `cd`, then use:\r\n\r\n    String[] command = {command_to_be_executed, arg1, arg2};\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n    builder = builder.directory(new File(&quot;directory_location&quot;));\r\n    \r\nExample:\r\n\r\n    String[] command = {&quot;ls&quot;, &quot;-al&quot;};\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n    builder = builder.directory(new File(&quot;/ngs/app/abc&quot;));\r\n    Process p = builder.start();\r\n\r\nIt is important that you split the command and all arguments in separate strings of the string array (otherwise they will not be provided correctly by the `ProcessBuilder` API).","title":"Run cmd commands through Java","body":"<p>If you want to perform actions like <code>cd</code>, then use:</p>\n\n<pre><code>String[] command = {command_to_be_executed, arg1, arg2};\nProcessBuilder builder = new ProcessBuilder(command);\nbuilder = builder.directory(new File(\"directory_location\"));\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String[] command = {\"ls\", \"-al\"};\nProcessBuilder builder = new ProcessBuilder(command);\nbuilder = builder.directory(new File(\"/ngs/app/abc\"));\nProcess p = builder.start();\n</code></pre>\n\n<p>It is important that you split the command and all arguments in separate strings of the string array (otherwise they will not be provided correctly by the <code>ProcessBuilder</code> API).</p>\n"},{"tags":[],"owner":{"account_id":8752405,"reputation":47,"user_id":6545113,"display_name":"Miguel Vieira"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1467588649,"creation_date":1467585128,"answer_id":38174894,"question_id":15464111,"body_markdown":"Try this: \r\n\r\n    Process runtime = Runtime.getRuntime().exec(&quot;cmd /c start notepad++.exe&quot;);\r\n\r\n\t","title":"Run cmd commands through Java","body":"<p>Try this: </p>\n\n<pre><code>Process runtime = Runtime.getRuntime().exec(\"cmd /c start notepad++.exe\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1514391549,"creation_date":1514391549,"answer_id":47995369,"question_id":15464111,"body_markdown":"Here is a more complete implementation of command line execution.\r\n\r\nUsage\r\n-----\r\n\r\n    executeCommand(&quot;ls&quot;);\r\n\r\n**Output:**\r\n\r\n    12/27/2017 11:18:11:732: ls\r\n    12/27/2017 11:18:11:820: build.gradle\r\n    12/27/2017 11:18:11:820: gradle\r\n    12/27/2017 11:18:11:820: gradlew\r\n    12/27/2017 11:18:11:820: gradlew.bat\r\n    12/27/2017 11:18:11:820: out\r\n    12/27/2017 11:18:11:820: settings.gradle\r\n    12/27/2017 11:18:11:820: src\r\n\r\nCode\r\n----\r\n\r\n    private void executeCommand(String command) {\r\n        try {\r\n            log(command);\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            logOutput(process.getInputStream(), &quot;&quot;);\r\n            logOutput(process.getErrorStream(), &quot;Error: &quot;);\r\n            process.waitFor();\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void logOutput(InputStream inputStream, String prefix) {\r\n        new Thread(() -&gt; {\r\n            Scanner scanner = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n            while (scanner.hasNextLine()) {\r\n                synchronized (this) {\r\n                    log(prefix + scanner.nextLine());\r\n                }\r\n            }\r\n            scanner.close();\r\n        }).start();\r\n    }\r\n\r\n    private static SimpleDateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy hh:mm:ss:SSS&quot;);\r\n\r\n    private synchronized void log(String message) {\r\n        System.out.println(format.format(new Date()) + &quot;: &quot; + message);\r\n    }","title":"Run cmd commands through Java","body":"<p>Here is a more complete implementation of command line execution.</p>\n\n<h2>Usage</h2>\n\n<pre><code>executeCommand(\"ls\");\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>12/27/2017 11:18:11:732: ls\n12/27/2017 11:18:11:820: build.gradle\n12/27/2017 11:18:11:820: gradle\n12/27/2017 11:18:11:820: gradlew\n12/27/2017 11:18:11:820: gradlew.bat\n12/27/2017 11:18:11:820: out\n12/27/2017 11:18:11:820: settings.gradle\n12/27/2017 11:18:11:820: src\n</code></pre>\n\n<h2>Code</h2>\n\n<pre><code>private void executeCommand(String command) {\n    try {\n        log(command);\n        Process process = Runtime.getRuntime().exec(command);\n        logOutput(process.getInputStream(), \"\");\n        logOutput(process.getErrorStream(), \"Error: \");\n        process.waitFor();\n    } catch (IOException | InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void logOutput(InputStream inputStream, String prefix) {\n    new Thread(() -&gt; {\n        Scanner scanner = new Scanner(inputStream, \"UTF-8\");\n        while (scanner.hasNextLine()) {\n            synchronized (this) {\n                log(prefix + scanner.nextLine());\n            }\n        }\n        scanner.close();\n    }).start();\n}\n\nprivate static SimpleDateFormat format = new SimpleDateFormat(\"MM/dd/yyyy hh:mm:ss:SSS\");\n\nprivate synchronized void log(String message) {\n    System.out.println(format.format(new Date()) + \": \" + message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9404127,"reputation":643,"user_id":7691630,"display_name":"Aleksei Sotnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524566975,"creation_date":1524566975,"answer_id":49999809,"question_id":15464111,"body_markdown":"The simplest and shortest way is to use [CmdTool][1] library.\r\n\r\n    new Cmd()\r\n             .configuring(new WorkDir(&quot;C:/Program Files/Flowella&quot;))\r\n             .command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;start&quot;)\r\n             .execute();\r\n\r\n\r\n\r\nYou can find more examples [here][1].\r\n  [1]: https://github.com/alekseysotnikov/CmdTool","title":"Run cmd commands through Java","body":"<p>The simplest and shortest way is to use <a href=\"https://github.com/alekseysotnikov/CmdTool\" rel=\"nofollow noreferrer\">CmdTool</a> library.</p>\n\n<pre><code>new Cmd()\n         .configuring(new WorkDir(\"C:/Program Files/Flowella\"))\n         .command(\"cmd.exe\", \"/c\", \"start\")\n         .execute();\n</code></pre>\n\n<p>You can find more examples <a href=\"https://github.com/alekseysotnikov/CmdTool\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552877397,"creation_date":1552876952,"answer_id":55214085,"question_id":15464111,"body_markdown":"one of the way to execute cmd from java !\r\n\r\n    public void executeCmd() {\r\n    \tString anyCommand=&quot;your command&quot;;\r\n    \ttry {\r\n    \t\tProcess process = Runtime.getRuntime().exec(&quot;cmd /c start cmd.exe /K &quot; + anyCommand);\r\n\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }","title":"Run cmd commands through Java","body":"<p>one of the way to execute cmd from java !</p>\n\n<pre><code>public void executeCmd() {\n    String anyCommand=\"your command\";\n    try {\n        Process process = Runtime.getRuntime().exec(\"cmd /c start cmd.exe /K \" + anyCommand);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1665216340,"post_id":59594957,"comment_id":130651616,"body_markdown":"Why define two vars for same quote character?","body":"Why define two vars for same quote character?"},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1665225243,"post_id":59594957,"comment_id":130653067,"body_markdown":"Also FYI - the CD can be done by supplying argument to exec - as a type File - i.e. base folder.","body":"Also FYI - the CD can be done by supplying argument to exec - as a type File - i.e. base folder."},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1666043857,"post_id":59594957,"comment_id":130837950,"body_markdown":"Well. I just wanted to make clear the litany to myself to nonthinking extent. The command can be several pages long so it is nice to see immediately where is the start and end quotes and that they are in place. CD is there just to show it can be there because it is needed in many cases. You can first execute the command in one dir and then move to another and execute other command in that directory it being your new user directory. That would be because you need to consider windows dll load order so you must know what is the current directory i.e java user dir.","body":"Well. I just wanted to make clear the litany to myself to nonthinking extent. The command can be several pages long so it is nice to see immediately where is the start and end quotes and that they are in place. CD is there just to show it can be there because it is needed in many cases. You can first execute the command in one dir and then move to another and execute other command in that directory it being your new user directory. That would be because you need to consider windows dll load order so you must know what is the current directory i.e java user dir."}],"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578172901,"creation_date":1578172901,"answer_id":59594957,"question_id":15464111,"body_markdown":"Here the value adder is use of ampersands to batch commands and correct format for change drive with cd.\r\n\r\n    public class CmdCommander {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //easyway to start native windows command prompt from Intellij\r\n\r\n        /*\r\n        Rules are:\r\n        1.baseStart must be dual start\r\n        2.first command must not have &amp;.\r\n        3.subsequent commands must be prepended with &amp;\r\n        4.drive change needs extra &amp;\r\n        5.use quotes at start and end of command batch\r\n        */\r\n        String startQuote = &quot;\\&quot;&quot;;\r\n        String endQuote = &quot;\\&quot;&quot;;\r\n        //String baseStart_not_taking_commands = &quot; cmd  /K start &quot;;\r\n        String baseStart = &quot; cmd  /K start cmd /K &quot;;//dual start is must\r\n\r\n        String first_command_chcp = &quot; chcp 1251 &quot;;\r\n        String dirList = &quot; &amp;dir &quot;;//&amp; in front of commands after first command means enter\r\n        //change drive....to yours\r\n        String changeDir = &quot; &amp;cd &amp;I: &quot;;//extra &amp; makes changing drive happen\r\n\r\n        String javaLaunch = &quot; &amp;java &quot;;//just another command\r\n        String javaClass = &quot; Encodes &quot;;//parameter for java needs no &amp;\r\n\r\n        String javaCommand = javaLaunch + javaClass;\r\n        //build batch command\r\n        String totalCommand =\r\n                baseStart +\r\n                        startQuote +\r\n                        first_command_chcp +\r\n                        //javaCommand +\r\n                        changeDir +\r\n                        dirList +\r\n                        endQuote;\r\n\r\n        System.out.println(totalCommand);//prints into Intellij terminal\r\n        runCmd(totalCommand);\r\n        //Thread t = Thread.currentThread();\r\n        //t.sleep(3000);\r\n        System.out.println(&quot;loppu hep&quot;);//prints into Intellij terminal\r\n\r\n    }\r\n\r\n\r\n    public static void runCmd(String command) throws Exception {\r\n\r\n        Runtime rt = Runtime.getRuntime();\r\n        Process proc = rt.exec(command);\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"Run cmd commands through Java","body":"<p>Here the value adder is use of ampersands to batch commands and correct format for change drive with cd.</p>\n\n<pre><code>public class CmdCommander {\n\npublic static void main(String[] args) throws Exception {\n    //easyway to start native windows command prompt from Intellij\n\n    /*\n    Rules are:\n    1.baseStart must be dual start\n    2.first command must not have &amp;.\n    3.subsequent commands must be prepended with &amp;\n    4.drive change needs extra &amp;\n    5.use quotes at start and end of command batch\n    */\n    String startQuote = \"\\\"\";\n    String endQuote = \"\\\"\";\n    //String baseStart_not_taking_commands = \" cmd  /K start \";\n    String baseStart = \" cmd  /K start cmd /K \";//dual start is must\n\n    String first_command_chcp = \" chcp 1251 \";\n    String dirList = \" &amp;dir \";//&amp; in front of commands after first command means enter\n    //change drive....to yours\n    String changeDir = \" &amp;cd &amp;I: \";//extra &amp; makes changing drive happen\n\n    String javaLaunch = \" &amp;java \";//just another command\n    String javaClass = \" Encodes \";//parameter for java needs no &amp;\n\n    String javaCommand = javaLaunch + javaClass;\n    //build batch command\n    String totalCommand =\n            baseStart +\n                    startQuote +\n                    first_command_chcp +\n                    //javaCommand +\n                    changeDir +\n                    dirList +\n                    endQuote;\n\n    System.out.println(totalCommand);//prints into Intellij terminal\n    runCmd(totalCommand);\n    //Thread t = Thread.currentThread();\n    //t.sleep(3000);\n    System.out.println(\"loppu hep\");//prints into Intellij terminal\n\n}\n\n\npublic static void runCmd(String command) throws Exception {\n\n    Runtime rt = Runtime.getRuntime();\n    Process proc = rt.exec(command);\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":11181671,"reputation":2644,"user_id":8205554,"display_name":"E. Zeytinci"},"score":1,"creation_date":1578764599,"post_id":59696516,"comment_id":105548666,"body_markdown":"While this code may provide a solution to OP&#39;s problem, it is highly recommended that you provide additional context regarding why and/or how this code answers the question. Code only answers typically become useless in the long-run because future viewers experiencing similar problems cannot understand the reasoning behind the solution.","body":"While this code may provide a solution to OP&#39;s problem, it is highly recommended that you provide additional context regarding why and/or how this code answers the question. Code only answers typically become useless in the long-run because future viewers experiencing similar problems cannot understand the reasoning behind the solution."}],"tags":[],"owner":{"account_id":14415840,"reputation":69,"user_id":10413314,"display_name":"Jaimin Mehta"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1654768671,"creation_date":1578761414,"answer_id":59696516,"question_id":15464111,"body_markdown":"    public class Demo {\r\n        public static void main(String args[]) throws IOException {\r\n\r\n            Process process = Runtime.getRuntime().exec(&quot;/Users/******/Library/Android/sdk/platform-tools/adb&quot; + &quot; shell dumpsys battery &quot;);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line = null;\r\n            while (true) {\r\n                line = in.readLine();\r\n                if (line == null) { break; }\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n","title":"Run cmd commands through Java","body":"<pre><code>public class Demo {\n    public static void main(String args[]) throws IOException {\n\n        Process process = Runtime.getRuntime().exec(&quot;/Users/******/Library/Android/sdk/platform-tools/adb&quot; + &quot; shell dumpsys battery &quot;);\n        BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = null;\n        while (true) {\n            line = in.readLine();\n            if (line == null) { break; }\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20323892,"reputation":31,"user_id":14907841,"display_name":"himanshu singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609268232,"creation_date":1609252985,"answer_id":65493955,"question_id":15464111,"body_markdown":"Stopping and Disabling a service can be done via below code:\r\n\r\n```    \r\nstatic void sdService() {\r\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;stop&quot;, &quot;MSSQLSERVER&quot;};\r\n    try {\t\t\t\r\n        Process process = new ProcessBuilder(cmd).start();\r\n        process.waitFor();\t\t\r\n        String line = null;\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        while((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    \t    \t            \r\n        line = null;\r\n        bufferedReader = null;\r\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= disabled&quot;);\r\n        p.waitFor();\r\n        bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        while((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\t                \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }    \t    \t\t\r\n}\r\n```    \r\n\r\nEnabling and Starting a service can be done via below code\r\n\r\n```\r\nstatic void esService() {\r\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;start&quot;, &quot;MSSQLSERVER&quot;};\r\n    \t    \t\t\r\n    try {\r\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= auto&quot;);\r\n    \t//Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= demand&quot;);\r\n    \tp.waitFor();\t\t\r\n    \tString line = null;\r\n    \tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \twhile((line = bufferedReader.readLine()) != null) {\r\n    \t    System.out.println(line);\r\n    \t}\r\n    \t    \t            \r\n    \tline = null;\r\n    \tbufferedReader = null;\r\n    \tProcess process = new ProcessBuilder(cmd).start();\t        \r\n    \tprocess.waitFor();\r\n    \tbufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    \twhile((line = bufferedReader.readLine()) != null) {\r\n    \t    System.out.println(line);\r\n    \t}\r\n    \t                \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\t    \t\t\r\n}\r\n```    \r\n\r\nExecuting command from any folder can be done via below code.\r\n```    \r\nstatic void runFromSpecificFolder() {\t\t\r\n    try {\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;C:\\\\Users\\\\himan\\\\Desktop\\\\Java_Test_Deployment\\\\jarfiles\\&quot; &amp;&amp; dir&quot;);\r\n    \t//processBuilder.directory(new File(&quot;C://Users//himan//Desktop//Java_Test_Deployment//jarfiles&quot;));\r\n    \tprocessBuilder.redirectErrorStream(true);\r\n    \tProcess p = processBuilder.start();\r\n    \tp.waitFor();\t\t\r\n    \tString line = null;\r\n    \tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \twhile((line = bufferedReader.readLine()) != null) {\r\n    \t    System.out.println(line);\r\n    \t}                \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\t    \t\t\r\n}\r\n    \r\npublic static void main(String args[]) {\r\n    sdService();\r\n    runFromSpecificFolder();\r\n    esService();\r\n}\r\n```\r\n","title":"Run cmd commands through Java","body":"<p>Stopping and Disabling a service can be done via below code:</p>\n<pre><code>static void sdService() {\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;stop&quot;, &quot;MSSQLSERVER&quot;};\n    try {           \n        Process process = new ProcessBuilder(cmd).start();\n        process.waitFor();      \n        String line = null;\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }\n                            \n        line = null;\n        bufferedReader = null;\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= disabled&quot;);\n        p.waitFor();\n        bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }                   \n    } catch (Exception e) {\n        e.printStackTrace();\n    }                   \n}\n</code></pre>\n<p>Enabling and Starting a service can be done via below code</p>\n<pre><code>static void esService() {\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;start&quot;, &quot;MSSQLSERVER&quot;};\n                    \n    try {\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= auto&quot;);\n        //Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= demand&quot;);\n        p.waitFor();        \n        String line = null;\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }\n                            \n        line = null;\n        bufferedReader = null;\n        Process process = new ProcessBuilder(cmd).start();          \n        process.waitFor();\n        bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }\n                        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }               \n}\n</code></pre>\n<p>Executing command from any folder can be done via below code.</p>\n<pre><code>static void runFromSpecificFolder() {       \n    try {\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;C:\\\\Users\\\\himan\\\\Desktop\\\\Java_Test_Deployment\\\\jarfiles\\&quot; &amp;&amp; dir&quot;);\n        //processBuilder.directory(new File(&quot;C://Users//himan//Desktop//Java_Test_Deployment//jarfiles&quot;));\n        processBuilder.redirectErrorStream(true);\n        Process p = processBuilder.start();\n        p.waitFor();        \n        String line = null;\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }                \n    } catch (Exception e) {\n        e.printStackTrace();\n    }               \n}\n    \npublic static void main(String args[]) {\n    sdService();\n    runFromSpecificFolder();\n    esService();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683454696,"creation_date":1683052146,"answer_id":76157848,"question_id":15464111,"body_markdown":"*(as others said)* For simple commands, you can just do, eg: \\\r\n`Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);` \\\r\n(`cmd /c` is likely needed)\r\n\r\n\r\nHowever, for some **complex** commands, you may need to do a **double** `cmd.exe /c cmd.exe /c`, \\\r\notherwise (if you use only 1) the cmd gets silently **dropped**, \\\r\n((or if you dont use `/c` or use some weird `/c` `cmd` combination pattern, cmd may freeze)), \\\r\n**idk** why. \r\n\r\n*((How I discorve it? -- I couldnt get it work &amp; tried mutiple time; one time *accidentally* duplicated the cmd &amp; ran it &amp; found it.))*\r\n\r\n@eg::\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class T1 {\r\n\r\n  static String convertStreamToString(java.io.InputStream is) {\r\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\r\n    return s.hasNext() ? s.next() : &quot;&quot;;\r\n  }\r\n\r\n  public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n    Process process;\r\n\r\n    System.out.println(&quot;---&quot;); // creates a folder `BBB`\r\n    Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);\r\n\r\n    // System.out.println(&quot;---&quot;);\r\n    // idk how to do `cd`\r\n\r\n    System.out.println(&quot;---&quot;); // list file &amp; folder in C:\\\r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c dir C:\\\\&quot;);\r\n    System.out.println(convertStreamToString(process.getInputStream()));\r\n\r\n    System.out.println(&quot;---&quot;); // echo\r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c echo \\&quot;Some Line\\&quot;&quot;);\r\n    System.out.println(convertStreamToString(process.getInputStream()));\r\n\r\n    // @atten: notice the double `cmd.exe /c cmd.exe /c ` \r\n    // -- idk why must double - otherwise this wont execute\r\n    System.out.println(&quot;---&quot;); // uses mysqldump to do something \r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c cmd.exe /c \\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe\\&quot; -u root -pmysql db_drawandchat_01 &gt; \\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_20230503_0134_03326.sql\\&quot;&quot;);\r\n\r\n  }\r\n\r\n  // Output::\r\n  //\r\n  // ---\r\n  // ---\r\n  //  Volume in drive C has no label.\r\n  //  Volume Serial Number is 2C83-063F\r\n  // \r\n  //  Directory of C:\\\r\n  // \r\n  // 2019/06/29  11:56    &lt;DIR&gt;          Intel\r\n  // 2022/04/18  06:07    &lt;DIR&gt;          log\r\n  // 2019/12/07  17:14    &lt;DIR&gt;          PerfLogs\r\n  // 2023/04/22  01:13    &lt;DIR&gt;          Program Files\r\n  // 2023/04/08  21:27    &lt;DIR&gt;          Program Files (x86)\r\n  // 2020/12/08  00:15    &lt;DIR&gt;          Untitled\r\n  // 2021/04/23  04:57    &lt;DIR&gt;          Users\r\n  // 2023/04/25  09:33    &lt;DIR&gt;          Windows\r\n  //                0 File(s)              0 bytes\r\n  //                8 Dir(s)   3,268,296,704 bytes free\r\n  // \r\n  // ---\r\n  // &quot;Some Line&quot;\r\n  // \r\n  // ---\r\n\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n***update***\r\n\r\n*base on my experience*\r\n\r\n**`ProcessBuilder` with `array of String as args`** is a much better choice. \r\n\r\n@note::\r\n\r\n- use **`array of String as args`**, dont use a whole String \\\r\n  otherwise the **parsing** is likely to be wrong. \\\r\n  https://stackoverflow.com/questions/19621838/createprocess-error-2-the-system-cannot-find-the-file-specified\r\n\r\n- remove unnecessary **double quotes** (eg: the ones around a path of a exec) \\\r\n  (&lt;strike&gt;since you are using array, the space_in_path cmd problem is kinda eliminated&lt;/strike&gt; // actually, not really, see update below -&gt; still use [a **double** `cmd.exe /c cmd.exe /c`]). \\\r\n  https://stackoverflow.com/questions/32314645/java-processbuilder-command-arguments-with-spaces-and-double-quotes-fails\r\n\r\n- the array is **separated** base on the &quot;exec &amp; flag &amp; arg &amp; path&quot; \\\r\n  -- normally, wherever you have a **space**, you separate there (though, not on the paths)\r\n\r\n  - sometimes you dont separate the flag and arg (if there is no space between them), eg: `-pPASSWORD`\r\n\r\n\r\n@eg:: [String Cmd to Array Cmd in ProcessBuilder]\r\n\r\n(following code worked before, but *didnt test* after some minor modifications)\r\n\r\n```\r\n  public class T1 {\r\n\r\n    public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n      String cmdStr_loadFile = &quot;cmd.exe /c cmd.exe /c &quot;\r\n                               + &quot;\\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe\\&quot; &quot;\r\n                               + &quot;-u root &quot;\r\n                               + &quot;-pmysql &quot;\r\n                               + &quot;--database db_drawandchat_02 &quot;\r\n                               + &quot;&lt; &quot;\r\n                               + &quot;\\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql\\&quot;&quot;;\r\n\r\n      ArrayList&lt;String&gt; cmdArr_loadFile = new ArrayList&lt;&gt;(Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;,\r\n          &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe&quot;,\r\n          &quot;-u&quot;, &quot;root&quot;,\r\n          &quot;-pmysql&quot;,\r\n          &quot;--database&quot;, &quot;db_drawandchat_02&quot;,\r\n          &quot;&lt;&quot;,\r\n          &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql&quot;));\r\n\r\n      try {\r\n        //      Process process = Runtime.getRuntime().exec(cmdStr_loadFile);\r\n\r\n        ProcessBuilder processBuilder = new ProcessBuilder(cmdArr_loadFile);\r\n        //      processBuilder.directory(new File(&quot;H:/&quot;));\r\n        processBuilder.redirectOutput(Redirect.INHERIT);\r\n        processBuilder.redirectError(Redirect.INHERIT);\r\n        //      processBuilder.redirectInput(Redirect.INHERIT);\r\n\r\n        Process process = processBuilder.start();\r\n\r\n        try {\r\n          process.waitFor(20, TimeUnit.SECONDS);\r\n          //        System.out.println(StringUtil.convertStreamToString(process.getInputStream()));\r\n        } catch (InterruptedException e) {\r\n          throw new Error(e);\r\n        }\r\n      } catch (IOException e) {\r\n        throw new Error(e);\r\n      }\r\n    }\r\n\r\n  }\r\n```\r\n\r\n---\r\n\r\n***update***\r\n\r\nThe use of &gt;&quot;a **double** `cmd.exe /c cmd.exe /c`&quot; \\\r\nis also working in the case of &gt;&quot;`ProcessBuilder` with `array of String as args`&quot;\r\n\r\nEspecially when you **have space** in your path -- both executable path **&amp;&amp; file path arg**\r\n\r\n@eg::\r\n\r\n```java\r\n    ArrayList&lt;String&gt; cmdArr_saveFile = new ArrayList&lt;&gt;(\r\n        Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;, &quot;cmd&quot;, &quot;/c&quot;,\r\n                      &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe&quot;,\r\n                      &quot;-u&quot;, &quot;root&quot;,\r\n                      &quot;-pmysql&quot;,\r\n                      &quot;db_drawandchat_01&quot;,\r\n                      &quot;&gt;&quot;,\r\n                      &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat test2.sql&quot;));\r\n```\r\n\r\n- However, if you have a space in your **argument** (not file path arg), \\\r\n  it still wont work... \\\r\n  related: https://stackoverflow.com/questions/66045955/java-processbuilder-in-windows-spaces-in-exe-path-and-in-argument\r\n\r\n\r\n\r\n- [[I do wonder why &quot;double `cmd.exe /c cmd.exe /c`&quot; works / how the Java Process cmd parsing really works.]]\r\n","title":"Run cmd commands through Java","body":"<p><em>(as others said)</em> For simple commands, you can just do, eg: <br />\n<code>Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);</code> <br />\n(<code>cmd /c</code> is likely needed)</p>\n<p>However, for some <strong>complex</strong> commands, you may need to do a <strong>double</strong> <code>cmd.exe /c cmd.exe /c</code>, <br />\notherwise (if you use only 1) the cmd gets silently <strong>dropped</strong>, <br />\n((or if you dont use <code>/c</code> or use some weird <code>/c</code> <code>cmd</code> combination pattern, cmd may freeze)), <br />\n<strong>idk</strong> why.</p>\n<p><em>((How I discorve it? -- I couldnt get it work &amp; tried mutiple time; one time <em>accidentally</em> duplicated the cmd &amp; ran it &amp; found it.))</em></p>\n<p>@eg::</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\npublic class T1 {\n\n  static String convertStreamToString(java.io.InputStream is) {\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\n    return s.hasNext() ? s.next() : &quot;&quot;;\n  }\n\n  public static void main(String[] args) throws InterruptedException, IOException {\n\n    Process process;\n\n    System.out.println(&quot;---&quot;); // creates a folder `BBB`\n    Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);\n\n    // System.out.println(&quot;---&quot;);\n    // idk how to do `cd`\n\n    System.out.println(&quot;---&quot;); // list file &amp; folder in C:\\\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c dir C:\\\\&quot;);\n    System.out.println(convertStreamToString(process.getInputStream()));\n\n    System.out.println(&quot;---&quot;); // echo\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c echo \\&quot;Some Line\\&quot;&quot;);\n    System.out.println(convertStreamToString(process.getInputStream()));\n\n    // @atten: notice the double `cmd.exe /c cmd.exe /c ` \n    // -- idk why must double - otherwise this wont execute\n    System.out.println(&quot;---&quot;); // uses mysqldump to do something \n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c cmd.exe /c \\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe\\&quot; -u root -pmysql db_drawandchat_01 &gt; \\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_20230503_0134_03326.sql\\&quot;&quot;);\n\n  }\n\n  // Output::\n  //\n  // ---\n  // ---\n  //  Volume in drive C has no label.\n  //  Volume Serial Number is 2C83-063F\n  // \n  //  Directory of C:\\\n  // \n  // 2019/06/29  11:56    &lt;DIR&gt;          Intel\n  // 2022/04/18  06:07    &lt;DIR&gt;          log\n  // 2019/12/07  17:14    &lt;DIR&gt;          PerfLogs\n  // 2023/04/22  01:13    &lt;DIR&gt;          Program Files\n  // 2023/04/08  21:27    &lt;DIR&gt;          Program Files (x86)\n  // 2020/12/08  00:15    &lt;DIR&gt;          Untitled\n  // 2021/04/23  04:57    &lt;DIR&gt;          Users\n  // 2023/04/25  09:33    &lt;DIR&gt;          Windows\n  //                0 File(s)              0 bytes\n  //                8 Dir(s)   3,268,296,704 bytes free\n  // \n  // ---\n  // &quot;Some Line&quot;\n  // \n  // ---\n\n}\n\n</code></pre>\n<hr />\n<p><em><strong>update</strong></em></p>\n<p><em>base on my experience</em></p>\n<p><strong><code>ProcessBuilder</code> with <code>array of String as args</code></strong> is a much better choice.</p>\n<p>@note::</p>\n<ul>\n<li><p>use <strong><code>array of String as args</code></strong>, dont use a whole String <br />\notherwise the <strong>parsing</strong> is likely to be wrong. <br />\n<a href=\"https://stackoverflow.com/questions/19621838/createprocess-error-2-the-system-cannot-find-the-file-specified\">CreateProcess error=2, The system cannot find the file specified</a></p>\n</li>\n<li><p>remove unnecessary <strong>double quotes</strong> (eg: the ones around a path of a exec) <br />\n(<strike>since you are using array, the space_in_path cmd problem is kinda eliminated</strike> // actually, not really, see update below -&gt; still use [a <strong>double</strong> <code>cmd.exe /c cmd.exe /c</code>]). <br />\n<a href=\"https://stackoverflow.com/questions/32314645/java-processbuilder-command-arguments-with-spaces-and-double-quotes-fails\">Java - ProcessBuilder command arguments with spaces and double-quotes fails</a></p>\n</li>\n<li><p>the array is <strong>separated</strong> base on the &quot;exec &amp; flag &amp; arg &amp; path&quot; <br />\n-- normally, wherever you have a <strong>space</strong>, you separate there (though, not on the paths)</p>\n<ul>\n<li>sometimes you dont separate the flag and arg (if there is no space between them), eg: <code>-pPASSWORD</code></li>\n</ul>\n</li>\n</ul>\n<p>@eg:: [String Cmd to Array Cmd in ProcessBuilder]</p>\n<p>(following code worked before, but <em>didnt test</em> after some minor modifications)</p>\n<pre><code>  public class T1 {\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n\n      String cmdStr_loadFile = &quot;cmd.exe /c cmd.exe /c &quot;\n                               + &quot;\\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe\\&quot; &quot;\n                               + &quot;-u root &quot;\n                               + &quot;-pmysql &quot;\n                               + &quot;--database db_drawandchat_02 &quot;\n                               + &quot;&lt; &quot;\n                               + &quot;\\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql\\&quot;&quot;;\n\n      ArrayList&lt;String&gt; cmdArr_loadFile = new ArrayList&lt;&gt;(Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;,\n          &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe&quot;,\n          &quot;-u&quot;, &quot;root&quot;,\n          &quot;-pmysql&quot;,\n          &quot;--database&quot;, &quot;db_drawandchat_02&quot;,\n          &quot;&lt;&quot;,\n          &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql&quot;));\n\n      try {\n        //      Process process = Runtime.getRuntime().exec(cmdStr_loadFile);\n\n        ProcessBuilder processBuilder = new ProcessBuilder(cmdArr_loadFile);\n        //      processBuilder.directory(new File(&quot;H:/&quot;));\n        processBuilder.redirectOutput(Redirect.INHERIT);\n        processBuilder.redirectError(Redirect.INHERIT);\n        //      processBuilder.redirectInput(Redirect.INHERIT);\n\n        Process process = processBuilder.start();\n\n        try {\n          process.waitFor(20, TimeUnit.SECONDS);\n          //        System.out.println(StringUtil.convertStreamToString(process.getInputStream()));\n        } catch (InterruptedException e) {\n          throw new Error(e);\n        }\n      } catch (IOException e) {\n        throw new Error(e);\n      }\n    }\n\n  }\n</code></pre>\n<hr />\n<p><em><strong>update</strong></em></p>\n<p>The use of &gt;&quot;a <strong>double</strong> <code>cmd.exe /c cmd.exe /c</code>&quot; <br />\nis also working in the case of &gt;&quot;<code>ProcessBuilder</code> with <code>array of String as args</code>&quot;</p>\n<p>Especially when you <strong>have space</strong> in your path -- both executable path <strong>&amp;&amp; file path arg</strong></p>\n<p>@eg::</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ArrayList&lt;String&gt; cmdArr_saveFile = new ArrayList&lt;&gt;(\n        Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;, &quot;cmd&quot;, &quot;/c&quot;,\n                      &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe&quot;,\n                      &quot;-u&quot;, &quot;root&quot;,\n                      &quot;-pmysql&quot;,\n                      &quot;db_drawandchat_01&quot;,\n                      &quot;&gt;&quot;,\n                      &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat test2.sql&quot;));\n</code></pre>\n<ul>\n<li><p>However, if you have a space in your <strong>argument</strong> (not file path arg), <br />\nit still wont work... <br />\nrelated: <a href=\"https://stackoverflow.com/questions/66045955/java-processbuilder-in-windows-spaces-in-exe-path-and-in-argument\">java ProcessBuilder in Windows spaces in *.exe path and in argument</a></p>\n</li>\n<li><p>[[I do wonder why &quot;double <code>cmd.exe /c cmd.exe /c</code>&quot; works / how the Java Process cmd parsing really works.]]</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1091752,"reputation":1946,"user_id":1086247,"accept_rate":40,"display_name":"Reham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394424,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":15464449,"answer_count":15,"score":82,"last_activity_date":1683454696,"creation_date":1363542716,"question_id":15464111,"body_markdown":"I found several code snippets for running cmd commands through a Java class, but I wasn&#39;t able to understand it.\r\n\r\nThis is code for opening the cmd \r\n\r\n\tpublic void excCommand(String new_dir){\r\n\t\tRuntime rt = Runtime.getRuntime();\r\n\t\ttry {\r\n\t\t\trt.exec(new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;start&quot;});\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n\r\nAnd I found some other links for adding other commands such as cd\r\nhttp://www.coderanch.com/t/109753/Linux-UNIX/exec-command-cd-command-java\r\n\r\nhttps://stackoverflow.com/questions/4688123/how-to-open-the-command-prompt-and-insert-commands-using-java\r\n\r\nCan anyone help me to understand how to cd a directory such as:\r\n\r\n     cd C:\\Program Files\\Flowella\r\n\r\nthen run other commands on that directory?","title":"Run cmd commands through Java","body":"<p>I found several code snippets for running cmd commands through a Java class, but I wasn't able to understand it.</p>\n\n<p>This is code for opening the cmd </p>\n\n<pre><code>public void excCommand(String new_dir){\n    Runtime rt = Runtime.getRuntime();\n    try {\n        rt.exec(new String[]{\"cmd.exe\",\"/c\",\"start\"});\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And I found some other links for adding other commands such as cd\n<a href=\"http://www.coderanch.com/t/109753/Linux-UNIX/exec-command-cd-command-java\" rel=\"noreferrer\">http://www.coderanch.com/t/109753/Linux-UNIX/exec-command-cd-command-java</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4688123/how-to-open-the-command-prompt-and-insert-commands-using-java\">How to open the command prompt and insert commands using Java?</a></p>\n\n<p>Can anyone help me to understand how to cd a directory such as:</p>\n\n<pre><code> cd C:\\Program Files\\Flowella\n</code></pre>\n\n<p>then run other commands on that directory?</p>\n"},{"tags":["java","android","android-layout","numbers","decimal"],"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1318250109,"post_id":7712735,"comment_id":9380894,"body_markdown":"What are you trying to accomplish here? Are you actually trying to round the number and return a double? Or are you simply wanting to format the number for display? You&#39;re *always* going to get a non-formatted number returned from this method because `double`s won&#39;t preserve the leading/trailing zeroes you format the number to.","body":"What are you trying to accomplish here? Are you actually trying to round the number and return a double? Or are you simply wanting to format the number for display? You&#39;re <i>always</i> going to get a non-formatted number returned from this method because <code>double</code>s won&#39;t preserve the leading/trailing zeroes you format the number to."},{"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"score":0,"creation_date":1318250321,"post_id":7712735,"comment_id":9380946,"body_markdown":"I am just want to get the fraction value of the double value but it should be of two decimal point. I am not going to round the value. ok.","body":"I am just want to get the fraction value of the double value but it should be of two decimal point. I am not going to round the value. ok."},{"owner":{"account_id":154393,"reputation":108787,"user_id":370305,"accept_rate":71,"display_name":"user370305"},"score":0,"creation_date":1318252040,"post_id":7712735,"comment_id":9381394,"body_markdown":"@iDroid Explorer - here all users told the same things.","body":"@iDroid Explorer - here all users told the same things."},{"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"score":0,"creation_date":1318252764,"post_id":7712735,"comment_id":9381592,"body_markdown":"I simply want to improve my function to give me the desired result and that i want from the suknic result.","body":"I simply want to improve my function to give me the desired result and that i want from the suknic result."}],"answers":[{"comments":[{"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"score":0,"creation_date":1318250474,"post_id":7712750,"comment_id":9380987,"body_markdown":"I have change the function with this formate but still i got the same result.","body":"I have change the function with this formate but still i got the same result."}],"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318249724,"creation_date":1318249724,"answer_id":7712750,"question_id":7712735,"body_markdown":"[Use the format][1]:\r\n\r\n    new DecimalFormat(&quot;#0.00&quot;)\r\n\r\nWhen you use `#`, zero values display as absent. Using a `0` will ensure that either a digit or a 0 is displayed.\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow\">Use the format</a>:</p>\n\n<pre><code>new DecimalFormat(\"#0.00\")\n</code></pre>\n\n<p>When you use <code>#</code>, zero values display as absent. Using a <code>0</code> will ensure that either a digit or a 0 is displayed.</p>\n"},{"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1318250009,"post_id":7712787,"comment_id":9380870,"body_markdown":"[`DecimalFormat#format(double)`](http://download.oracle.com/javase/7/docs/api/java/text/NumberFormat.html#format(double)) doesn&#39;t return a `StringBuffer`.","body":"<a href=\"http://download.oracle.com/javase/7/docs/api/java/text/NumberFormat.html#format(double)\" rel=\"nofollow noreferrer\"><code>DecimalFormat#format(double)</code></a> doesn&#39;t return a <code>StringBuffer</code>."},{"owner":{"account_id":559307,"reputation":2022,"user_id":921633,"display_name":"mikey"},"score":0,"creation_date":1318250493,"post_id":7712787,"comment_id":9380991,"body_markdown":"@RobHruska:  Thanks for putting me right.  I didn&#39;t check java 7.  In the pages I looked at under Android(http://developer.android.com/reference/java/text/DecimalFormat.html) and java 6(http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html) I didn&#39;t see this method. I should have searched further.","body":"@RobHruska:  Thanks for putting me right.  I didn&#39;t check java 7.  In the pages I looked at under Android(<a href=\"http://developer.android.com/reference/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/text/DecimalFor&zwnj;&#8203;mat.html</a>) and java 6(<a href=\"http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/text/&hellip;</a>) I didn&#39;t see this method. I should have searched further."},{"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"score":0,"creation_date":1318250509,"post_id":7712787,"comment_id":9380997,"body_markdown":"I dont want to get the string. I have just mention &quot;&quot; to differentiate the value.","body":"I dont want to get the string. I have just mention &quot;&quot; to differentiate the value."},{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1318252400,"post_id":7712787,"comment_id":9381508,"body_markdown":"@mikey - The Android javadocs are essentially the same. `DecimalFormat` inherits from `NumberFormat`, which defines [`format(double)`](http://developer.android.com/reference/java/text/NumberFormat.html#format(double)).","body":"@mikey - The Android javadocs are essentially the same. <code>DecimalFormat</code> inherits from <code>NumberFormat</code>, which defines <a href=\"http://developer.android.com/reference/java/text/NumberFormat.html#format(double)\" rel=\"nofollow noreferrer\"><code>format(double)</code></a>."}],"tags":[],"owner":{"account_id":559307,"reputation":2022,"user_id":921633,"display_name":"mikey"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318250588,"creation_date":1318249893,"answer_id":7712787,"question_id":7712735,"body_markdown":"DecimalFormat.format returns a String (not a StringBuffer), which you are then getting the Double.valueOf(...).  You then return the double value, which I assume when you print it uses it&#39;s own toString() to be displayed.  You need to run the DecimalFormat.format on the double value returned.","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p>DecimalFormat.format returns a String (not a StringBuffer), which you are then getting the Double.valueOf(...).  You then return the double value, which I assume when you print it uses it's own toString() to be displayed.  You need to run the DecimalFormat.format on the double value returned.</p>\n"},{"tags":[],"owner":{"account_id":898328,"reputation":637,"user_id":935127,"display_name":"suknic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1318251070,"creation_date":1318251070,"answer_id":7713024,"question_id":7712735,"body_markdown":"Your example works fine for rounding numbers to 2 digits. But you will lose trailing zeros, because numeric variables (double, float, ...) do not store any formating information.\r\n\r\nIf you want to see trailing zeros (like 5.50) you have to format the numbers on output:\r\n\r\n&lt;!--  language: lang-java --&gt;\r\n\r\n    DecimalFormat twoDForm = new DecimalFormat(&quot;#0.00&quot;);         \r\n    System.out.println(twoDForm.format(d));","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p>Your example works fine for rounding numbers to 2 digits. But you will lose trailing zeros, because numeric variables (double, float, ...) do not store any formating information.</p>\n\n<p>If you want to see trailing zeros (like 5.50) you have to format the numbers on output:</p>\n\n\n\n<pre><code>DecimalFormat twoDForm = new DecimalFormat(\"#0.00\");         \nSystem.out.println(twoDForm.format(d));\n</code></pre>\n"}],"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7713024,"answer_count":3,"score":1,"last_activity_date":1683454687,"creation_date":1318249658,"question_id":7712735,"body_markdown":"To get the fraction point value up to two decimal points, I use this function:\r\n\r\n    double roundTwoDecimals(double d) {             \r\n\t\tDecimalFormat twoDForm = new DecimalFormat(&quot;##.##&quot;);         \r\n\t\treturn Double.valueOf(twoDForm.format(d)); \r\n\r\nBut while there is a value like &quot;5.50&quot;, then with this function I got only &quot;5.5&quot;.\r\nInstead of that, I want to get the 5.50 with the above function.  So what should I have to change?\r\n\r\nPlease give me the updated function or any suggestions to change the output like &quot;0.00&quot;.","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p>To get the fraction point value up to two decimal points, I use this function:</p>\n<pre><code>double roundTwoDecimals(double d) {             \n    DecimalFormat twoDForm = new DecimalFormat(&quot;##.##&quot;);         \n    return Double.valueOf(twoDForm.format(d)); \n</code></pre>\n<p>But while there is a value like &quot;5.50&quot;, then with this function I got only &quot;5.5&quot;.\nInstead of that, I want to get the 5.50 with the above function.  So what should I have to change?</p>\n<p>Please give me the updated function or any suggestions to change the output like &quot;0.00&quot;.</p>\n"},{"tags":["java","gradle","webassembly","jwebassembly"],"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1683454300,"post_id":75008709,"comment_id":134366540,"body_markdown":"Which error do you get?","body":"Which error do you get?"}],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683454531,"creation_date":1683454531,"answer_id":76193297,"question_id":75008709,"body_markdown":"I think you can&#39;t use the plugins ID syntax with local plugins. This syntax works only with the Gradle plugin database.\r\n\r\nUse instead the apply syntax:\r\n\r\n````\r\napply plugin: &#39;de.inetsoftware.jwebassembly&#39;\r\n````","title":"Use jwebassemble-gradle plugin from local jar","body":"<p>I think you can't use the plugins ID syntax with local plugins. This syntax works only with the Gradle plugin database.</p>\n<p>Use instead the apply syntax:</p>\n<pre><code>apply plugin: 'de.inetsoftware.jwebassembly'\n</code></pre>\n"}],"owner":{"account_id":3336055,"reputation":13,"user_id":2819962,"display_name":"Joe McCay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683454531,"creation_date":1672851254,"question_id":75008709,"body_markdown":"I created a build of jwebassembly-gradle, and I have copied the jar, source jar, and javadoc jar files to a subdirectory called libs in my project directory structure. I am using Gradle 6.8.2. I am getting the error:\r\n\r\n*Plugin [id: jwebassembly-gradle] was not found in any of the following sources:*\r\n\r\nHow can I fix this? All the searches I have done say this should work.  The directory structure is similar to:\r\n\r\n```\r\nProject\r\n- .gradle\r\n- src\r\n- build\r\n- libs\r\n```\r\n\r\nThe build.gradle file:\r\n\r\n```\r\n// this handles the actual build script (build.gradle) dependencies!\r\nbuildscript {\r\n    repositories {\r\n        flatDir {\r\n            // to use local builds\r\n            dirs &#39;libs&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        classpath files(&#39;libs/jwebassembly-gradle-0.4.jar&#39;)\r\n        classpath files(&#39;libs/jwebassembly-gradle-0.4-sources.jar&#39;)\r\n        classpath files(&#39;libs/jwebassembly-gradle-0.4-javadoc.jar&#39;)\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;jwebassembly-gradle&#39;\r\n}\r\n\r\nrepositories {\r\n    flatDir {\r\n        // to use local builds\r\n        dirs &#39;libs&#39;\r\n    }\r\n    mavenCentral()\r\n}\r\n\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n            &quot;Specification-Title&quot; : &quot;&quot;,\r\n            &quot;Specification-Version&quot; : project.version,\r\n            &quot;Specification-Vendor&quot; : &quot;&quot;,\r\n            &quot;Implementation-Title&quot; : project.group,\r\n            &quot;Implementation-Version&quot; : project.version,\r\n            &quot;Implementation-Vendor&quot; : &quot;&quot;,\r\n            &quot;Main-Class&quot; : &quot;com.myproject.UrlImageGrabber&quot;\r\n        )\r\n    }\r\n}\r\n\r\ndependencies {\r\n    classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    classpath files(&#39;libs/jwebassembly-gradle-0.4.jar&#39;)\r\n    classpath files(&#39;libs/jwebassembly-gradle-0.4-sources.jar&#39;)\r\n    classpath files(&#39;libs/jwebassembly-gradle-0.4-javadoc.jar&#39;)\r\n\r\n\t// other dependencies ..\r\n\r\n}\r\n\r\ntask sourcesJar(type: Jar) {\r\n   archiveBaseName=artifactBaseName\r\n   classifier &#39;sources&#39;\r\n   from sourceSets.main.allSource\r\n}\r\n\r\ntask javadocJar(type: Jar, dependsOn: javadoc) {\r\n   archiveBaseName=artifactBaseName\r\n   classifier &#39;javadoc&#39;\r\n   from javadoc.destinationDir\r\n}\r\n\r\ntask(debug, dependsOn: &#39;classes&#39;, type: JavaExec) {\r\n    main = mainClassName\r\n    classpath = sourceSets.main.runtimeClasspath\r\n    args &#39;&#39;\r\n    debug true\r\n}\r\n\r\n//task webAssembly() {\r\n//\r\n//}\r\n\r\nbuild {\r\n    doLast {\r\n//        webAssembly()\r\n    }\r\n}\r\n\r\nartifacts {\r\n   archives sourcesJar\r\n   archives javadocJar\r\n}\r\n```\r\n\r\nI have tried various forms of trying to include the jar files in the buildscript section of the build.gradle file.  I still get the error.","title":"Use jwebassemble-gradle plugin from local jar","body":"<p>I created a build of jwebassembly-gradle, and I have copied the jar, source jar, and javadoc jar files to a subdirectory called libs in my project directory structure. I am using Gradle 6.8.2. I am getting the error:</p>\n<p><em>Plugin [id: jwebassembly-gradle] was not found in any of the following sources:</em></p>\n<p>How can I fix this? All the searches I have done say this should work.  The directory structure is similar to:</p>\n<pre><code>Project\n- .gradle\n- src\n- build\n- libs\n</code></pre>\n<p>The build.gradle file:</p>\n<pre><code>// this handles the actual build script (build.gradle) dependencies!\nbuildscript {\n    repositories {\n        flatDir {\n            // to use local builds\n            dirs 'libs'\n        }\n    }\n    dependencies {\n        classpath fileTree(include: ['*.jar'], dir: 'libs')\n        classpath files('libs/jwebassembly-gradle-0.4.jar')\n        classpath files('libs/jwebassembly-gradle-0.4-sources.jar')\n        classpath files('libs/jwebassembly-gradle-0.4-javadoc.jar')\n    }\n}\n\nplugins {\n    id 'java'\n    id 'application'\n    id 'jwebassembly-gradle'\n}\n\nrepositories {\n    flatDir {\n        // to use local builds\n        dirs 'libs'\n    }\n    mavenCentral()\n}\n\n\njar {\n    manifest {\n        attributes(\n            &quot;Specification-Title&quot; : &quot;&quot;,\n            &quot;Specification-Version&quot; : project.version,\n            &quot;Specification-Vendor&quot; : &quot;&quot;,\n            &quot;Implementation-Title&quot; : project.group,\n            &quot;Implementation-Version&quot; : project.version,\n            &quot;Implementation-Vendor&quot; : &quot;&quot;,\n            &quot;Main-Class&quot; : &quot;com.myproject.UrlImageGrabber&quot;\n        )\n    }\n}\n\ndependencies {\n    classpath fileTree(include: ['*.jar'], dir: 'libs')\n    classpath files('libs/jwebassembly-gradle-0.4.jar')\n    classpath files('libs/jwebassembly-gradle-0.4-sources.jar')\n    classpath files('libs/jwebassembly-gradle-0.4-javadoc.jar')\n\n    // other dependencies ..\n\n}\n\ntask sourcesJar(type: Jar) {\n   archiveBaseName=artifactBaseName\n   classifier 'sources'\n   from sourceSets.main.allSource\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n   archiveBaseName=artifactBaseName\n   classifier 'javadoc'\n   from javadoc.destinationDir\n}\n\ntask(debug, dependsOn: 'classes', type: JavaExec) {\n    main = mainClassName\n    classpath = sourceSets.main.runtimeClasspath\n    args ''\n    debug true\n}\n\n//task webAssembly() {\n//\n//}\n\nbuild {\n    doLast {\n//        webAssembly()\n    }\n}\n\nartifacts {\n   archives sourcesJar\n   archives javadocJar\n}\n</code></pre>\n<p>I have tried various forms of trying to include the jar files in the buildscript section of the build.gradle file.  I still get the error.</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":1462827,"reputation":10048,"user_id":1376627,"accept_rate":63,"display_name":"david_adler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683454514,"creation_date":1683454514,"question_id":76193294,"body_markdown":"I&#39;m building an [Android Input Method](https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method) in React Native. I&#39;m trying to do so like so:\r\n\r\n```java\r\n    @Override\r\n    public View onCreateInputView() {\r\n        // Create a custom react native root view\r\n        ReactRootView reactRootView = new ReactRootView(this);\r\n\r\n        // Create the react instance manager\r\n        ReactInstanceManager reactInstanceManager = ReactInstanceManager.builder()\r\n                .setApplication(getApplication())\r\n                // .setCurrentActivity(currentActivity)\r\n                .setBundleAssetName(&quot;entry.main.bundle&quot;)\r\n                .setJSMainModulePath(&quot;entry.main&quot;)\r\n                .addPackage(new MainReactPackage())\r\n                .setUseDeveloperSupport(BuildConfig.DEBUG)\r\n                .setInitialLifecycleState(LifecycleState.BEFORE_CREATE)\r\n                .build();\r\n        reactRootView.startReactApplication(reactInstanceManager, &quot;AndroidKeyboardTest&quot;, null);\r\n        return reactRootView;\r\n    }\r\n```\r\n\r\nThe issue is the line `.setCurrentActivity(currentActivity)`, there is no Activity as far as I understand since this a `Service`. How can I get around this?","title":"Run React Native in an Android Input Method","body":"<p>I'm building an <a href=\"https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method\" rel=\"nofollow noreferrer\">Android Input Method</a> in React Native. I'm trying to do so like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public View onCreateInputView() {\n        // Create a custom react native root view\n        ReactRootView reactRootView = new ReactRootView(this);\n\n        // Create the react instance manager\n        ReactInstanceManager reactInstanceManager = ReactInstanceManager.builder()\n                .setApplication(getApplication())\n                // .setCurrentActivity(currentActivity)\n                .setBundleAssetName(&quot;entry.main.bundle&quot;)\n                .setJSMainModulePath(&quot;entry.main&quot;)\n                .addPackage(new MainReactPackage())\n                .setUseDeveloperSupport(BuildConfig.DEBUG)\n                .setInitialLifecycleState(LifecycleState.BEFORE_CREATE)\n                .build();\n        reactRootView.startReactApplication(reactInstanceManager, &quot;AndroidKeyboardTest&quot;, null);\n        return reactRootView;\n    }\n</code></pre>\n<p>The issue is the line <code>.setCurrentActivity(currentActivity)</code>, there is no Activity as far as I understand since this a <code>Service</code>. How can I get around this?</p>\n"},{"tags":["java","maven","gradle","webassembly","jwebassembly"],"answers":[{"tags":[],"owner":{"account_id":19120541,"reputation":56,"user_id":13964595,"display_name":"Ali "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1608513283,"creation_date":1608513283,"answer_id":65386424,"question_id":64791966,"body_markdown":"This is from the same github wiki([https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api][1]):\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.i-net-software&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jwebassembly-api&lt;/artifactId&gt;\r\n        &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api","title":"Maven plugin for running JWebAssembly","body":"<p>This is from the same github wiki(<a href=\"https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api\" rel=\"nofollow noreferrer\">https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api</a>):</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.i-net-software&lt;/groupId&gt;\n    &lt;artifactId&gt;jwebassembly-api&lt;/artifactId&gt;\n    &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683453765,"creation_date":1683453765,"answer_id":76193226,"question_id":64791966,"body_markdown":"In the meantime there is a maven plugin `jwebassembly-maven` to compile your Java project with Maven to Webassmenbly.\r\n\r\nDetails can you find at [Wiki build with Maven][1] and [plugin home page][2]\r\n\r\n\r\n  [1]: https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Maven\r\n  [2]: https://github.com/jeff-schram/JWebAssembly-maven","title":"Maven plugin for running JWebAssembly","body":"<p>In the meantime there is a maven plugin <code>jwebassembly-maven</code> to compile your Java project with Maven to Webassmenbly.</p>\n<p>Details can you find at <a href=\"https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Maven\" rel=\"nofollow noreferrer\">Wiki build with Maven</a> and <a href=\"https://github.com/jeff-schram/JWebAssembly-maven\" rel=\"nofollow noreferrer\">plugin home page</a></p>\n"}],"owner":{"account_id":4832585,"reputation":1914,"user_id":3900373,"display_name":"alagris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65386424,"answer_count":2,"score":2,"last_activity_date":1683453765,"creation_date":1605118728,"question_id":64791966,"body_markdown":"I can see that JWebAssembly can be built with gradle\r\nhttps://github.com/i-net-software/JWebAssembly/wiki/Build-with-Gradle\r\nbut they also provide examples for adding maven dependencies, so I would expect that there is a maven plugin as well. I can&#39;t find it anywhere. How to run JWebAssembly with maven?","title":"Maven plugin for running JWebAssembly","body":"<p>I can see that JWebAssembly can be built with gradle\n<a href=\"https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Gradle\" rel=\"nofollow noreferrer\">https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Gradle</a>\nbut they also provide examples for adding maven dependencies, so I would expect that there is a maven plugin as well. I can't find it anywhere. How to run JWebAssembly with maven?</p>\n"},{"tags":["java","windows","command-line","processbuilder"],"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1612443136,"post_id":66045955,"comment_id":116771731,"body_markdown":"https://stackoverflow.com/questions/16639285/spaces-in-java-file-path-to-an-executable It works for you with `cmd` because you pass the job of formatting the string correctly to `cmd` itself.","body":"<a href=\"https://stackoverflow.com/questions/16639285/spaces-in-java-file-path-to-an-executable\" title=\"spaces in java file path to an executable\">stackoverflow.com/questions/16639285/&hellip;</a> It works for you with <code>cmd</code> because you pass the job of formatting the string correctly to <code>cmd</code> itself."},{"owner":{"account_id":20629848,"reputation":31,"user_id":15144921,"display_name":"BiggusBuggus"},"score":0,"creation_date":1612444232,"post_id":66045955,"comment_id":116772257,"body_markdown":"it works wihout spaces in the arg only - but how to get it working WITH spaces?","body":"it works wihout spaces in the arg only - but how to get it working WITH spaces?"}],"answers":[{"comments":[{"owner":{"account_id":20629848,"reputation":31,"user_id":15144921,"display_name":"BiggusBuggus"},"score":0,"creation_date":1612871779,"post_id":66103806,"comment_id":116896292,"body_markdown":"did this workout on your machine?\nOn mine it responds: \n`&#39;c:\\Program&#39; is not recognized as an internal or external command, operable program or batch file.`\nrunning `cmd -h` reponds:\n`Microsoft Windows [Version 10.0.18363.1256]` \n`(c) 2019 Microsoft Corporation. All rights reserved.` and my java is: `openjdk version &quot;14.0.2&quot; 2020-07-14`","body":"did this workout on your machine? On mine it responds:  <code>&#39;c:\\Program&#39; is not recognized as an internal or external command, operable program or batch file.</code> running <code>cmd -h</code> reponds: <code>Microsoft Windows [Version 10.0.18363.1256]</code>  <code>(c) 2019 Microsoft Corporation. All rights reserved.</code> and my java is: <code>openjdk version &quot;14.0.2&quot; 2020-07-14</code>"},{"owner":{"account_id":20629848,"reputation":31,"user_id":15144921,"display_name":"BiggusBuggus"},"score":0,"creation_date":1612897199,"post_id":66103806,"comment_id":116907818,"body_markdown":"I just came across this: you can directly run the `[&quot;*.exe&quot;]` without putting `[&quot;cmd.exe&quot;, &quot;/c&quot;]` upfront - even without quoting at all. BUT: this will work for *.exe only. it does not work if you target to also run foo.bat and pass args with spaces to it.","body":"I just came across this: you can directly run the <code>[&quot;*.exe&quot;]</code> without putting <code>[&quot;cmd.exe&quot;, &quot;&#47;c&quot;]</code> upfront - even without quoting at all. BUT: this will work for *.exe only. it does not work if you target to also run foo.bat and pass args with spaces to it."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1613155815,"post_id":66103806,"comment_id":116998691,"body_markdown":"I figured out you also want to escape the backslashes so the java compiler does not have to complain (interesting that it did not for you). If you insist it still complains that C:/Program is not found, you need to quote yet another time.","body":"I figured out you also want to escape the backslashes so the java compiler does not have to complain (interesting that it did not for you). If you insist it still complains that C:/Program is not found, you need to quote yet another time."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1683454965,"post_id":66103806,"comment_id":134366599,"body_markdown":"I think Java Process cmd Parsing is not implemented well. \\\n1. even with quotes it doesnt work in my case. \\\n1. in some other cases quotes in ProcessBuilder can even cause trouble -&gt; https://stackoverflow.com/questions/32314645/java-processbuilder-command-arguments-with-spaces-and-double-quotes-fails \\\n(Edited)","body":"I think Java Process cmd Parsing is not implemented well. \\ 1. even with quotes it doesnt work in my case. \\ 1. in some other cases quotes in ProcessBuilder can even cause trouble -&gt; <a href=\"https://stackoverflow.com/questions/32314645/java-processbuilder-command-arguments-with-spaces-and-double-quotes-fails\" title=\"java processbuilder command arguments with spaces and double quotes fails\">stackoverflow.com/questions/32314645/&hellip;</a> \\ (Edited)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683484314,"post_id":66103806,"comment_id":134370484,"body_markdown":"The system is working well. But you need to know which layers need which layers of escaping, and this becomes quite quickly complex and error-prone.","body":"The system is working well. But you need to know which layers need which layers of escaping, and this becomes quite quickly complex and error-prone."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613155748,"creation_date":1612795595,"answer_id":66103806,"question_id":66045955,"body_markdown":"To make it work WITH cmd and WITH spaces you need to add yet another layer of quoting.\r\n\r\nAfter all you write a java program. The java compiler will expect strings to be quoted, but at runtime these quotes are no longer there. Some of the strings will be used to start cmd, others will be passed on to cmd.\r\n\r\nCmd itself checks the arguments it received and will parse them. To markup which whitespace is a delimiter and which is not you need to have quotes. Cmd will understand these quotes and remove them - the called program does not notice them any more.\r\n\r\nSo either add more quotes (with correct escaping) or try to run the executable directly.\r\n\r\n    [&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\\\Program Files\\\\myapp.exe\\&quot;&quot;, &quot;\\&quot;-my_arg=sth_with space\\&quot;&quot;]","title":"java ProcessBuilder in Windows spaces in *.exe path and in argument","body":"<p>To make it work WITH cmd and WITH spaces you need to add yet another layer of quoting.</p>\n<p>After all you write a java program. The java compiler will expect strings to be quoted, but at runtime these quotes are no longer there. Some of the strings will be used to start cmd, others will be passed on to cmd.</p>\n<p>Cmd itself checks the arguments it received and will parse them. To markup which whitespace is a delimiter and which is not you need to have quotes. Cmd will understand these quotes and remove them - the called program does not notice them any more.</p>\n<p>So either add more quotes (with correct escaping) or try to run the executable directly.</p>\n<pre><code>[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\\\Program Files\\\\myapp.exe\\&quot;&quot;, &quot;\\&quot;-my_arg=sth_with space\\&quot;&quot;]\n</code></pre>\n"}],"owner":{"account_id":20629848,"reputation":31,"user_id":15144921,"display_name":"BiggusBuggus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683453756,"creation_date":1612442858,"question_id":66045955,"body_markdown":"often discussed, but this seems a weired edge case.\r\n\r\nIn win cmd.exe I successfully run:\r\n```\r\n&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth. with space&quot;\r\n```\r\nand\r\n```\r\n&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth_without_space&quot;\r\n```\r\n\r\nin java ProcessBuilder.command(xxx) following fails with &quot;c:\\Program&quot; was not a valid command (xxx contains following array):\r\n```\r\n// using cmd.exe:\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]         // no extra quoting\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]     // exe       quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;] // exe &amp; arg quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]     //       arg quoted\r\n\r\n// putting all as cmd.exe arg:\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=sth. with space&quot;]            // no extra quoting\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=sth. with space&quot;]        // exe       quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=\\&quot;sth. with space\\&quot;&quot;]    // exe &amp; arg quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=\\&quot;sth. with space\\&quot;&quot;]        //       arg quoted\r\n\r\n// calling *.exe directly\r\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]                          // no extra quoting\r\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]                      // exe       quoted\r\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                  // exe &amp; arg quoted\r\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                      //       arg quoted\r\n```\r\nrunning this works fine:\r\n```\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth_without_space&quot;]\r\n```\r\n\r\nThe issues seem to start when the *.exe path and the arg contain whitespaces.\r\n\r\n[edit]:\r\nMy question is: How can you run it with whitespaces in the exe&#39;s path AND in the arg&#39;s content?","title":"java ProcessBuilder in Windows spaces in *.exe path and in argument","body":"<p>often discussed, but this seems a weired edge case.</p>\n<p>In win cmd.exe I successfully run:</p>\n<pre><code>&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth. with space&quot;\n</code></pre>\n<p>and</p>\n<pre><code>&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth_without_space&quot;\n</code></pre>\n<p>in java ProcessBuilder.command(xxx) following fails with &quot;c:\\Program&quot; was not a valid command (xxx contains following array):</p>\n<pre><code>// using cmd.exe:\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]         // no extra quoting\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]     // exe       quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;] // exe &amp; arg quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]     //       arg quoted\n\n// putting all as cmd.exe arg:\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=sth. with space&quot;]            // no extra quoting\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=sth. with space&quot;]        // exe       quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=\\&quot;sth. with space\\&quot;&quot;]    // exe &amp; arg quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=\\&quot;sth. with space\\&quot;&quot;]        //       arg quoted\n\n// calling *.exe directly\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]                          // no extra quoting\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]                      // exe       quoted\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                  // exe &amp; arg quoted\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                      //       arg quoted\n</code></pre>\n<p>running this works fine:</p>\n<pre><code>[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth_without_space&quot;]\n</code></pre>\n<p>The issues seem to start when the *.exe path and the arg contain whitespaces.</p>\n<p>[edit]:\nMy question is: How can you run it with whitespaces in the exe's path AND in the arg's content?</p>\n"},{"tags":["java","android-notifications","android-13"],"answers":[{"tags":[],"owner":{"account_id":13370655,"reputation":137,"user_id":9649214,"display_name":"geo667"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1683453372,"creation_date":1683453372,"answer_id":76193198,"question_id":76149005,"body_markdown":"Finally find the problem : I forget to create notification channel... This code added solve my problem :\r\n\r\n&gt;     NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;PennSkanvTicChannel&quot;, NotificationManager.IMPORTANCE_MAX);\r\n&gt;     channel.setDescription(&quot;PennSkanvTic channel for foreground service notification&quot;);\r\n&gt; \r\n&gt;     notificationManager = getSystemService(NotificationManager.class);\r\n&gt;     notificationManager.createNotificationChannel(channel);\r\n\r\nThen, the same CHANNEL_ID need to be use when creating notification (NotificationCompat.Builder).\r\n\r\nHope this help somebody.","title":"android 13 Bad notification for startForeground","body":"<p>Finally find the problem : I forget to create notification channel... This code added solve my problem :</p>\n<blockquote>\n<pre><code>NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;PennSkanvTicChannel&quot;, NotificationManager.IMPORTANCE_MAX);\nchannel.setDescription(&quot;PennSkanvTic channel for foreground service notification&quot;);\n\nnotificationManager = getSystemService(NotificationManager.class);\nnotificationManager.createNotificationChannel(channel);\n</code></pre>\n</blockquote>\n<p>Then, the same CHANNEL_ID need to be use when creating notification (NotificationCompat.Builder).</p>\n<p>Hope this help somebody.</p>\n"}],"owner":{"account_id":13370655,"reputation":137,"user_id":9649214,"display_name":"geo667"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3176,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":76193198,"answer_count":1,"score":3,"last_activity_date":1683453372,"creation_date":1682963259,"question_id":76149005,"body_markdown":"Each time I execute my app I obtain a &quot;Bad notification for startForeground&quot; error\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.pennskanvtic, PID: 17447\r\n        android.app.RemoteServiceException$CannotPostForegroundServiceNotificationException:\r\n    Bad notification for startForeground\r\n            at android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1978)\r\n            at android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2237)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loopOnce(Looper.java:201)\r\n            at android.os.Looper.loop(Looper.java:288)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7884)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)`\r\n\r\n\r\n\r\n\r\nMy service only start a timer and display notification (I try with setChannelId inside NotificationCompat.Builder without any change) :\r\n\r\n```java\r\npublic class MyService extends Service {\r\n\r\n    private int i_NotifID = 1336;\r\n    private String CHANNEL_ID = &quot;MyServiceChannel&quot;;\r\n\r\n\r\n    private CountDownTimer mCptRebours;\r\n    private Notification notification;\r\n    private NotificationCompat.Builder builder;\r\n    private NotificationManagerCompat notificationManager;\r\n\r\n    private long l_TimerTime_ms;\r\n\r\n    private MainActivity mainActivity;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n\r\n        super.onCreate();\r\n\r\n        //Resources res = this.getResources();\r\n\r\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\r\n        builder.setSmallIcon(R.drawable.ic_launcher);\r\n        builder.setContentTitle(&quot;PennSkanvTic...Tac...&quot;);\r\n        builder.setContentText(&quot;waiting for start...&quot;);\r\n        //builder.setChannelId(CHANNEL_ID);\r\n        //builder.setOngoing(true);\r\n        //builder.setPriority(Notification.PRIORITY_HIGH);\r\n\r\n        notificationManager = NotificationManagerCompat.from(this);\r\n        //notificationManager.notify(i_NotifID, builder.build());\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        l_TimerTime_ms = intent.getLongExtra(&quot;l_TimerTime_ms&quot;, 55000);\r\n        builder.setContentText(Long.toString(l_TimerTime_ms / 1000));\r\n\r\n        mainActivity = MainActivity.getMainActivity();\r\n\r\n        startForeground(i_NotifID, builder.build());\r\n        startTimer();\r\n\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n\r\n        return null;\r\n    }\r\n\r\n    private void startTimer() {\r\n\r\n        mCptRebours = new CountDownTimer(l_TimerTime_ms, 1000) {\r\n            @Override\r\n            public void onTick(long l_RemainingTime_ms) {\r\n\r\n                // Update notification content\r\n                builder.setContentText(Long.toString(l_RemainingTime_ms / 1000));\r\n                notificationManager.notify(i_NotifID, builder.build());\r\n\r\n                // Update frontend (MainActivity value)\r\n                mainActivity.UpdateFrontend(l_RemainingTime_ms);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n\r\n                //Log.d(&quot;MonApplication&quot;, &quot;MyForegroundService onFinish&quot;);\r\n            }\r\n        }.start();\r\n    }\r\n}\r\n```\r\n\r\nMy MainActivity ask for permission inside onStart() :\r\n\r\n```java\r\n        String[] permissionArray = {Manifest.permission.FOREGROUND_SERVICE, Manifest.permission.VIBRATE, Manifest.permission.POST_NOTIFICATIONS};\r\n        ActivityCompat.requestPermissions(this, permissionArray, 0);\r\n```\r\n\r\nand start the service :\r\n\r\n```java\r\n        Intent serviceIntent = new Intent(MainActivity.this, MyService.class);\r\n        serviceIntent.putExtra(&quot;l_TimerTime_ms&quot;, mValCompteReboursConfig);\r\n        ContextCompat.startForegroundService(MainActivity.this, serviceIntent);`\r\n```\r\nMy AndroidManifest.xml declare the service and permission :\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;Manifest.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.MyService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;/&gt;`\r\n```\r\n\r\nAnd I ask for a SDK version 33 on my build.gradle file :\r\n\r\n```gradle \r\n   defaultConfig {\r\n        applicationId &quot;com.example.pennskanvtic&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        compileSdk 33\r\n        targetSdkVersion 33\r\n        compileSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n```\r\n\r\nIt is all what I find to try. I have now no idea why I still have an error when launching my foreground service.","title":"android 13 Bad notification for startForeground","body":"<p>Each time I execute my app I obtain a &quot;Bad notification for startForeground&quot; error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.pennskanvtic, PID: 17447\n    android.app.RemoteServiceException$CannotPostForegroundServiceNotificationException:\nBad notification for startForeground\n        at android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1978)\n        at android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2237)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7884)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)`\n</code></pre>\n<p>My service only start a timer and display notification (I try with setChannelId inside NotificationCompat.Builder without any change) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService extends Service {\n\n    private int i_NotifID = 1336;\n    private String CHANNEL_ID = &quot;MyServiceChannel&quot;;\n\n\n    private CountDownTimer mCptRebours;\n    private Notification notification;\n    private NotificationCompat.Builder builder;\n    private NotificationManagerCompat notificationManager;\n\n    private long l_TimerTime_ms;\n\n    private MainActivity mainActivity;\n\n    @Override\n    public void onCreate() {\n\n        super.onCreate();\n\n        //Resources res = this.getResources();\n\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n        builder.setSmallIcon(R.drawable.ic_launcher);\n        builder.setContentTitle(&quot;PennSkanvTic...Tac...&quot;);\n        builder.setContentText(&quot;waiting for start...&quot;);\n        //builder.setChannelId(CHANNEL_ID);\n        //builder.setOngoing(true);\n        //builder.setPriority(Notification.PRIORITY_HIGH);\n\n        notificationManager = NotificationManagerCompat.from(this);\n        //notificationManager.notify(i_NotifID, builder.build());\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        l_TimerTime_ms = intent.getLongExtra(&quot;l_TimerTime_ms&quot;, 55000);\n        builder.setContentText(Long.toString(l_TimerTime_ms / 1000));\n\n        mainActivity = MainActivity.getMainActivity();\n\n        startForeground(i_NotifID, builder.build());\n        startTimer();\n\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n\n        return null;\n    }\n\n    private void startTimer() {\n\n        mCptRebours = new CountDownTimer(l_TimerTime_ms, 1000) {\n            @Override\n            public void onTick(long l_RemainingTime_ms) {\n\n                // Update notification content\n                builder.setContentText(Long.toString(l_RemainingTime_ms / 1000));\n                notificationManager.notify(i_NotifID, builder.build());\n\n                // Update frontend (MainActivity value)\n                mainActivity.UpdateFrontend(l_RemainingTime_ms);\n            }\n\n            @Override\n            public void onFinish() {\n\n                //Log.d(&quot;MonApplication&quot;, &quot;MyForegroundService onFinish&quot;);\n            }\n        }.start();\n    }\n}\n</code></pre>\n<p>My MainActivity ask for permission inside onStart() :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] permissionArray = {Manifest.permission.FOREGROUND_SERVICE, Manifest.permission.VIBRATE, Manifest.permission.POST_NOTIFICATIONS};\n        ActivityCompat.requestPermissions(this, permissionArray, 0);\n</code></pre>\n<p>and start the service :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Intent serviceIntent = new Intent(MainActivity.this, MyService.class);\n        serviceIntent.putExtra(&quot;l_TimerTime_ms&quot;, mValCompteReboursConfig);\n        ContextCompat.startForegroundService(MainActivity.this, serviceIntent);`\n</code></pre>\n<p>My AndroidManifest.xml declare the service and permission :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;Manifest.permission.POST_NOTIFICATIONS&quot;/&gt;\n\n        &lt;service\n            android:name=&quot;.MyService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;/&gt;`\n</code></pre>\n<p>And I ask for a SDK version 33 on my build.gradle file :</p>\n<pre><code>   defaultConfig {\n        applicationId &quot;com.example.pennskanvtic&quot;\n        minSdk 21\n        targetSdk 33\n        compileSdk 33\n        targetSdkVersion 33\n        compileSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>It is all what I find to try. I have now no idea why I still have an error when launching my foreground service.</p>\n"},{"tags":["java","webassembly","teavm","jwebassembly","cheerpj"],"answers":[{"comments":[{"owner":{"account_id":103156,"reputation":7686,"user_id":276439,"accept_rate":81,"display_name":"Nate"},"score":1,"creation_date":1683502022,"post_id":76193196,"comment_id":134372381,"body_markdown":"Wellthe browser has also an access to the users file storage. I dont think this is a problem! Curious about how feasible it is with CheerpJ or any other compiler. Would I run into troubles? Is it difficult to do it?","body":"Wellthe browser has also an access to the users file storage. I dont think this is a problem! Curious about how feasible it is with CheerpJ or any other compiler. Would I run into troubles? Is it difficult to do it?"},{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1683661894,"post_id":76193196,"comment_id":134400343,"body_markdown":"I think you can&#39;t compare the browser storage with a OS file system. But I have never try CheerpJ because the output is to large. It compile a completely JDK including native part. I think you need to try it self if you want an answer.","body":"I think you can&#39;t compare the browser storage with a OS file system. But I have never try CheerpJ because the output is to large. It compile a completely JDK including native part. I think you need to try it self if you want an answer."}],"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683453366,"creation_date":1683453366,"answer_id":76193196,"question_id":65727085,"body_markdown":"Lucene build the search index on the file system. How should this work in the browser?\r\n\r\nIf you want compile it for a standalone runtime CheerpJ can be the better solution.\r\n\r\n","title":"Feasibility of porting Lucene to WebAssembly","body":"<p>Lucene build the search index on the file system. How should this work in the browser?</p>\n<p>If you want compile it for a standalone runtime CheerpJ can be the better solution.</p>\n"}],"owner":{"account_id":103156,"reputation":7686,"user_id":276439,"accept_rate":81,"display_name":"Nate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683453366,"creation_date":1610659236,"question_id":65727085,"body_markdown":"I&#39;m exploring the feasibility of porting Lucene to wasm. I have absolutely no experience in WebAssembly but from what I read, Java apps (or any VM language) seem to be more challenging than non-VM languages. Even though Lucene has been ported to other languages, I would ideally like to port it from Java.\r\n\r\nIs it possible to port Lucene (Java edition) to wasm without too much work? If yes, which &quot;interpreter&quot; would be the most appropriate? I&#39;ve heard of TeaVM, CheerpJ and JWebAssembly.\r\n\r\nWhere should I start?","title":"Feasibility of porting Lucene to WebAssembly","body":"<p>I'm exploring the feasibility of porting Lucene to wasm. I have absolutely no experience in WebAssembly but from what I read, Java apps (or any VM language) seem to be more challenging than non-VM languages. Even though Lucene has been ported to other languages, I would ideally like to port it from Java.</p>\n<p>Is it possible to port Lucene (Java edition) to wasm without too much work? If yes, which &quot;interpreter&quot; would be the most appropriate? I've heard of TeaVM, CheerpJ and JWebAssembly.</p>\n<p>Where should I start?</p>\n"},{"tags":["java","printqueue"],"comments":[{"owner":{"account_id":1868353,"reputation":9514,"user_id":1691311,"accept_rate":100,"display_name":"Randy"},"score":1,"creation_date":1683281368,"post_id":76181028,"comment_id":134346166,"body_markdown":"We are going to need some code to help you out with. This site is not meant to make us build complete solution for a question you ask, but to help improve code and helping out fixing bugs.","body":"We are going to need some code to help you out with. This site is not meant to make us build complete solution for a question you ask, but to help improve code and helping out fixing bugs."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683284179,"post_id":76181028,"comment_id":134346691,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25828160,"reputation":1,"user_id":19565856,"display_name":"Hannes Ledl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683453220,"creation_date":1683281066,"question_id":76181028,"body_markdown":"i want to write an app to listen to the jobs in the printer queue. \r\n\r\ndepending on the doc name (or some content in the doc) i want to\r\nreroute this job to the correct printer. all printers are identical,\r\nso formating will not be an problem.\r\n\r\nmy &quot;printspoller&quot; might be an additional installed printer, same type.\r\n\r\ni apreciate any help on this\r\nhannes\r\n\r\n\r\n\r\nim able to count the jobs in queue via &quot;queued-job-count&quot;\r\nbut could not find to get the props of the docs.\r\n  \r\n```\r\nimport java.io.*;  \r\nimport java.util.Properties;  \r\nimport javax.print.attribute.Attribute;  \r\nimport javax.print.attribute.AttributeSet;  \r\n  \r\nimport java.io.BufferedReader;  \r\nimport java.io.InputStream;  \r\nimport java.io.InputStreamReader;  \r\nimport java.lang.reflect.Array;  \r\n\r\nimport javax.print.DocFlavor;  \r\nimport javax.print.DocPrintJob;  \r\nimport javax.print.PrintException;  \r\nimport javax.print.PrintService;  \r\nimport javax.print.PrintServiceLookup;  \r\nimport javax.print.SimpleDoc;  \r\n  \r\nimport java.text.DateFormat;  \r\nimport java.text.SimpleDateFormat;  \r\nimport java.util.Date;  \r\nimport java.util.List;  \r\nimport java.util.ArrayList;  \r\nimport java.util.Calendar;  \r\nimport java.io.ByteArrayOutputStream;  \r\n\r\npublic class App {  \r\n    public static void main(String[] args) throws Exception {  \r\n        //GET ALL PRINTER NAMES\r\n        System.out.println(&quot;Printers------------------&quot;);\r\n    \r\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);  \r\n        for (PrintService avPrt : printServices) {  \r\n            \r\n            System.out.println(&quot;\\n\\nPrinter installed: &quot; + avPrt.getName());   \r\n            AttributeSet attributesPr = avPrt.getAttributes();  \r\n            for (Attribute a : attributesPr.toArray()) {  \r\n                String name = a.getName();  \r\n                String value = attributesPr.get(a.getClass()).toString();  \r\n                System.out.println(&quot;     &quot; + name + &quot;: &quot; + value);  \r\n                //is it the queue?  \r\n                if (name.equals(&quot;queued-job-count&quot;)) {  \r\n                    Object queue = Integer.parseInt(value);  \r\n                    System.out.println(&quot;          jobs in queue   : &quot; + queue);\r\n                }   \r\n            }  \r\n        }    \r\n    }   \r\n}  \r\n\r\n//my spooler printer\r\n//-----------------------------\r\nPrinter installed:SpoolerPrinter\r\n     printer-info: SpoolerPrinter\r\n     pdl-override-supported: not-attempted\r\n     color-supported: not-supported\r\n     queued-job-count: 5\r\n          jobs in queue   : 5\t\t\t\t\t// i want to know the jobs with the doc name\r\n     printer-name: Sewoo_POS_PRINTER\r\n     printer-is-accepting-jobs: accepting-jobs\r\n\r\n\r\n//my destination printers\r\n//i want\r\nPrinter installed: InvoicePrinter\r\n     printer-info: InvoicePrinter\r\n     pdl-override-supported: not-attempted\r\n     color-supported: not-supported\r\n     queued-job-count: 0\r\n          jobs in queue   : 0\t\t\t\t\t\r\n     printer-name: Sewoo_POS_PRINTER\r\n     printer-is-accepting-jobs: accepting-jobs\r\n\r\n\r\nPrinter installed: DeliveryNotePrinter\r\n     printer-info: DeliveryNotePrinter\r\n     pdl-override-supported: not-attempted\r\n     color-supported: not-supported\r\n     queued-job-count: 0\t\t\t\t\r\n          jobs in queue   : 5\r\n     printer-name: InvoicePrinter\r\n     printer-is-accepting-jobs: accepting-jobs","title":"Java App to listen the printer queue and reroute jobs","body":"<p>i want to write an app to listen to the jobs in the printer queue.</p>\n<p>depending on the doc name (or some content in the doc) i want to\nreroute this job to the correct printer. all printers are identical,\nso formating will not be an problem.</p>\n<p>my &quot;printspoller&quot; might be an additional installed printer, same type.</p>\n<p>i apreciate any help on this\nhannes</p>\n<p>im able to count the jobs in queue via &quot;queued-job-count&quot;\nbut could not find to get the props of the docs.</p>\n<pre><code>import java.io.*;  \nimport java.util.Properties;  \nimport javax.print.attribute.Attribute;  \nimport javax.print.attribute.AttributeSet;  \n  \nimport java.io.BufferedReader;  \nimport java.io.InputStream;  \nimport java.io.InputStreamReader;  \nimport java.lang.reflect.Array;  \n\nimport javax.print.DocFlavor;  \nimport javax.print.DocPrintJob;  \nimport javax.print.PrintException;  \nimport javax.print.PrintService;  \nimport javax.print.PrintServiceLookup;  \nimport javax.print.SimpleDoc;  \n  \nimport java.text.DateFormat;  \nimport java.text.SimpleDateFormat;  \nimport java.util.Date;  \nimport java.util.List;  \nimport java.util.ArrayList;  \nimport java.util.Calendar;  \nimport java.io.ByteArrayOutputStream;  \n\npublic class App {  \n    public static void main(String[] args) throws Exception {  \n        //GET ALL PRINTER NAMES\n        System.out.println(&quot;Printers------------------&quot;);\n    \n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);  \n        for (PrintService avPrt : printServices) {  \n            \n            System.out.println(&quot;\\n\\nPrinter installed: &quot; + avPrt.getName());   \n            AttributeSet attributesPr = avPrt.getAttributes();  \n            for (Attribute a : attributesPr.toArray()) {  \n                String name = a.getName();  \n                String value = attributesPr.get(a.getClass()).toString();  \n                System.out.println(&quot;     &quot; + name + &quot;: &quot; + value);  \n                //is it the queue?  \n                if (name.equals(&quot;queued-job-count&quot;)) {  \n                    Object queue = Integer.parseInt(value);  \n                    System.out.println(&quot;          jobs in queue   : &quot; + queue);\n                }   \n            }  \n        }    \n    }   \n}  \n\n//my spooler printer\n//-----------------------------\nPrinter installed:SpoolerPrinter\n     printer-info: SpoolerPrinter\n     pdl-override-supported: not-attempted\n     color-supported: not-supported\n     queued-job-count: 5\n          jobs in queue   : 5                   // i want to know the jobs with the doc name\n     printer-name: Sewoo_POS_PRINTER\n     printer-is-accepting-jobs: accepting-jobs\n\n\n//my destination printers\n//i want\nPrinter installed: InvoicePrinter\n     printer-info: InvoicePrinter\n     pdl-override-supported: not-attempted\n     color-supported: not-supported\n     queued-job-count: 0\n          jobs in queue   : 0                   \n     printer-name: Sewoo_POS_PRINTER\n     printer-is-accepting-jobs: accepting-jobs\n\n\nPrinter installed: DeliveryNotePrinter\n     printer-info: DeliveryNotePrinter\n     pdl-override-supported: not-attempted\n     color-supported: not-supported\n     queued-job-count: 0                \n          jobs in queue   : 5\n     printer-name: InvoicePrinter\n     printer-is-accepting-jobs: accepting-jobs\n</code></pre>\n"},{"tags":["java","youtube","youtube-api","android-youtube-api"],"owner":{"account_id":19494831,"reputation":113,"user_id":14276580,"display_name":"44yu5h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683453108,"creation_date":1683440181,"question_id":76192455,"body_markdown":"**Quick Background:** I&#39;m building an English learning app for adults and aged people to learn accents and improve vocab. I  want to embed a reels like immersive video player which shows only yt shorts from an account which is only used by this app (for better suggestions of shorts)\r\n\r\nSo is it possible to embed video and link *upvote downvote* buttons to *like dislike* buttons and sync comments. I couldn&#39;t find anything relevant except for a [deprecated SDK](https://developers.google.com/youtube/android/player). And the [new SDK](https://developers.google.com/youtube/iframe_api_reference) it refers to uses html (I think). Should I use WebView something like Amazon does?\r\n","title":"Embed Youtube player in Android App (android studio in java)","body":"<p><strong>Quick Background:</strong> I'm building an English learning app for adults and aged people to learn accents and improve vocab. I  want to embed a reels like immersive video player which shows only yt shorts from an account which is only used by this app (for better suggestions of shorts)</p>\n<p>So is it possible to embed video and link <em>upvote downvote</em> buttons to <em>like dislike</em> buttons and sync comments. I couldn't find anything relevant except for a <a href=\"https://developers.google.com/youtube/android/player\" rel=\"nofollow noreferrer\">deprecated SDK</a>. And the <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">new SDK</a> it refers to uses html (I think). Should I use WebView something like Amazon does?</p>\n"},{"tags":["java","apache-spark","pyspark"],"answers":[{"comments":[{"owner":{"account_id":20130133,"reputation":13,"user_id":21841691,"display_name":"Erevos"},"score":0,"creation_date":1683451974,"post_id":76193103,"comment_id":134366301,"body_markdown":"What i am getting when running echo %JAVA_HOME% is: C:\\Program Files\\Java\\jdk-20. when running java -version i am getting: Error: opening registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\nError: could not find java.dll\nError: Could not find Java SE Runtime Environment.","body":"What i am getting when running echo %JAVA_HOME% is: C:\\Program Files\\Java\\jdk-20. when running java -version i am getting: Error: opening registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39; Error: could not find java.dll Error: Could not find Java SE Runtime Environment."},{"owner":{"account_id":6926363,"reputation":2155,"user_id":5317332,"display_name":"Alez"},"score":0,"creation_date":1683452104,"post_id":76193103,"comment_id":134366315,"body_markdown":"Amd java -version output?","body":"Amd java -version output?"},{"owner":{"account_id":20130133,"reputation":13,"user_id":21841691,"display_name":"Erevos"},"score":0,"creation_date":1683452155,"post_id":76193103,"comment_id":134366321,"body_markdown":"just updated the previous comment.","body":"just updated the previous comment."},{"owner":{"account_id":6926363,"reputation":2155,"user_id":5317332,"display_name":"Alez"},"score":0,"creation_date":1683452361,"post_id":76193103,"comment_id":134366350,"body_markdown":"It seems you have issues with the java installation. Try to follow this link https://stackoverflow.com/questions/6362037/java-error-opening-registry-key","body":"It seems you have issues with the java installation. Try to follow this link <a href=\"https://stackoverflow.com/questions/6362037/java-error-opening-registry-key\" title=\"java error opening registry key\">stackoverflow.com/questions/6362037/&hellip;</a>"},{"owner":{"account_id":20130133,"reputation":13,"user_id":21841691,"display_name":"Erevos"},"score":0,"creation_date":1683452518,"post_id":76193103,"comment_id":134366364,"body_markdown":"Thank you, i will now follow the instructions provided by the link you sent me.","body":"Thank you, i will now follow the instructions provided by the link you sent me."},{"owner":{"account_id":20130133,"reputation":13,"user_id":21841691,"display_name":"Erevos"},"score":0,"creation_date":1683453548,"post_id":76193103,"comment_id":134366471,"body_markdown":"Marked as accepted as the problem bypassed and this is a new one. Kind regards.","body":"Marked as accepted as the problem bypassed and this is a new one. Kind regards."}],"tags":[],"owner":{"account_id":6926363,"reputation":2155,"user_id":5317332,"display_name":"Alez"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683453093,"creation_date":1683451896,"answer_id":76193103,"question_id":76193048,"body_markdown":"Try to output the env variable\r\n\r\n    echo %JAVA_HOME%\r\n\r\nand check if it&#39;s correct. \r\n\r\nIf not correct check again your JAVA_HOME assignment. \r\n\r\nThen, close and reopen the command prompt again that runs the java process (or the OS user session) and type `java -version` to check if it installed successfully.\r\n\r\nIf the java command fails follow this [link][1]. \r\n\r\nFollow this [link][2] to have more info about JAVA_HOME. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6362037/java-error-opening-registry-key\r\n  [2]: https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html","title":"RuntimeError: Java gateway process exited before sending its port number after setting JAVA_HOME","body":"<p>Try to output the env variable</p>\n<pre><code>echo %JAVA_HOME%\n</code></pre>\n<p>and check if it's correct.</p>\n<p>If not correct check again your JAVA_HOME assignment.</p>\n<p>Then, close and reopen the command prompt again that runs the java process (or the OS user session) and type <code>java -version</code> to check if it installed successfully.</p>\n<p>If the java command fails follow this <a href=\"https://stackoverflow.com/questions/6362037/java-error-opening-registry-key\">link</a>.</p>\n<p>Follow this <a href=\"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html\" rel=\"nofollow noreferrer\">link</a> to have more info about JAVA_HOME.</p>\n"}],"owner":{"account_id":20130133,"reputation":13,"user_id":21841691,"display_name":"Erevos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76193103,"answer_count":1,"score":0,"last_activity_date":1683453093,"creation_date":1683450942,"question_id":76193048,"body_markdown":"I&#39;m trying to start pyspark using VSCode but i am getting the follow errors:\r\n\r\n```\r\nJava not found and JAVA_HOME environment variable is not set.\r\nInstall Java and set JAVA_HOME to point to the Java installation directory.\r\nTraceback (most recent call last):\r\n  File &quot;c:\\Users\\Erevos\\Desktop\\Pyspark\\LearnSpark.py&quot;, line 5, in &lt;module&gt;\r\n    spark = SparkSession.builder.appName(&quot;MyApp&quot;).getOrCreate()\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\sql\\session.py&quot;, line 477, in getOrCreate\r\n    sc = SparkContext.getOrCreate(sparkConf)\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 512, in getOrCreate\r\n    SparkContext(conf=conf or SparkConf())\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 198, in __init__\r\n    SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 432, in _ensure_initialized\r\n    SparkContext._gateway = gateway or launch_gateway(conf)\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\java_gateway.py&quot;, line 106, in launch_gateway\r\n    raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\r\nRuntimeError: Java gateway process exited before sending its port number\r\n```\r\n\r\ni have already set the JAVA_HOME = path, [here](https://i.stack.imgur.com/k1RW6.png)\r\n\r\nMoreover, i have downloaded the folders required: [here](https://i.stack.imgur.com/rtVPc.png)","title":"RuntimeError: Java gateway process exited before sending its port number after setting JAVA_HOME","body":"<p>I'm trying to start pyspark using VSCode but i am getting the follow errors:</p>\n<pre><code>Java not found and JAVA_HOME environment variable is not set.\nInstall Java and set JAVA_HOME to point to the Java installation directory.\nTraceback (most recent call last):\n  File &quot;c:\\Users\\Erevos\\Desktop\\Pyspark\\LearnSpark.py&quot;, line 5, in &lt;module&gt;\n    spark = SparkSession.builder.appName(&quot;MyApp&quot;).getOrCreate()\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\sql\\session.py&quot;, line 477, in getOrCreate\n    sc = SparkContext.getOrCreate(sparkConf)\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 512, in getOrCreate\n    SparkContext(conf=conf or SparkConf())\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 198, in __init__\n    SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 432, in _ensure_initialized\n    SparkContext._gateway = gateway or launch_gateway(conf)\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\java_gateway.py&quot;, line 106, in launch_gateway\n    raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\nRuntimeError: Java gateway process exited before sending its port number\n</code></pre>\n<p>i have already set the JAVA_HOME = path, <a href=\"https://i.stack.imgur.com/k1RW6.png\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Moreover, i have downloaded the folders required: <a href=\"https://i.stack.imgur.com/rtVPc.png\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","c++","webassembly","emscripten","jwebassembly"],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683452897,"creation_date":1683452897,"answer_id":76193168,"question_id":72295196,"body_markdown":"&gt; de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42\r\n\r\nIt appears that you are using an outdated version of the compiler. The operation 42 (hexadecimal value 2a) has been implemented since 2018.","title":"Build webassembly sorting functions from C++ and Java source code","body":"<blockquote>\n<p>de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42</p>\n</blockquote>\n<p>It appears that you are using an outdated version of the compiler. The operation 42 (hexadecimal value 2a) has been implemented since 2018.</p>\n"}],"owner":{"account_id":25326980,"reputation":41,"user_id":19147473,"display_name":"mark88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683452897,"creation_date":1652903473,"question_id":72295196,"body_markdown":"I have a problem that I was going to work on arrays in WebAssembly and I wanted to use Java and C ++, and trying to do this, I ran into the following problems and I would like to ask for help:\r\n\r\n**Java: I&#39;m using JWebAssembly**\r\n\r\nAnd we have a class that works on tables\r\n\r\n```\r\nimport de.inetsoftware.jwebassembly.api.annotation.Export;\r\n\r\npublic class Add {\r\n    @Export\r\n    public static int[] add( int a[], int b ) {\r\n\r\n        for(int i = 0;i&lt;b-1;i++){\r\n            a[i] += b ;\r\n        }\r\n        return a;\r\n    }\r\n}\r\n```\r\n\r\nwe convert it to wasm\r\n\r\n```\r\nimport de.inetsoftware.jwebassembly.JWebAssembly;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\n\r\npublic class Wasm {\r\n    public static void main(String[] args) {\r\n        File wasmFile = new File(&quot;testTable.wasm&quot;);\r\n        JWebAssembly wasm = new JWebAssembly();\r\n\r\n        Class clazz = Add.class;\r\n\r\n        URL url = clazz.getResource(\r\n                &#39;/&#39; +\r\n                        clazz.getName().replace(&#39;.&#39;, &#39;/&#39;) +\r\n                        &quot;.class&quot;);\r\n        wasm.addFile(url);\r\n        String txt = wasm.compileToText();\r\n        System.out.println(txt);\r\n        wasm.compileToBinary(wasmFile);\r\n    }\r\n}\r\n```\r\n\r\nand such an error comes out \r\nException in thread &quot;main&quot; de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42 at Add.java:11\r\n\r\nhttps://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\r\n\r\nAnd I don&#39;t understand why because in this guy&#39;s presentation https://www.youtube.com/watch?v=93z9SaLQVVw (40 min+) you can see that it works and compiles\r\n\r\n**Now C++**\r\n \r\nI use emscripten, I wanted to do a bubble sort but for the sake of simplicity an example showing the problem\r\n\r\n```#include &lt;iostream&gt;\r\n #include &lt;emscripten.h&gt;\r\n using namespace std;\r\n \r\nEMSCRIPTEN_KEEPALIVE\r\nint* mainFunction(int table[], int length)\r\n{\r\n    \r\n    int* outTable = new int[length];\r\n\r\n    for(int i = 0;i&lt;length; i++){\r\n        outTable[i] = table[i];\r\n    }\r\n\r\n    return table;\r\n}\r\n```\r\nBy running it with this command test.cpp -s WASM=1 -o test.html\r\n \r\nafter compiling it, files appear to me from which I extract the appropriate data and in javascript I set and import everything\r\n\r\n```\r\nlet wasmExports = null;\r\n\r\nlet asmLibraryArg = {\r\n    abort: () =&gt; {},\r\n    emscripten_resize_heap: () =&gt; {},\r\n};\r\n\r\nlet info = {\r\n    env: asmLibraryArg,\r\n    wasi_snapshot_preview1: asmLibraryArg,\r\n};\r\n\r\nasync function loadWasm() {\r\n    let response = await fetch(&quot;test.wasm&quot;);\r\n    let bytes = await response.arrayBuffer();\r\n    let wasmObj = await WebAssembly.instantiate(bytes, info);\r\n    wasmExports = wasmObj.instance.exports;\r\n}\r\n\r\nloadWasm();\r\n```\r\nand later in the code I use \r\n\r\n```\r\nconsole.log(wasmExports);\r\nconsole.log(wasmExports._Z12mainFunctionPii(table, table.length));\r\n```\r\n\r\n[results][1]\r\n\r\nand when I throw in some array of integers it only throws me the number 0 and I have no idea how to get out of it. Or maybe someone knows another language in which it is possible to compile for wasm and then run it on the website?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pSkPq.png","title":"Build webassembly sorting functions from C++ and Java source code","body":"<p>I have a problem that I was going to work on arrays in WebAssembly and I wanted to use Java and C ++, and trying to do this, I ran into the following problems and I would like to ask for help:</p>\n<p><strong>Java: I'm using JWebAssembly</strong></p>\n<p>And we have a class that works on tables</p>\n<pre><code>import de.inetsoftware.jwebassembly.api.annotation.Export;\n\npublic class Add {\n    @Export\n    public static int[] add( int a[], int b ) {\n\n        for(int i = 0;i&lt;b-1;i++){\n            a[i] += b ;\n        }\n        return a;\n    }\n}\n</code></pre>\n<p>we convert it to wasm</p>\n<pre><code>import de.inetsoftware.jwebassembly.JWebAssembly;\n\nimport java.io.File;\nimport java.net.URL;\n\npublic class Wasm {\n    public static void main(String[] args) {\n        File wasmFile = new File(&quot;testTable.wasm&quot;);\n        JWebAssembly wasm = new JWebAssembly();\n\n        Class clazz = Add.class;\n\n        URL url = clazz.getResource(\n                '/' +\n                        clazz.getName().replace('.', '/') +\n                        &quot;.class&quot;);\n        wasm.addFile(url);\n        String txt = wasm.compileToText();\n        System.out.println(txt);\n        wasm.compileToBinary(wasmFile);\n    }\n}\n</code></pre>\n<p>and such an error comes out\nException in thread &quot;main&quot; de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42 at Add.java:11</p>\n<p><a href=\"https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions</a></p>\n<p>And I don't understand why because in this guy's presentation <a href=\"https://www.youtube.com/watch?v=93z9SaLQVVw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=93z9SaLQVVw</a> (40 min+) you can see that it works and compiles</p>\n<p><strong>Now C++</strong></p>\n<p>I use emscripten, I wanted to do a bubble sort but for the sake of simplicity an example showing the problem</p>\n<pre><code> #include &lt;emscripten.h&gt;\n using namespace std;\n \nEMSCRIPTEN_KEEPALIVE\nint* mainFunction(int table[], int length)\n{\n    \n    int* outTable = new int[length];\n\n    for(int i = 0;i&lt;length; i++){\n        outTable[i] = table[i];\n    }\n\n    return table;\n}\n</code></pre>\n<p>By running it with this command test.cpp -s WASM=1 -o test.html</p>\n<p>after compiling it, files appear to me from which I extract the appropriate data and in javascript I set and import everything</p>\n<pre><code>let wasmExports = null;\n\nlet asmLibraryArg = {\n    abort: () =&gt; {},\n    emscripten_resize_heap: () =&gt; {},\n};\n\nlet info = {\n    env: asmLibraryArg,\n    wasi_snapshot_preview1: asmLibraryArg,\n};\n\nasync function loadWasm() {\n    let response = await fetch(&quot;test.wasm&quot;);\n    let bytes = await response.arrayBuffer();\n    let wasmObj = await WebAssembly.instantiate(bytes, info);\n    wasmExports = wasmObj.instance.exports;\n}\n\nloadWasm();\n</code></pre>\n<p>and later in the code I use</p>\n<pre><code>console.log(wasmExports);\nconsole.log(wasmExports._Z12mainFunctionPii(table, table.length));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pSkPq.png\" rel=\"nofollow noreferrer\">results</a></p>\n<p>and when I throw in some array of integers it only throws me the number 0 and I have no idea how to get out of it. Or maybe someone knows another language in which it is possible to compile for wasm and then run it on the website?</p>\n"},{"tags":["java","selenium-webdriver","webdriver","cucumber"],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683452368,"creation_date":1683445474,"question_id":76192727,"body_markdown":"I have been getting WebDriverException intermittently when control touches deleteAllCookies(). Using selenium manager 4.9.0 version with chrome browser. Please find below exception stacktrace.\r\n\r\n\r\n    May 07, 2023 7:19:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 112, so returning the closest version found: 111\r\n          org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\r\n    from no such window\r\n      (Session info: chrome=112.0.5615.86)\r\n    Build info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\n    System info: os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [5992e73ccdeb9a7ba10446065e65b0dc, deleteAllCookies {}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 112.0.5615.86, chrome: {chromedriverVersion: 112.0.5615.49 (bd2a7bcb881c..., userDataDir: D:\\Users\\nshaik\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:52051}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52051/devtoo..., se:cdpVersion: 112.0.5615.86, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: 5992e73ccdeb9a7ba10446065e65b0dc\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver$RemoteWebDriverOptions.deleteAllCookies(RemoteWebDriver.java:784)\r\n\r\n","title":"I am getting WebDriverException intermittently while invoking deleteAllCookies method in selenium","body":"<p>I have been getting WebDriverException intermittently when control touches deleteAllCookies(). Using selenium manager 4.9.0 version with chrome browser. Please find below exception stacktrace.</p>\n<pre><code>May 07, 2023 7:19:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 112, so returning the closest version found: 111\n      org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\nfrom no such window\n  (Session info: chrome=112.0.5615.86)\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.3'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [5992e73ccdeb9a7ba10446065e65b0dc, deleteAllCookies {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 112.0.5615.86, chrome: {chromedriverVersion: 112.0.5615.49 (bd2a7bcb881c..., userDataDir: D:\\Users\\nshaik\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:52051}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52051/devtoo..., se:cdpVersion: 112.0.5615.86, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 5992e73ccdeb9a7ba10446065e65b0dc\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\n    at org.openqa.selenium.remote.RemoteWebDriver$RemoteWebDriverOptions.deleteAllCookies(RemoteWebDriver.java:784)\n</code></pre>\n"},{"tags":["java","xml","ibm-mobilefirst","saprfc","jco"],"comments":[{"owner":{"account_id":1662875,"reputation":44246,"user_id":1530814,"accept_rate":94,"display_name":"Idan Adar"},"score":0,"creation_date":1431495504,"post_id":30065955,"comment_id":48517794,"body_markdown":"provide your project","body":"provide your project"},{"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"score":0,"creation_date":1431510913,"post_id":30065955,"comment_id":48527122,"body_markdown":"@IdanAdar I provided my adapter code.","body":"@IdanAdar I provided my adapter code."},{"owner":{"account_id":1662875,"reputation":44246,"user_id":1530814,"accept_rate":94,"display_name":"Idan Adar"},"score":0,"creation_date":1431511034,"post_id":30065955,"comment_id":48527228,"body_markdown":"I don&#39;t think that&#39;s enough. Is there something testable you can provide?","body":"I don&#39;t think that&#39;s enough. Is there something testable you can provide?"},{"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"score":0,"creation_date":1431512023,"post_id":30065955,"comment_id":48527896,"body_markdown":"@IdanAdar I provided my complete adapter code.","body":"@IdanAdar I provided my complete adapter code."},{"owner":{"account_id":1662875,"reputation":44246,"user_id":1530814,"accept_rate":94,"display_name":"Idan Adar"},"score":0,"creation_date":1434138202,"post_id":30065955,"comment_id":49670195,"body_markdown":"Did you resolve this?","body":"Did you resolve this?"},{"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"score":0,"creation_date":1434367591,"post_id":30065955,"comment_id":49731262,"body_markdown":"@IdanAdar No, Currently I&#39;m working on SAP Netweaver Gateway Adapter to communicate with SAP Backend System.","body":"@IdanAdar No, Currently I&#39;m working on SAP Netweaver Gateway Adapter to communicate with SAP Backend System."},{"owner":{"account_id":327532,"reputation":1636,"user_id":919049,"accept_rate":71,"display_name":"Mohammad"},"score":0,"creation_date":1454899602,"post_id":30065955,"comment_id":58235473,"body_markdown":"@IdanAdar I am facing same problem. Is there any particular way to resolve this?","body":"@IdanAdar I am facing same problem. Is there any particular way to resolve this?"}],"answers":[{"comments":[{"owner":{"account_id":327532,"reputation":1636,"user_id":919049,"accept_rate":71,"display_name":"Mohammad"},"score":0,"creation_date":1454899775,"post_id":30811747,"comment_id":58235502,"body_markdown":"I have placed libsapjco3.jnilib and sapjco3.jar in lib directory and jar file is part of class file. I was able to call SAP from Java Adapter but not from JCo adapter under same settings. It would be great if you can provide some update or some more details about how to install libraries.","body":"I have placed libsapjco3.jnilib and sapjco3.jar in lib directory and jar file is part of class file. I was able to call SAP from Java Adapter but not from JCo adapter under same settings. It would be great if you can provide some update or some more details about how to install libraries."}],"tags":[],"owner":{"account_id":4309126,"reputation":81,"user_id":3520731,"display_name":"chrisjaun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434141177,"creation_date":1434141177,"answer_id":30811747,"question_id":30065955,"body_markdown":"That error indicates that you have not installed the SAP JCO libraries correctly on your MFP server.","title":"Error when invoking IBM Mobilefirst 7.0-SAP JCo Adapter","body":"<p>That error indicates that you have not installed the SAP JCO libraries correctly on your MFP server.</p>\n"},{"tags":[],"owner":{"account_id":6447862,"reputation":46,"user_id":4995825,"display_name":"Kyle Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531191611,"creation_date":1454952362,"answer_id":35275639,"question_id":30065955,"body_markdown":"Like Chris Jaun mentioned, this is an error that you&#39;ll receive if you haven&#39;t setup your machine correctly to work with JCo Adapters. Make sure the following criteria is met with your current setup:\r\n\r\n\r\n1. The jre directory should be your java runtime environment\r\n\r\n2. your jre must be 32-bit to work with the jco jar and dlls (in my experience, I&#39;ve only gotten the adapters to work with the 32-bit version)\r\n\r\n3. `librfc32.dll` is in `C:/Windows/System32`\r\n\r\n4. `sapjco-*.*.*.jar` is in `\\jre\\lib\\ext`\r\n\r\n5. `sapjcorfc.dll` is in `\\jre\\bin`\r\n","title":"Error when invoking IBM Mobilefirst 7.0-SAP JCo Adapter","body":"<p>Like Chris Jaun mentioned, this is an error that you'll receive if you haven't setup your machine correctly to work with JCo Adapters. Make sure the following criteria is met with your current setup:</p>\n\n<ol>\n<li><p>The jre directory should be your java runtime environment</p></li>\n<li><p>your jre must be 32-bit to work with the jco jar and dlls (in my experience, I've only gotten the adapters to work with the 32-bit version)</p></li>\n<li><p><code>librfc32.dll</code> is in <code>C:/Windows/System32</code></p></li>\n<li><p><code>sapjco-*.*.*.jar</code> is in <code>\\jre\\lib\\ext</code></p></li>\n<li><p><code>sapjcorfc.dll</code> is in <code>\\jre\\bin</code></p></li>\n</ol>\n"}],"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1683451999,"creation_date":1430875728,"question_id":30065955,"body_markdown":"When I invoke the SAP JCo Adapter, I&#39;m getting an error message like this:\r\n\r\n&gt;Invocation of procedure &#39;invokeSAPFunction&#39; caused \r\n&gt; java.lang.NoClassDefFoundError: com/sap/mw/jco/JCO$Exception [project\r\n&gt; DemoProject].\r\n\r\nWhat can cause it?\r\n\r\n    function invokeSAPFunction(params) {\r\n\tvar input = {};\r\n\tinput.FunctionName = params.FunctionName || &quot;&quot;;\r\n\tinput.Imports = params.Imports || {};\r\n\treturn WL.Server.invokeSAPFunction(input);\r\n    }\r\n\r\nI&#39;m passing parameter as a JSON object i.e.\r\n\r\n     {&quot;FunctionName&quot; : &quot;Example BAPI function &quot;, &quot;Imports&quot; : {&quot;COMPANYID&quot;:&quot;ID&quot;}}\r\n\r\nHere function name is my BAPI which is created in SAP system \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;wl:adapter name=&quot;SAPJCoExample&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txmlns:wl=&quot;http://www.ibm.com/mfp/integration&quot;\t\r\n\txmlns:sapjco=&quot;http://www.ibm.com/mfp/integration/sap&quot;&gt;\r\n\r\n\t&lt;displayName&gt;SAPJCoExample&lt;/displayName&gt;\r\n\t&lt;description&gt;SAPJCoExample&lt;/description&gt;\r\n\t&lt;connectivity&gt;\r\n\t\t&lt;connectionPolicy xsi:type=&quot;sapjco:JCOConnectionPolicy&quot; \r\n\t\t\tjcoClientClient=&quot;800&quot; \r\n\t\t\tjcoClientUser=&quot;USERNAME&quot;\r\n\t\t\tjcoClientPasswd=&quot;PASSWORD&quot; \r\n\t\t\tjcoClientLang=&quot;EN&quot; \r\n\t\t\tjcoClientAsHost=&quot;hostname&quot; \r\n\t\t\tjcoClientSysnr=&quot;00&quot;\r\n\t\t\tmaxConnections=&quot;10&quot; /&gt;\t\t\t\t\r\n\t&lt;/connectivity&gt;\r\n\t&lt;procedure name=&quot;invokeSAPFunction&quot;/&gt;\r\n&lt;/wl:adapter&gt;\r\n```","title":"Error when invoking IBM Mobilefirst 7.0-SAP JCo Adapter","body":"<p>When I invoke the SAP JCo Adapter, I'm getting an error message like this:</p>\n<blockquote>\n<p>Invocation of procedure 'invokeSAPFunction' caused\njava.lang.NoClassDefFoundError: com/sap/mw/jco/JCO$Exception [project\nDemoProject].</p>\n</blockquote>\n<p>What can cause it?</p>\n<pre><code>function invokeSAPFunction(params) {\nvar input = {};\ninput.FunctionName = params.FunctionName || &quot;&quot;;\ninput.Imports = params.Imports || {};\nreturn WL.Server.invokeSAPFunction(input);\n}\n</code></pre>\n<p>I'm passing parameter as a JSON object i.e.</p>\n<pre><code> {&quot;FunctionName&quot; : &quot;Example BAPI function &quot;, &quot;Imports&quot; : {&quot;COMPANYID&quot;:&quot;ID&quot;}}\n</code></pre>\n<p>Here function name is my BAPI which is created in SAP system</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wl:adapter name=&quot;SAPJCoExample&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:wl=&quot;http://www.ibm.com/mfp/integration&quot;   \n    xmlns:sapjco=&quot;http://www.ibm.com/mfp/integration/sap&quot;&gt;\n\n    &lt;displayName&gt;SAPJCoExample&lt;/displayName&gt;\n    &lt;description&gt;SAPJCoExample&lt;/description&gt;\n    &lt;connectivity&gt;\n        &lt;connectionPolicy xsi:type=&quot;sapjco:JCOConnectionPolicy&quot; \n            jcoClientClient=&quot;800&quot; \n            jcoClientUser=&quot;USERNAME&quot;\n            jcoClientPasswd=&quot;PASSWORD&quot; \n            jcoClientLang=&quot;EN&quot; \n            jcoClientAsHost=&quot;hostname&quot; \n            jcoClientSysnr=&quot;00&quot;\n            maxConnections=&quot;10&quot; /&gt;              \n    &lt;/connectivity&gt;\n    &lt;procedure name=&quot;invokeSAPFunction&quot;/&gt;\n&lt;/wl:adapter&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-integration","dsl"],"answers":[{"comments":[{"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"score":0,"creation_date":1683270984,"post_id":76175497,"comment_id":134344103,"body_markdown":"Understood for ```f.bridge()``` and thanks for that.\n\nThe use of the ```discard``` argument is a bit counter-intuitive for me. I&#39;m working if an option could be added to the filterEndpointSpec to force the return of the original message upon negative predicate.","body":"Understood for <code>f.bridge()</code> and thanks for that.  The use of the <code>discard</code> argument is a bit counter-intuitive for me. I&#39;m working if an option could be added to the filterEndpointSpec to force the return of the original message upon negative predicate."},{"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"score":0,"creation_date":1683271498,"post_id":76175497,"comment_id":134344214,"body_markdown":"Sorry, *wondering if an option can be added* ...","body":"Sorry, <i>wondering if an option can be added</i> ..."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1683292430,"post_id":76175497,"comment_id":134348520,"body_markdown":"Well, no: that is not this endpoint responsibility. The filter can pass the message down or not. It is already up to target project to make more complex decision in a discard flow. That&#39;s you need a plain pass-through reply for your logic, but others might not. Therefore there is just general hook as a `discardChannel` or `discardFlow`. In your case it can be as simple as: `discardFlow(IntegrationFlowDefinition::bridge)`.","body":"Well, no: that is not this endpoint responsibility. The filter can pass the message down or not. It is already up to target project to make more complex decision in a discard flow. That&#39;s you need a plain pass-through reply for your logic, but others might not. Therefore there is just general hook as a <code>discardChannel</code> or <code>discardFlow</code>. In your case it can be as simple as: <code>discardFlow(IntegrationFlowDefinition::bridge)</code>."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683218465,"creation_date":1683218465,"answer_id":76175497,"question_id":76174808,"body_markdown":"Well, if you question is to just reply the same input payload, then your `noop` would look like this:\r\n\r\n    private static IntegrationFlow noop() {\r\n        return f -&gt; f.bridge();\r\n    }\r\n\r\n\r\nThe bridge is a simple pass-through request-reply handler, and if there is no output channel, it consults a `replyChannel` header.","title":"Spring-Integration Filter when predicate is false within request-reply flow","body":"<p>Well, if you question is to just reply the same input payload, then your <code>noop</code> would look like this:</p>\n<pre><code>private static IntegrationFlow noop() {\n    return f -&gt; f.bridge();\n}\n</code></pre>\n<p>The bridge is a simple pass-through request-reply handler, and if there is no output channel, it consults a <code>replyChannel</code> header.</p>\n"},{"tags":[],"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683451923,"creation_date":1683451923,"answer_id":76193106,"question_id":76174808,"body_markdown":"I&#39;ve accepted @artem-bilan&#39;s answer.  (Thanks very much.)\r\n\r\nI wanted to build onto that answer with perhaps a shorter implementation:\r\n\r\n```\r\n    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\r\n    IntegrationFlow sendEvenValuesWorksFlow() {\r\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\r\n                               .filter(&quot;(payload % 2) == 1&quot;, discardReturnsCurrentMessage())\r\n                               .transform(&quot;payload * 2&quot;)\r\n                               .get();\r\n    }\r\n\r\n    public static Consumer&lt;FilterEndpointSpec&gt; discardReturnsCurrentMessage() {\r\n        return filterSpec -&gt; filterSpec.discardFlow(IntegrationFlowDefinition::bridge);\r\n    }\r\n```\r\n\r\nThe ```discardReturnsCurrentMessage()``` static method can be declared once and reused.  It also gives a precise definition of what is expected.\r\n","title":"Spring-Integration Filter when predicate is false within request-reply flow","body":"<p>I've accepted @artem-bilan's answer.  (Thanks very much.)</p>\n<p>I wanted to build onto that answer with perhaps a shorter implementation:</p>\n<pre><code>    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\n    IntegrationFlow sendEvenValuesWorksFlow() {\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\n                               .filter(&quot;(payload % 2) == 1&quot;, discardReturnsCurrentMessage())\n                               .transform(&quot;payload * 2&quot;)\n                               .get();\n    }\n\n    public static Consumer&lt;FilterEndpointSpec&gt; discardReturnsCurrentMessage() {\n        return filterSpec -&gt; filterSpec.discardFlow(IntegrationFlowDefinition::bridge);\n    }\n</code></pre>\n<p>The <code>discardReturnsCurrentMessage()</code> static method can be declared once and reused.  It also gives a precise definition of what is expected.</p>\n"}],"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76175497,"answer_count":2,"score":0,"last_activity_date":1683451923,"creation_date":1683213634,"question_id":76174808,"body_markdown":"I&#39;m trying to use filter() in order to execute certain code conditionally and yet always return a reply in a request-reply flow.\r\n\r\nFor instance, in ```Spring-Integration 5.5.17```, in the IntegrationFlow, I can conditionally multiply odd integer payloads by two.\r\n\r\n```\r\n    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\r\n    IntegrationFlow sendEvenValuesWorksFlow() {\r\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\r\n                               .filter(&quot;(payload % 2) == 1&quot;, filterSpec -&gt; filterSpec.discardFlow(noop()))\r\n                               .transform(&quot;payload * 2&quot;)\r\n                               .get();\r\n    }\r\n\r\n    private static IntegrationFlow noop() {\r\n        return f -&gt; f.filter(&quot;true&quot;);\r\n    }\r\n```\r\n\r\nwhere the filter has a ```discardFlow``` which does nothing.\r\n\r\nBut I would think that there would be a simpler way of continuing the flow with the current payload.  The following doesn&#39;t work, for instance, because it produces no output message:\r\n\r\n```\r\n    @Bean(name = &quot;sendsEvenValuesFailsFlow&quot;)\r\n    IntegrationFlow sendEvenValuesFailsFlow() {\r\n        return IntegrationFlows.from(&quot;sendsEvenValuesFailsChannel&quot;)\r\n                               .filter(&quot;(payload % 2) == 1&quot;)\r\n                               .transform(&quot;payload * 2&quot;)\r\n                               .get();\r\n    }\r\n```\r\n\r\nIs a ```discard``` mechanism (```flow``` or ```channel```) obligatory in order to guarantee a reply message is produced with a ```filter()``` method?  If so, is there a simpler way of creating a ```noop()``` flow?\r\n\r\nThanks for any pointers.","title":"Spring-Integration Filter when predicate is false within request-reply flow","body":"<p>I'm trying to use filter() in order to execute certain code conditionally and yet always return a reply in a request-reply flow.</p>\n<p>For instance, in <code>Spring-Integration 5.5.17</code>, in the IntegrationFlow, I can conditionally multiply odd integer payloads by two.</p>\n<pre><code>    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\n    IntegrationFlow sendEvenValuesWorksFlow() {\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\n                               .filter(&quot;(payload % 2) == 1&quot;, filterSpec -&gt; filterSpec.discardFlow(noop()))\n                               .transform(&quot;payload * 2&quot;)\n                               .get();\n    }\n\n    private static IntegrationFlow noop() {\n        return f -&gt; f.filter(&quot;true&quot;);\n    }\n</code></pre>\n<p>where the filter has a <code>discardFlow</code> which does nothing.</p>\n<p>But I would think that there would be a simpler way of continuing the flow with the current payload.  The following doesn't work, for instance, because it produces no output message:</p>\n<pre><code>    @Bean(name = &quot;sendsEvenValuesFailsFlow&quot;)\n    IntegrationFlow sendEvenValuesFailsFlow() {\n        return IntegrationFlows.from(&quot;sendsEvenValuesFailsChannel&quot;)\n                               .filter(&quot;(payload % 2) == 1&quot;)\n                               .transform(&quot;payload * 2&quot;)\n                               .get();\n    }\n</code></pre>\n<p>Is a <code>discard</code> mechanism (<code>flow</code> or <code>channel</code>) obligatory in order to guarantee a reply message is produced with a <code>filter()</code> method?  If so, is there a simpler way of creating a <code>noop()</code> flow?</p>\n<p>Thanks for any pointers.</p>\n"},{"tags":["java","authentication","single-sign-on","jco"],"comments":[{"owner":{"account_id":6389360,"reputation":865,"user_id":4956096,"display_name":"barthel"},"score":0,"creation_date":1435923318,"post_id":31202255,"comment_id":50413604,"body_markdown":"Tell use the JCO version.","body":"Tell use the JCO version."}],"answers":[{"comments":[{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1435936479,"post_id":31205994,"comment_id":50421606,"body_markdown":"Hi, I&#39;m using 3.0.6 version","body":"Hi, I&#39;m using 3.0.6 version"}],"tags":[],"owner":{"account_id":6389360,"reputation":865,"user_id":4956096,"display_name":"barthel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435923678,"creation_date":1435923678,"answer_id":31205994,"question_id":31202255,"body_markdown":"It sounds that your portal is using a SSO solution?\r\n\r\nIn general it is possible by using `JAAS`.\r\n\r\nConfigure a JAAS `LoginModule`, get the username and - maybe - the password and providing that information to the `JCO` client.\r\n","title":"Authenticate without entering userid and password","body":"<p>It sounds that your portal is using a SSO solution?</p>\n\n<p>In general it is possible by using <code>JAAS</code>.</p>\n\n<p>Configure a JAAS <code>LoginModule</code>, get the username and - maybe - the password and providing that information to the <code>JCO</code> client.</p>\n"}],"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683451823,"creation_date":1435912645,"question_id":31202255,"body_markdown":"In our organization we have an internal portal like `www.xyz.com` and we use SAP Web interface. \r\n\r\nBasically I&#39;m writing a Java code using JCo to fetch the data from SAP table. but I need to authenticate to get into the application. In this Web interface we don&#39;t enter the user name and password.\r\n\r\nWhen I open the Web page it directly takes the USERID and PASSWORD from `xyz.com` portal and logs in.\r\n\r\nIs there a way that in my Java code, I can retrieve that data (I don&#39;t want to view it, just authenticate directly using that portal) and get the data. Currently my code to retrieve data is like below.\r\n\r\n    JCO.createClient(&quot;SAP client&quot;, &quot;username&quot;,&quot;password&quot;,&quot;language&quot;,\r\n    &quot;server name&quot;,&quot;system number&quot;);\r\n\r\nHere I want to get the user name and password directly.\r\n\r\nIs there a way to get this?\r\n\r\nThanks","title":"Authenticate without entering userid and password","body":"<p>In our organization we have an internal portal like <code>www.xyz.com</code> and we use SAP Web interface.</p>\n<p>Basically I'm writing a Java code using JCo to fetch the data from SAP table. but I need to authenticate to get into the application. In this Web interface we don't enter the user name and password.</p>\n<p>When I open the Web page it directly takes the USERID and PASSWORD from <code>xyz.com</code> portal and logs in.</p>\n<p>Is there a way that in my Java code, I can retrieve that data (I don't want to view it, just authenticate directly using that portal) and get the data. Currently my code to retrieve data is like below.</p>\n<pre><code>JCO.createClient(&quot;SAP client&quot;, &quot;username&quot;,&quot;password&quot;,&quot;language&quot;,\n&quot;server name&quot;,&quot;system number&quot;);\n</code></pre>\n<p>Here I want to get the user name and password directly.</p>\n<p>Is there a way to get this?</p>\n<p>Thanks</p>\n"},{"tags":["java","mapstruct","micronaut"],"comments":[{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547154324,"post_id":54136772,"comment_id":95105305,"body_markdown":"Are the mappers generated?","body":"Are the mappers generated?"},{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1547187916,"post_id":54136772,"comment_id":95113841,"body_markdown":"Yes, mappers have been generated and I can also instantiate one manually in the controller. Just the wiring using @Inject doesn&#39;t work.","body":"Yes, mappers have been generated and I can also instantiate one manually in the controller. Just the wiring using @Inject doesn&#39;t work."},{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547202398,"post_id":54136772,"comment_id":95120422,"body_markdown":"When is this message coming from Micronaut? During compilation or runtime? Maybe micronaut is not waiting for the other annotation processors","body":"When is this message coming from Micronaut? During compilation or runtime? Maybe micronaut is not waiting for the other annotation processors"},{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1547220226,"post_id":54136772,"comment_id":95129791,"body_markdown":"During runtime, if I change the order of annotation processors in the pom, so that mapstruct is after micronaut, no mapstruct code is generated.","body":"During runtime, if I change the order of annotation processors in the pom, so that mapstruct is after micronaut, no mapstruct code is generated."},{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547225189,"post_id":54136772,"comment_id":95132537,"body_markdown":"This is a known issue see https://github.com/micronaut-projects/micronaut-core/issues/991","body":"This is a known issue see <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/991\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/991</a>"},{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1547230886,"post_id":54136772,"comment_id":95135131,"body_markdown":"Ah ok - was suspecting something like that, still - unfortunately - does not explain my other problem, but thanks for your time so far.","body":"Ah ok - was suspecting something like that, still - unfortunately - does not explain my other problem, but thanks for your time so far."},{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547232157,"post_id":54136772,"comment_id":95135584,"body_markdown":"Yes it doesn&#39;t explain the problem. Unfortunately I don&#39;t know much about Micronaut to help with that","body":"Yes it doesn&#39;t explain the problem. Unfortunately I don&#39;t know much about Micronaut to help with that"},{"owner":{"account_id":95078,"reputation":7995,"user_id":259167,"display_name":"Graeme Rocher"},"score":0,"creation_date":1548318099,"post_id":54136772,"comment_id":95500183,"body_markdown":"The issue has been resolved in core and will be included in the next release, although the example will still not work as is as `Mapper` instances are not automatically Micronaut beans. You would have to define a `@Factory` with an `@Bean` that returns the mapper to make it a bean.","body":"The issue has been resolved in core and will be included in the next release, although the example will still not work as is as <code>Mapper</code> instances are not automatically Micronaut beans. You would have to define a <code>@Factory</code> with an <code>@Bean</code> that returns the mapper to make it a bean."}],"answers":[{"comments":[{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1552490906,"post_id":55137128,"comment_id":97031720,"body_markdown":"Thank you for the effort - this is exactly what i was looking for.","body":"Thank you for the effort - this is exactly what i was looking for."}],"tags":[],"owner":{"account_id":11590315,"reputation":338,"user_id":8490932,"display_name":"SirWojtek"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553243926,"creation_date":1552464891,"answer_id":55137128,"question_id":54136772,"body_markdown":"I found [Micronaut PR][1] which should resolve the problem with mapstruct using `jsr330` component model. They are planning to include the fix in `1.1.0`.\r\n\r\n\r\n[1]: https://github.com/micronaut-projects/micronaut-core/pull/1339\r\n\r\nUPDATE: The issue if fixed in `1.1.0.RC1`","title":"NoSuchBeanException for MapStruct generated classes in Micronaut","body":"<p>I found <a href=\"https://github.com/micronaut-projects/micronaut-core/pull/1339\" rel=\"nofollow noreferrer\">Micronaut PR</a> which should resolve the problem with mapstruct using <code>jsr330</code> component model. They are planning to include the fix in <code>1.1.0</code>.</p>\n\n<p>UPDATE: The issue if fixed in <code>1.1.0.RC1</code></p>\n"},{"tags":[],"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683451781,"creation_date":1683451781,"answer_id":76193094,"question_id":54136772,"body_markdown":"\r\n\r\nIf you are facing issue even after using @SirWojtek answer. Below changes worked for me: Add generated directory as source code.\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\r\n    }","title":"NoSuchBeanException for MapStruct generated classes in Micronaut","body":"<p>If you are facing issue even after using @SirWojtek answer. Below changes worked for me: Add generated directory as source code.</p>\n<pre><code>sourceSets {\n    main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55137128,"answer_count":2,"score":3,"last_activity_date":1683451781,"creation_date":1547153865,"question_id":54136772,"body_markdown":"When generating mapper-implementations with MapStruct, using &quot;jsr330&quot; componentModel, micronaut will throw a NoSuchBeanException during runtime when trying to inject those.\r\n\r\nA workaround would be to use a provider that will supply the mapper-objects, but the generated code should work.\r\n\r\nMapper definition:\r\n\r\n    @Mapper(componentModel = &quot;jsr330&quot;)\r\n    public interface FooBarMapper {\r\n        Foo toFoo(Bar bar);\r\n    }\r\n\r\nController:\r\n\r\n    @Controller\r\n    public class SomeController {\r\n        @Inject\r\n        public SomeController(FooBarMapper mapper) {\r\n        }\r\n\r\n        @Get\r\n        public String foo() {\r\n            return &quot;foo&quot;;\r\n        }\r\n    }\r\n\r\npom.xml excerpt:\r\n\r\n    &lt;annotationProcessorPaths&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/path&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n        &lt;/path&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\r\n            &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n        &lt;/path&gt;\r\n    &lt;/annotationProcessorPaths&gt;\r\n\r\nWhen calling the method on the controller, I would expect Micronaut to find the Mapstruct generated class (it is annotated with @Singleton), but instead, the result is\r\n\r\nMessage: No bean of type [com.example.FooBarMapper] exists. Ensure the class is declared a bean and if you are using Java or Kotlin make sure you have enabled annotation processing.\r\nPath Taken: new SomeController([FooBarMapper mapper])\r\nio.micronaut.context.exceptions.DependencyInjectionException: Failed to inject value for parameter [mapper] of class: com.example.SomeController\r\n\r\n","title":"NoSuchBeanException for MapStruct generated classes in Micronaut","body":"<p>When generating mapper-implementations with MapStruct, using \"jsr330\" componentModel, micronaut will throw a NoSuchBeanException during runtime when trying to inject those.</p>\n\n<p>A workaround would be to use a provider that will supply the mapper-objects, but the generated code should work.</p>\n\n<p>Mapper definition:</p>\n\n<pre><code>@Mapper(componentModel = \"jsr330\")\npublic interface FooBarMapper {\n    Foo toFoo(Bar bar);\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@Controller\npublic class SomeController {\n    @Inject\n    public SomeController(FooBarMapper mapper) {\n    }\n\n    @Get\n    public String foo() {\n        return \"foo\";\n    }\n}\n</code></pre>\n\n<p>pom.xml excerpt:</p>\n\n<pre><code>&lt;annotationProcessorPaths&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;/path&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n        &lt;version&gt;${micronaut.version}&lt;/version&gt;\n    &lt;/path&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\n        &lt;version&gt;${micronaut.version}&lt;/version&gt;\n    &lt;/path&gt;\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n\n<p>When calling the method on the controller, I would expect Micronaut to find the Mapstruct generated class (it is annotated with @Singleton), but instead, the result is</p>\n\n<p>Message: No bean of type [com.example.FooBarMapper] exists. Ensure the class is declared a bean and if you are using Java or Kotlin make sure you have enabled annotation processing.\nPath Taken: new SomeController([FooBarMapper mapper])\nio.micronaut.context.exceptions.DependencyInjectionException: Failed to inject value for parameter [mapper] of class: com.example.SomeController</p>\n"},{"tags":["java","intellij-idea","annotation-processing","mapstruct"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1569849319,"post_id":58166624,"comment_id":102718651,"body_markdown":"Do you have &quot;Build and Run using Gradle&quot; set in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle&quot;","body":"Do you have &quot;Build and Run using Gradle&quot; set in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle&quot;"}],"answers":[{"comments":[{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1577118439,"post_id":58168691,"comment_id":105098088,"body_markdown":"Thank you for this answer! Why this isn&#39;t the default IDE setting when working with Gradle projects?","body":"Thank you for this answer! Why this isn&#39;t the default IDE setting when working with Gradle projects?"}],"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1569851090,"creation_date":1569849305,"answer_id":58168691,"question_id":58166624,"body_markdown":"Please set &quot;Build and Run using Gradle&quot; in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle&quot;  ","title":"Mapstruct generated classes are not found if the application is run from IntelliJ IDEA","body":"<p>Please set \"Build and Run using Gradle\" in \"Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle\"  </p>\n"},{"tags":[],"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683451707,"creation_date":1683451707,"answer_id":76193091,"question_id":58166624,"body_markdown":"If you are facing issue even after using @y.bedrov answer.\r\nBelow changes worked for me:\r\nAdd generated directory as source code.\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\r\n    }\r\n\r\nAdd componentModel for Mapper class- (This tells Micronaut to create a bean for the mapper.)\r\n\r\n    @Mapper(componentModel = &quot;jsr330&quot;)\r\n\r\n","title":"Mapstruct generated classes are not found if the application is run from IntelliJ IDEA","body":"<p>If you are facing issue even after using @y.bedrov answer.\nBelow changes worked for me:\nAdd generated directory as source code.</p>\n<pre><code>sourceSets {\n    main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\n}\n</code></pre>\n<p>Add componentModel for Mapper class- (This tells Micronaut to create a bean for the mapper.)</p>\n<pre><code>@Mapper(componentModel = &quot;jsr330&quot;)\n</code></pre>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58168691,"answer_count":2,"score":3,"last_activity_date":1683451707,"creation_date":1569841502,"question_id":58166624,"body_markdown":"I have a Java 11 based application built with Gradle 4.8.1 which uses Mapstruct 1.3.0.Final. I use IntelliJ IDEA Ultimate 2019.2.3 for development. \r\n\r\n**Problem:** \r\n\r\nThe application does&#39;t work if I start it from IntelliJ IDEA, however it works when it is built with Gradle.\r\n\r\nI get the following error in run time when I start the app from IntelliJ:\r\n\r\n    ClassNotFoundException: Cannot find implementation for com.mycompany.MyMapper\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\r\n\r\n**My project setup:** \r\n\r\nI use one more annotation processing tool - Lombok which works fine. All together I have them in my dependencies like this:\r\n\r\n    compileOnly(&#39;org.projectlombok:lombok:1.18.10&#39;)\r\n    annotationProcessor(&#39;org.projectlombok:lombok:1.18.10&#39;)\r\n    compile(&#39;org.mapstruct:mapstruct:1.3.0.Final&#39;)\r\n    annotationProcessor(&#39;org.mapstruct:mapstruct-processor:1.3.0.Final&#39;)\r\n\r\n**How to reproduce:** It is enough to start a unit test from IntelliJ UI that requires a class generated with Mapstruct.\r\n\r\n**Question:** How to make IntelliJ IDEA correctly apply Mapstruct annotation processors?\r\n\r\n**What I have tried:** I went through similar issues on StackOveflow and [on GitHub][1]. Unfortunately, they didn&#39;t help. They are either using old versions of the lib, an old JVM or simply the solutions don&#39;t work.\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-examples/issues/45","title":"Mapstruct generated classes are not found if the application is run from IntelliJ IDEA","body":"<p>I have a Java 11 based application built with Gradle 4.8.1 which uses Mapstruct 1.3.0.Final. I use IntelliJ IDEA Ultimate 2019.2.3 for development. </p>\n\n<p><strong>Problem:</strong> </p>\n\n<p>The application does't work if I start it from IntelliJ IDEA, however it works when it is built with Gradle.</p>\n\n<p>I get the following error in run time when I start the app from IntelliJ:</p>\n\n<pre><code>ClassNotFoundException: Cannot find implementation for com.mycompany.MyMapper\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\n</code></pre>\n\n<p><strong>My project setup:</strong> </p>\n\n<p>I use one more annotation processing tool - Lombok which works fine. All together I have them in my dependencies like this:</p>\n\n<pre><code>compileOnly('org.projectlombok:lombok:1.18.10')\nannotationProcessor('org.projectlombok:lombok:1.18.10')\ncompile('org.mapstruct:mapstruct:1.3.0.Final')\nannotationProcessor('org.mapstruct:mapstruct-processor:1.3.0.Final')\n</code></pre>\n\n<p><strong>How to reproduce:</strong> It is enough to start a unit test from IntelliJ UI that requires a class generated with Mapstruct.</p>\n\n<p><strong>Question:</strong> How to make IntelliJ IDEA correctly apply Mapstruct annotation processors?</p>\n\n<p><strong>What I have tried:</strong> I went through similar issues on StackOveflow and <a href=\"https://github.com/mapstruct/mapstruct-examples/issues/45\" rel=\"nofollow noreferrer\">on GitHub</a>. Unfortunately, they didn't help. They are either using old versions of the lib, an old JVM or simply the solutions don't work.</p>\n"},{"tags":["java","date","datetime","deprecated","java.util.date"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":3,"creation_date":1683377017,"post_id":76188805,"comment_id":134359308,"body_markdown":"You should be using Local or Zoned Date classes, not `java.util.Date` / Calendar","body":"You should be using Local or Zoned Date classes, not <code>java.util.Date</code> / Calendar"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683377858,"post_id":76188805,"comment_id":134359402,"body_markdown":"BTW `java.util.Date` was almost  completely replaced by `Calendar` as of Java 1.1 (one-point-one, not to be confused with Java 11); and these were all outdated by classes in the `java.time` package with Java 8 (year 2014)","body":"BTW <code>java.util.Date</code> was almost  completely replaced by <code>Calendar</code> as of Java 1.1 (one-point-one, not to be confused with Java 11); and these were all outdated by classes in the <code>java.time</code> package with Java 8 (year 2014)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1683386576,"post_id":76188805,"comment_id":134360486,"body_markdown":"As @OneCricketeer said, dont use `Date`. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). So you need not know the answer to your question. In any case they referred both to lacking support for locales (for example languages, date formats and definitions of week numbers), time zones and probably more.","body":"As @OneCricketeer said, dont use <code>Date</code>. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. So you need not know the answer to your question. In any case they referred both to lacking support for locales (for example languages, date formats and definitions of week numbers), time zones and probably more."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683386354,"post_id":76188941,"comment_id":134360463,"body_markdown":"This answer was long outdated before it was written. `Calendar` and `GregorianClaendar` were obsoleted by [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/index.html) with Java 8 more than 9 years ago. Although historically they did replace much of the functionality of `Date` back in 1997, more than 25 years ago.","body":"This answer was long outdated before it was written. <code>Calendar</code> and <code>GregorianClaendar</code> were obsoleted by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> with Java 8 more than 9 years ago. Although historically they did replace much of the functionality of <code>Date</code> back in 1997, more than 25 years ago."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683392323,"post_id":76188941,"comment_id":134361210,"body_markdown":"Sure, but the question is, why were Date methods deprecated.  Not why was the thing that replaced the Date methods deprecated.","body":"Sure, but the question is, why were Date methods deprecated.  Not why was the thing that replaced the Date methods deprecated."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683394777,"post_id":76188941,"comment_id":134361514,"body_markdown":"Yeah, true. And one of the many typical mistakes people made with them was to use one of the `Calendar.getInstance` methods and assume they got a Gregorian calendar without ever checking their assumption. Its very good that we dont use those anymore.","body":"Yeah, true. And one of the many typical mistakes people made with them was to use one of the <code>Calendar.getInstance</code> methods and assume they got a Gregorian calendar without ever checking their assumption. Its very good that we dont use those anymore."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1683404191,"post_id":76188941,"comment_id":134362599,"body_markdown":"I rather wish some of the ancient classes, that are essentially 99% deprecated, would just cease to exist.  Sure, it would be a temporary problem for upgraders, but on the plus side, there would be fewer &quot;don&#39;t use that, use this&quot; traps for new programmers.  But what do I know?  I&#39;m still using Java 11 :-)","body":"I rather wish some of the ancient classes, that are essentially 99% deprecated, would just cease to exist.  Sure, it would be a temporary problem for upgraders, but on the plus side, there would be fewer &quot;don&#39;t use that, use this&quot; traps for new programmers.  But what do I know?  I&#39;m still using Java 11 :-)"}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683376776,"creation_date":1683376776,"answer_id":76188941,"question_id":76188805,"body_markdown":"If you look at the suggested replacements, you&#39;ll see there are two - Calendar and GregorianCalendar.\r\n\r\nThe programmer needs to make a choice, depending on the intention of the code. The old API would have been one or the other.  That is, it &quot;did not support internationalization&quot;.","title":"Why Date class does not support Internationalization?","body":"<p>If you look at the suggested replacements, you'll see there are two - Calendar and GregorianCalendar.</p>\n<p>The programmer needs to make a choice, depending on the intention of the code. The old API would have been one or the other.  That is, it &quot;did not support internationalization&quot;.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683438762,"post_id":76190806,"comment_id":134365083,"body_markdown":"Very nice demonstration of internationalization offered by java.time! Nothing you could ever have done with the old `Date` class alone, no way.","body":"Very nice demonstration of internationalization offered by java.time! Nothing you could ever have done with the old <code>Date</code> class alone, no way."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683442874,"post_id":76190806,"comment_id":134365417,"body_markdown":"One may add that other aspects of internationalization are provided by [ZoneId](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneId.html), [`WeekFields`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/temporal/WeekFields.html) and [`Chronology`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/chrono/Chronology.html) (not meant as an exhaustive list).","body":"One may add that other aspects of internationalization are provided by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">ZoneId</a>, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/temporal/WeekFields.html\" rel=\"nofollow noreferrer\"><code>WeekFields</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/chrono/Chronology.html\" rel=\"nofollow noreferrer\"><code>Chronology</code></a> (not meant as an exhaustive list)."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683418233,"creation_date":1683402402,"answer_id":76190806,"question_id":76188805,"body_markdown":"# tl;dr\r\n\r\nUse only *java.time* classes. Never use `Date`/`Calendar` etc.\r\n\r\n\r\n```java\r\nZonedDateTime.now(\r\n                ZoneId.of( &quot;Asia/Tokyo&quot; )\r\n        )\r\n        .format(\r\n                DateTimeFormatter\r\n                        .ofLocalizedDateTime( FormatStyle.FULL )\r\n                        .withLocale( Locale.GERMANY )\r\n        )\r\n```\r\n\r\n&gt;Sonntag, 7. Mai 2023, 04:53:02 Japanische Normalzeit\r\n\r\n# Avoid legacy date-time classes\r\n\r\nYou asked:\r\n\r\n&gt; Is this the reason why the methods of the Date class were deprecated?\r\n\r\nThe legacy date-time classes are rife with poor design decisions, written by people who did not understand date-time handling. The lack of internationalization is but one of *many* problems. \r\n\r\nTrying to understand these legacy classes is a waste of time, unless you want lessons on how to *not* do proper object-oriented programming. These classes were years ago supplanted by the modern *java.time* classes defined in [JSR 310][1]. \r\n\r\nUse neither of the two `Date` classes, nor `Calendar`, `SimpleDateFormat`, `GregorianCalendar`, etc. &#128073; Use only the date-time classes from the *java.time* package. Focus your precious learning time on *java.time*. \r\n\r\n# *java.time*\r\n\r\nThe *java.time* classes provide [internationalization][2] through the &#128073; [`DateTimeFormatter`][3] class. \r\n\r\nIn modern Java, the localization information comes from the [*Common Locale Data Repository Project (CLDR)*][4] published by the [Unicode Consortium][5]. \r\n\r\nHere is some example code.\r\n\r\nCapture the current moment as seen in the [wall-clock time/calendar used by the people of Japan][6]. For this purpose, use [`ZonedDateTime`][7] class. Specify the time zone of interest by using the [`ZoneId`][8] class.\r\n\r\n```java\r\nZoneId zoneIdTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; );\r\nZonedDateTime zdtTokyo = ZonedDateTime.now( zoneIdTokyo );\r\n```\r\n\r\nGenerate text representing that moment using [French Canadian][9] localization (human language &amp; cultural norms).\r\n\r\n```java\r\nLocale locale = Locale.CANADA_FRENCH;\r\nDateTimeFormatter formatter =\r\n        DateTimeFormatter\r\n                .ofLocalizedDateTime( FormatStyle.FULL )\r\n                .withLocale( locale );\r\nString output = zdtTokyo.format( formatter );\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;zdtTokyo.toString() = &quot; + zdtTokyo );\r\nSystem.out.println( &quot;output = &quot; + output );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nzdtTokyo.toString() = 2023-05-07T04:47:54.551174+09:00[Asia/Tokyo]\r\noutput = dimanche 7 mai 2023, 04 h 47 min 54 s heure normale du Japon\r\n```\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=310\r\n  [2]: https://en.wikipedia.org/wiki/Internationalization_and_localization\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [4]: https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\r\n  [5]: https://en.wikipedia.org/wiki/Unicode_Consortium\r\n  [6]: https://en.wikipedia.org/wiki/Japan_Standard_Time\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneId.html\r\n  [9]: https://en.wikipedia.org/wiki/French_Canadians","title":"Why Date class does not support Internationalization?","body":"<h1>tl;dr</h1>\n<p>Use only <em>java.time</em> classes. Never use <code>Date</code>/<code>Calendar</code> etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime.now(\n                ZoneId.of( &quot;Asia/Tokyo&quot; )\n        )\n        .format(\n                DateTimeFormatter\n                        .ofLocalizedDateTime( FormatStyle.FULL )\n                        .withLocale( Locale.GERMANY )\n        )\n</code></pre>\n<blockquote>\n<p>Sonntag, 7. Mai 2023, 04:53:02 Japanische Normalzeit</p>\n</blockquote>\n<h1>Avoid legacy date-time classes</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is this the reason why the methods of the Date class were deprecated?</p>\n</blockquote>\n<p>The legacy date-time classes are rife with poor design decisions, written by people who did not understand date-time handling. The lack of internationalization is but one of <em>many</em> problems.</p>\n<p>Trying to understand these legacy classes is a waste of time, unless you want lessons on how to <em>not</em> do proper object-oriented programming. These classes were years ago supplanted by the modern <em>java.time</em> classes defined in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>Use neither of the two <code>Date</code> classes, nor <code>Calendar</code>, <code>SimpleDateFormat</code>, <code>GregorianCalendar</code>, etc.  Use only the date-time classes from the <em>java.time</em> package. Focus your precious learning time on <em>java.time</em>.</p>\n<h1><em>java.time</em></h1>\n<p>The <em>java.time</em> classes provide <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">internationalization</a> through the  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class.</p>\n<p>In modern Java, the localization information comes from the <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\"><em>Common Locale Data Repository Project (CLDR)</em></a> published by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>.</p>\n<p>Here is some example code.</p>\n<p>Capture the current moment as seen in the <a href=\"https://en.wikipedia.org/wiki/Japan_Standard_Time\" rel=\"nofollow noreferrer\">wall-clock time/calendar used by the people of Japan</a>. For this purpose, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> class. Specify the time zone of interest by using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zoneIdTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; );\nZonedDateTime zdtTokyo = ZonedDateTime.now( zoneIdTokyo );\n</code></pre>\n<p>Generate text representing that moment using <a href=\"https://en.wikipedia.org/wiki/French_Canadians\" rel=\"nofollow noreferrer\">French Canadian</a> localization (human language &amp; cultural norms).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.CANADA_FRENCH;\nDateTimeFormatter formatter =\n        DateTimeFormatter\n                .ofLocalizedDateTime( FormatStyle.FULL )\n                .withLocale( locale );\nString output = zdtTokyo.format( formatter );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;zdtTokyo.toString() = &quot; + zdtTokyo );\nSystem.out.println( &quot;output = &quot; + output );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>zdtTokyo.toString() = 2023-05-07T04:47:54.551174+09:00[Asia/Tokyo]\noutput = dimanche 7 mai 2023, 04 h 47 min 54 s heure normale du Japon\n</code></pre>\n"}],"owner":{"account_id":17599814,"reputation":33,"user_id":12770029,"display_name":"Leveling_up"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76190806,"answer_count":2,"score":2,"last_activity_date":1683451008,"creation_date":1683375054,"question_id":76188805,"body_markdown":"I was going through the different ways that we can get **Date and Time** in java, while reading the documentation could not understand what the below quote mean.\r\n\r\n&gt;Unfortunately, the API for these functions was not amenable to internationalization.\r\n\r\nThe above quote is from documentation of Date class of java.\r\nWhat does that mean ??\r\nIs this the reason why the methods of the Date class were deprecated?","title":"Why Date class does not support Internationalization?","body":"<p>I was going through the different ways that we can get <strong>Date and Time</strong> in java, while reading the documentation could not understand what the below quote mean.</p>\n<blockquote>\n<p>Unfortunately, the API for these functions was not amenable to internationalization.</p>\n</blockquote>\n<p>The above quote is from documentation of Date class of java.\nWhat does that mean ??\nIs this the reason why the methods of the Date class were deprecated?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1683458860,"post_id":76192711,"comment_id":134367071,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Other matters: you should be using `PreparedStatement` and closing database objects in try-with-resources","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Other matters: you should be using <code>PreparedStatement</code> and closing database objects in try-with-resources"}],"answers":[{"tags":[],"owner":{"account_id":25828455,"reputation":16,"user_id":19566106,"display_name":"emreozll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683450762,"creation_date":1683450762,"answer_id":76193030,"question_id":76192711,"body_markdown":"I have read your question. As far as I understand, &quot;Student Id already exists&quot; error occurs when new data is added. If I understood correctly, the error is that you entered the student Id data. Since the MySQL database is a relational database, a data is added to the database with a unique ID number. I think automatic setting of this Student ID data in database table settings will give the most accurate result. In this way, the ID number of the data will not conflict.\r\n\r\n*Here you are trying to enroll a different student with the same value and this is wrong*\r\n\r\n[Your code photo ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQ8Qj.png\r\n\r\nYou are getting this error because you saved different data with the same ID in this photo. If you deleted the previous ID #1, the deleted data in relational databases actually remains inside. This is a legacy data protection method. The data continues from the next ID number. In other words, you must increase the ID values or the database should automatically increase it.","title":"Error in coding in Java with Mysql &quot;Library Management System&quot;","body":"<p>I have read your question. As far as I understand, &quot;Student Id already exists&quot; error occurs when new data is added. If I understood correctly, the error is that you entered the student Id data. Since the MySQL database is a relational database, a data is added to the database with a unique ID number. I think automatic setting of this Student ID data in database table settings will give the most accurate result. In this way, the ID number of the data will not conflict.</p>\n<p><em>Here you are trying to enroll a different student with the same value and this is wrong</em></p>\n<p><a href=\"https://i.stack.imgur.com/WQ8Qj.png\" rel=\"nofollow noreferrer\">Your code photo </a></p>\n<p>You are getting this error because you saved different data with the same ID in this photo. If you deleted the previous ID #1, the deleted data in relational databases actually remains inside. This is a legacy data protection method. The data continues from the next ID number. In other words, you must increase the ID values or the database should automatically increase it.</p>\n"}],"owner":{"account_id":28534203,"reputation":1,"user_id":21841149,"display_name":"Jaybs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683450762,"creation_date":1683445192,"question_id":76192711,"body_markdown":"I&#39;ve been working on this system and this error stops me to continue to code, there is no error in my code the output is the error. When i run the newStudent.java and type the data it show&#39;s that it&#39;s already existing, &quot;Student ID Already Exist&quot; you can see it in 46:20 in the Youtube video below. I hope someone help me, this will be a big help so ia can continue this system\r\n[this is my output in my code](https://i.stack.imgur.com/KmFmx.png) \r\n[This is my source code in the button]`(https://i.stack.imgur.com/WQ8Qj.png)`\r\nhttps://www.youtube.com/watch?v=sLs-2N5mAow\r\nI try to check if my connection is the problem but with the help of some AI Technologies, I see that the connection is active and try multiple times to recheck if i missed some of the code but I see its complete. I expect to resolve this issue so i can study more of it.","title":"Error in coding in Java with Mysql &quot;Library Management System&quot;","body":"<p>I've been working on this system and this error stops me to continue to code, there is no error in my code the output is the error. When i run the newStudent.java and type the data it show's that it's already existing, &quot;Student ID Already Exist&quot; you can see it in 46:20 in the Youtube video below. I hope someone help me, this will be a big help so ia can continue this system\n<a href=\"https://i.stack.imgur.com/KmFmx.png\" rel=\"nofollow noreferrer\">this is my output in my code</a>\n[This is my source code in the button]<code>(https://i.stack.imgur.com/WQ8Qj.png)</code>\n<a href=\"https://www.youtube.com/watch?v=sLs-2N5mAow\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sLs-2N5mAow</a>\nI try to check if my connection is the problem but with the help of some AI Technologies, I see that the connection is active and try multiple times to recheck if i missed some of the code but I see its complete. I expect to resolve this issue so i can study more of it.</p>\n"},{"tags":["java","memory","deployment","server","out-of-memory"],"comments":[{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":0,"creation_date":1454415624,"post_id":35153293,"comment_id":58024763,"body_markdown":"Could you post the full error message? Its quite hard to guess what you mean from the little info you provide.","body":"Could you post the full error message? Its quite hard to guess what you mean from the little info you provide."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1454415835,"post_id":35153293,"comment_id":58024930,"body_markdown":"check this and you will see what it extends https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html","body":"check this and you will see what it extends <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1454415872,"post_id":35153293,"comment_id":58024957,"body_markdown":"Basically catching Exception you will miss!","body":"Basically catching Exception you will miss!"},{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":0,"creation_date":1454416061,"post_id":35153293,"comment_id":58025119,"body_markdown":"@PetterFriberg Now I get what he wants.","body":"@PetterFriberg Now I get what he wants."},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1454416093,"post_id":35153293,"comment_id":58025141,"body_markdown":"Please be a lot more specific than you have so far, OP. Everyone seems to be trying to guess what you mean.","body":"Please be a lot more specific than you have so far, OP. Everyone seems to be trying to guess what you mean."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1454416579,"post_id":35153293,"comment_id":58025551,"body_markdown":"@AndrewRegan, was trying to find a duplicate before answering.","body":"@AndrewRegan, was trying to find a duplicate before answering."},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1454416672,"post_id":35153293,"comment_id":58025618,"body_markdown":"You&#39;re probably right, Petter, but question definitely needs an edit.","body":"You&#39;re probably right, Petter, but question definitely needs an edit."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1454417593,"post_id":35153293,"comment_id":58026299,"body_markdown":"IndexOfOutBoundException is a RuntimeException and OutOfMemoryError is an Error.  You need to know what the actual name of the error is.","body":"IndexOfOutBoundException is a RuntimeException and OutOfMemoryError is an Error.  You need to know what the actual name of the error is."},{"owner":{"account_id":2502766,"reputation":327,"user_id":5070865,"accept_rate":57,"display_name":"manohar e"},"score":0,"creation_date":1454484286,"post_id":35153293,"comment_id":58059272,"body_markdown":"Thanks All. Here it is the error:  Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: allocLargeObjectOrArray - Object size: 8216, Num elements: 2049","body":"Thanks All. Here it is the error:  Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: allocLargeObjectOrArray - Object size: 8216, Num elements: 2049"}],"answers":[{"comments":[{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":1,"creation_date":1454416285,"post_id":35153571,"comment_id":58025301,"body_markdown":"just adding that catching Throwables might not really help you as Errors tend to not be recoverable. see [Here](http://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable)","body":"just adding that catching Throwables might not really help you as Errors tend to not be recoverable. see <a href=\"http://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\">Here</a>"}],"tags":[],"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1454419766,"creation_date":1454416120,"answer_id":35153571,"question_id":35153293,"body_markdown":"[java.lang.OutOfMemoryError][1] extends `java.lang.Error` and **not**  `java.lang.Exception`\r\n\r\ncatching `Exception` you will miss it\r\n\r\n    try{\r\n    ....\r\n    }catch(Exception ex){\r\n     //will not catch OutOfMemoryError, since it does not extend Exception\r\n    }\r\n\r\ncatching `Throwable`, you will hit&#39;em both..\r\n\r\n    try{\r\n    ....\r\n    }catch(Throwable ex){\r\n     //will catch both Exception and OutOfMemoryError, they both extend this\r\n    }\r\n\r\nWhether it is good or not to catch `Throwable` is another question see this https://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable (Thanks to @Dawnkeeper for link)\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\r\n","title":"Is memory out of bound exception or error?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow noreferrer\">java.lang.OutOfMemoryError</a> extends <code>java.lang.Error</code> and <strong>not</strong>  <code>java.lang.Exception</code></p>\n\n<p>catching <code>Exception</code> you will miss it</p>\n\n<pre><code>try{\n....\n}catch(Exception ex){\n //will not catch OutOfMemoryError, since it does not extend Exception\n}\n</code></pre>\n\n<p>catching <code>Throwable</code>, you will hit'em both..</p>\n\n<pre><code>try{\n....\n}catch(Throwable ex){\n //will catch both Exception and OutOfMemoryError, they both extend this\n}\n</code></pre>\n\n<p>Whether it is good or not to catch <code>Throwable</code> is another question see this <a href=\"https://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\">Is it a bad practice to catch Throwable?</a> (Thanks to @Dawnkeeper for link)</p>\n"}],"owner":{"account_id":2502766,"reputation":327,"user_id":5070865,"accept_rate":57,"display_name":"manohar e"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4567,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":35153571,"answer_count":1,"score":0,"last_activity_date":1683449114,"creation_date":1454415423,"question_id":35153293,"body_markdown":"Is memory out of bound exception or error? We usually get this during project deployment on the server. It might be a basic question. I googled it but I could not find relevant answer so posting here.\r\n\r\n*Error I got:*\r\n\r\n&gt; Invocation of init method failed; nested exception is `java.lang.OutOfMemoryError: allocLargeObjectOrArray` - Object size: 8216, Num elements: 2049\r\n\r\nAnd how can we handle this?","title":"Is memory out of bound exception or error?","body":"<p>Is memory out of bound exception or error? We usually get this during project deployment on the server. It might be a basic question. I googled it but I could not find relevant answer so posting here.</p>\n\n<p><em>Error I got:</em></p>\n\n<blockquote>\n  <p>Invocation of init method failed; nested exception is <code>java.lang.OutOfMemoryError: allocLargeObjectOrArray</code> - Object size: 8216, Num elements: 2049</p>\n</blockquote>\n\n<p>And how can we handle this?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683442393,"post_id":76192552,"comment_id":134365373,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post) --- &quot;*... say I compile under the `local` profile, can I still run the jar under the `server` profile properly later?*&quot; - Yes. Only case that I know of where profiles matter at compile-time (from quarkus) is native compilation.","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a> --- &quot;<i>... say I compile under the <code>local</code> profile, can I still run the jar under the <code>server</code> profile properly later?</i>&quot; - Yes. Only case that I know of where profiles matter at compile-time (from quarkus) is native compilation."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1683442480,"post_id":76192552,"comment_id":134365383,"body_markdown":"@Turing85 Thanks for the feedback! I will keep this in my in future posts! Still looking for an answer for my 1st question though! Love your response to my 2nd part! :)","body":"@Turing85 Thanks for the feedback! I will keep this in my in future posts! Still looking for an answer for my 1st question though! Love your response to my 2nd part! :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1683443094,"post_id":76192552,"comment_id":134365439,"body_markdown":"You are confusing spring profiles, which have effects when you run your spring application, and maven profiles, which have an effect when you run maven. They are unrelated.","body":"You are confusing spring profiles, which have effects when you run your spring application, and maven profiles, which have an effect when you run maven. They are unrelated."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683443189,"post_id":76192552,"comment_id":134365444,"body_markdown":"You haven&#39;t shown enough of your maven output for us to answer your question.","body":"You haven&#39;t shown enough of your maven output for us to answer your question."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1683443234,"post_id":76192552,"comment_id":134365451,"body_markdown":"@tgdavies understood. but in this particular case, how do I compile with maven? maven will not let me compile, because it cannot find the correct spring profile to satisfy value annotation","body":"@tgdavies understood. but in this particular case, how do I compile with maven? maven will not let me compile, because it cannot find the correct spring profile to satisfy value annotation"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1683443493,"post_id":76192552,"comment_id":134365486,"body_markdown":"Also, the error is : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project backendDB: There are test failures","body":"Also, the error is : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project backendDB: There are test failures"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683445883,"post_id":76192552,"comment_id":134365693,"body_markdown":"You have tests which want to run your application. You&#39;ll need to run them with a Spring profile which works (your default profile doesn&#39;t)","body":"You have tests which want to run your application. You&#39;ll need to run them with a Spring profile which works (your default profile doesn&#39;t)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683449984,"post_id":76192552,"comment_id":134366120,"body_markdown":"There are annotation for spring boot tests @Profile(&quot;production&quot;) etc. (Take a look into spring boot doc https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles) ...","body":"There are annotation for spring boot tests @Profile(&quot;production&quot;) etc. (Take a look into spring boot doc <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>) ..."}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683446712,"creation_date":1683446712,"answer_id":76192813,"question_id":76192552,"body_markdown":"Multiple options to solve this:\r\n\r\n- Provide a default value for your variable\r\n```java\r\n@Value(&quot;${test.variable:my-default-value}&quot;)\r\nString variable;\r\n```\r\n\r\n- Set profile via maven for tests\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n     ...\r\n\t&lt;plugin&gt;\r\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t   \t  &lt;argLine&gt;-Dspring.profiles.active=local&lt;/argLine&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n```\r\n\r\n- Provide test variable via src/**test**/resources/application.properties\r\n\r\n```properties\r\n# application.properties in test/resources folder\r\ntest.variable = test\r\n```\r\n...\r\n","title":"Package Maven With Profile","body":"<p>Multiple options to solve this:</p>\n<ul>\n<li>Provide a default value for your variable</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${test.variable:my-default-value}&quot;)\nString variable;\n</code></pre>\n<ul>\n<li>Set profile via maven for tests</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n     ...\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;-Dspring.profiles.active=local&lt;/argLine&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n<ul>\n<li>Provide test variable via src/<strong>test</strong>/resources/application.properties</li>\n</ul>\n<pre><code># application.properties in test/resources folder\ntest.variable = test\n</code></pre>\n<p>...</p>\n"},{"tags":[],"owner":{"account_id":9518780,"reputation":26,"user_id":7123428,"display_name":"Roman A Musiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683447239,"creation_date":1683447239,"answer_id":76192833,"question_id":76192552,"body_markdown":"Spring profile is just a parameter for your application that is used by spring framework to set up different beans/properties and hence define different application behaviour. Also spring profile is runtime parameter and used only during the running the application. There is no relation between maven profile and spring profile.\r\n\r\nSo when you wrote \r\n\r\n&gt; when I run mvn package, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the @value line it cannot find test.variable, since it does not exist on applicaton.properties. How do I mvn package to compile this to a jar?\r\n\r\nit does not make much sence - because \r\n1. `maven` does not know aboout spring profiles.\r\n2. `maven` does not use (and should not use) `spring profile` for compiling/packaging your application since `spring profile` is it runtime parameter.\r\n\r\n&gt; How do I mvn package to compile this to a jar?\r\n\r\nTo package your spring boot application to jar one can use spring-boot-maven-plugin. The easiest way to start is to use https://start.spring.io/, which prepate initial maven project sceleton for you.\r\n","title":"Package Maven With Profile","body":"<p>Spring profile is just a parameter for your application that is used by spring framework to set up different beans/properties and hence define different application behaviour. Also spring profile is runtime parameter and used only during the running the application. There is no relation between maven profile and spring profile.</p>\n<p>So when you wrote</p>\n<blockquote>\n<p>when I run mvn package, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the @value line it cannot find test.variable, since it does not exist on applicaton.properties. How do I mvn package to compile this to a jar?</p>\n</blockquote>\n<p>it does not make much sence - because</p>\n<ol>\n<li><code>maven</code> does not know aboout spring profiles.</li>\n<li><code>maven</code> does not use (and should not use) <code>spring profile</code> for compiling/packaging your application since <code>spring profile</code> is it runtime parameter.</li>\n</ol>\n<blockquote>\n<p>How do I mvn package to compile this to a jar?</p>\n</blockquote>\n<p>To package your spring boot application to jar one can use spring-boot-maven-plugin. The easiest way to start is to use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>, which prepate initial maven project sceleton for you.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1683492399,"answer_count":2,"score":1,"last_activity_date":1683447239,"creation_date":1683442100,"question_id":76192552,"body_markdown":"I am running spring boot, and I have a spring boot with 3 profiles. They are as follows.\r\n\r\n    applicaton.properties\r\n    {Empty file}\r\n\r\n    application-local.properties\r\n    test.variable = &#39;1&#39;\r\n\r\n    application-server.properties\r\n    test.variable = &#39;2&#39;\r\n\r\nNow, when I run my springboot, I have one or the other profiles always running, depending on if its my server or local env. I have an `@value` to parse these values. However, when I run `mvn package`, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the `@value` line it cannot find `test.variable`, since it does not exist on `applicaton.properties`. How do I `mvn package` to compile this to a jar?\r\n\r\nAlso, I understand that when running this application, all I need to do is add `-Dspring.profiles.active={profile}`, but say I compile under the `local` profile, can I still run the jar under the `server` profile properly later?\r\n\r\nThanks!\r\n\r\n\r\nA bit more of an update... I am attempting to run this command: `mvn package -P local`\r\n\r\nMaven throws this exception:\r\n\r\n        {bunch of other stacktrace stuff}\r\n    Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;test.variable&#39; in value &quot;${test.variable}&quot;\r\n\r\nPlease note that when I run this application in intellij, and in my run configurations, when I select to run &#39;local&#39; as my profile, it works perfectly, so its just a matter of getting maven to use the local profile properly.","title":"Package Maven With Profile","body":"<p>I am running spring boot, and I have a spring boot with 3 profiles. They are as follows.</p>\n<pre><code>applicaton.properties\n{Empty file}\n\napplication-local.properties\ntest.variable = '1'\n\napplication-server.properties\ntest.variable = '2'\n</code></pre>\n<p>Now, when I run my springboot, I have one or the other profiles always running, depending on if its my server or local env. I have an <code>@value</code> to parse these values. However, when I run <code>mvn package</code>, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the <code>@value</code> line it cannot find <code>test.variable</code>, since it does not exist on <code>applicaton.properties</code>. How do I <code>mvn package</code> to compile this to a jar?</p>\n<p>Also, I understand that when running this application, all I need to do is add <code>-Dspring.profiles.active={profile}</code>, but say I compile under the <code>local</code> profile, can I still run the jar under the <code>server</code> profile properly later?</p>\n<p>Thanks!</p>\n<p>A bit more of an update... I am attempting to run this command: <code>mvn package -P local</code></p>\n<p>Maven throws this exception:</p>\n<pre><code>    {bunch of other stacktrace stuff}\nInjection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'test.variable' in value &quot;${test.variable}&quot;\n</code></pre>\n<p>Please note that when I run this application in intellij, and in my run configurations, when I select to run 'local' as my profile, it works perfectly, so its just a matter of getting maven to use the local profile properly.</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683442206,"post_id":76192532,"comment_id":134365362,"body_markdown":"Looks like you did not call `emp.setAddress(address)`.","body":"Looks like you did not call <code>emp.setAddress(address)</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683442839,"post_id":76192532,"comment_id":134365414,"body_markdown":"Uhm.... I just did...","body":"Uhm.... I just did..."},{"owner":{"account_id":28533558,"reputation":3,"user_id":21840573,"display_name":"Juber Ahemad"},"score":0,"creation_date":1683444334,"post_id":76192532,"comment_id":134365560,"body_markdown":"Thank you .very muchh....Its working. I have done silly mistake","body":"Thank you .very muchh....Its working. I have done silly mistake"}],"answers":[{"tags":[],"owner":{"account_id":25828455,"reputation":16,"user_id":19566106,"display_name":"emreozll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683446140,"creation_date":1683446140,"answer_id":76192777,"question_id":76192532,"body_markdown":"he is telling the truth. You have set the address object in the customer class with a One-to-One relationship dependency, but you have not set its information. You should add this after the line `employee.setAddress()`, `employee.setInfo()`.","title":"I am trying to mapping three entity with another entity by using onetoone annotation","body":"<p>he is telling the truth. You have set the address object in the customer class with a One-to-One relationship dependency, but you have not set its information. You should add this after the line <code>employee.setAddress()</code>, <code>employee.setInfo()</code>.</p>\n"}],"owner":{"account_id":28533558,"reputation":3,"user_id":21840573,"display_name":"Juber Ahemad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76192777,"answer_count":1,"score":0,"last_activity_date":1683446140,"creation_date":1683441662,"question_id":76192532,"body_markdown":"\r\n\r\n\r\nI have three entity employee , info, and address , i want mapped employee entity with info and address entity by using onetoone mapping by using hibernate and jpa annotation. \r\n\r\n\r\n```\r\n@Entity\r\npublic class Employee {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate  int empId;\r\n\tprivate String name;\r\n\tprivate String email;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\r\n\tprivate Info info;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\r\n\tprivate Address address;\r\n//getter and setter\r\n\r\n\r\n@Entity\r\npublic class Info {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate  int infoId;\r\n\tprivate String gender;\r\n\tprivate String phone;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;emp_id&quot;)\r\n\tprivate Employee emp;\r\n\r\n//getter and setter\r\n\r\n@Entity\r\npublic class Address {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate  int addrId;\r\n\tprivate String street;\r\n\tprivate String city;\r\n\tprivate String country;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;emp_id&quot;)\r\n\tprivate Employee emp;\r\n//getter and setter\r\n\r\npublic class OneToOneApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tConfiguration configuration = new Configuration();\r\n\t\tconfiguration.configure(&quot;o2omapping.cfg.xml&quot;);\r\n\t\tSessionFactory sessionFactory=configuration.buildSessionFactory();\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tTransaction transaction = session.beginTransaction();\r\n\t\t \r\n\t\tEmployee employee =new Employee();\r\n\t\temployee.setName(&quot;Iqra&quot;);\r\n\t\temployee.setEmail(&quot;iqra@gmail.com&quot;);\r\n\t\t\t\r\n\t\tAddress address = new Address();\r\n\t\taddress.setStreet(&quot;Manda Road&quot;);\r\n\t\taddress.setCity(&quot;Allahabad&quot;);\r\n\t\taddress.setCountry(&quot;India&quot;);\r\n\t\t\r\n\t\tInfo info = new Info();\r\n\t\tinfo.setGender(&quot;FeMale&quot;);\r\n\t\tinfo.setPhone(&quot;12334567&quot;);\r\n\t\t\r\n\t\temployee.setInfo(info);\r\n\t\tinfo.setEmp(employee);\r\n\t\taddress.setEmp(employee);\r\n\t\t\r\n\t\tsession.save(employee);\r\n\t\ttransaction.commit();\r\n\t\tsession.close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n alter table Info \r\n       add constraint FKdjqy16j48ffa2x19eqgx3o8f0 \r\n       foreign key (emp_id) \r\n       references Employee (empId)\r\nHibernate: \r\n    insert \r\n    into\r\n        Employee\r\n        (email, name) \r\n    values\r\n        (?, ?)\r\nHibernate: \r\n    insert \r\n    into\r\n        Info\r\n        (emp_id, gender, phone) \r\n    values\r\n        (?, ?, ?)\r\n\r\ndata not Inserted into  address table \r\nwhy?? ","title":"I am trying to mapping three entity with another entity by using onetoone annotation","body":"<p>I have three entity employee , info, and address , i want mapped employee entity with info and address entity by using onetoone mapping by using hibernate and jpa annotation.</p>\n<pre><code>@Entity\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int empId;\n    private String name;\n    private String email;\n    \n    @OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\n    private Info info;\n    \n    @OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\n    private Address address;\n//getter and setter\n\n\n@Entity\npublic class Info {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int infoId;\n    private String gender;\n    private String phone;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;emp_id&quot;)\n    private Employee emp;\n\n//getter and setter\n\n@Entity\npublic class Address {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int addrId;\n    private String street;\n    private String city;\n    private String country;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;emp_id&quot;)\n    private Employee emp;\n//getter and setter\n\npublic class OneToOneApp {\n\n    public static void main(String[] args) {\n        \n        Configuration configuration = new Configuration();\n        configuration.configure(&quot;o2omapping.cfg.xml&quot;);\n        SessionFactory sessionFactory=configuration.buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n         \n        Employee employee =new Employee();\n        employee.setName(&quot;Iqra&quot;);\n        employee.setEmail(&quot;iqra@gmail.com&quot;);\n            \n        Address address = new Address();\n        address.setStreet(&quot;Manda Road&quot;);\n        address.setCity(&quot;Allahabad&quot;);\n        address.setCountry(&quot;India&quot;);\n        \n        Info info = new Info();\n        info.setGender(&quot;FeMale&quot;);\n        info.setPhone(&quot;12334567&quot;);\n        \n        employee.setInfo(info);\n        info.setEmp(employee);\n        address.setEmp(employee);\n        \n        session.save(employee);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>alter table Info\nadd constraint FKdjqy16j48ffa2x19eqgx3o8f0\nforeign key (emp_id)\nreferences Employee (empId)\nHibernate:\ninsert\ninto\nEmployee\n(email, name)\nvalues\n(?, ?)\nHibernate:\ninsert\ninto\nInfo\n(emp_id, gender, phone)\nvalues\n(?, ?, ?)</p>\n<p>data not Inserted into  address table\nwhy??</p>\n"},{"tags":["java","android","okhttp","openai-api","openai-whisper"],"answers":[{"tags":[],"owner":{"account_id":19198116,"reputation":62,"user_id":15169843,"display_name":"Prince Andrew Anire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683446071,"creation_date":1683446071,"answer_id":76192771,"question_id":76192623,"body_markdown":"Welcome to Stack Overflow!\r\n\r\nTry getting the absolute path of the audio file and send the audio file&#39;s content when sending POST request to the Whisper API\r\n \r\nAccording to the example requests for python and node [API Reference for Creating transcriptions](https://platform.openai.com/docs/api-reference/audio/create) you need to get the absolute path of your audio file, read the audio file&#39;s content, and assign it to a variable and use the variable as the `file` parameter of your POST request to the OpenAI Whisper API\r\n\r\n","title":"OpenAI Whisper API, response status code 400 error","body":"<p>Welcome to Stack Overflow!</p>\n<p>Try getting the absolute path of the audio file and send the audio file's content when sending POST request to the Whisper API</p>\n<p>According to the example requests for python and node <a href=\"https://platform.openai.com/docs/api-reference/audio/create\" rel=\"nofollow noreferrer\">API Reference for Creating transcriptions</a> you need to get the absolute path of your audio file, read the audio file's content, and assign it to a variable and use the variable as the <code>file</code> parameter of your POST request to the OpenAI Whisper API</p>\n"}],"owner":{"account_id":17410562,"reputation":13,"user_id":12617815,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76192771,"answer_count":1,"score":1,"last_activity_date":1683446071,"creation_date":1683443548,"question_id":76192623,"body_markdown":"I am trying to use the Whisper API in Android, but I am encountering an issue where the request code is consistently returning a 400 error.\r\nFirst of all, since it works correctly when using Postman, I believe that the issue is not related to the secret key or content header values.\r\nSo, based on my current assumption, I believe there might be an error in using okhttp3.\r\n\r\nBelow is my Android code.\r\n\r\n```\r\npublic void requestWhisper(String file, Callback callback) {\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        MediaType mediaType = MediaType.parse(&quot;audio/mpeg&quot;); \r\n        File audioFile = new File(file);\r\n\r\n        RequestBody requestBody = new MultipartBody.Builder()\r\n                .setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;model&quot;, &quot;whisper-1&quot;)\r\n                .addFormDataPart(&quot;file&quot;, audioFile.getName(), \r\n                                  RequestBody.create(audioFile, mediaType))\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(whisper_api)\r\n                .post(requestBody)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n                .build();\r\n\r\n\r\n        client.newCall(request).enqueue(new okhttp3.Callback() {\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull okhttp3.Response response) throws IOException {\r\n                if (response.isSuccessful()) {\r\n                    String result = response.body().string();\r\n                    callback.onCallback(result);\r\n                } else {\r\n                    callback.onCallback(&quot;Error: &quot; + response.message());\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(Call call, IOException e) {\r\n                e.printStackTrace();\r\n                callback.onCallback(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        });\r\n}\r\n```\r\n\r\nAnd Below is response.\r\n\r\n```\r\nResponse{protocol=h2, code=400, message=, url=https://api.openai.com/v1/audio/transcriptions}\r\n```\r\n\r\n\r\nI am currently facing a roadblock. I would appreciate any suggestions or opinions you can provide.\r\n\r\n\r\nHere is another piece of code I tried besides the one mentioned above.\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder().build();\r\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n  .addFormDataPart(&quot;model&quot;,&quot;whisper-1&quot;)\r\n  .addFormDataPart(&quot;file&quot;,&quot;VOICE_FILE.mp3&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;FILE_PATH&quot;)))\r\n  .build();\r\nRequest request = new Request.Builder()\r\n  .url(&quot;https://api.openai.com/v1/audio/transcriptions&quot;)\r\n  .method(&quot;POST&quot;, body)\r\n  .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\r\n  .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n  .build();\r\nResponse response = client.newCall(request).execute();\r\n```\r\n\r\nHowever, the outcome was the same.\r\n","title":"OpenAI Whisper API, response status code 400 error","body":"<p>I am trying to use the Whisper API in Android, but I am encountering an issue where the request code is consistently returning a 400 error.\nFirst of all, since it works correctly when using Postman, I believe that the issue is not related to the secret key or content header values.\nSo, based on my current assumption, I believe there might be an error in using okhttp3.</p>\n<p>Below is my Android code.</p>\n<pre><code>public void requestWhisper(String file, Callback callback) {\n\n        OkHttpClient client = new OkHttpClient();\n        MediaType mediaType = MediaType.parse(&quot;audio/mpeg&quot;); \n        File audioFile = new File(file);\n\n        RequestBody requestBody = new MultipartBody.Builder()\n                .setType(MultipartBody.FORM)\n                .addFormDataPart(&quot;model&quot;, &quot;whisper-1&quot;)\n                .addFormDataPart(&quot;file&quot;, audioFile.getName(), \n                                  RequestBody.create(audioFile, mediaType))\n                .build();\n\n        Request request = new Request.Builder()\n                .url(whisper_api)\n                .post(requestBody)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\n                .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n                .build();\n\n\n        client.newCall(request).enqueue(new okhttp3.Callback() {\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull okhttp3.Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    String result = response.body().string();\n                    callback.onCallback(result);\n                } else {\n                    callback.onCallback(&quot;Error: &quot; + response.message());\n                }\n            }\n            @Override\n            public void onFailure(Call call, IOException e) {\n                e.printStackTrace();\n                callback.onCallback(&quot;Error: &quot; + e.getMessage());\n            }\n        });\n}\n</code></pre>\n<p>And Below is response.</p>\n<pre><code>Response{protocol=h2, code=400, message=, url=https://api.openai.com/v1/audio/transcriptions}\n</code></pre>\n<p>I am currently facing a roadblock. I would appreciate any suggestions or opinions you can provide.</p>\n<p>Here is another piece of code I tried besides the one mentioned above.</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder().build();\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n  .addFormDataPart(&quot;model&quot;,&quot;whisper-1&quot;)\n  .addFormDataPart(&quot;file&quot;,&quot;VOICE_FILE.mp3&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;FILE_PATH&quot;)))\n  .build();\nRequest request = new Request.Builder()\n  .url(&quot;https://api.openai.com/v1/audio/transcriptions&quot;)\n  .method(&quot;POST&quot;, body)\n  .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\n  .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n  .build();\nResponse response = client.newCall(request).execute();\n</code></pre>\n<p>However, the outcome was the same.</p>\n"},{"tags":["java","android","sms","default","native-android"],"answers":[{"tags":[],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683443253,"creation_date":1683443253,"answer_id":76192603,"question_id":76192417,"body_markdown":"After doing some more research I was able to show the dialog here is the updated code for my Main Activity:\r\n\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_default_sms);\r\n\r\n        if (!isDefaultSmsApp(this))\r\n            setDefaultSmsApp();\r\n    }\r\n\r\n\r\n    private void setDefaultSmsApp() {\r\n        if(Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q){\r\n            //String mypackagename = getPackageName();\r\n            if(Telephony.Sms.getDefaultSmsPackage(this)!=null){\r\n                if (Telephony.Sms.getDefaultSmsPackage(this).equals(getPackageName())){\r\n                    openMainActivity();\r\n                }else{\r\n                    Intent setSmsAppIntent = new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\r\n                    setSmsAppIntent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,getPackageName());\r\n                    startActivityForResult(setSmsAppIntent, 1);\r\n                }\r\n            }else{\r\n                Toast.makeText(this, &quot;No default Sms App found&quot;, Toast.LENGTH_SHORT).show();}\r\n        }\r\n        else{\r\n            RoleManager rolemanager = getApplicationContext().getSystemService(RoleManager.class);\r\n            if (rolemanager.isRoleAvailable(RoleManager.ROLE_SMS)){\r\n                if (rolemanager.isRoleHeld(RoleManager.ROLE_SMS)){\r\n                    openMainActivity();\r\n                }\r\n                else{\r\n                    Intent roleRequestIntent = rolemanager.createRequestRoleIntent(RoleManager.ROLE_SMS);\r\n                    startActivityForResult(roleRequestIntent,REQUEST_SET_DEFAULT_SMS_APP);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nHope this helps someone!\r\n\r\n","title":"Default sms app chooser is not displaying","body":"<p>After doing some more research I was able to show the dialog here is the updated code for my Main Activity:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_default_sms);\n\n    if (!isDefaultSmsApp(this))\n        setDefaultSmsApp();\n}\n\n\nprivate void setDefaultSmsApp() {\n    if(Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q){\n        //String mypackagename = getPackageName();\n        if(Telephony.Sms.getDefaultSmsPackage(this)!=null){\n            if (Telephony.Sms.getDefaultSmsPackage(this).equals(getPackageName())){\n                openMainActivity();\n            }else{\n                Intent setSmsAppIntent = new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\n                setSmsAppIntent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,getPackageName());\n                startActivityForResult(setSmsAppIntent, 1);\n            }\n        }else{\n            Toast.makeText(this, &quot;No default Sms App found&quot;, Toast.LENGTH_SHORT).show();}\n    }\n    else{\n        RoleManager rolemanager = getApplicationContext().getSystemService(RoleManager.class);\n        if (rolemanager.isRoleAvailable(RoleManager.ROLE_SMS)){\n            if (rolemanager.isRoleHeld(RoleManager.ROLE_SMS)){\n                openMainActivity();\n            }\n            else{\n                Intent roleRequestIntent = rolemanager.createRequestRoleIntent(RoleManager.ROLE_SMS);\n                startActivityForResult(roleRequestIntent,REQUEST_SET_DEFAULT_SMS_APP);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Hope this helps someone!</p>\n"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76192603,"answer_count":1,"score":0,"last_activity_date":1683443253,"creation_date":1683439422,"question_id":76192417,"body_markdown":"I am working on an Sms app, I want my app to display the below chooser, so that the user can select my app as default \r\n[![enter image description here](https://i.stack.imgur.com/nzsyf.jpg)](https://i.stack.imgur.com/nzsyf.jpg)\r\n\r\nhere is my manifest code:\r\n\r\n```\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:name=&quot;.App&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;!-- &lt;service android:name=&quot;.BackgroundService&quot; /&gt;--&gt;\r\n\r\n        &lt;!-- Service that delivers messages from the phone &quot;quick response&quot; --&gt;\r\n        &lt;service\r\n            android:name=&quot;.BackgroundService&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.SmsReceiver&quot;\r\n            android:permission=&quot;android.permission.BROADCAST_SMS&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.MmsReceiver&quot;\r\n            android:permission=&quot;android.permission.BROADCAST_WAP_PUSH&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.provider.Telephony.WAP_PUSH_DELIVER&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;application/vnd.wap.mms-message&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n```\r\n\r\n\r\nand here is my mainActivity:\r\n\r\n\r\n```\r\n protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if (!isDefaultSmsApp(this))\r\n            setDefaultSmsApp();\r\n    }\r\n\r\n    private void setDefaultSmsApp() {\r\n        Toast.makeText(this, &quot;Setting default....&quot;, Toast.LENGTH_SHORT).show();\r\n        Intent intent =\r\n                new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\r\n        intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,\r\n                getPackageName());\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean isDefaultSmsApp(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            return context.getPackageName().equals(Telephony.Sms.getDefaultSmsPackage(context));\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public void requestSmsPermission() {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS)) {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Permission Needed&quot;)\r\n                    .setMessage(&quot;This permission is needed to send messages&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE))\r\n                    .setNegativeButton(&quot;Cancel&quot;, (dialogInterface, i) -&gt; {\r\n                        dialogInterface.dismiss();\r\n                        finish();\r\n                    })\r\n                    .create()\r\n                    .show();\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nWhat am i missing ?\r\n\r\n\r\nI have also tried using intent.createChooser but it was not working, as you can see i have registered all the necessary registers in my manifest,","title":"Default sms app chooser is not displaying","body":"<p>I am working on an Sms app, I want my app to display the below chooser, so that the user can select my app as default\n<a href=\"https://i.stack.imgur.com/nzsyf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzsyf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>here is my manifest code:</p>\n<pre><code>\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n\n\n    &lt;application\n        android:name=&quot;.App&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;!-- &lt;service android:name=&quot;.BackgroundService&quot; /&gt;--&gt;\n\n        &lt;!-- Service that delivers messages from the phone &quot;quick response&quot; --&gt;\n        &lt;service\n            android:name=&quot;.BackgroundService&quot;\n            android:exported=&quot;false&quot;\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.SmsReceiver&quot;\n            android:permission=&quot;android.permission.BROADCAST_SMS&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;receiver\n            android:name=&quot;.MmsReceiver&quot;\n            android:permission=&quot;android.permission.BROADCAST_WAP_PUSH&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.provider.Telephony.WAP_PUSH_DELIVER&quot; /&gt;\n                &lt;data android:mimeType=&quot;application/vnd.wap.mms-message&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n</code></pre>\n<p>and here is my mainActivity:</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (!isDefaultSmsApp(this))\n            setDefaultSmsApp();\n    }\n\n    private void setDefaultSmsApp() {\n        Toast.makeText(this, &quot;Setting default....&quot;, Toast.LENGTH_SHORT).show();\n        Intent intent =\n                new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\n        intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,\n                getPackageName());\n        startActivity(intent);\n    }\n\n    public boolean isDefaultSmsApp(Context context) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            return context.getPackageName().equals(Telephony.Sms.getDefaultSmsPackage(context));\n        }\n\n        return true;\n    }\n\n    public void requestSmsPermission() {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS)) {\n            new AlertDialog.Builder(this)\n                    .setTitle(&quot;Permission Needed&quot;)\n                    .setMessage(&quot;This permission is needed to send messages&quot;)\n                    .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE))\n                    .setNegativeButton(&quot;Cancel&quot;, (dialogInterface, i) -&gt; {\n                        dialogInterface.dismiss();\n                        finish();\n                    })\n                    .create()\n                    .show();\n        } else {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE);\n        }\n\n    }\n\n</code></pre>\n<p>What am i missing ?</p>\n<p>I have also tried using intent.createChooser but it was not working, as you can see i have registered all the necessary registers in my manifest,</p>\n"},{"tags":["java","android","argument-passing","wifi-direct","wifip2p"],"answers":[{"tags":[],"owner":{"account_id":1831280,"reputation":689,"user_id":1662629,"display_name":"Tareq"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683442729,"creation_date":1398329301,"answer_id":23264090,"question_id":23261948,"body_markdown":"Make the device that starts the game run as a TCP server and make it broadcast on the network and listen on a predetermined port. When another player wants to join, he just selects the server from a menu and join the game. The coordinates can be sent as packets on touch events.\r\n\r\nThis is for the server:\r\n\r\n    Thread serverThread = new Thread(new Runnable() {\r\n    \r\n        @Override\r\n        public void run() { \t\t\t\t\t\t\t\t\r\n        \r\n        try { \r\n             serverSocketTCP = new ServerSocket(); \r\n             serverSocketTCP.setReuseAddress(true); \r\n             serverSocketTCP.bind(new InetSocketAddress(YourPort));\r\n    \r\n       while (status) {\r\n            clientSocketTCP = serverSocketTCP.accept();\r\n\r\n            BufferedReader bufferedReader = new BufferedReader(new \r\n            InputStreamReader(client.getInputStream()));\r\n\r\n            OutputStream outputStream = client.getOutputStream();\r\n\r\n \r\n\r\n         }\r\n      } catch (Exception e) {\r\n         e.printStackTrace();\r\n    \t\t\t\t\t\t\t\t\t\r\n       }\r\n        });\r\n    serverThread.start();\r\n\r\n\r\nThis is for the client:\r\n\r\n    Socket  clientSocket = new Socket(ServerIP,ServerPort);\r\n    outputStream = clientSocket.getOutputStream();\r\n    bufferedReader=newBufferedReader(new \r\n    InputStreamReader(clientSocket.getInputStream()));\r\n\r\n\r\n","title":"Usage of WiFi-Direct in Game Development (Android)","body":"<p>Make the device that starts the game run as a TCP server and make it broadcast on the network and listen on a predetermined port. When another player wants to join, he just selects the server from a menu and join the game. The coordinates can be sent as packets on touch events.</p>\n<p>This is for the server:</p>\n<pre><code>Thread serverThread = new Thread(new Runnable() {\n\n    @Override\n    public void run() {                                 \n    \n    try { \n         serverSocketTCP = new ServerSocket(); \n         serverSocketTCP.setReuseAddress(true); \n         serverSocketTCP.bind(new InetSocketAddress(YourPort));\n\n   while (status) {\n        clientSocketTCP = serverSocketTCP.accept();\n\n        BufferedReader bufferedReader = new BufferedReader(new \n        InputStreamReader(client.getInputStream()));\n\n        OutputStream outputStream = client.getOutputStream();\n\n\n\n     }\n  } catch (Exception e) {\n     e.printStackTrace();\n                                    \n   }\n    });\nserverThread.start();\n</code></pre>\n<p>This is for the client:</p>\n<pre><code>Socket  clientSocket = new Socket(ServerIP,ServerPort);\noutputStream = clientSocket.getOutputStream();\nbufferedReader=newBufferedReader(new \nInputStreamReader(clientSocket.getInputStream()));\n</code></pre>\n"}],"owner":{"account_id":2208271,"reputation":127,"user_id":1950906,"accept_rate":67,"display_name":"Umar Farooq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23264090,"answer_count":1,"score":4,"last_activity_date":1683442729,"creation_date":1398322765,"question_id":23261948,"body_markdown":"I am developing board game in android. I want to make this game playable on two separate devices, for that I need to use WiFi-Direct. I want to know is there any library available which will help me to\r\n\r\n - Find and connect with device\r\n - Send and receive board coordinates between two devices after touch-listener event \r\n\r\nI am interested in built-in library.\r\nOR \r\nIf possible please share implemented example of client/server architecture.","title":"Usage of WiFi-Direct in Game Development (Android)","body":"<p>I am developing board game in android. I want to make this game playable on two separate devices, for that I need to use WiFi-Direct. I want to know is there any library available which will help me to</p>\n\n<ul>\n<li>Find and connect with device</li>\n<li>Send and receive board coordinates between two devices after touch-listener event </li>\n</ul>\n\n<p>I am interested in built-in library.\nOR \nIf possible please share implemented example of client/server architecture.</p>\n"},{"tags":["java","linux","apache-axis"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676386264,"post_id":75445112,"comment_id":133123856,"body_markdown":"JAVA_HOME should point to the root of the Java installation directory (`/usr/lib/jvm/java-1.8.0-openjdk-amd64`), not to bin.","body":"JAVA_HOME should point to the root of the Java installation directory (<code>&#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-amd64</code>), not to bin."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676441166,"post_id":75445112,"comment_id":133135170,"body_markdown":"@k314159 no , still the same","body":"@k314159 no , still the same"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676460883,"post_id":75445112,"comment_id":133139880,"body_markdown":"Your command `export CLASSPATH=/opt/axis2-1.8.2/lib/*.jar` doesn&#39;t seem right. If there are multiple jar files in that directory, say a.jar and b.jar, then the Linux shell will expand that into the following command `export CLASSPATH=/opt/axis2-1.8.2/lib/a.jar /opt/axis2-1.8.2/lib/b.jar` but the space is not a valid separator. Try the wildcard syntax `export CLASSPATH=&#39;/opt/axis2-1.8.2/lib/*&#39;` as specified at https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762 and taking care to put the asterisk in quotes so that the shell doesn&#39;t expand it.","body":"Your command <code>export CLASSPATH=&#47;opt&#47;axis2-1.8.2&#47;lib&#47;*.jar</code> doesn&#39;t seem right. If there are multiple jar files in that directory, say a.jar and b.jar, then the Linux shell will expand that into the following command <code>export CLASSPATH=&#47;opt&#47;axis2-1.8.2&#47;lib&#47;a.jar &#47;opt&#47;axis2-1.8.2&#47;lib&#47;b.jar</code> but the space is not a valid separator. Try the wildcard syntax <code>export CLASSPATH=&#39;&#47;opt&#47;axis2-1.8.2&#47;lib&#47;*&#39;</code> as specified at <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/windows/&hellip;</a> and taking care to put the asterisk in quotes so that the shell doesn&#39;t expand it."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676461457,"post_id":75445112,"comment_id":133140030,"body_markdown":"@k314159 when echo $CLASSPATH , i get a full list of all .jar files inside lib directory , so i think setting the classpath worked just fine . Although i will try your idea and let you know. It&#39;s the first time i can&#39;t find anything similar to my problem . I have also checked system requirements section in official APACHE Axis website and states that JAVA 8 or above will be compatible with the latest AXIS2 distribution . I am using java 8  .","body":"@k314159 when echo $CLASSPATH , i get a full list of all .jar files inside lib directory , so i think setting the classpath worked just fine . Although i will try your idea and let you know. It&#39;s the first time i can&#39;t find anything similar to my problem . I have also checked system requirements section in official APACHE Axis website and states that JAVA 8 or above will be compatible with the latest AXIS2 distribution . I am using java 8  ."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676461623,"post_id":75445112,"comment_id":133140088,"body_markdown":"@k314159 . Still getting the same error , i am so frustrated i  am stuck here for so long. Not even stack overflow can help :)    . I have also tried setting the AXIS2_HOME variable to /opt and /opt/axis2-1.8.2/bin AND also did a fresh installation but without any luck","body":"@k314159 . Still getting the same error , i am so frustrated i  am stuck here for so long. Not even stack overflow can help :)    . I have also tried setting the AXIS2_HOME variable to /opt and /opt/axis2-1.8.2/bin AND also did a fresh installation but without any luck"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676474799,"post_id":75445112,"comment_id":133144581,"body_markdown":"I downloaded the same distribution, and looked inside all the jars, and I can confirm there is no such class. It looks as if the distribution is broken, but Axis is such an old system that I doubt there would be many people still working on it and interested in fixing it.","body":"I downloaded the same distribution, and looked inside all the jars, and I can confirm there is no such class. It looks as if the distribution is broken, but Axis is such an old system that I doubt there would be many people still working on it and interested in fixing it."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676526429,"post_id":75445112,"comment_id":133155337,"body_markdown":"@k314159  , maybe if i download an older (archived) version of AXIS would do the trick. Thanks for the help","body":"@k314159  , maybe if i download an older (archived) version of AXIS would do the trick. Thanks for the help"}],"answers":[{"comments":[{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":1,"creation_date":1677145914,"post_id":75515735,"comment_id":133281377,"body_markdown":"Hey , little late to the party i have installed axis2.war package as a workaround as i wouldn&#39;t find a solution . Thanks , if nessecary i will try your answer . thanks for your time","body":"Hey , little late to the party i have installed axis2.war package as a workaround as i wouldn&#39;t find a solution . Thanks , if nessecary i will try your answer . thanks for your time"}],"tags":[],"owner":{"account_id":13771599,"reputation":41,"user_id":10214295,"display_name":"Oskar Vital"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676945708,"creation_date":1676945708,"answer_id":75515735,"question_id":75445112,"body_markdown":"Inside the start file $AXIS2_HOME/bin/axis2server.sh exists an issue at last of the file. This occurs because in the last versions of Axis2 package the class &quot;SimpleAxis2Server&quot; was move from transport to kernel.\r\n\r\nJust replace:\r\n\r\norg.apache.axis2.transport.SimpleAxis2Server\r\nfor\r\norg.apache.axis2.kernel.SimpleAxis2Server\r\n\r\nEnjoy!!","title":"Getting Error: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server","body":"<p>Inside the start file $AXIS2_HOME/bin/axis2server.sh exists an issue at last of the file. This occurs because in the last versions of Axis2 package the class &quot;SimpleAxis2Server&quot; was move from transport to kernel.</p>\n<p>Just replace:</p>\n<p>org.apache.axis2.transport.SimpleAxis2Server\nfor\norg.apache.axis2.kernel.SimpleAxis2Server</p>\n<p>Enjoy!!</p>\n"}],"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683441317,"creation_date":1676363394,"question_id":75445112,"body_markdown":"I am new to Axis , I am trying to start Axis2 as a Standalone Server using the Standard Binary Distribution package in Linux. I went through this guide: https://axis.apache.org/axis2/java/core/docs/installationguide.html\r\n\r\nI have downloaded and unpacked the distribution in it&#39;s own directory and i have also set environment variables AXIS2_HOME and JAVA_HOME as follows :\r\n\r\n```export AXIS2_HOME=/opt/axis2-1.8.2```\r\n\r\n```echo $AXIS2_HOME   ``` returns\r\n\r\n```/opt/axis2-1.8.2 ```\r\n\r\n```export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin```\r\n\r\n```echo $JAVA_HOME``` returns\r\n\r\n```/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin```\r\n\r\nWhen trying to run **axis2server.sh** which is essentially the script to start the server I get the following prompts :\r\n\r\n```\r\nuser@serverFoo/opt/axis2-1.8.2/bin$ ./axis2server.sh\r\n Using AXIS2_HOME: /opt/axis2-1.8.2\r\n Using JAVA_HOME:  /usr/lib/jvm/java-1.8.0-openjdk-amd64/bin\r\nError: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server\r\n\r\n```\r\nComing from a JAVA background I understand that it can&#39;t find or load the server class, although I can&#39;t find any resources in the web pointing to the specific error . \r\n\r\nEDIT : I have also added CLASSPATH variable pointing to the AXIS2_HOME/lib directory i.e\r\n\r\n```export CLASSPATH=/opt/axis2-1.8.2/lib/*.jar``` but still the same .\r\n\r\nAny ideas would be welcome. \r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"Getting Error: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server","body":"<p>I am new to Axis , I am trying to start Axis2 as a Standalone Server using the Standard Binary Distribution package in Linux. I went through this guide: <a href=\"https://axis.apache.org/axis2/java/core/docs/installationguide.html\" rel=\"nofollow noreferrer\">https://axis.apache.org/axis2/java/core/docs/installationguide.html</a></p>\n<p>I have downloaded and unpacked the distribution in it's own directory and i have also set environment variables AXIS2_HOME and JAVA_HOME as follows :</p>\n<p><code>export AXIS2_HOME=/opt/axis2-1.8.2</code></p>\n<p><code>echo $AXIS2_HOME   </code> returns</p>\n<p><code>/opt/axis2-1.8.2 </code></p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin</code></p>\n<p><code>echo $JAVA_HOME</code> returns</p>\n<p><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin</code></p>\n<p>When trying to run <strong>axis2server.sh</strong> which is essentially the script to start the server I get the following prompts :</p>\n<pre><code>user@serverFoo/opt/axis2-1.8.2/bin$ ./axis2server.sh\n Using AXIS2_HOME: /opt/axis2-1.8.2\n Using JAVA_HOME:  /usr/lib/jvm/java-1.8.0-openjdk-amd64/bin\nError: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server\n\n</code></pre>\n<p>Coming from a JAVA background I understand that it can't find or load the server class, although I can't find any resources in the web pointing to the specific error .</p>\n<p>EDIT : I have also added CLASSPATH variable pointing to the AXIS2_HOME/lib directory i.e</p>\n<p><code>export CLASSPATH=/opt/axis2-1.8.2/lib/*.jar</code> but still the same .</p>\n<p>Any ideas would be welcome.</p>\n<p>Thanks</p>\n"},{"tags":["java","groovy","jvm","spock"],"comments":[{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1683394988,"post_id":76190239,"comment_id":134361541,"body_markdown":"@JimGarrison Not sure what file you mean. I searched for javaagent and spock-mockable","body":"@JimGarrison Not sure what file you mean. I searched for javaagent and spock-mockable"},{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1683396119,"post_id":76190239,"comment_id":134361668,"body_markdown":"@JimGarrison I used qwant before. Tried google at your request and still am not finding anything relevant to me. The most likely one is a space between the key and value, but I&#39;m not coding that. The PreMain class is defined by the package I&#39;m bringing in. Not sure how this helps.","body":"@JimGarrison I used qwant before. Tried google at your request and still am not finding anything relevant to me. The most likely one is a space between the key and value, but I&#39;m not coding that. The PreMain class is defined by the package I&#39;m bringing in. Not sure how this helps."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685776737,"post_id":76190239,"comment_id":134711364,"body_markdown":"Hello. I would appreciate some feedback. I spent some time and effort on writing a comprehensive answer, which I think is correct and should solve your problem. Please be so kind as to accept &amp; upvote, unless you have any follow-up questions.","body":"Hello. I would appreciate some feedback. I spent some time and effort on writing a comprehensive answer, which I think is correct and should solve your problem. Please be so kind as to accept &amp; upvote, unless you have any follow-up questions."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683440846,"creation_date":1683440192,"answer_id":76192456,"question_id":76190239,"body_markdown":"Spock Mockable version 3d2e39a is old (May 2022), not a recent version as the leading &quot;3&quot; implies. According to both the GitHub site and [MvnRepository.com](mvnrepository.com/artifact/io.github.joke/spock-mockable), the latest release is 2.3.1. \r\n\r\n[![mvnrepository.com screenshot for Spock Mockable][1]][1]\r\n\r\nIf you inspect the JAR of version 3d2e39a, you will find an empty _META-INF/MANIFEST.MF_ file, which is the root cause for your error message. There really is no [`Premain-Class` entry](https://www.baeldung.com/java-instrumentation#create-agent-manifest-file) there, which would be necessary to run the JAR as a Java agent. But 2.3.1 has the correct manifest entries.\r\n\r\n  [1]: https://i.stack.imgur.com/xZ9Kq.png","title":"Failed to find Premain-Class manifest attribute ... spock-mockable","body":"<p>Spock Mockable version 3d2e39a is old (May 2022), not a recent version as the leading &quot;3&quot; implies. According to both the GitHub site and MvnRepository.com, the latest release is 2.3.1.</p>\n<p><a href=\"https://i.stack.imgur.com/xZ9Kq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZ9Kq.png\" alt=\"mvnrepository.com screenshot for Spock Mockable\" /></a></p>\n<p>If you inspect the JAR of version 3d2e39a, you will find an empty <em>META-INF/MANIFEST.MF</em> file, which is the root cause for your error message. There really is no <a href=\"https://www.baeldung.com/java-instrumentation#create-agent-manifest-file\" rel=\"nofollow noreferrer\"><code>Premain-Class</code> entry</a> there, which would be necessary to run the JAR as a Java agent. But 2.3.1 has the correct manifest entries.</p>\n"}],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683440846,"creation_date":1683394364,"question_id":76190239,"body_markdown":"I am trying to stub the final class java.net.UR in my spock testL. Based on the answer here: https://stackoverflow.com/questions/75691233/how-to-stub-a-java-final-static-method-or-class-in-spock I&#39;m attempting to use [spock-mockable][1].\r\n\r\nI have modified my build.gradle as follows:\r\n\r\n    testImplementation (\r\n            &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;,\r\n            &#39;org.spockframework:spock-core:2.4-M1-groovy-4.0&#39;,\r\n            &#39;io.github.joke:spock-mockable:3d2e39a&#39;,\r\n            &#39;cglib:cglib-nodep:3.3.0&#39;\r\n    )\r\n\r\n    ...\r\n\r\n    // to load the agent even earlier add it as a JVM argument\r\n    tasks.withType(Test) {\r\n        jvmArgs += [&quot;-javaagent:${classpath.find { it.name.contains(&#39;spock-mockable&#39;) }.absolutePath}&quot;]\r\n    }\r\n\r\nFrom reading the readme file, it looks like I can now just run my test, but when I try it, I get the following error:\r\n\r\n    Error occurred during initialization of VM\r\n    Failed to find Premain-Class manifest attribute in /home/thomas/.gradle/caches/modules-2/files-2.1/io.github.joke/spock-mockable/3d2e39a/d3a086b4c82c8290a2013ebd5a6b697f959918bf/spock-mockable-3d2e39a.jar\r\n    agent library failed to init: instrument\r\n\r\nI&#39;m not exactly sure what a javaagent is and tried to find some reading on it, but found several examples with no explanation. I can kind of guess.\r\n\r\nAt any rate, the spock-mockable shows up in my external libraries. (From IntelliJ where I&#39;m running this test.)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLooking for what to do next.\r\n\r\n  [1]: https://github.com/joke/spock-mockable\r\n  [2]: https://i.stack.imgur.com/NkZHy.png","title":"Failed to find Premain-Class manifest attribute ... spock-mockable","body":"<p>I am trying to stub the final class java.net.UR in my spock testL. Based on the answer here: <a href=\"https://stackoverflow.com/questions/75691233/how-to-stub-a-java-final-static-method-or-class-in-spock\">How to stub a java final static method or class in Spock?</a> I'm attempting to use <a href=\"https://github.com/joke/spock-mockable\" rel=\"nofollow noreferrer\">spock-mockable</a>.</p>\n<p>I have modified my build.gradle as follows:</p>\n<pre><code>testImplementation (\n        'org.junit.jupiter:junit-jupiter-api:5.8.1',\n        'org.spockframework:spock-core:2.4-M1-groovy-4.0',\n        'io.github.joke:spock-mockable:3d2e39a',\n        'cglib:cglib-nodep:3.3.0'\n)\n\n...\n\n// to load the agent even earlier add it as a JVM argument\ntasks.withType(Test) {\n    jvmArgs += [&quot;-javaagent:${classpath.find { it.name.contains('spock-mockable') }.absolutePath}&quot;]\n}\n</code></pre>\n<p>From reading the readme file, it looks like I can now just run my test, but when I try it, I get the following error:</p>\n<pre><code>Error occurred during initialization of VM\nFailed to find Premain-Class manifest attribute in /home/thomas/.gradle/caches/modules-2/files-2.1/io.github.joke/spock-mockable/3d2e39a/d3a086b4c82c8290a2013ebd5a6b697f959918bf/spock-mockable-3d2e39a.jar\nagent library failed to init: instrument\n</code></pre>\n<p>I'm not exactly sure what a javaagent is and tried to find some reading on it, but found several examples with no explanation. I can kind of guess.</p>\n<p>At any rate, the spock-mockable shows up in my external libraries. (From IntelliJ where I'm running this test.)</p>\n<p><a href=\"https://i.stack.imgur.com/NkZHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NkZHy.png\" alt=\"enter image description here\" /></a></p>\n<p>Looking for what to do next.</p>\n"},{"tags":["java","android","flutter","flutter-dependencies"],"owner":{"account_id":28315557,"reputation":11,"user_id":21652184,"display_name":"The Mahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683440685,"creation_date":1681586119,"question_id":76024285,"body_markdown":"I hope you you guys are happy and healthy\r\n...well about me i\r\n\r\nI am facing an issue with flutter app that it crashes very unexpectedly,\r\nthis happens when I move from one screen to another. It is not crashing everytime when I am navigating to some other screen\r\nBut sometimes it crashes with the following error\r\n\r\n\r\n```\r\nE/AndroidRuntime(30864): FATAL EXCEPTION: GLThread 53842\r\nE/AndroidRuntime(30864): Process: com.example.customer, PID: 30864\r\nE/AndroidRuntime(30864): java.lang.NullPointerException: Attempt to get length of null array\r\nE/AndroidRuntime(30864):   at java.nio.ByteBufferAsIntBuffer.put(ByteBufferAsIntBuffer.java:122)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.l(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):2)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.o(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):1)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.g(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):3)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ai.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):27)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ao.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):10)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bx.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):29)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bq.b(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):151)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.at.run(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):48)\r\nD/OOMEventManagerFK(30864): checkEventAndDumpForJE: 0\r\nI/Process (30864): Sending signal. PID: 30864 SIG: 9\r\n```\r\n\r\nI really do not have any other hints that why it is happening\r\nBut yes 1 thing I could say that 99.99% of time it is crashing while navigating to HomeScreen only...sometimes it build homescreen\r\nThen it crashes\r\nSometimes it just crashes on the way to home screen\r\nSometimes it crashes while poping to home screen `Navigator.pop(context);`\r\nAdditionally I am using sockets in this projects..even thought any have doesn&#39;t have nothing to do with homescreen\r\n\r\n\r\n```\r\n  @override\r\n  void initState() {\r\n    checkIfPermissionAllowed();\r\n    futurePrevSearches = getprevSearches();\r\n    super.initState();\r\n  }\r\n\r\n```\r\nThis is initstate of HomeScreen that I am talking about\r\n\r\n```\r\n checkIfPermissionAllowed() async {\r\n    _locationPermission = await Geolocator.requestPermission();\r\n    if (_locationPermission == LocationPermission.denied) {\r\n      _locationPermission = await Geolocator.requestPermission();\r\n      if (_locationPermission == LocationPermission.denied) {\r\n        checkIfPermissionAllowed();\r\n      } else if (_locationPermission == LocationPermission.deniedForever) {\r\n        return;\r\n      } else if (_locationPermission == LocationPermission.unableToDetermine) {}\r\n        }\r\n      }\r\n```\r\n\r\n `\r\n```\r\n Future&lt;PrevSearches&gt; getprevSearches() async {\r\n    String url = &#39;$baseUrl/api/user/previousSearches&#39;;\r\n    Map&lt;String, String&gt; headers = {&#39;Authorization&#39;: &#39;Bearer ${widget.token}&#39;};\r\n\r\n    try {\r\n      http.Response response = await http.get(Uri.parse(url), headers: headers);\r\n      if (response.statusCode == 200) {\r\n        log(response.body);\r\n        final prevSearches = prevSearchesFromMap(response.body);\r\n        return prevSearches;\r\n      } else {\r\n        // return Container();\r\n        throw &#39;Error calling API&#39;;\r\n      }\r\n    } catch (err) {\r\n      log(err.toString());\r\n      rethrow;\r\n    }\r\n    // return PrevSearches(previous: []);\r\n    // return null;\r\n  }\r\n```\r\n\r\nwell i can see something related to google maps in that error log that you can see...i am using google maps in this project\r\n\r\nAny hints or something that would help me resolving this issue will be appreciated, let me know if i need to share anything else.\r\nThank Coders\r\n`","title":"why my Flutter app is crashing unexpectedly?","body":"<p>I hope you you guys are happy and healthy\n...well about me i</p>\n<p>I am facing an issue with flutter app that it crashes very unexpectedly,\nthis happens when I move from one screen to another. It is not crashing everytime when I am navigating to some other screen\nBut sometimes it crashes with the following error</p>\n<pre><code>E/AndroidRuntime(30864): FATAL EXCEPTION: GLThread 53842\nE/AndroidRuntime(30864): Process: com.example.customer, PID: 30864\nE/AndroidRuntime(30864): java.lang.NullPointerException: Attempt to get length of null array\nE/AndroidRuntime(30864):   at java.nio.ByteBufferAsIntBuffer.put(ByteBufferAsIntBuffer.java:122)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.l(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):2)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.o(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):1)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.g(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):3)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ai.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):27)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ao.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):10)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bx.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):29)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bq.b(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):151)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.at.run(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):48)\nD/OOMEventManagerFK(30864): checkEventAndDumpForJE: 0\nI/Process (30864): Sending signal. PID: 30864 SIG: 9\n</code></pre>\n<p>I really do not have any other hints that why it is happening\nBut yes 1 thing I could say that 99.99% of time it is crashing while navigating to HomeScreen only...sometimes it build homescreen\nThen it crashes\nSometimes it just crashes on the way to home screen\nSometimes it crashes while poping to home screen <code>Navigator.pop(context);</code>\nAdditionally I am using sockets in this projects..even thought any have doesn't have nothing to do with homescreen</p>\n<pre><code>  @override\n  void initState() {\n    checkIfPermissionAllowed();\n    futurePrevSearches = getprevSearches();\n    super.initState();\n  }\n\n</code></pre>\n<p>This is initstate of HomeScreen that I am talking about</p>\n<pre><code> checkIfPermissionAllowed() async {\n    _locationPermission = await Geolocator.requestPermission();\n    if (_locationPermission == LocationPermission.denied) {\n      _locationPermission = await Geolocator.requestPermission();\n      if (_locationPermission == LocationPermission.denied) {\n        checkIfPermissionAllowed();\n      } else if (_locationPermission == LocationPermission.deniedForever) {\n        return;\n      } else if (_locationPermission == LocationPermission.unableToDetermine) {}\n        }\n      }\n</code></pre>\n<p>`</p>\n<pre><code> Future&lt;PrevSearches&gt; getprevSearches() async {\n    String url = '$baseUrl/api/user/previousSearches';\n    Map&lt;String, String&gt; headers = {'Authorization': 'Bearer ${widget.token}'};\n\n    try {\n      http.Response response = await http.get(Uri.parse(url), headers: headers);\n      if (response.statusCode == 200) {\n        log(response.body);\n        final prevSearches = prevSearchesFromMap(response.body);\n        return prevSearches;\n      } else {\n        // return Container();\n        throw 'Error calling API';\n      }\n    } catch (err) {\n      log(err.toString());\n      rethrow;\n    }\n    // return PrevSearches(previous: []);\n    // return null;\n  }\n</code></pre>\n<p>well i can see something related to google maps in that error log that you can see...i am using google maps in this project</p>\n<p>Any hints or something that would help me resolving this issue will be appreciated, let me know if i need to share anything else.\nThank Coders\n`</p>\n"},{"tags":["java","inputmismatchexception"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683439041,"post_id":76192362,"comment_id":134365110,"body_markdown":"Instead of using `stdio.nextDouble();`, use `next` or `nextLine` then manually parse the value. As a general rule, you should avoid using `try-catch` as a conditional branching workflow, but every rule has an exception (&#128540;) and you might find in this case, catching the error is the best solution","body":"Instead of using <code>stdio.nextDouble();</code>, use <code>next</code> or <code>nextLine</code> then manually parse the value. As a general rule, you should avoid using <code>try-catch</code> as a conditional branching workflow, but every rule has an exception () and you might find in this case, catching the error is the best solution"},{"owner":{"account_id":28532917,"reputation":3,"user_id":21839994,"display_name":"whiteTreaty"},"score":0,"creation_date":1683444678,"post_id":76192362,"comment_id":134365583,"body_markdown":"@MadProgrammer I tried parsing type from string to double or double to string and it will not let me do it..no matter how much I tell the compiler that madProgrammer said it was ok to do so :P","body":"@MadProgrammer I tried parsing type from string to double or double to string and it will not let me do it..no matter how much I tell the compiler that madProgrammer said it was ok to do so :P"}],"answers":[{"comments":[{"owner":{"account_id":28532917,"reputation":3,"user_id":21839994,"display_name":"whiteTreaty"},"score":0,"creation_date":1683444880,"post_id":76192445,"comment_id":134365601,"body_markdown":"Thanks Codified! This worked perfectly. The only other thing I would like to add is if I enter a number, say..567, and keep hitting enter without typing the unit, it just keeps carriage returning. I would also like to include the &#39;enter key&#39; as an improper data input if both measurement; and unit; have not been typed on the line in the proper format.","body":"Thanks Codified! This worked perfectly. The only other thing I would like to add is if I enter a number, say..567, and keep hitting enter without typing the unit, it just keeps carriage returning. I would also like to include the &#39;enter key&#39; as an improper data input if both measurement; and unit; have not been typed on the line in the proper format."},{"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"score":0,"creation_date":1683451884,"post_id":76192445,"comment_id":134366291,"body_markdown":"Ok thanks - Please try it out and if you need further help leave a message here.","body":"Ok thanks - Please try it out and if you need further help leave a message here."}],"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683439989,"creation_date":1683439989,"answer_id":76192445,"question_id":76192362,"body_markdown":"There are two ways at high level to fix this \r\n\r\n\r\nWay 1: You need to wrap your logic inside a try-catch. Here it needs the InputMismatchException handling as you are expecting double but it is coming as something else you may have other scenarios as well where you can make it multi-catch.\r\n\r\n\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class UnitConversionTextBook {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString units;\r\n\t\tdouble measurement;\r\n\t\tdouble inches, feet, yards, miles;\r\n\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\r\n\r\n\t\twhile (true) {\r\n\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\r\n\t\t\t\tScanner stdio = new Scanner(System.in);\r\n\t\t\t\tmeasurement = stdio.nextDouble();\r\n\t\t\t\tunits = stdio.next();\r\n\t\t\t\tunits = units.toLowerCase();\r\n\r\n\t\t\t\tif (measurement == 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\r\n\t\t\t\t\tinches = measurement;\r\n\t\t\t\t} else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12;\r\n\t\t\t\t} else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\r\n\t\t\t\t\tinches = measurement * 36;\r\n\t\t\t\t} else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12 * 5280;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfeet = inches / 12;\r\n\t\t\t\tyards = inches / 36;\r\n\t\t\t\tmiles = inches / (12 * 5280);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\r\n\t\t\t\t\t\tfeet, yards, miles);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\tSystem.out.println(&quot;Please read instructions again and retry&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n        \r\n}\r\n\r\n\r\nWay 2: \r\nWrap only double reading code in try - catch \r\nBut remember to initilize a value to local variable \r\n\r\n    public class UnitConversionTextBook {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString units;\r\n\t\tdouble measurement=0;\r\n\t\tdouble inches, feet, yards, miles;\r\n\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\r\n\r\n\t\twhile (true) {\r\n\r\n\t\t\t \r\n\t\t\t\tSystem.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\r\n\t\t\t\tScanner stdio = new Scanner(System.in);\r\n\t\t\t\ttry {\r\n\t\t\t\r\n\t\t\t\t\tmeasurement = stdio.nextDouble();\r\n\t\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\tSystem.out.println(&quot;Please read instructions again and retry&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tunits = stdio.next();\r\n\t\t\t\tunits = units.toLowerCase();\r\n\r\n\t\t\t\tif (measurement == 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\r\n\t\t\t\t\tinches = measurement;\r\n\t\t\t\t} else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12;\r\n\t\t\t\t} else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\r\n\t\t\t\t\tinches = measurement * 36;\r\n\t\t\t\t} else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12 * 5280;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfeet = inches / 12;\r\n\t\t\t\tyards = inches / 36;\r\n\t\t\t\tmiles = inches / (12 * 5280);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\r\n\t\t\t\t\t\tfeet, yards, miles);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t}\r\n        \r\n}","title":"How do I message an end user that they are entering the wrong input and/or format without getting an Exception/Crash?","body":"<p>There are two ways at high level to fix this</p>\n<p>Way 1: You need to wrap your logic inside a try-catch. Here it needs the InputMismatchException handling as you are expecting double but it is coming as something else you may have other scenarios as well where you can make it multi-catch.</p>\n<p>import java.util.InputMismatchException;\nimport java.util.Scanner;</p>\n<p>public class UnitConversionTextBook {\npublic static void main(String[] args) {</p>\n<pre><code>    String units;\n    double measurement;\n    double inches, feet, yards, miles;\n\n    System.out.println(\n            &quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\n\n    while (true) {\n\n        try {\n            System.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\n            Scanner stdio = new Scanner(System.in);\n            measurement = stdio.nextDouble();\n            units = stdio.next();\n            units = units.toLowerCase();\n\n            if (measurement == 0) {\n                break;\n            }\n            if (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\n                inches = measurement;\n            } else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\n                inches = measurement * 12;\n            } else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\n                inches = measurement * 36;\n            } else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\n                inches = measurement * 12 * 5280;\n            } else {\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\n                continue;\n            }\n\n            feet = inches / 12;\n            yards = inches / 36;\n            miles = inches / (12 * 5280);\n\n            System.out.println();\n            System.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\n                    feet, yards, miles);\n\n            System.out.println();\n        } catch (InputMismatchException e) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;Please read instructions again and retry&quot;);\n            continue;\n        }\n\n    }\n\n}\n    \n</code></pre>\n<p>}</p>\n<p>Way 2:\nWrap only double reading code in try - catch\nBut remember to initilize a value to local variable</p>\n<pre><code>public class UnitConversionTextBook {\npublic static void main(String[] args) {\n\n    String units;\n    double measurement=0;\n    double inches, feet, yards, miles;\n\n    System.out.println(\n            &quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\n\n    while (true) {\n\n         \n            System.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\n            Scanner stdio = new Scanner(System.in);\n            try {\n        \n                measurement = stdio.nextDouble();\n            } catch (InputMismatchException e) {\n                // TODO Auto-generated catch block\n                System.out.println(&quot;Please read instructions again and retry&quot;);\n                continue;\n            }\n            units = stdio.next();\n            units = units.toLowerCase();\n\n            if (measurement == 0) {\n                break;\n            }\n            if (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\n                inches = measurement;\n            } else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\n                inches = measurement * 12;\n            } else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\n                inches = measurement * 36;\n            } else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\n                inches = measurement * 12 * 5280;\n            } else {\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\n                continue;\n            }\n\n            feet = inches / 12;\n            yards = inches / 36;\n            miles = inches / (12 * 5280);\n\n            System.out.println();\n            System.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\n                    feet, yards, miles);\n\n            System.out.println();\n        \n\n    }\n\n}\n    \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":28532917,"reputation":3,"user_id":21839994,"display_name":"whiteTreaty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76192445,"answer_count":1,"score":0,"last_activity_date":1683439989,"creation_date":1683438209,"question_id":76192362,"body_markdown":"&quot;Eclipse IDE for Java Developers (includes Incubating components) Version: 2023-03 (4.27.0)&quot;\r\n[Intro to Programming using Java](https://math.hws.edu/javanotes/c3/s5.html) Section 3.5.3\r\n\r\nSorry for the very long post. This is my first post anywhere about programming. Thanks for any help! I would appreciate any other recommendations if this book is not a good one to learn java from.\r\n\r\nThe below is from the above online textbook that I am using to try an learn Java. I have issues with Exceptions in the program. For Example: Once running the program, everything seems to be working fine until I enter a format that the program does not expect. I want it to skip to &quot;else&quot; and print the message if an incorrect format is entered, but for some reason it just Excepts out. The end user is suppose to enter something like &quot;56 inches&quot; or &quot;156 feet&quot; so that it can be converted and display in multiple different units, but if I just enter &quot;inches&quot; it gives me the blow exception because I skipped the measurement variable. \r\n\r\nHow do I make this program output a reasonable message to the end user, if they are entering the incorrect format that afterwards places them back at the input directions?\r\n\r\n```lang-java\r\n----*Error*---\r\n**&quot;Enter your measurement, or 0 to end: inches\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n\tat UnitConversionTextBook.main(UnitConversionTextBook.java:22)&quot;**\r\n```\r\n---Program---\r\n```lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class UnitConversionTextBook {\r\npublic static void main(String[] args) {\r\n\t\r\n\tString units; \r\n\tdouble measurement; \r\n\tdouble inches, feet, yards, miles; \r\n\t\r\n\t\tSystem.out.println(&quot;&quot;&quot;\r\n\t\t\t\tEnter measurements in inches, feet, yards, or miles.\r\n\t\t\t\tSome examples: 1 inch or 17 feet or 2.73 miles\r\n\t\t\t\tYou can use the abbreviations: in ft yd mi\r\n                Please press enter after typing your measurement.\r\n\t\t\t\tI will also convert your input into the other units\r\n\t\t\t\tof measurements.\r\n\t\t\t\t&quot;&quot;&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\twhile (true) {\r\n\t\r\n\t\tSystem.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\r\n\t\tScanner stdio = new Scanner(System.in);\r\n\t\tmeasurement = stdio.nextDouble();\r\n\t\tunits = stdio.next();\r\n\t\tunits = units.toLowerCase();\r\n\t\t\r\n\t\tif (measurement == 0) {\r\n\t\tbreak; \r\n\t\t}\r\n\t\tif (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;)|| units.equals(&quot;in&quot;)) {\r\n\t\tinches = measurement;\r\n\t\t}\r\n\t\telse if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;)|| units.equals(&quot;ft&quot;)) {\r\n\t\tinches = measurement * 12;\r\n\t\t}\r\n\t\telse if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;)|| units.equals(&quot;yd&quot;)) {\r\n\t\tinches = measurement * 36;\r\n\t\t}\r\n\t\telse if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;)|| units.equals(&quot;mi&quot;)) {\r\n\t\tinches = measurement * 12 * 5280;\r\n\t\t}\r\n\t\telse {\r\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot;\r\n\t\t+ units + &quot;\\&quot;.&quot;);\r\n\t\tcontinue; \r\n\t\t}\r\n\t\t\r\n\t\tfeet = inches / 12;\r\n\t\tyards = inches / 36;\r\n\t\tmiles = inches / (12*5280);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.printf(&quot;&quot;&quot;\r\n\t\t\tThats equivalent to:\r\n\t\t\t%14.5g inches\r\n\t\t\t%14.5g feet\r\n\t\t\t%14.5g yards\r\n\t\t\t%14.5g miles\r\n\t\t\t&quot;&quot;&quot;, inches, feet, yards, miles);\r\n\t\tSystem.out.println();\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\t\r\n}\r\n```\r\n\r\nI have tried entering parameters into the while statement, other silly attempts, but I am just starting out so it is pretty pointless to share. I would like for something to work like\r\n\r\nif end user does not enter numerical measurement first followed by unit measurement type then \r\nmessage user they are not following directions and to please enter the input with the correct format that has been reasonably dictated.\r\n\r\nfirst input should be a double(measurement) \r\nsecond input should be string(unit)\r\nthe way this book codes it is they are both to be inputted on the same line followed by pressing the enter key.\r\n","title":"How do I message an end user that they are entering the wrong input and/or format without getting an Exception/Crash?","body":"<p>&quot;Eclipse IDE for Java Developers (includes Incubating components) Version: 2023-03 (4.27.0)&quot;\n<a href=\"https://math.hws.edu/javanotes/c3/s5.html\" rel=\"nofollow noreferrer\">Intro to Programming using Java</a> Section 3.5.3</p>\n<p>Sorry for the very long post. This is my first post anywhere about programming. Thanks for any help! I would appreciate any other recommendations if this book is not a good one to learn java from.</p>\n<p>The below is from the above online textbook that I am using to try an learn Java. I have issues with Exceptions in the program. For Example: Once running the program, everything seems to be working fine until I enter a format that the program does not expect. I want it to skip to &quot;else&quot; and print the message if an incorrect format is entered, but for some reason it just Excepts out. The end user is suppose to enter something like &quot;56 inches&quot; or &quot;156 feet&quot; so that it can be converted and display in multiple different units, but if I just enter &quot;inches&quot; it gives me the blow exception because I skipped the measurement variable.</p>\n<p>How do I make this program output a reasonable message to the end user, if they are entering the incorrect format that afterwards places them back at the input directions?</p>\n<pre class=\"lang-java prettyprint-override\"><code>----*Error*---\n**&quot;Enter your measurement, or 0 to end: inches\nException in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\n    at UnitConversionTextBook.main(UnitConversionTextBook.java:22)&quot;**\n</code></pre>\n<p>---Program---</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class UnitConversionTextBook {\npublic static void main(String[] args) {\n    \n    String units; \n    double measurement; \n    double inches, feet, yards, miles; \n    \n        System.out.println(&quot;&quot;&quot;\n                Enter measurements in inches, feet, yards, or miles.\n                Some examples: 1 inch or 17 feet or 2.73 miles\n                You can use the abbreviations: in ft yd mi\n                Please press enter after typing your measurement.\n                I will also convert your input into the other units\n                of measurements.\n                &quot;&quot;&quot;);\n                                                                                                                                                                            \n        while (true) {\n    \n        System.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\n        Scanner stdio = new Scanner(System.in);\n        measurement = stdio.nextDouble();\n        units = stdio.next();\n        units = units.toLowerCase();\n        \n        if (measurement == 0) {\n        break; \n        }\n        if (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;)|| units.equals(&quot;in&quot;)) {\n        inches = measurement;\n        }\n        else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;)|| units.equals(&quot;ft&quot;)) {\n        inches = measurement * 12;\n        }\n        else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;)|| units.equals(&quot;yd&quot;)) {\n        inches = measurement * 36;\n        }\n        else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;)|| units.equals(&quot;mi&quot;)) {\n        inches = measurement * 12 * 5280;\n        }\n        else {\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot;\n        + units + &quot;\\&quot;.&quot;);\n        continue; \n        }\n        \n        feet = inches / 12;\n        yards = inches / 36;\n        miles = inches / (12*5280);\n        \n        System.out.println();\n        System.out.printf(&quot;&quot;&quot;\n            Thats equivalent to:\n            %14.5g inches\n            %14.5g feet\n            %14.5g yards\n            %14.5g miles\n            &quot;&quot;&quot;, inches, feet, yards, miles);\n        System.out.println();\n                \n        }\n    \n    }\n        \n}\n</code></pre>\n<p>I have tried entering parameters into the while statement, other silly attempts, but I am just starting out so it is pretty pointless to share. I would like for something to work like</p>\n<p>if end user does not enter numerical measurement first followed by unit measurement type then\nmessage user they are not following directions and to please enter the input with the correct format that has been reasonably dictated.</p>\n<p>first input should be a double(measurement)\nsecond input should be string(unit)\nthe way this book codes it is they are both to be inputted on the same line followed by pressing the enter key.</p>\n"},{"tags":["java","compiler-errors","mapping","mapper"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1683440907,"post_id":76192443,"comment_id":134365259,"body_markdown":"You should put `lombok` annotation processor in your `pom`(if its maven project) before `mapstruct` processor","body":"You should put <code>lombok</code> annotation processor in your <code>pom</code>(if its maven project) before <code>mapstruct</code> processor"}],"owner":{"account_id":23027214,"reputation":11,"user_id":17147249,"display_name":"eduardowmu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683439970,"creation_date":1683439970,"question_id":76192443,"body_markdown":"please I&#39;m not being able to make a simple Mapping struct between some classes in personal simple project. I have a simple Model class named Anime:\r\n\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Anime {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(nullable = false)\r\n        private String name;\r\n    }\r\n\r\nAnd I want, for example, to convert this class in a Dto response and convert a Dto request to Model as well. My Dto type classes are these below\r\n\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AnimePostReqDto {\r\n        private Long id;\r\n        private String name;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AnimeRespDto {\r\n        private Long id;\r\n        private String name;\r\n    }\r\n\r\nAnd finally this interface below is the Mapper:\r\n\r\n    import br.edu.devdojo2.app.dto.AnimePostReqDto;\r\n    import br.edu.devdojo2.app.dto.AnimeRespDto;\r\n    import br.edu.devdojo2.app.model.Anime;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface AnimeMapper {\r\n        @Mapping(source = &quot;reqDto.id&quot;, target = &quot;id&quot;)\r\n        @Mapping(source = &quot;reqDto.name&quot;, target = &quot;name&quot;)\r\n        Anime toModel(AnimePostReqDto reqDto);\r\n\r\n        @Mapping(source = &quot;anime.id&quot;, target = &quot;id&quot;)\r\n        @Mapping(source = &quot;anime.name&quot;, target = &quot;name&quot;)\r\n        AnimeRespDto toRespDto(Anime anime);\r\n    }\r\n\r\nAnd the results when I build my project are:\r\n\r\n    Error:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;id&quot;.\r\n    Error:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;name&quot;.\r\n    Error:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;id&quot;.\r\n    Error:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;name&quot;.\r\n\r\nPlease, could somebody explain me why those errors above happen? Thanks.","title":"How can I do this Mapping works","body":"<p>please I'm not being able to make a simple Mapping struct between some classes in personal simple project. I have a simple Model class named Anime:</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\npublic class Anime {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(nullable = false)\n    private String name;\n}\n</code></pre>\n<p>And I want, for example, to convert this class in a Dto response and convert a Dto request to Model as well. My Dto type classes are these below</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class AnimePostReqDto {\n    private Long id;\n    private String name;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class AnimeRespDto {\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>And finally this interface below is the Mapper:</p>\n<pre><code>import br.edu.devdojo2.app.dto.AnimePostReqDto;\nimport br.edu.devdojo2.app.dto.AnimeRespDto;\nimport br.edu.devdojo2.app.model.Anime;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface AnimeMapper {\n    @Mapping(source = &quot;reqDto.id&quot;, target = &quot;id&quot;)\n    @Mapping(source = &quot;reqDto.name&quot;, target = &quot;name&quot;)\n    Anime toModel(AnimePostReqDto reqDto);\n\n    @Mapping(source = &quot;anime.id&quot;, target = &quot;id&quot;)\n    @Mapping(source = &quot;anime.name&quot;, target = &quot;name&quot;)\n    AnimeRespDto toRespDto(Anime anime);\n}\n</code></pre>\n<p>And the results when I build my project are:</p>\n<pre><code>Error:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;id&quot;.\nError:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;name&quot;.\nError:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;id&quot;.\nError:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;name&quot;.\n</code></pre>\n<p>Please, could somebody explain me why those errors above happen? Thanks.</p>\n"},{"tags":["java","intellij-idea","intellij-14","intellij-15"],"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491233582,"post_id":43188513,"comment_id":73450482,"body_markdown":"It&#39;s not running it, it&#39;s compiling it and the whole application must compile before you can run tests.","body":"It&#39;s not running it, it&#39;s compiling it and the whole application must compile before you can run tests."},{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491233683,"post_id":43188513,"comment_id":73450543,"body_markdown":"Must I remove the other folders / work files ? &amp; Upon doing so I got this error : objc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x10528c4e0). One of the two will be used. Which one is undefined.","body":"Must I remove the other folders / work files ? &amp; Upon doing so I got this error : objc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/jre/lib/libinst&zwnj;&#8203;rument.dylib (0x10528c4e0). One of the two will be used. Which one is undefined."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491233802,"post_id":43188513,"comment_id":73450622,"body_markdown":"It sounds like a bit of a mess. I don&#39;t have enough info to help, my best advice would be to go back to the last working version and go forward from there.","body":"It sounds like a bit of a mess. I don&#39;t have enough info to help, my best advice would be to go back to the last working version and go forward from there."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491233953,"post_id":43188513,"comment_id":73450717,"body_markdown":"What did you use to make the gif by the way?","body":"What did you use to make the gif by the way?"},{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491234118,"post_id":43188513,"comment_id":73450827,"body_markdown":"ScreenFlow , and so its a jdk problem ? apart from the broken class file ?","body":"ScreenFlow , and so its a jdk problem ? apart from the broken class file ?"},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491234499,"post_id":43188513,"comment_id":73451093,"body_markdown":"I never said that it&#39;s a JDK problem. It&#39;s definitely your problem. Don&#39;t ignore the errors. They tell you the exact problem. Method `CostPanel` has no return type. But I think you copied and renamed a class without renaming its constructor.","body":"I never said that it&#39;s a JDK problem. It&#39;s definitely your problem. Don&#39;t ignore the errors. They tell you the exact problem. Method <code>CostPanel</code> has no return type. But I think you copied and renamed a class without renaming its constructor."},{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491234614,"post_id":43188513,"comment_id":73451178,"body_markdown":"I deleated those files to get rid of the problem but i was talking about this:                                                                                                   \nobjc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x10528c4e0)","body":"I deleated those files to get rid of the problem but i was talking about this:                                                                                                    objc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/jre/lib/libin&zwnj;&#8203;strument.dylib (0x10528c4e0)"},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":2,"creation_date":1491234926,"post_id":43188513,"comment_id":73451369,"body_markdown":"This has gone beyond your original question. Each time you fix one problem and get another, always go back to google,  you&#39;re very unlikely to be the first one to have a problem.","body":"This has gone beyond your original question. Each time you fix one problem and get another, always go back to google,  you&#39;re very unlikely to be the first one to have a problem."}],"answers":[{"comments":[{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491234171,"post_id":43188700,"comment_id":73450864,"body_markdown":"I don&#39;t think anything is wrong with it, as it is a default exercise filed untouched...","body":"I don&#39;t think anything is wrong with it, as it is a default exercise filed untouched..."},{"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"score":0,"creation_date":1491234467,"post_id":43188700,"comment_id":73451068,"body_markdown":"In the line 19 from `ButtonPanel` class is missing the return type in the `CostPanel` method","body":"In the line 19 from <code>ButtonPanel</code> class is missing the return type in the <code>CostPanel</code> method"}],"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491233656,"creation_date":1491233656,"answer_id":43188700,"question_id":43188513,"body_markdown":"This usually happens because before running the test class, the IDE needs to build the project, it found a class that has error and can not complete the test. You can try to fix the `ButtonPanel.java` class and try to run the test again","title":"IntelliJ Running other class files, how do I stop this?","body":"<p>This usually happens because before running the test class, the IDE needs to build the project, it found a class that has error and can not complete the test. You can try to fix the <code>ButtonPanel.java</code> class and try to run the test again</p>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491234545,"creation_date":1491233696,"answer_id":43188710,"question_id":43188513,"body_markdown":"It&#39;s not running it, it&#39;s compiling it and the whole application must compile before you can run tests. You must fix the errors to continue.\r\n\r\nDon&#39;t ignore the errors. They tell you the exact problem. Method `CostPanel` has no return type. But I think you copied and renamed a class without renaming its constructor.","title":"IntelliJ Running other class files, how do I stop this?","body":"<p>It's not running it, it's compiling it and the whole application must compile before you can run tests. You must fix the errors to continue.</p>\n\n<p>Don't ignore the errors. They tell you the exact problem. Method <code>CostPanel</code> has no return type. But I think you copied and renamed a class without renaming its constructor.</p>\n"},{"tags":[],"owner":{"account_id":25827503,"reputation":11,"user_id":19565307,"display_name":"Patrick Lau"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658046791,"creation_date":1658046791,"answer_id":73010318,"question_id":43188513,"body_markdown":"I had a similar problem. Don&#39;t click on the run button. Right click on the class you want to run and click run.","title":"IntelliJ Running other class files, how do I stop this?","body":"<p>I had a similar problem. Don't click on the run button. Right click on the class you want to run and click run.</p>\n"}],"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43188700,"answer_count":3,"score":0,"last_activity_date":1683439631,"creation_date":1491233093,"question_id":43188513,"body_markdown":"![](http://i.imgur.com/eCqMgr9.gif)\r\n\r\nWhy this other class file is running instead of the one I clicked on please help. My Process is included in the gif, I can&#39;t tell why this is occurring.","title":"IntelliJ Running other class files, how do I stop this?","body":"<p><img src=\"https://i.imgur.com/eCqMgr9.gif\" alt=\"\"></p>\n\n<p>Why this other class file is running instead of the one I clicked on please help. My Process is included in the gif, I can't tell why this is occurring.</p>\n"},{"tags":["java","computation","off-by-one"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1559644685,"post_id":56442198,"comment_id":99477722,"body_markdown":"debug your code and find out","body":"debug your code and find out"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1559644893,"post_id":56442198,"comment_id":99477836,"body_markdown":"Hard to say without seeing all the values of each variable in each step. Just start your code with the IDEs debugger and you see whats up. Or add a lot of print statements to it. Note that you do integer division, not sure if that is what you want (rounds towards zero).","body":"Hard to say without seeing all the values of each variable in each step. Just start your code with the IDEs debugger and you see whats up. Or add a lot of print statements to it. Note that you do integer division, not sure if that is what you want (rounds towards zero)."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1559644985,"post_id":56442198,"comment_id":99477883,"body_markdown":"This is an odd way to try and calculate something that should not require a loop.","body":"This is an odd way to try and calculate something that should not require a loop."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1559645097,"post_id":56442198,"comment_id":99477928,"body_markdown":"Note that you could just do `return dadYears - 2 * sonYears;`.","body":"Note that you could just do <code>return dadYears - 2 * sonYears;</code>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1559645192,"post_id":56442198,"comment_id":99477986,"body_markdown":"Do it the other way round: Double up the age of the son, check if the father is older or younger than the result and then loop the years (either increment or decrement).","body":"Do it the other way round: Double up the age of the son, check if the father is older or younger than the result and then loop the years (either increment or decrement)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1559645238,"post_id":56442198,"comment_id":99478010,"body_markdown":"Also note that your i starts at 0, not 1. Not sure if thats what you want, likewise does your loop go to &lt;= and not &lt;. Again, unsure what you want, but all of that can lead to your off-by-one error.","body":"Also note that your i starts at 0, not 1. Not sure if thats what you want, likewise does your loop go to &lt;= and not &lt;. Again, unsure what you want, but all of that can lead to your off-by-one error."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":4,"creation_date":1559645322,"post_id":56442198,"comment_id":99478055,"body_markdown":"Just sayin&#39; -&gt; OP has no idea how to calculate the task and i doubt this piece of code is of his own. For input `30, 7`, the answer is `+16` because by the time the father is 46 years old, the child will be at the age of 23 or twice less than his parent...","body":"Just sayin&#39; -&gt; OP has no idea how to calculate the task and i doubt this piece of code is of his own. For input <code>30, 7</code>, the answer is <code>+16</code> because by the time the father is 46 years old, the child will be at the age of 23 or twice less than his parent..."}],"answers":[{"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1559646347,"post_id":56442420,"comment_id":99478571,"body_markdown":"Mathematics says it all... Still i do believe that the OP should do the effort to find a solution of his own as this is more a technical programming task rather than a math task...","body":"Mathematics says it all... Still i do believe that the OP should do the effort to find a solution of his own as this is more a technical programming task rather than a math task..."},{"owner":{"account_id":7741087,"reputation":1004,"user_id":5860808,"display_name":"pankaj"},"score":0,"creation_date":1559646477,"post_id":56442420,"comment_id":99478618,"body_markdown":"Agree, this is just a basic aptitude.","body":"Agree, this is just a basic aptitude."}],"tags":[],"owner":{"account_id":7741087,"reputation":1004,"user_id":5860808,"display_name":"pankaj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559645539,"creation_date":1559645539,"answer_id":56442420,"question_id":56442198,"body_markdown":"Let father&#39;s current age = f\r\n\r\nson&#39;s current age = s\r\n\r\nlet x years back, father was twice as old as son.\r\n\r\nthen 2(s-x) = (f-x)\r\n=&gt; x = 2*s - f\r\n\r\nNote: if x comes negative, then after x years , father will be twice as old as son(test for input[25,5])\r\n\r\n    public static void main(String[] args) {\r\n        int x = twiceAsOld(25, 5);\r\n        System.out.println(x);\r\n      }\r\n    \r\n      public static int twiceAsOld(int dadYears, int sonYears) {\r\n        return 2*sonYears - dadYears;\r\n        \r\n      }","title":"Age computation always off by one","body":"<p>Let father's current age = f</p>\n\n<p>son's current age = s</p>\n\n<p>let x years back, father was twice as old as son.</p>\n\n<p>then 2(s-x) = (f-x)\n=> x = 2*s - f</p>\n\n<p>Note: if x comes negative, then after x years , father will be twice as old as son(test for input[25,5])</p>\n\n<pre><code>public static void main(String[] args) {\n    int x = twiceAsOld(25, 5);\n    System.out.println(x);\n  }\n\n  public static int twiceAsOld(int dadYears, int sonYears) {\n    return 2*sonYears - dadYears;\n\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":1,"creation_date":1559648755,"post_id":56442799,"comment_id":99479805,"body_markdown":"Flagged as not an answer as **It is not a correct solution for the task**!","body":"Flagged as not an answer as <b>It is not a correct solution for the task</b>!"},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":2,"creation_date":1559659489,"post_id":56442799,"comment_id":99485929,"body_markdown":"**[Wrong answers should not be deleted from VLQ!](https://meta.stackoverflow.com/q/287563/6296561)**. Downvote and move on. /cc @dbl","body":"<b><a href=\"https://meta.stackoverflow.com/q/287563/6296561\">Wrong answers should not be deleted from VLQ!</a></b>. Downvote and move on. /cc @dbl"}],"tags":[],"owner":{"account_id":16040625,"reputation":39,"user_id":11577119,"display_name":"Surabhi Bhawsar"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559647039,"creation_date":1559647039,"answer_id":56442799,"question_id":56442198,"body_markdown":" Below is the sample code to calculate how many years ago father&#39;s age was twice as son with sample data. \r\n\r\n     public static void main (String args[]) {\r\n        int sonAge = 10;\r\n        int fatherAge = 24;\r\n        int yearsAgo = 0;\r\n        while(sonAge*2 != fatherAge &amp;&amp; fatherAge&gt;0 ) {\r\n            yearsAgo++;\r\n            fatherAge = fatherAge-1;\r\n        }\r\n        System.out.println(yearsAgo);\r\n    }","title":"Age computation always off by one","body":"<p>Below is the sample code to calculate how many years ago father's age was twice as son with sample data. </p>\n\n<pre><code> public static void main (String args[]) {\n    int sonAge = 10;\n    int fatherAge = 24;\n    int yearsAgo = 0;\n    while(sonAge*2 != fatherAge &amp;&amp; fatherAge&gt;0 ) {\n        yearsAgo++;\n        fatherAge = fatherAge-1;\n    }\n    System.out.println(yearsAgo);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28520793,"reputation":1,"user_id":21829533,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683438369,"creation_date":1683438369,"answer_id":76192368,"question_id":56442198,"body_markdown":"Your function takes two arguments:\r\n\r\ncurrent father&#39;s age (years)\r\ncurrent age of his son (years)\r\nalculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old). The answer is always greater or equal to 0, no matter if it was in the past or it is in the future.\r\n","title":"Age computation always off by one","body":"<p>Your function takes two arguments:</p>\n<p>current father's age (years)\ncurrent age of his son (years)\nalculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old). The answer is always greater or equal to 0, no matter if it was in the past or it is in the future.</p>\n"}],"owner":{"account_id":15716748,"reputation":3,"user_id":11340767,"display_name":"Nikolai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3540,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":56442420,"answer_count":3,"score":-5,"last_activity_date":1683438369,"creation_date":1559644611,"question_id":56442198,"body_markdown":"The task is to create a function.\r\n\r\nThe function takes two arguments:\r\n\r\n* current father&#39;s age (years)\r\n* current age of his son (years)\r\n\r\nalculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old).\r\n\r\n```java\r\npublic static int TwiceAsOld(int dadYears, int sonYears){\r\n\r\n    int dadYearsTemp = dadYears;\r\n    int years = 0;\r\n    int yearsAgo = 0;\r\n\r\n    for (int i = 0; i &lt;= dadYears; i++ ){\r\n        if (dadYearsTemp / 2 == sonYears) {\r\n            years = dadYearsTemp;\r\n            yearsAgo = dadYears - years;\r\n            System.out.println(yearsAgo);\r\n            return yearsAgo;\r\n        }\r\n        else if (sonYears * 2 &gt; dadYears) {\r\n            years = (sonYears * 2) - dadYears;\r\n            System.out.println(years);\r\n            return years;\r\n        }\r\n        dadYearsTemp = dadYearsTemp -1;\r\n    }\r\n\r\n    return 42; // The meaning of life\r\n\r\n}\r\n```\r\n\r\nFor example, with an input of (30, 7) I would expect my function to return 16, because 16 years ago the father was 14, which means he was twice as old as his son now (7). But my function returns 15. \r\n\r\nI guess it&#39;s not a big mistake but I honestly can&#39;t find out why it doesnt work, so I would apreciate some help.","title":"Age computation always off by one","body":"<p>The task is to create a function.</p>\n\n<p>The function takes two arguments:</p>\n\n<ul>\n<li>current father's age (years)</li>\n<li>current age of his son (years)</li>\n</ul>\n\n<p>alculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int TwiceAsOld(int dadYears, int sonYears){\n\n    int dadYearsTemp = dadYears;\n    int years = 0;\n    int yearsAgo = 0;\n\n    for (int i = 0; i &lt;= dadYears; i++ ){\n        if (dadYearsTemp / 2 == sonYears) {\n            years = dadYearsTemp;\n            yearsAgo = dadYears - years;\n            System.out.println(yearsAgo);\n            return yearsAgo;\n        }\n        else if (sonYears * 2 &gt; dadYears) {\n            years = (sonYears * 2) - dadYears;\n            System.out.println(years);\n            return years;\n        }\n        dadYearsTemp = dadYearsTemp -1;\n    }\n\n    return 42; // The meaning of life\n\n}\n</code></pre>\n\n<p>For example, with an input of (30, 7) I would expect my function to return 16, because 16 years ago the father was 14, which means he was twice as old as his son now (7). But my function returns 15. </p>\n\n<p>I guess it's not a big mistake but I honestly can't find out why it doesnt work, so I would apreciate some help.</p>\n"},{"tags":["java","selenium","tosca"],"owner":{"account_id":15995811,"reputation":21,"user_id":11543759,"display_name":"whoisdani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683437724,"creation_date":1559051221,"question_id":56343691,"body_markdown":"I am trying to run an existing Selenium Script within Tosca. But there seems to be an issue and none of the existing articles really help me. \r\n\r\n\r\nI used the standard tbox modules &quot;Start Selenium Server&quot; and &quot;Run Selenium Scripts&quot;. In those modules I changed the path to the .jar file which I created with maven. I have written the testcases with junit 4 and used chrome webdriver to execute them. When I execute them in IntelliJ they work perfectly fine but as soon as I try to import them Tosca fails to execute. \r\nThe code looks like this:\r\n\r\n\r\n\r\n\r\n    public class F {\r\n\r\n    private WebDriver driver;\r\n    private JavascriptExecutor js;\r\n    private WebDriverWait wait;\r\n\r\n\r\n    @Before\r\n    public void init(){\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;P:/Documents/seflx/chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n        js = (JavascriptExecutor) driver;\r\n        wait = new WebDriverWait(driver, 30);\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;url&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void searchSubmission() {\r\n        driver.switchTo().defaultContent();\r\n        driver.switchTo().frame(&quot;workflow_frame_1&quot;);\r\n        WebElement initScreen = driver.findElement(By.className(&quot;loading-screen&quot;));\r\n        WebElement loadingScreen = driver.findElement(By.xpath(&quot;/html&quot;));\r\n    }\r\n\r\nAs you can see in the code, I have no main class, is this the problem? Because I read in the Tosca documentary that junit is supported. \r\n\r\nWhat I expect is that within tosca the selenium jar file is executed. The current outcome I get is this: \r\n   \r\n     Selenium Server started successfully\r\n     Run Selenium Scripts: startIndex cannot be larger than length of string.\r\n     Parameter name: startIndex\r\n\r\n```\r\nSystem.ArgumentOutOfRangeException: startIndex cannot be larger than length of string.\r\nParameter name: startIndex\r\n   at System.String.Substring(Int32 startIndex, Int32 length)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.AnalyzeJunitTestResult(String resultMessage, String outputHtml, String projectPathToLog)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.Execute(ISpecialExecutionTaskTestAction testAction)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.ExecuteTask(ISpecialExecutionTaskTestAction testAction)\r\n   at .()\r\n   at .()\r\n   at Tricentis.Automation.Execution.ItemExecutor`1.Execute()\r\n```\r\n[screenshot of tosca output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eprX9.png\r\n","title":"Execute Selenium Script with Tosca","body":"<p>I am trying to run an existing Selenium Script within Tosca. But there seems to be an issue and none of the existing articles really help me. </p>\n\n<p>I used the standard tbox modules \"Start Selenium Server\" and \"Run Selenium Scripts\". In those modules I changed the path to the .jar file which I created with maven. I have written the testcases with junit 4 and used chrome webdriver to execute them. When I execute them in IntelliJ they work perfectly fine but as soon as I try to import them Tosca fails to execute. \nThe code looks like this:</p>\n\n<pre><code>public class F {\n\nprivate WebDriver driver;\nprivate JavascriptExecutor js;\nprivate WebDriverWait wait;\n\n\n@Before\npublic void init(){\n    System.setProperty(\"webdriver.chrome.driver\", \"P:/Documents/seflx/chromedriver.exe\");\n    driver = new ChromeDriver();\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    js = (JavascriptExecutor) driver;\n    wait = new WebDriverWait(driver, 30);\n    driver.manage().window().maximize();\n    driver.get(\"url\");\n}\n\n@Test\npublic void searchSubmission() {\n    driver.switchTo().defaultContent();\n    driver.switchTo().frame(\"workflow_frame_1\");\n    WebElement initScreen = driver.findElement(By.className(\"loading-screen\"));\n    WebElement loadingScreen = driver.findElement(By.xpath(\"/html\"));\n}\n</code></pre>\n\n<p>As you can see in the code, I have no main class, is this the problem? Because I read in the Tosca documentary that junit is supported. </p>\n\n<p>What I expect is that within tosca the selenium jar file is executed. The current outcome I get is this: </p>\n\n<pre><code> Selenium Server started successfully\n Run Selenium Scripts: startIndex cannot be larger than length of string.\n Parameter name: startIndex\n</code></pre>\n\n<pre><code>System.ArgumentOutOfRangeException: startIndex cannot be larger than length of string.\nParameter name: startIndex\n   at System.String.Substring(Int32 startIndex, Int32 length)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.AnalyzeJunitTestResult(String resultMessage, String outputHtml, String projectPathToLog)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.Execute(ISpecialExecutionTaskTestAction testAction)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.ExecuteTask(ISpecialExecutionTaskTestAction testAction)\n   at .()\n   at .()\n   at Tricentis.Automation.Execution.ItemExecutor`1.Execute()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eprX9.png\" rel=\"nofollow noreferrer\">screenshot of tosca output</a></p>\n"},{"tags":["java","oop","collections"],"comments":[{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":1,"creation_date":1271409634,"post_id":2651819,"comment_id":2667918,"body_markdown":"event Set&lt;Map.Entry&lt;K,V&gt;&gt; actually","body":"event Set&lt;Map.Entry&lt;K,V&gt;&gt; actually"},{"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"score":4,"creation_date":1368217261,"post_id":2651819,"comment_id":23666736,"body_markdown":"It just doesn&#39;t. It&#39;s based on an opinion (as described in the Design FAQ), rather than being a logical conclusion. For an alternative approach look at the design of containers in the C++ STL (http://www.sgi.com/tech/stl/table_of_contents.html) which is based upon Stepanov&#39;s thorough and brilliant analysis.","body":"It just doesn&#39;t. It&#39;s based on an opinion (as described in the Design FAQ), rather than being a logical conclusion. For an alternative approach look at the design of containers in the C++ STL (<a href=\"http://www.sgi.com/tech/stl/table_of_contents.html\" rel=\"nofollow noreferrer\">sgi.com/tech/stl/table_of_contents.html</a>) which is based upon Stepanov&#39;s thorough and brilliant analysis."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1618323526,"post_id":2651819,"comment_id":118563601,"body_markdown":"The OP has changed their question, I&#39;m not sure if it&#39;s permitted in the SO rules. For the impatient, there&#39;s a succinct answer to the latter question (why it can&#39;t inherit from `Set&lt;Map.Entry&lt;K,V&gt;&gt;`) in the @einpoklum&#39;s answer. But for the initial question (as in the title), I&#39;ve not found any good answers here yet, except the `by design` quoted from the FAQ.","body":"The OP has changed their question, I&#39;m not sure if it&#39;s permitted in the SO rules. For the impatient, there&#39;s a succinct answer to the latter question (why it can&#39;t inherit from <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>) in the @einpoklum&#39;s answer. But for the initial question (as in the title), I&#39;ve not found any good answers here yet, except the <code>by design</code> quoted from the FAQ."}],"answers":[{"comments":[{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":1,"creation_date":1271413359,"post_id":2651833,"comment_id":2668258,"body_markdown":"The update is very convincing, but indeed, the Set view returned by `entrySet()` does support `remove`, while it does not support `add` (probably throws `UnsupportedException`). So I see your point, but then again, I see the OP&#39;s point, too.. (My own opinion is as stated in my own answer..)","body":"The update is very convincing, but indeed, the Set view returned by <code>entrySet()</code> does support <code>remove</code>, while it does not support <code>add</code> (probably throws <code>UnsupportedException</code>). So I see your point, but then again, I see the OP&#39;s point, too.. (My own opinion is as stated in my own answer..)"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":3,"creation_date":1271471827,"post_id":2651833,"comment_id":2673817,"body_markdown":"Zwei brings up a good point. All those complications due to `add` can be handled just like how the `entrySet()` view does: allow some operations and don&#39;t allow others. A natural response, of course, is &quot;What kind of `Set` doesn&#39;t support `add`?&quot; -- well, if such behavior is acceptable for `entrySet()`, then why isn&#39;t it acceptable for `this`? That said, I _am_ mostly convinced already of why this is not such a great idea as I once thought, but I still think it&#39;s worthy of further debate, if only to enrich my own understanding of what makes a good API/OOP design.","body":"Zwei brings up a good point. All those complications due to <code>add</code> can be handled just like how the <code>entrySet()</code> view does: allow some operations and don&#39;t allow others. A natural response, of course, is &quot;What kind of <code>Set</code> doesn&#39;t support <code>add</code>?&quot; -- well, if such behavior is acceptable for <code>entrySet()</code>, then why isn&#39;t it acceptable for <code>this</code>? That said, I <i>am</i> mostly convinced already of why this is not such a great idea as I once thought, but I still think it&#39;s worthy of further debate, if only to enrich my own understanding of what makes a good API/OOP design."},{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":6,"creation_date":1346232770,"post_id":2651833,"comment_id":16296684,"body_markdown":"The first paragraph of the cite from the FAQ is funny: &quot;We feel... thus... makes little sense&quot;. I don&#39;t feel that &quot;feel&quot; and &quot;sense&quot; form a conclusion ;o)","body":"The first paragraph of the cite from the FAQ is funny: &quot;We feel... thus... makes little sense&quot;. I don&#39;t feel that &quot;feel&quot; and &quot;sense&quot; form a conclusion ;o)"},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1505938428,"post_id":2651833,"comment_id":79622854,"body_markdown":"*Collection could be made to extend Map*? Not sure, why author thinks for `Collection` extend `Map`?","body":"<i>Collection could be made to extend Map</i>? Not sure, why author thinks for <code>Collection</code> extend <code>Map</code>?"},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1618323091,"post_id":2651833,"comment_id":118563383,"body_markdown":"For some reasons the OP changed their question from &quot;why it can&#39;t be a collection&quot; to &quot;why it can&#39;t be a set&quot; in their updates, and it seems that the main question is still unanswered. For the latter question, I believe you are answering it clearly, but for the former (initial) question of the OP, I see no reason why it can&#39;t be that way. Would someone explain? ** If the Map is a collection of &quot;tuples&quot; of keys and values, then, e.g., it can override the collection&#39;s &quot;add&quot; method and implement it like the current &quot;put&quot; method of the Map class. Right? ** Maybe it&#39;s as the FAQ said `by design`? .","body":"For some reasons the OP changed their question from &quot;why it can&#39;t be a collection&quot; to &quot;why it can&#39;t be a set&quot; in their updates, and it seems that the main question is still unanswered. For the latter question, I believe you are answering it clearly, but for the former (initial) question of the OP, I see no reason why it can&#39;t be that way. Would someone explain? ** If the Map is a collection of &quot;tuples&quot; of keys and values, then, e.g., it can override the collection&#39;s &quot;add&quot; method and implement it like the current &quot;put&quot; method of the Map class. Right? ** Maybe it&#39;s as the FAQ said <code>by design</code>? ."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1618323791,"post_id":2651833,"comment_id":118563760,"body_markdown":"What does this part mean: `You can&#39;t ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.` ?!?","body":"What does this part mean: <code>You can&#39;t ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.</code> ?!?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1637228813,"post_id":2651833,"comment_id":123771889,"body_markdown":"@aderchox if you have a `Set&lt;Pair&lt;K,V&gt;&gt;`, you cant ask whether it contains a particular `K`, as the contract of `contains` requires to return `true` if the particular object is within the set, which must be an instance of `Pair` having the same `K` *and* `V` to match. The same applies to the contract of `remove`. This is exactly the behavior of the set returned by `entrySet()` whose `contains` and `remove` methods operate in terms of `Map.Entry&lt;K,V&gt;` elements. Which is an entirely different API than `Map` itself, which has `containsKey`, `remove(key)`, etc, which is what this is all about..","body":"@aderchox if you have a <code>Set&lt;Pair&lt;K,V&gt;&gt;</code>, you cant ask whether it contains a particular <code>K</code>, as the contract of <code>contains</code> requires to return <code>true</code> if the particular object is within the set, which must be an instance of <code>Pair</code> having the same <code>K</code> <i>and</i> <code>V</code> to match. The same applies to the contract of <code>remove</code>. This is exactly the behavior of the set returned by <code>entrySet()</code> whose <code>contains</code> and <code>remove</code> methods operate in terms of <code>Map.Entry&lt;K,V&gt;</code> elements. Which is an entirely different API than <code>Map</code> itself, which has <code>containsKey</code>, <code>remove(key)</code>, etc, which is what this is all about.."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":7,"down_vote_count":1,"up_vote_count":142,"is_accepted":true,"score":141,"last_activity_date":1625882266,"creation_date":1271409618,"answer_id":2651833,"question_id":2651819,"body_markdown":"From the [Java Collections API Design FAQ][1]:\r\n\r\n&gt; ### Why doesn&#39;t Map extend Collection?\r\n&gt; \r\n&gt; This was by design. We feel that\r\n&gt; mappings are not collections and\r\n&gt; collections are not mappings. Thus, it\r\n&gt; makes little sense for Map to extend\r\n&gt; the Collection interface (or vice\r\n&gt; versa).\r\n&gt; \r\n&gt; If a Map is a Collection, what are the\r\n&gt; elements? The only reasonable answer\r\n&gt; is &quot;Key-value pairs&quot;, but this\r\n&gt; provides a very limited (and not\r\n&gt; particularly useful) Map abstraction.\r\n&gt; You can&#39;t ask what value a given key\r\n&gt; maps to, nor can you delete the entry\r\n&gt; for a given key without knowing what\r\n&gt; value it maps to.\r\n&gt; \r\n&gt; Collection could be made to extend\r\n&gt; Map, but this raises the question:\r\n&gt; what are the keys? There&#39;s no really\r\n&gt; satisfactory answer, and forcing one\r\n&gt; leads to an unnatural interface.\r\n&gt; \r\n&gt; Maps can be viewed as Collections (of\r\n&gt; keys, values, or pairs), and this fact\r\n&gt; is reflected in the three &quot;Collection\r\n&gt; view operations&quot; on Maps (keySet,\r\n&gt; entrySet, and values). While it is, in\r\n&gt; principle, possible to view a List as\r\n&gt; a Map mapping indices to elements,\r\n&gt; this has the nasty property that\r\n&gt; deleting an element from the List\r\n&gt; changes the Key associated with every\r\n&gt; element before the deleted element.\r\n&gt; That&#39;s why we don&#39;t have a map view\r\n&gt; operation on Lists.\r\n\r\n**Update:** I think the quote answers most of the questions. It&#39;s worth stressing the part about a collection of entries not being a particularly useful abstraction. For example:\r\n\r\n    Set&lt;Map.Entry&lt;String,String&gt;&gt;\r\n\r\nwould allow:\r\n\r\n    set.add(entry(&quot;hello&quot;, &quot;world&quot;));\r\n    set.add(entry(&quot;hello&quot;, &quot;world 2&quot;));\r\n\r\n(assuming an `entry()` method that creates a `Map.Entry` instance)\r\n\r\n`Map`s require unique keys so this would violate this. Or if you impose unique keys on a `Set` of entries, it&#39;s not really a `Set` in the general sense. It&#39;s a `Set` with further restrictions.\r\n\r\nArguably you could say the `equals()`/`hashCode()` relationship for `Map.Entry` was purely on the key but even that has issues. More importantly, does it really add any value? You may find this abstraction breaks down once you start looking at the corner cases.\r\n\r\nIt&#39;s worth noting that the `HashSet` is actually implemented as a `HashMap`, not the other way around. This is purely an implementation detail but is interesting nonetheless.\r\n\r\nThe main reason for `entrySet()` to exist is to simplify traversal so you don&#39;t have to traverse the keys and then do a lookup of the key. Don&#39;t take it as prima facie evidence that a `Map` should be a `Set` of entries (imho).\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html#a14\r\n\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html#a14\" rel=\"noreferrer\">Java Collections API Design FAQ</a>:</p>\n<blockquote>\n<h3>Why doesn't Map extend Collection?</h3>\n<p>This was by design. We feel that\nmappings are not collections and\ncollections are not mappings. Thus, it\nmakes little sense for Map to extend\nthe Collection interface (or vice\nversa).</p>\n<p>If a Map is a Collection, what are the\nelements? The only reasonable answer\nis &quot;Key-value pairs&quot;, but this\nprovides a very limited (and not\nparticularly useful) Map abstraction.\nYou can't ask what value a given key\nmaps to, nor can you delete the entry\nfor a given key without knowing what\nvalue it maps to.</p>\n<p>Collection could be made to extend\nMap, but this raises the question:\nwhat are the keys? There's no really\nsatisfactory answer, and forcing one\nleads to an unnatural interface.</p>\n<p>Maps can be viewed as Collections (of\nkeys, values, or pairs), and this fact\nis reflected in the three &quot;Collection\nview operations&quot; on Maps (keySet,\nentrySet, and values). While it is, in\nprinciple, possible to view a List as\na Map mapping indices to elements,\nthis has the nasty property that\ndeleting an element from the List\nchanges the Key associated with every\nelement before the deleted element.\nThat's why we don't have a map view\noperation on Lists.</p>\n</blockquote>\n<p><strong>Update:</strong> I think the quote answers most of the questions. It's worth stressing the part about a collection of entries not being a particularly useful abstraction. For example:</p>\n<pre><code>Set&lt;Map.Entry&lt;String,String&gt;&gt;\n</code></pre>\n<p>would allow:</p>\n<pre><code>set.add(entry(&quot;hello&quot;, &quot;world&quot;));\nset.add(entry(&quot;hello&quot;, &quot;world 2&quot;));\n</code></pre>\n<p>(assuming an <code>entry()</code> method that creates a <code>Map.Entry</code> instance)</p>\n<p><code>Map</code>s require unique keys so this would violate this. Or if you impose unique keys on a <code>Set</code> of entries, it's not really a <code>Set</code> in the general sense. It's a <code>Set</code> with further restrictions.</p>\n<p>Arguably you could say the <code>equals()</code>/<code>hashCode()</code> relationship for <code>Map.Entry</code> was purely on the key but even that has issues. More importantly, does it really add any value? You may find this abstraction breaks down once you start looking at the corner cases.</p>\n<p>It's worth noting that the <code>HashSet</code> is actually implemented as a <code>HashMap</code>, not the other way around. This is purely an implementation detail but is interesting nonetheless.</p>\n<p>The main reason for <code>entrySet()</code> to exist is to simplify traversal so you don't have to traverse the keys and then do a lookup of the key. Don't take it as prima facie evidence that a <code>Map</code> should be a <code>Set</code> of entries (imho).</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":5,"creation_date":1439481720,"post_id":2652043,"comment_id":51890676,"body_markdown":"This is how `Set` works, and `Set` *does* implement `Collection`.","body":"This is how <code>Set</code> works, and <code>Set</code> <i>does</i> implement <code>Collection</code>."}],"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271412166,"creation_date":1271412166,"answer_id":2652043,"question_id":2651819,"body_markdown":"The answer of cletus is good, but I want to add a semantic approach. To combine both makes no sense, think of the case you add a key-value-pair via the collection interface and the key already exists. The Map-interface allows only one value associated with the key. But if you automatically remove the existing entry with the same key, the collection has after the add the same size as before - very unexpected for a collection.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>The answer of cletus is good, but I want to add a semantic approach. To combine both makes no sense, think of the case you add a key-value-pair via the collection interface and the key already exists. The Map-interface allows only one value associated with the key. But if you automatically remove the existing entry with the same key, the collection has after the add the same size as before - very unexpected for a collection.</p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1424544135,"post_id":2652078,"comment_id":45596868,"body_markdown":"It seems to me that if one could claim, semantically, that &quot;A Map is-a Set on Map.Entry&#39;s&quot; then one would bother implementing the relevant method; and if one can&#39;t make that statement, then one wouldn&#39;t - i.e. it should be about the bother.","body":"It seems to me that if one could claim, semantically, that &quot;A Map is-a Set on Map.Entry&#39;s&quot; then one would bother implementing the relevant method; and if one can&#39;t make that statement, then one wouldn&#39;t - i.e. it should be about the bother."}],"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271413424,"creation_date":1271412673,"answer_id":2652078,"question_id":2651819,"body_markdown":"&gt; Exactly, `interface Map&lt;K,V&gt; extends\r\n&gt; Set&lt;Map.Entry&lt;K,V&gt;&gt;` would be great!\r\n\r\nActually, if it were `implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;&gt;`, then I tend to agree.. It seems even natural. But that doesn&#39;t work very well, right? Let&#39;s say we have `HashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;`, `LinkedHashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;` etc... that is all good, but if you had `entrySet()`, nobody will forget to implement that method, and you can be sure that you can get entrySet for any Map, whereas you aren&#39;t if you are hoping that the implementor has implemented both interfaces...\r\n\r\nThe reason I don&#39;t want to have `interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;` is simply, because there will be more methods. And after all, they are different things, right? Also very practically, if I hit `map.` in IDE, I don&#39;t want to see `.remove(Object obj)`, and `.remove(Map.Entry&lt;K,V&gt; entry)` because I can&#39;t do `hit ctrl+space, r, return` and be done with it.   \r\n\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<blockquote>\n  <p>Exactly, <code>interface Map&lt;K,V&gt; extends\n  Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> would be great!</p>\n</blockquote>\n\n<p>Actually, if it were <code>implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>, then I tend to agree.. It seems even natural. But that doesn't work very well, right? Let's say we have <code>HashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;</code>, <code>LinkedHashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;</code> etc... that is all good, but if you had <code>entrySet()</code>, nobody will forget to implement that method, and you can be sure that you can get entrySet for any Map, whereas you aren't if you are hoping that the implementor has implemented both interfaces...</p>\n\n<p>The reason I don't want to have <code>interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> is simply, because there will be more methods. And after all, they are different things, right? Also very practically, if I hit <code>map.</code> in IDE, I don't want to see <code>.remove(Object obj)</code>, and <code>.remove(Map.Entry&lt;K,V&gt; entry)</code> because I can't do <code>hit ctrl+space, r, return</code> and be done with it.   </p>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1354747824,"creation_date":1271412683,"answer_id":2652083,"question_id":2651819,"body_markdown":"I guess the *why* is subjective.\r\n\r\nIn C#, I think `Dictionary` extends or at least implements a collection:\r\n\r\n    public class Dictionary&lt;TKey, TValue&gt; : IDictionary&lt;TKey, TValue&gt;, \r\n    \tICollection&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, \r\n    \tIDictionary, ICollection, IEnumerable, ISerializable, IDeserializationCallback\r\n\r\nIn Pharo Smalltak as well: \r\n\r\n    Collection subclass: #Set\r\n    Set subclass: #Dictionary\r\n\r\nBut there is an asymmetry with some methods. For instance, `collect:` will takes association (the equivalent of an entry), while `do:` take the values. They provide another method `keysAndValuesDo:` to iterate the dictionary by entry. `Add:` takes an association, but `remove:` has been &quot;suppressed&quot;:\r\n\r\n    remove: anObject\r\n    self shouldNotImplement \r\n\r\nSo it&#39;s definitively doable, but leads to some other issues regarding the class hierarchy. \r\n\r\nWhat is better is subjective.\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>I guess the <em>why</em> is subjective.</p>\n\n<p>In C#, I think <code>Dictionary</code> extends or at least implements a collection:</p>\n\n<pre><code>public class Dictionary&lt;TKey, TValue&gt; : IDictionary&lt;TKey, TValue&gt;, \n    ICollection&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, \n    IDictionary, ICollection, IEnumerable, ISerializable, IDeserializationCallback\n</code></pre>\n\n<p>In Pharo Smalltak as well: </p>\n\n<pre><code>Collection subclass: #Set\nSet subclass: #Dictionary\n</code></pre>\n\n<p>But there is an asymmetry with some methods. For instance, <code>collect:</code> will takes association (the equivalent of an entry), while <code>do:</code> take the values. They provide another method <code>keysAndValuesDo:</code> to iterate the dictionary by entry. <code>Add:</code> takes an association, but <code>remove:</code> has been \"suppressed\":</p>\n\n<pre><code>remove: anObject\nself shouldNotImplement \n</code></pre>\n\n<p>So it's definitively doable, but leads to some other issues regarding the class hierarchy. </p>\n\n<p>What is better is subjective.</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479685,"user_id":179910,"display_name":"Jerry Coffin"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1271447466,"creation_date":1271447466,"answer_id":2655737,"question_id":2651819,"body_markdown":"While you&#39;ve gotten a number of answers that cover your question fairly directly, I think it might be useful to step back a bit, and look at the question a bit more generally. That is, not to look specifically at how the Java library happens to be written, and look at why it&#39;s written that way.\r\n\r\nThe problem here is that inheritance only models *one* type of commonality. If you pick out two things that both seem &quot;collection-like&quot;, you can probably pick out a 8 or 10 things they have in common. If you pick out a different pair of &quot;collection-like&quot; things, they&#39;ll also 8 or 10 things in common -- but they won&#39;t be the *same* 8 or 10 things as the first pair.\r\n\r\nIf you look at a dozen or so different &quot;collection-like&quot; things, virtually every one of them will probably have something like 8 or 10 characteristics in common with at least one other one -- but if you look at what&#39;s shared across *every* one of them, you&#39;re left with practically nothing. \r\n\r\nThis is a situation that inheritance (especially single inheritance) just doesn&#39;t model well. There&#39;s no clean dividing line between which of those are really collections and which aren&#39;t -- but if you want to define a meaningful Collection class, you&#39;re stuck with leaving some of them out. If you leave only a few of them out, your Collection class will only be able to provide quite a sparse interface. If you leave more out, you&#39;ll be able to give it a richer interface.\r\n\r\nSome also take the option of basically saying: &quot;this type of collection supports operation X, but you&#39;re not allowed to use it, by deriving from a base class that defines X, but attempting to use the derived class&#39; X fails (e.g., by throwing an exception).\r\n\r\nThat still leaves one problem: almost regardless of which you leave out and which you put in, you&#39;re going to have to draw a hard line between what classes are in and what are out. No matter where you draw that line, you&#39;re going to be left with a clear, rather artificial, division between some things that are *quite* similar.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>While you've gotten a number of answers that cover your question fairly directly, I think it might be useful to step back a bit, and look at the question a bit more generally. That is, not to look specifically at how the Java library happens to be written, and look at why it's written that way.</p>\n\n<p>The problem here is that inheritance only models <em>one</em> type of commonality. If you pick out two things that both seem \"collection-like\", you can probably pick out a 8 or 10 things they have in common. If you pick out a different pair of \"collection-like\" things, they'll also 8 or 10 things in common -- but they won't be the <em>same</em> 8 or 10 things as the first pair.</p>\n\n<p>If you look at a dozen or so different \"collection-like\" things, virtually every one of them will probably have something like 8 or 10 characteristics in common with at least one other one -- but if you look at what's shared across <em>every</em> one of them, you're left with practically nothing. </p>\n\n<p>This is a situation that inheritance (especially single inheritance) just doesn't model well. There's no clean dividing line between which of those are really collections and which aren't -- but if you want to define a meaningful Collection class, you're stuck with leaving some of them out. If you leave only a few of them out, your Collection class will only be able to provide quite a sparse interface. If you leave more out, you'll be able to give it a richer interface.</p>\n\n<p>Some also take the option of basically saying: \"this type of collection supports operation X, but you're not allowed to use it, by deriving from a base class that defines X, but attempting to use the derived class' X fails (e.g., by throwing an exception).</p>\n\n<p>That still leaves one problem: almost regardless of which you leave out and which you put in, you're going to have to draw a hard line between what classes are in and what are out. No matter where you draw that line, you're going to be left with a clear, rather artificial, division between some things that are <em>quite</em> similar.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":4,"creation_date":1282878792,"post_id":3195202,"comment_id":3756233,"body_markdown":"I&#39;d like to see the API&#39;s for these imaginary interfaces detailed.  Not sure I&#39;d like a Sequence (aka List) where the key was an Integer; that sounds like a huge performance hit.","body":"I&#39;d like to see the API&#39;s for these imaginary interfaces detailed.  Not sure I&#39;d like a Sequence (aka List) where the key was an Integer; that sounds like a huge performance hit."},{"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"score":0,"creation_date":1288147682,"post_id":3195202,"comment_id":4322805,"body_markdown":"That&#39;s right, a sequence is a list - hence Sequence extends List. I do not know if you can access this, but it may be interesting  http://portal.acm.org/citation.cfm?id=1838687.1838705","body":"That&#39;s right, a sequence is a list - hence Sequence extends List. I do not know if you can access this, but it may be interesting  <a href=\"http://portal.acm.org/citation.cfm?id=1838687.1838705\" rel=\"nofollow noreferrer\">portal.acm.org/citation.cfm?id=1838687.1838705</a>"},{"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"score":0,"creation_date":1354745888,"post_id":3195202,"comment_id":18868839,"body_markdown":"@SoftwareMonkey here is another link. Last link is the link to the javadoc of the API. http://zedlib.sourceforge.net/","body":"@SoftwareMonkey here is another link. Last link is the link to the javadoc of the API. <a href=\"http://zedlib.sourceforge.net/\" rel=\"nofollow noreferrer\">zedlib.sourceforge.net</a>"},{"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"score":0,"creation_date":1354746200,"post_id":3195202,"comment_id":18868964,"body_markdown":"@SoftwareMonkey I unashamedly admit that design is my primary concern here. I am assuming the gurus at Oracle/Sun could optimize the heck out of it.","body":"@SoftwareMonkey I unashamedly admit that design is my primary concern here. I am assuming the gurus at Oracle/Sun could optimize the heck out of it."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1424544158,"post_id":3195202,"comment_id":45596875,"body_markdown":"I tend to disagree. How can it hold that &quot;Map is-a Set&quot; if you can&#39;t always add non-member elements of the domain to your set (as in the example in @cletus&#39; answer).","body":"I tend to disagree. How can it hold that &quot;Map is-a Set&quot; if you can&#39;t always add non-member elements of the domain to your set (as in the example in @cletus&#39; answer)."},{"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"score":0,"creation_date":1481768249,"post_id":3195202,"comment_id":69512583,"body_markdown":"@einpoklum: this can be interpreted as two entries with the same key are equal members in the context of a map.","body":"@einpoklum: this can be interpreted as two entries with the same key are equal members in the context of a map."}],"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"comment_count":6,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1278509758,"creation_date":1278509758,"answer_id":3195202,"question_id":2651819,"body_markdown":"Java collections are broken. There is a missing interface, that of Relation. Hence, Map extends Relation extends Set. Relations (also called multi-maps) have unique name-value pairs. Maps (aka &quot;Functions&quot;), have unique names (or keys) which of course map to values. Sequences extend Maps (where each key is an integer &gt; 0). Bags (or multi-sets) extend Maps (where each key is an element and each value is the number of times the element appears in the bag).\r\n\r\n \r\n\r\nThis structure would allow intersection, union etc. of a range of &quot;collections&quot;. Hence, the hierarchy should be:\r\n\r\n \r\n\r\n                                    Set\r\n\r\n                                     |\r\n\r\n                                  Relation\r\n\r\n                                     |\r\n\r\n                                    Map\r\n\r\n                                    / \\\r\n\r\n                                 Bag Sequence\r\n\r\n \r\n\r\nSun/Oracle/Java ppl - please get it right next time. Thanks.\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>Java collections are broken. There is a missing interface, that of Relation. Hence, Map extends Relation extends Set. Relations (also called multi-maps) have unique name-value pairs. Maps (aka \"Functions\"), have unique names (or keys) which of course map to values. Sequences extend Maps (where each key is an integer > 0). Bags (or multi-sets) extend Maps (where each key is an element and each value is the number of times the element appears in the bag).</p>\n\n<p>This structure would allow intersection, union etc. of a range of \"collections\". Hence, the hierarchy should be:</p>\n\n<pre><code>                                Set\n\n                                 |\n\n                              Relation\n\n                                 |\n\n                                Map\n\n                                / \\\n\n                             Bag Sequence\n</code></pre>\n\n<p>Sun/Oracle/Java ppl - please get it right next time. Thanks.</p>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1424544423,"post_id":28649822,"comment_id":45596980,"body_markdown":"... this is a succinct statement of the ghist of the second part of @cletus&#39; answer.","body":"... this is a succinct statement of the ghist of the second part of @cletus&#39; answer."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1618321600,"post_id":28649822,"comment_id":118562640,"body_markdown":"After reading this answer I understood the answer by @cletus, LoL. Thanks :)","body":"After reading this answer I understood the answer by @cletus, LoL. Thanks :)"}],"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424544738,"creation_date":1424544388,"answer_id":28649822,"question_id":2651819,"body_markdown":"`Map&lt;K,V&gt;` should not extend `Set&lt;Map.Entry&lt;K,V&gt;&gt;` since:\r\n\r\n- You **can&#39;t** add different `Map.Entry`s with the same key to the same `Map`, but\r\n- You **can** add different `Map.Entry`s with the same key to the same `Set&lt;Map.Entry&gt;`.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p><code>Map&lt;K,V&gt;</code> should not extend <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> since:</p>\n\n<ul>\n<li>You <strong>can't</strong> add different <code>Map.Entry</code>s with the same key to the same <code>Map</code>, but</li>\n<li>You <strong>can</strong> add different <code>Map.Entry</code>s with the same key to the same <code>Set&lt;Map.Entry&gt;</code>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8528184,"reputation":5557,"user_id":6392939,"display_name":"RamenChef"},"score":0,"creation_date":1475599630,"post_id":39856863,"comment_id":67003345,"body_markdown":"`There are ways in which we can iterate over keys and values stores in a Map and that is how it is a part of Collection framework.` Can you show a code example for this?","body":"<code>There are ways in which we can iterate over keys and values stores in a Map and that is how it is a part of Collection framework.</code> Can you show a code example for this?"},{"owner":{"account_id":3791508,"reputation":270,"user_id":3147901,"accept_rate":88,"display_name":"Emir Memic"},"score":0,"creation_date":1495292911,"post_id":39856863,"comment_id":75196916,"body_markdown":"That was very well explained. I get it now. Thanks!","body":"That was very well explained. I get it now. Thanks!"},{"owner":{"account_id":3597402,"reputation":1164,"user_id":3001675,"accept_rate":86,"display_name":"LIvanov"},"score":0,"creation_date":1508320103,"post_id":39856863,"comment_id":80561597,"body_markdown":"An implementation of ``add(Object o)`` would be to add an ``Entry&lt;ClassA, ClassB&gt;`` object. A ``Map`` can be considered a ``Collection of Tuples``","body":"An implementation of <code>add(Object o)</code> would be to add an <code>Entry&lt;ClassA, ClassB&gt;</code> object. A <code>Map</code> can be considered a <code>Collection of Tuples</code>"}],"tags":[],"owner":{"account_id":4897356,"reputation":85,"user_id":3946503,"display_name":"Mayur Ingle"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1475615196,"creation_date":1475596649,"answer_id":39856863,"question_id":2651819,"body_markdown":"If you look at the respective data structure you can easily guess why `Map` is not a part of `Collection`. Each `Collection` stores a single value where as a `Map` stores key-value pair. So methods in `Collection` interface are incompatible for `Map` interface. For example in `Collection` we have `add(Object o)`. What would be such implementation in `Map`. It doesn&#39;t make sense to have such a method in `Map`. Instead we have a `put(key,value)` method in `Map`.\r\n\r\nSame argument goes for `addAll()`, `remove()`, and `removeAll()` methods. So the main reason is the difference in the way data is stored in `Map` and `Collection`.\r\nAlso if you recall `Collection` interface implemented `Iterable` interface i.e. any interface with `.iterator()` method should return an iterator which must allow us to iterate over the values stored in the `Collection`. Now what would such method return for a `Map`? Key iterator or a Value iterator? This does not make sense either.\r\n\r\nThere are ways in which we can iterate over keys and values stores in a `Map` and that is how it is a part of `Collection` framework.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>If you look at the respective data structure you can easily guess why <code>Map</code> is not a part of <code>Collection</code>. Each <code>Collection</code> stores a single value where as a <code>Map</code> stores key-value pair. So methods in <code>Collection</code> interface are incompatible for <code>Map</code> interface. For example in <code>Collection</code> we have <code>add(Object o)</code>. What would be such implementation in <code>Map</code>. It doesn't make sense to have such a method in <code>Map</code>. Instead we have a <code>put(key,value)</code> method in <code>Map</code>.</p>\n\n<p>Same argument goes for <code>addAll()</code>, <code>remove()</code>, and <code>removeAll()</code> methods. So the main reason is the difference in the way data is stored in <code>Map</code> and <code>Collection</code>.\nAlso if you recall <code>Collection</code> interface implemented <code>Iterable</code> interface i.e. any interface with <code>.iterator()</code> method should return an iterator which must allow us to iterate over the values stored in the <code>Collection</code>. Now what would such method return for a <code>Map</code>? Key iterator or a Value iterator? This does not make sense either.</p>\n\n<p>There are ways in which we can iterate over keys and values stores in a <code>Map</code> and that is how it is a part of <code>Collection</code> framework.</p>\n"},{"comments":[{"owner":{"account_id":7354145,"reputation":169,"user_id":5599385,"accept_rate":0,"display_name":"Sairam"},"score":0,"creation_date":1490355287,"post_id":42998166,"comment_id":73086594,"body_markdown":"Nice Trinad ,your answers always simple and short.","body":"Nice Trinad ,your answers always simple and short."}],"tags":[],"owner":{"account_id":4527930,"reputation":1089,"user_id":3679238,"accept_rate":0,"display_name":"Trinadh Koya"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1545107154,"creation_date":1490354299,"answer_id":42998166,"question_id":2651819,"body_markdown":"Straight and simple.\r\nCollection is an interface which is expecting only one Object, whereas Map requires Two.\r\n\r\n    Collection(Object o);\r\n    Map&lt;Object,Object&gt;","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>Straight and simple.\nCollection is an interface which is expecting only one Object, whereas Map requires Two.</p>\n\n<pre><code>Collection(Object o);\nMap&lt;Object,Object&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26151279,"reputation":1,"user_id":19839199,"display_name":"Amit Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683437336,"creation_date":1683437336,"answer_id":76192324,"question_id":2651819,"body_markdown":" 1. The Map interface in Java follows key/value pair structure whereas the Collection interface is collection of objects which are stored in structure with a specified mechanism.\r\n 2. The main reason map doesn&#39;t extend Collection interface is that ```add(E e)``` method of collection interface doesn&#39;t support key-value pair like map interface&#39;s ```put(k,v)``` method.\r\n 3. It might not extend Collection interface but still an integral part of Java Collection framework","title":"Why doesn&#39;t Java Map extend Collection?","body":"<ol>\n<li>The Map interface in Java follows key/value pair structure whereas the Collection interface is collection of objects which are stored in structure with a specified mechanism.</li>\n<li>The main reason map doesn't extend Collection interface is that <code>add(E e)</code> method of collection interface doesn't support key-value pair like map interface's <code>put(k,v)</code> method.</li>\n<li>It might not extend Collection interface but still an integral part of Java Collection framework</li>\n</ol>\n"}],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49196,"favorite_count":0,"down_vote_count":0,"up_vote_count":163,"accepted_answer_id":2651833,"answer_count":10,"score":163,"last_activity_date":1683437336,"creation_date":1271409441,"question_id":2651819,"body_markdown":"I was surprised by the fact that `Map&lt;?,?&gt;` is not a `Collection&lt;?&gt;`.\r\n\r\nI thought it&#39;d make a LOT of sense if it was declared as such:\r\n\r\n    public interface Map&lt;K,V&gt; extends Collection&lt;Map.Entry&lt;K,V&gt;&gt;\r\n\r\nAfter all, a `Map&lt;K,V&gt;` is a collection of [`Map.Entry&lt;K,V&gt;`](http://java.sun.com/javase/6/docs/api/java/util/Map.Entry.html), isn&#39;t it?\r\n\r\nSo is there a good reason why it&#39;s not implemented as such?\r\n\r\n---\r\n\r\nThanks to Cletus for a most authoritative answer, but I&#39;m still wondering why, if you can already view a `Map&lt;K,V&gt;` as `Set&lt;Map.Entries&lt;K,V&gt;&gt;` (via `entrySet()`), it doesn&#39;t just extend that interface instead.\r\n\r\n&gt; If a `Map` is a `Collection`, what are the elements? The only reasonable answer is &quot;Key-value pairs&quot;\r\n\r\nExactly, `interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;` would be great!\r\n\r\n&gt; but this provides a very limited (and not particularly useful) `Map` abstraction.\r\n\r\nBut if that&#39;s the case then why is `entrySet` specified by the interface? It must be useful somehow (and I think it&#39;s easy to argue for that position!).\r\n\r\n&gt; You can&#39;t ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.\r\n\r\nI&#39;m not saying that that&#39;s all there is to it to `Map`! It can and _should_ keep all the other methods (except `entrySet`, which is redundant now)!","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>I was surprised by the fact that <code>Map&lt;?,?&gt;</code> is not a <code>Collection&lt;?&gt;</code>.</p>\n\n<p>I thought it'd make a LOT of sense if it was declared as such:</p>\n\n<pre><code>public interface Map&lt;K,V&gt; extends Collection&lt;Map.Entry&lt;K,V&gt;&gt;\n</code></pre>\n\n<p>After all, a <code>Map&lt;K,V&gt;</code> is a collection of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry&lt;K,V&gt;</code></a>, isn't it?</p>\n\n<p>So is there a good reason why it's not implemented as such?</p>\n\n<hr>\n\n<p>Thanks to Cletus for a most authoritative answer, but I'm still wondering why, if you can already view a <code>Map&lt;K,V&gt;</code> as <code>Set&lt;Map.Entries&lt;K,V&gt;&gt;</code> (via <code>entrySet()</code>), it doesn't just extend that interface instead.</p>\n\n<blockquote>\n  <p>If a <code>Map</code> is a <code>Collection</code>, what are the elements? The only reasonable answer is \"Key-value pairs\"</p>\n</blockquote>\n\n<p>Exactly, <code>interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> would be great!</p>\n\n<blockquote>\n  <p>but this provides a very limited (and not particularly useful) <code>Map</code> abstraction.</p>\n</blockquote>\n\n<p>But if that's the case then why is <code>entrySet</code> specified by the interface? It must be useful somehow (and I think it's easy to argue for that position!).</p>\n\n<blockquote>\n  <p>You can't ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.</p>\n</blockquote>\n\n<p>I'm not saying that that's all there is to it to <code>Map</code>! It can and <em>should</em> keep all the other methods (except <code>entrySet</code>, which is redundant now)!</p>\n"},{"tags":["java","scala","generics","types"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1683179365,"post_id":76169924,"comment_id":134327266,"body_markdown":"Don&#39;t know about scala, but Java does not have this. Perhaps this is an [XY problem](https://xyproblem.info/). What problem are you trying to solve exactly?","body":"Don&#39;t know about scala, but Java does not have this. Perhaps this is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. What problem are you trying to solve exactly?"},{"owner":{"account_id":334110,"reputation":592,"user_id":660339,"accept_rate":40,"display_name":"Ivan Perez"},"score":0,"creation_date":1683179666,"post_id":76169924,"comment_id":134327303,"body_markdown":"I&#39;m literally just trying to build what I have there. I want to be able to &quot;wrap&quot; all members of a class in an argument generic (or type constructor) so that I can decide the behavior when I instantiate it. For example, an `A&lt;Vector&gt;` would contain a vector of strings, an `A&lt;HashMap&gt;` would contain a hash map of strings, and so on.\n\nIf I have two private members (e.g., a `String` and an `Integer`), and I wrap both with `T&lt;&gt;`, then `A&lt;HashMap&gt;` would have both a `HashMap&lt;String&gt;` and a `HashMap&lt;Integer&gt;`, and so on.","body":"I&#39;m literally just trying to build what I have there. I want to be able to &quot;wrap&quot; all members of a class in an argument generic (or type constructor) so that I can decide the behavior when I instantiate it. For example, an <code>A&lt;Vector&gt;</code> would contain a vector of strings, an <code>A&lt;HashMap&gt;</code> would contain a hash map of strings, and so on.  If I have two private members (e.g., a <code>String</code> and an <code>Integer</code>), and I wrap both with <code>T&lt;&gt;</code>, then <code>A&lt;HashMap&gt;</code> would have both a <code>HashMap&lt;String&gt;</code> and a <code>HashMap&lt;Integer&gt;</code>, and so on."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1683181732,"post_id":76169924,"comment_id":134327650,"body_markdown":"Have a look at this for Scala https://www.baeldung.com/scala/higher-kinded-types","body":"Have a look at this for Scala <a href=\"https://www.baeldung.com/scala/higher-kinded-types\" rel=\"nofollow noreferrer\">baeldung.com/scala/higher-kinded-types</a>"}],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683184122,"creation_date":1683184122,"answer_id":76170441,"question_id":76169924,"body_markdown":"I don&#39;t know about Java (but [this question][1] is probably relevant for you), but you can do this in Scala\r\n\r\n```\r\nfinal case class A[T[_], B](a: T[B])\r\n```\r\n\r\nAnd then you can instantiate classes like so, relying on type inference:\r\n\r\n```\r\nval a1 = A(List(&quot;hello&quot;, &quot;world&quot;))\r\nval a2 = A(Some(42))\r\n```\r\n\r\nYou can play around with this code [here on Scastie][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7451658/can-i-use-nested-generics-aka-higher-kinded-types-in-java\r\n  [2]: https://scastie.scala-lang.org/756EE9fNTnKIw67qxQmRYw","title":"Passing arguments to generic parameter in class in Java","body":"<p>I don't know about Java (but <a href=\"https://stackoverflow.com/questions/7451658/can-i-use-nested-generics-aka-higher-kinded-types-in-java\">this question</a> is probably relevant for you), but you can do this in Scala</p>\n<pre><code>final case class A[T[_], B](a: T[B])\n</code></pre>\n<p>And then you can instantiate classes like so, relying on type inference:</p>\n<pre><code>val a1 = A(List(&quot;hello&quot;, &quot;world&quot;))\nval a2 = A(Some(42))\n</code></pre>\n<p>You can play around with this code <a href=\"https://scastie.scala-lang.org/756EE9fNTnKIw67qxQmRYw\" rel=\"nofollow noreferrer\">here on Scastie</a>.</p>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683257229,"creation_date":1683257229,"answer_id":76178653,"question_id":76169924,"body_markdown":"This is called a [higher-kinded type](https://www.baeldung.com/scala/higher-kinded-types). Here&#39;s an example in Scala of exactly what you want ([Scastie](https://scastie.scala-lang.org/TimMoore/YdiBBTCMQo2tS6Ii5ovOcQ/6)):\r\n\r\n```scala\r\nimport scala.collection.mutable.HashMap\r\ntrait A[T[_]] {\r\n  def aString: T[String]\r\n}\r\n\r\nclass AVector extends A[Vector] {\r\n  def aString: Vector[String] = Vector(&quot;Hello, world!&quot;)\r\n}\r\n\r\ntype StringKeyedHashMap[T] = HashMap[String, T]\r\nclass AHashMap[T] extends A[StringKeyedHashMap] {\r\n  def aString: HashMap[String, String] = HashMap(\r\n    &quot;Hello, world!&quot; -&gt; &quot;Goodbye, world!&quot;\r\n  )\r\n}\r\n\r\n\r\nprintln((new AVector).aString)  // Vector(Hello, world!)\r\nprintln((new AHashMap).aString) // HashMap(Hello, world! -&gt; Goodbye, world!)\r\n```\r\n\r\nNote that in the `HashMap` example, it isn&#39;t possible to use `extends A[HashMap]`, because `HashMap` requires two type parameters, and `A[T[_]]` only accepts types that take a single parameter. To work around this, a [type alias](https://www.baeldung.com/scala/type-declaration) is declared that takes one type parameter for the map values, and hardcodes the key type as `String`.","title":"Passing arguments to generic parameter in class in Java","body":"<p>This is called a <a href=\"https://www.baeldung.com/scala/higher-kinded-types\" rel=\"nofollow noreferrer\">higher-kinded type</a>. Here's an example in Scala of exactly what you want (<a href=\"https://scastie.scala-lang.org/TimMoore/YdiBBTCMQo2tS6Ii5ovOcQ/6\" rel=\"nofollow noreferrer\">Scastie</a>):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.mutable.HashMap\ntrait A[T[_]] {\n  def aString: T[String]\n}\n\nclass AVector extends A[Vector] {\n  def aString: Vector[String] = Vector(&quot;Hello, world!&quot;)\n}\n\ntype StringKeyedHashMap[T] = HashMap[String, T]\nclass AHashMap[T] extends A[StringKeyedHashMap] {\n  def aString: HashMap[String, String] = HashMap(\n    &quot;Hello, world!&quot; -&gt; &quot;Goodbye, world!&quot;\n  )\n}\n\n\nprintln((new AVector).aString)  // Vector(Hello, world!)\nprintln((new AHashMap).aString) // HashMap(Hello, world! -&gt; Goodbye, world!)\n</code></pre>\n<p>Note that in the <code>HashMap</code> example, it isn't possible to use <code>extends A[HashMap]</code>, because <code>HashMap</code> requires two type parameters, and <code>A[T[_]]</code> only accepts types that take a single parameter. To work around this, a <a href=\"https://www.baeldung.com/scala/type-declaration\" rel=\"nofollow noreferrer\">type alias</a> is declared that takes one type parameter for the map values, and hardcodes the key type as <code>String</code>.</p>\n"}],"owner":{"account_id":334110,"reputation":592,"user_id":660339,"accept_rate":40,"display_name":"Ivan Perez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683435613,"creation_date":1683179134,"question_id":76169924,"body_markdown":"I&#39;m trying to figure out a mechanism to implement something like the following in Java. Essentially, I&#39;d like to use the argument to a generic class as a generic class:\r\n\r\n```java\r\nclass A&lt;T&gt; {\r\n  T&lt;String&gt; aString;\r\n}\r\n```\r\n\r\nIs this, or something equivalent, where I can pass arguments to the type constructor received as arguments, possible at all in Java? Is it possible to indicate that `T` has type `* -&gt; *` or that it is some sort of type constructor? If not, how about a different language?","title":"Passing arguments to generic parameter in class in Java","body":"<p>I'm trying to figure out a mechanism to implement something like the following in Java. Essentially, I'd like to use the argument to a generic class as a generic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A&lt;T&gt; {\n  T&lt;String&gt; aString;\n}\n</code></pre>\n<p>Is this, or something equivalent, where I can pass arguments to the type constructor received as arguments, possible at all in Java? Is it possible to indicate that <code>T</code> has type <code>* -&gt; *</code> or that it is some sort of type constructor? If not, how about a different language?</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1585086746,"post_id":60839769,"comment_id":107641597,"body_markdown":"*&quot;Why does it print only one from enum types&quot;* Because the return value is a ***single*** enum value, i.e. the value of the first non-SUCCESS value detected. Your `and(...)` implementation specifically doesn&#39;t call the next validator when a non-SUCCESS value is detected. Given both of the above, why would you expect *multiple* validation codes?","body":"<i>&quot;Why does it print only one from enum types&quot;</i> Because the return value is a <b><i>single</i></b> enum value, i.e. the value of the first non-SUCCESS value detected. Your <code>and(...)</code> implementation specifically doesn&#39;t call the next validator when a non-SUCCESS value is detected. Given both of the above, why would you expect <i>multiple</i> validation codes?"},{"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"score":0,"creation_date":1585087719,"post_id":60839769,"comment_id":107641932,"body_markdown":"Okay, I get your point, but I need to know exactly how many and what type of errors I&#39;m getting.It&#39;s a bigger project and I&#39;m doing this part and only out of curiosity I&#39;m asking for this specific.I&#39;m implementing something that resembles this, so it would be nice to know where I&#39;m wrong.","body":"Okay, I get your point, but I need to know exactly how many and what type of errors I&#39;m getting.It&#39;s a bigger project and I&#39;m doing this part and only out of curiosity I&#39;m asking for this specific.I&#39;m implementing something that resembles this, so it would be nice to know where I&#39;m wrong."}],"answers":[{"comments":[{"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"score":0,"creation_date":1585090713,"post_id":60840332,"comment_id":107642781,"body_markdown":"Yes, like this.Thank you for your feedback and grasp of knowledge.","body":"Yes, like this.Thank you for your feedback and grasp of knowledge."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585089017,"creation_date":1585089017,"answer_id":60840332,"question_id":60839769,"body_markdown":"If you want a validator to be able to return multiple *distinct* result codes (enums), then you need to change the return type to `Set&lt;ValidationResult&gt;`, or more specifically an [`EnumSet`][1].\r\n\r\nE.g. something like this:\r\n\r\n```\r\ninterface CustomerRegistrationValidator\r\n\textends Function&lt;Customer, EnumSet&lt;ValidationResult&gt;&gt; {\r\n\r\n\tstatic final EnumSet&lt;ValidationResult&gt; SUCCESS_ONLY = EnumSet.of(ValidationResult.SUCCESS);\r\n\r\n\tstatic CustomerRegistrationValidator isEmailValid() {\r\n\t\treturn customer -&gt; customer.getEmail().contains(&quot;@&quot;) ? \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.EMAIL_NOT_VALID);\r\n\t}\r\n\r\n\tstatic CustomerRegistrationValidator isPhoneNumberValid() {\r\n\t\treturn customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?  \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.PHONE_NUMBER_NOT_VALID);\r\n\t}\r\n\r\n\tstatic CustomerRegistrationValidator isAnAdult() {\r\n\t\treturn customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.IS_NOT_AN_ADULT);\r\n\t}\r\n\r\n\tdefault CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\r\n\t\treturn customer -&gt; {\r\n\t\t\tEnumSet&lt;ValidationResult&gt; thisResult = this.apply(customer);\r\n\t\t\tEnumSet&lt;ValidationResult&gt; otherResult = other.apply(customer);\r\n\t\t\tif (thisResult.equals(SUCCESS_ONLY))\r\n\t\t\t\treturn otherResult;\r\n\t\t\tif (otherResult.equals(SUCCESS_ONLY))\r\n\t\t\t\treturn thisResult;\r\n\t\t\tEnumSet&lt;ValidationResult&gt; combinedResult = EnumSet.copyOf(thisResult);\r\n\t\t\tcombinedResult.addAll(otherResult);\r\n\t\t\treturn combinedResult;\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html","title":"Combinator pattern","body":"<p>If you want a validator to be able to return multiple <em>distinct</em> result codes (enums), then you need to change the return type to <code>Set&lt;ValidationResult&gt;</code>, or more specifically an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>.</p>\n\n<p>E.g. something like this:</p>\n\n<pre><code>interface CustomerRegistrationValidator\n    extends Function&lt;Customer, EnumSet&lt;ValidationResult&gt;&gt; {\n\n    static final EnumSet&lt;ValidationResult&gt; SUCCESS_ONLY = EnumSet.of(ValidationResult.SUCCESS);\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; customer.getEmail().contains(\"@\") ? \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.EMAIL_NOT_VALID);\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(\"+0\") ?  \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.PHONE_NUMBER_NOT_VALID);\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.IS_NOT_AN_ADULT);\n    }\n\n    default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            EnumSet&lt;ValidationResult&gt; thisResult = this.apply(customer);\n            EnumSet&lt;ValidationResult&gt; otherResult = other.apply(customer);\n            if (thisResult.equals(SUCCESS_ONLY))\n                return otherResult;\n            if (otherResult.equals(SUCCESS_ONLY))\n                return thisResult;\n            EnumSet&lt;ValidationResult&gt; combinedResult = EnumSet.copyOf(thisResult);\n            combinedResult.addAll(otherResult);\n            return combinedResult;\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22430023,"reputation":1,"user_id":16636010,"display_name":"Maulik Davra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683433800,"creation_date":1683349128,"answer_id":76187214,"question_id":60839769,"body_markdown":"\r\n\r\nIn this modified code, the `CustomerRegistrationValidator` interface now returns a `List&lt;CustomerRegistrationValidator.ValidationResult&gt;` instead of a single `ValidationResult`. Each validator method creates an empty list of errors and adds the relevant error to the list if the validation fails.\r\n        \r\nThe and method has been updated to accumulate errors from both the current validator and the other validator. It creates a new list of errors, applies the current validator (this), and adds any errors to the list. Then it applies the other validator and adds any errors from that validator as well.\r\n        \r\nNow, when you apply the validators to a customer, you will get a list of errors instead of a single error. You can then handle the errors accordingly, such as printing them or performing any other necessary actions.\r\n          \r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Function;\r\n    \r\n    public interface CustomerRegistrationValidator extends Function&lt;Customer, List&lt;CustomerRegistrationValidator.ValidationResult&gt;&gt; {\r\n    \r\n        static CustomerRegistrationValidator isEmailValid() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (!customer.getEmail().contains(&quot;@&quot;)) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.EMAIL_NOT_VALID);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isPhoneNumberValid() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (!customer.getPhoneNumber().startsWith(&quot;+0&quot;)) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.PHONE_NUMBER_NOT_VALID);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isAnAdult() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (Period.between(customer.getDob(), LocalDate.now()).getYears() &lt;= 16) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.IS_NOT_AN_ADULT);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                errors.addAll(this.apply(customer));\r\n                errors.addAll(other.apply(customer));\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        enum ValidationResult {\r\n            SUCCESS,\r\n            PHONE_NUMBER_NOT_VALID,\r\n            EMAIL_NOT_VALID,\r\n            IS_NOT_AN_ADULT\r\n        }\r\n    }\r\n\r\n\r\n\r\n    Customer customer = new Customer(&quot;Alice&quot;, &quot;alicegmail.com&quot;, &quot;089877878&quot;, LocalDate.of(2000, 1, 1));\r\n\r\n    List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = CustomerRegistrationValidator.isEmailValid()\r\n            .and(CustomerRegistrationValidator.isPhoneNumberValid())\r\n            .and(CustomerRegistrationValidator.isAnAdult())\r\n            .apply(customer);\r\n    \r\n    if (!errors.isEmpty()) {\r\n        for (CustomerRegistrationValidator.ValidationResult error : errors) {\r\n            System.out.println(error);\r\n        }\r\n        // Handle the errors accordingly\r\n    } else {\r\n        // Registration is successful\r\n    }\r\n\r\n\r\n","title":"Combinator pattern","body":"<p>In this modified code, the <code>CustomerRegistrationValidator</code> interface now returns a <code>List&lt;CustomerRegistrationValidator.ValidationResult&gt;</code> instead of a single <code>ValidationResult</code>. Each validator method creates an empty list of errors and adds the relevant error to the list if the validation fails.</p>\n<p>The and method has been updated to accumulate errors from both the current validator and the other validator. It creates a new list of errors, applies the current validator (this), and adds any errors to the list. Then it applies the other validator and adds any errors from that validator as well.</p>\n<p>Now, when you apply the validators to a customer, you will get a list of errors instead of a single error. You can then handle the errors accordingly, such as printing them or performing any other necessary actions.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic interface CustomerRegistrationValidator extends Function&lt;Customer, List&lt;CustomerRegistrationValidator.ValidationResult&gt;&gt; {\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (!customer.getEmail().contains(&quot;@&quot;)) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.EMAIL_NOT_VALID);\n            }\n            return errors;\n        };\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (!customer.getPhoneNumber().startsWith(&quot;+0&quot;)) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.PHONE_NUMBER_NOT_VALID);\n            }\n            return errors;\n        };\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (Period.between(customer.getDob(), LocalDate.now()).getYears() &lt;= 16) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.IS_NOT_AN_ADULT);\n            }\n            return errors;\n        };\n    }\n\n    default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            errors.addAll(this.apply(customer));\n            errors.addAll(other.apply(customer));\n            return errors;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n}\n\n\n\nCustomer customer = new Customer(&quot;Alice&quot;, &quot;alicegmail.com&quot;, &quot;089877878&quot;, LocalDate.of(2000, 1, 1));\n\nList&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = CustomerRegistrationValidator.isEmailValid()\n        .and(CustomerRegistrationValidator.isPhoneNumberValid())\n        .and(CustomerRegistrationValidator.isAnAdult())\n        .apply(customer);\n\nif (!errors.isEmpty()) {\n    for (CustomerRegistrationValidator.ValidationResult error : errors) {\n        System.out.println(error);\n    }\n    // Handle the errors accordingly\n} else {\n    // Registration is successful\n}\n</code></pre>\n"}],"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60840332,"answer_count":2,"score":0,"last_activity_date":1683433800,"creation_date":1585086006,"question_id":60839769,"body_markdown":"I&#39;m having a little issue with the result I&#39;m getting with &#39;Combinator&#39; pattern.\r\n\r\n    public interface CustomerRegistrationValidator \r\n    \textends Function&lt;Customer, ValidationResult&gt; {\r\n    \r\n    \tstatic CustomerRegistrationValidator isEmailValid() {\r\n    \t\treturn customer -&gt; customer.getEmail().contains(&quot;@&quot;) ? \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.EMAIL_NOT_VALID;\r\n    \t}\r\n    \t\r\n    \tstatic CustomerRegistrationValidator isPhoneNumberValid() {\r\n    \t\treturn customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?  \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.PHONE_NUMBER_NOT_VALID;\r\n    \t}\r\n    \t\r\n    \tstatic CustomerRegistrationValidator isAnAdult() {\r\n    \t\treturn customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.IS_NOT_AN_ADULT;\r\n    \t}\r\n    \t\r\n    \tdefault CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\r\n    \t\treturn customer -&gt; {\r\n    \t\t\tValidationResult result = this.apply(customer);\r\n    \t\t\t\r\n    \t\t\treturn result.equals(ValidationResult.SUCCESS) ? other.apply(customer) : result;\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \tenum ValidationResult {\r\n    \t\tSUCCESS,\r\n    \t\tPHONE_NUMBER_NOT_VALID,\r\n    \t\tEMAIL_NOT_VALID,\r\n    \t\tIS_NOT_AN_ADULT\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \r\n        \t\tCustomer customer = new Customer(\r\n        \t\t\t\t&quot;Alice&quot;, \r\n        \t\t\t\t&quot;alicegmail.com&quot;, \r\n        \t\t\t\t&quot;089877878&quot;, \r\n        \t\t\t\tLocalDate.of(2000, 1, 1)\r\n        \t\t);\r\n\r\n                ValidationResult result = CustomerRegistrationValidator.isEmailValid()\r\n        \t\t\t.and(CustomerRegistrationValidator.isPhoneNumberValid())\r\n        \t\t\t.and(CustomerRegistrationValidator.isAnAdult())\r\n        \t\t\t.apply(customer);\r\n        \t\t\r\n        \t\tSystem.out.println(result);\r\n        \t\t\r\n        \t\tif (result != ValidationResult.SUCCESS) {\r\n        \t\t\tthrow new IllegalStateException(result.name());\r\n        \t\t}   \t\t\r\n        }\r\n    }\r\n\r\n Let&#39;s say if there are two errors from those methods(isAnAdult, isEmailValid).Why does it print only one from enum types, in my case &#39;EMAIL_NOT_VALID&#39; with exception instead of two and by the second one I mean &#39;IS_NOT_AN_ADULT&#39; ?\r\n","title":"Combinator pattern","body":"<p>I'm having a little issue with the result I'm getting with 'Combinator' pattern.</p>\n\n<pre><code>public interface CustomerRegistrationValidator \n    extends Function&lt;Customer, ValidationResult&gt; {\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; customer.getEmail().contains(\"@\") ? \n                    ValidationResult.SUCCESS : ValidationResult.EMAIL_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(\"+0\") ?  \n                    ValidationResult.SUCCESS : ValidationResult.PHONE_NUMBER_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \n                    ValidationResult.SUCCESS : ValidationResult.IS_NOT_AN_ADULT;\n    }\n\n    default CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            ValidationResult result = this.apply(customer);\n\n            return result.equals(ValidationResult.SUCCESS) ? other.apply(customer) : result;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n            Customer customer = new Customer(\n                    \"Alice\", \n                    \"alicegmail.com\", \n                    \"089877878\", \n                    LocalDate.of(2000, 1, 1)\n            );\n\n            ValidationResult result = CustomerRegistrationValidator.isEmailValid()\n                .and(CustomerRegistrationValidator.isPhoneNumberValid())\n                .and(CustomerRegistrationValidator.isAnAdult())\n                .apply(customer);\n\n            System.out.println(result);\n\n            if (result != ValidationResult.SUCCESS) {\n                throw new IllegalStateException(result.name());\n            }           \n    }\n}\n</code></pre>\n\n<p>Let's say if there are two errors from those methods(isAnAdult, isEmailValid).Why does it print only one from enum types, in my case 'EMAIL_NOT_VALID' with exception instead of two and by the second one I mean 'IS_NOT_AN_ADULT' ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683432063,"post_id":76191749,"comment_id":134364740,"body_markdown":"your setup looks wrong: the instantiated controller != the loaded ui - remove the contoller attribute in the fxml and set the loader&#39;s controller property manually (before loading)","body":"your setup looks wrong: the instantiated controller != the loaded ui - remove the contoller attribute in the fxml and set the loader&#39;s controller property manually (before loading)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1683432210,"post_id":76191749,"comment_id":134364750,"body_markdown":"note: debugging questions require a [mcve] - mind the __M__!","body":"note: debugging questions require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - mind the <b>M</b>!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683432768,"post_id":76191749,"comment_id":134364783,"body_markdown":"the commented line is the right track - just give _this_ as parameter","body":"the commented line is the right track - just give <i>this</i> as parameter"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683546410,"post_id":76191749,"comment_id":134378352,"body_markdown":"This setup just looks completely wrong. Your `OptionsMenu` looks like a controller class for an FXML file (because it has `@FXML` annotations), but it&#39;s a subclass of `Pane`, and implements `EventHandler`, and is implemented as a singleton. None of those make any sense for a controller. You&#39;re also trying to access `@FXML`-annotated fields in the constructor, which won&#39;t work as they cannot possibly be initialized at that point. Your FXML file, on the other hand, declares the `Application` subclass as its controller class, which also makes no sense.","body":"This setup just looks completely wrong. Your <code>OptionsMenu</code> looks like a controller class for an FXML file (because it has <code>@FXML</code> annotations), but it&#39;s a subclass of <code>Pane</code>, and implements <code>EventHandler</code>, and is implemented as a singleton. None of those make any sense for a controller. You&#39;re also trying to access <code>@FXML</code>-annotated fields in the constructor, which won&#39;t work as they cannot possibly be initialized at that point. Your FXML file, on the other hand, declares the <code>Application</code> subclass as its controller class, which also makes no sense."}],"owner":{"account_id":19069058,"reputation":41,"user_id":13923628,"display_name":"Lenard Decarpicorn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683431212,"creation_date":1683419191,"question_id":76191749,"body_markdown":"I&#39;ve been trying to create an instance of my OptionsMenu() scene when clicking on a button in my MainMenu() scene, but all my FXML components in the scene are showing up as null and I&#39;m unsure why. I&#39;ve checked the FXML controller, the fx::id of my components, the @FXML headers, and so far, nothing has worked. If anyone could give me some guidance, it would be greatly appreciated.\r\n\r\nHere is my OptionsMenu() class I&#39;m trying to load:\r\n\r\n```   \r\npackage ui_gui;\r\n\r\nimport controllers.Chess;\r\nimport controllers.Main;\r\nimport enums.GameColor;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.*;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport model.GameStateEditor;\r\nimport model.Options;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class OptionsMenu extends Pane implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n    /**The root of the layout**/\r\n    private Pane root;\r\n\r\n    /**the Scene on to which the root is situated**/\r\n    private Scene scene;\r\n\r\n    public enum  Screen {SCREEN3, SCREEN4};\r\n\r\n    /**A button on the layout**/\r\n    @FXML\r\n    Button blackSquareButton;\r\n\r\n    @FXML\r\n    Button whiteSquareButton;\r\n\r\n    @FXML\r\n    CheckBox undosEnabledCheckbox;\r\n\r\n    @FXML\r\n    CheckBox unlimitedUndosCheckbox;\r\n\r\n    @FXML\r\n    CheckBox showMovesCheckbox;\r\n\r\n    @FXML\r\n    Button saveButton;\r\n\r\n    @FXML\r\n    TextField undoTextField;\r\n\r\n    @FXML\r\n    Button exitButton;\r\n\r\n    ScreenChangeHandler screenChanger;\r\n\r\n    public static Chess game;\r\n\r\n    public static OptionsMenu instance;\r\n\r\n    /**Set the handler for sreen changes**/\r\n    public void setScreenChangeHandler(ScreenChangeHandler sch){\r\n        this.screenChanger = sch;\r\n    }//end\r\n\r\n    /**\r\n     * Create a singleton instance of a ColorChooser\r\n     * @return The instance of this ColorChooser\r\n     */\r\n    public static OptionsMenu getInstance(Chess game){\r\n        if (instance == null){\r\n            instance = new OptionsMenu(game);\r\n        }\r\n        return instance;\r\n    }//end getInstance\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        blackSquareButton.setOnAction(this::handle);\r\n        System.out.println(blackSquareButton.getId());\r\n        whiteSquareButton.setOnAction(this::handle);\r\n        saveButton.setOnAction(this::handle);\r\n        exitButton.setOnAction(this::handle);\r\n    }\r\n\r\n    public OptionsMenu(Chess chessGame) {\r\n        super();\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;options-view.fxml&quot;));\r\n        //loader.setController(new Main());\r\n        try {\r\n            root = loader.load();\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        this.game = chessGame;\r\n\r\n        Options options = game.getOptions();\r\n\r\n        int[] blkColors = options.getBlackSquareColor();\r\n\r\n        // Setting the initial color of the blackSquareButton (to black)\r\n        Color black = Color.rgb(blkColors[0], blkColors[1], blkColors[2]);\r\n        // Recolor OptionMenu&#39;s button with the value chosen in our color picker\r\n        BackgroundFill blackFill = new BackgroundFill(black, CornerRadii.EMPTY, Insets.EMPTY);\r\n        Background backGround = new Background(blackFill);\r\n        blackSquareButton.setBackground(backGround);\r\n\r\n        int[] whtColors = options.getWhiteSquareColor();\r\n\r\n        // Setting the initial color of the whiteSquareButton (to white)\r\n        Color white = Color.rgb(whtColors[0], whtColors[1], whtColors[2]);\r\n        // Recolor OptionMenu&#39;s button with the value chosen in our color picker\r\n        BackgroundFill whiteFill = new BackgroundFill(white, CornerRadii.EMPTY, Insets.EMPTY);\r\n        Background whiteGround = new Background(whiteFill);\r\n        whiteSquareButton.setBackground(whiteGround);\r\n\r\n        undosEnabledCheckbox.setSelected(options.getUndosEnabled());\r\n        showMovesCheckbox.setSelected(options.getShowMoves());\r\n\r\n        if(undosEnabledCheckbox.isSelected()){\r\n\r\n            if(options.getUnlimitedUndos() == true){\r\n                unlimitedUndosCheckbox.setSelected(true);\r\n                undoTextField.setDisable(true);\r\n            }else{// If we don&#39;t have unlimited undos in our settings\r\n                if(options.getUndoMax() != 999){ // 999 represents having unlimited undos\r\n                    // Set the &quot;undos&quot; text field to the maximum amount of undos in Options()\r\n                    undoTextField.setText(String.valueOf(options.getUndoMax()));\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // Create a ChangeListener that listens for changes in the selected property of the checkbox\r\n        ChangeListener&lt;Boolean&gt; listener1 = new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                if (newValue) {\r\n                    undoTextField.setDisable(false); // Enable if the checkbox is selected\r\n                    unlimitedUndosCheckbox.setDisable(false);\r\n\r\n                } else {\r\n                    unlimitedUndosCheckbox.setDisable(true);\r\n                    unlimitedUndosCheckbox.setSelected(false);\r\n                    undoTextField.clear();\r\n                    if(undoTextField.isDisabled() == false){\r\n                        undoTextField.setDisable(true);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // Add the ChangeListener to the checkbox&#39;s selected property\r\n        undosEnabledCheckbox.selectedProperty().addListener(listener1);\r\n\r\n        ChangeListener&lt;Boolean&gt; listener2 = new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                if (newValue) {\r\n                    undoTextField.setDisable(true); // If checked, disable text field\r\n                    undoTextField.clear();\r\n                } else {\r\n                    undoTextField.setDisable(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        unlimitedUndosCheckbox.selectedProperty().addListener(listener2);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    /**Get the root of the layout in order for another class to display it**/\r\n    public Pane getRoot() {\r\n        return root;\r\n    }\r\n\r\n    /**\r\n     * Handles an action event generated by a component in our scene\r\n     * @param actionEvent the event which occurred\r\n     */\r\n    @Override\r\n    public void handle(ActionEvent actionEvent) {\r\n\r\n        if (actionEvent.getSource() == blackSquareButton) {\r\n            openColorChooser(blackSquareButton);\r\n        }else if(actionEvent.getSource() == whiteSquareButton) {\r\n            openColorChooser(whiteSquareButton);\r\n        }else if(actionEvent.getSource() == saveButton){\r\n            saveSettings();\r\n        }else if(actionEvent.getSource() == exitButton){\r\n            //exitSettings();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Saves the Options Menu Screen&#39;s settings to the Chess games Options()\r\n     */\r\n    public void saveSettings(){\r\n        // Getting the game&#39;s options\r\n        Options options = game.getOptions();\r\n        GameStateEditor stateEditor = game.getStateEditor();\r\n\r\n        // That means we can undo in this game. If the player doesn&#39;t select\r\n        // anything else, we&#39;ll assume they&#39;ll undo once at a time\r\n        if(undosEnabledCheckbox.isSelected()){\r\n            options.setUndosEnabled(true);\r\n\r\n            // If the player wants unlimited undos\r\n            if(unlimitedUndosCheckbox.isSelected()){\r\n                options.setUnlimitedUndos(true);\r\n\r\n            // If the &quot;Max Undos&quot; text field has numbers in it\r\n            }else if(0 &lt; undoTextField.getText().length() &amp;&amp; undoTextField.getText().length() &lt; 3){\r\n                int allowed_undos = Integer.parseInt(undoTextField.getText().trim());\r\n                options.setUndoMax(allowed_undos);\r\n                stateEditor.setMaxUndos(options.getUndoMax());\r\n            }\r\n        }else{// If the &quot;Undos Enabled&quot; is not selected\r\n            options.setUndosEnabled(false);\r\n        }\r\n\r\n        if(showMovesCheckbox.isSelected()){\r\n            options.setShowMoves(true);\r\n        }else{ // If the show moves checkbox isn&#39;t checked\r\n            options.setShowMoves(true);\r\n        }\r\n\r\n        int[] blkColors = getButtonColorInt(blackSquareButton);\r\n        int[] whtColors = getButtonColorInt(whiteSquareButton);\r\n\r\n        // Setting the options black and white square colors\r\n        options.setBlackSquareColor(blkColors[0], blkColors[1], blkColors[2]);\r\n        options.setWhiteSquareColor(whtColors[0], whtColors[1], whtColors[2]);\r\n    }\r\n\r\n    /**\r\n     * Opens a ColorChooser triggered by a button click\r\n     * @param button - The button that opened ColorChooser\r\n     */\r\n    public void openColorChooser(Button button){\r\n        screenChanger.switchScreen(ScreenFactory.Screen.SCREEN4);\r\n\r\n        /**\r\n        ColorChooser ch = null;\r\n        ch = ColorChooser.getInstance();\r\n        ch.setColor(getButtonColor(button));\r\n\r\n        //TODO: For task 3 a another method here would be good.\r\n\r\n        root = ch;\r\n\r\n        //Change the screen\r\n        if(screenChanger == null)\r\n            scene = new Scene(root,400,600);\r\n        else\r\n            scene.setRoot(root);\r\n\r\n        ch.setPreviousScene(((Node)button).getScene());\r\n        ch.setPreviousButton(button);\r\n\r\n        Stage stage = (Stage) ((Node)button).getScene().getWindow();\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        //runOnce = false;\r\n         */\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns the Color of a button in the form of a list of integers representing\r\n     * RBG values.\r\n     * @param button - The button whose color we&#39;re getting\r\n     * @return A button&#39;s color as a list of integers\r\n     */\r\n    public int[] getButtonColorInt(Button button){\r\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\r\n        int[] buttonColors =  {(int)(color.getRed()), (int)(color.getGreen()), (int)(color.getBlue())};\r\n        return buttonColors;\r\n    }\r\n\r\n    /**\r\n     * Returns the Color of a button in the form of a Hexadecimal string.\r\n     * @param button - The button whose color we&#39;re getting\r\n     * @return A button&#39;s color as a Hexadecimal string\r\n     */\r\n    public String getButtonColor(Button button){\r\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\r\n        String hex = String.format(&quot;%02X%02X%02X&quot;, (int)(color.getRed()*255),\r\n                (int)(color.getGreen()*255), (int)(color.getBlue()*255));\r\n        return hex;\r\n    }\r\n\r\n}\r\n```  \r\n\r\nHere&#39;s my FXML file:\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.CheckBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane minWidth=&quot;400.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.Main&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;150.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;95.0&quot; text=&quot;Settings&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;27.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;76.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;80.0&quot; text=&quot;Colors:&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;20.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;159.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;157.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label contentDisplay=&quot;BOTTOM&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Black Squares&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;blackSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;2.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;7.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;VBox layoutX=&quot;40.0&quot; layoutY=&quot;207.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Undo:&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;20.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox layoutX=&quot;226.0&quot; layoutY=&quot;131.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;CheckBox fx:id=&quot;showMovesCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;134.0&quot; text=&quot;Show moves&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/CheckBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox alignment=&quot;CENTER&quot; layoutX=&quot;237.0&quot; layoutY=&quot;298.0&quot; prefHeight=&quot;48.0&quot; prefWidth=&quot;123.0&quot; spacing=&quot;8.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;saveButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Save&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button fx:id=&quot;exitButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Exit&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;245.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;157.0&quot; spacing=&quot;5.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;CheckBox fx:id=&quot;undosEnabledCheckbox&quot; mnemonicParsing=&quot;false&quot; text=&quot;Enabled&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;4.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/CheckBox&gt;\r\n            &lt;CheckBox fx:id=&quot;unlimitedUndosCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;24.0&quot; prefWidth=&quot;165.0&quot; text=&quot;Unlimited Undos&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/CheckBox&gt;\r\n         &lt;/children&gt;\r\n         &lt;opaqueInsets&gt;\r\n            &lt;Insets /&gt;\r\n         &lt;/opaqueInsets&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;HBox layoutX=&quot;42.0&quot; layoutY=&quot;335.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;134.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Max Undos&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;TextField fx:id=&quot;undoTextField&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;66.0&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;8.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;5.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;151.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;23.0&quot; prefWidth=&quot;108.0&quot; text=&quot;White Squares&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;whiteSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;9.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n \r\n```  \r\n\r\nHere&#39;s my controller class:\r\n\r\n``` \r\npackage controllers;\r\n\r\nimport interfaces.guiIF;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport ui_gui.MainMenu;\r\nimport ui_gui.ScreenFactory;\r\n\r\n/**\r\n * A class to start the chess application\r\n */\r\npublic class Main extends Application {\r\n\r\n\r\n\r\n    /**\r\n     * Creates a driver and calls runGame.\r\n     */\r\n\r\n    private static Chess game;\r\n    public static void main(String[] args) {\r\n        // guiIF GUI = MainMenu.getMenu();\r\n        game = Chess.getInstanceOfGame();\r\n        Driver driver = new Driver(game);\r\n        driver.runGame();\r\n        launch(args);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param primaryStage the primary stage for this application, onto which\r\n     * the application scene can be set.\r\n     * Applications may create other stages, if needed, but they will not be\r\n     * primary stages.\r\n     */\r\n\r\n    @Override\r\n    public void start(Stage primaryStage){\r\n        try{\r\n            MainMenu mainScreen = new MainMenu(game);\r\n            Scene scene = new Scene(mainScreen.getRoot(), 1000, 600);\r\n            ScreenFactory.getInstance(scene);\r\n\r\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n\r\n\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n``` \r\n\r\nAnd here&#39;s the error I&#39;m getting when trying to load the scene: \r\n\r\n``` \r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Button.setBackground(javafx.scene.layout.Background)&quot; because &quot;this.blackSquareButton&quot; is null\r\n\tat ui_gui.OptionsMenu.&lt;init&gt;(OptionsMenu.java:114)\r\n\tat ui_gui.OptionsMenu.getInstance(OptionsMenu.java:79)\r\n\tat ui_gui.ScreenFactory.setScreen(ScreenFactory.java:106)\r\n\tat ui_gui.ScreenFactory.switchScreen(ScreenFactory.java:165)\r\n\tat ui_gui.MainMenu$1.handle(MainMenu.java:245)\r\n\tat ui_gui.MainMenu$1.handle(MainMenu.java:213)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8944)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\n``` ","title":"Why are my all FXML components null when trying to load JavaFX class?","body":"<p>I've been trying to create an instance of my OptionsMenu() scene when clicking on a button in my MainMenu() scene, but all my FXML components in the scene are showing up as null and I'm unsure why. I've checked the FXML controller, the fx::id of my components, the @FXML headers, and so far, nothing has worked. If anyone could give me some guidance, it would be greatly appreciated.</p>\n<p>Here is my OptionsMenu() class I'm trying to load:</p>\n<pre><code>package ui_gui;\n\nimport controllers.Chess;\nimport controllers.Main;\nimport enums.GameColor;\nimport javafx.beans.value.ObservableValue;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.*;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.control.Button;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport javafx.beans.value.ChangeListener;\nimport model.GameStateEditor;\nimport model.Options;\n\nimport java.io.IOException;\n\npublic class OptionsMenu extends Pane implements EventHandler&lt;ActionEvent&gt; {\n\n    /**The root of the layout**/\n    private Pane root;\n\n    /**the Scene on to which the root is situated**/\n    private Scene scene;\n\n    public enum  Screen {SCREEN3, SCREEN4};\n\n    /**A button on the layout**/\n    @FXML\n    Button blackSquareButton;\n\n    @FXML\n    Button whiteSquareButton;\n\n    @FXML\n    CheckBox undosEnabledCheckbox;\n\n    @FXML\n    CheckBox unlimitedUndosCheckbox;\n\n    @FXML\n    CheckBox showMovesCheckbox;\n\n    @FXML\n    Button saveButton;\n\n    @FXML\n    TextField undoTextField;\n\n    @FXML\n    Button exitButton;\n\n    ScreenChangeHandler screenChanger;\n\n    public static Chess game;\n\n    public static OptionsMenu instance;\n\n    /**Set the handler for sreen changes**/\n    public void setScreenChangeHandler(ScreenChangeHandler sch){\n        this.screenChanger = sch;\n    }//end\n\n    /**\n     * Create a singleton instance of a ColorChooser\n     * @return The instance of this ColorChooser\n     */\n    public static OptionsMenu getInstance(Chess game){\n        if (instance == null){\n            instance = new OptionsMenu(game);\n        }\n        return instance;\n    }//end getInstance\n\n    @FXML\n    public void initialize() {\n        blackSquareButton.setOnAction(this::handle);\n        System.out.println(blackSquareButton.getId());\n        whiteSquareButton.setOnAction(this::handle);\n        saveButton.setOnAction(this::handle);\n        exitButton.setOnAction(this::handle);\n    }\n\n    public OptionsMenu(Chess chessGame) {\n        super();\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;options-view.fxml&quot;));\n        //loader.setController(new Main());\n        try {\n            root = loader.load();\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        this.game = chessGame;\n\n        Options options = game.getOptions();\n\n        int[] blkColors = options.getBlackSquareColor();\n\n        // Setting the initial color of the blackSquareButton (to black)\n        Color black = Color.rgb(blkColors[0], blkColors[1], blkColors[2]);\n        // Recolor OptionMenu's button with the value chosen in our color picker\n        BackgroundFill blackFill = new BackgroundFill(black, CornerRadii.EMPTY, Insets.EMPTY);\n        Background backGround = new Background(blackFill);\n        blackSquareButton.setBackground(backGround);\n\n        int[] whtColors = options.getWhiteSquareColor();\n\n        // Setting the initial color of the whiteSquareButton (to white)\n        Color white = Color.rgb(whtColors[0], whtColors[1], whtColors[2]);\n        // Recolor OptionMenu's button with the value chosen in our color picker\n        BackgroundFill whiteFill = new BackgroundFill(white, CornerRadii.EMPTY, Insets.EMPTY);\n        Background whiteGround = new Background(whiteFill);\n        whiteSquareButton.setBackground(whiteGround);\n\n        undosEnabledCheckbox.setSelected(options.getUndosEnabled());\n        showMovesCheckbox.setSelected(options.getShowMoves());\n\n        if(undosEnabledCheckbox.isSelected()){\n\n            if(options.getUnlimitedUndos() == true){\n                unlimitedUndosCheckbox.setSelected(true);\n                undoTextField.setDisable(true);\n            }else{// If we don't have unlimited undos in our settings\n                if(options.getUndoMax() != 999){ // 999 represents having unlimited undos\n                    // Set the &quot;undos&quot; text field to the maximum amount of undos in Options()\n                    undoTextField.setText(String.valueOf(options.getUndoMax()));\n                }\n            }\n        }\n\n\n        // Create a ChangeListener that listens for changes in the selected property of the checkbox\n        ChangeListener&lt;Boolean&gt; listener1 = new ChangeListener&lt;Boolean&gt;() {\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                if (newValue) {\n                    undoTextField.setDisable(false); // Enable if the checkbox is selected\n                    unlimitedUndosCheckbox.setDisable(false);\n\n                } else {\n                    unlimitedUndosCheckbox.setDisable(true);\n                    unlimitedUndosCheckbox.setSelected(false);\n                    undoTextField.clear();\n                    if(undoTextField.isDisabled() == false){\n                        undoTextField.setDisable(true);\n                    }\n                }\n            }\n        };\n\n        // Add the ChangeListener to the checkbox's selected property\n        undosEnabledCheckbox.selectedProperty().addListener(listener1);\n\n        ChangeListener&lt;Boolean&gt; listener2 = new ChangeListener&lt;Boolean&gt;() {\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                if (newValue) {\n                    undoTextField.setDisable(true); // If checked, disable text field\n                    undoTextField.clear();\n                } else {\n                    undoTextField.setDisable(false);\n                }\n            }\n        };\n\n        unlimitedUndosCheckbox.selectedProperty().addListener(listener2);\n\n\n    }\n\n\n\n    /**Get the root of the layout in order for another class to display it**/\n    public Pane getRoot() {\n        return root;\n    }\n\n    /**\n     * Handles an action event generated by a component in our scene\n     * @param actionEvent the event which occurred\n     */\n    @Override\n    public void handle(ActionEvent actionEvent) {\n\n        if (actionEvent.getSource() == blackSquareButton) {\n            openColorChooser(blackSquareButton);\n        }else if(actionEvent.getSource() == whiteSquareButton) {\n            openColorChooser(whiteSquareButton);\n        }else if(actionEvent.getSource() == saveButton){\n            saveSettings();\n        }else if(actionEvent.getSource() == exitButton){\n            //exitSettings();\n        }\n    }\n\n    /**\n     * Saves the Options Menu Screen's settings to the Chess games Options()\n     */\n    public void saveSettings(){\n        // Getting the game's options\n        Options options = game.getOptions();\n        GameStateEditor stateEditor = game.getStateEditor();\n\n        // That means we can undo in this game. If the player doesn't select\n        // anything else, we'll assume they'll undo once at a time\n        if(undosEnabledCheckbox.isSelected()){\n            options.setUndosEnabled(true);\n\n            // If the player wants unlimited undos\n            if(unlimitedUndosCheckbox.isSelected()){\n                options.setUnlimitedUndos(true);\n\n            // If the &quot;Max Undos&quot; text field has numbers in it\n            }else if(0 &lt; undoTextField.getText().length() &amp;&amp; undoTextField.getText().length() &lt; 3){\n                int allowed_undos = Integer.parseInt(undoTextField.getText().trim());\n                options.setUndoMax(allowed_undos);\n                stateEditor.setMaxUndos(options.getUndoMax());\n            }\n        }else{// If the &quot;Undos Enabled&quot; is not selected\n            options.setUndosEnabled(false);\n        }\n\n        if(showMovesCheckbox.isSelected()){\n            options.setShowMoves(true);\n        }else{ // If the show moves checkbox isn't checked\n            options.setShowMoves(true);\n        }\n\n        int[] blkColors = getButtonColorInt(blackSquareButton);\n        int[] whtColors = getButtonColorInt(whiteSquareButton);\n\n        // Setting the options black and white square colors\n        options.setBlackSquareColor(blkColors[0], blkColors[1], blkColors[2]);\n        options.setWhiteSquareColor(whtColors[0], whtColors[1], whtColors[2]);\n    }\n\n    /**\n     * Opens a ColorChooser triggered by a button click\n     * @param button - The button that opened ColorChooser\n     */\n    public void openColorChooser(Button button){\n        screenChanger.switchScreen(ScreenFactory.Screen.SCREEN4);\n\n        /**\n        ColorChooser ch = null;\n        ch = ColorChooser.getInstance();\n        ch.setColor(getButtonColor(button));\n\n        //TODO: For task 3 a another method here would be good.\n\n        root = ch;\n\n        //Change the screen\n        if(screenChanger == null)\n            scene = new Scene(root,400,600);\n        else\n            scene.setRoot(root);\n\n        ch.setPreviousScene(((Node)button).getScene());\n        ch.setPreviousButton(button);\n\n        Stage stage = (Stage) ((Node)button).getScene().getWindow();\n        stage.setScene(scene);\n        stage.show();\n        //runOnce = false;\n         */\n\n    }\n\n    /**\n     * Returns the Color of a button in the form of a list of integers representing\n     * RBG values.\n     * @param button - The button whose color we're getting\n     * @return A button's color as a list of integers\n     */\n    public int[] getButtonColorInt(Button button){\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\n        int[] buttonColors =  {(int)(color.getRed()), (int)(color.getGreen()), (int)(color.getBlue())};\n        return buttonColors;\n    }\n\n    /**\n     * Returns the Color of a button in the form of a Hexadecimal string.\n     * @param button - The button whose color we're getting\n     * @return A button's color as a Hexadecimal string\n     */\n    public String getButtonColor(Button button){\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\n        String hex = String.format(&quot;%02X%02X%02X&quot;, (int)(color.getRed()*255),\n                (int)(color.getGreen()*255), (int)(color.getBlue()*255));\n        return hex;\n    }\n\n}\n</code></pre>\n<p>Here's my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.CheckBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane minWidth=&quot;400.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.Main&quot;&gt;\n   &lt;children&gt;\n      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;150.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;95.0&quot; text=&quot;Settings&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;27.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;76.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;80.0&quot; text=&quot;Colors:&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;20.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;159.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;157.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label contentDisplay=&quot;BOTTOM&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Black Squares&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;blackSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;2.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;7.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n      &lt;VBox layoutX=&quot;40.0&quot; layoutY=&quot;207.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Undo:&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;20.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox layoutX=&quot;226.0&quot; layoutY=&quot;131.0&quot;&gt;\n         &lt;children&gt;\n            &lt;CheckBox fx:id=&quot;showMovesCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;134.0&quot; text=&quot;Show moves&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox alignment=&quot;CENTER&quot; layoutX=&quot;237.0&quot; layoutY=&quot;298.0&quot; prefHeight=&quot;48.0&quot; prefWidth=&quot;123.0&quot; spacing=&quot;8.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;saveButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Save&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Button fx:id=&quot;exitButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Exit&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;245.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;157.0&quot; spacing=&quot;5.0&quot;&gt;\n         &lt;children&gt;\n            &lt;CheckBox fx:id=&quot;undosEnabledCheckbox&quot; mnemonicParsing=&quot;false&quot; text=&quot;Enabled&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;4.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/CheckBox&gt;\n            &lt;CheckBox fx:id=&quot;unlimitedUndosCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;24.0&quot; prefWidth=&quot;165.0&quot; text=&quot;Unlimited Undos&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n         &lt;/children&gt;\n         &lt;opaqueInsets&gt;\n            &lt;Insets /&gt;\n         &lt;/opaqueInsets&gt;\n      &lt;/VBox&gt;\n      &lt;HBox layoutX=&quot;42.0&quot; layoutY=&quot;335.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;134.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Max Undos&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField fx:id=&quot;undoTextField&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;66.0&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;8.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;5.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/TextField&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;151.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;23.0&quot; prefWidth=&quot;108.0&quot; text=&quot;White Squares&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;whiteSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;9.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n \n</code></pre>\n<p>Here's my controller class:</p>\n<pre><code>package controllers;\n\nimport interfaces.guiIF;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport ui_gui.MainMenu;\nimport ui_gui.ScreenFactory;\n\n/**\n * A class to start the chess application\n */\npublic class Main extends Application {\n\n\n\n    /**\n     * Creates a driver and calls runGame.\n     */\n\n    private static Chess game;\n    public static void main(String[] args) {\n        // guiIF GUI = MainMenu.getMenu();\n        game = Chess.getInstanceOfGame();\n        Driver driver = new Driver(game);\n        driver.runGame();\n        launch(args);\n    }\n\n    /**\n     *\n     * @param primaryStage the primary stage for this application, onto which\n     * the application scene can be set.\n     * Applications may create other stages, if needed, but they will not be\n     * primary stages.\n     */\n\n    @Override\n    public void start(Stage primaryStage){\n        try{\n            MainMenu mainScreen = new MainMenu(game);\n            Scene scene = new Scene(mainScreen.getRoot(), 1000, 600);\n            ScreenFactory.getInstance(scene);\n\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.show();\n\n\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n\n\n}\n</code></pre>\n<p>And here's the error I'm getting when trying to load the scene:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Button.setBackground(javafx.scene.layout.Background)&quot; because &quot;this.blackSquareButton&quot; is null\n    at ui_gui.OptionsMenu.&lt;init&gt;(OptionsMenu.java:114)\n    at ui_gui.OptionsMenu.getInstance(OptionsMenu.java:79)\n    at ui_gui.ScreenFactory.setScreen(ScreenFactory.java:106)\n    at ui_gui.ScreenFactory.switchScreen(ScreenFactory.java:165)\n    at ui_gui.MainMenu$1.handle(MainMenu.java:245)\n    at ui_gui.MainMenu$1.handle(MainMenu.java:213)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\n</code></pre>\n"},{"tags":["java","itext","itext7","html-to-pdf"],"answers":[{"tags":[],"owner":{"account_id":6482662,"reputation":677,"user_id":5019199,"display_name":"e.g78"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1563883631,"creation_date":1563883025,"answer_id":57163731,"question_id":57163609,"body_markdown":"`com/itextpdf/kernel/counter/event/IMetaInfo` is not present in version `7.0.4`\r\nTry upgrading to itext `7.1.7`","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p><code>com/itextpdf/kernel/counter/event/IMetaInfo</code> is not present in version <code>7.0.4</code>\nTry upgrading to itext <code>7.1.7</code></p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1672312176,"post_id":74950303,"comment_id":132264353,"body_markdown":"If you consider your post to be a comment please delete it; compare https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead But you might be able to turn it into a partial answer, if you can provide an insight to at least solve some part of the problem. In that case please [edit] according to [answer].","body":"If you consider your post to be a comment please delete it; compare <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> But you might be able to turn it into a partial answer, if you can provide an insight to at least solve some part of the problem. In that case please <a href=\"https://stackoverflow.com/posts/74950303/edit\">edit</a> according to <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1672312205,"post_id":74950303,"comment_id":132264363,"body_markdown":"You know about the commenting privilege which you do not have, so well that you can even put it into words. You are aware of the rule https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead . In that situation please do not decide to misuse a different mechanism (an answer) for something it is not meant for and which you are not allowed yet to do.","body":"You know about the commenting privilege which you do not have, so well that you can even put it into words. You are aware of the rule <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> . In that situation please do not decide to misuse a different mechanism (an answer) for something it is not meant for and which you are not allowed yet to do."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672324306,"post_id":74950303,"comment_id":132267698,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74950303/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16593981,"reputation":15,"user_id":11991372,"display_name":"lukdymek"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672319168,"creation_date":1672311899,"answer_id":74950303,"question_id":57163609,"body_markdown":"Yesterday I had simillar problem. It appears that some dependencies  did not load properly even that no errors were thrown. I had to restart IDE (Eclipse in my case) and that sorted out the problem. ","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>Yesterday I had simillar problem. It appears that some dependencies  did not load properly even that no errors were thrown. I had to restart IDE (Eclipse in my case) and that sorted out the problem.</p>\n"},{"tags":[],"owner":{"account_id":3205334,"reputation":51,"user_id":2706465,"display_name":"Nandom Gusen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683430825,"creation_date":1683430825,"answer_id":76192092,"question_id":57163609,"body_markdown":"With html2pdf, this error `java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo` is resolved by upgrading your IText 7 Kernel to 7.2.5 as shown below\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n         &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n         &lt;version&gt;7.2.5&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>With html2pdf, this error <code>java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo</code> is resolved by upgrading your IText 7 Kernel to 7.2.5 as shown below</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n     &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n     &lt;version&gt;7.2.5&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13399610,"reputation":430,"user_id":10229308,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6459,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57163731,"answer_count":3,"score":3,"last_activity_date":1683430825,"creation_date":1563882636,"question_id":57163609,"body_markdown":"I&#39;m new to Java, I&#39;m working on generating pdf from html. Therefore, I&#39;m using the iText7, I can generate a normal pdf file through PdfWriter and Document but I can&#39;t do it using html2pdf.\r\n\r\nHere is my Pom.xml\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;springexample&lt;/groupId&gt;\r\n      &lt;artifactId&gt;PDFGenerator&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;bean&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;7.0.4&lt;/version&gt;\r\n    \t    &lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\r\n    \t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.1.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.7.26&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/project&gt;\r\n\r\nand here is my code java:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Paths;\r\n    \r\n    import com.itextpdf.html2pdf.HtmlConverter;\r\n        \r\n    public class HtmlToPdf {\r\n        \t\r\n    /** The HTML-string that we are going to convert to PDF. */\r\n    public static final String HTML = &quot;&lt;h1&gt;Test&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;&quot;;\r\n    /** The target folder for the result. */\r\n    public static final String TARGET = &quot;target/&quot;;\r\n    /** The path to the resulting PDF file. */\r\n    public static final String DEST = String.format(&quot;%stest-01.pdf&quot;, TARGET);\r\n        \t\r\n        \tpublic static void main(String[] args) throws IOException { \r\n        \r\n        \t\tHtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\r\n        \r\n        \t\tSystem.out.println(&quot;Done&quot;);\r\n            }\r\n        }\r\n\r\nThe error is on the line: \r\n\r\n    HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\r\n\r\n-------\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo\r\n    \tat springexample.bean.HtmlToPdf.main(HtmlToPdf.java:18)\r\n    Caused by: java.lang.ClassNotFoundException: com.itextpdf.kernel.counter.event.IMetaInfo\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\r\nI read other issues related to \r\n\r\n&gt; java.lang.NoClassDefFoundError\r\n\r\nthey said that I need to add the io and slf4j dependencies, however the error remains.\r\nThanks in advance.","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>I'm new to Java, I'm working on generating pdf from html. Therefore, I'm using the iText7, I can generate a normal pdf file through PdfWriter and Document but I can't do it using html2pdf.</p>\n\n<p>Here is my Pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;springexample&lt;/groupId&gt;\n  &lt;artifactId&gt;PDFGenerator&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;bean&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;io&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;layout&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;forms&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.26&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and here is my code java:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\nimport com.itextpdf.html2pdf.HtmlConverter;\n\npublic class HtmlToPdf {\n\n/** The HTML-string that we are going to convert to PDF. */\npublic static final String HTML = \"&lt;h1&gt;Test&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;\";\n/** The target folder for the result. */\npublic static final String TARGET = \"target/\";\n/** The path to the resulting PDF file. */\npublic static final String DEST = String.format(\"%stest-01.pdf\", TARGET);\n\n        public static void main(String[] args) throws IOException { \n\n            HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\n\n            System.out.println(\"Done\");\n        }\n    }\n</code></pre>\n\n<p>The error is on the line: </p>\n\n<pre><code>HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\n</code></pre>\n\n<hr>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo\n    at springexample.bean.HtmlToPdf.main(HtmlToPdf.java:18)\nCaused by: java.lang.ClassNotFoundException: com.itextpdf.kernel.counter.event.IMetaInfo\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n</code></pre>\n\n<p>I read other issues related to </p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError</p>\n</blockquote>\n\n<p>they said that I need to add the io and slf4j dependencies, however the error remains.\nThanks in advance.</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1683424531,"post_id":76191897,"comment_id":134364362,"body_markdown":"If we can&#39;t include the review as a field for the Book collection, then what is the relationship or link of the review with the book to identify the review is linked with book ?","body":"If we can&#39;t include the review as a field for the Book collection, then what is the relationship or link of the review with the book to identify the review is linked with book ?"},{"owner":{"account_id":27002111,"reputation":23,"user_id":20563243,"display_name":"alwaysneedhelp1901"},"score":1,"creation_date":1683424650,"post_id":76191897,"comment_id":134364370,"body_markdown":"@MadhawaGunasekara the review has a reference to the book&#39;s id","body":"@MadhawaGunasekara the review has a reference to the book&#39;s id"}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683428910,"creation_date":1683428910,"answer_id":76192030,"question_id":76191897,"body_markdown":"I think you could try the below-suggested approach.\r\n\r\nSince you can&#39;t modify the db schema you need to first get the bookId related to bookName from Books.\r\n\r\nThen we could fetch Reviews based on this bookId from db separately.\r\n\r\n **Review Repository**\r\n\r\n    @Query(&quot;custom query here&quot;)     \r\n    public List&lt;Reviews&gt; findAllByBookId(String bookId); \r\n\r\n **Book Repository**\r\n\r\n    @Query(&quot;custom query here&quot;)     \r\n    public Book findByBookName(String name); \r\n\r\n**Controller**\r\n\r\n    @PostMapping(&quot;/reviews/searchbybook&quot;)\r\n    public List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\r\n\r\n            Book fetchedBook = bookRepository.findByBookName(book.getName()).get(); // Fetch Book related to input bookName\r\n            List&lt;Reviews&gt; results= reviewRepository.findAllByBookId(fetchedBook.getId()); //Now fetch list of reviews by using available bookId reference\r\n            return results;\r\n        }\r\n\r\n","title":"How can I query a referenced object for a Spring Boot Application?","body":"<p>I think you could try the below-suggested approach.</p>\n<p>Since you can't modify the db schema you need to first get the bookId related to bookName from Books.</p>\n<p>Then we could fetch Reviews based on this bookId from db separately.</p>\n<p><strong>Review Repository</strong></p>\n<pre><code>@Query(&quot;custom query here&quot;)     \npublic List&lt;Reviews&gt; findAllByBookId(String bookId); \n</code></pre>\n<p><strong>Book Repository</strong></p>\n<pre><code>@Query(&quot;custom query here&quot;)     \npublic Book findByBookName(String name); \n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(&quot;/reviews/searchbybook&quot;)\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\n\n        Book fetchedBook = bookRepository.findByBookName(book.getName()).get(); // Fetch Book related to input bookName\n        List&lt;Reviews&gt; results= reviewRepository.findAllByBookId(fetchedBook.getId()); //Now fetch list of reviews by using available bookId reference\n        return results;\n    }\n</code></pre>\n"}],"owner":{"account_id":27002111,"reputation":23,"user_id":20563243,"display_name":"alwaysneedhelp1901"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683428910,"creation_date":1683424111,"question_id":76191897,"body_markdown":"I am creating a Spring Boot Application and I am using MongoDB with it. I have 2 collections. One called review, the other called book. In a review, there is a reference to the book. What I am trying to do is to write a method that would allow me to search a book name, and get all the reviews on it.\r\n\r\nThe challenge is to not change the database structure. So, I cannot just make review a field for the book collection.\r\n\r\nI tried the following: \r\n\r\nRepository:\r\n``` \r\npublic List&lt;Reviews&gt; findByBooksNameContainsIgnoreCase (String name); \r\n```\r\nController:\r\n```\r\n@PostMapping(&quot;/reviews/searchbybook&quot;)\r\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\r\n\t\tList&lt;Reviews&gt; results= commentRepository.findByBooksNameContainsIgnoreCase(book.getName());\r\n\t\treturn results;\r\n\t}\r\n```\r\n\r\ngetName() [function in the class declaration of Books as part of Model]:\r\n```\r\nprivate String name;\r\n\r\npublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n```\r\n\r\nExample of a Reviews Document:\r\n```\r\n{\r\n      _id: ObjectId(&#39;645762e828u3927h393u9293&#39;),\r\n      reviewer: &quot;someone&quot;,\r\n      review: &quot;Awesome Book!&quot;,\r\n      book: DBRef(&#39;books&#39;, &#39;645762e828u3927h393u9292)\r\n}\r\n\r\n```\r\n\r\n\r\nThank you in advance!!","title":"How can I query a referenced object for a Spring Boot Application?","body":"<p>I am creating a Spring Boot Application and I am using MongoDB with it. I have 2 collections. One called review, the other called book. In a review, there is a reference to the book. What I am trying to do is to write a method that would allow me to search a book name, and get all the reviews on it.</p>\n<p>The challenge is to not change the database structure. So, I cannot just make review a field for the book collection.</p>\n<p>I tried the following:</p>\n<p>Repository:</p>\n<pre><code>public List&lt;Reviews&gt; findByBooksNameContainsIgnoreCase (String name); \n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/reviews/searchbybook&quot;)\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\n        List&lt;Reviews&gt; results= commentRepository.findByBooksNameContainsIgnoreCase(book.getName());\n        return results;\n    }\n</code></pre>\n<p>getName() [function in the class declaration of Books as part of Model]:</p>\n<pre><code>private String name;\n\npublic String getName() {\n        return name;\n    }\n</code></pre>\n<p>Example of a Reviews Document:</p>\n<pre><code>{\n      _id: ObjectId('645762e828u3927h393u9293'),\n      reviewer: &quot;someone&quot;,\n      review: &quot;Awesome Book!&quot;,\n      book: DBRef('books', '645762e828u3927h393u9292)\n}\n\n</code></pre>\n<p>Thank you in advance!!</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":900534,"reputation":890,"user_id":936793,"accept_rate":78,"display_name":"Clark"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1399655880,"creation_date":1399655880,"answer_id":23570497,"question_id":23550197,"body_markdown":"Turns out my question was answered by the first comment on the [blog](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html) post this example is taken from.  The code of BioHandler.createUnmarshaller() should be:\r\n\r\n    public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\r\n    \txmlWriter.getBuffer().setLength(0);\r\n        return new StreamResult(xmlWriter);\r\n    }\r\n\r\n","title":"DomHandler to capture text for multiple records","body":"<p>Turns out my question was answered by the first comment on the <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">blog</a> post this example is taken from.  The code of BioHandler.createUnmarshaller() should be:</p>\n\n<pre><code>public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\n    xmlWriter.getBuffer().setLength(0);\n    return new StreamResult(xmlWriter);\n}\n</code></pre>\n"}],"owner":{"account_id":900534,"reputation":890,"user_id":936793,"accept_rate":78,"display_name":"Clark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23570497,"answer_count":1,"score":2,"last_activity_date":1683428664,"creation_date":1399575087,"question_id":23550197,"body_markdown":"I am attempting to use @XmlAnyElement with DomHandler to capture the unparsed text within a particular field like &lt;bio&gt; in [this](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html) example from Blaise Doughan.  But when I attempt to parse multiple customers the contents of bio fields from all previous &lt;customer&gt; records continue to be sent to my DomHandler!  \r\n\r\nHere is the example document I am trying to parse:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;customers&gt;\r\n       &lt;customer&gt;\r\n         &lt;name&gt;Jane Doe&lt;/name&gt;\r\n         &lt;bio&gt;\r\n           &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n         &lt;/bio&gt;\r\n       &lt;/customer&gt;\r\n       &lt;customer&gt;\r\n         &lt;name&gt;John Doe&lt;/name&gt;\r\n         &lt;bio&gt;\r\n           &lt;html&gt;John&#39;s bio&lt;/html&gt;\r\n         &lt;/bio&gt;\r\n       &lt;/customer&gt;\r\n    &lt;/customers&gt;\r\n\r\nBut the output is:\r\n\r\n     Name:  Jane Doe \r\n     Bio:   &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n     Name:  John Doe \r\n     Bio:   &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n\r\n\r\n**BioHandler** (unchanged from [previous example](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html))\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n     \r\n    import javax.xml.bind.ValidationEventHandler;\r\n    import javax.xml.bind.annotation.DomHandler;\r\n    import javax.xml.transform.Source;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import javax.xml.transform.stream.StreamSource;\r\n     \r\n    public class BioHandler implements DomHandler&lt;String, StreamResult&gt; {\r\n     \r\n        private static final String BIO_START_TAG = &quot;&lt;bio&gt;&quot;;\r\n        private static final String BIO_END_TAG = &quot;&lt;/bio&gt;&quot;;\r\n     \r\n        private StringWriter xmlWriter = new StringWriter();\r\n     \r\n        public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\r\n            return new StreamResult(xmlWriter);\r\n        }\r\n     \r\n        public String getElement(StreamResult rt) {\r\n            String xml = rt.getWriter().toString();\r\n            int beginIndex = xml.indexOf(BIO_START_TAG) + BIO_START_TAG.length();\r\n            int endIndex = xml.indexOf(BIO_END_TAG);\r\n            return xml.substring(beginIndex, endIndex);\r\n        }\r\n     \r\n        public Source marshal(String n, ValidationEventHandler errorHandler) {\r\n            try {\r\n                String xml = BIO_START_TAG + n.trim() + BIO_END_TAG;\r\n                StringReader xmlReader = new StringReader(xml);\r\n                return new StreamSource(xmlReader);\r\n            } catch(Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n    }\r\n\r\n\r\n**Customer** (unchanged from [previous example](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html))\r\n\r\n    package blog.domhandler;\r\n     \r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n     \r\n    @XmlRootElement\r\n    @XmlType(propOrder={&quot;name&quot;, &quot;bio&quot;})\r\n    public class Customer {\r\n     \r\n        private String name;\r\n        private String bio;\r\n     \r\n        public String getName() {\r\n            return name;\r\n        }\r\n     \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n     \r\n        @XmlAnyElement(BioHandler.class)\r\n        public String getBio() {\r\n            return bio;\r\n        }\r\n     \r\n        public void setBio(String bio) {\r\n            this.bio = bio;\r\n        }\r\n     \r\n    }\r\n\r\n\r\n**Customers**\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n     \r\n    @XmlRootElement\r\n    public class Customers {\r\n     \r\n        private List&lt;Customer&gt; customers;\r\n     \r\n        public List&lt;Customer&gt; getCustomer() {\r\n            return customers;\r\n        }\r\n     \r\n        public void setCustomer(List&lt;Customer&gt; c) {\r\n            this.customers = c;\r\n        }\r\n      \r\n    }\r\n\r\n\r\n**Demo** (driver)\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.io.File;\r\n     \r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.Marshaller;\r\n    import javax.xml.bind.Unmarshaller;\r\n     \r\n    public class Demo {\r\n     \r\n        public static void main(String[] args) throws Exception {\r\n            JAXBContext jc = JAXBContext.newInstance(Customers.class);\r\n     \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            Customers customers = (Customers) unmarshaller.unmarshal(new File(&quot;src/blog/domhandler/input.xml&quot;));\r\n     \r\n            for( Customer customer: customers.getCustomer() ) {\r\n            \r\n            System.out.println(&quot;Name:  &quot; + customer.getName());\r\n            System.out.println(&quot;Bio:   &quot; + customer.getBio());\r\n            \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhen I place a breakpoint in BioHandler.getElement(), I see that the first time its called String xml takes the value\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;\r\n\r\nwhile the second time it is called String xml takes the value\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;John&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;\r\n\r\nIs there some way to indicate to the parser that this content should be discarded after each call to BioHandler.getElement()?","title":"DomHandler to capture text for multiple records","body":"<p>I am attempting to use @XmlAnyElement with DomHandler to capture the unparsed text within a particular field like  in <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">this</a> example from Blaise Doughan.  But when I attempt to parse multiple customers the contents of bio fields from all previous  records continue to be sent to my DomHandler!  </p>\n\n<p>Here is the example document I am trying to parse:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;customers&gt;\n   &lt;customer&gt;\n     &lt;name&gt;Jane Doe&lt;/name&gt;\n     &lt;bio&gt;\n       &lt;html&gt;Jane's bio&lt;/html&gt;\n     &lt;/bio&gt;\n   &lt;/customer&gt;\n   &lt;customer&gt;\n     &lt;name&gt;John Doe&lt;/name&gt;\n     &lt;bio&gt;\n       &lt;html&gt;John's bio&lt;/html&gt;\n     &lt;/bio&gt;\n   &lt;/customer&gt;\n&lt;/customers&gt;\n</code></pre>\n\n<p>But the output is:</p>\n\n<pre><code> Name:  Jane Doe \n Bio:   &lt;html&gt;Jane's bio&lt;/html&gt;\n Name:  John Doe \n Bio:   &lt;html&gt;Jane's bio&lt;/html&gt;\n</code></pre>\n\n<p><strong>BioHandler</strong> (unchanged from <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">previous example</a>)</p>\n\n<pre><code>package blog.domhandler;\n\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\nimport javax.xml.bind.ValidationEventHandler;\nimport javax.xml.bind.annotation.DomHandler;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\n\npublic class BioHandler implements DomHandler&lt;String, StreamResult&gt; {\n\n    private static final String BIO_START_TAG = \"&lt;bio&gt;\";\n    private static final String BIO_END_TAG = \"&lt;/bio&gt;\";\n\n    private StringWriter xmlWriter = new StringWriter();\n\n    public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\n        return new StreamResult(xmlWriter);\n    }\n\n    public String getElement(StreamResult rt) {\n        String xml = rt.getWriter().toString();\n        int beginIndex = xml.indexOf(BIO_START_TAG) + BIO_START_TAG.length();\n        int endIndex = xml.indexOf(BIO_END_TAG);\n        return xml.substring(beginIndex, endIndex);\n    }\n\n    public Source marshal(String n, ValidationEventHandler errorHandler) {\n        try {\n            String xml = BIO_START_TAG + n.trim() + BIO_END_TAG;\n            StringReader xmlReader = new StringReader(xml);\n            return new StreamSource(xmlReader);\n        } catch(Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Customer</strong> (unchanged from <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">previous example</a>)</p>\n\n<pre><code>package blog.domhandler;\n\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlType(propOrder={\"name\", \"bio\"})\npublic class Customer {\n\n    private String name;\n    private String bio;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAnyElement(BioHandler.class)\n    public String getBio() {\n        return bio;\n    }\n\n    public void setBio(String bio) {\n        this.bio = bio;\n    }\n\n}\n</code></pre>\n\n<p><strong>Customers</strong></p>\n\n<pre><code>package blog.domhandler;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\npublic class Customers {\n\n    private List&lt;Customer&gt; customers;\n\n    public List&lt;Customer&gt; getCustomer() {\n        return customers;\n    }\n\n    public void setCustomer(List&lt;Customer&gt; c) {\n        this.customers = c;\n    }\n\n}\n</code></pre>\n\n<p><strong>Demo</strong> (driver)</p>\n\n<pre><code>package blog.domhandler;\n\nimport java.io.File;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Marshaller;\nimport javax.xml.bind.Unmarshaller;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Customers.class);\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        Customers customers = (Customers) unmarshaller.unmarshal(new File(\"src/blog/domhandler/input.xml\"));\n\n        for( Customer customer: customers.getCustomer() ) {\n\n        System.out.println(\"Name:  \" + customer.getName());\n        System.out.println(\"Bio:   \" + customer.getBio());\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>When I place a breakpoint in BioHandler.getElement(), I see that the first time its called String xml takes the value</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;Jane's bio&lt;/html&gt;\n    &lt;/bio&gt;\n</code></pre>\n\n<p>while the second time it is called String xml takes the value</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;Jane's bio&lt;/html&gt;\n    &lt;/bio&gt;&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;John's bio&lt;/html&gt;\n    &lt;/bio&gt;\n</code></pre>\n\n<p>Is there some way to indicate to the parser that this content should be discarded after each call to BioHandler.getElement()?</p>\n"},{"tags":["java","spring","hibernate","ehcache","jcache"],"comments":[{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683424399,"post_id":76190958,"comment_id":134364358,"body_markdown":"In depth investigation reveals that when Hibernate does not find a cache for a certain name, the default caches it builds are specified at `org.hibernate.cache.jcache.internal.JCacheRegionFactory#getOrCreateCache -&gt; createCache` which in turn makes use of an empty `javax.cache.configuration.MutableConfiguration`. The default constructor of this class specifies `Object.class` as the value type for the cache. This is not ideal, but in absence of better answers to my question, I will resort to sticking with my approach and using Object as a value class for the cache map. It looks wrong, however.","body":"In depth investigation reveals that when Hibernate does not find a cache for a certain name, the default caches it builds are specified at <code>org.hibernate.cache.jcache.internal.JCacheRegionFactory#getO&zwnj;&#8203;rCreateCache -&gt; createCache</code> which in turn makes use of an empty <code>javax.cache.configuration.MutableConfiguration</code>. The default constructor of this class specifies <code>Object.class</code> as the value type for the cache. This is not ideal, but in absence of better answers to my question, I will resort to sticking with my approach and using Object as a value class for the cache map. It looks wrong, however."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683424602,"post_id":76190958,"comment_id":134364369,"body_markdown":"replace `.newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)` with `.newCacheConfigurationBuilder(Object.class, Object.class)`","body":"replace <code>.newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)</code> with <code>.newCacheConfigurationBuilder(Object.class, Object.class)</code>"},{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683425729,"post_id":76190958,"comment_id":134364423,"body_markdown":"@AndreyB.Panfilov yes, I was getting to that same conclusion, see my comment above. But is this really the way? More than for it to &quot;just work&quot;, I would like to use the proper way. This feels like a hack.","body":"@AndreyB.Panfilov yes, I was getting to that same conclusion, see my comment above. But is this really the way? More than for it to &quot;just work&quot;, I would like to use the proper way. This feels like a hack."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683428124,"post_id":76190958,"comment_id":134364533,"body_markdown":"no, that is not a hack, that is how L2-cache is implemented in NBH, it does not assume the cache must be type-safe.","body":"no, that is not a hack, that is how L2-cache is implemented in NBH, it does not assume the cache must be type-safe."}],"answers":[{"comments":[{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683429751,"post_id":76192005,"comment_id":134364613,"body_markdown":"Thank you for the detailed explanation. Since the question is more general I&#39;ll take this chance to add: did you see other issues with how I&#39;m handling this? (That is, the bean, how I obtain the cache manager, mixing L2 cache defintion with Spring cache, the yml, etc). Comprehensive documentation of L2 cache in Spring has been very hard to find for me.","body":"Thank you for the detailed explanation. Since the question is more general I&#39;ll take this chance to add: did you see other issues with how I&#39;m handling this? (That is, the bean, how I obtain the cache manager, mixing L2 cache defintion with Spring cache, the yml, etc). Comprehensive documentation of L2 cache in Spring has been very hard to find for me."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683431900,"post_id":76192005,"comment_id":134364733,"body_markdown":"1. caching queries [might be not a good idea](https://dzone.com/articles/pitfalls-hibernate-second-0) - in order to make it work you need to cache entities as well and [enable batch fetching](https://prasanthmathialagan.wordpress.com/2017/04/20/beware-of-hibernate-batch-fetching/).","body":"1. caching queries <a href=\"https://dzone.com/articles/pitfalls-hibernate-second-0\" rel=\"nofollow noreferrer\">might be not a good idea</a> - in order to make it work you need to cache entities as well and <a href=\"https://prasanthmathialagan.wordpress.com/2017/04/20/beware-of-hibernate-batch-fetching/\" rel=\"nofollow noreferrer\">enable batch fetching</a>."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683432298,"post_id":76192005,"comment_id":134364759,"body_markdown":"2. since they have removed `hibernate-ehcache` in version 6 in favour of `jcache`, it seems there are only two options to configure `ehcache`: via `xml` or via `spring`, I don&#39;t like both, moreover, I don&#39;t like the idea to configure cache via `@Cache` annotation: from my perspective the cache strategy should not depend on domain model - that is a responsibility of particular application, so we configure caches via `org.hibernate.integrator.spi.Integrator` (`metadata.getEntityBindings()` &gt; `persistentClass.setCacheRegionName/setCacheConcurrencyStrategy`) and use our own `RegionFactoryTemplate`","body":"2. since they have removed <code>hibernate-ehcache</code> in version 6 in favour of <code>jcache</code>, it seems there are only two options to configure <code>ehcache</code>: via <code>xml</code> or via <code>spring</code>, I don&#39;t like both, moreover, I don&#39;t like the idea to configure cache via <code>@Cache</code> annotation: from my perspective the cache strategy should not depend on domain model - that is a responsibility of particular application, so we configure caches via <code>org.hibernate.integrator.spi.Integrator</code> (<code>metadata.getEntityBindings()</code> &gt; <code>persistentClass.setCacheRegionName&#47;setCacheConcurrencyStrate&zwnj;&#8203;gy</code>) and use our own <code>RegionFactoryTemplate</code>"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683428040,"creation_date":1683428040,"answer_id":76192005,"question_id":76190958,"body_markdown":"For cache keys `Hibernate` may potentially use three different implementations (please check `org.hibernate.cache.spi.CacheKeysFactory` interface and it&#39;s `createCollectionKey`, `createEntityKey` and `createNaturalIdKey` methods), moreover, `Hibernate`, allows to override default `CacheKeysFactory`  via `hibernate.cache.keys_factory` setting, so, technically you have no chance to guess what cache key implementation will be used for particular cache region, moreover cache regions may contain different data, so, `Object.class` is a valid definition of cache key implementation.\r\n\r\nIn case of cache values implementations may also differ:\r\n- for natural id cache `Hibernate` stores entity identifiers there\r\n- for other caches that can be either `Map` or `StandardCacheEntryImpl` or implementation of `org.hibernate.cache.spi.support.AbstractReadWriteAccess.Lockable`\r\n\r\nso, for cache values `Object.class` is the only valid definition as well.","title":"How to programmatically configure L2 Hibernate caches with ECache?","body":"<p>For cache keys <code>Hibernate</code> may potentially use three different implementations (please check <code>org.hibernate.cache.spi.CacheKeysFactory</code> interface and it's <code>createCollectionKey</code>, <code>createEntityKey</code> and <code>createNaturalIdKey</code> methods), moreover, <code>Hibernate</code>, allows to override default <code>CacheKeysFactory</code>  via <code>hibernate.cache.keys_factory</code> setting, so, technically you have no chance to guess what cache key implementation will be used for particular cache region, moreover cache regions may contain different data, so, <code>Object.class</code> is a valid definition of cache key implementation.</p>\n<p>In case of cache values implementations may also differ:</p>\n<ul>\n<li>for natural id cache <code>Hibernate</code> stores entity identifiers there</li>\n<li>for other caches that can be either <code>Map</code> or <code>StandardCacheEntryImpl</code> or implementation of <code>org.hibernate.cache.spi.support.AbstractReadWriteAccess.Lockable</code></li>\n</ul>\n<p>so, for cache values <code>Object.class</code> is the only valid definition as well.</p>\n"}],"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76192005,"answer_count":1,"score":2,"last_activity_date":1683428040,"creation_date":1683404487,"question_id":76190958,"body_markdown":"I&#39;m trying to configure L2+QueryCache for Hibernate 6.1.7 in my Spring 6 app running Ehcache 3.10.x\r\n\r\nIn my app, Spring-level caches with method-level `@Cacheable`, `@CachePut`, `@CacheEvict`, etc. work fine. I create the caches and they work as expected.\r\n\r\nL2 cache also works correctly, but only if **I don&#39;t create any L2 caches** and let Spring create the **default ones** (`missing_cache_strategy: create`). This is presentig heap-related problems in production because the default cache settings in Ehcache are allowing infinite heap usage.\r\n\r\nHow do I create L2 caches with my own configs, **from code**? I want to avoid the `xml` Ehcache config at this time, and Ehcache seems to be moving away from it anyway.\r\n\r\nThis is how I configure Spring-level caches, and it works:\r\n\r\n```java\r\n    @Configuration\r\n    @EnableCaching\r\n    public class MyCacheConfig {\r\n      @Bean\r\n      public CacheManager ehCacheManager() {\r\n          CacheManager cacheManager = Caching.getCachingProvider().getCacheManager();\r\n\r\n         //Create a Spring-level cache\r\n         var config = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(SomeMethodArg.class, SomeMethodReturnType.class)\r\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\r\n                .build();\r\n          cacheManager.createCache(&quot;my_spr_cache&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\r\n\r\n          return cacheManager;\r\n      }\r\n    }\r\n```\r\nFollowing the Ehcache docs and other sources, I was able to create L2 caches in a similar manner by adding another cache to the bean above:\r\n\r\n```java\r\n//Create a L2 cache\r\nvar config = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)\r\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\r\n                .build();\r\n        \r\n//L2 cache name should be the fully qualified name of the Entity\r\ncacheManager.createCache(&quot;com.mydomain.model.MyClass&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\r\n```\r\nAnd of course, the MyClass Entity is annotated with:\r\n```java\r\n@jakarta.persistence.Cacheable\r\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE) //Note that some other classes instead use NONSTRICT_READ_WRITE \r\n```\r\nNow the cache I made is correctly created at runtime and Ehcache doesn&#39;t build a default one. I can confirm this from the startup logs - manually created caches are logged significantly earlier on.\r\n\r\nNow the issue: this method **is unreliable**. Firstly, it seems that changing the `ConcurrencyStrategy` breaks the cache creation code, for example, switching to `NONSTRICT_READ_WRITE` on the entity will cause Exceptions: \r\n```java\r\nException in thread &quot;(3/16)&quot; java.lang.ClassCastException: Invalid value type, \r\nexpected:  org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \r\nbut was :  org.hibernate.cache.spi.entry.StandardCacheEntryImpl\r\n```\r\nThe first attempt I made was obviously following the exception literally and changing the value class to `StandardCacheEntryImpl`. This just causes even more erratic behavior, with the cache behaving fine at low usage but failing when consistent load is applied:\r\n```java\r\nCaused by: java.lang.ClassCastException: Invalid value type, \r\nexpected : org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \r\nbut was : org.hibernate.cache.spi.support.AbstractReadWriteAccess$SoftLockImpl\r\n```\r\nIf I switch those two classes back and forth, I get the same exception but reversed.\r\n\r\nThis leads me to believe that I&#39;m using the **wrong approach** entirely. I can&#39;t find any **modern** and **updated** question on this, could someone kindly **point me in the right direction**?\r\n\r\n----\r\n\r\nIf it can be useful, this is the relevant config in my `application.yml`:\r\n\r\n\r\n```yml\r\n# [More settings here...]\r\n  jpa:\r\n    # [More settings here...]\r\n    properties:\r\n      jakarta:\r\n        persistence:\r\n          sharedCache:\r\n            #required - enable selective caching mode - only entities with @Cacheable annotation will use L2 cache.\r\n            mode: ENABLE_SELECTIVE\r\n      hibernate:\r\n        cache:\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n          region:\r\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\r\n        jakarta:\r\n          cache:\r\n            missing_cache_strategy: create\r\n```\r\n\r\n\r\n","title":"How to programmatically configure L2 Hibernate caches with ECache?","body":"<p>I'm trying to configure L2+QueryCache for Hibernate 6.1.7 in my Spring 6 app running Ehcache 3.10.x</p>\n<p>In my app, Spring-level caches with method-level <code>@Cacheable</code>, <code>@CachePut</code>, <code>@CacheEvict</code>, etc. work fine. I create the caches and they work as expected.</p>\n<p>L2 cache also works correctly, but only if <strong>I don't create any L2 caches</strong> and let Spring create the <strong>default ones</strong> (<code>missing_cache_strategy: create</code>). This is presentig heap-related problems in production because the default cache settings in Ehcache are allowing infinite heap usage.</p>\n<p>How do I create L2 caches with my own configs, <strong>from code</strong>? I want to avoid the <code>xml</code> Ehcache config at this time, and Ehcache seems to be moving away from it anyway.</p>\n<p>This is how I configure Spring-level caches, and it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableCaching\n    public class MyCacheConfig {\n      @Bean\n      public CacheManager ehCacheManager() {\n          CacheManager cacheManager = Caching.getCachingProvider().getCacheManager();\n\n         //Create a Spring-level cache\n         var config = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(SomeMethodArg.class, SomeMethodReturnType.class)\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\n                .build();\n          cacheManager.createCache(&quot;my_spr_cache&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\n\n          return cacheManager;\n      }\n    }\n</code></pre>\n<p>Following the Ehcache docs and other sources, I was able to create L2 caches in a similar manner by adding another cache to the bean above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Create a L2 cache\nvar config = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\n                .build();\n        \n//L2 cache name should be the fully qualified name of the Entity\ncacheManager.createCache(&quot;com.mydomain.model.MyClass&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\n</code></pre>\n<p>And of course, the MyClass Entity is annotated with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@jakarta.persistence.Cacheable\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE) //Note that some other classes instead use NONSTRICT_READ_WRITE \n</code></pre>\n<p>Now the cache I made is correctly created at runtime and Ehcache doesn't build a default one. I can confirm this from the startup logs - manually created caches are logged significantly earlier on.</p>\n<p>Now the issue: this method <strong>is unreliable</strong>. Firstly, it seems that changing the <code>ConcurrencyStrategy</code> breaks the cache creation code, for example, switching to <code>NONSTRICT_READ_WRITE</code> on the entity will cause Exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;(3/16)&quot; java.lang.ClassCastException: Invalid value type, \nexpected:  org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \nbut was :  org.hibernate.cache.spi.entry.StandardCacheEntryImpl\n</code></pre>\n<p>The first attempt I made was obviously following the exception literally and changing the value class to <code>StandardCacheEntryImpl</code>. This just causes even more erratic behavior, with the cache behaving fine at low usage but failing when consistent load is applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: java.lang.ClassCastException: Invalid value type, \nexpected : org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \nbut was : org.hibernate.cache.spi.support.AbstractReadWriteAccess$SoftLockImpl\n</code></pre>\n<p>If I switch those two classes back and forth, I get the same exception but reversed.</p>\n<p>This leads me to believe that I'm using the <strong>wrong approach</strong> entirely. I can't find any <strong>modern</strong> and <strong>updated</strong> question on this, could someone kindly <strong>point me in the right direction</strong>?</p>\n<hr />\n<p>If it can be useful, this is the relevant config in my <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># [More settings here...]\n  jpa:\n    # [More settings here...]\n    properties:\n      jakarta:\n        persistence:\n          sharedCache:\n            #required - enable selective caching mode - only entities with @Cacheable annotation will use L2 cache.\n            mode: ENABLE_SELECTIVE\n      hibernate:\n        cache:\n          use_second_level_cache: true\n          use_query_cache: true\n          region:\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\n        jakarta:\n          cache:\n            missing_cache_strategy: create\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-retry"],"answers":[{"comments":[{"owner":{"account_id":1573876,"reputation":545,"user_id":1460910,"accept_rate":64,"display_name":"Pranaya Behera"},"score":0,"creation_date":1683450846,"post_id":76191877,"comment_id":134366183,"body_markdown":"I went through that tutorial, however I am not sure how do I handle the exception part.  In the ```configureStatusCodeBasedRetryPolicy()``` method of ```RetryConfig``` class, it is for the HttpStatus code, what would be a exception for my case ?","body":"I went through that tutorial, however I am not sure how do I handle the exception part.  In the <code>configureStatusCodeBasedRetryPolicy()</code> method of <code>RetryConfig</code> class, it is for the HttpStatus code, what would be a exception for my case ?"},{"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"score":0,"creation_date":1683554789,"post_id":76191877,"comment_id":134380330,"body_markdown":"So the class ExceptionClassifierRetryPolicy which is being extended in the JobStatusRetryPolicy is not from the library/framework it user a defined class (Defined by you or someone from your co-workers)?","body":"So the class ExceptionClassifierRetryPolicy which is being extended in the JobStatusRetryPolicy is not from the library/framework it user a defined class (Defined by you or someone from your co-workers)?"}],"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683423495,"creation_date":1683423495,"answer_id":76191877,"question_id":76191245,"body_markdown":"Please check this \r\nhttps://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29\r\n\r\nHere you can specify your customized statuses \r\n\r\nYour main focus should be on below function and implement it accordingly (Here it is based on http status - But you can make it based on you rown status which is part of response JSON)\r\n\r\n    private RetryPolicy getRetryPolicyForStatus(HttpStatus httpStatus) {\r\n        switch (httpStatus) {\r\n            case BAD_GATEWAY:\r\n            case SERVICE_UNAVAILABLE:\r\n            case INTERNAL_SERVER_ERROR:\r\n            case GATEWAY_TIMEOUT:\r\n                return simpleRetryPolicy;\r\n            default:\r\n                return neverRetryPolicy;\r\n        }\r\n\r\nHope you find this helpful .\r\n\r\n","title":"How to retry rest-endpoint with spring-retry based on response object rather than the status code?","body":"<p>Please check this\n<a href=\"https://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29\" rel=\"nofollow noreferrer\">https://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29</a></p>\n<p>Here you can specify your customized statuses</p>\n<p>Your main focus should be on below function and implement it accordingly (Here it is based on http status - But you can make it based on you rown status which is part of response JSON)</p>\n<pre><code>private RetryPolicy getRetryPolicyForStatus(HttpStatus httpStatus) {\n    switch (httpStatus) {\n        case BAD_GATEWAY:\n        case SERVICE_UNAVAILABLE:\n        case INTERNAL_SERVER_ERROR:\n        case GATEWAY_TIMEOUT:\n            return simpleRetryPolicy;\n        default:\n            return neverRetryPolicy;\n    }\n</code></pre>\n<p>Hope you find this helpful .</p>\n"}],"owner":{"account_id":1573876,"reputation":545,"user_id":1460910,"accept_rate":64,"display_name":"Pranaya Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683423495,"creation_date":1683408754,"question_id":76191245,"body_markdown":"In the spring-boot application, I am calling a rest endpoint which results in 200 success status code and the response object is something like this:\r\n\r\n```\r\n{\r\n   &quot;id&quot; : &quot;some-uuid&quot;,\r\n   &quot;status&quot; : &quot;success&quot;\r\n}\r\n```\r\nPossbile values for the ```status``` object are ```creating, queued, running, failed, skipped, killed, success```\r\n\r\nI want to retry the rest-endpoint request when the ```status``` object is either ```queued``` or ```creating``` or ```running```.\r\nFor all other e.g. ```success```, ```failed```, ```skipped``` I want the retry to stop and get the result.\r\n\r\nI am implementing it with spring-retry.\r\n\r\nThe api call:\r\n\r\n```\r\nprivate String makeApiCall(String jobId) {\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    List&lt;MediaType&gt; acceptType = new ArrayList&lt;&gt;();\r\n    acceptType.add(MediaType.APPLICATION_JSON);\r\n    httpHeaders.setAccept(acceptType);\r\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(apiEndpoint, HttpMethod.GET, requestEntity, String.class, params);\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    JobStatus jobStatus = null;\r\n    try {\r\n      jobStatus = objectMapper.readValue(response.getBody(), JobStatus.class);\r\n    } catch (JsonProcessingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return jobStatus.getStatus();\r\n}\r\n```\r\nThe RetryTemp\r\n```\r\n public ResponseEntity&lt;String&gt; jobStatusCheck(String jobId) throws JsonProcessingException {\r\n    RetryTemplate retry = new RetryTemplate();\r\n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\r\n    backOffPolicy.setBackOffPeriod(10000);\r\n    retry.setRetryPolicy(new JobStatusRetryPolicy());\r\n    retry.setBackOffPolicy(backOffPolicy);\r\n    try {\r\n      String result = (String) retry.execute(context -&gt; {\r\n        // No Idea on how to handle such conditions.\r\n        String s = makeApiCall(jobId);\r\n        if (s.equalsIgnoreCase(&quot;success&quot;)) {\r\n          return s;\r\n        }\r\n        return null;\r\n      });\r\n      return ResponseEntity.ok().body(result);\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(&quot;Error occurred during retry&quot;, e);\r\n    }\r\n}\r\n```\r\nThe retry policy :\r\n\r\n```\r\npublic class JobStatusRetryPolicy extends ExceptionClassifierRetryPolicy {\r\n  public JobStatusRetryPolicy() {\r\n    final SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\r\n    simpleRetryPolicy.setMaxAttempts(3);\r\n\r\n    this.setExceptionClassifier( new Classifier&lt;Throwable, RetryPolicy&gt;()\r\n    {\r\n      @Override\r\n      public RetryPolicy classify( Throwable classifiable )\r\n      {\r\n        // Retry only when FailureJobStatusException was thrown\r\n        if ( classifiable instanceof FailureJobStatusException)\r\n        {\r\n          return simpleRetryPolicy;\r\n        }\r\n\r\n        // Do not retry for other exceptions\r\n        return new NeverRetryPolicy();\r\n      }\r\n    } );\r\n  }\r\n}\r\n```\r\nThe exception:\r\n```\r\npublic class FailureJobStatusException extends Throwable {\r\n}\r\n```","title":"How to retry rest-endpoint with spring-retry based on response object rather than the status code?","body":"<p>In the spring-boot application, I am calling a rest endpoint which results in 200 success status code and the response object is something like this:</p>\n<pre><code>{\n   &quot;id&quot; : &quot;some-uuid&quot;,\n   &quot;status&quot; : &quot;success&quot;\n}\n</code></pre>\n<p>Possbile values for the <code>status</code> object are <code>creating, queued, running, failed, skipped, killed, success</code></p>\n<p>I want to retry the rest-endpoint request when the <code>status</code> object is either <code>queued</code> or <code>creating</code> or <code>running</code>.\nFor all other e.g. <code>success</code>, <code>failed</code>, <code>skipped</code> I want the retry to stop and get the result.</p>\n<p>I am implementing it with spring-retry.</p>\n<p>The api call:</p>\n<pre><code>private String makeApiCall(String jobId) {\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders httpHeaders = new HttpHeaders();\n    List&lt;MediaType&gt; acceptType = new ArrayList&lt;&gt;();\n    acceptType.add(MediaType.APPLICATION_JSON);\n    httpHeaders.setAccept(acceptType);\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(apiEndpoint, HttpMethod.GET, requestEntity, String.class, params);\n    ObjectMapper objectMapper = new ObjectMapper();\n    JobStatus jobStatus = null;\n    try {\n      jobStatus = objectMapper.readValue(response.getBody(), JobStatus.class);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n    return jobStatus.getStatus();\n}\n</code></pre>\n<p>The RetryTemp</p>\n<pre><code> public ResponseEntity&lt;String&gt; jobStatusCheck(String jobId) throws JsonProcessingException {\n    RetryTemplate retry = new RetryTemplate();\n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\n    backOffPolicy.setBackOffPeriod(10000);\n    retry.setRetryPolicy(new JobStatusRetryPolicy());\n    retry.setBackOffPolicy(backOffPolicy);\n    try {\n      String result = (String) retry.execute(context -&gt; {\n        // No Idea on how to handle such conditions.\n        String s = makeApiCall(jobId);\n        if (s.equalsIgnoreCase(&quot;success&quot;)) {\n          return s;\n        }\n        return null;\n      });\n      return ResponseEntity.ok().body(result);\n    } catch (Exception e) {\n      throw new RuntimeException(&quot;Error occurred during retry&quot;, e);\n    }\n}\n</code></pre>\n<p>The retry policy :</p>\n<pre><code>public class JobStatusRetryPolicy extends ExceptionClassifierRetryPolicy {\n  public JobStatusRetryPolicy() {\n    final SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\n    simpleRetryPolicy.setMaxAttempts(3);\n\n    this.setExceptionClassifier( new Classifier&lt;Throwable, RetryPolicy&gt;()\n    {\n      @Override\n      public RetryPolicy classify( Throwable classifiable )\n      {\n        // Retry only when FailureJobStatusException was thrown\n        if ( classifiable instanceof FailureJobStatusException)\n        {\n          return simpleRetryPolicy;\n        }\n\n        // Do not retry for other exceptions\n        return new NeverRetryPolicy();\n      }\n    } );\n  }\n}\n</code></pre>\n<p>The exception:</p>\n<pre><code>public class FailureJobStatusException extends Throwable {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":21866301,"reputation":3739,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1683422690,"post_id":76191845,"comment_id":134364261,"body_markdown":"Welcome to Stack Overflow! Please paste the code itself in the question as text instead of using an image. Cheers!","body":"Welcome to Stack Overflow! Please paste the code itself in the question as text instead of using an image. Cheers!"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683424039,"post_id":76191845,"comment_id":134364339,"body_markdown":"Please read how to ask in Stackoverflow: https://stackoverflow.com/help/how-to-ask. Your question lacks a minimal reproducible example and you should explain better the problem, what you are trying to do and how your code work, including any libraries used.","body":"Please read how to ask in Stackoverflow: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. Your question lacks a minimal reproducible example and you should explain better the problem, what you are trying to do and how your code work, including any libraries used."}],"owner":{"account_id":28420774,"reputation":11,"user_id":21742872,"display_name":"yuchen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683423374,"creation_date":1683422548,"question_id":76191845,"body_markdown":"        ValidationUtils.validate(input,\r\n                ValidatorField.of(&quot;data&quot;, Rule.required()))\r\n        ;\r\n        ValidationUtils.validateArray(input.get(&quot;data&quot;),\r\n                ValidatorField.of(&quot;projectId&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;parentId&quot;, Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;milestoneId&quot;),\r\n                ValidatorField.of(&quot;title&quot;, Rule.required()),\r\n                ValidatorField.of(&quot;content&quot;),\r\n                ValidatorField.of(&quot;timeStart&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;timeEnd&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;duration&quot;, Rule.required()),\r\n                ValidatorField.of(&quot;progress&quot;, Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;organizationIds&quot;),\r\n                ValidatorField.of(&quot;projectRelation&quot;)\r\n        );\r\n        var allData = new HashMap&lt;&gt;();\r\n        input.get(&quot;data&quot;).forEach(param -&gt;{\r\n            allData.put(param.get(&quot;key&quot;).asText(),param);\r\n        });\r\n        allData.forEach((key, value) -&gt; {\r\n            System.out.println(key);\r\n            System.out.println(value);\r\n        });\r\n\r\nI tried using the HashMap in the image above to form a key-value pair. The result was a key for a value, but my database field only had a parentId","title":"When importing an xml file, how to use parentId to map the hierarchy of key values in the xml file","body":"<pre><code>    ValidationUtils.validate(input,\n            ValidatorField.of(&quot;data&quot;, Rule.required()))\n    ;\n    ValidationUtils.validateArray(input.get(&quot;data&quot;),\n            ValidatorField.of(&quot;projectId&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;parentId&quot;, Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;milestoneId&quot;),\n            ValidatorField.of(&quot;title&quot;, Rule.required()),\n            ValidatorField.of(&quot;content&quot;),\n            ValidatorField.of(&quot;timeStart&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;timeEnd&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;duration&quot;, Rule.required()),\n            ValidatorField.of(&quot;progress&quot;, Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;organizationIds&quot;),\n            ValidatorField.of(&quot;projectRelation&quot;)\n    );\n    var allData = new HashMap&lt;&gt;();\n    input.get(&quot;data&quot;).forEach(param -&gt;{\n        allData.put(param.get(&quot;key&quot;).asText(),param);\n    });\n    allData.forEach((key, value) -&gt; {\n        System.out.println(key);\n        System.out.println(value);\n    });\n</code></pre>\n<p>I tried using the HashMap in the image above to form a key-value pair. The result was a key for a value, but my database field only had a parentId</p>\n"},{"tags":["java","assertj"],"owner":{"account_id":21429973,"reputation":21,"user_id":15786601,"display_name":"Daniel McEnnis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683423343,"creation_date":1683423343,"question_id":76191872,"body_markdown":"AssertJ has options for finding JPanel, JFrame, and suite of other standard Swing components, but I am wanting to test a custom Prefuse Display window derived directly from the JComponent class. What method on the main FrameFixture object should I use and what parameters should I use? \r\n\r\nMy best guess was:\r\n\r\n\r\n```\r\nwindow.panel(new GenericTypeMatcher&lt;JComponent&gt;(RadialDisplayWork.class) {\r\n            @Override\r\n            protected boolean isMatching(JComponent panel) {\r\n                return &quot;RadialDisplayWork&quot;.equals(panel.getClass().getSimpleName());\r\n            }\r\n        });\r\n````\r\n\r\nit isn&#39;t found and throws an exception as it should as WorkWindow is not a panel. ","title":"Looking for a custom swing JComponent object inside a standard Swing app using AssertJ FrameFixture","body":"<p>AssertJ has options for finding JPanel, JFrame, and suite of other standard Swing components, but I am wanting to test a custom Prefuse Display window derived directly from the JComponent class. What method on the main FrameFixture object should I use and what parameters should I use?</p>\n<p>My best guess was:</p>\n<pre><code>window.panel(new GenericTypeMatcher&lt;JComponent&gt;(RadialDisplayWork.class) {\n            @Override\n            protected boolean isMatching(JComponent panel) {\n                return &quot;RadialDisplayWork&quot;.equals(panel.getClass().getSimpleName());\n            }\n        });\n</code></pre>\n<p>it isn't found and throws an exception as it should as WorkWindow is not a panel.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693143688,"post_id":76191692,"comment_id":135718372,"body_markdown":"You should use @KafkaListener annotation for this, not manually define a consumer instance","body":"You should use @KafkaListener annotation for this, not manually define a consumer instance"}],"answers":[{"comments":[{"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"score":0,"creation_date":1683436689,"post_id":76191850,"comment_id":134364947,"body_markdown":"I tried that already, but i was getting ```java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access```","body":"I tried that already, but i was getting <code>java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access</code>"}],"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683422671,"creation_date":1683422671,"answer_id":76191850,"question_id":76191692,"body_markdown":"I think you are trying to create new instance of KC in your function but that bean is already registered in Spring configuration class KafkaConsumerClientConfig. Solution: try to re use the existing KC instance as a bean in config class instead of new one. Inject it in a class where you want to use it. Here is a hint **KafkaConsumer&lt;String, String&gt; consumer = kafkaConsumer** instead of initiating a new one. \r\n\r\n","title":"Kafka Consumer InstanceAlreadyExistsException","body":"<p>I think you are trying to create new instance of KC in your function but that bean is already registered in Spring configuration class KafkaConsumerClientConfig. Solution: try to re use the existing KC instance as a bean in config class instead of new one. Inject it in a class where you want to use it. Here is a hint <strong>KafkaConsumer&lt;String, String&gt; consumer = kafkaConsumer</strong> instead of initiating a new one.</p>\n"}],"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683422671,"creation_date":1683417808,"question_id":76191692,"body_markdown":"I am trying to create a kafka consumer which subscribe to a topic and poll regular interval.  Below @Bean creates kafkaconsumer which is used in @postconstruct by executor service.    In other use case I need to read the latest offset or replay from specific offset, while i try to create a new kafka cosumer it is throwing ```javax.management.InstanceAlreadyExistsException: kafka.consumer``` \r\n\r\nIs there any to use the existing kafkaConsumer bean to get the latest offset or replay some of the offset.\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\n@EnableConfigurationProperties(KafkaProperties.class)\r\npublic class KafkaConsumerClientConfig {\r\n    @Bean\r\n    public KafkaConsumer&lt;String, String&gt; kafkaClientConfig() {\r\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(MetadataServiceUtil.getConsumerProperties(kafkaProperties));\r\n    log.info(&quot;Kafka Consumer created successfully with SecurityProtocol={}&quot;, kafkaProperties.getSecurityProtocol());\r\n    kafkaConsumer.subscribe(List.of(kafkaProperties.getTopicName()));\r\n    return kafkaConsumer;\r\n    }\r\n}\r\n```\r\nKafka client code to create kafka consumer\r\n```\r\n@Component\r\n@Slf4j\r\n@Data\r\npublic class PipelineKafkaClient {\r\n\r\n    @Autowired\r\n    private KafkaConsumer kafkaConsumer;\r\n  \r\n    @Autowired\r\n    private KafkaProperties kafkaProperties;\r\n\r\n    @PostConstruct\r\n    void startup() {\r\n        log.info(&quot;*******Starting event listener********&quot;);\r\n        executorService = Executors.newSingleThreadExecutor();\r\n        executorService.submit(new EventConsumer(kafkaConsumer));\r\n        // In the EventConsumer i have the code as below\r\n        /*  while(true) {\r\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\r\n         *   processBatch(records);\r\n         *   kafkaConsumer.commitSync();\r\n         * }\r\n         */\r\n\r\n    }\r\n\r\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\r\n        log.info(&quot;Replaying messages&quot;);\r\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        // CODE to read from specific offset    \r\n    }\r\n\r\n}@Component\r\n@Slf4j\r\n@Data\r\npublic class PipelineKafkaClient {\r\n\r\n    @Autowired\r\n    private KafkaConsumer kafkaConsumer;\r\n  \r\n    @Autowired\r\n    private KafkaProperties kafkaProperties;\r\n\r\n    @PostConstruct\r\n    void startup() {\r\n        log.info(&quot;*******Starting event listener********&quot;);\r\n        executorService = Executors.newSingleThreadExecutor();\r\n        executorService.submit(new EventConsumer(kafkaConsumer));\r\n        // In the EventConsumer i have the code as below\r\n        /*  while(true) {\r\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\r\n         *   processBatch(records);\r\n         *   kafkaConsumer.commitSync();\r\n         * }\r\n         */\r\n\r\n    }\r\n\r\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\r\n        log.info(&quot;Replaying messages&quot;);\r\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        // CODE to read from specific offset    \r\n    }\r\n\r\n}\r\n```","title":"Kafka Consumer InstanceAlreadyExistsException","body":"<p>I am trying to create a kafka consumer which subscribe to a topic and poll regular interval.  Below @Bean creates kafkaconsumer which is used in @postconstruct by executor service.    In other use case I need to read the latest offset or replay from specific offset, while i try to create a new kafka cosumer it is throwing <code>javax.management.InstanceAlreadyExistsException: kafka.consumer</code></p>\n<p>Is there any to use the existing kafkaConsumer bean to get the latest offset or replay some of the offset.</p>\n<pre><code>@Configuration\n@Slf4j\n@EnableConfigurationProperties(KafkaProperties.class)\npublic class KafkaConsumerClientConfig {\n    @Bean\n    public KafkaConsumer&lt;String, String&gt; kafkaClientConfig() {\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(MetadataServiceUtil.getConsumerProperties(kafkaProperties));\n    log.info(&quot;Kafka Consumer created successfully with SecurityProtocol={}&quot;, kafkaProperties.getSecurityProtocol());\n    kafkaConsumer.subscribe(List.of(kafkaProperties.getTopicName()));\n    return kafkaConsumer;\n    }\n}\n</code></pre>\n<p>Kafka client code to create kafka consumer</p>\n<pre><code>@Component\n@Slf4j\n@Data\npublic class PipelineKafkaClient {\n\n    @Autowired\n    private KafkaConsumer kafkaConsumer;\n  \n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @PostConstruct\n    void startup() {\n        log.info(&quot;*******Starting event listener********&quot;);\n        executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(new EventConsumer(kafkaConsumer));\n        // In the EventConsumer i have the code as below\n        /*  while(true) {\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\n         *   processBatch(records);\n         *   kafkaConsumer.commitSync();\n         * }\n         */\n\n    }\n\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\n        log.info(&quot;Replaying messages&quot;);\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        // CODE to read from specific offset    \n    }\n\n}@Component\n@Slf4j\n@Data\npublic class PipelineKafkaClient {\n\n    @Autowired\n    private KafkaConsumer kafkaConsumer;\n  \n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @PostConstruct\n    void startup() {\n        log.info(&quot;*******Starting event listener********&quot;);\n        executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(new EventConsumer(kafkaConsumer));\n        // In the EventConsumer i have the code as below\n        /*  while(true) {\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\n         *   processBatch(records);\n         *   kafkaConsumer.commitSync();\n         * }\n         */\n\n    }\n\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\n        log.info(&quot;Replaying messages&quot;);\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        // CODE to read from specific offset    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","jmx","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1689179192,"post_id":76188315,"comment_id":135177882,"body_markdown":"Any feedback here?","body":"Any feedback here?"}],"answers":[{"comments":[{"owner":{"account_id":25716131,"reputation":3,"user_id":19473884,"display_name":" "},"score":0,"creation_date":1683396210,"post_id":76190221,"comment_id":134361680,"body_markdown":"connectBroker method uses JMS connection by broker url. If there is any way to make a connection to the broker url via JMX, then I will be very grateful)","body":"connectBroker method uses JMS connection by broker url. If there is any way to make a connection to the broker url via JMX, then I will be very grateful)"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1683400055,"post_id":76190221,"comment_id":134362074,"body_markdown":"You asked how to connect to the broker with **JMX**, not JMS. JMX and JMS use different APIs and URLs to connect. You can&#39;t use one for the other. That makes no sense.","body":"You asked how to connect to the broker with <b>JMX</b>, not JMS. JMX and JMS use different APIs and URLs to connect. You can&#39;t use one for the other. That makes no sense."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683394029,"creation_date":1683394029,"answer_id":76190221,"question_id":76188315,"body_markdown":"You don&#39;t actually connect &quot;by role.&quot; You connect with a username and a password. \r\n\r\nRoles are how users are organized *on the broker*. You can have one or more users in a given role and then permissions are granted to that role as a whole. This makes it easier to organize users and configure security.\r\n\r\nKeep in mind that the security configuration for messaging users (e.g. those using JMS) is separate from management users (e.g. those using JMX). The former is done via `security-settings` in `broker.xml` and the latter is done via `authorisation` in `management.xml`.\r\n\r\nIn your case, you can supply credentials for the JMX connection like so:\r\n```java\r\n         HashMap env = new HashMap();\r\n         String[] creds = {&quot;myUser&quot;, &quot;myPassword&quot;};\r\n         env.put(JMXConnector.CREDENTIALS, creds);\r\n\r\n         JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL), env);\r\n```\r\nIt&#39;s important to note that your `connectBroker` method is **leaking** a JMS connection every time it is invoked. This is because you create a JMS connection, but you don&#39;t close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.","title":"How to connect by role in ActiveMQ Artemis via JMX?","body":"<p>You don't actually connect &quot;by role.&quot; You connect with a username and a password.</p>\n<p>Roles are how users are organized <em>on the broker</em>. You can have one or more users in a given role and then permissions are granted to that role as a whole. This makes it easier to organize users and configure security.</p>\n<p>Keep in mind that the security configuration for messaging users (e.g. those using JMS) is separate from management users (e.g. those using JMX). The former is done via <code>security-settings</code> in <code>broker.xml</code> and the latter is done via <code>authorisation</code> in <code>management.xml</code>.</p>\n<p>In your case, you can supply credentials for the JMX connection like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>         HashMap env = new HashMap();\n         String[] creds = {&quot;myUser&quot;, &quot;myPassword&quot;};\n         env.put(JMXConnector.CREDENTIALS, creds);\n\n         JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL), env);\n</code></pre>\n<p>It's important to note that your <code>connectBroker</code> method is <strong>leaking</strong> a JMS connection every time it is invoked. This is because you create a JMS connection, but you don't close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.</p>\n"}],"owner":{"account_id":25716131,"reputation":3,"user_id":19473884,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683422456,"creation_date":1683367764,"question_id":76188315,"body_markdown":"I have a Java application using JavaFX. I don&#39;t understand how to connect by role. So that each role has its own rights to proofread, etc. I know how to add a role to ActiveMQ, but my application seems to connect to the main role without choosing.\r\n\r\nHere is what the connection frame looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```java\r\npublic static MBeanServerConnection connectBroker(String brokerUrl) {\r\n\r\n    QueueConnection connection = null;\r\n    try {\r\n        QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\r\n        connection = cf.createQueueConnection();\r\n        connection.start();\r\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\r\n\r\n        return connector.getMBeanServerConnection();\r\n    } catch (JMSException | IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\nHow to connect by roles?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9lOSu.png","title":"How to connect by role in ActiveMQ Artemis via JMX?","body":"<p>I have a Java application using JavaFX. I don't understand how to connect by role. So that each role has its own rights to proofread, etc. I know how to add a role to ActiveMQ, but my application seems to connect to the main role without choosing.</p>\n<p>Here is what the connection frame looks like:\n<a href=\"https://i.stack.imgur.com/9lOSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9lOSu.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MBeanServerConnection connectBroker(String brokerUrl) {\n\n    QueueConnection connection = null;\n    try {\n        QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\n        connection = cf.createQueueConnection();\n        connection.start();\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\n\n        return connector.getMBeanServerConnection();\n    } catch (JMSException | IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>How to connect by roles?</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683420895,"creation_date":1683420509,"answer_id":76191797,"question_id":76188233,"body_markdown":"Here&#39;s a solution which presents two ways to filter `li` nodes such that you capture only those which have a `span` as one of its children nodes. (Change the line `.filter(TopicAndDescriptionParser::isValidNode1)` to `.filter(TopicAndDescriptionParser::isValidNode2)` to demonstrate that they yield the same result.) \r\n\r\nYou didn&#39;t clarify how you wanted to collect the related data from each `li`, so I made up the record `TopicAndDescription` to encapsulate it. \r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.nodes.Node;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class TopicAndDescriptionParser {\r\n\r\n    record TopicAndDescription(String topic, String description) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String snippet = &quot;&quot;&quot;\r\n            &lt;ul&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE0&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                 &lt;/li&gt;\r\n                 &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;VALUE3&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE4&lt;/span&gt;&lt;/a&gt;\r\n                       /\r\n                      &lt;a&gt;&lt;span&gt;VALUE5&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;VALUE6&lt;/span&gt;\r\n                    &lt;/li&gt;\r\n             &lt;/ul&gt;&quot;&quot;&quot;;\r\n\r\n        final Elements elements = Jsoup.parse(snippet).select(&quot;ul&gt;li&quot;);\r\n        final List&lt;TopicAndDescription&gt; list = elements.stream()\r\n            .filter(TopicAndDescriptionParser::isValidNode2)\r\n            .map(TopicAndDescriptionParser::getTopicAndDescription)\r\n            .collect(Collectors.toList());\r\n        System.out.println(list);\r\n    }\r\n\r\n    private static boolean isValidNode1(Element elem) {\r\n        /*\r\n         * Node names from your snippet will be: \r\n         *      #text, a, #text, span, #text\r\n         * or\r\n         *      #text, a, #text, a, #text, span, #text\r\n         *\r\n         * So, check that the *next to last* node name is &quot;span&quot;\r\n         * \r\n         * Potential drawback: it assumes the index of the &quot;span&quot; node. Any\r\n         * unexpected variation in the HTML may cause it to yield wrong results.\r\n         */\r\n        List&lt;Node&gt; childNodes = elem.childNodes();\r\n        int size = childNodes.size();\r\n        return size &gt; 2 \r\n            &amp;&amp; &quot;span&quot;.equals(((Element) childNodes.get(size - 2)).tagName())\r\n            &amp;&amp; !((Element) childNodes.get(size - 2)).text().isEmpty();\r\n    }\r\n\r\n    private static boolean isValidNode2(Element element) {\r\n        /*\r\n         * Is there a span node in the child nodes?\r\n         * \r\n         * Pro: no indexing; con: using a stream might be consider heavy weight.\r\n         */\r\n        Optional&lt;Node&gt; spanNode = element.childNodes().stream()\r\n            .filter(node -&gt; &quot;span&quot;.equals(node.nodeName()))\r\n            .findFirst();\r\n        \r\n        return spanNode.isPresent() &amp;&amp; !((Element)spanNode.get()).text().isEmpty();\r\n    }\r\n\r\n    private static TopicAndDescription getTopicAndDescription(Element element) {\r\n        String topic = element.select(&quot;a:first-child&quot;).text();\r\n        Elements spans = element.select(&quot;span&quot;);\r\n        String description = spans.get(spans.size() - 1).text();\r\n        return new TopicAndDescription(topic, description);\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput is \r\n```\r\n[TopicAndDescription[topic=VALUE2, description=VALUE3], TopicAndDescription[topic=VALUE4, description=VALUE6]]\r\n```\r\n\r\n","title":"How to handle a missing value while parsing an html via jsoup?","body":"<p>Here's a solution which presents two ways to filter <code>li</code> nodes such that you capture only those which have a <code>span</code> as one of its children nodes. (Change the line <code>.filter(TopicAndDescriptionParser::isValidNode1)</code> to <code>.filter(TopicAndDescriptionParser::isValidNode2)</code> to demonstrate that they yield the same result.)</p>\n<p>You didn't clarify how you wanted to collect the related data from each <code>li</code>, so I made up the record <code>TopicAndDescription</code> to encapsulate it.</p>\n<pre><code>import java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.nodes.Node;\nimport org.jsoup.select.Elements;\n\npublic class TopicAndDescriptionParser {\n\n    record TopicAndDescription(String topic, String description) {\n    }\n\n    public static void main(String[] args) {\n        String snippet = &quot;&quot;&quot;\n            &lt;ul&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE0&lt;/span&gt;&lt;/a&gt;\n                       -\n                 &lt;/li&gt;\n                 &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;&lt;/span&gt;\n                  &lt;/li&gt;\n                  &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;VALUE3&lt;/span&gt;\n                  &lt;/li&gt;\n                  &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE4&lt;/span&gt;&lt;/a&gt;\n                       /\n                      &lt;a&gt;&lt;span&gt;VALUE5&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;VALUE6&lt;/span&gt;\n                    &lt;/li&gt;\n             &lt;/ul&gt;&quot;&quot;&quot;;\n\n        final Elements elements = Jsoup.parse(snippet).select(&quot;ul&gt;li&quot;);\n        final List&lt;TopicAndDescription&gt; list = elements.stream()\n            .filter(TopicAndDescriptionParser::isValidNode2)\n            .map(TopicAndDescriptionParser::getTopicAndDescription)\n            .collect(Collectors.toList());\n        System.out.println(list);\n    }\n\n    private static boolean isValidNode1(Element elem) {\n        /*\n         * Node names from your snippet will be: \n         *      #text, a, #text, span, #text\n         * or\n         *      #text, a, #text, a, #text, span, #text\n         *\n         * So, check that the *next to last* node name is &quot;span&quot;\n         * \n         * Potential drawback: it assumes the index of the &quot;span&quot; node. Any\n         * unexpected variation in the HTML may cause it to yield wrong results.\n         */\n        List&lt;Node&gt; childNodes = elem.childNodes();\n        int size = childNodes.size();\n        return size &gt; 2 \n            &amp;&amp; &quot;span&quot;.equals(((Element) childNodes.get(size - 2)).tagName())\n            &amp;&amp; !((Element) childNodes.get(size - 2)).text().isEmpty();\n    }\n\n    private static boolean isValidNode2(Element element) {\n        /*\n         * Is there a span node in the child nodes?\n         * \n         * Pro: no indexing; con: using a stream might be consider heavy weight.\n         */\n        Optional&lt;Node&gt; spanNode = element.childNodes().stream()\n            .filter(node -&gt; &quot;span&quot;.equals(node.nodeName()))\n            .findFirst();\n        \n        return spanNode.isPresent() &amp;&amp; !((Element)spanNode.get()).text().isEmpty();\n    }\n\n    private static TopicAndDescription getTopicAndDescription(Element element) {\n        String topic = element.select(&quot;a:first-child&quot;).text();\n        Elements spans = element.select(&quot;span&quot;);\n        String description = spans.get(spans.size() - 1).text();\n        return new TopicAndDescription(topic, description);\n    }\n\n}\n</code></pre>\n<p>Output is</p>\n<pre><code>[TopicAndDescription[topic=VALUE2, description=VALUE3], TopicAndDescription[topic=VALUE4, description=VALUE6]]\n</code></pre>\n"}],"owner":{"account_id":28525895,"reputation":1,"user_id":21833976,"display_name":"uterkaxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683420895,"creation_date":1683366715,"question_id":76188233,"body_markdown":"I have a programm that should scrape urls and get all the values of elements. Elements look like this:\r\n\r\n`VALUE1 - VALUE3`\r\n\r\nor it can look like this:\r\n\r\n`VALUE1/VALUE2 - VALUE3`\r\n\r\nThe HTML file looks this way:\r\n\r\n     `&lt;ul&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;\r\n          &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n           -\r\n          &lt;span&gt;VALUE3&lt;/span&gt;\r\n                &lt;/li&gt;\r\n\r\n\r\n     &lt;/ul&gt;`\r\n\r\nOr it can look this way: \r\n\r\n     `&lt;ul&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;\r\n          &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n           /\r\n          &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\r\n           -\r\n          &lt;span&gt;VALUE3&lt;/span&gt;\r\n                &lt;/li&gt;\r\n\r\n\r\n     &lt;/ul&gt;`\r\n\r\nI need to get the first and third value, so I firstly scrape all of the VALUE1 and put it into an ArrayList, then I do the same with VALUE3. But here&#39;s the problem: VALUE3 is not always there! Sometimes the VALUE3 span tag can just not be present on the website. \r\n\r\nSo when I put my VALUE1 and VALUE3 from 2 lists to one, the first can be larger, which may cause an IndexOutOfBoundsException. I thought maybe I could just put something in my second list if VALUE3 is missing? Which way can I do that? I use the following code to scrape:\r\n\r\n                        for (Element row : parse.select(&quot;ul&gt;li&gt;a&gt;span&quot;)){ //to scrape the first one\r\n                            String ing = row.getAllElements().text();\r\n                            ingDebug1.add(ing);\r\n                            debug = i;\r\n                        }\r\n\r\n                        for (Element row :parse.select(&quot;ul&gt;li&gt;span&quot;)){ //to scrape the third one\r\n                            String ing = row.getAllElements().text();\r\n                            debug = i;\r\n                        }\r\n\r\n                        for (int k = 0; k&lt;ingDebug1.size(); k++){ // to put them together\r\n                            ingShowUp.add(ingDebug1.get(k));\r\n                            ingShowUp.add(ingDebug2.get(k));\r\n                        }","title":"How to handle a missing value while parsing an html via jsoup?","body":"<p>I have a programm that should scrape urls and get all the values of elements. Elements look like this:</p>\n<p><code>VALUE1 - VALUE3</code></p>\n<p>or it can look like this:</p>\n<p><code>VALUE1/VALUE2 - VALUE3</code></p>\n<p>The HTML file looks this way:</p>\n<pre><code> `&lt;ul&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;\n      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n       -\n      &lt;span&gt;VALUE3&lt;/span&gt;\n            &lt;/li&gt;\n\n\n &lt;/ul&gt;`\n</code></pre>\n<p>Or it can look this way:</p>\n<pre><code> `&lt;ul&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;\n      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n       /\n      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\n       -\n      &lt;span&gt;VALUE3&lt;/span&gt;\n            &lt;/li&gt;\n\n\n &lt;/ul&gt;`\n</code></pre>\n<p>I need to get the first and third value, so I firstly scrape all of the VALUE1 and put it into an ArrayList, then I do the same with VALUE3. But here's the problem: VALUE3 is not always there! Sometimes the VALUE3 span tag can just not be present on the website.</p>\n<p>So when I put my VALUE1 and VALUE3 from 2 lists to one, the first can be larger, which may cause an IndexOutOfBoundsException. I thought maybe I could just put something in my second list if VALUE3 is missing? Which way can I do that? I use the following code to scrape:</p>\n<pre><code>                    for (Element row : parse.select(&quot;ul&gt;li&gt;a&gt;span&quot;)){ //to scrape the first one\n                        String ing = row.getAllElements().text();\n                        ingDebug1.add(ing);\n                        debug = i;\n                    }\n\n                    for (Element row :parse.select(&quot;ul&gt;li&gt;span&quot;)){ //to scrape the third one\n                        String ing = row.getAllElements().text();\n                        debug = i;\n                    }\n\n                    for (int k = 0; k&lt;ingDebug1.size(); k++){ // to put them together\n                        ingShowUp.add(ingDebug1.get(k));\n                        ingShowUp.add(ingDebug2.get(k));\n                    }\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":18507938,"reputation":57,"user_id":13483843,"display_name":"Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646861352,"creation_date":1618452050,"answer_id":67101233,"question_id":66543244,"body_markdown":"I met the same problem and I had to change the Gradle version for this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s4xre.png\r\n\r\n\r\nyou can find available versions here: &lt;https://services.gradle.org/distributions/&gt;","title":"Cause: zip END header not found","body":"<p>I met the same problem and I had to change the Gradle version for this:</p>\n<p><a href=\"https://i.stack.imgur.com/s4xre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4xre.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find available versions here: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a></p>\n"},{"tags":[],"owner":{"account_id":19368054,"reputation":61,"user_id":14161879,"display_name":"Lenny"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681591432,"creation_date":1681591432,"answer_id":76024667,"question_id":66543244,"body_markdown":"That means thats something is wrong with your gradle version. You can simply go to: https://services.gradle.org/distributions/ and choose the actual version. Make sure it is the bin version for example:\r\n\r\n\r\n&gt; https://services.gradle.org/distributions/gradle-8.1-bin.zip\r\n\r\nThen make sure to change the gradle-wrapper.properties\r\n\r\nIn my case this worked out.","title":"Cause: zip END header not found","body":"<p>That means thats something is wrong with your gradle version. You can simply go to: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a> and choose the actual version. Make sure it is the bin version for example:</p>\n<blockquote>\n<p><a href=\"https://services.gradle.org/distributions/gradle-8.1-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-8.1-bin.zip</a></p>\n</blockquote>\n<p>Then make sure to change the gradle-wrapper.properties</p>\n<p>In my case this worked out.</p>\n"}],"owner":{"account_id":12004122,"reputation":11,"user_id":8782958,"display_name":"G&#246;khan Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683420424,"creation_date":1615278340,"question_id":66543244,"body_markdown":"I get an error while reimport gradle project. *Cause: zip END header not found*. How can i fix it?\r\nI tried to delete all files under .gradle folders but it doesn&#39;t work.\r\n\r\n    Exception in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\r\n            at org.gradle.wrapper.Install.unzip(Install.java:219)\r\n            at org.gradle.wrapper.Install.access$600(Install.java:27)\r\n            at org.gradle.wrapper.Install$1.call(Install.java:75)\r\n            at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n            at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n            at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n            at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n            at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\n\r\n","title":"Cause: zip END header not found","body":"<p>I get an error while reimport gradle project. <em>Cause: zip END header not found</em>. How can i fix it?\nI tried to delete all files under .gradle folders but it doesn't work.</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\n        at org.gradle.wrapper.Install.unzip(Install.java:219)\n        at org.gradle.wrapper.Install.access$600(Install.java:27)\n        at org.gradle.wrapper.Install$1.call(Install.java:75)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1496734260,"post_id":44383773,"comment_id":75767773,"body_markdown":"The way you have tried works fine i suppose sorry i didnt see that @ first","body":"The way you have tried works fine i suppose sorry i didnt see that @ first"},{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":1,"creation_date":1496734468,"post_id":44383773,"comment_id":75767894,"body_markdown":"May I know why my question is downvoted please?","body":"May I know why my question is downvoted please?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1496734745,"post_id":44383773,"comment_id":75768059,"body_markdown":"lol I became your senior with 2 downvotes. I should&#39;t have answered","body":"lol I became your senior with 2 downvotes. I should&#39;t have answered"},{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":0,"creation_date":1496734818,"post_id":44383773,"comment_id":75768114,"body_markdown":"I get nervous every time I post something here. The fear of losing points is so real! LOL","body":"I get nervous every time I post something here. The fear of losing points is so real! LOL"}],"answers":[{"comments":[{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":0,"creation_date":1496803107,"post_id":44384032,"comment_id":75804836,"body_markdown":"I didn&#39;t downvote your answer but I think it could be because \\t will have more than a single &quot; &quot; when used?","body":"I didn&#39;t downvote your answer but I think it could be because \\t will have more than a single &quot; &quot; when used?"},{"owner":{"account_id":10369579,"reputation":313,"user_id":7647640,"display_name":"Andriy Rymar"},"score":0,"creation_date":1496825555,"post_id":44384032,"comment_id":75814611,"body_markdown":"`\\t` is a just representation of `TAB` from ASCII table. It will cost 1 character.","body":"<code>\\t</code> is a just representation of <code>TAB</code> from ASCII table. It will cost 1 character."}],"tags":[],"owner":{"account_id":10369579,"reputation":313,"user_id":7647640,"display_name":"Andriy Rymar"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496734658,"creation_date":1496734658,"answer_id":44384032,"question_id":44383773,"body_markdown":"It is all about output formatting. You may use [this examples][1] and become familiar with all possible approaches.\r\n\r\nYour code can be improved in next two ways :\r\n\r\n1) Use `\\t` instead of Empty Space (`\\t` is a tabulation)\r\n\r\n2) Create a constant with output format like this `private static final String output = &quot;%d &quot;` and use it in output line like this : `String.format(output, number)` where `number` is your number that should be printed. \r\n\r\n\r\n  [1]: https://dzone.com/articles/java-string-format-examples","title":"Java: Printing trailing spaces","body":"<p>It is all about output formatting. You may use <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">this examples</a> and become familiar with all possible approaches.</p>\n\n<p>Your code can be improved in next two ways :</p>\n\n<p>1) Use <code>\\t</code> instead of Empty Space (<code>\\t</code> is a tabulation)</p>\n\n<p>2) Create a constant with output format like this <code>private static final String output = \"%d \"</code> and use it in output line like this : <code>String.format(output, number)</code> where <code>number</code> is your number that should be printed. </p>\n"},{"tags":[],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496734976,"creation_date":1496734976,"answer_id":44384119,"question_id":44383773,"body_markdown":"First reverse the array and then print it with a for loop. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int n = in.nextInt();\r\n            int arr[] = new int[n];\r\n            for(int arr_i=0; arr_i &lt; n; arr_i++)\r\n            {\r\n                arr[arr_i] = in.nextInt();\r\n            }\r\n            for(int i = 0; i &lt; arr.length / 2; i++)\r\n            {\r\n                int temp = arr[i];\r\n                arr[i] = arr[arr.length - i - 1];\r\n                arr[arr.length - i - 1] = temp;\r\n            }    \r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                System.out.print(arr[i]+&quot; &quot;);\r\n            }\r\n        }\r\n    }","title":"Java: Printing trailing spaces","body":"<p>First reverse the array and then print it with a for loop. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int arr[] = new int[n];\n        for(int arr_i=0; arr_i &lt; n; arr_i++)\n        {\n            arr[arr_i] = in.nextInt();\n        }\n        for(int i = 0; i &lt; arr.length / 2; i++)\n        {\n            int temp = arr[i];\n            arr[i] = arr[arr.length - i - 1];\n            arr[arr.length - i - 1] = temp;\n        }    \n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            System.out.print(arr[i]+\" \");\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":0,"creation_date":1496802938,"post_id":44386320,"comment_id":75804803,"body_markdown":"Thank you, I wasn&#39;t aware of StringBuilder.","body":"Thank you, I wasn&#39;t aware of StringBuilder."}],"tags":[],"owner":{"account_id":6433222,"reputation":1497,"user_id":4985572,"accept_rate":75,"display_name":"Igoranze"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1496741508,"creation_date":1496741508,"answer_id":44386320,"question_id":44383773,"body_markdown":"The easy way to reverse a string is using the `StringBuilder` class:\r\n\r\nOne option is to remove the spaces at the end of the string eg. remove last char\r\n\r\n    package stackoverflow.main;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\t\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\r\n    \t\tfor(int arr_i = 0; arr_i &lt; n; arr_i++){\r\n    \t\t\tsb.append(in.nextInt());\r\n    \t\t\tsb.append(&quot; &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tsb.deleteCharAt(sb.length() - 1);\r\n    \t\t\r\n    \t\tString normal = sb.toString();\r\n    \t\tString reversed = sb.reverse().toString();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;normal: &quot; + normal);\r\n    \t\tSystem.out.println(&quot;reversed: &quot; + reversed);\r\n    \t}\r\n    }\r\n\r\nAnother option is to check whether you are at the last `arr_i` of your loop.\r\nIf so, then don&#39;t add a space\r\n\r\n    package stackoverflow.main;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\t\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\r\n    \t\tfor(int arr_i = 0; arr_i &lt; n; arr_i++){\r\n    \t\t\tsb.append(in.nextInt());\r\n                if (arr_i != 3\r\n    \t\t\t    sb.append(&quot; &quot;);\r\n    \t\t}\r\n    \t\t    \t\t\r\n    \t\tString normal = sb.toString();\r\n    \t\tString reversed = sb.reverse().toString();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;normal: &quot; + normal);\r\n    \t\tSystem.out.println(&quot;reversed: &quot; + reversed);\r\n    \t}\r\n    }\r\n\r\n","title":"Java: Printing trailing spaces","body":"<p>The easy way to reverse a string is using the <code>StringBuilder</code> class:</p>\n\n<p>One option is to remove the spaces at the end of the string eg. remove last char</p>\n\n<pre><code>package stackoverflow.main;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n\n        StringBuilder sb = new StringBuilder();\n\n        for(int arr_i = 0; arr_i &lt; n; arr_i++){\n            sb.append(in.nextInt());\n            sb.append(\" \");\n        }\n\n        sb.deleteCharAt(sb.length() - 1);\n\n        String normal = sb.toString();\n        String reversed = sb.reverse().toString();\n\n        System.out.println(\"normal: \" + normal);\n        System.out.println(\"reversed: \" + reversed);\n    }\n}\n</code></pre>\n\n<p>Another option is to check whether you are at the last <code>arr_i</code> of your loop.\nIf so, then don't add a space</p>\n\n<pre><code>package stackoverflow.main;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n\n        StringBuilder sb = new StringBuilder();\n\n        for(int arr_i = 0; arr_i &lt; n; arr_i++){\n            sb.append(in.nextInt());\n            if (arr_i != 3\n                sb.append(\" \");\n        }\n\n        String normal = sb.toString();\n        String reversed = sb.reverse().toString();\n\n        System.out.println(\"normal: \" + normal);\n        System.out.println(\"reversed: \" + reversed);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092764,"reputation":143,"user_id":1087029,"display_name":"AlejandroHernandez.Inc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683420365,"creation_date":1683419880,"answer_id":76191772,"question_id":44383773,"body_markdown":"The same as what you did, only to consider the last element shall be printed out of the &#39;for&#39; loop.\r\n(*a quick and easy solution*)\r\n\r\nBy this way, you reduce the time with the validation of each iteration and you do know that the last element is the one without the &#39;space&#39;.\r\n\r\nI wish to be useful for the software development community.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        for(int arr_i=0; arr_i &lt; n; arr_i++){\r\n            arr[arr_i] = in.nextInt();\r\n        }\r\n        for(int reverse_i=n-1; reverse_i&gt;0; reverse_i--){\r\n            System.out.print(arr[reverse_i]+&quot; &quot;);\r\n        }\r\n        System.out.print(arr[0]);\r\n     }\r\n\r\n","title":"Java: Printing trailing spaces","body":"<p>The same as what you did, only to consider the last element shall be printed out of the 'for' loop.\n(<em>a quick and easy solution</em>)</p>\n<p>By this way, you reduce the time with the validation of each iteration and you do know that the last element is the one without the 'space'.</p>\n<p>I wish to be useful for the software development community.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int arr[] = new int[n];\n    for(int arr_i=0; arr_i &lt; n; arr_i++){\n        arr[arr_i] = in.nextInt();\n    }\n    for(int reverse_i=n-1; reverse_i&gt;0; reverse_i--){\n        System.out.print(arr[reverse_i]+&quot; &quot;);\n    }\n    System.out.print(arr[0]);\n }\n</code></pre>\n"}],"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":44386320,"answer_count":4,"score":1,"last_activity_date":1683420365,"creation_date":1496733918,"question_id":44383773,"body_markdown":"I&#39;m a beginner in Java and working on a code that first requires user to enter total number of integers and next the integers themselves. Example input is:\r\n    \r\n    4\r\n    1 4 3 2\r\n\r\nThe code will need to reverse the second input to the following: \r\n\r\n    2 3 4 1\r\n\r\nMy solution is as follow:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        for(int arr_i=0; arr_i &lt; n; arr_i++){\r\n            arr[arr_i] = in.nextInt();\r\n        }\r\n        for(int reverse_i=n-1; reverse_i&gt;=0; reverse_i--){\r\n            System.out.print(arr[reverse_i]);\r\n                if(reverse_i != 0){System.out.print(&quot; &quot;);}\r\n        }\r\n    }\r\n\r\nMy question is related to the code to add a blank space &quot; &quot; in between the printed numbers. I wonder what other way I can use to get this done? Any suggestion is appreciated, thank you.","title":"Java: Printing trailing spaces","body":"<p>I'm a beginner in Java and working on a code that first requires user to enter total number of integers and next the integers themselves. Example input is:</p>\n\n<pre><code>4\n1 4 3 2\n</code></pre>\n\n<p>The code will need to reverse the second input to the following: </p>\n\n<pre><code>2 3 4 1\n</code></pre>\n\n<p>My solution is as follow:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int arr[] = new int[n];\n    for(int arr_i=0; arr_i &lt; n; arr_i++){\n        arr[arr_i] = in.nextInt();\n    }\n    for(int reverse_i=n-1; reverse_i&gt;=0; reverse_i--){\n        System.out.print(arr[reverse_i]);\n            if(reverse_i != 0){System.out.print(\" \");}\n    }\n}\n</code></pre>\n\n<p>My question is related to the code to add a blank space \" \" in between the printed numbers. I wonder what other way I can use to get this done? Any suggestion is appreciated, thank you.</p>\n"},{"tags":["java","reactive-programming","reactor","reactive-streams"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1626276622,"post_id":68379116,"comment_id":120851095,"body_markdown":"RX calls it &quot;cold&quot; observables","body":"RX calls it &quot;cold&quot; observables"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1626295603,"post_id":68379116,"comment_id":120858113,"body_markdown":"Does this answer your question? [Difference between Mono/Flux.fromCallable and Mono.defer](https://stackoverflow.com/questions/60077499/difference-between-mono-flux-fromcallable-and-mono-defer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60077499/difference-between-mono-flux-fromcallable-and-mono-defer\">Difference between Mono/Flux.fromCallable and Mono.defer</a>"}],"answers":[{"comments":[{"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"score":0,"creation_date":1626438536,"post_id":68380951,"comment_id":120899672,"body_markdown":"I understand that, but why would I need that? What&#39;s the use case?","body":"I understand that, but why would I need that? What&#39;s the use case?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1626442203,"post_id":68380951,"comment_id":120901115,"body_markdown":"When you need to create a `Mono` not immediately as it is with `Mono.just()`, but later, only when subscribe happens and the result may depend on that subscriber context. For example you need to propagate a security context which really depend on the authenticated subscriber.","body":"When you need to create a <code>Mono</code> not immediately as it is with <code>Mono.just()</code>, but later, only when subscribe happens and the result may depend on that subscriber context. For example you need to propagate a security context which really depend on the authenticated subscriber."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626276487,"creation_date":1626276487,"answer_id":68380951,"question_id":68379116,"body_markdown":"`Mono.fromCallable()` is for regular deferred service call. The `Mono.defer()` produces a `Mono` and it does that only when you *subscribe*. So, you may decide to create this or that `Mono` not during composition phase, but exactly on the target subscribe.","title":"What is the real world case for Mono.defer()?","body":"<p><code>Mono.fromCallable()</code> is for regular deferred service call. The <code>Mono.defer()</code> produces a <code>Mono</code> and it does that only when you <em>subscribe</em>. So, you may decide to create this or that <code>Mono</code> not during composition phase, but exactly on the target subscribe.</p>\n"},{"comments":[{"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"score":0,"creation_date":1636971542,"post_id":69967964,"comment_id":123691130,"body_markdown":"So, what is the blocking code in your case? `SECURE_RANDOM.ints`?","body":"So, what is the blocking code in your case? <code>SECURE_RANDOM.ints</code>?"},{"owner":{"account_id":9808985,"reputation":93,"user_id":7267818,"accept_rate":57,"display_name":"0x52"},"score":0,"creation_date":1636971721,"post_id":69967964,"comment_id":123691207,"body_markdown":"Yes, it is executed in the main-thread and if you execute Blockhound you can see that inside a blocking call is made and it detects it. \n\nHas the method that I put you above, you can remove the Mono.defer and invoke it, and your call will be blocked, it needs the `defer` and `subscribeOn`","body":"Yes, it is executed in the main-thread and if you execute Blockhound you can see that inside a blocking call is made and it detects it.   Has the method that I put you above, you can remove the Mono.defer and invoke it, and your call will be blocked, it needs the <code>defer</code> and <code>subscribeOn</code>"},{"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"score":0,"creation_date":1636972179,"post_id":69967964,"comment_id":123691357,"body_markdown":"How does this differ from a much simpler approach with `Mono.fromCallable()`?\n`Mono.fromCallable(() -&gt; SECURE_RANDOM.ints(...)).doOnEach(...).subscribeOn(...).subscribe(...)`","body":"How does this differ from a much simpler approach with <code>Mono.fromCallable()</code>? <code>Mono.fromCallable(() -&gt; SECURE_RANDOM.ints(...)).doOnEach(...).subscribeOn(...).subs&zwnj;&#8203;cribe(...)</code>"},{"owner":{"account_id":9808985,"reputation":93,"user_id":7267818,"accept_rate":57,"display_name":"0x52"},"score":0,"creation_date":1636972603,"post_id":69967964,"comment_id":123691513,"body_markdown":"with fromCallable it is also valid, I would be able to process it in another Scheduler. with defer he receives a publisher as a parameter, You can test the application above by looking at the behavior, with a simple change.","body":"with fromCallable it is also valid, I would be able to process it in another Scheduler. with defer he receives a publisher as a parameter, You can test the application above by looking at the behavior, with a simple change."},{"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"score":0,"creation_date":1637063286,"post_id":69967964,"comment_id":123720003,"body_markdown":"I would say that doing expensive calculations on assembly time is an anti-pattern, so don&#39;t see any benefits from `defer()` here, and we&#39;re back to square one :)","body":"I would say that doing expensive calculations on assembly time is an anti-pattern, so don&#39;t see any benefits from <code>defer()</code> here, and we&#39;re back to square one :)"}],"tags":[],"owner":{"account_id":9808985,"reputation":93,"user_id":7267818,"accept_rate":57,"display_name":"0x52"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683418726,"creation_date":1636931766,"answer_id":69967964,"question_id":68379116,"body_markdown":"**`@a.khakh`**\r\n\r\nA very simple use case that helped me was to execute blocking code in another thread, that is, to process that blocking call so that the main-thread would not block me.\r\n\r\nI saw the need to use defer to subscribe in another thread, in this case in a Scheduler provided by project reactor and programmed by Simon Basle.\r\n\r\n * [source using Mono.defer](https://github.com/rucko24/poc-sync-asyn/blob/main/src/main/java/com/simulation/syncvsasync/views/helloworld/SyncVsAsync.java#L97)\r\n\r\nIf you do a combination of `defer` plus `subscribeOn` and a `Schedulers.boundedElastic` you will make your code non-blocking or rather it will not **block** your application, removing contention in Reactor&#39;s default Scheduler at that time, perhaps Schedulers.parallel\r\n\r\n----\r\n\r\nThe following image shows that the third component of a Combo, internally uses a defer plus a Scheduler, so as not to block the application.\r\n\r\n![](https://rubn0x52.com/assets/img/reactiveFrecuencyMono.gif)\r\n\r\n\r\n- ignore the method called `ui.access()` it is part of the vaadin framework.\r\n\r\n```java\r\nMono.defer(() -&gt; this.reactiveRandomNumbers.monoFrecuency(event.getValue().getSize()))\r\n                        .doOnEach(signal -&gt; log.info(&quot;Thread name doOnNext(): {}&quot;, Thread.currentThread().getName()))\r\n                        .subscribeOn(Schedulers.boundedElastic())\r\n                        .subscribe(subscribeMap -&gt; {\r\n                            ui.access(() -&gt; {\r\n                                log.info(&quot;Thread name subscribe(): {}&quot;, Thread.currentThread().getName());\r\n                                this.execute(event.getValue().getSize(), e -&gt; subscribeMap);\r\n                            });\r\n                        });\r\n```\r\n\r\n","title":"What is the real world case for Mono.defer()?","body":"<p><strong><code>@a.khakh</code></strong></p>\n<p>A very simple use case that helped me was to execute blocking code in another thread, that is, to process that blocking call so that the main-thread would not block me.</p>\n<p>I saw the need to use defer to subscribe in another thread, in this case in a Scheduler provided by project reactor and programmed by Simon Basle.</p>\n<ul>\n<li><a href=\"https://github.com/rucko24/poc-sync-asyn/blob/main/src/main/java/com/simulation/syncvsasync/views/helloworld/SyncVsAsync.java#L97\" rel=\"nofollow noreferrer\">source using Mono.defer</a></li>\n</ul>\n<p>If you do a combination of <code>defer</code> plus <code>subscribeOn</code> and a <code>Schedulers.boundedElastic</code> you will make your code non-blocking or rather it will not <strong>block</strong> your application, removing contention in Reactor's default Scheduler at that time, perhaps Schedulers.parallel</p>\n<hr />\n<p>The following image shows that the third component of a Combo, internally uses a defer plus a Scheduler, so as not to block the application.</p>\n<p><img src=\"https://rubn0x52.com/assets/img/reactiveFrecuencyMono.gif\" alt=\"\" /></p>\n<ul>\n<li>ignore the method called <code>ui.access()</code> it is part of the vaadin framework.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.defer(() -&gt; this.reactiveRandomNumbers.monoFrecuency(event.getValue().getSize()))\n                        .doOnEach(signal -&gt; log.info(&quot;Thread name doOnNext(): {}&quot;, Thread.currentThread().getName()))\n                        .subscribeOn(Schedulers.boundedElastic())\n                        .subscribe(subscribeMap -&gt; {\n                            ui.access(() -&gt; {\n                                log.info(&quot;Thread name subscribe(): {}&quot;, Thread.currentThread().getName());\n                                this.execute(event.getValue().getSize(), e -&gt; subscribeMap);\n                            });\n                        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637699125,"creation_date":1637699125,"answer_id":70087362,"question_id":68379116,"body_markdown":"Sometimes you need to calculate something synchronous lazily.\r\n\r\nFor instance, we have an asynchronous service\r\n\r\n```\r\npublic interface SomeService {\r\n\r\n    Mono&lt;User&gt; getUserByName(String name);\r\n\r\n    Mono&lt;CreateUserResult&gt; createUser(User user);\r\n\r\n}\r\n```\r\n\r\nand an endpoint, which looks up for the user in this service and creates if the one was not found. BUT before the creation some heavy calculations must be performed in sync in special thread pool. So\r\n\r\n```\r\nsomeService.getUserByName(name)\r\n                .switchIfEmpty(Mono.defer(() -&gt; {\r\n                    var someHeavyCalculatedData = localHeavyService.doSomethingNecessary(name);\r\n                    return someService.createUser(new User(name, someHeavyCalculatedData));\r\n                }).subscribeOn(specialScheduler));\r\n```\r\n\r\nSure, you can say that we can use `Mono.fromCallable` instead and do it like\r\n\r\n```\r\nsomeService.getUserByName(name)\r\n                .switchIfEmpty(Mono.fromCallable(() -&gt; localHeavyService.doSomethingNecessary(name))\r\n                        .subscribeOn(specialScheduler)\r\n                        .flatMap(someHeavyCalculatedData -&gt; someService.createUser(new User(name, someHeavyCalculatedData)))\r\n                );\r\n```\r\n\r\nBut each method call in reactive chain causes creation of a huge amount of objects in memory. Well for one single call you, probably won&#39;t notice anything, but with higher load frequent allocating memory, then releasing it by GC would cause your app being slow.","title":"What is the real world case for Mono.defer()?","body":"<p>Sometimes you need to calculate something synchronous lazily.</p>\n<p>For instance, we have an asynchronous service</p>\n<pre><code>public interface SomeService {\n\n    Mono&lt;User&gt; getUserByName(String name);\n\n    Mono&lt;CreateUserResult&gt; createUser(User user);\n\n}\n</code></pre>\n<p>and an endpoint, which looks up for the user in this service and creates if the one was not found. BUT before the creation some heavy calculations must be performed in sync in special thread pool. So</p>\n<pre><code>someService.getUserByName(name)\n                .switchIfEmpty(Mono.defer(() -&gt; {\n                    var someHeavyCalculatedData = localHeavyService.doSomethingNecessary(name);\n                    return someService.createUser(new User(name, someHeavyCalculatedData));\n                }).subscribeOn(specialScheduler));\n</code></pre>\n<p>Sure, you can say that we can use <code>Mono.fromCallable</code> instead and do it like</p>\n<pre><code>someService.getUserByName(name)\n                .switchIfEmpty(Mono.fromCallable(() -&gt; localHeavyService.doSomethingNecessary(name))\n                        .subscribeOn(specialScheduler)\n                        .flatMap(someHeavyCalculatedData -&gt; someService.createUser(new User(name, someHeavyCalculatedData)))\n                );\n</code></pre>\n<p>But each method call in reactive chain causes creation of a huge amount of objects in memory. Well for one single call you, probably won't notice anything, but with higher load frequent allocating memory, then releasing it by GC would cause your app being slow.</p>\n"}],"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683418726,"creation_date":1626269634,"question_id":68379116,"body_markdown":"I know what `Mono.defer()` does do, but when should I use it? I know that one of the use cases is to defer some blocking side effects in functions that return `Mono`, but that&#39;s generally a bad practice (putting side effects in functions that return `Mono` or `Flux`). And when I want to wrap some blocking code within the `Mono` there&#39;s `Mono.fromCallable()`. So what is the best case to use `Mono.defer()`? ","title":"What is the real world case for Mono.defer()?","body":"<p>I know what <code>Mono.defer()</code> does do, but when should I use it? I know that one of the use cases is to defer some blocking side effects in functions that return <code>Mono</code>, but that's generally a bad practice (putting side effects in functions that return <code>Mono</code> or <code>Flux</code>). And when I want to wrap some blocking code within the <code>Mono</code> there's <code>Mono.fromCallable()</code>. So what is the best case to use <code>Mono.defer()</code>?</p>\n"},{"tags":["java","spring-boot","spring-security","cors","tomcat10"],"comments":[{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1683115121,"post_id":76162420,"comment_id":134316249,"body_markdown":"Nothing in the code that you&#39;ve posted explain an error with such a message. Either you&#39;re not telling us everything, or the message is inaccurate.","body":"Nothing in the code that you&#39;ve posted explain an error with such a message. Either you&#39;re not telling us everything, or the message is inaccurate."},{"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"score":0,"creation_date":1683123672,"post_id":76162420,"comment_id":134318623,"body_markdown":"These are the only things I would think are related to the error I&#39;m getting. Could you give me some guidance on extra information that&#39;s needed for my message to be more complete? Quite new to all this, sorry!","body":"These are the only things I would think are related to the error I&#39;m getting. Could you give me some guidance on extra information that&#39;s needed for my message to be more complete? Quite new to all this, sorry!"},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":2,"creation_date":1683129092,"post_id":76162420,"comment_id":134320037,"body_markdown":"There must be a call to `allowedOrigins(&quot;*&quot;)` somewhere. Find it and you&#39;ll be one step closer to fixing your CORS issue.","body":"There must be a call to <code>allowedOrigins(&quot;*&quot;)</code> somewhere. Find it and you&#39;ll be one step closer to fixing your CORS issue."}],"answers":[{"tags":[],"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683417671,"creation_date":1683417671,"answer_id":76191683,"question_id":76162420,"body_markdown":"I had the same issue as I didn&#39;t configure the CORS properly. This is my configuration:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n            .csrf().disable()\r\n            .cors(c -&gt; c.configurationSource(request -&gt; {\r\n                CorsConfiguration cors = new CorsConfiguration();\r\n                cors.setAllowedOrigins(List.of(&quot;*&quot;));\r\n                cors.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n                cors.setAllowedHeaders(List.of(&quot;*&quot;));\r\n                cors.setExposedHeaders(List.of(HttpHeaders.AUTHORIZATION, HttpHeaders.CONTENT_TYPE));\r\n                return cors;\r\n            }))\r\n            .authorizeHttpRequests()\r\n            ...\r\n\r\nThis will allow any origin to be served. Also for any method.\r\n","title":"Why do I get a Spring Boot (Java) error Access-Control-Allow-Origin can&#39;t be *, while it&#39;s sending the right header?","body":"<p>I had the same issue as I didn't configure the CORS properly. This is my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http\n        .csrf().disable()\n        .cors(c -&gt; c.configurationSource(request -&gt; {\n            CorsConfiguration cors = new CorsConfiguration();\n            cors.setAllowedOrigins(List.of(&quot;*&quot;));\n            cors.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n            cors.setAllowedHeaders(List.of(&quot;*&quot;));\n            cors.setExposedHeaders(List.of(HttpHeaders.AUTHORIZATION, HttpHeaders.CONTENT_TYPE));\n            return cors;\n        }))\n        .authorizeHttpRequests()\n        ...\n</code></pre>\n<p>This will allow any origin to be served. Also for any method.</p>\n"}],"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1683417671,"creation_date":1683106826,"question_id":76162420,"body_markdown":"I have a simple web app containing a Angular front-end and a Spring Boot API using Spring security JWT authentication (version 3.0.5) deployed in Tomcat 10. The Web server and APP/DB server are separate. I will censor out the domain for privacy reasons, and will replace it with example.com.\r\n\r\nI have Cors configured like this:\r\n\r\n```\r\nCorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://goods.example.com&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\r\n                &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;X-Requested-With&quot;,\r\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\r\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\r\n        configuration.setMaxAge(3600L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nMy Spring Security config is the following:\r\n\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .cors()\r\n                .configurationSource(corsConfigurationSource())\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n//                .requiresChannel()\r\n//                .anyRequest()\r\n//                .requiresSecure()\r\n//                .and()\r\n                .authorizeHttpRequests( authCustomizer -&gt; authCustomizer\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth/authenticate&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/test&quot;).permitAll()\r\n                )\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .headers()\r\n                .xssProtection()\r\n                .and()\r\n                .contentSecurityPolicy(&quot;default-src &#39;self&#39; data: blob:;&quot;);\r\n\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nAs you can see I&#39;m running the app on http for now.\r\n\r\nWhen I call my authentication endpoint with valid credentials it shows the the following headers:\r\n\r\n\r\n```http\r\nHTTP/1.1 403 \r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: http://goods.example.com\r\nAccess-Control-Expose-Headers: Origin, Content-Type, Accept, Jwt-Token, Authorization, Access-Control-Allow-Origin, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Filename\r\nAccess-Control-Allow-Credentials: true\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Wed, 03 May 2023 09:11:19 GMT\r\nKeep-Alive: timeout=20\r\nConnection: keep-alive\r\n```\r\n\r\nNow here is the problem. In my logs I get the following error: `c.o.g.exception.DefaultExceptionHandler  : java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.`\r\n\r\nIn my view I am listing the allowed origins explicitly in my cors configuration, but for some reason it is not working...\r\n\r\n\r\nWhat I tried:\r\n - I tried changing the Collections.singletonList() to Arrays.asList()\r\n - Removing XSS and CSP\r\n - Changing the Class annotation Order to: `@Order(Ordered.HIGHEST_PRECEDENCE)`\r\n - Check whether there&#39;s any cors rules active in Tomcat (I can&#39;t find any)\r\n - Use setAllowedOriginPatterns OR addAllowedOriginPattern instead of setAllowOrigins \r\n - Add the @Bean annotation to my CorsConfigurationSource\r\n\r\nThese were the fixes I found in other threads/could think of on my own.\r\n\r\nJust to specify, I do not get an error in the browser, just in Java/Tomcat. Probably because spring boot does give the correct header back...\r\n\r\nThank you for your help!","title":"Why do I get a Spring Boot (Java) error Access-Control-Allow-Origin can&#39;t be *, while it&#39;s sending the right header?","body":"<p>I have a simple web app containing a Angular front-end and a Spring Boot API using Spring security JWT authentication (version 3.0.5) deployed in Tomcat 10. The Web server and APP/DB server are separate. I will censor out the domain for privacy reasons, and will replace it with example.com.</p>\n<p>I have Cors configured like this:</p>\n<pre><code>CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://goods.example.com&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\n                &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;X-Requested-With&quot;,\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\n        configuration.setMaxAge(3600L);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>My Spring Security config is the following:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .cors()\n                .configurationSource(corsConfigurationSource())\n                .and()\n                .csrf()\n                .disable()\n//                .requiresChannel()\n//                .anyRequest()\n//                .requiresSecure()\n//                .and()\n                .authorizeHttpRequests( authCustomizer -&gt; authCustomizer\n                        .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth/authenticate&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/test&quot;).permitAll()\n                )\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .headers()\n                .xssProtection()\n                .and()\n                .contentSecurityPolicy(&quot;default-src 'self' data: blob:;&quot;);\n\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>As you can see I'm running the app on http for now.</p>\n<p>When I call my authentication endpoint with valid credentials it shows the the following headers:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 403 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: http://goods.example.com\nAccess-Control-Expose-Headers: Origin, Content-Type, Accept, Jwt-Token, Authorization, Access-Control-Allow-Origin, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Filename\nAccess-Control-Allow-Credentials: true\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Wed, 03 May 2023 09:11:19 GMT\nKeep-Alive: timeout=20\nConnection: keep-alive\n</code></pre>\n<p>Now here is the problem. In my logs I get the following error: <code>c.o.g.exception.DefaultExceptionHandler  : java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.</code></p>\n<p>In my view I am listing the allowed origins explicitly in my cors configuration, but for some reason it is not working...</p>\n<p>What I tried:</p>\n<ul>\n<li>I tried changing the Collections.singletonList() to Arrays.asList()</li>\n<li>Removing XSS and CSP</li>\n<li>Changing the Class annotation Order to: <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code></li>\n<li>Check whether there's any cors rules active in Tomcat (I can't find any)</li>\n<li>Use setAllowedOriginPatterns OR addAllowedOriginPattern instead of setAllowOrigins</li>\n<li>Add the @Bean annotation to my CorsConfigurationSource</li>\n</ul>\n<p>These were the fixes I found in other threads/could think of on my own.</p>\n<p>Just to specify, I do not get an error in the browser, just in Java/Tomcat. Probably because spring boot does give the correct header back...</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","android","kotlin","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1683327096,"post_id":76183110,"comment_id":134355440,"body_markdown":"What is it that you feel is missing from your current chart? The thickness of the horizontal lines? The lack of gridlines? The gradient coloring of the lines? Please update the question to be more specific about what you want.","body":"What is it that you feel is missing from your current chart? The thickness of the horizontal lines? The lack of gridlines? The gradient coloring of the lines? Please update the question to be more specific about what you want."},{"owner":{"account_id":17640707,"reputation":21,"user_id":12803038,"display_name":"Mike"},"score":0,"creation_date":1683417374,"post_id":76183110,"comment_id":134363923,"body_markdown":"@TylerV, thanks for the comment. I&#39;ve updated the question. I hope it&#39;s clear enough","body":"@TylerV, thanks for the comment. I&#39;ve updated the question. I hope it&#39;s clear enough"}],"owner":{"account_id":17640707,"reputation":21,"user_id":12803038,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683417282,"creation_date":1683295877,"question_id":76183110,"body_markdown":"I want to achieve this kind of chart using MPAndroidChart. In particular. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/ooYsV.jpg)](https://i.stack.imgur.com/ooYsV.jpg)\r\n\r\nI have done all the necessary setup and particularly customized the chart to use the stepped mode below\r\n\r\n```\r\nVal set1 = LineDataSet(values, &quot;DataSet 1&quot;);\r\nset1.setMode(LineDataSet.Mode.STEPPED);\r\n```\r\n\r\nThis is what I&#39;ve been able to achieve so far. In particular, I want to implement the thickness of the horizontal lines and also the gradient coloring of the lines.\r\n\r\nI&#39;ll appreciate any recommendation to achieve the desired template I attached.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6xsHI.png)](https://i.stack.imgur.com/6xsHI.png)","title":"Making a custom step graph with mpandroidchart","body":"<p>I want to achieve this kind of chart using MPAndroidChart. In particular.</p>\n<p><a href=\"https://i.stack.imgur.com/ooYsV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ooYsV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have done all the necessary setup and particularly customized the chart to use the stepped mode below</p>\n<pre><code>Val set1 = LineDataSet(values, &quot;DataSet 1&quot;);\nset1.setMode(LineDataSet.Mode.STEPPED);\n</code></pre>\n<p>This is what I've been able to achieve so far. In particular, I want to implement the thickness of the horizontal lines and also the gradient coloring of the lines.</p>\n<p>I'll appreciate any recommendation to achieve the desired template I attached.</p>\n<p><a href=\"https://i.stack.imgur.com/6xsHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6xsHI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","admob","interstitial"],"owner":{"account_id":28531839,"reputation":1,"user_id":21839115,"display_name":"You Loulou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683415611,"creation_date":1683415611,"question_id":76191608,"body_markdown":"I call the finish() function in Activity which uses the InterstitialAd announcements but the garbage collector does not recover the activity because call back from InterstitialAd is currently using the activity.\r\nI have a memory leak on all the Activities that call loading InterstitialAd.load with InterstitialAdLoadCallback\r\n\r\n\r\nhow can I use InterstitialAd with InterstitialAdLoadCallback and avoid memory leaks?","title":"after loading InterstitialAd.load with InterstitialAdLoadCallback I have a memory leak","body":"<p>I call the finish() function in Activity which uses the InterstitialAd announcements but the garbage collector does not recover the activity because call back from InterstitialAd is currently using the activity.\nI have a memory leak on all the Activities that call loading InterstitialAd.load with InterstitialAdLoadCallback</p>\n<p>how can I use InterstitialAd with InterstitialAdLoadCallback and avoid memory leaks?</p>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683407409,"post_id":76191049,"comment_id":134362986,"body_markdown":"hi &amp; welcome! i tried (not) to reproduce...(works like charm!) now see: (your exception message+) `Thread.sleep(1000000000);` that&#39;s *a lot of* (1 bill.) milliseconds! ... =&gt; 1 mill. seconds =&gt; ...it&#39;s about `11,5740741` days! (that&#39;s no good &quot;testing time frame&quot;!:)","body":"hi &amp; welcome! i tried (not) to reproduce...(works like charm!) now see: (your exception message+) <code>Thread.sleep(1000000000);</code> that&#39;s <i>a lot of</i> (1 bill.) milliseconds! ... =&gt; 1 mill. seconds =&gt; ...it&#39;s about <code>11,5740741</code> days! (that&#39;s no good &quot;testing time frame&quot;!:)"}],"answers":[{"comments":[{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683415533,"post_id":76191442,"comment_id":134363797,"body_markdown":"Thank you for your wonderful answer, but I have a doubt. If I use Thread.sleep(10000) in my Spring Boot application to simulate a long-running task, then after sending the first request, my controller is waiting for 10 seconds before responding to subsequent requests. Is there any way to make my controller always available to accept requests?","body":"Thank you for your wonderful answer, but I have a doubt. If I use Thread.sleep(10000) in my Spring Boot application to simulate a long-running task, then after sending the first request, my controller is waiting for 10 seconds before responding to subsequent requests. Is there any way to make my controller always available to accept requests?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683415818,"post_id":76191442,"comment_id":134363817,"body_markdown":"Welcome! :-) no, sorry the only way to &quot;skip a long running task&quot; is not to wait/depend on its result! So, e.g. the controller (issues the async service and) sends (immediately) a 20x (accepted/created/... status) ...maybe with an id/url for later reference.... then, when (long running, async) job is done, user can (receive notifiaction and) request results...","body":"Welcome! :-) no, sorry the only way to &quot;skip a long running task&quot; is not to wait/depend on its result! So, e.g. the controller (issues the async service and) sends (immediately) a 20x (accepted/created/... status) ...maybe with an id/url for later reference.... then, when (long running, async) job is done, user can (receive notifiaction and) request results..."},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683418354,"post_id":76191442,"comment_id":134364001,"body_markdown":"Thank you very much for taking the time to assist me with my problem on Stack Overflow. Your help has been invaluable, and I truly appreciate your expertise and guidance.\n:-)","body":"Thank you very much for taking the time to assist me with my problem on Stack Overflow. Your help has been invaluable, and I truly appreciate your expertise and guidance. :-)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683421324,"post_id":76191442,"comment_id":134364176,"body_markdown":"You are very welcome! My tests are &quot;ok&quot;/reproducible. Generally i feel also right about &quot;decoupling request from response&quot; is *the way* to asynchronously communicate..but &quot;technically&quot; there might be alternatives and many &quot;nuances&quot; (thinking of e.g. websockets + (big provider) &quot;API gateways&quot;...)","body":"You are very welcome! My tests are &quot;ok&quot;/reproducible. Generally i feel also right about &quot;decoupling request from response&quot; is <i>the way</i> to asynchronously communicate..but &quot;technically&quot; there might be alternatives and many &quot;nuances&quot; (thinking of e.g. websockets + (big provider) &quot;API gateways&quot;...)"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683473154,"post_id":76191442,"comment_id":134368912,"body_markdown":"hey can you check this if possible\nhttps://stackoverflow.com/questions/76194392/spring-boot-data-not-persisting-in-postgresql-database?noredirect=1#comment134368381_76194392","body":"hey can you check this if possible <a href=\"https://stackoverflow.com/questions/76194392/spring-boot-data-not-persisting-in-postgresql-database?noredirect=1#comment134368381_76194392\" title=\"spring boot data not persisting in postgresql database\">stackoverflow.com/questions/76194392/&hellip;</a>"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683662093,"post_id":76191442,"comment_id":134400378,"body_markdown":"can i get your linkedin ID ?","body":"can i get your linkedin ID ?"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683663356,"post_id":76191442,"comment_id":134400613,"body_markdown":"please check this sir\nhttps://stackoverflow.com/questions/76194392/spring-boot-data-not-persisting-in-postgresql-database?noredirect=1#comment134368381_76194392","body":"please check this sir <a href=\"https://stackoverflow.com/questions/76194392/spring-boot-data-not-persisting-in-postgresql-database?noredirect=1#comment134368381_76194392\" title=\"spring boot data not persisting in postgresql database\">stackoverflow.com/questions/76194392/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683663579,"post_id":76191442,"comment_id":134400666,"body_markdown":"this seems to have (short but) accepted answer, sir!? :) Do you maybe have a &quot;git(hub)&quot; for your problem/task? I&#39;ll be pleased to contribute!","body":"this seems to have (short but) accepted answer, sir!? :) Do you maybe have a &quot;git(hub)&quot; for your problem/task? I&#39;ll be pleased to contribute!"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683663792,"post_id":76191442,"comment_id":134400710,"body_markdown":"give me 5 mins i&#39;m sending","body":"give me 5 mins i&#39;m sending"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683663998,"post_id":76191442,"comment_id":134400739,"body_markdown":"https://github.com/deepak5812\nthat is my github account \ni&#39;m just now pushing the code can you check why it is not working as asynchronously\nplease","body":"<a href=\"https://github.com/deepak5812\" rel=\"nofollow noreferrer\">github.com/deepak5812</a> that is my github account  i&#39;m just now pushing the code can you check why it is not working as asynchronously please"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683665775,"post_id":76191442,"comment_id":134401040,"body_markdown":"hi xerx593 this is my asynchronous code github link \nhttps://github.com/deepak5812/async_crud_app_with_response_handling\nplease help me to make it fully asynchronous please xerx593","body":"hi xerx593 this is my asynchronous code github link  <a href=\"https://github.com/deepak5812/async_crud_app_with_response_handling\" rel=\"nofollow noreferrer\">github.com/deepak5812/async_crud_app_with_response_handling</a> please help me to make it fully asynchronous please xerx593"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":1,"creation_date":1683665992,"post_id":76191442,"comment_id":134401082,"body_markdown":"are you there ?","body":"are you there ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683666544,"post_id":76191442,"comment_id":134401185,"body_markdown":"what are you requirements/prerequisites? where are the problems? i need to setup database... postgres:latest?","body":"what are you requirements/prerequisites? where are the problems? i need to setup database... postgres:latest?"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683667301,"post_id":76191442,"comment_id":134401301,"body_markdown":"Specifically, I have a &#39;msisdn&#39; column that is a primary key, and I want to return a &#39;bad_req&#39; response if the same number is sent to the application, or a &#39;success&#39; response if it is a new number.\n\nAdditionally, I would like to ensure that the controller is always available to the client even if a previous request is still processing. In other words, I want to implement an asynchronous solution.","body":"Specifically, I have a &#39;msisdn&#39; column that is a primary key, and I want to return a &#39;bad_req&#39; response if the same number is sent to the application, or a &#39;success&#39; response if it is a new number.  Additionally, I would like to ensure that the controller is always available to the client even if a previous request is still processing. In other words, I want to implement an asynchronous solution."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683668497,"post_id":76191442,"comment_id":134401511,"body_markdown":"1. why this &quot;old&quot; stack?(spring-boot:2, java8, mvc, jpa..) 2. how much &quot;data&quot; to you have? (id is integer, so i asume 2^32 is max. number of entities...","body":"1. why this &quot;old&quot; stack?(spring-boot:2, java8, mvc, jpa..) 2. how much &quot;data&quot; to you have? (id is integer, so i asume 2^32 is max. number of entities..."},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683669115,"post_id":76191442,"comment_id":134401594,"body_markdown":"okay,\nbut java should be java8 only","body":"okay, but java should be java8 only"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683718686,"post_id":76191442,"comment_id":134408876,"body_markdown":"Hi xerx593 is it done because i saw your commits on the repo ?","body":"Hi xerx593 is it done because i saw your commits on the repo ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683720140,"post_id":76191442,"comment_id":134409253,"body_markdown":"what you mean by &quot;done&quot;? have you answered any of my questions except (very poorly) &quot;java8&quot;? ..for 2^32 &quot;subscribers&quot; (persistence left aside) i wouldn&#39;t even run a database, but &quot;serve the dudes&quot; from a &quot;hash set/map&quot; :) If your requirements are very &quot;technical&quot;, you must (first) provide a test! (wich approves/fails your requirements)","body":"what you mean by &quot;done&quot;? have you answered any of my questions except (very poorly) &quot;java8&quot;? ..for 2^32 &quot;subscribers&quot; (persistence left aside) i wouldn&#39;t even run a database, but &quot;serve the dudes&quot; from a &quot;hash set/map&quot; :) If your requirements are very &quot;technical&quot;, you must (first) provide a test! (wich approves/fails your requirements)"},{"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"score":0,"creation_date":1683722035,"post_id":76191442,"comment_id":134409774,"body_markdown":"Hello @xerx593, the main requirement for this task is to ensure that asynchronous CRUD operations are performed with proper response handling for each request. Additionally, Java 8 is required for this task. Based on the code that you have seen, you may modify the controller and services as needed to meet these requirements. Please let me know if any additional changes are required to make it fully asynchronous. Thank you.","body":"Hello @xerx593, the main requirement for this task is to ensure that asynchronous CRUD operations are performed with proper response handling for each request. Additionally, Java 8 is required for this task. Based on the code that you have seen, you may modify the controller and services as needed to meet these requirements. Please let me know if any additional changes are required to make it fully asynchronous. Thank you."}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":19,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683415256,"creation_date":1683411959,"answer_id":76191442,"question_id":76191049,"body_markdown":"`Thread.sleep(1000000000);` seems too much for a (build) test ... That refers to ~ 12 (solar) days!\r\n\r\n### This works\r\n\r\n- [starter](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok,devtools)\r\n\r\n- &quot;App&quot;:\r\n  ```lang-java\r\n  package com.example.demo;\r\n\r\n  import java.util.UUID;\r\n  import java.util.concurrent.CompletableFuture;\r\n  import java.util.concurrent.TimeUnit;\r\n\r\n  import org.springframework.beans.factory.annotation.Autowired;\r\n  import org.springframework.beans.factory.annotation.Value;\r\n  import org.springframework.boot.SpringApplication;\r\n  import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n  import org.springframework.scheduling.annotation.Async;\r\n  import org.springframework.scheduling.annotation.EnableAsync;\r\n  import org.springframework.stereotype.Controller;\r\n  import org.springframework.stereotype.Service;\r\n  import org.springframework.web.bind.annotation.GetMapping;\r\n  import org.springframework.web.bind.annotation.RequestParam;\r\n  import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n  import lombok.extern.slf4j.Slf4j;\r\n\r\n  @EnableAsync\r\n  @SpringBootApplication\r\n  public class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n      SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Slf4j\r\n    @Service\r\n    static class MyAsyService {\r\n      @Value(&quot;${simulation.sleep.seconds:10}&quot;)\r\n      private Long simSeconds;\r\n\r\n      @Async\r\n      CompletableFuture&lt;String&gt; doSomething(String req) throws InterruptedException {\r\n        log.info(&quot;in service...&quot;);\r\n        TimeUnit.SECONDS.sleep(simSeconds);\r\n        log.info(&quot;...leaving service&quot;);\r\n        return CompletableFuture.completedFuture(req + &quot;_&quot; + UUID.randomUUID());\r\n      }\r\n    }\r\n\r\n    @Slf4j\r\n    @Controller\r\n    static class MyController {\r\n      @Autowired\r\n      MyAsyService service;\r\n\r\n      @GetMapping(&quot;/hello&quot;)\r\n      @ResponseBody\r\n      CompletableFuture&lt;String&gt; hello(@RequestParam(required = false, defaultValue = &quot;anonymous&quot;) String req)\r\n          throws InterruptedException {\r\n        log.info(&quot;in controller...&quot;);\r\n        CompletableFuture&lt;String&gt; result = service.doSomething(req);\r\n        log.info(&quot;...controller done!&quot;);\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n  ```\r\n- in browser:\r\n  [![browser screenshot][1]][1]\r\n- in server logs:\r\n  ```lang-text\r\n  ... o.s.web.servlet.DispatcherServlet    : Completed initialization in 1 ms\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#1\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#2\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#3\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ```\r\n- (automatic, mock mvc) test (hardest part;):\r\n  ```\r\n  package com.example.demo;\r\n\r\n  import static org.hamcrest.core.StringStartsWith.startsWith;\r\n  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n  import java.util.UUID;\r\n\r\n  import org.junit.jupiter.api.Test;\r\n  import org.springframework.beans.factory.annotation.Autowired;\r\n  import org.springframework.beans.factory.annotation.Value;\r\n  import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n  import org.springframework.mock.web.MockHttpServletRequest;\r\n  import org.springframework.test.web.servlet.MockMvc;\r\n  import org.springframework.test.web.servlet.MvcResult;\r\n  import org.springframework.test.web.servlet.RequestBuilder;\r\n\r\n  @WebMvcTest\r\n  class DemoApplicationTests {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\t@Value(&quot;${simulation.sleep.seconds}&quot;) // -&gt; src/test/resources/application.properties\r\n\tLong simSeconds;\r\n\r\n    @Test\r\n    void testController() throws Exception {\r\n      String uid = UUID.randomUUID().toString();\r\n      MvcResult mvcResult = mockMvc.perform(get(&quot;/hello?req={v}&quot;, uid)) //1.\r\n          .andExpect(request().asyncStarted()) // 2.\r\n          .andReturn(); // 3.\r\n\r\n      mockMvc.perform(asyncDispatch(mvcResult/*, (simSeconds + 1) * 1000*/)) // 4!*\r\n          .andExpectAll( // ...\r\n              status().isOk(),\r\n              content().string(startsWith(uid)));\r\n    }\r\n    // 4*: when we take/simulate more than ~10 seconds, we have to &amp; can re-implement/enrich:\r\n    static RequestBuilder asyncDispatch(MvcResult mvcResult, long timeToWait) {\r\n\r\n\t\t// copied/adopted from MockMvcRequestBuilders#asyncDispatch\r\n\t\tmvcResult.getAsyncResult(timeToWait);\r\n\r\n\t\treturn servletContext -&gt; {\r\n\t\t\tMockHttpServletRequest request = mvcResult.getRequest();\r\n\t\t\trequest.setDispatcherType(DispatcherType.ASYNC);\r\n\t\t\trequest.setAsyncStarted(false);\r\n\t\t\treturn request;\r\n\t\t};\r\n\t}\r\n  }\r\n  ```   \r\n### Thx To\r\n- https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/\r\n- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)\r\n\r\n\r\n----------\r\nChanging service to:\r\n```\r\nCompletableFuture.supplyAsync(() -&gt;{\r\n  try { //...\r\n```\r\n..has no significant effect.\r\n\r\n  [1]: https://i.stack.imgur.com/2wGFE.png","title":"Controller waiting even after using async and completable future","body":"<p><code>Thread.sleep(1000000000);</code> seems too much for a (build) test ... That refers to ~ 12 (solar) days!</p>\n<h3>This works</h3>\n<ul>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok,devtools\" rel=\"nofollow noreferrer\">starter</a></p>\n</li>\n<li><p>&quot;App&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.UUID;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@EnableAsync\n@SpringBootApplication\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Slf4j\n  @Service\n  static class MyAsyService {\n    @Value(&quot;${simulation.sleep.seconds:10}&quot;)\n    private Long simSeconds;\n\n    @Async\n    CompletableFuture&lt;String&gt; doSomething(String req) throws InterruptedException {\n      log.info(&quot;in service...&quot;);\n      TimeUnit.SECONDS.sleep(simSeconds);\n      log.info(&quot;...leaving service&quot;);\n      return CompletableFuture.completedFuture(req + &quot;_&quot; + UUID.randomUUID());\n    }\n  }\n\n  @Slf4j\n  @Controller\n  static class MyController {\n    @Autowired\n    MyAsyService service;\n\n    @GetMapping(&quot;/hello&quot;)\n    @ResponseBody\n    CompletableFuture&lt;String&gt; hello(@RequestParam(required = false, defaultValue = &quot;anonymous&quot;) String req)\n        throws InterruptedException {\n      log.info(&quot;in controller...&quot;);\n      CompletableFuture&lt;String&gt; result = service.doSomething(req);\n      log.info(&quot;...controller done!&quot;);\n      return result;\n    }\n  }\n}\n</code></pre>\n</li>\n<li><p>in browser:\n<a href=\"https://i.stack.imgur.com/2wGFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wGFE.png\" alt=\"browser screenshot\" /></a></p>\n</li>\n<li><p>in server logs:</p>\n<pre class=\"lang-text prettyprint-override\"><code>... o.s.web.servlet.DispatcherServlet    : Completed initialization in 1 ms\n... DemoApplication$MyController : in controller.... &lt;= req#1\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n... DemoApplication$MyController : in controller.... &lt;= req#2\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n... DemoApplication$MyController : in controller.... &lt;= req#3\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n</code></pre>\n</li>\n<li><p>(automatic, mock mvc) test (hardest part;):</p>\n<pre><code>package com.example.demo;\n\nimport static org.hamcrest.core.StringStartsWith.startsWith;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport java.util.UUID;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\n\n@WebMvcTest\nclass DemoApplicationTests {\n\n  @Autowired\n  MockMvc mockMvc;\n  @Value(&quot;${simulation.sleep.seconds}&quot;) // -&gt; src/test/resources/application.properties\n  Long simSeconds;\n\n  @Test\n  void testController() throws Exception {\n    String uid = UUID.randomUUID().toString();\n    MvcResult mvcResult = mockMvc.perform(get(&quot;/hello?req={v}&quot;, uid)) //1.\n        .andExpect(request().asyncStarted()) // 2.\n        .andReturn(); // 3.\n\n    mockMvc.perform(asyncDispatch(mvcResult/*, (simSeconds + 1) * 1000*/)) // 4!*\n        .andExpectAll( // ...\n            status().isOk(),\n            content().string(startsWith(uid)));\n  }\n  // 4*: when we take/simulate more than ~10 seconds, we have to &amp; can re-implement/enrich:\n  static RequestBuilder asyncDispatch(MvcResult mvcResult, long timeToWait) {\n\n      // copied/adopted from MockMvcRequestBuilders#asyncDispatch\n      mvcResult.getAsyncResult(timeToWait);\n\n      return servletContext -&gt; {\n          MockHttpServletRequest request = mvcResult.getRequest();\n          request.setDispatcherType(DispatcherType.ASYNC);\n          request.setAsyncStarted(false);\n          return request;\n      };\n  }\n}\n</code></pre>\n</li>\n</ul>\n<h3>Thx To</h3>\n<ul>\n<li><a href=\"https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/\" rel=\"nofollow noreferrer\">https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)</a></li>\n</ul>\n<hr />\n<p>Changing service to:</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt;{\n  try { //...\n</code></pre>\n<p>..has no significant effect.</p>\n"}],"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683415256,"creation_date":1683405821,"question_id":76191049,"body_markdown":"I am developing a Spring Boot application where I want to make my controller asynchronous using CompletableFuture and the @Async annotation. To test the implementation, I intentionally added a Thread.sleep() call in the service method. However, even with these asynchronous approaches, the controller is still waiting for some time before executing. I have verified that my controller and service are running on different threads, as evidenced by their distinct thread IDs. I am unsure why this is happening, and I would appreciate any insights or suggestions on how to resolve this issue.\r\n\r\ncode is given below:\r\n```\r\n//controller\r\n  @PostMapping\r\n    public CompletableFuture&lt;User&gt; createUser(@RequestBody User user) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;----------&quot;+&quot;inside controller&quot;);\r\n        return userService.createUser(user);\r\n    }\r\n```\r\n\r\n// service\r\n\r\n```\r\n   @Override\r\n    @Async(&quot;asyncExecutor&quot;)\r\n    public CompletableFuture&lt;User&gt; createUser(User user) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\r\n        return CompletableFuture.supplyAsync(() -&gt;{\r\n            try {\r\n                Thread.sleep(1000000000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(Thread.currentThread().getId());\r\n           return userRepository.save(user);\r\n        });\r\n    }\r\n\r\n```\r\n\r\nIt would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.\r\n\r\n//output\r\n```\r\n21-----------------------------------1683404458540----------inside controller\r\n34-----------------------------------1683404458543-------------inside services\r\n2023-05-07 01:51:28.812  WARN 36119 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]\r\n\r\n```","title":"Controller waiting even after using async and completable future","body":"<p>I am developing a Spring Boot application where I want to make my controller asynchronous using CompletableFuture and the @Async annotation. To test the implementation, I intentionally added a Thread.sleep() call in the service method. However, even with these asynchronous approaches, the controller is still waiting for some time before executing. I have verified that my controller and service are running on different threads, as evidenced by their distinct thread IDs. I am unsure why this is happening, and I would appreciate any insights or suggestions on how to resolve this issue.</p>\n<p>code is given below:</p>\n<pre><code>//controller\n  @PostMapping\n    public CompletableFuture&lt;User&gt; createUser(@RequestBody User user) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;----------&quot;+&quot;inside controller&quot;);\n        return userService.createUser(user);\n    }\n</code></pre>\n<p>// service</p>\n<pre><code>   @Override\n    @Async(&quot;asyncExecutor&quot;)\n    public CompletableFuture&lt;User&gt; createUser(User user) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\n        return CompletableFuture.supplyAsync(() -&gt;{\n            try {\n                Thread.sleep(1000000000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(Thread.currentThread().getId());\n           return userRepository.save(user);\n        });\n    }\n\n</code></pre>\n<p>It would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.</p>\n<p>//output</p>\n<pre><code>21-----------------------------------1683404458540----------inside controller\n34-----------------------------------1683404458543-------------inside services\n2023-05-07 01:51:28.812  WARN 36119 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610727,"post_id":75351717,"comment_id":132962150,"body_markdown":"`In my app I need access to permission READ_EXTERNAL_STORAGE` Not if your app runs on a device with Android 13+.","body":"<code>In my app I need access to permission READ_EXTERNAL_STORAGE</code> Not if your app runs on a device with Android 13+."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610789,"post_id":75351717,"comment_id":132962168,"body_markdown":"And READ_MEDIA_IMAGES you will need only for Android 13+ devices.","body":"And READ_MEDIA_IMAGES you will need only for Android 13+ devices."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1675724029,"post_id":75351717,"comment_id":132987079,"body_markdown":"Android 11+ needs MANAGE_STORAGE permission instead. And try to use WRITE_EXTERNAL_STORAGE. Coz&#39; it has both read and write. No one would just READ something without need of WRITING","body":"Android 11+ needs MANAGE_STORAGE permission instead. And try to use WRITE_EXTERNAL_STORAGE. Coz&#39; it has both read and write. No one would just READ something without need of WRITING"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683441900,"post_id":76191530,"comment_id":134365343,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76191530/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25877819,"reputation":1,"user_id":19607465,"display_name":"Executrix Apps"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683413818,"creation_date":1683413818,"answer_id":76191530,"question_id":75351717,"body_markdown":"    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.RequestPermission(),\r\n                    isGranted-&gt;{\r\n                if (isGranted){\r\n                    is_audio_Storage_permitted = true;\r\n                }else{\r\n                    is_media_Storage_permitted = false;\r\n                    sendToDialog();\r\n                }\r\n\r\n    });\r\n     public void sendToDialog(){\r\n        AlertDialog builder = new AlertDialog.Builder(MainActivity.this)\r\n                .setTitle(&quot;Alert for Permission&quot;)\r\n                .setMessage(&quot;Go to setting&quot;)\r\n                .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        Intent mIntent = new Intent();\r\n                        mIntent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                        Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                        rIntent.setData(uri);\r\n                        startActivity(rIntent);\r\n                        dialog.dismiss();\r\n                    }\r\n                }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.dismiss();\r\n                        finish();\r\n                    }\r\n                }).show();\r\n    }","title":"Android permission dialog not showing","body":"<pre><code>private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n        registerForActivityResult(new ActivityResultContracts.RequestPermission(),\n                isGranted-&gt;{\n            if (isGranted){\n                is_audio_Storage_permitted = true;\n            }else{\n                is_media_Storage_permitted = false;\n                sendToDialog();\n            }\n\n});\n public void sendToDialog(){\n    AlertDialog builder = new AlertDialog.Builder(MainActivity.this)\n            .setTitle(&quot;Alert for Permission&quot;)\n            .setMessage(&quot;Go to setting&quot;)\n            .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    Intent mIntent = new Intent();\n                    mIntent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                    rIntent.setData(uri);\n                    startActivity(rIntent);\n                    dialog.dismiss();\n                }\n            }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    dialog.dismiss();\n                    finish();\n                }\n            }).show();\n}\n</code></pre>\n"}],"owner":{"account_id":20248890,"reputation":21,"user_id":14850587,"display_name":"f_for_myself"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683413818,"creation_date":1675594555,"question_id":75351717,"body_markdown":"In my app I need access to permission READ_EXTERNAL_STORAGE\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:preserveLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.NoteApp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.CreateNoteActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.NoteApp.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nIn my code I check If I already have permissions, and if NOT:\r\n\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_note);\r\n\r\n        ImageView imageBack = findViewById(R.id.imageBack);\r\n        imageBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n        inputNoteTitle = findViewById(R.id.inputNoteTitle);\r\n        inputNoteText = findViewById(R.id.inputNote);\r\n        textDateTime = findViewById(R.id.textDateTime);\r\n        imageNote = findViewById(R.id.imageNote);\r\n\r\n        textDateTime.setText(\r\n                new SimpleDateFormat(&quot;EEEE, dd MMMM yyyy HH:mm a&quot;, Locale.getDefault())\r\n                        .format(new Date())\r\n        );\r\n\r\n        ImageView imageSave = findViewById(R.id.imageSave);\r\n        imageSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                saveNote();\r\n            }\r\n        });\r\n\r\n        ImageView imageAddImage = findViewById(R.id.imageAddImage);\r\n        imageAddImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int requestPermission = ContextCompat.checkSelfPermission(\r\n                        getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\r\n                );\r\n                if (requestPermission != PackageManager.PERMISSION_GRANTED){\r\n                    ActivityCompat.requestPermissions(\r\n                            CreateNoteActivity.this,\r\n                            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                            REQUEST_CODE_STORAGE_PERMISSION\r\n                    );\r\n                }\r\n                else {\r\n                    selectImage();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\r\n            Log.d(&quot;DEBUG&quot;, &quot;&quot; + grantResults[0]);\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                selectImage();\r\n            }\r\n            else {\r\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nBut the permissions dialog never shows, let alone is onRequestPermissionsResult() called.\r\n\r\nI don&#39;t know why the dialog doesn&#39;t show when i use READ_EXTERNAL_STORAGE but it work with READ_MEDIA_IMAGES.","title":"Android permission dialog not showing","body":"<p>In my app I need access to permission READ_EXTERNAL_STORAGE</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:preserveLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.NoteApp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.activities.CreateNoteActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.NoteApp.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>In my code I check If I already have permissions, and if NOT:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_note);\n\n        ImageView imageBack = findViewById(R.id.imageBack);\n        imageBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                onBackPressed();\n            }\n        });\n\n        inputNoteTitle = findViewById(R.id.inputNoteTitle);\n        inputNoteText = findViewById(R.id.inputNote);\n        textDateTime = findViewById(R.id.textDateTime);\n        imageNote = findViewById(R.id.imageNote);\n\n        textDateTime.setText(\n                new SimpleDateFormat(&quot;EEEE, dd MMMM yyyy HH:mm a&quot;, Locale.getDefault())\n                        .format(new Date())\n        );\n\n        ImageView imageSave = findViewById(R.id.imageSave);\n        imageSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                saveNote();\n            }\n        });\n\n        ImageView imageAddImage = findViewById(R.id.imageAddImage);\n        imageAddImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int requestPermission = ContextCompat.checkSelfPermission(\n                        getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\n                );\n                if (requestPermission != PackageManager.PERMISSION_GRANTED){\n                    ActivityCompat.requestPermissions(\n                            CreateNoteActivity.this,\n                            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\n                            REQUEST_CODE_STORAGE_PERMISSION\n                    );\n                }\n                else {\n                    selectImage();\n                }\n            }\n        });\n    }\n\n @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\n            Log.d(&quot;DEBUG&quot;, &quot;&quot; + grantResults[0]);\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                selectImage();\n            }\n            else {\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>But the permissions dialog never shows, let alone is onRequestPermissionsResult() called.</p>\n<p>I don't know why the dialog doesn't show when i use READ_EXTERNAL_STORAGE but it work with READ_MEDIA_IMAGES.</p>\n"},{"tags":["java","pem","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"score":0,"creation_date":1289413570,"post_id":4146624,"comment_id":4474789,"body_markdown":"Or, is there another format file (besides PEM) that would make this easier to implement?","body":"Or, is there another format file (besides PEM) that would make this easier to implement?"}],"answers":[{"comments":[{"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"score":1,"creation_date":1291325856,"post_id":4325718,"comment_id":4719071,"body_markdown":"The KeyManagerFactory is the way I needed to go. I really wanted to use a PEM file (since that&#39;s what I had). I didn&#39;t realize it would be so messy to try and convert it to a different format on the fly.  I ended up converting it to DER format using openssl.","body":"The KeyManagerFactory is the way I needed to go. I really wanted to use a PEM file (since that&#39;s what I had). I didn&#39;t realize it would be so messy to try and convert it to a different format on the fly.  I ended up converting it to DER format using openssl."}],"tags":[],"owner":{"account_id":238657,"reputation":7626,"user_id":507697,"accept_rate":75,"display_name":"Dirk-Willem van Gulik"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1447338467,"creation_date":1291216024,"answer_id":4325718,"question_id":4146624,"body_markdown":"Easiest may well be to use the .p12 format (though the others work fine too - just be careful with extra lines outside the base64 blocks) and add something like:\r\n\r\n    // systems I trust\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;foo&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n    // my credentials\r\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;cert.p12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\r\nOr alternatively - use things like\r\n\r\n        KeyStore ks = KeyStore.getInstance( &quot;pkcs12&quot; );\r\n        ks.load( new FileInputStream( ....), &quot;mypassword&quot;.toCharArray() );\r\n\r\n        KeyStore jks = KeyStore.getInstance( &quot;JKS&quot; );\r\n        ks.load(...\r\n\r\nto create above on the fly instead. And rather than rely on the system property - use somethng like:\r\n\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        kmf.init(aboveKeyStore, &quot;changeme&quot;.toCharArray());\r\n        sslContext = SSLContext.getInstance(&quot;SSLv3&quot;);\r\n        sslContext.init(kmf.getKeyManagers(), null, null);\r\n\r\nwhich keeps it separate from keystore.\r\n\r\nDW.","title":"Apache HttpClient and PEM certificate files","body":"<p>Easiest may well be to use the .p12 format (though the others work fine too - just be careful with extra lines outside the base64 blocks) and add something like:</p>\n\n<pre><code>// systems I trust\nSystem.setProperty(\"javax.net.ssl.trustStore\", \"foo\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n\n// my credentials\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"PKCS12\");\nSystem.setProperty(\"javax.net.ssl.keyStore\", \"cert.p12\");\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\", \"changeit\");\n</code></pre>\n\n<p>Or alternatively - use things like</p>\n\n<pre><code>    KeyStore ks = KeyStore.getInstance( \"pkcs12\" );\n    ks.load( new FileInputStream( ....), \"mypassword\".toCharArray() );\n\n    KeyStore jks = KeyStore.getInstance( \"JKS\" );\n    ks.load(...\n</code></pre>\n\n<p>to create above on the fly instead. And rather than rely on the system property - use somethng like:</p>\n\n<pre><code>    KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n    kmf.init(aboveKeyStore, \"changeme\".toCharArray());\n    sslContext = SSLContext.getInstance(\"SSLv3\");\n    sslContext.init(kmf.getKeyManagers(), null, null);\n</code></pre>\n\n<p>which keeps it separate from keystore.</p>\n\n<p>DW.</p>\n"},{"comments":[{"owner":{"account_id":70581,"reputation":1275,"user_id":1289628,"accept_rate":43,"display_name":"Subhash Chandran"},"score":0,"creation_date":1469297752,"post_id":25316628,"comment_id":64481793,"body_markdown":"This code did not work for me because: (1) pem files have `-----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE-----` that needs to be removed before `generateCertificates()` can be done; (2) it does not take into consideration the private key embedded in the `.pem` file. Correct solution is available here: http://stackoverflow.com/questions/12501117/programmatically-obtain-keystore-from-pem","body":"This code did not work for me because: (1) pem files have <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code> that needs to be removed before <code>generateCertificates()</code> can be done; (2) it does not take into consideration the private key embedded in the <code>.pem</code> file. Correct solution is available here: <a href=\"http://stackoverflow.com/questions/12501117/programmatically-obtain-keystore-from-pem\" title=\"programmatically obtain keystore from pem\">stackoverflow.com/questions/12501117/&hellip;</a>"}],"tags":[],"owner":{"account_id":279546,"reputation":700,"user_id":574776,"display_name":"shreyas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1408046456,"creation_date":1408046456,"answer_id":25316628,"question_id":4146624,"body_markdown":"You can create a `KeyStore` from `.pem` files like so: \r\n\r\n    private KeyStore getTrustStore(final InputStream pathToPemFile) throws IOException, KeyStoreException,\r\n            NoSuchAlgorithmException, CertificateException {\r\n        final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        ks.load(null);\r\n\r\n        // load all certs\r\n        for (Certificate cert : CertificateFactory.getInstance(&quot;X509&quot;)\r\n                .generateCertificates(pathToPemFile)) {\r\n            final X509Certificate crt = (X509Certificate) cert;\r\n\r\n            try {\r\n                final String alias = crt.getSubjectX500Principal().getName();\r\n                ks.setCertificateEntry(alias, crt);\r\n                LOG.info(&quot;Added alias &quot; + alias + &quot; to TrustStore&quot;);\r\n            } catch (KeyStoreException exp) {\r\n                LOG.error(exp.getMessage());\r\n            }\r\n        }\r\n\r\n        return ks;\r\n    }","title":"Apache HttpClient and PEM certificate files","body":"<p>You can create a <code>KeyStore</code> from <code>.pem</code> files like so: </p>\n\n<pre><code>private KeyStore getTrustStore(final InputStream pathToPemFile) throws IOException, KeyStoreException,\n        NoSuchAlgorithmException, CertificateException {\n    final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n    ks.load(null);\n\n    // load all certs\n    for (Certificate cert : CertificateFactory.getInstance(\"X509\")\n            .generateCertificates(pathToPemFile)) {\n        final X509Certificate crt = (X509Certificate) cert;\n\n        try {\n            final String alias = crt.getSubjectX500Principal().getName();\n            ks.setCertificateEntry(alias, crt);\n            LOG.info(\"Added alias \" + alias + \" to TrustStore\");\n        } catch (KeyStoreException exp) {\n            LOG.error(exp.getMessage());\n        }\n    }\n\n    return ks;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683413618,"creation_date":1683413618,"answer_id":76191525,"question_id":4146624,"body_markdown":"Although there is an accepted answer already, I would like to provide an alternative as it does not provide an actual solution for using pem files directly. It just mentions that the easiest way is to just convert it to a p12 file and use that instead. It is possible to use pem files directly.\r\n\r\nI have provided a similar same answer here: https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\r\n\r\nA code example would be:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.PemUtils;\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.HttpClients;\r\n\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(Paths.get(&quot;/path/to/your/certificate.pem&quot;), Paths.get(&quot;/path/to/your/private-key.pem&quot;));\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(Paths.get(&quot;/path/to/your/some-trusted-certificate.pem&quot;));\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyManager)\r\n                .withTrustMaterial(trustManager)\r\n                .build();\r\n\r\n        HttpClient httpclient = HttpClients.custom()\r\n                .setSSLContext(sslFactory.getSslContext())\r\n                .build();\r\n\r\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\r\n\r\n        HttpResponse response = httpclient.execute(httpget);\r\n        System.out.println(response.getStatusLine().getStatusCode());\r\n        HttpEntity entity = response.getEntity();\r\n    }\r\n}\r\n```\r\n\r\nI need to admit that the solution is based on a library which I have build myself, [GitHub - SSLContext Kickstart][1].\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"Apache HttpClient and PEM certificate files","body":"<p>Although there is an accepted answer already, I would like to provide an alternative as it does not provide an actual solution for using pem files directly. It just mentions that the easiest way is to just convert it to a p12 file and use that instead. It is possible to use pem files directly.</p>\n<p>I have provided a similar same answer here: <a href=\"https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\">How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?</a></p>\n<p>A code example would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.PemUtils;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.HttpClients;\n\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\npublic class App {\n\n    public static void main(String[] args) throws IOException {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(Paths.get(&quot;/path/to/your/certificate.pem&quot;), Paths.get(&quot;/path/to/your/private-key.pem&quot;));\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(Paths.get(&quot;/path/to/your/some-trusted-certificate.pem&quot;));\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyManager)\n                .withTrustMaterial(trustManager)\n                .build();\n\n        HttpClient httpclient = HttpClients.custom()\n                .setSSLContext(sslFactory.getSslContext())\n                .build();\n\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\n\n        HttpResponse response = httpclient.execute(httpget);\n        System.out.println(response.getStatusLine().getStatusCode());\n        HttpEntity entity = response.getEntity();\n    }\n}\n</code></pre>\n<p>I need to admit that the solution is based on a library which I have build myself, <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a>.</p>\n"}],"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10236,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4325718,"answer_count":3,"score":7,"last_activity_date":1683413618,"creation_date":1289406417,"question_id":4146624,"body_markdown":"I&#39;d like to programmatically access a site that requires Client certificates, which I have in PEM files.  In this application I don&#39;t want to add them to my keystore, use keytool, or openssl if I can avoid doing so. I need to deal with them directly in code.\r\n\r\n        HttpClient httpclient = new DefaultHttpClient();\r\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\r\n        \r\n        // TODO: Specify ca.pem and client.pem here?\r\n\r\n        HttpResponse response = httpclient.execute(httpget);\r\n        HttpEntity entity = response.getEntity();\r\n\r\n        if (entity != null) {\r\n            entity.consumeContent();\r\n        }\r\n\r\n        httpclient.getConnectionManager().shutdown();\r\n\r\nHow would I &#39;send&#39; the certificate with the request?","title":"Apache HttpClient and PEM certificate files","body":"<p>I'd like to programmatically access a site that requires Client certificates, which I have in PEM files.  In this application I don't want to add them to my keystore, use keytool, or openssl if I can avoid doing so. I need to deal with them directly in code.</p>\n\n<pre><code>    HttpClient httpclient = new DefaultHttpClient();\n    HttpGet httpget = new HttpGet(\"https://my.secure.site.com/url\");\n\n    // TODO: Specify ca.pem and client.pem here?\n\n    HttpResponse response = httpclient.execute(httpget);\n    HttpEntity entity = response.getEntity();\n\n    if (entity != null) {\n        entity.consumeContent();\n    }\n\n    httpclient.getConnectionManager().shutdown();\n</code></pre>\n\n<p>How would I 'send' the certificate with the request?</p>\n"},{"tags":["java","macos","maven","terminal","jdwp"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683225288,"post_id":76175818,"comment_id":134338118,"body_markdown":"Where is this: `Cannot load this JVM TI agent twice` comming from? Manually configuration?","body":"Where is this: <code>Cannot load this JVM TI agent twice</code> comming from? Manually configuration?"},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1683225796,"post_id":76175818,"comment_id":134338226,"body_markdown":"Probably when I run maven commands, it&#39;s trying to load it in the background. This is what my $MAVEN_OPTS looks like ```% echo $MAVEN_OPTS\n-Xmx4g -Xms2g -server -d64 -XX:MaxPermSize=384m -XX:ReservedCodeCacheSize=64m -XX:-UseConcMarkSweepGC -Dfile.encoding=UTF-8 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -Djava.net.preferIPv4Stack=true -Dfile.encoding=UTF-8 -Djava.awt.headless=true```","body":"Probably when I run maven commands, it&#39;s trying to load it in the background. This is what my $MAVEN_OPTS looks like <code>% echo $MAVEN_OPTS -Xmx4g -Xms2g -server -d64 -XX:MaxPermSize=384m -XX:ReservedCodeCacheSize=64m -XX:-UseConcMarkSweepGC -Dfile.encoding=UTF-8 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,addres&zwnj;&#8203;s=5005 -Djava.net.preferIPv4Stack=true -Dfile.encoding=UTF-8 -Djava.awt.headless=true</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683366660,"post_id":76175818,"comment_id":134358363,"body_markdown":"Why is jdwp configuration set etc... remove all that stuff just try first without any configuration... and the agent? Why is it needed? really need 4 GiB for build? Which version of JDK do you use? -server option would only be neccesary if you are on a 32 bit OS? Remove that as well MaxPermSize etc. is not needed...","body":"Why is jdwp configuration set etc... remove all that stuff just try first without any configuration... and the agent? Why is it needed? really need 4 GiB for build? Which version of JDK do you use? -server option would only be neccesary if you are on a 32 bit OS? Remove that as well MaxPermSize etc. is not needed..."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683412033,"creation_date":1683412033,"answer_id":76191445,"question_id":76175818,"body_markdown":"The Maven you installed using Homebrew is using a newer version of Java than you expect.  This newer version does not support the JVM flags you pass in through the MAVEN_OPTS variable, and therefore refuses to start.\r\n\r\nTo fix it, unset MAVEN_OPTS (or set it to the empty value) and then run Maven.\r\n\r\nThat said, it looks like you have been provided with a set of options for setting up the JVM to have specific characteristics AND running Maven in debug mode so you can attach a debugger.   I would suggest forgetting the first kind until you  prove you have a need for them, and either use Maven in a debug configuration in your IDE or run the `mvnDebug` script (next to the `mvn` script) from the command line for launching Maven so you can attach a debugger.  Note that in my experience you only need this to troubleshoot an Maven error.","title":"Multiple maven version from different sources","body":"<p>The Maven you installed using Homebrew is using a newer version of Java than you expect.  This newer version does not support the JVM flags you pass in through the MAVEN_OPTS variable, and therefore refuses to start.</p>\n<p>To fix it, unset MAVEN_OPTS (or set it to the empty value) and then run Maven.</p>\n<p>That said, it looks like you have been provided with a set of options for setting up the JVM to have specific characteristics AND running Maven in debug mode so you can attach a debugger.   I would suggest forgetting the first kind until you  prove you have a need for them, and either use Maven in a debug configuration in your IDE or run the <code>mvnDebug</code> script (next to the <code>mvn</code> script) from the command line for launching Maven so you can attach a debugger.  Note that in my experience you only need this to troubleshoot an Maven error.</p>\n"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683412033,"creation_date":1683220840,"question_id":76175818,"body_markdown":"I have 2 different versions of maven installed on my MacBook. One is through a company tooling.\r\n```\r\n% mvn -v\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nColorizing...\r\nListening for transport dt_socket at address: 5005\r\nApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 08:22:22-0700)\r\nMaven home: /Users/abc/.bootstrap/packages/maven3.1.1/apache-maven-3.1.1\r\nJava version: 1.8.0_181, vendor: Oracle Corporation\r\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nOne of my projects needs maven version &gt;3.2.5 and I have a newer version through brew\r\n```\r\n% brew list maven\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvn\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnDebug\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnyjp\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/bin/ (4 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/boot/ (2 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/conf/ (3 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/lib/ (75 files)\r\n```\r\n\r\nIf I try to use this directly, I get the following error:\r\n```\r\n% /opt/homebrew/Cellar/maven/3.9.1/bin/mvn -v\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\r\nError occurred during initialization of VM\r\nagent library failed to init: jdwp\r\n```\r\n\r\nHow do I fix it? How do I switch to the new version when building my old project? Maybe I can delete the 3.1.1 version? How would I do that? Please help. Thanks!","title":"Multiple maven version from different sources","body":"<p>I have 2 different versions of maven installed on my MacBook. One is through a company tooling.</p>\n<pre><code>% mvn -v\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nColorizing...\nListening for transport dt_socket at address: 5005\nApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 08:22:22-0700)\nMaven home: /Users/abc/.bootstrap/packages/maven3.1.1/apache-maven-3.1.1\nJava version: 1.8.0_181, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>One of my projects needs maven version &gt;3.2.5 and I have a newer version through brew</p>\n<pre><code>% brew list maven\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvn\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnDebug\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnyjp\n/opt/homebrew/Cellar/maven/3.9.1/libexec/bin/ (4 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/boot/ (2 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/conf/ (3 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/lib/ (75 files)\n</code></pre>\n<p>If I try to use this directly, I get the following error:</p>\n<pre><code>% /opt/homebrew/Cellar/maven/3.9.1/bin/mvn -v\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\nError occurred during initialization of VM\nagent library failed to init: jdwp\n</code></pre>\n<p>How do I fix it? How do I switch to the new version when building my old project? Maybe I can delete the 3.1.1 version? How would I do that? Please help. Thanks!</p>\n"},{"tags":["java","audio","mp3","inputstream","jaudiotagger"],"answers":[{"tags":[],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683410155,"creation_date":1683410155,"answer_id":76191338,"question_id":76191069,"body_markdown":"The problem was fixed by increasing the maven depdendency from 2.2.5 to version 3.0.1:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.jthink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaudiotagger&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"AudioFileIO leaves inputstream opened after giving log warn &quot;No space to find another frame&quot;","body":"<p>The problem was fixed by increasing the maven depdendency from 2.2.5 to version 3.0.1:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.jthink&lt;/groupId&gt;\n    &lt;artifactId&gt;jaudiotagger&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76191338,"answer_count":1,"score":0,"last_activity_date":1683410155,"creation_date":1683406167,"question_id":76191069,"body_markdown":"I am attempting to read a files audio length in Java using the following code:\r\n\r\n`return AudioFileIO.read(new File(audio)).getAudioHeader().getTrackLength() * 1000;`\r\n\r\nThis works and gives me (roughly) the length of the audio file, but leaves an inputstream open, meaning that later on I cant delete the files, atleast not during runtime.\r\nThis is problematic because Im using temporary files here and the directory needs to be cleared.\r\n\r\nThis is the output I get in my console:\r\n    \r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.AbstractID3v2Frame readIdentifier\r\n    WARNING: tmp0.mp3:No space to find another frame:\r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.ID3v24Tag readFrames\r\n    WARNING: tmp0.mp3:Invalid Frame:tmp0.mp3:No space to find another frame\r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.audio.mp3.MP3File readV2Tag\r\n    SEVERE: Could not invoke DirectBuffer method - illegal access`\r\n\r\n\r\nThis is the files metadata, according to (https://www.checkfiletype.com):\r\n\r\n\r\n    File Size\t36 kB\r\n    File Type\tMP3\r\n    File Type Extension\tmp3\r\n    MIME Type\taudio/mpeg\r\n    ID3 Size\t45\r\n    MPEG Audio Version\t2\r\n    Audio Layer\t3\r\n    Audio Bitrate\t128 kbps\r\n    Sample Rate\t24000\r\n    Channel Mode\tSingle Channel\r\n    MS Stereo\tOff\r\n    Intensity Stereo\tOff\r\n    Copyright Flag\tFalse\r\n    Original Media\tTrue\r\n    Emphasis\tNone\r\n    Encoder Settings\tLavf58.76.100\r\n    Duration\t2.30 s (approx)\r\n\r\nI cant entirely seem to understand what the problem is thats making it throw that warning. Is the metadata faulty? If so, what can I do to fix it? Im getting the .mp3 through an API.\r\nIs there a different class I could use? The AudioSystem/AudioInputStream classes didnt work either and threw an error, saying the file type is unsupported.\r\n\r\nThanks in advance!","title":"AudioFileIO leaves inputstream opened after giving log warn &quot;No space to find another frame&quot;","body":"<p>I am attempting to read a files audio length in Java using the following code:</p>\n<p><code>return AudioFileIO.read(new File(audio)).getAudioHeader().getTrackLength() * 1000;</code></p>\n<p>This works and gives me (roughly) the length of the audio file, but leaves an inputstream open, meaning that later on I cant delete the files, atleast not during runtime.\nThis is problematic because Im using temporary files here and the directory needs to be cleared.</p>\n<p>This is the output I get in my console:</p>\n<pre><code>Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.AbstractID3v2Frame readIdentifier\nWARNING: tmp0.mp3:No space to find another frame:\nMai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.ID3v24Tag readFrames\nWARNING: tmp0.mp3:Invalid Frame:tmp0.mp3:No space to find another frame\nMai 06, 2023 10:30:13 PM org.jaudiotagger.audio.mp3.MP3File readV2Tag\nSEVERE: Could not invoke DirectBuffer method - illegal access`\n</code></pre>\n<p>This is the files metadata, according to (<a href=\"https://www.checkfiletype.com\" rel=\"nofollow noreferrer\">https://www.checkfiletype.com</a>):</p>\n<pre><code>File Size   36 kB\nFile Type   MP3\nFile Type Extension mp3\nMIME Type   audio/mpeg\nID3 Size    45\nMPEG Audio Version  2\nAudio Layer 3\nAudio Bitrate   128 kbps\nSample Rate 24000\nChannel Mode    Single Channel\nMS Stereo   Off\nIntensity Stereo    Off\nCopyright Flag  False\nOriginal Media  True\nEmphasis    None\nEncoder Settings    Lavf58.76.100\nDuration    2.30 s (approx)\n</code></pre>\n<p>I cant entirely seem to understand what the problem is thats making it throw that warning. Is the metadata faulty? If so, what can I do to fix it? Im getting the .mp3 through an API.\nIs there a different class I could use? The AudioSystem/AudioInputStream classes didnt work either and threw an error, saying the file type is unsupported.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","postgresql","thymeleaf","ioutils"],"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":1,"creation_date":1683403548,"post_id":76190618,"comment_id":134362511,"body_markdown":"I&#39;m not quite sure what the surronding context of your snippet looks like, so the following is just a wild guess and might not solve your problem: at first glance, to me using `*{}` does not seem necessary. `*{}` is used to access fields of the object set in `th:object` in the parent element. Maybe try `${&#39;data:image/jpeg;base64,&#39;+encodedImage}`","body":"I&#39;m not quite sure what the surronding context of your snippet looks like, so the following is just a wild guess and might not solve your problem: at first glance, to me using <code>*{}</code> does not seem necessary. <code>*{}</code> is used to access fields of the object set in <code>th:object</code> in the parent element. Maybe try <code>${&#39;data:image&#47;jpeg;base64,&#39;+encodedImage}</code>"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683408916,"creation_date":1683408916,"answer_id":76191259,"question_id":76190618,"body_markdown":"You can&#39;t nest expressions like you are doing -- `*{ ... ${ ... } ... }` is not valid Thymeleaf syntax.  See the Thymeleaf documentation on [appending texts][1].  In most cases, literal substitutions I think are most expressive.\r\n\r\n    &lt;img th:src=&quot;|data:image/jpeg;base64,${encodedImage}|&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\nOr if you prefer regular String concatenation.\r\n\r\n    &lt;img th:src=&quot;&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n    \r\n    or\r\n    \r\n    &lt;img th:src=&quot;${&#39;data:image/jpeg;base64,&#39;+ encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#appending-texts","title":"Getting exceptions while trying to display encoded images with Thymeleaf (Java, Spring Boot)","body":"<p>You can't nest expressions like you are doing -- <code>*{ ... ${ ... } ... }</code> is not valid Thymeleaf syntax.  See the Thymeleaf documentation on <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#appending-texts\" rel=\"nofollow noreferrer\">appending texts</a>.  In most cases, literal substitutions I think are most expressive.</p>\n<pre><code>&lt;img th:src=&quot;|data:image/jpeg;base64,${encodedImage}|&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n<p>Or if you prefer regular String concatenation.</p>\n<pre><code>&lt;img th:src=&quot;'data:image/jpeg;base64,'+ ${encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\n\nor\n\n&lt;img th:src=&quot;${'data:image/jpeg;base64,'+ encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76191259,"answer_count":1,"score":1,"last_activity_date":1683408916,"creation_date":1683399701,"question_id":76190618,"body_markdown":"So, i have a form that allows user to upload an image, which will be encoded with IOUtils.toByteArray and persisted to a database as a bytea. In a controller method i get this byte array and encode it to string:\r\n\r\n    @GetMapping(&quot;/{user_id}&quot;)\r\n    public String view(@PathVariable(&quot;user_id&quot;) Long user_id, Model model) {\r\n        User user = userService.getById(user_id);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        byte[] profilePictureBytes = user.getProfilePicture();\r\n\r\n        if (profilePictureBytes != null) {\r\n            String encodedImage = Base64.getEncoder().encodeToString(profilePictureBytes);\r\n            model.addAttribute(&quot;encodedImage&quot;, encodedImage);\r\n        }\r\n        return &quot;user-page&quot;;\r\n    }\r\n\r\nOn a user-page html file i try to decode it like this:\r\n\r\n    &lt;img th:src=&quot;*{&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\nbut it keeps throwing the same 2 exceptions:\r\n\r\n    org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}&quot; (template: &quot;user-page&quot; - line 27, col 6\r\n\r\n    org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;\r\n\r\nWhile debugging, the &quot;encodedImage&quot; variable prints out a correct string, so the problem must be within my Thymeleaf syntax.\r\n\r\nWould be really grateful if someone could give me a hand with this one.","title":"Getting exceptions while trying to display encoded images with Thymeleaf (Java, Spring Boot)","body":"<p>So, i have a form that allows user to upload an image, which will be encoded with IOUtils.toByteArray and persisted to a database as a bytea. In a controller method i get this byte array and encode it to string:</p>\n<pre><code>@GetMapping(&quot;/{user_id}&quot;)\npublic String view(@PathVariable(&quot;user_id&quot;) Long user_id, Model model) {\n    User user = userService.getById(user_id);\n    model.addAttribute(&quot;user&quot;, user);\n    byte[] profilePictureBytes = user.getProfilePicture();\n\n    if (profilePictureBytes != null) {\n        String encodedImage = Base64.getEncoder().encodeToString(profilePictureBytes);\n        model.addAttribute(&quot;encodedImage&quot;, encodedImage);\n    }\n    return &quot;user-page&quot;;\n}\n</code></pre>\n<p>On a user-page html file i try to decode it like this:</p>\n<pre><code>&lt;img th:src=&quot;*{'data:image/jpeg;base64,'+ ${encodedImage}}&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n<p>but it keeps throwing the same 2 exceptions:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;'data:image/jpeg;base64,'+ ${encodedImage}&quot; (template: &quot;user-page&quot; - line 27, col 6\n\norg.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)'\n</code></pre>\n<p>While debugging, the &quot;encodedImage&quot; variable prints out a correct string, so the problem must be within my Thymeleaf syntax.</p>\n<p>Would be really grateful if someone could give me a hand with this one.</p>\n"},{"tags":["java","exception","types","constructor","constructor-overloading"],"answers":[{"tags":[],"owner":{"account_id":13947240,"reputation":131,"user_id":10071696,"display_name":"H.Syd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683407205,"creation_date":1683407205,"answer_id":76191147,"question_id":76191080,"body_markdown":"You need to put an &quot;f&quot; behind a float and an &quot;l&quot; behind a long, so that java knows what type constructor you actually want. It does not know, whether 2.33 is supposed to be a double or a float. Therefore you need to specify it in this case.\r\n\r\nThis is correct:\r\n\r\n    Test ob = new Test(1l, 2, 4.14); //fixed //Line5\r\n    Test ob1 = new Test(1, 2.33f, 4.14); //fixed //Line6","title":"Constructor parameter with int and long or double and float throwing error","body":"<p>You need to put an &quot;f&quot; behind a float and an &quot;l&quot; behind a long, so that java knows what type constructor you actually want. It does not know, whether 2.33 is supposed to be a double or a float. Therefore you need to specify it in this case.</p>\n<p>This is correct:</p>\n<pre><code>Test ob = new Test(1l, 2, 4.14); //fixed //Line5\nTest ob1 = new Test(1, 2.33f, 4.14); //fixed //Line6\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1683424591,"post_id":76191164,"comment_id":134364366,"body_markdown":"The way you are looking at that is like writing public Test(T I, T n) a number of times and public Test(T a, T b, T c) a number of times, why not decide how someone would make and use and instantiate call to each overload and screen it to allow correct input, sensibly, it may not and then not require as many or any overloadings.","body":"The way you are looking at that is like writing public Test(T I, T n) a number of times and public Test(T a, T b, T c) a number of times, why not decide how someone would make and use and instantiate call to each overload and screen it to allow correct input, sensibly, it may not and then not require as many or any overloadings."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1683452181,"post_id":76191164,"comment_id":134366326,"body_markdown":"Sorry can&#39;t really follow. What&#39;s your point? That OP should be using Generics?. It might make sense, it might not. Really hard to tell since the code does not do anything meaningful. I was just explaining why the compiler has a problem with OP&#39;s code and how to easily resolve those errors.","body":"Sorry can&#39;t really follow. What&#39;s your point? That OP should be using Generics?. It might make sense, it might not. Really hard to tell since the code does not do anything meaningful. I was just explaining why the compiler has a problem with OP&#39;s code and how to easily resolve those errors."},{"owner":{"account_id":12920207,"reputation":21,"user_id":9342976,"display_name":"user9342976"},"score":0,"creation_date":1683613385,"post_id":76191164,"comment_id":134389106,"body_markdown":"Can you please elaborate what you meant by &quot;the compiler would automatically do the type casts&quot;","body":"Can you please elaborate what you meant by &quot;the compiler would automatically do the type casts&quot;"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1683615940,"post_id":76191164,"comment_id":134389564,"body_markdown":"The Java compiler does upcasting (widening) like e.g. `int` -&gt; `long` for you since it&#39;s safe meaning the conversion will always succeed. However you have to be explicit for downcasts (narrowing) e.g. for `long` -&gt; `int`. You should check out [up- and downcasting](https://www.programiz.com/java-programming/typecasting). To help understand why that is it helps to know how an `int` or `long` are represented in binary and how many bytes each of them take.","body":"The Java compiler does upcasting (widening) like e.g. <code>int</code> -&gt; <code>long</code> for you since it&#39;s safe meaning the conversion will always succeed. However you have to be explicit for downcasts (narrowing) e.g. for <code>long</code> -&gt; <code>int</code>. You should check out <a href=\"https://www.programiz.com/java-programming/typecasting\" rel=\"nofollow noreferrer\">up- and downcasting</a>. To help understand why that is it helps to know how an <code>int</code> or <code>long</code> are represented in binary and how many bytes each of them take."}],"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683407641,"creation_date":1683407641,"answer_id":76191164,"question_id":76191080,"body_markdown":"Numbers without any postfix are assumed to be integers. If it&#39;s a decimal number the compiler assumes it&#39;s a `double` so what you tell the compiler is you want to call the constructor `Test(int, int, double)` which does not exist. \r\n\r\nNow if you were to have only one constructor e.g. `Test(long, f, double)` the compiler would automatically do the type casts for you. However, since you have many constructors, multiple conversions are possible and the compiler does not know which one to pick, hence the error message.\r\n\r\nYou now have to tell it which data types your numbers actually are.\r\n\r\nUse `L` as postfix to denote a long, use `F` to denote a float and `D` to denote `double`. \r\n\r\nSo e.g. you could call:\r\n- `new Test(1L, 2, 4.14)` or\r\n- `new Test(1, 2F, 4.14)` or\r\n- `new Test(1, 2D, 4.14F)`\r\n- ...\r\n\r\n&gt; Have a look at the [Docs for Primitive data types](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html).","title":"Constructor parameter with int and long or double and float throwing error","body":"<p>Numbers without any postfix are assumed to be integers. If it's a decimal number the compiler assumes it's a <code>double</code> so what you tell the compiler is you want to call the constructor <code>Test(int, int, double)</code> which does not exist.</p>\n<p>Now if you were to have only one constructor e.g. <code>Test(long, f, double)</code> the compiler would automatically do the type casts for you. However, since you have many constructors, multiple conversions are possible and the compiler does not know which one to pick, hence the error message.</p>\n<p>You now have to tell it which data types your numbers actually are.</p>\n<p>Use <code>L</code> as postfix to denote a long, use <code>F</code> to denote a float and <code>D</code> to denote <code>double</code>.</p>\n<p>So e.g. you could call:</p>\n<ul>\n<li><code>new Test(1L, 2, 4.14)</code> or</li>\n<li><code>new Test(1, 2F, 4.14)</code> or</li>\n<li><code>new Test(1, 2D, 4.14F)</code></li>\n<li>...</li>\n</ul>\n<blockquote>\n<p>Have a look at the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Docs for Primitive data types</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":12920207,"reputation":21,"user_id":9342976,"display_name":"user9342976"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76191147,"answer_count":2,"score":1,"last_activity_date":1683407867,"creation_date":1683406316,"question_id":76191080,"body_markdown":"I am trying to implement constructor overloading by using int and long together and double and float together. I am passing two int values from main method and want to check which constructor gets called A(int, long) or A(long, int). I am passing two double values from main method and want to check which construcotr gets called A(double, float) or A(float, double).\r\n\r\nIn Line5, I am passing values to the constructors in Line1 and Line2 and in Line6, I am passing values to the constructors in Line3 and Line4. While compiling and executing this code, constructor is ambiguous is showing for Line5 and constructor is undefined is showing for Line6.\r\n\r\n***CODE:***\r\n```\r\nimport java.util.*;\r\n\r\npublic class Test {\r\n    \r\n    public Test(long i, int f, double d) { //Line1\r\n        System.out.println(&quot;L i d&quot;);\r\n    }\r\n    \r\n    public Test(int i, long d, double f) { //Line2 \r\n        System.out.println(&quot;i L f&quot;);\r\n    }\r\n    \r\n    public Test(int i, float f, double d) { //Line3\r\n        System.out.println(&quot;i f d&quot;);\r\n    }\r\n    \r\n    public Test(int i, double d, float f) { //Line4\r\n        System.out.println(&quot;i d f&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Test ob = new Test(1, 2, 4.14); //showing compilation error //Line5\r\n        Test ob1 = new Test(1, 2.33, 4.14); //showing compilation error //Line6\r\n    }\r\n}\r\n```\r\n**OUTPUT:**\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    The constructor Test(long, int, double) is ambiguous\r\n    The constructor Test(int, double, double) is undefined\r\n```\r\n\r\nPlease tell me:\r\n1. Is there any name that represents this problem\r\n2. What is the solution to this problem","title":"Constructor parameter with int and long or double and float throwing error","body":"<p>I am trying to implement constructor overloading by using int and long together and double and float together. I am passing two int values from main method and want to check which constructor gets called A(int, long) or A(long, int). I am passing two double values from main method and want to check which construcotr gets called A(double, float) or A(float, double).</p>\n<p>In Line5, I am passing values to the constructors in Line1 and Line2 and in Line6, I am passing values to the constructors in Line3 and Line4. While compiling and executing this code, constructor is ambiguous is showing for Line5 and constructor is undefined is showing for Line6.</p>\n<p><em><strong>CODE:</strong></em></p>\n<pre><code>import java.util.*;\n\npublic class Test {\n    \n    public Test(long i, int f, double d) { //Line1\n        System.out.println(&quot;L i d&quot;);\n    }\n    \n    public Test(int i, long d, double f) { //Line2 \n        System.out.println(&quot;i L f&quot;);\n    }\n    \n    public Test(int i, float f, double d) { //Line3\n        System.out.println(&quot;i f d&quot;);\n    }\n    \n    public Test(int i, double d, float f) { //Line4\n        System.out.println(&quot;i d f&quot;);\n    }\n    \n    public static void main(String[] args) {\n        Test ob = new Test(1, 2, 4.14); //showing compilation error //Line5\n        Test ob1 = new Test(1, 2.33, 4.14); //showing compilation error //Line6\n    }\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    The constructor Test(long, int, double) is ambiguous\n    The constructor Test(int, double, double) is undefined\n</code></pre>\n<p>Please tell me:</p>\n<ol>\n<li>Is there any name that represents this problem</li>\n<li>What is the solution to this problem</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-studio-3.0"],"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683402526,"post_id":76190790,"comment_id":134362376,"body_markdown":"You should share your xml files.","body":"You should share your xml files."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683403266,"post_id":76190790,"comment_id":134362464,"body_markdown":"Alright Ill edit it with the xml files","body":"Alright Ill edit it with the xml files"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683403771,"post_id":76190790,"comment_id":134362539,"body_markdown":"Where are your xml files? You didn&#39;t add this question.","body":"Where are your xml files? You didn&#39;t add this question."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683404454,"post_id":76190790,"comment_id":134362635,"body_markdown":"Ill edit rn Im new to stackoverflow so trying to learn how to use it","body":"Ill edit rn Im new to stackoverflow so trying to learn how to use it"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683404575,"post_id":76190790,"comment_id":134362654,"body_markdown":"I added my answer you can check this solution.","body":"I added my answer you can check this solution."}],"answers":[{"comments":[{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683404727,"post_id":76190943,"comment_id":134362682,"body_markdown":"05/06 23:24:25: Launching &#39;app&#39; on emulator-5554.\nInstallation did not succeed.\nThe application could not be installed.\n\nList of apks:\n[0] &#39;C:\\Users\\batur\\AndroidStudioProjects\\HangilkeBu2\\app\\build\\intermediates\\apk\\debug\\app-debug.apk&#39;\nInstallation failed due to: &#39;closed&#39;\nRetry\nFailed to launch an application on all devices   This is what it said","body":"05/06 23:24:25: Launching &#39;app&#39; on emulator-5554. Installation did not succeed. The application could not be installed.  List of apks: [0] &#39;C:\\Users\\batur\\AndroidStudioProjects\\HangilkeBu2\\app\\build\\&zwnj;&#8203;intermediates\\apk\\de&zwnj;&#8203;bug\\app-debug.apk&#39; Installation failed due to: &#39;closed&#39; Retry Failed to launch an application on all devices   This is what it said"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683405151,"post_id":76190943,"comment_id":134362731,"body_markdown":"Please, You should add AndroidManifest.xml and other xml files.","body":"Please, You should add AndroidManifest.xml and other xml files."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683405317,"post_id":76190943,"comment_id":134362754,"body_markdown":"Alright Ill add them","body":"Alright Ill add them"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683406002,"post_id":76190943,"comment_id":134362838,"body_markdown":"You did not `OyunBitti` add in `AndroidManifest.xml`. I changed my answer. You can check.","body":"You did not <code>OyunBitti</code> add in <code>AndroidManifest.xml</code>. I changed my answer. You can check."},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683406123,"post_id":76190943,"comment_id":134362852,"body_markdown":"You can check this url: https://stackoverflow.com/questions/62098059/installation-did-not-succeed-the-application-could-not-be-installed-installati","body":"You can check this url: <a href=\"https://stackoverflow.com/questions/62098059/installation-did-not-succeed-the-application-could-not-be-installed-installati\" title=\"installation did not succeed the application could not be installed installati\">stackoverflow.com/questions/62098059/&hellip;</a>"},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683406264,"post_id":76190943,"comment_id":134362879,"body_markdown":"Thank you! It worked now! This is project Im making my school youre a lifesaver!","body":"Thank you! It worked now! This is project Im making my school youre a lifesaver!"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683406306,"post_id":76190943,"comment_id":134362884,"body_markdown":"You can vote for the correct answer.","body":"You can vote for the correct answer."},{"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"score":0,"creation_date":1683406390,"post_id":76190943,"comment_id":134362890,"body_markdown":"It says I need 15 reputation","body":"It says I need 15 reputation"},{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1683406584,"post_id":76190943,"comment_id":134362909,"body_markdown":"You can check correct answer. https://stackoverflow.com/help/accepted-answer","body":"You can check correct answer. <a href=\"https://stackoverflow.com/help/accepted-answer\">stackoverflow.com/help/accepted-answer</a>"}],"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683407154,"creation_date":1683404214,"answer_id":76190943,"question_id":76190790,"body_markdown":"For activities to work correctly, you must remember to add them.\r\n\r\nYou should add `OyunBitti` in `AndroidManifest.xml`.\r\n\r\nLike this:\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OyunBitti&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OyunBasladi&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"How do I solve &quot;Could not execute method for android :onClick","body":"<p>For activities to work correctly, you must remember to add them.</p>\n<p>You should add <code>OyunBitti</code> in <code>AndroidManifest.xml</code>.</p>\n<p>Like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.OyunBitti&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.OyunBasladi&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":28530456,"reputation":5,"user_id":21837947,"display_name":"ItzBaturalp Plays"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76190943,"answer_count":1,"score":0,"last_activity_date":1683407154,"creation_date":1683402155,"question_id":76190790,"body_markdown":"I&#39;m trying to do an geography quiz app but I keep getting this problem.\r\n\r\nThis is the error I&#39;m getting from the logcat. The first page opens but the moment I click start it closes the app.\r\n\r\n&gt; FATAL EXCEPTION: main                                                 \r\n&gt; Process: com.example.hangilkebu, PID: 29267                           \r\n&gt; java.lang.IllegalStateException: Could not execute method for\r\n&gt; android:onClick                                                       \r\n&gt; \tat\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\r\n&gt; \tat android.view.View.performClick(View.java:8160)                    \r\n&gt; \tat android.view.View.performClickInternal(View.java:8137)            \r\n&gt; \tat android.view.View.access$3700(View.java:888)                      \r\n&gt; \tat android.view.View$PerformClick.run(View.java:30236)               \r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938)               \r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:99)               \r\n&gt; \tat android.os.Looper.loop(Looper.java:246)                           \r\n&gt; \tat android.app.ActivityThread.main(ActivityThread.java:8595)         \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)                    \r\n&gt; \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)     \r\n&gt; Caused by: java.lang.reflect.InvocationTargetException                \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)                    \r\n&gt; \tat\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\r\n&gt; \tat android.view.View.performClick(View.java:8160)&#160;                   \r\n&gt; \tat android.view.View.performClickInternal(View.java:8137)&#160;           \r\n&gt; \tat android.view.View.access$3700(View.java:888)&#160;                     \r\n&gt; \tat android.view.View$PerformClick.run(View.java:30236)&#160;              \r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938)&#160;              \r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;              \r\n&gt; \tat android.os.Looper.loop(Looper.java:246)&#160;                          \r\n&gt; \tat android.app.ActivityThread.main(ActivityThread.java:8595)&#160;        \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)&#160;                   \r\n&gt; \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;    \r\n&gt; Caused by: android.content.ActivityNotFoundException: Unable to find\r\n&gt; explicit activity class\r\n&gt; {com.example.hangilkebu/com.example.hangilkebu.OyunBasladi}; have you\r\n&gt; declared this activity in your AndroidManifest.xml?                   \r\n&gt; \tat\r\n&gt; android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2078)\r\n&gt; \tat\r\n&gt; android.app.Instrumentation.execStartActivity(Instrumentation.java:1727)\r\n&gt; \tat android.app.Activity.startActivityForResult(Activity.java:5377)   \r\n&gt; \tat\r\n&gt; androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\r\n&gt; \tat android.app.Activity.startActivityForResult(Activity.java:5335)   \r\n&gt; \tat\r\n&gt; androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\r\n&gt; \tat android.app.Activity.startActivity(Activity.java:5721)            \r\n&gt; \tat android.app.Activity.startActivity(Activity.java:5674)            \r\n&gt; \tat\r\n&gt; com.example.hangilkebu.MainActivity.startGame(MainActivity.java:21)   \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)&#160;                   \r\n&gt; \tat\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)&#160;\r\n&gt; \tat android.view.View.performClick(View.java:8160)&#160;                   \r\n&gt; \tat android.view.View.performClickInternal(View.java:8137)&#160;           \r\n&gt; \tat android.view.View.access$3700(View.java:888)&#160;                     \r\n&gt; \tat android.view.View$PerformClick.run(View.java:30236)&#160;              \r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938)&#160;              \r\n&gt; \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;              \r\n&gt; \tat android.os.Looper.loop(Looper.java:246)&#160;                          \r\n&gt; \tat android.app.ActivityThread.main(ActivityThread.java:8595)&#160;        \r\n&gt; \tat java.lang.reflect.Method.invoke(Native Method)&#160;                   \r\n&gt; \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\r\n# Main Activity\r\n\r\nThis page starts when you start the app. I think the mistake mighg be here?\r\n\r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void startGame (View view){\r\n        Intent intent = new Intent(MainActivity.this, OyunBasladi.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\n\r\n# Start Game\r\n\r\nThis is the part where it crashes. I click play in the first page and it&#39;s supposed to take me here. Maybe this part has the flaw.\r\n\r\n```java\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\n\r\npublic class OyunBasladi extends AppCompatActivity {\r\n    TextView tvTimer;\r\n    TextView tvResult;\r\n    ImageView ivShowImage;\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\r\n    int index;\r\n    Button btn1, btn2, btn3, btn4;\r\n    TextView tvPoints;\r\n    int points;\r\n    CountDownTimer countDownTimer;\r\n    long millisUntilFinished;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_soru1);\r\n        tvTimer = findViewById(R.id.tvTimer);\r\n        tvResult = findViewById(R.id.tvResult);\r\n        ivShowImage = findViewById(R.id.ivShowImage);\r\n        btn1 = findViewById(R.id.btn1);\r\n        btn2 = findViewById(R.id.btn2);\r\n        btn3 = findViewById(R.id.btn3);\r\n        btn4 = findViewById(R.id.btn4);\r\n        tvPoints = findViewById(R.id.tvPoints);\r\n\r\n        index = 0;\r\n\r\n        techList.add(&quot;&#199;in&quot;);\r\n        techList.add(&quot;T&#252;rkiye&quot;);\r\n        techList.add(&quot;Rusya&quot;);\r\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\r\n        techList.add(&quot;Msr&quot;);\r\n        techList.add(&quot;Kazakistan&quot;);\r\n        techList.add(&quot;St. Lucia&quot;);\r\n        techList.add(&quot;Trinidad ve Tobago&quot;);\r\n        techList.add(&quot;svi&#231;re&quot;);\r\n        techList.add(&quot;L&#252;ksemburg&quot;);\r\n        techList.add(&quot;Tonga&quot;);\r\n        techList.add(&quot;Filipinler&quot;);\r\n        techList.add(&quot;Guyana&quot;);\r\n        techList.add(&quot;Guatemala&quot;);\r\n        techList.add(&quot;ABD&quot;);\r\n        techList.add(&quot;Kanada&quot;);\r\n        techList.add(&quot;Peru&quot;);\r\n        techList.add(&quot;Burundi&quot;);\r\n\r\n        map.put(techList.get(0), R.drawable.cin);\r\n        map.put(techList.get(1), R.drawable.turkiye);\r\n        map.put(techList.get(2), R.drawable.rusya);\r\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\r\n        map.put(techList.get(4), R.drawable.misir);\r\n        map.put(techList.get(5), R.drawable.kazakistan);\r\n        map.put(techList.get(6), R.drawable.stlucia);\r\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\r\n        map.put(techList.get(8), R.drawable.isvicre);\r\n        map.put(techList.get(9), R.drawable.luksemburg);\r\n        map.put(techList.get(10), R.drawable.tonga);\r\n        map.put(techList.get(11), R.drawable.filipinler);\r\n        map.put(techList.get(12), R.drawable.guyana);\r\n        map.put(techList.get(13), R.drawable.guatemala);\r\n        map.put(techList.get(14), R.drawable.abd);\r\n        map.put(techList.get(15), R.drawable.kanada);\r\n        map.put(techList.get(16), R.drawable.peru);\r\n        map.put(techList.get(17), R.drawable.burundi);\r\n\r\n        Collections.shuffle(techList);\r\n\r\n        millisUntilFinished = 10000;\r\n\r\n        points = 0;\r\n\r\n        startGame();\r\n    }\r\n\r\n    private void startGame() {\r\n\r\n        millisUntilFinished = 10000;\r\n\r\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\r\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n\r\n        generateQuestions(index);\r\n\r\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                index++;\r\n                if (index &gt; techList.size() - 1){\r\n                    ivShowImage.setVisibility(View.GONE);\r\n                    btn1.setVisibility(View.GONE);\r\n                    btn2.setVisibility(View.GONE);\r\n                    btn3.setVisibility(View.GONE);\r\n                    btn4.setVisibility(View.GONE);\r\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\r\n                    intent.putExtra(&quot;points&quot;, points);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n                else {\r\n                    countDownTimer = null;\r\n                    startGame();\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void generateQuestions(int index) {\r\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\r\n        String correctAnswer = techList.get(index);\r\n        techListTemp.remove(correctAnswer);\r\n        Collections.shuffle(techListTemp);\r\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n        newList.add(techListTemp.get(0));\r\n        newList.add(techListTemp.get(1));\r\n        newList.add(techListTemp.get(2));\r\n        newList.add(correctAnswer);\r\n        Collections.shuffle(newList);\r\n        btn1.setText(newList.get(0));\r\n        btn2.setText(newList.get(1));\r\n        btn3.setText(newList.get(2));\r\n        btn4.setText(newList.get(3));\r\n        ivShowImage.setImageResource(map.get(techList.get(index)));\r\n    }\r\n\r\n    public void nextQuestion(View view) {\r\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\r\n        btn1.setEnabled(true);\r\n        btn2.setEnabled(true);\r\n        btn3.setEnabled(true);\r\n        btn4.setEnabled(true);\r\n        countDownTimer.cancel();\r\n        index++;\r\n        if (index &gt; techList.size() - 1){\r\n            ivShowImage.setVisibility(View.GONE);\r\n            btn1.setVisibility(View.GONE);\r\n            btn2.setVisibility(View.GONE);\r\n            btn3.setVisibility(View.GONE);\r\n            btn4.setVisibility(View.GONE);\r\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\r\n            intent.putExtra(&quot;points&quot;, points);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        else\r\n        {\r\n            countDownTimer = null;\r\n            startGame();\r\n        }\r\n    }\r\n\r\n    public void answerSelected(View view) {\r\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\r\n        btn1.setEnabled(false);\r\n        btn2.setEnabled(false);\r\n        btn3.setEnabled(false);\r\n        btn4.setEnabled(false);\r\n        countDownTimer.cancel();\r\n        String answer = ((Button) view).getText().toString().trim();\r\n        String correctAnswer = techList.get(index);\r\n        if(answer.equals(correctAnswer)){\r\n            points++;\r\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\r\n            tvResult.setText(&quot;Doru&quot;);\r\n        }\r\n        else\r\n        {\r\n            tvResult.setText(&quot;Yanl&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n# Finish Game\r\n\r\nCodes for the game where after you answered all the questions it will take you here. I think this has the least chance of the mistake but Im still putting it here.\r\n\r\n```java\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class OyunBitti extends AppCompatActivity {\r\n\r\n    TextView tvPoints, tvPersonalBest;\r\n    SharedPreferences sharedPreferences;\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_oyun_bitti);\r\n        int points = getIntent().getExtras().getInt(&quot;points&quot;);\r\n        tvPoints = findViewById(R.id.tvPoints);\r\n        tvPersonalBest = findViewById(R.id.tvPersonalBest);\r\n        tvPoints.setText(&quot;&quot; + points);\r\n        sharedPreferences = getSharedPreferences(&quot;pref&quot;, 0);\r\n        int pointsSP = sharedPreferences.getInt(&quot;pointsSP&quot;, 0);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        if(points &gt; pointsSP){\r\n            pointsSP = points;\r\n            editor.putInt(&quot;pointsSP&quot;, pointsSP);\r\n            editor.commit();\r\n        }\r\n        // Set tvPersonalBest with the value of pointsSP\r\n        tvPersonalBest.setText(&quot;&quot; + pointsSP);\r\n    }\r\n\r\n    public void restart(View view) {\r\n        Intent intent = new Intent(OyunBitti.this, OyunBasladi.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void exit(View view) {\r\n        finish();\r\n    }\r\n}\r\n```\r\n# Manifest XML \r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.OyunBasladi&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n# Main Activity XML\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#e8f4f8&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:padding=&quot;16dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;ImageButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/yenidenoyna&quot;\r\n            android:onClick=&quot;restart&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n        &lt;ImageButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/cik&quot;\r\n            android:onClick=&quot;exit&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Puan: &quot;\r\n                android:textColor=&quot;#0b80a7&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/tvPoints&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:textColor=&quot;@android:color/holo_green_light&quot;\r\n                android:textSize=&quot;60sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;En iyi puan: &quot;\r\n                android:textColor=&quot;#0b80a7&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/tvPersonalBest&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:textColor=&quot;#ff6000&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;234dp&quot;\r\n        android:layout_height=&quot;129dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        app:srcCompat=&quot;@drawable/oyunbitti&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;64dp&quot;\r\n        android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"How do I solve &quot;Could not execute method for android :onClick","body":"<p>I'm trying to do an geography quiz app but I keep getting this problem.</p>\n<p>This is the error I'm getting from the logcat. The first page opens but the moment I click start it closes the app.</p>\n<blockquote>\n<p>FATAL EXCEPTION: main<br />\nProcess: com.example.hangilkebu, PID: 29267<br />\njava.lang.IllegalStateException: Could not execute method for\nandroid:onClick<br />\nat\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\nat android.view.View.performClick(View.java:8160)<br />\nat android.view.View.performClickInternal(View.java:8137)<br />\nat android.view.View.access$3700(View.java:888)<br />\nat android.view.View$PerformClick.run(View.java:30236)<br />\nat android.os.Handler.handleCallback(Handler.java:938)<br />\nat android.os.Handler.dispatchMessage(Handler.java:99)<br />\nat android.os.Looper.loop(Looper.java:246)<br />\nat android.app.ActivityThread.main(ActivityThread.java:8595)<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)<br />\nCaused by: java.lang.reflect.InvocationTargetException<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\nat android.view.View.performClick(View.java:8160)<br />\nat android.view.View.performClickInternal(View.java:8137)<br />\nat android.view.View.access$3700(View.java:888)<br />\nat android.view.View$PerformClick.run(View.java:30236)<br />\nat android.os.Handler.handleCallback(Handler.java:938)<br />\nat android.os.Handler.dispatchMessage(Handler.java:99)<br />\nat android.os.Looper.loop(Looper.java:246)<br />\nat android.app.ActivityThread.main(ActivityThread.java:8595)<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)<br />\nCaused by: android.content.ActivityNotFoundException: Unable to find\nexplicit activity class\n{com.example.hangilkebu/com.example.hangilkebu.OyunBasladi}; have you\ndeclared this activity in your AndroidManifest.xml?<br />\nat\nandroid.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2078)\nat\nandroid.app.Instrumentation.execStartActivity(Instrumentation.java:1727)\nat android.app.Activity.startActivityForResult(Activity.java:5377)<br />\nat\nandroidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\nat android.app.Activity.startActivityForResult(Activity.java:5335)<br />\nat\nandroidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:709)\nat android.app.Activity.startActivity(Activity.java:5721)<br />\nat android.app.Activity.startActivity(Activity.java:5674)<br />\nat\ncom.example.hangilkebu.MainActivity.startGame(MainActivity.java:21)<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\nat android.view.View.performClick(View.java:8160)<br />\nat android.view.View.performClickInternal(View.java:8137)<br />\nat android.view.View.access$3700(View.java:888)<br />\nat android.view.View$PerformClick.run(View.java:30236)<br />\nat android.os.Handler.handleCallback(Handler.java:938)<br />\nat android.os.Handler.dispatchMessage(Handler.java:99)<br />\nat android.os.Looper.loop(Looper.java:246)<br />\nat android.app.ActivityThread.main(ActivityThread.java:8595)<br />\nat java.lang.reflect.Method.invoke(Native Method)<br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)</p>\n</blockquote>\n<h1>Main Activity</h1>\n<p>This page starts when you start the app. I think the mistake mighg be here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void startGame (View view){\n        Intent intent = new Intent(MainActivity.this, OyunBasladi.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<h1>Start Game</h1>\n<p>This is the part where it crashes. I click play in the first page and it's supposed to take me here. Maybe this part has the flaw.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.Intent;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\n\npublic class OyunBasladi extends AppCompatActivity {\n    TextView tvTimer;\n    TextView tvResult;\n    ImageView ivShowImage;\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\n    int index;\n    Button btn1, btn2, btn3, btn4;\n    TextView tvPoints;\n    int points;\n    CountDownTimer countDownTimer;\n    long millisUntilFinished;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_soru1);\n        tvTimer = findViewById(R.id.tvTimer);\n        tvResult = findViewById(R.id.tvResult);\n        ivShowImage = findViewById(R.id.ivShowImage);\n        btn1 = findViewById(R.id.btn1);\n        btn2 = findViewById(R.id.btn2);\n        btn3 = findViewById(R.id.btn3);\n        btn4 = findViewById(R.id.btn4);\n        tvPoints = findViewById(R.id.tvPoints);\n\n        index = 0;\n\n        techList.add(&quot;in&quot;);\n        techList.add(&quot;Trkiye&quot;);\n        techList.add(&quot;Rusya&quot;);\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\n        techList.add(&quot;Msr&quot;);\n        techList.add(&quot;Kazakistan&quot;);\n        techList.add(&quot;St. Lucia&quot;);\n        techList.add(&quot;Trinidad ve Tobago&quot;);\n        techList.add(&quot;svire&quot;);\n        techList.add(&quot;Lksemburg&quot;);\n        techList.add(&quot;Tonga&quot;);\n        techList.add(&quot;Filipinler&quot;);\n        techList.add(&quot;Guyana&quot;);\n        techList.add(&quot;Guatemala&quot;);\n        techList.add(&quot;ABD&quot;);\n        techList.add(&quot;Kanada&quot;);\n        techList.add(&quot;Peru&quot;);\n        techList.add(&quot;Burundi&quot;);\n\n        map.put(techList.get(0), R.drawable.cin);\n        map.put(techList.get(1), R.drawable.turkiye);\n        map.put(techList.get(2), R.drawable.rusya);\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\n        map.put(techList.get(4), R.drawable.misir);\n        map.put(techList.get(5), R.drawable.kazakistan);\n        map.put(techList.get(6), R.drawable.stlucia);\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\n        map.put(techList.get(8), R.drawable.isvicre);\n        map.put(techList.get(9), R.drawable.luksemburg);\n        map.put(techList.get(10), R.drawable.tonga);\n        map.put(techList.get(11), R.drawable.filipinler);\n        map.put(techList.get(12), R.drawable.guyana);\n        map.put(techList.get(13), R.drawable.guatemala);\n        map.put(techList.get(14), R.drawable.abd);\n        map.put(techList.get(15), R.drawable.kanada);\n        map.put(techList.get(16), R.drawable.peru);\n        map.put(techList.get(17), R.drawable.burundi);\n\n        Collections.shuffle(techList);\n\n        millisUntilFinished = 10000;\n\n        points = 0;\n\n        startGame();\n    }\n\n    private void startGame() {\n\n        millisUntilFinished = 10000;\n\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\n\n        generateQuestions(index);\n\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n            }\n\n            @Override\n            public void onFinish() {\n                index++;\n                if (index &gt; techList.size() - 1){\n                    ivShowImage.setVisibility(View.GONE);\n                    btn1.setVisibility(View.GONE);\n                    btn2.setVisibility(View.GONE);\n                    btn3.setVisibility(View.GONE);\n                    btn4.setVisibility(View.GONE);\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    startActivity(intent);\n                    finish();\n                }\n                else {\n                    countDownTimer = null;\n                    startGame();\n                }\n            }\n        }.start();\n    }\n\n    private void generateQuestions(int index) {\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\n        String correctAnswer = techList.get(index);\n        techListTemp.remove(correctAnswer);\n        Collections.shuffle(techListTemp);\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\n        newList.add(techListTemp.get(0));\n        newList.add(techListTemp.get(1));\n        newList.add(techListTemp.get(2));\n        newList.add(correctAnswer);\n        Collections.shuffle(newList);\n        btn1.setText(newList.get(0));\n        btn2.setText(newList.get(1));\n        btn3.setText(newList.get(2));\n        btn4.setText(newList.get(3));\n        ivShowImage.setImageResource(map.get(techList.get(index)));\n    }\n\n    public void nextQuestion(View view) {\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn1.setEnabled(true);\n        btn2.setEnabled(true);\n        btn3.setEnabled(true);\n        btn4.setEnabled(true);\n        countDownTimer.cancel();\n        index++;\n        if (index &gt; techList.size() - 1){\n            ivShowImage.setVisibility(View.GONE);\n            btn1.setVisibility(View.GONE);\n            btn2.setVisibility(View.GONE);\n            btn3.setVisibility(View.GONE);\n            btn4.setVisibility(View.GONE);\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n            intent.putExtra(&quot;points&quot;, points);\n            startActivity(intent);\n            finish();\n        }\n        else\n        {\n            countDownTimer = null;\n            startGame();\n        }\n    }\n\n    public void answerSelected(View view) {\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n        countDownTimer.cancel();\n        String answer = ((Button) view).getText().toString().trim();\n        String correctAnswer = techList.get(index);\n        if(answer.equals(correctAnswer)){\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\n            tvResult.setText(&quot;Doru&quot;);\n        }\n        else\n        {\n            tvResult.setText(&quot;Yanl&quot;);\n        }\n    }\n}\n</code></pre>\n<h1>Finish Game</h1>\n<p>Codes for the game where after you answered all the questions it will take you here. I think this has the least chance of the mistake but Im still putting it here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class OyunBitti extends AppCompatActivity {\n\n    TextView tvPoints, tvPersonalBest;\n    SharedPreferences sharedPreferences;\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_oyun_bitti);\n        int points = getIntent().getExtras().getInt(&quot;points&quot;);\n        tvPoints = findViewById(R.id.tvPoints);\n        tvPersonalBest = findViewById(R.id.tvPersonalBest);\n        tvPoints.setText(&quot;&quot; + points);\n        sharedPreferences = getSharedPreferences(&quot;pref&quot;, 0);\n        int pointsSP = sharedPreferences.getInt(&quot;pointsSP&quot;, 0);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        if(points &gt; pointsSP){\n            pointsSP = points;\n            editor.putInt(&quot;pointsSP&quot;, pointsSP);\n            editor.commit();\n        }\n        // Set tvPersonalBest with the value of pointsSP\n        tvPersonalBest.setText(&quot;&quot; + pointsSP);\n    }\n\n    public void restart(View view) {\n        Intent intent = new Intent(OyunBitti.this, OyunBasladi.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public void exit(View view) {\n        finish();\n    }\n}\n</code></pre>\n<h1>Manifest XML</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.OyunBasladi&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<h1>Main Activity XML</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#e8f4f8&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;16dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n        &lt;ImageButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/yenidenoyna&quot;\n            android:onClick=&quot;restart&quot; /&gt;\n\n        &lt;View\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n        &lt;ImageButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/cik&quot;\n            android:onClick=&quot;exit&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Puan: &quot;\n                android:textColor=&quot;#0b80a7&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/tvPoints&quot;\n                android:layout_weight=&quot;1&quot;\n                android:textColor=&quot;@android:color/holo_green_light&quot;\n                android:textSize=&quot;60sp&quot; /&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;En iyi puan: &quot;\n                android:textColor=&quot;#0b80a7&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/tvPersonalBest&quot;\n                android:layout_weight=&quot;1&quot;\n                android:textColor=&quot;#ff6000&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n\n    &lt;ImageView\n        android:layout_width=&quot;234dp&quot;\n        android:layout_height=&quot;129dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:srcCompat=&quot;@drawable/oyunbitti&quot; /&gt;\n\n    &lt;View\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;64dp&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1683388401,"post_id":76189773,"comment_id":134360699,"body_markdown":"The field `emplyee_id` is annotated with `@JsonIgnore`.","body":"The field <code>emplyee_id</code> is annotated with <code>@JsonIgnore</code>."},{"owner":{"account_id":28344587,"reputation":1,"user_id":21676994,"display_name":"RodrigoCorreia"},"score":0,"creation_date":1683407234,"post_id":76189773,"comment_id":134362971,"body_markdown":"Thanks for answering. The field already has the @JsonIgnore annotation.","body":"Thanks for answering. The field already has the @JsonIgnore annotation."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683410693,"post_id":76189773,"comment_id":134363320,"body_markdown":"Yes. And this is the problem.","body":"Yes. And this is the problem."},{"owner":{"account_id":28344587,"reputation":1,"user_id":21676994,"display_name":"RodrigoCorreia"},"score":0,"creation_date":1683427524,"post_id":76189773,"comment_id":134364507,"body_markdown":"Made the change and just received this error: JSON parse error: Cannot construct instance of &#39;com.rodrigo.departmenthub.entities.Employee&#39; (although at least one Creator exists): no int/Int-argument constructor/factory method to deserialize from Number value (1)]. I need to perform a deserialization. If I haven&#39;t learned how to do it yet, could you show me how I can learn?","body":"Made the change and just received this error: JSON parse error: Cannot construct instance of &#39;com.rodrigo.departmenthub.entities.Employee&#39; (although at least one Creator exists): no int/Int-argument constructor/factory method to deserialize from Number value (1)]. I need to perform a deserialization. If I haven&#39;t learned how to do it yet, could you show me how I can learn?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683441807,"post_id":76189773,"comment_id":134365331,"body_markdown":"On the on ehand (request), we have a list of numbers. On the other hand (`Department` class), we have a list of objects.This cannot work. If we want to create a `Department` and attach pre-existing `Employee`, we need to do some logic. One possibility would be to create a separate DTO class for the request, construct the `Department`-entity based from this DTO, load the employees by their id and add them to the `Department`-entity, and then persist the `Department`.","body":"On the on ehand (request), we have a list of numbers. On the other hand (<code>Department</code> class), we have a list of objects.This cannot work. If we want to create a <code>Department</code> and attach pre-existing <code>Employee</code>, we need to do some logic. One possibility would be to create a separate DTO class for the request, construct the <code>Department</code>-entity based from this DTO, load the employees by their id and add them to the <code>Department</code>-entity, and then persist the <code>Department</code>."}],"owner":{"account_id":28344587,"reputation":1,"user_id":21676994,"display_name":"RodrigoCorreia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683406916,"creation_date":1683387900,"question_id":76189773,"body_markdown":"I&#39;m getting the following error &quot;Field &#39;employee_id&#39; doesn&#39;t have a default value&quot; when trying to make a Post request in the Department class.\r\n\r\n\r\nDepartment:\r\n```\r\n@Entity\r\n@Table(name = &quot;department_&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@NoArgsConstructor\r\npublic class Department implements Serializable {\r\n\r\n    @EqualsAndHashCode.Include\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    private List&lt;Employee&gt; employee_id;\r\n}\r\n```\r\n\r\nEmployee:\r\n```\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;employee_&quot;)\r\npublic class Employee implements Serializable {\r\n    @EqualsAndHashCode.Include\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department = new Department();\r\n\r\n}\r\n```\r\n\r\nEmployee Controller\r\n```\r\n\r\n@AllArgsConstructor\r\n@RestController\r\n@RequestMapping(value = &quot;/api/employees&quot;)\r\npublic class EmployeeController {\r\n    private final DepartmentRepository depRepository;\r\n    private final EmployeeRepository empRepository;\r\n    private final EmployeeService empService;\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; findAll(){\r\n        return ResponseEntity.ok(empService.findAll());\r\n    }\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Employee&gt;&gt; findById(@PathVariable Long id){\r\n        return ResponseEntity.ok(empService.findById(id));\r\n    }\r\n    @PostMapping\r\n    public ResponseEntity&lt;Employee&gt; insert(@RequestBody Employee emp){\r\n        return new ResponseEntity&lt;&gt;(empService.save(emp), HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nDepartment Controller\r\n```\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/api/departments&quot;)\r\n@AllArgsConstructor\r\npublic class DepartmentController {\r\n\r\n    private DepartmentService depService;\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Department&gt;&gt; findAll(){\r\n        return ResponseEntity.ok(depService.findAll());\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Department&gt;&gt; findById(@PathVariable Long id){\r\n        return ResponseEntity.ok(depService.findById(id));\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Department&gt; insert(@RequestBody Department dep){\r\n        return new ResponseEntity&lt;&gt;(depService.save(dep), HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Department&gt; update(@RequestBody Department dep, @PathVariable Long id){\r\n        dep.setId(id);\r\n        return ResponseEntity.ok(depService.save(dep));\r\n    }\r\n\r\n    @DeleteMapping(value = &quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Void&gt; delete(@PathVariable Long id){\r\n        depService.delete(id);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n}\r\n```\r\n\r\nRequest:\r\n```\r\n\r\n{\r\n    &quot;name&quot;: &quot;Test&quot;,\r\n    &quot;employee_id&quot;: [1]\r\n}\r\n```\r\n\r\nError:\r\n\r\n```\r\nHibernate: insert into department_ (name) values (?)\r\n2023-05-05T20:07:56.769-03:00  WARN 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1364, SQLState: HY000\r\n2023-05-05T20:07:56.770-03:00 ERROR 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field &#39;employee_id&#39; doesn&#39;t have a default value\r\n2023-05-05T20:07:56.771-03:00 ERROR 8512 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: could not execute statement] with root cause\r\n\r\njava.sql.SQLException: Field &#39;employee_id&#39; doesn&#39;t have a default value\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3342) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3980) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:80) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:653) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:283) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:264) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:340) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source) ~[na:na]\r\n\tat com.rodrigo.departmenthub.services.DepartmentService.save(DepartmentService.java:24) ~[classes/:na]\r\n\tat com.rodrigo.departmenthub.controllers.DepartmentController.insert(DepartmentController.java:31) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nDoes anyone have any tips on how I can solve it and if you can explain it to me too so I can learn, I appreciate it.","title":"Field &#39;employee_id&#39; doesn&#39;t have a default value","body":"<p>I'm getting the following error &quot;Field 'employee_id' doesn't have a default value&quot; when trying to make a Post request in the Department class.</p>\n<p>Department:</p>\n<pre><code>@Entity\n@Table(name = &quot;department_&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@NoArgsConstructor\npublic class Department implements Serializable {\n\n    @EqualsAndHashCode.Include\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private List&lt;Employee&gt; employee_id;\n}\n</code></pre>\n<p>Employee:</p>\n<pre><code>@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@NoArgsConstructor\n@Setter\n@Getter\n@Entity\n@Table(name = &quot;employee_&quot;)\npublic class Employee implements Serializable {\n    @EqualsAndHashCode.Include\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department = new Department();\n\n}\n</code></pre>\n<p>Employee Controller</p>\n<pre><code>\n@AllArgsConstructor\n@RestController\n@RequestMapping(value = &quot;/api/employees&quot;)\npublic class EmployeeController {\n    private final DepartmentRepository depRepository;\n    private final EmployeeRepository empRepository;\n    private final EmployeeService empService;\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; findAll(){\n        return ResponseEntity.ok(empService.findAll());\n    }\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Employee&gt;&gt; findById(@PathVariable Long id){\n        return ResponseEntity.ok(empService.findById(id));\n    }\n    @PostMapping\n    public ResponseEntity&lt;Employee&gt; insert(@RequestBody Employee emp){\n        return new ResponseEntity&lt;&gt;(empService.save(emp), HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Department Controller</p>\n<pre><code>\n@RestController\n@RequestMapping(value = &quot;/api/departments&quot;)\n@AllArgsConstructor\npublic class DepartmentController {\n\n    private DepartmentService depService;\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Department&gt;&gt; findAll(){\n        return ResponseEntity.ok(depService.findAll());\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Department&gt;&gt; findById(@PathVariable Long id){\n        return ResponseEntity.ok(depService.findById(id));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Department&gt; insert(@RequestBody Department dep){\n        return new ResponseEntity&lt;&gt;(depService.save(dep), HttpStatus.CREATED);\n    }\n\n    @PutMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Department&gt; update(@RequestBody Department dep, @PathVariable Long id){\n        dep.setId(id);\n        return ResponseEntity.ok(depService.save(dep));\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; delete(@PathVariable Long id){\n        depService.delete(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>Request:</p>\n<pre><code>\n{\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;employee_id&quot;: [1]\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Hibernate: insert into department_ (name) values (?)\n2023-05-05T20:07:56.769-03:00  WARN 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1364, SQLState: HY000\n2023-05-05T20:07:56.770-03:00 ERROR 8512 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field 'employee_id' doesn't have a default value\n2023-05-05T20:07:56.771-03:00 ERROR 8512 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: could not execute statement] with root cause\n\njava.sql.SQLException: Field 'employee_id' doesn't have a default value\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3342) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3980) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:80) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:653) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:283) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:264) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:340) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy114.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source) ~[na:na]\n    at com.rodrigo.departmenthub.services.DepartmentService.save(DepartmentService.java:24) ~[classes/:na]\n    at com.rodrigo.departmenthub.controllers.DepartmentController.insert(DepartmentController.java:31) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Does anyone have any tips on how I can solve it and if you can explain it to me too so I can learn, I appreciate it.</p>\n"},{"tags":["java","android","android-jetpack","android-jetpack-compose"],"comments":[{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":5,"creation_date":1669697093,"post_id":66433437,"comment_id":131695579,"body_markdown":"Rumor has it that when someone learns Kotlin, they will not look back to write code in Java again (unless they have to)...","body":"Rumor has it that when someone learns Kotlin, they will not look back to write code in Java again (unless they have to)..."}],"answers":[{"comments":[{"owner":{"account_id":8025744,"reputation":615,"user_id":6571004,"accept_rate":17,"display_name":"Roker"},"score":18,"creation_date":1614662625,"post_id":66433621,"comment_id":117446552,"body_markdown":"So can i safely assume that we are done with java in android?","body":"So can i safely assume that we are done with java in android?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1614662714,"post_id":66433621,"comment_id":117446574,"body_markdown":"@Roker if you want to write components in Compose, yes.  For the rest of the Android platform, while [we do recommend Kotlin](https://developer.android.com/kotlin) and think it has a lot of benefits, Java is still a fully supported language.","body":"@Roker if you want to write components in Compose, yes.  For the rest of the Android platform, while <a href=\"https://developer.android.com/kotlin\" rel=\"nofollow noreferrer\">we do recommend Kotlin</a> and think it has a lot of benefits, Java is still a fully supported language."},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1614667963,"post_id":66433621,"comment_id":117447854,"body_markdown":"very interesting, nice to &quot;know&quot; someone who works on it, that&#39;s pretty cool :)","body":"very interesting, nice to &quot;know&quot; someone who works on it, that&#39;s pretty cool :)"},{"owner":{"account_id":19806479,"reputation":557,"user_id":14506318,"display_name":"Mustafa Ibrahim"},"score":0,"creation_date":1619949629,"post_id":66433621,"comment_id":119052911,"body_markdown":"@Ryan so for an android developer to get the full advantages of new features in the future he should start using kotlin instead of java ?","body":"@Ryan so for an android developer to get the full advantages of new features in the future he should start using kotlin instead of java ?"},{"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"score":6,"creation_date":1620322939,"post_id":66433621,"comment_id":119173771,"body_markdown":"@RyanM if I have a java activity can I use a compose component?  IE hard to find an example of calling setContent(...) from a java class in any examples","body":"@RyanM if I have a java activity can I use a compose component?  IE hard to find an example of calling setContent(...) from a java class in any examples"},{"owner":{"account_id":2527931,"reputation":71,"user_id":2196888,"accept_rate":80,"display_name":"DonKariro"},"score":28,"creation_date":1633535171,"post_id":66433621,"comment_id":122786914,"body_markdown":"Very unfortunate of Google to do this, starting a slow but sure dumping and neglect of the very language that has brought android and it&#39;s entire ecosystem to where it is. Might simply be some petty reason like their just concluded lawsuit with Oracle! But now that this is behind them, it may be time for them to rethink what they are doing. @RyanM","body":"Very unfortunate of Google to do this, starting a slow but sure dumping and neglect of the very language that has brought android and it&#39;s entire ecosystem to where it is. Might simply be some petty reason like their just concluded lawsuit with Oracle! But now that this is behind them, it may be time for them to rethink what they are doing. @RyanM"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":6,"creation_date":1643486014,"post_id":66433621,"comment_id":125354637,"body_markdown":"So this is Google&#39;s way of phasing out Java? SMH.","body":"So this is Google&#39;s way of phasing out Java? SMH."},{"owner":{"account_id":12030915,"reputation":647,"user_id":8801181,"display_name":"Shayne3000"},"score":12,"creation_date":1648478510,"post_id":66433621,"comment_id":126627708,"body_markdown":"@RyanM How is Java a fully supported language if building things with the UI Toolkit isn&#39;t fully supported in Java. I think it&#39;s fine to say that Java is a fully supported language for PR purposes but this is stack overflow, just tell us straight up that Google is phasing out Java.","body":"@RyanM How is Java a fully supported language if building things with the UI Toolkit isn&#39;t fully supported in Java. I think it&#39;s fine to say that Java is a fully supported language for PR purposes but this is stack overflow, just tell us straight up that Google is phasing out Java."},{"owner":{"account_id":5940826,"reputation":2908,"user_id":4672107,"accept_rate":33,"display_name":"Carson Holzheimer"},"score":2,"creation_date":1664524167,"post_id":66433621,"comment_id":130495898,"body_markdown":"@DonKariro Do you really expect them to support 2 languages forever? Compose needs many features of the Kotlin language.","body":"@DonKariro Do you really expect them to support 2 languages forever? Compose needs many features of the Kotlin language."},{"owner":{"account_id":4740985,"reputation":901,"user_id":3833732,"accept_rate":29,"display_name":"user3833732"},"score":1,"creation_date":1664962512,"post_id":66433621,"comment_id":130586537,"body_markdown":"@DonKariro you said it perfectly. And the saddest part is Google still doesnt realise- THAT is the single largest reason developers jumped to Flutter! And come 2023 it&#39;ll be a sham to ignore the Java JDKs superiority in Features &amp; Performance. If Dart has a way better version than compose. way way better &amp; logical. And if Flutter/Dart did it from scratch... Im sure Google could have done an Alt version with Java.","body":"@DonKariro you said it perfectly. And the saddest part is Google still doesnt realise- THAT is the single largest reason developers jumped to Flutter! And come 2023 it&#39;ll be a sham to ignore the Java JDKs superiority in Features &amp; Performance. If Dart has a way better version than compose. way way better &amp; logical. And if Flutter/Dart did it from scratch... Im sure Google could have done an Alt version with Java."},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683717935,"post_id":66433621,"comment_id":134408685,"body_markdown":"@RyanM: So is it possible to do the reverse Kotlin which supports java code?","body":"@RyanM: So is it possible to do the reverse Kotlin which supports java code?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1683763644,"post_id":66433621,"comment_id":134418123,"body_markdown":"@Paul I&#39;m not sure what you mean by that exactly, but in general:  Kotlin has excellent interoperability with Java; you can [call most Kotlin code from Java](https://kotlinlang.org/docs/java-to-kotlin-interop.html), as well as [call Java code from Kotlin](https://kotlinlang.org/docs/java-interop.html).","body":"@Paul I&#39;m not sure what you mean by that exactly, but in general:  Kotlin has excellent interoperability with Java; you can <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">call most Kotlin code from Java</a>, as well as <a href=\"https://kotlinlang.org/docs/java-interop.html\" rel=\"nofollow noreferrer\">call Java code from Kotlin</a>."}],"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"comment_count":12,"down_vote_count":1,"up_vote_count":77,"is_accepted":true,"score":76,"last_activity_date":1614661586,"creation_date":1614661586,"answer_id":66433621,"question_id":66433437,"body_markdown":"No, you can&#39;t write Jetpack Compose components in Java, and there are no future plans to allow this (source: I work on Compose).   Note that this is not the same thing as using components created in Compose from a Java app, which [is possible][1].\r\n\r\nJetpack Compose makes heavy use of Kotlin features such as coroutines, and `@Composable` methods require transformations that are done by a Kotlin compiler plugin.  There is no way to get access to these from Java.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/compose/interop","title":"Can I write Jetpack Compose components in Java?","body":"<p>No, you can't write Jetpack Compose components in Java, and there are no future plans to allow this (source: I work on Compose).   Note that this is not the same thing as using components created in Compose from a Java app, which <a href=\"https://developer.android.com/jetpack/compose/interop\" rel=\"noreferrer\">is possible</a>.</p>\n<p>Jetpack Compose makes heavy use of Kotlin features such as coroutines, and <code>@Composable</code> methods require transformations that are done by a Kotlin compiler plugin.  There is no way to get access to these from Java.</p>\n"}],"owner":{"account_id":8025744,"reputation":615,"user_id":6571004,"accept_rate":17,"display_name":"Roker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20174,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":66433621,"answer_count":1,"score":46,"last_activity_date":1683406896,"creation_date":1614659912,"question_id":66433437,"body_markdown":"Is it possible to write Jetpack Compose components in Java? All of the documentation seems to only give examples in Kotlin.  If not, is there any future plan to allow components to be implemented in Java?","title":"Can I write Jetpack Compose components in Java?","body":"<p>Is it possible to write Jetpack Compose components in Java? All of the documentation seems to only give examples in Kotlin.  If not, is there any future plan to allow components to be implemented in Java?</p>\n"},{"tags":["java","mongodb","spring-boot","average"],"answers":[{"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683405925,"creation_date":1683405925,"answer_id":76191055,"question_id":76190468,"body_markdown":"You shouldn&#39;t be dividing by total number of ratings (numRatimgs) [this is what causing issue for you]\r\n\r\n    double avgRating = totalRating / numRatings;\r\n\r\nInstead you should divide it by actual number of occurrences of that particular movie until that time. \r\nMay be you can have a pojo called MoviRating where you can have properties inside it like - totalReviews,totalRating and averageRating\r\nIn your map you can have data as &lt;String, MovieRating&gt;\r\nAnd keep updating the data in pojo. \r\nHope this helps you. ","title":"Discrepancy in Calculating Average Ratings from Java Spring boot Rest api","body":"<p>You shouldn't be dividing by total number of ratings (numRatimgs) [this is what causing issue for you]</p>\n<pre><code>double avgRating = totalRating / numRatings;\n</code></pre>\n<p>Instead you should divide it by actual number of occurrences of that particular movie until that time.\nMay be you can have a pojo called MoviRating where you can have properties inside it like - totalReviews,totalRating and averageRating\nIn your map you can have data as &lt;String, MovieRating&gt;\nAnd keep updating the data in pojo.\nHope this helps you.</p>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76191055,"answer_count":1,"score":0,"last_activity_date":1683405925,"creation_date":1683397414,"question_id":76190468,"body_markdown":"I am working on a project where I need to calculate the average ratings from MongoDB data using Java. However, I&#39;m facing an issue where the calculated average does not match the expected result. I have reviewed the code and the data, but I&#39;m unable to identify the cause of the discrepancy.\r\nThe average rating I obtained from the calculation is 1.309375 However, based on the provided values, I expected the average rating to be  3.325 if I haven&#39;t forgotten how to average the results. \r\n\r\nthis is the document in mongodb review summary\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code I&#39;m using:\r\n\r\n```\r\n public Page&lt;Movie&gt; allMovies(Pageable pageable) throws Exception {\r\n        Page&lt;Movie&gt; movies = movieRepository.findAll(pageable);\r\n        List&lt;ReviewSummary&gt; reviewSummaries = reviewSummaryRepository.findAll();\r\n        int numRatings = reviewSummaries.size(); // Moved this line outside the loop\r\n        Map&lt;String, Double&gt; avgRatings = new HashMap&lt;&gt;();\r\n\r\n        for (ReviewSummary reviewSummary : reviewSummaries) {\r\n            String imdbId = reviewSummary.getMovieImdbId();\r\n            double rating = reviewSummary.getRating();\r\n\r\n            if (!avgRatings.containsKey(imdbId)) {\r\n                avgRatings.put(imdbId, rating);\r\n            } else {\r\n                double totalRating = avgRatings.get(imdbId) + rating;\r\n                double avgRating = totalRating / numRatings; // Changed reviewSummaries.size() to numRatings\r\n\r\n                avgRatings.put(imdbId, avgRating);\r\n            }\r\n        }\r\n\r\n        for (Movie movie : movies) {\r\n            String imdbId = movie.getImdbId();\r\n            if (avgRatings.containsKey(imdbId)) {\r\n                double avgRating = avgRatings.get(imdbId);\r\n                movie.setAvgRating(avgRating);\r\n            } else {\r\n                movie.setAvgRating(0.0);\r\n            }\r\n        }\r\n\r\n        return movies;\r\n\r\n    }\r\n\r\n```\r\n\r\nthis is what i get in my postman get request for a movie\r\n\r\n```\r\n&quot;imdbId&quot;: &quot;tt8760708&quot;,\r\n            &quot;title&quot;: &quot;M3GAN&quot;,\r\n            &quot;releaseDate&quot;: &quot;2023-01-06&quot;,\r\n            &quot;trailerLink&quot;: &quot;https://www.youtube.com/watch?v=BRb4U99OU80&quot;,\r\n            &quot;poster&quot;: &quot;https://image.tmdb.org/t/p/w500/xBl5AGw7HXZcv1nNXPlzGgO4Cfo.jpg&quot;,\r\n            &quot;genres&quot;: [\r\n                &quot;Science Fiction&quot;,\r\n                &quot;Horror&quot;,\r\n                &quot;Comedy&quot;\r\n            ],\r\n            &quot;backdrops&quot;: [\r\n                &quot;https://image.tmdb.org/t/p/original/5kAGbi9MFAobQTVfK4kWPnIfnP0.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/dlxzUj7z1MqEcFiwvvrj0bvBKDY.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/q2fY4kMXKoGv4CQf310MCxpXlRI.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/pTxwFdsdDWzpCRYuk1QbggdaOlL.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/1zuz2RgFoOjulkjjNHHFc3WiHGB.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/7HqxI1IXMloT9VTSuDC8ikaj810.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/vpK2rp3J5LiC01HoNM0j9DEHQ1T.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/cNHXdmr4amP6EPCMa0dqD8rwzDV.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/txQLFd6rfQrskQhFENkS1jElptt.jpg&quot;,\r\n                &quot;https://image.tmdb.org/t/p/original/dC4tj1ONdlZ2TWv4XD2SA1KUnJN.jpg&quot;\r\n            ],\r\n            &quot;reviewIds&quot;: [\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393168,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393168,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 3.5\r\n                    },\r\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393413,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393413,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 3.5\r\n                    },\r\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393446,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393446,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 2.0\r\n                    },\r\n                    &quot;body&quot;: &quot;good enough &quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393489,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;rating&quot;: {\r\n                        &quot;id&quot;: {\r\n                            &quot;timestamp&quot;: 1683393489,\r\n                            &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\r\n                        },\r\n                        &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\r\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                        &quot;value&quot;: 4.3\r\n                    },\r\n                    &quot;body&quot;: &quot;very good&quot;\r\n                }\r\n            ],\r\n            &quot;ratings&quot;: [\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393168,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 3.5\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393413,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 3.5\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393446,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 2.0\r\n                },\r\n                {\r\n                    &quot;id&quot;: {\r\n                        &quot;timestamp&quot;: 1683393489,\r\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\r\n                    },\r\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\r\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\r\n                    &quot;value&quot;: 4.3\r\n                }\r\n            ],\r\n ----&gt; here is the issue     &quot;avgRating&quot;: 1.309375,\r\n            &quot;predictedRating&quot;: 0.0,\r\n            &quot;similarity&quot;: 0.0\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xD2nI.png","title":"Discrepancy in Calculating Average Ratings from Java Spring boot Rest api","body":"<p>I am working on a project where I need to calculate the average ratings from MongoDB data using Java. However, I'm facing an issue where the calculated average does not match the expected result. I have reviewed the code and the data, but I'm unable to identify the cause of the discrepancy.\nThe average rating I obtained from the calculation is 1.309375 However, based on the provided values, I expected the average rating to be  3.325 if I haven't forgotten how to average the results.</p>\n<p>this is the document in mongodb review summary\n<a href=\"https://i.stack.imgur.com/xD2nI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xD2nI.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code I'm using:</p>\n<pre><code> public Page&lt;Movie&gt; allMovies(Pageable pageable) throws Exception {\n        Page&lt;Movie&gt; movies = movieRepository.findAll(pageable);\n        List&lt;ReviewSummary&gt; reviewSummaries = reviewSummaryRepository.findAll();\n        int numRatings = reviewSummaries.size(); // Moved this line outside the loop\n        Map&lt;String, Double&gt; avgRatings = new HashMap&lt;&gt;();\n\n        for (ReviewSummary reviewSummary : reviewSummaries) {\n            String imdbId = reviewSummary.getMovieImdbId();\n            double rating = reviewSummary.getRating();\n\n            if (!avgRatings.containsKey(imdbId)) {\n                avgRatings.put(imdbId, rating);\n            } else {\n                double totalRating = avgRatings.get(imdbId) + rating;\n                double avgRating = totalRating / numRatings; // Changed reviewSummaries.size() to numRatings\n\n                avgRatings.put(imdbId, avgRating);\n            }\n        }\n\n        for (Movie movie : movies) {\n            String imdbId = movie.getImdbId();\n            if (avgRatings.containsKey(imdbId)) {\n                double avgRating = avgRatings.get(imdbId);\n                movie.setAvgRating(avgRating);\n            } else {\n                movie.setAvgRating(0.0);\n            }\n        }\n\n        return movies;\n\n    }\n\n</code></pre>\n<p>this is what i get in my postman get request for a movie</p>\n<pre><code>&quot;imdbId&quot;: &quot;tt8760708&quot;,\n            &quot;title&quot;: &quot;M3GAN&quot;,\n            &quot;releaseDate&quot;: &quot;2023-01-06&quot;,\n            &quot;trailerLink&quot;: &quot;https://www.youtube.com/watch?v=BRb4U99OU80&quot;,\n            &quot;poster&quot;: &quot;https://image.tmdb.org/t/p/w500/xBl5AGw7HXZcv1nNXPlzGgO4Cfo.jpg&quot;,\n            &quot;genres&quot;: [\n                &quot;Science Fiction&quot;,\n                &quot;Horror&quot;,\n                &quot;Comedy&quot;\n            ],\n            &quot;backdrops&quot;: [\n                &quot;https://image.tmdb.org/t/p/original/5kAGbi9MFAobQTVfK4kWPnIfnP0.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/dlxzUj7z1MqEcFiwvvrj0bvBKDY.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/q2fY4kMXKoGv4CQf310MCxpXlRI.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/pTxwFdsdDWzpCRYuk1QbggdaOlL.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/1zuz2RgFoOjulkjjNHHFc3WiHGB.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/7HqxI1IXMloT9VTSuDC8ikaj810.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/vpK2rp3J5LiC01HoNM0j9DEHQ1T.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/cNHXdmr4amP6EPCMa0dqD8rwzDV.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/txQLFd6rfQrskQhFENkS1jElptt.jpg&quot;,\n                &quot;https://image.tmdb.org/t/p/original/dC4tj1ONdlZ2TWv4XD2SA1KUnJN.jpg&quot;\n            ],\n            &quot;reviewIds&quot;: [\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393168,\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393168,\n                            &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 3.5\n                    },\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393413,\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393413,\n                            &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 3.5\n                    },\n                    &quot;body&quot;: &quot;Seem a bit meh &quot;\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393446,\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393446,\n                            &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 2.0\n                    },\n                    &quot;body&quot;: &quot;good enough &quot;\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393489,\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;rating&quot;: {\n                        &quot;id&quot;: {\n                            &quot;timestamp&quot;: 1683393489,\n                            &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\n                        },\n                        &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\n                        &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                        &quot;value&quot;: 4.3\n                    },\n                    &quot;body&quot;: &quot;very good&quot;\n                }\n            ],\n            &quot;ratings&quot;: [\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393168,\n                        &quot;date&quot;: &quot;2023-05-06T17:12:48.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;arnold@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 3.5\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393413,\n                        &quot;date&quot;: &quot;2023-05-06T17:16:53.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;john@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 3.5\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393446,\n                        &quot;date&quot;: &quot;2023-05-06T17:17:26.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;jim@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 2.0\n                },\n                {\n                    &quot;id&quot;: {\n                        &quot;timestamp&quot;: 1683393489,\n                        &quot;date&quot;: &quot;2023-05-06T17:18:09.000+00:00&quot;\n                    },\n                    &quot;userEmail&quot;: &quot;will@gmail.com&quot;,\n                    &quot;movieImdbId&quot;: &quot;tt8760708&quot;,\n                    &quot;value&quot;: 4.3\n                }\n            ],\n ----&gt; here is the issue     &quot;avgRating&quot;: 1.309375,\n            &quot;predictedRating&quot;: 0.0,\n            &quot;similarity&quot;: 0.0\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683401449,"post_id":76190688,"comment_id":134362245,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683402553,"post_id":76190688,"comment_id":134362383,"body_markdown":"com.microsoft.sqlserver.jdbc.SQLServerException: Foreign key &#39;FKmsdbtbsin4to948knbnc44on8&#39; has implicit reference to object &#39;DT_DropGroup&#39; which does not have a primary key defined on it.","body":"com.microsoft.sqlserver.jdbc.SQLServerException: Foreign key &#39;FKmsdbtbsin4to948knbnc44on8&#39; has implicit reference to object &#39;DT_DropGroup&#39; which does not have a primary key defined on it."},{"owner":{"account_id":24554671,"reputation":3,"user_id":18463424,"display_name":" "},"score":0,"creation_date":1683407807,"post_id":76190688,"comment_id":134363025,"body_markdown":"I was given a table in which there are no keys, can I do it without adding keys?","body":"I was given a table in which there are no keys, can I do it without adding keys?"}],"owner":{"account_id":24554671,"reputation":3,"user_id":18463424,"display_name":" "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683405337,"creation_date":1683400740,"question_id":76190688,"body_markdown":"I have a request SQL and can&#39;t implement in Java spring`\r\n\r\n\r\n```\r\n SELECT DISTINCT\r\n    mo.MName AS &#39;Boss&#39;,\r\n        tdg.DName AS &#39;Name group&#39;,\r\n        it.IName AS &#39;Name item&#39;,\r\n        tpis.mDesc AS &#39;Item &#39;,\r\n        CASE\r\n        WHEN evo.mObjID IS NULL THEN &#39;Not event item&#39;\r\n        ELSE &#39;Event item&#39;\r\n        END AS &#39;Event&#39;\r\n        FROM\r\n        DT_Monster AS mo\r\n        INNER JOIN DT_MonsterDrop AS md ON mo.MID = md.MID\r\n        INNER JOIN DT_DropGroup AS dg ON md.DGroup = dg.DGroup\r\n        INNER JOIN TP_DropGroup AS tdg ON md.DGroup = tdg.DGroup\r\n        INNER JOIN DT_DropItem AS di ON dg.DDrop = di.DDrop\r\n        INNER JOIN TP_ItemStatus AS tpis ON di.DStatus = tpis.mStatus\r\n        INNER JOIN DT_Item AS it ON di.DItem = it.IID\r\n        LEFT JOIN TblEventObj AS evo ON it.IID = evo.mObjID\r\n        WHERE\r\n        mo.MID = 84\r\n        and di.DIsEvent = 0\r\n```\r\n\r\n\r\n```\r\n@Table(name = &quot;DT_Monster&quot;)\r\npublic class Monster {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;MID&quot;, nullable = false)\r\n    private int MID;\r\n\r\n    @Column(name = &quot;MName&quot;, columnDefinition = &quot;varchar&quot;, length = 40)\r\n    private String MName;\r\n\r\n    @Column(name = &quot;mLevel&quot;)\r\n    private int mLevel;\r\n\r\n    @Column(name = &quot;MClass&quot;)\r\n    private int MClass;\r\n\r\n    @Column(name = &quot;MExp&quot;)\r\n    private int MExp;\r\n\r\n    @Column(name = &quot;MHIT&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MHIT;\r\n\r\n    @Column(name = &quot;MMinD&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMinD;\r\n\r\n    @Column(name = &quot;MMaxD&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMaxD;\r\n\r\n    @Column(name = &quot;MAttackRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MAttackRateOrg;\r\n\r\n    @Column(name = &quot;MMoveRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMoveRateOrg;\r\n\r\n    @Column(name = &quot;MAttackRateNew&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MAttackRateNew;\r\n\r\n    @Column(name = &quot;MMoveRateNew&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMoveRateNew;\r\n\r\n    @Column(name = &quot;MHP&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MHP;\r\n\r\n    @Column(name = &quot;MMP&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MMP;\r\n\r\n    @Column(name = &quot;MMoveRange&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MMoveRange;\r\n\r\n    @Column(name = &quot;MGbjType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MGbjType;\r\n\r\n    @Column(name = &quot;MRaceType&quot;, columnDefinition = &quot;smallint&quot;)\r\n    private short MRaceType;\r\n\r\n    @Column(name = &quot;MAiType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MAiType;\r\n\r\n    @Column(name = &quot;MCastingDelay&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MCastingDelay;\r\n\r\n    @Column(name = &quot;MChaotic&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\r\n    private short MChaotic;\r\n\r\n    @Column(name = &quot;MSameRace1&quot;, nullable = false)\r\n    private int MSameRace1;\r\n\r\n    @Column(name = &quot;MSameRace2&quot;, nullable = false)\r\n    private int MSameRace2;\r\n\r\n    @Column(name = &quot;MSameRace3&quot;, nullable = false)\r\n    private int MSameRace3;\r\n\r\n    @Column(name = &quot;MSameRace4&quot;, nullable = false)\r\n    private int MSameRace4;\r\n\r\n    @Column(name = &quot;mSightRange&quot;, nullable = false)\r\n    private int mSightRange;\r\n\r\n    @Column(name = &quot;mAttackRange&quot;, nullable = false)\r\n    private int mAttackRange;\r\n\r\n    @Column(name = &quot;mSkillRange&quot;, nullable = false)\r\n    private int mSkillRange;\r\n\r\n    @Column(name = &quot;mBodySize&quot;, nullable = false)\r\n    private int mBodySize;\r\n\r\n    @Column(name = &quot;mDetectTransF&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDetectTransF;\r\n\r\n    @Column(name = &quot;mDetectTransP&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDetectTransP;\r\n\r\n    @Column(name = &quot;mDetectChao&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDetectChao;\r\n\r\n    @Column(name = &quot;mAiEx&quot;)\r\n    private int mAiEx;\r\n\r\n    @Column(name = &quot;mScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\r\n    private double mScale;\r\n\r\n    @Column(name = &quot;mIsResistTransF&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsResistTransF;\r\n\r\n    @Column(name = &quot;mIsEvent&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsEvent;\r\n\r\n    @Column(name = &quot;mIsTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsTest;\r\n\r\n    @Column(name = &quot;mHPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mHPNew;\r\n\r\n    @Column(name = &quot;mMPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMPNew;\r\n\r\n    @Column(name = &quot;mBuyMerchanID&quot;, nullable = false)\r\n    private int mBuyMerchanID;\r\n\r\n    @Column(name = &quot;mSellMerchanID&quot;, nullable = false)\r\n    private int mSellMerchanID;\r\n\r\n    @Column(name = &quot;mChargeMerchanID&quot;, nullable = false)\r\n    private int mChargeMerchanID;\r\n\r\n    @Column(name = &quot;mTransformWeight&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mTransformWeight;\r\n\r\n    @Column(name = &quot;mNationOp&quot;, nullable = false, columnDefinition = &quot;bigint&quot;)\r\n    private long mNationOp;\r\n\r\n    @Column(name = &quot;mHPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mHPRegen;\r\n\r\n    @Column(name = &quot;mMPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMPRegen;\r\n\r\n    @Column(name = &quot;IContentsLv&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte IContentsLv;\r\n\r\n    @Column(name = &quot;mIsEventTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsEventTest;\r\n\r\n    @Column(name = &quot;mIsShowHp&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsShowHp;\r\n\r\n    @Column(name = &quot;mSupportType&quot;, nullable = false, columnDefinition = &quot;timyint&quot;)\r\n    private byte mSupportType;\r\n\r\n    @Column(name = &quot;mVolitionOfHonor&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mVolitionOfHonor;\r\n\r\n    @Column(name = &quot;mWMapIconType&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mWMapIconType;\r\n\r\n    @Column(name = &quot;mIsAmpliableTermOfValidity&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\r\n    private boolean mIsAmpliableTermOfValidity;\r\n\r\n    @Column(name = &quot;mAttackType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte mAttackType;\r\n\r\n    @Column(name = &quot;mTransType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte mTransType;\r\n\r\n    @Column(name = &quot;mDPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDPV;\r\n\r\n    @Column(name = &quot;mMPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMPV;\r\n\r\n    @Column(name = &quot;mRPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mRPV;\r\n\r\n    @Column(name = &quot;mDDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mDDV;\r\n\r\n    @Column(name = &quot;mMDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mMDV;\r\n\r\n    @Column(name = &quot;mRDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mRDV;\r\n\r\n    @Column(name = &quot;mSubDDWhenCritical&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mSubDDWhenCritical;\r\n\r\n    @Column(name = &quot;mEnemySubCriticalHit&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\r\n    private short mEnemySubCriticalHit;\r\n\r\n    @Column(name = &quot;mEventQuest&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\r\n    private byte mEventQuest;\r\n\r\n    @Column(name = &quot;mEScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\r\n    private double mEScale;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;monster&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\r\n\r\n    public Monster() {}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@Table(name = &quot;DT_MonsterDrop&quot;)\r\npublic class MonsterDrop {\r\n\r\n    @Id\r\n    private int MID;\r\n\r\n    @Column(name = &quot;DGroup&quot;)\r\n    private int DGroup;\r\n\r\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;tinyint&quot;)\r\n    private byte DPercent;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\r\n    private Monster monster;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\r\n    private DropGroup dropGroup;\r\n\r\n    public MonsterDrop(){}\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Table(name = &quot;DT_DropGroup&quot;)\r\npublic class DropGroup {\r\n\r\n    @Id\r\n    @Column(name = &quot;DGroup&quot;)\r\n    private int DGroup;\r\n\r\n    @Column(name = &quot;DDrop&quot;)\r\n    private int DDrop;\r\n\r\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;real&quot;)\r\n    private float DPercent;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;dropGroup&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\r\n\r\n    public DropGroup() {}\r\n\r\n\r\n}\r\n```\r\n\r\n&gt; CODE ERROR org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table DT_MonsterDrop add constraint FKmsdbtbsin4to948knbnc44on8 foreign key (DGroup) references DT_DropGroup&quot; via JDBC Statement\r\n\r\nProblem in \r\n\r\n\r\n```\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\r\n    private Monster monster;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\r\n    private DropGroup dropGroup;\r\n```\r\n\r\nif you remove the @JoinColumn the problem is not\r\n\r\nsimilar problem in\r\n@JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\r\nand\r\n@JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)","title":"how to make a relationship between tables in Java Spring","body":"<p>I have a request SQL and can't implement in Java spring`</p>\n<pre><code> SELECT DISTINCT\n    mo.MName AS 'Boss',\n        tdg.DName AS 'Name group',\n        it.IName AS 'Name item',\n        tpis.mDesc AS 'Item ',\n        CASE\n        WHEN evo.mObjID IS NULL THEN 'Not event item'\n        ELSE 'Event item'\n        END AS 'Event'\n        FROM\n        DT_Monster AS mo\n        INNER JOIN DT_MonsterDrop AS md ON mo.MID = md.MID\n        INNER JOIN DT_DropGroup AS dg ON md.DGroup = dg.DGroup\n        INNER JOIN TP_DropGroup AS tdg ON md.DGroup = tdg.DGroup\n        INNER JOIN DT_DropItem AS di ON dg.DDrop = di.DDrop\n        INNER JOIN TP_ItemStatus AS tpis ON di.DStatus = tpis.mStatus\n        INNER JOIN DT_Item AS it ON di.DItem = it.IID\n        LEFT JOIN TblEventObj AS evo ON it.IID = evo.mObjID\n        WHERE\n        mo.MID = 84\n        and di.DIsEvent = 0\n</code></pre>\n<pre><code>@Table(name = &quot;DT_Monster&quot;)\npublic class Monster {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;MID&quot;, nullable = false)\n    private int MID;\n\n    @Column(name = &quot;MName&quot;, columnDefinition = &quot;varchar&quot;, length = 40)\n    private String MName;\n\n    @Column(name = &quot;mLevel&quot;)\n    private int mLevel;\n\n    @Column(name = &quot;MClass&quot;)\n    private int MClass;\n\n    @Column(name = &quot;MExp&quot;)\n    private int MExp;\n\n    @Column(name = &quot;MHIT&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MHIT;\n\n    @Column(name = &quot;MMinD&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMinD;\n\n    @Column(name = &quot;MMaxD&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMaxD;\n\n    @Column(name = &quot;MAttackRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MAttackRateOrg;\n\n    @Column(name = &quot;MMoveRateOrg&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMoveRateOrg;\n\n    @Column(name = &quot;MAttackRateNew&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MAttackRateNew;\n\n    @Column(name = &quot;MMoveRateNew&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMoveRateNew;\n\n    @Column(name = &quot;MHP&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MHP;\n\n    @Column(name = &quot;MMP&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MMP;\n\n    @Column(name = &quot;MMoveRange&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MMoveRange;\n\n    @Column(name = &quot;MGbjType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MGbjType;\n\n    @Column(name = &quot;MRaceType&quot;, columnDefinition = &quot;smallint&quot;)\n    private short MRaceType;\n\n    @Column(name = &quot;MAiType&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MAiType;\n\n    @Column(name = &quot;MCastingDelay&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MCastingDelay;\n\n    @Column(name = &quot;MChaotic&quot;, columnDefinition = &quot;smallint&quot;, nullable = false)\n    private short MChaotic;\n\n    @Column(name = &quot;MSameRace1&quot;, nullable = false)\n    private int MSameRace1;\n\n    @Column(name = &quot;MSameRace2&quot;, nullable = false)\n    private int MSameRace2;\n\n    @Column(name = &quot;MSameRace3&quot;, nullable = false)\n    private int MSameRace3;\n\n    @Column(name = &quot;MSameRace4&quot;, nullable = false)\n    private int MSameRace4;\n\n    @Column(name = &quot;mSightRange&quot;, nullable = false)\n    private int mSightRange;\n\n    @Column(name = &quot;mAttackRange&quot;, nullable = false)\n    private int mAttackRange;\n\n    @Column(name = &quot;mSkillRange&quot;, nullable = false)\n    private int mSkillRange;\n\n    @Column(name = &quot;mBodySize&quot;, nullable = false)\n    private int mBodySize;\n\n    @Column(name = &quot;mDetectTransF&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDetectTransF;\n\n    @Column(name = &quot;mDetectTransP&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDetectTransP;\n\n    @Column(name = &quot;mDetectChao&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDetectChao;\n\n    @Column(name = &quot;mAiEx&quot;)\n    private int mAiEx;\n\n    @Column(name = &quot;mScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\n    private double mScale;\n\n    @Column(name = &quot;mIsResistTransF&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsResistTransF;\n\n    @Column(name = &quot;mIsEvent&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsEvent;\n\n    @Column(name = &quot;mIsTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsTest;\n\n    @Column(name = &quot;mHPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mHPNew;\n\n    @Column(name = &quot;mMPNew&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMPNew;\n\n    @Column(name = &quot;mBuyMerchanID&quot;, nullable = false)\n    private int mBuyMerchanID;\n\n    @Column(name = &quot;mSellMerchanID&quot;, nullable = false)\n    private int mSellMerchanID;\n\n    @Column(name = &quot;mChargeMerchanID&quot;, nullable = false)\n    private int mChargeMerchanID;\n\n    @Column(name = &quot;mTransformWeight&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mTransformWeight;\n\n    @Column(name = &quot;mNationOp&quot;, nullable = false, columnDefinition = &quot;bigint&quot;)\n    private long mNationOp;\n\n    @Column(name = &quot;mHPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mHPRegen;\n\n    @Column(name = &quot;mMPRegen&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMPRegen;\n\n    @Column(name = &quot;IContentsLv&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte IContentsLv;\n\n    @Column(name = &quot;mIsEventTest&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsEventTest;\n\n    @Column(name = &quot;mIsShowHp&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsShowHp;\n\n    @Column(name = &quot;mSupportType&quot;, nullable = false, columnDefinition = &quot;timyint&quot;)\n    private byte mSupportType;\n\n    @Column(name = &quot;mVolitionOfHonor&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mVolitionOfHonor;\n\n    @Column(name = &quot;mWMapIconType&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mWMapIconType;\n\n    @Column(name = &quot;mIsAmpliableTermOfValidity&quot;, nullable = false, columnDefinition = &quot;bit&quot;)\n    private boolean mIsAmpliableTermOfValidity;\n\n    @Column(name = &quot;mAttackType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte mAttackType;\n\n    @Column(name = &quot;mTransType&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte mTransType;\n\n    @Column(name = &quot;mDPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDPV;\n\n    @Column(name = &quot;mMPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMPV;\n\n    @Column(name = &quot;mRPV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mRPV;\n\n    @Column(name = &quot;mDDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mDDV;\n\n    @Column(name = &quot;mMDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mMDV;\n\n    @Column(name = &quot;mRDV&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mRDV;\n\n    @Column(name = &quot;mSubDDWhenCritical&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mSubDDWhenCritical;\n\n    @Column(name = &quot;mEnemySubCriticalHit&quot;, nullable = false, columnDefinition = &quot;smallint&quot;)\n    private short mEnemySubCriticalHit;\n\n    @Column(name = &quot;mEventQuest&quot;, nullable = false, columnDefinition = &quot;tinyint&quot;)\n    private byte mEventQuest;\n\n    @Column(name = &quot;mEScale&quot;, nullable = false, columnDefinition = &quot;float&quot;, length = 53)\n    private double mEScale;\n\n\n    @OneToMany(mappedBy = &quot;monster&quot;, cascade = CascadeType.ALL)\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\n\n    public Monster() {}\n\n}\n\n</code></pre>\n<pre><code>@Table(name = &quot;DT_MonsterDrop&quot;)\npublic class MonsterDrop {\n\n    @Id\n    private int MID;\n\n    @Column(name = &quot;DGroup&quot;)\n    private int DGroup;\n\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;tinyint&quot;)\n    private byte DPercent;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\n    private Monster monster;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\n    private DropGroup dropGroup;\n\n    public MonsterDrop(){}\n\n\n}\n</code></pre>\n<pre><code>@Table(name = &quot;DT_DropGroup&quot;)\npublic class DropGroup {\n\n    @Id\n    @Column(name = &quot;DGroup&quot;)\n    private int DGroup;\n\n    @Column(name = &quot;DDrop&quot;)\n    private int DDrop;\n\n    @Column(name = &quot;DPercent&quot;, columnDefinition = &quot;real&quot;)\n    private float DPercent;\n\n\n    @OneToMany(mappedBy = &quot;dropGroup&quot;, cascade = CascadeType.ALL)\n    private List&lt;MonsterDrop&gt; monsterDrops = new ArrayList&lt;&gt;();\n\n    public DropGroup() {}\n\n\n}\n</code></pre>\n<blockquote>\n<p>CODE ERROR org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table DT_MonsterDrop add constraint FKmsdbtbsin4to948knbnc44on8 foreign key (DGroup) references DT_DropGroup&quot; via JDBC Statement</p>\n</blockquote>\n<p>Problem in</p>\n<pre><code>    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\n    private Monster monster;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)\n    private DropGroup dropGroup;\n</code></pre>\n<p>if you remove the @JoinColumn the problem is not</p>\n<p>similar problem in\n@JoinColumn(name = &quot;MID&quot;, insertable=false, updatable=false)\nand\n@JoinColumn(name = &quot;DGroup&quot;, insertable=false, updatable=false)</p>\n"},{"tags":["java","spring","spring-context"],"comments":[{"owner":{"account_id":8733951,"reputation":368,"user_id":6533159,"display_name":"Daniele Repici"},"score":0,"creation_date":1683039412,"post_id":59248408,"comment_id":134303623,"body_markdown":"I wish this had a relevant answer. I just came across the same issue and I&#39;m baffled.","body":"I wish this had a relevant answer. I just came across the same issue and I&#39;m baffled."}],"answers":[{"comments":[{"owner":{"account_id":2519922,"reputation":10415,"user_id":2190498,"accept_rate":30,"display_name":"ttulka"},"score":0,"creation_date":1575893843,"post_id":59248599,"comment_id":104707233,"body_markdown":"So the answer is: With &quot;regular component class&quot; is meant any class. Right?","body":"So the answer is: With &quot;regular component class&quot; is meant any class. Right?"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1575894474,"post_id":59248599,"comment_id":104707577,"body_markdown":"@ttulka defacto `@Configuration` can hold non managed beans (any class), but the practice is to hold `@Component` classes","body":"@ttulka defacto <code>@Configuration</code> can hold non managed beans (any class), but the practice is to hold <code>@Component</code> classes"}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575893172,"creation_date":1575893172,"answer_id":59248599,"question_id":59248408,"body_markdown":"It states in [java docs][1] to use [ImportResource][2] for importing classes which aren&#39;t `@Configuration`\r\n&gt;If XML or other non-@Configuration bean definition resources need to be imported, use the @ImportResource annotation instead.\r\n\r\n[1]:https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\r\n\r\n[2]:https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportResource.html","title":"@Import registers non-@Component beans","body":"<p>It states in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">java docs</a> to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ImportResource.html\" rel=\"nofollow noreferrer\">ImportResource</a> for importing classes which aren't <code>@Configuration</code></p>\n\n<blockquote>\n  <p>If XML or other non-@Configuration bean definition resources need to be imported, use the @ImportResource annotation instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683376009,"creation_date":1683376009,"answer_id":76188884,"question_id":59248408,"body_markdown":"## Summary\r\n\r\nThe `@Import` annotation is designed to turn the referenced classes into bean definitions. If a &quot;regular&quot; component is imported with `@Import`, there is usually no reason to annotate it with `@Component` as this annotation does not prescribe any kind of behavior for the resulting bean. `@Component` does **not** primarily mark classes as Spring beans but as classes to be picked up by classpath scanning.\r\n\r\nUsually, the imported classes are configuration classes that are annotated with `@Configuration`. And the configuration classes will also be included in the final application context as beans. The word &quot;regular&quot; in this context is meant to refer to beans (or components) that are **not** also configuration classes or other kinds of beans that add themselves other bean definitions to the application context. The word &quot;regular&quot; here could also be replaced with e.g. &quot;normal&quot; or &quot;plain-vanilla&quot;.\r\n\r\nIn fact, configuration classes that are imported with `@Import` also don&#39;t need to be annotated with `@Configuration`. But in this case, there is a functional difference as the beans from the `@Bean` annotated factory methods will be produced in &quot;bean lite&quot; mode if the annotation `@Configuration` is missing.\r\n\r\n## Details\r\n\r\nThe annotation `@Component` does not describe any kind of behavior of the beans that are instances of the annotated class. It is really just a marker for classes. If classpath scanning is used to configure the application context, then any class annotated with `@Component` will be turned into a bean definition that will yield a bean that is an instance of the annotated class.\r\n\r\nThis is also stated in the javadoc of the annotation:\r\n\r\n&gt; Indicates that an annotated class is a &quot;component&quot;. Such classes are considered as candidates for auto-detection when using annotation-based configuration and classpath scanning.\r\n\r\nToday, annotation-based configuration and classpath scanning are the dominant way today to configure Spring application contexts. This wasn&#39;t true in the past, which also saw e.g. a lot of XML configuration. In fact, the Spring framework is older than Java 5, which was the first Java that introduced annotations to the language.\r\n\r\nIf annotation-based configuration is used but **not** classpath scanning, the annotation `@Import` allows to create references from central configuration classes to other configuration classes or in particular &quot;regular&quot; component classes. This is also how the reference documentation talks about this feature:\r\n\r\n&gt; As of Spring Framework 4.2, `@Import` also supports references to regular component classes, analogous to the `AnnotationConfigApplicationContext.register` method. This is particularly useful if you want to avoid component scanning, by using a few configuration classes as entry points to explicitly define all your components.\r\n\r\nSo if classpath scanning is not used, then there is basically no point in marking classes with `@Component` as it does not prescribe any behavior. This is not only true for &quot;regular&quot; beans that are imported with `@Import` but also for beans that come from `&lt;bean&gt;` elements in an XML configuration or functionally registered beans.\r\n\r\nBefore Spring 4.2 the annotation `@Import` could only import non-regular beans like e.g. `@Configuration` classes. This was because `@Import` can be thought of as the equivalent of the `&lt;import&gt;` element in XML configuration, which is used to include e.g. other XML files that then again contain `&lt;bean&gt;` elements.\r\n\r\nThe word &quot;regular&quot; in this context refers to classes that I would normally annotate with `@Component` if classpath scanning were used. The word is only used here to differentiate such classes from &quot;non-regular&quot; components like `@Configuration` classes, ImportSelector and ImportBeanDefinitionRegistrar implementations.","title":"@Import registers non-@Component beans","body":"<h2>Summary</h2>\n<p>The <code>@Import</code> annotation is designed to turn the referenced classes into bean definitions. If a &quot;regular&quot; component is imported with <code>@Import</code>, there is usually no reason to annotate it with <code>@Component</code> as this annotation does not prescribe any kind of behavior for the resulting bean. <code>@Component</code> does <strong>not</strong> primarily mark classes as Spring beans but as classes to be picked up by classpath scanning.</p>\n<p>Usually, the imported classes are configuration classes that are annotated with <code>@Configuration</code>. And the configuration classes will also be included in the final application context as beans. The word &quot;regular&quot; in this context is meant to refer to beans (or components) that are <strong>not</strong> also configuration classes or other kinds of beans that add themselves other bean definitions to the application context. The word &quot;regular&quot; here could also be replaced with e.g. &quot;normal&quot; or &quot;plain-vanilla&quot;.</p>\n<p>In fact, configuration classes that are imported with <code>@Import</code> also don't need to be annotated with <code>@Configuration</code>. But in this case, there is a functional difference as the beans from the <code>@Bean</code> annotated factory methods will be produced in &quot;bean lite&quot; mode if the annotation <code>@Configuration</code> is missing.</p>\n<h2>Details</h2>\n<p>The annotation <code>@Component</code> does not describe any kind of behavior of the beans that are instances of the annotated class. It is really just a marker for classes. If classpath scanning is used to configure the application context, then any class annotated with <code>@Component</code> will be turned into a bean definition that will yield a bean that is an instance of the annotated class.</p>\n<p>This is also stated in the javadoc of the annotation:</p>\n<blockquote>\n<p>Indicates that an annotated class is a &quot;component&quot;. Such classes are considered as candidates for auto-detection when using annotation-based configuration and classpath scanning.</p>\n</blockquote>\n<p>Today, annotation-based configuration and classpath scanning are the dominant way today to configure Spring application contexts. This wasn't true in the past, which also saw e.g. a lot of XML configuration. In fact, the Spring framework is older than Java 5, which was the first Java that introduced annotations to the language.</p>\n<p>If annotation-based configuration is used but <strong>not</strong> classpath scanning, the annotation <code>@Import</code> allows to create references from central configuration classes to other configuration classes or in particular &quot;regular&quot; component classes. This is also how the reference documentation talks about this feature:</p>\n<blockquote>\n<p>As of Spring Framework 4.2, <code>@Import</code> also supports references to regular component classes, analogous to the <code>AnnotationConfigApplicationContext.register</code> method. This is particularly useful if you want to avoid component scanning, by using a few configuration classes as entry points to explicitly define all your components.</p>\n</blockquote>\n<p>So if classpath scanning is not used, then there is basically no point in marking classes with <code>@Component</code> as it does not prescribe any behavior. This is not only true for &quot;regular&quot; beans that are imported with <code>@Import</code> but also for beans that come from <code>&lt;bean&gt;</code> elements in an XML configuration or functionally registered beans.</p>\n<p>Before Spring 4.2 the annotation <code>@Import</code> could only import non-regular beans like e.g. <code>@Configuration</code> classes. This was because <code>@Import</code> can be thought of as the equivalent of the <code>&lt;import&gt;</code> element in XML configuration, which is used to include e.g. other XML files that then again contain <code>&lt;bean&gt;</code> elements.</p>\n<p>The word &quot;regular&quot; in this context refers to classes that I would normally annotate with <code>@Component</code> if classpath scanning were used. The word is only used here to differentiate such classes from &quot;non-regular&quot; components like <code>@Configuration</code> classes, ImportSelector and ImportBeanDefinitionRegistrar implementations.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683404141,"creation_date":1683391013,"answer_id":76190015,"question_id":59248408,"body_markdown":"While this maybe &quot;works&quot;:\r\n```\r\n@Configuration\r\n@Import({MyBean.class})\r\nclass MyConfig {\r\n    @Bean\r\n    Object object(MyBean myBean) { // this works\r\n        return new Object();\r\n    }\r\n}\r\n\r\nclass MyBean {} // no annotation here\r\n```\r\n\r\nThis (bean) won&#39;t (unless spring can &quot;resolve arguments&quot;):\r\n```lang-java\r\npackage io.external;\r\n//no spring annotations\r\npublic class MyBean {\r\n    public MyBean(String gotcha) { // ! ...\r\n      // just a demo\r\n    }\r\n} \r\n```\r\nThe context will fail to start with:\r\n```lang-text\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in io.external.MyBean required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n```\r\n\r\n----------\r\n\r\n\r\nBy &quot;regular component classes&quot; spring documentation *must* refer to classes *annotated*:\r\n - `@Component`\r\n - `@Repository` (`@NoRepositoryBean`!;)\r\n - `@Service`\r\n - even `@Configuration` (, @SpringBootApplication, @TestConfiguration(?), ...) &lt;- most typical and documented for `@Import`\r\n - and their descendants/inheritors ...\r\n\r\n... as described by [beans-stereotype-annotations](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotype-annotations).\r\n\r\n----------\r\n\r\nOn the other hand, when we try without `@Import({MyBean.class})`, it also fails, due to:\r\n```lang-text\r\nParameter 0 of method object in com.example.... required a bean of type &#39;io.external.MyBean&#39; that could not be found.\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis, above observations and further tests (with spring non-/resolvable constructors) make me conclude, that:\r\n- `@Import(MyBean.class)` (on a &quot;non component class&quot;) behaves in the same kind as `@Bean MyBean myBean(...) { return new MyBean(...)}`.\r\n- Whereas the instantiation of `MyBean` is implemented by [`SimpleInstantiationStrategy`][1] ... (currently) so:\r\n  - When `MyBean` has a (i.e. no args) &quot;default constructor&quot;, this will be used.\r\n  - Otherwise, when there is:\r\n    - No unique constructor, resolution/instantiation fails with `No default constructor found`.\r\n    - A unique (non default) constructor, spring will try to resolve (auto-wire) constructor arguments ... with two possible outcomes (success or not).\r\n\r\n\r\n----------\r\n\r\n\r\nPlease experiment with different constructor combinations (&amp; order):\r\n```lang-java\r\npackage io.external;\r\n\r\npublic class MyBean {\r\n    //public MyBean(String gotcha) {\r\n    //    System.err.println(&quot;a&quot;);\r\n    //}\r\n\r\n    public MyBean(org.springframework.core.env.Environment fIoc) {\r\n        System.err.println(&quot;b&quot;);\r\n    }\r\n\r\n    //public MyBean() { // &lt;- this will pass!\r\n    //    System.err.println(&quot;c&quot;);\r\n    //}\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFor details and current documentation, please refer to:\r\n- https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class\r\n- https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-properties-detailed\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/support/SimpleInstantiationStrategy.java","title":"@Import registers non-@Component beans","body":"<p>While this maybe &quot;works&quot;:</p>\n<pre><code>@Configuration\n@Import({MyBean.class})\nclass MyConfig {\n    @Bean\n    Object object(MyBean myBean) { // this works\n        return new Object();\n    }\n}\n\nclass MyBean {} // no annotation here\n</code></pre>\n<p>This (bean) won't (unless spring can &quot;resolve arguments&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.external;\n//no spring annotations\npublic class MyBean {\n    public MyBean(String gotcha) { // ! ...\n      // just a demo\n    }\n} \n</code></pre>\n<p>The context will fail to start with:</p>\n<pre class=\"lang-text prettyprint-override\"><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in io.external.MyBean required a bean of type 'java.lang.String' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n<hr />\n<p>By &quot;regular component classes&quot; spring documentation <em>must</em> refer to classes <em>annotated</em>:</p>\n<ul>\n<li><code>@Component</code></li>\n<li><code>@Repository</code> (<code>@NoRepositoryBean</code>!;)</li>\n<li><code>@Service</code></li>\n<li>even <code>@Configuration</code> (, @SpringBootApplication, @TestConfiguration(?), ...) &lt;- most typical and documented for <code>@Import</code></li>\n<li>and their descendants/inheritors ...</li>\n</ul>\n<p>... as described by <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotype-annotations\" rel=\"nofollow noreferrer\">beans-stereotype-annotations</a>.</p>\n<hr />\n<p>On the other hand, when we try without <code>@Import({MyBean.class})</code>, it also fails, due to:</p>\n<pre class=\"lang-text prettyprint-override\"><code>Parameter 0 of method object in com.example.... required a bean of type 'io.external.MyBean' that could not be found.\n</code></pre>\n<hr />\n<p>This, above observations and further tests (with spring non-/resolvable constructors) make me conclude, that:</p>\n<ul>\n<li><code>@Import(MyBean.class)</code> (on a &quot;non component class&quot;) behaves in the same kind as <code>@Bean MyBean myBean(...) { return new MyBean(...)}</code>.</li>\n<li>Whereas the instantiation of <code>MyBean</code> is implemented by <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-beans/src/main/java/org/springframework/beans/factory/support/SimpleInstantiationStrategy.java\" rel=\"nofollow noreferrer\"><code>SimpleInstantiationStrategy</code></a> ... (currently) so:\n<ul>\n<li>When <code>MyBean</code> has a (i.e. no args) &quot;default constructor&quot;, this will be used.</li>\n<li>Otherwise, when there is:\n<ul>\n<li>No unique constructor, resolution/instantiation fails with <code>No default constructor found</code>.</li>\n<li>A unique (non default) constructor, spring will try to resolve (auto-wire) constructor arguments ... with two possible outcomes (success or not).</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Please experiment with different constructor combinations (&amp; order):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.external;\n\npublic class MyBean {\n    //public MyBean(String gotcha) {\n    //    System.err.println(&quot;a&quot;);\n    //}\n\n    public MyBean(org.springframework.core.env.Environment fIoc) {\n        System.err.println(&quot;b&quot;);\n    }\n\n    //public MyBean() { // &lt;- this will pass!\n    //    System.err.println(&quot;c&quot;);\n    //}\n}\n</code></pre>\n<hr />\n<p>For details and current documentation, please refer to:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-properties-detailed\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-properties-detailed</a></li>\n</ul>\n"}],"owner":{"account_id":2519922,"reputation":10415,"user_id":2190498,"accept_rate":30,"display_name":"ttulka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1683404141,"creation_date":1575892514,"question_id":59248408,"body_markdown":"I have noticed that even classes not annotated with `@Component` are registered into the Spring context when they are declared in the `@Import` annotation. \r\n\r\n    @Configuration\r\n    @Import({MyBean.class})\r\n    class MyConfig {\r\n        @Bean\r\n        Object object(MyBean myBean) { // this works\r\n            return new Object();\r\n        }\r\n    }\r\n\r\n    class MyBean {} // no annotation here\r\n    \r\n\r\nThis behavior is not very clear from the `@Import` documentation. \r\n\r\nIs this wanted? Is it documented somewhere? Are there any differences between importing a non-`@component` and a `@Component` class? \r\n\r\nThe [documentation][1] says:\r\n\r\n&gt; Allows for importing @Configuration classes, ImportSelector and ImportBeanDefinitionRegistrar implementations, as well as regular component classes\r\n\r\nWhat is a &quot;regular component class&quot;? Any class or a class annotated with `@Component`?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html","title":"@Import registers non-@Component beans","body":"<p>I have noticed that even classes not annotated with <code>@Component</code> are registered into the Spring context when they are declared in the <code>@Import</code> annotation. </p>\n\n<pre><code>@Configuration\n@Import({MyBean.class})\nclass MyConfig {\n    @Bean\n    Object object(MyBean myBean) { // this works\n        return new Object();\n    }\n}\n\nclass MyBean {} // no annotation here\n</code></pre>\n\n<p>This behavior is not very clear from the <code>@Import</code> documentation. </p>\n\n<p>Is this wanted? Is it documented somewhere? Are there any differences between importing a non-<code>@component</code> and a <code>@Component</code> class? </p>\n\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Allows for importing @Configuration classes, ImportSelector and ImportBeanDefinitionRegistrar implementations, as well as regular component classes</p>\n</blockquote>\n\n<p>What is a \"regular component class\"? Any class or a class annotated with <code>@Component</code>?</p>\n"},{"tags":["java","spring-boot","visual-studio-code","autocomplete","application.properties"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669010396,"post_id":74497526,"comment_id":131536566,"body_markdown":"What kind of smart tips are you thinking of? Does it exist in other IDEs?","body":"What kind of smart tips are you thinking of? Does it exist in other IDEs?"}],"answers":[{"comments":[{"owner":{"account_id":22342446,"reputation":1,"user_id":16562046,"display_name":"user16562046"},"score":0,"creation_date":1668856063,"post_id":74498450,"comment_id":131510631,"body_markdown":"yeah I have already installed all the required extension/plugin for spring boot .autocompletion is working fine in other parts of the project but not inside the application.properties file","body":"yeah I have already installed all the required extension/plugin for spring boot .autocompletion is working fine in other parts of the project but not inside the application.properties file"}],"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668845603,"creation_date":1668845603,"answer_id":74498450,"question_id":74497526,"body_markdown":"Do you have the necessary plugins/extension installed in your VS Code. \r\n\r\nTry installing [Spring Boot Tools](https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot) and try again.\r\n\r\n","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>Do you have the necessary plugins/extension installed in your VS Code.</p>\n<p>Try installing <a href=\"https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot\" rel=\"nofollow noreferrer\">Spring Boot Tools</a> and try again.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682628872,"post_id":76093872,"comment_id":134250258,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76093872/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28402386,"reputation":1,"user_id":21727001,"display_name":"Nishanth S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682352265,"creation_date":1682352265,"answer_id":76093872,"question_id":74497526,"body_markdown":"&#160; &#160;**vs code =&gt; settings =&gt;** Editor:&#160;Quick Suggestions\r\n\r\n    &quot;editor.quickSuggestions&quot;: {\r\n    &#160; &#160; &#160; &#160; &quot;other&quot;: &quot;on&quot;,\r\n    &#160; &#160; &#160; &#160; &quot;comments&quot;: &quot;on&quot;,\r\n    &#160; &#160; &#160; &#160; &quot;strings&quot;: &quot;on&quot;\r\n    &#160; &#160; }\r\n\r\n","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p> <strong>vs code =&gt; settings =&gt;</strong> Editor:Quick Suggestions</p>\n<pre><code>&quot;editor.quickSuggestions&quot;: {\n    &quot;other&quot;: &quot;on&quot;,\n    &quot;comments&quot;: &quot;on&quot;,\n    &quot;strings&quot;: &quot;on&quot;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21513809,"reputation":1,"user_id":15856045,"display_name":"Chaitanya Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683402677,"creation_date":1683402677,"answer_id":76190833,"question_id":74497526,"body_markdown":"I faced the same problem but autocompletion was working when I installed the &quot;Spring Boot Extension Pack&quot; extension.\r\nLet me know if it works for you.","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>I faced the same problem but autocompletion was working when I installed the &quot;Spring Boot Extension Pack&quot; extension.\nLet me know if it works for you.</p>\n"}],"owner":{"account_id":22342446,"reputation":1,"user_id":16562046,"display_name":"user16562046"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683402677,"creation_date":1668831591,"question_id":74497526,"body_markdown":"I have created a Spring Boot project in Visual Studio Code. My issue is that autocompletion is not working in my `application.settings` file, it works fine in other parts of project. Any help will be appreciated.\r\n\r\n[Screenshot here](https://i.stack.imgur.com/RDOa4.png)\r\n\r\n","title":"why autocomplition is not working for application.properties file in vs code for spring boot project?","body":"<p>I have created a Spring Boot project in Visual Studio Code. My issue is that autocompletion is not working in my <code>application.settings</code> file, it works fine in other parts of project. Any help will be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/RDOa4.png\" rel=\"nofollow noreferrer\">Screenshot here</a></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1525267698,"post_id":50135269,"comment_id":87289651,"body_markdown":"Does your program have anything to do with BeanShell?","body":"Does your program have anything to do with BeanShell?"},{"owner":{"account_id":3299651,"reputation":577,"user_id":2776114,"accept_rate":100,"display_name":"Brijesh Soni"},"score":0,"creation_date":1525337352,"post_id":50135269,"comment_id":87319176,"body_markdown":"No. Nothing is there related to BeanShell","body":"No. Nothing is there related to BeanShell"}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525270013,"creation_date":1525270013,"answer_id":50136651,"question_id":50135269,"body_markdown":" &gt; But sometimes it automatically adds one line as below.\r\n\r\nYou probably have a stray `This` (note the capital T there) in your program which isn&#39;t linked to a type so causes a compilation error - you may have meant to write the Java keyword `this` (lower case t) instead.\r\n\r\nHowever, Eclipse doesn&#39;t know that, as far as it&#39;s concerned `This` is just another type that you may want to import. So it&#39;ll search for available imports and insert the relevant one it finds, which happens to be `bsh.This` in this case.\r\n\r\nYou should almost certainly just remove this, and fix any incorrect references to `This` (with a capital `T`) in your class.","title":"import bsh.This; statement in Eclipse","body":"<blockquote>\n  <p>But sometimes it automatically adds one line as below.</p>\n</blockquote>\n\n<p>You probably have a stray <code>This</code> (note the capital T there) in your program which isn't linked to a type so causes a compilation error - you may have meant to write the Java keyword <code>this</code> (lower case t) instead.</p>\n\n<p>However, Eclipse doesn't know that, as far as it's concerned <code>This</code> is just another type that you may want to import. So it'll search for available imports and insert the relevant one it finds, which happens to be <code>bsh.This</code> in this case.</p>\n\n<p>You should almost certainly just remove this, and fix any incorrect references to <code>This</code> (with a capital <code>T</code>) in your class.</p>\n"},{"tags":[],"owner":{"account_id":3299651,"reputation":577,"user_id":2776114,"accept_rate":100,"display_name":"Brijesh Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683402578,"creation_date":1527596553,"answer_id":50584323,"question_id":50135269,"body_markdown":"I found the reason for `import bsh.This;` after &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt;.\r\n\r\nPlease see the following code and its documentation:\r\n\r\n    /**\r\n    * @author Brijesh\r\n    * @param param1\r\n    * @param param2\r\n    * @see **This** method is used for some purpose\r\n    */\r\n    public void someLogicHere(Object param1, Object param2) {\r\n\r\n    }\r\n\r\nAs you can see, there is one keyword **This** in see section.\r\nEclipse is trying to import this from classpath.\r\n\r\n\r\n","title":"import bsh.This; statement in Eclipse","body":"<p>I found the reason for <code>import bsh.This;</code> after <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>.</p>\n<p>Please see the following code and its documentation:</p>\n<pre><code>/**\n* @author Brijesh\n* @param param1\n* @param param2\n* @see **This** method is used for some purpose\n*/\npublic void someLogicHere(Object param1, Object param2) {\n\n}\n</code></pre>\n<p>As you can see, there is one keyword <strong>This</strong> in see section.\nEclipse is trying to import this from classpath.</p>\n"}],"owner":{"account_id":3299651,"reputation":577,"user_id":2776114,"accept_rate":100,"display_name":"Brijesh Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50584323,"answer_count":2,"score":1,"last_activity_date":1683402578,"creation_date":1525265941,"question_id":50135269,"body_markdown":"In Eclipse, when I did with my coding part, I used to press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; to remove unused import statements.\r\n\r\nThis works fine. But sometimes it automatically adds one line as below.\r\n\r\n    import bsh.This;\r\n\r\nAnd this line did not recognize as compile error in Eclipse.\r\n\r\nEclipse version: Luna Service Release 2 (4.4.2)\r\n\r\nJDK version: 8\r\n\r\nIs there a solution for this problem?\r\n","title":"import bsh.This; statement in Eclipse","body":"<p>In Eclipse, when I did with my coding part, I used to press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd> to remove unused import statements.</p>\n<p>This works fine. But sometimes it automatically adds one line as below.</p>\n<pre><code>import bsh.This;\n</code></pre>\n<p>And this line did not recognize as compile error in Eclipse.</p>\n<p>Eclipse version: Luna Service Release 2 (4.4.2)</p>\n<p>JDK version: 8</p>\n<p>Is there a solution for this problem?</p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1644420635,"post_id":71052308,"comment_id":125602985,"body_markdown":"I would suggest that if you aren&#39;t able to communicate expected usage of the class with other people on the same project - whether that&#39;s via Javadocs, email, team meetings, documentation or whatever - then the problem is more of a communication one than a technical one.","body":"I would suggest that if you aren&#39;t able to communicate expected usage of the class with other people on the same project - whether that&#39;s via Javadocs, email, team meetings, documentation or whatever - then the problem is more of a communication one than a technical one."},{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1644429011,"post_id":71052308,"comment_id":125606558,"body_markdown":"@JonSkeet The problem is that I would like to prevent it programmatily. Javadoc can be ignored and is not always read, emails or documentations can be forgotten.  A easier way in my opinion would be when trying to execute the test. I see that a Javadoc hint in the `SpecialClass` would be good, but better would be an automatic way of letting other programmers know that they used the mocking of this class wrong.","body":"@JonSkeet The problem is that I would like to prevent it programmatily. Javadoc can be ignored and is not always read, emails or documentations can be forgotten.  A easier way in my opinion would be when trying to execute the test. I see that a Javadoc hint in the <code>SpecialClass</code> would be good, but better would be an automatic way of letting other programmers know that they used the mocking of this class wrong."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1644429502,"post_id":71052308,"comment_id":125606764,"body_markdown":"My point is that if you can&#39;t trust your team-mates to pay attention to team conventions etc, there are bigger problems. Heck, you could always have a run-once-a-day job that searches for `mockStatic(SpecialClass.class)` in the codebase if you want to have *some* automated protection...","body":"My point is that if you can&#39;t trust your team-mates to pay attention to team conventions etc, there are bigger problems. Heck, you could always have a run-once-a-day job that searches for <code>mockStatic(SpecialClass.class)</code> in the codebase if you want to have <i>some</i> automated protection..."}],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683402501,"creation_date":1645120461,"answer_id":71163115,"question_id":71052308,"body_markdown":"If you have control over the class, you can use the annotation `@DoNotMock` ([official javadoc][1]). It can be placed over an class to prevent the mocking of the class.\r\n\r\nThat means that the class can look like this. \r\n\r\n    @DoNotMock(reason = &quot;Use a real instance instead&quot;)\r\n    class SpecialClass {\r\n        // ...\r\n    }\r\n\r\nIf you try to mock this class, you will get an error and the `reason` you have provided will be given to you. \r\n\r\nYou will need to have control over the class, since you need to place the annoation over it.\r\n\r\n----\r\n\r\nThe following is a less suboptimal solution, which should be only considered when you do not have control over the class.\r\n\r\nI used a junit test to read all my files and trying to detect all mocks.\r\nPlease note that my test is working in a very special assumption that all of my test classes are in the same directory. This will hoever not be given in every project. In this case you will need to find [the files recursivly][1].\r\n\r\n\r\n    class NoStaticMockTest {\r\n    \r\n        @Test\r\n        void testNoMocks() throws IOException {\r\n            // Base dir of my tests\r\n            File testDir = new File(&quot;src/test/java&quot;);\r\n            // reading all Files in the test directory excluding this file\r\n            for (File file : testDir.listFiles(pathname -&gt; !pathname.getAbsolutePath().endsWith(&quot;NoStaticMockTest.java&quot;) &amp;&amp; pathname.isFile())) {\r\n                try (FileInputStream fis = new FileInputStream(file)) {\r\n                    // Reading the contennt and trying to find MockedStatic&lt;SpecialClass&gt;\r\n                    String content = IOUtils.toString(fis);\r\n                    if (content.contains(&quot;MockedStatic&lt;SpecialClass&gt;&quot;)) {\r\n                        Assertions.fail(file.getAbsolutePath() + &quot; used MockedStatic&lt;SpecialClass&gt; which is not allowed&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2056221/recursively-list-files-in-java","title":"Prevent special class from static mocking","body":"<p>If you have control over the class, you can use the annotation <code>@DoNotMock</code> (<a href=\"https://stackoverflow.com/questions/2056221/recursively-list-files-in-java\">official javadoc</a>). It can be placed over an class to prevent the mocking of the class.</p>\n<p>That means that the class can look like this.</p>\n<pre><code>@DoNotMock(reason = &quot;Use a real instance instead&quot;)\nclass SpecialClass {\n    // ...\n}\n</code></pre>\n<p>If you try to mock this class, you will get an error and the <code>reason</code> you have provided will be given to you.</p>\n<p>You will need to have control over the class, since you need to place the annoation over it.</p>\n<hr />\n<p>The following is a less suboptimal solution, which should be only considered when you do not have control over the class.</p>\n<p>I used a junit test to read all my files and trying to detect all mocks.\nPlease note that my test is working in a very special assumption that all of my test classes are in the same directory. This will hoever not be given in every project. In this case you will need to find <a href=\"https://stackoverflow.com/questions/2056221/recursively-list-files-in-java\">the files recursivly</a>.</p>\n<pre><code>class NoStaticMockTest {\n\n    @Test\n    void testNoMocks() throws IOException {\n        // Base dir of my tests\n        File testDir = new File(&quot;src/test/java&quot;);\n        // reading all Files in the test directory excluding this file\n        for (File file : testDir.listFiles(pathname -&gt; !pathname.getAbsolutePath().endsWith(&quot;NoStaticMockTest.java&quot;) &amp;&amp; pathname.isFile())) {\n            try (FileInputStream fis = new FileInputStream(file)) {\n                // Reading the contennt and trying to find MockedStatic&lt;SpecialClass&gt;\n                String content = IOUtils.toString(fis);\n                if (content.contains(&quot;MockedStatic&lt;SpecialClass&gt;&quot;)) {\n                    Assertions.fail(file.getAbsolutePath() + &quot; used MockedStatic&lt;SpecialClass&gt; which is not allowed&quot;);\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71163115,"answer_count":1,"score":0,"last_activity_date":1683402501,"creation_date":1644420384,"question_id":71052308,"body_markdown":"I have a class named `SpecialClass`. This class has the method `doSomething` in it. This class is in this particular manner special, that I do not want to mock this class at all via `MockedStatic`. It is very easy for me to remeber that I don&#39;t want to mock this class, but there are other people programming at the same project and they should know to not mock this class but I can not relate on it.\r\n\r\nGiven this special test:\r\n\r\n    @Test\r\n    void testSomething(){\r\n        try(MockedStatic&lt;SpecialClass&gt; mock = Mockito.mockStatic(SpecialClass.class)){\r\n\r\n            mock.when(SpecialClass::doSomething).thenReturn(0);\r\n\r\n             System.out.println(SpecialClass.doSomething());\r\n        }\r\n    }\r\n\r\nI dont want to let this test execute at all. But it will execute, because Mockito does not know about my SpecialClass and not to mock it. There could be also various other locations where SpecialClass could be mocked.\r\n\r\nSome classes can not be mocked because of Mockito decides so. Given this mock of `java.lang.System`:\r\n\r\n    @Test\r\n    void testFail(){\r\n        try(MockedStatic&lt;System&gt; sys = Mockito.mockStatic(System.class)){\r\n            // some code\r\n        }\r\n    }\r\n\r\nI get the exception `org.mockito.exceptions.base.MockitoException: It is not possible to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops`, which is ok.\r\n\r\nMy question is: Can I somehow have some global project settings (or some annoations) to mark my class `SpecialClass` to be not used in Mockitos `MockedStatic`? I would be also ok if I can also not mock this class in a normal way.\r\n\r\nI tried to find some information regarding restricting mocks, but i was unable to find some.\r\n\r\nMy mockito version of mockito-core and mockito-inline is 4.3.1","title":"Prevent special class from static mocking","body":"<p>I have a class named <code>SpecialClass</code>. This class has the method <code>doSomething</code> in it. This class is in this particular manner special, that I do not want to mock this class at all via <code>MockedStatic</code>. It is very easy for me to remeber that I don't want to mock this class, but there are other people programming at the same project and they should know to not mock this class but I can not relate on it.</p>\n<p>Given this special test:</p>\n<pre><code>@Test\nvoid testSomething(){\n    try(MockedStatic&lt;SpecialClass&gt; mock = Mockito.mockStatic(SpecialClass.class)){\n\n        mock.when(SpecialClass::doSomething).thenReturn(0);\n\n         System.out.println(SpecialClass.doSomething());\n    }\n}\n</code></pre>\n<p>I dont want to let this test execute at all. But it will execute, because Mockito does not know about my SpecialClass and not to mock it. There could be also various other locations where SpecialClass could be mocked.</p>\n<p>Some classes can not be mocked because of Mockito decides so. Given this mock of <code>java.lang.System</code>:</p>\n<pre><code>@Test\nvoid testFail(){\n    try(MockedStatic&lt;System&gt; sys = Mockito.mockStatic(System.class)){\n        // some code\n    }\n}\n</code></pre>\n<p>I get the exception <code>org.mockito.exceptions.base.MockitoException: It is not possible to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops</code>, which is ok.</p>\n<p>My question is: Can I somehow have some global project settings (or some annoations) to mark my class <code>SpecialClass</code> to be not used in Mockitos <code>MockedStatic</code>? I would be also ok if I can also not mock this class in a normal way.</p>\n<p>I tried to find some information regarding restricting mocks, but i was unable to find some.</p>\n<p>My mockito version of mockito-core and mockito-inline is 4.3.1</p>\n"},{"tags":["java","android","kotlin","mvvm","android-viewmodel"],"answers":[{"tags":[],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683401940,"creation_date":1683401940,"answer_id":76190775,"question_id":76172845,"body_markdown":"I solved this problem by casting the Activity of the custom View to ViewModelStoreOwner and getting a ViewModel from ViewModelProvider created with this Activity :\r\n\r\n    private val mainViewModel by lazy {\r\n        ViewModelProvider(context as ViewModelStoreOwner).get&lt;MainViewModel&gt;()\r\n    }","title":"How can I retrieve a ViewModel associated with an Activity from a custom view?","body":"<p>I solved this problem by casting the Activity of the custom View to ViewModelStoreOwner and getting a ViewModel from ViewModelProvider created with this Activity :</p>\n<pre><code>private val mainViewModel by lazy {\n    ViewModelProvider(context as ViewModelStoreOwner).get&lt;MainViewModel&gt;()\n}\n</code></pre>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76190775,"answer_count":1,"score":0,"last_activity_date":1683401940,"creation_date":1683200962,"question_id":76172845,"body_markdown":"I can manage to retrieve a ViewModel associated with a Fragment but not with an Activity.\r\n\r\n**This works :**\r\n\r\n-Fragment- \r\n\r\n    private val mainViewModel: MainViewModel by viewModels()\r\n\r\n-Custom View-\r\n\r\n    private val mainViewModel by lazy {\r\n        ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\r\n    }\r\n\r\n**But not that :**\r\n\r\n-Fragment- \r\n\r\n    private val mainViewModel: MainViewModel by activityViewModels()\r\n\r\n-Custom View-\r\n\r\n    private val mainViewModel by lazy {\r\n        ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\r\n    }","title":"How can I retrieve a ViewModel associated with an Activity from a custom view?","body":"<p>I can manage to retrieve a ViewModel associated with a Fragment but not with an Activity.</p>\n<p><strong>This works :</strong></p>\n<p>-Fragment-</p>\n<pre><code>private val mainViewModel: MainViewModel by viewModels()\n</code></pre>\n<p>-Custom View-</p>\n<pre><code>private val mainViewModel by lazy {\n    ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\n}\n</code></pre>\n<p><strong>But not that :</strong></p>\n<p>-Fragment-</p>\n<pre><code>private val mainViewModel: MainViewModel by activityViewModels()\n</code></pre>\n<p>-Custom View-</p>\n<pre><code>private val mainViewModel by lazy {\n    ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;MainViewModel&gt;()\n}\n</code></pre>\n"},{"tags":["java","installation","jar","libraries","jfreechart"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1683401970,"post_id":76190738,"comment_id":134362302,"body_markdown":"Id recommend not managing dependencies by hand. If you **must** make more work for yourself consider getting the artifacts from the Maven repo, but youll need to get its transitive dependencies as well. Its more work than necessary but you do you &#128077;&#127995;","body":"Id recommend not managing dependencies by hand. If you <b>must</b> make more work for yourself consider getting the artifacts from the Maven repo, but youll need to get its transitive dependencies as well. Its more work than necessary but you do you "},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1683408764,"post_id":76190738,"comment_id":134363130,"body_markdown":"You downloaded source code. If you need a jar library, you will need to build it with Maven or alternatively, if you want to use JFreeChart in a Maven project, add the dependency to your pom. You can see it [here](https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.4)","body":"You downloaded source code. If you need a jar library, you will need to build it with Maven or alternatively, if you want to use JFreeChart in a Maven project, add the dependency to your pom. You can see it <a href=\"https://mvnrepository.com/artifact/org.jfree/jfreechart/1.5.4\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1683411038,"post_id":76190738,"comment_id":134363362,"body_markdown":"Download from the [tag:maven] repository or build from source using [tag:maven]; possible duplicate of [_Create jfreechart-1.5.3 JAR from source code_](https://stackoverflow.com/a/69653678/230513).","body":"Download from the <a href=\"https://stackoverflow.com/questions/tagged/maven\">maven</a> repository or build from source using <a href=\"https://stackoverflow.com/questions/tagged/maven\">maven</a>; possible duplicate of <a href=\"https://stackoverflow.com/a/69653678/230513\"><i>Create jfreechart-1.5.3 JAR from source code</i></a>."},{"owner":{"account_id":27746873,"reputation":31,"user_id":21182183,"display_name":"EduHG"},"score":1,"creation_date":1683425292,"post_id":76190738,"comment_id":134364402,"body_markdown":"Thank you, building it from source worked &#128077;&#127995;","body":"Thank you, building it from source worked "}],"owner":{"account_id":27746873,"reputation":31,"user_id":21182183,"display_name":"EduHG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683454467,"answer_count":0,"score":1,"last_activity_date":1683401437,"creation_date":1683401437,"question_id":76190738,"body_markdown":"Hi I&#39;m having trouble adding the JFreeChart library. After I download it from https://github.com/jfree/jfreechart/releases/tag/v1.5.4 and decompress it, I can&#39;t find the .jar file.\r\n[![enter image description here][1]][1]\r\n\r\nHowever, even in the lib library folder there&#39;s a JavaScript file but I don&#39;t know if there&#39;s a way to add the library with these files, what am I missing?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aL5bQ.png\r\n  [2]: https://i.stack.imgur.com/qMi4I.png","title":"JavaFreeChart add Library - .jar not found","body":"<p>Hi I'm having trouble adding the JFreeChart library. After I download it from <a href=\"https://github.com/jfree/jfreechart/releases/tag/v1.5.4\" rel=\"nofollow noreferrer\">https://github.com/jfree/jfreechart/releases/tag/v1.5.4</a> and decompress it, I can't find the .jar file.\n<a href=\"https://i.stack.imgur.com/aL5bQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aL5bQ.png\" alt=\"enter image description here\" /></a></p>\n<p>However, even in the lib library folder there's a JavaScript file but I don't know if there's a way to add the library with these files, what am I missing?</p>\n<p><a href=\"https://i.stack.imgur.com/qMi4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMi4I.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","http","kotlin","httpurlconnection"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1619193971,"post_id":67232218,"comment_id":118840126,"body_markdown":"`At the same time, I need to send a string to the server every X seconds to update the data. ` That makes no sense as http protocol is not like that.","body":"<code>At the same time, I need to send a string to the server every X seconds to update the data. </code> That makes no sense as http protocol is not like that."}],"answers":[{"comments":[{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1661434559,"post_id":67297167,"comment_id":129775608,"body_markdown":"Thank you this was helpful as I am building an ntripclient as well.","body":"Thank you this was helpful as I am building an ntripclient as well."}],"tags":[],"owner":{"account_id":17726924,"reputation":21,"user_id":14372205,"display_name":" "},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683400896,"creation_date":1619600896,"answer_id":67297167,"question_id":67232218,"body_markdown":"So i found the solution. `HttpUrlConnection` can&#39;t read and write data in the same time. To do this, you need to use a `Socket`. First you need to create a `Socket` and connect to the host:\r\n\r\n    InetAddress address = InetAddress.getByName(new URL(&quot;{your_url/your_mount_point}&quot;).getHost());\r\n    Socket socket = new Socket(address, PORT_NUMBER);\r\n    System.out.println(socket.isConnected());\r\n\r\nIf you connected successfully, then in the console you will see `true`.\r\n\r\nNow you have to open two streams to communicate with the server: `InputStream` and `OutputStream`:\r\n\r\n    PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\r\n    BufferedInputStream input = new BufferedInputStream(socket.getInputStream());\r\n\r\nNow you can send GET, POST and others requests. To do this, we will use a `PrintWriter`: \r\n\r\n    String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\r\n    output.println(requestMessage);\r\nWe use message `GET /{path} {protocol (HTTP/1.1 for example)}`. At the end of each line you must use CRLF `\\r\\n`. Then you can add the necessary headers according to the scheme: \r\n\r\n    output.println(&quot;{header name}: {header value}\\r\\n&quot;);\r\n\r\n    output.println(&quot;Connection: Keep-Alive&quot;);\r\n    output.println(&quot;Accept-Encoding: identity&quot;);\r\n\r\nAfter that, you can read data from the server. In my case, this is an endless stream of messages, so I will use the following option:\r\n\r\n    byte[] buffer = new byte[128];\r\n    int readBuffer = input.read(buffer);\r\n    while (readBuffer &gt; 0) {\r\n       System.out.println(Arrays.toString(buffer));\r\n       readBuffer = input.read(buffer);\r\n    }\r\n\r\nIf during data reading you need to change the header, you can send the string to the server again:\r\n\r\n    output.println(&quot;Connection: close&quot;);\r\n\r\nFull method looks like this:\r\n\r\n    void createSocket() {\r\n            try {\r\n                InetAddress address = InetAddress.getByName(new URL(&quot;your_url/your_mount_point&quot;).getHost());\r\n                Socket socket = new Socket(address, PORT_NUMBER);\r\n                System.out.println(socket.isConnected());\r\n    \r\n                PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\r\n    \r\n                BufferedInputStream input = new BufferedInputStream(socket.getInputStream());\r\n    \r\n                String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\r\n                output.println(requestMessage);\r\n                output.println(&quot;Ntrip-Version: Ntrip/2.0\\r\\n&quot;);\r\n                output.println(&quot;Connection: Keep-Alive&quot;);\r\n                output.println(&quot;Accept-Encoding: identity&quot;);\r\n                output.println(&quot;\\r\\n&quot;);\r\n    \r\n                byte[] buffer = new byte[128];\r\n    \r\n                int readBuffer = input.read(buffer);\r\n                while (readBuffer &gt; 0) {\r\n                    System.out.println(Arrays.toString(buffer));\r\n                    readBuffer = input.read(buffer);\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (UnknownHostException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"Reading and Writing from Server in loop in the same time on Android","body":"<p>So i found the solution. <code>HttpUrlConnection</code> can't read and write data in the same time. To do this, you need to use a <code>Socket</code>. First you need to create a <code>Socket</code> and connect to the host:</p>\n<pre><code>InetAddress address = InetAddress.getByName(new URL(&quot;{your_url/your_mount_point}&quot;).getHost());\nSocket socket = new Socket(address, PORT_NUMBER);\nSystem.out.println(socket.isConnected());\n</code></pre>\n<p>If you connected successfully, then in the console you will see <code>true</code>.</p>\n<p>Now you have to open two streams to communicate with the server: <code>InputStream</code> and <code>OutputStream</code>:</p>\n<pre><code>PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\nBufferedInputStream input = new BufferedInputStream(socket.getInputStream());\n</code></pre>\n<p>Now you can send GET, POST and others requests. To do this, we will use a <code>PrintWriter</code>:</p>\n<pre><code>String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\noutput.println(requestMessage);\n</code></pre>\n<p>We use message <code>GET /{path} {protocol (HTTP/1.1 for example)}</code>. At the end of each line you must use CRLF <code>\\r\\n</code>. Then you can add the necessary headers according to the scheme:</p>\n<pre><code>output.println(&quot;{header name}: {header value}\\r\\n&quot;);\n\noutput.println(&quot;Connection: Keep-Alive&quot;);\noutput.println(&quot;Accept-Encoding: identity&quot;);\n</code></pre>\n<p>After that, you can read data from the server. In my case, this is an endless stream of messages, so I will use the following option:</p>\n<pre><code>byte[] buffer = new byte[128];\nint readBuffer = input.read(buffer);\nwhile (readBuffer &gt; 0) {\n   System.out.println(Arrays.toString(buffer));\n   readBuffer = input.read(buffer);\n}\n</code></pre>\n<p>If during data reading you need to change the header, you can send the string to the server again:</p>\n<pre><code>output.println(&quot;Connection: close&quot;);\n</code></pre>\n<p>Full method looks like this:</p>\n<pre><code>void createSocket() {\n        try {\n            InetAddress address = InetAddress.getByName(new URL(&quot;your_url/your_mount_point&quot;).getHost());\n            Socket socket = new Socket(address, PORT_NUMBER);\n            System.out.println(socket.isConnected());\n\n            PrintWriter output = new PrintWriter(socket.getOutputStream(), true);\n\n            BufferedInputStream input = new BufferedInputStream(socket.getInputStream());\n\n            String requestMessage = &quot;GET /{your_mount_point} HTTP/1.1\\r\\n&quot;;\n            output.println(requestMessage);\n            output.println(&quot;Ntrip-Version: Ntrip/2.0\\r\\n&quot;);\n            output.println(&quot;Connection: Keep-Alive&quot;);\n            output.println(&quot;Accept-Encoding: identity&quot;);\n            output.println(&quot;\\r\\n&quot;);\n\n            byte[] buffer = new byte[128];\n\n            int readBuffer = input.read(buffer);\n            while (readBuffer &gt; 0) {\n                System.out.println(Arrays.toString(buffer));\n                readBuffer = input.read(buffer);\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (UnknownHostException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17726924,"reputation":21,"user_id":14372205,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67297167,"answer_count":1,"score":1,"last_activity_date":1683400896,"creation_date":1619189643,"question_id":67232218,"body_markdown":"I need to create a connection to the server and read messages from the server for some time. At the same time, I need to send a string to the server every X seconds to update the data. I am using `HttpUrlConnection` and the following code:\r\n\r\nNTRIPClient.kt\r\n\r\n    class NTRIPClient {\r\n\r\n    private val bufferSize = ByteArray(64)\r\n    private val crlf = &quot;\\r\\n&quot;\r\n\r\n    private var inputStream: BufferedInputStream? = null\r\n\r\n    fun startConnection(gga: String, usbService: UsbService) {\r\n        con = url.openConnection() as HttpURLConnection?\r\n        con?.doOutput = true\r\n        con?.setChunkedStreamingMode(0)\r\n        con?.setRequestProperty(&quot;Ntrip-GGA&quot;, gga)\r\n        con?.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;)\r\n        con?.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;)\r\n\r\n        try {\r\n            inputStream = BufferedInputStream(con!!.inputStream)\r\n            var readBuffer = inputStream!!.read(bufferSize)\r\n            while (readBuffer &gt; 0) {\r\n                usbService.write(bufferSize)\r\n                readBuffer = inputStream!!.read(bufferSize)\r\n            }\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        } finally {\r\n            con?.disconnect()\r\n        }\r\n    }\r\n\r\n    fun updateGGA(gga: String) {\r\n        try {\r\n            val outputStream = OutputStreamWriter(con!!.outputStream)  //this line create error\r\n            outputStream.write(gga + crlf)\r\n            outputStream.close()\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\nCall NTRIPClient in ViewModel.kt\r\n\r\n    fun createNtripConnection(usbService: UsbService){\r\n            ntripScope.launch {\r\n                awaitAll(\r\n                    async {\r\n                        Log.d(TAG, &quot;createNtripConnection: START&quot;)\r\n                        ntripClient.startConnection(currentGGA, usbService)\r\n                    },\r\n                    async {\r\n                        delay(5000)\r\n                        ntripClient.updateGGA(currentGGA)\r\n                    }\r\n                )\r\n            }\r\n        }\r\n\r\nWhen I run the method `createNtripConnection` everything works fine, but when it comes time to execute the method `updateGGA` I get the following error:\r\n\r\n    W/System.err: java.io.IOException: unexpected end of stream on com.android.okhttp.Address@5170b14c\r\n            at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:203)\r\n            at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders(Http1xStream.java:129)\r\n            at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:750)\r\n            at com.android.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:622)\r\n            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:475)\r\n            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\n            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n            at com.hq.advian.newtwork.NTRIPClient.startConnection(NTRIPClient.kt:43)\r\n            at com.hq.advian.viewmodel.ArViewModel$createNtripConnection$1$1.invokeSuspend(ArViewModel.kt:207)\r\n            at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n            at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\r\n    W/System.err:     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\r\n        Caused by: java.io.EOFException: \\n not found: size=0 content=...\r\n            at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:202)\r\n            at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:188)\r\n        \t... 14 more\r\n\r\nIf in the `updateGGA` at the very beginning I try to close the `inputStream`, on this line I get `java.lang.NullPointerException`. Can you help with this? Or there are other tools to solve this problem?","title":"Reading and Writing from Server in loop in the same time on Android","body":"<p>I need to create a connection to the server and read messages from the server for some time. At the same time, I need to send a string to the server every X seconds to update the data. I am using <code>HttpUrlConnection</code> and the following code:</p>\n<p>NTRIPClient.kt</p>\n<pre><code>class NTRIPClient {\n\nprivate val bufferSize = ByteArray(64)\nprivate val crlf = &quot;\\r\\n&quot;\n\nprivate var inputStream: BufferedInputStream? = null\n\nfun startConnection(gga: String, usbService: UsbService) {\n    con = url.openConnection() as HttpURLConnection?\n    con?.doOutput = true\n    con?.setChunkedStreamingMode(0)\n    con?.setRequestProperty(&quot;Ntrip-GGA&quot;, gga)\n    con?.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;)\n    con?.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;)\n\n    try {\n        inputStream = BufferedInputStream(con!!.inputStream)\n        var readBuffer = inputStream!!.read(bufferSize)\n        while (readBuffer &gt; 0) {\n            usbService.write(bufferSize)\n            readBuffer = inputStream!!.read(bufferSize)\n        }\n    } catch (e: IOException) {\n        e.printStackTrace()\n    } finally {\n        con?.disconnect()\n    }\n}\n\nfun updateGGA(gga: String) {\n    try {\n        val outputStream = OutputStreamWriter(con!!.outputStream)  //this line create error\n        outputStream.write(gga + crlf)\n        outputStream.close()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n<p>Call NTRIPClient in ViewModel.kt</p>\n<pre><code>fun createNtripConnection(usbService: UsbService){\n        ntripScope.launch {\n            awaitAll(\n                async {\n                    Log.d(TAG, &quot;createNtripConnection: START&quot;)\n                    ntripClient.startConnection(currentGGA, usbService)\n                },\n                async {\n                    delay(5000)\n                    ntripClient.updateGGA(currentGGA)\n                }\n            )\n        }\n    }\n</code></pre>\n<p>When I run the method <code>createNtripConnection</code> everything works fine, but when it comes time to execute the method <code>updateGGA</code> I get the following error:</p>\n<pre><code>W/System.err: java.io.IOException: unexpected end of stream on com.android.okhttp.Address@5170b14c\n        at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:203)\n        at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders(Http1xStream.java:129)\n        at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse(HttpEngine.java:750)\n        at com.android.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:622)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:475)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\n        at com.hq.advian.newtwork.NTRIPClient.startConnection(NTRIPClient.kt:43)\n        at com.hq.advian.viewmodel.ArViewModel$createNtripConnection$1$1.invokeSuspend(ArViewModel.kt:207)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\nW/System.err:     at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\n    Caused by: java.io.EOFException: \\n not found: size=0 content=...\n        at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.java:202)\n        at com.android.okhttp.internal.http.Http1xStream.readResponse(Http1xStream.java:188)\n        ... 14 more\n</code></pre>\n<p>If in the <code>updateGGA</code> at the very beginning I try to close the <code>inputStream</code>, on this line I get <code>java.lang.NullPointerException</code>. Can you help with this? Or there are other tools to solve this problem?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":20530075,"reputation":67,"user_id":15067565,"display_name":"Knife worm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683400186,"creation_date":1683398788,"question_id":76190563,"body_markdown":"I am trying to currently connect to my mongodb database in java with uuidRepresentation enabled. When trying to do this i receive this error  \r\n```\r\nCaused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-256, userName=&#39;admin&#39;, source=&#39;authDb&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\nCaused by: com.mongodb.MongoCommandException: Command failed with error 17 (ProtocolError): &#39;Attempt to switch database target during SASL authentication.&#39; on server 185.209.223.136:2002. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Attempt to switch database target during SASL authentication.&quot;, &quot;code&quot;: 17, &quot;codeName&quot;: &quot;ProtocolError&quot;}\r\n```\r\n\r\nHere is how I am connecting to my mongo database\r\n```\r\n        MongoClient mongoClient = new MongoClient(&quot;mongodb://admin:&lt;nopasswordforyou&gt;@185.209.223.136:2002/authDb?uuidRepresentation=javaLegacy&quot;);\r\n\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\r\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;bans&quot;);\r\n```","title":"MongoDB uuidRepresentation Java issue","body":"<p>I am trying to currently connect to my mongodb database in java with uuidRepresentation enabled. When trying to do this i receive this error</p>\n<pre><code>Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-256, userName='admin', source='authDb', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\nCaused by: com.mongodb.MongoCommandException: Command failed with error 17 (ProtocolError): 'Attempt to switch database target during SASL authentication.' on server 185.209.223.136:2002. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Attempt to switch database target during SASL authentication.&quot;, &quot;code&quot;: 17, &quot;codeName&quot;: &quot;ProtocolError&quot;}\n</code></pre>\n<p>Here is how I am connecting to my mongo database</p>\n<pre><code>        MongoClient mongoClient = new MongoClient(&quot;mongodb://admin:&lt;nopasswordforyou&gt;@185.209.223.136:2002/authDb?uuidRepresentation=javaLegacy&quot;);\n\n        MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;bans&quot;);\n</code></pre>\n"},{"tags":["java","hibernate","jax-rs"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683408937,"post_id":76190621,"comment_id":134363145,"body_markdown":"I mean, you&#39;re catching and throwing away the `NullPointerException`, so we can&#39;t see the stack trace, and can&#39;t tell which line of code throws the NPE. That makes the question impossible to answer.","body":"I mean, you&#39;re catching and throwing away the <code>NullPointerException</code>, so we can&#39;t see the stack trace, and can&#39;t tell which line of code throws the NPE. That makes the question impossible to answer."}],"owner":{"account_id":18959823,"reputation":507,"user_id":13835615,"display_name":"jasonmzx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683400170,"creation_date":1683399778,"question_id":76190621,"body_markdown":"I&#39;m having an issue when I call /search endpoint, The try block always throws a null pointer exception, and &quot;not found&quot; is the response.\r\n\r\n**/search endpoint**\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.ezcampus.search.hibernate.entity.ClassType;\r\nimport org.ezcampus.search.hibernate.entity.Term;\r\nimport org.ezcampus.search.hibernate.entity.Word;\r\nimport org.ezcampus.search.hibernate.entity.WordDAO;\r\nimport org.ezcampus.search.hibernate.util.SessionUtil;\r\nimport org.hibernate.Session;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\r\n@Path(&quot;/search&quot;)\r\npublic class Search {\r\n    \r\n    private final ObjectMapper jsonMap = new ObjectMapper();\r\n        \r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response getRequestBody(\r\n            @QueryParam(&quot;search_term&quot;) String searchTerm,\r\n            @QueryParam(&quot;page&quot;) int page,\r\n            @QueryParam(&quot;results_per_page&quot;) int resultsPerPage\r\n    ) \r\n    {\r\n       try {\r\n    \t   return Response.status(Response.Status.OK).entity(\r\n    \t\t\t   WordDAO.getWord(&quot;12345&quot;)\r\n    \t\t\t   ).build();\r\n       } catch (NullPointerException e) {\r\n           return Response.status(Response.Status.NOT_FOUND).entity(\r\n                   &quot;not found&quot;\r\n           ).build();  \r\n       }              \r\n    } \r\n}\r\n```\r\n\r\nIt&#39;s quite weird since when I call `WordDAO.getWord(&quot;12345&quot;)` In A random App.java file with main method, I get a string response. This function runs and returns fine...\r\n\r\nBut when I&#39;m calling the endpoint, it always throws some NullPointerException and ends up responding with the catch block -&gt; `not_found`\r\n\r\n```java\r\nimport org.ezcampus.search.hibernate.util.SessionUtil;\r\nimport org.hibernate.Session;\r\n\r\npublic class WordDAO {\r\n\r\n\tpublic static String getWord(String input) {\r\n\t\t\r\n\t\ttry (Session session = SessionUtil.getSessionFactory().openSession()) {\r\n\t\t\t\r\n\t\t\tWord existingWord = session.createQuery(&quot;FROM Word WHERE word = :entry&quot;, Word.class)\r\n\t\t\t\t\t.setParameter(&quot;entry&quot;, input).uniqueResult();\r\n\t\t\t\r\n\t\t\treturn existingWord.toString();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nSession Factory:\r\n\r\n```java\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.tinylog.Logger;\r\n\r\npublic class SessionUtil\r\n{\r\n\tprivate static StandardServiceRegistry registry;\r\n\tprivate static SessionFactory sessionFactory;\r\n\r\n\tpublic static SessionFactory getSessionFactory()\r\n\t{\r\n\t\tif (sessionFactory == null)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t// Create registry\r\n\t\t\t\tregistry = new StandardServiceRegistryBuilder().configure().build();\r\n\r\n\t\t\t\t// Create MetadataSources\r\n\t\t\t\tMetadataSources sources = new MetadataSources(registry);\r\n\r\n\t\t\t\t// Create Metadata\r\n\t\t\t\tMetadata metadata = sources.getMetadataBuilder().build();\r\n\r\n\t\t\t\t// Create SessionFactory\r\n\t\t\t\tsessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\tLogger.error(e);\r\n\r\n\t\t\t\tif (registry != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tStandardServiceRegistryBuilder.destroy(registry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sessionFactory;\r\n\t}\r\n\r\n\tpublic static void shutdown()\r\n\t{\r\n\t\tif (registry != null)\r\n\t\t{\r\n\t\t\tStandardServiceRegistryBuilder.destroy(registry);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMain Application Program (Using Jax-RS Jersey)\r\n\r\n```java\r\n@ApplicationPath(&quot;/&quot;)\r\npublic class Program extends ResourceConfig {\r\n\r\n    public Program() {\r\n        GlobalSettings.IS_DEBUG = true;\r\n\r\n        ResourceLoader.loadTinyLogConfig();\r\n\r\n        Logger.info(&quot;{} starting...&quot;, GlobalSettings.BRAND_LONG);\r\n        Logger.info(&quot;Running as debug: {}&quot;, GlobalSettings.IS_DEBUG);\r\n\r\n        // Set the package where the resources are located\r\n        packages(&quot;org.github.xyz.rest&quot;);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhat could be causing this issue? \r\n\r\nUpdate: MVN Dependencies\r\n\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.5.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.tinylog&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tinylog-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.tinylog&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tinylog-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n               &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n        &lt;!-- Adding jersey --&gt;\r\n        &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n                \r\n\t&lt;/dependencies&gt;\r\n```","title":"Jax-RS &amp; Hibernate Endpoint isn&#39;t properly able to make queries with Hibernate","body":"<p>I'm having an issue when I call /search endpoint, The try block always throws a null pointer exception, and &quot;not found&quot; is the response.</p>\n<p><strong>/search endpoint</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.ezcampus.search.hibernate.entity.ClassType;\nimport org.ezcampus.search.hibernate.entity.Term;\nimport org.ezcampus.search.hibernate.entity.Word;\nimport org.ezcampus.search.hibernate.entity.WordDAO;\nimport org.ezcampus.search.hibernate.util.SessionUtil;\nimport org.hibernate.Session;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n\n@Path(&quot;/search&quot;)\npublic class Search {\n    \n    private final ObjectMapper jsonMap = new ObjectMapper();\n        \n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getRequestBody(\n            @QueryParam(&quot;search_term&quot;) String searchTerm,\n            @QueryParam(&quot;page&quot;) int page,\n            @QueryParam(&quot;results_per_page&quot;) int resultsPerPage\n    ) \n    {\n       try {\n           return Response.status(Response.Status.OK).entity(\n                   WordDAO.getWord(&quot;12345&quot;)\n                   ).build();\n       } catch (NullPointerException e) {\n           return Response.status(Response.Status.NOT_FOUND).entity(\n                   &quot;not found&quot;\n           ).build();  \n       }              \n    } \n}\n</code></pre>\n<p>It's quite weird since when I call <code>WordDAO.getWord(&quot;12345&quot;)</code> In A random App.java file with main method, I get a string response. This function runs and returns fine...</p>\n<p>But when I'm calling the endpoint, it always throws some NullPointerException and ends up responding with the catch block -&gt; <code>not_found</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.ezcampus.search.hibernate.util.SessionUtil;\nimport org.hibernate.Session;\n\npublic class WordDAO {\n\n    public static String getWord(String input) {\n        \n        try (Session session = SessionUtil.getSessionFactory().openSession()) {\n            \n            Word existingWord = session.createQuery(&quot;FROM Word WHERE word = :entry&quot;, Word.class)\n                    .setParameter(&quot;entry&quot;, input).uniqueResult();\n            \n            return existingWord.toString();\n        }\n        \n    }\n    \n}\n\n</code></pre>\n<p>Session Factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.tinylog.Logger;\n\npublic class SessionUtil\n{\n    private static StandardServiceRegistry registry;\n    private static SessionFactory sessionFactory;\n\n    public static SessionFactory getSessionFactory()\n    {\n        if (sessionFactory == null)\n        {\n            try\n            {\n                // Create registry\n                registry = new StandardServiceRegistryBuilder().configure().build();\n\n                // Create MetadataSources\n                MetadataSources sources = new MetadataSources(registry);\n\n                // Create Metadata\n                Metadata metadata = sources.getMetadataBuilder().build();\n\n                // Create SessionFactory\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n            }\n            catch (Exception e)\n            {\n                Logger.error(e);\n\n                if (registry != null)\n                {\n                    StandardServiceRegistryBuilder.destroy(registry);\n                }\n            }\n        }\n        return sessionFactory;\n    }\n\n    public static void shutdown()\n    {\n        if (registry != null)\n        {\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n}\n</code></pre>\n<p>Main Application Program (Using Jax-RS Jersey)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationPath(&quot;/&quot;)\npublic class Program extends ResourceConfig {\n\n    public Program() {\n        GlobalSettings.IS_DEBUG = true;\n\n        ResourceLoader.loadTinyLogConfig();\n\n        Logger.info(&quot;{} starting...&quot;, GlobalSettings.BRAND_LONG);\n        Logger.info(&quot;Running as debug: {}&quot;, GlobalSettings.IS_DEBUG);\n\n        // Set the package where the resources are located\n        packages(&quot;org.github.xyz.rest&quot;);\n\n\n    }\n}\n</code></pre>\n<p>What could be causing this issue?</p>\n<p>Update: MVN Dependencies</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.tinylog&lt;/groupId&gt;\n            &lt;artifactId&gt;tinylog-api&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.tinylog&lt;/groupId&gt;\n            &lt;artifactId&gt;tinylog-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n               &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        &lt;!-- Adding jersey --&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","log4j"],"answers":[{"comments":[{"owner":{"account_id":28514122,"reputation":3,"user_id":21823699,"display_name":"Kremor"},"score":0,"creation_date":1683282397,"post_id":76180188,"comment_id":134346348,"body_markdown":"Additional filter in chain helped. Thanks for your help. Plus I was missing appender in rootLogger","body":"Additional filter in chain helped. Thanks for your help. Plus I was missing appender in rootLogger"}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683399863,"creation_date":1683274945,"answer_id":76180188,"question_id":76179902,"body_markdown":"According to the Javadocs, Log4j filters return one of 3 values after checking the log message:\r\n\r\n&gt; If the value DENY is returned, then the log event is dropped immediately without consulting with the remaining filters.\r\n&gt; If the value NEUTRAL is returned, then the next filter in the chain is consulted. If there are no more filters in the chain, then the log event is logged. Thus, in the presence of no filters, the default behaviour is to log all logging events.\r\n&gt; If the value ACCEPT is returned, then the log event is logged without consulting the remaining filters. \r\n\r\nMeanwhile, the `StringMatchFilter` Javadocs have this to say:\r\n\r\n&gt; The filter admits two options StringToMatch and AcceptOnMatch. If there is a match between the value of the StringToMatch option and the message of the LoggingEvent, then the decide(LoggingEvent) method returns Filter.ACCEPT if the AcceptOnMatch option value is true, if it is false then Filter.DENY is returned. If there is no match, Filter.NEUTRAL is returned. \r\n\r\nLog4j will check each filter in turn. If a filter returns NEUTRAL, then it moves onto the next filter. If a filter returns either DENY or ACCEPT then then no further filters are checked and the log message is either discarded or accepted and logged. If the last filter returns NEUTRAL then the message is accepted.\r\n\r\nSo the problem is that when the message doesn&#39;t match your filter string, the StringMatchFilter returns NEUTRAL. Since there are no more filters the log message is accepted and written out. To change this behaviour you need to add a `DenyAllFilter` filter as the second filter:\r\n\r\n    log4j.appender.priceImportFile.filter.2=org.apache.log4j.varia.DenyAllFilter\r\n","title":"Log4j StringMatchFilter properties configuration","body":"<p>According to the Javadocs, Log4j filters return one of 3 values after checking the log message:</p>\n<blockquote>\n<p>If the value DENY is returned, then the log event is dropped immediately without consulting with the remaining filters.\nIf the value NEUTRAL is returned, then the next filter in the chain is consulted. If there are no more filters in the chain, then the log event is logged. Thus, in the presence of no filters, the default behaviour is to log all logging events.\nIf the value ACCEPT is returned, then the log event is logged without consulting the remaining filters.</p>\n</blockquote>\n<p>Meanwhile, the <code>StringMatchFilter</code> Javadocs have this to say:</p>\n<blockquote>\n<p>The filter admits two options StringToMatch and AcceptOnMatch. If there is a match between the value of the StringToMatch option and the message of the LoggingEvent, then the decide(LoggingEvent) method returns Filter.ACCEPT if the AcceptOnMatch option value is true, if it is false then Filter.DENY is returned. If there is no match, Filter.NEUTRAL is returned.</p>\n</blockquote>\n<p>Log4j will check each filter in turn. If a filter returns NEUTRAL, then it moves onto the next filter. If a filter returns either DENY or ACCEPT then then no further filters are checked and the log message is either discarded or accepted and logged. If the last filter returns NEUTRAL then the message is accepted.</p>\n<p>So the problem is that when the message doesn't match your filter string, the StringMatchFilter returns NEUTRAL. Since there are no more filters the log message is accepted and written out. To change this behaviour you need to add a <code>DenyAllFilter</code> filter as the second filter:</p>\n<pre><code>log4j.appender.priceImportFile.filter.2=org.apache.log4j.varia.DenyAllFilter\n</code></pre>\n"}],"owner":{"account_id":28514122,"reputation":3,"user_id":21823699,"display_name":"Kremor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76180188,"answer_count":1,"score":0,"last_activity_date":1683399863,"creation_date":1683272744,"question_id":76179902,"body_markdown":"I&#39;m having problem with configuring log4j.properties when filtering with StringMatchFilter.\r\n\r\nI&#39;m trying to separate specific logs to new file using StringMatchFilter but haven&#39;t got anything written in that new file. My app is using Spring 4.1.7. with slf4j 1.7.12. and log4j 1.2.17. and is having following configuration in my log4j.properties file:\r\n\r\n\r\n\t\t\r\n```\r\nlog4j.rootLogger=ALL, file, priceImportFile, DB, console\r\n\r\n# file\r\nlog4j.appender.file=org.apache.log4j.DailyRollingFileAppender\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\r\nlog4j.appender.file.File=${catalina.home}/logs/file.log\r\nlog4j.appender.file.DatePattern=&#39;-&#39;yyyy-MM-dd&#39;.log&#39;\r\n\r\n# importFile\r\nlog4j.appender.priceImportFile=org.apache.log4j.DailyRollingFileAppender\r\nlog4j.appender.priceImportFile.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.priceImportFile.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\r\nlog4j.appender.priceImportFile.File=${catalina.home}/logs/import-file.log\r\nlog4j.appender.priceImportFile.DatePattern=&#39;-&#39;yyyy-MM-dd&#39;.log&#39;\r\nlog4j.appender.priceImportFile.filter.1=org.apache.log4j.varia.StringMatchFilter\r\nlog4j.appender.priceImportFile.filter.1.StringToMatch=row is duplicated\r\nlog4j.appender.priceImportFile.filter.1.AcceptOnMatch=true\r\n\r\n# Setting threshold for specific packages\r\nlog4j.logger.org.springframework=DEBUG\r\nlog4j.logger.org.springframework.web.servlet.view.ContentNegotiatingViewResolver=TRACE\r\nlog4j.logger.org.apache=WARN\r\nlog4j.logger.com.mchange=WARN\r\nlog4j.logger.org.hibernate=INFO\r\nlog4j.logger.com.product=ALL\r\nlog4j.logger.com.product.service.www_admin.http=WARN\r\n```\r\nWould appreciate your help.\r\n","title":"Log4j StringMatchFilter properties configuration","body":"<p>I'm having problem with configuring log4j.properties when filtering with StringMatchFilter.</p>\n<p>I'm trying to separate specific logs to new file using StringMatchFilter but haven't got anything written in that new file. My app is using Spring 4.1.7. with slf4j 1.7.12. and log4j 1.2.17. and is having following configuration in my log4j.properties file:</p>\n<pre><code>log4j.rootLogger=ALL, file, priceImportFile, DB, console\n\n# file\nlog4j.appender.file=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\nlog4j.appender.file.File=${catalina.home}/logs/file.log\nlog4j.appender.file.DatePattern='-'yyyy-MM-dd'.log'\n\n# importFile\nlog4j.appender.priceImportFile=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.priceImportFile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.priceImportFile.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p {%t} [%C] %m%n\nlog4j.appender.priceImportFile.File=${catalina.home}/logs/import-file.log\nlog4j.appender.priceImportFile.DatePattern='-'yyyy-MM-dd'.log'\nlog4j.appender.priceImportFile.filter.1=org.apache.log4j.varia.StringMatchFilter\nlog4j.appender.priceImportFile.filter.1.StringToMatch=row is duplicated\nlog4j.appender.priceImportFile.filter.1.AcceptOnMatch=true\n\n# Setting threshold for specific packages\nlog4j.logger.org.springframework=DEBUG\nlog4j.logger.org.springframework.web.servlet.view.ContentNegotiatingViewResolver=TRACE\nlog4j.logger.org.apache=WARN\nlog4j.logger.com.mchange=WARN\nlog4j.logger.org.hibernate=INFO\nlog4j.logger.com.product=ALL\nlog4j.logger.com.product.service.www_admin.http=WARN\n</code></pre>\n<p>Would appreciate your help.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","java-17"],"owner":{"account_id":16961791,"reputation":11,"user_id":12268756,"display_name":"JimJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683399554,"creation_date":1683362477,"question_id":76187946,"body_markdown":"I have a Spring Boot (3.0.5) application - with 3 sets of APIs:\r\n\r\n1. `/api/**` - called by a client UI application - uses JWT based authentication\r\n2. `/integration/**` - called by another application - these must be protected with client auth.\r\n3. The rest - publicly accessible.\r\n\r\nI am setting `server.ssl.client-auth` to `want` - as I don&#39;t need all my endpoints to follow the X502 authentication.\r\n\r\nI made it working following a few posts here with similar questions and came up with a security configuration as below. It&#39;s working as expected, but as you can see I have to do a lot of custom checks. Is there a better way to achieve this?\r\n\r\nThis configuration sets `/api/**` to use JWT validation, and the rest is open for public access.\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain configureSecurityFilters(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests(a -&gt; a\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;)).authenticated()\r\n            .anyRequest().permitAll()\r\n        )\r\n\t\t.csrf().disable()\r\n        .addFilterBefore(jwtValidationFilter, UsernamePasswordAuthenticationFilter.class);\r\n    return http.build();\r\n}\r\n```\r\n\r\nThis is my second configuration, for custom validation of `/integration/**` API calls.\r\n\r\n```java\r\n@Bean\r\n@Order(1)\r\npublic SecurityFilterChain x502Config(HttpSecurity http, HttpServletRequest request) throws Exception {\r\n\r\n    http\r\n        .securityMatcher(&quot;/integration/**&quot;)\r\n        .csrf().disable()\r\n        .addFilterBefore(customX509AuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n        .authorizeHttpRequests()\r\n            .anyRequest().permitAll();\r\n    return http.build();\r\n}\r\n```\r\n\r\nAnd this is the custom filter - that validates if a client cert validation occurred and the context has a valid X509 certificate:\r\n\r\n```java\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.NegatedRequestMatcher;\r\nimport org.springframework.security.web.util.matcher.RequestMatcher;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\nimport java.security.Principal;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Arrays;\r\n\r\n@Component \r\npublic class CustomX509AuthenticationFilter extends OncePerRequestFilter {\r\n\t\r\n\t@Value(&quot;${server.ssl.client-auth}&quot;) \r\n\tprivate String mutualTLSConfig;\r\n\r\n\t@Override \r\n\tprotected void doFilterInternal(HttpServletRequest request,\r\n\t\t\tHttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tX509Certificate[] clientCertificates = (X509Certificate[]) request.getAttribute(\r\n\t\t\t\t&quot;jakarta.servlet.request.X509Certificate&quot;);\r\n\t\tif (isMutualTLSEnabled() &amp;&amp; (clientCertificates == null\r\n\t\t\t\t|| clientCertificates.length == 0)) {\r\n\t\t\tresponse.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.name());\r\n\t\t\treturn;\r\n\t\t} else if (isMutualTLSEnabled()) {\r\n\t\t\tX509Certificate clientCertificate = clientCertificates[0];\r\n\t\t\tString username = extractUsernameFromCertificate(clientCertificate);\r\n\t\t\tAuthentication authentication = new UsernamePasswordAuthenticationToken(username, &quot;&quot;,\r\n\t\t\t\t\tArrays.asList());\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\r\n\tprivate String extractUsernameFromCertificate(X509Certificate certificate) {\r\n\t\tPrincipal principal = certificate.getSubjectDN();\r\n\t\tString name = principal.getName();\r\n\t\tint startIndex = name.indexOf(&quot;CN=&quot;) + 3;\r\n\t\tint endIndex = name.indexOf(&quot;,&quot;, startIndex);\r\n\t\tif (endIndex == -1) {\r\n\t\t\tendIndex = name.length();\r\n\t\t}\r\n\t\treturn name.substring(startIndex, endIndex);\r\n\t}\r\n\r\n        // Ignore this validation if &quot;none&quot; is set (dev purposes)\r\n        // &quot;need&quot; will never be used in this application (because if used, client-auth will be applied to all requests)\r\n\tprivate boolean isMutualTLSEnabled() {\r\n\t\treturn StringUtils.isNotEmpty(mutualTLSConfig) &amp;&amp; mutualTLSConfig.equalsIgnoreCase(&quot;want&quot;);\r\n\t}\r\n\r\n        // I had to add this, otherwise all requests goes through this - which means the &quot;securityMatcher&quot; configuration is not applied properly.\r\n \r\n\t@Override protected boolean shouldNotFilter(HttpServletRequest request) {\r\n\t\tRequestMatcher matcher = new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/integration/**&quot;));\r\n\t\treturn matcher.matches(request);\r\n\t}\r\n}\r\n```\r\n\r\nI also have second filter for validating the JWT (`jwtValidationFilter`) for the `/api/**` endpoints.\r\n\r\n```java\r\n@Override\r\nprotected void doFilterInternal(HttpServletRequest req, HttpServletResponse res,\r\n    FilterChain chain) throws IOException, ServletException {\r\n\r\n    final String requstUri = req.getRequestURI();\r\n    final String jwtAuthToken = getCookieValue(req, AUTH_TOKEN_COOKIE_NAME);\r\n    // Validates the token and set the authentication in SecurityContextHolder\r\n\t....\r\n\t....\r\n    UsernamePasswordAuthenticationToken authentication = getAuthentication(jwtToken, res);\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n    chain.doFilter(req, res);\r\n}\r\n```\r\n\r\nThis configuration works as expected, but I have a feeling that my security configuration is not perfect.\r\n\r\nUsing JDK 17, Spring Boot 3.0.5.","title":"How to guard some endpoints with mTLs and some with JWT","body":"<p>I have a Spring Boot (3.0.5) application - with 3 sets of APIs:</p>\n<ol>\n<li><code>/api/**</code> - called by a client UI application - uses JWT based authentication</li>\n<li><code>/integration/**</code> - called by another application - these must be protected with client auth.</li>\n<li>The rest - publicly accessible.</li>\n</ol>\n<p>I am setting <code>server.ssl.client-auth</code> to <code>want</code> - as I don't need all my endpoints to follow the X502 authentication.</p>\n<p>I made it working following a few posts here with similar questions and came up with a security configuration as below. It's working as expected, but as you can see I have to do a lot of custom checks. Is there a better way to achieve this?</p>\n<p>This configuration sets <code>/api/**</code> to use JWT validation, and the rest is open for public access.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain configureSecurityFilters(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(a -&gt; a\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;)).authenticated()\n            .anyRequest().permitAll()\n        )\n        .csrf().disable()\n        .addFilterBefore(jwtValidationFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n</code></pre>\n<p>This is my second configuration, for custom validation of <code>/integration/**</code> API calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(1)\npublic SecurityFilterChain x502Config(HttpSecurity http, HttpServletRequest request) throws Exception {\n\n    http\n        .securityMatcher(&quot;/integration/**&quot;)\n        .csrf().disable()\n        .addFilterBefore(customX509AuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n        .authorizeHttpRequests()\n            .anyRequest().permitAll();\n    return http.build();\n}\n</code></pre>\n<p>And this is the custom filter - that validates if a client cert validation occurred and the context has a valid X509 certificate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.web.util.matcher.NegatedRequestMatcher;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.security.Principal;\nimport java.security.cert.X509Certificate;\nimport java.util.Arrays;\n\n@Component \npublic class CustomX509AuthenticationFilter extends OncePerRequestFilter {\n    \n    @Value(&quot;${server.ssl.client-auth}&quot;) \n    private String mutualTLSConfig;\n\n    @Override \n    protected void doFilterInternal(HttpServletRequest request,\n            HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        X509Certificate[] clientCertificates = (X509Certificate[]) request.getAttribute(\n                &quot;jakarta.servlet.request.X509Certificate&quot;);\n        if (isMutualTLSEnabled() &amp;&amp; (clientCertificates == null\n                || clientCertificates.length == 0)) {\n            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.name());\n            return;\n        } else if (isMutualTLSEnabled()) {\n            X509Certificate clientCertificate = clientCertificates[0];\n            String username = extractUsernameFromCertificate(clientCertificate);\n            Authentication authentication = new UsernamePasswordAuthenticationToken(username, &quot;&quot;,\n                    Arrays.asList());\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    private String extractUsernameFromCertificate(X509Certificate certificate) {\n        Principal principal = certificate.getSubjectDN();\n        String name = principal.getName();\n        int startIndex = name.indexOf(&quot;CN=&quot;) + 3;\n        int endIndex = name.indexOf(&quot;,&quot;, startIndex);\n        if (endIndex == -1) {\n            endIndex = name.length();\n        }\n        return name.substring(startIndex, endIndex);\n    }\n\n        // Ignore this validation if &quot;none&quot; is set (dev purposes)\n        // &quot;need&quot; will never be used in this application (because if used, client-auth will be applied to all requests)\n    private boolean isMutualTLSEnabled() {\n        return StringUtils.isNotEmpty(mutualTLSConfig) &amp;&amp; mutualTLSConfig.equalsIgnoreCase(&quot;want&quot;);\n    }\n\n        // I had to add this, otherwise all requests goes through this - which means the &quot;securityMatcher&quot; configuration is not applied properly.\n \n    @Override protected boolean shouldNotFilter(HttpServletRequest request) {\n        RequestMatcher matcher = new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/integration/**&quot;));\n        return matcher.matches(request);\n    }\n}\n</code></pre>\n<p>I also have second filter for validating the JWT (<code>jwtValidationFilter</code>) for the <code>/api/**</code> endpoints.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doFilterInternal(HttpServletRequest req, HttpServletResponse res,\n    FilterChain chain) throws IOException, ServletException {\n\n    final String requstUri = req.getRequestURI();\n    final String jwtAuthToken = getCookieValue(req, AUTH_TOKEN_COOKIE_NAME);\n    // Validates the token and set the authentication in SecurityContextHolder\n    ....\n    ....\n    UsernamePasswordAuthenticationToken authentication = getAuthentication(jwtToken, res);\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n    chain.doFilter(req, res);\n}\n</code></pre>\n<p>This configuration works as expected, but I have a feeling that my security configuration is not perfect.</p>\n<p>Using JDK 17, Spring Boot 3.0.5.</p>\n"},{"tags":["java","groovy"],"answers":[{"comments":[{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":5,"creation_date":1512588317,"post_id":47668824,"comment_id":82323090,"body_markdown":"This does not work because for the `testCount` to increase this has to be called multiple times and the `contains` will always find the fist appearance of `test` ending in an endless loop if `contains` returns true.","body":"This does not work because for the <code>testCount</code> to increase this has to be called multiple times and the <code>contains</code> will always find the fist appearance of <code>test</code> ending in an endless loop if <code>contains</code> returns true."}],"tags":[],"owner":{"account_id":9094295,"reputation":1988,"user_id":6768769,"accept_rate":40,"display_name":"Dileep Patel"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1512544473,"creation_date":1512544473,"answer_id":47668824,"question_id":47668747,"body_markdown":"Increment a value when if condition is true\r\n\r\n like as\r\n\r\n    int testCount=0;\r\n     if (env.logs.contains(&#39;test&#39;)) {\r\n      testCount++;\r\n     }\r\n\r\nand check condtion\r\n\r\n   if testCount&gt;0 then write somethinng what you want.\r\n   ","title":"Groovy: Check if text contains a string more than one time","body":"<p>Increment a value when if condition is true</p>\n\n<p>like as</p>\n\n<pre><code>int testCount=0;\n if (env.logs.contains('test')) {\n  testCount++;\n }\n</code></pre>\n\n<p>and check condtion</p>\n\n<p>if testCount>0 then write somethinng what you want.</p>\n"},{"comments":[{"owner":{"account_id":13802251,"reputation":5240,"user_id":9962007,"display_name":"mirekphd"},"score":0,"creation_date":1692864289,"post_id":47668989,"comment_id":135682525,"body_markdown":"As a bonus question: how did you peek inside it?","body":"As a bonus question: how did you peek inside it?"}],"tags":[],"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1512545665,"creation_date":1512545191,"answer_id":47668989,"question_id":47668747,"body_markdown":"The `contains()` method simply does this:\r\n\r\n    public boolean contains(CharSequence s) {\r\n        return indexOf(s.toString()) &gt; -1;\r\n    }\r\n\r\nTherefore you can do this to check if the value appears more than once:\r\n\r\n    int index = env.logs.indexOf(&quot;test&quot;);\r\n    if ((index &gt; -1) &amp;&amp; (env.logs.indexOf(&quot;test&quot;, index + 1) &gt; -1) ) {\r\n            // do something here\r\n    }","title":"Groovy: Check if text contains a string more than one time","body":"<p>The <code>contains()</code> method simply does this:</p>\n\n<pre><code>public boolean contains(CharSequence s) {\n    return indexOf(s.toString()) &gt; -1;\n}\n</code></pre>\n\n<p>Therefore you can do this to check if the value appears more than once:</p>\n\n<pre><code>int index = env.logs.indexOf(\"test\");\nif ((index &gt; -1) &amp;&amp; (env.logs.indexOf(\"test\", index + 1) &gt; -1) ) {\n        // do something here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8317224,"reputation":2936,"user_id":6250067,"display_name":"Evgeny Smirnov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512546879,"creation_date":1512546879,"answer_id":47669372,"question_id":47668747,"body_markdown":"Using matcher:\r\n\r\n    def match = (env.logs =~ /test/)\r\n    assert match.size() &gt; 1","title":"Groovy: Check if text contains a string more than one time","body":"<p>Using matcher:</p>\n\n<pre><code>def match = (env.logs =~ /test/)\nassert match.size() &gt; 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683399535,"creation_date":1683399535,"answer_id":76190604,"question_id":47668747,"body_markdown":"Simply try:\r\n\r\n\r\n```groovy\r\nif (env.logs.count(&#39;test&#39;) &gt; 2) {\r\n...\r\n}\r\n```","title":"Groovy: Check if text contains a string more than one time","body":"<p>Simply try:</p>\n<pre><code>if (env.logs.count('test') &gt; 2) {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":8062719,"reputation":14158,"user_id":6077803,"accept_rate":62,"display_name":"DenCowboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43965,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47668989,"answer_count":4,"score":3,"last_activity_date":1683399535,"creation_date":1512544218,"question_id":47668747,"body_markdown":"I want to check if the word `&quot;test&quot;` appears more than 1 time in the logs.\r\nThe following code just checks if the word `&#39;test&#39;` appears more than 0 times in the string. (it just checks if the logs contain the word).\r\n\r\n     if (env.logs.contains(&#39;test&#39;)) {\r\n          xxx\r\n    }\r\n\r\nWhat do I have to change to let this part of code check for more than one appearances of the word `test`?","title":"Groovy: Check if text contains a string more than one time","body":"<p>I want to check if the word <code>\"test\"</code> appears more than 1 time in the logs.\nThe following code just checks if the word <code>'test'</code> appears more than 0 times in the string. (it just checks if the logs contain the word).</p>\n\n<pre><code> if (env.logs.contains('test')) {\n      xxx\n}\n</code></pre>\n\n<p>What do I have to change to let this part of code check for more than one appearances of the word <code>test</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682522105,"post_id":76112331,"comment_id":134230131,"body_markdown":"Did you try use `ADMIN` instead of `ROLE_ADMIN`","body":"Did you try use <code>ADMIN</code> instead of <code>ROLE_ADMIN</code>"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682522303,"post_id":76112331,"comment_id":134230188,"body_markdown":"I don&#39;t think that matters. it is all based on the roles I manually added to  my MongoDB. It is used retrieved from the database {\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6449278b7b0bcb5a0c8288c3&quot;\n  },\n  &quot;userName&quot;: &quot;Arnold Schwarzenegger&quot;,\n  &quot;email&quot;: &quot;arnold@gmail.com&quot;,\n  &quot;password&quot;: &quot;$2a$10$BYCGuOqfrogGRMESsNp7leH225A2vSmPzP3UoEPMMdBd8EV4uRB9S&quot;,\n  &quot;roles&quot;: [\n    &quot;ROLE_SUPER_MANAGER&quot;,\n    &quot;ROLE_ADMIN&quot;,\n    &quot;ROLE_USER&quot;\n  ],\n  &quot;_class&quot;: &quot;dev.barahow.movies.model.AppUser&quot;\n}","body":"I don&#39;t think that matters. it is all based on the roles I manually added to  my MongoDB. It is used retrieved from the database {   &quot;_id&quot;: {     &quot;$oid&quot;: &quot;6449278b7b0bcb5a0c8288c3&quot;   },   &quot;userName&quot;: &quot;Arnold Schwarzenegger&quot;,   &quot;email&quot;: &quot;arnold@gmail.com&quot;,   &quot;password&quot;: &quot;$2a$10$BYCGuOqfrogGRMESsNp7leH225A2vSmPzP3UoEPMMdBd8EV4uRB9&zwnj;&#8203;S&quot;,   &quot;roles&quot;: [     &quot;ROLE_SUPER_MANAGER&quot;,     &quot;ROLE_ADMIN&quot;,     &quot;ROLE_USER&quot;   ],   &quot;_class&quot;: &quot;dev.barahow.movies.model.AppUser&quot; }"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1682522402,"post_id":76112331,"comment_id":134230222,"body_markdown":"Turn on Spring security debug logging. That will give you information on why a user is denied access. `-Dlogging.level.org.springframework.security=DEBUG`","body":"Turn on Spring security debug logging. That will give you information on why a user is denied access. <code>-Dlogging.level.org.springframework.security=DEBUG</code>"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682522449,"post_id":76112331,"comment_id":134230231,"body_markdown":"Spring security adds &quot;ROLE&quot; prefix automatically. Please delete &quot;ROLE&quot; from them that are in DB and then try to use without prefix. https://stackoverflow.com/questions/33205236/spring-security-added-prefix-role-to-all-roles-name","body":"Spring security adds &quot;ROLE&quot; prefix automatically. Please delete &quot;ROLE&quot; from them that are in DB and then try to use without prefix. <a href=\"https://stackoverflow.com/questions/33205236/spring-security-added-prefix-role-to-all-roles-name\" title=\"spring security added prefix role to all roles name\">stackoverflow.com/questions/33205236/&hellip;</a>"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682523644,"post_id":76112331,"comment_id":134230604,"body_markdown":"Unfortunately, deleting the role prefix didn&#39;t solve the issue. .","body":"Unfortunately, deleting the role prefix didn&#39;t solve the issue. ."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":2,"creation_date":1682524191,"post_id":76112331,"comment_id":134230780,"body_markdown":"Copy and paste your token in https://jwt.io As I can see from there, your token doesn&#39;t have any roles information in it. roles array is empty","body":"Copy and paste your token in <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> As I can see from there, your token doesn&#39;t have any roles information in it. roles array is empty"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682524398,"post_id":76112331,"comment_id":134230845,"body_markdown":"You are right, no clue why it is showing empty when I have roles information in my MongoDB","body":"You are right, no clue why it is showing empty when I have roles information in my MongoDB"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1682525014,"post_id":76112331,"comment_id":134231004,"body_markdown":"Debug your code where you are fetching that info from MongoDB","body":"Debug your code where you are fetching that info from MongoDB"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1682537428,"post_id":76112331,"comment_id":134233623,"body_markdown":"is there any specific reason to why you are not using the built in JWT functionality that already comes with the spring security framework? the whole point with using a security framework is to avoid needing to write a bunch of custom code","body":"is there any specific reason to why you are not using the built in JWT functionality that already comes with the spring security framework? the whole point with using a security framework is to avoid needing to write a bunch of custom code"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1682539980,"post_id":76112331,"comment_id":134234073,"body_markdown":"Just for learning purposes. I&#39;m trying to implement multi-factor authentication and I have no clue how to do it with the built-in JWT functionality in java spring without creating a custom filter.","body":"Just for learning purposes. I&#39;m trying to implement multi-factor authentication and I have no clue how to do it with the built-in JWT functionality in java spring without creating a custom filter."}],"answers":[{"tags":[],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683398001,"creation_date":1683398001,"answer_id":76190504,"question_id":76112331,"body_markdown":"**Solved**\r\n\r\n```\r\n@Document(collection = &quot;app_users&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class AppUser {\r\n\r\n    @Id\r\n    private ObjectId id;\r\n    @NotBlank(message = &quot;Name is mandatory&quot;)\r\n    private String userName;\r\n    @NotBlank(message = &quot;Email is mandatory&quot;)\r\n    @Email(message = &quot;Email should be valid&quot;)\r\n    private String email;\r\n    @NotBlank(message = &quot;Password is mandatory&quot;)\r\n    private String password;\r\n\r\n   // @JsonSerialize(using = ToStringSerializer.class)\r\n    @DBRef\r\n    private List&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n```\r\n\r\nAs someone pointed out my roles were not visible in my access token which made it difficult to authenticate a user. To solve the issue I added @DBRef above userRole \r\ninstead of @DBReference. The issue was The @DBRef annotation indicates that the roles field is referencing another document in a separate collection, rather than embedding the UserRole objects within the document itself. \r\n","title":"Spring Security not authorizing requests based on user roles","body":"<p><strong>Solved</strong></p>\n<pre><code>@Document(collection = &quot;app_users&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AppUser {\n\n    @Id\n    private ObjectId id;\n    @NotBlank(message = &quot;Name is mandatory&quot;)\n    private String userName;\n    @NotBlank(message = &quot;Email is mandatory&quot;)\n    @Email(message = &quot;Email should be valid&quot;)\n    private String email;\n    @NotBlank(message = &quot;Password is mandatory&quot;)\n    private String password;\n\n   // @JsonSerialize(using = ToStringSerializer.class)\n    @DBRef\n    private List&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\n\n\n\n</code></pre>\n<p>As someone pointed out my roles were not visible in my access token which made it difficult to authenticate a user. To solve the issue I added @DBRef above userRole\ninstead of @DBReference. The issue was The @DBRef annotation indicates that the roles field is referencing another document in a separate collection, rather than embedding the UserRole objects within the document itself.</p>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76190504,"answer_count":1,"score":1,"last_activity_date":1683398001,"creation_date":1682521594,"question_id":76112331,"body_markdown":"I&#39;m building a RESTful API using Spring Boot and Spring Security. I have configured the security filters in my WebSecurityConfigurerAdapter to permit access to certain endpoints based on the user roles. However, when I test my endpoints with different users, I&#39;m finding that requests are not being authorized correctly.\r\n\r\nHere&#39;s the code for my security filter chain:\r\n\r\n```\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        AbstractAuthenticationProcessingFilter filter = new CustomAuthenticationFilter(authenticationManager());\r\n       filter.setFilterProcessesUrl(&quot;/api/v1/login&quot;);\r\n\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/v1/login/**&quot;,&quot;/api/token/refresh/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;,&quot;/api/v1/user&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(POST,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(PUT,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(DELETE,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_SUPER_ADMIN&quot;);\r\n        http.authorizeHttpRequests().anyRequest().authenticated();\r\n        http.addFilter(filter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n\r\n    }\r\n\r\n```\r\nHere is the authorization filter class\r\n\r\n```\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if (request.getServletPath().equals(&quot;/api/v1/login&quot;)|| request.getServletPath().equals(&quot;/api/v1/token/refresh&quot;)) {\r\n            filterChain.doFilter(request,response);\r\n\r\n\r\n        }else {\r\n            String authorizationHeader= request.getHeader(AUTHORIZATION);\r\n            log.info(&quot;Authorization header {}&quot;,authorizationHeader);\r\n            String secretKey = System.getenv(&quot;MY_APP_SECRET_KEY&quot;);\r\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    Algorithm algorithm = Algorithm.HMAC256(secretKey.getBytes());\r\n                    JWTVerifier verifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = verifier.verify(token);\r\n\r\n                    String username = decodedJWT.getSubject();\r\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorityCollections = new ArrayList&lt;&gt;();\r\n                    stream(roles).forEach(role-&gt; {\r\n                        authorityCollections.add(new SimpleGrantedAuthority(role));\r\n\r\n                    });\r\n\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new\r\n                            UsernamePasswordAuthenticationToken(username,null\r\n                            ,authorityCollections);\r\n\r\n                    SecurityContextHolder.getContext()\r\n                            .setAuthentication(authenticationToken);\r\n\r\n\r\n                    filterChain.doFilter(request,response);\r\n\r\n\r\n\r\n                }catch (JWTVerificationException ex) {\r\n                    log.info(&quot;lets get an exception already&quot;);\r\n                    log.info(&quot;Error logging in: {}&quot;, ex.getMessage());\r\n                    response.setHeader(&quot;error&quot;, ex.getMessage());\r\n                    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n                    //response.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;error_message&quot;, ex.getMessage());\r\n                    response.setContentType(APPLICATION_JSON_VALUE);\r\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                }\r\n\r\n            } else {\r\n                log.info(&quot;Authorization header: {}&quot;, authorizationHeader);\r\n                log.info(&quot;start do filter&quot;);\r\n                filterChain.doFilter(request,response);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nWhen I make requests to endpoints that should only be accessible to users with certain roles, I&#39;m receiving a 403 Forbidden response. I have confirmed that the users I&#39;m testing with have the correct roles assigned to them in my database.\r\n\r\n\r\n\r\n**Edit**\r\n\r\nWhen I turned on the security debug logging this is what i got \r\n\r\n```\r\n2023-04-26T17:36:44.776+02:00  INFO 4348 --- [nio-8080-exec-3] d.b.m.filter.CustomAuthorizationFilter   : Authorization header Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhcm5vbGRAZ21haWwuY29tIiwiZXhwIjoxNjgyNTI0Mjc0LCJpc3MiOiIvYXBpL3YxL2xvZ2luIiwicm9sZXMiOltdfQ._11bP_6XwvOX1upcRM8WhvXf6KdQQSMrlW3405VgjBM\r\n2023-04-26T17:36:44.847+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-04-26T17:36:44.852+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-04-26T17:36:44.860+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-04-26T17:36:44.861+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n\r\n```\r\n    \r\n\r\n\r\n\r\n","title":"Spring Security not authorizing requests based on user roles","body":"<p>I'm building a RESTful API using Spring Boot and Spring Security. I have configured the security filters in my WebSecurityConfigurerAdapter to permit access to certain endpoints based on the user roles. However, when I test my endpoints with different users, I'm finding that requests are not being authorized correctly.</p>\n<p>Here's the code for my security filter chain:</p>\n<pre><code>\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        AbstractAuthenticationProcessingFilter filter = new CustomAuthenticationFilter(authenticationManager());\n       filter.setFilterProcessesUrl(&quot;/api/v1/login&quot;);\n\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/v1/login/**&quot;,&quot;/api/token/refresh/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/user/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\n        http.authorizeHttpRequests().requestMatchers(GET, &quot;/api/v1/movies/**&quot;,&quot;/api/v1/reviews&quot;,&quot;/api/v1/user&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(POST,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(PUT,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(DELETE,&quot;api/v1/movies/**&quot;,&quot;/api/v1/reviews/**&quot;,&quot;api/v1/user/**&quot;).hasAuthority(&quot;ROLE_SUPER_ADMIN&quot;);\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        http.addFilter(filter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n\n    }\n\n</code></pre>\n<p>Here is the authorization filter class</p>\n<pre><code>\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if (request.getServletPath().equals(&quot;/api/v1/login&quot;)|| request.getServletPath().equals(&quot;/api/v1/token/refresh&quot;)) {\n            filterChain.doFilter(request,response);\n\n\n        }else {\n            String authorizationHeader= request.getHeader(AUTHORIZATION);\n            log.info(&quot;Authorization header {}&quot;,authorizationHeader);\n            String secretKey = System.getenv(&quot;MY_APP_SECRET_KEY&quot;);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(secretKey.getBytes());\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorityCollections = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role-&gt; {\n                        authorityCollections.add(new SimpleGrantedAuthority(role));\n\n                    });\n\n                    UsernamePasswordAuthenticationToken authenticationToken = new\n                            UsernamePasswordAuthenticationToken(username,null\n                            ,authorityCollections);\n\n                    SecurityContextHolder.getContext()\n                            .setAuthentication(authenticationToken);\n\n\n                    filterChain.doFilter(request,response);\n\n\n\n                }catch (JWTVerificationException ex) {\n                    log.info(&quot;lets get an exception already&quot;);\n                    log.info(&quot;Error logging in: {}&quot;, ex.getMessage());\n                    response.setHeader(&quot;error&quot;, ex.getMessage());\n                    response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n                    //response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_message&quot;, ex.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n\n            } else {\n                log.info(&quot;Authorization header: {}&quot;, authorizationHeader);\n                log.info(&quot;start do filter&quot;);\n                filterChain.doFilter(request,response);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>When I make requests to endpoints that should only be accessible to users with certain roles, I'm receiving a 403 Forbidden response. I have confirmed that the users I'm testing with have the correct roles assigned to them in my database.</p>\n<p><strong>Edit</strong></p>\n<p>When I turned on the security debug logging this is what i got</p>\n<pre><code>2023-04-26T17:36:44.776+02:00  INFO 4348 --- [nio-8080-exec-3] d.b.m.filter.CustomAuthorizationFilter   : Authorization header Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhcm5vbGRAZ21haWwuY29tIiwiZXhwIjoxNjgyNTI0Mjc0LCJpc3MiOiIvYXBpL3YxL2xvZ2luIiwicm9sZXMiOltdfQ._11bP_6XwvOX1upcRM8WhvXf6KdQQSMrlW3405VgjBM\n2023-04-26T17:36:44.847+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-04-26T17:36:44.852+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-04-26T17:36:44.860+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-04-26T17:36:44.861+02:00 DEBUG 4348 --- [nio-8080-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n\n</code></pre>\n"},{"tags":["java","intellij-idea","indentation","code-formatting","auto-indent"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1376123167,"post_id":18159995,"comment_id":26602464,"body_markdown":"I&#39;m a recent IntelliJ convert, and I was wondering the same thing...","body":"I&#39;m a recent IntelliJ convert, and I was wondering the same thing..."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1376125750,"post_id":18159995,"comment_id":26603017,"body_markdown":"I don&#39;t have an informed answer about IntelliJ, but Eclipse has a preference page with per-language formatting rules. Can you find such a page in the IntelliJ preferences?","body":"I don&#39;t have an informed answer about IntelliJ, but Eclipse has a preference page with per-language formatting rules. Can you find such a page in the IntelliJ preferences?"}],"answers":[{"comments":[{"owner":{"account_id":1232298,"reputation":11323,"user_id":1196603,"display_name":"Jk1"},"score":21,"creation_date":1376137900,"post_id":18160449,"comment_id":26605670,"body_markdown":"Indeed. Binary Expressions -&gt; Align When Multiline","body":"Indeed. Binary Expressions -&gt; Align When Multiline"},{"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"score":0,"creation_date":1568184299,"post_id":18160449,"comment_id":102189558,"body_markdown":"Eclipse has much more fine grained support for adjustments here, which makes it hard to conform to eclipse code styles in this case.","body":"Eclipse has much more fine grained support for adjustments here, which makes it hard to conform to eclipse code styles in this case."},{"owner":{"account_id":148487,"reputation":467,"user_id":360293,"display_name":"Alwyn Schoeman"},"score":0,"creation_date":1689026962,"post_id":18160449,"comment_id":135152402,"body_markdown":"Works fine as long as you are not combining a Kotlin Elvis operator with a long exception string :)","body":"Works fine as long as you are not combining a Kotlin Elvis operator with a long exception string :)"}],"tags":[],"owner":{"account_id":153238,"reputation":9738,"user_id":368354,"accept_rate":93,"display_name":"Lennart"},"comment_count":3,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1376126164,"creation_date":1376126164,"answer_id":18160449,"question_id":18159995,"body_markdown":"You can adjust the formatting in Project Settings -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces. The option you are looking for should be either &quot;Method call arguments&quot; or &quot;Binary Expressions&quot;","title":"How do you fix intellij strange string indentation?","body":"<p>You can adjust the formatting in Project Settings -> Code Style -> Java -> Wrapping and Braces. The option you are looking for should be either \"Method call arguments\" or \"Binary Expressions\"</p>\n"}],"owner":{"account_id":30778,"reputation":19742,"user_id":84118,"accept_rate":79,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4846,"favorite_count":0,"down_vote_count":4,"up_vote_count":38,"accepted_answer_id":18160449,"answer_count":1,"score":34,"last_activity_date":1683397983,"creation_date":1376122267,"question_id":18159995,"body_markdown":"Intellij keeps on formatting my strings like this, its annoying...\r\n\r\nHow do I fix it so the lines all line up?\r\n\r\n\tPreparedStatement p = s.prepare(\r\n\t\t\t&quot;select distinct resource, uid, role &quot; +\r\n\t\t\t\t\t&quot;from role &quot; +\r\n\t\t\t\t\t&quot;where person_uuid=? &quot; +\r\n\t\t\t\t\t&quot;order by role, resource, uid&quot;);\r\nI.E.:\r\n\r\n\tPreparedStatement p = s.prepare(\r\n\t\t\t&quot;select distinct resource, uid, role &quot; +\r\n\t\t\t&quot;from role &quot; +\r\n\t\t\t&quot;where person_uuid=? &quot; +\r\n\t\t\t&quot;order by role, resource, uid&quot;);\r\n","title":"How do you fix intellij strange string indentation?","body":"<p>Intellij keeps on formatting my strings like this, its annoying...</p>\n<p>How do I fix it so the lines all line up?</p>\n<pre><code>PreparedStatement p = s.prepare(\n        &quot;select distinct resource, uid, role &quot; +\n                &quot;from role &quot; +\n                &quot;where person_uuid=? &quot; +\n                &quot;order by role, resource, uid&quot;);\n</code></pre>\n<p>I.E.:</p>\n<pre><code>PreparedStatement p = s.prepare(\n        &quot;select distinct resource, uid, role &quot; +\n        &quot;from role &quot; +\n        &quot;where person_uuid=? &quot; +\n        &quot;order by role, resource, uid&quot;);\n</code></pre>\n"},{"tags":["java","jar"],"answers":[{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1294171898,"post_id":4597892,"comment_id":5051401,"body_markdown":"This is missing the point isn&#39;t it?  Are `cf` even valid options to `java`?  Either way, he wants to create the jar, not run it.  According to the question anyway.","body":"This is missing the point isn&#39;t it?  Are <code>cf</code> even valid options to <code>java</code>?  Either way, he wants to create the jar, not run it.  According to the question anyway."},{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":0,"creation_date":1294172005,"post_id":4597892,"comment_id":5051429,"body_markdown":"@Mark Peters: Typo, I meant jar. Thanks.","body":"@Mark Peters: Typo, I meant jar. Thanks."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1294172024,"post_id":4597892,"comment_id":5051433,"body_markdown":"In which case you don&#39;t need the `-jar` argument do you?  Plus, this won&#39;t make it executable since you don&#39;t specify a manifest.  (Apparently in JDK 6+ you can use &quot;e&quot; as a shortcut to avoid supplying the manifest manually: `jar cfe myJar.jar myClass myClass.class`)","body":"In which case you don&#39;t need the <code>-jar</code> argument do you?  Plus, this won&#39;t make it executable since you don&#39;t specify a manifest.  (Apparently in JDK 6+ you can use &quot;e&quot; as a shortcut to avoid supplying the manifest manually: <code>jar cfe myJar.jar myClass myClass.class</code>)"},{"owner":{"account_id":5357823,"reputation":1831,"user_id":4270033,"accept_rate":73,"display_name":"Maslor"},"score":0,"creation_date":1438275484,"post_id":4597892,"comment_id":51395184,"body_markdown":"I always get &quot;no main manifest attribute, in myJar.jar&quot; when I try to run it :/","body":"I always get &quot;no main manifest attribute, in myJar.jar&quot; when I try to run it :/"},{"owner":{"account_id":2598238,"reputation":693,"user_id":2251364,"accept_rate":45,"display_name":"Hritik"},"score":0,"creation_date":1592664156,"post_id":4597892,"comment_id":110508416,"body_markdown":"If you want executable jar, you&#39;d need to add the manifest file, something like `jar -cvfm out.jar META-INF/MANIFEST.MF src/*.class`","body":"If you want executable jar, you&#39;d need to add the manifest file, something like <code>jar -cvfm out.jar META-INF&#47;MANIFEST.MF src&#47;*.class</code>"},{"owner":{"account_id":17437180,"reputation":339,"user_id":12639940,"display_name":"Kayvan Shah"},"score":0,"creation_date":1681850865,"post_id":4597892,"comment_id":134122892,"body_markdown":"What does `cf` mean here?","body":"What does <code>cf</code> mean here?"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1698556815,"post_id":4597892,"comment_id":136419399,"body_markdown":"@KayvanShah means, create file","body":"@KayvanShah means, create file"}],"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":7,"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1395141717,"creation_date":1294171569,"answer_id":4597892,"question_id":4597866,"body_markdown":"In order to create a .jar file, you need to use `jar` instead of `java`:\r\n\r\n    jar cf myJar.jar myClass.class\r\n\r\nAdditionally, if you want to make it executable, you need to indicate an *entry point* (i.e., a class with `public static void main(String[] args)`) for your application. This is usually accomplished by creating a [manifest][1] file that contains the `Main-Class` header (e.g., `Main-Class: myClass`). \r\n\r\nHowever, as Mark Peters pointed out, with JDK 6, you can use the `e` option to define the entry point:\r\n\r\n    jar cfe myJar.jar myClass myClass.class \r\n\r\nFinally, you can execute it:\r\n\r\n    java -jar myJar.jar\r\n\r\n### See also\r\n\r\n* [Creating a JAR File](http://download.oracle.com/javase/tutorial/deployment/jar/build.html)\r\n* [Setting an Application&#39;s Entry Point with the JAR Tool](http://download.oracle.com/javase/tutorial/deployment/jar/appman.html)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"Java creating .jar file","body":"<p>In order to create a .jar file, you need to use <code>jar</code> instead of <code>java</code>:</p>\n\n<pre><code>jar cf myJar.jar myClass.class\n</code></pre>\n\n<p>Additionally, if you want to make it executable, you need to indicate an <em>entry point</em> (i.e., a class with <code>public static void main(String[] args)</code>) for your application. This is usually accomplished by creating a <a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">manifest</a> file that contains the <code>Main-Class</code> header (e.g., <code>Main-Class: myClass</code>). </p>\n\n<p>However, as Mark Peters pointed out, with JDK 6, you can use the <code>e</code> option to define the entry point:</p>\n\n<pre><code>jar cfe myJar.jar myClass myClass.class \n</code></pre>\n\n<p>Finally, you can execute it:</p>\n\n<pre><code>java -jar myJar.jar\n</code></pre>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"noreferrer\">Creating a JAR File</a></li>\n<li><a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"noreferrer\">Setting an Application's Entry Point with the JAR Tool</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":44277,"reputation":330,"user_id":129868,"display_name":"Sean"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1294171789,"creation_date":1294171789,"answer_id":4597925,"question_id":4597866,"body_markdown":"Sine you&#39;ve mentioned you&#39;re using Eclipse... Eclipse can create the JARs for you, so long as you&#39;ve run each class that has a main once.  Right-click the project and click Export, then select &quot;Runnable JAR file&quot; under the Java folder.  Select the class name in the launch configuration, choose a place to save the jar, and make a decision how to handle libraries if necessary.  Click finish, wipe hands on pants.","title":"Java creating .jar file","body":"<p>Sine you've mentioned you're using Eclipse... Eclipse can create the JARs for you, so long as you've run each class that has a main once.  Right-click the project and click Export, then select \"Runnable JAR file\" under the Java folder.  Select the class name in the launch configuration, choose a place to save the jar, and make a decision how to handle libraries if necessary.  Click finish, wipe hands on pants.</p>\n"},{"tags":[],"owner":{"account_id":3215396,"reputation":3613,"user_id":2714269,"accept_rate":60,"display_name":"Jay Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501690138,"creation_date":1384023344,"answer_id":19881760,"question_id":4597866,"body_markdown":"way 1 :\r\n\r\nLet we have java file test.java which contains main class testa\r\nnow first we compile our java file simply as javac test.java\r\nwe create file manifest.txt in same directory and we write Main-Class: mainclassname . e.g : \r\n\r\n      Main-Class: testa\r\nthen we create jar file by this command : \r\n        \r\n      jar cvfm anyname.jar manifest.txt testa.class\r\nthen we run jar file by this command : java -jar anyname.jar\r\n\r\nway 2 :\r\n\r\nLet we have one package named one and every class are inside it.\r\nthen we create jar file by this command : \r\n\r\n      jar cf anyname.jar one\r\nthen we open manifest.txt inside directory META-INF in anyname.jar file and write \r\n\r\n      Main-Class: one.mainclassname \r\nin third line., then we run jar file by this command : \r\n\r\n      java -jar anyname.jar\r\n\r\n\r\n\r\nto make jar file having more than one class file : jar cf anyname.jar one.class two.class three.class......","title":"Java creating .jar file","body":"<p>way 1 :</p>\n\n<p>Let we have java file test.java which contains main class testa\nnow first we compile our java file simply as javac test.java\nwe create file manifest.txt in same directory and we write Main-Class: mainclassname . e.g : </p>\n\n<pre><code>  Main-Class: testa\n</code></pre>\n\n<p>then we create jar file by this command : </p>\n\n<pre><code>  jar cvfm anyname.jar manifest.txt testa.class\n</code></pre>\n\n<p>then we run jar file by this command : java -jar anyname.jar</p>\n\n<p>way 2 :</p>\n\n<p>Let we have one package named one and every class are inside it.\nthen we create jar file by this command : </p>\n\n<pre><code>  jar cf anyname.jar one\n</code></pre>\n\n<p>then we open manifest.txt inside directory META-INF in anyname.jar file and write </p>\n\n<pre><code>  Main-Class: one.mainclassname \n</code></pre>\n\n<p>in third line., then we run jar file by this command : </p>\n\n<pre><code>  java -jar anyname.jar\n</code></pre>\n\n<p>to make jar file having more than one class file : jar cf anyname.jar one.class two.class three.class......</p>\n"},{"tags":[],"owner":{"account_id":3724243,"reputation":19,"user_id":3098473,"display_name":"Arpan Biswas"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386920919,"creation_date":1386920919,"answer_id":20561538,"question_id":4597866,"body_markdown":"Put all the 6 classes to 6 different projects. Then create jar files of all the 6 projects. In this manner you will get 6 executable jar files.","title":"Java creating .jar file","body":"<p>Put all the 6 classes to 6 different projects. Then create jar files of all the 6 projects. In this manner you will get 6 executable jar files.</p>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1439259995,"creation_date":1439259995,"answer_id":31932225,"question_id":4597866,"body_markdown":"Often you need to put more into the manifest than what you get with the `-e` switch, and in that case, the syntax is:\r\n\r\n    jar -cvfm myJar.jar myManifest.txt myApp.class\r\n\r\nWhich reads: &quot;create verbose jarFilename manifestFilename&quot;, followed by the files you want to include.\r\n\r\nNote that the name of the manifest file you supply can be anything, as `jar` will automatically rename it and put it into the right place within the jar file.\r\n\r\n","title":"Java creating .jar file","body":"<p>Often you need to put more into the manifest than what you get with the <code>-e</code> switch, and in that case, the syntax is:</p>\n\n<pre><code>jar -cvfm myJar.jar myManifest.txt myApp.class\n</code></pre>\n\n<p>Which reads: \"create verbose jarFilename manifestFilename\", followed by the files you want to include.</p>\n\n<p>Note that the name of the manifest file you supply can be anything, as <code>jar</code> will automatically rename it and put it into the right place within the jar file.</p>\n"},{"tags":[],"owner":{"account_id":19257070,"reputation":45,"user_id":14073726,"display_name":"Hackerman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683396460,"creation_date":1683396460,"answer_id":76190396,"question_id":4597866,"body_markdown":"If you don&#39;t want to manually deal with the Manifest file you can use the &quot;e&quot; option. This explicitly defines the entry point in your application. \r\n\r\n\r\n    jar vcfe anyname.jar EntryPoint EntryPoint.class &lt;files to include&gt;\r\n\r\nIn my case it looked like this\r\n\r\n\r\n    jar vcfe people.jar Peer Peer.class ClientThread.class transport/*\r\n\r\nAs a result, I was able to run my program with \r\n\r\n    java -jar people.jar ","title":"Java creating .jar file","body":"<p>If you don't want to manually deal with the Manifest file you can use the &quot;e&quot; option. This explicitly defines the entry point in your application.</p>\n<pre><code>jar vcfe anyname.jar EntryPoint EntryPoint.class &lt;files to include&gt;\n</code></pre>\n<p>In my case it looked like this</p>\n<pre><code>jar vcfe people.jar Peer Peer.class ClientThread.class transport/*\n</code></pre>\n<p>As a result, I was able to run my program with</p>\n<pre><code>java -jar people.jar \n</code></pre>\n"}],"owner":{"account_id":192671,"reputation":909,"user_id":433947,"accept_rate":100,"display_name":"user433947"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280829,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"accepted_answer_id":4597892,"answer_count":6,"score":85,"last_activity_date":1683396460,"creation_date":1294171443,"question_id":4597866,"body_markdown":"I&#39;m learning Java and I have a problem. I created 6 different classes, each has it&#39;s own `main()` method. I want to create executable `.jar` for each class, that is 6 executable `.jar` files.\r\n\r\nSo far I tried \r\n\r\n    java -jar cf myJar.jar myClass.class\r\n\r\nand I get *&#39;Unable to access jarfile cf&#39;*. I&#39;m doing something wrong but I don&#39;t know what. I&#39;m also using Eclipse IDE if that means something.","title":"Java creating .jar file","body":"<p>I'm learning Java and I have a problem. I created 6 different classes, each has it's own <code>main()</code> method. I want to create executable <code>.jar</code> for each class, that is 6 executable <code>.jar</code> files.</p>\n\n<p>So far I tried </p>\n\n<pre><code>java -jar cf myJar.jar myClass.class\n</code></pre>\n\n<p>and I get <em>'Unable to access jarfile cf'</em>. I'm doing something wrong but I don't know what. I'm also using Eclipse IDE if that means something.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1683315816,"post_id":76184829,"comment_id":134353851,"body_markdown":"Please share the code where you are consuming messages.","body":"Please share the code where you are consuming messages."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683323177,"post_id":76184829,"comment_id":134354967,"body_markdown":"It&#39;s not possible to transfer data from the producer to any consumer on the order of 1-2 milliseconds.","body":"It&#39;s not possible to transfer data from the producer to any consumer on the order of 1-2 milliseconds."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683337430,"post_id":76184829,"comment_id":134356173,"body_markdown":"What can be the minimum lag?As the requirement is to process each message within 100ms","body":"What can be the minimum lag?As the requirement is to process each message within 100ms"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683346522,"post_id":76184829,"comment_id":134356707,"body_markdown":"@Mar-Z Have attached the code for consumer class consuming the messages","body":"@Mar-Z Have attached the code for consumer class consuming the messages"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683357311,"post_id":76184829,"comment_id":134357470,"body_markdown":"Code should be pasted as formatted text. Not a picture. I can see one problem already. Will post the answer after code available as text.","body":"Code should be pasted as formatted text. Not a picture. I can see one problem already. Will post the answer after code available as text."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683375927,"post_id":76184829,"comment_id":134359174,"body_markdown":"@Mar-Z Added the code as text.","body":"@Mar-Z Added the code as text."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683376481,"post_id":76184829,"comment_id":134359233,"body_markdown":"Lag isn&#39;t counted in time in Kafka, only offsets. Regardless, `new Gosn()` doesn&#39;t compile, does it? In any case, Kafka and Spring include Jackson... You should not use Gson or create a brand new parser _for every Kafka message_","body":"Lag isn&#39;t counted in time in Kafka, only offsets. Regardless, <code>new Gosn()</code> doesn&#39;t compile, does it? In any case, Kafka and Spring include Jackson... You should not use Gson or create a brand new parser <i>for every Kafka message</i>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683376639,"post_id":76184829,"comment_id":134359257,"body_markdown":"Docs on using Json https://docs.spring.io/spring-kafka/reference/html/#json-serde","body":"Docs on using Json <a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/#json-serde</a>"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683381308,"post_id":76184829,"comment_id":134359835,"body_markdown":"@OneCricketeer that was a typo ,corrected the spell error.I am using splunk log to see the time when producer sends the message and the time message gets consumed I.e. it comes to the above method which I have added.That shows a lag of 500ms 1second or sometimes even more","body":"@OneCricketeer that was a typo ,corrected the spell error.I am using splunk log to see the time when producer sends the message and the time message gets consumed I.e. it comes to the above method which I have added.That shows a lag of 500ms 1second or sometimes even more"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683473023,"post_id":76184829,"comment_id":134368894,"body_markdown":"As the answer below says, you shouldn&#39;t construct Gson parser. It&#39;s not needed with Spring. Also `currenttimemillis` doesn&#39;t compile either. Please show your actual code as-is, and not images of it. Also loggers should be written like `LOGGER.info(&quot;text {}&quot; data);` not `(&quot;text &quot; + data)` as concatenation will always pre-compute a string before passed into the log function","body":"As the answer below says, you shouldn&#39;t construct Gson parser. It&#39;s not needed with Spring. Also <code>currenttimemillis</code> doesn&#39;t compile either. Please show your actual code as-is, and not images of it. Also loggers should be written like <code>LOGGER.info(&quot;text {}&quot; data);</code> not <code>(&quot;text &quot; + data)</code> as concatenation will always pre-compute a string before passed into the log function"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683480648,"post_id":76184829,"comment_id":134369965,"body_markdown":"@OneCricketeer those are typo error .I cannot copy the code from my machine to here as it is official.So i manually wrote it.One simple question if I post a message to kafka topic how much time in milliseconds it takes to reach the consumer method defined above?For me it takes 200ms or more..This is the lag I want to minimize.Any idea how can I tune that so that it reaches my consumer method at less than 10 milliseconds.","body":"@OneCricketeer those are typo error .I cannot copy the code from my machine to here as it is official.So i manually wrote it.One simple question if I post a message to kafka topic how much time in milliseconds it takes to reach the consumer method defined above?For me it takes 200ms or more..This is the lag I want to minimize.Any idea how can I tune that so that it reaches my consumer method at less than 10 milliseconds."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683485606,"post_id":76184829,"comment_id":134370673,"body_markdown":"1) Did you change what I suggested yet, or not? Changing your json library and logger will help with speed 2) Kafka isn&#39;t a good use case for that. Producer flushes are blocking calls. The broker is still required to write batches to disk before consumer can see data... That&#39;s not going to happen in less than 10ms... Use point-to-point protocols like gRPC if you need fast transfers of binary data, or brokers like ZeroMQ","body":"1) Did you change what I suggested yet, or not? Changing your json library and logger will help with speed 2) Kafka isn&#39;t a good use case for that. Producer flushes are blocking calls. The broker is still required to write batches to disk before consumer can see data... That&#39;s not going to happen in less than 10ms... Use point-to-point protocols like gRPC if you need fast transfers of binary data, or brokers like ZeroMQ"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683518398,"post_id":76184829,"comment_id":134373656,"body_markdown":"@OneCricketeer Thanks for the input.Ya I did change as told .speed of processing has increased.But the only problem was lag which I highlighted which you told is not possible in kafka.","body":"@OneCricketeer Thanks for the input.Ya I did change as told .speed of processing has increased.But the only problem was lag which I highlighted which you told is not possible in kafka."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683555654,"post_id":76184829,"comment_id":134380533,"body_markdown":"There are other OS, network and hardware changes you can do, like run Kafka on XFS formatted drives, increase network buffers, make sure you&#39;re running latest versions of server and clients, don&#39;t overload your requests with plaintext formats like JSON (instead of binary like Avro or Protobuf) or encryption/externalized authentication, use Java 17, increase server heap space, etc... https://docs.confluent.io/platform/current/kafka/deployment.html","body":"There are other OS, network and hardware changes you can do, like run Kafka on XFS formatted drives, increase network buffers, make sure you&#39;re running latest versions of server and clients, don&#39;t overload your requests with plaintext formats like JSON (instead of binary like Avro or Protobuf) or encryption/externalized authentication, use Java 17, increase server heap space, etc... <a href=\"https://docs.confluent.io/platform/current/kafka/deployment.html\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/kafka/deployment.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683396334,"post_id":76190343,"comment_id":134361689,"body_markdown":"Hi @Mar-Z now the concurrency is set as 6.If I increase the concurrency the number of consumer threads will increase creating a bottleneck .As we have multiple Kafka consumers in our application each processing different type of traffic so in totality the number of threads may increase drastically. Also if concurrency is increased the processing will be asynchronous right? One more point to note even if I post 1 message to topic it comes to the consumer method with 500ms or 1 seconds lag","body":"Hi @Mar-Z now the concurrency is set as 6.If I increase the concurrency the number of consumer threads will increase creating a bottleneck .As we have multiple Kafka consumers in our application each processing different type of traffic so in totality the number of threads may increase drastically. Also if concurrency is increased the processing will be asynchronous right? One more point to note even if I post 1 message to topic it comes to the consumer method with 500ms or 1 seconds lag"},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683396638,"post_id":76190343,"comment_id":134361727,"body_markdown":"Also the entire processing of the consumer method for each message  provided takes around 60-70 ms","body":"Also the entire processing of the consumer method for each message  provided takes around 60-70 ms"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683472847,"post_id":76190343,"comment_id":134368863,"body_markdown":"@Barun Spring concurrency setting has nothing to with processing data from one Kafka partition, or offset.","body":"@Barun Spring concurrency setting has nothing to with processing data from one Kafka partition, or offset."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683395728,"creation_date":1683395728,"answer_id":76190343,"question_id":76184829,"body_markdown":"With your current settings Kafka consumer runs synchronously and reads messages one by one in a single thread. This could be fine if the listener method would run fast enough to be ready to pickup the next message at time. It is definitely not the case with the code provided. This is the main cause of the gap you see in the logs. The processing of each message just takes to long.\r\n\r\nThe cardinal sinn is to construct a new class inside of the handler method. It should be done only once. Preferably as a singleton for the whole application. Spring can help here with a configuration bean and dependency injection.\r\n\r\nI&#39;m not aware of classes RequesterFactory (RequestFactory?). Maybe they also take some time? And the JSON deserialization of the payload. And yet another place where an instance of an event handler will be produced dynamically in every call.\r\n\r\nTry to refactor the code and check the results. If you need to be even faster then you can optimize the concurrency of the consumers. Now you have only one per partition.","title":"Kafka Consumer taking long time to consume messages","body":"<p>With your current settings Kafka consumer runs synchronously and reads messages one by one in a single thread. This could be fine if the listener method would run fast enough to be ready to pickup the next message at time. It is definitely not the case with the code provided. This is the main cause of the gap you see in the logs. The processing of each message just takes to long.</p>\n<p>The cardinal sinn is to construct a new class inside of the handler method. It should be done only once. Preferably as a singleton for the whole application. Spring can help here with a configuration bean and dependency injection.</p>\n<p>I'm not aware of classes RequesterFactory (RequestFactory?). Maybe they also take some time? And the JSON deserialization of the payload. And yet another place where an instance of an event handler will be produced dynamically in every call.</p>\n<p>Try to refactor the code and check the results. If you need to be even faster then you can optimize the concurrency of the consumers. Now you have only one per partition.</p>\n"}],"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":859,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1683395728,"creation_date":1683309519,"question_id":76184829,"body_markdown":"I am using **Spring Kafka** to post message. When I am posting 100 messages to the kafka topic I can see that it is picked up by Kafka consumer with a delay of at least 1 second or even 4 to 5 seconds in some cases. The topic which I am using has 6 partitions and I have kept the concurrency of consumer to 6.\r\n\r\nI have used the default properties value for the Kafka consumer. Any idea what may be wrong or which property I can tweak to minimize the lag to 1 to 2 milliseconds? I tried posting 100, 500, 1000, 5000 messages but the lag is still there.\r\n\r\nConsumer properties:\r\n- request timeout ms 30 seconds\r\n- heartbeat interval ms 3 seconds\r\n- max poll interval ms 5 minutes\r\n- max poll records 200\r\n- session timeout ms 45 seconds\r\n\r\nConsumer class\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oeJ8c.jpg\r\n\r\nHere is my consumer method:\r\n\r\n    @KafkaListener(groupid = AlertsKafkaConfig.GROUP_ID_JSON, topics = TopicNameConstants.Webhook_doc_process_topic_name, containerFacotry = KafkaTopicConstans.WEBHOOK_PROCESS_TOPIC_CONF)\r\n    Public void receiveProcessPricessingMessage(@Payload String kafkajsonstring, @Header(KafkaHeaders RECEIVED_TIMESTAMP) String timestamp, @Header(KafkaHeaders.OFFSET) String offset) throws JsonProcessingException {\r\n\r\n        try {\r\n            long startime = System.currenttimemillis();\r\n            RequestFactory.appendKafkaId(offset);\r\n            long endtime = System.currenttimemillis();\r\n            Gson gson = new Gson();\r\n            WebhookProcessingCommand eventprocessingcommand = gson.fromJson(kafkajsonstring, WebhookProcessingCommand.class);\r\n\r\n            BaseAbstractEventHandler eventprocessinghandler = eventhandlerfactory.getEventhandlerInstance(EventHandler.WEBHOOK_JSON_EVENT_HANDLER.getHandlerName());\r\n            eventprocessinghandler.processEvent(eventprocessingcommand);\r\n\r\n        } catch (Exception e) {\r\n            LOGGER.error(ExceptionUtils.fullStackTrace(e));\r\n\r\n        }\r\n    }","title":"Kafka Consumer taking long time to consume messages","body":"<p>I am using <strong>Spring Kafka</strong> to post message. When I am posting 100 messages to the kafka topic I can see that it is picked up by Kafka consumer with a delay of at least 1 second or even 4 to 5 seconds in some cases. The topic which I am using has 6 partitions and I have kept the concurrency of consumer to 6.</p>\n<p>I have used the default properties value for the Kafka consumer. Any idea what may be wrong or which property I can tweak to minimize the lag to 1 to 2 milliseconds? I tried posting 100, 500, 1000, 5000 messages but the lag is still there.</p>\n<p>Consumer properties:</p>\n<ul>\n<li>request timeout ms 30 seconds</li>\n<li>heartbeat interval ms 3 seconds</li>\n<li>max poll interval ms 5 minutes</li>\n<li>max poll records 200</li>\n<li>session timeout ms 45 seconds</li>\n</ul>\n<p>Consumer class</p>\n<p><a href=\"https://i.stack.imgur.com/oeJ8c.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oeJ8c.jpg\" alt=\"\" /></a></p>\n<p>Here is my consumer method:</p>\n<pre><code>@KafkaListener(groupid = AlertsKafkaConfig.GROUP_ID_JSON, topics = TopicNameConstants.Webhook_doc_process_topic_name, containerFacotry = KafkaTopicConstans.WEBHOOK_PROCESS_TOPIC_CONF)\nPublic void receiveProcessPricessingMessage(@Payload String kafkajsonstring, @Header(KafkaHeaders RECEIVED_TIMESTAMP) String timestamp, @Header(KafkaHeaders.OFFSET) String offset) throws JsonProcessingException {\n\n    try {\n        long startime = System.currenttimemillis();\n        RequestFactory.appendKafkaId(offset);\n        long endtime = System.currenttimemillis();\n        Gson gson = new Gson();\n        WebhookProcessingCommand eventprocessingcommand = gson.fromJson(kafkajsonstring, WebhookProcessingCommand.class);\n\n        BaseAbstractEventHandler eventprocessinghandler = eventhandlerfactory.getEventhandlerInstance(EventHandler.WEBHOOK_JSON_EVENT_HANDLER.getHandlerName());\n        eventprocessinghandler.processEvent(eventprocessingcommand);\n\n    } catch (Exception e) {\n        LOGGER.error(ExceptionUtils.fullStackTrace(e));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","maven-2","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681994534,"post_id":76063836,"comment_id":134148065,"body_markdown":"*I am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot;* Wouldn&#39;t that be a somewhat misleading name for a *folder*?","body":"<i>I am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot;</i> Wouldn&#39;t that be a somewhat misleading name for a <i>folder</i>?"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1681998842,"post_id":76063836,"comment_id":134149280,"body_markdown":"Do you mean ,i cant make ZIP folder name `wso2mi.zip`.","body":"Do you mean ,i cant make ZIP folder name <code>wso2mi.zip</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682007508,"post_id":76063836,"comment_id":134151674,"body_markdown":"Sorry, I&#39;m not familiar with this plugin. Have looked at the docs but confess to being confused","body":"Sorry, I&#39;m not familiar with this plugin. Have looked at the docs but confess to being confused"}],"answers":[{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683394458,"creation_date":1683394458,"answer_id":76190248,"question_id":76063836,"body_markdown":"Solve this issue with maven assembly plugin .\r\nCreated a folder **assembly** inside the project and under assembly folder created a zip.xml file with the following contents.\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\r\n        &lt;id&gt;zip&lt;/id&gt;\r\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    \r\n        &lt;formats&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\r\n                   &lt;includes&gt;\r\n                         &lt;include&gt;**/*&lt;/include&gt;\r\n                   &lt;/includes&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nin pom.xml file added a plugin \r\n \r\n\r\n&lt;plugin&gt;\r\n\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\r\n            &lt;executions&gt;\r\n\r\n                &lt;execution&gt;\r\n\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n\r\n                    &lt;goals&gt;\r\n\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n\r\n                    &lt;/goals&gt;\r\n\r\n                    &lt;configuration&gt;\r\n\r\n\t\t\t\t\t                &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\r\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\r\n                        &lt;descriptors&gt;\r\n\r\n                            &lt;descriptor&gt;${project.basedir}/assembly/zip.xml&lt;/descriptor&gt;\r\n\r\n                        &lt;/descriptors&gt;\r\n\r\n                        &lt;outputDirectory&gt;${project.build.directory}/resources&lt;/outputDirectory&gt;\r\n\r\n              \t    \t&lt;destFileName&gt;${wso2esbname}-${wso2esbversion}.${wso2esbext}&lt;/destFileName&gt;\r\n\r\n                    &lt;/configuration&gt;\r\n\r\n                &lt;/execution&gt;\r\n\r\n            &lt;/executions&gt;\r\n\r\n        &lt;/plugin&gt;\r\n\r\n\r\n","title":"How can I use the Maven Assembly Plugin to create a ZIP archive that includes a specific folder and all of its files?","body":"<p>Solve this issue with maven assembly plugin .\nCreated a folder <strong>assembly</strong> inside the project and under assembly folder created a zip.xml file with the following contents.</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\n    &lt;id&gt;zip&lt;/id&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\n               &lt;includes&gt;\n                     &lt;include&gt;**/*&lt;/include&gt;\n               &lt;/includes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>in pom.xml file added a plugin</p>\n\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n\n        &lt;executions&gt;\n\n            &lt;execution&gt;\n\n                &lt;phase&gt;package&lt;/phase&gt;\n\n                &lt;goals&gt;\n\n                    &lt;goal&gt;single&lt;/goal&gt;\n\n                &lt;/goals&gt;\n\n                &lt;configuration&gt;\n\n                                &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n\n                    &lt;descriptors&gt;\n\n                        &lt;descriptor&gt;${project.basedir}/assembly/zip.xml&lt;/descriptor&gt;\n\n                    &lt;/descriptors&gt;\n\n                    &lt;outputDirectory&gt;${project.build.directory}/resources&lt;/outputDirectory&gt;\n\n                    &lt;destFileName&gt;${wso2esbname}-${wso2esbversion}.${wso2esbext}&lt;/destFileName&gt;\n\n                &lt;/configuration&gt;\n\n            &lt;/execution&gt;\n\n        &lt;/executions&gt;\n\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76190248,"answer_count":1,"score":1,"last_activity_date":1683394458,"creation_date":1681992166,"question_id":76063836,"body_markdown":"I have a project with structure like this \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot; and my goal is to include all files and directories that are contained within the &quot;wso2mi&quot; folder. For this purpose, I have utilized the following code in pom.xml file\r\n\r\n      &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;create-zip&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;descriptorRefs&gt;\r\n                                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                                &lt;/descriptorRefs&gt;\r\n                               \r\n                                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                                &lt;finalName&gt;wso2mi&lt;/finalName&gt;\r\n                                &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n                                &lt;formats&gt;\r\n                                    &lt;format&gt;zip&lt;/format&gt;\r\n                                &lt;/formats&gt;\r\n                                &lt;fileSets&gt;\r\n    \t\t\t\t\t\t\t\t&lt;fileSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;include&gt;**/*&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/fileSet&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/fileSets&gt;\r\n    \r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nAlthough I am attempting to create a zip folder named wso2mi.zip and include everything within the wso2mi folder by utilizing the code snippet mentioned above, the resulting zip folder does not contain anything apart from a few Maven files. Could you please clarify what is incorrect with the provided code?\r\n\r\n  [1]: https://i.stack.imgur.com/g0VVY.png","title":"How can I use the Maven Assembly Plugin to create a ZIP archive that includes a specific folder and all of its files?","body":"<p>I have a project with structure like this\n<a href=\"https://i.stack.imgur.com/g0VVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0VVY.png\" alt=\"enter image description here\" /></a></p>\n<p>I am currently attempting to create a compressed zip folder named &quot;wso2mi.zip&quot; and my goal is to include all files and directories that are contained within the &quot;wso2mi&quot; folder. For this purpose, I have utilized the following code in pom.xml file</p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-zip&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                           \n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                            &lt;finalName&gt;wso2mi&lt;/finalName&gt;\n                            &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n                            &lt;formats&gt;\n                                &lt;format&gt;zip&lt;/format&gt;\n                            &lt;/formats&gt;\n                            &lt;fileSets&gt;\n                                &lt;fileSet&gt;\n                                &lt;directory&gt;${project.basedir}/wso2mi&lt;/directory&gt;\n                                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n                                    &lt;includes&gt;\n                                    &lt;include&gt;**/*&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/fileSet&gt;\n                                &lt;/fileSets&gt;\n\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Although I am attempting to create a zip folder named wso2mi.zip and include everything within the wso2mi folder by utilizing the code snippet mentioned above, the resulting zip folder does not contain anything apart from a few Maven files. Could you please clarify what is incorrect with the provided code?</p>\n"},{"tags":["java","spring-cloud","amazon-sqs"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1663424924,"post_id":73706022,"comment_id":130239148,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73706022/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26326307,"reputation":1,"user_id":19987571,"display_name":"SzymonM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663657899,"creation_date":1663084754,"answer_id":73706022,"question_id":71349293,"body_markdown":"Make sure you enabled &quot;Raw message delivery&quot; in SNS subscription. \r\nhttp://docs.aws.amazon.com/sns/latest/dg/large-payload-raw-message.html\r\n\r\n&gt; In addition to sending large payloads, with Amazon SNS you can now\r\n&gt; enable raw message delivery for messages delivered to either Amazon\r\n&gt; SQS endpoints or HTTP/S endpoints. This eliminates the need for the\r\n&gt; endpoints to process JSON formatting, which is created for the Amazon\r\n&gt; SNS metadata when raw message delivery is not selected. For example\r\n&gt; when enabling raw message delivery for an Amazon SQS endpoint, the\r\n&gt; Amazon SNS metadata is not included and the published message is\r\n&gt; delivered to the subscribed Amazon SQS endpoint as is.","title":"Spring Cloud SQS listener receives empty POJO","body":"<p>Make sure you enabled &quot;Raw message delivery&quot; in SNS subscription.\n<a href=\"http://docs.aws.amazon.com/sns/latest/dg/large-payload-raw-message.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/sns/latest/dg/large-payload-raw-message.html</a></p>\n<blockquote>\n<p>In addition to sending large payloads, with Amazon SNS you can now\nenable raw message delivery for messages delivered to either Amazon\nSQS endpoints or HTTP/S endpoints. This eliminates the need for the\nendpoints to process JSON formatting, which is created for the Amazon\nSNS metadata when raw message delivery is not selected. For example\nwhen enabling raw message delivery for an Amazon SQS endpoint, the\nAmazon SNS metadata is not included and the published message is\ndelivered to the subscribed Amazon SQS endpoint as is.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4238691,"reputation":61,"user_id":3469197,"display_name":"user3469197"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683393908,"creation_date":1683393908,"answer_id":76190208,"question_id":71349293,"body_markdown":"After debugging for many many hours i realised this was the problem - Enabling raw message delivery using the AWS Management Console\r\n","title":"Spring Cloud SQS listener receives empty POJO","body":"<p>After debugging for many many hours i realised this was the problem - Enabling raw message delivery using the AWS Management Console</p>\n"}],"owner":{"account_id":1262758,"reputation":51,"user_id":1220654,"display_name":"KPACHblu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683393908,"creation_date":1646386299,"question_id":71349293,"body_markdown":"I use Spring Cloud: **spring-cloud-aws-messaging** to implement SNS + SQS.\r\nI have SQS listener:\r\n \r\n\r\n     @Transactional\r\n      @SqsListener(value = &quot;${sqs.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n      public void processMessage(UserEvent userEvent) {\r\n        try {\r\n          System.out.println(userEvent);\r\n        } catch (Exception e) {\r\n          LOG.error(e);\r\n        }\r\n      }\r\n\r\nwith configuration \r\n\r\n \r\n\r\n     @Bean\r\n      public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\r\n        return new QueueMessagingTemplate(amazonSQSAsync);\r\n      }\r\n    \r\n      @Bean\r\n      public QueueMessageHandlerFactory queueMessageHandlerFactory(\r\n          final ObjectMapper mapper, final AmazonSQSAsync amazonSQSAsync){\r\n    \r\n        final QueueMessageHandlerFactory queueHandlerFactory =\r\n            new QueueMessageHandlerFactory();\r\n        queueHandlerFactory.setAmazonSqs(amazonSQSAsync);\r\n        queueHandlerFactory.setArgumentResolvers(Collections.singletonList(\r\n            new PayloadMethodArgumentResolver(jackson2MessageConverter(mapper))\r\n        ));\r\n        return queueHandlerFactory;\r\n      }\r\n    \r\n      private MessageConverter jackson2MessageConverter(final ObjectMapper mapper){\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(mapper);\r\n        return converter;\r\n      }\r\n\r\nUserEvent is a POJO with setters/getters and default constructor.\r\nThe issue is that SQS listener receives empty object.\r\nI suspect that **QueueMessageHandlerFactory** has wrong configuration.\r\nIf I change SQS listener argument to String I receive message:\r\n\r\n    {\r\n    &quot;UnsubscribeURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:us-west-2:111111111111:topic-name:6ea68f67-306c-4385-858b-laskdjfsd123&quot;,\r\n    &quot;SigningCertURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/SimpleNotificationService-1ff5318643ec183fbaddaa2a969abadf.pem&quot;,\r\n    &quot;Signature&quot; : &quot;Ikjay6NCGmwhyNothdvNVWNps1OMOcBuCGT+trYqVzdSLX79cCBgZeX5ZynTlC+ewsRYFH2bVW521pK88j+Z3/uDxGBrMkd6SZ/GBF1Rnl5pB4UG4aZXLP3uxE0MDX+lUPX2aCu6ta/ii3gI7vxtqKoUzqTt8aNHVMT5GG9xjLg2yIxW97MKRLbSHug5NXetlSwYdNuwq/P85Eur6BkufpLg5aummfAwfpR9ZaNdFEqjBl0nYj96q46w6UKFHaZDEgeit1TMBYjCKM3VzuyMSOPQ==&quot;,\r\n    &quot;SignatureVersion&quot; : &quot;1&quot;,\r\n    &quot;Timestamp&quot; : &quot;2022-03-03T14:44:49.000Z&quot;,\r\n    &quot;Message&quot; : &quot;{\\&quot;id\\&quot;:\\&quot;1\\&quot;,\\&quot;name\\&quot;:\\&quot;Alex\\&quot;}&quot;,\r\n    &quot;TopicArn&quot; : &quot;arn:aws:sns:us-west-2:111111111111:topic-name&quot;,\r\n    &quot;MessageId&quot; : &quot;c765b712-d774-558a-a070-ed8801d5e34r&quot;,\r\n    &quot;Type&quot; : &quot;Notification&quot;\r\n    }\r\n\r\nPlease let me know what I do wrong.","title":"Spring Cloud SQS listener receives empty POJO","body":"<p>I use Spring Cloud: <strong>spring-cloud-aws-messaging</strong> to implement SNS + SQS.\nI have SQS listener:</p>\n<pre><code> @Transactional\n  @SqsListener(value = &quot;${sqs.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\n  public void processMessage(UserEvent userEvent) {\n    try {\n      System.out.println(userEvent);\n    } catch (Exception e) {\n      LOG.error(e);\n    }\n  }\n</code></pre>\n<p>with configuration</p>\n<pre><code> @Bean\n  public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\n    return new QueueMessagingTemplate(amazonSQSAsync);\n  }\n\n  @Bean\n  public QueueMessageHandlerFactory queueMessageHandlerFactory(\n      final ObjectMapper mapper, final AmazonSQSAsync amazonSQSAsync){\n\n    final QueueMessageHandlerFactory queueHandlerFactory =\n        new QueueMessageHandlerFactory();\n    queueHandlerFactory.setAmazonSqs(amazonSQSAsync);\n    queueHandlerFactory.setArgumentResolvers(Collections.singletonList(\n        new PayloadMethodArgumentResolver(jackson2MessageConverter(mapper))\n    ));\n    return queueHandlerFactory;\n  }\n\n  private MessageConverter jackson2MessageConverter(final ObjectMapper mapper){\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setObjectMapper(mapper);\n    return converter;\n  }\n</code></pre>\n<p>UserEvent is a POJO with setters/getters and default constructor.\nThe issue is that SQS listener receives empty object.\nI suspect that <strong>QueueMessageHandlerFactory</strong> has wrong configuration.\nIf I change SQS listener argument to String I receive message:</p>\n<pre><code>{\n&quot;UnsubscribeURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&amp;SubscriptionArn=arn:aws:sns:us-west-2:111111111111:topic-name:6ea68f67-306c-4385-858b-laskdjfsd123&quot;,\n&quot;SigningCertURL&quot; : &quot;https://sns.us-west-2.amazonaws.com/SimpleNotificationService-1ff5318643ec183fbaddaa2a969abadf.pem&quot;,\n&quot;Signature&quot; : &quot;Ikjay6NCGmwhyNothdvNVWNps1OMOcBuCGT+trYqVzdSLX79cCBgZeX5ZynTlC+ewsRYFH2bVW521pK88j+Z3/uDxGBrMkd6SZ/GBF1Rnl5pB4UG4aZXLP3uxE0MDX+lUPX2aCu6ta/ii3gI7vxtqKoUzqTt8aNHVMT5GG9xjLg2yIxW97MKRLbSHug5NXetlSwYdNuwq/P85Eur6BkufpLg5aummfAwfpR9ZaNdFEqjBl0nYj96q46w6UKFHaZDEgeit1TMBYjCKM3VzuyMSOPQ==&quot;,\n&quot;SignatureVersion&quot; : &quot;1&quot;,\n&quot;Timestamp&quot; : &quot;2022-03-03T14:44:49.000Z&quot;,\n&quot;Message&quot; : &quot;{\\&quot;id\\&quot;:\\&quot;1\\&quot;,\\&quot;name\\&quot;:\\&quot;Alex\\&quot;}&quot;,\n&quot;TopicArn&quot; : &quot;arn:aws:sns:us-west-2:111111111111:topic-name&quot;,\n&quot;MessageId&quot; : &quot;c765b712-d774-558a-a070-ed8801d5e34r&quot;,\n&quot;Type&quot; : &quot;Notification&quot;\n}\n</code></pre>\n<p>Please let me know what I do wrong.</p>\n"},{"tags":["java","rest","com.sun.net.httpserver"],"owner":{"account_id":15675263,"reputation":3,"user_id":11310665,"display_name":"jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683392424,"creation_date":1683342365,"question_id":76186933,"body_markdown":"I am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now it was with wildcard binding. I need to remove the wildcard binding to bind this to its local IP\r\n\r\nI am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now i had been using\r\n\r\n    httpServer = JdkHttpServerFactory.createHttpServer(&quot;http://localhost:&quot; + port + &quot;/&quot;&quot;, resourceConfig, false); \r\n    httpServer.start();\r\n\r\nWith this the port would be having a wildcard binding through which anyone can connect. \r\n\r\nI have a requirement now to remove the wildcard binding from this port and have modified my code to below\r\n\r\n    InetAddress localHost = InetAddress.getLoopbackAddress();\r\n    InetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\r\n    httpServer = com.sun.net.httpserver.HttpServer.create();\r\n    httpServer.bind(sockAddr,5);\r\n    httpServer.start();\r\n\r\nWith the above code, I see that the wildcard binding has got removed ([::ffff:127.0.0.1]:&lt;portno&gt;) but the API is not accessible from within the pod or outside.\r\n\r\nEdit( Tried this code as well)\r\n\r\n    InetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\r\n    httpServer = com.sun.net.httpserver.HttpServer.create();\r\n    httpServer.bind(sockAddr,5);\r\n    httpServer.start();\r\nWith the above code netstat shows * binding but Error 404 is not seen. Instead the curl command never comes out. \r\n\r\nCan someone please point out the mistake here?","title":"How to configure com.sun.net.httpserver to remove wildcard binding?","body":"<p>I am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now it was with wildcard binding. I need to remove the wildcard binding to bind this to its local IP</p>\n<p>I am using the com.sun.net.httpserver.HttpServer to expose a REST API in a kubernates microservice. Till now i had been using</p>\n<pre><code>httpServer = JdkHttpServerFactory.createHttpServer(&quot;http://localhost:&quot; + port + &quot;/&quot;&quot;, resourceConfig, false); \nhttpServer.start();\n</code></pre>\n<p>With this the port would be having a wildcard binding through which anyone can connect.</p>\n<p>I have a requirement now to remove the wildcard binding from this port and have modified my code to below</p>\n<pre><code>InetAddress localHost = InetAddress.getLoopbackAddress();\nInetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\nhttpServer = com.sun.net.httpserver.HttpServer.create();\nhttpServer.bind(sockAddr,5);\nhttpServer.start();\n</code></pre>\n<p>With the above code, I see that the wildcard binding has got removed ([::ffff:127.0.0.1]:) but the API is not accessible from within the pod or outside.</p>\n<p>Edit( Tried this code as well)</p>\n<pre><code>InetSocketAddress sockAddr = new InetSocketAddress(localHost, port);\nhttpServer = com.sun.net.httpserver.HttpServer.create();\nhttpServer.bind(sockAddr,5);\nhttpServer.start();\n</code></pre>\n<p>With the above code netstat shows * binding but Error 404 is not seen. Instead the curl command never comes out.</p>\n<p>Can someone please point out the mistake here?</p>\n"},{"tags":["java","event-handling","awt","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683393884,"post_id":76190105,"comment_id":134361405,"body_markdown":"Think about what youre clicking on.  Youre clicking inside the Frame, but the actual object youre clicking on is a Label or Panel, not the Frame itself.","body":"Think about what youre clicking on.  Youre clicking inside the Frame, but the actual object youre clicking on is a Label or Panel, not the Frame itself."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683401306,"post_id":76190105,"comment_id":134362229,"body_markdown":"So would he have to register his MouseAdapter to each and every component (Label, Panel, ...), or would it suffice to register it to fr.getContentPane()? What&#39;s the solution?","body":"So would he have to register his MouseAdapter to each and every component (Label, Panel, ...), or would it suffice to register it to fr.getContentPane()? What&#39;s the solution?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683459190,"post_id":76190105,"comment_id":134367111,"body_markdown":"@Queeg Yes, it is necessary to register a MouseListener on each clickable component.  (This is not true in JavaFX, where each node has a mouseTransparent property.)","body":"@Queeg Yes, it is necessary to register a MouseListener on each clickable component.  (This is not true in JavaFX, where each node has a mouseTransparent property.)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683482982,"post_id":76190105,"comment_id":134370309,"body_markdown":"Could fr.getGlassPane() help? After all that&#39;s what it is for, isn&#39;t it? https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html","body":"Could fr.getGlassPane() help? After all that&#39;s what it is for, isn&#39;t it? <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"},{"owner":{"account_id":28529441,"reputation":1,"user_id":21837063,"display_name":"Swasti"},"score":0,"creation_date":1683483739,"post_id":76190105,"comment_id":134370402,"body_markdown":"I tried adding mouse listener to Panel and now it works! But I don&#39;t understand. How is the keyListener working with Frame but mouseListener doesn&#39;t?","body":"I tried adding mouse listener to Panel and now it works! But I don&#39;t understand. How is the keyListener working with Frame but mouseListener doesn&#39;t?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1683484116,"post_id":76190105,"comment_id":134370450,"body_markdown":"The mouse usually applies to whichever screen coordinate the pointer is at. The keyboard does not have this screen coordinate, but it has a focus. This one can only be assigned to &#39;focusable&#39; components. Thus it has to behave differently than the mouse. See also https://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html","body":"The mouse usually applies to whichever screen coordinate the pointer is at. The keyboard does not have this screen coordinate, but it has a focus. This one can only be assigned to &#39;focusable&#39; components. Thus it has to behave differently than the mouse. See also <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/focus.html</a>"}],"owner":{"account_id":28529441,"reputation":1,"user_id":21837063,"display_name":"Swasti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683392403,"creation_date":1683392403,"question_id":76190105,"body_markdown":"MouseListener is not triggered when I am clicking. I first tried it without any labels and panel. It worked just fine as I could see the mouse coodinates and key pressed on my console. Here is the code for it:\r\n\r\n\r\n```\r\n//Write a program to handle key and mouse event\r\n\r\nimport java.applet.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class HandleEvent{\r\n\tpublic static void main(String args[]){\r\n\t\tFrame fr = new Frame(&quot;HandleEvent&quot;);\r\n\t\tfr.setSize(500,500);\r\n\t\tfr.setVisible(true);\r\n\t\t\r\n\t\tfr.addMouseListener(new MouseAdapter(){\r\n\t\t\tpublic void mouseClicked(MouseEvent e){\r\n\t\t\t\tSystem.out.println(&quot;(&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tfr.addKeyListener(new KeyAdapter() {\r\n\t\t\tpublic void keyPressed(KeyEvent e){\r\n\t\t\t\tSystem.out.println(&quot;Key Pressed: &quot; + e.getKeyChar());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nNow I am trying to update the labels whenever I click or press key. The keyPressed() function works but my mouseClicked() is not being triggered when I click. Here is the code:\r\n\r\n\r\n```\r\n//Write a program to handle key and mouse event\r\n\r\nimport java.applet.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class HandleEvent{\r\n    public static void main(String args[]){\r\n        Frame fr = new Frame(&quot;HandleEvent&quot;);\r\n        \r\n        Panel pan = new Panel(new FlowLayout());\r\n        \r\n        Label lb1 = new Label(&quot;Mouse coordinates: (x, y)&quot;, Label.CENTER);\r\n        Label lb2 = new Label(&quot;Key Pressed: *Press any key*&quot;, Label.CENTER);\r\n        \r\n        pan.add(lb1);\r\n        pan.add(lb2);\r\n        \r\n        fr.add(pan);\r\n        fr.setSize(500,500);\r\n        fr.setVisible(true);\r\n        \r\n        fr.addMouseListener(new MouseAdapter() {\r\n            public void mouseClicked(MouseEvent e){\r\n                lb1.setText(&quot;Mouse coordinates: (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\r\n                System.out.println(&quot;Mouse clicked!&quot;);\r\n                lb1.repaint();\r\n            }\r\n        });\r\n        \r\n        fr.addKeyListener(new KeyAdapter() {\r\n            public void keyPressed(KeyEvent e){\r\n                lb2.setText(&quot;Key Pressed: &quot; + e.getKeyChar());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried fr.setFocusable(true), fr.requestFocus(), fr.setEnabled(true) but it didn&#39;t work. I even tried other mouse events but it still didn&#39;t work.\r\n","title":"MouseListener is not triggered when I am clicking","body":"<p>MouseListener is not triggered when I am clicking. I first tried it without any labels and panel. It worked just fine as I could see the mouse coodinates and key pressed on my console. Here is the code for it:</p>\n<pre><code>//Write a program to handle key and mouse event\n\nimport java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class HandleEvent{\n    public static void main(String args[]){\n        Frame fr = new Frame(&quot;HandleEvent&quot;);\n        fr.setSize(500,500);\n        fr.setVisible(true);\n        \n        fr.addMouseListener(new MouseAdapter(){\n            public void mouseClicked(MouseEvent e){\n                System.out.println(&quot;(&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\n            }\n        });\n        \n        fr.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e){\n                System.out.println(&quot;Key Pressed: &quot; + e.getKeyChar());\n            }\n        });\n    }\n}\n</code></pre>\n<p>Now I am trying to update the labels whenever I click or press key. The keyPressed() function works but my mouseClicked() is not being triggered when I click. Here is the code:</p>\n<pre><code>//Write a program to handle key and mouse event\n\nimport java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class HandleEvent{\n    public static void main(String args[]){\n        Frame fr = new Frame(&quot;HandleEvent&quot;);\n        \n        Panel pan = new Panel(new FlowLayout());\n        \n        Label lb1 = new Label(&quot;Mouse coordinates: (x, y)&quot;, Label.CENTER);\n        Label lb2 = new Label(&quot;Key Pressed: *Press any key*&quot;, Label.CENTER);\n        \n        pan.add(lb1);\n        pan.add(lb2);\n        \n        fr.add(pan);\n        fr.setSize(500,500);\n        fr.setVisible(true);\n        \n        fr.addMouseListener(new MouseAdapter() {\n            public void mouseClicked(MouseEvent e){\n                lb1.setText(&quot;Mouse coordinates: (&quot; + e.getX() + &quot;, &quot; + e.getY() + &quot;)&quot;);\n                System.out.println(&quot;Mouse clicked!&quot;);\n                lb1.repaint();\n            }\n        });\n        \n        fr.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e){\n                lb2.setText(&quot;Key Pressed: &quot; + e.getKeyChar());\n            }\n        });\n    }\n}\n</code></pre>\n<p>I tried fr.setFocusable(true), fr.requestFocus(), fr.setEnabled(true) but it didn't work. I even tried other mouse events but it still didn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":1,"creation_date":1683299058,"post_id":76183477,"comment_id":134350356,"body_markdown":"Does this answer your question? [java String.format: numbers with localization](https://stackoverflow.com/questions/13763700/java-string-format-numbers-with-localization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13763700/java-string-format-numbers-with-localization\">java String.format: numbers with localization</a>"},{"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"score":1,"creation_date":1683304851,"post_id":76183477,"comment_id":134351743,"body_markdown":"@user2342558, the reason this is not good for this problem is that the link is for formatting numbers. What I need is parsing them. Say I pass a string of &quot;1.234,56&quot; and I want this to get converted to English number (i.e 1234.56) for calculation part. But to convert first we need to check whether this is a valid European number or not. After checking we can convert it.","body":"@user2342558, the reason this is not good for this problem is that the link is for formatting numbers. What I need is parsing them. Say I pass a string of &quot;1.234,56&quot; and I want this to get converted to English number (i.e 1234.56) for calculation part. But to convert first we need to check whether this is a valid European number or not. After checking we can convert it."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683310609,"post_id":76183477,"comment_id":134352861,"body_markdown":"If you are parsing user input you should be as forgiving as possible with regards to format, being strict only in what is semantically meaningful: the decimal indicator.  Everything else can be ignored.  So just remove spaces, NBSPs and punctuation that is ***not*** the decimal point.","body":"If you are parsing user input you should be as forgiving as possible with regards to format, being strict only in what is semantically meaningful: the decimal indicator.  Everything else can be ignored.  So just remove spaces, NBSPs and punctuation that is <b><i>not</i></b> the decimal point."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391681,"creation_date":1683305002,"answer_id":76184355,"question_id":76183477,"body_markdown":"Recent versions of Java expect Portuguese decimal numbers to use:\r\n\r\n  - one non-breaking space (NBSP) for each thousands separator\r\n  - a comma for the decimal separator.\r\n\r\nNote that a non-breaking space is _not_ the same as a standard keyboard space. In Windows, I can type a NBSP using `alt+0160` (hold down the `ALT` key and type `0160`).\r\n\r\nOne approach is to parse each string to a number, and then format the result back to a string:\r\n\r\n```java\r\nString langTag = &quot;pt-PT&quot;; // Portuguese-Portugal\r\nNumberFormat nf_ptPT = DecimalFormat.getInstance(Locale.forLanguageTag(langTag));\r\n\r\n//String input = &quot;1 234,56&quot;; // regular keyboard characters\r\nString input = &quot;1&#160;234,56&quot;; // space is a non-breaking space (alt-0160)\r\n\r\nNumber number = nf_ptPT.parse(input);\r\nString output = nf_ptPT.format(number);\r\nSystem.out.println(input + &quot; : &quot; + (output.equals(input) ? &quot;valid&quot; : &quot;invalid&quot;)\r\n         + &quot; for locale &quot; + langTag);\r\n```\r\n\r\nIf the &quot;before&quot; and &quot;after&quot; strings match, you have a valid format for the given locale. (If you get a `ParseException`, then obviously that is also a failure.)\r\n\r\nFor my version of Java (v 19) the commented out test case fails: `1 234,56` with a regular keyboard space. The other case passes (using a NBSP).\r\n\r\nA validation method might look like this:\r\n\r\n```java\r\nprivate boolean isValidLocalNumber(String numberString, NumberFormat nf) {\r\n    if (numberString == null) {\r\n        return false;\r\n    }\r\n    Number number;\r\n    try {\r\n        number = nf.parse(numberString);\r\n    } catch (ParseException ex) {\r\n        return false;\r\n    }\r\n    return nf.format(number).equals(numberString);\r\n}\r\n```\r\n\r\n---\r\n\r\nIt&#39;s not sufficient to _only_ parse the string. Trying to parse this:\r\n\r\n    &quot;1.234,56&quot;\r\n\r\n...using the parser results in a numeric value `1`. Everything from the `.` onwards is discarded. Formatting this `1` back to a string allows us to see that the values are different.\r\n\r\n---\r\n\r\nIf you receive data for Portuguese numbers with those other formats you mentioned in your question, such as:\r\n\r\n  - two spaces for the thousands separator\r\n  - a period (full stop) for the thousands separator\r\n  - spaces instead of NBSPs (depending on your Java version)\r\n\r\n...then those are invalid Portuguese formats, as far as Java is concerned.\r\n\r\nYou would have to decide for yourself if you need to handle those as special cases, or require strict correctness, from Java&#39;s point of view.\r\n\r\nYou may need to define some custom formats and try those if the standard locale format fails. I think this could get very messy...\r\n\r\nThis example is actually for a currency format - not just a decimal number - but it shows what I mean:\r\n\r\n```java\r\nNumber rawNumber = 120798700;  \r\nNumberFormat nf = NumberFormat.getCurrencyInstance();  \r\nDecimalFormatSymbols dfs = new DecimalFormatSymbols();  \r\ndfs.setCurrencySymbol(&quot;&quot;);  \r\ndfs.setGroupingSeparator(&#39;.&#39;);  \r\ndfs.setMonetaryDecimalSeparator(&#39;,&#39;);  \r\n((DecimalFormat) nf).setDecimalFormatSymbols(dfs);  \r\nSystem.out.println(nf.format(rawNumber.floatValue() / 100))\r\n```\r\n\r\nThis prints:\r\n\r\n    1.207.987,00\r\n\r\n\r\n\r\n---\r\n\r\nIn my sample code I have used:\r\n\r\n    String langTag = &quot;pt-PT&quot;;\r\n\r\nThis is a BCP 47 language tag, just as a convenient way to set the locale. More information is [here](https://www.w3.org/International/articles/language-tags/).\r\n\r\nIt&#39;s not the only way to set a locale.\r\n\r\n---\r\n\r\n**Update**\r\n\r\nIt&#39;s worth adding that trying to use Java to validate decimals-as-strings gets more complicated when you consider that different European (and worldwide) locales have quite a variety of different [CLDR](https://cldr.unicode.org/) rules. \r\n\r\nLooking only at the thousands separator:\r\n\r\n  - Portuguese (Portugal): non-breaking space (U+00A0)\r\n  - English (United Kingdom): comma (U+002C)\r\n  - French (France): narrow non-breaking space (U+202F)\r\n  - German (Germany): full stop (U+002E)\r\n  - French (Switzerland): narrow non-breaking space (U+202F)\r\n  - German (Switzerland): right single quotation mark (U+2019)\r\n\r\nThat last one (Swiss German) looks like this:\r\n\r\n    1234.56","title":"How to validate European Number in Java?","body":"<p>Recent versions of Java expect Portuguese decimal numbers to use:</p>\n<ul>\n<li>one non-breaking space (NBSP) for each thousands separator</li>\n<li>a comma for the decimal separator.</li>\n</ul>\n<p>Note that a non-breaking space is <em>not</em> the same as a standard keyboard space. In Windows, I can type a NBSP using <code>alt+0160</code> (hold down the <code>ALT</code> key and type <code>0160</code>).</p>\n<p>One approach is to parse each string to a number, and then format the result back to a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String langTag = &quot;pt-PT&quot;; // Portuguese-Portugal\nNumberFormat nf_ptPT = DecimalFormat.getInstance(Locale.forLanguageTag(langTag));\n\n//String input = &quot;1 234,56&quot;; // regular keyboard characters\nString input = &quot;1234,56&quot;; // space is a non-breaking space (alt-0160)\n\nNumber number = nf_ptPT.parse(input);\nString output = nf_ptPT.format(number);\nSystem.out.println(input + &quot; : &quot; + (output.equals(input) ? &quot;valid&quot; : &quot;invalid&quot;)\n         + &quot; for locale &quot; + langTag);\n</code></pre>\n<p>If the &quot;before&quot; and &quot;after&quot; strings match, you have a valid format for the given locale. (If you get a <code>ParseException</code>, then obviously that is also a failure.)</p>\n<p>For my version of Java (v 19) the commented out test case fails: <code>1 234,56</code> with a regular keyboard space. The other case passes (using a NBSP).</p>\n<p>A validation method might look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isValidLocalNumber(String numberString, NumberFormat nf) {\n    if (numberString == null) {\n        return false;\n    }\n    Number number;\n    try {\n        number = nf.parse(numberString);\n    } catch (ParseException ex) {\n        return false;\n    }\n    return nf.format(number).equals(numberString);\n}\n</code></pre>\n<hr />\n<p>It's not sufficient to <em>only</em> parse the string. Trying to parse this:</p>\n<pre><code>&quot;1.234,56&quot;\n</code></pre>\n<p>...using the parser results in a numeric value <code>1</code>. Everything from the <code>.</code> onwards is discarded. Formatting this <code>1</code> back to a string allows us to see that the values are different.</p>\n<hr />\n<p>If you receive data for Portuguese numbers with those other formats you mentioned in your question, such as:</p>\n<ul>\n<li>two spaces for the thousands separator</li>\n<li>a period (full stop) for the thousands separator</li>\n<li>spaces instead of NBSPs (depending on your Java version)</li>\n</ul>\n<p>...then those are invalid Portuguese formats, as far as Java is concerned.</p>\n<p>You would have to decide for yourself if you need to handle those as special cases, or require strict correctness, from Java's point of view.</p>\n<p>You may need to define some custom formats and try those if the standard locale format fails. I think this could get very messy...</p>\n<p>This example is actually for a currency format - not just a decimal number - but it shows what I mean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Number rawNumber = 120798700;  \nNumberFormat nf = NumberFormat.getCurrencyInstance();  \nDecimalFormatSymbols dfs = new DecimalFormatSymbols();  \ndfs.setCurrencySymbol(&quot;&quot;);  \ndfs.setGroupingSeparator('.');  \ndfs.setMonetaryDecimalSeparator(',');  \n((DecimalFormat) nf).setDecimalFormatSymbols(dfs);  \nSystem.out.println(nf.format(rawNumber.floatValue() / 100))\n</code></pre>\n<p>This prints:</p>\n<pre><code>1.207.987,00\n</code></pre>\n<hr />\n<p>In my sample code I have used:</p>\n<pre><code>String langTag = &quot;pt-PT&quot;;\n</code></pre>\n<p>This is a BCP 47 language tag, just as a convenient way to set the locale. More information is <a href=\"https://www.w3.org/International/articles/language-tags/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>It's not the only way to set a locale.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>It's worth adding that trying to use Java to validate decimals-as-strings gets more complicated when you consider that different European (and worldwide) locales have quite a variety of different <a href=\"https://cldr.unicode.org/\" rel=\"nofollow noreferrer\">CLDR</a> rules.</p>\n<p>Looking only at the thousands separator:</p>\n<ul>\n<li>Portuguese (Portugal): non-breaking space (U+00A0)</li>\n<li>English (United Kingdom): comma (U+002C)</li>\n<li>French (France): narrow non-breaking space (U+202F)</li>\n<li>German (Germany): full stop (U+002E)</li>\n<li>French (Switzerland): narrow non-breaking space (U+202F)</li>\n<li>German (Switzerland): right single quotation mark (U+2019)</li>\n</ul>\n<p>That last one (Swiss German) looks like this:</p>\n<pre><code>1234.56\n</code></pre>\n"}],"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683391681,"creation_date":1683298329,"question_id":76183477,"body_markdown":"For e.g:\r\nthese are valid European numbers (Portuguese numbers)\r\n```1.234,56```\r\n```1 234,56``` (Single Space), \r\n```1.234.567,89```, \r\n```1 234 567,89``` (Single Space), \r\n```1  234,56``` (double space could be replaced by single space...people usually write in double space)\r\n\r\nInvalid European numbers (Portuguese numbers)\r\n```1,234.56```, \r\n```1.234 56``` (Single space but used as decimal seperator), \r\n```1,234,567.89```, \r\n```1  234.56``` (Double space instead of single space).\r\n\r\nCan you tell me how to solve this problem? I have been using some pattern matching but it&#39;s not effective. And is there any third-party library for this? This is my code:\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.text.DecimalFormat;\r\nimport java.text.DecimalFormatSymbols;\r\nimport java.text.ParseException;\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\n\r\npublic class ValidateEuropeanNumber {\r\n\r\n    /**\r\n     * Checks if the input string represents a valid European number format.\r\n     *\r\n     * Preconditions:\r\n     *  - The input string must not be null.\r\n     *\r\n     * Postconditions:\r\n     *  - Returns true if the input string represents a valid European number format.\r\n     *  - Returns false if the input string does not represent a valid European number format.\r\n     *\r\n     * @param input The string to check for a valid European number format.\r\n     * @return true if the input string represents a valid European number format, false otherwise.\r\n     * @throws NullPointerException if the input string is null.\r\n     */\r\n    public static boolean isValidEuropeanNumber(String input) {\r\n        Objects.requireNonNull(input, &quot;The input string must not be null.&quot;);\r\n\r\n        // Remove leading and trailing spaces\r\n        input = input.trim();\r\n\r\n        // Replace multiple spaces with a single space\r\n        input = input.replaceAll(&quot;\\\\s{2,}&quot;, &quot; &quot;);\r\n\r\n        DecimalFormatSymbols symbols = new DecimalFormatSymbols(Locale.GERMAN);\r\n        DecimalFormat format = new DecimalFormat(&quot;#,##0.###&quot;, symbols);\r\n        format.setParseBigDecimal(true);\r\n\r\n        try {\r\n            BigDecimal number = (BigDecimal) format.parse(input);\r\n\r\n            // Check if there are any periods in the input\r\n            if (input.contains(&quot;.&quot;)) {\r\n                DecimalFormatSymbols periodSymbols = new DecimalFormatSymbols(Locale.UK);\r\n                DecimalFormat periodFormat = new DecimalFormat(&quot;#,##0.###&quot;, periodSymbols);\r\n                periodFormat.setParseBigDecimal(true);\r\n\r\n                BigDecimal periodNumber = (BigDecimal) periodFormat.parse(input);\r\n            }\r\n\r\n            return true;\r\n        } catch (ParseException e) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```","title":"How to validate European Number in Java?","body":"<p>For e.g:\nthese are valid European numbers (Portuguese numbers)\n<code>1.234,56</code>\n<code>1 234,56</code> (Single Space),\n<code>1.234.567,89</code>,\n<code>1 234 567,89</code> (Single Space),\n<code>1  234,56</code> (double space could be replaced by single space...people usually write in double space)</p>\n<p>Invalid European numbers (Portuguese numbers)\n<code>1,234.56</code>,\n<code>1.234 56</code> (Single space but used as decimal seperator),\n<code>1,234,567.89</code>,\n<code>1  234.56</code> (Double space instead of single space).</p>\n<p>Can you tell me how to solve this problem? I have been using some pattern matching but it's not effective. And is there any third-party library for this? This is my code:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\nimport java.text.DecimalFormatSymbols;\nimport java.text.ParseException;\nimport java.util.Locale;\nimport java.util.Objects;\n\npublic class ValidateEuropeanNumber {\n\n    /**\n     * Checks if the input string represents a valid European number format.\n     *\n     * Preconditions:\n     *  - The input string must not be null.\n     *\n     * Postconditions:\n     *  - Returns true if the input string represents a valid European number format.\n     *  - Returns false if the input string does not represent a valid European number format.\n     *\n     * @param input The string to check for a valid European number format.\n     * @return true if the input string represents a valid European number format, false otherwise.\n     * @throws NullPointerException if the input string is null.\n     */\n    public static boolean isValidEuropeanNumber(String input) {\n        Objects.requireNonNull(input, &quot;The input string must not be null.&quot;);\n\n        // Remove leading and trailing spaces\n        input = input.trim();\n\n        // Replace multiple spaces with a single space\n        input = input.replaceAll(&quot;\\\\s{2,}&quot;, &quot; &quot;);\n\n        DecimalFormatSymbols symbols = new DecimalFormatSymbols(Locale.GERMAN);\n        DecimalFormat format = new DecimalFormat(&quot;#,##0.###&quot;, symbols);\n        format.setParseBigDecimal(true);\n\n        try {\n            BigDecimal number = (BigDecimal) format.parse(input);\n\n            // Check if there are any periods in the input\n            if (input.contains(&quot;.&quot;)) {\n                DecimalFormatSymbols periodSymbols = new DecimalFormatSymbols(Locale.UK);\n                DecimalFormat periodFormat = new DecimalFormat(&quot;#,##0.###&quot;, periodSymbols);\n                periodFormat.setParseBigDecimal(true);\n\n                BigDecimal periodNumber = (BigDecimal) periodFormat.parse(input);\n            }\n\n            return true;\n        } catch (ParseException e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","stringtemplate","stringtemplate-4"],"answers":[{"comments":[{"owner":{"account_id":987560,"reputation":277,"user_id":1005711,"accept_rate":86,"display_name":"Shahab78"},"score":0,"creation_date":1612716143,"post_id":66088171,"comment_id":116847690,"body_markdown":"No I cant, Ill end up with an extra comma at the end in that case.","body":"No I cant, Ill end up with an extra comma at the end in that case."}],"tags":[],"owner":{"account_id":20477499,"reputation":11,"user_id":15026469,"display_name":"Heiko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612702457,"creation_date":1612702457,"answer_id":66088171,"question_id":66053762,"body_markdown":"Not sure if I understand your question correctly, but can&#39;t just move the comma in the if?\r\n```\r\n&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;, &lt;endif&gt;&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;, &lt;endif&gt;&lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;\r\n```","title":"Comma between optional statements","body":"<p>Not sure if I understand your question correctly, but can't just move the comma in the if?</p>\n<pre><code>&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;, &lt;endif&gt;&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;, &lt;endif&gt;&lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28377969,"reputation":1,"user_id":21837069,"display_name":"swaroop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391588,"creation_date":1683391588,"answer_id":76190054,"question_id":66053762,"body_markdown":"This template will do the trick\r\n\r\n```\r\n&lt;if(A)&gt; do A &lt;endif&gt;\r\n&lt;if(B)&gt;&lt;if(A),&lt;endif&gt; do B &lt;endif&gt;\r\n&lt;if(C)&gt;&lt;if(A||B),&lt;endif&gt; do C &lt;endif&gt;\r\n```","title":"Comma between optional statements","body":"<p>This template will do the trick</p>\n<pre><code>&lt;if(A)&gt; do A &lt;endif&gt;\n&lt;if(B)&gt;&lt;if(A),&lt;endif&gt; do B &lt;endif&gt;\n&lt;if(C)&gt;&lt;if(A||B),&lt;endif&gt; do C &lt;endif&gt;\n</code></pre>\n"}],"owner":{"account_id":987560,"reputation":277,"user_id":1005711,"accept_rate":86,"display_name":"Shahab78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683391588,"creation_date":1612472597,"question_id":66053762,"body_markdown":"I am trying to generate code with stringtemplate4, and I have a line like this:\r\n\r\n    &quot;&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;, &lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;, &lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;&quot;\r\n\r\nso A, B and C are optional parameters that if they are not set, I don&#39;t want the whole statement to be in the output string. That part is working fine but the comma after the statement is my problem, I don&#39;t want the comma to be there as well. I can have the comma inside the string (like \\&quot;&lt;A&gt;,\\&quot; but then I might end up with an extra comma at the end. I think one way is to do it like a list but I don&#39;t know how to define that. this is not working:\r\n\r\n    &quot;&lt;[{&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;,&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;}]; separator=\\&quot;,\\&quot;&gt;&quot;\r\n\r\nAny ideas? thanks. \r\n","title":"Comma between optional statements","body":"<p>I am trying to generate code with stringtemplate4, and I have a line like this:</p>\n<pre><code>&quot;&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;, &lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;, &lt;if(C)&gt;\\&quot;C\\&quot;:\\&quot;&lt;C&gt;\\&quot;&lt;endif&gt;&quot;\n</code></pre>\n<p>so A, B and C are optional parameters that if they are not set, I don't want the whole statement to be in the output string. That part is working fine but the comma after the statement is my problem, I don't want the comma to be there as well. I can have the comma inside the string (like &quot;,&quot; but then I might end up with an extra comma at the end. I think one way is to do it like a list but I don't know how to define that. this is not working:</p>\n<pre><code>&quot;&lt;[{&lt;if(A)&gt;\\&quot;A\\&quot;:\\&quot;&lt;A&gt;\\&quot;&lt;endif&gt;,&lt;if(B)&gt;\\&quot;B\\&quot;:\\&quot;&lt;B&gt;\\&quot;&lt;endif&gt;}]; separator=\\&quot;,\\&quot;&gt;&quot;\n</code></pre>\n<p>Any ideas? thanks.</p>\n"},{"tags":["java","rest","groovy","automated-tests","webtau"],"answers":[{"tags":[],"owner":{"account_id":22244,"reputation":58423,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654793013,"creation_date":1654792710,"answer_id":72563843,"question_id":72563842,"body_markdown":"If you are using [Groovy standalone runner](https://testingisdocumenting.org/webtau/groovy-standalone-runner/introduction) you can base url via command line \r\n```\r\nwebtau --url=http://localhost:8080\r\n``` \r\nor have a groovy config file `webtau.cfg.groovy`\r\n```\r\nurl = &quot;http://localhost:8080\r\n```\r\n\r\nIn case of Java `src/test/resources/webtau.properties` file\r\n```\r\nurl = http://localhost:8080\r\n```\r\nor pass it via system property for test execution \r\n```\r\n-Durl=&quot;http://localhost:8080&quot;\r\n```\r\n\r\nfor both Java and Groovy you can also provide base url via environment variable \r\n```\r\nWEBTAU_URL=http://localhost:8080\r\n```","title":"How do I specify base url for REST API tests with WebTau","body":"<p>If you are using <a href=\"https://testingisdocumenting.org/webtau/groovy-standalone-runner/introduction\" rel=\"nofollow noreferrer\">Groovy standalone runner</a> you can base url via command line</p>\n<pre><code>webtau --url=http://localhost:8080\n</code></pre>\n<p>or have a groovy config file <code>webtau.cfg.groovy</code></p>\n<pre><code>url = &quot;http://localhost:8080\n</code></pre>\n<p>In case of Java <code>src/test/resources/webtau.properties</code> file</p>\n<pre><code>url = http://localhost:8080\n</code></pre>\n<p>or pass it via system property for test execution</p>\n<pre><code>-Durl=&quot;http://localhost:8080&quot;\n</code></pre>\n<p>for both Java and Groovy you can also provide base url via environment variable</p>\n<pre><code>WEBTAU_URL=http://localhost:8080\n</code></pre>\n"}],"owner":{"account_id":22244,"reputation":58423,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72563843,"answer_count":1,"score":0,"last_activity_date":1683391364,"creation_date":1654792710,"question_id":72563842,"body_markdown":"In [WebTau documentation](https://testingisdocumenting.org/webtau/HTTP/CRUD) on how to test CRUD, examples are using relative urls\r\n```\r\ndef customerPayload = [firstName: &quot;FN&quot;, lastName: &quot;LN&quot;]\r\n\r\ndef id = http.post(&quot;/customers&quot;, customerPayload) {\r\n    return id\r\n}\r\n\r\nhttp.get(&quot;/customers/${id}&quot;) {\r\n    body.should == customerPayload\r\n}\r\n```\r\n\r\nHow do I set base url to use?","title":"How do I specify base url for REST API tests with WebTau","body":"<p>In <a href=\"https://testingisdocumenting.org/webtau/HTTP/CRUD\" rel=\"nofollow noreferrer\">WebTau documentation</a> on how to test CRUD, examples are using relative urls</p>\n<pre><code>def customerPayload = [firstName: &quot;FN&quot;, lastName: &quot;LN&quot;]\n\ndef id = http.post(&quot;/customers&quot;, customerPayload) {\n    return id\n}\n\nhttp.get(&quot;/customers/${id}&quot;) {\n    body.should == customerPayload\n}\n</code></pre>\n<p>How do I set base url to use?</p>\n"},{"tags":["java","kml","google-earth","simple-framework","kmz"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680179011,"post_id":75887764,"comment_id":133856151,"body_markdown":"That&#39;s &#39;gone dark&#39; because it&#39;s not clear how that CDATA came out in the first place","body":"That&#39;s &#39;gone dark&#39; because it&#39;s not clear how that CDATA came out in the first place"},{"owner":{"account_id":17730432,"reputation":107,"user_id":12873175,"display_name":"adrian"},"score":0,"creation_date":1680182427,"post_id":75887764,"comment_id":133857208,"body_markdown":"while debugin i can see that the Document kml has the placemark and inside I can see the description well formated like this:\n\n&lt;![CDATA[&lt;div&gt;&lt;table border=&#39;1&#39; width=&#39;300&#39;&gt;&lt;tr&gt;&lt;td&gt;MAL707&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;]]&gt;\nbut it&#39;s the serializer who outputs that wrong","body":"while debugin i can see that the Document kml has the placemark and inside I can see the description well formated like this:  &lt;![CDATA[&lt;div&gt;&lt;table border=&#39;1&#39; width=&#39;300&#39;&gt;&lt;tr&gt;&lt;td&gt;MAL707&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;]]&gt; but it&#39;s the serializer who outputs that wrong"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680183100,"post_id":75887764,"comment_id":133857428,"body_markdown":"I don&#39;t know this API but have a look at [this](https://simple.sourceforge.net/download/stream/doc/javadoc/org/simpleframework/xml/Element.html#data())","body":"I don&#39;t know this API but have a look at <a href=\"https://simple.sourceforge.net/download/stream/doc/javadoc/org/simpleframework/xml/Element.html#data()\" rel=\"nofollow noreferrer\">this</a>"}],"owner":{"account_id":17730432,"reputation":107,"user_id":12873175,"display_name":"adrian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683391286,"creation_date":1680176324,"question_id":75887764,"body_markdown":"I have a program that gets a csv and conver it into a kmz that can be opened in Google Earth\r\n\r\nThe problem is that one of the inputs is the Description that has a table inside\r\n\r\nSo I have this:\r\n\r\n    @Element(name = &quot;Description&quot;)\r\n    private String description;\r\n\r\nAnd I create the html structure and add the element\r\n\r\n    String htmlTable = &quot;&lt;table border=&amp;apos;1&amp;apos; width=&amp;apos;300&amp;apos;&gt;&lt;tr&gt;&lt;td&gt;&quot; + \r\n    contenidoProcesado[1] + &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;\r\n    String description = &quot;&lt;![CDATA[&lt;div&gt;&quot; + htmlTable + &quot;&lt;/div&gt;]]&gt;&quot;;\r\n    placemark.setDescription(description);\r\n\r\nLater I use a Serializer with a list of all my entries in the csv as placemarks and create this kmz with a kml inside with all the data.\r\n\r\n    try {\r\n    \t\tSerializer serializer = new Persister();\t\t\t\r\n    \t\tDocument kml = new Document(placemarks);\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\r\n    \t\ttry {\r\n    \t\t    // Read in the KML file\r\n    \t\t    File kmlFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kml&quot; );\r\n    \t\t    String kmlFileName = kmlFile.getName();\t\t\t\t  \r\n    \t\t    FileInputStream fis = new FileInputStream(kmlFile);\r\n    \t\t    byte[] kmlBytes = new byte[(int) kmlFile.length()];\r\n    \t\t    fis.read(kmlBytes);\r\n    \t\t    fis.close();    \t\t    \r\n    \r\n    \t\t    // Create the KMZ file\r\n    \t\t    File kmzFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kmz&quot; );\r\n    \t\t    FileOutputStream fos = new FileOutputStream(kmzFile);\r\n    \t\t    ZipOutputStream zos = new ZipOutputStream(fos);\r\n    \r\n    \t\t    // Add the KML file to the KMZ archive\r\n    \t\t    ZipEntry kmlEntry = new ZipEntry(kmlFileName);\r\n    \t\t    zos.putNextEntry(kmlEntry);\r\n    \t\t    zos.write((&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; + &quot;\\n&quot;).getBytes());\r\n    \t\t\tzos.write((&quot;&lt;kml xmlns=\\&quot;http://www.opengis.net/kml/2.2\\&quot;&gt;&quot; + &quot;\\n&quot;).getBytes());\r\n    \t\t    serializer.write(kml, zos); // write KML data directly to the KMZ file\r\n    \t\t    zos.write(&quot;&lt;/kml&gt;&quot;.getBytes()); // add closing &lt;/kml&gt; tag to the KMZ file\r\n    \t\t\t\t        \t\t\t\t    \r\n    \t\t\tzos.closeEntry();\r\n\r\nI can Open the mz generated in Google Earth but the description is not appearing and if I open the kml it&#39;s like this:\r\n\r\n    &lt;Description&gt;&amp;lt;div&amp;gt;&amp;lt;table border=&amp;amp;apos;1&amp;amp;apos; width=&amp;amp;apos;300&amp;amp;apos;&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;LAM450520&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;&lt;/Description&gt;\r\n\r\nIt does not have an html structure because it converted the &quot;&quot;, &lt; and &gt; into special quotes so Google Earth cannot display this description.\r\n\r\nCould you guide me a little to finally have the structure unaltered, so I can read it from Google Earth please?","title":"SimpleXML in Java add CDATA String to KMZ","body":"<p>I have a program that gets a csv and conver it into a kmz that can be opened in Google Earth</p>\n<p>The problem is that one of the inputs is the Description that has a table inside</p>\n<p>So I have this:</p>\n<pre><code>@Element(name = &quot;Description&quot;)\nprivate String description;\n</code></pre>\n<p>And I create the html structure and add the element</p>\n<pre><code>String htmlTable = &quot;&lt;table border=&amp;apos;1&amp;apos; width=&amp;apos;300&amp;apos;&gt;&lt;tr&gt;&lt;td&gt;&quot; + \ncontenidoProcesado[1] + &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;\nString description = &quot;&lt;![CDATA[&lt;div&gt;&quot; + htmlTable + &quot;&lt;/div&gt;]]&gt;&quot;;\nplacemark.setDescription(description);\n</code></pre>\n<p>Later I use a Serializer with a list of all my entries in the csv as placemarks and create this kmz with a kml inside with all the data.</p>\n<pre><code>try {\n        Serializer serializer = new Persister();            \n        Document kml = new Document(placemarks);                                \n                \n        try {\n            // Read in the KML file\n            File kmlFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kml&quot; );\n            String kmlFileName = kmlFile.getName();               \n            FileInputStream fis = new FileInputStream(kmlFile);\n            byte[] kmlBytes = new byte[(int) kmlFile.length()];\n            fis.read(kmlBytes);\n            fis.close();                \n\n            // Create the KMZ file\n            File kmzFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kmz&quot; );\n            FileOutputStream fos = new FileOutputStream(kmzFile);\n            ZipOutputStream zos = new ZipOutputStream(fos);\n\n            // Add the KML file to the KMZ archive\n            ZipEntry kmlEntry = new ZipEntry(kmlFileName);\n            zos.putNextEntry(kmlEntry);\n            zos.write((&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; + &quot;\\n&quot;).getBytes());\n            zos.write((&quot;&lt;kml xmlns=\\&quot;http://www.opengis.net/kml/2.2\\&quot;&gt;&quot; + &quot;\\n&quot;).getBytes());\n            serializer.write(kml, zos); // write KML data directly to the KMZ file\n            zos.write(&quot;&lt;/kml&gt;&quot;.getBytes()); // add closing &lt;/kml&gt; tag to the KMZ file\n                                            \n            zos.closeEntry();\n</code></pre>\n<p>I can Open the mz generated in Google Earth but the description is not appearing and if I open the kml it's like this:</p>\n<pre><code>&lt;Description&gt;&amp;lt;div&amp;gt;&amp;lt;table border=&amp;amp;apos;1&amp;amp;apos; width=&amp;amp;apos;300&amp;amp;apos;&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;LAM450520&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;&lt;/Description&gt;\n</code></pre>\n<p>It does not have an html structure because it converted the &quot;&quot;, &lt; and &gt; into special quotes so Google Earth cannot display this description.</p>\n<p>Could you guide me a little to finally have the structure unaltered, so I can read it from Google Earth please?</p>\n"},{"tags":["java","vaadin","vaadin7"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1683282638,"post_id":76175804,"comment_id":134346393,"body_markdown":"You should use https so that third parties can&#39;t view the network traffick.","body":"You should use https so that third parties can&#39;t view the network traffick."}],"answers":[{"comments":[{"owner":{"account_id":28508124,"reputation":1,"user_id":21818482,"display_name":"Lucas Coelho"},"score":0,"creation_date":1683227691,"post_id":76176412,"comment_id":134338658,"body_markdown":"How would this be done?","body":"How would this be done?"}],"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683391260,"creation_date":1683225603,"answer_id":76176412,"question_id":76175804,"body_markdown":"The built-in `Password` component always uses the value as it has been set. Normally this is totally safe, as all communication between server and client are in encrypted SSL pipe.\r\n\r\nYou can simply not set the password as a field value if you don&#39;t want it to be a field value. (i.e. do not call setValue method)\r\n\r\nHowever if this is still problem for you, there is [one way version of the PasswordField][1] available in the Vaadin&#39;s Directory.\r\n\r\n\r\n  [1]: https://vaadin.com/directory/component/onewaypasswordfield-add-on","title":"How to not display password inside v-uiId and rpc vaadin 7","body":"<p>The built-in <code>Password</code> component always uses the value as it has been set. Normally this is totally safe, as all communication between server and client are in encrypted SSL pipe.</p>\n<p>You can simply not set the password as a field value if you don't want it to be a field value. (i.e. do not call setValue method)</p>\n<p>However if this is still problem for you, there is <a href=\"https://vaadin.com/directory/component/onewaypasswordfield-add-on\" rel=\"nofollow noreferrer\">one way version of the PasswordField</a> available in the Vaadin's Directory.</p>\n"}],"owner":{"account_id":28508124,"reputation":1,"user_id":21818482,"display_name":"Lucas Coelho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683391260,"creation_date":1683220760,"question_id":76175804,"body_markdown":"How do I not display the password inside the v-uiId in rpc, using vaadin 7.7.14.\r\n\r\nMy password field looks like this:\r\n\r\n\r\n```\r\nPasswordField senha = new PasswordField(&quot;Senha&quot;);\r\n```\r\nAnd how is it inside the v-uiId rpc:\r\n\r\n`[\r\n  [\r\n    &quot;126&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;text&quot;,\r\n      [\r\n        &quot;s&quot;,\r\n        &quot;lucascoelho&quot;\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;126&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;c&quot;,\r\n      [\r\n        &quot;i&quot;,\r\n        11\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;127&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;text&quot;,\r\n      [\r\n        &quot;s&quot;,\r\n        &quot;senha.123&quot;\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;127&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;c&quot;,\r\n      [\r\n        &quot;i&quot;,\r\n        9\r\n      ]\r\n    ]\r\n  ],\r\n  [\r\n    &quot;127&quot;,\r\n    &quot;v&quot;,\r\n    &quot;v&quot;,\r\n    [\r\n      &quot;blur&quot;,\r\n      [\r\n        &quot;s&quot;,\r\n        &quot;&quot;\r\n      ]\r\n    ]\r\n  ]\r\n]`\r\n\r\n\r\nPassword obfuscated or removed from rpc.\r\n\r\n\r\nmy user is &quot;lucascoelho&quot; and password is &quot;password.123&quot;\r\n","title":"How to not display password inside v-uiId and rpc vaadin 7","body":"<p>How do I not display the password inside the v-uiId in rpc, using vaadin 7.7.14.</p>\n<p>My password field looks like this:</p>\n<pre><code>PasswordField senha = new PasswordField(&quot;Senha&quot;);\n</code></pre>\n<p>And how is it inside the v-uiId rpc:</p>\n<p><code>[ [ &quot;126&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;text&quot;, [ &quot;s&quot;, &quot;lucascoelho&quot; ] ] ], [ &quot;126&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;c&quot;, [ &quot;i&quot;, 11 ] ] ], [ &quot;127&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;text&quot;, [ &quot;s&quot;, &quot;senha.123&quot; ] ] ], [ &quot;127&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;c&quot;, [ &quot;i&quot;, 9 ] ] ], [ &quot;127&quot;, &quot;v&quot;, &quot;v&quot;, [ &quot;blur&quot;, [ &quot;s&quot;, &quot;&quot; ] ] ] ]</code></p>\n<p>Password obfuscated or removed from rpc.</p>\n<p>my user is &quot;lucascoelho&quot; and password is &quot;password.123&quot;</p>\n"},{"tags":["java","android","bundle"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683380242,"post_id":76189156,"comment_id":134359712,"body_markdown":"why don&#39;t you just pass ```ArrayList&lt;String&gt;``` and that list will store file path instead of file object .","body":"why don&#39;t you just pass <code>ArrayList&lt;String&gt;</code> and that list will store file path instead of file object ."},{"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"score":0,"creation_date":1683381575,"post_id":76189156,"comment_id":134359859,"body_markdown":"All further work is already done with the File class, and if I create a file using its path every time, does it make sense to save data in a bundle??","body":"All further work is already done with the File class, and if I create a file using its path every time, does it make sense to save data in a bundle??"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683393570,"post_id":76189156,"comment_id":134361360,"body_markdown":"Nobody told you to creata files every time. Not even one time.","body":"Nobody told you to creata files every time. Not even one time."},{"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"score":0,"creation_date":1683396837,"post_id":76189156,"comment_id":134361749,"body_markdown":"But all the next code is working with File class... Maybe I just don&#39;t understand some concepts","body":"But all the next code is working with File class... Maybe I just don&#39;t understand some concepts"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683402174,"post_id":76190024,"comment_id":134362326,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76190024/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391181,"creation_date":1683391181,"answer_id":76190024,"question_id":76189156,"body_markdown":"I resolved this problem by creating the custom class that extended File class","title":"How to put ArrayList&lt;File&gt; in bundle?","body":"<p>I resolved this problem by creating the custom class that extended File class</p>\n"}],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683391181,"creation_date":1683379739,"question_id":76189156,"body_markdown":"I have an application to store all the files that are on the user&#39;s device. I want to upload them to the app once, and then restore them from the bundle. But I do not know how to put in the bundle ArrayList&lt;File&gt;, since the File class does not implement the Parcelable interface","title":"How to put ArrayList&lt;File&gt; in bundle?","body":"<p>I have an application to store all the files that are on the user's device. I want to upload them to the app once, and then restore them from the bundle. But I do not know how to put in the bundle ArrayList, since the File class does not implement the Parcelable interface</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1346868,"reputation":2157,"user_id":1287439,"accept_rate":84,"display_name":"sunjinbo"},"score":0,"creation_date":1683354285,"post_id":76187109,"comment_id":134357219,"body_markdown":"I just only want to use Java API, not Android API.","body":"I just only want to use Java API, not Android API."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1683357045,"post_id":76187109,"comment_id":134357444,"body_markdown":"You should clarify how you are communicating with the Android device and where is the JDK running either on a PC or on a Android device.","body":"You should clarify how you are communicating with the Android device and where is the JDK running either on a PC or on a Android device."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683379956,"post_id":76187109,"comment_id":134359669,"body_markdown":"If you don&#39;t want to use reflection to access Android API if present you can sill try to get some details using `System.getProperty(&quot;http.agent&quot;)`. It returns something like `Dalvik/2.1.0 (Linux; U; Android 12; Pixel 3a Build/SP2A.220505.008)`.","body":"If you don&#39;t want to use reflection to access Android API if present you can sill try to get some details using <code>System.getProperty(&quot;http.agent&quot;)</code>. It returns something like <code>Dalvik&#47;2.1.0 (Linux; U; Android 12; Pixel 3a Build&#47;SP2A.220505.008)</code>."}],"answers":[{"tags":[],"owner":{"account_id":25889789,"reputation":36,"user_id":19617377,"display_name":"Owner - DSF"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683389852,"creation_date":1683389852,"answer_id":76189926,"question_id":76187109,"body_markdown":"&gt;  is there have JDK API support to get that?\r\n\r\nWell, in a word, no... You&#39;re trying to communicate with an Android device. When talk about pure Java SDK. It has certain methods to communicate with the OS with the help of JVM. But even Android is a Linux kernel based OS, you can&#39;t do it directly. IT&#39;s because pure Java SDK doesn&#39;t come with tools to contact an Android VM. To do that you need Android SDK. \r\n\r\nOf course you can get some information in the way of @Robert But it&#39;ll not be recommended by Google. It&#39;ll create unsecure situations (Not the given example by @Robert). Perhaps your app may be flagged as insecure and maybe removed, if you tried to use pure SDK somehow. So it&#39;s not recommended at all.\r\n\r\nIf your problem is that you want to create a jar library that can communicate with both PC and Android, they there&#39;s a proper way of doing it. You can use Kotlin Multiplatform Library (Can be created using IntelliJ Idea). Or you just can create KVVM project in Android Studio. Or you may check whether the device is an Android or a PC in the jar library code, and they do separate actions. You can use Android SDK codes if the device is an Android and can use pure Java SDK if it&#39;s a PC. \r\n\r\n(I&#39;m just guessing what you need) And what did you mean by, \r\n\r\n&gt; I&#39;m developing a pure java SDK\r\n\r\nFor android if you use Android SDK you can use these methods\r\n\r\n    System.getProperty(&quot;os.version&quot;) //To get OS and Version\r\n    android.os.Build.VERSION.INCREMENTAL //To get OS Version\r\n    android.os.Build.VERSION.SDK_INT // To Get API Level\r\n    android.os.Build.DEVICE //To get Device\r\n    android.os.Build.MODEL //To get Device Model\r\n    android.os.Build.PRODUCT //To get Device Product.\r\n\r\nBut I highly recommend if you&#39;re developing a library or something for both platforms. Kotlin Multiplatform Library (No need to use Kotlin, you can use Java) have `android`, `native`, `jvm` and `common` source directories, so you can share common codes with your `jvm` library and android library.\r\n\r\nI reccomend you researching more for library (in your words SDK) development. ","title":"How to get device model from JDK api?","body":"<blockquote>\n<p>is there have JDK API support to get that?</p>\n</blockquote>\n<p>Well, in a word, no... You're trying to communicate with an Android device. When talk about pure Java SDK. It has certain methods to communicate with the OS with the help of JVM. But even Android is a Linux kernel based OS, you can't do it directly. IT's because pure Java SDK doesn't come with tools to contact an Android VM. To do that you need Android SDK.</p>\n<p>Of course you can get some information in the way of @Robert But it'll not be recommended by Google. It'll create unsecure situations (Not the given example by @Robert). Perhaps your app may be flagged as insecure and maybe removed, if you tried to use pure SDK somehow. So it's not recommended at all.</p>\n<p>If your problem is that you want to create a jar library that can communicate with both PC and Android, they there's a proper way of doing it. You can use Kotlin Multiplatform Library (Can be created using IntelliJ Idea). Or you just can create KVVM project in Android Studio. Or you may check whether the device is an Android or a PC in the jar library code, and they do separate actions. You can use Android SDK codes if the device is an Android and can use pure Java SDK if it's a PC.</p>\n<p>(I'm just guessing what you need) And what did you mean by,</p>\n<blockquote>\n<p>I'm developing a pure java SDK</p>\n</blockquote>\n<p>For android if you use Android SDK you can use these methods</p>\n<pre><code>System.getProperty(&quot;os.version&quot;) //To get OS and Version\nandroid.os.Build.VERSION.INCREMENTAL //To get OS Version\nandroid.os.Build.VERSION.SDK_INT // To Get API Level\nandroid.os.Build.DEVICE //To get Device\nandroid.os.Build.MODEL //To get Device Model\nandroid.os.Build.PRODUCT //To get Device Product.\n</code></pre>\n<p>But I highly recommend if you're developing a library or something for both platforms. Kotlin Multiplatform Library (No need to use Kotlin, you can use Java) have <code>android</code>, <code>native</code>, <code>jvm</code> and <code>common</code> source directories, so you can share common codes with your <code>jvm</code> library and android library.</p>\n<p>I reccomend you researching more for library (in your words SDK) development.</p>\n"}],"owner":{"account_id":1346868,"reputation":2157,"user_id":1287439,"accept_rate":84,"display_name":"sunjinbo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683487101,"accepted_answer_id":76189926,"answer_count":1,"score":0,"last_activity_date":1683389852,"creation_date":1683346671,"question_id":76187109,"body_markdown":"I&#39;m developing a pure java SDK based on JDK 8, and its jar will integrate to Android App or Windows program, but for some reasons, I want to get which manufacturer or brand the SDK running on, is there have JDK API support to get that?","title":"How to get device model from JDK api?","body":"<p>I'm developing a pure java SDK based on JDK 8, and its jar will integrate to Android App or Windows program, but for some reasons, I want to get which manufacturer or brand the SDK running on, is there have JDK API support to get that?</p>\n"},{"tags":["java","infinite-loop","aspectj","pointcut"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683389434,"creation_date":1683375529,"answer_id":76188848,"question_id":76163362,"body_markdown":"Actually, I am answering because your question presents a nice puzzle, not because I think that your use case is particularly relevant. Probably, it is rather a design flaw. I think, you should not try to call a method from an advice which is targeted by the same advice.\r\n\r\nBoth your variant `!cflow(within(MyAspect))` and something like `!adviceexecution()` would, as you have noticed, preclude internal method calls from being captured.\r\n\r\nThe workaround is an [`if()` pointcut](https://www.eclipse.org/aspectj/doc/next/adk15notebook/ataspectj-pcadvice.html#d0e3697) and keeping state in a static, thread-local, boolean field, which is ugly and potentially slow. But if it works for you, you can do that.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class MyClass {\r\n  public static void main(String[] args) {\r\n    MyClass myClass = new MyClass();\r\n    myClass.hello();\r\n    myClass.world();\r\n    myClass.helloWorld();\r\n  }\r\n\r\n  public String hello() {\r\n    return &quot;Hello&quot;;\r\n  }\r\n\r\n  public String world() {\r\n    return &quot;world&quot;;\r\n  }\r\n\r\n  public String helloWorld() {\r\n    return hello() + &quot; &quot; + world() + &quot;!&quot;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n\r\nimport de.scrum_master.app.MyClass;\r\n\r\n@Aspect\r\npublic class MyAspect {\r\n  public static ThreadLocal&lt;Boolean&gt; calledFromAdvice = ThreadLocal.withInitial(() -&gt; false);\r\n\r\n  @Pointcut(&quot;execution(!static * de.scrum_master.app.MyClass.*(..)) &amp;&amp; if()&quot;)\r\n  public static boolean captureMyClassMethods() {\r\n    return !calledFromAdvice.get();\r\n  }\r\n\r\n  @Around(&quot;captureMyClassMethods() &amp;&amp; target(myClass)&quot;)\r\n  public Object aroundMyClassMethods(ProceedingJoinPoint jp, MyClass myClass) throws Throwable {\r\n    System.out.println(jp);\r\n    try {\r\n      calledFromAdvice.set(true);\r\n      myClass.helloWorld();\r\n    } finally {\r\n      calledFromAdvice.set(false);\r\n    }\r\n    String result = (String) jp.proceed();\r\n    System.out.println(&quot;  &quot; + result);\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\nThe `!static` qualifier avoids the static `main` method from beiong intercepted. There, the target object would be `null`, causing a null pointer exception when trying to call amethod upon it.\r\n\r\nPlease also note how I am binding the target object to an advice parameter, which is more elegant than calling `jp.getTraget()` and casting it.\r\n\r\nLast but not least, the `try-finally` makes sure to always reset the flag, even if there is an exception while calling `hello`.\r\n\r\nThe console log looks like this:\r\n\r\n```none\r\nexecution(String de.scrum_master.app.MyClass.hello())\r\n  Hello\r\nexecution(String de.scrum_master.app.MyClass.world())\r\n  world\r\nexecution(String de.scrum_master.app.MyClass.helloWorld())\r\nexecution(String de.scrum_master.app.MyClass.hello())\r\n  Hello\r\nexecution(String de.scrum_master.app.MyClass.world())\r\n  world\r\n  Hello world!\r\n```\r\n\r\nAs you can see, in this case the inner method calls inside `helloWorld` are both captured correctly, but there is no stack overflow exception due to calling `hello` from the aspect","title":"Call adviced method from around advice and avoiding infinite loop without using cflow","body":"<p>Actually, I am answering because your question presents a nice puzzle, not because I think that your use case is particularly relevant. Probably, it is rather a design flaw. I think, you should not try to call a method from an advice which is targeted by the same advice.</p>\n<p>Both your variant <code>!cflow(within(MyAspect))</code> and something like <code>!adviceexecution()</code> would, as you have noticed, preclude internal method calls from being captured.</p>\n<p>The workaround is an <a href=\"https://www.eclipse.org/aspectj/doc/next/adk15notebook/ataspectj-pcadvice.html#d0e3697\" rel=\"nofollow noreferrer\"><code>if()</code> pointcut</a> and keeping state in a static, thread-local, boolean field, which is ugly and potentially slow. But if it works for you, you can do that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class MyClass {\n  public static void main(String[] args) {\n    MyClass myClass = new MyClass();\n    myClass.hello();\n    myClass.world();\n    myClass.helloWorld();\n  }\n\n  public String hello() {\n    return &quot;Hello&quot;;\n  }\n\n  public String world() {\n    return &quot;world&quot;;\n  }\n\n  public String helloWorld() {\n    return hello() + &quot; &quot; + world() + &quot;!&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\nimport de.scrum_master.app.MyClass;\n\n@Aspect\npublic class MyAspect {\n  public static ThreadLocal&lt;Boolean&gt; calledFromAdvice = ThreadLocal.withInitial(() -&gt; false);\n\n  @Pointcut(&quot;execution(!static * de.scrum_master.app.MyClass.*(..)) &amp;&amp; if()&quot;)\n  public static boolean captureMyClassMethods() {\n    return !calledFromAdvice.get();\n  }\n\n  @Around(&quot;captureMyClassMethods() &amp;&amp; target(myClass)&quot;)\n  public Object aroundMyClassMethods(ProceedingJoinPoint jp, MyClass myClass) throws Throwable {\n    System.out.println(jp);\n    try {\n      calledFromAdvice.set(true);\n      myClass.helloWorld();\n    } finally {\n      calledFromAdvice.set(false);\n    }\n    String result = (String) jp.proceed();\n    System.out.println(&quot;  &quot; + result);\n    return result;\n  }\n}\n</code></pre>\n<p>The <code>!static</code> qualifier avoids the static <code>main</code> method from beiong intercepted. There, the target object would be <code>null</code>, causing a null pointer exception when trying to call amethod upon it.</p>\n<p>Please also note how I am binding the target object to an advice parameter, which is more elegant than calling <code>jp.getTraget()</code> and casting it.</p>\n<p>Last but not least, the <code>try-finally</code> makes sure to always reset the flag, even if there is an exception while calling <code>hello</code>.</p>\n<p>The console log looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>execution(String de.scrum_master.app.MyClass.hello())\n  Hello\nexecution(String de.scrum_master.app.MyClass.world())\n  world\nexecution(String de.scrum_master.app.MyClass.helloWorld())\nexecution(String de.scrum_master.app.MyClass.hello())\n  Hello\nexecution(String de.scrum_master.app.MyClass.world())\n  world\n  Hello world!\n</code></pre>\n<p>As you can see, in this case the inner method calls inside <code>helloWorld</code> are both captured correctly, but there is no stack overflow exception due to calling <code>hello</code> from the aspect</p>\n"}],"owner":{"account_id":10336372,"reputation":129,"user_id":7624350,"accept_rate":100,"display_name":"komal Thawani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683389434,"creation_date":1683113831,"question_id":76163362,"body_markdown":"I want to capture all method executions in com.ABC.MyClass using AspectJ\r\n\r\n     package com.ABC\r\n     \r\n     public class MyClass{\r\n           \r\n            public methodA(){\r\n            }\r\n\r\n            public methodB(){\r\n              methodA();\r\n            }\r\n     }\r\n\r\nBelow is the Aspect :\r\n\r\n    @Aspect\r\n    public class MyAspect{\r\n      @Pointcut(&quot;execution(* com.ABC.MyClass.*(..))&quot;)\r\n      public void captureMyClassMethods(){\r\n      }\r\n      \r\n      @Around(&quot;captureMyClassMethods()&quot;)\r\n      public Object aroundMyClassMethods(ProceedingJoinPoint jp) throws Throwable{\r\n        MyClass object = (MyClass)jp.getTarget();\r\n\r\n        object.methodA();      //This causes infinite loop\r\n\r\n        Object o = jp.proceed();\r\n        System.out.println(&quot;Some data from o&quot;);\r\n        return o;\r\n      }\r\n    }\r\n\r\nAs mentioned in comments in around advice, while calling methodA() from advice is causing infinite loop. \r\n\r\nAs mentioned in another stackoverflow answer &lt;https://stackoverflow.com/questions/26641283/aspectj-how-to-call-advised-method-from-within-same-advice-without-triggering&gt;  if I change the pointcut expression below then I would miss capturing execution of methodA() when it is called from methodB() because it will be in aspects control flow.\r\n\r\n    @Pointcut(&quot;execution(* com.ABC.MyClass.*(..)) &amp;&amp; !cflow(within(MyAspect))&quot;)\r\n\r\nAnother way I can think of is using before and after advices instead of around advice. But I want to know if there is a way to handle this with around advice?\r\n\r\n","title":"Call adviced method from around advice and avoiding infinite loop without using cflow","body":"<p>I want to capture all method executions in com.ABC.MyClass using AspectJ</p>\n<pre><code> package com.ABC\n \n public class MyClass{\n       \n        public methodA(){\n        }\n\n        public methodB(){\n          methodA();\n        }\n }\n</code></pre>\n<p>Below is the Aspect :</p>\n<pre><code>@Aspect\npublic class MyAspect{\n  @Pointcut(&quot;execution(* com.ABC.MyClass.*(..))&quot;)\n  public void captureMyClassMethods(){\n  }\n  \n  @Around(&quot;captureMyClassMethods()&quot;)\n  public Object aroundMyClassMethods(ProceedingJoinPoint jp) throws Throwable{\n    MyClass object = (MyClass)jp.getTarget();\n\n    object.methodA();      //This causes infinite loop\n\n    Object o = jp.proceed();\n    System.out.println(&quot;Some data from o&quot;);\n    return o;\n  }\n}\n</code></pre>\n<p>As mentioned in comments in around advice, while calling methodA() from advice is causing infinite loop.</p>\n<p>As mentioned in another stackoverflow answer <a href=\"https://stackoverflow.com/questions/26641283/aspectj-how-to-call-advised-method-from-within-same-advice-without-triggering\">Aspectj - how to call advised method from within same advice, without triggering an infinite loop</a>  if I change the pointcut expression below then I would miss capturing execution of methodA() when it is called from methodB() because it will be in aspects control flow.</p>\n<pre><code>@Pointcut(&quot;execution(* com.ABC.MyClass.*(..)) &amp;&amp; !cflow(within(MyAspect))&quot;)\n</code></pre>\n<p>Another way I can think of is using before and after advices instead of around advice. But I want to know if there is a way to handle this with around advice?</p>\n"},{"tags":["java","spring","spring-mvc","soap"],"answers":[{"tags":[],"owner":{"account_id":6916783,"reputation":1196,"user_id":5310721,"accept_rate":81,"display_name":"Alvaro Pedraza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683389134,"creation_date":1683389134,"answer_id":76189881,"question_id":76183208,"body_markdown":"Finally, after checking the javax.xml.bind documentation, I got to the solution. You can use `SOAPEnvelope` object to create a `Name` and add it as attribute, like this:\r\n```\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\r\n        String securityToken = tokenGenerator.getToken();\r\n\r\n        try {\r\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\r\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\r\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\r\n\r\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\r\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\r\n\r\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\r\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\r\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\r\n\r\n            // Create ValueType name...\r\n            Name valueTypeName = soapEnvelope.createName(&quot;ValueType&quot;);\r\n            // ... and add it as attribute\r\n            securityTokenSoapElement.addAttribute(valueTypeName, &quot;wsst:LTPA&quot;);\r\n\r\n            securityTokenSoapElement.addTextNode(securityToken);\r\n\r\n            soapMessage.saveChanges();\r\n        } catch (SOAPException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nJust for reference, the documentation I checked was:\r\n\r\n - [Jakarta SOAP Javadoc - Package javax.xml.soap](https://javadoc.io/doc/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/package-summary.html)\r\n - [Jakarta SOAP Javadoc - Class SOAPElement](https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/SOAPElement.html)\r\n - [Jakarta SOAP Javadoc - Class Name](https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/Name.html)\r\n\r\nHope this can help someone. Best regards","title":"Spring WS add ValueType attribute in SOAP request header","body":"<p>Finally, after checking the javax.xml.bind documentation, I got to the solution. You can use <code>SOAPEnvelope</code> object to create a <code>Name</code> and add it as attribute, like this:</p>\n<pre><code>    @Override\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\n        String securityToken = tokenGenerator.getToken();\n\n        try {\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\n            SOAPPart soapPart = soapMessage.getSOAPPart();\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\n\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\n\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\n\n            // Create ValueType name...\n            Name valueTypeName = soapEnvelope.createName(&quot;ValueType&quot;);\n            // ... and add it as attribute\n            securityTokenSoapElement.addAttribute(valueTypeName, &quot;wsst:LTPA&quot;);\n\n            securityTokenSoapElement.addTextNode(securityToken);\n\n            soapMessage.saveChanges();\n        } catch (SOAPException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p>Just for reference, the documentation I checked was:</p>\n<ul>\n<li><a href=\"https://javadoc.io/doc/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/package-summary.html\" rel=\"nofollow noreferrer\">Jakarta SOAP Javadoc - Package javax.xml.soap</a></li>\n<li><a href=\"https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/SOAPElement.html\" rel=\"nofollow noreferrer\">Jakarta SOAP Javadoc - Class SOAPElement</a></li>\n<li><a href=\"https://javadoc.io/static/jakarta.xml.soap/jakarta.xml.soap-api/1.4.2/javax/xml/soap/Name.html\" rel=\"nofollow noreferrer\">Jakarta SOAP Javadoc - Class Name</a></li>\n</ul>\n<p>Hope this can help someone. Best regards</p>\n"}],"owner":{"account_id":6916783,"reputation":1196,"user_id":5310721,"accept_rate":81,"display_name":"Alvaro Pedraza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76189881,"answer_count":1,"score":0,"last_activity_date":1683389134,"creation_date":1683296545,"question_id":76183208,"body_markdown":"I&#39;m working in a SOAP client application using Spring Web and I need to invoke a external service which requires authentication with Binary Security Token. I have a working example from the service provider team which is like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;soapenv:Header&gt;\r\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot; ValueType=&quot;wsst:LTPA&quot;&gt;generated_token&lt;/wsse:BinarySecurityToken&gt;\r\n      &lt;/wsse:Security&gt;\r\n   &lt;/soapenv:Header&gt;\r\n   &lt;soapenv:Body&gt;\r\n      ...\r\n   &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nTaking [this post](https://www.devglan.com/spring-mvc/custom-header-in-spring-soap-request) as guide I wrote this callback:\r\n```\r\n@Component\r\npublic class CrmBinarySecurityTokenHeaderCallback implements WebServiceMessageCallback {\r\n\r\n    @Autowired\r\n    private TokenGenerator tokenGenerator;\r\n\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\r\n        String securityToken = tokenGenerator.getToken();\r\n\r\n        try {\r\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\r\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\r\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\r\n\r\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\r\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\r\n\r\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\r\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\r\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\r\n\r\n            QName valueType = securityTokenSoapElement.createQName(&quot;ValueType&quot;, &quot;wsst&quot;);\r\n            securityTokenSoapElement.addAttribute(valueType, &quot;LTPA&quot;);\r\n\r\n            securityTokenSoapElement.addTextNode(securityToken);\r\n\r\n            soapMessage.saveChanges();\r\n        } catch (SOAPException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nand I&#39;m getting as a result this XML:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;SOAP-ENV:Header&gt;\r\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;&gt;\r\n             generated_token\r\n         &lt;/wsse:BinarySecurityToken&gt;\r\n      &lt;/wsse:Security&gt;\r\n   &lt;/SOAP-ENV:Header&gt;\r\n   &lt;SOAP-ENV:Body&gt;\r\n      ...\r\n&lt;/SOAP-ENV:Envelope&gt;\r\n```\r\n\r\nYou can see it&#39;s almost the same except for `ValueType=&quot;wsst:LTPA&quot;` in `&lt;wsse:BinarySecurityToken&gt;` element. I&#39;ve been trying with some methods in `SOAPElement` API like `#addAttribute()` but wasn&#39;t able to add this `ValueType` attribute.\r\n\r\nAny help and/or clue on how to achieve this, is highly appreciated. Thanks in advance for your answers/comments.","title":"Spring WS add ValueType attribute in SOAP request header","body":"<p>I'm working in a SOAP client application using Spring Web and I need to invoke a external service which requires authentication with Binary Security Token. I have a working example from the service provider team which is like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;soapenv:Header&gt;\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot; ValueType=&quot;wsst:LTPA&quot;&gt;generated_token&lt;/wsse:BinarySecurityToken&gt;\n      &lt;/wsse:Security&gt;\n   &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n      ...\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Taking <a href=\"https://www.devglan.com/spring-mvc/custom-header-in-spring-soap-request\" rel=\"nofollow noreferrer\">this post</a> as guide I wrote this callback:</p>\n<pre><code>@Component\npublic class CrmBinarySecurityTokenHeaderCallback implements WebServiceMessageCallback {\n\n    @Autowired\n    private TokenGenerator tokenGenerator;\n\n    @Override\n    public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\n        String securityToken = tokenGenerator.getToken();\n\n        try {\n            SaajSoapMessage saajSoapMessage = (SaajSoapMessage) webServiceMessage;\n            SOAPMessage soapMessage = saajSoapMessage.getSaajMessage();\n            SOAPPart soapPart = soapMessage.getSOAPPart();\n            SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\n            SOAPHeader soapHeader = soapEnvelope.getHeader();\n\n            Name headerElementName = soapEnvelope.createName(&quot;Security&quot;, &quot;wsse&quot;,\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\n\n            SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(headerElementName);\n            SOAPElement securityTokenSoapElement = soapHeaderElement.addChildElement(&quot;BinarySecurityToken&quot;, &quot;wsse&quot;);\n            securityTokenSoapElement.addNamespaceDeclaration(&quot;wsst&quot;, &quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;);\n\n            QName valueType = securityTokenSoapElement.createQName(&quot;ValueType&quot;, &quot;wsst&quot;);\n            securityTokenSoapElement.addAttribute(valueType, &quot;LTPA&quot;);\n\n            securityTokenSoapElement.addTextNode(securityToken);\n\n            soapMessage.saveChanges();\n        } catch (SOAPException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n<p>and I'm getting as a result this XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;SOAP-ENV:Header&gt;\n      &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n         &lt;wsse:BinarySecurityToken xmlns:wsst=&quot;http://www.ibm.com/websphere/appserver/tokentype/5.0.2&quot;&gt;\n             generated_token\n         &lt;/wsse:BinarySecurityToken&gt;\n      &lt;/wsse:Security&gt;\n   &lt;/SOAP-ENV:Header&gt;\n   &lt;SOAP-ENV:Body&gt;\n      ...\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n<p>You can see it's almost the same except for <code>ValueType=&quot;wsst:LTPA&quot;</code> in <code>&lt;wsse:BinarySecurityToken&gt;</code> element. I've been trying with some methods in <code>SOAPElement</code> API like <code>#addAttribute()</code> but wasn't able to add this <code>ValueType</code> attribute.</p>\n<p>Any help and/or clue on how to achieve this, is highly appreciated. Thanks in advance for your answers/comments.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9772,"page":453,"page_size":100}
