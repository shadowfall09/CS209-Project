{"items":[{"tags":["java","mysql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1685863566,"post_id":76395586,"comment_id":134718366,"body_markdown":"It is distinguishable to you because you know what the &#39;keys&#39; are. MyBatis needs `&lt;id /&gt;` or `&lt;idArg /&gt;` elements to identify objects. See the [doc](https://mybatis.org/mybatis-3/sqlmap-xml.html#result-maps). If you have difficulty, please provide an executable demo project like [these](https://github.com/harawata/mybatis-issues).","body":"It is distinguishable to you because you know what the &#39;keys&#39; are. MyBatis needs <code>&lt;id &#47;&gt;</code> or <code>&lt;idArg &#47;&gt;</code> elements to identify objects. See the <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html#result-maps\" rel=\"nofollow noreferrer\">doc</a>. If you have difficulty, please provide an executable demo project like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a>."},{"owner":{"account_id":18192712,"reputation":79,"user_id":13238303,"display_name":"michal.kyjovsky"},"score":0,"creation_date":1685871154,"post_id":76395586,"comment_id":134719020,"body_markdown":"@ave If I use the &lt;idArg&gt;, it returns six instances instead of two. I need to tell MyBatis that the table object is determined by the schema and table name. Is there any way to combine these two values?","body":"@ave If I use the &lt;idArg&gt;, it returns six instances instead of two. I need to tell MyBatis that the table object is determined by the schema and table name. Is there any way to combine these two values?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1685980254,"post_id":76395586,"comment_id":134733451,"body_markdown":"I wrote a quick [demo](https://github.com/harawata/mybatis-issues/blob/master/so-76395586/) for you. I may not fully understand the design and had to make some guesses. Take a look at the comment I left in the XML mapper and if I&#39;m off base, please copy/modify the project and share it on your GitHub repo.","body":"I wrote a quick <a href=\"https://github.com/harawata/mybatis-issues/blob/master/so-76395586/\" rel=\"nofollow noreferrer\">demo</a> for you. I may not fully understand the design and had to make some guesses. Take a look at the comment I left in the XML mapper and if I&#39;m off base, please copy/modify the project and share it on your GitHub repo."}],"owner":{"account_id":18192712,"reputation":79,"user_id":13238303,"display_name":"michal.kyjovsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685872290,"creation_date":1685787430,"question_id":76395586,"body_markdown":"I am facing difficulty with MyBatis when I try to get the metadata about tables, their columns, and constraints (MySQL database). I have the following query consisting of JOIN of four tables:\r\n\r\n```SQL\r\nSELECT T.TABLE_NAME,\r\n       T.TABLE_SCHEMA,\r\n       T.CREATE_OPTIONS,\r\n       T.TABLE_COMMENT,\r\n       C.COLUMN_NAME,\r\n       C.COLUMN_TYPE,\r\n       C.COLUMN_DEFAULT,\r\n       C.EXTRA,\r\n       C.COLUMN_KEY,\r\n       C.IS_NULLABLE,\r\n       C.NUMERIC_PRECISION,\r\n       C.NUMERIC_SCALE,\r\n       C.ORDINAL_POSITION,\r\n       C.CHARACTER_MAXIMUM_LENGTH,\r\n       TC.CONSTRAINT_NAME,\r\n       TC.CONSTRAINT_TYPE,\r\n       TC.TABLE_SCHEMA,\r\n       TC.TABLE_NAME AS CONSTRAINT_TABLE_NAME,\r\n       TC.CONSTRAINT_SCHEMA,\r\n       KCU.COLUMN_NAME\r\nFROM INFORMATION_SCHEMA.TABLES AS T\r\n         INNER JOIN\r\n     INFORMATION_SCHEMA.COLUMNS AS C\r\n     ON T.TABLE_SCHEMA = C.TABLE_SCHEMA\r\n         AND T.TABLE_NAME = C.TABLE_NAME\r\n         LEFT OUTER JOIN\r\n     INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS TC\r\n     ON TC.TABLE_SCHEMA = T.TABLE_SCHEMA\r\n         AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\r\n         AND TC.CONSTRAINT_SCHEMA = T.TABLE_SCHEMA\r\n         AND TC.CONSTRAINT_SCHEMA = C.TABLE_SCHEMA\r\n         AND TC.TABLE_NAME = C.TABLE_NAME\r\n         AND TC.TABLE_NAME = T.TABLE_NAME\r\n         AND C.TABLE_NAME = T.TABLE_NAME\r\n         INNER JOIN information_schema.KEY_COLUMN_USAGE AS KCU\r\n                    ON KCU.TABLE_SCHEMA = TC.TABLE_SCHEMA\r\n                        AND KCU.TABLE_NAME = TC.TABLE_NAME\r\n                        AND KCU.CONSTRAINT_NAME = TC.CONSTRAINT_NAME\r\n                        AND C.COLUMN_NAME = KCU.COLUMN_NAME\r\nWHERE T.TABLE_TYPE = &#39;BASE TABLE&#39;\r\n  AND T.TABLE_NAME = &#39;order_items&#39;\r\n  AND TC.TABLE_SCHEMA = T.TABLE_SCHEMA\r\n  AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\r\n  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA\r\n  AND C.TABLE_NAME = T.TABLE_NAME\r\n  AND C.TABLE_NAME = TC.TABLE_NAME\r\n  AND TC.TABLE_NAME = T.TABLE_NAME\r\nORDER BY T.TABLE_SCHEMA, C.ORDINAL_POSITION;\r\n```\r\nNow I have a situation where I have two identical tables in two different schemas:\r\n\r\n|#  |TABLE_NAME                   |TABLE_SCHEMA|CREATE_OPTIONS                               |TABLE_COMMENT|COLUMN_NAME   |COLUMN_TYPE|COLUMN_DEFAULT|EXTRA         |COLUMN_KEY|IS_NULLABLE|NUMERIC_PRECISION|NUMERIC_SCALE|ORDINAL_POSITION|CHARACTER_MAXIMUM_LENGTH|CONSTRAINT_NAME   |CONSTRAINT_TYPE|TABLE_SCHEMA                  |CONSTRAINT_TABLE_NAME|CONSTRAINT_SCHEMA             |COLUMN_NAME   |\r\n|---|-----------------------------|------------|---------------------------------------------|-------------|--------------|-----------|--------------|--------------|----------|-----------|-----------------|-------------|----------------|------------------------|------------------|---------------|------------------------------|---------------------|------------------------------|--------------|\r\n|1  |order_items                  |unit_test_database_three|                                             |             |order_item_id3|int        |              |auto_increment|PRI       |NO         |10               |0            |1               |                        |PRIMARY           |PRIMARY KEY    |unit_test_database_three|order_items          |unit_test_database_three|order_item_id3|\r\n|2  |order_items                  |unit_test_database_three|                                             |             |order_id3     |int        |              |              |MUL       |NO         |10               |0            |2               |                        |order_items_ibfk_1|FOREIGN KEY    |unit_test_database_three|order_items          |unit_test_database_three|order_id3     |\r\n|3  |order_items                  |unit_test_database_three|                                             |             |product_id    |int        |              |              |MUL       |NO         |10               |0            |3               |                        |order_items_ibfk_2|FOREIGN KEY    |unit_test_database_three|order_items          |unit_test_database_three|product_id    |\r\n|4  |order_items                  |unit_test_database_two|                                             |             |order_item_id |int        |              |auto_increment|PRI       |NO         |10               |0            |1               |                        |PRIMARY           |PRIMARY KEY    |unit_test_database_two  |order_items          |unit_test_database_two  |order_item_id |\r\n|5  |order_items                  |unit_test_database_two|                                             |             |order_id      |int        |              |              |MUL       |NO         |10               |0            |2               |                        |order_items_ibfk_1|FOREIGN KEY    |unit_test_database_two  |order_items          |unit_test_database_two  |order_id      |\r\n|6  |order_items                  |unit_test_database_two|                                             |             |product_id    |int        |              |              |MUL       |NO         |10               |0            |3               |                        |order_items_ibfk_2|FOREIGN KEY    |unit_test_database_two  |order_items          |unit_test_database_two  |product_id    |\r\n\r\nThe MyBatis result map looks as follows:\r\n\r\n```XML\r\n\r\n&lt;resultMap id=&quot;schemaMap&quot; type=&quot;Schema&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; javaType=&quot;String&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;tableConstraintMap&quot; type=&quot;TableConstraint&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;CONSTRAINT_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n            &lt;arg column=&quot;CONSTRAINT_TYPE&quot;\r\n                 javaType=&quot;TableConstraint$ConstraintTypes&quot;\r\n                 typeHandler=&quot;ConstraintTypesTypeHandler&quot;/&gt;\r\n            &lt;arg column=&quot;CONSTRAINT_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\r\n                 javaType=&quot;Schema&quot;/&gt;\r\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\r\n                 javaType=&quot;Schema&quot;/&gt;\r\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;columnMap&quot; type=&quot;Column&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;COLUMN_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n            &lt;arg column=&quot;COLUMN_TYPE&quot; javaType=&quot;String&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n        &lt;result property=&quot;defaultValue&quot; column=&quot;COLUMN_DEFAULT&quot;/&gt;\r\n        &lt;result property=&quot;extraDetail&quot; column=&quot;EXTRA&quot;/&gt;\r\n        &lt;result property=&quot;key&quot; column=&quot;COLUMN_KEY&quot;/&gt;\r\n        &lt;result property=&quot;nullable&quot; column=&quot;IS_NULLABLE&quot;\r\n                typeHandler=&quot;BooleanTypeHandler&quot;/&gt;\r\n        &lt;result property=&quot;characterMaximumLength&quot; column=&quot;CHARACTER_MAXIMUM_LENGTH&quot;/&gt;\r\n        &lt;result property=&quot;numericPrecision&quot; column=&quot;NUMERIC_PRECISION&quot;/&gt;\r\n        &lt;result property=&quot;numericScale&quot; column=&quot;NUMERIC_SCALE&quot;/&gt;\r\n        &lt;result property=&quot;ordinalPosition&quot; column=&quot;ORDINAL_POSITION&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;tableMap&quot; type=&quot;Table&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n            &lt;arg resultMap=&quot;schemaMap&quot; javaType=&quot;Schema&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n        &lt;result property=&quot;createOptions&quot; column=&quot;CREATE_OPTIONS&quot;/&gt;\r\n        &lt;result property=&quot;comment&quot; column=&quot;TABLE_COMMENT&quot;/&gt;\r\n        &lt;association property=&quot;columns&quot; resultMap=&quot;columnMap&quot;/&gt;\r\n        &lt;association property=&quot;constraints&quot; resultMap=&quot;tableConstraintMap&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n```\r\n\r\nMy problem is that even though I got distinguishable results, MyBatis returns a single Table object that consists of all columns and constraints (based on equals methods) and a single Schema. I need to have two Table objects with the correct Schema, Columns and Constraints associated.\r\n\r\nDoes anyone know where I do have a mistake? If it is in query or results map? Thank you for any hints or help.\r\n\r\n### Update\r\nAs per comments, I tried to use the `idArgs` to the `Table` object&#39;s constructor, but it resulted in the creation of 6 Tables, each having one column. The tables should be created based on the combination of the TABLE_NAME and TABLE_SCHEMA columns.\r\n","title":"MyBatis - Map the records with difference in one column two individual objects","body":"<p>I am facing difficulty with MyBatis when I try to get the metadata about tables, their columns, and constraints (MySQL database). I have the following query consisting of JOIN of four tables:</p>\n<pre><code>SELECT T.TABLE_NAME,\n       T.TABLE_SCHEMA,\n       T.CREATE_OPTIONS,\n       T.TABLE_COMMENT,\n       C.COLUMN_NAME,\n       C.COLUMN_TYPE,\n       C.COLUMN_DEFAULT,\n       C.EXTRA,\n       C.COLUMN_KEY,\n       C.IS_NULLABLE,\n       C.NUMERIC_PRECISION,\n       C.NUMERIC_SCALE,\n       C.ORDINAL_POSITION,\n       C.CHARACTER_MAXIMUM_LENGTH,\n       TC.CONSTRAINT_NAME,\n       TC.CONSTRAINT_TYPE,\n       TC.TABLE_SCHEMA,\n       TC.TABLE_NAME AS CONSTRAINT_TABLE_NAME,\n       TC.CONSTRAINT_SCHEMA,\n       KCU.COLUMN_NAME\nFROM INFORMATION_SCHEMA.TABLES AS T\n         INNER JOIN\n     INFORMATION_SCHEMA.COLUMNS AS C\n     ON T.TABLE_SCHEMA = C.TABLE_SCHEMA\n         AND T.TABLE_NAME = C.TABLE_NAME\n         LEFT OUTER JOIN\n     INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS TC\n     ON TC.TABLE_SCHEMA = T.TABLE_SCHEMA\n         AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\n         AND TC.CONSTRAINT_SCHEMA = T.TABLE_SCHEMA\n         AND TC.CONSTRAINT_SCHEMA = C.TABLE_SCHEMA\n         AND TC.TABLE_NAME = C.TABLE_NAME\n         AND TC.TABLE_NAME = T.TABLE_NAME\n         AND C.TABLE_NAME = T.TABLE_NAME\n         INNER JOIN information_schema.KEY_COLUMN_USAGE AS KCU\n                    ON KCU.TABLE_SCHEMA = TC.TABLE_SCHEMA\n                        AND KCU.TABLE_NAME = TC.TABLE_NAME\n                        AND KCU.CONSTRAINT_NAME = TC.CONSTRAINT_NAME\n                        AND C.COLUMN_NAME = KCU.COLUMN_NAME\nWHERE T.TABLE_TYPE = 'BASE TABLE'\n  AND T.TABLE_NAME = 'order_items'\n  AND TC.TABLE_SCHEMA = T.TABLE_SCHEMA\n  AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\n  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA\n  AND C.TABLE_NAME = T.TABLE_NAME\n  AND C.TABLE_NAME = TC.TABLE_NAME\n  AND TC.TABLE_NAME = T.TABLE_NAME\nORDER BY T.TABLE_SCHEMA, C.ORDINAL_POSITION;\n</code></pre>\n<p>Now I have a situation where I have two identical tables in two different schemas:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>#</th>\n<th>TABLE_NAME</th>\n<th>TABLE_SCHEMA</th>\n<th>CREATE_OPTIONS</th>\n<th>TABLE_COMMENT</th>\n<th>COLUMN_NAME</th>\n<th>COLUMN_TYPE</th>\n<th>COLUMN_DEFAULT</th>\n<th>EXTRA</th>\n<th>COLUMN_KEY</th>\n<th>IS_NULLABLE</th>\n<th>NUMERIC_PRECISION</th>\n<th>NUMERIC_SCALE</th>\n<th>ORDINAL_POSITION</th>\n<th>CHARACTER_MAXIMUM_LENGTH</th>\n<th>CONSTRAINT_NAME</th>\n<th>CONSTRAINT_TYPE</th>\n<th>TABLE_SCHEMA</th>\n<th>CONSTRAINT_TABLE_NAME</th>\n<th>CONSTRAINT_SCHEMA</th>\n<th>COLUMN_NAME</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td></td>\n<td></td>\n<td>order_item_id3</td>\n<td>int</td>\n<td></td>\n<td>auto_increment</td>\n<td>PRI</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>1</td>\n<td></td>\n<td>PRIMARY</td>\n<td>PRIMARY KEY</td>\n<td>unit_test_database_three</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td>order_item_id3</td>\n</tr>\n<tr>\n<td>2</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td></td>\n<td></td>\n<td>order_id3</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>2</td>\n<td></td>\n<td>order_items_ibfk_1</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_three</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td>order_id3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td></td>\n<td></td>\n<td>product_id</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>3</td>\n<td></td>\n<td>order_items_ibfk_2</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_three</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td>product_id</td>\n</tr>\n<tr>\n<td>4</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td></td>\n<td></td>\n<td>order_item_id</td>\n<td>int</td>\n<td></td>\n<td>auto_increment</td>\n<td>PRI</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>1</td>\n<td></td>\n<td>PRIMARY</td>\n<td>PRIMARY KEY</td>\n<td>unit_test_database_two</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td>order_item_id</td>\n</tr>\n<tr>\n<td>5</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td></td>\n<td></td>\n<td>order_id</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>2</td>\n<td></td>\n<td>order_items_ibfk_1</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_two</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td>order_id</td>\n</tr>\n<tr>\n<td>6</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td></td>\n<td></td>\n<td>product_id</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>3</td>\n<td></td>\n<td>order_items_ibfk_2</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_two</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td>product_id</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The MyBatis result map looks as follows:</p>\n<pre><code>\n&lt;resultMap id=&quot;schemaMap&quot; type=&quot;Schema&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; javaType=&quot;String&quot;/&gt;\n        &lt;/constructor&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;tableConstraintMap&quot; type=&quot;TableConstraint&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;CONSTRAINT_NAME&quot; javaType=&quot;String&quot;/&gt;\n            &lt;arg column=&quot;CONSTRAINT_TYPE&quot;\n                 javaType=&quot;TableConstraint$ConstraintTypes&quot;\n                 typeHandler=&quot;ConstraintTypesTypeHandler&quot;/&gt;\n            &lt;arg column=&quot;CONSTRAINT_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\n                 javaType=&quot;Schema&quot;/&gt;\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\n                 javaType=&quot;Schema&quot;/&gt;\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\n        &lt;/constructor&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;columnMap&quot; type=&quot;Column&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;COLUMN_NAME&quot; javaType=&quot;String&quot;/&gt;\n            &lt;arg column=&quot;COLUMN_TYPE&quot; javaType=&quot;String&quot;/&gt;\n        &lt;/constructor&gt;\n        &lt;result property=&quot;defaultValue&quot; column=&quot;COLUMN_DEFAULT&quot;/&gt;\n        &lt;result property=&quot;extraDetail&quot; column=&quot;EXTRA&quot;/&gt;\n        &lt;result property=&quot;key&quot; column=&quot;COLUMN_KEY&quot;/&gt;\n        &lt;result property=&quot;nullable&quot; column=&quot;IS_NULLABLE&quot;\n                typeHandler=&quot;BooleanTypeHandler&quot;/&gt;\n        &lt;result property=&quot;characterMaximumLength&quot; column=&quot;CHARACTER_MAXIMUM_LENGTH&quot;/&gt;\n        &lt;result property=&quot;numericPrecision&quot; column=&quot;NUMERIC_PRECISION&quot;/&gt;\n        &lt;result property=&quot;numericScale&quot; column=&quot;NUMERIC_SCALE&quot;/&gt;\n        &lt;result property=&quot;ordinalPosition&quot; column=&quot;ORDINAL_POSITION&quot;/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;tableMap&quot; type=&quot;Table&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\n            &lt;arg resultMap=&quot;schemaMap&quot; javaType=&quot;Schema&quot;/&gt;\n        &lt;/constructor&gt;\n        &lt;result property=&quot;createOptions&quot; column=&quot;CREATE_OPTIONS&quot;/&gt;\n        &lt;result property=&quot;comment&quot; column=&quot;TABLE_COMMENT&quot;/&gt;\n        &lt;association property=&quot;columns&quot; resultMap=&quot;columnMap&quot;/&gt;\n        &lt;association property=&quot;constraints&quot; resultMap=&quot;tableConstraintMap&quot;/&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n<p>My problem is that even though I got distinguishable results, MyBatis returns a single Table object that consists of all columns and constraints (based on equals methods) and a single Schema. I need to have two Table objects with the correct Schema, Columns and Constraints associated.</p>\n<p>Does anyone know where I do have a mistake? If it is in query or results map? Thank you for any hints or help.</p>\n<h3>Update</h3>\n<p>As per comments, I tried to use the <code>idArgs</code> to the <code>Table</code> object's constructor, but it resulted in the creation of 6 Tables, each having one column. The tables should be created based on the combination of the TABLE_NAME and TABLE_SCHEMA columns.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":1,"creation_date":1685865821,"post_id":76399430,"comment_id":134718564,"body_markdown":"What do you mean about *doesn&#39;t work*? Add a string as an example and the expected output.","body":"What do you mean about <i>doesn&#39;t work</i>? Add a string as an example and the expected output."},{"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"score":0,"creation_date":1685869600,"post_id":76399430,"comment_id":134718887,"body_markdown":"I know that it doesn&#39;t make sense, that&#39;s why I asked here. I found a way to fix it , but still not sure why it worked partially at all.","body":"I know that it doesn&#39;t make sense, that&#39;s why I asked here. I found a way to fix it , but still not sure why it worked partially at all."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685870566,"post_id":76399430,"comment_id":134718962,"body_markdown":"Context is everything. `String#split(String regex)` splits based on a regex.","body":"Context is everything. <code>String#split(String regex)</code> splits based on a regex."},{"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"score":0,"creation_date":1685870926,"post_id":76399430,"comment_id":134718995,"body_markdown":"But isn&#39;t it odd that using regex &quot;\\t&quot; and &quot;\\\\t&quot; have the same result?","body":"But isn&#39;t it odd that using regex &quot;\\t&quot; and &quot;\\\\t&quot; have the same result?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685872230,"post_id":76399430,"comment_id":134719121,"body_markdown":"@Craio not really; regular expressions match their content literally, unless the character is a meta character. A tab will be matched literally, while `\\t` is a meta &quot;character&quot; which also matches a tab.","body":"@Craio not really; regular expressions match their content literally, unless the character is a meta character. A tab will be matched literally, while <code>\\t</code> is a meta &quot;character&quot; which also matches a tab."},{"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"score":0,"creation_date":1685872892,"post_id":76399430,"comment_id":134719179,"body_markdown":"@knittl Ok, so as regex those two are the same, but for the join they aren&#39;t.","body":"@knittl Ok, so as regex those two are the same, but for the join they aren&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685872123,"creation_date":1685871033,"answer_id":76399722,"question_id":76399430,"body_markdown":"Context is everything.\r\n\r\n* `&quot;\\t&quot;` is a String with a single tab &lt;kbd&gt;⇥&lt;/kbd&gt; character\r\n* `&quot;\\\\t&quot;` is a String with a backslash character and a lower case &#39;t&#39; character\r\n* `&quot;\\t&quot;` is a regular expression which contains the literal tab character, which matches tab characters in the input\r\n* `&quot;\\\\t&quot;` is a regular expression which contains the meta character `\\t`, which matches tab characters in the input\r\n* `&quot;\\\\\\\\t&quot;` is a string containing 2 backslashes and lower case &#39;t&#39; character. You can get it by executing `Pattern.quote(&quot;\\\\t&quot;)`.\r\n* `&quot;\\\\\\\\t&quot;` is a regular expression which contains an escaped backslash and a lower case &#39;t&#39; (`\\\\t`), which matches a backslash followed by a lower case &#39;t&#39;.\r\n\r\nThe important thing to note is that [`String#split(String)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) splits based on a _regex_:\r\n\r\n&gt; Splits this string around matches of the given [regular expression](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum).\r\n\r\n```\r\nvar input =&quot;a\\tb\\tc&quot;; // an &#39;a&#39;, a tab, a &#39;b&#39;, a tab, a &#39;c&#39;\r\nvar deli = &quot;\\\\t&quot;; // a backslash and a &#39;t&#39;\r\nString[] split = input.split(deli); // splits on the regex `\\t`\r\nvar join = String.join(deli,split); // joins with backslash and t\r\n// the value of join is now &quot;a\\\\tb\\\\tc&quot; (an &#39;a&#39;, a backslash, a &#39;t&#39;, a &#39;b&#39;, a backslash, a &#39;t&#39;, a &#39;c&#39;\r\nvar split2 = join.split(deli); // the string does not contain any tabs anymore, so the regex matching tabs cannot split\r\n```\r\n\r\nYou should be able to easily see the difference if you output the value of the variable `join` and `input` and comparing them.","title":"Java String.join and tabs","body":"<p>Context is everything.</p>\n<ul>\n<li><code>&quot;\\t&quot;</code> is a String with a single tab <kbd>⇥</kbd> character</li>\n<li><code>&quot;\\\\t&quot;</code> is a String with a backslash character and a lower case 't' character</li>\n<li><code>&quot;\\t&quot;</code> is a regular expression which contains the literal tab character, which matches tab characters in the input</li>\n<li><code>&quot;\\\\t&quot;</code> is a regular expression which contains the meta character <code>\\t</code>, which matches tab characters in the input</li>\n<li><code>&quot;\\\\\\\\t&quot;</code> is a string containing 2 backslashes and lower case 't' character. You can get it by executing <code>Pattern.quote(&quot;\\\\t&quot;)</code>.</li>\n<li><code>&quot;\\\\\\\\t&quot;</code> is a regular expression which contains an escaped backslash and a lower case 't' (<code>\\\\t</code>), which matches a backslash followed by a lower case 't'.</li>\n</ul>\n<p>The important thing to note is that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String#split(String)</code></a> splits based on a <em>regex</em>:</p>\n<blockquote>\n<p>Splits this string around matches of the given <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow noreferrer\">regular expression</a>.</p>\n</blockquote>\n<pre><code>var input =&quot;a\\tb\\tc&quot;; // an 'a', a tab, a 'b', a tab, a 'c'\nvar deli = &quot;\\\\t&quot;; // a backslash and a 't'\nString[] split = input.split(deli); // splits on the regex `\\t`\nvar join = String.join(deli,split); // joins with backslash and t\n// the value of join is now &quot;a\\\\tb\\\\tc&quot; (an 'a', a backslash, a 't', a 'b', a backslash, a 't', a 'c'\nvar split2 = join.split(deli); // the string does not contain any tabs anymore, so the regex matching tabs cannot split\n</code></pre>\n<p>You should be able to easily see the difference if you output the value of the variable <code>join</code> and <code>input</code> and comparing them.</p>\n"}],"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76399722,"answer_count":1,"score":1,"last_activity_date":1685872123,"creation_date":1685865325,"question_id":76399430,"body_markdown":"I&#39;m trying to split a string using a delimiter, do operations on the elements than join together again using the same delimiter.\r\n\r\n    String[] split = input.split(deli); // split on the string\r\n    // Do stuff with split\r\n    return String.join(delimiter,split); // join with the same string\r\n\r\nThis works fine, unless the used deli is &#39;\\t&#39; (tab) (and probably other similar ones).  \r\nBecause String.join refers to the delimiter as a &#39;charsequence&#39; might this be the cause?\r\n\r\nFor example:\r\n\r\n     var deli=&quot;\\t&quot;;\r\n     var split = data.split(deli); // splits properly\r\n     var join = String.join(deli,split); // joins with sequence instead of char \r\n     var it = join.split(deli); // doesn&#39;t work\r\n\r\nIs this normal? If so, how can I best work around it?  \r\nFor now i&#39;m doing this.\r\n```\r\nvar deli=&quot;\\t&quot;;\r\nvar split = data.split(deli); // splits properly\r\nif( deli.equalsIgnoreCase(&quot;\\\\t&quot;)) \r\n     return String.join(String.valueOf((char)9),items);\r\nreturn String.join(deli,items);\r\n````\r\n\r\nDelimiter is read from a xml file attribute and that was read as &quot;\\\\\\t&quot; and not &quot;\\t&quot; (in ide debug it showed as \\t). Which is to be expected but because the split always worked, never thought anything of it. \r\n\r\n````\r\n// First split works, second doesn&#39;t\r\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\r\n    var deli = &quot;\\\\t&quot;;\r\n    String[] split = input.split(deli); // splits properly\r\n    var join = String.join(deli,split);\r\n    var split2 = join.split(deli); // doesn&#39;t split\r\n\r\n// Both splits work\r\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\r\n    var deli = &quot;\\t&quot;;\r\n    String[] split = input.split(deli);\r\n    var join = String.join(deli,split);\r\n    var split2 = join.split(deli); // splits properly\r\n````\r\nSo solution to my issue is properly converting \\t attribute to a &#39;tab&#39;.\r\n\r\nBut why does the first split work but not the second one? You&#39;d expect to fail on the first split.","title":"Java String.join and tabs","body":"<p>I'm trying to split a string using a delimiter, do operations on the elements than join together again using the same delimiter.</p>\n<pre><code>String[] split = input.split(deli); // split on the string\n// Do stuff with split\nreturn String.join(delimiter,split); // join with the same string\n</code></pre>\n<p>This works fine, unless the used deli is '\\t' (tab) (and probably other similar ones).<br />\nBecause String.join refers to the delimiter as a 'charsequence' might this be the cause?</p>\n<p>For example:</p>\n<pre><code> var deli=&quot;\\t&quot;;\n var split = data.split(deli); // splits properly\n var join = String.join(deli,split); // joins with sequence instead of char \n var it = join.split(deli); // doesn't work\n</code></pre>\n<p>Is this normal? If so, how can I best work around it?<br />\nFor now i'm doing this.</p>\n<pre><code>var deli=&quot;\\t&quot;;\nvar split = data.split(deli); // splits properly\nif( deli.equalsIgnoreCase(&quot;\\\\t&quot;)) \n     return String.join(String.valueOf((char)9),items);\nreturn String.join(deli,items);\n</code></pre>\n<p>Delimiter is read from a xml file attribute and that was read as &quot;\\\\t&quot; and not &quot;\\t&quot; (in ide debug it showed as \\t). Which is to be expected but because the split always worked, never thought anything of it.</p>\n<pre><code>// First split works, second doesn't\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\n    var deli = &quot;\\\\t&quot;;\n    String[] split = input.split(deli); // splits properly\n    var join = String.join(deli,split);\n    var split2 = join.split(deli); // doesn't split\n\n// Both splits work\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\n    var deli = &quot;\\t&quot;;\n    String[] split = input.split(deli);\n    var join = String.join(deli,split);\n    var split2 = join.split(deli); // splits properly\n</code></pre>\n<p>So solution to my issue is properly converting \\t attribute to a 'tab'.</p>\n<p>But why does the first split work but not the second one? You'd expect to fail on the first split.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685874605,"post_id":76390360,"comment_id":134719315,"body_markdown":"replace comma `,` with semicolon `;`! (between (Excel!)function arguments:) (`&quot;\\&quot;,\\&quot;Click` to `&quot;\\&quot;;\\&quot;Click`)","body":"replace comma <code>,</code> with semicolon <code>;</code>! (between (Excel!)function arguments:) (<code>&quot;\\&quot;,\\&quot;Click</code> to <code>&quot;\\&quot;;\\&quot;Click</code>)"}],"owner":{"account_id":28526149,"reputation":1,"user_id":21834191,"display_name":"Calvin NewGate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685871742,"creation_date":1685710647,"question_id":76390360,"body_markdown":"I am trying to implement a String value which will set the hyperlink text in Excel.  \r\nThis string is been implemented using the URL which is been fetched from DB and trying to populate in a string.  \r\nBut when I am printing the values in Excel it is printing  \r\n`=HYPERLINK(&quot;https://aphit-apo-prd-images.s3-ap-southeast-1.amazonaws.com/signatures/7121031286405333_161143194_signature_IKnC2PrFajWg05zcOqtPYWBojiB0kq9Wm10S_%2Boh2jbnxTinCHoovg2azHwmq6yL.jpg?20230314060753&quot;,&quot;Click to view signature&quot;)`  \r\nrather than showing only link like -&gt; [Click to view signature](https://stackoverflow.com)\r\n\r\nIt is showing only text you can check scenarios image for reference.\r\n\r\nI tried implementing -&gt;\r\n\r\n```\r\n if(StringUtils.isNotBlank(stringVal)) {\r\n                        \tstringVal = &quot;=HYPERLINK(&quot; + &quot;\\&quot;&quot; + stringVal + &quot;\\&quot;,\\&quot;Click to view signature\\&quot;)&quot;;\r\n                            columnValueLst.add(stringVal);\r\n                        }\r\n```\r\nBut the when I am viewing in Excel it is showing like the below Image\r\n\r\n[Current Scenario](https://i.stack.imgur.com/vloEE.png)\r\n\r\n[Expected Scenario](https://i.stack.imgur.com/ET4CI.png)\r\n","title":"How to add HyperLink without using anchor tag and hyperLink class In Java to set in Excel?","body":"<p>I am trying to implement a String value which will set the hyperlink text in Excel.<br />\nThis string is been implemented using the URL which is been fetched from DB and trying to populate in a string.<br />\nBut when I am printing the values in Excel it is printing<br />\n<code>=HYPERLINK(&quot;https://aphit-apo-prd-images.s3-ap-southeast-1.amazonaws.com/signatures/7121031286405333_161143194_signature_IKnC2PrFajWg05zcOqtPYWBojiB0kq9Wm10S_%2Boh2jbnxTinCHoovg2azHwmq6yL.jpg?20230314060753&quot;,&quot;Click to view signature&quot;)</code><br />\nrather than showing only link like -&gt; <a href=\"https://stackoverflow.com\">Click to view signature</a></p>\n<p>It is showing only text you can check scenarios image for reference.</p>\n<p>I tried implementing -&gt;</p>\n<pre><code> if(StringUtils.isNotBlank(stringVal)) {\n                            stringVal = &quot;=HYPERLINK(&quot; + &quot;\\&quot;&quot; + stringVal + &quot;\\&quot;,\\&quot;Click to view signature\\&quot;)&quot;;\n                            columnValueLst.add(stringVal);\n                        }\n</code></pre>\n<p>But the when I am viewing in Excel it is showing like the below Image</p>\n<p><a href=\"https://i.stack.imgur.com/vloEE.png\" rel=\"nofollow noreferrer\">Current Scenario</a></p>\n<p><a href=\"https://i.stack.imgur.com/ET4CI.png\" rel=\"nofollow noreferrer\">Expected Scenario</a></p>\n"},{"tags":["java","maven","apache-commons-collection"],"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1452237496,"post_id":34671338,"comment_id":57088160,"body_markdown":"so you wish to change your dependency version from **3.2.1** to either **3.2.2** or **4.1** ? post your dependency snippet to question.","body":"so you wish to change your dependency version from <b>3.2.1</b> to either <b>3.2.2</b> or <b>4.1</b> ? post your dependency snippet to question."},{"owner":{"account_id":2109047,"reputation":490,"user_id":1874690,"accept_rate":100,"display_name":"hotohoto"},"score":0,"creation_date":1452238180,"post_id":34671338,"comment_id":57088442,"body_markdown":"You get it, dear Sabir Khan.","body":"You get it, dear Sabir Khan."}],"answers":[{"tags":[],"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685869763,"creation_date":1452238060,"answer_id":34671594,"question_id":34671338,"body_markdown":"Unless I am missing something obvious, just specifying dependency in your POM ought to be sufficient:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;\r\n\r\nIf you specify it a the **top** of your `&lt;dependencies&gt;` section, it will override any other transitive inclusion of `commons-collections`. \r\n\r\nOf course, you may wind up with incompatibilities where other dependencies depend on the other version, but that&#39;s what unit tests are for, right? ;-)\r\n","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>Unless I am missing something obvious, just specifying dependency in your POM ought to be sufficient:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;version&gt;3.2.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n<p>If you specify it a the <strong>top</strong> of your <code>&lt;dependencies&gt;</code> section, it will override any other transitive inclusion of <code>commons-collections</code>.</p>\n<p>Of course, you may wind up with incompatibilities where other dependencies depend on the other version, but that's what unit tests are for, right? ;-)</p>\n"},{"tags":[],"owner":{"account_id":23845,"reputation":4116,"user_id":60127,"display_name":"rudolfson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452238204,"creation_date":1452238204,"answer_id":34671630,"question_id":34671338,"body_markdown":"What you need to do is exclude `commons-collections` from the affected dependencies and include the desired version in your dependencies directly.\r\n\r\nExample `pom.xml` excerpt assuming `commons-configuration` uses the vulnerable `commons-collections`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nFor simplicity I didn&#39;t show configuring this in a root `pom.xml` in the `dependency-management` section.\r\n\r\nThe `&lt;scope&gt;` should be set to `runtime` since you mentioned not using the library directly.","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>What you need to do is exclude <code>commons-collections</code> from the affected dependencies and include the desired version in your dependencies directly.</p>\n\n<p>Example <code>pom.xml</code> excerpt assuming <code>commons-configuration</code> uses the vulnerable <code>commons-collections</code></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n        &lt;version&gt;1.10&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n                &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>For simplicity I didn't show configuring this in a root <code>pom.xml</code> in the <code>dependency-management</code> section.</p>\n\n<p>The <code>&lt;scope&gt;</code> should be set to <code>runtime</code> since you mentioned not using the library directly.</p>\n"},{"tags":[],"owner":{"account_id":7856503,"reputation":1,"user_id":5938161,"display_name":"sophie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455687915,"creation_date":1455677296,"answer_id":35446959,"question_id":34671338,"body_markdown":"I&#39;ve added these lines in my `pom.xml`, but still commons-`collections3.2` is getting downloaded..\r\n\r\n   \r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;${apachecommonslang.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n        &lt;version&gt;${dbcp.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;/dependency&gt; ","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>I've added these lines in my <code>pom.xml</code>, but still commons-<code>collections3.2</code> is getting downloaded..</p>\n\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;${apachecommonslang.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;${dbcp.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":2109047,"reputation":490,"user_id":1874690,"accept_rate":100,"display_name":"hotohoto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34671594,"answer_count":3,"score":2,"last_activity_date":1685869763,"creation_date":1452237004,"question_id":34671338,"body_markdown":"My Java app project is being managed by Maven.\r\n\r\nMy project has a few library dependencies depending again on `Apache commons collection 3.2.1` which is vulnerable - e.g. Apache commons configuration, velocity, etc.\r\n\r\n(I can see it is being used by running `mvn dependency:tree` command.)\r\n\r\nI did neither write any line of codes using Apache commons collection directly nor defined the dependency of it, but it&#39;s being used.\r\n\r\nWhat could I do to remove its dependency and to force to use **safe version - 3.2.2, 4.1.**\r\n\r\nFor your information:\r\n[JIRA Bug - Arbitrary remote code execution with InvokerTransformer](https://issues.apache.org/jira/browse/COLLECTIONS-580)\r\n\r\nHere is the part of my pom.xml, and I guess there&#39;s nothing remarkable.\r\n\r\n\t...\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t...\r\n\r\n\r\n","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>My Java app project is being managed by Maven.</p>\n\n<p>My project has a few library dependencies depending again on <code>Apache commons collection 3.2.1</code> which is vulnerable - e.g. Apache commons configuration, velocity, etc.</p>\n\n<p>(I can see it is being used by running <code>mvn dependency:tree</code> command.)</p>\n\n<p>I did neither write any line of codes using Apache commons collection directly nor defined the dependency of it, but it's being used.</p>\n\n<p>What could I do to remove its dependency and to force to use <strong>safe version - 3.2.2, 4.1.</strong></p>\n\n<p>For your information:\n<a href=\"https://issues.apache.org/jira/browse/COLLECTIONS-580\" rel=\"nofollow\">JIRA Bug - Arbitrary remote code execution with InvokerTransformer</a></p>\n\n<p>Here is the part of my pom.xml, and I guess there's nothing remarkable.</p>\n\n<pre><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n    &lt;version&gt;1.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n    &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":265101,"reputation":8176,"user_id":551841,"accept_rate":100,"display_name":"AlanFoster"},"score":0,"creation_date":1325496702,"post_id":8699195,"comment_id":10822682,"body_markdown":"Post the source for FoodItems","body":"Post the source for FoodItems"}],"answers":[{"tags":[],"owner":{"account_id":364968,"reputation":45753,"user_id":709635,"accept_rate":91,"display_name":"plus-"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1325497445,"creation_date":1325496742,"answer_id":8699243,"question_id":8699195,"body_markdown":" - the object which implements `Comparable` is `Fegan`.\r\n\r\nThe method `compareTo` you are overidding in it should have a `Fegan` object as a parameter whereas you are casting it to a `FoodItems`. Your `compareTo` implementation should describe how a `Fegan` compare to another `Fegan`.\r\n\r\n - To actually do your sorting, you might want to make your `FoodItems` implement `Comparable` aswell and copy paste your actual `compareTo` logic in it.","title":"cannot be cast to java.lang.Comparable","body":"<ul>\n<li>the object which implements <code>Comparable</code> is <code>Fegan</code>.</li>\n</ul>\n\n<p>The method <code>compareTo</code> you are overidding in it should have a <code>Fegan</code> object as a parameter whereas you are casting it to a <code>FoodItems</code>. Your <code>compareTo</code> implementation should describe how a <code>Fegan</code> compare to another <code>Fegan</code>.</p>\n\n<ul>\n<li>To actually do your sorting, you might want to make your <code>FoodItems</code> implement <code>Comparable</code> aswell and copy paste your actual <code>compareTo</code> logic in it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10597096,"reputation":384,"user_id":7805375,"display_name":"Rohan Sharma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685868940,"creation_date":1570427420,"answer_id":58264099,"question_id":8699195,"body_markdown":"I faced a similar kind of issue while using a custom object as a key in Treemap.\r\nWhenever you are using a custom object as a key in hashmap then you override two function equals and hashcode, However if you are using ContainsKey method of Treemap on this object then you need to override CompareTo method as well otherwise you will be getting this error\r\nSomeone using a custom object as a key in hashmap in kotlin should do like following \r\n```kotlin\r\ndata class CustomObjectKey(var key1:String = &quot;&quot; , var key2:String =&quot;&quot;): Comparable&lt;CustomObjectKey?&gt; {\r\n    override fun compareTo(other: CustomObjectKey?): Int {\r\n        if(other == null)\r\n            return -1\r\n       // suppose you want to do comparison based on key 1 \r\n        return this.key1.compareTo((other)key1)\r\n    }\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if(other == null)\r\n            return false\r\n        return this.key1 == (other as CustomObjectKey).key1\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return this.key1.hashCode()\r\n    } \r\n}\r\n```","title":"cannot be cast to java.lang.Comparable","body":"<p>I faced a similar kind of issue while using a custom object as a key in Treemap.\nWhenever you are using a custom object as a key in hashmap then you override two function equals and hashcode, However if you are using ContainsKey method of Treemap on this object then you need to override CompareTo method as well otherwise you will be getting this error\nSomeone using a custom object as a key in hashmap in kotlin should do like following</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class CustomObjectKey(var key1:String = &quot;&quot; , var key2:String =&quot;&quot;): Comparable&lt;CustomObjectKey?&gt; {\n    override fun compareTo(other: CustomObjectKey?): Int {\n        if(other == null)\n            return -1\n       // suppose you want to do comparison based on key 1 \n        return this.key1.compareTo((other)key1)\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if(other == null)\n            return false\n        return this.key1 == (other as CustomObjectKey).key1\n    }\n\n    override fun hashCode(): Int {\n        return this.key1.hashCode()\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":1122623,"reputation":413,"user_id":1110626,"display_name":"who must not be named"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131163,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":8699243,"answer_count":2,"score":38,"last_activity_date":1685868940,"creation_date":1325496479,"question_id":8699195,"body_markdown":"    import java.util.HashMap;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Fegan implements Comparable{\r\n\tHashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\r\n\tList list = new ArrayList&lt;FoodItems&gt;();\r\n\tint x =0;\r\n\tpublic void addToCart(FoodItems f)\r\n\t{\r\n\t\tcart.put(f.name, f.valueOfFood);\r\n\t}\r\n\tpublic String display(FoodItems f)\r\n\t{\r\n\t\treturn(f.name + &quot; costs &quot; + f.valueOfFood);\r\n\t}\r\n\tpublic void addToList(FoodItems f)\r\n\t{\r\n\t\t//FoodItems temp = (FoodItems) f;\r\n\t\tlist.add(f);\r\n\t}\r\n\tpublic int compareTo(Object o)\r\n\t{\r\n\t\t//FoodItems temp = (FoodItems) o;\r\n\t\tif(this.x == ((FoodItems)o).valueOfFood)\r\n\t\t\treturn 0;\r\n\t\telse if (this.x &lt;((FoodItems)o).valueOfFood)\r\n\t\t\treturn 1;\r\n\t\telse \r\n\t\t\treturn -1;\r\n\t}\r\n\tpublic void sortMap(List list)\r\n\t{\r\n\t\tfor(int i =0; i&lt; list.size(); i++)\r\n\t\t{\r\n\t\t\tFoodItems temp = (FoodItems) list.get(i);\r\n\t\t\tcart.put(temp.name, temp.valueOfItem);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\n-----------------\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Test {\r\n\tpublic static void main(String [] args)\r\n\t{\r\n\t\tHashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\r\n\t\tFoodItems firts = new FoodItems(&quot;Chocolate&quot; , 50);\r\n\t\tFoodItems second = new FoodItems(&quot;Juice&quot;, 79);\r\n\t\tFoodItems third = new FoodItems(&quot;Apple&quot;, 200);\r\n\t\tFoodItems forth = new FoodItems(&quot;Orange&quot;, 300);\r\n\t\tFoodItems fifth = new FoodItems(&quot;Milk&quot; , 400);\r\n\t\tArrayList items = new ArrayList();\r\n\t\titems.add(firts);\r\n\t\titems.add(second);\r\n\t\titems.add(third);\r\n\t\titems.add(forth);\r\n\t\titems.add(fifth);\r\n\t\tCollections.sort(items);\r\n        Iterator itr = items.iterator();\r\n        Fegan myFegan = new Fegan();\r\n        myFegan.sortMap(items);\r\n\r\n        while(itr.hasNext()){\r\n            Object element = itr.next();\r\n            System.out.println(element + &quot;\\n&quot;);\r\n        }\r\n\t}\r\n    }\r\n\r\nWhy it is writing:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: FoodItems cannot be cast to java.lang.Comparable\r\n\tat java.util.ComparableTimSort.countRunAndMakeAscending(Unknown Source)\r\n\tat java.util.ComparableTimSort.sort(Unknown Source)\r\n\tat java.util.ComparableTimSort.sort(Unknown Source)\r\n\tat java.util.Arrays.sort(Unknown Source)\r\n\tat java.util.Collections.sort(Unknown Source)\r\n\tat Test.main(Test.java:21)","title":"cannot be cast to java.lang.Comparable","body":"<pre><code>import java.util.HashMap;\nimport java.io.*;\nimport java.util.*;\npublic class Fegan implements Comparable{\nHashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\nList list = new ArrayList&lt;FoodItems&gt;();\nint x =0;\npublic void addToCart(FoodItems f)\n{\n    cart.put(f.name, f.valueOfFood);\n}\npublic String display(FoodItems f)\n{\n    return(f.name + \" costs \" + f.valueOfFood);\n}\npublic void addToList(FoodItems f)\n{\n    //FoodItems temp = (FoodItems) f;\n    list.add(f);\n}\npublic int compareTo(Object o)\n{\n    //FoodItems temp = (FoodItems) o;\n    if(this.x == ((FoodItems)o).valueOfFood)\n        return 0;\n    else if (this.x &lt;((FoodItems)o).valueOfFood)\n        return 1;\n    else \n        return -1;\n}\npublic void sortMap(List list)\n{\n    for(int i =0; i&lt; list.size(); i++)\n    {\n        FoodItems temp = (FoodItems) list.get(i);\n        cart.put(temp.name, temp.valueOfItem);\n\n    }\n}\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.io.*;\nimport java.util.*;\npublic class Test {\npublic static void main(String [] args)\n{\n    HashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\n    FoodItems firts = new FoodItems(\"Chocolate\" , 50);\n    FoodItems second = new FoodItems(\"Juice\", 79);\n    FoodItems third = new FoodItems(\"Apple\", 200);\n    FoodItems forth = new FoodItems(\"Orange\", 300);\n    FoodItems fifth = new FoodItems(\"Milk\" , 400);\n    ArrayList items = new ArrayList();\n    items.add(firts);\n    items.add(second);\n    items.add(third);\n    items.add(forth);\n    items.add(fifth);\n    Collections.sort(items);\n    Iterator itr = items.iterator();\n    Fegan myFegan = new Fegan();\n    myFegan.sortMap(items);\n\n    while(itr.hasNext()){\n        Object element = itr.next();\n        System.out.println(element + \"\\n\");\n    }\n}\n}\n</code></pre>\n\n<p>Why it is writing:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: FoodItems cannot be cast to java.lang.Comparable\nat java.util.ComparableTimSort.countRunAndMakeAscending(Unknown Source)\nat java.util.ComparableTimSort.sort(Unknown Source)\nat java.util.ComparableTimSort.sort(Unknown Source)\nat java.util.Arrays.sort(Unknown Source)\nat java.util.Collections.sort(Unknown Source)\nat Test.main(Test.java:21)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":3,"creation_date":1685868293,"post_id":76399519,"comment_id":134718770,"body_markdown":"Parsing the file is in no way related on how you select the file to parse, so it is not a problem with JavaFX. It is just a matter of the contents of that file and the desired target format after parsing it. Therefore it would help a lot if you would specify both in detail.","body":"Parsing the file is in no way related on how you select the file to parse, so it is not a problem with JavaFX. It is just a matter of the contents of that file and the desired target format after parsing it. Therefore it would help a lot if you would specify both in detail."},{"owner":{"account_id":28748226,"reputation":3,"user_id":22016854,"display_name":"Alex Dipayen"},"score":0,"creation_date":1685868651,"post_id":76399519,"comment_id":134718800,"body_markdown":"I have two questions. How should I write information to a file (serialize a class or just write its data to a file)? And the second question: how do I just select a file through FileChooser and get data from it?","body":"I have two questions. How should I write information to a file (serialize a class or just write its data to a file)? And the second question: how do I just select a file through FileChooser and get data from it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1685868732,"post_id":76399519,"comment_id":134718806,"body_markdown":"You just repeated the question (*after* failing to supply info you were asked for). Question likely to be closed","body":"You just repeated the question (<i>after</i> failing to supply info you were asked for). Question likely to be closed"},{"owner":{"account_id":28748226,"reputation":3,"user_id":22016854,"display_name":"Alex Dipayen"},"score":0,"creation_date":1685871275,"post_id":76399519,"comment_id":134719028,"body_markdown":"I repeat once again that the meaning of the question is precisely in the analysis. And I don&#39;t understand how FileChooser works at all. How do I select a text or serialized file via FileChooser and get the text from that file","body":"I repeat once again that the meaning of the question is precisely in the analysis. And I don&#39;t understand how FileChooser works at all. How do I select a text or serialized file via FileChooser and get the text from that file"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1685873594,"post_id":76399519,"comment_id":134719243,"body_markdown":"I voted to close because scope is way too wide. I suggest you spend time looking at each stage of your problem: look at samples for using FileChooser, java.nio.file.Files class for file handling, and then come back to registering your JavaFX button action handler which links up all of those. There are many tutorials and SO questions on each topic.","body":"I voted to close because scope is way too wide. I suggest you spend time looking at each stage of your problem: look at samples for using FileChooser, java.nio.file.Files class for file handling, and then come back to registering your JavaFX button action handler which links up all of those. There are many tutorials and SO questions on each topic."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1685874898,"post_id":76399519,"comment_id":134719348,"body_markdown":"Not understanding how `FileChooser` works at all: try a tutorial or two. They will help you a lot better than a Stack Overflow question.","body":"Not understanding how <code>FileChooser</code> works at all: try a tutorial or two. They will help you a lot better than a Stack Overflow question."}],"owner":{"account_id":28748226,"reputation":3,"user_id":22016854,"display_name":"Alex Dipayen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685868158,"creation_date":1685866987,"question_id":76399519,"body_markdown":"I have a JavaFX application that has a &quot;load text&quot; button. When you click this button, you need to select a file and load information from it by class (its fields)\r\n\r\n1) How to make such logic? Which file should I choose (serialized or write data of an arbitrary class just to a file without serialization)?\r\n\r\n2) How to parse these values? That is, there are 3 test fields in the class and how can I get these values ​​of my arbitrary class when I click on the &quot;load message&quot; button\r\n\r\nButton FXML:\r\n\r\n```XML\r\n&lt;Button fx:id=&quot;buttonLoadMessage&quot;\r\n        layoutX=&quot;261.0&quot;\r\n        layoutY=&quot;66.0&quot;\r\n        mnemonicParsing=&quot;false&quot;\r\n        prefHeight=&quot;25.0&quot;\r\n        prefWidth=&quot;169.0&quot;\r\n        text=&quot;load message&quot;&gt;\r\n                       \r\n```\r\n\r\nthe button does not have onaction since I did not create a method for this logic, because I do not understand how to\r\n","title":"How to parse values from a file that I select through the FileChooser class?","body":"<p>I have a JavaFX application that has a &quot;load text&quot; button. When you click this button, you need to select a file and load information from it by class (its fields)</p>\n<ol>\n<li><p>How to make such logic? Which file should I choose (serialized or write data of an arbitrary class just to a file without serialization)?</p>\n</li>\n<li><p>How to parse these values? That is, there are 3 test fields in the class and how can I get these values ​​of my arbitrary class when I click on the &quot;load message&quot; button</p>\n</li>\n</ol>\n<p>Button FXML:</p>\n<pre><code>&lt;Button fx:id=&quot;buttonLoadMessage&quot;\n        layoutX=&quot;261.0&quot;\n        layoutY=&quot;66.0&quot;\n        mnemonicParsing=&quot;false&quot;\n        prefHeight=&quot;25.0&quot;\n        prefWidth=&quot;169.0&quot;\n        text=&quot;load message&quot;&gt;\n                       \n</code></pre>\n<p>the button does not have onaction since I did not create a method for this logic, because I do not understand how to</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"owner":{"account_id":28743260,"reputation":1,"user_id":22012960,"display_name":"TravisB97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685867458,"creation_date":1685791103,"question_id":76395805,"body_markdown":"Please help with my code. I started my very first test automation framework using Java, Maven, Selenium and Intellij and followed this guide - https://devqa.io/develop-test-automation-framework-scratch/ . If you go through the guide and at the end of part 2 it says a Chrome window should pop up when i run my code. I am having some issues and was hoping someone could go through it and tell me where I&#39;m going wrong. Thanks in advance!\r\n\r\n[Two of my dependencies are highlighted as weak warnings][1]\r\n\r\n\r\n\r\nTried to run code after completing framework. Hoped a chrome window would pop up upon completion but running into some issues.\r\n[Here is what messages I get when i run this class][2]\r\n\r\nHere&#39;s a GitHub link to my project - https://github.com/TravisB97/TravisTAF/commit/ce1b906bc43ea6faa0f23ac891bc8a82492be667\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aZeDN.png\r\n  [2]: https://i.stack.imgur.com/moLLp.png","title":"First test automation framework attempt","body":"<p>Please help with my code. I started my very first test automation framework using Java, Maven, Selenium and Intellij and followed this guide - <a href=\"https://devqa.io/develop-test-automation-framework-scratch/\" rel=\"nofollow noreferrer\">https://devqa.io/develop-test-automation-framework-scratch/</a> . If you go through the guide and at the end of part 2 it says a Chrome window should pop up when i run my code. I am having some issues and was hoping someone could go through it and tell me where I'm going wrong. Thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/aZeDN.png\" rel=\"nofollow noreferrer\">Two of my dependencies are highlighted as weak warnings</a></p>\n<p>Tried to run code after completing framework. Hoped a chrome window would pop up upon completion but running into some issues.\n<a href=\"https://i.stack.imgur.com/moLLp.png\" rel=\"nofollow noreferrer\">Here is what messages I get when i run this class</a></p>\n<p>Here's a GitHub link to my project - <a href=\"https://github.com/TravisB97/TravisTAF/commit/ce1b906bc43ea6faa0f23ac891bc8a82492be667\" rel=\"nofollow noreferrer\">https://github.com/TravisB97/TravisTAF/commit/ce1b906bc43ea6faa0f23ac891bc8a82492be667</a></p>\n"},{"tags":["java","spring-boot","mockito","spybean"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685619583,"post_id":76381417,"comment_id":134687075,"body_markdown":"Have you tried `Mockito.when(environment.acceptsProfiles(Profiles.of(&quot;prod&quot;))).thenReturn(true);` ?","body":"Have you tried <code>Mockito.when(environment.acceptsProfiles(Profiles.of(&quot;prod&quot;)&zwnj;&#8203;)).thenReturn(true);</code> ?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685619834,"post_id":76381417,"comment_id":134687135,"body_markdown":"yeah, same problem.","body":"yeah, same problem."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1685620612,"post_id":76381417,"comment_id":134687341,"body_markdown":"did you initialize `environment` properly?","body":"did you initialize <code>environment</code> properly?"},{"owner":{"account_id":6494677,"reputation":823,"user_id":5027640,"accept_rate":77,"display_name":"logi0517"},"score":0,"creation_date":1685620887,"post_id":76381417,"comment_id":134687405,"body_markdown":"what annotations do you have on the top of your class? @ SpyBean is a spring annotation, you need @ SpringBootTest annotation, to build the application context for the test.","body":"what annotations do you have on the top of your class? @ SpyBean is a spring annotation, you need @ SpringBootTest annotation, to build the application context for the test."},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685620900,"post_id":76381417,"comment_id":134687409,"body_markdown":"how? shouldnt it come from the application context?","body":"how? shouldnt it come from the application context?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685622054,"post_id":76381417,"comment_id":134687667,"body_markdown":"it is a spring boot test- I have added the information to the question to clarify","body":"it is a spring boot test- I have added the information to the question to clarify"}],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685867115,"creation_date":1685867115,"answer_id":76399527,"question_id":76381417,"body_markdown":"`Environment` is part of the essential configuration used to create Spring context while the application is started. The environment object is created before the context is prepared and only later registered as a bean within the context to enable injection. Because of that it cannot be mocked or spied on, similarly to `ApplicationContext` or `BeanFactory`, which are basic Spring context building blocks as well.\r\n\r\nYou can verify that yourself, using a debugger and the Spring Boot open-sourced code - look specifically at [this part][1] (`run` method in the `SpringApplication` class). The `Environment` object is prepared before the context is created and the mock/spy beans are created and injected during context refresh after its creation. To verify that you could simply create a class, mark it with the `@SpyBean` annotation in a test, set a breakpoint in the constructor and run the test with debugging. Whether Spring testing library should inform about the incorrect usage of `@MockBean`/`@SpyBean` on the interfaces/classes that cannot be mocked or spied on is a different matter and you could ask that question or propose adding that in an appropriate GitHub repository.\r\n\r\nRegarding the solution to the problem (I think) you&#39;re trying to solve: it looks like you could use the [@ActiveProfiles][2] annotation to enable a specific profile in your test class or use [any other way of setting an active Spring profile][3].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L306-L311\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\r\n  [3]: https://www.baeldung.com/spring-profiles#set-profiles","title":"NotAMockException when trying to mock a method on a SpyBean of Environment","body":"<p><code>Environment</code> is part of the essential configuration used to create Spring context while the application is started. The environment object is created before the context is prepared and only later registered as a bean within the context to enable injection. Because of that it cannot be mocked or spied on, similarly to <code>ApplicationContext</code> or <code>BeanFactory</code>, which are basic Spring context building blocks as well.</p>\n<p>You can verify that yourself, using a debugger and the Spring Boot open-sourced code - look specifically at <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L306-L311\" rel=\"nofollow noreferrer\">this part</a> (<code>run</code> method in the <code>SpringApplication</code> class). The <code>Environment</code> object is prepared before the context is created and the mock/spy beans are created and injected during context refresh after its creation. To verify that you could simply create a class, mark it with the <code>@SpyBean</code> annotation in a test, set a breakpoint in the constructor and run the test with debugging. Whether Spring testing library should inform about the incorrect usage of <code>@MockBean</code>/<code>@SpyBean</code> on the interfaces/classes that cannot be mocked or spied on is a different matter and you could ask that question or propose adding that in an appropriate GitHub repository.</p>\n<p>Regarding the solution to the problem (I think) you're trying to solve: it looks like you could use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"nofollow noreferrer\">@ActiveProfiles</a> annotation to enable a specific profile in your test class or use <a href=\"https://www.baeldung.com/spring-profiles#set-profiles\" rel=\"nofollow noreferrer\">any other way of setting an active Spring profile</a>.</p>\n"}],"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76399527,"answer_count":1,"score":0,"last_activity_date":1685867115,"creation_date":1685619120,"question_id":76381417,"body_markdown":"In an integration test `(@SpringBootTest)` class I declare a spyBean:\r\n\r\n    @SpyBean\r\n    private Environment environment;\r\n\r\nIn a test I try to mock one method:\r\n\r\n    doReturn(true).when(environment).acceptsProfiles(Profiles.of(&quot;prod&quot;));\r\n\r\nHowever, I get the following error:\r\n\r\n    org.mockito.exceptions.misusing.NotAMockException: \r\n    Argument passed to when() is not a mock!\r\n    Example of correct stubbing:\r\n        doThrow(new RuntimeException()).when(mock).someMethod();\r\n\r\nHow can I properly mock the method?","title":"NotAMockException when trying to mock a method on a SpyBean of Environment","body":"<p>In an integration test <code>(@SpringBootTest)</code> class I declare a spyBean:</p>\n<pre><code>@SpyBean\nprivate Environment environment;\n</code></pre>\n<p>In a test I try to mock one method:</p>\n<pre><code>doReturn(true).when(environment).acceptsProfiles(Profiles.of(&quot;prod&quot;));\n</code></pre>\n<p>However, I get the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\n</code></pre>\n<p>How can I properly mock the method?</p>\n"},{"tags":["java","serialization","tomcat9","session-replication"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685867413,"post_id":76399504,"comment_id":134718701,"body_markdown":"Run under the debugger and set breakpoints which log the classes of the objects being serialised.","body":"Run under the debugger and set breakpoints which log the classes of the objects being serialised."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685872973,"post_id":76399504,"comment_id":134719188,"body_markdown":"Classic [XY problem](https://xyproblem.info/). &#39;Show[ing] object references&#39; wont&#39; help you here. What you really need to do is find where in your project you have `com.example.ClassFoo` as a non-transient non-static object field.","body":"Classic <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. &#39;Show[ing] object references&#39; wont&#39; help you here. What you really need to do is find where in your project you have <code>com.example.ClassFoo</code> as a non-transient non-static object field."}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685866679,"creation_date":1685866679,"question_id":76399504,"body_markdown":"For the following stacktrace of tomcat session replication, is there a way to show object reference graph for serialization? i.e., \r\n\r\n    Object A in session -&gt; Object B -&gt; .... -&gt; ClassFoo Object\r\n\r\nIn other words, how to show the object type to write for each writeObject() method in stacktrace?\r\n\r\nAny object logging for java serialization? \r\n\r\n    java.io.NotSerializableException: com.example.ClassFoo\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)\r\n            at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\r\n            at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\r\n            at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\r\n            at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\r\n            at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\r\n            at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\r\n            at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\r\n            at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\r\n            at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\r\n            at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:345)\r\n            at org.apache.catalina.ha.session.DeltaRequest$AttributeInfo.writeExternal(DeltaRequest.java:438)\r\n            at org.apache.catalina.ha.session.DeltaRequest.writeExternal(DeltaRequest.java:326)\r\n            at org.apache.catalina.ha.session.DeltaRequest.serialize(DeltaRequest.java:340)\r\n            at org.apache.catalina.ha.session.DeltaSession.getDiff(DeltaSession.java:168)\r\n            at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1046)\r\n            at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1014)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.send(ReplicationValve.java:527)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.sendMessage(ReplicationValve.java:515)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.sendSessionReplicationMessage(ReplicationValve.java:497)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.sendReplicationMessage(ReplicationValve.java:409)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:340)","title":"java serialization: how to show object references","body":"<p>For the following stacktrace of tomcat session replication, is there a way to show object reference graph for serialization? i.e.,</p>\n<pre><code>Object A in session -&gt; Object B -&gt; .... -&gt; ClassFoo Object\n</code></pre>\n<p>In other words, how to show the object type to write for each writeObject() method in stacktrace?</p>\n<p>Any object logging for java serialization?</p>\n<pre><code>java.io.NotSerializableException: com.example.ClassFoo\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\n        at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:345)\n        at org.apache.catalina.ha.session.DeltaRequest$AttributeInfo.writeExternal(DeltaRequest.java:438)\n        at org.apache.catalina.ha.session.DeltaRequest.writeExternal(DeltaRequest.java:326)\n        at org.apache.catalina.ha.session.DeltaRequest.serialize(DeltaRequest.java:340)\n        at org.apache.catalina.ha.session.DeltaSession.getDiff(DeltaSession.java:168)\n        at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1046)\n        at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1014)\n        at org.apache.catalina.ha.tcp.ReplicationValve.send(ReplicationValve.java:527)\n        at org.apache.catalina.ha.tcp.ReplicationValve.sendMessage(ReplicationValve.java:515)\n        at org.apache.catalina.ha.tcp.ReplicationValve.sendSessionReplicationMessage(ReplicationValve.java:497)\n        at org.apache.catalina.ha.tcp.ReplicationValve.sendReplicationMessage(ReplicationValve.java:409)\n        at org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:340)\n</code></pre>\n"},{"tags":["java","jsp","pdf-generation"],"comments":[{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1389080903,"post_id":20966185,"comment_id":31496447,"body_markdown":"Are Hindi chars really invisible or appear as junk char sequence, boxes etc?","body":"Are Hindi chars really invisible or appear as junk char sequence, boxes etc?"},{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1389081356,"post_id":20966185,"comment_id":31496620,"body_markdown":"Can you log the hindi chars and see that do they really come up as you want or they appear as garbage characters ?","body":"Can you log the hindi chars and see that do they really come up as you want or they appear as garbage characters ?"},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389081521,"post_id":20966185,"comment_id":31496683,"body_markdown":"@PopoFibo invisible...no junk characters..in the database I get #2960.And when I retrieve on textbox,I get hindi text back.But when I pull it from database to pdf it doesnt come.","body":"@PopoFibo invisible...no junk characters..in the database I get #2960.And when I retrieve on textbox,I get hindi text back.But when I pull it from database to pdf it doesnt come."},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389081606,"post_id":20966185,"comment_id":31496722,"body_markdown":"@SaifAsif I didnt get ur point?U mean in the textarea if they come in garbage?If yes,it comes properly on that...just on pdf nothing appears when I retireve from db","body":"@SaifAsif I didnt get ur point?U mean in the textarea if they come in garbage?If yes,it comes properly on that...just on pdf nothing appears when I retireve from db"}],"answers":[{"tags":[],"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389082313,"creation_date":1389081805,"answer_id":20966668,"question_id":20966185,"body_markdown":"In all possibility even the latest iText version does not support Devanagari script, reference [here][1].\r\n\r\nHowever, there are alternatives like using awt Graphics2D class, set a font supporting unicode chars and add it to the PDF (not as text though).\r\n\r\nExample: [here][2]\r\n\r\n**Output using the above reference:**\r\n\r\n![enter image description here][3]\r\n\r\n&#39;New PDF in Hindi&#39; is rendered as the text here\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18900933/does-itext-have-ligature-implementation-for-indian-languages-such-as-hindi-mara\r\n  [2]: https://bitbucket.org/ivertex/itext-fork/src/079fcc1e0bfd7505a622f5bfc8896f130815a751/examples/src/in_action/chapter12/HindiExample.java?at=default\r\n  [3]: http://i.stack.imgur.com/d4YVn.png","title":"Getting hindi to display on pdf created with JSP","body":"<p>In all possibility even the latest iText version does not support Devanagari script, reference <a href=\"https://stackoverflow.com/questions/18900933/does-itext-have-ligature-implementation-for-indian-languages-such-as-hindi-mara\">here</a>.</p>\n\n<p>However, there are alternatives like using awt Graphics2D class, set a font supporting unicode chars and add it to the PDF (not as text though).</p>\n\n<p>Example: <a href=\"https://bitbucket.org/ivertex/itext-fork/src/079fcc1e0bfd7505a622f5bfc8896f130815a751/examples/src/in_action/chapter12/HindiExample.java?at=default\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>Output using the above reference:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/d4YVn.png\" alt=\"enter image description here\"></p>\n\n<p>'New PDF in Hindi' is rendered as the text here</p>\n"},{"tags":[],"owner":{"account_id":11808626,"reputation":741,"user_id":8640538,"display_name":"should_be_working"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685866615,"creation_date":1685866615,"answer_id":76399502,"question_id":20966185,"body_markdown":"Hindi script is not available in the core version of iText.\r\nYou could buy the addon pdfCalligraph of iText.\r\n\r\nOr you could use the open source https://wkhtmltopdf.org/ that can handle HTML to PDF conversion and text scripts other then western.\r\n\r\nThere is also some paid API like https://pdftoolkitapi.com/ that do it all.","title":"Getting hindi to display on pdf created with JSP","body":"<p>Hindi script is not available in the core version of iText.\nYou could buy the addon pdfCalligraph of iText.</p>\n<p>Or you could use the open source <a href=\"https://wkhtmltopdf.org/\" rel=\"nofollow noreferrer\">https://wkhtmltopdf.org/</a> that can handle HTML to PDF conversion and text scripts other then western.</p>\n<p>There is also some paid API like <a href=\"https://pdftoolkitapi.com/\" rel=\"nofollow noreferrer\">https://pdftoolkitapi.com/</a> that do it all.</p>\n"}],"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685866615,"creation_date":1389079660,"question_id":20966185,"body_markdown":"This is the code I have\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n        pageEncoding=&quot;UTF-8&quot;%&gt;\r\n        &lt;%@ page trimDirectiveWhitespaces=&quot;true&quot; %&gt;\r\n        &lt;%@page import=&quot;com.itextpdf.text.Document&quot;%&gt;\r\n        &lt;%@page import=&quot;com.itextpdf.text.Paragraph&quot;%&gt; \r\n       &lt;%@page import=&quot;com.itextpdf.text.PageSize&quot;%&gt;\r\n       &lt;%@ page import=&quot;javax.servlet.http.*,javax.servlet.*,com.itextpdf.text.DocumentException&quot; %&gt;\r\n       &lt;%@page import=&quot;java.io.*,java.text.SimpleDateFormat&quot;%&gt;\r\n       &lt;%@page import=&quot;java.sql.*,java.nio.charset.Charset&quot;%&gt;\r\n       &lt;%@ page import=&quot;com.itextpdf.tool.xml.ElementHandler,java.util.List,java.util.Arrays,java.util.Collections,java.util.*,com.itextpdf.text.pdf.*,com.itextpdf.tool.xml.ElementList,com.itextpdf.text.Rectangle,com.itextpdf.text.Element,com.itextpdf.text.*,com.itextpdf.text.Font,java.awt.Color,com.itextpdf.text.Font.FontFamily,java.util.Date,java.text.*,com.itextpdf.tool.xml.XMLWorkerHelper&quot; %&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;% \r\n    String date=request.getParameter(&quot;user&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    SimpleDateFormat myFormat = new SimpleDateFormat(&quot;EEE,dd MMM yyyy&quot;);\r\n    final java.util.Date dtt = df.parse(date);\r\n    final String ds = myFormat.format(df.parse(date));\r\n    \r\n    class HeaderAndFooter extends PdfPageEventHelper {\r\n       private String name = &quot;&quot;;\r\n       protected Phrase footer;\r\n       protected Phrase header;\r\n       Font headerFont = new Font(FontFamily.COURIER, 13, Font.UNDERLINE);\r\n       Font footerFont = new Font(FontFamily.HELVETICA, 11, Font.BOLD);\r\n       String date1;\r\n       public HeaderAndFooter(String name) {\r\n        super();\r\n        this.name = name;\r\n        header = new Phrase(&quot;***** Header *****&quot;);\r\n        footer = new Phrase(&quot;**** Footer ****&quot;);\r\n      }\r\n    \r\n      @Override\r\n       public void onEndPage(PdfWriter writer, Document document) {\r\n         PdfContentByte cb = writer.getDirectContent();\r\n         //header content\r\n         String headerContent =name;\r\n         //header content\r\n         String footerContent = headerContent;\r\n      //date selection\r\n         ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(&quot;Date:&quot;+ds,headerFont), document.leftMargin() - 1, document.top() + 18, 0);\r\n         }\r\n      }\r\n    OutputStream output=response.getOutputStream();\r\n    response.setContentType(&quot;application/pdf&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;inline; filename=details.pdf&quot;);\r\n    try{\r\n    \tDocument document = new Document(PageSize.A4);\r\n    PdfWriter writer=PdfWriter.getInstance(document, output);\r\n    document.open();\r\n    writer.setPageEvent(new HeaderAndFooter(date));\r\n    XMLWorkerHelper worker = XMLWorkerHelper.getInstance();\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/yre&quot;, &quot;root&quot;, &quot;root&quot;);\r\n    Statement st=con.createStatement( ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\r\n    List arrlist = new ArrayList();\r\n    ResultSet rsta=st.executeQuery(&quot;Select * from yu where date=&#39;&quot;+date+&quot;&#39; &quot;);\r\n    int interval=0;\r\n    while(rsta.next()){\r\n    interval=rsta.getInt(&quot;inter&quot;);\r\n    }  \r\n    System.out.println(interval);\r\n    ResultSet rs=st.executeQuery(&quot;SELECT * FROM ur_start2 where date=&#39;&quot;+date+&quot;&#39; &quot;);\r\n     while(rs.next()){\r\n     arrlist.add(rs.getString(&quot;data&quot;));\r\n     }  \r\n    for(int i=0;i&lt;interval+1;i++){\r\n      String str =(String) arrlist.get(i);\r\n      worker.parseXHtml(writer, document, new StringReader(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&quot;+str+&quot;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;/body&gt;&lt;/html&gt;&quot;));\r\n    }\r\n    document.close();\r\n    writer.flush();\r\n    writer.close();\r\n    output.close();\r\n    }catch(IOException e){e.printStackTrace();} \r\n    %&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThis gives me only english characters in the displayed pdf.Whereas the hindi font is invisible.\r\n\r\nWhat ever I have typed in hindi is also retrieved back in hindi on textareas.But on pdf I am not able to retrieve it in hindi.\r\n\r\nWhat should I do to retrieve it in Hindi?","title":"Getting hindi to display on pdf created with JSP","body":"<p>This is the code I have</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%&gt;\n    &lt;%@ page trimDirectiveWhitespaces=\"true\" %&gt;\n    &lt;%@page import=\"com.itextpdf.text.Document\"%&gt;\n    &lt;%@page import=\"com.itextpdf.text.Paragraph\"%&gt; \n   &lt;%@page import=\"com.itextpdf.text.PageSize\"%&gt;\n   &lt;%@ page import=\"javax.servlet.http.*,javax.servlet.*,com.itextpdf.text.DocumentException\" %&gt;\n   &lt;%@page import=\"java.io.*,java.text.SimpleDateFormat\"%&gt;\n   &lt;%@page import=\"java.sql.*,java.nio.charset.Charset\"%&gt;\n   &lt;%@ page import=\"com.itextpdf.tool.xml.ElementHandler,java.util.List,java.util.Arrays,java.util.Collections,java.util.*,com.itextpdf.text.pdf.*,com.itextpdf.tool.xml.ElementList,com.itextpdf.text.Rectangle,com.itextpdf.text.Element,com.itextpdf.text.*,com.itextpdf.text.Font,java.awt.Color,com.itextpdf.text.Font.FontFamily,java.util.Date,java.text.*,com.itextpdf.tool.xml.XMLWorkerHelper\" %&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;% \nString date=request.getParameter(\"user\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\nSimpleDateFormat myFormat = new SimpleDateFormat(\"EEE,dd MMM yyyy\");\nfinal java.util.Date dtt = df.parse(date);\nfinal String ds = myFormat.format(df.parse(date));\n\nclass HeaderAndFooter extends PdfPageEventHelper {\n   private String name = \"\";\n   protected Phrase footer;\n   protected Phrase header;\n   Font headerFont = new Font(FontFamily.COURIER, 13, Font.UNDERLINE);\n   Font footerFont = new Font(FontFamily.HELVETICA, 11, Font.BOLD);\n   String date1;\n   public HeaderAndFooter(String name) {\n    super();\n    this.name = name;\n    header = new Phrase(\"***** Header *****\");\n    footer = new Phrase(\"**** Footer ****\");\n  }\n\n  @Override\n   public void onEndPage(PdfWriter writer, Document document) {\n     PdfContentByte cb = writer.getDirectContent();\n     //header content\n     String headerContent =name;\n     //header content\n     String footerContent = headerContent;\n  //date selection\n     ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(\"Date:\"+ds,headerFont), document.leftMargin() - 1, document.top() + 18, 0);\n     }\n  }\nOutputStream output=response.getOutputStream();\nresponse.setContentType(\"application/pdf\");\nresponse.setHeader(\"Content-Disposition\", \"inline; filename=details.pdf\");\ntry{\n    Document document = new Document(PageSize.A4);\nPdfWriter writer=PdfWriter.getInstance(document, output);\ndocument.open();\nwriter.setPageEvent(new HeaderAndFooter(date));\nXMLWorkerHelper worker = XMLWorkerHelper.getInstance();\nClass.forName(\"com.mysql.jdbc.Driver\");\nConnection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/yre\", \"root\", \"root\");\nStatement st=con.createStatement( ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\nList arrlist = new ArrayList();\nResultSet rsta=st.executeQuery(\"Select * from yu where date='\"+date+\"' \");\nint interval=0;\nwhile(rsta.next()){\ninterval=rsta.getInt(\"inter\");\n}  \nSystem.out.println(interval);\nResultSet rs=st.executeQuery(\"SELECT * FROM ur_start2 where date='\"+date+\"' \");\n while(rs.next()){\n arrlist.add(rs.getString(\"data\"));\n }  \nfor(int i=0;i&lt;interval+1;i++){\n  String str =(String) arrlist.get(i);\n  worker.parseXHtml(writer, document, new StringReader(\"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\"+str+\"&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;/body&gt;&lt;/html&gt;\"));\n}\ndocument.close();\nwriter.flush();\nwriter.close();\noutput.close();\n}catch(IOException e){e.printStackTrace();} \n%&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This gives me only english characters in the displayed pdf.Whereas the hindi font is invisible.</p>\n\n<p>What ever I have typed in hindi is also retrieved back in hindi on textareas.But on pdf I am not able to retrieve it in hindi.</p>\n\n<p>What should I do to retrieve it in Hindi?</p>\n"},{"tags":["java","mysql","windows","swing","launch4j"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685952056,"post_id":76399443,"comment_id":134727175,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16717408,"reputation":1,"user_id":12083104,"display_name":"Karabo Mojai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685865523,"creation_date":1685865523,"question_id":76399443,"body_markdown":"I want to convert my POS Sales Application from a jar to exe. I keep on receiving this error(This application was configured to use a bundled Java Runtime Environment but the Runtime is missing or corrupted).How can I overcome this?\r\n\r\n\r\n\r\n&#128557;&#128557;\r\n\r\nI made the POS System using Eclipse and it&#39;s connected to a database. It&#39;s not a complex project but just a simple one.\r\n\r\nThe project consists with a login page then it redirects to the main page (point of sales GUI). \r\n\r\nI tried creating the jar file specifically for the login page and create a folder on my desktop and copied the JRE files from Java to the create Exe named folder on my desktop. \r\n\r\nI used Launch4j to create the exe. \r\n\r\nSo, I need to be able run the exe file, It won&#39;t run. It keep on giving me that error... ","title":"Java Runtime Environment Missionary or Corrupted","body":"<p>I want to convert my POS Sales Application from a jar to exe. I keep on receiving this error(This application was configured to use a bundled Java Runtime Environment but the Runtime is missing or corrupted).How can I overcome this?</p>\n<p>😭😭</p>\n<p>I made the POS System using Eclipse and it's connected to a database. It's not a complex project but just a simple one.</p>\n<p>The project consists with a login page then it redirects to the main page (point of sales GUI).</p>\n<p>I tried creating the jar file specifically for the login page and create a folder on my desktop and copied the JRE files from Java to the create Exe named folder on my desktop.</p>\n<p>I used Launch4j to create the exe.</p>\n<p>So, I need to be able run the exe file, It won't run. It keep on giving me that error...</p>\n"},{"tags":["java","android","kotlin","osmdroid"],"comments":[{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":1,"creation_date":1685978471,"post_id":76399398,"comment_id":134732991,"body_markdown":"You are looking for _Geocoding_ and _Reverse Geocoding_ and [OSMBonusPack](https://github.com/MKergall/osmbonuspack) has those features, apparently. Some more info on the topic: [https://stackoverflow.com/questions/22925204/simple-example-reverse-geocoding-osmdroid](https://stackoverflow.com/questions/22925204/simple-example-reverse-geocoding-osmdroid)","body":"You are looking for <i>Geocoding</i> and <i>Reverse Geocoding</i> and <a href=\"https://github.com/MKergall/osmbonuspack\" rel=\"nofollow noreferrer\">OSMBonusPack</a> has those features, apparently. Some more info on the topic: <a href=\"https://stackoverflow.com/questions/22925204/simple-example-reverse-geocoding-osmdroid\">https://stackoverflow.com/questions/22925204/simple-example-&zwnj;&#8203;reverse-geocoding-os&zwnj;&#8203;mdroid</a>"}],"owner":{"account_id":26846163,"reputation":1,"user_id":20431875,"display_name":"Diphenylamyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685864847,"creation_date":1685864847,"question_id":76399398,"body_markdown":"How can I get an address of the point (or a point by the address) in OSMDroid library? Should I use another libraries or Geopackages? Where can I get it? \r\n\r\nI&#39;ve already tried to use MapListener but it returns only coordinates.","title":"Looking for a library to get point address in OSMDroid for Android","body":"<p>How can I get an address of the point (or a point by the address) in OSMDroid library? Should I use another libraries or Geopackages? Where can I get it?</p>\n<p>I've already tried to use MapListener but it returns only coordinates.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":2,"creation_date":1429847333,"post_id":512184,"comment_id":47803111,"body_markdown":"Beware that the answer differs in JUnit 4 (initialize in declaration) and JUnit 3 (use setUp); this is the root of the confusion.","body":"Beware that the answer differs in JUnit 4 (initialize in declaration) and JUnit 3 (use setUp); this is the root of the confusion."},{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1458212341,"post_id":512184,"comment_id":59763843,"body_markdown":"See also http://stackoverflow.com/questions/6094081/junit-using-constructor-instead-of-before","body":"See also <a href=\"http://stackoverflow.com/questions/6094081/junit-using-constructor-instead-of-before\" title=\"junit using constructor instead of before\">stackoverflow.com/questions/6094081/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1234104004,"creation_date":1233766373,"answer_id":512220,"question_id":512184,"body_markdown":"I prefer readability first which most often does not use the setup method.   I make an exception when a basic setup operation takes a long time and is repeated within each test.  \r\nAt that point I move that functionality into a setup method using the `@BeforeClass` annotation (optimize later).\r\n\r\nExample of optimization using the `@BeforeClass` setup method: I use dbunit for some database functional tests.   The setup method is responsible for putting the database in a known state (very slow... 30 seconds - 2 minutes depending on amount of data).   I load this data in the setup method annotated with `@BeforeClass` and then run 10-20 tests against the same set of data as opposed to re-loading/initializing the database inside each test.\r\n\r\nUsing Junit 3.8 (extending TestCase as shown in your example) requires writing a little more code than just adding an annotation, but the &quot;run once before class setup&quot; is still possible.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>I prefer readability first which most often does not use the setup method.   I make an exception when a basic setup operation takes a long time and is repeated within each test.<br>\nAt that point I move that functionality into a setup method using the <code>@BeforeClass</code> annotation (optimize later).</p>\n\n<p>Example of optimization using the <code>@BeforeClass</code> setup method: I use dbunit for some database functional tests.   The setup method is responsible for putting the database in a known state (very slow... 30 seconds - 2 minutes depending on amount of data).   I load this data in the setup method annotated with <code>@BeforeClass</code> and then run 10-20 tests against the same set of data as opposed to re-loading/initializing the database inside each test.</p>\n\n<p>Using Junit 3.8 (extending TestCase as shown in your example) requires writing a little more code than just adding an annotation, but the \"run once before class setup\" is still possible.</p>\n"},{"tags":[],"owner":{"account_id":20615,"reputation":973,"user_id":49431,"accept_rate":20,"display_name":"Jurgen Hannaert"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1233768580,"creation_date":1233768146,"answer_id":512394,"question_id":512184,"body_markdown":"In addition to Alex B&#39;s answer.\r\n\r\nIt is even required to use the setUp method to instantiate resources in a certain state. Doing this in the constructor is not only a matter of timings, but because of the way JUnit runs the tests, each test state would be erased after running one.\r\n\r\nJUnit first creates instances of the testClass for each test method and starts running the tests after each instance is created. Before running the test method, its setup method is ran, in which some state can be prepared.\r\n\r\nIf the database state would be created in the constructor, all instances would instantiate the db state right after each other, before running each tests. As of the second test, tests would run with a dirty state.\r\n\r\nJUnits lifecycle:\r\n\r\n 1. Create a different testclass instance for each test method\r\n 2. Repeat for each testclass instance: call setup + call the testmethod\r\n\r\nWith some loggings in a test with two test methods you get: (number is the hashcode)\r\n\r\n - Creating new instance: 5718203\r\n - Creating new instance: 5947506\r\n - Setup: 5718203\r\n - TestOne: 5718203\r\n - Setup: 5947506\r\n - TestTwo: 5947506","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In addition to Alex B's answer.</p>\n\n<p>It is even required to use the setUp method to instantiate resources in a certain state. Doing this in the constructor is not only a matter of timings, but because of the way JUnit runs the tests, each test state would be erased after running one.</p>\n\n<p>JUnit first creates instances of the testClass for each test method and starts running the tests after each instance is created. Before running the test method, its setup method is ran, in which some state can be prepared.</p>\n\n<p>If the database state would be created in the constructor, all instances would instantiate the db state right after each other, before running each tests. As of the second test, tests would run with a dirty state.</p>\n\n<p>JUnits lifecycle:</p>\n\n<ol>\n<li>Create a different testclass instance for each test method</li>\n<li>Repeat for each testclass instance: call setup + call the testmethod</li>\n</ol>\n\n<p>With some loggings in a test with two test methods you get: (number is the hashcode)</p>\n\n<ul>\n<li>Creating new instance: 5718203</li>\n<li>Creating new instance: 5947506</li>\n<li>Setup: 5718203</li>\n<li>TestOne: 5718203</li>\n<li>Setup: 5947506</li>\n<li>TestTwo: 5947506</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1436795854,"creation_date":1233769988,"answer_id":512523,"question_id":512184,"body_markdown":"I started digging myself and I found one potential advantage of using `setUp()`.  If any exceptions are thrown during the execution of `setUp()`, JUnit will print a very helpful stack trace.  On the other hand, if an exception is thrown during object construction, the error message simply says JUnit was unable to instantiate the test case and you don&#39;t see the line number where the failure occurred, probably because JUnit uses reflection to instantiate the test classes.\r\n\r\nNone of this applies to the example of creating an empty collection, since that will never throw, but it is an advantage of the `setUp()` method.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>I started digging myself and I found one potential advantage of using <code>setUp()</code>.  If any exceptions are thrown during the execution of <code>setUp()</code>, JUnit will print a very helpful stack trace.  On the other hand, if an exception is thrown during object construction, the error message simply says JUnit was unable to instantiate the test case and you don't see the line number where the failure occurred, probably because JUnit uses reflection to instantiate the test classes.</p>\n\n<p>None of this applies to the example of creating an empty collection, since that will never throw, but it is an advantage of the <code>setUp()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":24475,"reputation":10672,"user_id":62237,"accept_rate":55,"display_name":"amit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1233982434,"creation_date":1233982434,"answer_id":523159,"question_id":512184,"body_markdown":"In your case (creating a list) there is no difference in practice. But generally it is better to use setUp(), because that will help Junit to report Exceptions correctly. If an exception occurs in constructor/initializer of a Test, that is a test *failure*. However, if an exception occurs during setup, it is natural to think of it as some issue in setting up the test, and junit reports it appropriately.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In your case (creating a list) there is no difference in practice. But generally it is better to use setUp(), because that will help Junit to report Exceptions correctly. If an exception occurs in constructor/initializer of a Test, that is a test <em>failure</em>. However, if an exception occurs during setup, it is natural to think of it as some issue in setting up the test, and junit reports it appropriately.</p>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234054359,"creation_date":1234054359,"answer_id":524900,"question_id":512184,"body_markdown":"Since each test is executed independently, with a fresh instance of the object, there&#39;s not much point to the Test object having any internal state except that shared between `setUp()` and an individual test and `tearDown()`.  This is one reason (in addition to the reasons others gave) that it&#39;s good to use the `setUp()` method.\r\n\r\nNote:  It&#39;s a bad idea for a JUnit test object to maintain static state!  If you make use of static variable in your tests for anything other than tracking or diagnostic purposes, you are invalidating part of the purpose of JUnit, which is that the tests can (an may) be run in any order, each test running with a fresh, clean state.\r\n\r\nThe advantages to using `setUp()` is that you don&#39;t have to cut-and-paste initialization code in every test method and that you don&#39;t have test setup code in the constructor.  In your case, there is little difference.  Just creating an empty list can be done safely as you show it or in the constructor as it&#39;s a trivial initialization.  However, as you and others have pointed out, anything that can possibly throw an `Exception` should be done in `setUp()` so you get the diagnostic stack dump if it fails.\r\n\r\nIn your case, where you are just creating an empty list, I would do the same way you are suggesting:  Assign the new list at the point of declaration.  Especially because this way you have the option of marking it `final` if this makes sense for your test class.\r\n","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>Since each test is executed independently, with a fresh instance of the object, there's not much point to the Test object having any internal state except that shared between <code>setUp()</code> and an individual test and <code>tearDown()</code>.  This is one reason (in addition to the reasons others gave) that it's good to use the <code>setUp()</code> method.</p>\n\n<p>Note:  It's a bad idea for a JUnit test object to maintain static state!  If you make use of static variable in your tests for anything other than tracking or diagnostic purposes, you are invalidating part of the purpose of JUnit, which is that the tests can (an may) be run in any order, each test running with a fresh, clean state.</p>\n\n<p>The advantages to using <code>setUp()</code> is that you don't have to cut-and-paste initialization code in every test method and that you don't have test setup code in the constructor.  In your case, there is little difference.  Just creating an empty list can be done safely as you show it or in the constructor as it's a trivial initialization.  However, as you and others have pointed out, anything that can possibly throw an <code>Exception</code> should be done in <code>setUp()</code> so you get the diagnostic stack dump if it fails.</p>\n\n<p>In your case, where you are just creating an empty list, I would do the same way you are suggesting:  Assign the new list at the point of declaration.  Especially because this way you have the option of marking it <code>final</code> if this makes sense for your test class.</p>\n"},{"tags":[],"owner":{"account_id":7580,"reputation":3562,"user_id":13210,"accept_rate":60,"display_name":"Moss Collum"},"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1685864040,"creation_date":1234114764,"answer_id":526085,"question_id":512184,"body_markdown":"If you&#39;re wondering specifically about the examples in the JUnit FAQ, such as the [basic test template][1], I think the best practice being shown off there is that the *class under test* should be instantiated in your setUp method (or in a test method).\r\n\r\nWhen the JUnit examples create an ArrayList in the setUp method, they all go on to test the behavior of that ArrayList, with cases like testIndexOutOfBoundException, testEmptyCollection, and the like. The perspective there is of someone writing a class and making sure it works right.\r\n\r\nYou should probably do the same when testing your own classes: create your object in setUp or in a test method, so that you&#39;ll be able to get reasonable output if you break it later.\r\n\r\nOn the other hand, if you use a Java collection class (or other library class, for that matter) in your test code, it&#39;s probably not because you want to test it--it&#39;s just part of the test fixture. In this case, you can safely assume it works as intended, so initializing it in the declaration won&#39;t be a problem.\r\n\r\nFor what it&#39;s worth, I work on a reasonably large, several-year-old, TDD-developed code base. We habitually initialize things in their declarations in test code, and in the year and a half that I&#39;ve been on this project, it has never caused a problem. So there&#39;s at least some anecdotal evidence that it&#39;s a reasonable thing to do.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20221017015856/https://junit.sourceforge.net/doc/faq/faq.htm#tests_16","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>If you're wondering specifically about the examples in the JUnit FAQ, such as the <a href=\"https://web.archive.org/web/20221017015856/https://junit.sourceforge.net/doc/faq/faq.htm#tests_16\" rel=\"nofollow noreferrer\">basic test template</a>, I think the best practice being shown off there is that the <em>class under test</em> should be instantiated in your setUp method (or in a test method).</p>\n<p>When the JUnit examples create an ArrayList in the setUp method, they all go on to test the behavior of that ArrayList, with cases like testIndexOutOfBoundException, testEmptyCollection, and the like. The perspective there is of someone writing a class and making sure it works right.</p>\n<p>You should probably do the same when testing your own classes: create your object in setUp or in a test method, so that you'll be able to get reasonable output if you break it later.</p>\n<p>On the other hand, if you use a Java collection class (or other library class, for that matter) in your test code, it's probably not because you want to test it--it's just part of the test fixture. In this case, you can safely assume it works as intended, so initializing it in the declaration won't be a problem.</p>\n<p>For what it's worth, I work on a reasonably large, several-year-old, TDD-developed code base. We habitually initialize things in their declarations in test code, and in the year and a half that I've been on this project, it has never caused a problem. So there's at least some anecdotal evidence that it's a reasonable thing to do.</p>\n"},{"tags":[],"owner":{"account_id":94840,"reputation":498,"user_id":258688,"display_name":"dsaff"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1429850078,"creation_date":1306936422,"answer_id":6202293,"question_id":512184,"body_markdown":"In JUnit 3, your field initializers will be run once per test method *before any tests are run*.  As long as your field values are small in memory, take little set up time, and do not affect global state, using field initializers is technically fine.  However, if those do not hold, you may end up consuming a lot of memory or time setting up your fields before the first test is run, and possibly even running out of memory.  For this reason, many developers always set field values in the setUp() method, where it&#39;s always safe, even when it&#39;s not strictly necessary.\r\n\r\nNote that in JUnit 4, test object initialization happens right before test running, and so using field initializers is safer, and recommended style.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In JUnit 3, your field initializers will be run once per test method <em>before any tests are run</em>.  As long as your field values are small in memory, take little set up time, and do not affect global state, using field initializers is technically fine.  However, if those do not hold, you may end up consuming a lot of memory or time setting up your fields before the first test is run, and possibly even running out of memory.  For this reason, many developers always set field values in the setUp() method, where it's always safe, even when it's not strictly necessary.</p>\n\n<p>Note that in JUnit 4, test object initialization happens right before test running, and so using field initializers is safer, and recommended style.</p>\n"},{"tags":[],"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1458192206,"creation_date":1429832398,"answer_id":29836251,"question_id":512184,"body_markdown":"In JUnit 4:\r\n\r\n* For the *Class Under Test*, initialize in a [`@Before`](http://junit.sourceforge.net/javadoc/org/junit/Before.html) method, to catch failures.\r\n* For *other classes*, initialize in the declaration...\r\n  * ...for brevity, and to mark fields `final`, exactly as stated in the question,\r\n  * ...unless it is *complex initialization* that could fail, in which case use `@Before`, to catch failures.\r\n* For *global state* (esp. *slow initialization*, like a database), use `@BeforeClass`, but *be careful* of dependencies between tests.\r\n* Initialization of an object used in a *single test* should of course be done in the test method itself.\r\n\r\nInitializing in a `@Before` method or test method allows you to get better error reporting on failures. This is especially useful for instantiating the Class Under Test (which you might break), but is also useful for calling external systems, like filesystem access (&quot;file not found&quot;) or connecting to a database (&quot;connection refused&quot;).\r\n\r\nIt is *acceptable* to have a simple standard and always use `@Before` (clear errors but verbose) or always initialize in declaration (concise but gives confusing errors), since complex coding rules are hard to follow, and this isn&#39;t a big deal.\r\n\r\nInitializing in `setUp` is a relic of JUnit 3, where all test instances were initialized eagerly, which causes problems (speed, memory, resource exhaustion) if you do expensive initialization. Thus best practice was to do expensive initialization in `setUp`, which was only run when the test was executed. This no longer applies, so it is much less necessary to use `setUp`.\r\n\r\nThis summarizes several other replies that bury the lede, notably by Craig P. Motlin (question itself and self-answer), Moss Collum (class under test), and dsaff.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In JUnit 4:</p>\n\n<ul>\n<li>For the <em>Class Under Test</em>, initialize in a <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Before.html\" rel=\"noreferrer\"><code>@Before</code></a> method, to catch failures.</li>\n<li>For <em>other classes</em>, initialize in the declaration...\n\n<ul>\n<li>...for brevity, and to mark fields <code>final</code>, exactly as stated in the question,</li>\n<li>...unless it is <em>complex initialization</em> that could fail, in which case use <code>@Before</code>, to catch failures.</li>\n</ul></li>\n<li>For <em>global state</em> (esp. <em>slow initialization</em>, like a database), use <code>@BeforeClass</code>, but <em>be careful</em> of dependencies between tests.</li>\n<li>Initialization of an object used in a <em>single test</em> should of course be done in the test method itself.</li>\n</ul>\n\n<p>Initializing in a <code>@Before</code> method or test method allows you to get better error reporting on failures. This is especially useful for instantiating the Class Under Test (which you might break), but is also useful for calling external systems, like filesystem access (\"file not found\") or connecting to a database (\"connection refused\").</p>\n\n<p>It is <em>acceptable</em> to have a simple standard and always use <code>@Before</code> (clear errors but verbose) or always initialize in declaration (concise but gives confusing errors), since complex coding rules are hard to follow, and this isn't a big deal.</p>\n\n<p>Initializing in <code>setUp</code> is a relic of JUnit 3, where all test instances were initialized eagerly, which causes problems (speed, memory, resource exhaustion) if you do expensive initialization. Thus best practice was to do expensive initialization in <code>setUp</code>, which was only run when the test was executed. This no longer applies, so it is much less necessary to use <code>setUp</code>.</p>\n\n<p>This summarizes several other replies that bury the lede, notably by Craig P. Motlin (question itself and self-answer), Moss Collum (class under test), and dsaff.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534106631,"creation_date":1534106631,"answer_id":51812702,"question_id":512184,"body_markdown":"- The constant values (uses in fixtures or assertions) should be initialized in their declarations and `final` (as never change) \r\n\r\n- the object under test should be initialized in the setup method because we may set things on.  Of course we may not set something now but we could set it later. Instantiating in the init method would ease the changes.   \r\n  \r\n- dependencies of the object under test if these are mocked, should not even be instantiated by yourself : today the mock frameworks can instantiate it by reflection.    \r\n\r\nA test without dependency to mock could look like :\r\n\r\n    public class SomeTest {\r\n    \r\n        Some some; //instance under test\r\n        static final String GENERIC_ID = &quot;123&quot;;\r\n        static final String PREFIX_URL_WS = &quot;http://foo.com/ws&quot;;\r\n    \r\n        @Before\r\n        public void beforeEach() {\r\n           some = new Some(new Foo(), new Bar());\r\n        } \r\n\r\n        @Test\r\n        public void populateList()\r\n             ...\r\n        }\r\n    }\r\n\r\nA test with dependencies to isolate could look like :\r\n \r\n    @RunWith(org.mockito.runners.MockitoJUnitRunner.class)\r\n    public class SomeTest {\r\n    \r\n        Some some; //instance under test\r\n        static final String GENERIC_ID = &quot;123&quot;;\r\n        static final String PREFIX_URL_WS = &quot;http://foo.com/ws&quot;;\r\n    \r\n        @Mock\r\n        Foo fooMock;\r\n    \r\n        @Mock\r\n        Bar barMock;\r\n    \r\n        @Before\r\n        public void beforeEach() {\r\n           some = new Some(fooMock, barMock);\r\n        }\r\n \r\n        @Test\r\n        public void populateList()\r\n             ...\r\n        }\r\n    }\r\n","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<ul>\n<li><p>The constant values (uses in fixtures or assertions) should be initialized in their declarations and <code>final</code> (as never change) </p></li>\n<li><p>the object under test should be initialized in the setup method because we may set things on.  Of course we may not set something now but we could set it later. Instantiating in the init method would ease the changes.   </p></li>\n<li><p>dependencies of the object under test if these are mocked, should not even be instantiated by yourself : today the mock frameworks can instantiate it by reflection.    </p></li>\n</ul>\n\n<p>A test without dependency to mock could look like :</p>\n\n<pre><code>public class SomeTest {\n\n    Some some; //instance under test\n    static final String GENERIC_ID = \"123\";\n    static final String PREFIX_URL_WS = \"http://foo.com/ws\";\n\n    @Before\n    public void beforeEach() {\n       some = new Some(new Foo(), new Bar());\n    } \n\n    @Test\n    public void populateList()\n         ...\n    }\n}\n</code></pre>\n\n<p>A test with dependencies to isolate could look like :</p>\n\n<pre><code>@RunWith(org.mockito.runners.MockitoJUnitRunner.class)\npublic class SomeTest {\n\n    Some some; //instance under test\n    static final String GENERIC_ID = \"123\";\n    static final String PREFIX_URL_WS = \"http://foo.com/ws\";\n\n    @Mock\n    Foo fooMock;\n\n    @Mock\n    Bar barMock;\n\n    @Before\n    public void beforeEach() {\n       some = new Some(fooMock, barMock);\n    }\n\n    @Test\n    public void populateList()\n         ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178056,"favorite_count":0,"down_vote_count":0,"up_vote_count":139,"accepted_answer_id":526085,"answer_count":9,"score":139,"last_activity_date":1685864040,"creation_date":1233765846,"question_id":512184,"body_markdown":"Should I initialize class fields at declaration like this?\r\n\r\n    public class SomeTest extends TestCase\r\n    {\r\n        private final List list = new ArrayList();\r\n    \r\n        public void testPopulateList()\r\n        {\r\n            // Add stuff to the list\r\n            // Assert the list contains what I expect\r\n        }\r\n    }\r\n\r\nOr in setUp() like this?\r\n\r\n    public class SomeTest extends TestCase\r\n    {\r\n        private List list;\r\n    \r\n        @Override\r\n        protected void setUp() throws Exception\r\n        {\r\n            super.setUp();\r\n            this.list = new ArrayList();\r\n        }\r\n    \r\n        public void testPopulateList()\r\n        {\r\n            // Add stuff to the list\r\n            // Assert the list contains what I expect\r\n        }\r\n    }\r\n\r\nI tend to use the first form because it&#39;s more concise, and allows me to use final fields.  If I don&#39;t *need* to use the setUp() method for set-up, should I still use it, and why?\r\n\r\n**Clarification:**\r\nJUnit will instantiate the test class once per test method.  That means `list` will be created once per test, regardless of where I declare it.  It also means there are no temporal dependencies between the tests.  So it seems like there are no advantages to using setUp().  However the JUnit FAQ has many examples that initialize an empty collection in setUp(), so I figure there must be a reason.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>Should I initialize class fields at declaration like this?</p>\n\n<pre><code>public class SomeTest extends TestCase\n{\n    private final List list = new ArrayList();\n\n    public void testPopulateList()\n    {\n        // Add stuff to the list\n        // Assert the list contains what I expect\n    }\n}\n</code></pre>\n\n<p>Or in setUp() like this?</p>\n\n<pre><code>public class SomeTest extends TestCase\n{\n    private List list;\n\n    @Override\n    protected void setUp() throws Exception\n    {\n        super.setUp();\n        this.list = new ArrayList();\n    }\n\n    public void testPopulateList()\n    {\n        // Add stuff to the list\n        // Assert the list contains what I expect\n    }\n}\n</code></pre>\n\n<p>I tend to use the first form because it's more concise, and allows me to use final fields.  If I don't <em>need</em> to use the setUp() method for set-up, should I still use it, and why?</p>\n\n<p><strong>Clarification:</strong>\nJUnit will instantiate the test class once per test method.  That means <code>list</code> will be created once per test, regardless of where I declare it.  It also means there are no temporal dependencies between the tests.  So it seems like there are no advantages to using setUp().  However the JUnit FAQ has many examples that initialize an empty collection in setUp(), so I figure there must be a reason.</p>\n"},{"tags":["java","angular","spring","spring-boot","deployment"],"comments":[{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1682376071,"post_id":76096484,"comment_id":134202596,"body_markdown":"Do you have a security config class that extends to WebSecurityConfigurerAdapter? or at least a class that has filterchain method that is annotated with @Bean?","body":"Do you have a security config class that extends to WebSecurityConfigurerAdapter? or at least a class that has filterchain method that is annotated with @Bean?"},{"owner":{"account_id":28387751,"reputation":1,"user_id":21713978,"display_name":"mezghani selmen"},"score":0,"creation_date":1682381118,"post_id":76096484,"comment_id":134203110,"body_markdown":"Hi Luigi, currently i have not. I tried both yesterday but neither of them solved the issue. So i deleted them both from my microservice.","body":"Hi Luigi, currently i have not. I tried both yesterday but neither of them solved the issue. So i deleted them both from my microservice."},{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1682383837,"post_id":76096484,"comment_id":134203363,"body_markdown":"try adding this to your configure or filterchain method  &quot; http.cors().and().csrf().disable();&quot;","body":"try adding this to your configure or filterchain method  &quot; http.cors().and().csrf().disable();&quot;"},{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1682406599,"post_id":76096484,"comment_id":134205742,"body_markdown":"I think a better solution is to implement a gateway (spring cloud gateway for example) which will be the only entry point to your backend services and add the CORS policies on the level of the gateway","body":"I think a better solution is to implement a gateway (spring cloud gateway for example) which will be the only entry point to your backend services and add the CORS policies on the level of the gateway"}],"answers":[{"tags":[],"owner":{"account_id":5853596,"reputation":1232,"user_id":4611561,"accept_rate":33,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682384219,"creation_date":1682384219,"answer_id":76097016,"question_id":76096484,"body_markdown":"There are 2 ways to fix the CORS Policy\r\n1) Create CORS Configurer in the backend like below :\r\n\r\n\t\r\n\r\n    @Bean\r\n    \tpublic WebMvcConfigurer corsConfigurer() {\r\n    \r\n    \t\treturn new WebMvcConfigurer() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t\t\tif (allowedOrigins != null &amp;&amp; allowedOrigins.length &gt; 0) {\r\n    \t\t\t\t\tregistry.addMapping(&quot;/**&quot;).allowCredentials(true).allowedOrigins(allowedOrigins).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t} \r\n\r\nIn your application.properties file, you can mention which host where it calls from\r\nsomething like this \r\n\r\n    cors.allowed_from= http://localhost:4200, http://localhost:3000,  http://localhost:9000/api/swagger-ui.html#/\r\n\r\n2) Create a proxy file called (proxy.conf.json) in UI and include that in angular.json like below:\r\n\r\nproxy.conf.json:\r\n\r\n    {\r\n      &quot;/api/*&quot;: {\r\n        &quot;target&quot;: &quot;https://dev.mcc.api.xxx.com&quot;,\r\n        &quot;secure&quot;: true,\r\n        &quot;changeOrigin&quot;: true,\r\n        &quot;logLevel&quot;: &quot;debug&quot;,\r\n      }\r\n\r\nangular.json:\r\n\r\n  &quot;serve&quot;: {\r\n          &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\r\n          &quot;options&quot;: {\r\n              &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;,\r\n\r\n\r\n  \r\n\r\n","title":"CORS policy issue with Spring Boot microservice and Angular frontend","body":"<p>There are 2 ways to fix the CORS Policy</p>\n<ol>\n<li><p>Create CORS Configurer in the backend like below :</p>\n<p>@Bean\npublic WebMvcConfigurer corsConfigurer() {</p>\n<pre><code>     return new WebMvcConfigurer() {\n         @Override\n         public void addCorsMappings(CorsRegistry registry) {\n             if (allowedOrigins != null &amp;&amp; allowedOrigins.length &gt; 0) {\n                 registry.addMapping(&quot;/**&quot;).allowCredentials(true).allowedOrigins(allowedOrigins).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\n             }\n         }\n     };\n } \n</code></pre>\n</li>\n</ol>\n<p>In your application.properties file, you can mention which host where it calls from\nsomething like this</p>\n<pre><code>cors.allowed_from= http://localhost:4200, http://localhost:3000,  http://localhost:9000/api/swagger-ui.html#/\n</code></pre>\n<ol start=\"2\">\n<li>Create a proxy file called (proxy.conf.json) in UI and include that in angular.json like below:</li>\n</ol>\n<p>proxy.conf.json:</p>\n<pre><code>{\n  &quot;/api/*&quot;: {\n    &quot;target&quot;: &quot;https://dev.mcc.api.xxx.com&quot;,\n    &quot;secure&quot;: true,\n    &quot;changeOrigin&quot;: true,\n    &quot;logLevel&quot;: &quot;debug&quot;,\n  }\n</code></pre>\n<p>angular.json:</p>\n<p>&quot;serve&quot;: {\n&quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\n&quot;options&quot;: {\n&quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;,</p>\n"}],"owner":{"account_id":28387751,"reputation":1,"user_id":21713978,"display_name":"mezghani selmen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685863722,"creation_date":1682374660,"question_id":76096484,"body_markdown":"I&#39;m building a web application with an Angular frontend and multiple Spring Boot microservices on the backend. I&#39;m currently facing a CORS policy issue when trying to send a POST request from my Angular app to one of my Spring Boot microservices.\r\nThe error message I&#39;m getting in the browser console is:\r\n\r\nAccess to XMLHttpRequest at &#39;http://localhost:8082/publications/new&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: The value of the &#39;Access-Control-Allow-Credentials&#39; header in the response is &#39;&#39; which must be &#39;true&#39; when the request&#39;s credentials mode is &#39;include&#39;. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\r\n\r\nI have added the @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;) annotation to the controllers in my microservices to allow cross-origin requests from my Angular app, but I&#39;m still getting the error.\r\n\r\nHere is the code for the controller in my publication-service microservice:\r\n\r\n\r\n```\r\n    `@RestController\r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;)\r\n    @RequestMapping(&quot;/publications&quot;)\r\n    public class PublicationController {\r\n\r\n         @Autowired\r\n         private PublicationService publicationService;\r\n\r\n    @PostMapping(&quot;/new&quot;)\r\n    public ResponseEntity&lt;Publication&gt; createPublication(@RequestParam(&quot;file&quot;) MultipartFile file,       @RequestParam(&quot;content&quot;) String content ,@RequestParam(&quot;username&quot;) String username) throws     IOException {\r\n        Publication publication = new Publication();\r\n        publication.setContent(content);\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\r\n        responseHeaders.set(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        return new ResponseEntity&lt;&gt;(publicationService.createPublication(publication, file),   responseHeaders, HttpStatus.CREATED);\r\n    }\r\n    }      `\r\n```\r\n                                    \r\n In the angular part i have this HTTP interceptor : \r\n\r\n\r\n\r\n\r\n\r\n```\r\n`    import { Injectable } from &#39;@angular/core&#39;;\r\n     import { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HTTP_INTERCEPTORS } from &#39;@angular/common/http&#39;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\n\r\n@Injectable()\r\nexport class HttpRequestInterceptor implements HttpInterceptor {\r\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n    req = req.clone({\r\n      withCredentials: true,\r\n    });\r\n\r\n    return next.handle(req);\r\n  }\r\n}\r\n\r\nexport const httpInterceptorProviders = [\r\n  { provide: HTTP_INTERCEPTORS, useClass: HttpRequestInterceptor, multi: true },\r\n     ];`\r\n```\r\n\r\n\r\n\r\ni also modified the application.properties of my microservice like this :\r\n\r\n```\r\nserver.port=8082\r\nspring.application.name=publication-service\r\neureka.client.service-url.defaultZone= http://localhost:8761/eureka\r\nspring.datasource.url=jdbc:mysql://localhost:3307/jeee?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=66pasS..\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n#pour ouvrir canal de connexion\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n# Enable CORS\r\nspring.mvc.cors.allow-credentials=true\r\nspring.mvc.cors.allowed-origins=http://localhost:4200\r\nspring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS\r\nspring.mvc.cors.allowed-headers=*\r\n```\r\n\r\n","title":"CORS policy issue with Spring Boot microservice and Angular frontend","body":"<p>I'm building a web application with an Angular frontend and multiple Spring Boot microservices on the backend. I'm currently facing a CORS policy issue when trying to send a POST request from my Angular app to one of my Spring Boot microservices.\nThe error message I'm getting in the browser console is:</p>\n<p>Access to XMLHttpRequest at 'http://localhost:8082/publications/new' from origin 'http://localhost:4200' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Credentials' header in the response is '' which must be 'true' when the request's credentials mode is 'include'. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.</p>\n<p>I have added the @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;) annotation to the controllers in my microservices to allow cross-origin requests from my Angular app, but I'm still getting the error.</p>\n<p>Here is the code for the controller in my publication-service microservice:</p>\n<pre><code>    `@RestController\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;)\n    @RequestMapping(&quot;/publications&quot;)\n    public class PublicationController {\n\n         @Autowired\n         private PublicationService publicationService;\n\n    @PostMapping(&quot;/new&quot;)\n    public ResponseEntity&lt;Publication&gt; createPublication(@RequestParam(&quot;file&quot;) MultipartFile file,       @RequestParam(&quot;content&quot;) String content ,@RequestParam(&quot;username&quot;) String username) throws     IOException {\n        Publication publication = new Publication();\n        publication.setContent(content);\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\n        responseHeaders.set(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        return new ResponseEntity&lt;&gt;(publicationService.createPublication(publication, file),   responseHeaders, HttpStatus.CREATED);\n    }\n    }      `\n</code></pre>\n<p>In the angular part i have this HTTP interceptor :</p>\n<pre><code>`    import { Injectable } from '@angular/core';\n     import { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class HttpRequestInterceptor implements HttpInterceptor {\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    req = req.clone({\n      withCredentials: true,\n    });\n\n    return next.handle(req);\n  }\n}\n\nexport const httpInterceptorProviders = [\n  { provide: HTTP_INTERCEPTORS, useClass: HttpRequestInterceptor, multi: true },\n     ];`\n</code></pre>\n<p>i also modified the application.properties of my microservice like this :</p>\n<pre><code>server.port=8082\nspring.application.name=publication-service\neureka.client.service-url.defaultZone= http://localhost:8761/eureka\nspring.datasource.url=jdbc:mysql://localhost:3307/jeee?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=66pasS..\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n#pour ouvrir canal de connexion\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n# Enable CORS\nspring.mvc.cors.allow-credentials=true\nspring.mvc.cors.allowed-origins=http://localhost:4200\nspring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS\nspring.mvc.cors.allowed-headers=*\n</code></pre>\n"},{"tags":["java","sql","plsql","resultset"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1685861680,"post_id":76399224,"comment_id":134718231,"body_markdown":"You are passing in a String bind variable value as number inside single quotes - this means it searches on segment1 by String `&#39;679223&#39;`. Drop the single quotes if you mean to search on string `679223`, or bind as a number 679223 if column segment1 is numeric","body":"You are passing in a String bind variable value as number inside single quotes - this means it searches on segment1 by String <code>&#39;679223&#39;</code>. Drop the single quotes if you mean to search on string <code>679223</code>, or bind as a number 679223 if column segment1 is numeric"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685861984,"post_id":76399224,"comment_id":134718252,"body_markdown":"And drop *if (rs.isBeforeFirst())* too. It&#39;s redundant and potentially problematic","body":"And drop <i>if (rs.isBeforeFirst())</i> too. It&#39;s redundant and potentially problematic"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862059,"post_id":76399224,"comment_id":134718257,"body_markdown":"Hey @g00se i need to search using singl quotes","body":"Hey @g00se i need to search using singl quotes"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862086,"post_id":76399224,"comment_id":134718260,"body_markdown":"@DuncG hey pal, what do you mean?","body":"@DuncG hey pal, what do you mean?"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862111,"post_id":76399224,"comment_id":134718261,"body_markdown":"@DuncG i need to search using single quotes","body":"@DuncG i need to search using single quotes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685862210,"post_id":76399224,"comment_id":134718265,"body_markdown":"Well I didn&#39;t comment on that but what makes you think you do? What data type is &#39;segment1&#39;? (Though you shouldn&#39;t need to quote it whatever type). The whole point of `PreparedStatement` is that it takes care of quoting","body":"Well I didn&#39;t comment on that but what makes you think you do? What data type is &#39;segment1&#39;? (Though you shouldn&#39;t need to quote it whatever type). The whole point of <code>PreparedStatement</code> is that it takes care of quoting"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862263,"post_id":76399224,"comment_id":134718269,"body_markdown":"@DuncG if i search using this: SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = 679223 i got the error ORA-01722:  &quot;invalid number&quot; thats why i need to use this instead SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = &#39;679223&#39;","body":"@DuncG if i search using this: SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = 679223 i got the error ORA-01722:  &quot;invalid number&quot; thats why i need to use this instead SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = &#39;679223&#39;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685862420,"post_id":76399224,"comment_id":134718285,"body_markdown":"You&#39;re getting confused. You needed quotes there because it was a regular query on a string type","body":"You&#39;re getting confused. You needed quotes there because it was a regular query on a string type"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862638,"post_id":76399224,"comment_id":134718302,"body_markdown":"@g00se segment1 is VARCHAR2(40) data type. Im a little confused. Could you please show me some code to fix it?","body":"@g00se segment1 is VARCHAR2(40) data type. Im a little confused. Could you please show me some code to fix it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685862825,"post_id":76399224,"comment_id":134718317,"body_markdown":"You don&#39;t need code. Just follow @DuncG&#39;s instructions. When it&#39;s working follow mine","body":"You don&#39;t need code. Just follow @DuncG&#39;s instructions. When it&#39;s working follow mine"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685862907,"creation_date":1685862907,"answer_id":76399317,"question_id":76399224,"body_markdown":"With a string value use a bind variable without the quotes:\r\n\r\n    String segmentValue = &quot;&quot;+l_order_number; \r\n    stmt.setString(1, segmentValue);`","title":"Not getting the desired output in PreparedSql statement (JAVA)","body":"<p>With a string value use a bind variable without the quotes:</p>\n<pre><code>String segmentValue = &quot;&quot;+l_order_number; \nstmt.setString(1, segmentValue);`\n</code></pre>\n"}],"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76399317,"answer_count":1,"score":0,"last_activity_date":1685862907,"creation_date":1685860911,"question_id":76399224,"body_markdown":"Im trying to pass a value to a query and save the result from the column.The value need to be passed using &quot;single quotes&quot;\r\n\r\n```\r\nExample:SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = &#39;679223&#39;;\r\n```\r\n\r\nThe result from that is **3321688 (NUMBER DATA TYPE)**\r\n\r\nI did this in java:\r\n\r\n    String query = &quot;SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = ?&quot;;\r\n    String segmentValue = &quot;&#39;&quot;+l_order_number +&quot;&#39;&quot;; \r\n    System.out.println(&quot;segmentValue&quot;+segmentValue); //at this point i can see the value &#39;679223&#39;\r\n    \r\n    \r\n    \r\n    PreparedStatement stmt = connection.prepareStatement(query);\r\n    stmt.setString(1, segmentValue);`\r\n               ResultSet rs = stmt.executeQuery();\r\n                if (rs.isBeforeFirst()) {\r\n                    System.out.println(&quot;Query executed successfully. Result:&quot;);\r\n                    while (rs.next()) {\r\n                        long salesOrderId = rs.getLong(&quot;sales_order_id&quot;);\r\n                        System.out.println(&quot;sales_order_id: &quot; + salesOrderId);\r\n                    }\r\n                } else {\r\n                   System.out.println(&quot;No rows found in the result set.&quot;);\r\n                }\r\n\r\nThe problem is that no matter what the value in variable salesOrderId is always = 0 and i fall into this part &quot;No rows found in the result set.&quot;  \r\n  \r\nWhat i am doing wrong?\r\n\r\nWhy i am not getting\r\n\r\nI try many MANY ways withput success","title":"Not getting the desired output in PreparedSql statement (JAVA)","body":"<p>Im trying to pass a value to a query and save the result from the column.The value need to be passed using &quot;single quotes&quot;</p>\n<pre><code>Example:SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = '679223';\n</code></pre>\n<p>The result from that is <strong>3321688 (NUMBER DATA TYPE)</strong></p>\n<p>I did this in java:</p>\n<pre><code>String query = &quot;SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = ?&quot;;\nString segmentValue = &quot;'&quot;+l_order_number +&quot;'&quot;; \nSystem.out.println(&quot;segmentValue&quot;+segmentValue); //at this point i can see the value '679223'\n\n\n\nPreparedStatement stmt = connection.prepareStatement(query);\nstmt.setString(1, segmentValue);`\n           ResultSet rs = stmt.executeQuery();\n            if (rs.isBeforeFirst()) {\n                System.out.println(&quot;Query executed successfully. Result:&quot;);\n                while (rs.next()) {\n                    long salesOrderId = rs.getLong(&quot;sales_order_id&quot;);\n                    System.out.println(&quot;sales_order_id: &quot; + salesOrderId);\n                }\n            } else {\n               System.out.println(&quot;No rows found in the result set.&quot;);\n            }\n</code></pre>\n<p>The problem is that no matter what the value in variable salesOrderId is always = 0 and i fall into this part &quot;No rows found in the result set.&quot;</p>\n<p>What i am doing wrong?</p>\n<p>Why i am not getting</p>\n<p>I try many MANY ways withput success</p>\n"},{"tags":["java","android","kotlin","protocol-buffers"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1685878455,"post_id":76399303,"comment_id":134719676,"body_markdown":"Protobuf messages to my experience only make sense if you define them in the proto language, generate the model classes for your language and use them. Serializing arbitrary data classes to proto isn&#39;t the way protobuf was designed and thus doesn&#39;t work so well.","body":"Protobuf messages to my experience only make sense if you define them in the proto language, generate the model classes for your language and use them. Serializing arbitrary data classes to proto isn&#39;t the way protobuf was designed and thus doesn&#39;t work so well."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1685900721,"post_id":76399303,"comment_id":134722303,"body_markdown":"Protobuf requires to know the schema of the data upfront, I don&#39;t think it can (de)serialize just any object. There are some libraries that try to serialize just any data by introspecting it, for example GSON. They won&#39;t be as space-efficient as protobuf though. To optimize space you can look for serializing the data into Bson or MessagePack. Anyway, this is a very tricky thing to do. What if objects reference some non-serialzable or heavy objects like `Activity`? What if there are circular references? Usually, it is better to create schemas explicitly.","body":"Protobuf requires to know the schema of the data upfront, I don&#39;t think it can (de)serialize just any object. There are some libraries that try to serialize just any data by introspecting it, for example GSON. They won&#39;t be as space-efficient as protobuf though. To optimize space you can look for serializing the data into Bson or MessagePack. Anyway, this is a very tricky thing to do. What if objects reference some non-serialzable or heavy objects like <code>Activity</code>? What if there are circular references? Usually, it is better to create schemas explicitly."}],"owner":{"account_id":9979751,"reputation":31,"user_id":7383082,"display_name":"Taylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685862683,"creation_date":1685862683,"question_id":76399303,"body_markdown":"Turn java object into protobuf programatically.\r\n\r\nI am developing a log lib in Android. The interface of Log lib is`fun log(message: Any)`. Anything could be logged, maybe it is a String or a data class.\r\n\r\nFor avoiding log losting, it is stored in sdcard. To make log smaller, i choose protobuf.\r\n\r\nI want to wrap the origin log with some extra info, so i write the following message in protobuf:\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\nimport &quot;google/protobuf/any.proto&quot;;\r\n\r\nmessage Log {\r\n  uint64 id = 1; // The unique id of Log\r\n  google.protobuf.Any data = 2; \r\n}\r\n```\r\n\r\nMy question is how to turn an java object into protobuf&#39;s Any programatically?\r\n\r\nOr is there any better way to achieve the goal?\r\n\r\n\r\n\r\nI have found [protobuf-dynamic](https://github.com/os72/protobuf-dynamic), but i dont event know what field is in java object.","title":"How can I convert a Java object to protobuf&#39;s Any programmatically?","body":"<p>Turn java object into protobuf programatically.</p>\n<p>I am developing a log lib in Android. The interface of Log lib is<code>fun log(message: Any)</code>. Anything could be logged, maybe it is a String or a data class.</p>\n<p>For avoiding log losting, it is stored in sdcard. To make log smaller, i choose protobuf.</p>\n<p>I want to wrap the origin log with some extra info, so i write the following message in protobuf:</p>\n<pre><code>syntax = &quot;proto3&quot;;\nimport &quot;google/protobuf/any.proto&quot;;\n\nmessage Log {\n  uint64 id = 1; // The unique id of Log\n  google.protobuf.Any data = 2; \n}\n</code></pre>\n<p>My question is how to turn an java object into protobuf's Any programatically?</p>\n<p>Or is there any better way to achieve the goal?</p>\n<p>I have found <a href=\"https://github.com/os72/protobuf-dynamic\" rel=\"nofollow noreferrer\">protobuf-dynamic</a>, but i dont event know what field is in java object.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":1,"creation_date":1618866134,"post_id":67168999,"comment_id":118728008,"body_markdown":"Have you checked whether your maven version is comparable with your java version or not?","body":"Have you checked whether your maven version is comparable with your java version or not?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1618903882,"post_id":67168999,"comment_id":118736662,"body_markdown":"You are using a ca. 9 year old pluing (maven-war-plugin) and a 13 year old plugin (maven-jetty-plugin) and you should use the most recent version https://maven.apache.org/plugins/ furthermore","body":"You are using a ca. 9 year old pluing (maven-war-plugin) and a 13 year old plugin (maven-jetty-plugin) and you should use the most recent version <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a> furthermore"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":2,"creation_date":1618939838,"post_id":67168999,"comment_id":118753122,"body_markdown":"I changed the versions of maven-war-plugin and maven-jetty-plugin and the errors disappeared. Thank you very much.","body":"I changed the versions of maven-war-plugin and maven-jetty-plugin and the errors disappeared. Thank you very much."},{"owner":{"account_id":1458880,"reputation":622,"user_id":1373752,"accept_rate":70,"display_name":"warfish"},"score":0,"creation_date":1626184926,"post_id":67168999,"comment_id":120821752,"body_markdown":"@Sani please post a solution and validate it","body":"@Sani please post a solution and validate it"}],"answers":[{"tags":[],"owner":{"account_id":22273071,"reputation":834,"user_id":16502719,"display_name":"Akshay"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1627067455,"creation_date":1626955935,"answer_id":68484632,"question_id":67168999,"body_markdown":"Change the version of the war plugin in your `pom.xml` and add `maven-compiler-plugin` according to your jdk version.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Maven error Cannot access defaults field of Properties","body":"<p>Change the version of the war plugin in your <code>pom.xml</code> and add <code>maven-compiler-plugin</code> according to your jdk version.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22194583,"reputation":1,"user_id":16436166,"display_name":"Ashish Gusian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683725290,"creation_date":1680673511,"answer_id":75936006,"question_id":67168999,"body_markdown":"```\r\n  &lt;pluginManagement&gt;\r\n   \r\n       &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.1.0&lt;/version&gt;\r\n         &lt;/plugin&gt;\r\n    \r\n         &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.0.2&lt;/version&gt;\r\n         &lt;/plugin&gt;\r\n         &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.8.0&lt;/version&gt;\r\n         &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.22.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;3.2.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;`enter code here`\r\n     &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n  &lt;/pluginManagement&gt;\r\n```\r\n\r\n\r\nAdd this plugin in `pom.xml` file in between &lt;build&gt; &lt;/build&gt;.\r\nerror will vanish","title":"Maven error Cannot access defaults field of Properties","body":"<pre><code>  &lt;pluginManagement&gt;\n   \n       &lt;plugins&gt;\n         &lt;plugin&gt;\n           &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.1.0&lt;/version&gt;\n         &lt;/plugin&gt;\n    \n         &lt;plugin&gt;\n           &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.0.2&lt;/version&gt;\n         &lt;/plugin&gt;\n         &lt;plugin&gt;\n           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.8.0&lt;/version&gt;\n         &lt;/plugin&gt;\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.22.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n     &lt;version&gt;3.2.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;`enter code here`\n     &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/plugin&gt;\n   &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;\n</code></pre>\n<p>Add this plugin in <code>pom.xml</code> file in between  .\nerror will vanish</p>\n"},{"tags":[],"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1685456950,"creation_date":1685456950,"answer_id":76365901,"question_id":67168999,"body_markdown":"with in your `build` tag paste below code\r\n\r\n    &lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;","title":"Maven error Cannot access defaults field of Properties","body":"<p>with in your <code>build</code> tag paste below code</p>\n<pre><code>&lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102097,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":68484632,"answer_count":3,"score":44,"last_activity_date":1685861266,"creation_date":1618864456,"question_id":67168999,"body_markdown":"I use the newest version of Java -&gt; 16. When I run mvn clean, I am getting ***Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer*** error. I read that adding maven-war-plugin can be a solution, but it didn&#39;t work for me. When I run mvn install, the following error occurs:  \r\n\r\n&gt; Error injecting constructor, java.lang.ExceptionInInitializerError:\r\n&gt; **Cannot access defaults field of Properties   at**\r\n&gt; org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)   while\r\n&gt; locating org.apache.maven.plugin.war.WarMojo\r\n\r\nHow can I solve these problems? Are they caused by the Java version?\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;web-programming&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;servlet-demo&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Optional. Allows the app to be run by simply typing mvn jetty:run --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.2.13&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;contextPath&gt;/&lt;/contextPath&gt;\r\n\t\t\t\t\t&lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\r\n\t\t\t\t\t&lt;connectors&gt;\r\n\t\t\t\t\t\t&lt;connector\r\n\t\t\t\t\t\t\timplementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;port&gt;9090&lt;/port&gt;\r\n\t\t\t\t\t\t&lt;/connector&gt;\r\n\t\t\t\t\t&lt;/connectors&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"Maven error Cannot access defaults field of Properties","body":"<p>I use the newest version of Java -&gt; 16. When I run mvn clean, I am getting <em><strong>Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer</strong></em> error. I read that adding maven-war-plugin can be a solution, but it didn't work for me. When I run mvn install, the following error occurs:</p>\n<blockquote>\n<p>Error injecting constructor, java.lang.ExceptionInInitializerError:\n<strong>Cannot access defaults field of Properties   at</strong>\norg.apache.maven.plugin.war.WarMojo.(Unknown Source)   while\nlocating org.apache.maven.plugin.war.WarMojo</p>\n</blockquote>\n<p>How can I solve these problems? Are they caused by the Java version?\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;web-programming&lt;/groupId&gt;\n&lt;artifactId&gt;servlet-demo&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Optional. Allows the app to be run by simply typing mvn jetty:run --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.1.4&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                    &lt;version&gt;1.2.13&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;contextPath&gt;/&lt;/contextPath&gt;\n                &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\n                &lt;connectors&gt;\n                    &lt;connector\n                        implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\n                        &lt;port&gt;9090&lt;/port&gt;\n                    &lt;/connector&gt;\n                &lt;/connectors&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","spring","htmlunit"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1685885968,"post_id":76399236,"comment_id":134720515,"body_markdown":"Have you been debug before ask question?  Method  ```loginToVotePage```  is static ,  and according to your code snippet it seems like  login info redirect scenario . Not sure how the code run  and  your did not clarify the account info is missing at which method or line ?  If your are using spring as network framewok that you can try to modify your method as local method and provide minimal runable demo that it would be more clear got your main issue.","body":"Have you been debug before ask question?  Method  <code>loginToVotePage</code>  is static ,  and according to your code snippet it seems like  login info redirect scenario . Not sure how the code run  and  your did not clarify the account info is missing at which method or line ?  If your are using spring as network framewok that you can try to modify your method as local method and provide minimal runable demo that it would be more clear got your main issue."}],"owner":{"account_id":16174816,"reputation":21,"user_id":11677764,"display_name":"ZackOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685861173,"creation_date":1685861173,"question_id":76399236,"body_markdown":"I am trying to submit my account info into this page (https://yoyaku.sports.metro.tokyo.lg.jp/user/view/user/homeIndex.html?te-uniquekey=1887c057141). But for some reason, when I use click method in navigateToOldVotePage function in below, it shows me username and password is empty error. I cannot figure out why the entered information is not submitted...\r\n\r\n\r\n```\r\npublic static HtmlPage loginToVotePage(WebClient webClient, Account account) {\r\n        HtmlPage loginPage = navigateToLoginPage(webClient);\r\n        HtmlPage loginPage = navigateToOldLoginPage(webClient);\r\n        return navigateToOldVotePage(loginPage, account);\r\n    }\r\n\r\n    private static HtmlPage navigateToOldLoginPage(WebClient webClient) {\r\n        try {\r\n            HtmlPage page = webClient.getPage(OLD_HOME_URL);\r\n            final List&lt;FrameWindow&gt; window = page.getFrames();\r\n            final HtmlPage pageTwo = (HtmlPage) window.get(1).getEnclosedPage();\r\n            HtmlAnchor loginAnchor = pageTwo.getFirstByXPath(OLD_LOGIN_XPATH);\r\n            return loginAnchor.click();\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error happend duing navigating to login page: &quot; + e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private static HtmlPage navigateToOldVotePage(HtmlPage page, Account account) {\r\n        try {\r\n            HtmlInput userInput = page.getElementByName(&quot;userId&quot;);\r\n            HtmlInput pwdInput = page.getElementByName(&quot;password&quot;);\r\n            userInput.setValueAttribute(account.toeiId);\r\n            pwdInput.setValueAttribute(account.password);\r\n            \r\n            HtmlAnchor submitLogin = page.getFirstByXPath(&quot;//*[@id=&#39;disp&#39;]/center/form/table[5]/tbody/tr[1]/td[2]/table/tbody/tr[2]/td/a&quot;);\r\n            HtmlPage loggedIn = submitLogin.click();\r\n\r\n            // 168...: /web/rsvWUA_Action.do\r\n\r\n            System.out.println(loggedIn.asXml());\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error happend duing loging process: &quot; + e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n```","title":"Why my HtmlUnit Login function does not work","body":"<p>I am trying to submit my account info into this page (<a href=\"https://yoyaku.sports.metro.tokyo.lg.jp/user/view/user/homeIndex.html?te-uniquekey=1887c057141\" rel=\"nofollow noreferrer\">https://yoyaku.sports.metro.tokyo.lg.jp/user/view/user/homeIndex.html?te-uniquekey=1887c057141</a>). But for some reason, when I use click method in navigateToOldVotePage function in below, it shows me username and password is empty error. I cannot figure out why the entered information is not submitted...</p>\n<pre><code>public static HtmlPage loginToVotePage(WebClient webClient, Account account) {\n        HtmlPage loginPage = navigateToLoginPage(webClient);\n        HtmlPage loginPage = navigateToOldLoginPage(webClient);\n        return navigateToOldVotePage(loginPage, account);\n    }\n\n    private static HtmlPage navigateToOldLoginPage(WebClient webClient) {\n        try {\n            HtmlPage page = webClient.getPage(OLD_HOME_URL);\n            final List&lt;FrameWindow&gt; window = page.getFrames();\n            final HtmlPage pageTwo = (HtmlPage) window.get(1).getEnclosedPage();\n            HtmlAnchor loginAnchor = pageTwo.getFirstByXPath(OLD_LOGIN_XPATH);\n            return loginAnchor.click();\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error happend duing navigating to login page: &quot; + e);\n        }\n\n        return null;\n    }\n\n    private static HtmlPage navigateToOldVotePage(HtmlPage page, Account account) {\n        try {\n            HtmlInput userInput = page.getElementByName(&quot;userId&quot;);\n            HtmlInput pwdInput = page.getElementByName(&quot;password&quot;);\n            userInput.setValueAttribute(account.toeiId);\n            pwdInput.setValueAttribute(account.password);\n            \n            HtmlAnchor submitLogin = page.getFirstByXPath(&quot;//*[@id='disp']/center/form/table[5]/tbody/tr[1]/td[2]/table/tbody/tr[2]/td/a&quot;);\n            HtmlPage loggedIn = submitLogin.click();\n\n            // 168...: /web/rsvWUA_Action.do\n\n            System.out.println(loggedIn.asXml());\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error happend duing loging process: &quot; + e);\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","object","oop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685831465,"creation_date":1685831465,"answer_id":76398268,"question_id":76397263,"body_markdown":"Change \r\nMath.abs(objs_one.get(z).age - objs_one.get(l).age\r\nto\r\nMath.abs(objs_one.get(z).age - objs_two.get(l).age","title":"Trying to Compute the differences in two different ArrayLists of Objects with Instance Fields of Type Integer[JAVA]","body":"<p>Change\nMath.abs(objs_one.get(z).age - objs_one.get(l).age\nto\nMath.abs(objs_one.get(z).age - objs_two.get(l).age</p>\n"}],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685860493,"creation_date":1685814111,"question_id":76397263,"body_markdown":"```\r\npackage pckg;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class Tester \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tArrayList&lt;TesterObj&gt; my_first_objects = new ArrayList&lt;TesterObj&gt;();\r\n\t\tTesterObj one = new TesterObj(5,&quot;john&quot;,6.8,&quot;HELKEOLOSSJK NHSSB BSBSJBS NS S&quot;);\r\n\t\tTesterObj two = new TesterObj(25,&quot;eric&quot;,12.32,&quot;SKSMK skm1d dms dnms kmdks&quot;);\r\n\t\tTesterObj three = new TesterObj(15,&quot;sally&quot;,2.40,&quot;dskmdnk kmdk kwmd kdsmkd qpdok&quot;);\r\n\t\tTesterObj four = new TesterObj(31,&quot;susan&quot;,9.87,&quot;ksmdks qwersc kpaolxnio akmdn&quot;);\r\n\t\tTesterObj five = new TesterObj(18,&quot;mary&quot;,86.32,&quot;dksnd oqoijdl padxl&quot;);\r\n\r\n\t\tmy_first_objects.add(one);\r\n\t\tmy_first_objects.add(two);\r\n\t\tmy_first_objects.add(three);\r\n\t\tmy_first_objects.add(four);\r\n\t\tmy_first_objects.add(five);\r\n\r\n\t\tArrayList&lt;TesterObj&gt; my_second_objects = new ArrayList&lt;TesterObj&gt;();\r\n\r\n\t\tTesterObj six = new TesterObj(12,&quot;jolly&quot;,20.4,&quot;dxksmd oasodkx skldm&quot;);\r\n\t\tTesterObj seven = new TesterObj(93,&quot;buddy&quot;,34.32,&quot;osdk lsldm lasdkoa&quot;);\r\n\t\tTesterObj eight = new TesterObj(44,&quot;kurt&quot;,90.54,&quot;dksmd llamz kmska alsmx&quot;);\r\n\t\tTesterObj nine = new TesterObj(35,&quot;jimi&quot;,923.23,&quot;alsmx zmasx skdm akdm&quot;);\r\n\t\tTesterObj ten = new TesterObj(42,&quot;kanye&quot;,12.43,&quot;aposdkx xksmd&quot;);\r\n\r\n\t\tmy_second_objects.add(six);\r\n\t\tmy_second_objects.add(seven);\r\n\t\tmy_second_objects.add(eight);\r\n\t\tmy_second_objects.add(nine);\r\n\t\tmy_second_objects.add(ten);\r\n\r\n\t\tmatch(my_first_objects, my_second_objects);\r\n\t}\r\n\r\n\t// OBJS_ONE and OBJS_TWO MUST BE EQUAL IN SIZE!!! , 3 is number of instance fields to compare\r\n\r\n\tpublic static HashMap&lt;TesterObj,TesterObj&gt; match(ArrayList&lt;TesterObj&gt; objs_one, ArrayList&lt;TesterObj&gt; objs_two)\r\n\t{\r\n\t\tArrayList&lt;Integer&gt; diffs = new ArrayList&lt;Integer&gt;();\r\n\t\tHashMap&lt;TesterObj,TesterObj&gt; map = new HashMap&lt;TesterObj,TesterObj&gt;();\r\n\r\n\t\tfor(int z=0;z&lt;objs_one.size(); z++) \r\n\t\t{\r\n\t\t\tfor(int l = 0;l&lt;objs_two.size(); l++) \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;THE AGE OF OBJ ONE IS &quot; + objs_one.get(z).age +\r\n\t\t\t\t\t\t&quot;THE AGE OF OBJ TWO IS &quot; + objs_two.get(l).age );\r\n\t\t\t\tdiffs.add(Math.abs(objs_one.get(z).age - objs_one.get(l).age));\r\n\t\t\t\tSystem.out.println(diffs);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n}\r\n```\r\nThe first iteration(of the inner loop) should return 7 because `Math.abs(5-12)` is 7 but it instead returns 0. This pattern continues and the next iteration returns 10 when it should return `Math.abs(5-93)` or 88.\r\n\r\nThe goal of this project is then to continue this on a row by row basis (each obj one iterates once for n obj two elements) until finished then the lowest difference is returned.","title":"Trying to Compute the differences in two different ArrayLists of Objects with Instance Fields of Type Integer[JAVA]","body":"<pre><code>package pckg;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class Tester \n{\n    public static void main(String[] args) \n    {\n        ArrayList&lt;TesterObj&gt; my_first_objects = new ArrayList&lt;TesterObj&gt;();\n        TesterObj one = new TesterObj(5,&quot;john&quot;,6.8,&quot;HELKEOLOSSJK NHSSB BSBSJBS NS S&quot;);\n        TesterObj two = new TesterObj(25,&quot;eric&quot;,12.32,&quot;SKSMK skm1d dms dnms kmdks&quot;);\n        TesterObj three = new TesterObj(15,&quot;sally&quot;,2.40,&quot;dskmdnk kmdk kwmd kdsmkd qpdok&quot;);\n        TesterObj four = new TesterObj(31,&quot;susan&quot;,9.87,&quot;ksmdks qwersc kpaolxnio akmdn&quot;);\n        TesterObj five = new TesterObj(18,&quot;mary&quot;,86.32,&quot;dksnd oqoijdl padxl&quot;);\n\n        my_first_objects.add(one);\n        my_first_objects.add(two);\n        my_first_objects.add(three);\n        my_first_objects.add(four);\n        my_first_objects.add(five);\n\n        ArrayList&lt;TesterObj&gt; my_second_objects = new ArrayList&lt;TesterObj&gt;();\n\n        TesterObj six = new TesterObj(12,&quot;jolly&quot;,20.4,&quot;dxksmd oasodkx skldm&quot;);\n        TesterObj seven = new TesterObj(93,&quot;buddy&quot;,34.32,&quot;osdk lsldm lasdkoa&quot;);\n        TesterObj eight = new TesterObj(44,&quot;kurt&quot;,90.54,&quot;dksmd llamz kmska alsmx&quot;);\n        TesterObj nine = new TesterObj(35,&quot;jimi&quot;,923.23,&quot;alsmx zmasx skdm akdm&quot;);\n        TesterObj ten = new TesterObj(42,&quot;kanye&quot;,12.43,&quot;aposdkx xksmd&quot;);\n\n        my_second_objects.add(six);\n        my_second_objects.add(seven);\n        my_second_objects.add(eight);\n        my_second_objects.add(nine);\n        my_second_objects.add(ten);\n\n        match(my_first_objects, my_second_objects);\n    }\n\n    // OBJS_ONE and OBJS_TWO MUST BE EQUAL IN SIZE!!! , 3 is number of instance fields to compare\n\n    public static HashMap&lt;TesterObj,TesterObj&gt; match(ArrayList&lt;TesterObj&gt; objs_one, ArrayList&lt;TesterObj&gt; objs_two)\n    {\n        ArrayList&lt;Integer&gt; diffs = new ArrayList&lt;Integer&gt;();\n        HashMap&lt;TesterObj,TesterObj&gt; map = new HashMap&lt;TesterObj,TesterObj&gt;();\n\n        for(int z=0;z&lt;objs_one.size(); z++) \n        {\n            for(int l = 0;l&lt;objs_two.size(); l++) \n            {\n                System.out.println(&quot;THE AGE OF OBJ ONE IS &quot; + objs_one.get(z).age +\n                        &quot;THE AGE OF OBJ TWO IS &quot; + objs_two.get(l).age );\n                diffs.add(Math.abs(objs_one.get(z).age - objs_one.get(l).age));\n                System.out.println(diffs);\n            }\n        }\n        return map;\n    }\n}\n</code></pre>\n<p>The first iteration(of the inner loop) should return 7 because <code>Math.abs(5-12)</code> is 7 but it instead returns 0. This pattern continues and the next iteration returns 10 when it should return <code>Math.abs(5-93)</code> or 88.</p>\n<p>The goal of this project is then to continue this on a row by row basis (each obj one iterates once for n obj two elements) until finished then the lowest difference is returned.</p>\n"},{"tags":["java","jar","gstreamer","executable-jar","gstreamer-1.0"],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685860314,"creation_date":1678610375,"question_id":75711945,"body_markdown":"I am running the code once with a loop which use pipelines and buses again and again.\r\nat the end of each iteration i want to clean completely all the resources.\r\nI&#39;ve looked into the documents and looks like this should be enough:\r\n\r\n    pipeline.setState(State.NULL);\r\n    bus.dispose();\r\n    pipeline.dispose();\r\n\r\nhowever, when the application run again I still see the number of pipeline and bus object incrementing and not beginning from 0.\r\nTried also to use Gst.deinit() and Gst.init(), nothing seem to work.\r\nIs disposing the pipeline and bus object not suppose to reset them completely?\r\n\r\nEdit:\r\nI&#39;m still trying to find the right way of cleaning the memory used by each pipeline..\r\nAlso tried to add bus.clearSyncHandler() before the disposing but still the pipeline and bus numbers are continuously growing. ","title":"GStreamer - using dispose function won&#39;t clean up resources","body":"<p>I am running the code once with a loop which use pipelines and buses again and again.\nat the end of each iteration i want to clean completely all the resources.\nI've looked into the documents and looks like this should be enough:</p>\n<pre><code>pipeline.setState(State.NULL);\nbus.dispose();\npipeline.dispose();\n</code></pre>\n<p>however, when the application run again I still see the number of pipeline and bus object incrementing and not beginning from 0.\nTried also to use Gst.deinit() and Gst.init(), nothing seem to work.\nIs disposing the pipeline and bus object not suppose to reset them completely?</p>\n<p>Edit:\nI'm still trying to find the right way of cleaning the memory used by each pipeline..\nAlso tried to add bus.clearSyncHandler() before the disposing but still the pipeline and bus numbers are continuously growing.</p>\n"},{"tags":["java","glowroot"],"owner":{"account_id":26308422,"reputation":126,"user_id":19972444,"display_name":"Neos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685859077,"creation_date":1685859077,"question_id":76399151,"body_markdown":"I downloaded GLOWROOT code source from their GitHub repository \r\n[https://github.com/glowroot/glowroot] then I build the project . \r\nMy main goal is to do some modification to the errors section because I am not in need to trace the errors section . \r\n\r\nSo I built the application and it was too many several jars on every location of the project which made it hard for me to handle and to re-arrange it in a manner to deploy it within my WILDFLY 15 application Server. \r\n\r\nI tried to see if I can do anything  on the binary distribution but as far as I understand the UI gets generated in the application deployment and it is not accessible from outside . \r\n\r\nI opened an issue about this like a service request to get some clarifications but no response . \r\n\r\nI would prefer a solution that handles the issue within the GLOWROOT project that I cloned from the git repository . \r\n\r\nThanks a lot for your time and your help . \r\n\r\n\r\n\r\nI tried to change the UI and re-arrange the project to deploy it . \r\n\r\nand jars were a lot I didn&#39;t know even how to arrange them in a deployable way . ","title":"Glowroot Api is very hard to handle in terms of building","body":"<p>I downloaded GLOWROOT code source from their GitHub repository\n[https://github.com/glowroot/glowroot] then I build the project .\nMy main goal is to do some modification to the errors section because I am not in need to trace the errors section .</p>\n<p>So I built the application and it was too many several jars on every location of the project which made it hard for me to handle and to re-arrange it in a manner to deploy it within my WILDFLY 15 application Server.</p>\n<p>I tried to see if I can do anything  on the binary distribution but as far as I understand the UI gets generated in the application deployment and it is not accessible from outside .</p>\n<p>I opened an issue about this like a service request to get some clarifications but no response .</p>\n<p>I would prefer a solution that handles the issue within the GLOWROOT project that I cloned from the git repository .</p>\n<p>Thanks a lot for your time and your help .</p>\n<p>I tried to change the UI and re-arrange the project to deploy it .</p>\n<p>and jars were a lot I didn't know even how to arrange them in a deployable way .</p>\n"},{"tags":["javascript","java","pentaho"],"comments":[{"owner":{"account_id":14350718,"reputation":4439,"user_id":10366273,"display_name":"MyNameIsCaleb"},"score":0,"creation_date":1556031245,"post_id":55813495,"comment_id":98294671,"body_markdown":"What have you tried so far? Please provide a MCVE: https://stackoverflow.com/help/mcve","body":"What have you tried so far? Please provide a MCVE: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}],"answers":[{"tags":[],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1559052187,"creation_date":1556029717,"answer_id":55813496,"question_id":55813495,"body_markdown":"Just add a step `JavaScript Modified Values` with the following code:\r\n\r\n```javascript \r\nvar reader = new com.lowagie.text.pdf.PdfReader(&quot;c:\\\\temp\\\\mypdf.pdf&quot;) // OR JUST PUT THE COLUMN NAME IN THE FLOW;\r\nvar pdfTE = new com.lowagie.text.pdf.parser.PdfTextExtractor(reader);\r\nvar noOfPages = reader.getNumberOfPages();\r\nvar textPDF = &quot;&quot;;\r\nfor (var i = 1; i &lt;= noOfPages; i++) {\r\n\ttextPDF += pdfTE.getTextFromPage(i);\r\n}\r\n```","title":"How to extract text from pdfs with pentaho?","body":"<p>Just add a step <code>JavaScript Modified Values</code> with the following code:</p>\n\n<pre><code>var reader = new com.lowagie.text.pdf.PdfReader(\"c:\\\\temp\\\\mypdf.pdf\") // OR JUST PUT THE COLUMN NAME IN THE FLOW;\nvar pdfTE = new com.lowagie.text.pdf.parser.PdfTextExtractor(reader);\nvar noOfPages = reader.getNumberOfPages();\nvar textPDF = \"\";\nfor (var i = 1; i &lt;= noOfPages; i++) {\n    textPDF += pdfTE.getTextFromPage(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11800937,"reputation":61,"user_id":8634657,"display_name":"Hernan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685857309,"creation_date":1685857309,"answer_id":76399086,"question_id":55813495,"body_markdown":"I followed these steps:\r\n\r\n 1. Put the jar file itextpdf-5.5.9.jar in ~\\pdi-ce-9.4.0.0-343\\data-integration\\lib\r\n 2. Configure a User Defined Java Class as follows:\r\n\r\n  2.a. **Class code**\r\n\r\n\t\t\t\timport java.io.IOException;\r\n\t\t\t\t\r\n\t\t\t\timport com.itextpdf.text.pdf.PdfReader;\r\n\t\t\t\timport com.itextpdf.text.pdf.parser.PdfTextExtractor;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//String firstnameField;\r\n\t\t\t\t//String lastnameField;\r\n\t\t\t\tString nameField;\r\n\t\t\t\t\r\n\t\t\t\t//https://www.w3schools.blog/itext-read-pdf-file-in-java\r\n\t\t\t\t\r\n\t\t\t\tpublic boolean processRow(StepMetaInterface smi, StepDataInterface sdi) throws KettleException\r\n\t\t\t\t{\r\n\t\t\t\t\t// First, get a row from the default input hop\r\n\t\t\t\t\t//\r\n\t\t\t\t\tObject[] r = getRow();\r\n\t\t\t\t\r\n\t\t\t\t\t// If the row object is null, we are done processing.\r\n\t\t\t\t\t//\r\n\t\t\t\t\tif (r == null) {\r\n\t\t\t\t\t\tsetOutputDone();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (first) {\r\n\t\t\t\t\t\t//firstnameField = getParameter(&quot;FIRSTNAME_FIELD&quot;);\r\n\t\t\t\t\t\t//lastnameField = getParameter(&quot;LASTNAME_FIELD&quot;);\r\n\t\t\t\t\t\tnameField = getParameter(&quot;NAME_FIELD&quot;);\r\n\t\t\t\t\t\tfirst=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t// It is always safest to call createOutputRow() to ensure that your output row&#39;s Object[] is large\r\n\t\t\t\t\t// enough to handle any new fields you are creating in this step.\r\n\t\t\t\t\t//\r\n\t\t\t\t\tObject[] outputRow = createOutputRow(r, data.outputRowMeta.size());\r\n\t\t\t\t\r\n\t\t\t\t\t//String firstname = get(Fields.In, firstnameField).getString(r);\r\n\t\t\t\t\t//String lastname = get(Fields.In, lastnameField).getString(r);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tString pageContent = &quot;&quot;;\r\n\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//Create PdfReader instance.\r\n\t\t\t\t\t\tString path = &quot;C:\\\\Users\\\\myusername\\\\Downloads\\\\myPDF.pdf&quot;;\r\n\t\t\t\t\t\tpath = path.replace(&quot;\\\\&quot;, &quot;/&quot;);        \r\n\t\t\t\t\t\tPdfReader pdfReader = new PdfReader(path);\r\n\t\t\t\t\r\n\t\t\t\t\t\t//Get the number of pages in pdf.\r\n\t\t\t\t\t\tint pages = pdfReader.getNumberOfPages();\r\n\t\t\t\t\r\n\t\t\t\t\t\t//Iterate the pdf through pages.\r\n\t\t\t\t\t\tfor(int i=1; i&lt;=pages; i++) {\r\n\t\t\t\t\t\t\t//Extract the page content using PdfTextExtractor.\r\n\t\t\t\t\t\t\tpageContent =\r\n\t\t\t\t\t\t\tPdfTextExtractor.getTextFromPage(pdfReader, i);\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t//Print the page content on console.\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Content on Page &quot;\r\n\t\t\t\t\t\t\t\t+ i + &quot;: &quot; + pageContent);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\t//Close the PdfReader.\r\n\t\t\t\t\t\tpdfReader.close();\r\n\t\t\t\t\r\n\t\t\t\t\t// OR JUST PUT THE COLUMN NAME IN THE FLOW;\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Set the value in the output field\r\n\t\t\t\t\t//\r\n\t\t\t\t\tget(Fields.Out, nameField).setValue(outputRow, pageContent);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// putRow will send the row on to the default output hop.\r\n\t\t\t\t\t//\r\n\t\t\t\t\tputRow(data.outputRowMeta, outputRow);\r\n\t\t\t\t\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\r\n 2.b. **Fields**\r\n[![image][1]][1]\r\n\r\n 2.c. **Parameters**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/25mcw.png\r\n  [2]: https://i.stack.imgur.com/dXBHV.png\r\n\r\nThe PDF content will be in the resulting field *pageContent*\r\n\r\nMy env:\r\n\r\n - Windows 10\r\n - Java 8\r\n - Pentaho Data Integration 9.4\r\n - itextpdf 5.5.9 (downloaded from https://repo1.maven.org/maven2/com/itextpdf/itextpdf/5.5.9/itextpdf-5.5.9.jar)","title":"How to extract text from pdfs with pentaho?","body":"<p>I followed these steps:</p>\n<ol>\n<li>Put the jar file itextpdf-5.5.9.jar in ~\\pdi-ce-9.4.0.0-343\\data-integration\\lib</li>\n<li>Configure a User Defined Java Class as follows:</li>\n</ol>\n<p>2.a. <strong>Class code</strong></p>\n<pre><code>            import java.io.IOException;\n            \n            import com.itextpdf.text.pdf.PdfReader;\n            import com.itextpdf.text.pdf.parser.PdfTextExtractor;\n            \n            \n            //String firstnameField;\n            //String lastnameField;\n            String nameField;\n            \n            //https://www.w3schools.blog/itext-read-pdf-file-in-java\n            \n            public boolean processRow(StepMetaInterface smi, StepDataInterface sdi) throws KettleException\n            {\n                // First, get a row from the default input hop\n                //\n                Object[] r = getRow();\n            \n                // If the row object is null, we are done processing.\n                //\n                if (r == null) {\n                    setOutputDone();\n                    return false;\n                }\n            \n                if (first) {\n                    //firstnameField = getParameter(&quot;FIRSTNAME_FIELD&quot;);\n                    //lastnameField = getParameter(&quot;LASTNAME_FIELD&quot;);\n                    nameField = getParameter(&quot;NAME_FIELD&quot;);\n                    first=false;\n                }\n            \n                // It is always safest to call createOutputRow() to ensure that your output row's Object[] is large\n                // enough to handle any new fields you are creating in this step.\n                //\n                Object[] outputRow = createOutputRow(r, data.outputRowMeta.size());\n            \n                //String firstname = get(Fields.In, firstnameField).getString(r);\n                //String lastname = get(Fields.In, lastnameField).getString(r);\n            \n            \n                String pageContent = &quot;&quot;;\n            \n                try {\n                    //Create PdfReader instance.\n                    String path = &quot;C:\\\\Users\\\\myusername\\\\Downloads\\\\myPDF.pdf&quot;;\n                    path = path.replace(&quot;\\\\&quot;, &quot;/&quot;);        \n                    PdfReader pdfReader = new PdfReader(path);\n            \n                    //Get the number of pages in pdf.\n                    int pages = pdfReader.getNumberOfPages();\n            \n                    //Iterate the pdf through pages.\n                    for(int i=1; i&lt;=pages; i++) {\n                        //Extract the page content using PdfTextExtractor.\n                        pageContent =\n                        PdfTextExtractor.getTextFromPage(pdfReader, i);\n            \n                        //Print the page content on console.\n                        System.out.println(&quot;Content on Page &quot;\n                            + i + &quot;: &quot; + pageContent);\n                    }\n            \n                    //Close the PdfReader.\n                    pdfReader.close();\n            \n                // OR JUST PUT THE COLUMN NAME IN THE FLOW;\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            \n                \n                // Set the value in the output field\n                //\n                get(Fields.Out, nameField).setValue(outputRow, pageContent);\n                \n                // putRow will send the row on to the default output hop.\n                //\n                putRow(data.outputRowMeta, outputRow);\n            \n                return true;\n            }\n</code></pre>\n<p>2.b. <strong>Fields</strong>\n<a href=\"https://i.stack.imgur.com/25mcw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25mcw.png\" alt=\"image\" /></a></p>\n<p>2.c. <strong>Parameters</strong>\n<a href=\"https://i.stack.imgur.com/dXBHV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dXBHV.png\" alt=\"enter image description here\" /></a></p>\n<p>The PDF content will be in the resulting field <em>pageContent</em></p>\n<p>My env:</p>\n<ul>\n<li>Windows 10</li>\n<li>Java 8</li>\n<li>Pentaho Data Integration 9.4</li>\n<li>itextpdf 5.5.9 (downloaded from <a href=\"https://repo1.maven.org/maven2/com/itextpdf/itextpdf/5.5.9/itextpdf-5.5.9.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/itextpdf/itextpdf/5.5.9/itextpdf-5.5.9.jar</a>)</li>\n</ul>\n"}],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2017,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1685857309,"creation_date":1556029717,"question_id":55813495,"body_markdown":"How can I read text from PDFs files using pentaho?\r\n\r\nIs there any solution using only built-in java libraries?","title":"How to extract text from pdfs with pentaho?","body":"<p>How can I read text from PDFs files using pentaho?</p>\n\n<p>Is there any solution using only built-in java libraries?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":2,"creation_date":1685731997,"post_id":76392681,"comment_id":134707607,"body_markdown":"I&#39;m curious as to why you would expect anything other than a 403?  If you want to call the `/hello` endpoint without being authenticated, then you need to add that to your security filter chain as a `permitAll()`","body":"I&#39;m curious as to why you would expect anything other than a 403?  If you want to call the <code>&#47;hello</code> endpoint without being authenticated, then you need to add that to your security filter chain as a <code>permitAll()</code>"},{"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"score":0,"creation_date":1685734703,"post_id":76392681,"comment_id":134708090,"body_markdown":"This is just a test filter where I am trying to prove spring security works. I have another project where I want to apply these learnings...in which my actual filter does inspect the header for a cookie and validate against the database.","body":"This is just a test filter where I am trying to prove spring security works. I have another project where I want to apply these learnings...in which my actual filter does inspect the header for a cookie and validate against the database."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1685738897,"post_id":76392681,"comment_id":134708721,"body_markdown":"@KishorePaila Spring Security works perfectly. You are not authenticated, so you can&#39;t access any resource. Your code works as it should be. If you expect something else, you should add athentication to your code.","body":"@KishorePaila Spring Security works perfectly. You are not authenticated, so you can&#39;t access any resource. Your code works as it should be. If you expect something else, you should add athentication to your code."}],"answers":[{"tags":[],"owner":{"account_id":6379574,"reputation":188,"user_id":4949489,"display_name":"Brainwash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685739947,"creation_date":1685739294,"answer_id":76393426,"question_id":76392681,"body_markdown":"I assume, despite attempt to authenticate all Http requests, probably framework is expecting few more configuration. Due to lack of those configuration it is probably triggering forbidden access.\r\n\r\nCould you try something as below and let us know if it works?\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.addFilterBefore(new TestFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated();\r\n        return http.build();\r\n      }\r\n    }\r\n\r\nwe configure an in-memory user store with a single user &quot;user&quot; having the password &quot;password&quot; and the role &quot;USER&quot;. The configure(HttpSecurity http) method defines the authorization rules, allowing any request to be authenticated and using HTTP Basic authentication, obviously you can further enhance as per your need. I assume, missing credentials were triggering that error (just a guess).","title":"spring security 6 custom filter errors with 403 forbidden","body":"<p>I assume, despite attempt to authenticate all Http requests, probably framework is expecting few more configuration. Due to lack of those configuration it is probably triggering forbidden access.</p>\n<p>Could you try something as below and let us know if it works?</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.addFilterBefore(new TestFilter(), UsernamePasswordAuthenticationFilter.class)\n            .authorizeRequests()\n            .anyRequest().authenticated();\n    return http.build();\n  }\n}\n</code></pre>\n<p>we configure an in-memory user store with a single user &quot;user&quot; having the password &quot;password&quot; and the role &quot;USER&quot;. The configure(HttpSecurity http) method defines the authorization rules, allowing any request to be authenticated and using HTTP Basic authentication, obviously you can further enhance as per your need. I assume, missing credentials were triggering that error (just a guess).</p>\n"},{"tags":[],"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685855861,"creation_date":1685855861,"answer_id":76399029,"question_id":76392681,"body_markdown":"The only way I could tell Spring to only execute my filter (once) and not do anything else is with this configuration:\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http.build();\r\n    }\r\n```","title":"spring security 6 custom filter errors with 403 forbidden","body":"<p>The only way I could tell Spring to only execute my filter (once) and not do anything else is with this configuration:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1031,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685855861,"creation_date":1685730566,"question_id":76392681,"body_markdown":"When trying to test custom authentication using a custom filter (using spring security 6); I keep receiving &quot;Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access&quot; error in DEBUG logs. Does anyone know what I am missing in the configuration.\r\nI left the filter code empty for now.\r\n\r\nThis is what I see in DB logs when I hit the endpoint:\r\n```\r\n14:23:02.619 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms\r\n14:23:04.923 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /hello\r\n14:23:04.928 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/hello?continue to session\r\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\r\n14:23:05.504 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\r\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session\r\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig\r\n{\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(authorize -&gt; authorize\r\n                .anyRequest().authenticated()\r\n        );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class TestFilter extends GenericFilterBean {\r\n    @Override\r\n    public void doFilter(\r\n            ServletRequest request,\r\n            ServletResponse response,\r\n            FilterChain chain) throws IOException, ServletException {\r\n        System.out.print(&quot;::::::::::::::::::::in the test filter::::::::::::::::::::::&quot;);\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t@GetMapping(&quot;/hello&quot;)\r\n\tpublic String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\r\n\t\treturn String.format(&quot;Hello %s!&quot;, name);\r\n\t}\r\n}\r\n```","title":"spring security 6 custom filter errors with 403 forbidden","body":"<p>When trying to test custom authentication using a custom filter (using spring security 6); I keep receiving &quot;Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access&quot; error in DEBUG logs. Does anyone know what I am missing in the configuration.\nI left the filter code empty for now.</p>\n<p>This is what I see in DB logs when I hit the endpoint:</p>\n<pre><code>14:23:02.619 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms\n14:23:04.923 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /hello\n14:23:04.928 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/hello?continue to session\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\n14:23:05.504 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig\n{\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(authorize -&gt; authorize\n                .anyRequest().authenticated()\n        );\n        return http.build();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class TestFilter extends GenericFilterBean {\n    @Override\n    public void doFilter(\n            ServletRequest request,\n            ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n        System.out.print(&quot;::::::::::::::::::::in the test filter::::::::::::::::::::::&quot;);\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\n        return String.format(&quot;Hello %s!&quot;, name);\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","tomcat7","setenv"],"answers":[{"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1330425035,"creation_date":1330425035,"answer_id":9480266,"question_id":9480210,"body_markdown":"Just create one yourself; it isn&#39;t part of the distribution. It&#39;s not that hard. For your case, simply add\r\n\r\n    JRE_HOME=/path/to/your/java/installation\r\n\r\nto the file and make it executable (`chmod 755 setenv.sh`).\r\n\r\nYou can also add other options (e.g. `-Xmx`) if necessary.","title":"Tomcat 7 setenv.sh is not found","body":"<p>Just create one yourself; it isn't part of the distribution. It's not that hard. For your case, simply add</p>\n\n<pre><code>JRE_HOME=/path/to/your/java/installation\n</code></pre>\n\n<p>to the file and make it executable (<code>chmod 755 setenv.sh</code>).</p>\n\n<p>You can also add other options (e.g. <code>-Xmx</code>) if necessary.</p>\n"},{"tags":[],"owner":{"account_id":1810936,"reputation":269,"user_id":1647025,"display_name":"kirigiri"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1391376138,"creation_date":1379719997,"answer_id":18927324,"question_id":9480210,"body_markdown":"User Mindas&#39; answer is completely correct: it is necessary to create the `setenv.sh` file in either the `CATALINA_HOME` or `CATALINA_BASE` directory, as the comment in the `catalina.sh` file indicates.  \r\n\r\nHowever, there is a &quot;chicken and egg&quot; problem wherein Tomcat must guess the location of the `CATALINA_HOME/bin/` directory in the case where the `CATALINA_HOME` environment variable is not set.  \r\n\r\nI have encountered this situation on a Ubuntu server where fortunately Tomcat guesses the `CATALINA_HOME/bin/` directory correctly.  For a single-user environment where customization of Tomcat for different users isn&#39;t necessary, it seems that setting the `JAVA_HOME` or `JRE_HOME` environment variable in the `catalina.sh` script would be a solution to the &quot;chicken and egg&quot; problem.","title":"Tomcat 7 setenv.sh is not found","body":"<p>User Mindas' answer is completely correct: it is necessary to create the <code>setenv.sh</code> file in either the <code>CATALINA_HOME</code> or <code>CATALINA_BASE</code> directory, as the comment in the <code>catalina.sh</code> file indicates.  </p>\n\n<p>However, there is a \"chicken and egg\" problem wherein Tomcat must guess the location of the <code>CATALINA_HOME/bin/</code> directory in the case where the <code>CATALINA_HOME</code> environment variable is not set.  </p>\n\n<p>I have encountered this situation on a Ubuntu server where fortunately Tomcat guesses the <code>CATALINA_HOME/bin/</code> directory correctly.  For a single-user environment where customization of Tomcat for different users isn't necessary, it seems that setting the <code>JAVA_HOME</code> or <code>JRE_HOME</code> environment variable in the <code>catalina.sh</code> script would be a solution to the \"chicken and egg\" problem.</p>\n"},{"tags":[],"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1685854392,"creation_date":1379789696,"answer_id":18936348,"question_id":9480210,"body_markdown":"Documentation actually mentions the absence of the `setenv.(sh|bat)` file (by default):\r\n\r\n&gt; (3.4) Using the &quot;setenv&quot; script (optional, recommended)\r\n&gt; \r\n&gt; Apart from CATALINA_HOME and CATALINA_BASE, all environment variables\r\n&gt; can be specified in the &quot;setenv&quot; script. The script is placed either\r\n&gt; into CATALINA_BASE/bin or into CATALINA_HOME/bin directory and is\r\n&gt; named setenv.bat (on Windows) or setenv.sh (on *nix). The file has to\r\n&gt; be readable.\r\n&gt; \r\n&gt; By default the setenv script file is absent. If the script file is\r\n&gt; present both in CATALINA_BASE and in CATALINA_HOME, the one in\r\n&gt; CATALINA_BASE is preferred.\r\n&gt; \r\n&gt; For example, to configure the JRE_HOME and CATALINA_PID variables you\r\n&gt; can create the following script file:\r\n&gt; \r\n&gt; On Windows, %CATALINA_BASE%\\bin\\setenv.bat:\r\n&gt; \r\n&gt;       set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre@MIN_JAVA_VERSION@&quot;\r\n&gt;       exit /b 0\r\n&gt; \r\n&gt; On *nix, $CATALINA_BASE/bin/setenv.sh:\r\n&gt;\r\n&gt;       JRE_HOME=/usr/java/latest\r\n&gt;       CATALINA_PID=&quot;/run/tomcat.pid&quot;\r\n\r\n\r\n\r\n&lt;https://github.com/apache/tomcat/blob/10.1.9/RUNNING.txt#L151&gt;","title":"Tomcat 7 setenv.sh is not found","body":"<p>Documentation actually mentions the absence of the <code>setenv.(sh|bat)</code> file (by default):</p>\n<blockquote>\n<p>(3.4) Using the &quot;setenv&quot; script (optional, recommended)</p>\n<p>Apart from CATALINA_HOME and CATALINA_BASE, all environment variables\ncan be specified in the &quot;setenv&quot; script. The script is placed either\ninto CATALINA_BASE/bin or into CATALINA_HOME/bin directory and is\nnamed setenv.bat (on Windows) or setenv.sh (on *nix). The file has to\nbe readable.</p>\n<p>By default the setenv script file is absent. If the script file is\npresent both in CATALINA_BASE and in CATALINA_HOME, the one in\nCATALINA_BASE is preferred.</p>\n<p>For example, to configure the JRE_HOME and CATALINA_PID variables you\ncan create the following script file:</p>\n<p>On Windows, %CATALINA_BASE%\\bin\\setenv.bat:</p>\n<pre><code>  set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre@MIN_JAVA_VERSION@&quot;\n  exit /b 0\n</code></pre>\n<p>On *nix, $CATALINA_BASE/bin/setenv.sh:</p>\n<pre><code>  JRE_HOME=/usr/java/latest\n  CATALINA_PID=&quot;/run/tomcat.pid&quot;\n</code></pre>\n</blockquote>\n<p><a href=\"https://github.com/apache/tomcat/blob/10.1.9/RUNNING.txt#L151\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/10.1.9/RUNNING.txt#L151</a></p>\n"},{"tags":[],"owner":{"account_id":5587189,"reputation":475,"user_id":4427476,"display_name":"SUDARSHAN BHALERAO"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490630649,"creation_date":1490630649,"answer_id":43051272,"question_id":9480210,"body_markdown":"If you don&#39;t find the &quot;setenv.sh&quot;  or &quot;setenv.bat&quot; in bin folder of tomcat, follow the following setps:\r\n\r\n1.  Create new file in bin folder of tomcat.\r\n2.  Rename it to `setenv.sh` for **linux** user or `setenv.bat` for **windows** user\r\n3.  Now you can set multiple thing into this file:\r\n\r\n*Setting JRE_HOME*\r\n\r\nFor **linux** user \r\n\r\n    JRE_HOME=/path/to/jre/jre6\r\n\r\nFor **Windows** user\r\n\r\n    set JAVA_HOME=C:\\Path\\to\\jre\\jdk6\r\n\r\n\r\n*Setting JAVA_OPTS*\r\n\r\nFor **linux** user\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///C:/foobar.properties&quot;\r\n\r\nFor **windows** user\r\n\r\n    set &quot;JAVA_OPTS=%JAVA_OPTS% -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///D:\\foobar.properties&quot;\r\n\r\n**Restart tomcat after setting variables**.\r\nThat&#39;s it.","title":"Tomcat 7 setenv.sh is not found","body":"<p>If you don't find the \"setenv.sh\"  or \"setenv.bat\" in bin folder of tomcat, follow the following setps:</p>\n\n<ol>\n<li>Create new file in bin folder of tomcat.</li>\n<li>Rename it to <code>setenv.sh</code> for <strong>linux</strong> user or <code>setenv.bat</code> for <strong>windows</strong> user</li>\n<li>Now you can set multiple thing into this file:</li>\n</ol>\n\n<p><em>Setting JRE_HOME</em></p>\n\n<p>For <strong>linux</strong> user </p>\n\n<pre><code>JRE_HOME=/path/to/jre/jre6\n</code></pre>\n\n<p>For <strong>Windows</strong> user</p>\n\n<pre><code>set JAVA_HOME=C:\\Path\\to\\jre\\jdk6\n</code></pre>\n\n<p><em>Setting JAVA_OPTS</em></p>\n\n<p>For <strong>linux</strong> user</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///C:/foobar.properties\"\n</code></pre>\n\n<p>For <strong>windows</strong> user</p>\n\n<pre><code>set \"JAVA_OPTS=%JAVA_OPTS% -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///D:\\foobar.properties\"\n</code></pre>\n\n<p><strong>Restart tomcat after setting variables</strong>.\nThat's it.</p>\n"},{"tags":[],"owner":{"account_id":36818,"reputation":2521,"user_id":105101,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672433946,"creation_date":1672433946,"answer_id":74965757,"question_id":9480210,"body_markdown":"In my case, I downloaded Tomcat for Windows. It also came with Linux shell scripts, so I created a &#39;setenv.sh&#39; and tried to run it from Windows Subsystem for Linux, but got the above error. The issue was that the non-binary shell scripts were formatted for Windows, and Linux didn&#39;t know how to run them. After converting them to Linux format, it was able to recognize and run the scripts. Try this to convert from Windows to Linux:\r\n\r\n    dos2unix $CATALINA_HOME/bin/*.sh","title":"Tomcat 7 setenv.sh is not found","body":"<p>In my case, I downloaded Tomcat for Windows. It also came with Linux shell scripts, so I created a 'setenv.sh' and tried to run it from Windows Subsystem for Linux, but got the above error. The issue was that the non-binary shell scripts were formatted for Windows, and Linux didn't know how to run them. After converting them to Linux format, it was able to recognize and run the scripts. Try this to convert from Windows to Linux:</p>\n<pre><code>dos2unix $CATALINA_HOME/bin/*.sh\n</code></pre>\n"}],"owner":{"account_id":43590,"reputation":13459,"user_id":127511,"accept_rate":49,"display_name":"Prakash Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95187,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"answer_count":5,"score":27,"last_activity_date":1685854392,"creation_date":1330424745,"question_id":9480210,"body_markdown":"I downloaded and extracted the [apache-tomcat-7.0][1]. As per the instructions in the RUNNING.txt (%CATALINA_BASE%/RUNNING.txt), it should set the JRE_HOME in the &quot;setenv.sh&quot; file.\r\n\r\nWhere is this file located ? Documentation said, it would be in CATALINA_HOME/bin directory. However this file is not present there.\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/setup.html#Introduction","title":"Tomcat 7 setenv.sh is not found","body":"<p>I downloaded and extracted the <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/setup.html#Introduction\">apache-tomcat-7.0</a>. As per the instructions in the RUNNING.txt (%CATALINA_BASE%/RUNNING.txt), it should set the JRE_HOME in the \"setenv.sh\" file.</p>\n\n<p>Where is this file located ? Documentation said, it would be in CATALINA_HOME/bin directory. However this file is not present there.</p>\n"},{"tags":["java","string","input","java.util.scanner"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1685845114,"post_id":76398643,"comment_id":134717444,"body_markdown":"Not possible, I’m afraid.  Output and input are completely separate from each other.  Program output cannot be “undone.”  What is your goal?  Perhaps there is another way to achieve it.","body":"Not possible, I’m afraid.  Output and input are completely separate from each other.  Program output cannot be “undone.”  What is your goal?  Perhaps there is another way to achieve it."}],"answers":[{"tags":[],"owner":{"account_id":21112081,"reputation":21,"user_id":15519826,"display_name":"DAvinash97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685853017,"creation_date":1685853017,"answer_id":76398934,"question_id":76398643,"body_markdown":"I am not sure what you are asking. If this is **not** your desired output. Just Let me know! So coming to my answer, if you mean to replace A&#39;s value, and as per your code it returns `HelloThere` but you want `There` (the user input). If that&#39;s so, you can define another variable and get the user input. And then change A&#39;s value.\r\n\r\nLike this:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner ir = new Scanner (System.in);\r\n        String A = &quot;Hello&quot;;\r\n        System.out.println(A); // Current Value of A\r\n        String B = ir.nextLine(); // Taking User&#39;s input\r\n        A = B; // Changing A&#39;s Value\r\n        System.out.println(A); // New value\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nHello\r\nThere\r\nThere\r\n```","title":"Is it possible to make an existing string editable for the user using Scanner? If so, how?","body":"<p>I am not sure what you are asking. If this is <strong>not</strong> your desired output. Just Let me know! So coming to my answer, if you mean to replace A's value, and as per your code it returns <code>HelloThere</code> but you want <code>There</code> (the user input). If that's so, you can define another variable and get the user input. And then change A's value.</p>\n<p>Like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args) throws Exception {\n        Scanner ir = new Scanner (System.in);\n        String A = &quot;Hello&quot;;\n        System.out.println(A); // Current Value of A\n        String B = ir.nextLine(); // Taking User's input\n        A = B; // Changing A's Value\n        System.out.println(A); // New value\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Hello\nThere\nThere\n</code></pre>\n"}],"owner":{"account_id":18607761,"reputation":1,"user_id":13560983,"display_name":"RLFD43"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685853017,"creation_date":1685842645,"question_id":76398643,"body_markdown":"So say my program has\r\n`String A = &quot;hello&quot;;`\r\n\r\nand I want it to paste &quot;A&quot; into the user&#39;s input space so the user can modify it(e.g. backspace, add more text), then once the user is done, they can just press enter and their input overwrites &quot;A&quot;.\r\n\r\nApologies if this has been asked before.\r\n\r\nso far this what I&#39;ve tried, but it can only add text, not delete them. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t    Scanner ir = new Scanner (System.in);\r\n\t\tString A = &quot;Hello&quot;;\r\n\t\tSystem.out.println(A);\r\n\t\tA = A+ ir.nextLine();\r\n\t\tSystem.out.println(A);\r\n\t}\r\n}\r\n```\r\n\r\nthis is the output. When i try to use backspace, it doesn&#39;t remove any characters from &quot;Hello&quot;\r\n\r\n```\r\nHello // output\r\n There  // input\r\nHello There // output\r\n```\r\n\r\n\r\n\r\n","title":"Is it possible to make an existing string editable for the user using Scanner? If so, how?","body":"<p>So say my program has\n<code>String A = &quot;hello&quot;;</code></p>\n<p>and I want it to paste &quot;A&quot; into the user's input space so the user can modify it(e.g. backspace, add more text), then once the user is done, they can just press enter and their input overwrites &quot;A&quot;.</p>\n<p>Apologies if this has been asked before.</p>\n<p>so far this what I've tried, but it can only add text, not delete them.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args) throws Exception {\n        Scanner ir = new Scanner (System.in);\n        String A = &quot;Hello&quot;;\n        System.out.println(A);\n        A = A+ ir.nextLine();\n        System.out.println(A);\n    }\n}\n</code></pre>\n<p>this is the output. When i try to use backspace, it doesn't remove any characters from &quot;Hello&quot;</p>\n<pre><code>Hello // output\n There  // input\nHello There // output\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666095106,"creation_date":1666095106,"answer_id":74110768,"question_id":74110470,"body_markdown":"Please remove ```exclude = {DataSourceAutoConfiguration.class }``` from below class and run again. It will fix the issue.\r\n\r\n```java\r\npackage com.devops.maven.cars_api_maven;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n\r\n@SpringBootApplication (\r\n        exclude = {DataSourceAutoConfiguration.class },\r\n        scanBasePackages={\r\n            &quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\r\n        )\r\n\r\n    public class CarsApplication {\r\n        \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CarsApplication.class, args);\r\n        }\r\n}\r\n```","title":"The injection point has the following annotations: @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Please remove <code>exclude = {DataSourceAutoConfiguration.class }</code> from below class and run again. It will fix the issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.devops.maven.cars_api_maven;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n\n@SpringBootApplication (\n        exclude = {DataSourceAutoConfiguration.class },\n        scanBasePackages={\n            &quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\n        )\n\n    public class CarsApplication {\n        \n        public static void main(String[] args) {\n            SpringApplication.run(CarsApplication.class, args);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111148,"reputation":8552,"user_id":4767429,"accept_rate":91,"display_name":"Avijit Nagare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685850555,"creation_date":1685850555,"answer_id":76398861,"question_id":74110470,"body_markdown":"I ran into this issue once. I didn&#39;t follow package conventions so spring boot couldn&#39;t find those classes/bean correctly. Even &quot;scanBasePackages&quot; didn&#39;t work.\r\n\r\nWrong package declarations:\r\n\r\n     Ex. com.example.course.dao\r\n         services\r\n         com.example.controller\r\n         course.entities\r\n\r\nCorrect declaration:\r\n \r\n\r\n    Ex. com.example.course.dao\r\n         com.example.course.services\r\n         com.example.course.controller\r\n         com.example.course.entities\r\nI hope this may help someone.","title":"The injection point has the following annotations: @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I ran into this issue once. I didn't follow package conventions so spring boot couldn't find those classes/bean correctly. Even &quot;scanBasePackages&quot; didn't work.</p>\n<p>Wrong package declarations:</p>\n<pre><code> Ex. com.example.course.dao\n     services\n     com.example.controller\n     course.entities\n</code></pre>\n<p>Correct declaration:</p>\n<pre><code>Ex. com.example.course.dao\n     com.example.course.services\n     com.example.course.controller\n     com.example.course.entities\n</code></pre>\n<p>I hope this may help someone.</p>\n"}],"owner":{"account_id":15246712,"reputation":15,"user_id":15582416,"display_name":"Loopinfility"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110768,"answer_count":2,"score":0,"last_activity_date":1685850555,"creation_date":1666093713,"question_id":74110470,"body_markdown":"Hello there I am new to spring boot, i am getting this error since a while, unfortunately can&#39;t fix it. I am googling since then but still not find what i did wrong. I believe the error exists in the Service Class. I tried to remove the field injection ( @Autowired) and implemented as a constructor injection but that did not work as well Find below my code:\r\n\r\nEntity:\r\n\r\n    package com.devops.maven.cars_api_maven.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @Entity\r\n    @Table(name = &quot;CARS&quot;)\r\n    @SequenceGenerator(name=&quot;seq&quot;, initialValue=4, allocationSize=100)\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)\r\n        private Long id;\r\n        String manufacturer;\r\n        String model;\r\n        int build;\r\n    \r\n        public Car() {\r\n        }\r\n    \r\n        public Car(Long id, String manufacturer, String model, int build) {\r\n            this.id = id;\r\n            this.manufacturer = manufacturer;\r\n            this.model = model;\r\n            this.build = build;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getManufacturer() {\r\n            return manufacturer;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public int getBuild() {\r\n            return build;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setManufacturer(String manufacturer) {\r\n            this.manufacturer = manufacturer;\r\n        }\r\n    \r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        public void setBuild(int build) {\r\n            this.build = build;\r\n        }\r\n    }\r\n\r\nDAO\r\n\r\n    package com.devops.maven.cars_api_maven.repositories;\r\n    \r\n    import com.devops.maven.cars_api_maven.model.Car;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    \r\n    @Repository\r\n    public interface CarsRepository extends JpaRepository&lt;Car, Long&gt; {\r\n    }\r\n\r\n\r\nMain\r\n\r\n    package com.devops.maven.cars_api_maven;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    \r\n    \r\n    @SpringBootApplication (\r\n    \t\texclude = {DataSourceAutoConfiguration.class },\r\n    \t\tscanBasePackages={\r\n    \t\t\t&quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\r\n    \t\t)\r\n    \r\n    \tpublic class CarsApplication {\r\n    \t\t\r\n    \t\tpublic static void main(String[] args) {\r\n    \t\t\tSpringApplication.run(CarsApplication.class, args);\r\n    \t\t}\r\n    }\r\n\r\nService Class\r\n\r\n\r\n    package com.devops.maven.cars_api_maven;\r\n    \r\n    import com.devops.maven.cars_api_maven.model.Car;\r\n    import com.devops.maven.cars_api_maven.repositories.CarsRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;cars&quot;)\r\n    @Service\r\n    public class CarsController {\r\n       @Autowired\r\n       private CarsRepository repository;\r\n    \r\n        @GetMapping\r\n        public List&lt;Car&gt; getCars() {\r\n            return repository.findAll();\r\n        }\r\n    \r\n        @PostMapping\r\n        public Car addCar(@RequestBody Car car) {\r\n            return repository.save(car);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n    \t@GetMapping(value = &quot;/{id}&quot;)\r\n        public Car getCarById(@PathVariable(&quot;id&quot;) long id) {\r\n            return repository.getOne(id);\r\n        }\r\n    \r\n        @DeleteMapping(value = &quot;/{id}&quot;)\r\n        public void removeCarById(@PathVariable(&quot;id&quot;) long id) {\r\n            repository.deleteById(id);\r\n        }\r\n    }\r\n\r\n\r\nError output: \r\n\r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field repository in com.devops.maven.cars_api_maven.CarsController\r\n&gt; required a bean of type\r\n&gt; &#39;com.devops.maven.cars_api_maven.repositories.CarsRepository&#39; that\r\n&gt; could not be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.devops.maven.cars_api_maven.repositories.CarsRepository&#39; in your\r\n&gt; configuration.\r\n\r\n\r\n","title":"The injection point has the following annotations: @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Hello there I am new to spring boot, i am getting this error since a while, unfortunately can't fix it. I am googling since then but still not find what i did wrong. I believe the error exists in the Service Class. I tried to remove the field injection ( @Autowired) and implemented as a constructor injection but that did not work as well Find below my code:</p>\n<p>Entity:</p>\n<pre><code>package com.devops.maven.cars_api_maven.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\n\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n@Entity\n@Table(name = &quot;CARS&quot;)\n@SequenceGenerator(name=&quot;seq&quot;, initialValue=4, allocationSize=100)\npublic class Car {\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)\n    private Long id;\n    String manufacturer;\n    String model;\n    int build;\n\n    public Car() {\n    }\n\n    public Car(Long id, String manufacturer, String model, int build) {\n        this.id = id;\n        this.manufacturer = manufacturer;\n        this.model = model;\n        this.build = build;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getManufacturer() {\n        return manufacturer;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public int getBuild() {\n        return build;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setManufacturer(String manufacturer) {\n        this.manufacturer = manufacturer;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public void setBuild(int build) {\n        this.build = build;\n    }\n}\n</code></pre>\n<p>DAO</p>\n<pre><code>package com.devops.maven.cars_api_maven.repositories;\n\nimport com.devops.maven.cars_api_maven.model.Car;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface CarsRepository extends JpaRepository&lt;Car, Long&gt; {\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.devops.maven.cars_api_maven;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n\n\n@SpringBootApplication (\n        exclude = {DataSourceAutoConfiguration.class },\n        scanBasePackages={\n            &quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\n        )\n\n    public class CarsApplication {\n        \n        public static void main(String[] args) {\n            SpringApplication.run(CarsApplication.class, args);\n        }\n}\n</code></pre>\n<p>Service Class</p>\n<pre><code>package com.devops.maven.cars_api_maven;\n\nimport com.devops.maven.cars_api_maven.model.Car;\nimport com.devops.maven.cars_api_maven.repositories.CarsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;cars&quot;)\n@Service\npublic class CarsController {\n   @Autowired\n   private CarsRepository repository;\n\n    @GetMapping\n    public List&lt;Car&gt; getCars() {\n        return repository.findAll();\n    }\n\n    @PostMapping\n    public Car addCar(@RequestBody Car car) {\n        return repository.save(car);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @GetMapping(value = &quot;/{id}&quot;)\n    public Car getCarById(@PathVariable(&quot;id&quot;) long id) {\n        return repository.getOne(id);\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public void removeCarById(@PathVariable(&quot;id&quot;) long id) {\n        repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>Error output:</p>\n<blockquote>\n<p>*************************** APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field repository in com.devops.maven.cars_api_maven.CarsController\nrequired a bean of type\n'com.devops.maven.cars_api_maven.repositories.CarsRepository' that\ncould not be found.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.devops.maven.cars_api_maven.repositories.CarsRepository' in your\nconfiguration.</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":3,"creation_date":1685851017,"post_id":76398746,"comment_id":134717691,"body_markdown":"Your problem is that you&#39;re trying to access the network on the main thread, just like [the exception&#39;s documentation](https://developer.android.com/reference/android/os/NetworkOnMainThreadException) says you can&#39;t do.","body":"Your problem is that you&#39;re trying to access the network on the main thread, just like <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException\" rel=\"nofollow noreferrer\">the exception&#39;s documentation</a> says you can&#39;t do."}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685850982,"answer_count":0,"score":0,"last_activity_date":1685849910,"creation_date":1685846095,"question_id":76398746,"body_markdown":"I&#39;m still new to Android development, and for one of my projects I decided to make a simple FTP client using Apache Commons. \r\n\r\nWhenever I try to connect to the FTP server I get this error\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.ftpbuddy, PID: 6287\r\n                                                                                                    android.os.NetworkOnMainThreadException\r\n                                                                                                    \tat android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1667)\r\n                                                                                                    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:389)\r\n                                                                                                    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n                                                                                                    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n                                                                                                    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n                                                                                                    \tat java.net.Socket.connect(Socket.java:646)\r\n                                                                                                    \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:132)\r\n                                                                                                    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:268)\r\n                                                                                                    \tat com.example.ftpbuddy.FTPServices.loginFtp(FTPServices.java:15)\r\n                                                                                                    \tat com.example.ftpbuddy.MainActivity$ConnectButtonHandler.onClick(MainActivity.java:38)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7506)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7483)\r\n                                                                                                    \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:29334)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\nI&#39;m not sure why this is giving me an issue. The connection details are correct, and I&#39;ve set the permissions. Here&#39;s my code\r\n\r\n**MainActivity.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText etHost;\r\n    EditText etPort;\r\n    EditText etUsername;\r\n    EditText etPassword;\r\n    Button btnConnect;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        etHost = findViewById(R.id.etHost);\r\n        etPort = findViewById(R.id.etPort);\r\n        etUsername = findViewById(R.id.etUsername);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        btnConnect = findViewById(R.id.btnConnect);\r\n\r\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\r\n    }\r\n\r\n    public class ConnectButtonHandler implements View.OnClickListener {\r\n        @Override\r\n        public void onClick(View v) {\r\n            FTPServices services = new FTPServices();\r\n            FTPClient current = services.loginFtp(\r\n                    etHost.getText().toString(),\r\n                    Integer.parseInt(etPort.getText().toString()),\r\n                    etUsername.getText().toString(),\r\n                    etPassword.getText().toString()\r\n            );\r\n\r\n            services.printDirectory(&quot;/home/gabriel&quot;, current);\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n**FTPService.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPFile;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class FTPServices {\r\n\r\n    public FTPClient loginFtp(String host, int port, String username, String password) {\r\n        FTPClient ftpClient = new FTPClient();\r\n\r\n        try {\r\n            ftpClient.connect(host, port);\r\n            ftpClient.login(username, password);\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n            System.out.println(e.getCause());\r\n\r\n        }\r\n\r\n        return ftpClient;\r\n    }\r\n\r\n    public void printDirectory(String directory, FTPClient ftpClient) {\r\n\r\n        try {\r\n            for(FTPFile ftpFile : ftpClient.listFiles(directory)) {\r\n                System.out.println(ftpFile.getName());\r\n                System.out.println();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThese are the permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\n\r\nOnce again, I&#39;m not too sure why this is happening, all the connection details are correct. If somebody could help guide me to the right direction then that would be great, thanks.","title":"Keep getting &quot;android.os.NetworkOnMainThreadException&quot;?","body":"<p>I'm still new to Android development, and for one of my projects I decided to make a simple FTP client using Apache Commons.</p>\n<p>Whenever I try to connect to the FTP server I get this error</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.example.ftpbuddy, PID: 6287\n                                                                                                    android.os.NetworkOnMainThreadException\n                                                                                                        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1667)\n                                                                                                        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:389)\n                                                                                                        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n                                                                                                        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n                                                                                                        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n                                                                                                        at java.net.Socket.connect(Socket.java:646)\n                                                                                                        at org.apache.commons.net.SocketClient._connect(SocketClient.java:132)\n                                                                                                        at org.apache.commons.net.SocketClient.connect(SocketClient.java:268)\n                                                                                                        at com.example.ftpbuddy.FTPServices.loginFtp(FTPServices.java:15)\n                                                                                                        at com.example.ftpbuddy.MainActivity$ConnectButtonHandler.onClick(MainActivity.java:38)\n                                                                                                        at android.view.View.performClick(View.java:7506)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n                                                                                                        at android.view.View.performClickInternal(View.java:7483)\n                                                                                                        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n                                                                                                        at android.view.View$PerformClick.run(View.java:29334)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:942)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                        at android.os.Looper.loop(Looper.java:288)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7872)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>I'm not sure why this is giving me an issue. The connection details are correct, and I've set the permissions. Here's my code</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport org.apache.commons.net.ftp.FTPClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText etHost;\n    EditText etPort;\n    EditText etUsername;\n    EditText etPassword;\n    Button btnConnect;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        etHost = findViewById(R.id.etHost);\n        etPort = findViewById(R.id.etPort);\n        etUsername = findViewById(R.id.etUsername);\n        etPassword = findViewById(R.id.etPassword);\n        btnConnect = findViewById(R.id.btnConnect);\n\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\n    }\n\n    public class ConnectButtonHandler implements View.OnClickListener {\n        @Override\n        public void onClick(View v) {\n            FTPServices services = new FTPServices();\n            FTPClient current = services.loginFtp(\n                    etHost.getText().toString(),\n                    Integer.parseInt(etPort.getText().toString()),\n                    etUsername.getText().toString(),\n                    etPassword.getText().toString()\n            );\n\n            services.printDirectory(&quot;/home/gabriel&quot;, current);\n\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>FTPService.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\n\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\n\nimport java.io.IOException;\n\npublic class FTPServices {\n\n    public FTPClient loginFtp(String host, int port, String username, String password) {\n        FTPClient ftpClient = new FTPClient();\n\n        try {\n            ftpClient.connect(host, port);\n            ftpClient.login(username, password);\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n            System.out.println(e.getCause());\n\n        }\n\n        return ftpClient;\n    }\n\n    public void printDirectory(String directory, FTPClient ftpClient) {\n\n        try {\n            for(FTPFile ftpFile : ftpClient.listFiles(directory)) {\n                System.out.println(ftpFile.getName());\n                System.out.println();\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n}\n</code></pre>\n<p>These are the permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>Once again, I'm not too sure why this is happening, all the connection details are correct. If somebody could help guide me to the right direction then that would be great, thanks.</p>\n"},{"tags":["java","google-api","java-web-start"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685849722,"post_id":76398762,"comment_id":134717627,"body_markdown":"It&#39;s not clear with you are trying to solve. I suggest to read [how to ask](https://stackoverflow.com/help/how-to-ask)","body":"It&#39;s not clear with you are trying to solve. I suggest to read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"}],"owner":{"account_id":28631620,"reputation":1,"user_id":21922533,"display_name":"Nguyen Anh Viet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685849054,"creation_date":1685846691,"question_id":76398762,"body_markdown":"\r\nwhen i create a java application i run successfull and can send \r\n\r\nMesseage ID: 188843b70d664da7\r\n\r\n    {\r\n      &quot;id&quot;: &quot;188843b70d664da7&quot;,\r\n      &quot;labelIds&quot;: [\r\n        &quot;UNREAD&quot;,\r\n        &quot;SENT&quot;,\r\n        &quot;INBOX&quot;\r\n      ],\r\n      &quot;threadId&quot;: &quot;188843b70d664da7&quot;\r\n    }\r\n\r\n\r\n\r\nBut when use code in java application to java web project i have a error\r\n\r\n    com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\r\n    POST https://oauth2.googleapis.com/token\r\n    {\r\n      &quot;error&quot;: &quot;invalid_grant&quot;,\r\n      &quot;error_description&quot;: &quot;Token has been expired or revoked.&quot;\r\n    }\r\n    \tat com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103)\r\n    \tat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308)\r\n    \tat com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:324)\r\n    \tat com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:547)\r\n    \tat com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:470)\r\n    \tat com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:201)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:880)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)\r\n    \tat controller.GMAIL.sendMail(GMAIL.java:108)\r\n    \tat action.ForgotPass.doGet(ForgotPass.java:76)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n","title":"I have a problem in java when send mail by google","body":"<p>when i create a java application i run successfull and can send</p>\n<p>Messeage ID: 188843b70d664da7</p>\n<pre><code>{\n  &quot;id&quot;: &quot;188843b70d664da7&quot;,\n  &quot;labelIds&quot;: [\n    &quot;UNREAD&quot;,\n    &quot;SENT&quot;,\n    &quot;INBOX&quot;\n  ],\n  &quot;threadId&quot;: &quot;188843b70d664da7&quot;\n}\n</code></pre>\n<p>But when use code in java application to java web project i have a error</p>\n<pre><code>com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\nPOST https://oauth2.googleapis.com/token\n{\n  &quot;error&quot;: &quot;invalid_grant&quot;,\n  &quot;error_description&quot;: &quot;Token has been expired or revoked.&quot;\n}\n    at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103)\n    at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308)\n    at com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:324)\n    at com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:547)\n    at com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:470)\n    at com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:201)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:880)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)\n    at controller.GMAIL.sendMail(GMAIL.java:108)\n    at action.ForgotPass.doGet(ForgotPass.java:76)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1685849408,"post_id":76398777,"comment_id":134717607,"body_markdown":"An [XY problem](https://en.wikipedia.org/wiki/XY_problem)? I suggest that you will want to describe why you think you need this?","body":"An <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>? I suggest that you will want to describe why you think you need this?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685851526,"post_id":76398777,"comment_id":134717716,"body_markdown":"Maybe you could do it by using bytecode engineering to *inject* a new constructor into the parent class.  But that&#39;s modifying the class.  AFAIK there&#39;s no way to do it without modifying the parent class.","body":"Maybe you could do it by using bytecode engineering to <i>inject</i> a new constructor into the parent class.  But that&#39;s modifying the class.  AFAIK there&#39;s no way to do it without modifying the parent class."},{"owner":{"account_id":190591,"reputation":199,"user_id":430665,"display_name":"tomzhi"},"score":0,"creation_date":1685859126,"post_id":76398777,"comment_id":134718061,"body_markdown":"@StephenC Thanks for the suggestion. There is a method in `Unsafe` to allocate the object without calling the constructor. But I don&#39;t know how to invoke constructors later with the desired argument. Not sure if it&#39;s even possible.","body":"@StephenC Thanks for the suggestion. There is a method in <code>Unsafe</code> to allocate the object without calling the constructor. But I don&#39;t know how to invoke constructors later with the desired argument. Not sure if it&#39;s even possible."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1685860384,"post_id":76398777,"comment_id":134718140,"body_markdown":"It isn&#39;t possible.","body":"It isn&#39;t possible."}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685848725,"creation_date":1685848725,"answer_id":76398814,"question_id":76398777,"body_markdown":"While you ask a great question, unfortunately, what you want is not possible with reflection and plain-old Java in general. It breaks encapsulation, the same reason `super.super.method()` is not permitted in Java. The design you describe is clearly something like:\r\n\r\n```java\r\n// SdkClass\r\npublic class Shape {\r\n  public Shape(boolean isRectangle) {}\r\n}\r\n\r\n// LibClass\r\npublic class Rectangle extends Shape {\r\n  public Rectangle() {\r\n    super(true);\r\n  }\r\n}\r\n\r\n// MyClass\r\npublic class Square extends Rectangle {\r\n  public Square() {\r\n    super();\r\n  }\r\n}\r\n```\r\n\r\nThe point is that `Rectangle` is designed to be a base class for all rectangular shapes.\r\n\r\nAlthough, if your application is containerized through some framework such as Spring, you could potentially leverage AOP to accomplish this: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html.","title":"Java: pass a different value to grandparent constructor","body":"<p>While you ask a great question, unfortunately, what you want is not possible with reflection and plain-old Java in general. It breaks encapsulation, the same reason <code>super.super.method()</code> is not permitted in Java. The design you describe is clearly something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// SdkClass\npublic class Shape {\n  public Shape(boolean isRectangle) {}\n}\n\n// LibClass\npublic class Rectangle extends Shape {\n  public Rectangle() {\n    super(true);\n  }\n}\n\n// MyClass\npublic class Square extends Rectangle {\n  public Square() {\n    super();\n  }\n}\n</code></pre>\n<p>The point is that <code>Rectangle</code> is designed to be a base class for all rectangular shapes.</p>\n<p>Although, if your application is containerized through some framework such as Spring, you could potentially leverage AOP to accomplish this: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html</a>.</p>\n"}],"owner":{"account_id":190591,"reputation":199,"user_id":430665,"display_name":"tomzhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685850889,"answer_count":1,"score":1,"last_activity_date":1685848725,"creation_date":1685847385,"question_id":76398777,"body_markdown":"I&#39;m working on a library which is based on another library Lib, which is based on an SDK.\r\n\r\nI need to have my class `MyClass` extend a class from Lib `LibClass`, which in turn extends a class from SDK `SdkClass`. In the constructor of `LibClass`, it passes a value to `SdkClass`&#39; constructor via `super(someArg)`.\r\n\r\nHowever, for my code to work, I need to pass a different argument to SdkClass while keeping the rest the same. I don&#39;t have access to the source code of Lib. Is it possible to do it with some reflection?\r\n\r\nThank you!","title":"Java: pass a different value to grandparent constructor","body":"<p>I'm working on a library which is based on another library Lib, which is based on an SDK.</p>\n<p>I need to have my class <code>MyClass</code> extend a class from Lib <code>LibClass</code>, which in turn extends a class from SDK <code>SdkClass</code>. In the constructor of <code>LibClass</code>, it passes a value to <code>SdkClass</code>' constructor via <code>super(someArg)</code>.</p>\n<p>However, for my code to work, I need to pass a different argument to SdkClass while keeping the rest the same. I don't have access to the source code of Lib. Is it possible to do it with some reflection?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","project-reactor"],"comments":[{"owner":{"account_id":1853939,"reputation":93,"user_id":1679912,"display_name":"Mahbub"},"score":1,"creation_date":1503644535,"post_id":45124660,"comment_id":78710261,"body_markdown":"this link may help you: [https://stackoverflow.com/questions/39483059/transactional-annotation-error#answer-43715808](https://stackoverflow.com/questions/39483059/transactional-annotation-error#answer-43715808)","body":"this link may help you: <a href=\"https://stackoverflow.com/questions/39483059/transactional-annotation-error#answer-43715808\">https://stackoverflow.com/questions/39483059/transactional-a&zwnj;&#8203;nnotation-error#answ&zwnj;&#8203;er-43715808</a>"}],"answers":[{"tags":[],"owner":{"account_id":2309888,"reputation":185,"user_id":2028254,"display_name":"levye"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542514983,"creation_date":1542514615,"answer_id":53357841,"question_id":45124660,"body_markdown":"You can assign a bean name to your OrderHandlerConsumer class so that Autowire resolution will be easier, Moreover, Instead of Autowiring with the concrete class, try to auto-wire with the interface. So that you can change @Service annotation to,\r\n\r\n    @Service(value=&quot;orderHandlerConsumer&quot;)\r\n\r\n\r\n  and try to Autowire with the interface type,  \r\n  \r\n\r\n    @Autowire  \r\n    reactor.fn.Consumer orderHandlerConsumer;","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>You can assign a bean name to your OrderHandlerConsumer class so that Autowire resolution will be easier, Moreover, Instead of Autowiring with the concrete class, try to auto-wire with the interface. So that you can change @Service annotation to,</p>\n\n<pre><code>@Service(value=\"orderHandlerConsumer\")\n</code></pre>\n\n<p>and try to Autowire with the interface type,  </p>\n\n<pre><code>@Autowire  \nreactor.fn.Consumer orderHandlerConsumer;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9034944,"reputation":841,"user_id":6731329,"display_name":"Rohan"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1573574204,"creation_date":1573574204,"answer_id":58822288,"question_id":45124660,"body_markdown":"In your application class file where you define it as Spring application, add underneath it.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableCaching(proxyTargetClass = true)","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>In your application class file where you define it as Spring application, add underneath it.</p>\n\n<pre><code>@SpringBootApplication\n@EnableCaching(proxyTargetClass = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386527,"reputation":11,"user_id":4290221,"display_name":"G R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598643371,"creation_date":1584994349,"answer_id":60820911,"question_id":45124660,"body_markdown":"Please try autowiring as below\r\n\r\n    class Test{\r\n        @Autowired\r\n        private Consumer orderHandlerConsumer;\r\n    }","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>Please try autowiring as below</p>\n<pre><code>class Test{\n    @Autowired\n    private Consumer orderHandlerConsumer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1685845941,"creation_date":1643240395,"answer_id":70871595,"question_id":45124660,"body_markdown":"While the other answer will solve this issue, I think it will be more appropriate for me to explain *why* applying `proxyTargetClass = true` will fix this.\r\n\r\nFirst of all, Spring, as a framework, utilizes *proxying* in order to supply the bean with some extended functionality, such as declarative transactions via `@Transactional`, or caching by the means of `@Cacheable`, etc. There are, in general, 2 ways(*) Spring can create proxy on top of your bean:\r\n\r\n1) JDK dynamic proxying\r\n2) CGLib proxying\r\n\r\n[Official documentation][1] on this, in case you are interested.\r\n\r\nSpring can create JDK dynamic proxy of the bean (in case proxying is required for this bean of course) if original class of the bean implements at least one interface. So spring basically create another implementation of this interface at runtime with some additional logic on top of original class.\r\n\r\n**What is the problem:** if the bean is proxied by the means of JDK dynamic proxying , then **you cannot inject this bean via its original class**. Something like this:\r\n\r\n    @SpringBootApplication\r\n    @EnableTransactionManagement(proxyTargetClass = false)\r\n    public class StackoverflowApplication {\r\n    \r\n        @Autowired private SomeService service;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StackoverflowApplication.class, args);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    class SomeService implements SomeInterface {\r\n        \r\n        @Override\r\n        @Transactional\r\n        public void handle() { }\r\n    }\r\n    \r\n    interface SomeInterface {\r\n        void handle();\r\n    }\r\n\r\nwon&#39;t work. Why? Well, because `@Transactional` tells Spring that it needs to create proxy of `SomeService` at runtime, and within `@EnableTransactionManagement` I specifically asked Spring to make it by the means of JDK dynamic proxy - Spring will succeed, since JDK dynamic proxy can be created, but the problem is at runtime there is not bean of type `SomeService`, there is only a bean of type `SomeInterface` (by the way, if you inject service here not by the class, but by the interface - it will work, I assume you understand the reason by reading explanation above).\r\n\r\n**Solution:** by applying `@EnableTransactionManagement(proxyTargetClass = true)` (notice *true* value here) you force spring to create CGLIB proxy (this rule is applicable only for beans that utilize declarative transaction management, i.e. via annotations). In case of CGLIB proxying, Spring will try to extend the original class, and add additional functionality at runtime in the generated child class. **And in this case injection by class will work** - because the bean extends class `SomeService`, so\r\n\r\n    @Autowired\r\n    private SomeService someService;\r\n\r\nwill work perfectly fine. **But, in general, if possible, inject bean by  interface, not by class**. In this case both CGLIB and JDK dynamic proxy will work. So, be aware of proxying mechanisms spring can use. Hope it helped, have a nice day.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\r\n","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>While the other answer will solve this issue, I think it will be more appropriate for me to explain <em>why</em> applying <code>proxyTargetClass = true</code> will fix this.</p>\n<p>First of all, Spring, as a framework, utilizes <em>proxying</em> in order to supply the bean with some extended functionality, such as declarative transactions via <code>@Transactional</code>, or caching by the means of <code>@Cacheable</code>, etc. There are, in general, 2 ways(*) Spring can create proxy on top of your bean:</p>\n<ol>\n<li>JDK dynamic proxying</li>\n<li>CGLib proxying</li>\n</ol>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"noreferrer\">Official documentation</a> on this, in case you are interested.</p>\n<p>Spring can create JDK dynamic proxy of the bean (in case proxying is required for this bean of course) if original class of the bean implements at least one interface. So spring basically create another implementation of this interface at runtime with some additional logic on top of original class.</p>\n<p><strong>What is the problem:</strong> if the bean is proxied by the means of JDK dynamic proxying , then <strong>you cannot inject this bean via its original class</strong>. Something like this:</p>\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement(proxyTargetClass = false)\npublic class StackoverflowApplication {\n\n    @Autowired private SomeService service;\n\n    public static void main(String[] args) {\n        SpringApplication.run(StackoverflowApplication.class, args);\n    }\n}\n\n@Service\nclass SomeService implements SomeInterface {\n    \n    @Override\n    @Transactional\n    public void handle() { }\n}\n\ninterface SomeInterface {\n    void handle();\n}\n</code></pre>\n<p>won't work. Why? Well, because <code>@Transactional</code> tells Spring that it needs to create proxy of <code>SomeService</code> at runtime, and within <code>@EnableTransactionManagement</code> I specifically asked Spring to make it by the means of JDK dynamic proxy - Spring will succeed, since JDK dynamic proxy can be created, but the problem is at runtime there is not bean of type <code>SomeService</code>, there is only a bean of type <code>SomeInterface</code> (by the way, if you inject service here not by the class, but by the interface - it will work, I assume you understand the reason by reading explanation above).</p>\n<p><strong>Solution:</strong> by applying <code>@EnableTransactionManagement(proxyTargetClass = true)</code> (notice <em>true</em> value here) you force spring to create CGLIB proxy (this rule is applicable only for beans that utilize declarative transaction management, i.e. via annotations). In case of CGLIB proxying, Spring will try to extend the original class, and add additional functionality at runtime in the generated child class. <strong>And in this case injection by class will work</strong> - because the bean extends class <code>SomeService</code>, so</p>\n<pre><code>@Autowired\nprivate SomeService someService;\n</code></pre>\n<p>will work perfectly fine. <strong>But, in general, if possible, inject bean by  interface, not by class</strong>. In this case both CGLIB and JDK dynamic proxy will work. So, be aware of proxying mechanisms spring can use. Hope it helped, have a nice day.</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652533993,"creation_date":1652533993,"answer_id":72240546,"question_id":45124660,"body_markdown":"&gt; If the target object to be proxied implements at least one interface\r\n&gt; then a JDK dynamic proxy will be used. All of the interfaces\r\n&gt; implemented by the target type will be proxied. If the target object\r\n&gt; does not implement any interfaces then a CGLIB proxy will be created.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\r\n\r\n**You can call it two ways.** \r\n\r\n*1st way is without mentioning the proxy [with default proxy]*, you can Autowire it by the interface like below.\r\n\r\n```java\r\n@Autowired\r\nprivate Consumer orderHandlerConsumer;\r\n```\r\nSpring AOP will create an instance for ```OrderHandlerConsumer```.\r\n\r\n*2nd way is, mention the proxy in the bean as ```ScopedProxyMode.TARGET_CLASS```.\r\nthen you can Autowire an instance without the interface [based on the class].* \r\n\r\n```java\r\n@Service\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\r\n    @Override\r\n    public void accept(Event&lt;OrderEnvelope&gt; event) {\r\n        event.getData().getLatch().countDown();\r\n    }\r\n}\r\n```\r\nand Autowire by the class like below.\r\n```java\r\n@Autowired\r\nprivate OrderHandlerConsumer orderHandlerConsumer;\r\n```\r\n","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<blockquote>\n<p>If the target object to be proxied implements at least one interface\nthen a JDK dynamic proxy will be used. All of the interfaces\nimplemented by the target type will be proxied. If the target object\ndoes not implement any interfaces then a CGLIB proxy will be created.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html</a></p>\n<p><strong>You can call it two ways.</strong></p>\n<p><em>1st way is without mentioning the proxy [with default proxy]</em>, you can Autowire it by the interface like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Consumer orderHandlerConsumer;\n</code></pre>\n<p>Spring AOP will create an instance for <code>OrderHandlerConsumer</code>.</p>\n<p><em>2nd way is, mention the proxy in the bean as <code>ScopedProxyMode.TARGET_CLASS</code>.\nthen you can Autowire an instance without the interface [based on the class].</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\n    @Override\n    public void accept(Event&lt;OrderEnvelope&gt; event) {\n        event.getData().getLatch().countDown();\n    }\n}\n</code></pre>\n<p>and Autowire by the class like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate OrderHandlerConsumer orderHandlerConsumer;\n</code></pre>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32900,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":70871595,"answer_count":5,"score":37,"last_activity_date":1685845941,"creation_date":1500175287,"question_id":45124660,"body_markdown":"My Spring 4 application, which uses Reactor 2, fails to start with:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The bean &#39;orderHandlerConsumer&#39; could not be injected as a &#39;fm.data.repository.OrderHandlerConsumer&#39; because it is a JDK dynamic proxy that implements:\r\n    \treactor.fn.Consumer\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider injecting the bean as one of its interfaces or forcing the use of CGLib-based proxies by setting proxyTargetClass=true on @EnableAsync and/or @EnableCaching.\r\n\r\nThe `OrderHandlerConsumer` is really simple:\r\n\r\n    @Service\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\r\n    \t@Override\r\n    \tpublic void accept(Event&lt;OrderEnvelope&gt; event) {\r\n    \t\tevent.getData().getLatch().countDown();\r\n    \t}\r\n    }\r\n\r\nAny ideas what might be going awry?","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>My Spring 4 application, which uses Reactor 2, fails to start with:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe bean 'orderHandlerConsumer' could not be injected as a 'fm.data.repository.OrderHandlerConsumer' because it is a JDK dynamic proxy that implements:\n    reactor.fn.Consumer\n\n\nAction:\n\nConsider injecting the bean as one of its interfaces or forcing the use of CGLib-based proxies by setting proxyTargetClass=true on @EnableAsync and/or @EnableCaching.\n</code></pre>\n\n<p>The <code>OrderHandlerConsumer</code> is really simple:</p>\n\n<pre><code>@Service\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\n    @Override\n    public void accept(Event&lt;OrderEnvelope&gt; event) {\n        event.getData().getLatch().countDown();\n    }\n}\n</code></pre>\n\n<p>Any ideas what might be going awry?</p>\n"},{"tags":["java","eclipse","http"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685806090,"post_id":76396686,"comment_id":134714074,"body_markdown":"Look at &quot;Java &gt; Appearance &gt; Type Filters&quot; in the Preferences. They are probably filterered out there.","body":"Look at &quot;Java &gt; Appearance &gt; Type Filters&quot; in the Preferences. They are probably filterered out there."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1685807377,"post_id":76396686,"comment_id":134714199,"body_markdown":"If I am not mistaken, unless you are using an old version of Java, anything outside `java` and `javax` packages aren&#39;t directly accessible to developers. What Java version are you using?","body":"If I am not mistaken, unless you are using an old version of Java, anything outside <code>java</code> and <code>javax</code> packages aren&#39;t directly accessible to developers. What Java version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685845855,"creation_date":1685845855,"answer_id":76398739,"question_id":76396686,"body_markdown":"This is explained in [Oracle&#39;s Java FAQ page][1]. The reason is that packages under sun.* and any other packages that come with the Java/JDK distribution are not part of the Java standard. They are implementation classes that come with no guarantee of compatibility or stability. Developers are advised against using them to prevent breaking their applications when new versions of Java are released. This has caused problems in the past. It should not be used in production applications.\r\n\r\nAlso note that the class that you are trying to use is extremely limited in functionality and doesn&#39;t resemble real HTTP application development.  \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/faq-sun-packages.html","title":"Why does Eclipse not show import suggestions for packages in System Libraries like com.sun.net.httpserver?","body":"<p>This is explained in <a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Oracle's Java FAQ page</a>. The reason is that packages under sun.* and any other packages that come with the Java/JDK distribution are not part of the Java standard. They are implementation classes that come with no guarantee of compatibility or stability. Developers are advised against using them to prevent breaking their applications when new versions of Java are released. This has caused problems in the past. It should not be used in production applications.</p>\n<p>Also note that the class that you are trying to use is extremely limited in functionality and doesn't resemble real HTTP application development.</p>\n"}],"owner":{"account_id":28744521,"reputation":1,"user_id":22013957,"display_name":"orange2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685845855,"creation_date":1685805367,"question_id":76396686,"body_markdown":"I&#39;ve been trying to learn networking/server development on Java without the use of any frameworks. The first option that came to me was the HttpServer class which is defaulted in System Libraies under the com.sun.net.httpserver package. I noticed however, that I have to manually import this package every time, Eclipse isn&#39;t showing the import suggestions like it does normal system library packages. After testing around I noticed it&#39;s doing this for a lot of the system library packages, mostly ones starting with jdk (jdk.httpserver for example which is where the com.sun.net.httpserver package is).\r\n\r\nI&#39;ve tried manually adding the package to the build path, I uninstalled and reinstalled eclipse, I&#39;ve tried a different JRE&#39;s and nothing has worked so far.","title":"Why does Eclipse not show import suggestions for packages in System Libraries like com.sun.net.httpserver?","body":"<p>I've been trying to learn networking/server development on Java without the use of any frameworks. The first option that came to me was the HttpServer class which is defaulted in System Libraies under the com.sun.net.httpserver package. I noticed however, that I have to manually import this package every time, Eclipse isn't showing the import suggestions like it does normal system library packages. After testing around I noticed it's doing this for a lot of the system library packages, mostly ones starting with jdk (jdk.httpserver for example which is where the com.sun.net.httpserver package is).</p>\n<p>I've tried manually adding the package to the build path, I uninstalled and reinstalled eclipse, I've tried a different JRE's and nothing has worked so far.</p>\n"},{"tags":["java","algorithm","matrix","depth-first-search"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685839357,"post_id":76398253,"comment_id":134717178,"body_markdown":"storing information about visited cells (`grid[x][y] = &#39;0&#39;`) drastically reduces time complexity of the algorithm: you may hit a cell either via outer `MxN` loop or via neighbour cell in inner loop, since every cell has at most 4 neighbours and you store information about visited cells (i.e. you can&#39;t hit the cell via the same neighbour twice), you hit every cell at most 6 (5 reads and 1 write) times.","body":"storing information about visited cells (<code>grid[x][y] = &#39;0&#39;</code>) drastically reduces time complexity of the algorithm: you may hit a cell either via outer <code>MxN</code> loop or via neighbour cell in inner loop, since every cell has at most 4 neighbours and you store information about visited cells (i.e. you can&#39;t hit the cell via the same neighbour twice), you hit every cell at most 6 (5 reads and 1 write) times."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1685834446,"creation_date":1685834446,"answer_id":76398390,"question_id":76398253,"body_markdown":"Your analysis is incorrect. It&#39;s an interesting case, because this is quite tricky, but, it really is `O(m*n)`. Let&#39;s first try to intuit what is going on without yet trying to go for a rigorous proof.\r\n\r\nIf the map is a smattering of tiny islands, you&#39;ll be &#39;island-filling&#39; a lot, but each island fill operation is extremely fast: There won&#39;t be any land around your &#39;1&#39; at all, so you push the coords to the stack, then go through the &#39;pop it and scan the neighbours; any neighbouring land is added to the stack&#39; song and dance routine which goes through only once because there is no new land to add. So, you&#39;ll be doing about `O(m*n)` landscans, but each landscan has `O(1)` performance, for a grand total of just `O(m*n)`.\r\n\r\nIf, on the other hand, the map is 1 or 2 very large islands, your &#39;island-fill&#39; is far more expensive. About `O(m*n)` more expensive in the obvious case of one gigantic land (an input that is _all_ 1 values). However, the amount of landscans you do here is `O(1)`, so it still adds up to only `O(m*n)`.\r\n\r\nPerhaps you&#39;ve realized the tricky part: These 2 things __are in balance__ - the most middling input (as in, neither &#39;smattering of tiny islands&#39; nor &#39;one giant island&#39;, but, a few medium size islands) has performance of `O(sqrt(m*n))` landfills to do, and each landfill&#39;s performance characteristic is, roughly speaking, also `O(sqrt(m*n))`. Multiply those together and you get back to just `O(m*n)`.\r\n\r\nA rigorous proof of that is somewhat more difficult. This can happen with big-O notation. The trick is: The concept of worst-case scenario cannot __necessarily__ be lopped up into individual pieces.\r\n\r\n* Yes, for any given land-scan, the worst case is `O(m*n)`, sure.\r\n* Yes, the amount of cells you need to go through and do the landscan for, worst case, is `O(m*n)`, sure.\r\n\r\nAnd _usually_ you can just multiply that together and be done with it. But if the worst cases are in balance (if one sub-section exhibiting worst-case __guarantees__ the other ends up exhibiting best-case), then that may be an overly hasty conclusion. It then depends on how they are related: If trying to average-case them both gives you half on each, you get `O(&#189; m*n) * `O(&#189; m*n)` which is, of course, still `O((m*n)&#178;` once you ditch the constant factors. But in this case, the &#39;middle&#39; case square roots and that __is__ the same &#39;order of magnitude&#39;, and therefore that really does mean you can&#39;t just multiply em together.\r\n\r\nFiguring that out can indeed be tricky.\r\n","title":"Time Complexity of Number of Islands Question","body":"<p>Your analysis is incorrect. It's an interesting case, because this is quite tricky, but, it really is <code>O(m*n)</code>. Let's first try to intuit what is going on without yet trying to go for a rigorous proof.</p>\n<p>If the map is a smattering of tiny islands, you'll be 'island-filling' a lot, but each island fill operation is extremely fast: There won't be any land around your '1' at all, so you push the coords to the stack, then go through the 'pop it and scan the neighbours; any neighbouring land is added to the stack' song and dance routine which goes through only once because there is no new land to add. So, you'll be doing about <code>O(m*n)</code> landscans, but each landscan has <code>O(1)</code> performance, for a grand total of just <code>O(m*n)</code>.</p>\n<p>If, on the other hand, the map is 1 or 2 very large islands, your 'island-fill' is far more expensive. About <code>O(m*n)</code> more expensive in the obvious case of one gigantic land (an input that is <em>all</em> 1 values). However, the amount of landscans you do here is <code>O(1)</code>, so it still adds up to only <code>O(m*n)</code>.</p>\n<p>Perhaps you've realized the tricky part: These 2 things <strong>are in balance</strong> - the most middling input (as in, neither 'smattering of tiny islands' nor 'one giant island', but, a few medium size islands) has performance of <code>O(sqrt(m*n))</code> landfills to do, and each landfill's performance characteristic is, roughly speaking, also <code>O(sqrt(m*n))</code>. Multiply those together and you get back to just <code>O(m*n)</code>.</p>\n<p>A rigorous proof of that is somewhat more difficult. This can happen with big-O notation. The trick is: The concept of worst-case scenario cannot <strong>necessarily</strong> be lopped up into individual pieces.</p>\n<ul>\n<li>Yes, for any given land-scan, the worst case is <code>O(m*n)</code>, sure.</li>\n<li>Yes, the amount of cells you need to go through and do the landscan for, worst case, is <code>O(m*n)</code>, sure.</li>\n</ul>\n<p>And <em>usually</em> you can just multiply that together and be done with it. But if the worst cases are in balance (if one sub-section exhibiting worst-case <strong>guarantees</strong> the other ends up exhibiting best-case), then that may be an overly hasty conclusion. It then depends on how they are related: If trying to average-case them both gives you half on each, you get <code>O(½ m*n) * </code>O(½ m<em>n)<code>which is, of course, still</code>O((m</em>n)²` once you ditch the constant factors. But in this case, the 'middle' case square roots and that <strong>is</strong> the same 'order of magnitude', and therefore that really does mean you can't just multiply em together.</p>\n<p>Figuring that out can indeed be tricky.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1685843098,"creation_date":1685835914,"answer_id":76398440,"question_id":76398253,"body_markdown":"Your algorithm is O(mn).\r\n\r\nYou are correct that the outer loops visit each element once, so that costs O(mn).\r\n\r\nThe inner while loop is started mn times as well, and *sometimes* it may do O(mn) iterations after it starts, but how many iterations of this loop are there *in total*?  If you estimate using mn starts times O(mn) iterations, you miss an important consideration.\r\n\r\nIf you write your algorithm exactly right, then each iteration of the while loop corresponds to a 1 changing to a 0.  Since there can be at most mn 1s in the matrix, the total number of while loop iterations can be at most mn *all together*.\r\n\r\nBecause you didn&#39;t write it exactly right, you can get up to 4 stack elements when a 1 changes to a 0, but 4mn is still in O(mn), so it still works in O(mn) time.","title":"Time Complexity of Number of Islands Question","body":"<p>Your algorithm is O(mn).</p>\n<p>You are correct that the outer loops visit each element once, so that costs O(mn).</p>\n<p>The inner while loop is started mn times as well, and <em>sometimes</em> it may do O(mn) iterations after it starts, but how many iterations of this loop are there <em>in total</em>?  If you estimate using mn starts times O(mn) iterations, you miss an important consideration.</p>\n<p>If you write your algorithm exactly right, then each iteration of the while loop corresponds to a 1 changing to a 0.  Since there can be at most mn 1s in the matrix, the total number of while loop iterations can be at most mn <em>all together</em>.</p>\n<p>Because you didn't write it exactly right, you can get up to 4 stack elements when a 1 changes to a 0, but 4mn is still in O(mn), so it still works in O(mn) time.</p>\n"}],"owner":{"account_id":8992767,"reputation":125,"user_id":6704137,"display_name":"Stacking_Flow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76398390,"answer_count":2,"score":1,"last_activity_date":1685843098,"creation_date":1685831051,"question_id":76398253,"body_markdown":"This question has been asked several times on StackOverflow, but I ask again because it has been poorly answered or explained.\r\n\r\nThere is a question on LeetCode, link is here: [LeetCode Question Link][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/number-of-islands/description/\r\n\r\nWhere you have to find the number of islands (represented as &quot;1&quot;s) on a matrix.\r\n\r\nThis is my iterative depth first search (DFS) solution to the question:\r\n\r\n    public int numIslands(char[][] grid) {\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n        int counter = 0;\r\n        int northBound = 0;\r\n        int eastBound = grid[0].length - 1;\r\n        int southBound = grid.length - 1;\r\n        int westBound = 0;\r\n        \r\n        for (int i = 0; i &lt; grid.length; i++) {\r\n            for (int j = 0; j &lt; grid[0].length; j++) {\r\n                if (grid[i][j] == &#39;1&#39;) {\r\n                    stack.add(i);\r\n                    stack.add(j);\r\n                    counter += 1;\r\n\r\n                    while (stack.size() &gt; 0) {\r\n                        int y = (int) stack.pop();\r\n                        int x = (int) stack.pop();\r\n                        grid[x][y] = &#39;0&#39;;\r\n\r\n                        if (x-1 &gt;= northBound &amp;&amp; grid[x-1][y] == &#39;1&#39;) {\r\n                            stack.push(x-1);\r\n                            stack.push(y);\r\n                        }\r\n\r\n                        if (y+1 &lt;= eastBound &amp;&amp; grid[x][y+1] == &#39;1&#39;) {\r\n                            stack.push(x);\r\n                            stack.push(y+1);\r\n                        }\r\n\r\n                        if (x+1 &lt;= southBound &amp;&amp; grid[x+1][y] == &#39;1&#39;) {\r\n                            stack.push(x+1);\r\n                            stack.push(y);\r\n                        }\r\n\r\n                        if (y-1 &gt;= westBound &amp;&amp; grid[x][y-1] == &#39;1&#39;) {\r\n                            stack.push(x);\r\n                            stack.push(y-1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return counter;\r\n    }\r\n\r\nMost people used a recursive solution, but it seems like the general consensus is that the time complexity of a DFS solution to this question is O(m * n), where m is the number of rows and n is the number of columns in the matrix.\r\n\r\nOn the contrary, when I look at my solution, I think that the time complexity is O((m * n)^2). Firstly, we can see that the two outer for loops visit each matrix element once, so that is O(m * n). However, at each element that the two outer for loops visit, it may visit anywhere between 1 and m * n other elements, depending on the number of adjacent elements with 1s. Therefore, the composite time complexity can be `O((m*n) * (m*n))`.\r\n\r\nWhat is the explanation for my complexity analysis being incorrect? Why did others ignore the complexity of the innermost while loop? Thanks","title":"Time Complexity of Number of Islands Question","body":"<p>This question has been asked several times on StackOverflow, but I ask again because it has been poorly answered or explained.</p>\n<p>There is a question on LeetCode, link is here: <a href=\"https://leetcode.com/problems/number-of-islands/description/\" rel=\"nofollow noreferrer\">LeetCode Question Link</a></p>\n<p>Where you have to find the number of islands (represented as &quot;1&quot;s) on a matrix.</p>\n<p>This is my iterative depth first search (DFS) solution to the question:</p>\n<pre><code>public int numIslands(char[][] grid) {\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n    int counter = 0;\n    int northBound = 0;\n    int eastBound = grid[0].length - 1;\n    int southBound = grid.length - 1;\n    int westBound = 0;\n    \n    for (int i = 0; i &lt; grid.length; i++) {\n        for (int j = 0; j &lt; grid[0].length; j++) {\n            if (grid[i][j] == '1') {\n                stack.add(i);\n                stack.add(j);\n                counter += 1;\n\n                while (stack.size() &gt; 0) {\n                    int y = (int) stack.pop();\n                    int x = (int) stack.pop();\n                    grid[x][y] = '0';\n\n                    if (x-1 &gt;= northBound &amp;&amp; grid[x-1][y] == '1') {\n                        stack.push(x-1);\n                        stack.push(y);\n                    }\n\n                    if (y+1 &lt;= eastBound &amp;&amp; grid[x][y+1] == '1') {\n                        stack.push(x);\n                        stack.push(y+1);\n                    }\n\n                    if (x+1 &lt;= southBound &amp;&amp; grid[x+1][y] == '1') {\n                        stack.push(x+1);\n                        stack.push(y);\n                    }\n\n                    if (y-1 &gt;= westBound &amp;&amp; grid[x][y-1] == '1') {\n                        stack.push(x);\n                        stack.push(y-1);\n                    }\n                }\n            }\n        }\n    }\n\n    return counter;\n}\n</code></pre>\n<p>Most people used a recursive solution, but it seems like the general consensus is that the time complexity of a DFS solution to this question is O(m * n), where m is the number of rows and n is the number of columns in the matrix.</p>\n<p>On the contrary, when I look at my solution, I think that the time complexity is O((m * n)^2). Firstly, we can see that the two outer for loops visit each matrix element once, so that is O(m * n). However, at each element that the two outer for loops visit, it may visit anywhere between 1 and m * n other elements, depending on the number of adjacent elements with 1s. Therefore, the composite time complexity can be <code>O((m*n) * (m*n))</code>.</p>\n<p>What is the explanation for my complexity analysis being incorrect? Why did others ignore the complexity of the innermost while loop? Thanks</p>\n"},{"tags":["java","javafx","javafx-webengine","jsobject"],"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":1,"creation_date":1507987913,"post_id":46744432,"comment_id":80436210,"body_markdown":"It is not too far-fetched that the `JSObject` only holds weak references to the members passed to it. Could you try holding a reference to the `Bridge` instance? (It appears as if you meant to, but then you create a whole new one for the `JSObject`...)","body":"It is not too far-fetched that the <code>JSObject</code> only holds weak references to the members passed to it. Could you try holding a reference to the <code>Bridge</code> instance? (It appears as if you meant to, but then you create a whole new one for the <code>JSObject</code>...)"},{"owner":{"account_id":10178879,"reputation":75,"user_id":7516499,"display_name":"Matt Chad"},"score":0,"creation_date":1507995063,"post_id":46744432,"comment_id":80438431,"body_markdown":"@sillyfly actually, you&#39;re right. Inexplicably I passed a new instance of Bridge and I don&#39;t why, javafx seems a little intolerant to local assignment like that. Thanks a lot.","body":"@sillyfly actually, you&#39;re right. Inexplicably I passed a new instance of Bridge and I don&#39;t why, javafx seems a little intolerant to local assignment like that. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":1794949,"reputation":176,"user_id":1634547,"accept_rate":100,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520930505,"creation_date":1518355684,"answer_id":48731982,"question_id":46744432,"body_markdown":"To make the solution more obvious: the approach suggested by @sillyfly works.\r\n\r\nInstead of creating a new `Bridge` (or in my case `Console`) instance for every state change, make a single instance and reassign it every time. Something along the following lines.\r\n\r\n    public class AppController {\r\n        public WebView webview;\r\n    \r\n        @FXML\r\n        public void initialize() {\r\n            final Console console = new Console();\r\n            final WebEngine engine = webview.getEngine();\r\n            engine.setJavaScriptEnabled(true);\r\n            engine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\r\n                @Override\r\n                public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\r\n                    final JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\r\n                    window.setMember(&quot;console&quot;, console);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class Console {\r\n            public void log(String text) {\r\n                System.out.println(&quot;[WebView console] &quot; + text);\r\n            }\r\n        }\r\n    }","title":"JavaFX JSObject stop working after a few minutes?","body":"<p>To make the solution more obvious: the approach suggested by @sillyfly works.</p>\n\n<p>Instead of creating a new <code>Bridge</code> (or in my case <code>Console</code>) instance for every state change, make a single instance and reassign it every time. Something along the following lines.</p>\n\n<pre><code>public class AppController {\n    public WebView webview;\n\n    @FXML\n    public void initialize() {\n        final Console console = new Console();\n        final WebEngine engine = webview.getEngine();\n        engine.setJavaScriptEnabled(true);\n        engine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\n                final JSObject window = (JSObject) engine.executeScript(\"window\");\n                window.setMember(\"console\", console);\n            }\n        });\n    }\n\n    public class Console {\n        public void log(String text) {\n            System.out.println(\"[WebView console] \" + text);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28746934,"reputation":1,"user_id":22015861,"display_name":"JES510"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685842936,"creation_date":1685842669,"answer_id":76398644,"question_id":46744432,"body_markdown":"Note that the Java objects bound using JSObject.setMember, JSObject.setSlot, and JSObject.call are implemented using weak references. This means that the Java object can be garbage collected, causing subsequent accesses to the JavaScript objects to have no effect.\r\n\r\nhttps://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html\r\n\r\nin your case when declaring new Bridge() the collector subsequently destroys it, declares it as a global variable and then passes it by parameter to setMember()","title":"JavaFX JSObject stop working after a few minutes?","body":"<p>Note that the Java objects bound using JSObject.setMember, JSObject.setSlot, and JSObject.call are implemented using weak references. This means that the Java object can be garbage collected, causing subsequent accesses to the JavaScript objects to have no effect.</p>\n<p><a href=\"https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\">https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html</a></p>\n<p>in your case when declaring new Bridge() the collector subsequently destroys it, declares it as a global variable and then passes it by parameter to setMember()</p>\n"}],"owner":{"account_id":10178879,"reputation":75,"user_id":7516499,"display_name":"Matt Chad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48731982,"answer_count":2,"score":5,"last_activity_date":1685842936,"creation_date":1507983387,"question_id":46744432,"body_markdown":"I&#39;m making a web based app with Java support for some particular requests (e.g. print without choosing the printer everytime) and there is something that id driving me **crazy**.\r\n\r\nI use JavaFX for instantiate the browser object and everything works fine, but of course I need to make callbacks from JavaScript to Java, here is the code:\r\n\r\n    ...\r\n    ...\r\n    we.getLoadWorker().stateProperty().addListener( new ChangeListener&lt;Worker.State&gt;()\r\n        {\r\n\t\t\t@Override\r\n\t\t\tpublic void changed(ObservableValue&lt;? extends State&gt; observable, State oldValue, State newValue)\r\n\t\t\t{\r\n\t\t\t\tif ( newValue == Worker.State.SUCCEEDED )\r\n\t            {\r\n\t                bridge = new Bridge();\r\n\t                JSObject jsobj = (JSObject) we.executeScript( &quot;window&quot; );\r\n\t                jsobj.setMember( &quot;app&quot;, new Bridge() );\r\n\t            }\r\n\r\n\t\t\t\tif ( newValue == Worker.State.CANCELLED )\r\n\t            {\r\n\t\t\t\t\tSystem.out.println( newValue );\r\n\t\t\t\t\tSystem.out.println( &quot;An error accourred&quot; );\r\n\t            }\r\n\t\t\t}\r\n        });\r\n        ...\r\n        ...\r\n\r\nThis works but after a few minutesthe bridge stoo working totally, javascript can&#39;t make callbacks anymore and if I try to make an alert() on the &quot;app&quot; object it return me undefined.\r\nI&#39;m using JDK9","title":"JavaFX JSObject stop working after a few minutes?","body":"<p>I'm making a web based app with Java support for some particular requests (e.g. print without choosing the printer everytime) and there is something that id driving me <strong>crazy</strong>.</p>\n\n<p>I use JavaFX for instantiate the browser object and everything works fine, but of course I need to make callbacks from JavaScript to Java, here is the code:</p>\n\n<pre><code>...\n...\nwe.getLoadWorker().stateProperty().addListener( new ChangeListener&lt;Worker.State&gt;()\n    {\n        @Override\n        public void changed(ObservableValue&lt;? extends State&gt; observable, State oldValue, State newValue)\n        {\n            if ( newValue == Worker.State.SUCCEEDED )\n            {\n                bridge = new Bridge();\n                JSObject jsobj = (JSObject) we.executeScript( \"window\" );\n                jsobj.setMember( \"app\", new Bridge() );\n            }\n\n            if ( newValue == Worker.State.CANCELLED )\n            {\n                System.out.println( newValue );\n                System.out.println( \"An error accourred\" );\n            }\n        }\n    });\n    ...\n    ...\n</code></pre>\n\n<p>This works but after a few minutesthe bridge stoo working totally, javascript can't make callbacks anymore and if I try to make an alert() on the \"app\" object it return me undefined.\nI'm using JDK9</p>\n"},{"tags":["java","arrays","algorithm","sum","brute-force"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1504482285,"post_id":46028717,"comment_id":79017483,"body_markdown":"If your code **works** (gives correct results) but you are looking for a way to improve it you should move your question to https://codereview.stackexchange.com/","body":"If your code <b>works</b> (gives correct results) but you are looking for a way to improve it you should move your question to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":11686695,"reputation":393,"user_id":8556265,"display_name":"John Bonata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504484004,"creation_date":1504484004,"answer_id":46028875,"question_id":46028717,"body_markdown":"What you are trying to do is get permutations of an array. Using each permutation, you can then total the values if desired. There is another StackExchange hosted site that allows code review to be done. You may want to compare against other&#39;s algorithms:\r\n\r\nhttps://stackoverflow.com/questions/2920315/permutation-of-array\r\n\r\nhttps://stackoverflow.com/questions/30387185/print-out-all-permutations-of-an-array","title":"Efficient way of generating all possible sums of N out of given numbers","body":"<p>What you are trying to do is get permutations of an array. Using each permutation, you can then total the values if desired. There is another StackExchange hosted site that allows code review to be done. You may want to compare against other's algorithms:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2920315/permutation-of-array\">Permutation of array</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30387185/print-out-all-permutations-of-an-array\">Print out all permutations of an Array</a></p>\n"},{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504494030,"creation_date":1504492260,"answer_id":46029565,"question_id":46028717,"body_markdown":"Your approach starts like effective dynamic-programming algorithm for subset-sum problem (your task is kind of this problem) but seems it does not reuse calculated data. Note that counting the number of possible variants using DP takes pseudo-polynomial time O(N*Sum), while output of all variants grows exponentially.\r\n\r\nYou can store already calculated subtasks in additional array/list - this is `memoization` (up-to-down) approach, it is easy to modify recursion to exploit it.\r\n\r\nAnother DP approach - bottom-up table filling:\r\n\r\n     Make array Sol[n+1] of lists of lists\r\n     For every input item X:\r\n          Scan Sol array from the last to the first index i\r\n             if (i==X) or (Sol[i-X] is not empty): \r\n                   Add all Sol[i-X][j]+X to  Sol[X] list\r\n\r\n      example for [1,2,3,5] array after outer loops:\r\n      [] [1] []...\r\n      [] [[1]] [[2]] [[1,2]]...\r\n      [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3]] [[1,2,3]]\r\n      [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3],[5]] [[1,2,3],[1,5]] \r\n           [[2,5]] [[1,2,5],[3,5]] [[1,3,5]] [[2,3,5]] [[1,2,3,5]]\r\n              ","title":"Efficient way of generating all possible sums of N out of given numbers","body":"<p>Your approach starts like effective dynamic-programming algorithm for subset-sum problem (your task is kind of this problem) but seems it does not reuse calculated data. Note that counting the number of possible variants using DP takes pseudo-polynomial time O(N*Sum), while output of all variants grows exponentially.</p>\n\n<p>You can store already calculated subtasks in additional array/list - this is <code>memoization</code> (up-to-down) approach, it is easy to modify recursion to exploit it.</p>\n\n<p>Another DP approach - bottom-up table filling:</p>\n\n<pre><code> Make array Sol[n+1] of lists of lists\n For every input item X:\n      Scan Sol array from the last to the first index i\n         if (i==X) or (Sol[i-X] is not empty): \n               Add all Sol[i-X][j]+X to  Sol[X] list\n\n  example for [1,2,3,5] array after outer loops:\n  [] [1] []...\n  [] [[1]] [[2]] [[1,2]]...\n  [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3]] [[1,2,3]]\n  [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3],[5]] [[1,2,3],[1,5]] \n       [[2,5]] [[1,2,5],[3,5]] [[1,3,5]] [[2,3,5]] [[1,2,3,5]]\n</code></pre>\n"}],"owner":{"account_id":9167980,"reputation":36,"user_id":6816760,"display_name":"Nick B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1685841594,"creation_date":1504481976,"question_id":46028717,"body_markdown":"I was thinking about an algorithm to this problem:\r\n\r\nImagine we have the following array \r\n\r\n    a = {1, 2, 4, 5, 7}\r\n\r\nand want to get all possible sums out of these numbers that are equal to a given number `N` (The order of the summands isn&#39;t interesting for now).\r\n\r\nIn case of `N=8` a few valid answers are:\r\n\r\n&gt; 1+2+5&lt;br&gt;1+7&lt;br&gt;2+2+2+2&lt;br&gt;...\r\n\r\nSo now I will explain you my approach.\r\n\r\nFirst of all we make a new array `b` of the length `N+1` and put every number `x` from array `a` to the array `b` at index `[N-x]` and fill the remaining elements with -1.  \r\nThis should create the following array:\r\n\r\n    b = {-1, 7, -1, 5, 4, -1, 2, 1, -1}\r\n\r\nAs you can see every element of b that is not -1 needs to be added to its index to get `N`. (Example: `b[1]=7` =&gt; Index = 1, value = 7 =&gt; 7+1=8=`N`)\r\n\r\nWhat we do now is, we go through every index `x` of this array where `b[x]!=-1` and start the whole process from the beginning but this time we say `N=x` so that we get all possible sums to get the index `x` which (as shown above) is the value we need to add to the value of the element at `b[x]`.\r\n\r\nWe do all of this recursively and as soon as we get to a point where an index is equal to 0, we print the whole chain of summands.\r\n\r\nI implemented this in Java and it works fine:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tint[]numbers = {1, 2, 4, 5, 7};\r\n    \t\tint n = 8;\r\n    \t\t\r\n    \t\tnumbers = summandArray(numbers, n);\r\n    \t\tprintArray(numbers);\r\n    \t\t\r\n    \t\t\r\n    \t\tgetSums(numbers, n, &quot;&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void getSums(int[] numbers, int n, String summands) {\r\n    \t\tString startSummands = summands;\r\n    \t\tfor(int i = 0; i &lt; numbers.length; i++) {\r\n    \t\t\tsummands = startSummands;\r\n    \t\t\tif(numbers[i] != -1) {\r\n    \t\t\t\tint neededSummand = i;\r\n    \t\t\t\tif(neededSummand == 0) {\r\n    \t\t\t\t\tsummands+=numbers[i];\r\n    \t\t\t\t\tSystem.out.println(summands);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tint[] newNumbers = summandArray(numbers, neededSummand);\r\n    \t\t\t\t\tsummands+=numbers[i]+&quot;+&quot;;\r\n    \t\t\t\t\tgetSums(newNumbers, neededSummand, summands);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static int[] summandArray(int[] array, int n) {\r\n    \t\tint[] result = new int[n+1];\r\n    \t\tfor(int i = 0; i &lt; result.length; i++) {\r\n    \t\t\tresult[i] = -1;\r\n    \t\t}\r\n    \t\tfor(int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tif(array[i] &lt;= n &amp;&amp; array[i] != -1) {\r\n    \t\t\t\tint index = n-array[i];\r\n    \t\t\t\tresult[index] = array[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n\r\nHowever I am not too sure about how well the algorithm performs. I mean isn&#39;t this nothing else than a really complicated version of brute force and thus really inefficient?\r\n\r\nThanks for taking the time","title":"Efficient way of generating all possible sums of N out of given numbers","body":"<p>I was thinking about an algorithm to this problem:</p>\n<p>Imagine we have the following array</p>\n<pre><code>a = {1, 2, 4, 5, 7}\n</code></pre>\n<p>and want to get all possible sums out of these numbers that are equal to a given number <code>N</code> (The order of the summands isn't interesting for now).</p>\n<p>In case of <code>N=8</code> a few valid answers are:</p>\n<blockquote>\n<p>1+2+5<br>1+7<br>2+2+2+2<br>...</p>\n</blockquote>\n<p>So now I will explain you my approach.</p>\n<p>First of all we make a new array <code>b</code> of the length <code>N+1</code> and put every number <code>x</code> from array <code>a</code> to the array <code>b</code> at index <code>[N-x]</code> and fill the remaining elements with -1.<br />\nThis should create the following array:</p>\n<pre><code>b = {-1, 7, -1, 5, 4, -1, 2, 1, -1}\n</code></pre>\n<p>As you can see every element of b that is not -1 needs to be added to its index to get <code>N</code>. (Example: <code>b[1]=7</code> =&gt; Index = 1, value = 7 =&gt; 7+1=8=<code>N</code>)</p>\n<p>What we do now is, we go through every index <code>x</code> of this array where <code>b[x]!=-1</code> and start the whole process from the beginning but this time we say <code>N=x</code> so that we get all possible sums to get the index <code>x</code> which (as shown above) is the value we need to add to the value of the element at <code>b[x]</code>.</p>\n<p>We do all of this recursively and as soon as we get to a point where an index is equal to 0, we print the whole chain of summands.</p>\n<p>I implemented this in Java and it works fine:</p>\n<pre><code>public static void main(String[] args) {\n        int[]numbers = {1, 2, 4, 5, 7};\n        int n = 8;\n        \n        numbers = summandArray(numbers, n);\n        printArray(numbers);\n        \n        \n        getSums(numbers, n, &quot;&quot;);\n        \n    }\n    \n    public static void getSums(int[] numbers, int n, String summands) {\n        String startSummands = summands;\n        for(int i = 0; i &lt; numbers.length; i++) {\n            summands = startSummands;\n            if(numbers[i] != -1) {\n                int neededSummand = i;\n                if(neededSummand == 0) {\n                    summands+=numbers[i];\n                    System.out.println(summands);\n                }\n                else {\n                    int[] newNumbers = summandArray(numbers, neededSummand);\n                    summands+=numbers[i]+&quot;+&quot;;\n                    getSums(newNumbers, neededSummand, summands);\n                }\n            }\n\n        }\n        \n    }\n    \n    public static int[] summandArray(int[] array, int n) {\n        int[] result = new int[n+1];\n        for(int i = 0; i &lt; result.length; i++) {\n            result[i] = -1;\n        }\n        for(int i = 0; i &lt; array.length; i++) {\n            if(array[i] &lt;= n &amp;&amp; array[i] != -1) {\n                int index = n-array[i];\n                result[index] = array[i];\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>However I am not too sure about how well the algorithm performs. I mean isn't this nothing else than a really complicated version of brute force and thus really inefficient?</p>\n<p>Thanks for taking the time</p>\n"},{"tags":["java","gradle","minecraft","gradlew","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":14222647,"reputation":86,"user_id":16790983,"display_name":"NoahBlaaa15"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685840781,"creation_date":1685840781,"answer_id":76398592,"question_id":76391702,"body_markdown":"I think the fabric-loom naming scheme was changed after `0.10-SNAPSHOT`. \r\nTry changing the version of loom in your `build.gradle` from `0.12-SNAPSHOT` to `1.2-SNAPSHOT`.","title":"Gradle error java.lang.UnsupportedOperationException: null with Fabric MC 1.19.4","body":"<p>I think the fabric-loom naming scheme was changed after <code>0.10-SNAPSHOT</code>.\nTry changing the version of loom in your <code>build.gradle</code> from <code>0.12-SNAPSHOT</code> to <code>1.2-SNAPSHOT</code>.</p>\n"}],"owner":{"account_id":19668386,"reputation":33,"user_id":14398159,"display_name":"Omay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76398592,"answer_count":1,"score":1,"last_activity_date":1685840781,"creation_date":1685721294,"question_id":76391702,"body_markdown":"I am attempting to port the Minecraft mod Colormatic to 1.19.4, as the developer has not made any changes for ~4 months. The compilation worked when I had Gradle 7.3, but I have updated it to Gradle 8.1.1. I looked online, and the only relevant solution was to clear the caches, but it did not work. Solution is mentioned [here](https://github.com/orgs/FabricMC/discussions/2362).\r\n\r\nHere is the full log, running `./gradlew build --info`\r\n```\r\nInitialized native services in: /Users/omay/.gradle/native\r\nInitialized jansi services in: /Users/omay/.gradle/native\r\nReceived JVM installation metadata from &#39;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home&#39;: {JAVA_HOME=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home, JAVA_VERSION=17.0.7, JAVA_VENDOR=Eclipse Adoptium, RUNTIME_NAME=OpenJDK Runtime Environment, RUNTIME_VERSION=17.0.7+7, VM_NAME=OpenJDK 64-Bit Server VM, VM_VERSION=17.0.7+7, VM_VENDOR=Eclipse Adoptium, OS_ARCH=aarch64}\r\nThe client will now receive all logging from the daemon (pid: 65238). The daemon log file: /Users/omay/.gradle/daemon/8.1.1/daemon-65238.out.log\r\nStarting 23rd build in daemon [uptime: 1 hrs 6 mins 24.966 secs, performance: 99%, GC rate: 0.01/s, heap usage: 10% of 1 GiB]\r\nUsing 8 worker leases.\r\nNow considering [/Users/omay/IdeaProjects/colormatic, /Users/omay/IdeaProjects/jukebox] as hierarchies to watch\r\nWatching the file system is configured to be enabled if available\r\nFile system watching is active\r\nStarting Build\r\nSettings evaluated using settings file &#39;/Users/omay/IdeaProjects/colormatic/settings.gradle&#39;.\r\nProjects loaded. Root project using build file &#39;/Users/omay/IdeaProjects/colormatic/build.gradle&#39;.\r\nIncluded projects: [root project &#39;colormatic&#39;]\r\n\r\n&gt; Configure project :\r\nEvaluating root project &#39;colormatic&#39; using build file &#39;/Users/omay/IdeaProjects/colormatic/build.gradle&#39;.\r\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nFabric Loom: 0.12.56\r\n(kotlinx.metadata.jvm.KotlinClassMetadata) with version (0.4.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-metadata-jvm/0.4.2/8f80407e1e84727a7e7b9edd1323081c3ab1d8da/kotlinx-metadata-jvm-0.4.2.jar)\r\n(org.objectweb.asm.ClassVisitor) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm/9.3/8e6300ef51c1d801a7ed62d07cd221aca3a90640/asm-9.3.jar)\r\n(org.objectweb.asm.tree.analysis.Analyzer) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-analysis/9.3/4b071f211b37c38e0e9f5998550197c8593f6ad8/asm-analysis-9.3.jar)\r\n(org.objectweb.asm.commons.ClassRemapper) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-commons/9.3/1f2a432d1212f5c352ae607d7b61dcae20c20af5/asm-commons-9.3.jar)\r\n(org.objectweb.asm.tree.ClassNode) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-tree/9.3/78d2ecd61318b5a58cd04fb237636c0e86b77d97/asm-tree-9.3.jar)\r\n(org.objectweb.asm.util.ASMifier) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-util/9.3/9595bc05510d0bd4b610188b77333fe4851a1975/asm-util-9.3.jar)\r\n(com.fasterxml.jackson.databind.ObjectMapper) with version (2.13.2.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.13.2.2/ffeb635597d093509f33e1e94274d14be610f933/jackson-databind-2.13.2.2.jar)\r\n(com.google.gson.Gson) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.code.gson/gson/2.9.0/8a1167e089096758b49f9b34066ef98b2f4b37aa/gson-2.9.0.jar)\r\n(com.google.common.base.Preconditions) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/31.1-jre/60458f877d055d0c9114d9e1a2efb737b4bc282c/guava-31.1-jre.jar)\r\n(org.apache.commons.io.FileUtils) with version (2.11.0) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/2.11.0/a2503f302b11ebde7ebc3df41daebe0e4eea3689/commons-io-2.11.0.jar)\r\nThe configuration :mainSourceElements is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\n:extracting yarn-1.19.4+build.2-v2.jar\r\nNot publishing sources jar as it was not found. Use java.withSourcesJar() to fix.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;colormatic&#39;.\r\n&gt; Failed to setup Minecraft, java.lang.UnsupportedOperationException: null\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 584ms\r\n```\r\n\r\nAs said above, I tried to remove the cache, the above log being the first run after removing the cache. I&#39;d expect different errors, because the source code is not yet supporting Minecraft 1.19.4, along with the other changed dependencies.\r\n\r\nI am not familiar with Gradle or Java, and am mainly just playing around, so if the error is caused by the source code, there is also a GitHub repo [here](https://github.com/Omay238/colormatic).","title":"Gradle error java.lang.UnsupportedOperationException: null with Fabric MC 1.19.4","body":"<p>I am attempting to port the Minecraft mod Colormatic to 1.19.4, as the developer has not made any changes for ~4 months. The compilation worked when I had Gradle 7.3, but I have updated it to Gradle 8.1.1. I looked online, and the only relevant solution was to clear the caches, but it did not work. Solution is mentioned <a href=\"https://github.com/orgs/FabricMC/discussions/2362\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here is the full log, running <code>./gradlew build --info</code></p>\n<pre><code>Initialized native services in: /Users/omay/.gradle/native\nInitialized jansi services in: /Users/omay/.gradle/native\nReceived JVM installation metadata from '/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home': {JAVA_HOME=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home, JAVA_VERSION=17.0.7, JAVA_VENDOR=Eclipse Adoptium, RUNTIME_NAME=OpenJDK Runtime Environment, RUNTIME_VERSION=17.0.7+7, VM_NAME=OpenJDK 64-Bit Server VM, VM_VERSION=17.0.7+7, VM_VENDOR=Eclipse Adoptium, OS_ARCH=aarch64}\nThe client will now receive all logging from the daemon (pid: 65238). The daemon log file: /Users/omay/.gradle/daemon/8.1.1/daemon-65238.out.log\nStarting 23rd build in daemon [uptime: 1 hrs 6 mins 24.966 secs, performance: 99%, GC rate: 0.01/s, heap usage: 10% of 1 GiB]\nUsing 8 worker leases.\nNow considering [/Users/omay/IdeaProjects/colormatic, /Users/omay/IdeaProjects/jukebox] as hierarchies to watch\nWatching the file system is configured to be enabled if available\nFile system watching is active\nStarting Build\nSettings evaluated using settings file '/Users/omay/IdeaProjects/colormatic/settings.gradle'.\nProjects loaded. Root project using build file '/Users/omay/IdeaProjects/colormatic/build.gradle'.\nIncluded projects: [root project 'colormatic']\n\n&gt; Configure project :\nEvaluating root project 'colormatic' using build file '/Users/omay/IdeaProjects/colormatic/build.gradle'.\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nFabric Loom: 0.12.56\n(kotlinx.metadata.jvm.KotlinClassMetadata) with version (0.4.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-metadata-jvm/0.4.2/8f80407e1e84727a7e7b9edd1323081c3ab1d8da/kotlinx-metadata-jvm-0.4.2.jar)\n(org.objectweb.asm.ClassVisitor) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm/9.3/8e6300ef51c1d801a7ed62d07cd221aca3a90640/asm-9.3.jar)\n(org.objectweb.asm.tree.analysis.Analyzer) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-analysis/9.3/4b071f211b37c38e0e9f5998550197c8593f6ad8/asm-analysis-9.3.jar)\n(org.objectweb.asm.commons.ClassRemapper) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-commons/9.3/1f2a432d1212f5c352ae607d7b61dcae20c20af5/asm-commons-9.3.jar)\n(org.objectweb.asm.tree.ClassNode) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-tree/9.3/78d2ecd61318b5a58cd04fb237636c0e86b77d97/asm-tree-9.3.jar)\n(org.objectweb.asm.util.ASMifier) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-util/9.3/9595bc05510d0bd4b610188b77333fe4851a1975/asm-util-9.3.jar)\n(com.fasterxml.jackson.databind.ObjectMapper) with version (2.13.2.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.13.2.2/ffeb635597d093509f33e1e94274d14be610f933/jackson-databind-2.13.2.2.jar)\n(com.google.gson.Gson) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.code.gson/gson/2.9.0/8a1167e089096758b49f9b34066ef98b2f4b37aa/gson-2.9.0.jar)\n(com.google.common.base.Preconditions) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/31.1-jre/60458f877d055d0c9114d9e1a2efb737b4bc282c/guava-31.1-jre.jar)\n(org.apache.commons.io.FileUtils) with version (2.11.0) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/2.11.0/a2503f302b11ebde7ebc3df41daebe0e4eea3689/commons-io-2.11.0.jar)\nThe configuration :mainSourceElements is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\n:extracting yarn-1.19.4+build.2-v2.jar\nNot publishing sources jar as it was not found. Use java.withSourcesJar() to fix.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'colormatic'.\n&gt; Failed to setup Minecraft, java.lang.UnsupportedOperationException: null\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 584ms\n</code></pre>\n<p>As said above, I tried to remove the cache, the above log being the first run after removing the cache. I'd expect different errors, because the source code is not yet supporting Minecraft 1.19.4, along with the other changed dependencies.</p>\n<p>I am not familiar with Gradle or Java, and am mainly just playing around, so if the error is caused by the source code, there is also a GitHub repo <a href=\"https://github.com/Omay238/colormatic\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","reactjs","github","yarnpkg"],"answers":[{"tags":[],"owner":{"account_id":8307344,"reputation":221,"user_id":6282036,"display_name":"Suraj Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685840328,"creation_date":1685840328,"answer_id":76398582,"question_id":76398547,"body_markdown":"Your local node version is different than what you mentioned in package.json.\r\n\r\nEither change your node version using tools like `nvm` or change the required node version.","title":"Why is my React app not running despite using yarnpkg and GitHub integration?","body":"<p>Your local node version is different than what you mentioned in package.json.</p>\n<p>Either change your node version using tools like <code>nvm</code> or change the required node version.</p>\n"}],"owner":{"account_id":27006618,"reputation":11,"user_id":20566984,"display_name":"CrownTech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685840328,"creation_date":1685839166,"question_id":76398547,"body_markdown":"Am unable to run my project\r\nwarning ..\\..\\..\\..\\package.json: License should be a valid SPDX license expression\r\nerror functions@: The engine &quot;node&quot; is incompatible with this module. Expected version &quot;18&quot;. Got &quot;19.8.1&quot;\r\nerror Commands cannot run with an incompatible environment.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.","title":"Why is my React app not running despite using yarnpkg and GitHub integration?","body":"<p>Am unable to run my project\nwarning ........\\package.json: License should be a valid SPDX license expression\nerror functions@: The engine &quot;node&quot; is incompatible with this module. Expected version &quot;18&quot;. Got &quot;19.8.1&quot;\nerror Commands cannot run with an incompatible environment.\ninfo Visit <a href=\"https://yarnpkg.com/en/docs/cli/run\" rel=\"nofollow noreferrer\">https://yarnpkg.com/en/docs/cli/run</a> for documentation about this command.</p>\n"},{"tags":["java","synchronized","java-websocket"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1685815064,"post_id":76397307,"comment_id":134715050,"body_markdown":"It’s a very large amount of code. Would you be able to create a [mre] instead, please? The question sounds interesting enough.","body":"It’s a very large amount of code. Would you be able to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead, please? The question sounds interesting enough."},{"owner":{"account_id":11892387,"reputation":334,"user_id":8702806,"display_name":"Uta Alexandru"},"score":0,"creation_date":1685815189,"post_id":76397307,"comment_id":134715057,"body_markdown":"if you copy paste those classes and put them into a maven projects you have  it. that s the minimum required to reproduce it .All you need to change is the package","body":"if you copy paste those classes and put them into a maven projects you have  it. that s the minimum required to reproduce it .All you need to change is the package"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685815281,"post_id":76397307,"comment_id":134715067,"body_markdown":"As an aside I recommend that you don’t use `Date` and `Calendar`. They were poorly designed and are long outdated. Use `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And use `yourInstant.plus(minutes, ChronoUnit.MINUTES)` for adding minutes to it, it’s simpler and clearer to read than what you have now.","body":"As an aside I recommend that you don’t use <code>Date</code> and <code>Calendar</code>. They were poorly designed and are long outdated. Use <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And use <code>yourInstant.plus(minutes, ChronoUnit.MINUTES)</code> for adding minutes to it, it’s simpler and clearer to read than what you have now."},{"owner":{"account_id":11892387,"reputation":334,"user_id":8702806,"display_name":"Uta Alexandru"},"score":0,"creation_date":1685815469,"post_id":76397307,"comment_id":134715082,"body_markdown":"Indeed, if helps that method just check if connected in last minute (if synchronization is working as i expected) . in this case does nothing as reconnections happens somehow concurrential .","body":"Indeed, if helps that method just check if connected in last minute (if synchronization is working as i expected) . in this case does nothing as reconnections happens somehow concurrential ."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685837057,"creation_date":1685837057,"answer_id":76398485,"question_id":76397307,"body_markdown":"I think what you&#39;re seeing is the `onClose` method being executed when this line is reached in the `reconnectSession` method:\r\n\r\n    sessionWrapper.getSession().close();\r\n\r\nThis creates a nested or _reentrant_ call to `reconnectSession`, not a concurrent one. The clue in the logs is that the same thread name is printed both times:\r\n\r\n```\r\nsessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\r\nsessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\r\n```\r\n\r\nIn Java, synchronized blocks are always [reentrant][1] —&#160;in other words, a thread that already holds a lock can reacquire the same lock. This is a good thing: if the nested call to `reconnectSession` were to block instead, it would never become unblocked since the outer call would be unable to proceed.\r\n\r\nOne way to handle this might be to split `reconnectSession` into two methods: one that disconnects the session, and another that connects it again. The method that reestablishes the connection would only be called from the `onClose` handler, which in turn would be triggered when the method that disconnects the session calls `sessionWrapper.getSession().close()`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Synchronized issue","body":"<p>I think what you're seeing is the <code>onClose</code> method being executed when this line is reached in the <code>reconnectSession</code> method:</p>\n<pre><code>sessionWrapper.getSession().close();\n</code></pre>\n<p>This creates a nested or <em>reentrant</em> call to <code>reconnectSession</code>, not a concurrent one. The clue in the logs is that the same thread name is printed both times:</p>\n<pre><code>sessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\nsessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\n</code></pre>\n<p>In Java, synchronized blocks are always <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">reentrant</a> — in other words, a thread that already holds a lock can reacquire the same lock. This is a good thing: if the nested call to <code>reconnectSession</code> were to block instead, it would never become unblocked since the outer call would be unable to proceed.</p>\n<p>One way to handle this might be to split <code>reconnectSession</code> into two methods: one that disconnects the session, and another that connects it again. The method that reestablishes the connection would only be called from the <code>onClose</code> handler, which in turn would be triggered when the method that disconnects the session calls <code>sessionWrapper.getSession().close()</code>.</p>\n"}],"owner":{"account_id":11892387,"reputation":334,"user_id":8702806,"display_name":"Uta Alexandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76398485,"answer_count":1,"score":0,"last_activity_date":1685837057,"creation_date":1685814804,"question_id":76397307,"body_markdown":"I am trying to block the concurrent access to a method , and i didn t succeeded whatever i tried.I tried to sinchronize the method by class (by using synchronized(this)  or synchronized at method level ) ,i even synchronized all methods involved , same result .\r\n\r\n\r\n\r\nI have a connection to a websocket server, and from time to time , i reconnect .  On the @ClientEndpoint class , @OnClose method , i am instantly reconnection the session.I expected that the method which is called from @OnClose  event will wait until synchronized block from reconnectSession will end the execution. \r\n\r\n\r\n When running this example ,you will probably see following logs :\r\n\r\n     init ws connections ended \r\n    RECCONECTING TO BINANCE WS  STARTED \r\n    sessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\r\n    RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa started \r\n      session with id 0 closed with code NORMAL_CLOSURE with reason phrase \r\n    sessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\r\n    RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa started \r\n    RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa ended \r\n    RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa ended \r\n    RECCONECTING TO BINANCE WS  ENDED \r\n\r\nI expected to see \r\n\r\n    RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa started\r\n    RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa ended \r\nand not  the start twice.\r\n\r\n\r\nI replicated the important part in this test example :\r\n    \r\nFirst, the main class :\r\n \r\n\r\n    package com.mycompany.binancereconnect;\r\n    \r\n    import jakarta.websocket.ContainerProvider;\r\n    import jakarta.websocket.WebSocketContainer;\r\n    import java.net.URI;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     *\r\n     * @author utza\r\n     */\r\n    public class TestSynchronization {\r\n    \r\n        public List&lt;WsSessionWrapper&gt; wsSessions = new ArrayList&lt;&gt;();\r\n    \r\n        public static String BASE_SPOT_SOCKET_URL = &quot;wss://stream.binance.com:443/ws&quot;;\r\n    \r\n        public void init() {\r\n            try {\r\n                for (WsSessionWrapper sessionWrapper : wsSessions) {\r\n                    WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n                    if (sessionWrapper.getType().equals(&quot;SPOT&quot;)) {\r\n                        sessionWrapper.setSession(container.connectToServer(new BinanceSpotMessageReceiver(this),\r\n                                new URI(\r\n                                        BASE_SPOT_SOCKET_URL)));\r\n                    }\r\n    \r\n                }\r\n                System.out.println(&quot; init ws connections ended &quot;);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n    \r\n            }\r\n        }\r\n    \r\n        public void reconnectSession(WsSessionWrapper sessionWrapper) {\r\n            System.out.println(&quot;sessionWrapper instance &quot; + sessionWrapper + &quot; from thread &quot; + Thread.currentThread().getName());\r\n            synchronized (sessionWrapper) {\r\n                if (sessionWrapper.allowedToReconnect()) {\r\n                    try {\r\n                        System.out.println(&quot;RECCONECTING SESSION &quot; + sessionWrapper + &quot; started &quot;);\r\n                        try {\r\n                            if (sessionWrapper.getSession() != null) {\r\n                                sessionWrapper.getSession().close();\r\n                            }\r\n                        } catch (Exception ex) {\r\n                            ex.printStackTrace();\r\n                        }\r\n                        sessionWrapper.setSession(null);\r\n                        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n                        if (sessionWrapper.getType().equals(&quot;SPOT&quot;)) {\r\n                            sessionWrapper.setSession(container.connectToServer(new BinanceSpotMessageReceiver(this),\r\n                                    new URI(\r\n                                            BASE_SPOT_SOCKET_URL)));\r\n                        }\r\n                        System.out.println(&quot;RECCONECTING SESSION &quot; + sessionWrapper + &quot; ended &quot;);\r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n    \r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void fullReconnect() {\r\n    //        aici;to also take into account no transactions on btc\r\n            System.out.println(&quot;RECCONECTING TO BINANCE WS  STARTED &quot;);\r\n            for (WsSessionWrapper sessionWrapper : wsSessions) {\r\n                reconnectSession(sessionWrapper);\r\n            }\r\n    \r\n            System.out.println(&quot;RECCONECTING TO BINANCE WS  ENDED &quot;);\r\n        }\r\n    \r\n        public void reconnectSessionBySessionId(String sessionId) {\r\n            for (WsSessionWrapper sessionWrapper : wsSessions) {\r\n                if (sessionWrapper.getSession() != null &amp;&amp; sessionId.equals(sessionWrapper.getSession().getId())) {\r\n                    reconnectSession(sessionWrapper);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            TestSynchronization testSynchronization = new TestSynchronization();\r\n            WsSessionWrapper s1 = new WsSessionWrapper(&quot;SPOT&quot;);\r\n            s1.setId(&quot;1&quot;);\r\n    \r\n            testSynchronization.wsSessions.add(s1);\r\n    \r\n            testSynchronization.init();\r\n            Thread t1 = new Thread(() -&gt; {\r\n                testSynchronization.fullReconnect();\r\n            });\r\n            t1.start();\r\n            Thread.sleep(100000);\r\n        }\r\n    \r\n    }\r\n\r\nSecond , the messageReceiver class , where onclose i attempt to reconnect :\r\n\r\n    package com.mycompany.binancereconnect;\r\n    \r\n    \r\n    import jakarta.websocket.ClientEndpoint;\r\n    import jakarta.websocket.CloseReason;\r\n    import jakarta.websocket.OnClose;\r\n    import jakarta.websocket.OnMessage;\r\n    import jakarta.websocket.Session;\r\n    import java.io.IOException;\r\n    import java.util.Date;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author utza\r\n     */\r\n    \r\n    @ClientEndpoint()\r\n    public class BinanceSpotMessageReceiver {\r\n    \r\n        public BinanceSpotMessageReceiver(TestSynchronization socketService) {\r\n            this.socketService = socketService;\r\n        }\r\n    \r\n    \r\n        \r\n        \r\n        private TestSynchronization socketService;\r\n    \r\n     \r\n    \r\n        private Date lastTimeTradeEventReceived = new Date();\r\n    \r\n        @OnClose\r\n        public void onClose(Session session, CloseReason closeReason) {\r\n            if (closeReason != null) {\r\n                System.out.println(&quot;  session with id &quot; + session.getId() + &quot; closed with code &quot; + closeReason.getCloseCode() + &quot; with reason phrase &quot; + closeReason.getReasonPhrase());\r\n            } else {\r\n                System.out.println(&quot;  session with id &quot; + session.getId() + &quot; closed with close reason null  &quot;);\r\n            }\r\n            socketService.reconnectSessionBySessionId(session.getId());\r\n        }\r\n    \r\n        @OnMessage\r\n        public void onMessage(Session session,\r\n                String message) throws IOException {\r\n    \r\n          \r\n    \r\n                    System.out.println(&quot;received message from binance  &quot; + message);\r\n    \r\n           \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAnd the last java class is the wrapper object :\r\n\r\n    package com.mycompany.binancereconnect;\r\n    \r\n    import jakarta.websocket.Session;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    /**\r\n     * \r\n     * @author utza\r\n     */\r\n    public class WsSessionWrapper {\r\n    \r\n        private String id;\r\n        private Session session;\r\n        private Date lastReconnectionTime;\r\n        private String type;\r\n    \r\n        public WsSessionWrapper(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public Session getSession() {\r\n            return session;\r\n        }\r\n    \r\n        public void setSession(Session session) {\r\n            this.session = session;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Date getLastReconnectionTime() {\r\n            return lastReconnectionTime;\r\n        }\r\n    \r\n        public void setLastReconnectionTime(Date lastReconnectionTime) {\r\n            this.lastReconnectionTime = lastReconnectionTime;\r\n        }\r\n    \r\n    \r\n        //is allowed to reconnect if 1 minute passed from last reconnection\r\n        public Boolean allowedToReconnect() {\r\n            if (lastReconnectionTime == null || addMinutes(lastReconnectionTime, 1).compareTo(new Date()) &lt; 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public static Date addMinutes(Date date, int minutes) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            cal.add(Calendar.MINUTE, minutes);\r\n            return cal.getTime();\r\n        }\r\n    \r\n    }\r\n\r\nYou might also find usefull the dependencies :\r\n\r\n   \r\n\r\n     &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.websocket&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.websocket-client-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                &lt;version&gt;10.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.java-websocket/Java-WebSocket --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.java-websocket&lt;/groupId&gt;\r\n                &lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n\r\nAny help would  be appreciated. Thanks in advance\r\n","title":"Synchronized issue","body":"<p>I am trying to block the concurrent access to a method , and i didn t succeeded whatever i tried.I tried to sinchronize the method by class (by using synchronized(this)  or synchronized at method level ) ,i even synchronized all methods involved , same result .</p>\n<p>I have a connection to a websocket server, and from time to time , i reconnect .  On the @ClientEndpoint class , @OnClose method , i am instantly reconnection the session.I expected that the method which is called from @OnClose  event will wait until synchronized block from reconnectSession will end the execution.</p>\n<p>When running this example ,you will probably see following logs :</p>\n<pre><code> init ws connections ended \nRECCONECTING TO BINANCE WS  STARTED \nsessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\nRECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa started \n  session with id 0 closed with code NORMAL_CLOSURE with reason phrase \nsessionWrapper instance com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa from thread Thread-21\nRECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa started \nRECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa ended \nRECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa ended \nRECCONECTING TO BINANCE WS  ENDED \n</code></pre>\n<p>I expected to see</p>\n<pre><code>RECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa started\nRECCONECTING SESSION com.mycompany.binancereconnect.WsSessionWrapper@7c4b13aa ended \n</code></pre>\n<p>and not  the start twice.</p>\n<p>I replicated the important part in this test example :</p>\n<p>First, the main class :</p>\n<pre><code>package com.mycompany.binancereconnect;\n\nimport jakarta.websocket.ContainerProvider;\nimport jakarta.websocket.WebSocketContainer;\nimport java.net.URI;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n *\n * @author utza\n */\npublic class TestSynchronization {\n\n    public List&lt;WsSessionWrapper&gt; wsSessions = new ArrayList&lt;&gt;();\n\n    public static String BASE_SPOT_SOCKET_URL = &quot;wss://stream.binance.com:443/ws&quot;;\n\n    public void init() {\n        try {\n            for (WsSessionWrapper sessionWrapper : wsSessions) {\n                WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n                if (sessionWrapper.getType().equals(&quot;SPOT&quot;)) {\n                    sessionWrapper.setSession(container.connectToServer(new BinanceSpotMessageReceiver(this),\n                            new URI(\n                                    BASE_SPOT_SOCKET_URL)));\n                }\n\n            }\n            System.out.println(&quot; init ws connections ended &quot;);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n\n        }\n    }\n\n    public void reconnectSession(WsSessionWrapper sessionWrapper) {\n        System.out.println(&quot;sessionWrapper instance &quot; + sessionWrapper + &quot; from thread &quot; + Thread.currentThread().getName());\n        synchronized (sessionWrapper) {\n            if (sessionWrapper.allowedToReconnect()) {\n                try {\n                    System.out.println(&quot;RECCONECTING SESSION &quot; + sessionWrapper + &quot; started &quot;);\n                    try {\n                        if (sessionWrapper.getSession() != null) {\n                            sessionWrapper.getSession().close();\n                        }\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                    }\n                    sessionWrapper.setSession(null);\n                    WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n                    if (sessionWrapper.getType().equals(&quot;SPOT&quot;)) {\n                        sessionWrapper.setSession(container.connectToServer(new BinanceSpotMessageReceiver(this),\n                                new URI(\n                                        BASE_SPOT_SOCKET_URL)));\n                    }\n                    System.out.println(&quot;RECCONECTING SESSION &quot; + sessionWrapper + &quot; ended &quot;);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n\n                }\n            }\n        }\n    }\n\n    public void fullReconnect() {\n//        aici;to also take into account no transactions on btc\n        System.out.println(&quot;RECCONECTING TO BINANCE WS  STARTED &quot;);\n        for (WsSessionWrapper sessionWrapper : wsSessions) {\n            reconnectSession(sessionWrapper);\n        }\n\n        System.out.println(&quot;RECCONECTING TO BINANCE WS  ENDED &quot;);\n    }\n\n    public void reconnectSessionBySessionId(String sessionId) {\n        for (WsSessionWrapper sessionWrapper : wsSessions) {\n            if (sessionWrapper.getSession() != null &amp;&amp; sessionId.equals(sessionWrapper.getSession().getId())) {\n                reconnectSession(sessionWrapper);\n            }\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        TestSynchronization testSynchronization = new TestSynchronization();\n        WsSessionWrapper s1 = new WsSessionWrapper(&quot;SPOT&quot;);\n        s1.setId(&quot;1&quot;);\n\n        testSynchronization.wsSessions.add(s1);\n\n        testSynchronization.init();\n        Thread t1 = new Thread(() -&gt; {\n            testSynchronization.fullReconnect();\n        });\n        t1.start();\n        Thread.sleep(100000);\n    }\n\n}\n</code></pre>\n<p>Second , the messageReceiver class , where onclose i attempt to reconnect :</p>\n<pre><code>package com.mycompany.binancereconnect;\n\n\nimport jakarta.websocket.ClientEndpoint;\nimport jakarta.websocket.CloseReason;\nimport jakarta.websocket.OnClose;\nimport jakarta.websocket.OnMessage;\nimport jakarta.websocket.Session;\nimport java.io.IOException;\nimport java.util.Date;\n\n\n/**\n *\n * @author utza\n */\n\n@ClientEndpoint()\npublic class BinanceSpotMessageReceiver {\n\n    public BinanceSpotMessageReceiver(TestSynchronization socketService) {\n        this.socketService = socketService;\n    }\n\n\n    \n    \n    private TestSynchronization socketService;\n\n \n\n    private Date lastTimeTradeEventReceived = new Date();\n\n    @OnClose\n    public void onClose(Session session, CloseReason closeReason) {\n        if (closeReason != null) {\n            System.out.println(&quot;  session with id &quot; + session.getId() + &quot; closed with code &quot; + closeReason.getCloseCode() + &quot; with reason phrase &quot; + closeReason.getReasonPhrase());\n        } else {\n            System.out.println(&quot;  session with id &quot; + session.getId() + &quot; closed with close reason null  &quot;);\n        }\n        socketService.reconnectSessionBySessionId(session.getId());\n    }\n\n    @OnMessage\n    public void onMessage(Session session,\n            String message) throws IOException {\n\n      \n\n                System.out.println(&quot;received message from binance  &quot; + message);\n\n       \n\n    }\n\n\n}\n</code></pre>\n<p>And the last java class is the wrapper object :</p>\n<pre><code>package com.mycompany.binancereconnect;\n\nimport jakarta.websocket.Session;\nimport java.util.Calendar;\nimport java.util.Date;\n\n/**\n * \n * @author utza\n */\npublic class WsSessionWrapper {\n\n    private String id;\n    private Session session;\n    private Date lastReconnectionTime;\n    private String type;\n\n    public WsSessionWrapper(String type) {\n        this.type = type;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public Session getSession() {\n        return session;\n    }\n\n    public void setSession(Session session) {\n        this.session = session;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public Date getLastReconnectionTime() {\n        return lastReconnectionTime;\n    }\n\n    public void setLastReconnectionTime(Date lastReconnectionTime) {\n        this.lastReconnectionTime = lastReconnectionTime;\n    }\n\n\n    //is allowed to reconnect if 1 minute passed from last reconnection\n    public Boolean allowedToReconnect() {\n        if (lastReconnectionTime == null || addMinutes(lastReconnectionTime, 1).compareTo(new Date()) &lt; 0) {\n            return true;\n        }\n        return false;\n    }\n\n    public static Date addMinutes(Date date, int minutes) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        cal.add(Calendar.MINUTE, minutes);\n        return cal.getTime();\n    }\n\n}\n</code></pre>\n<p>You might also find usefull the dependencies :</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.websocket-client-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n            &lt;version&gt;10.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.java-websocket/Java-WebSocket --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.java-websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Any help would  be appreciated. Thanks in advance</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webautomation","operadriver"],"comments":[{"owner":{"account_id":28189864,"reputation":917,"user_id":21545421,"display_name":"amycodes"},"score":0,"creation_date":1685832416,"post_id":76397982,"comment_id":134716711,"body_markdown":"Share the actual error you got.","body":"Share the actual error you got."},{"owner":{"account_id":26502357,"reputation":5,"user_id":20139092,"display_name":"donaldekpe"},"score":0,"creation_date":1685835290,"post_id":76397982,"comment_id":134716949,"body_markdown":"These are the errors i get:\n\nThe type OperaDriver is deprecated\nThe constructor OperaDriver() is deprecated","body":"These are the errors i get:  The type OperaDriver is deprecated The constructor OperaDriver() is deprecated"},{"owner":{"account_id":28189864,"reputation":917,"user_id":21545421,"display_name":"amycodes"},"score":0,"creation_date":1685835384,"post_id":76397982,"comment_id":134716956,"body_markdown":"Edit your question to include them.","body":"Edit your question to include them."},{"owner":{"account_id":26502357,"reputation":5,"user_id":20139092,"display_name":"donaldekpe"},"score":0,"creation_date":1685835541,"post_id":76397982,"comment_id":134716963,"body_markdown":"I have included the error message in the question.","body":"I have included the error message in the question."},{"owner":{"account_id":7615319,"reputation":7120,"user_id":5774952,"display_name":"Zac Anger"},"score":1,"creation_date":1685835865,"post_id":76397982,"comment_id":134716982,"body_markdown":"Opera isn&#39;t supported at all by Selenium anymore. Instead you&#39;ll probably want to use Opera&#39;s [version of the Chrome webdriver](https://github.com/operasoftware/operachromiumdriver), and may need to dig through some of the [related issues](https://github.com/operasoftware/operachromiumdriver/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+java) to get it to work in Java.","body":"Opera isn&#39;t supported at all by Selenium anymore. Instead you&#39;ll probably want to use Opera&#39;s <a href=\"https://github.com/operasoftware/operachromiumdriver\" rel=\"nofollow noreferrer\">version of the Chrome webdriver</a>, and may need to dig through some of the <a href=\"https://github.com/operasoftware/operachromiumdriver/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+java\" rel=\"nofollow noreferrer\">related issues</a> to get it to work in Java."}],"owner":{"account_id":26502357,"reputation":5,"user_id":20139092,"display_name":"donaldekpe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685835483,"creation_date":1685825193,"question_id":76397982,"body_markdown":"I am trying to launch a site on the opera browser using the selenium java. I have tried the code below but I get an error that it is deprecated. Please I need update on how to go about this.\r\n\r\n    package donald;\r\n    \r\n    // Importing All Necessary Items\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.opera.OperaDriver;\r\n    \r\n    public class sweet-scrape {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t\t// Set the path to the OperaDriver executable\r\n    \t\t\tSystem.setProperty(&quot;webdriver.opera.driver&quot;, &quot;C:\\\\Visual Studio\\\\WebScraper\\\\sweet-scraper\\\\drivers\\\\operadriver.exe&quot;);\r\n    \t\t\r\n    \t\t\t// Creating New Object driver Of Webdriver\r\n    \t\t\tWebDriver driver = new OperaDriver();\r\n    \t\t\r\n    \t\t\t// Open the website\r\n    \t\t\tdriver.get(&quot;https://www.jiji.ng&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nThese are the errors I get:\r\n\r\nThe type OperaDriver is deprecated\r\nThe constructor OperaDriver() is deprecated","title":"How do I launch opera browser using selenium?","body":"<p>I am trying to launch a site on the opera browser using the selenium java. I have tried the code below but I get an error that it is deprecated. Please I need update on how to go about this.</p>\n<pre><code>package donald;\n\n// Importing All Necessary Items\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.opera.OperaDriver;\n\npublic class sweet-scrape {\n    public static void main(String[] args)\n    {\n            // Set the path to the OperaDriver executable\n            System.setProperty(&quot;webdriver.opera.driver&quot;, &quot;C:\\\\Visual Studio\\\\WebScraper\\\\sweet-scraper\\\\drivers\\\\operadriver.exe&quot;);\n        \n            // Creating New Object driver Of Webdriver\n            WebDriver driver = new OperaDriver();\n        \n            // Open the website\n            driver.get(&quot;https://www.jiji.ng&quot;);\n    }\n}\n</code></pre>\n<p>These are the errors I get:</p>\n<p>The type OperaDriver is deprecated\nThe constructor OperaDriver() is deprecated</p>\n"},{"tags":["java","spring","spring-boot","audit","audit-trail"],"answers":[{"tags":[],"owner":{"account_id":2509519,"reputation":9629,"user_id":2182349,"accept_rate":89,"display_name":"user2182349"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685832117,"creation_date":1685832117,"answer_id":76398296,"question_id":76364642,"body_markdown":"The root cause of the failure was in the **SecurityConfiguration**, specifically the `SecurityExpression` handler. This code is what worked:\r\n\r\n## SecurityConfiguration\r\n\r\nI changed from using `@EnableMethodSecurity` to `@EnableWebSecurity`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public RoleHierarchyImpl roleHierarchy() {\r\n            RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n            roleHierarchy.setHierarchy(&quot;&quot;&quot;\r\n                ROLE_ADMIN &gt; ROLE_CAMPUS_SAFETY\r\n                ROLE_CAMPUS_SAFETY &gt; ROLE_USER\r\n            &quot;&quot;&quot;);\r\n            return roleHierarchy;\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultWebSecurityExpressionHandler expressionHandler() {\r\n            DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\r\n            expressionHandler.setRoleHierarchy(roleHierarchy());\r\n            return expressionHandler;\r\n        }\r\n\r\nI updated the entity to `extend` a base class with the audit and version data:\r\n\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    @MappedSuperclass\r\n    public class BaseEntity  {\r\n        @Version\r\n        @Column(name = &quot;version&quot;)\r\n        private Long version;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;created_by&quot;)\r\n        @CreatedBy\r\n        private User createdBy;\r\n        @Column(name = &quot;created&quot;,updatable = false)\r\n        @CreatedDate\r\n        private Timestamp createdDate;\r\n        @LastModifiedBy\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;last_modified_by&quot;)\r\n        private User lastModifiedBy;\r\n        @Column(name = &quot;last_modified&quot;)\r\n        @LastModifiedDate\r\n        private Timestamp lastModifiedDate;\r\n    \r\n        public void setVersion(Long version) {\r\n            this.version = version;\r\n        }\r\n    \r\n        public Long getVersion() {\r\n            return version;\r\n        }\r\n    }\r\n\r\n## Entity\r\n\r\nSpecifically *Request*, note the **&#39;extends BaseEntity&#39;**\r\n\r\n    @Entity\r\n    @Table(name = &quot;trip_request&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE trip_request SET deleted = true WHERE id=?&quot;)\r\n    @FilterDef(name = &quot;deletedRequestFilter&quot;, parameters = @ParamDef(name = &quot;isDeleted&quot;, type = Boolean.class))\r\n    @Filter(name = &quot;deletedRequestFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n    public class Request extends BaseEntity { ... }\r\n\r\n\r\n## PersistenceConfiguration\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(&quot;com.ncc.vms&quot;)\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;auditorAware&quot;)\r\n    public class PersistenceConfiguration {\r\n    \r\n        @Bean\r\n        AuditorAware&lt;User&gt; auditorAware() {\r\n            return new AuditorAwareImpl();\r\n        }\r\n    }\r\n\r\nI apologize for not explaining **WHY** the problem occurred - but it was related to these messages:\r\n\r\n&gt; 2023-05-30T07:46:53.316-04:00  INFO 15224 --- [  restartedMain]\r\n&gt; trationDelegate$BeanPostProcessorChecker : Bean &#39;entityManagerFactory&#39;\r\n&gt; of type\r\n&gt; [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]\r\n&gt; is not eligible for getting processed by all BeanPostProcessors (for\r\n&gt; example: not eligible for auto-proxying)\r\n\r\nI believe that the SecurityExpression was interfering with the workflow.","title":"Spring Boot AuditAware - Database not updating","body":"<p>The root cause of the failure was in the <strong>SecurityConfiguration</strong>, specifically the <code>SecurityExpression</code> handler. This code is what worked:</p>\n<h2>SecurityConfiguration</h2>\n<p>I changed from using <code>@EnableMethodSecurity</code> to <code>@EnableWebSecurity</code></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfiguration {\n\n    @Bean\n    public RoleHierarchyImpl roleHierarchy() {\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n        roleHierarchy.setHierarchy(&quot;&quot;&quot;\n            ROLE_ADMIN &gt; ROLE_CAMPUS_SAFETY\n            ROLE_CAMPUS_SAFETY &gt; ROLE_USER\n        &quot;&quot;&quot;);\n        return roleHierarchy;\n    }\n\n    @Bean\n    public DefaultWebSecurityExpressionHandler expressionHandler() {\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy());\n        return expressionHandler;\n    }\n</code></pre>\n<p>I updated the entity to <code>extend</code> a base class with the audit and version data:</p>\n<pre><code>@EntityListeners(AuditingEntityListener.class)\n@MappedSuperclass\npublic class BaseEntity  {\n    @Version\n    @Column(name = &quot;version&quot;)\n    private Long version;\n    @ManyToOne\n    @JoinColumn(name = &quot;created_by&quot;)\n    @CreatedBy\n    private User createdBy;\n    @Column(name = &quot;created&quot;,updatable = false)\n    @CreatedDate\n    private Timestamp createdDate;\n    @LastModifiedBy\n    @ManyToOne\n    @JoinColumn(name = &quot;last_modified_by&quot;)\n    private User lastModifiedBy;\n    @Column(name = &quot;last_modified&quot;)\n    @LastModifiedDate\n    private Timestamp lastModifiedDate;\n\n    public void setVersion(Long version) {\n        this.version = version;\n    }\n\n    public Long getVersion() {\n        return version;\n    }\n}\n</code></pre>\n<h2>Entity</h2>\n<p>Specifically <em>Request</em>, note the <strong>'extends BaseEntity'</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;trip_request&quot;)\n@SQLDelete(sql = &quot;UPDATE trip_request SET deleted = true WHERE id=?&quot;)\n@FilterDef(name = &quot;deletedRequestFilter&quot;, parameters = @ParamDef(name = &quot;isDeleted&quot;, type = Boolean.class))\n@Filter(name = &quot;deletedRequestFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\npublic class Request extends BaseEntity { ... }\n</code></pre>\n<h2>PersistenceConfiguration</h2>\n<pre><code>@Configuration\n@EnableJpaRepositories(&quot;com.ncc.vms&quot;)\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorAware&quot;)\npublic class PersistenceConfiguration {\n\n    @Bean\n    AuditorAware&lt;User&gt; auditorAware() {\n        return new AuditorAwareImpl();\n    }\n}\n</code></pre>\n<p>I apologize for not explaining <strong>WHY</strong> the problem occurred - but it was related to these messages:</p>\n<blockquote>\n<p>2023-05-30T07:46:53.316-04:00  INFO 15224 --- [  restartedMain]\ntrationDelegate$BeanPostProcessorChecker : Bean 'entityManagerFactory'\nof type\n[org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]\nis not eligible for getting processed by all BeanPostProcessors (for\nexample: not eligible for auto-proxying)</p>\n</blockquote>\n<p>I believe that the SecurityExpression was interfering with the workflow.</p>\n"}],"owner":{"account_id":2509519,"reputation":9629,"user_id":2182349,"accept_rate":89,"display_name":"user2182349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76398296,"answer_count":1,"score":0,"last_activity_date":1685832117,"creation_date":1685448348,"question_id":76364642,"body_markdown":"I am new to Spring Boot and want to add auditing support. Most of my inspiration is from https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing, and a good amount of searching and trying.\r\n\r\n**The audit columns (created, created_by, last_modified, last_modified_by) are not being updated in the database.**\r\n\r\n## Persistence Configuration\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(&quot;com.ncc.vrts&quot;)\r\n    @EnableJpaAuditing(auditorAwareRef = &quot;auditorAware&quot;)\r\n    public class PersistenceConfiguration {\r\n        @Bean\r\n        AuditorAware&lt;User&gt; auditorAware() {\r\n            return new AuditorAwareImpl();\r\n        }\r\n    }\r\n\r\n## AuditAwareImpl\r\n\r\nI checked this with the debugger, the User is properly returned\r\n\r\n    @Component\r\n    public class AuditorAwareImpl implements AuditorAware&lt;User&gt; {\r\n            @Override\r\n            public Optional&lt;User&gt; getCurrentAuditor() {\r\n                return Optional.ofNullable(SecurityContextHolder.getContext())\r\n                        .map(SecurityContext::getAuthentication)\r\n                        .filter(Authentication::isAuthenticated)\r\n                        .map(Authentication::getPrincipal)\r\n                        .map(User.class::cast);\r\n            }\r\n        }\r\n\r\n\r\n## AuditMetadata class\r\n\r\n    @Embeddable\r\n    public class AuditMetadata  {\r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST})\r\n        @JoinColumn(name = &quot;created_by&quot;)\r\n        @CreatedBy\r\n        private User createdBy;\r\n        @Column(name = &quot;created&quot;)\r\n        @CreatedDate\r\n        private Timestamp createdDate;\r\n        @LastModifiedBy\r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST})\r\n        @JoinColumn(name = &quot;last_modified_by&quot;)\r\n        private User lastModifiedBy;\r\n        @Column(name = &quot;last_modified&quot;)\r\n        @LastModifiedDate\r\n        private Timestamp lastModifiedDate;\r\n\r\n        // no setters or getters (although I tried with them and it didn&#39;t work either)\r\n\r\n## Entity \r\n\r\n    @Entity\r\n    @Table(name = &quot;trip_request&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE trip_request SET deleted = true WHERE id=?&quot;)\r\n    @FilterDef(name = &quot;deletedRequestFilter&quot;, parameters = @ParamDef(name = &quot;isDeleted&quot;, type = Boolean.class))\r\n    @Filter(name = &quot;deletedRequestFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Request {\r\n        ...\r\n        @Embedded\r\n        private AuditMetadata auditingMetadata;\r\n        ...\r\n        // no setter or getter\r\n        ...\r\n\r\n## Controller call\r\n\r\n    // .save is not overridden\r\n    requestRepository.save(request);\r\n\r\n## Resulting SQL on .save()\r\n\r\n    Hibernate: select r1_0.id,r1_0.created_by,r1_0.created,r1_0.last_modified_by,r1_0.last_modified,r1_0.deleted,r1_0.expected_return_date_time,r1_0.last_updated,r1_0.note,r1_0.purpose,r1_0.request_date_time,r1_0.request_submitted,r1_0.status,r1_0.status_reviewed,r1_0.status_user_id,r1_0.user_id,r1_0.vehicle_id from trip_request r1_0 where r1_0.id=?\r\n    Hibernate: update trip_request set created_by=?, created=?, last_modified_by=?, last_modified=?, deleted=?, expected_return_date_time=?, last_updated=?, note=?, purpose=?, request_date_time=?, request_submitted=?, status=?, status_reviewed=?, status_user_id=?, user_id=?, vehicle_id=? where id=?\r\n\r\n## Database view\r\n\r\n    select * from trip_request where id=8\\G;\r\n    *************************** 1. row ***************************\r\n                            id: 8\r\n    ... all fields updated as expected except audit\r\n                       created: NULL\r\n                 last_modified: NULL\r\n                    created_by: NULL\r\n              last_modified_by: NULL\r\n\r\n## build.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    }\r\n    \r\n    group = &#39;com.ncc&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.okta.spring:okta-spring-boot-starter:3.0.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:3.2.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&#39;\r\n        implementation &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n        implementation &#39;io.hypersistence:hypersistence-utils-parent:3.2.0&#39;\r\n        implementation &#39;io.hypersistence:hypersistence-utils-hibernate-60:3.2.0&#39;\r\n        implementation &#39;io.openliberty.features:com.ibm.websphere.appserver.securityContext-1.0:23.0.0.2&#39;\r\n        runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n## Seen in the Run Window\r\n\r\n    2023-05-30T07:46:53.311-04:00  INFO 15224 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-05-30T07:46:53.316-04:00  INFO 15224 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;entityManagerFactory&#39; of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)","title":"Spring Boot AuditAware - Database not updating","body":"<p>I am new to Spring Boot and want to add auditing support. Most of my inspiration is from <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#auditing</a>, and a good amount of searching and trying.</p>\n<p><strong>The audit columns (created, created_by, last_modified, last_modified_by) are not being updated in the database.</strong></p>\n<h2>Persistence Configuration</h2>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(&quot;com.ncc.vrts&quot;)\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorAware&quot;)\npublic class PersistenceConfiguration {\n    @Bean\n    AuditorAware&lt;User&gt; auditorAware() {\n        return new AuditorAwareImpl();\n    }\n}\n</code></pre>\n<h2>AuditAwareImpl</h2>\n<p>I checked this with the debugger, the User is properly returned</p>\n<pre><code>@Component\npublic class AuditorAwareImpl implements AuditorAware&lt;User&gt; {\n        @Override\n        public Optional&lt;User&gt; getCurrentAuditor() {\n            return Optional.ofNullable(SecurityContextHolder.getContext())\n                    .map(SecurityContext::getAuthentication)\n                    .filter(Authentication::isAuthenticated)\n                    .map(Authentication::getPrincipal)\n                    .map(User.class::cast);\n        }\n    }\n</code></pre>\n<h2>AuditMetadata class</h2>\n<pre><code>@Embeddable\npublic class AuditMetadata  {\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST})\n    @JoinColumn(name = &quot;created_by&quot;)\n    @CreatedBy\n    private User createdBy;\n    @Column(name = &quot;created&quot;)\n    @CreatedDate\n    private Timestamp createdDate;\n    @LastModifiedBy\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST})\n    @JoinColumn(name = &quot;last_modified_by&quot;)\n    private User lastModifiedBy;\n    @Column(name = &quot;last_modified&quot;)\n    @LastModifiedDate\n    private Timestamp lastModifiedDate;\n\n    // no setters or getters (although I tried with them and it didn't work either)\n</code></pre>\n<h2>Entity</h2>\n<pre><code>@Entity\n@Table(name = &quot;trip_request&quot;)\n@SQLDelete(sql = &quot;UPDATE trip_request SET deleted = true WHERE id=?&quot;)\n@FilterDef(name = &quot;deletedRequestFilter&quot;, parameters = @ParamDef(name = &quot;isDeleted&quot;, type = Boolean.class))\n@Filter(name = &quot;deletedRequestFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class Request {\n    ...\n    @Embedded\n    private AuditMetadata auditingMetadata;\n    ...\n    // no setter or getter\n    ...\n</code></pre>\n<h2>Controller call</h2>\n<pre><code>// .save is not overridden\nrequestRepository.save(request);\n</code></pre>\n<h2>Resulting SQL on .save()</h2>\n<pre><code>Hibernate: select r1_0.id,r1_0.created_by,r1_0.created,r1_0.last_modified_by,r1_0.last_modified,r1_0.deleted,r1_0.expected_return_date_time,r1_0.last_updated,r1_0.note,r1_0.purpose,r1_0.request_date_time,r1_0.request_submitted,r1_0.status,r1_0.status_reviewed,r1_0.status_user_id,r1_0.user_id,r1_0.vehicle_id from trip_request r1_0 where r1_0.id=?\nHibernate: update trip_request set created_by=?, created=?, last_modified_by=?, last_modified=?, deleted=?, expected_return_date_time=?, last_updated=?, note=?, purpose=?, request_date_time=?, request_submitted=?, status=?, status_reviewed=?, status_user_id=?, user_id=?, vehicle_id=? where id=?\n</code></pre>\n<h2>Database view</h2>\n<pre><code>select * from trip_request where id=8\\G;\n*************************** 1. row ***************************\n                        id: 8\n... all fields updated as expected except audit\n                   created: NULL\n             last_modified: NULL\n                created_by: NULL\n          last_modified_by: NULL\n</code></pre>\n<h2>build.gradle</h2>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.2'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.ncc'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.okta.spring:okta-spring-boot-starter:3.0.3'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:3.2.0'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6'\n    implementation 'javax.servlet:javax.servlet-api:4.0.1'\n    implementation 'io.hypersistence:hypersistence-utils-parent:3.2.0'\n    implementation 'io.hypersistence:hypersistence-utils-hibernate-60:3.2.0'\n    implementation 'io.openliberty.features:com.ibm.websphere.appserver.securityContext-1.0:23.0.0.2'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<h2>Seen in the Run Window</h2>\n<pre><code>2023-05-30T07:46:53.311-04:00  INFO 15224 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-30T07:46:53.316-04:00  INFO 15224 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'entityManagerFactory' of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n</code></pre>\n"},{"tags":["java","wicket","wicket-6","wicket-7","wicketstuff"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685833942,"post_id":76398264,"comment_id":134716849,"body_markdown":"what does it mean it doesn&#39;t work? what&#39;s the expected behavior and what is happening? do you see any error message anywhere?","body":"what does it mean it doesn&#39;t work? what&#39;s the expected behavior and what is happening? do you see any error message anywhere?"},{"owner":{"account_id":14328772,"reputation":3,"user_id":10350090,"display_name":"Gamal Elsawy"},"score":0,"creation_date":1685923335,"post_id":76398264,"comment_id":134724491,"body_markdown":"this behavior is implemented to show a &quot;description&quot; when i hover on some label.\nand this behavior is working sometimes, and not for others.\n\nnot error message occured!","body":"this behavior is implemented to show a &quot;description&quot; when i hover on some label. and this behavior is working sometimes, and not for others.  not error message occured!"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1685937294,"post_id":76398264,"comment_id":134725424,"body_markdown":"if there is no error message, neither in server or even in the web console, I suggest to add log messages to see what is happening. If that is not enough, a debugger might help. If that is not enough, try to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? without debugging details, it&#39;s a bit hard to know what is happening","body":"if there is no error message, neither in server or even in the web console, I suggest to add log messages to see what is happening. If that is not enough, a debugger might help. If that is not enough, try to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? without debugging details, it&#39;s a bit hard to know what is happening"}],"owner":{"account_id":14328772,"reputation":3,"user_id":10350090,"display_name":"Gamal Elsawy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685831486,"creation_date":1685831421,"question_id":76398264,"body_markdown":"I have implemented a wicket behavior as shown below:\r\n\r\n```\r\n@Priority(100)\r\npublic class MouseOverTextBehavior extends Behavior {\r\n\r\n    private final String description;\r\n\r\n    public MouseOverTextBehavior(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    @Override\r\n    public void onComponentTag(Component component, ComponentTag tag) {\r\n        super.onComponentTag(component, tag);\r\n        // Set the title attribute\r\n        tag.put(&quot;title&quot;, description);\r\n\r\n        // Create a JavaScript function that will be executed when the mouse\r\n        // pointer enters the component\r\n        String jsFunction = String.format(\r\n            &quot;$(&#39;&lt;div class=\\&quot;description\\&quot;&gt;%s&lt;/div&gt;&#39;).appendTo(&#39;body&#39;);&quot;\r\n                    + &quot;var labelRect = $(this)[0].getBoundingClientRect();&quot;\r\n                    + &quot;var popupRect = $(&#39;.description:last&#39;)[0].getBoundingClientRect();&quot;\r\n                    + &quot;var popupTop = labelRect.top - popupRect.height - 10;&quot;\r\n                    + &quot;var popupLeft = labelRect.left + (labelRect.width - popupRect.width) / 2;&quot;\r\n                    + &quot;$(&#39;.description:last&#39;).css({ top: popupTop, left: popupLeft });&quot;,\r\n            description != null? description.replace(&quot;&#39;&quot;, &quot;\\\\&#39;&quot;): null\r\n        );\r\n\r\n        tag.put(&quot;onmouseover&quot;, jsFunction);\r\n        jsFunction = &quot;$(this).prev(&#39;.description&#39;).remove();&quot;;\r\n        tag.put(&quot;onmouseout&quot;, jsFunction);\r\n\r\n        // Set the position: relative\r\n        tag.put(&quot;style&quot;, &quot;position: relative;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThen i tested it for being added to some Component like: Label\r\nI.E: \r\n```\r\nButton button = new Button(&quot;myButton&quot;);\r\nbutton.add(new MouseOverTextBehavior(&quot;This is a button&quot;));\r\nadd(button);\r\n```\r\nAnd it is working fine.\r\n\r\n\r\nThe problem is that behavior is working fine on some cases like the example above,\r\nand not working in other cases like the following case:\r\n\r\n```\r\nadd(newReferenceCodeLabel(&quot;id&quot;).add(new MouseOverTextBehavior(&quot;Show this message!!&quot;))); \r\n```\r\n\r\nKnowing that:\r\n```\r\nprivate Label newReferenceCodeLabel(final String id) {\r\n        \r\n\r\nreturn new Label(id, new AbstractReadOnlyModel&lt;String&gt;() {\r\n\r\n            private static final long serialVersionUID = 5340631294817017953L;\r\n\r\n            @Override\r\n            public String getObject() {\r\n                final AfElement afElement = getAfElement();\r\n                String referenceAeCode = afElement.getReferencedAeCode();\r\n                if (afElement instanceof AeProductPromotion\r\n                        &amp;&amp; afElement.getProductCode().equals(referenceAeCode)) {\r\n                    referenceAeCode = null;\r\n                }\r\n                return referenceAeCode;\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n   \r\n\r\nI want to know the reason why this behaves like that, and how to fix it?","title":"Wicket Behavior is working in some cases, and is not in others","body":"<p>I have implemented a wicket behavior as shown below:</p>\n<pre><code>@Priority(100)\npublic class MouseOverTextBehavior extends Behavior {\n\n    private final String description;\n\n    public MouseOverTextBehavior(String description) {\n        this.description = description;\n    }\n\n    @Override\n    public void onComponentTag(Component component, ComponentTag tag) {\n        super.onComponentTag(component, tag);\n        // Set the title attribute\n        tag.put(&quot;title&quot;, description);\n\n        // Create a JavaScript function that will be executed when the mouse\n        // pointer enters the component\n        String jsFunction = String.format(\n            &quot;$('&lt;div class=\\&quot;description\\&quot;&gt;%s&lt;/div&gt;').appendTo('body');&quot;\n                    + &quot;var labelRect = $(this)[0].getBoundingClientRect();&quot;\n                    + &quot;var popupRect = $('.description:last')[0].getBoundingClientRect();&quot;\n                    + &quot;var popupTop = labelRect.top - popupRect.height - 10;&quot;\n                    + &quot;var popupLeft = labelRect.left + (labelRect.width - popupRect.width) / 2;&quot;\n                    + &quot;$('.description:last').css({ top: popupTop, left: popupLeft });&quot;,\n            description != null? description.replace(&quot;'&quot;, &quot;\\\\'&quot;): null\n        );\n\n        tag.put(&quot;onmouseover&quot;, jsFunction);\n        jsFunction = &quot;$(this).prev('.description').remove();&quot;;\n        tag.put(&quot;onmouseout&quot;, jsFunction);\n\n        // Set the position: relative\n        tag.put(&quot;style&quot;, &quot;position: relative;&quot;);\n    }\n}\n</code></pre>\n<p>Then i tested it for being added to some Component like: Label\nI.E:</p>\n<pre><code>Button button = new Button(&quot;myButton&quot;);\nbutton.add(new MouseOverTextBehavior(&quot;This is a button&quot;));\nadd(button);\n</code></pre>\n<p>And it is working fine.</p>\n<p>The problem is that behavior is working fine on some cases like the example above,\nand not working in other cases like the following case:</p>\n<pre><code>add(newReferenceCodeLabel(&quot;id&quot;).add(new MouseOverTextBehavior(&quot;Show this message!!&quot;))); \n</code></pre>\n<p>Knowing that:</p>\n<pre><code>private Label newReferenceCodeLabel(final String id) {\n        \n\nreturn new Label(id, new AbstractReadOnlyModel&lt;String&gt;() {\n\n            private static final long serialVersionUID = 5340631294817017953L;\n\n            @Override\n            public String getObject() {\n                final AfElement afElement = getAfElement();\n                String referenceAeCode = afElement.getReferencedAeCode();\n                if (afElement instanceof AeProductPromotion\n                        &amp;&amp; afElement.getProductCode().equals(referenceAeCode)) {\n                    referenceAeCode = null;\n                }\n                return referenceAeCode;\n            }\n        });\n    }\n</code></pre>\n<p>I want to know the reason why this behaves like that, and how to fix it?</p>\n"},{"tags":["java","javafx","combobox","scenebuilder","observablelist"],"comments":[{"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"score":0,"creation_date":1685828196,"post_id":76397866,"comment_id":134716371,"body_markdown":"@jewelsea that it just working very well it was just break statement that is missing, Thank you!!!","body":"@jewelsea that it just working very well it was just break statement that is missing, Thank you!!!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1685828448,"post_id":76397866,"comment_id":134716391,"body_markdown":"Replaced comments with an answer.","body":"Replaced comments with an answer."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":2,"creation_date":1685829020,"post_id":76397866,"comment_id":134716425,"body_markdown":"why dont you remove the switch and use this `ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(t1));\n                    mealCB.setItems(mealByCourse);` ?","body":"why dont you remove the switch and use this <code>ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCours&zwnj;&#8203;e(t1));                     mealCB.setItems(mealByCourse);</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685831061,"creation_date":1685828431,"answer_id":76398139,"question_id":76397866,"body_markdown":"This is related to these answers so also study them:\r\n\r\n * https://stackoverflow.com/questions/20794359/javafx-cascading-dropdown-based-on-selection\r\n * https://stackoverflow.com/questions/39965950/combobox-dependent-on-another-combobox-javafx\r\n\r\nYou are using a similar approach to the first referenced answer, but have a logic error in your switch statement.\r\n\r\nYou don&#39;t `break` after every condition, instead you break only at the end of the switch. So the other conditions are &quot;working&quot; as in doing what they are asked to do, but the subsequent conditions run too and only the last one applies.\r\n\r\nYou can fix your logic error with the following code:\r\n\r\n    switch (t1) {\r\n        case &quot;first meal&quot;: {\r\n            ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;first meal&quot;));\r\n            mealCB.setItems(mealByCourse);\r\n        }\r\n        break; \r\n        case &quot;main meal&quot;: {\r\n            ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;main meal&quot;));\r\n            mealCB.setItems(mealByCourse);\r\n        }\r\n        break;\r\n        case &quot;drink&quot;: {\r\n            ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;drink&quot;));\r\n            mealCB.setItems(mealByCourse);\r\n        }\r\n        break;\r\n    }\r\n\r\nNote that I added `break` statements in between each case statement. \r\n That way, only the block of a single case statement will be executed for each case.\r\n\r\nI advise you to go back and do some study on the Java language basics.  Study [how switch statements work][1]. That article is for Java 8. There are [improved switches in later Java versions][2], but you aren&#39;t using the improved switch syntax, so the old article still applies for the old syntax that you use.\r\n\r\nIf you want to switch to using a more modern syntax (requires Java 14+), then you can write instead:\r\n\r\n    switch (t1) {\r\n        case &quot;first meal&quot; -&gt; {\r\n            ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;first meal&quot;));\r\n            mealCB.setItems(mealByCourse);\r\n        }\r\n\r\n        case &quot;main meal&quot; -&gt; {\r\n            ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;main meal&quot;));\r\n            mealCB.setItems(mealByCourse);\r\n        }\r\n\r\n        case &quot;drink&quot; -&gt; {\r\n            ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;drink&quot;));\r\n            mealCB.setItems(mealByCourse);\r\n        }\r\n    }\r\n\r\nThis will do the same as the previous example, but is IMO, less error prone.  It uses the new `-&gt;` syntax for cases in switches rather than the old `:` syntax.  The new syntax does not fall through cases and does not require explicit `break` statements.\r\n\r\nThe switch can be converted to an expression to allow a more functional style of programming, which I often prefer:\r\n\r\n    String[] mealsByCourse = switch (t1) {\r\n        case &quot;first meal&quot; -&gt; fileReader.getMealsByCourse(&quot;first meal&quot;);\r\n        case &quot;main meal&quot; -&gt; fileReader.getMealsByCourse(&quot;main meal&quot;);\r\n        case &quot;drink&quot; -&gt; fileReader.getMealsByCourse(&quot;drink&quot;);\r\n        default -&gt; new String[0];\r\n    );\r\n\r\n    mealCB.setItems(\r\n        FXCollections.observableArrayList(\r\n                mealsByCourse\r\n        )\r\n    );\r\n\r\nBut then when you do that it becomes clear that you are just switching on a value and applying that value.\r\n\r\nSo you can instead just eliminate the switch statement and use the simple solution proposed by Anon in comments:\r\n\r\n    ObservableList&lt;String&gt; mealsByCourse = FXCollections.observableArrayList(\r\n            fileReader.getMealsByCourse(t1)\r\n    );                     \r\n\r\n    mealCB.setItems(mealsByCourse);\r\n\r\nThis final approach is the same as one of those proposed solutions in this answer to a related question:\r\n\r\n * https://stackoverflow.com/questions/39965950/combobox-dependent-on-another-combobox-javafx\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\r\n  [2]: https://openjdk.org/jeps/361\r\n","title":"make two combo box related in javaFx","body":"<p>This is related to these answers so also study them:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/20794359/javafx-cascading-dropdown-based-on-selection\">Javafx Cascading dropdown based on selection</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39965950/combobox-dependent-on-another-combobox-javafx\">combobox dependent on another combobox - JavaFX</a></li>\n</ul>\n<p>You are using a similar approach to the first referenced answer, but have a logic error in your switch statement.</p>\n<p>You don't <code>break</code> after every condition, instead you break only at the end of the switch. So the other conditions are &quot;working&quot; as in doing what they are asked to do, but the subsequent conditions run too and only the last one applies.</p>\n<p>You can fix your logic error with the following code:</p>\n<pre><code>switch (t1) {\n    case &quot;first meal&quot;: {\n        ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;first meal&quot;));\n        mealCB.setItems(mealByCourse);\n    }\n    break; \n    case &quot;main meal&quot;: {\n        ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;main meal&quot;));\n        mealCB.setItems(mealByCourse);\n    }\n    break;\n    case &quot;drink&quot;: {\n        ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;drink&quot;));\n        mealCB.setItems(mealByCourse);\n    }\n    break;\n}\n</code></pre>\n<p>Note that I added <code>break</code> statements in between each case statement.\nThat way, only the block of a single case statement will be executed for each case.</p>\n<p>I advise you to go back and do some study on the Java language basics.  Study <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">how switch statements work</a>. That article is for Java 8. There are <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">improved switches in later Java versions</a>, but you aren't using the improved switch syntax, so the old article still applies for the old syntax that you use.</p>\n<p>If you want to switch to using a more modern syntax (requires Java 14+), then you can write instead:</p>\n<pre><code>switch (t1) {\n    case &quot;first meal&quot; -&gt; {\n        ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;first meal&quot;));\n        mealCB.setItems(mealByCourse);\n    }\n\n    case &quot;main meal&quot; -&gt; {\n        ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;main meal&quot;));\n        mealCB.setItems(mealByCourse);\n    }\n\n    case &quot;drink&quot; -&gt; {\n        ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;drink&quot;));\n        mealCB.setItems(mealByCourse);\n    }\n}\n</code></pre>\n<p>This will do the same as the previous example, but is IMO, less error prone.  It uses the new <code>-&gt;</code> syntax for cases in switches rather than the old <code>:</code> syntax.  The new syntax does not fall through cases and does not require explicit <code>break</code> statements.</p>\n<p>The switch can be converted to an expression to allow a more functional style of programming, which I often prefer:</p>\n<pre><code>String[] mealsByCourse = switch (t1) {\n    case &quot;first meal&quot; -&gt; fileReader.getMealsByCourse(&quot;first meal&quot;);\n    case &quot;main meal&quot; -&gt; fileReader.getMealsByCourse(&quot;main meal&quot;);\n    case &quot;drink&quot; -&gt; fileReader.getMealsByCourse(&quot;drink&quot;);\n    default -&gt; new String[0];\n);\n\nmealCB.setItems(\n    FXCollections.observableArrayList(\n            mealsByCourse\n    )\n);\n</code></pre>\n<p>But then when you do that it becomes clear that you are just switching on a value and applying that value.</p>\n<p>So you can instead just eliminate the switch statement and use the simple solution proposed by Anon in comments:</p>\n<pre><code>ObservableList&lt;String&gt; mealsByCourse = FXCollections.observableArrayList(\n        fileReader.getMealsByCourse(t1)\n);                     \n\nmealCB.setItems(mealsByCourse);\n</code></pre>\n<p>This final approach is the same as one of those proposed solutions in this answer to a related question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/39965950/combobox-dependent-on-another-combobox-javafx\">combobox dependent on another combobox - JavaFX</a></li>\n</ul>\n"}],"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76398139,"answer_count":1,"score":-1,"last_activity_date":1685831061,"creation_date":1685822996,"question_id":76397866,"body_markdown":"I Want to change the second comboBox items based on the user select of item in another comboBox.\r\nI do have courseCB comboBox that the user have to select first and then selct from mealCB comboBox;\r\nmealCB items should change based of courseCB select item.\r\n\r\n```\r\n   @FXML\r\n    private ComboBox&lt;String&gt; courseCB;\r\n\r\n    @FXML\r\n    private ComboBox&lt;String&gt; mealCB;\r\n  @FXML\r\n    void initialize() {\r\n     //   courseCB.\r\n        ObservableList&lt;String&gt; courseList = FXCollections.observableArrayList(fileReader.getMealCourseArray());\r\n        courseCB.setItems(courseList);\r\n        courseCB.setValue(&quot;main meal&quot;);\r\n        \r\n\r\n courseCB.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n        @Override\r\n        public void changed(ObservableValue&lt;? extends String&gt; observableValue, String s, String t1) {\r\n            switch (t1){\r\n                case  &quot;first meal&quot;: {\r\n                    ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;first meal&quot;));\r\n                    mealCB.setItems(mealByCourse);\r\n                }\r\n                case &quot;main meal&quot;: {\r\n                    ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;main meal&quot;));\r\n                    mealCB.setItems(mealByCourse);\r\n                }\r\n                case &quot;drink&quot;: {\r\n                    ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;drink&quot;));\r\n                    mealCB.setItems(mealByCourse);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n```\r\nthe code of getMealBycourse:\r\n```\r\n public static String[] getMealsByCourse(String mealCourse){\r\n        ArrayList&lt;String&gt; mealsList = new ArrayList&lt;&gt;();\r\n        Meal[] meals ;\r\n        fileReader filereader= new fileReader();\r\n        meals = filereader.getMealArray();\r\n        for (int i = 0; i &lt; meals.length ; i++) {\r\n            if ((meals[i].getMealCourse()).compareTo(mealCourse)==0) {\r\n                mealsList.add(meals[i].getMealName());\r\n            }\r\n        }\r\n        String [] mealsByCourse = mealsList.toArray(new String[mealsList.size()]);\r\n        return mealsByCourse;\r\n    }\r\n\r\n```\r\n\r\nfileReader.getMealCourseArray() will return an array of items of courseMeal and populate the courseCB (comboBox) with it.\r\nthe problem is that that mealCB is getting values of drinks only.\r\nthe method of get mealByCourse is working very well by testing it.\r\nso what is needed to change in the addListener to make it work.\r\n","title":"make two combo box related in javaFx","body":"<p>I Want to change the second comboBox items based on the user select of item in another comboBox.\nI do have courseCB comboBox that the user have to select first and then selct from mealCB comboBox;\nmealCB items should change based of courseCB select item.</p>\n<pre><code>   @FXML\n    private ComboBox&lt;String&gt; courseCB;\n\n    @FXML\n    private ComboBox&lt;String&gt; mealCB;\n  @FXML\n    void initialize() {\n     //   courseCB.\n        ObservableList&lt;String&gt; courseList = FXCollections.observableArrayList(fileReader.getMealCourseArray());\n        courseCB.setItems(courseList);\n        courseCB.setValue(&quot;main meal&quot;);\n        \n\n courseCB.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;String&gt;() {\n        @Override\n        public void changed(ObservableValue&lt;? extends String&gt; observableValue, String s, String t1) {\n            switch (t1){\n                case  &quot;first meal&quot;: {\n                    ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;first meal&quot;));\n                    mealCB.setItems(mealByCourse);\n                }\n                case &quot;main meal&quot;: {\n                    ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;main meal&quot;));\n                    mealCB.setItems(mealByCourse);\n                }\n                case &quot;drink&quot;: {\n                    ObservableList&lt;String&gt; mealByCourse = FXCollections.observableArrayList(fileReader.getMealsByCourse(&quot;drink&quot;));\n                    mealCB.setItems(mealByCourse);\n                }\n                break;\n            }\n        }\n    });\n}\n\n</code></pre>\n<p>the code of getMealBycourse:</p>\n<pre><code> public static String[] getMealsByCourse(String mealCourse){\n        ArrayList&lt;String&gt; mealsList = new ArrayList&lt;&gt;();\n        Meal[] meals ;\n        fileReader filereader= new fileReader();\n        meals = filereader.getMealArray();\n        for (int i = 0; i &lt; meals.length ; i++) {\n            if ((meals[i].getMealCourse()).compareTo(mealCourse)==0) {\n                mealsList.add(meals[i].getMealName());\n            }\n        }\n        String [] mealsByCourse = mealsList.toArray(new String[mealsList.size()]);\n        return mealsByCourse;\n    }\n\n</code></pre>\n<p>fileReader.getMealCourseArray() will return an array of items of courseMeal and populate the courseCB (comboBox) with it.\nthe problem is that that mealCB is getting values of drinks only.\nthe method of get mealByCourse is working very well by testing it.\nso what is needed to change in the addListener to make it work.</p>\n"},{"tags":["java","openssl","aes"],"comments":[{"owner":{"account_id":20974267,"reputation":1,"user_id":15410702,"display_name":"fudriyak"},"score":0,"creation_date":1685807234,"post_id":76396076,"comment_id":134714191,"body_markdown":"So, by using code from here : stackoverflow.com/a/65955135/15410702, I manage to understand what is causing issue The shared code works well, but the openssl enc commande don&#39;t encrypt in base64 I would like to add a -base64 (same as -a) in this command like to fix my issue, back to Java I would replace ``cipher.doFinal(cryptedData)` by `cipher.doFinal(Base64.getDecoder().decode(cryptedData))` to decrypt a base64 content\n\nBut I&#39;m ending with this error : `Input byte array has incorrect ending byte at 24`, how can I fix it ? thanks !","body":"So, by using code from here : stackoverflow.com/a/65955135/15410702, I manage to understand what is causing issue The shared code works well, but the openssl enc commande don&#39;t encrypt in base64 I would like to add a -base64 (same as -a) in this command like to fix my issue, back to Java I would replace ``cipher.doFinal(cryptedData)` by <code>cipher.doFinal(Base64.getDecoder().decode(cryptedData))</code> to decrypt a base64 content  But I&#39;m ending with this error : <code>Input byte array has incorrect ending byte at 24</code>, how can I fix it ? thanks !"}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685830234,"creation_date":1685830234,"answer_id":76398216,"question_id":76396076,"body_markdown":"**Your key is not base64.** It is hex (aka hexadecimal). \r\n\r\nIt&#39;s pretty obvious just looking at it, but you can also use logic: it is 32 characters, and a 16-byte key (for AES-128) in hex is 32 characters, but in base64 it would be 24 or 22 characters (depending whether you use one of the forms with or without padding). A 32-character base64 value with no padding would be 24-bytes which could be an AES-192 key but not a an AES-128 key. Plus `openssl enc -K` (and `-iv` if applicable, which it isn&#39;t here) uses hex -- read the man page. \r\n\r\nIn the old days you could just call java.xml.bind.DatatypeConverter to handle hex, but in modern Java (9 up) that is a nondefault module. Now you can (1) make your code modular, (2) use some other library, or (3) write your own -- for a simple SO post, I have done (3):\r\n```\r\n$ cat SO76396076.java\r\nimport java.util.Base64;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nclass SO76396076 {\r\n  public static void main (String[] args) throws Exception {\r\n    //String aesKeyBase64 = &quot;BDC17ABE1F194C8DD49840C57A155013&quot;;\r\n    //SecretKey secretKey = new SecretKeySpec(Base64.getDecoder().decode(aesKeyBase64), &quot;AES&quot;);\r\n    String aesKeyHEX = &quot;BDC17ABE1F194C8DD49840C57A155013&quot;;\r\n    byte[] aesKeyBin = new byte[aesKeyHEX.length()/2];\r\n    for( int i = 0; i &lt; aesKeyBin.length; i++ )\r\n      aesKeyBin[i] = (byte)Integer.parseInt(aesKeyHEX.substring(i*2,i*2+2),16);\r\n    SecretKeySpec secretKey = new SecretKeySpec(aesKeyBin,&quot;AES&quot;);\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n    \r\n    // encrypt\r\n    byte[] cipherText = cipher.doFinal(&quot;password&quot;.getBytes());\r\n    String encodedPassword =  Base64.getEncoder().encodeToString(cipherText); //returns ITmSsa+9aKeW776ABM5B+g==\r\n    System.out.println(&quot;encrypted password = &quot; + encodedPassword);\r\n    \r\n    // decrypt \r\n    cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n    cipherText = cipher.doFinal(Base64.getDecoder().decode(&quot;b3JCq/QmtKSmkQABYdbiVA==&quot;.getBytes()));\r\n    System.out.println(&quot;decrypted password = &quot; + new String(cipherText));\r\n  }\r\n}\r\n\r\n$ java SO76396076.java\r\nencrypted password = b3JCq/QmtKSmkQABYdbiVA==\r\ndecrypted password = password\r\n```\r\nAlso: `byte[] String.getBytes(/*noarg*/)` and `new String(byte[])` use the JVM default charset, which in all versions until recently varied by platform and user, so if you tried to use your encrypted data in anything other than a test environment this was likely to mangle data containing any non-ASCII character(s) -- which your example value doesn&#39;t, and unlike most sensitive data _passwords_ usually shouldn&#39;t (but sometimes do). Java 18 up makes the default consistent at UTF-8 -- unless changed by the user(s). Thus for data in general you should still specify a suitable charset -- usually UTF-8 unless there&#39;s an application or environment specific reason for something else -- in both places; for passwords it&#39;s a closer call.\r\n","title":"How can I fix my encrypting with OpenSSL and decrypting in Java using AES?","body":"<p><strong>Your key is not base64.</strong> It is hex (aka hexadecimal).</p>\n<p>It's pretty obvious just looking at it, but you can also use logic: it is 32 characters, and a 16-byte key (for AES-128) in hex is 32 characters, but in base64 it would be 24 or 22 characters (depending whether you use one of the forms with or without padding). A 32-character base64 value with no padding would be 24-bytes which could be an AES-192 key but not a an AES-128 key. Plus <code>openssl enc -K</code> (and <code>-iv</code> if applicable, which it isn't here) uses hex -- read the man page.</p>\n<p>In the old days you could just call java.xml.bind.DatatypeConverter to handle hex, but in modern Java (9 up) that is a nondefault module. Now you can (1) make your code modular, (2) use some other library, or (3) write your own -- for a simple SO post, I have done (3):</p>\n<pre><code>$ cat SO76396076.java\nimport java.util.Base64;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\nclass SO76396076 {\n  public static void main (String[] args) throws Exception {\n    //String aesKeyBase64 = &quot;BDC17ABE1F194C8DD49840C57A155013&quot;;\n    //SecretKey secretKey = new SecretKeySpec(Base64.getDecoder().decode(aesKeyBase64), &quot;AES&quot;);\n    String aesKeyHEX = &quot;BDC17ABE1F194C8DD49840C57A155013&quot;;\n    byte[] aesKeyBin = new byte[aesKeyHEX.length()/2];\n    for( int i = 0; i &lt; aesKeyBin.length; i++ )\n      aesKeyBin[i] = (byte)Integer.parseInt(aesKeyHEX.substring(i*2,i*2+2),16);\n    SecretKeySpec secretKey = new SecretKeySpec(aesKeyBin,&quot;AES&quot;);\n\n    Cipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n    \n    // encrypt\n    byte[] cipherText = cipher.doFinal(&quot;password&quot;.getBytes());\n    String encodedPassword =  Base64.getEncoder().encodeToString(cipherText); //returns ITmSsa+9aKeW776ABM5B+g==\n    System.out.println(&quot;encrypted password = &quot; + encodedPassword);\n    \n    // decrypt \n    cipher.init(Cipher.DECRYPT_MODE, secretKey);\n    cipherText = cipher.doFinal(Base64.getDecoder().decode(&quot;b3JCq/QmtKSmkQABYdbiVA==&quot;.getBytes()));\n    System.out.println(&quot;decrypted password = &quot; + new String(cipherText));\n  }\n}\n\n$ java SO76396076.java\nencrypted password = b3JCq/QmtKSmkQABYdbiVA==\ndecrypted password = password\n</code></pre>\n<p>Also: <code>byte[] String.getBytes(/*noarg*/)</code> and <code>new String(byte[])</code> use the JVM default charset, which in all versions until recently varied by platform and user, so if you tried to use your encrypted data in anything other than a test environment this was likely to mangle data containing any non-ASCII character(s) -- which your example value doesn't, and unlike most sensitive data <em>passwords</em> usually shouldn't (but sometimes do). Java 18 up makes the default consistent at UTF-8 -- unless changed by the user(s). Thus for data in general you should still specify a suitable charset -- usually UTF-8 unless there's an application or environment specific reason for something else -- in both places; for passwords it's a closer call.</p>\n"}],"owner":{"account_id":20974267,"reputation":1,"user_id":15410702,"display_name":"fudriyak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685830234,"creation_date":1685795060,"question_id":76396076,"body_markdown":"I&#39;m struggling on this problem: I want to encrypt a password with openssl, and decrypt it in java.\r\n\r\nHere&#39;s what I have for the moment:\r\n\r\n```\r\nString aesKeyBase64 = &quot;BDC17ABE1F194C8DD49840C57A155013&quot;;\r\nSecretKey secretKey = new SecretKeySpec(Base64.getDecoder().decode(aesKeyBase64), &quot;AES&quot;);\r\n\r\nCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n// encrypt\r\nbyte[] cipherText = cipher.doFinal(&quot;password&quot;.getBytes());\r\nString encodedPassword =  Base64.getEncoder().encodeToString(cipherText); //returns ITmSsa+9aKeW776ABM5B+g==\r\nSystem.out.println(&quot;encrypted password = &quot; + encodedPassword);\r\n\r\n// decrypt \r\ncipher.init(Cipher.DECRYPT_MODE, secretKey);\r\ncipherText = cipher.doFinal(Base64.getDecoder().decode(&quot;b3JCq/QmtKSmkQABYdbiVA==&quot;.getBytes()));\r\nSystem.out.println(&quot;decrypted password = &quot; + new String(cipherText));\r\n```\r\n\r\nHere&#39;s my openssl command:  \r\n`openssl enc -nosalt -aes-128-ecb -base64 -K BDC17ABE1F194C8DD49840C57A155013 -in in.txt -out out.txt`\r\nwhich returns b3JCq/QmtKSmkQABYdbiVA== in the file out.txt\r\n\r\nSo I noticed that my two encryption are different, with aes-ecb there isn&#39;t IV, I haven&#39;t used salt, and pad is set to PKCS5 which is default pad with openssl enc\r\n\r\nWhen I tried to decrypt openssl enc result here&#39;s my Java output: \r\n&gt;Exception in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\r\nI made sure to use a generate my key in Java directly with a string key to ensure I&#39;m using same key in both methods.\r\n\r\nThanks for the help!","title":"How can I fix my encrypting with OpenSSL and decrypting in Java using AES?","body":"<p>I'm struggling on this problem: I want to encrypt a password with openssl, and decrypt it in java.</p>\n<p>Here's what I have for the moment:</p>\n<pre><code>String aesKeyBase64 = &quot;BDC17ABE1F194C8DD49840C57A155013&quot;;\nSecretKey secretKey = new SecretKeySpec(Base64.getDecoder().decode(aesKeyBase64), &quot;AES&quot;);\n\nCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n// encrypt\nbyte[] cipherText = cipher.doFinal(&quot;password&quot;.getBytes());\nString encodedPassword =  Base64.getEncoder().encodeToString(cipherText); //returns ITmSsa+9aKeW776ABM5B+g==\nSystem.out.println(&quot;encrypted password = &quot; + encodedPassword);\n\n// decrypt \ncipher.init(Cipher.DECRYPT_MODE, secretKey);\ncipherText = cipher.doFinal(Base64.getDecoder().decode(&quot;b3JCq/QmtKSmkQABYdbiVA==&quot;.getBytes()));\nSystem.out.println(&quot;decrypted password = &quot; + new String(cipherText));\n</code></pre>\n<p>Here's my openssl command:<br />\n<code>openssl enc -nosalt -aes-128-ecb -base64 -K BDC17ABE1F194C8DD49840C57A155013 -in in.txt -out out.txt</code>\nwhich returns b3JCq/QmtKSmkQABYdbiVA== in the file out.txt</p>\n<p>So I noticed that my two encryption are different, with aes-ecb there isn't IV, I haven't used salt, and pad is set to PKCS5 which is default pad with openssl enc</p>\n<p>When I tried to decrypt openssl enc result here's my Java output:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.</p>\n</blockquote>\n<p>I made sure to use a generate my key in Java directly with a string key to ensure I'm using same key in both methods.</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","apache","ssl"],"comments":[{"owner":{"account_id":50895,"reputation":1945,"user_id":151918,"accept_rate":91,"display_name":"rsilva4"},"score":0,"creation_date":1429608530,"post_id":29768053,"comment_id":47667041,"body_markdown":"Are you using OpenJDK?","body":"Are you using OpenJDK?"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":1,"creation_date":1429609468,"post_id":29768053,"comment_id":47667783,"body_markdown":"Can you please provide us some more information? Which eclipse, which JDK and which library are you using?","body":"Can you please provide us some more information? Which eclipse, which JDK and which library are you using?"},{"owner":{"account_id":4429392,"reputation":1360,"user_id":3606872,"accept_rate":76,"display_name":"Viraj"},"score":0,"creation_date":1429621203,"post_id":29768053,"comment_id":47676234,"body_markdown":"I am using JDK1.8  with JDK Compilance JavaSE-1.7, Eclipse Luna                      And Apache httpclient 4.4.1 version.","body":"I am using JDK1.8  with JDK Compilance JavaSE-1.7, Eclipse Luna                      And Apache httpclient 4.4.1 version."}],"answers":[{"tags":[],"owner":{"account_id":6113017,"reputation":2809,"user_id":4768873,"display_name":"Rob Baily"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1685830084,"creation_date":1433948375,"answer_id":30760110,"question_id":29768053,"body_markdown":"I have actually just been looking at this and it appears that the HttpCLient SSLContexts class is in the process of being moved from `org.apache.http.conn.ssl.SSLContexts` to `org.apache.http.ssl.SSLContexts`. I changed my imports to these new packages and it appears to be good now.  Not sure what your reference is for `sslcontextbuilder` but I am pretty sure it has an alternate implementation as well.  Let me know more details and I can check.\r\n","title":"sslcontextbuilder and SSLContexts deprecated","body":"<p>I have actually just been looking at this and it appears that the HttpCLient SSLContexts class is in the process of being moved from <code>org.apache.http.conn.ssl.SSLContexts</code> to <code>org.apache.http.ssl.SSLContexts</code>. I changed my imports to these new packages and it appears to be good now.  Not sure what your reference is for <code>sslcontextbuilder</code> but I am pretty sure it has an alternate implementation as well.  Let me know more details and I can check.</p>\n"},{"tags":[],"owner":{"account_id":10187562,"reputation":622,"user_id":7521960,"display_name":"bluetata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548846818,"creation_date":1548846818,"answer_id":54439284,"question_id":29768053,"body_markdown":"you can change it as below code\r\n\r\n```java\r\n// Fixing deprecated code to use current HttpClient implementations      Sekito.Lv 01/30/2019 11:29     Start\r\nimport org.apache.http.ssl.SSLContexts;\r\nimport org.apache.http.ssl.SSLContextBuilder;\r\n\r\n//import org.apache.http.conn.ssl.SSLContexts;\r\n//import org.apache.http.conn.ssl.SSLContextBuilder;\r\n// Fixing deprecated code to use current HttpClient implementations      Sekito.Lv 01/30/2019 11:29     End\r\n```","title":"sslcontextbuilder and SSLContexts deprecated","body":"<p>you can change it as below code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Fixing deprecated code to use current HttpClient implementations      Sekito.Lv 01/30/2019 11:29     Start\nimport org.apache.http.ssl.SSLContexts;\nimport org.apache.http.ssl.SSLContextBuilder;\n\n//import org.apache.http.conn.ssl.SSLContexts;\n//import org.apache.http.conn.ssl.SSLContextBuilder;\n// Fixing deprecated code to use current HttpClient implementations      Sekito.Lv 01/30/2019 11:29     End\n</code></pre>\n"}],"owner":{"account_id":4429392,"reputation":1360,"user_id":3606872,"accept_rate":76,"display_name":"Viraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28645,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":30760110,"answer_count":2,"score":24,"last_activity_date":1685830084,"creation_date":1429608258,"question_id":29768053,"body_markdown":"I am using JDK1.8 with JDK Compilance JavaSE-1.7, Eclipse Luna, and Apache httpclient 4.4.1.\r\n\r\nI am getting warning in Eclipse that `sslcontextbuilder` and `SSLContexts` are deprecated. What are alternatives for these classes?\r\n\r\n","title":"sslcontextbuilder and SSLContexts deprecated","body":"<p>I am using JDK1.8 with JDK Compilance JavaSE-1.7, Eclipse Luna, and Apache httpclient 4.4.1.</p>\n\n<p>I am getting warning in Eclipse that <code>sslcontextbuilder</code> and <code>SSLContexts</code> are deprecated. What are alternatives for these classes?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","vault"],"owner":{"account_id":25850929,"reputation":31,"user_id":21219675,"display_name":"Murat Samatov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685828763,"creation_date":1685822157,"question_id":76397820,"body_markdown":"I&#39;m working with HashiCorp Vault and want to map the key-value from Vault json file to a application.yml placeholder, but catching the NPE when making request to call another service  \r\n  \r\nthat&#39;s my Vault secrets file\r\n\r\n```\r\n{\r\n  &quot;vault&quot;: {\r\n    &quot;region-location&quot;: {\r\n      &quot;34&quot;: {\r\n        &quot;latitude&quot;: 55.76593684245433,\r\n        &quot;longitude&quot;: 37.62111491585245\r\n      },\r\n      &quot;2397&quot;: {\r\n        &quot;latitude&quot;: 53.3499441638952,\r\n        &quot;longitude&quot;: 83.7835286298899\r\n      },\r\n      &quot;6609&quot;: {\r\n        &quot;latitude&quot;: 56.860216399045555,\r\n        &quot;longitude&quot;: 53.22638189062013\r\n      },\r\n      &quot;7011&quot;: {\r\n        &quot;latitude&quot;: 43.02940154439686,\r\n        &quot;longitude&quot;: 44.666051850849186\r\n      }\r\n    },\r\n    &quot;security&quot;: {\r\n      &quot;user&quot;: {\r\n        &quot;name&quot;: &quot;user&quot;,\r\n        &quot;password&quot;: &quot;password&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nhere is my bootstrap.yml\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    vault:\r\n      enabled: true\r\n      fail-fast: true\r\n      uri: ******\r\n      authentication: approle\r\n      namespace: dom\r\n      application-name: atp\r\n      app-role:\r\n        role-id: ${SPRING_ROLE_ID} #from env var\r\n        secret-id: ${SPRING_SECRET_ID} #from env var\r\n        role: approle\r\n      generic:\r\n        enabled: false\r\n      kv:\r\n        enabled: true\r\n        backend: applications\r\n        default-context: common # not used for now\r\n      config:\r\n        lifecycle:\r\n          enabled: false\r\n      session:\r\n        lifecycle:\r\n          enabled: false\r\n```\r\n\r\nhere is my application.yml\r\n\r\n```\r\nbuild.version: @project.version@\r\n\r\nserver:\r\n  port: ${PORT:8080}\r\n  shutdown: graceful\r\n  forward-headers-strategy: framework\r\n  servlet:\r\n    encoding:\r\n      charset: UTF-8\r\n      force-response: true\r\n\r\nspring:\r\n  application:\r\n    name: @project.name@\r\n  security:\r\n    user:\r\n      name: ${vault.security.user.name}\r\n      password: ${vault.security.user.password}\r\n\r\nspringdoc:\r\n  default-produces-media-type: application/json\r\n\r\nregion-location: ${vault.region-location}\r\n```\r\n\r\nhere is the service class\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AppointmentService {\r\n\r\n    private final AppointmentClient appointmentClient;\r\n    private final DataConfigProperties dataProperties;\r\n\r\n    public Map&lt;String, OffsetDateTime&gt; getHomeDeliveryStoreToNearestDate(String regionId, OffsetDateTime now,\r\n                                                                         Set&lt;String&gt; homeDeliveryEligibleStoresIds) {\r\n        if (homeDeliveryEligibleStoresIds.size() == 0) {\r\n            return emptyMap();\r\n        }\r\n        var request = makeHomeDeliveryAppointmentsRequest(regionId, homeDeliveryEligibleStoresIds, now);\r\n        var storeIds = request.getActualDates().stream().map(ActualDate::getStoreId).collect(Collectors.toSet());\r\n        var storeToNearestDate = new HashMap&lt;String, OffsetDateTime&gt;();\r\n        var response = appointmentClient.getHomeDeliveryAppointments(request);\r\n        for (String storeId : storeIds) {\r\n            var startDate = response.getAppointments()\r\n                    .stream()\r\n                    .filter(appointment -&gt; appointment != null\r\n                                           &amp;&amp; appointment.getStart() != null\r\n                                           &amp;&amp; appointment.getAvailableStoreIds().contains(storeId))\r\n                    .min(Comparator.comparing(Appointment::getStart));\r\n            startDate.ifPresent(appointment -&gt; storeToNearestDate.put(storeId, appointment.getStart()));\r\n        }\r\n        return storeToNearestDate;\r\n    }\r\n\r\n    private AppointmentHomeDeliveryRequest makeHomeDeliveryAppointmentsRequest(String regionId, Set&lt;String&gt; storesIds,\r\n                                                                               OffsetDateTime now) {\r\n        var actualDates = storesIds\r\n                .stream()\r\n                .map(storeId -&gt; new ActualDate(now.toZonedDateTime(), storeId))\r\n                .toList();\r\n        return new AppointmentHomeDeliveryRequest(\r\n                actualDates, dataProperties.getRegionLocation().get(regionId), regionId, PERSON, ONLINE, STANDARD);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to call my endpoint, it creates request to another service and then NPE occurs: \r\n\r\n```java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because the return value of &quot;com.msk.someservice.client.config.properties.DataConfigProperties.getRegionLocation()&quot; is null ```\r\n\r\n```\r\n@Data\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;region-location&quot;)\r\npublic class DataConfigProperties {\r\n\r\n    private Map&lt;String, Location&gt; regionLocation;\r\n\r\n}\r\n```\r\n  \r\ni tried to use the common configuration annotations and also the \\`@Value\\` annotation with \\`@PropertySource\\` - but in wont help, did you face the problem? \r\n\r\nupd: Authorization credentials mapping works fine from Vault\r\n\r\n","title":"Cant map the value form Vault to application.yml","body":"<p>I'm working with HashiCorp Vault and want to map the key-value from Vault json file to a application.yml placeholder, but catching the NPE when making request to call another service</p>\n<p>that's my Vault secrets file</p>\n<pre><code>{\n  &quot;vault&quot;: {\n    &quot;region-location&quot;: {\n      &quot;34&quot;: {\n        &quot;latitude&quot;: 55.76593684245433,\n        &quot;longitude&quot;: 37.62111491585245\n      },\n      &quot;2397&quot;: {\n        &quot;latitude&quot;: 53.3499441638952,\n        &quot;longitude&quot;: 83.7835286298899\n      },\n      &quot;6609&quot;: {\n        &quot;latitude&quot;: 56.860216399045555,\n        &quot;longitude&quot;: 53.22638189062013\n      },\n      &quot;7011&quot;: {\n        &quot;latitude&quot;: 43.02940154439686,\n        &quot;longitude&quot;: 44.666051850849186\n      }\n    },\n    &quot;security&quot;: {\n      &quot;user&quot;: {\n        &quot;name&quot;: &quot;user&quot;,\n        &quot;password&quot;: &quot;password&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>here is my bootstrap.yml</p>\n<pre><code>spring:\n  cloud:\n    vault:\n      enabled: true\n      fail-fast: true\n      uri: ******\n      authentication: approle\n      namespace: dom\n      application-name: atp\n      app-role:\n        role-id: ${SPRING_ROLE_ID} #from env var\n        secret-id: ${SPRING_SECRET_ID} #from env var\n        role: approle\n      generic:\n        enabled: false\n      kv:\n        enabled: true\n        backend: applications\n        default-context: common # not used for now\n      config:\n        lifecycle:\n          enabled: false\n      session:\n        lifecycle:\n          enabled: false\n</code></pre>\n<p>here is my application.yml</p>\n<pre><code>build.version: @project.version@\n\nserver:\n  port: ${PORT:8080}\n  shutdown: graceful\n  forward-headers-strategy: framework\n  servlet:\n    encoding:\n      charset: UTF-8\n      force-response: true\n\nspring:\n  application:\n    name: @project.name@\n  security:\n    user:\n      name: ${vault.security.user.name}\n      password: ${vault.security.user.password}\n\nspringdoc:\n  default-produces-media-type: application/json\n\nregion-location: ${vault.region-location}\n</code></pre>\n<p>here is the service class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class AppointmentService {\n\n    private final AppointmentClient appointmentClient;\n    private final DataConfigProperties dataProperties;\n\n    public Map&lt;String, OffsetDateTime&gt; getHomeDeliveryStoreToNearestDate(String regionId, OffsetDateTime now,\n                                                                         Set&lt;String&gt; homeDeliveryEligibleStoresIds) {\n        if (homeDeliveryEligibleStoresIds.size() == 0) {\n            return emptyMap();\n        }\n        var request = makeHomeDeliveryAppointmentsRequest(regionId, homeDeliveryEligibleStoresIds, now);\n        var storeIds = request.getActualDates().stream().map(ActualDate::getStoreId).collect(Collectors.toSet());\n        var storeToNearestDate = new HashMap&lt;String, OffsetDateTime&gt;();\n        var response = appointmentClient.getHomeDeliveryAppointments(request);\n        for (String storeId : storeIds) {\n            var startDate = response.getAppointments()\n                    .stream()\n                    .filter(appointment -&gt; appointment != null\n                                           &amp;&amp; appointment.getStart() != null\n                                           &amp;&amp; appointment.getAvailableStoreIds().contains(storeId))\n                    .min(Comparator.comparing(Appointment::getStart));\n            startDate.ifPresent(appointment -&gt; storeToNearestDate.put(storeId, appointment.getStart()));\n        }\n        return storeToNearestDate;\n    }\n\n    private AppointmentHomeDeliveryRequest makeHomeDeliveryAppointmentsRequest(String regionId, Set&lt;String&gt; storesIds,\n                                                                               OffsetDateTime now) {\n        var actualDates = storesIds\n                .stream()\n                .map(storeId -&gt; new ActualDate(now.toZonedDateTime(), storeId))\n                .toList();\n        return new AppointmentHomeDeliveryRequest(\n                actualDates, dataProperties.getRegionLocation().get(regionId), regionId, PERSON, ONLINE, STANDARD);\n    }\n}\n</code></pre>\n<p>When I try to call my endpoint, it creates request to another service and then NPE occurs:</p>\n<p><code>java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.get(Object)&quot; because the return value of &quot;com.msk.someservice.client.config.properties.DataConfigProperties.getRegionLocation()&quot; is null </code></p>\n<pre><code>@Data\n@Component\n@ConfigurationProperties(prefix = &quot;region-location&quot;)\npublic class DataConfigProperties {\n\n    private Map&lt;String, Location&gt; regionLocation;\n\n}\n</code></pre>\n<p>i tried to use the common configuration annotations and also the `@Value` annotation with `@PropertySource` - but in wont help, did you face the problem?</p>\n<p>upd: Authorization credentials mapping works fine from Vault</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":7853217,"reputation":533,"user_id":5936192,"display_name":"HaroldH"},"score":0,"creation_date":1685824110,"post_id":76397895,"comment_id":134716025,"body_markdown":"Rerun the build (manually if required) with `-e` so you can get the full stacktrace so we can see what element is actually complaining (the file opener, parser, ...)","body":"Rerun the build (manually if required) with <code>-e</code> so you can get the full stacktrace so we can see what element is actually complaining (the file opener, parser, ...)"},{"owner":{"account_id":28745964,"reputation":3,"user_id":22015118,"display_name":"faDev1998"},"score":0,"creation_date":1685825098,"post_id":76397895,"comment_id":134716105,"body_markdown":"@HaroldH Hi :) I update the questing with fulltrace link. I had already reviewed it but I didn&#39;t understand the error either :(","body":"@HaroldH Hi :) I update the questing with fulltrace link. I had already reviewed it but I didn&#39;t understand the error either :("},{"owner":{"account_id":7853217,"reputation":533,"user_id":5936192,"display_name":"HaroldH"},"score":0,"creation_date":1685825552,"post_id":76397895,"comment_id":134716157,"body_markdown":"It seems to be an issue with data read, maybe an encoding issue. \nTry to remove all values (not keys) from your properties files, and the comments too, and see if it helps.\n\nBy the way, please copy the code in the screenshoots as actual code, so it can be searchable by others","body":"It seems to be an issue with data read, maybe an encoding issue.  Try to remove all values (not keys) from your properties files, and the comments too, and see if it helps.  By the way, please copy the code in the screenshoots as actual code, so it can be searchable by others"},{"owner":{"account_id":28745964,"reputation":3,"user_id":22015118,"display_name":"faDev1998"},"score":0,"creation_date":1685826060,"post_id":76397895,"comment_id":134716213,"body_markdown":"@HaroldH uncommenting application-test.properties my application works :0 thank you","body":"@HaroldH uncommenting application-test.properties my application works :0 thank you"}],"answers":[{"tags":[],"owner":{"account_id":26712307,"reputation":91,"user_id":20317450,"display_name":"Bastian Hologne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685826418,"creation_date":1685826418,"answer_id":76398039,"question_id":76397895,"body_markdown":"Your **application-test.properties contains non-UTF8 characters** (e.g. the accent on the configuration o). This causes this error ","title":"Error while compiling Spring boot maven poject","body":"<p>Your <strong>application-test.properties contains non-UTF8 characters</strong> (e.g. the accent on the configuration o). This causes this error</p>\n"}],"owner":{"account_id":28745964,"reputation":3,"user_id":22015118,"display_name":"faDev1998"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76398039,"answer_count":1,"score":0,"last_activity_date":1685826418,"creation_date":1685823667,"question_id":76397895,"body_markdown":"Hi im learning Sping Boot and when I compile the maven project im getting the next error:\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project backweb-api: filtering `D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.properties` to `D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.properties` failed with MalformedInputException: Input length = 1 -&gt; [Help 1]\r\n\r\n[Compile output](https://i.stack.imgur.com/rwuGN.png)\r\n\r\n[application-test.properties](https://i.stack.imgur.com/sCQm8.png)\r\n\r\n[Full trace mvn compile -3][1]\r\n\r\n-I reviewed the application-test.properties file and I think that it&#39;s ok.\r\n-I cleanned the target folders and re compiled maven project.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project backweb-api: filtering D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.propert\r\n    ies to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.properties failed with MalformedInputException: Input length = 1 -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project backweb-api: filtering D:\\***\\***\\backweb\\backweb\r\n    -api\\src\\main\\resources\\application-test.properties to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.properties failed with MalformedInputException: Input length = 1\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: filtering D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.properties to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.p\r\n    roperties failed with MalformedInputException: Input length = 1\r\n        at org.apache.maven.plugins.resources.ResourcesMojo.execute (ResourcesMojo.java:362)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.shared.filtering.MavenFilteringException: filtering D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.properties to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\applica\r\n    tion-test.properties failed with MalformedInputException: Input length = 1\r\n        at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile (DefaultMavenFileFilter.java:118)\r\n        at org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources (DefaultMavenResourcesFiltering.java:277)\r\n        at org.apache.maven.plugins.resources.ResourcesMojo.execute (ResourcesMojo.java:356)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.nio.charset.MalformedInputException: Input length = 1\r\n        at java.nio.charset.CoderResult.throwException (CoderResult.java:274)\r\n        at sun.nio.cs.StreamDecoder.implRead (StreamDecoder.java:326)\r\n        at sun.nio.cs.StreamDecoder.read (StreamDecoder.java:188)\r\n        at java.io.InputStreamReader.read (InputStreamReader.java:177)\r\n        at java.io.BufferedReader.read1 (BufferedReader.java:211)\r\n        at java.io.BufferedReader.read (BufferedReader.java:287)\r\n        at java.io.BufferedReader.fill (BufferedReader.java:162)\r\n        at java.io.BufferedReader.read (BufferedReader.java:183)\r\n        at org.apache.maven.shared.filtering.BoundedReader.read (BoundedReader.java:85)\r\n        at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read (MultiDelimiterInterpolatorFilterReaderLineEnding.java:235)\r\n        at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read (MultiDelimiterInterpolatorFilterReaderLineEnding.java:197)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :backweb-api\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X8Ver.png","title":"Error while compiling Spring boot maven poject","body":"<p>Hi im learning Sping Boot and when I compile the maven project im getting the next error:\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project backweb-api: filtering <code>D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.properties</code> to <code>D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.properties</code> failed with MalformedInputException: Input length = 1 -&gt; [Help 1]</p>\n<p><a href=\"https://i.stack.imgur.com/rwuGN.png\" rel=\"nofollow noreferrer\">Compile output</a></p>\n<p><a href=\"https://i.stack.imgur.com/sCQm8.png\" rel=\"nofollow noreferrer\">application-test.properties</a></p>\n<p><a href=\"https://i.stack.imgur.com/X8Ver.png\" rel=\"nofollow noreferrer\">Full trace mvn compile -3</a></p>\n<p>-I reviewed the application-test.properties file and I think that it's ok.\n-I cleanned the target folders and re compiled maven project.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project backweb-api: filtering D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.propert\nies to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.properties failed with MalformedInputException: Input length = 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources (default-resources) on project backweb-api: filtering D:\\***\\***\\backweb\\backweb\n-api\\src\\main\\resources\\application-test.properties to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.properties failed with MalformedInputException: Input length = 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: filtering D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.properties to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\application-test.p\nroperties failed with MalformedInputException: Input length = 1\n    at org.apache.maven.plugins.resources.ResourcesMojo.execute (ResourcesMojo.java:362)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.shared.filtering.MavenFilteringException: filtering D:\\***\\***\\backweb\\backweb-api\\src\\main\\resources\\application-test.properties to D:\\***\\***\\backweb\\backweb-api\\target\\classes\\applica\ntion-test.properties failed with MalformedInputException: Input length = 1\n    at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile (DefaultMavenFileFilter.java:118)\n    at org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources (DefaultMavenResourcesFiltering.java:277)\n    at org.apache.maven.plugins.resources.ResourcesMojo.execute (ResourcesMojo.java:356)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n    at java.nio.charset.CoderResult.throwException (CoderResult.java:274)\n    at sun.nio.cs.StreamDecoder.implRead (StreamDecoder.java:326)\n    at sun.nio.cs.StreamDecoder.read (StreamDecoder.java:188)\n    at java.io.InputStreamReader.read (InputStreamReader.java:177)\n    at java.io.BufferedReader.read1 (BufferedReader.java:211)\n    at java.io.BufferedReader.read (BufferedReader.java:287)\n    at java.io.BufferedReader.fill (BufferedReader.java:162)\n    at java.io.BufferedReader.read (BufferedReader.java:183)\n    at org.apache.maven.shared.filtering.BoundedReader.read (BoundedReader.java:85)\n    at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read (MultiDelimiterInterpolatorFilterReaderLineEnding.java:235)\n    at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read (MultiDelimiterInterpolatorFilterReaderLineEnding.java:197)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:260)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:172)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:100)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:821)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:270)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :backweb-api</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","jakarta-ee","batch-processing","payara"],"answers":[{"tags":[],"owner":{"account_id":181683,"reputation":442,"user_id":415848,"display_name":"Maarten van Leunen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685824873,"creation_date":1685824873,"answer_id":76397966,"question_id":76383829,"body_markdown":"Apparently just slapping an @Transactional annotation on my Writer, Processor and Reader class was not the right thing to do. It caused the problem described above.\r\n\r\nIt causes the Local transaction of the Batch job to have to deal with two datasources (the H2POOL one for Batch statistics, and my own datasource) at the same time.\r\n\r\nWhat worked for me, was to put a @Transactional on the appropriate methods, and I also had to specify that I require a new transaction.\r\n\r\nSo, for example in my reader:\r\n\r\n    @Named(&quot;addPhotographReader&quot;)\r\n    public class Reader extends AbstractItemReader\r\n    {\r\n    \r\n        @Transactional(Transactional.TxType.REQUIRES_NEW)\r\n        @Override\r\n        public void open(Serializable checkpoint) throws Exception\r\n        {\r\n\r\nThis causes the different datasources to have their own transactions.\r\n\r\n     ","title":"Local transaction already has 1 non-XA Resource in Payara Micro Batch Processing","body":"<p>Apparently just slapping an @Transactional annotation on my Writer, Processor and Reader class was not the right thing to do. It caused the problem described above.</p>\n<p>It causes the Local transaction of the Batch job to have to deal with two datasources (the H2POOL one for Batch statistics, and my own datasource) at the same time.</p>\n<p>What worked for me, was to put a @Transactional on the appropriate methods, and I also had to specify that I require a new transaction.</p>\n<p>So, for example in my reader:</p>\n<pre><code>@Named(&quot;addPhotographReader&quot;)\npublic class Reader extends AbstractItemReader\n{\n\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\n    @Override\n    public void open(Serializable checkpoint) throws Exception\n    {\n</code></pre>\n<p>This causes the different datasources to have their own transactions.</p>\n"}],"owner":{"account_id":181683,"reputation":442,"user_id":415848,"display_name":"Maarten van Leunen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685824873,"creation_date":1685635879,"question_id":76383829,"body_markdown":"I have a persistence.xml that works.\r\n\r\nBut when I try to do something with Batching (Jakarta Batch), it fails with the stacktrace below.\r\n\r\n```\r\n[#|2023-06-01T17:54:23.626+0200|SEVERE||javax.enterprise.resource.resourceadapter.com.sun.enterprise.resource.rm|_ThreadID=120;_ThreadName=concurrent/__defaultManagedExecutorService-managedThreadFactory-Thread-4;_TimeMillis=1685634863626;_LevelValue=1000;|RAR5029:Unexpected exception while registering component\r\njava.lang.IllegalStateException: Local transaction already has 1 non-XA Resource: cannot add more resources.\r\n\tat com.sun.enterprise.transaction.JavaEETransactionManagerSimplified.enlistResource(JavaEETransactionManagerSimplified.java:418)\r\n\tat com.sun.enterprise.resource.rm.ResourceManagerImpl.registerResource(ResourceManagerImpl.java:152)\r\n\tat com.sun.enterprise.resource.rm.ResourceManagerImpl.enlistResource(ResourceManagerImpl.java:112)\r\n\tat com.sun.enterprise.resource.pool.PoolManagerImpl.getResource(PoolManagerImpl.java:211)\r\n\tat com.sun.enterprise.connectors.ConnectionManagerImpl.getResource(ConnectionManagerImpl.java:360)\r\n\tat com.sun.enterprise.connectors.ConnectionManagerImpl.internalGetConnection(ConnectionManagerImpl.java:307)\r\n\tat com.sun.enterprise.connectors.ConnectionManagerImpl.allocateConnection(ConnectionManagerImpl.java:196)\r\n\tat com.sun.enterprise.connectors.ConnectionManagerImpl.allocateConnection(ConnectionManagerImpl.java:171)\r\n\tat com.sun.enterprise.connectors.ConnectionManagerImpl.allocateConnection(ConnectionManagerImpl.java:166)\r\n\tat com.sun.gjc.spi.base.AbstractDataSource.getConnection(AbstractDataSource.java:113)\r\n\tat fish.payara.jbatch.persistence.rdbms.JBatchJDBCPersistenceManager.getConnection(JBatchJDBCPersistenceManager.java:472)\r\n```\r\nAnd after that, I get:\r\n```\r\n[#|2023-06-01T17:54:23.627+0200|WARNING||javax.enterprise.resource.resourceadapter.com.sun.enterprise.resource.pool|_ThreadID=120;_ThreadName=concurrent/__defaultManagedExecutorService-managedThreadFactory-Thread-4;_TimeMillis=1685634863627;_LevelValue=900;|RAR7132: Unable to enlist the resource in transaction. Evicting resource from pool. Pool name: [ H2Pool ]|#]\r\n```\r\n\r\nI assume it has something to do with Batching wanting to write to the Batch Tables in de default H2POOL, whilst at the same time I am trying to write my data into my tables using the ORM configured with the persistence.xml (and another connectionpool) within the same transaction.\r\n\r\nI assume I could either:\r\n1. make my connection pool XA instead of JTA.\r\nOR\r\n2. reconfigure batch to use my connection pool instead of h2pool (how do I do that?)\r\nOR\r\n3. something else?\r\n","title":"Local transaction already has 1 non-XA Resource in Payara Micro Batch Processing","body":"<p>I have a persistence.xml that works.</p>\n<p>But when I try to do something with Batching (Jakarta Batch), it fails with the stacktrace below.</p>\n<pre><code>[#|2023-06-01T17:54:23.626+0200|SEVERE||javax.enterprise.resource.resourceadapter.com.sun.enterprise.resource.rm|_ThreadID=120;_ThreadName=concurrent/__defaultManagedExecutorService-managedThreadFactory-Thread-4;_TimeMillis=1685634863626;_LevelValue=1000;|RAR5029:Unexpected exception while registering component\njava.lang.IllegalStateException: Local transaction already has 1 non-XA Resource: cannot add more resources.\n    at com.sun.enterprise.transaction.JavaEETransactionManagerSimplified.enlistResource(JavaEETransactionManagerSimplified.java:418)\n    at com.sun.enterprise.resource.rm.ResourceManagerImpl.registerResource(ResourceManagerImpl.java:152)\n    at com.sun.enterprise.resource.rm.ResourceManagerImpl.enlistResource(ResourceManagerImpl.java:112)\n    at com.sun.enterprise.resource.pool.PoolManagerImpl.getResource(PoolManagerImpl.java:211)\n    at com.sun.enterprise.connectors.ConnectionManagerImpl.getResource(ConnectionManagerImpl.java:360)\n    at com.sun.enterprise.connectors.ConnectionManagerImpl.internalGetConnection(ConnectionManagerImpl.java:307)\n    at com.sun.enterprise.connectors.ConnectionManagerImpl.allocateConnection(ConnectionManagerImpl.java:196)\n    at com.sun.enterprise.connectors.ConnectionManagerImpl.allocateConnection(ConnectionManagerImpl.java:171)\n    at com.sun.enterprise.connectors.ConnectionManagerImpl.allocateConnection(ConnectionManagerImpl.java:166)\n    at com.sun.gjc.spi.base.AbstractDataSource.getConnection(AbstractDataSource.java:113)\n    at fish.payara.jbatch.persistence.rdbms.JBatchJDBCPersistenceManager.getConnection(JBatchJDBCPersistenceManager.java:472)\n</code></pre>\n<p>And after that, I get:</p>\n<pre><code>[#|2023-06-01T17:54:23.627+0200|WARNING||javax.enterprise.resource.resourceadapter.com.sun.enterprise.resource.pool|_ThreadID=120;_ThreadName=concurrent/__defaultManagedExecutorService-managedThreadFactory-Thread-4;_TimeMillis=1685634863627;_LevelValue=900;|RAR7132: Unable to enlist the resource in transaction. Evicting resource from pool. Pool name: [ H2Pool ]|#]\n</code></pre>\n<p>I assume it has something to do with Batching wanting to write to the Batch Tables in de default H2POOL, whilst at the same time I am trying to write my data into my tables using the ORM configured with the persistence.xml (and another connectionpool) within the same transaction.</p>\n<p>I assume I could either:</p>\n<ol>\n<li>make my connection pool XA instead of JTA.\nOR</li>\n<li>reconfigure batch to use my connection pool instead of h2pool (how do I do that?)\nOR</li>\n<li>something else?</li>\n</ol>\n"},{"tags":["java","apache-kafka","websocket","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685844321,"post_id":76397931,"comment_id":134717404,"body_markdown":"Looks fine. What exactly is the error you&#39;re getting?","body":"Looks fine. What exactly is the error you&#39;re getting?"},{"owner":{"account_id":28123408,"reputation":39,"user_id":21489259,"display_name":"paul445"},"score":0,"creation_date":1685908735,"post_id":76397931,"comment_id":134723264,"body_markdown":"I am not exactly getting an error. However when a new message arrives at my websocket I just get: &quot;jdk.internal.net.http.websocket.WebSocketImpl@27efa2fd[uri=wss://www.seismicportal.eu/standing_order/websocket]&quot; Instead of the &quot;Message received&quot;. When I delete the Kafka code ist also prints message received. However my code was definitely able to create the right Kafka topic (I checked it in the Kafka container). The initiation of the &quot;Kafka instance&quot; in my code is thus likely right. Why am I not able to send messages? I have also built a python consumer to check for them but none were there.","body":"I am not exactly getting an error. However when a new message arrives at my websocket I just get: &quot;jdk.internal.net.http.websocket.WebSocketImpl@27efa2fd[uri=&zwnj;&#8203;wss://www.seismicpor&zwnj;&#8203;tal.eu/standing_orde&zwnj;&#8203;r/websocket]&quot; Instead of the &quot;Message received&quot;. When I delete the Kafka code ist also prints message received. However my code was definitely able to create the right Kafka topic (I checked it in the Kafka container). The initiation of the &quot;Kafka instance&quot; in my code is thus likely right. Why am I not able to send messages? I have also built a python consumer to check for them but none were there."},{"owner":{"account_id":28123408,"reputation":39,"user_id":21489259,"display_name":"paul445"},"score":0,"creation_date":1685910376,"post_id":76397931,"comment_id":134723419,"body_markdown":"Okay, the class for the properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\nshould be: Stringserializer.class but even after changing that nothing changed.","body":"Okay, the class for the properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class); should be: Stringserializer.class but even after changing that nothing changed."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1685977409,"post_id":76397931,"comment_id":134732705,"body_markdown":"The `kafkaTemplate.send()` returns a `CompletableFuture` (3.0.x or later) or a `ListenableFuture` (2.9.x); you are discarding it; you should at least check the result.","body":"The <code>kafkaTemplate.send()</code> returns a <code>CompletableFuture</code> (3.0.x or later) or a <code>ListenableFuture</code> (2.9.x); you are discarding it; you should at least check the result."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685987576,"post_id":76397931,"comment_id":134734829,"body_markdown":"1) Kafka producers don&#39;t immediately send data unless you manually flush them 2) Kafka consumers start from the end of the topic, by default, so make sure you start the consumer before running any producer","body":"1) Kafka producers don&#39;t immediately send data unless you manually flush them 2) Kafka consumers start from the end of the topic, by default, so make sure you start the consumer before running any producer"},{"owner":{"account_id":28123408,"reputation":39,"user_id":21489259,"display_name":"paul445"},"score":0,"creation_date":1685987595,"post_id":76397931,"comment_id":134734836,"body_markdown":"I still only get: jdk.internal.net.http.websocket.WebSocketImpl@5d693348[uri=wss://www.seismicportal.eu/standing_order/websocket The return is not outprinted.","body":"I still only get: jdk.internal.net.http.websocket.WebSocketImpl@5d693348[uri=w&zwnj;&#8203;ss://www.seismicport&zwnj;&#8203;al.eu/standing_order&zwnj;&#8203;/websocket The return is not outprinted."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685988927,"post_id":76397931,"comment_id":134735049,"body_markdown":"You&#39;re printing the websocket. You need to assign `kafkaTemplate.send(&quot;seismic&quot;, message)` result to a variable, then call `.get()` on its future, and then you can print its metadata, or any errors","body":"You&#39;re printing the websocket. You need to assign <code>kafkaTemplate.send(&quot;seismic&quot;, message)</code> result to a variable, then call <code>.get()</code> on its future, and then you can print its metadata, or any errors"},{"owner":{"account_id":28123408,"reputation":39,"user_id":21489259,"display_name":"paul445"},"score":0,"creation_date":1685995897,"post_id":76397931,"comment_id":134736216,"body_markdown":"The error seems to be when establishing a websocket connection:\njava.net.sockets.error: connection reset \n\nStacktrace:\n\njava.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(Unknown Source), java.base/sun.nio.ch.SocketChannelImpl.read(Unknown Source), java.net.http/jdk.internal.net.http.SocketTube.readAvailable(Unknown Source), java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.read(Unknown Source), java.net.http/jdk.internal.net.http.SocketTube$SocketFlowTask.run(Unknown Source)]","body":"The error seems to be when establishing a websocket connection: java.net.sockets.error: connection reset   Stacktrace:  java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(&zwnj;&#8203;Unknown Source), java.base/sun.nio.ch.SocketChannelImpl.read(Unknown Source), java.net.http/jdk.internal.net.http.SocketTube.readAvailable&zwnj;&#8203;(Unknown Source), java.net.http/jdk.internal.net.http.SocketTube$InternalReadP&zwnj;&#8203;ublisher$InternalRea&zwnj;&#8203;dSubscription.read(U&zwnj;&#8203;nknown Source), java.net.http/jdk.internal.net.http.SocketTube$SocketFlowTas&zwnj;&#8203;k.run(Unknown Source)]"}],"owner":{"account_id":28123408,"reputation":39,"user_id":21489259,"display_name":"paul445"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685824277,"creation_date":1685824277,"question_id":76397931,"body_markdown":"I am stream data live using http.Websockets and want to write the messages to Kafka. \r\nHowever it seems like my implementation to send the messages is wrong. \r\n\r\nHas somebody got an idea why?\r\n\r\nMy packages are structured like this:\r\n\r\n    - seismickafkaproducer\r\n          - kafkaconfig \r\n          - streaming \r\n      \r\nThis is how I have implemented the sending to kaka in my onMessage method:\r\n\r\n\r\n    @EnableKafka\r\n    public class WebSocketClient implements WebSocket.Listener {\r\n        \r\n        private final CountDownLatch latch;\r\n        private final JsonParser parser;\r\n        @Autowired\r\n        KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n        public WebSocketClient(CountDownLatch latch, JsonParser parser) { \r\n            this.latch = latch; \r\n            this.parser = parser;\r\n        }\r\n        \r\n        public void onOpen(WebSocket webSocket) {\r\n                WebSocket.Listener.super.onOpen(webSocket);\r\n        }\r\n    \r\n        public CompletionStage&lt;?&gt; onText(WebSocket webSocket, CharSequence data, boolean last, KafkaTemplate&lt;String, String&gt; kafkaTemplate) {\r\n            \r\n            String message = data.toString();\r\n            System.out.println(&quot;Message received, writing to kafka&quot;);\r\n            kafkaTemplate.send(&quot;seismic&quot;, message);\r\n    \r\n    \r\n            return WebSocket.Listener.super.onText(webSocket, data, last);\r\n        }\r\n    \r\n        public void onError(WebSocket websocket, Throwable error) {\r\n            System.out.println(websocket.toString());\r\n            WebSocket.Listener.super.onError(websocket, error);\r\n        }\r\n    }\r\n\r\nThis is my KafkaProducerConfig class in the kafkaconfig package:\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n        @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String bootstrapServer;\r\n    \r\n        public Map&lt;String, Object&gt; producerConfig() {\r\n            Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n            properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);\r\n            properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    \r\n            return properties;\r\n        }\r\n    \r\n        @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    \r\n            return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate(\r\n            ProducerFactory&lt;String, String&gt; producerFactory\r\n        ) {\r\n    \r\n            return new KafkaTemplate&lt;&gt;(producerFactory);\r\n        } \r\n    }\r\n\r\nThis is the kafkaTopicConfig class:\r\n\r\n    @Configuration\r\n    public class KafkaTopicConfig {\r\n        \r\n        @Bean\r\n        public NewTopic seismicTopic() {\r\n            return TopicBuilder.name(&quot;seismic&quot;).build();\r\n        }\r\n        \r\n    }","title":"Kafka Springboot - how to implement kafkaTemplate in onText correctly?","body":"<p>I am stream data live using http.Websockets and want to write the messages to Kafka.\nHowever it seems like my implementation to send the messages is wrong.</p>\n<p>Has somebody got an idea why?</p>\n<p>My packages are structured like this:</p>\n<pre><code>- seismickafkaproducer\n      - kafkaconfig \n      - streaming \n  \n</code></pre>\n<p>This is how I have implemented the sending to kaka in my onMessage method:</p>\n<pre><code>@EnableKafka\npublic class WebSocketClient implements WebSocket.Listener {\n    \n    private final CountDownLatch latch;\n    private final JsonParser parser;\n    @Autowired\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    public WebSocketClient(CountDownLatch latch, JsonParser parser) { \n        this.latch = latch; \n        this.parser = parser;\n    }\n    \n    public void onOpen(WebSocket webSocket) {\n            WebSocket.Listener.super.onOpen(webSocket);\n    }\n\n    public CompletionStage&lt;?&gt; onText(WebSocket webSocket, CharSequence data, boolean last, KafkaTemplate&lt;String, String&gt; kafkaTemplate) {\n        \n        String message = data.toString();\n        System.out.println(&quot;Message received, writing to kafka&quot;);\n        kafkaTemplate.send(&quot;seismic&quot;, message);\n\n\n        return WebSocket.Listener.super.onText(webSocket, data, last);\n    }\n\n    public void onError(WebSocket websocket, Throwable error) {\n        System.out.println(websocket.toString());\n        WebSocket.Listener.super.onError(websocket, error);\n    }\n}\n</code></pre>\n<p>This is my KafkaProducerConfig class in the kafkaconfig package:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServer;\n\n    public Map&lt;String, Object&gt; producerConfig() {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n        return properties;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate(\n        ProducerFactory&lt;String, String&gt; producerFactory\n    ) {\n\n        return new KafkaTemplate&lt;&gt;(producerFactory);\n    } \n}\n</code></pre>\n<p>This is the kafkaTopicConfig class:</p>\n<pre><code>@Configuration\npublic class KafkaTopicConfig {\n    \n    @Bean\n    public NewTopic seismicTopic() {\n        return TopicBuilder.name(&quot;seismic&quot;).build();\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","audio","midi","android-6.0-marshmallow"],"comments":[{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":0,"creation_date":1458804208,"post_id":36193250,"comment_id":60023795,"body_markdown":"Which device did you connect to? What are its type and name?","body":"Which device did you connect to? What are its type and name?"},{"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"score":0,"creation_date":1458864335,"post_id":36193250,"comment_id":60057133,"body_markdown":"I haven&#39;t actually connected to a device yet, this is part of my question. The &quot;device&quot; I would be connecting to would be a virtual device: a program to accept midi notes as input and output sound. Is there such a program in existence or do I have to make my own?","body":"I haven&#39;t actually connected to a device yet, this is part of my question. The &quot;device&quot; I would be connecting to would be a virtual device: a program to accept midi notes as input and output sound. Is there such a program in existence or do I have to make my own?"},{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":0,"creation_date":1458897102,"post_id":36193250,"comment_id":60065946,"body_markdown":"And what is the variable `device` in your code? Anyway, read the [documentation](http://developer.android.com/reference/android/media/midi/package-summary.html#get_list_of_already_plugged_in_entities).","body":"And what is the variable <code>device</code> in your code? Anyway, read the <a href=\"http://developer.android.com/reference/android/media/midi/package-summary.html#get_list_of_already_plugged_in_entities\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"score":1,"creation_date":1458943956,"post_id":36193250,"comment_id":60088915,"body_markdown":"I&#39;ve already read that documentation, your answer is not helpful at all. &quot;device&quot; is not a real object, I merely posted the relevant sample code from that document in my question to give context. In a real program, device would be an object that accepts midi instructions (like noteOn) and synthesizes them into real sounds.  If you would&#39;ve read the documentation you would&#39;ve realized that there is no mention of a pre-packaged synthesizer to use to actually play noteOn()  messages, which is what i&#39;m asking about: does such a prebuilt Android synthesizer exist?","body":"I&#39;ve already read that documentation, your answer is not helpful at all. &quot;device&quot; is not a real object, I merely posted the relevant sample code from that document in my question to give context. In a real program, device would be an object that accepts midi instructions (like noteOn) and synthesizes them into real sounds.  If you would&#39;ve read the documentation you would&#39;ve realized that there is no mention of a pre-packaged synthesizer to use to actually play noteOn()  messages, which is what i&#39;m asking about: does such a prebuilt Android synthesizer exist?"},{"owner":{"account_id":6852,"reputation":175273,"user_id":11654,"display_name":"CL."},"score":0,"creation_date":1458981416,"post_id":36193250,"comment_id":60097136,"body_markdown":"A comment is not an answer. Anyway, it appears nobody knows the answer yet. Please run the enumeration code on your Marshmallow device (I don&#39;t have one), and post the answer here.","body":"A comment is not an answer. Anyway, it appears nobody knows the answer yet. Please run the enumeration code on your Marshmallow device (I don&#39;t have one), and post the answer here."},{"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"score":0,"creation_date":1459006944,"post_id":36193250,"comment_id":60104920,"body_markdown":"Unfortunately, I don&#39;t either. I might be able to emulate one but if not I appear to be stuck. There are many posts about this issue but none since Marshmallows release. Apparently there is a native Android synth called Sonivox EAS/JETPlayer but working documentation is sparse at best.","body":"Unfortunately, I don&#39;t either. I might be able to emulate one but if not I appear to be stuck. There are many posts about this issue but none since Marshmallows release. Apparently there is a native Android synth called Sonivox EAS/JETPlayer but working documentation is sparse at best."},{"owner":{"account_id":2986892,"reputation":3592,"user_id":2535467,"accept_rate":100,"display_name":"CaptJak"},"score":0,"creation_date":1459956159,"post_id":36193250,"comment_id":60523434,"body_markdown":"Do you need it to play real-time? If your app generates a .mid file, and you need to play back that file (from the device), you don&#39;t need to jump through hoops of lava... .mid playback is supported.","body":"Do you need it to play real-time? If your app generates a .mid file, and you need to play back that file (from the device), you don&#39;t need to jump through hoops of lava... .mid playback is supported."}],"answers":[{"tags":[],"owner":{"account_id":2986892,"reputation":3592,"user_id":2535467,"accept_rate":100,"display_name":"CaptJak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1685822936,"creation_date":1459960972,"answer_id":36457306,"question_id":36193250,"body_markdown":"&gt;Do I need a synthesizer program to play Midi notes? If so, do I have to make my own or is one provided by Android or a 3rd party?\r\n\r\nNo, fortunately you don&#39;t need to make your own synthesizer. Android already has one built in: the SONiVOX Embedded Audio Syntehesizer. Android states in the [docs on SONiVOX JETCreator](https://developer.android.com/guide/topics/media/jet/jetcreator_manual.html):\r\n\r\n&gt; JET works in conjunction with SONiVOX&#39;s Embedded Audio Synthesizer (EAS) which is the MIDI playback device for Android.\r\n\r\nIt wasn&#39;t clear whether or not you want real-time playback, or if you want to create a composition first and play it later within the same app. You also state that you want to play midi notes, not files. But, just so you know, Midi playback is [supported on android devices](https://developer.android.com/guide/appendix/media-formats.html). So playing a .mid file should be done the same way you would play a .wav file using [`MediaPlayer`](https://developer.android.com/guide/topics/media/mediaplayer.html).\r\n\r\nTo be honest, I haven&#39;t use the midi package, or done midi playback, but if you can create a .mid file and save it to disk, then you should be able to play it back using straight `MediaPlayer`.\r\n\r\nNow, if you want to play straight midi **notes**, *not* files, then you can use [this mididriver package](https://github.com/billthefarmer/mididriver). Using this package you should be able to write midi data to the Embedded Synthesizer:\r\n\r\n    /**\r\n    * Writes midi data to the Sonivox synthesizer. \r\n    * The length of the array should be the exact length \r\n    * of the message or messages. Returns true on success, \r\n    * false on failure.\r\n    */\r\n\r\n    boolean write(byte buffer[])  \r\n\r\n   \r\n\r\nIf you want to step even lower than that, you could even play straight PCM using [AudioTrack](https://developer.android.com/reference/android/media/AudioTrack.html).\r\n\r\nFor additional info, here is a [blog post](http://blog.umito.nl/2010/05/07/midi-on-android.html) ([archive link](https://web.archive.org/web/20160520081455/https://blog.umito.nl/2010/05/07/midi-on-android.html)) I found from someone who seemed to have similar troubles to yours. He states:\r\n\r\n&gt;Personally I solved the dynamic midi generation issue as follows: programmatically generate a midi file, write it to the device storage, initiate a mediaplayer with the file and let it play. This is fast enough if you just need to play a dynamic midi sound. I doubt it’s useful for creating user controlled midi stuff like sequencers, but for other cases it’s great.\r\n\r\nHope I covered everything.","title":"Android 6.0 (Marshmallow): How to play midi notes?","body":"<blockquote>\n<p>Do I need a synthesizer program to play Midi notes? If so, do I have to make my own or is one provided by Android or a 3rd party?</p>\n</blockquote>\n<p>No, fortunately you don't need to make your own synthesizer. Android already has one built in: the SONiVOX Embedded Audio Syntehesizer. Android states in the <a href=\"https://developer.android.com/guide/topics/media/jet/jetcreator_manual.html\" rel=\"nofollow noreferrer\">docs on SONiVOX JETCreator</a>:</p>\n<blockquote>\n<p>JET works in conjunction with SONiVOX's Embedded Audio Synthesizer (EAS) which is the MIDI playback device for Android.</p>\n</blockquote>\n<p>It wasn't clear whether or not you want real-time playback, or if you want to create a composition first and play it later within the same app. You also state that you want to play midi notes, not files. But, just so you know, Midi playback is <a href=\"https://developer.android.com/guide/appendix/media-formats.html\" rel=\"nofollow noreferrer\">supported on android devices</a>. So playing a .mid file should be done the same way you would play a .wav file using <a href=\"https://developer.android.com/guide/topics/media/mediaplayer.html\" rel=\"nofollow noreferrer\"><code>MediaPlayer</code></a>.</p>\n<p>To be honest, I haven't use the midi package, or done midi playback, but if you can create a .mid file and save it to disk, then you should be able to play it back using straight <code>MediaPlayer</code>.</p>\n<p>Now, if you want to play straight midi <strong>notes</strong>, <em>not</em> files, then you can use <a href=\"https://github.com/billthefarmer/mididriver\" rel=\"nofollow noreferrer\">this mididriver package</a>. Using this package you should be able to write midi data to the Embedded Synthesizer:</p>\n<pre><code>/**\n* Writes midi data to the Sonivox synthesizer. \n* The length of the array should be the exact length \n* of the message or messages. Returns true on success, \n* false on failure.\n*/\n\nboolean write(byte buffer[])  \n</code></pre>\n<p>If you want to step even lower than that, you could even play straight PCM using <a href=\"https://developer.android.com/reference/android/media/AudioTrack.html\" rel=\"nofollow noreferrer\">AudioTrack</a>.</p>\n<p>For additional info, here is a <a href=\"http://blog.umito.nl/2010/05/07/midi-on-android.html\" rel=\"nofollow noreferrer\">blog post</a> (<a href=\"https://web.archive.org/web/20160520081455/https://blog.umito.nl/2010/05/07/midi-on-android.html\" rel=\"nofollow noreferrer\">archive link</a>) I found from someone who seemed to have similar troubles to yours. He states:</p>\n<blockquote>\n<p>Personally I solved the dynamic midi generation issue as follows: programmatically generate a midi file, write it to the device storage, initiate a mediaplayer with the file and let it play. This is fast enough if you just need to play a dynamic midi sound. I doubt it’s useful for creating user controlled midi stuff like sequencers, but for other cases it’s great.</p>\n</blockquote>\n<p>Hope I covered everything.</p>\n"},{"tags":[],"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1497608530,"creation_date":1460207192,"answer_id":36517164,"question_id":36193250,"body_markdown":"I haven&#39;t found any &quot;official&quot; way to control the internal synthesizer from Java code.\r\n\r\nProbably the easiest option is to use the [Android midi driver for the Sonivox synthesizer][1]. \r\n\r\nGet it [as an AAR package][2] (unzip the *.zip) and store the *.aar file somewhere in your workspace. The path doesn&#39;t really matter and it doesn&#39;t need to be inside your own app&#39;s folder structure but the &quot;libs&quot; folder inside your project could be a logical place.\r\n\r\nWith your Android project open in Android Studio:\r\n\r\n&gt; File -&gt; New -&gt; New Module -&gt; Import .JAR/.AAR Package -&gt; Next -&gt; Find\r\n&gt; and select the &quot;MidiDriver-all-release.aar&quot; and change the subproject\r\n&gt; name if you want. -&gt; Finish\r\n\r\nWait for Gradle to do it&#39;s magic and then go to your &quot;app&quot; module&#39;s settings (your own app project&#39;s settings) to the &quot;Dependencies&quot; tab and add (with the green &quot;+&quot; sign) the MIDI Driver as a module dependency. Now you have access to the MIDI Driver:\r\n\r\n    import org.billthefarmer.mididriver.MidiDriver;\r\n       ...\r\n    MidiDriver midiDriver = new MidiDriver();\r\n\r\nWithout having to worry anything about NDK and C++ you have these Java methods available:\r\n\r\n    // Not really necessary. Receives a callback when/if start() has succeeded.\r\n    midiDriver.setOnMidiStartListener(listener);\r\n    // Starts the driver.\r\n    midiDriver.start();\r\n    // Receives the driver&#39;s config info.\r\n    midiDriver.config();\r\n    // Stops the driver.\r\n    midiDriver.stop();\r\n    // Just calls write().\r\n    midiDriver.queueEvent(event);\r\n    // Sends a MIDI event to the synthesizer.\r\n    midiDriver.write(event);\r\n\r\nA very basic &quot;proof of concept&quot; for playing and stopping a note could be something like:\r\n\r\n    package com.example.miditest;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    \r\n    import org.billthefarmer.mididriver.MidiDriver;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements MidiDriver.OnMidiStartListener,\r\n            View.OnTouchListener {\r\n    \r\n        private MidiDriver midiDriver;\r\n        private byte[] event;\r\n        private int[] config;\r\n        private Button buttonPlayNote;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            buttonPlayNote = (Button)findViewById(R.id.buttonPlayNote);\r\n            buttonPlayNote.setOnTouchListener(this);\r\n    \r\n            // Instantiate the driver.\r\n            midiDriver = new MidiDriver();\r\n            // Set the listener.\r\n            midiDriver.setOnMidiStartListener(this);\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            midiDriver.start();\r\n    \r\n            // Get the configuration.\r\n            config = midiDriver.config();\r\n    \r\n            // Print out the details.\r\n            Log.d(this.getClass().getName(), &quot;maxVoices: &quot; + config[0]);\r\n            Log.d(this.getClass().getName(), &quot;numChannels: &quot; + config[1]);\r\n            Log.d(this.getClass().getName(), &quot;sampleRate: &quot; + config[2]);\r\n            Log.d(this.getClass().getName(), &quot;mixBufferSize: &quot; + config[3]);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            midiDriver.stop();\r\n        }\r\n    \r\n        @Override\r\n        public void onMidiStart() {\r\n            Log.d(this.getClass().getName(), &quot;onMidiStart()&quot;);\r\n        }\r\n    \r\n        private void playNote() {\r\n    \r\n            // Construct a note ON message for the middle C at maximum velocity on channel 1:\r\n            event = new byte[3];\r\n            event[0] = (byte) (0x90 | 0x00);  // 0x90 = note On, 0x00 = channel 1\r\n            event[1] = (byte) 0x3C;  // 0x3C = middle C\r\n            event[2] = (byte) 0x7F;  // 0x7F = the maximum velocity (127)\r\n    \r\n            // Internally this just calls write() and can be considered obsoleted:\r\n            //midiDriver.queueEvent(event);\r\n    \r\n            // Send the MIDI event to the synthesizer.\r\n            midiDriver.write(event);\r\n    \r\n        }\r\n    \r\n        private void stopNote() {\r\n    \r\n            // Construct a note OFF message for the middle C at minimum velocity on channel 1:\r\n            event = new byte[3];\r\n            event[0] = (byte) (0x80 | 0x00);  // 0x80 = note Off, 0x00 = channel 1\r\n            event[1] = (byte) 0x3C;  // 0x3C = middle C\r\n            event[2] = (byte) 0x00;  // 0x00 = the minimum velocity (0)\r\n    \r\n            // Send the MIDI event to the synthesizer.\r\n            midiDriver.write(event);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n    \r\n            Log.d(this.getClass().getName(), &quot;Motion event: &quot; + event);\r\n    \r\n            if (v.getId() == R.id.buttonPlayNote) {\r\n                if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n                    Log.d(this.getClass().getName(), &quot;MotionEvent.ACTION_DOWN&quot;);\r\n                    playNote();\r\n                }\r\n                if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                    Log.d(this.getClass().getName(), &quot;MotionEvent.ACTION_UP&quot;);\r\n                    stopNote();\r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }\r\n\r\nThe layout file just has one button that plays the predefined note when held down and stops it when released:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;com.example.miditest.MainActivity&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Play a note&quot;\r\n            android:id=&quot;@+id/buttonPlayNote&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nIt is actually this simple. The code above could well be a starting point for a touch piano app with 128 selectable instruments, very decent latency and a proper &quot;note off&quot; functionality which many apps lack.\r\n\r\nAs for choosing the instrument: You&#39;ll just need to send a MIDI &quot;program change&quot; message to the channel on which you intend to play to choose one of the 128 sounds in the General MIDI soundset. But that&#39;s related to the details of MIDI and not to the usage of the library. \r\n\r\nLikewise you&#39;ll probably want to abstract away the low level details of MIDI so that you can easily play a specific note on a specific channel with a specific instrument at a specific velocity for a specific time and for that you might find some clues from all the open source Java and MIDI related applications and libraries made so far.\r\n\r\nThis approach doesn&#39;t require Android 6.0 by the way. And at the moment [only 4.6 % of devices visiting the Play Store run Android 6.x][3] so there wouldn&#39;t be much audience for your app. \r\n\r\nOf course if you want to use the `android.media.midi` package you could then use the library to implement a `android.media.midi.MidiReceiver` to receive the MIDI events and play them on the internal synthesizer. Google already has some [demo code that plays notes with square and saw waves][4]. Just replace that with the internal synthesizer.\r\n\r\nSome other options could be to check out what&#39;s the status with porting [FluidSynth][5] to Android. I guess there might be something available.\r\n\r\n**Edit:** Other possibly interesting libraries:\r\n\r\n- [port of Java&#39;s javax.sound.midi package][6] for abstracting the low level MIDI technical details\r\n- [USB MIDI Driver][7] for connecting to a digital piano/keyboard with a USB MIDI connector\r\n- [MIDI over Bluetooth LE driver][8] for connecting wirelessly to a digital piano/keyboard that supports MIDI over Bluetooth LE (like e.g. some recent Roland and Dexibell digital pianos)\r\n- [JFugue Music library port for Android][9] for further abstracting the MIDI details and instead thinking in terms of music theory\r\n\r\n\r\n  [1]: https://github.com/billthefarmer/mididriver\r\n  [2]: https://github.com/billthefarmer/mididriver/releases\r\n  [3]: https://developer.android.com/about/dashboards/index.html\r\n  [4]: http://developer.android.com/samples/MidiSynth/index.html\r\n  [5]: http://www.fluidsynth.org/\r\n  [6]: https://github.com/kshoji/javax.sound.midi-for-Android\r\n  [7]: https://github.com/kshoji/USB-MIDI-Driver\r\n  [8]: https://github.com/kshoji/BLE-MIDI-for-Android\r\n  [9]: https://github.com/kshoji/JFugue-for-Android","title":"Android 6.0 (Marshmallow): How to play midi notes?","body":"<p>I haven't found any \"official\" way to control the internal synthesizer from Java code.</p>\n\n<p>Probably the easiest option is to use the <a href=\"https://github.com/billthefarmer/mididriver\" rel=\"noreferrer\">Android midi driver for the Sonivox synthesizer</a>. </p>\n\n<p>Get it <a href=\"https://github.com/billthefarmer/mididriver/releases\" rel=\"noreferrer\">as an AAR package</a> (unzip the *.zip) and store the *.aar file somewhere in your workspace. The path doesn't really matter and it doesn't need to be inside your own app's folder structure but the \"libs\" folder inside your project could be a logical place.</p>\n\n<p>With your Android project open in Android Studio:</p>\n\n<blockquote>\n  <p>File -> New -> New Module -> Import .JAR/.AAR Package -> Next -> Find\n  and select the \"MidiDriver-all-release.aar\" and change the subproject\n  name if you want. -> Finish</p>\n</blockquote>\n\n<p>Wait for Gradle to do it's magic and then go to your \"app\" module's settings (your own app project's settings) to the \"Dependencies\" tab and add (with the green \"+\" sign) the MIDI Driver as a module dependency. Now you have access to the MIDI Driver:</p>\n\n<pre><code>import org.billthefarmer.mididriver.MidiDriver;\n   ...\nMidiDriver midiDriver = new MidiDriver();\n</code></pre>\n\n<p>Without having to worry anything about NDK and C++ you have these Java methods available:</p>\n\n<pre><code>// Not really necessary. Receives a callback when/if start() has succeeded.\nmidiDriver.setOnMidiStartListener(listener);\n// Starts the driver.\nmidiDriver.start();\n// Receives the driver's config info.\nmidiDriver.config();\n// Stops the driver.\nmidiDriver.stop();\n// Just calls write().\nmidiDriver.queueEvent(event);\n// Sends a MIDI event to the synthesizer.\nmidiDriver.write(event);\n</code></pre>\n\n<p>A very basic \"proof of concept\" for playing and stopping a note could be something like:</p>\n\n<pre><code>package com.example.miditest;\n\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.Button;\n\nimport org.billthefarmer.mididriver.MidiDriver;\n\npublic class MainActivity extends AppCompatActivity implements MidiDriver.OnMidiStartListener,\n        View.OnTouchListener {\n\n    private MidiDriver midiDriver;\n    private byte[] event;\n    private int[] config;\n    private Button buttonPlayNote;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonPlayNote = (Button)findViewById(R.id.buttonPlayNote);\n        buttonPlayNote.setOnTouchListener(this);\n\n        // Instantiate the driver.\n        midiDriver = new MidiDriver();\n        // Set the listener.\n        midiDriver.setOnMidiStartListener(this);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        midiDriver.start();\n\n        // Get the configuration.\n        config = midiDriver.config();\n\n        // Print out the details.\n        Log.d(this.getClass().getName(), \"maxVoices: \" + config[0]);\n        Log.d(this.getClass().getName(), \"numChannels: \" + config[1]);\n        Log.d(this.getClass().getName(), \"sampleRate: \" + config[2]);\n        Log.d(this.getClass().getName(), \"mixBufferSize: \" + config[3]);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        midiDriver.stop();\n    }\n\n    @Override\n    public void onMidiStart() {\n        Log.d(this.getClass().getName(), \"onMidiStart()\");\n    }\n\n    private void playNote() {\n\n        // Construct a note ON message for the middle C at maximum velocity on channel 1:\n        event = new byte[3];\n        event[0] = (byte) (0x90 | 0x00);  // 0x90 = note On, 0x00 = channel 1\n        event[1] = (byte) 0x3C;  // 0x3C = middle C\n        event[2] = (byte) 0x7F;  // 0x7F = the maximum velocity (127)\n\n        // Internally this just calls write() and can be considered obsoleted:\n        //midiDriver.queueEvent(event);\n\n        // Send the MIDI event to the synthesizer.\n        midiDriver.write(event);\n\n    }\n\n    private void stopNote() {\n\n        // Construct a note OFF message for the middle C at minimum velocity on channel 1:\n        event = new byte[3];\n        event[0] = (byte) (0x80 | 0x00);  // 0x80 = note Off, 0x00 = channel 1\n        event[1] = (byte) 0x3C;  // 0x3C = middle C\n        event[2] = (byte) 0x00;  // 0x00 = the minimum velocity (0)\n\n        // Send the MIDI event to the synthesizer.\n        midiDriver.write(event);\n\n    }\n\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n\n        Log.d(this.getClass().getName(), \"Motion event: \" + event);\n\n        if (v.getId() == R.id.buttonPlayNote) {\n            if (event.getAction() == MotionEvent.ACTION_DOWN) {\n                Log.d(this.getClass().getName(), \"MotionEvent.ACTION_DOWN\");\n                playNote();\n            }\n            if (event.getAction() == MotionEvent.ACTION_UP) {\n                Log.d(this.getClass().getName(), \"MotionEvent.ACTION_UP\");\n                stopNote();\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n\n<p>The layout file just has one button that plays the predefined note when held down and stops it when released:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"com.example.miditest.MainActivity\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;Button\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Play a note\"\n        android:id=\"@+id/buttonPlayNote\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>It is actually this simple. The code above could well be a starting point for a touch piano app with 128 selectable instruments, very decent latency and a proper \"note off\" functionality which many apps lack.</p>\n\n<p>As for choosing the instrument: You'll just need to send a MIDI \"program change\" message to the channel on which you intend to play to choose one of the 128 sounds in the General MIDI soundset. But that's related to the details of MIDI and not to the usage of the library. </p>\n\n<p>Likewise you'll probably want to abstract away the low level details of MIDI so that you can easily play a specific note on a specific channel with a specific instrument at a specific velocity for a specific time and for that you might find some clues from all the open source Java and MIDI related applications and libraries made so far.</p>\n\n<p>This approach doesn't require Android 6.0 by the way. And at the moment <a href=\"https://developer.android.com/about/dashboards/index.html\" rel=\"noreferrer\">only 4.6 % of devices visiting the Play Store run Android 6.x</a> so there wouldn't be much audience for your app. </p>\n\n<p>Of course if you want to use the <code>android.media.midi</code> package you could then use the library to implement a <code>android.media.midi.MidiReceiver</code> to receive the MIDI events and play them on the internal synthesizer. Google already has some <a href=\"http://developer.android.com/samples/MidiSynth/index.html\" rel=\"noreferrer\">demo code that plays notes with square and saw waves</a>. Just replace that with the internal synthesizer.</p>\n\n<p>Some other options could be to check out what's the status with porting <a href=\"http://www.fluidsynth.org/\" rel=\"noreferrer\">FluidSynth</a> to Android. I guess there might be something available.</p>\n\n<p><strong>Edit:</strong> Other possibly interesting libraries:</p>\n\n<ul>\n<li><a href=\"https://github.com/kshoji/javax.sound.midi-for-Android\" rel=\"noreferrer\">port of Java's javax.sound.midi package</a> for abstracting the low level MIDI technical details</li>\n<li><a href=\"https://github.com/kshoji/USB-MIDI-Driver\" rel=\"noreferrer\">USB MIDI Driver</a> for connecting to a digital piano/keyboard with a USB MIDI connector</li>\n<li><a href=\"https://github.com/kshoji/BLE-MIDI-for-Android\" rel=\"noreferrer\">MIDI over Bluetooth LE driver</a> for connecting wirelessly to a digital piano/keyboard that supports MIDI over Bluetooth LE (like e.g. some recent Roland and Dexibell digital pianos)</li>\n<li><a href=\"https://github.com/kshoji/JFugue-for-Android\" rel=\"noreferrer\">JFugue Music library port for Android</a> for further abstracting the MIDI details and instead thinking in terms of music theory</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2637494,"reputation":83,"user_id":2281823,"accept_rate":25,"display_name":"AndroidHobby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568195024,"creation_date":1465286995,"answer_id":37673874,"question_id":36193250,"body_markdown":"To generate sound using Android MIDI API, you need a synthesizer app which accepts MIDI input. Unfortunately, this is the only such app I have found on Google Play:\r\nhttps://play.google.com/store/apps/details?id=com.mobileer.midisynthexample\r\n\r\nI was able to play music by sending note on and note off messages to this app. But program change worked poorly. Unless I did something wrong in my code, it seems the app has only two instruments.\r\n\r\nHowever, there are some guys working on other synthesizer apps, so I expect more apps will be available soon. This app looks promising, though I haven&#39;t tested it myself yet:\r\nhttps://github.com/pedrolcl/android/tree/master/NativeGMSynth","title":"Android 6.0 (Marshmallow): How to play midi notes?","body":"<p>To generate sound using Android MIDI API, you need a synthesizer app which accepts MIDI input. Unfortunately, this is the only such app I have found on Google Play:\n<a href=\"https://play.google.com/store/apps/details?id=com.mobileer.midisynthexample\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.mobileer.midisynthexample</a></p>\n\n<p>I was able to play music by sending note on and note off messages to this app. But program change worked poorly. Unless I did something wrong in my code, it seems the app has only two instruments.</p>\n\n<p>However, there are some guys working on other synthesizer apps, so I expect more apps will be available soon. This app looks promising, though I haven't tested it myself yet:\n<a href=\"https://github.com/pedrolcl/android/tree/master/NativeGMSynth\" rel=\"nofollow noreferrer\">https://github.com/pedrolcl/android/tree/master/NativeGMSynth</a></p>\n"}],"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16026,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"accepted_answer_id":36517164,"answer_count":3,"score":22,"last_activity_date":1685822936,"creation_date":1458793362,"question_id":36193250,"body_markdown":"I&#39;m creating an app that generates live instrument sounds and I&#39;m planning on using the new Midi API featured in Android Marshmallow (version 6.0). I&#39;ve read the package overview document here http://developer.android.com/reference/android/media/midi/package-summary.html and I know how to generate Midi notes but i&#39;m still unsure: how do I actually play these notes after I&#39;ve generated their Midi data?\r\n\r\nDo I need a synthesizer program to play Midi notes? If so, do I have to make my own or is one provided by Android or a 3rd party?\r\n\r\nI am a novice with Midi so please be as descriptive as possible with your answer. \r\n\r\n**What i&#39;ve tried so far:** \r\nI&#39;ve created a Midi manager object and opened an input port\r\n\r\n    MidiManager m = (MidiManager)context.getSystemService(Context.MIDI_SERVICE); \r\n    MidiInputPort inputPort = device.openInputPort(index);\r\n\r\nThen, i&#39;ve sent a test noteOn midi message to the port \r\n\r\n    byte[] buffer = new byte[32];\r\n    int numBytes = 0;\r\n    int channel = 3; // MIDI channels 1-16 are encoded as 0-15.\r\n    buffer[numBytes++] = (byte)(0x90 + (channel - 1)); // note on\r\n    buffer[numBytes++] = (byte)60; // pitch is middle C\r\n    buffer[numBytes++] = (byte)127; // max velocity\r\n    int offset = 0;\r\n    // post is non-blocking\r\n    inputPort.send(buffer, offset, numBytes);\r\n\r\nI&#39;ve also set up a class to receive the midi note messages \r\n\r\n    class MyReceiver extends MidiReceiver {\r\n        public void onSend(byte[] data, int offset,\r\n                int count, long timestamp) throws IOException {\r\n            // parse MIDI or whatever\r\n        }\r\n    }\r\n    MidiOutputPort outputPort = device.openOutputPort(index);\r\n    outputPort.connect(new MyReceiver());\r\n\r\nNow, here&#39;s where i&#39;m most confused. The use case of my app is to be an all-in-one composition &amp; playback tool for making music. In other words, my app needs to contain or use a virtual midi device (like an intent of another app&#39;s midi synthesizer). Unless someone already made such a synthesizer, I must create one myself within my app&#39;s lifecycle. How do I actually actually convert a received midi noteOn() into sound coming out of my speakers? I&#39;m especially confused because there also has to be a way to programmatically decide what type of instrument the note sounds like it&#39;s coming from: is this also done in a synthesizer?\r\n\r\nMidi support in Android Marshmallow is fairly new so I haven&#39;t been able to find any tutorials or sample synthesizer apps online. Any insight is appreciated.\r\n","title":"Android 6.0 (Marshmallow): How to play midi notes?","body":"<p>I'm creating an app that generates live instrument sounds and I'm planning on using the new Midi API featured in Android Marshmallow (version 6.0). I've read the package overview document here <a href=\"http://developer.android.com/reference/android/media/midi/package-summary.html\">http://developer.android.com/reference/android/media/midi/package-summary.html</a> and I know how to generate Midi notes but i'm still unsure: how do I actually play these notes after I've generated their Midi data?</p>\n\n<p>Do I need a synthesizer program to play Midi notes? If so, do I have to make my own or is one provided by Android or a 3rd party?</p>\n\n<p>I am a novice with Midi so please be as descriptive as possible with your answer. </p>\n\n<p><strong>What i've tried so far:</strong> \nI've created a Midi manager object and opened an input port</p>\n\n<pre><code>MidiManager m = (MidiManager)context.getSystemService(Context.MIDI_SERVICE); \nMidiInputPort inputPort = device.openInputPort(index);\n</code></pre>\n\n<p>Then, i've sent a test noteOn midi message to the port </p>\n\n<pre><code>byte[] buffer = new byte[32];\nint numBytes = 0;\nint channel = 3; // MIDI channels 1-16 are encoded as 0-15.\nbuffer[numBytes++] = (byte)(0x90 + (channel - 1)); // note on\nbuffer[numBytes++] = (byte)60; // pitch is middle C\nbuffer[numBytes++] = (byte)127; // max velocity\nint offset = 0;\n// post is non-blocking\ninputPort.send(buffer, offset, numBytes);\n</code></pre>\n\n<p>I've also set up a class to receive the midi note messages </p>\n\n<pre><code>class MyReceiver extends MidiReceiver {\n    public void onSend(byte[] data, int offset,\n            int count, long timestamp) throws IOException {\n        // parse MIDI or whatever\n    }\n}\nMidiOutputPort outputPort = device.openOutputPort(index);\noutputPort.connect(new MyReceiver());\n</code></pre>\n\n<p>Now, here's where i'm most confused. The use case of my app is to be an all-in-one composition &amp; playback tool for making music. In other words, my app needs to contain or use a virtual midi device (like an intent of another app's midi synthesizer). Unless someone already made such a synthesizer, I must create one myself within my app's lifecycle. How do I actually actually convert a received midi noteOn() into sound coming out of my speakers? I'm especially confused because there also has to be a way to programmatically decide what type of instrument the note sounds like it's coming from: is this also done in a synthesizer?</p>\n\n<p>Midi support in Android Marshmallow is fairly new so I haven't been able to find any tutorials or sample synthesizer apps online. Any insight is appreciated.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585589502,"post_id":60935878,"comment_id":107808066,"body_markdown":"why not just do this `private List&lt;String&gt; roles = Lists.newArrayList(&quot;USER&quot;)`. It will default to this value if nothing is found in properties file","body":"why not just do this <code>private List&lt;String&gt; roles = Lists.newArrayList(&quot;USER&quot;)</code>. It will default to this value if nothing is found in properties file"},{"owner":{"account_id":8424420,"reputation":105,"user_id":6322187,"display_name":"Михайло Тітов"},"score":0,"creation_date":1585590880,"post_id":60935878,"comment_id":107808671,"body_markdown":"In such case I would have to use `@DefaultValue(&quot;USER&quot;)` anyway to make spring boot generate spring-configuration-metadata.json with default value for `roles`","body":"In such case I would have to use <code>@DefaultValue(&quot;USER&quot;)</code> anyway to make spring boot generate spring-configuration-metadata.json with default value for <code>roles</code>"}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585601341,"creation_date":1585601341,"answer_id":60939255,"question_id":60935878,"body_markdown":"Try this. This should work.  \r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;acme&quot;)\r\n    public class AcmeProperties {\r\n    \r\n        private Security security;\r\n    \r\n        public Security getSecurity() {\r\n            return security;\r\n        }\r\n    \r\n        public void setSecurity(Security security) {\r\n            this.security = security;\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void initDefaultValues() {\r\n            if(security == null) {\r\n                security = new Security();\r\n            }\r\n        }\r\n    }\r\n\r\nSecurity class will look like this \r\n\r\n\r\n    public class Security {\r\n    \r\n        private List&lt;String&gt; roles = Lists.newArrayList(&quot;USER&quot;);\r\n    \r\n        public List&lt;String&gt; getRoles() {\r\n            return roles;\r\n        }\r\n    \r\n        public void setRoles(List&lt;String&gt; roles) {\r\n            this.roles = roles;\r\n        }\r\n    }","title":"How to specify the default value for nested property?","body":"<p>Try this. This should work.  </p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"acme\")\npublic class AcmeProperties {\n\n    private Security security;\n\n    public Security getSecurity() {\n        return security;\n    }\n\n    public void setSecurity(Security security) {\n        this.security = security;\n    }\n\n    @PostConstruct\n    public void initDefaultValues() {\n        if(security == null) {\n            security = new Security();\n        }\n    }\n}\n</code></pre>\n\n<p>Security class will look like this </p>\n\n<pre><code>public class Security {\n\n    private List&lt;String&gt; roles = Lists.newArrayList(\"USER\");\n\n    public List&lt;String&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(List&lt;String&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238051,"reputation":344,"user_id":506678,"display_name":"ragnaroh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685822490,"creation_date":1685822490,"answer_id":76397837,"question_id":60935878,"body_markdown":"Since Spring Boot 2.2.7 it&#39;s possible to add `@DefaultValue` (with no arguments) to the `security` constructor parameter:\r\n   \r\n    public AcmeProperties(@DefaultValue Security security) {\r\n        this.security = security;\r\n    }\r\n","title":"How to specify the default value for nested property?","body":"<p>Since Spring Boot 2.2.7 it's possible to add <code>@DefaultValue</code> (with no arguments) to the <code>security</code> constructor parameter:</p>\n<pre><code>public AcmeProperties(@DefaultValue Security security) {\n    this.security = security;\n}\n</code></pre>\n"}],"owner":{"account_id":8424420,"reputation":105,"user_id":6322187,"display_name":"Михайло Тітов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1685822490,"creation_date":1585588529,"question_id":60935878,"body_markdown":" The following code throws NPE when I don&#39;t specify value for `acme.security.roles`:\r\n\r\n```\r\n@ConstructorBinding\r\n@ConfigurationProperties(&quot;acme&quot;)\r\npublic class AcmeProperties {\r\n\r\n    private final Security security;\r\n\r\n    public AcmeProperties(Security security) {\r\n        this.security = security;\r\n    }\r\n\r\n    public Security getSecurity() {\r\n        return security;\r\n    }\r\n\r\n    public static class Security {\r\n\r\n        private final List&lt;String&gt; roles;\r\n\r\n        public Security(@DefaultValue(&quot;USER&quot;) List&lt;String&gt; roles) {\r\n            this.roles = roles;\r\n        }\r\n\r\n        public List&lt;String&gt; getRoles() {\r\n            return roles;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\n@EnableConfigurationProperties(AcmeProperties.class)\r\npublic class MyConfiguration {\r\n\r\n@Bean HttpClientConnectionManager httpClientConnectionManager(AcmeProperties acmeProperties) {\r\n\r\n        Security security = acmeProperties.getSecurity();\r\n        \r\n        security.getRoles(); // throws NPE\r\n\r\n        return new PoolingHttpClientConnectionManager();\r\n    }\r\n}\r\n```\r\nWhat is the correct way to make spring boot instantiate `Security` object with default `roles` value? Should I use `@DefaultValue` and SPEL somehow to make it work?","title":"How to specify the default value for nested property?","body":"<p>The following code throws NPE when I don't specify value for <code>acme.security.roles</code>:</p>\n\n<pre><code>@ConstructorBinding\n@ConfigurationProperties(\"acme\")\npublic class AcmeProperties {\n\n    private final Security security;\n\n    public AcmeProperties(Security security) {\n        this.security = security;\n    }\n\n    public Security getSecurity() {\n        return security;\n    }\n\n    public static class Security {\n\n        private final List&lt;String&gt; roles;\n\n        public Security(@DefaultValue(\"USER\") List&lt;String&gt; roles) {\n            this.roles = roles;\n        }\n\n        public List&lt;String&gt; getRoles() {\n            return roles;\n        }\n    }\n}\n</code></pre>\n\n<pre><code>@Configuration(proxyBeanMethods = false)\n@EnableConfigurationProperties(AcmeProperties.class)\npublic class MyConfiguration {\n\n@Bean HttpClientConnectionManager httpClientConnectionManager(AcmeProperties acmeProperties) {\n\n        Security security = acmeProperties.getSecurity();\n\n        security.getRoles(); // throws NPE\n\n        return new PoolingHttpClientConnectionManager();\n    }\n}\n</code></pre>\n\n<p>What is the correct way to make spring boot instantiate <code>Security</code> object with default <code>roles</code> value? Should I use <code>@DefaultValue</code> and SPEL somehow to make it work?</p>\n"},{"tags":["java","enums","java-record"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":2,"creation_date":1612194728,"post_id":65995692,"comment_id":116684022,"body_markdown":"Should `NamedIdentity` implicitly extend `java.lang.Enum` or `java.lang.Record` then?","body":"Should <code>NamedIdentity</code> implicitly extend <code>java.lang.Enum</code> or <code>java.lang.Record</code> then?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1612195172,"post_id":65995692,"comment_id":116684242,"body_markdown":"records are not about boilerplate reduction. In fact, one property of such an record is that the following code returns true: `original.equals(new NamedIdentitiy(original.id(), original.nickname()))`. As enums don&#39;t have public constructors, this code can&#39;t work.","body":"records are not about boilerplate reduction. In fact, one property of such an record is that the following code returns true: <code>original.equals(new NamedIdentitiy(original.id(), original.nickname()))</code>. As enums don&#39;t have public constructors, this code can&#39;t work."},{"owner":{"account_id":1648421,"reputation":982,"user_id":1853967,"accept_rate":79,"display_name":"ayane_m"},"score":0,"creation_date":1624601917,"post_id":65995692,"comment_id":120407763,"body_markdown":"Why use an enum when you can just define `NamedIdentity` as a record and declare `static final NamedIdentity` fields where you need them?","body":"Why use an enum when you can just define <code>NamedIdentity</code> as a record and declare <code>static final NamedIdentity</code> fields where you need them?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1624604953,"post_id":65995692,"comment_id":120408694,"body_markdown":"@ayane Because you can switch over enums.","body":"@ayane Because you can switch over enums."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637922926,"post_id":65995692,"comment_id":123957939,"body_markdown":"@sp00m That&#39;s a *technical implementation* of the record concept. The language designers could have done something else if they really wanted enums and records to be combined. They could have made `Record` an interface, for instance. Hence some possible reasons at the bottom.","body":"@sp00m That&#39;s a <i>technical implementation</i> of the record concept. The language designers could have done something else if they really wanted enums and records to be combined. They could have made <code>Record</code> an interface, for instance. Hence some possible reasons at the bottom."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":8,"creation_date":1639249497,"post_id":65995692,"comment_id":124302508,"body_markdown":"I can promise you the answer is NOT &quot;we didn&#39;t think about this.&quot;","body":"I can promise you the answer is NOT &quot;we didn&#39;t think about this.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1685820815,"creation_date":1612205685,"answer_id":65998549,"question_id":65995692,"body_markdown":"# tl;dr\r\n\r\n- Technical limitation: Multiple inheritance prevents mixing `Enum` with `Record` superclasses.\r\n- Workaround: Keep a `record` as member field of your enum\r\n\r\n```java\r\nNamedIdentity.JILL.detail.nickname()  // ➣ &quot;Jill the Archeress&quot;\r\n```\r\n\r\n# Multiple inheritance\r\n\r\nYou asked:\r\n\r\n&gt; is there a reason that enum records don&#39;t exist?\r\n\r\nThe technical reason is that in Java, every enum is implicitly a subclass of [`Enum`][1] class while every record is implicitly a subclass of [`Record`][2] class. \r\n\r\nJava does not support multiple inheritance. So the two cannot be combined.\r\n\r\n# Semantics\r\n\r\nBut more important is the semantics. \r\n\r\nAn enum is for declaring at compile time a limited set of named instances. Each of the enum objects is instantiated when the enum class loads. At runtime, we cannot instantiate any more objects of that class (well, maybe with extreme reflection/introspection code, but I’ll ignore that).\r\n\r\nA record in Java is not automatically instantiated. Your code instantiated as many objects of that class as you want, by calling `new`. So not at all the same.\r\n\r\n# Boilerplate reduction is *not* the goal of `record`\r\n\r\nYou said:\r\n\r\n&gt; I thought that Java 14&#39;s record keyword would have saved me the boilerplate code\r\n\r\nYou misunderstand the purpose of `record` feature. I suggest you read [JEP 395][3], and watch the latest presentation by Brian Goetz on the subject. \r\n\r\nAs [commented by Johannes Kuhn][4], the goal of `record` is *not* to reduce boilerplate. Such reduction is a pleasant side-effect, but is not the reason for the invention of `record`. \r\n\r\nA record is meant to be a “nominal tuple” in formal terms. \r\n\r\n - *Tuple* means a collection of values of various types laid out in a certain order, or as Wikipedia says: “finite ordered list (sequence) of elements”. \r\n - *Nominal* means the elements each have a name.\r\n\r\nA record is meant to be a simple and **transparent data carrier**. *Transparent* means all its member fields are exposed. It’s getter methods are simply named the same as the field, without using the `get…` convention of JavaBeans. The default implantation of `hashCode` and `equals` is to inspect each and every member field. The intention for a record is to focus on the data being carried, not behavior (methods). \r\n\r\nFurthermore, a record is meant to be **shallowly immutable**. *Immutable* means you cannot change the primitive values, nor can you change the object references, in an instance of a record. The objects within a record instance may be mutable themselves, which is what we mean by *shallowly*. But values of the record’s own fields, either primitive values or object references, cannot be changed. You cannot re-assign a substitute object as one of the record’s member fields.\r\n\r\n - When you have a limited set of instances known at compile time, use `enum`.\r\n - When you are writing a class whose primary job is to immutably and transparently carry a group of data fields, use `record`.\r\n\r\n# Worthy question\r\n\r\nI can see where the two concepts could intersect, where at compile time we know of a limited set of immutable transparent collections of named values. So your question is valid, but not because of boilerplate reduction. [Brian Goetz said](https://stackoverflow.com/questions/65995692/why-cant-enum-and-record-be-combined/65998549#comment124302508_65995692) the Java team did indeed consider this idea.\r\n\r\n# Workaround: Store a `record` on your `enum`\r\n\r\nThe workaround is quite simple: **Keep a `record` instance on your enum.** \r\n\r\nYou could pass a record to your enum constructor, and store that record as a member field on the enum definition. \r\n\r\nMake the member field `final`. That makes our enum [immutable][5]. So, no need to mark private, and no need to add a getter method. \r\n\r\n\r\n\r\n\r\nFirst, the `record` definition.\r\n\r\n```java\r\npackage org.example;\r\n\r\npublic record Performer(int id , String nickname)\r\n{\r\n}\r\n```\r\n\r\n\r\nNext, we pass an instance of `record` to the enum constructor.\r\n\r\n```java\r\npackage org.example;\r\n\r\npublic enum NamedIdentity\r\n{\r\n    JOHN( new Performer( 1 , &quot;John the Slayer&quot; ) ),\r\n    JILL( new Performer( 2 , &quot;Jill the Archeress&quot; ) );\r\n\r\n    final Performer performer;\r\n\r\n    NamedIdentity ( final Performer performer ) { this.performer = performer; }\r\n}\r\n```\r\n\r\nIf the `record` only makes sense within the context of the enum, we can nest the two together rather than have separate `.java` files. The `record` feature was built with nesting in mind, and works well there.\r\n\r\nNaming the nested `record` might be tricky in some cases. I imagine something like `Detail` might do as a plain generic label if no better name is obvious. \r\n\r\n```java\r\npackage org.example;\r\n\r\npublic enum NamedIdentity\r\n{\r\n    JOHN( new Performer( 1 , &quot;John the Slayer&quot; ) ),\r\n    JILL( new Performer( 2 , &quot;Jill the Archeress&quot; ) );\r\n\r\n    final Performer performer;\r\n\r\n    NamedIdentity ( final Performer performer ) { this.performer = performer; }\r\n\r\n    public record Performer(int id , String nickname) {}\r\n}\r\n```\r\n\r\nTo my mind, this workaround is a solid solution. We get clarity in the code with the bonus of reducing boilerplate. I like this as a general replacement for keeping a bunch of data fields on the enum, as using a `record` makes the intention explicit and obvious. I expect to use this in my future work, thanks to your Question. \r\n\r\nLet&#39;s exercise that code.\r\n\r\n```java\r\nfor ( NamedIdentity namedIdentity : NamedIdentity.values() )\r\n{\r\n    System.out.println( &quot;---------------------&quot; );\r\n    System.out.println( &quot;enum name: &quot; + namedIdentity.name() );\r\n    System.out.println( &quot;id: &quot; + namedIdentity.performer.id() );\r\n    System.out.println( &quot;nickname: &quot; + namedIdentity.performer.nickname() );\r\n}\r\nSystem.out.println( &quot;---------------------&quot; );\r\n\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\n---------------------\r\nenum name: JOHN\r\nid: 1\r\nnickname: John the Slayer\r\n---------------------\r\nenum name: JILL\r\nid: 2\r\nnickname: Jill the Archeress\r\n---------------------\r\n```\r\n\r\n# Declare locally\r\n\r\nFYI, now in Java 16+, we can declare enums, records, and interfaces locally. This came about as part of the work done to create the records feature. See [*JEP 395: Records*][3].\r\n\r\nSo enums, records, and interfaces can be declared at any of three levels:\r\n\r\n - In their own `.java.` file.\r\n - Nested within a class.\r\n - Locally, within a method. \r\n\r\nI mention this in passing, not directly relevant to this Question.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html\r\n  [3]: https://openjdk.java.net/jeps/395\r\n  [4]: https://stackoverflow.com/questions/65995692/why-cant-enum-and-record-be-combined/65998549#comment116684242_65995692\r\n  [5]: https://en.wikipedia.org/wiki/Immutable_object","title":"Why can&#39;t enum and record be combined?","body":"<h1>tl;dr</h1>\n<ul>\n<li>Technical limitation: Multiple inheritance prevents mixing <code>Enum</code> with <code>Record</code> superclasses.</li>\n<li>Workaround: Keep a <code>record</code> as member field of your enum</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>NamedIdentity.JILL.detail.nickname()  // ➣ &quot;Jill the Archeress&quot;\n</code></pre>\n<h1>Multiple inheritance</h1>\n<p>You asked:</p>\n<blockquote>\n<p>is there a reason that enum records don't exist?</p>\n</blockquote>\n<p>The technical reason is that in Java, every enum is implicitly a subclass of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code></a> class while every record is implicitly a subclass of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\"><code>Record</code></a> class.</p>\n<p>Java does not support multiple inheritance. So the two cannot be combined.</p>\n<h1>Semantics</h1>\n<p>But more important is the semantics.</p>\n<p>An enum is for declaring at compile time a limited set of named instances. Each of the enum objects is instantiated when the enum class loads. At runtime, we cannot instantiate any more objects of that class (well, maybe with extreme reflection/introspection code, but I’ll ignore that).</p>\n<p>A record in Java is not automatically instantiated. Your code instantiated as many objects of that class as you want, by calling <code>new</code>. So not at all the same.</p>\n<h1>Boilerplate reduction is <em>not</em> the goal of <code>record</code></h1>\n<p>You said:</p>\n<blockquote>\n<p>I thought that Java 14's record keyword would have saved me the boilerplate code</p>\n</blockquote>\n<p>You misunderstand the purpose of <code>record</code> feature. I suggest you read <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a>, and watch the latest presentation by Brian Goetz on the subject.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/65995692/why-cant-enum-and-record-be-combined/65998549#comment116684242_65995692\">commented by Johannes Kuhn</a>, the goal of <code>record</code> is <em>not</em> to reduce boilerplate. Such reduction is a pleasant side-effect, but is not the reason for the invention of <code>record</code>.</p>\n<p>A record is meant to be a “nominal tuple” in formal terms.</p>\n<ul>\n<li><em>Tuple</em> means a collection of values of various types laid out in a certain order, or as Wikipedia says: “finite ordered list (sequence) of elements”.</li>\n<li><em>Nominal</em> means the elements each have a name.</li>\n</ul>\n<p>A record is meant to be a simple and <strong>transparent data carrier</strong>. <em>Transparent</em> means all its member fields are exposed. It’s getter methods are simply named the same as the field, without using the <code>get…</code> convention of JavaBeans. The default implantation of <code>hashCode</code> and <code>equals</code> is to inspect each and every member field. The intention for a record is to focus on the data being carried, not behavior (methods).</p>\n<p>Furthermore, a record is meant to be <strong>shallowly immutable</strong>. <em>Immutable</em> means you cannot change the primitive values, nor can you change the object references, in an instance of a record. The objects within a record instance may be mutable themselves, which is what we mean by <em>shallowly</em>. But values of the record’s own fields, either primitive values or object references, cannot be changed. You cannot re-assign a substitute object as one of the record’s member fields.</p>\n<ul>\n<li>When you have a limited set of instances known at compile time, use <code>enum</code>.</li>\n<li>When you are writing a class whose primary job is to immutably and transparently carry a group of data fields, use <code>record</code>.</li>\n</ul>\n<h1>Worthy question</h1>\n<p>I can see where the two concepts could intersect, where at compile time we know of a limited set of immutable transparent collections of named values. So your question is valid, but not because of boilerplate reduction. <a href=\"https://stackoverflow.com/questions/65995692/why-cant-enum-and-record-be-combined/65998549#comment124302508_65995692\">Brian Goetz said</a> the Java team did indeed consider this idea.</p>\n<h1>Workaround: Store a <code>record</code> on your <code>enum</code></h1>\n<p>The workaround is quite simple: <strong>Keep a <code>record</code> instance on your enum.</strong></p>\n<p>You could pass a record to your enum constructor, and store that record as a member field on the enum definition.</p>\n<p>Make the member field <code>final</code>. That makes our enum <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a>. So, no need to mark private, and no need to add a getter method.</p>\n<p>First, the <code>record</code> definition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic record Performer(int id , String nickname)\n{\n}\n</code></pre>\n<p>Next, we pass an instance of <code>record</code> to the enum constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic enum NamedIdentity\n{\n    JOHN( new Performer( 1 , &quot;John the Slayer&quot; ) ),\n    JILL( new Performer( 2 , &quot;Jill the Archeress&quot; ) );\n\n    final Performer performer;\n\n    NamedIdentity ( final Performer performer ) { this.performer = performer; }\n}\n</code></pre>\n<p>If the <code>record</code> only makes sense within the context of the enum, we can nest the two together rather than have separate <code>.java</code> files. The <code>record</code> feature was built with nesting in mind, and works well there.</p>\n<p>Naming the nested <code>record</code> might be tricky in some cases. I imagine something like <code>Detail</code> might do as a plain generic label if no better name is obvious.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic enum NamedIdentity\n{\n    JOHN( new Performer( 1 , &quot;John the Slayer&quot; ) ),\n    JILL( new Performer( 2 , &quot;Jill the Archeress&quot; ) );\n\n    final Performer performer;\n\n    NamedIdentity ( final Performer performer ) { this.performer = performer; }\n\n    public record Performer(int id , String nickname) {}\n}\n</code></pre>\n<p>To my mind, this workaround is a solid solution. We get clarity in the code with the bonus of reducing boilerplate. I like this as a general replacement for keeping a bunch of data fields on the enum, as using a <code>record</code> makes the intention explicit and obvious. I expect to use this in my future work, thanks to your Question.</p>\n<p>Let's exercise that code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( NamedIdentity namedIdentity : NamedIdentity.values() )\n{\n    System.out.println( &quot;---------------------&quot; );\n    System.out.println( &quot;enum name: &quot; + namedIdentity.name() );\n    System.out.println( &quot;id: &quot; + namedIdentity.performer.id() );\n    System.out.println( &quot;nickname: &quot; + namedIdentity.performer.nickname() );\n}\nSystem.out.println( &quot;---------------------&quot; );\n\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>---------------------\nenum name: JOHN\nid: 1\nnickname: John the Slayer\n---------------------\nenum name: JILL\nid: 2\nnickname: Jill the Archeress\n---------------------\n</code></pre>\n<h1>Declare locally</h1>\n<p>FYI, now in Java 16+, we can declare enums, records, and interfaces locally. This came about as part of the work done to create the records feature. See <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\"><em>JEP 395: Records</em></a>.</p>\n<p>So enums, records, and interfaces can be declared at any of three levels:</p>\n<ul>\n<li>In their own <code>.java.</code> file.</li>\n<li>Nested within a class.</li>\n<li>Locally, within a method.</li>\n</ul>\n<p>I mention this in passing, not directly relevant to this Question.</p>\n"},{"tags":[],"owner":{"account_id":25842014,"reputation":1,"user_id":19577426,"display_name":"Рагимов Рафшан"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658215611,"creation_date":1658215611,"answer_id":73032747,"question_id":65995692,"body_markdown":"Why don&#39;t you connect Lombok? The extra code that you want to remove will disappear with the annotations @AllArgsConstructor and @Getters","title":"Why can&#39;t enum and record be combined?","body":"<p>Why don't you connect Lombok? The extra code that you want to remove will disappear with the annotations @AllArgsConstructor and @Getters</p>\n"}],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5655,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":65998549,"answer_count":2,"score":20,"last_activity_date":1685820815,"creation_date":1612194320,"question_id":65995692,"body_markdown":"Recently I was just creating another enum type. I took advantage of the fact that in Java, an enum is a special type of class (and not a [named integer constant][1], like in C#). I made it with two fields, an all-arg constructor and getters for both fields.\r\n\r\nThis is an example:\r\n\r\n```java\r\nenum NamedIdentity {\r\n\r\n    JOHN(1, &quot;John the Slayer&quot;),\r\n    JILL(2, &quot;Jill the Archeress&quot;);\r\n\r\n    int id;\r\n    String nickname;\r\n\r\n    NamedIdentity(int id, String nickname) {\r\n        this.id = id;\r\n        this.nickname = nickname;\r\n    }\r\n\r\n    id id() {\r\n        return this.id;\r\n    }\r\n\r\n    String nickname() {\r\n        return this.nickname;\r\n    }\r\n}\r\n```\r\n\r\nThen I thought that Java 14&#39;s `record` keyword would have saved me the boilerplate code that this feature [was trying to save][2] me. This, as far as I know, doesn&#39;t combine with `enum`s. If *enum record*s would have existed, the abovementioned code would then look like this:\r\n\r\n```java\r\nenum record NamedIdentity(int id, String nickname) {\r\n    JOHN(1, &quot;John the Slayer&quot;),\r\n    JILL(2, &quot;Jill the Archeress&quot;);\r\n}\r\n```\r\n\r\nMy question is: is there a reason that *enum records* don&#39;t exist? I could imagine several reasons, including, but not limited to:\r\n\r\n* The number of use-cases for this feature would be too small, the Java language would benefit more if we, as Java language designers, designed and implemented other features.\r\n* This is hard to implement, due to the internal implementation of the enum type.\r\n* We, as Java language designers, simply didn&#39;t think about this, or we have not received such a request from the community yet, so we didn&#39;t prioritize it.\r\n* This feature would have semantical issues, or the implementation of this feature could cause semantic ambiguity or otherwise confusion.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum\r\n  [2]: https://openjdk.java.net/jeps/359","title":"Why can&#39;t enum and record be combined?","body":"<p>Recently I was just creating another enum type. I took advantage of the fact that in Java, an enum is a special type of class (and not a <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum\" rel=\"noreferrer\">named integer constant</a>, like in C#). I made it with two fields, an all-arg constructor and getters for both fields.</p>\n<p>This is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum NamedIdentity {\n\n    JOHN(1, &quot;John the Slayer&quot;),\n    JILL(2, &quot;Jill the Archeress&quot;);\n\n    int id;\n    String nickname;\n\n    NamedIdentity(int id, String nickname) {\n        this.id = id;\n        this.nickname = nickname;\n    }\n\n    id id() {\n        return this.id;\n    }\n\n    String nickname() {\n        return this.nickname;\n    }\n}\n</code></pre>\n<p>Then I thought that Java 14's <code>record</code> keyword would have saved me the boilerplate code that this feature <a href=\"https://openjdk.java.net/jeps/359\" rel=\"noreferrer\">was trying to save</a> me. This, as far as I know, doesn't combine with <code>enum</code>s. If <em>enum record</em>s would have existed, the abovementioned code would then look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum record NamedIdentity(int id, String nickname) {\n    JOHN(1, &quot;John the Slayer&quot;),\n    JILL(2, &quot;Jill the Archeress&quot;);\n}\n</code></pre>\n<p>My question is: is there a reason that <em>enum records</em> don't exist? I could imagine several reasons, including, but not limited to:</p>\n<ul>\n<li>The number of use-cases for this feature would be too small, the Java language would benefit more if we, as Java language designers, designed and implemented other features.</li>\n<li>This is hard to implement, due to the internal implementation of the enum type.</li>\n<li>We, as Java language designers, simply didn't think about this, or we have not received such a request from the community yet, so we didn't prioritize it.</li>\n<li>This feature would have semantical issues, or the implementation of this feature could cause semantic ambiguity or otherwise confusion.</li>\n</ul>\n"},{"tags":["java","class","types","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1682427644,"post_id":76100008,"comment_id":134210809,"body_markdown":"`public final class Class&lt;T&gt; implements java.io.Serializable, GenericDeclaration, Type, ...`","body":"<code>public final class Class&lt;T&gt; implements java.io.Serializable, GenericDeclaration, Type, ...</code>"}],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685819298,"creation_date":1685625318,"answer_id":76382297,"question_id":76100008,"body_markdown":"`Type` is a more generic concept, of which `Class` is just one kind. Meaning `Class` is a `Type` (`extends Type`), but there are other kinds of `Type`s as well.\r\n\r\nFor example, `ParameterizedType` is a `Type`, but not a `Class`, as there is no `Class` instance representing a generic type (i.e. `List&lt;String&gt;.class` isn&#39;t valid Java). For example `List` is a `Class`, and `String` is a class, but `List&lt;String&gt;` is a `ParameterizedType`, with a `Class` (representing `List`) as its raw type, and another `Class` (representing `String`) as its (only) type parameter.  \r\nIt can of course be more complicated, `ParameterizedType` for `Map&lt;String, List&lt;String&gt;`, has a `Class` (`Map`) as its raw type, 2 type parameters, of which one is a `Class` (`String`), while the other is another `ParameterizedType`, with its own raw type and type parameters.\r\n\r\nThere are other subtypes of `Type`, like type variables — the `T` in `List&lt;T&gt;`, wildcards — the `?` in `List&lt;?&gt;` etc.\r\n\r\nSo a `Type` is the common super interface for all sorts of types in the Java type system - classes, generic types, wildcards, type variables... Types, as exemplified, can be nested hierarchically, forming a tree, and `Class` is a type that is the leaf of such a tree.\r\n\r\nHere&#39;s the type hierarchy visualized (the boxes under `Class` aren&#39;t real subtypes, but logically belong there, so it&#39;s a good mental model):\r\n\r\n[![Type hierarchy][1]][1]\r\n\r\nAlso note that `Type`s other than `Class` can only be obtained by reflectively inspecting the _signatures_ of fields and methods, not object _instances_, as the Java compiler erases generics there. The only thing you can get from an instance is its `Class` (e.g. `listOfStrings.getClass()`), all other type info on the instance is lost.\r\n\r\nIt may also be interesting to point out that since Java 8, there is also the `AnnotatedType` hierarchy, that mirrors the `Type` hierarchy, but models types with annotations, e.g. the _annotated_ parameter type of `List&lt;@Positive Integer&gt;` is an `AnnotatedType` representing `@Positive Integer`, which is a different from e.g. `@Negative Integer` or just `Integer`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dC0f2.png","title":"What is the difference between the metaclass Type and the metaclass Class in Java?","body":"<p><code>Type</code> is a more generic concept, of which <code>Class</code> is just one kind. Meaning <code>Class</code> is a <code>Type</code> (<code>extends Type</code>), but there are other kinds of <code>Type</code>s as well.</p>\n<p>For example, <code>ParameterizedType</code> is a <code>Type</code>, but not a <code>Class</code>, as there is no <code>Class</code> instance representing a generic type (i.e. <code>List&lt;String&gt;.class</code> isn't valid Java). For example <code>List</code> is a <code>Class</code>, and <code>String</code> is a class, but <code>List&lt;String&gt;</code> is a <code>ParameterizedType</code>, with a <code>Class</code> (representing <code>List</code>) as its raw type, and another <code>Class</code> (representing <code>String</code>) as its (only) type parameter.<br />\nIt can of course be more complicated, <code>ParameterizedType</code> for <code>Map&lt;String, List&lt;String&gt;</code>, has a <code>Class</code> (<code>Map</code>) as its raw type, 2 type parameters, of which one is a <code>Class</code> (<code>String</code>), while the other is another <code>ParameterizedType</code>, with its own raw type and type parameters.</p>\n<p>There are other subtypes of <code>Type</code>, like type variables — the <code>T</code> in <code>List&lt;T&gt;</code>, wildcards — the <code>?</code> in <code>List&lt;?&gt;</code> etc.</p>\n<p>So a <code>Type</code> is the common super interface for all sorts of types in the Java type system - classes, generic types, wildcards, type variables... Types, as exemplified, can be nested hierarchically, forming a tree, and <code>Class</code> is a type that is the leaf of such a tree.</p>\n<p>Here's the type hierarchy visualized (the boxes under <code>Class</code> aren't real subtypes, but logically belong there, so it's a good mental model):</p>\n<p><a href=\"https://i.stack.imgur.com/dC0f2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dC0f2.png\" alt=\"Type hierarchy\" /></a></p>\n<p>Also note that <code>Type</code>s other than <code>Class</code> can only be obtained by reflectively inspecting the <em>signatures</em> of fields and methods, not object <em>instances</em>, as the Java compiler erases generics there. The only thing you can get from an instance is its <code>Class</code> (e.g. <code>listOfStrings.getClass()</code>), all other type info on the instance is lost.</p>\n<p>It may also be interesting to point out that since Java 8, there is also the <code>AnnotatedType</code> hierarchy, that mirrors the <code>Type</code> hierarchy, but models types with annotations, e.g. the <em>annotated</em> parameter type of <code>List&lt;@Positive Integer&gt;</code> is an <code>AnnotatedType</code> representing <code>@Positive Integer</code>, which is a different from e.g. <code>@Negative Integer</code> or just <code>Integer</code>.</p>\n"}],"owner":{"account_id":18318699,"reputation":325,"user_id":13339955,"display_name":"Kim Mens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76382297,"answer_count":1,"score":2,"last_activity_date":1685819298,"creation_date":1682417509,"question_id":76100008,"body_markdown":"What is the difference between the metaclass `Type` and the metaclass `Class` in Java?\r\nWhen should I be using one or the other when programming with reflection?\r\n\r\nInstances of the class `Class` represent classes and interfaces in a running Java application, but also reify arrays and primitive types.\r\n\r\nI know that as of Java 1.5  the reflection API of was extended to deal with generic arrays, parameterized types, type variables, ... and so on. I assume that is the main and only purpose of the `Type` metaclass?\r\n\r\nIs there a reason the distinction between `Type` and `Class` is still kept in the language design other than backward compatibility reasons?","title":"What is the difference between the metaclass Type and the metaclass Class in Java?","body":"<p>What is the difference between the metaclass <code>Type</code> and the metaclass <code>Class</code> in Java?\nWhen should I be using one or the other when programming with reflection?</p>\n<p>Instances of the class <code>Class</code> represent classes and interfaces in a running Java application, but also reify arrays and primitive types.</p>\n<p>I know that as of Java 1.5  the reflection API of was extended to deal with generic arrays, parameterized types, type variables, ... and so on. I assume that is the main and only purpose of the <code>Type</code> metaclass?</p>\n<p>Is there a reason the distinction between <code>Type</code> and <code>Class</code> is still kept in the language design other than backward compatibility reasons?</p>\n"},{"tags":["java","kotlin","twitter4j"],"answers":[{"tags":[],"owner":{"account_id":5219088,"reputation":93,"user_id":4173087,"display_name":"Hoax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685815913,"creation_date":1685790983,"answer_id":76395796,"question_id":76065882,"body_markdown":"I faced the same problem and then switched over to the new Twitter API.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.twitter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;twitter-api-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHere is an example\r\n\r\n    public TwitterService(@Value(value = &quot;${is.local.dev}&quot;) final boolean localDevelopment,\r\n                          @Value(value = &quot;${twitter.bearerToken}&quot;) final String bearerToken) {\r\n        this.localDevelopment = localDevelopment;\r\n        TwitterCredentialsBearer credentials = new TwitterCredentialsBearer(bearerToken);\r\n        this.twitterApi = new TwitterApi(credentials);\r\n    }\r\n\r\nAs the Spring bean is a singleton it should be sufficient to build it inside the constructor (happens once)\r\n\r\n    try {\r\n                TweetsApi.APIcreateTweetRequest tweet = getTwitterApi().tweets().createTweet(new TweetCreateRequest().text(what));\r\n                ApiResponse&lt;TweetCreateResponse&gt; response = tweet.executeWithHttpInfo();\r\n                if (response.getStatusCode() != 200) {\r\n                    log.error(&quot;Could not tweet. Error code: {}, reason: {}&quot;, response.getStatusCode(), response.getData());\r\n                }\r\n                log.debug(&quot;Tweet created&quot;);\r\n            } catch (ApiException e) {\r\n                log.error(&quot;Failed to create a tweet&quot;, e);\r\n            }\r\n\r\nEdit:\r\n\r\nIf you only want to post tweets and dont need the convenience of the Twitter SDK, there is an easier approach using OAuth1 - because the Bearer token cannot be used for all endpoints plus the OAuth2 is kind of frustrating. Especially because the Twitter V2 documentation is as bad as it could actually be. So bad explained and so weird implemented imho. SO in case you only want to tweet automatically, you can use this class to generate your Authentication:\r\n\r\n[Auth Generator][1]\r\n\r\nAnd then just use it like this:\r\n\r\n        public void tweet(String what) {\r\n\r\n        TwitterOAuthGenerator authGenerator = new TwitterOAuthGenerator(apiKey, apiKeySecret, accessToken, accessTokenSecret);\r\n        String header = authGenerator.generateHeader(&quot;POST&quot;, TWEET_URL, Collections.emptyMap());\r\n\r\n        HttpResponse&lt;String&gt; response = Unirest.post(TWEET_URL)\r\n                .header(&quot;Authorization&quot;, header)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .body(&quot;{\\&quot;text\\&quot;:\\&quot;&quot; + what + &quot;\\&quot;}&quot;)\r\n                .asString();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59765764/4173087","title":"How can I add twitter v2 Kotlin library to my maven java code?","body":"<p>I faced the same problem and then switched over to the new Twitter API.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.twitter&lt;/groupId&gt;\n        &lt;artifactId&gt;twitter-api-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Here is an example</p>\n<pre><code>public TwitterService(@Value(value = &quot;${is.local.dev}&quot;) final boolean localDevelopment,\n                      @Value(value = &quot;${twitter.bearerToken}&quot;) final String bearerToken) {\n    this.localDevelopment = localDevelopment;\n    TwitterCredentialsBearer credentials = new TwitterCredentialsBearer(bearerToken);\n    this.twitterApi = new TwitterApi(credentials);\n}\n</code></pre>\n<p>As the Spring bean is a singleton it should be sufficient to build it inside the constructor (happens once)</p>\n<pre><code>try {\n            TweetsApi.APIcreateTweetRequest tweet = getTwitterApi().tweets().createTweet(new TweetCreateRequest().text(what));\n            ApiResponse&lt;TweetCreateResponse&gt; response = tweet.executeWithHttpInfo();\n            if (response.getStatusCode() != 200) {\n                log.error(&quot;Could not tweet. Error code: {}, reason: {}&quot;, response.getStatusCode(), response.getData());\n            }\n            log.debug(&quot;Tweet created&quot;);\n        } catch (ApiException e) {\n            log.error(&quot;Failed to create a tweet&quot;, e);\n        }\n</code></pre>\n<p>Edit:</p>\n<p>If you only want to post tweets and dont need the convenience of the Twitter SDK, there is an easier approach using OAuth1 - because the Bearer token cannot be used for all endpoints plus the OAuth2 is kind of frustrating. Especially because the Twitter V2 documentation is as bad as it could actually be. So bad explained and so weird implemented imho. SO in case you only want to tweet automatically, you can use this class to generate your Authentication:</p>\n<p><a href=\"https://stackoverflow.com/a/59765764/4173087\">Auth Generator</a></p>\n<p>And then just use it like this:</p>\n<pre><code>    public void tweet(String what) {\n\n    TwitterOAuthGenerator authGenerator = new TwitterOAuthGenerator(apiKey, apiKeySecret, accessToken, accessTokenSecret);\n    String header = authGenerator.generateHeader(&quot;POST&quot;, TWEET_URL, Collections.emptyMap());\n\n    HttpResponse&lt;String&gt; response = Unirest.post(TWEET_URL)\n            .header(&quot;Authorization&quot;, header)\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .body(&quot;{\\&quot;text\\&quot;:\\&quot;&quot; + what + &quot;\\&quot;}&quot;)\n            .asString();\n}\n</code></pre>\n"}],"owner":{"account_id":423105,"reputation":17225,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685815913,"creation_date":1682004869,"question_id":76065882,"body_markdown":"I am using twitter4j for accessing the v1 of twitter API. As some of you know, v1 is getting deleted/deprecated by 4/29/2023. \r\n\r\nFor v2 twitter API, I found I need to add the v2 twitter4j wrapper to my project to use the v2 APIs. https://github.com/takke/twitter4j-v2\r\n\r\nI thought it&#39;d be simply adding the depecency to my pom, but not so. It&#39;s written in Kotlin. I added the dependency and it compiles just fine, I can see the .class files of the lib, but when I tried to import, it&#39;s not found. \r\n\r\nI do see this message when I do clean install:\r\n\r\n&gt; [WARNING] No sources found skipping Kotlin compile\r\n\r\nI am using intellij. Is there a setting I need to change?\r\n\r\nThis is snippet of my pom:\r\n\r\n&gt; &lt;dependency&gt;\r\n            &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.takke&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jp.takke.twitter4j-v2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis is probably rookie mistake I&#39;m making since I never worked with Kotlin before.","title":"How can I add twitter v2 Kotlin library to my maven java code?","body":"<p>I am using twitter4j for accessing the v1 of twitter API. As some of you know, v1 is getting deleted/deprecated by 4/29/2023.</p>\n<p>For v2 twitter API, I found I need to add the v2 twitter4j wrapper to my project to use the v2 APIs. <a href=\"https://github.com/takke/twitter4j-v2\" rel=\"nofollow noreferrer\">https://github.com/takke/twitter4j-v2</a></p>\n<p>I thought it'd be simply adding the depecency to my pom, but not so. It's written in Kotlin. I added the dependency and it compiles just fine, I can see the .class files of the lib, but when I tried to import, it's not found.</p>\n<p>I do see this message when I do clean install:</p>\n<blockquote>\n<p>[WARNING] No sources found skipping Kotlin compile</p>\n</blockquote>\n<p>I am using intellij. Is there a setting I need to change?</p>\n<p>This is snippet of my pom:</p>\n<blockquote>\n\n</blockquote>\n<pre><code>        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.takke&lt;/groupId&gt;\n        &lt;artifactId&gt;jp.takke.twitter4j-v2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This is probably rookie mistake I'm making since I never worked with Kotlin before.</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1685795392,"post_id":76396095,"comment_id":134712988,"body_markdown":"Yes, it is possible.","body":"Yes, it is possible."},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1685795461,"post_id":76396095,"comment_id":134712999,"body_markdown":"Can you pls suggest some sample code @Turing85","body":"Can you pls suggest some sample code @Turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685795753,"post_id":76396095,"comment_id":134713023,"body_markdown":"No code nedessary, just some classpath configuration.","body":"No code nedessary, just some classpath configuration."},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1685795866,"post_id":76396095,"comment_id":134713034,"body_markdown":"But code is giving error, saying B is not present","body":"But code is giving error, saying B is not present"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1685795949,"post_id":76396095,"comment_id":134713043,"body_markdown":"***What*** code is giving an error, and what specific error are you seeing? Please update your question with real code real error messages and with adequate details to make it easier to answer and more helpful to future visitors.","body":"<b><i>What</i></b> code is giving an error, and what specific error are you seeing? Please update your question with real code real error messages and with adequate details to make it easier to answer and more helpful to future visitors."},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1685796393,"post_id":76396095,"comment_id":134713088,"body_markdown":"Updated @Turing85, can you suggest now","body":"Updated @Turing85, can you suggest now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685796552,"post_id":76396095,"comment_id":134713107,"body_markdown":"*Nothing* is updated as far as posting your [errors](https://technojeeves.com/index.php/aliasjava1/17-errors) is concerned","body":"<i>Nothing</i> is updated as far as posting your <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">errors</a> is concerned"},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1685796925,"post_id":76396095,"comment_id":134713169,"body_markdown":"What else has to be updated, I am facing an error, i have posted the query with the error","body":"What else has to be updated, I am facing an error, i have posted the query with the error"},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1685801793,"post_id":76396095,"comment_id":134713647,"body_markdown":"Thanks @user16320675, but I have added the clazz package in the classpath &#39;path&#39; in env variables. What should I change in the code?","body":"Thanks @user16320675, but I have added the clazz package in the classpath &#39;path&#39; in env variables. What should I change in the code?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685802491,"post_id":76396095,"comment_id":134713720,"body_markdown":"You shouldn&#39;t be using env variables for anything to do with the classpath. In fact, since you&#39;re using an IDE, you shouldn&#39;t be bothering about your classpath at all. So get rid of that. The only thing you need to do is to make sure you&#39;re importing `B` correctly into `A`. `import foo.bar.B;` You need to know what the *real* `foo.bar` is and you can find that out by running `javap B.class` at the command line. It will tell you what package `B` is in","body":"You shouldn&#39;t be using env variables for anything to do with the classpath. In fact, since you&#39;re using an IDE, you shouldn&#39;t be bothering about your classpath at all. So get rid of that. The only thing you need to do is to make sure you&#39;re importing <code>B</code> correctly into <code>A</code>. <code>import foo.bar.B;</code> You need to know what the <i>real</i> <code>foo.bar</code> is and you can find that out by running <code>javap B.class</code> at the command line. It will tell you what package <code>B</code> is in"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685808509,"post_id":76396095,"comment_id":134714315,"body_markdown":"Actually that&#39;s not necessary, though normal. What is essential is that the package be known and imported correctly","body":"Actually that&#39;s not necessary, though normal. What is essential is that the package be known and imported correctly"},{"owner":{"account_id":10702171,"reputation":522,"user_id":7877117,"display_name":"tnsaturday"},"score":1,"creation_date":1685932652,"post_id":76396095,"comment_id":134725119,"body_markdown":"Please [do not post code as pictures](https://meta.stackoverflow.com/a/285557/7877117)","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/7877117\">do not post code as pictures</a>"},{"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"score":0,"creation_date":1685954698,"post_id":76396095,"comment_id":134727585,"body_markdown":"@user16320675 As you can see both A.java and B.class are in same package i.e `clazz`\nI also tried to import in A.java like import `clazz.B`","body":"@user16320675 As you can see both A.java and B.class are in same package i.e <code>clazz</code> I also tried to import in A.java like import <code>clazz.B</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685954960,"post_id":76396095,"comment_id":134727633,"body_markdown":"*As you can see both A.java and B.class are in same package* You can&#39;t. They are in the same *directory*, which might not be the same thing. I told you above how to make sure what the *actual* package is","body":"<i>As you can see both A.java and B.class are in same package</i> You can&#39;t. They are in the same <i>directory</i>, which might not be the same thing. I told you above how to make sure what the <i>actual</i> package is"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685815551,"creation_date":1685815551,"answer_id":76397379,"question_id":76396095,"body_markdown":"It appears you&#39;re using _IntelliJ_, or _Android Studio_.  \r\nIf you open _B.class_, it should attempt to decompile it, and provide the source code.\r\n\r\nNevertheless, the file will need to be in the _out_ folder.  \r\nThere is an orange colored icon next to it, it&#39;s just above _src_ and below _.idea_.\r\n\r\nYou can _right-click_ on _B.class_ to display the _context menu_.  \r\nFrom there, select _Refactor_, and then _Move File..._.\r\n\r\nChange the path to the _out_ directory.","title":"Is it possible to use other java code in my java application without source code?","body":"<p>It appears you're using <em>IntelliJ</em>, or <em>Android Studio</em>.<br />\nIf you open <em>B.class</em>, it should attempt to decompile it, and provide the source code.</p>\n<p>Nevertheless, the file will need to be in the <em>out</em> folder.<br />\nThere is an orange colored icon next to it, it's just above <em>src</em> and below <em>.idea</em>.</p>\n<p>You can <em>right-click</em> on <em>B.class</em> to display the <em>context menu</em>.<br />\nFrom there, select <em>Refactor</em>, and then <em>Move File...</em>.</p>\n<p>Change the path to the <em>out</em> directory.</p>\n"}],"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1685815551,"creation_date":1685795342,"question_id":76396095,"body_markdown":"I have a B.class file, and i am writing a class A.java which needs to use methods of B.class.\r\n\r\nIs it possible? Cause B is a .class file, i don&#39;t have any source code .java file.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W75Gj.jpg","title":"Is it possible to use other java code in my java application without source code?","body":"<p>I have a B.class file, and i am writing a class A.java which needs to use methods of B.class.</p>\n<p>Is it possible? Cause B is a .class file, i don't have any source code .java file.<a href=\"https://i.stack.imgur.com/W75Gj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W75Gj.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","for-loop","lambda","stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685815289,"creation_date":1685815289,"answer_id":76397354,"question_id":76397324,"body_markdown":"You can use `Stream.generate` and `.limit`.\r\n\r\n```java\r\nreturn Stream.generate(() -&gt; functionB()).limit(count).toList();\r\n```","title":"java streams executed a method limited number of times","body":"<p>You can use <code>Stream.generate</code> and <code>.limit</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Stream.generate(() -&gt; functionB()).limit(count).toList();\n</code></pre>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685815289,"creation_date":1685814980,"question_id":76397324,"body_markdown":"I am writing a code in old style as follows :\r\n\r\n     public List&lt;Long&gt; generateSequenceList(final int count) {\r\n            List&lt;Long&gt; sequenceList = new ArrayList&lt;&gt;(count);\r\n            for (int i =0; i &lt;count; i++) {\r\n                sequenceList.add(functionB());\r\n            }\r\n            return sequenceList;\r\n        }\r\n\r\nIn this method i am calling a function for count  no of times and adding result in list.\r\n\r\nI wanted to write it via streams example where in using streams but i am not able to get the appropriate method in streams. \r\n\r\nare such cases not supported by streams?\r\n\r\nPlease suggest.\r\n\r\n","title":"java streams executed a method limited number of times","body":"<p>I am writing a code in old style as follows :</p>\n<pre><code> public List&lt;Long&gt; generateSequenceList(final int count) {\n        List&lt;Long&gt; sequenceList = new ArrayList&lt;&gt;(count);\n        for (int i =0; i &lt;count; i++) {\n            sequenceList.add(functionB());\n        }\n        return sequenceList;\n    }\n</code></pre>\n<p>In this method i am calling a function for count  no of times and adding result in list.</p>\n<p>I wanted to write it via streams example where in using streams but i am not able to get the appropriate method in streams.</p>\n<p>are such cases not supported by streams?</p>\n<p>Please suggest.</p>\n"},{"tags":["java","migration","build.gradle","micronaut","graalvm"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1676146049,"post_id":75410070,"comment_id":133080391,"body_markdown":"https://github.com/micronaut-projects/micronaut-core/issues/8160 may help","body":"<a href=\"https://github.com/micronaut-projects/micronaut-core/issues/8160\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/8160</a> may help"}],"answers":[{"tags":[],"owner":{"account_id":333454,"reputation":660,"user_id":659341,"accept_rate":40,"display_name":"Reynaldo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676274381,"creation_date":1676274381,"answer_id":75433079,"question_id":75410070,"body_markdown":"Fixed it. Seems like GraalVM publishes updates that must be used in lockstep with older minor versions. I guess it&#39;s a way to keep native classes compatible.\r\n\r\nIn my case, the older native image, gradle and code base setup was using ol8-java11-22.1.0 and I updated it all to ol8-java17-23.2.1, the latest available. This broke the build.\r\n\r\nHowever, GraalVM also publishes ol8-java17-22.1.0 which matches the older minor versions. This worked without any issues, built successfully.","title":"GraalVM native image build `nativeCompile` task fails on Gradle after migrating from Java11 to Java17","body":"<p>Fixed it. Seems like GraalVM publishes updates that must be used in lockstep with older minor versions. I guess it's a way to keep native classes compatible.</p>\n<p>In my case, the older native image, gradle and code base setup was using ol8-java11-22.1.0 and I updated it all to ol8-java17-23.2.1, the latest available. This broke the build.</p>\n<p>However, GraalVM also publishes ol8-java17-22.1.0 which matches the older minor versions. This worked without any issues, built successfully.</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685814927,"creation_date":1685814927,"answer_id":76397321,"question_id":75410070,"body_markdown":"I build the native image using the `native-image` command directly instead of through the gradle plugin. I ran into this issue when upgrading graalvm from `22.1.0` to `22.3.2`. Adding the argument, `-J--add-exports=org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk=ALL-UNNAMED`, to the native-image command fixed it.","title":"GraalVM native image build `nativeCompile` task fails on Gradle after migrating from Java11 to Java17","body":"<p>I build the native image using the <code>native-image</code> command directly instead of through the gradle plugin. I ran into this issue when upgrading graalvm from <code>22.1.0</code> to <code>22.3.2</code>. Adding the argument, <code>-J--add-exports=org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk=ALL-UNNAMED</code>, to the native-image command fixed it.</p>\n"}],"owner":{"account_id":333454,"reputation":660,"user_id":659341,"accept_rate":40,"display_name":"Reynaldo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685814927,"creation_date":1676026174,"question_id":75410070,"body_markdown":"In summary, after migrating Gradle properties (source/target) and native GraalVM image from Java11 to Java17, the build task fails on Gradle. \r\n\r\nThis is a micronaut Java service and without giving away any proprietary codebase details, I&#39;m sharing the following portion of my Gradle&#39;s output of the failed &#39;nativeCompile&#39; task:\r\n```\r\n[1/7] Initializing...                                                                                    (8.0s @ 0.36GB)\r\n Version info: &#39;GraalVM 22.3.1 Java 17 CE&#39;\r\n Java version info: &#39;17.0.6+10-jvmci-22.3-b13&#39;\r\n C compiler: gcc (redhat, aarch64, 8.5.0)\r\n Garbage collector: Serial GC\r\n 6 user-specific feature(s)\r\n - com.oracle.svm.thirdparty.gson.GsonFeature\r\n - io.micronaut.buffer.netty.NettyFeature\r\n - io.micronaut.configuration.kafka.graal.ChecksumFeature\r\n - io.micronaut.grpc.server.graalvm.HttpNettyFeature\r\n - io.micronaut.http.netty.graal.HttpNettyFeature\r\n - io.micronaut.jackson.JacksonDatabindFeature\r\n\r\nFatal error: ------------------------------------------------------------------------------------------------------------------------\r\n                        0.5s (5.9% of total time) in 12 GCs | Peak RSS: 1.26GB | CPU load: 2.25\r\n========================================================================================================================\r\njava.lang.IllegalAccessError: class io.micronaut.grpc.server.graalvm.HttpNettyFeature (in unnamed module @0x128ca7af) cannot access class com.oracle.svm.core.jdk.SystemPropertiesSupport (in module org.graalvm.nativeimage.builder) because module org.graalvm.nativeimage.builder does not export com.oracle.svm.core.jdk to unnamed module @0x128ca7af\r\n        at io.micronaut.grpc.server.graalvm.HttpNettyFeature.beforeAnalysis(HttpNettyFeature.java:84)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$9(NativeImageGenerator.java:736)\r\nFailed generating &#39;application&#39; after 8.2s.\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.FeatureHandler.forEachFeature(FeatureHandler.java:85)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.runPointsToAnalysis(NativeImageGenerator.java:736)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:578)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:535)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:403)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:580)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:128)\r\nError: Image build request failed with exit status 1\r\n\r\n&gt; Task :nativeCompile FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:nativeCompile&#39;.\r\n&gt; Process &#39;command &#39;/opt/graalvm-ce-java17-22.3.1/bin/native-image&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nI have no experience with GraalVM (this is legacy, and am running the `nativeCompile` inside a container that was created like this:\r\n```\r\ndocker run -it --entrypoint /bin/bash \\\r\n --mount type=bind,source=&lt;path to service source code&gt;,target=/app \\\r\n --mount type=bind,source=&lt;path to home&gt;.gradle,target=/root/.gradle \\\r\n ghcr.io/graalvm/graalvm-ce:ol8-java17-22.3.1\r\n```\r\n\r\nOn this container, the env details are as follows:\r\n```\r\nbash-4.4# ./gradlew --version\r\n\r\n------------------------------------------------------------\r\nGradle 7.6\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-11-25 13:35:10 UTC\r\nRevision:     daece9dbc5b79370cc8e4fd6fe4b2cd400e150a8\r\n\r\nKotlin:       1.7.10\r\nGroovy:       3.0.13\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.6 (GraalVM Community 17.0.6+10-jvmci-22.3-b13)\r\nOS:           Linux 5.15.49-linuxkit aarch64\r\n``` \r\n\r\nI have little idea of what to pursue here, would like to know if there is a native dependency that is outdated. I know I haven&#39;t posted my `build.gradle` nut hopefully someone can give me some pointers so far. ","title":"GraalVM native image build `nativeCompile` task fails on Gradle after migrating from Java11 to Java17","body":"<p>In summary, after migrating Gradle properties (source/target) and native GraalVM image from Java11 to Java17, the build task fails on Gradle.</p>\n<p>This is a micronaut Java service and without giving away any proprietary codebase details, I'm sharing the following portion of my Gradle's output of the failed 'nativeCompile' task:</p>\n<pre><code>[1/7] Initializing...                                                                                    (8.0s @ 0.36GB)\n Version info: 'GraalVM 22.3.1 Java 17 CE'\n Java version info: '17.0.6+10-jvmci-22.3-b13'\n C compiler: gcc (redhat, aarch64, 8.5.0)\n Garbage collector: Serial GC\n 6 user-specific feature(s)\n - com.oracle.svm.thirdparty.gson.GsonFeature\n - io.micronaut.buffer.netty.NettyFeature\n - io.micronaut.configuration.kafka.graal.ChecksumFeature\n - io.micronaut.grpc.server.graalvm.HttpNettyFeature\n - io.micronaut.http.netty.graal.HttpNettyFeature\n - io.micronaut.jackson.JacksonDatabindFeature\n\nFatal error: ------------------------------------------------------------------------------------------------------------------------\n                        0.5s (5.9% of total time) in 12 GCs | Peak RSS: 1.26GB | CPU load: 2.25\n========================================================================================================================\njava.lang.IllegalAccessError: class io.micronaut.grpc.server.graalvm.HttpNettyFeature (in unnamed module @0x128ca7af) cannot access class com.oracle.svm.core.jdk.SystemPropertiesSupport (in module org.graalvm.nativeimage.builder) because module org.graalvm.nativeimage.builder does not export com.oracle.svm.core.jdk to unnamed module @0x128ca7af\n        at io.micronaut.grpc.server.graalvm.HttpNettyFeature.beforeAnalysis(HttpNettyFeature.java:84)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.lambda$runPointsToAnalysis$9(NativeImageGenerator.java:736)\nFailed generating 'application' after 8.2s.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.FeatureHandler.forEachFeature(FeatureHandler.java:85)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.runPointsToAnalysis(NativeImageGenerator.java:736)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:578)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:535)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:403)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:580)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:128)\nError: Image build request failed with exit status 1\n\n&gt; Task :nativeCompile FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':nativeCompile'.\n&gt; Process 'command '/opt/graalvm-ce-java17-22.3.1/bin/native-image'' finished with non-zero exit value 1\n</code></pre>\n<p>I have no experience with GraalVM (this is legacy, and am running the <code>nativeCompile</code> inside a container that was created like this:</p>\n<pre><code>docker run -it --entrypoint /bin/bash \\\n --mount type=bind,source=&lt;path to service source code&gt;,target=/app \\\n --mount type=bind,source=&lt;path to home&gt;.gradle,target=/root/.gradle \\\n ghcr.io/graalvm/graalvm-ce:ol8-java17-22.3.1\n</code></pre>\n<p>On this container, the env details are as follows:</p>\n<pre><code>bash-4.4# ./gradlew --version\n\n------------------------------------------------------------\nGradle 7.6\n------------------------------------------------------------\n\nBuild time:   2022-11-25 13:35:10 UTC\nRevision:     daece9dbc5b79370cc8e4fd6fe4b2cd400e150a8\n\nKotlin:       1.7.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.6 (GraalVM Community 17.0.6+10-jvmci-22.3-b13)\nOS:           Linux 5.15.49-linuxkit aarch64\n</code></pre>\n<p>I have little idea of what to pursue here, would like to know if there is a native dependency that is outdated. I know I haven't posted my <code>build.gradle</code> nut hopefully someone can give me some pointers so far.</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1685794942,"post_id":76396046,"comment_id":134712934,"body_markdown":"What error does the *compiler* give you *before* you try to run the code?","body":"What error does the <i>compiler</i> give you <i>before</i> you try to run the code?"},{"owner":{"account_id":28743443,"reputation":1,"user_id":22013110,"display_name":"abc abd"},"score":0,"creation_date":1685795169,"post_id":76396046,"comment_id":134712962,"body_markdown":"if you mean by errors before running as the syntax errors, it shows none","body":"if you mean by errors before running as the syntax errors, it shows none"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1685795255,"post_id":76396046,"comment_id":134712973,"body_markdown":"I don&#39;t see any obvious compilation errors myself. Try re-compiling or re-building and running it again.","body":"I don&#39;t see any obvious compilation errors myself. Try re-compiling or re-building and running it again."},{"owner":{"account_id":28743443,"reputation":1,"user_id":22013110,"display_name":"abc abd"},"score":0,"creation_date":1685795510,"post_id":76396046,"comment_id":134713006,"body_markdown":"I tried doing this and creating a new file and running the code in it too but it is not working.","body":"I tried doing this and creating a new file and running the code in it too but it is not working."},{"owner":{"account_id":28743443,"reputation":1,"user_id":22013110,"display_name":"abc abd"},"score":0,"creation_date":1685795724,"post_id":76396046,"comment_id":134713019,"body_markdown":"The files that I have created before are running without any error. So I think the problem is in this code.","body":"The files that I have created before are running without any error. So I think the problem is in this code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685796408,"post_id":76396046,"comment_id":134713090,"body_markdown":"There&#39;s nothing wrong with the code you posted","body":"There&#39;s nothing wrong with the code you posted"},{"owner":{"account_id":28743443,"reputation":1,"user_id":22013110,"display_name":"abc abd"},"score":0,"creation_date":1685796613,"post_id":76396046,"comment_id":134713119,"body_markdown":"Then there was the problem that it is a “non-project file”, but this problem is shown in other files too but they are running.","body":"Then there was the problem that it is a “non-project file”, but this problem is shown in other files too but they are running."},{"owner":{"account_id":28720712,"reputation":87,"user_id":21994504,"display_name":"Cortard"},"score":0,"creation_date":1685799132,"post_id":76396046,"comment_id":134713387,"body_markdown":"What IDE do you use ?","body":"What IDE do you use ?"},{"owner":{"account_id":28743443,"reputation":1,"user_id":22013110,"display_name":"abc abd"},"score":0,"creation_date":1685803284,"post_id":76396046,"comment_id":134713791,"body_markdown":"VS Code. ‎ ‎ ‎ ‎","body":"VS Code. ‎ ‎ ‎ ‎"}],"answers":[{"tags":[],"owner":{"account_id":20104740,"reputation":11,"user_id":14742525,"display_name":"Adam Pawelczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685808309,"creation_date":1685808309,"answer_id":76396867,"question_id":76396046,"body_markdown":"Looking at your code, I don&#39;t see any obvious syntax errors. However, I noticed that you have the class name defined as Ex1 but the file name is ex1.java. In Java, the class name and the file name should match exactly (case-sensitive). Make sure that the file name is Ex1.java to match the class name","title":"What&#39;s causing a &#39;java.lang.Error: Unresolved compilation problem&#39; in my Java code for calculating an average?","body":"<p>Looking at your code, I don't see any obvious syntax errors. However, I noticed that you have the class name defined as Ex1 but the file name is ex1.java. In Java, the class name and the file name should match exactly (case-sensitive). Make sure that the file name is Ex1.java to match the class name</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685814882,"creation_date":1685814882,"answer_id":76397314,"question_id":76396046,"body_markdown":"The name of your _class_ and the name of the _file_ must match case.  \r\n_[Lesson: The &quot;Hello World!&quot; Application (The Java&amp;trade; Tutorials &amp;gt; Getting Started)](https://docs.oracle.com/javase/tutorial/getStarted/cupojava/index.html)_.\r\n\r\n&gt; _&quot;HelloWorldApp is not the same as helloworldapp&quot;_\r\n\r\nSo, if you&#39;re class is _Ex1_, the file must also be _Ex1_, not _ex1_.","title":"What&#39;s causing a &#39;java.lang.Error: Unresolved compilation problem&#39; in my Java code for calculating an average?","body":"<p>The name of your <em>class</em> and the name of the <em>file</em> must match case.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/getStarted/cupojava/index.html\" rel=\"nofollow noreferrer\">Lesson: The &quot;Hello World!&quot; Application (The Java™ Tutorials &gt; Getting Started)</a></em>.</p>\n<blockquote>\n<p><em>&quot;HelloWorldApp is not the same as helloworldapp&quot;</em></p>\n</blockquote>\n<p>So, if you're class is <em>Ex1</em>, the file must also be <em>Ex1</em>, not <em>ex1</em>.</p>\n"}],"owner":{"account_id":28743443,"reputation":1,"user_id":22013110,"display_name":"abc abd"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685814882,"creation_date":1685794637,"question_id":76396046,"body_markdown":"I am new to Java\r\ncan&#39;t find what the problem in the code.\r\njust learnt about functions in Java and the question now asked to create a function to print the average.\r\n\r\n    import java.util.*;\r\n\r\n    public class Ex1 {\r\n            // 1. enter 3 numbers and print average\r\n            public static int printAverage(int a, int b, int c) {\r\n                int av = (a + b + c) / 3;\r\n                return av;\r\n            }\r\n\r\n        public static void main(String args[]) {\r\n            Scanner s = new Scanner(System.in);\r\n            int a = s.nextInt();\r\n            int b = s.nextInt();\r\n            int c = s.nextInt();\r\n            System.out.println(printAverage(a, b, c));\r\n\r\n        }\r\n     }\r\n\r\n\r\nThis is the code,\r\n\r\n`Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:\r\n\r\n        at Ex1.main(ex1.java:10)\r\n`\r\nthis the error\r\n\r\nI searched about the error\r\n– The Class or Module Is Not Imported\r\n– Using Non-existent Classes\r\n– A Syntax Error Resulting in Exception in Thread “main” java.lang.error: Unresolved Compilation Problem:\r\n– A Typographical Error\r\nthese were the possible errors, I can&#39;t identify in mine","title":"What&#39;s causing a &#39;java.lang.Error: Unresolved compilation problem&#39; in my Java code for calculating an average?","body":"<p>I am new to Java\ncan't find what the problem in the code.\njust learnt about functions in Java and the question now asked to create a function to print the average.</p>\n<pre><code>import java.util.*;\n\npublic class Ex1 {\n        // 1. enter 3 numbers and print average\n        public static int printAverage(int a, int b, int c) {\n            int av = (a + b + c) / 3;\n            return av;\n        }\n\n    public static void main(String args[]) {\n        Scanner s = new Scanner(System.in);\n        int a = s.nextInt();\n        int b = s.nextInt();\n        int c = s.nextInt();\n        System.out.println(printAverage(a, b, c));\n\n    }\n }\n</code></pre>\n<p>This is the code,</p>\n<p>`Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:</p>\n<pre><code>    at Ex1.main(ex1.java:10)\n</code></pre>\n<p>`\nthis the error</p>\n<p>I searched about the error\n– The Class or Module Is Not Imported\n– Using Non-existent Classes\n– A Syntax Error Resulting in Exception in Thread “main” java.lang.error: Unresolved Compilation Problem:\n– A Typographical Error\nthese were the possible errors, I can't identify in mine</p>\n"},{"tags":["java","spring-boot","jpa"],"owner":{"account_id":28347937,"reputation":1,"user_id":21679821,"display_name":"Cane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685812965,"creation_date":1685812965,"question_id":76397181,"body_markdown":"I tried deleting shelf from user but there is still a reference in the database to it and i cannot resolve it. \r\n\r\nthis is relevant code from delete controller\r\n\r\n```\r\ntry {\r\n    user.removeShelf(user.getShelfById(id));\r\n    userService.save(user);\r\n    session.setAttribute(&quot;user&quot;,user);\r\n    shelfService.deleteShelf(id);\r\n    return new ResponseEntity&lt;&gt;(&quot;Shelf deleted successfully&quot;, HttpStatus.OK);\r\n} catch (NoSuchElementException e) {\r\n    return new ResponseEntity&lt;&gt;(&quot;Shelf not found&quot;, HttpStatus.NOT_FOUND);\r\n} catch (Exception e) {\r\n    return new ResponseEntity&lt;&gt;(&quot;An error occurred while deleting the shelf&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n```\r\n\r\nThis is relevant code from user class, shelf doesn&#39;t have an reference to user\r\n\r\n\r\n```\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\npublic class User implements Serializable {\r\n\r\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    protected Set&lt;Shelf&gt; shelfs = new HashSet&lt;&gt;();\r\n\r\n public Shelf removeShelf(Shelf shelf){\r\n        shelfs.remove(shelf);\r\n        return shelf;\r\n    }\r\n}\r\n```\r\nerror from console \r\n```\r\n2023-06-03T19:10:50.988+02:00  WARN 53638 --- [nio-9090-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23503, SQLState: 23503\r\n2023-06-03T19:10:50.988+02:00 ERROR 53638 --- [nio-9090-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Referential integrity constraint violation: &quot;FKGKO5TAM0R5I1GNWVA98XBX9XK: PUBLIC.USER_APLICATION_SHELFS FOREIGN KEY(SHELFS_ID) REFERENCES PUBLIC.SHELF(ID) (CAST(7 AS BIGINT))&quot;; SQL statement:\r\ndelete from shelf where id=? [23503-214]\r\n2023-06-03T19:10:50.988+02:00  INFO 53638 --- [nio-9090-exec-4] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n```\r\n\r\nIt works when you create a whole new shelf and then change it, but that doesn&#39;t seem like, a proper solution","title":"Why am I getting a referential integrity constraint violation when trying to delete a shelf from a user in Spring Boot with H2 database?","body":"<p>I tried deleting shelf from user but there is still a reference in the database to it and i cannot resolve it.</p>\n<p>this is relevant code from delete controller</p>\n<pre><code>try {\n    user.removeShelf(user.getShelfById(id));\n    userService.save(user);\n    session.setAttribute(&quot;user&quot;,user);\n    shelfService.deleteShelf(id);\n    return new ResponseEntity&lt;&gt;(&quot;Shelf deleted successfully&quot;, HttpStatus.OK);\n} catch (NoSuchElementException e) {\n    return new ResponseEntity&lt;&gt;(&quot;Shelf not found&quot;, HttpStatus.NOT_FOUND);\n} catch (Exception e) {\n    return new ResponseEntity&lt;&gt;(&quot;An error occurred while deleting the shelf&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n</code></pre>\n<p>This is relevant code from user class, shelf doesn't have an reference to user</p>\n<pre><code>@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic class User implements Serializable {\n\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    protected Set&lt;Shelf&gt; shelfs = new HashSet&lt;&gt;();\n\n public Shelf removeShelf(Shelf shelf){\n        shelfs.remove(shelf);\n        return shelf;\n    }\n}\n</code></pre>\n<p>error from console</p>\n<pre><code>2023-06-03T19:10:50.988+02:00  WARN 53638 --- [nio-9090-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23503, SQLState: 23503\n2023-06-03T19:10:50.988+02:00 ERROR 53638 --- [nio-9090-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Referential integrity constraint violation: &quot;FKGKO5TAM0R5I1GNWVA98XBX9XK: PUBLIC.USER_APLICATION_SHELFS FOREIGN KEY(SHELFS_ID) REFERENCES PUBLIC.SHELF(ID) (CAST(7 AS BIGINT))&quot;; SQL statement:\ndelete from shelf where id=? [23503-214]\n2023-06-03T19:10:50.988+02:00  INFO 53638 --- [nio-9090-exec-4] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n</code></pre>\n<p>It works when you create a whole new shelf and then change it, but that doesn't seem like, a proper solution</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1685728667,"post_id":76391046,"comment_id":134707008,"body_markdown":"Your `@PostMapping` method needs two things: the argument needs to be annotated with `@RequestBody`, and the `@PostMapping` annotation needs to specify that it consumes `application/json`.","body":"Your <code>@PostMapping</code> method needs two things: the argument needs to be annotated with <code>@RequestBody</code>, and the <code>@PostMapping</code> annotation needs to specify that it consumes <code>application&#47;json</code>."},{"owner":{"account_id":28737346,"reputation":1,"user_id":22008177,"display_name":"JOSHUA MCBRATNIE"},"score":0,"creation_date":1685729690,"post_id":76391046,"comment_id":134707218,"body_markdown":"yeah thanks i just saw that when re running the code made a few changes and was about to update the issue. so i was able to get my code with a array list and set up to add 4 new columns but that still limits what i am trying to do is there a way to not specify how many objects the array list can contain? so it keeps making a new array item?.","body":"yeah thanks i just saw that when re running the code made a few changes and was about to update the issue. so i was able to get my code with a array list and set up to add 4 new columns but that still limits what i am trying to do is there a way to not specify how many objects the array list can contain? so it keeps making a new array item?."},{"owner":{"account_id":28737346,"reputation":1,"user_id":22008177,"display_name":"JOSHUA MCBRATNIE"},"score":0,"creation_date":1685730306,"post_id":76391046,"comment_id":134707332,"body_markdown":"I think i have fixed my issue with the array list as i can keep adding new objects to the list array. if anyone else knows of a better way please feel free to post and let me know.","body":"I think i have fixed my issue with the array list as i can keep adding new objects to the list array. if anyone else knows of a better way please feel free to post and let me know."}],"owner":{"account_id":28737346,"reputation":1,"user_id":22008177,"display_name":"JOSHUA MCBRATNIE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685812422,"creation_date":1685716019,"question_id":76391046,"body_markdown":"i am looking to use springboot to make a java rest app to consume table data in a json format from postman. each table might be a different length of columns and I am looking to make it modular. what i have so far in my java app is the controller, table DTO  and a row DTO (Data transfer object) if i could be shown what would be the best way and maybe an explanation of how the data is being consumed that would help. this is my first time working with springboot and post man. \r\n\r\n\r\n```\r\npackage com.example.restservice.controller;\r\n\r\nimport com.example.restservice.*;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\n@RestController\r\npublic class TableCollectionController {\r\n\r\n\r\n\r\n    @GetMapping(&quot;/getTable&quot;)\r\n    public Table table(){\r\n        Table table = new Table();\r\n        table.setTableName(&quot;Name&quot;);\r\n        table.setAction(&quot;Action&quot;);\r\n\r\n        List columns = new ArrayList();\r\n        Column column = new Column();\r\n        column.setName(&quot;Name&quot;);\r\n        column.setValue(&quot;Value&quot;);\r\n        columns.add(column);\r\n        columns.add(column);\r\n        columns.add(column);\r\n        columns.add(column);\r\n        table.setColumns(columns);\r\n        return table;\r\n        \r\n    }\r\n    @PostMapping(&quot;/postTable&quot;)\r\n    public Table table(@RequestBody Table table1){\r\n        System.out.println(table1.getTableName());\r\n        System.out.println(table1.getAction());\r\n        System.out.println(table1.getColumns());\r\n        return table1;\r\n    }\r\n    \r\n```\r\n\r\na table class\r\n\r\n\r\n```\r\npackage com.example.restservice;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Table {\r\n\r\n     String tableName;\r\n     String action;\r\n     List columns; //object list\r\n\r\n\r\n}\r\n```\r\n\r\nand a row class \r\n\r\n\r\n```\r\npackage com.example.restservice;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Row {\r\n\r\n    public String name;\r\n\r\n    public String value;\r\n\r\n\r\n}\r\n```\r\nall i know is that i will be getting json data in the format below i know a little java but am still pretty new. \r\n\r\n```\r\n{\r\n\t&quot;tablename&quot;: &quot;tablesName&quot;,\r\n\t&quot;action&quot;: &quot;ADD&quot;,\r\n\t&quot;data&quot;: [\r\n\t\t{\r\n\t\t\t&quot;columnName&quot;: &quot;column1&quot;,\r\n\t\t\t&quot;Value&quot;: &quot;valueName&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;columnName&quot;: &quot;column2&quot;,\r\n\t\t\t&quot;Value&quot;: &quot;123-1ad-4bc&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;columnName&quot;: &quot;column3&quot;,\r\n\t\t\t&quot;Value&quot;: &quot;valueName&quot;\r\n\t\t},\r\n\t\tetc....\r\n\t]\r\n}\r\n```\r\n\r\n\r\n\r\nso far what i have tried is developing an app that has allowed me to use postman to get a json and update the data in json which works but only as a single column item. if i try to duplicated the items column name and value it gives me an error that they are duplicated and no immediate fix. \r\n\r\n--update-- was able to add more items using an array and when i complete a post and add more json objects to the columns it does add more items","title":"How can I consume table data in JSON format from Postman with a modular Spring Boot application?","body":"<p>i am looking to use springboot to make a java rest app to consume table data in a json format from postman. each table might be a different length of columns and I am looking to make it modular. what i have so far in my java app is the controller, table DTO  and a row DTO (Data transfer object) if i could be shown what would be the best way and maybe an explanation of how the data is being consumed that would help. this is my first time working with springboot and post man.</p>\n<pre><code>package com.example.restservice.controller;\n\nimport com.example.restservice.*;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.concurrent.atomic.AtomicLong;\n\n@RestController\npublic class TableCollectionController {\n\n\n\n    @GetMapping(&quot;/getTable&quot;)\n    public Table table(){\n        Table table = new Table();\n        table.setTableName(&quot;Name&quot;);\n        table.setAction(&quot;Action&quot;);\n\n        List columns = new ArrayList();\n        Column column = new Column();\n        column.setName(&quot;Name&quot;);\n        column.setValue(&quot;Value&quot;);\n        columns.add(column);\n        columns.add(column);\n        columns.add(column);\n        columns.add(column);\n        table.setColumns(columns);\n        return table;\n        \n    }\n    @PostMapping(&quot;/postTable&quot;)\n    public Table table(@RequestBody Table table1){\n        System.out.println(table1.getTableName());\n        System.out.println(table1.getAction());\n        System.out.println(table1.getColumns());\n        return table1;\n    }\n    \n</code></pre>\n<p>a table class</p>\n<pre><code>package com.example.restservice;\n\nimport lombok.Data;\n\n@Data\npublic class Table {\n\n     String tableName;\n     String action;\n     List columns; //object list\n\n\n}\n</code></pre>\n<p>and a row class</p>\n<pre><code>package com.example.restservice;\n\nimport lombok.Data;\n\n@Data\npublic class Row {\n\n    public String name;\n\n    public String value;\n\n\n}\n</code></pre>\n<p>all i know is that i will be getting json data in the format below i know a little java but am still pretty new.</p>\n<pre><code>{\n    &quot;tablename&quot;: &quot;tablesName&quot;,\n    &quot;action&quot;: &quot;ADD&quot;,\n    &quot;data&quot;: [\n        {\n            &quot;columnName&quot;: &quot;column1&quot;,\n            &quot;Value&quot;: &quot;valueName&quot;\n        },\n        {\n            &quot;columnName&quot;: &quot;column2&quot;,\n            &quot;Value&quot;: &quot;123-1ad-4bc&quot;\n        },\n        {\n            &quot;columnName&quot;: &quot;column3&quot;,\n            &quot;Value&quot;: &quot;valueName&quot;\n        },\n        etc....\n    ]\n}\n</code></pre>\n<p>so far what i have tried is developing an app that has allowed me to use postman to get a json and update the data in json which works but only as a single column item. if i try to duplicated the items column name and value it gives me an error that they are duplicated and no immediate fix.</p>\n<p>--update-- was able to add more items using an array and when i complete a post and add more json objects to the columns it does add more items</p>\n"},{"tags":["java","spring-boot","google-drive-api","google-developers-console","google-drive-shared-drive"],"answers":[{"tags":[],"owner":{"account_id":27411378,"reputation":41,"user_id":20911236,"display_name":"zesbr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673154763,"creation_date":1672663456,"answer_id":74982580,"question_id":74098767,"body_markdown":"Try setting the [`sendNotificationEmail`][1] to `false` when creating file permissions. This solved it for me allthough I am not quite sure what caused the error in the first place. Could have something to do with the service account&#39;s settings but I am just guessing. According to [documentation][2] the error can happen for several reasons but does not explicitly mention a solution for this specific message. \r\n\r\nHopefully this will help you!\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/reference/permissions/create#sendNotificationEmail\r\n  [2]: https://developers.google.com/drive/api/guides/handle-errors#resolve_a_400_error_invalid_sharing_request","title":"Getting &quot;You can not share this item because it has been flagged as inappropriate&quot; while creating permissions for a file from a Google Service Account","body":"<p>Try setting the <a href=\"https://developers.google.com/drive/api/v3/reference/permissions/create#sendNotificationEmail\" rel=\"nofollow noreferrer\"><code>sendNotificationEmail</code></a> to <code>false</code> when creating file permissions. This solved it for me allthough I am not quite sure what caused the error in the first place. Could have something to do with the service account's settings but I am just guessing. According to <a href=\"https://developers.google.com/drive/api/guides/handle-errors#resolve_a_400_error_invalid_sharing_request\" rel=\"nofollow noreferrer\">documentation</a> the error can happen for several reasons but does not explicitly mention a solution for this specific message.</p>\n<p>Hopefully this will help you!</p>\n"},{"tags":[],"owner":{"account_id":15595759,"reputation":1,"user_id":11251348,"display_name":"S. M. FARAH AL FAHIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685811991,"creation_date":1685811991,"answer_id":76397122,"question_id":74098767,"body_markdown":"Before clicking the &quot;send&quot; button, you might try unchecking the &quot;Notify people&quot; button. \r\n\r\nBy default, the &quot;Notify people&quot; button remains checked. You can uncheck the button and try.\r\nIt worked for me. ","title":"Getting &quot;You can not share this item because it has been flagged as inappropriate&quot; while creating permissions for a file from a Google Service Account","body":"<p>Before clicking the &quot;send&quot; button, you might try unchecking the &quot;Notify people&quot; button.</p>\n<p>By default, the &quot;Notify people&quot; button remains checked. You can uncheck the button and try.\nIt worked for me.</p>\n"}],"owner":{"account_id":26649616,"reputation":21,"user_id":20264111,"display_name":"Ankur Jangra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3725,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685811991,"creation_date":1666016569,"question_id":74098767,"body_markdown":"I&#39;m uploading a file to Google Drive using a Google Service Account. File is getting uploaded successfully.\r\nBut I need to share it with some stakeholders. So, while adding permissions to it, i&#39;m getting this error: **&quot;message&quot;: &quot;Bad Request. User message: \\&quot;You cannot share this item because it has been flagged as inappropriate.\\&quot;**\r\n\r\nMy code snippets are:\r\n\r\n    // create and return credential\r\n\tprivate static Credential getCredentials2() throws IOException {\r\n\t    \r\n\t\tjava.io.File serviceAccountCredsFile = new java.io.File(&quot;creds.json&quot;);\r\n\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tGoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(serviceAccountCredsFile))\r\n                .createScoped(SCOPES);\r\n\t\t\r\n\t    return credential;\r\n\t}\r\n\r\n    // build and return an authorized drive client service\r\n\tpublic static List&lt;File&gt; getDriveService() throws Exception {\r\n\t    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n\r\n\t    // Instantiating a client\r\n\t    Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials2())\r\n\t                .setApplicationName(APPLICATION_NAME)\r\n\t                .build();\r\n\t    \r\n\t    System.out.println(&quot;Successfully created the Drive service!!!!!!!!!!!!!!!!!!!!&quot;);\r\n\r\n\t    \r\n\t    /***************************Uploading file on Google Drive Start*********************************/\r\n\t    File fileMetadata = new File();\r\n\t    fileMetadata.setName(&quot;1stFile.csv&quot;);\r\n\t    fileMetadata.setParents(Collections.singletonList(&quot;10Tt3rfkaeHr1JOUQYRPTfqQQ2jdDJcy&quot;)); \r\n\t    fileMetadata.setDescription(&quot;Testing upload&quot;);\r\n\t    fileMetadata.setMimeType(&quot;application/csv&quot;);\t    \r\n\t    \r\n\t    java.io.File fileTobeUploaded = new java.io.File(&quot;custid.csv&quot;);\r\n\t    \r\n\t    FileInputStream inputStream = new FileInputStream(fileTobeUploaded);\r\n\t    InputStreamContent mediaContent = new InputStreamContent(&quot;application/csv&quot;, inputStream);\r\n\r\n\t    try {\r\n\t      File uploadedFile = service.files().create(fileMetadata, mediaContent)\r\n\t                                .setSupportsAllDrives(true) \r\n\t                                .execute();\r\n    com.google.api.services.drive.model.Permission newPermission = new com.google.api.services.drive.model.Permission() ;\r\n\t      newPermission.setType(&quot;user&quot;);\r\n\t      newPermission.setRole(&quot;writer&quot;);\r\n\t      newPermission.setEmailAddress(&quot;xyz@xyz.com&quot;);\r\n\t    \t\r\n\t      service.permissions().create(createdFileId, newPermission)\r\n                    .setSupportsAllDrives(true)\r\n                    .execute();\t\r\n\r\nAfter the execution of &#39;service.permissions().create()&#39;, i&#39;m getting below error:\r\n\r\n400 Bad Request\r\nPOST https://www.googleapis.com/drive/v3/files/16-wFWifo0HNZW6W1lujJiT1HO-1wLbK/permissions?supportsAllDrives=true\r\n{\r\n  &quot;code&quot;: 400,\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;domain&quot;: &quot;global&quot;,\r\n      &quot;message&quot;: &quot;Bad Request. User message: \\&quot;You cannot share this item because it has been flagged as inappropriate.\\&quot;&quot;,\r\n      &quot;reason&quot;: &quot;invalidSharingRequest&quot;\r\n    }\r\n  ],\r\n  &quot;message&quot;: &quot;Bad Request. User message: \\&quot;You cannot share this item because it has been flagged as inappropriate.\\&quot;&quot;\r\n}\r\n\r\nReally need inputs in this. Thanks in advance!","title":"Getting &quot;You can not share this item because it has been flagged as inappropriate&quot; while creating permissions for a file from a Google Service Account","body":"<p>I'm uploading a file to Google Drive using a Google Service Account. File is getting uploaded successfully.\nBut I need to share it with some stakeholders. So, while adding permissions to it, i'm getting this error: <strong>&quot;message&quot;: &quot;Bad Request. User message: &quot;You cannot share this item because it has been flagged as inappropriate.&quot;</strong></p>\n<p>My code snippets are:</p>\n<pre><code>// create and return credential\nprivate static Credential getCredentials2() throws IOException {\n    \n    java.io.File serviceAccountCredsFile = new java.io.File(&quot;creds.json&quot;);\n    @SuppressWarnings(&quot;deprecation&quot;)\n    GoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(serviceAccountCredsFile))\n            .createScoped(SCOPES);\n    \n    return credential;\n}\n\n// build and return an authorized drive client service\npublic static List&lt;File&gt; getDriveService() throws Exception {\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n\n    // Instantiating a client\n    Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials2())\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n    \n    System.out.println(&quot;Successfully created the Drive service!!!!!!!!!!!!!!!!!!!!&quot;);\n\n    \n    /***************************Uploading file on Google Drive Start*********************************/\n    File fileMetadata = new File();\n    fileMetadata.setName(&quot;1stFile.csv&quot;);\n    fileMetadata.setParents(Collections.singletonList(&quot;10Tt3rfkaeHr1JOUQYRPTfqQQ2jdDJcy&quot;)); \n    fileMetadata.setDescription(&quot;Testing upload&quot;);\n    fileMetadata.setMimeType(&quot;application/csv&quot;);        \n    \n    java.io.File fileTobeUploaded = new java.io.File(&quot;custid.csv&quot;);\n    \n    FileInputStream inputStream = new FileInputStream(fileTobeUploaded);\n    InputStreamContent mediaContent = new InputStreamContent(&quot;application/csv&quot;, inputStream);\n\n    try {\n      File uploadedFile = service.files().create(fileMetadata, mediaContent)\n                                .setSupportsAllDrives(true) \n                                .execute();\ncom.google.api.services.drive.model.Permission newPermission = new com.google.api.services.drive.model.Permission() ;\n      newPermission.setType(&quot;user&quot;);\n      newPermission.setRole(&quot;writer&quot;);\n      newPermission.setEmailAddress(&quot;xyz@xyz.com&quot;);\n        \n      service.permissions().create(createdFileId, newPermission)\n                .setSupportsAllDrives(true)\n                .execute(); \n</code></pre>\n<p>After the execution of 'service.permissions().create()', i'm getting below error:</p>\n<p>400 Bad Request\nPOST <a href=\"https://www.googleapis.com/drive/v3/files/16-wFWifo0HNZW6W1lujJiT1HO-1wLbK/permissions?supportsAllDrives=true\" rel=\"nofollow noreferrer\">https://www.googleapis.com/drive/v3/files/16-wFWifo0HNZW6W1lujJiT1HO-1wLbK/permissions?supportsAllDrives=true</a>\n{\n&quot;code&quot;: 400,\n&quot;errors&quot;: [\n{\n&quot;domain&quot;: &quot;global&quot;,\n&quot;message&quot;: &quot;Bad Request. User message: &quot;You cannot share this item because it has been flagged as inappropriate.&quot;&quot;,\n&quot;reason&quot;: &quot;invalidSharingRequest&quot;\n}\n],\n&quot;message&quot;: &quot;Bad Request. User message: &quot;You cannot share this item because it has been flagged as inappropriate.&quot;&quot;\n}</p>\n<p>Really need inputs in this. Thanks in advance!</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3949068,"reputation":33,"user_id":14440586,"display_name":"KareemAhmed"},"score":0,"creation_date":1616872891,"post_id":21727573,"comment_id":118145668,"body_markdown":"I have know that i was forgetting **@Repository** in the repo","body":"I have know that i was forgetting <b>@Repository</b> in the repo"}],"answers":[{"tags":[],"owner":{"account_id":1191016,"reputation":3319,"user_id":1163804,"accept_rate":75,"display_name":"Toilal"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1398231292,"creation_date":1398231292,"answer_id":23235574,"question_id":21727573,"body_markdown":"Hibernate tries to insert data that violate underlying database integrity contraints.\r\n\r\nThere&#39;s probably misconfiguration in hibernate persistent classes and/or mapping configuration (*.hbm.xml or annotations in persitent classes).\r\n\r\nMaybe a property of the bean you want to save is not type-compatible with its related field in database (could explain the ```constraint [numbering]``` part).","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>Hibernate tries to insert data that violate underlying database integrity contraints.</p>\n\n<p>There's probably misconfiguration in hibernate persistent classes and/or mapping configuration (*.hbm.xml or annotations in persitent classes).</p>\n\n<p>Maybe a property of the bean you want to save is not type-compatible with its related field in database (could explain the <code>constraint [numbering]</code> part).</p>\n"},{"tags":[],"owner":{"account_id":6066788,"reputation":411,"user_id":4736791,"display_name":"Mariuszy"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1435111954,"creation_date":1435111954,"answer_id":31016456,"question_id":21727573,"body_markdown":"In my case, this happens when I try to save an object in hibernate or other orm-mapping with null property which can not be null in database table.\r\nThis happens when you try to save an object, but the save action doesn&#39;t comply with the contraints of the table.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>In my case, this happens when I try to save an object in hibernate or other orm-mapping with null property which can not be null in database table.\nThis happens when you try to save an object, but the save action doesn't comply with the contraints of the table.</p>\n"},{"tags":[],"owner":{"account_id":8485168,"reputation":677,"user_id":6363596,"accept_rate":70,"display_name":"Shailesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478146067,"creation_date":1478146067,"answer_id":40393724,"question_id":21727573,"body_markdown":"In my case, I was fetching data from database, changing some column values and updating it in database but for updating I was using the same save query which was violating primary key constraints i.e duplicate values for primary key, so I had written a separate query for updating the columns and it solved my problem..!","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>In my case, I was fetching data from database, changing some column values and updating it in database but for updating I was using the same save query which was violating primary key constraints i.e duplicate values for primary key, so I had written a separate query for updating the columns and it solved my problem..!</p>\n"},{"tags":[],"owner":{"account_id":8491166,"reputation":43,"user_id":6367443,"display_name":"Saeed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539774244,"creation_date":1525396293,"answer_id":50165770,"question_id":21727573,"body_markdown":"In my case, I had a OneToOne relation which I was using with `@Column` by mistake. I changed it to `@JoinColumn` and added `@OneToOne` annotation and it fixed the exception.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>In my case, I had a OneToOne relation which I was using with <code>@Column</code> by mistake. I changed it to <code>@JoinColumn</code> and added <code>@OneToOne</code> annotation and it fixed the exception.</p>\n"},{"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546797500,"creation_date":1546797500,"answer_id":54064374,"question_id":21727573,"body_markdown":"Overall:You persist entity that is violating database rules like as saving entity that has varchar field over 250 chars ,something like that.\r\n\r\nIn my case it was a squishy problem with TestEntityManager ,because it use HSQL database /in memory database/ and it persist the user but when you try to find it ,it drops the same exception :/\r\n    \r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(classes= Application.class)\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class UserServicesTests {\r\n\r\n    @Autowired\r\n    private TestEntityManager testEntityManager;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    public void oops() {\r\n        User user = new User();\r\n        user.setUsername(&quot;Toshko&quot;);\r\n        //EMAIL IS REQUIRED:\r\n        //user.setEmail(&quot;OPS&quot;);\r\n        this.testEntityManager.persist(user);\r\n\r\n        //HERE COMES TE EXCEPTION BECAUSE THE EMAIL FIELD IN TE DATABASE IS REQUIRED :\r\n        this.userRepository.findUserByUsername(&quot;Toshko&quot;);\r\n\r\n        System.out.println();\r\n    }\r\n    }","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>Overall:You persist entity that is violating database rules like as saving entity that has varchar field over 250 chars ,something like that.</p>\n\n<p>In my case it was a squishy problem with TestEntityManager ,because it use HSQL database /in memory database/ and it persist the user but when you try to find it ,it drops the same exception :/</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(classes= Application.class)\n@DataJpaTest\n@ActiveProfiles(\"test\")\npublic class UserServicesTests {\n\n@Autowired\nprivate TestEntityManager testEntityManager;\n\n@Autowired\nprivate UserRepository userRepository;\n\n@Test\npublic void oops() {\n    User user = new User();\n    user.setUsername(\"Toshko\");\n    //EMAIL IS REQUIRED:\n    //user.setEmail(\"OPS\");\n    this.testEntityManager.persist(user);\n\n    //HERE COMES TE EXCEPTION BECAUSE THE EMAIL FIELD IN TE DATABASE IS REQUIRED :\n    this.userRepository.findUserByUsername(\"Toshko\");\n\n    System.out.println();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552422265,"creation_date":1552422265,"answer_id":55130094,"question_id":21727573,"body_markdown":"Future readers.\r\n\r\nI have had the best luck figuring out these issues....using this method:\r\n\r\n\r\n    private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger(MyDaoObject.class);\r\n\r\n    @Transactional\r\n    public void save(MyObject item) {\r\n\r\n\r\n        try {\r\n             /* this is whatever code you have already...this is just an example */\r\n            entityManager.persist(item);\r\n            entityManager.flush();\r\n        }\r\n        catch(Exception ex)\r\n        {\r\n            /* below works in conjunction with concrete logging framework */\r\n            logger.error(ex.getMessage(), ex);\r\n            throw ex;\r\n        }\r\n    }\r\n\r\n\r\nNow, slf4j is just a fascade (interfaces, adapter)..... you need a concrete.\r\n\r\nWhen picking log4j2, you want to persist the\r\n\r\n**`%throwable`**\r\n\r\nSo you are not flying blind, you can see %throwable at the below URL (on how you defined %throwable so it shows up in the logging.  If you&#39;re not using log4j2 as the concrete, you&#39;ll have to figure out your logging framework&#39;s version of %throwable)\r\n\r\nhttps://www.baeldung.com/log4j2-appenders-layouts-filters\r\n\r\nThat %throwable, when logged, will have the **actual** SQL exception in it.\r\n\r\n\r\nif throwable is giving you a fuss, you can do this (the below is NOT great since it does recursive log calls)\r\n\r\n\r\n    @Transactional\r\n    public void save(MyObject item) {\r\n\r\n\r\n        try {\r\n             /* this is whatever code you have already...this is just an example */\r\n            entityManager.persist(item);\r\n            entityManager.flush();\r\n        catch(Exception ex)\r\n        {\r\n            logger.error(ex.getMessage(), ex);\r\n            //throw ex;\r\n            Throwable thr = ex;\r\n            /* recursive logging warning !!! could perform very poorly, not for production....alternate idea is to use Stringbuilder and log the stringbuilder result */\r\n            while (null != thr) {\r\n                logger.error(thr.getMessage(), thr);\r\n                thr = thr.getCause();\r\n            }\r\n        }\r\n    }","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>Future readers.</p>\n\n<p>I have had the best luck figuring out these issues....using this method:</p>\n\n<pre><code>private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger(MyDaoObject.class);\n\n@Transactional\npublic void save(MyObject item) {\n\n\n    try {\n         /* this is whatever code you have already...this is just an example */\n        entityManager.persist(item);\n        entityManager.flush();\n    }\n    catch(Exception ex)\n    {\n        /* below works in conjunction with concrete logging framework */\n        logger.error(ex.getMessage(), ex);\n        throw ex;\n    }\n}\n</code></pre>\n\n<p>Now, slf4j is just a fascade (interfaces, adapter)..... you need a concrete.</p>\n\n<p>When picking log4j2, you want to persist the</p>\n\n<p><strong><code>%throwable</code></strong></p>\n\n<p>So you are not flying blind, you can see %throwable at the below URL (on how you defined %throwable so it shows up in the logging.  If you're not using log4j2 as the concrete, you'll have to figure out your logging framework's version of %throwable)</p>\n\n<p><a href=\"https://www.baeldung.com/log4j2-appenders-layouts-filters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/log4j2-appenders-layouts-filters</a></p>\n\n<p>That %throwable, when logged, will have the <strong>actual</strong> SQL exception in it.</p>\n\n<p>if throwable is giving you a fuss, you can do this (the below is NOT great since it does recursive log calls)</p>\n\n<pre><code>@Transactional\npublic void save(MyObject item) {\n\n\n    try {\n         /* this is whatever code you have already...this is just an example */\n        entityManager.persist(item);\n        entityManager.flush();\n    catch(Exception ex)\n    {\n        logger.error(ex.getMessage(), ex);\n        //throw ex;\n        Throwable thr = ex;\n        /* recursive logging warning !!! could perform very poorly, not for production....alternate idea is to use Stringbuilder and log the stringbuilder result */\n        while (null != thr) {\n            logger.error(thr.getMessage(), thr);\n            thr = thr.getCause();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14728767,"reputation":295,"user_id":10636790,"display_name":"Tapan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563352070,"creation_date":1563351785,"answer_id":57071577,"question_id":21727573,"body_markdown":"I have got the same error but I have resolved the issue in the following ways:\r\n\r\n 1. Provide all the mandatory filed of your bean/model class \r\n 2. Don&#39;t violet the concept of the unique constraint, Provide unique value in Unique constraints.\r\n\r\n","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>I have got the same error but I have resolved the issue in the following ways:</p>\n\n<ol>\n<li>Provide all the mandatory filed of your bean/model class </li>\n<li>Don't violet the concept of the unique constraint, Provide unique value in Unique constraints.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7008520,"reputation":1104,"user_id":5372188,"display_name":"JAD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568231324,"creation_date":1568231324,"answer_id":57895893,"question_id":21727573,"body_markdown":"The solution at my end was to explicitly add a JoinColumn annotation like this:\r\n\r\n    @JoinColumn(name=&quot;mapping_type_id&quot;)\r\n\r\nThe column name is usually the table name + &quot;_id&quot; if there is an id field. Additionally, keep in mind which field it should be based on the relationship, OneToMany or ManyToOne.\r\n\r\nHope this helps.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>The solution at my end was to explicitly add a JoinColumn annotation like this:</p>\n\n<pre><code>@JoinColumn(name=\"mapping_type_id\")\n</code></pre>\n\n<p>The column name is usually the table name + \"_id\" if there is an id field. Additionally, keep in mind which field it should be based on the relationship, OneToMany or ManyToOne.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":15205356,"reputation":126,"user_id":10971996,"display_name":"kasee nadh reddy bojja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599636460,"creation_date":1599636460,"answer_id":63806680,"question_id":21727573,"body_markdown":"If You try to insert other than the number in the Table column you get Constraint[numbering] error.\r\n\r\n**Try to insert the only number (or) make your Table column to char Type**","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>If You try to insert other than the number in the Table column you get Constraint[numbering] error.</p>\n<p><strong>Try to insert the only number (or) make your Table column to char Type</strong></p>\n"},{"tags":[],"owner":{"account_id":2382241,"reputation":1666,"user_id":2084022,"accept_rate":81,"display_name":"pafede2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632387399,"creation_date":1632387399,"answer_id":69296951,"question_id":21727573,"body_markdown":"In my case the issue was originated after adding an UUID column to a given table.\r\n\r\nThis code DID NOT work:\r\n\r\n            @Column\r\n            private UUID uuid;\r\n\r\nHowever this one indeed work:\r\n\r\n            @Column\r\n            @Type(type=&quot;uuid-char&quot;)\r\n            private UUID uuid;","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>In my case the issue was originated after adding an UUID column to a given table.</p>\n<p>This code DID NOT work:</p>\n<pre><code>        @Column\n        private UUID uuid;\n</code></pre>\n<p>However this one indeed work:</p>\n<pre><code>        @Column\n        @Type(type=&quot;uuid-char&quot;)\n        private UUID uuid;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25025690,"reputation":1,"user_id":18883936,"display_name":"Sri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742368,"creation_date":1657742368,"answer_id":72971963,"question_id":21727573,"body_markdown":"In my case the issue was DTO class is not encapsulated","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>In my case the issue was DTO class is not encapsulated</p>\n"},{"tags":[],"owner":{"account_id":25865132,"reputation":1,"user_id":19596951,"display_name":"Andrey Velb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658432182,"creation_date":1658432182,"answer_id":73071760,"question_id":21727573,"body_markdown":"In my case, I did the operation of deleting the entity before the operation of deleting (changing) records in the database containing the already deleted entity. Just swapping operations around helped.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>In my case, I did the operation of deleting the entity before the operation of deleting (changing) records in the database containing the already deleted entity. Just swapping operations around helped.</p>\n"},{"tags":[],"owner":{"account_id":18537987,"reputation":11,"user_id":13507205,"display_name":"Nikola Grujic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685811001,"creation_date":1685811001,"answer_id":76397051,"question_id":21727573,"body_markdown":"I&#39;ve just had the same problem while using Java Spring Boot and Hibernate. An entity field was named *rank*, which is a reserved keyword. After changing the field name to *userRank*, the issue got solved.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>I've just had the same problem while using Java Spring Boot and Hibernate. An entity field was named <em>rank</em>, which is a reserved keyword. After changing the field name to <em>userRank</em>, the issue got solved.</p>\n"}],"owner":{"account_id":2471831,"reputation":1843,"user_id":2153495,"display_name":"Pankaj Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251880,"favorite_count":0,"down_vote_count":2,"up_vote_count":31,"answer_count":13,"score":29,"last_activity_date":1685811001,"creation_date":1392207014,"question_id":21727573,"body_markdown":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?\r\n\r\n&gt; org.springframework.dao.DataIntegrityViolationException:could not\r\n&gt; execute statement; SQL [n/a]; constraint [numbering]; nested exception\r\n&gt; is org.hibernate.exception.ConstraintViolationException: could not\r\n&gt; execute statement\r\n&gt; org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:643)\r\n&gt; org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:106)\r\n&gt; org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:517)\r\n&gt; org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)\r\n&gt; org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475)\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n&gt; com.sun.proxy.$Proxy132.saveListForm(null:-1)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; java.lang.reflect.Method.invoke(Method.java:606)\r\n&gt; org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:333)\r\n&gt; org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:308)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n&gt; com.sun.proxy.$Proxy133.saveListForm(null:-1)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; java.lang.reflect.Method.invoke(Method.java:606)\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n&gt; org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n&gt; com.sun.proxy.$Proxy134.saveListForm(null:-1)\r\n&gt; com.qmplus.service.impl.ServiceListFormVersionImpl.save(ServiceListFormVersionImpl.java:93)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; java.lang.reflect.Method.invoke(Method.java:606)\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n&gt; org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:64)\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n&gt; com.sun.proxy.$Proxy135.save(null:-1)\r\n&gt; com.qmplus.web.controller.ListFormController.save(ListFormController.java:158)\r\n&gt; com.qmplus.web.controller.ListFormController$$FastClassByCGLIB$$febe95eb.invoke(:-1)\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:627)\r\n&gt; com.qmplus.web.controller.ListFormController$$EnhancerByCGLIB$$5bb46747.save(:-1)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; java.lang.reflect.Method.invoke(Method.java:606)\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:838)\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; com.github.dandelion.datatables.core.web.filter.DatatablesFilter.doFilter(DatatablesFilter.java:73)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:164)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; com.qmplus.web.interceptors.TenantFilter.doFilter(TenantFilter.java:60)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n&gt; org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; com.qmplus.web.util.AjaxTimeoutRedirectFilter.doFilter(AjaxTimeoutRedirectFilter.java:47)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:146)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n&gt; org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n&gt; org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n&gt; org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; com.github.dandelion.datatables.extras.servlet2.filter.DatatablesFilter.doFilter(DatatablesFilter.java:71)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:202)\r\n&gt; net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:180)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n&gt; org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n&gt; org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n&gt; org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n&gt; org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n&gt; java.lang.Thread.run(Thread.java:724)","title":"How to resolve &quot;could not execute statement; SQL [n/a]; constraint [numbering];&quot;?","body":"<p>How to resolve \"could not execute statement; SQL [n/a]; constraint [numbering];\"?</p>\n\n<blockquote>\n  <p>org.springframework.dao.DataIntegrityViolationException:could not\n  execute statement; SQL [n/a]; constraint [numbering]; nested exception\n  is org.hibernate.exception.ConstraintViolationException: could not\n  execute statement\n  org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:643)\n  org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:106)\n  org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:517)\n  org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)\n  org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)\n  org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475)\n  org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\n  org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n  com.sun.proxy.$Proxy132.saveListForm(null:-1)\n  sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.lang.reflect.Method.invoke(Method.java:606)\n  org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:333)\n  org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:308)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\n  org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\n  org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n  com.sun.proxy.$Proxy133.saveListForm(null:-1)\n  sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.lang.reflect.Method.invoke(Method.java:606)\n  org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n  org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n  com.sun.proxy.$Proxy134.saveListForm(null:-1)\n  com.qmplus.service.impl.ServiceListFormVersionImpl.save(ServiceListFormVersionImpl.java:93)\n  sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.lang.reflect.Method.invoke(Method.java:606)\n  org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n  org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:64)\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n  org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n  com.sun.proxy.$Proxy135.save(null:-1)\n  com.qmplus.web.controller.ListFormController.save(ListFormController.java:158)\n  com.qmplus.web.controller.ListFormController$$FastClassByCGLIB$$febe95eb.invoke(:-1)\n  org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n  org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:627)\n  com.qmplus.web.controller.ListFormController$$EnhancerByCGLIB$$5bb46747.save(:-1)\n  sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2)\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.lang.reflect.Method.invoke(Method.java:606)\n  org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\n  org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:838)\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  com.github.dandelion.datatables.core.web.filter.DatatablesFilter.doFilter(DatatablesFilter.java:73)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:164)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  com.qmplus.web.interceptors.TenantFilter.doFilter(TenantFilter.java:60)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\n  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  com.qmplus.web.util.AjaxTimeoutRedirectFilter.doFilter(AjaxTimeoutRedirectFilter.java:47)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:146)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n  org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\n  org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\n  org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  com.github.dandelion.datatables.extras.servlet2.filter.DatatablesFilter.doFilter(DatatablesFilter.java:71)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\n  org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:202)\n  net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:180)\n  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n  org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n  org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n  org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n  org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n  org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n  org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n  org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n  org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n  org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n  org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n  org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n  java.lang.Thread.run(Thread.java:724)</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685783953,"post_id":76394991,"comment_id":134711965,"body_markdown":"You haven&#39;t injected `requestClient` into `correctionService`.","body":"You haven&#39;t injected <code>requestClient</code> into <code>correctionService</code>."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1685800097,"post_id":76394991,"comment_id":134713472,"body_markdown":"@tgdavies just updated data in the post. Let me know if that clarifies.","body":"@tgdavies just updated data in the post. Let me know if that clarifies."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685810317,"creation_date":1685783359,"answer_id":76395347,"question_id":76394991,"body_markdown":"The mocked `RequestClient` is supposed to be the dependency of the `CorrectionService` ?\r\n\r\nBut I don&#39;t see it to be injected into `CorrectionService` and so it is most probably still using a real `RequestClient` rather than a mock.\r\n\r\nHighly recommend to refactor `CorrectionService` to be more testable such that there are some ways to pass a `RequestClient` to it such as through constructor injection : \r\n\r\n\r\n``` java\r\npublic CorrectionService(AccessTokenCacheService accessTokenCacheService, RequestClient restClient) {}\r\n```\r\n\r\n\r\nThen you can do it by :\r\n\r\n``` java\r\nclass FooTest {\r\n\r\n\r\n\t@Mock\r\n\tAccessTokenCacheService accessTokenCacheService;\r\n\r\n\t@Mock(mockMaker=MockMakers.INLINE)\r\n\tRequestClient restClient;\r\n\r\n\t@InjectMocks\r\n\tCorrectionService correctionService;\r\n\r\n}\r\n```\r\n\r\n\r\nRefer to [`@InjectMocks`][1] for details about the other way to inject the mock. Or keep it simple to do it by yourself rather than using `@InjectMocks`\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html","title":"Getting Connection timeout when mock object is called - Mockito","body":"<p>The mocked <code>RequestClient</code> is supposed to be the dependency of the <code>CorrectionService</code> ?</p>\n<p>But I don't see it to be injected into <code>CorrectionService</code> and so it is most probably still using a real <code>RequestClient</code> rather than a mock.</p>\n<p>Highly recommend to refactor <code>CorrectionService</code> to be more testable such that there are some ways to pass a <code>RequestClient</code> to it such as through constructor injection :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CorrectionService(AccessTokenCacheService accessTokenCacheService, RequestClient restClient) {}\n</code></pre>\n<p>Then you can do it by :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooTest {\n\n\n    @Mock\n    AccessTokenCacheService accessTokenCacheService;\n\n    @Mock(mockMaker=MockMakers.INLINE)\n    RequestClient restClient;\n\n    @InjectMocks\n    CorrectionService correctionService;\n\n}\n</code></pre>\n<p>Refer to <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\"><code>@InjectMocks</code></a> for details about the other way to inject the mock. Or keep it simple to do it by yourself rather than using <code>@InjectMocks</code></p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685810317,"creation_date":1685777338,"question_id":76394991,"body_markdown":"Here is my test code:\r\n\r\n```\r\n\r\n@Mock\r\nAccessTokenCacheService accessTokenCacheService\r\n\r\n@InjectMocks\r\nCorrectionService correctionService;\r\n\r\n@Test\r\nvoid test() throws URISyntaxException {\r\n  when(accessTokenCacheService.getCacheAccessToken(anyString())).thenReturn(&quot;token-abc&quot;);\r\n  RequestClient requestClient = mock(RequestClient.class, withSettings().mockMaker(MockMakers.INLINE));\r\n  ApiResponse apiResponse = mock(ApiResponse.class, withSettings().mockMaker(MockMakers.INLINE));\r\n  when(requestClient.send(any(), any())).thenReturn(apiResponse);\r\n  when(apiResponse.getData()).thenReturn(new BookingDetails());\r\n  assertAll(() -&gt; correctionService.getBooking(&quot;id1&quot;, &quot;New York&quot;));\r\n}\r\n```\r\n\r\nAs you can see I&#39;m creating mock objects for `RequestClient` and `ApiResponse` (both are final classes, referring to a separate library)\r\n\r\nInside `correctionService.getBooking()` method, I call `apiResponse.getData()` to get the data. So, I added `when` condition to return a dummy object. \r\n\r\nBut, this is not working as expected. The test runs for a minute and ends with connection timeout exception. \r\n\r\n`java.net.http.HttpConnectTimeoutException: HTTP connect timed out`\r\n\r\n`requestClient.send()` makes an HTTP call internally, but since I&#39;m mocking it, I don&#39;t see a problem there. What am I doing wrong here? \r\n\r\n`RequestClient` is typed class. And, within the `CorrectionService`, we can have multiple types of `RequestClient` like `RequestClient&lt;T1&gt;`, `RequestClient&lt;T2&gt;` created by accessing different methods in the `CorrectionService`.\r\n\r\nAnd I create `RequestClient object` like this: \r\n```\r\nRequestClient&lt;T&gt; requestClient = new RequestClient&lt;&gt;(new HttpClientFactory());\r\n```\r\n\r\nAnd then I use: \r\n```\r\nApiResponse&lt;T&gt; apiResponse = requestClient.send(request, T.class);\r\n```\r\n\r\nI want to mock the utility response `apiResponse` so that I don&#39;t make the actual `http` call. I want to mock that, so that actual HTTP call would not happen.","title":"Getting Connection timeout when mock object is called - Mockito","body":"<p>Here is my test code:</p>\n<pre><code>\n@Mock\nAccessTokenCacheService accessTokenCacheService\n\n@InjectMocks\nCorrectionService correctionService;\n\n@Test\nvoid test() throws URISyntaxException {\n  when(accessTokenCacheService.getCacheAccessToken(anyString())).thenReturn(&quot;token-abc&quot;);\n  RequestClient requestClient = mock(RequestClient.class, withSettings().mockMaker(MockMakers.INLINE));\n  ApiResponse apiResponse = mock(ApiResponse.class, withSettings().mockMaker(MockMakers.INLINE));\n  when(requestClient.send(any(), any())).thenReturn(apiResponse);\n  when(apiResponse.getData()).thenReturn(new BookingDetails());\n  assertAll(() -&gt; correctionService.getBooking(&quot;id1&quot;, &quot;New York&quot;));\n}\n</code></pre>\n<p>As you can see I'm creating mock objects for <code>RequestClient</code> and <code>ApiResponse</code> (both are final classes, referring to a separate library)</p>\n<p>Inside <code>correctionService.getBooking()</code> method, I call <code>apiResponse.getData()</code> to get the data. So, I added <code>when</code> condition to return a dummy object.</p>\n<p>But, this is not working as expected. The test runs for a minute and ends with connection timeout exception.</p>\n<p><code>java.net.http.HttpConnectTimeoutException: HTTP connect timed out</code></p>\n<p><code>requestClient.send()</code> makes an HTTP call internally, but since I'm mocking it, I don't see a problem there. What am I doing wrong here?</p>\n<p><code>RequestClient</code> is typed class. And, within the <code>CorrectionService</code>, we can have multiple types of <code>RequestClient</code> like <code>RequestClient&lt;T1&gt;</code>, <code>RequestClient&lt;T2&gt;</code> created by accessing different methods in the <code>CorrectionService</code>.</p>\n<p>And I create <code>RequestClient object</code> like this:</p>\n<pre><code>RequestClient&lt;T&gt; requestClient = new RequestClient&lt;&gt;(new HttpClientFactory());\n</code></pre>\n<p>And then I use:</p>\n<pre><code>ApiResponse&lt;T&gt; apiResponse = requestClient.send(request, T.class);\n</code></pre>\n<p>I want to mock the utility response <code>apiResponse</code> so that I don't make the actual <code>http</code> call. I want to mock that, so that actual HTTP call would not happen.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685809622,"creation_date":1685806128,"answer_id":76396736,"question_id":76395609,"body_markdown":"It appears that for each user you want to find the appropriate medical record. So why wouldn&#39;t the following work?\r\n- stream the users\r\n- for each user, stream the medical records until a match is found.\r\n- then generate the report.\r\n- instead of ignoring missing medical records, I tagged them as `NON-EXISTENT`\r\n```\r\nList&lt;String&gt; reports = users.stream().map(user -&gt; {\r\n       MedicalRecord medicalRecord = medicalRecords.stream()\r\n           .filter(record -&gt; Objects.nonNull(record) \r\n                  &amp;&amp; record.userId == user.id)\r\n            .findFirst().orElse(new MedicalRecord(user.id, &quot;NON EXISTENT RECORD&quot;));\r\n              return generateReport(user, medicalRecord);\r\n       }).collect(Collectors.toList());\r\n```\r\nYou might also use an interim record to store user and report and then create a map to map each user to their report.\r\n```\r\nrecord ReportForUser(User user, String report) {}\r\n        \r\nMap&lt;User,String&gt; reports = users.stream().map(user -&gt; {\r\n    MedicalRecord medicalRecord = medicalRecords.stream()\r\n            .filter(record -&gt; Objects.nonNull(record)\r\n                   &amp;&amp; record.userId == user.id)\r\n            .findFirst().orElse(new MedicalRecord(user.id, &quot;NON EXISTENT RECORD&quot;));\r\n     return new ReportForUser(user, generateReport(user, medicalRecord));\r\n}).collect(Collectors.toMap(ReportForUser::user, ReportForUser::report));\r\n```","title":"Combine filter and map in Java Stream","body":"<p>It appears that for each user you want to find the appropriate medical record. So why wouldn't the following work?</p>\n<ul>\n<li>stream the users</li>\n<li>for each user, stream the medical records until a match is found.</li>\n<li>then generate the report.</li>\n<li>instead of ignoring missing medical records, I tagged them as <code>NON-EXISTENT</code></li>\n</ul>\n<pre><code>List&lt;String&gt; reports = users.stream().map(user -&gt; {\n       MedicalRecord medicalRecord = medicalRecords.stream()\n           .filter(record -&gt; Objects.nonNull(record) \n                  &amp;&amp; record.userId == user.id)\n            .findFirst().orElse(new MedicalRecord(user.id, &quot;NON EXISTENT RECORD&quot;));\n              return generateReport(user, medicalRecord);\n       }).collect(Collectors.toList());\n</code></pre>\n<p>You might also use an interim record to store user and report and then create a map to map each user to their report.</p>\n<pre><code>record ReportForUser(User user, String report) {}\n        \nMap&lt;User,String&gt; reports = users.stream().map(user -&gt; {\n    MedicalRecord medicalRecord = medicalRecords.stream()\n            .filter(record -&gt; Objects.nonNull(record)\n                   &amp;&amp; record.userId == user.id)\n            .findFirst().orElse(new MedicalRecord(user.id, &quot;NON EXISTENT RECORD&quot;));\n     return new ReportForUser(user, generateReport(user, medicalRecord));\n}).collect(Collectors.toMap(ReportForUser::user, ReportForUser::report));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685807382,"creation_date":1685807024,"answer_id":76396788,"question_id":76395609,"body_markdown":"&gt;In theory it might be something that allows map to take two values e.g. map((user, medicalRecord) -&gt; generateReport(user, medicalRecord))\r\n\r\nWe can do so using `Map.Entry`, which can be constructed by [`Map.entry(key, value)`][1], or create a record class with component `User` and `MedicalRecord`.\r\n\r\n```\r\n        users.stream()\r\n                .map(user -&gt; Map.entry(user, Optional.ofNullable(fetchMedicalRecord(user))))\r\n                .filter(e -&gt; e.getValue().isPresent())\r\n                .map(e -&gt; generateReport(e.getKey(), e.getValue().get()))\r\n                .toList();\r\n```\r\nReference:\r\n\r\n[Java - How to create new Entry (key, value)][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entry(K,V)\r\n  [2]: https://stackoverflow.com/a/52426752/7928721","title":"Combine filter and map in Java Stream","body":"<blockquote>\n<p>In theory it might be something that allows map to take two values e.g. map((user, medicalRecord) -&gt; generateReport(user, medicalRecord))</p>\n</blockquote>\n<p>We can do so using <code>Map.Entry</code>, which can be constructed by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"nofollow noreferrer\"><code>Map.entry(key, value)</code></a>, or create a record class with component <code>User</code> and <code>MedicalRecord</code>.</p>\n<pre><code>        users.stream()\n                .map(user -&gt; Map.entry(user, Optional.ofNullable(fetchMedicalRecord(user))))\n                .filter(e -&gt; e.getValue().isPresent())\n                .map(e -&gt; generateReport(e.getKey(), e.getValue().get()))\n                .toList();\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://stackoverflow.com/a/52426752/7928721\">Java - How to create new Entry (key, value)</a></p>\n"}],"owner":{"account_id":24193243,"reputation":39,"user_id":19725796,"display_name":"Rosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76396788,"answer_count":2,"score":2,"last_activity_date":1685809622,"creation_date":1685787871,"question_id":76395609,"body_markdown":"Suppose you have a list of users, which realistically would come from a database repository.\r\n\r\n    User alice = new User(1, &quot;alice&quot;, &quot;9akDj18xA&quot;);\r\n    User bob = new User(2, &quot;bob&quot;, &quot;mLih41nZxx&quot;);\r\n    User carol = new User(3, &quot;carol&quot;, &quot;tFxn2Ad70&quot;);\r\n\r\n    List&lt;User&gt; users = List.of(alice, bob, carol);\r\n\r\nEach user has an id, a name, and a key that can be used to access third party services.\r\n\r\n    class User {\r\n        int id;\r\n        String name;\r\n        String consentKey;\r\n    \r\n        public User(int id, String name, String consentKey) {\r\n          this.id = id;\r\n          this.name = name;\r\n          this.consentKey = consentKey;\r\n        }\r\n      }\r\n\r\nSometimes the third party service returns data - a medical record - that looks like this.\r\n\r\n    class MedicalRecord {\r\n        int userId;\r\n        String information;\r\n    \r\n        public MedicalRecord(int userId, String information) {\r\n          this.userId = userId;\r\n          this.information = information;\r\n        }\r\n      }\r\n\r\nBut other times, when the key is invalid, it returns null, so we filter those out.\r\n\r\n    // Calls a third party service that returns data for some users only\r\n    List&lt;MedicalRecord&gt; medicalRecords =\r\n        users.stream()\r\n            .map(user -&gt; Optional.ofNullable(fetchMedicalRecord(user)))\r\n            .filter(Optional::isPresent)\r\n            .map(Optional::get)\r\n            .collect(Collectors.toList());\r\n\r\nThe task is to generate a report that combines user data with the medical record, but only if the medical record is present. Here is the code that I wrote to do this.\r\n\r\n    return users.stream()\r\n        .filter(\r\n            user -&gt; {\r\n              Optional&lt;MedicalRecord&gt; medicalRecord =\r\n                  medicalRecords.stream()\r\n                      .filter(record -&gt; record.userId == user.id)\r\n                      .findFirst();\r\n              return medicalRecord.isPresent();\r\n            })\r\n        .map(\r\n            user -&gt; {\r\n              MedicalRecord medicalRecord =\r\n                  medicalRecords.stream()\r\n                      .filter(record -&gt; record.userId == user.id)\r\n                      .findFirst()\r\n                      .get();\r\n\r\n              // Both user and medical record are needed here\r\n              return generateReport(user, medicalRecord);\r\n            })\r\n        .collect(Collectors.toList());\r\n\r\n**The problem** - finding a medical record from the list is done twice: once in `filter`, and then in `map`. You could shorten the filter to use something like `anyMatch` but I am not trying to reduce the number of lines here. What I am looking for is a way to pass both the medical record (if present) and the user to `generateReport(user, medicalRecord)` in one go. In theory it might be something that allows map to take two values e.g. `map((user, medicalRecord) -&gt; generateReport(user, medicalRecord))`.\r\n\r\nPlease note this is a simplified example I just made up to illustrate a problem so ignore minor issues outside of the filter/map scope.\r\n\r\n---\r\n\r\nIf you want a full working example, here are the two functions required to run all this.\r\n\r\n      private static MedicalRecord fetchMedicalRecord(User user) {\r\n        if (!user.consentKey.equals(&quot;tFxn2Ad70&quot;)) {\r\n          String information = String.format(&quot;%s&#39;s medical record&quot;, user.name);\r\n          return new MedicalRecord(user.id, information);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    \r\n      private String generateReport(User user, MedicalRecord medicalRecord) {\r\n        return String.format(&quot;%s&#39;s report - %s&quot;, user.name, medicalRecord.information);\r\n      }\r\n\r\n","title":"Combine filter and map in Java Stream","body":"<p>Suppose you have a list of users, which realistically would come from a database repository.</p>\n<pre><code>User alice = new User(1, &quot;alice&quot;, &quot;9akDj18xA&quot;);\nUser bob = new User(2, &quot;bob&quot;, &quot;mLih41nZxx&quot;);\nUser carol = new User(3, &quot;carol&quot;, &quot;tFxn2Ad70&quot;);\n\nList&lt;User&gt; users = List.of(alice, bob, carol);\n</code></pre>\n<p>Each user has an id, a name, and a key that can be used to access third party services.</p>\n<pre><code>class User {\n    int id;\n    String name;\n    String consentKey;\n\n    public User(int id, String name, String consentKey) {\n      this.id = id;\n      this.name = name;\n      this.consentKey = consentKey;\n    }\n  }\n</code></pre>\n<p>Sometimes the third party service returns data - a medical record - that looks like this.</p>\n<pre><code>class MedicalRecord {\n    int userId;\n    String information;\n\n    public MedicalRecord(int userId, String information) {\n      this.userId = userId;\n      this.information = information;\n    }\n  }\n</code></pre>\n<p>But other times, when the key is invalid, it returns null, so we filter those out.</p>\n<pre><code>// Calls a third party service that returns data for some users only\nList&lt;MedicalRecord&gt; medicalRecords =\n    users.stream()\n        .map(user -&gt; Optional.ofNullable(fetchMedicalRecord(user)))\n        .filter(Optional::isPresent)\n        .map(Optional::get)\n        .collect(Collectors.toList());\n</code></pre>\n<p>The task is to generate a report that combines user data with the medical record, but only if the medical record is present. Here is the code that I wrote to do this.</p>\n<pre><code>return users.stream()\n    .filter(\n        user -&gt; {\n          Optional&lt;MedicalRecord&gt; medicalRecord =\n              medicalRecords.stream()\n                  .filter(record -&gt; record.userId == user.id)\n                  .findFirst();\n          return medicalRecord.isPresent();\n        })\n    .map(\n        user -&gt; {\n          MedicalRecord medicalRecord =\n              medicalRecords.stream()\n                  .filter(record -&gt; record.userId == user.id)\n                  .findFirst()\n                  .get();\n\n          // Both user and medical record are needed here\n          return generateReport(user, medicalRecord);\n        })\n    .collect(Collectors.toList());\n</code></pre>\n<p><strong>The problem</strong> - finding a medical record from the list is done twice: once in <code>filter</code>, and then in <code>map</code>. You could shorten the filter to use something like <code>anyMatch</code> but I am not trying to reduce the number of lines here. What I am looking for is a way to pass both the medical record (if present) and the user to <code>generateReport(user, medicalRecord)</code> in one go. In theory it might be something that allows map to take two values e.g. <code>map((user, medicalRecord) -&gt; generateReport(user, medicalRecord))</code>.</p>\n<p>Please note this is a simplified example I just made up to illustrate a problem so ignore minor issues outside of the filter/map scope.</p>\n<hr />\n<p>If you want a full working example, here are the two functions required to run all this.</p>\n<pre><code>  private static MedicalRecord fetchMedicalRecord(User user) {\n    if (!user.consentKey.equals(&quot;tFxn2Ad70&quot;)) {\n      String information = String.format(&quot;%s's medical record&quot;, user.name);\n      return new MedicalRecord(user.id, information);\n    } else {\n      return null;\n    }\n  }\n\n  private String generateReport(User user, MedicalRecord medicalRecord) {\n    return String.format(&quot;%s's report - %s&quot;, user.name, medicalRecord.information);\n  }\n</code></pre>\n"},{"tags":["java","android","android-activity","architecture","crash"],"comments":[{"owner":{"account_id":2361873,"reputation":339,"user_id":2068397,"accept_rate":50,"display_name":"Bhavesh Jabuvani"},"score":0,"creation_date":1664440241,"post_id":73849367,"comment_id":130473626,"body_markdown":"Suddenly this crash is logged in Firebase Crashlytics. This crash is happens only Android 12 devices. @RockyGlobal have you got any solution?","body":"Suddenly this crash is logged in Firebase Crashlytics. This crash is happens only Android 12 devices. @RockyGlobal have you got any solution?"},{"owner":{"account_id":24841504,"reputation":515,"user_id":18719448,"display_name":"RockyGlobal"},"score":0,"creation_date":1664458227,"post_id":73849367,"comment_id":130480170,"body_markdown":"Yes i too got this crash so added this question so that i can get some solutions","body":"Yes i too got this crash so added this question so that i can get some solutions"},{"owner":{"account_id":24841504,"reputation":515,"user_id":18719448,"display_name":"RockyGlobal"},"score":0,"creation_date":1665460431,"post_id":73849367,"comment_id":130699518,"body_markdown":"No still waiting","body":"No still waiting"},{"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"score":0,"creation_date":1665834458,"post_id":73849367,"comment_id":130794113,"body_markdown":"It&#39;s not a crash in my case but an ANR","body":"It&#39;s not a crash in my case but an ANR"},{"owner":{"account_id":24841504,"reputation":515,"user_id":18719448,"display_name":"RockyGlobal"},"score":0,"creation_date":1665976516,"post_id":73849367,"comment_id":130817563,"body_markdown":"Ya any way of handling it","body":"Ya any way of handling it"},{"owner":{"account_id":348766,"reputation":1427,"user_id":683643,"accept_rate":94,"display_name":"Oli"},"score":0,"creation_date":1667472595,"post_id":73849367,"comment_id":131176938,"body_markdown":"do you use Firebase Messaging or any other local/remote notification solution? I am also looking for the ANR problem.","body":"do you use Firebase Messaging or any other local/remote notification solution? I am also looking for the ANR problem."},{"owner":{"account_id":426772,"reputation":3068,"user_id":808177,"accept_rate":77,"display_name":"hemanth kumar"},"score":2,"creation_date":1674110885,"post_id":73849367,"comment_id":132645906,"body_markdown":"@RockyGlobal Did you fix this ANR? Could you please share if there&#39;s a workaround?","body":"@RockyGlobal Did you fix this ANR? Could you please share if there&#39;s a workaround?"},{"owner":{"account_id":5981137,"reputation":17317,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"score":0,"creation_date":1676662353,"post_id":73849367,"comment_id":133189626,"body_markdown":"Any progress on this issue ?","body":"Any progress on this issue ?"},{"owner":{"account_id":11393428,"reputation":115,"user_id":8352632,"display_name":"karan"},"score":0,"creation_date":1683698663,"post_id":73849367,"comment_id":134404444,"body_markdown":"this error is coming in chinese devices.","body":"this error is coming in chinese devices."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1696566980,"post_id":73849367,"comment_id":136172337,"body_markdown":"Seems something like the application is not being cleaned up with window.destroy override and needs System.exit(0); as the final line of the window.close listener. Basically seems like someone simply presses the window close button or swipes the app out.","body":"Seems something like the application is not being cleaned up with window.destroy override and needs System.exit(0); as the final line of the window.close listener. Basically seems like someone simply presses the window close button or swipes the app out."}],"answers":[{"tags":[],"owner":{"account_id":13025752,"reputation":3,"user_id":15286777,"display_name":"Eduardo Maia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685476067,"creation_date":1684268240,"answer_id":76266778,"question_id":73849367,"body_markdown":"I got this issue too. In my case it was an ANR caused by not properly requesting location. I was using an outdated library to do that. Once I moved out of the library and used the Android recommended way of querying the current location it worked fine.\r\n\r\nProblematic Library: https://github.com/mcharmas/Android-ReactiveLocation\r\n\r\nAndroid recommended way of querying current location: https://developer.android.com/training/location/retrieve-current","title":"jdk.internal.misc.Unsafe.park (Native method) crash in android app","body":"<p>I got this issue too. In my case it was an ANR caused by not properly requesting location. I was using an outdated library to do that. Once I moved out of the library and used the Android recommended way of querying the current location it worked fine.</p>\n<p>Problematic Library: <a href=\"https://github.com/mcharmas/Android-ReactiveLocation\" rel=\"nofollow noreferrer\">https://github.com/mcharmas/Android-ReactiveLocation</a></p>\n<p>Android recommended way of querying current location: <a href=\"https://developer.android.com/training/location/retrieve-current\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/retrieve-current</a></p>\n"}],"owner":{"account_id":24841504,"reputation":515,"user_id":18719448,"display_name":"RockyGlobal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3273,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":1,"score":27,"last_activity_date":1685809377,"creation_date":1664162880,"question_id":73849367,"body_markdown":"I am facing this issue in android app\r\n     jdk.internal.misc.Unsafe.park (Native method)\r\n\r\nThere are several answers in stackoverflow but i need in android specific way\r\n\r\n\r\n\r\n    main (waiting): tid=1 systid=14525 \r\n       at jdk.internal.misc.Unsafe.park(Native method)\r\n       at java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n       at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:885)\r\n       at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:917)\r\n       at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1240)\r\n       at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:267)\r\n       at com.google.android.gms.common.api.internal.zabe.zai(com.google.android.gms:play-services-base@@18.0.1:1)\r\n       at com.google.android.gms.common.api.internal.zabd.zaa(com.google.android.gms:play-services-base@@18.0.1:2)\r\n       at com.google.android.gms.common.api.internal.zabx.onReceive(com.google.android.gms:play-services-base@@18.0.1:4)\r\n       at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1752)\r\n       at android.app.LoadedApk$ReceiverDispatcher$Args$$ExternalSyntheticLambda0.run(unavailable:2)\r\n       at android.os.Handler.handleCallback(Handler.java:938)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loopOnce(Looper.java:233)\r\n       at android.os.Looper.loop(Looper.java:344)\r\n       at android.app.ActivityThread.main(ActivityThread.java:8191)\r\n       at java.lang.reflect.Method.invoke(Native method)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)","title":"jdk.internal.misc.Unsafe.park (Native method) crash in android app","body":"<p>I am facing this issue in android app\njdk.internal.misc.Unsafe.park (Native method)</p>\n<p>There are several answers in stackoverflow but i need in android specific way</p>\n<pre><code>main (waiting): tid=1 systid=14525 \n   at jdk.internal.misc.Unsafe.park(Native method)\n   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n   at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:885)\n   at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:917)\n   at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1240)\n   at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:267)\n   at com.google.android.gms.common.api.internal.zabe.zai(com.google.android.gms:play-services-base@@18.0.1:1)\n   at com.google.android.gms.common.api.internal.zabd.zaa(com.google.android.gms:play-services-base@@18.0.1:2)\n   at com.google.android.gms.common.api.internal.zabx.onReceive(com.google.android.gms:play-services-base@@18.0.1:4)\n   at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1752)\n   at android.app.LoadedApk$ReceiverDispatcher$Args$$ExternalSyntheticLambda0.run(unavailable:2)\n   at android.os.Handler.handleCallback(Handler.java:938)\n   at android.os.Handler.dispatchMessage(Handler.java:99)\n   at android.os.Looper.loopOnce(Looper.java:233)\n   at android.os.Looper.loop(Looper.java:344)\n   at android.app.ActivityThread.main(ActivityThread.java:8191)\n   at java.lang.reflect.Method.invoke(Native method)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685837359,"post_id":76396610,"comment_id":134717055,"body_markdown":"Is there some reason you have to do it with a single replaceAll call and no other code?","body":"Is there some reason you have to do it with a single replaceAll call and no other code?"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1685864569,"post_id":76396610,"comment_id":134718449,"body_markdown":"@VGR I&#39;d like to avoid another private method cleaning string (I have already a bunch of these).","body":"@VGR I&#39;d like to avoid another private method cleaning string (I have already a bunch of these)."}],"answers":[{"tags":[],"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685808721,"creation_date":1685806275,"answer_id":76396741,"question_id":76396610,"body_markdown":"Use negative look ahead to avoid date ranges, then actually match it using `[^()]+?`:\r\n\r\n```none\r\n\\s*\\(                  # Match 0+ spaces, a &#39;(&#39;,\r\n(?!\\d{4}\\p{Pd}\\d{4}\\)) # which is not followed by a date range and a &#39;)&#39;,\r\n[^()]+                 # 1+ non-parenthesis characters and\r\n\\)\\s*$                 # &#39;)&#39; then 0+ spaces right before the end of line.\r\n```\r\n\r\nTry it [on regex101.com][1].\r\n\r\nThe above regex will not match:\r\n\r\n```none\r\nparentheses with no content ()\r\nyears with more than 4 digits (1234-56789)\r\nor less than 4 (123-4567)\r\nnested ((brackets))\r\nmismatched (brackets\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/49BjC0/2","title":"Remove everything in brackets at the end","body":"<p>Use negative look ahead to avoid date ranges, then actually match it using <code>[^()]+?</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\s*\\(                  # Match 0+ spaces, a '(',\n(?!\\d{4}\\p{Pd}\\d{4}\\)) # which is not followed by a date range and a ')',\n[^()]+                 # 1+ non-parenthesis characters and\n\\)\\s*$                 # ')' then 0+ spaces right before the end of line.\n</code></pre>\n<p>Try it <a href=\"https://regex101.com/r/49BjC0/2\" rel=\"nofollow noreferrer\">on regex101.com</a>.</p>\n<p>The above regex will not match:</p>\n<pre class=\"lang-none prettyprint-override\"><code>parentheses with no content ()\nyears with more than 4 digits (1234-56789)\nor less than 4 (123-4567)\nnested ((brackets))\nmismatched (brackets\n</code></pre>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76396741,"answer_count":1,"score":2,"last_activity_date":1685808721,"creation_date":1685804188,"question_id":76396610,"body_markdown":"I&#39;d like to removing everything that is is brackets `()` if (and only if) they are at the end and not do match the following pattern `\\(\\d{4}\\p{Pd}\\d{4}\\) *`. This pattern is nothing more than date range in brackets, eg. `(1920-2988)`.\r\n\r\nFor instance, I&#39;d like to match/capture (for removing, ie. `string.replaceAll(my_regex_here, &quot;&quot;)`):\r\n    \r\n* foo bar `(blah)`\r\n\r\n* foo bar (blah) blah `(blah)`\r\n\r\nI don&#39;t like to match:\r\n* some (blah) data\r\n* some date following (1920-1921).\r\n\r\nI have the following regex: [\\s*\\(.+?\\)\\s*$](https://regex101.com/r/0kEYo2/1). It tends to match too much:\r\n\r\n* some data `(..) match (match)`\r\n* some data `(1920-1977)`\r\n","title":"Remove everything in brackets at the end","body":"<p>I'd like to removing everything that is is brackets <code>()</code> if (and only if) they are at the end and not do match the following pattern <code>\\(\\d{4}\\p{Pd}\\d{4}\\) *</code>. This pattern is nothing more than date range in brackets, eg. <code>(1920-2988)</code>.</p>\n<p>For instance, I'd like to match/capture (for removing, ie. <code>string.replaceAll(my_regex_here, &quot;&quot;)</code>):</p>\n<ul>\n<li><p>foo bar <code>(blah)</code></p>\n</li>\n<li><p>foo bar (blah) blah <code>(blah)</code></p>\n</li>\n</ul>\n<p>I don't like to match:</p>\n<ul>\n<li>some (blah) data</li>\n<li>some date following (1920-1921).</li>\n</ul>\n<p>I have the following regex: <a href=\"https://regex101.com/r/0kEYo2/1\" rel=\"nofollow noreferrer\">\\s*(.+?)\\s*$</a>. It tends to match too much:</p>\n<ul>\n<li>some data <code>(..) match (match)</code></li>\n<li>some data <code>(1920-1977)</code></li>\n</ul>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1685622946,"post_id":76381915,"comment_id":134687912,"body_markdown":"There should be an earlier part of the gradle log that actually mentions the compile error. Gradle is notoriuos about hiding compilation problems in tons of somewhat related other output, so it might be tricky to find. Search the log for &quot;error&quot; and you&#39;ll find it.","body":"There should be an earlier part of the gradle log that actually mentions the compile error. Gradle is notoriuos about hiding compilation problems in tons of somewhat related other output, so it might be tricky to find. Search the log for &quot;error&quot; and you&#39;ll find it."}],"owner":{"account_id":28727672,"reputation":1,"user_id":22000236,"display_name":"Victor Woydowski Dralle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685808705,"creation_date":1685622779,"question_id":76381915,"body_markdown":"I am having issues with a study project, that is a asteroids game. The game is in Java and uses Maven. The game consists of modules that Maven compiles, or should. That is my issue.\r\n\r\nWhen trying to clean install my project, a compile error occurs in my &quot;Common&quot; module, which all other modules depend on which is very critical. I don&#39;t have any idea why it wont compile, as I&#39;ve reached out to other students that has no problems compiling, even though we all have very similar code!\r\n\r\nBelow is what the terminal writes when I try to compile\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project Common: Compilation failure -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :Common\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThis is the modules pom file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;dk.sdu.mmmi.cbse&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AsteroidsEntityFramework&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;Common&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;Common&lt;/name&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried to check if my SDK was the issue and tried changing it to a lower version, but no luck. Looking at the link in the error message it says its a MojoFailureException, so a plugin might be the problem.\r\nI have not yet found any answer to my problem even by using some of the same code as some of the other students.","title":"How to resolve Maven compile error in &#39;Common&#39; module dependency for Asteroids project","body":"<p>I am having issues with a study project, that is a asteroids game. The game is in Java and uses Maven. The game consists of modules that Maven compiles, or should. That is my issue.</p>\n<p>When trying to clean install my project, a compile error occurs in my &quot;Common&quot; module, which all other modules depend on which is very critical. I don't have any idea why it wont compile, as I've reached out to other students that has no problems compiling, even though we all have very similar code!</p>\n<p>Below is what the terminal writes when I try to compile</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project Common: Compilation failure -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :Common\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is the modules pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;dk.sdu.mmmi.cbse&lt;/groupId&gt;\n        &lt;artifactId&gt;AsteroidsEntityFramework&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;Common&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Common&lt;/name&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried to check if my SDK was the issue and tried changing it to a lower version, but no luck. Looking at the link in the error message it says its a MojoFailureException, so a plugin might be the problem.\nI have not yet found any answer to my problem even by using some of the same code as some of the other students.</p>\n"},{"tags":["java","loops","android-studio","static","break"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685808512,"creation_date":1685808512,"answer_id":76396879,"question_id":76396631,"body_markdown":"You&#39;re _break intraloop_ statement is within a different scope.\r\n\r\nThe _[Task#addOnCompleteListener](https://developer.android.com/reference/com/google/android/play/core/tasks/OnCompleteListener)_ method is using an _[anonymous inner-class](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html)_ as it&#39;s first argument.\r\n\r\n```java\r\nAdvertisementsRef.child(userid).child(String.valueOf(j)).child(&quot;advertisement_price&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if(task.isSuccessful()) {\r\n            DataSnapshot snapshot = task.getResult();\r\n            if (snapshot.exists()) {\r\n                price = task.getResult().getValue().toString();\r\n            }else{\r\n                //break interloop;\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nHere is a concise example.\r\n\r\n```java\r\nlabel: for (String string : strings) {\r\n    Thread thread = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            break label;\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThe new scope starts at the argument&#39;s code-block.","title":"Issues with breaking loops and static variables in Android Studio Java code","body":"<p>You're <em>break intraloop</em> statement is within a different scope.</p>\n<p>The <em><a href=\"https://developer.android.com/reference/com/google/android/play/core/tasks/OnCompleteListener\" rel=\"nofollow noreferrer\">Task#addOnCompleteListener</a></em> method is using an <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">anonymous inner-class</a></em> as it's first argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AdvertisementsRef.child(userid).child(String.valueOf(j)).child(&quot;advertisement_price&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if(task.isSuccessful()) {\n            DataSnapshot snapshot = task.getResult();\n            if (snapshot.exists()) {\n                price = task.getResult().getValue().toString();\n            }else{\n                //break interloop;\n            }\n        }\n    }\n});\n</code></pre>\n<p>Here is a concise example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>label: for (String string : strings) {\n    Thread thread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            break label;\n        }\n    });\n}\n</code></pre>\n<p>The new scope starts at the argument's code-block.</p>\n"}],"owner":{"account_id":28026926,"reputation":5,"user_id":21406755,"display_name":"Milutin Nedeljkovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685808512,"creation_date":1685804469,"question_id":76396631,"body_markdown":"I run into two problems writing java code in android studio.\r\n\r\nhere is my code:\r\n```\r\nstatic String price, title;\r\n\r\n\r\nprivate void initData() {\r\n        adList = new ArrayList&lt;&gt;();\r\n        int i=0;\r\n        outerloop:\r\n        /*while(true)*/for(int k=0;k&lt;3;k++){\r\n            UserRef.child(String.valueOf(i)).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        DataSnapshot snapshot = task.getResult();\r\n                        if(snapshot.exists()){\r\n                            String userid = task.getResult().getValue().toString();\r\n                            interloop:\r\n                            for(int j=0;j&lt;3;j++){\r\n                                AdvertisementsRef.child(userid).child(String.valueOf(j)).child(&quot;advertisement_price&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                                        if(task.isSuccessful()) {\r\n                                            DataSnapshot snapshot = task.getResult();\r\n                                            if (snapshot.exists()) {\r\n                                                price = task.getResult().getValue().toString();\r\n                                            }else{\r\n                                                //break interloop;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                                AdvertisementsRef.child(userid).child(String.valueOf(j)).child(&quot;title&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                                        title = task.getResult().getValue().toString();\r\n                                    }\r\n                                });\r\n                                adList.add(new MainModel(price, title, R.drawable.google));\r\n                            }\r\n                        }else{\r\n                            //break outerloop;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            i++;\r\n        }\r\n    }\r\n```\r\nI tried to break an outerloop and interloop with labels but this is not working, and i don&#39;t have any idea how to fix it. Also, static variables aren&#39;t working because when i leave the method, those act like a normal declared variable (there is no value). Can anyone help?\r\n\r\nPS: there is a lot of other code provided in this, try to focus just on the problems of breaking and global variables.","title":"Issues with breaking loops and static variables in Android Studio Java code","body":"<p>I run into two problems writing java code in android studio.</p>\n<p>here is my code:</p>\n<pre><code>static String price, title;\n\n\nprivate void initData() {\n        adList = new ArrayList&lt;&gt;();\n        int i=0;\n        outerloop:\n        /*while(true)*/for(int k=0;k&lt;3;k++){\n            UserRef.child(String.valueOf(i)).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                    if(task.isSuccessful()){\n                        DataSnapshot snapshot = task.getResult();\n                        if(snapshot.exists()){\n                            String userid = task.getResult().getValue().toString();\n                            interloop:\n                            for(int j=0;j&lt;3;j++){\n                                AdvertisementsRef.child(userid).child(String.valueOf(j)).child(&quot;advertisement_price&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                                        if(task.isSuccessful()) {\n                                            DataSnapshot snapshot = task.getResult();\n                                            if (snapshot.exists()) {\n                                                price = task.getResult().getValue().toString();\n                                            }else{\n                                                //break interloop;\n                                            }\n                                        }\n                                    }\n                                });\n                                AdvertisementsRef.child(userid).child(String.valueOf(j)).child(&quot;title&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                                        title = task.getResult().getValue().toString();\n                                    }\n                                });\n                                adList.add(new MainModel(price, title, R.drawable.google));\n                            }\n                        }else{\n                            //break outerloop;\n                        }\n                    }\n                }\n            });\n            i++;\n        }\n    }\n</code></pre>\n<p>I tried to break an outerloop and interloop with labels but this is not working, and i don't have any idea how to fix it. Also, static variables aren't working because when i leave the method, those act like a normal declared variable (there is no value). Can anyone help?</p>\n<p>PS: there is a lot of other code provided in this, try to focus just on the problems of breaking and global variables.</p>\n"},{"tags":["java","sorting","mergesort","insertion-sort","in-place"],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685807818,"creation_date":1685807818,"answer_id":76396830,"question_id":76396186,"body_markdown":"Insertion sort is stable because exchanges only occur on adjacent elements, in your code at a[j] and a[j-1]. Merge sort is also stable, so the combined insertion sort and merge sort would be stable.","title":"Is the combination of insertion-sort and mergesort in Java in-place sorting and stable?","body":"<p>Insertion sort is stable because exchanges only occur on adjacent elements, in your code at a[j] and a[j-1]. Merge sort is also stable, so the combined insertion sort and merge sort would be stable.</p>\n"}],"owner":{"account_id":26803859,"reputation":1,"user_id":20395407,"display_name":"Gino.Montaner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685807818,"creation_date":1685796635,"question_id":76396186,"body_markdown":"**Title:** Is this combination of Insertion Sort and Merge Sort in-place and stable?\r\n\r\n**Body:**\r\n\r\nHello everyone,\r\n\r\nI have this Java code, which is a combination of Insertion Sort and Merge Sort. I&#39;m not sure if this combined algorithm is considered in-place and stable. I&#39;d appreciate it if someone could help clarify this for me.\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    private static Comparable[] aux;\r\n\r\n    private static boolean less(Comparable v, Comparable w) {\r\n        return v.compareTo(w) &lt; 0;\r\n    }\r\n\r\n    private static void exch(Comparable[] a, int i, int j) {\r\n        Comparable swap = a[i];\r\n        a[i] = a[j];\r\n        a[j] = swap;\r\n    }\r\n\r\n    private static void insertionSort(Comparable[] a, int lo, int hi) {\r\n        for (int i = lo; i &lt;= hi; i++) {\r\n            for (int j = i; j &gt; lo &amp;&amp; less(a[j], a[j - 1]); j--) {\r\n                exch(a, j, j - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void merge(Comparable[] a, int lo, int mid, int hi) {\r\n        int i = lo, j = mid+1;\r\n\r\n        for (int k = lo; k &lt;= hi; k++) {\r\n            aux[k] = a[k];\r\n        }\r\n\r\n        for (int k = lo; k &lt;= hi; k++) {\r\n            if (i &gt; mid) a[k] = aux[j++];\r\n            else if (j &gt; hi) a[k] = aux[i++];\r\n            else if (less(aux[j], aux[i])) a[k] = aux[j++];\r\n            else a[k] = aux[i++];\r\n        }\r\n    }\r\n\r\n    private static void sort(Comparable[] a, int lo, int hi) {\r\n        final int INSERTION_SORT_THRESHOLD = 10;\r\n        if (hi &lt;= lo + INSERTION_SORT_THRESHOLD - 1) {\r\n            insertionSort(a, lo, hi);\r\n            return;\r\n        }\r\n        int mid = lo + (hi - lo) / 2;\r\n\r\n        sort(a, lo, mid);\r\n        sort(a, mid+1, hi);\r\n        merge(a, lo, mid, hi);\r\n    }\r\n\r\n    public static void sort(Comparable[] a) {\r\n        aux = new Comparable[a.length];\r\n        sort(a, 0, a.length - 1);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Integer[] a = {7, 3, 5, 1, 6, 8, 2, 4, 9, 0};\r\n        System.out.println(&quot;Before sorting: &quot; + Arrays.toString(a));\r\n        Main.sort(a);\r\n        System.out.println(&quot;After sorting: &quot; + Arrays.toString(a));\r\n    }\r\n}\r\n\r\n ","title":"Is the combination of insertion-sort and mergesort in Java in-place sorting and stable?","body":"<p><strong>Title:</strong> Is this combination of Insertion Sort and Merge Sort in-place and stable?</p>\n<p><strong>Body:</strong></p>\n<p>Hello everyone,</p>\n<p>I have this Java code, which is a combination of Insertion Sort and Merge Sort. I'm not sure if this combined algorithm is considered in-place and stable. I'd appreciate it if someone could help clarify this for me.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.Arrays;\n\npublic class Main {\n    private static Comparable[] aux;\n\n    private static boolean less(Comparable v, Comparable w) {\n        return v.compareTo(w) &lt; 0;\n    }\n\n    private static void exch(Comparable[] a, int i, int j) {\n        Comparable swap = a[i];\n        a[i] = a[j];\n        a[j] = swap;\n    }\n\n    private static void insertionSort(Comparable[] a, int lo, int hi) {\n        for (int i = lo; i &lt;= hi; i++) {\n            for (int j = i; j &gt; lo &amp;&amp; less(a[j], a[j - 1]); j--) {\n                exch(a, j, j - 1);\n            }\n        }\n    }\n\n    private static void merge(Comparable[] a, int lo, int mid, int hi) {\n        int i = lo, j = mid+1;\n\n        for (int k = lo; k &lt;= hi; k++) {\n            aux[k] = a[k];\n        }\n\n        for (int k = lo; k &lt;= hi; k++) {\n            if (i &gt; mid) a[k] = aux[j++];\n            else if (j &gt; hi) a[k] = aux[i++];\n            else if (less(aux[j], aux[i])) a[k] = aux[j++];\n            else a[k] = aux[i++];\n        }\n    }\n\n    private static void sort(Comparable[] a, int lo, int hi) {\n        final int INSERTION_SORT_THRESHOLD = 10;\n        if (hi &lt;= lo + INSERTION_SORT_THRESHOLD - 1) {\n            insertionSort(a, lo, hi);\n            return;\n        }\n        int mid = lo + (hi - lo) / 2;\n\n        sort(a, lo, mid);\n        sort(a, mid+1, hi);\n        merge(a, lo, mid, hi);\n    }\n\n    public static void sort(Comparable[] a) {\n        aux = new Comparable[a.length];\n        sort(a, 0, a.length - 1);\n    }\n\n    public static void main(String[] args) {\n        Integer[] a = {7, 3, 5, 1, 6, 8, 2, 4, 9, 0};\n        System.out.println(&quot;Before sorting: &quot; + Arrays.toString(a));\n        Main.sort(a);\n        System.out.println(&quot;After sorting: &quot; + Arrays.toString(a));\n    }\n}\n\n \n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1415982042,"post_id":26934264,"comment_id":42413287,"body_markdown":"So what have you tried? This sounds like a very simple `while` loop.","body":"So what have you tried? This sounds like a very simple <code>while</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":5248884,"reputation":4394,"user_id":4193730,"display_name":"Subh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1482896636,"creation_date":1415982212,"answer_id":26934458,"question_id":26934264,"body_markdown":"**Each time, before you change page, retrieve the text, i.e, the number of records. Then, Click on the Next button to navigate to the next page. And then, wait for that to be invisible using explicit wait.** \r\n\r\nBelow code might help you out:\r\n\r\n    String retrieved_text = driver.findElement(By.xpath(&quot;//xpath of the element related to records&quot;)).getText(); //Retrieving text, i.e., the innerHtml representing number of records\r\n    \r\n    /*Click on the next button to navigate to the next page*/\r\n    driver.findElement(By.xpath(&quot;//next button&#39;s xpath&quot;)).click();\r\n    \t   \r\n    WebDriverWait wait = new WebDriverWait(driver,30);\r\n    wait.until(ExpectedConditions.invisibilityOfElementWithText(By.xpath(&quot;//xpath of the element related to records&quot;), retrieved_text)); \r\n\r\n**NOTE:** In the last line of code use xpath that locates the element that shows text &#39;displaying 1-10 of 2100&#39;, i.e, the element that shows display per page information and use the retrieve text to infer that the concerned element with that certain text is invisible or not in the next page.\r\n\r\n*This will help in identifying the invisibility of the concerned element easily.*\r\n\r\n**OTHER WAY: In case you want to navigate to next pages till you detect a certain element**&lt;br&gt;&lt;br&gt;\r\n(PUT EVERYTHING IN A DO-WHILE LOOP)\r\n\r\n - Wait for the element to appear in the page.\r\n - If found, then write code to act on the element and break out of loop.\r\n - Else, click on the Next button\r\n - CONDITION will be till the NEXT button gets disabled.\r\n ","title":"Webdriver - wait for text of an element to change","body":"<p><strong>Each time, before you change page, retrieve the text, i.e, the number of records. Then, Click on the Next button to navigate to the next page. And then, wait for that to be invisible using explicit wait.</strong> </p>\n\n<p>Below code might help you out:</p>\n\n<pre><code>String retrieved_text = driver.findElement(By.xpath(\"//xpath of the element related to records\")).getText(); //Retrieving text, i.e., the innerHtml representing number of records\n\n/*Click on the next button to navigate to the next page*/\ndriver.findElement(By.xpath(\"//next button's xpath\")).click();\n\nWebDriverWait wait = new WebDriverWait(driver,30);\nwait.until(ExpectedConditions.invisibilityOfElementWithText(By.xpath(\"//xpath of the element related to records\"), retrieved_text)); \n</code></pre>\n\n<p><strong>NOTE:</strong> In the last line of code use xpath that locates the element that shows text 'displaying 1-10 of 2100', i.e, the element that shows display per page information and use the retrieve text to infer that the concerned element with that certain text is invisible or not in the next page.</p>\n\n<p><em>This will help in identifying the invisibility of the concerned element easily.</em></p>\n\n<p><strong>OTHER WAY: In case you want to navigate to next pages till you detect a certain element</strong><br><br>\n(PUT EVERYTHING IN A DO-WHILE LOOP)</p>\n\n<ul>\n<li>Wait for the element to appear in the page.</li>\n<li>If found, then write code to act on the element and break out of loop.</li>\n<li>Else, click on the Next button</li>\n<li>CONDITION will be till the NEXT button gets disabled.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7731891,"reputation":576,"user_id":5854732,"display_name":"Michael Stalcup"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576778069,"creation_date":1576778069,"answer_id":59414687,"question_id":26934264,"body_markdown":"I needed to do the same thing and found a solution.. You can use **WebDriverWait** along with the **ExpectedCondition.*not*** to wait until text changes. \r\n\r\n\r\n    WebElement textElement = driver.findElementByCssSelector(&quot;#UserList:last-of-type &gt; div:last-child&quot;));\r\n    String currentText = textElement.getText();\r\n            \r\n    //poll every .5 seconds for 5 seconds until condition is met\r\n    WebDriverWait wait = new WebDriverWait(driver, 5);\r\n    //wait until text changes\r\n    wait.until(ExpectedConditions.not(ExpectedConditions.textToBePresentInElement(countdownTime,&quot;5:00&quot;)));","title":"Webdriver - wait for text of an element to change","body":"<p>I needed to do the same thing and found a solution.. You can use <strong>WebDriverWait</strong> along with the <strong>ExpectedCondition.<em>not</em></strong> to wait until text changes. </p>\n\n<pre><code>WebElement textElement = driver.findElementByCssSelector(\"#UserList:last-of-type &gt; div:last-child\"));\nString currentText = textElement.getText();\n\n//poll every .5 seconds for 5 seconds until condition is met\nWebDriverWait wait = new WebDriverWait(driver, 5);\n//wait until text changes\nwait.until(ExpectedConditions.not(ExpectedConditions.textToBePresentInElement(countdownTime,\"5:00\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685807383,"creation_date":1685704744,"answer_id":76389691,"question_id":26934264,"body_markdown":"**Java should really add this method that i have invented to her library :**\r\n\r\n**LOL**\r\n\r\n**Upvote this if it works well**\r\n\r\n        public void WaitForTextToBeChanged(final WebElement element){\r\n        try {\r\n            String oldValueOfCTextOfWebElement = element.getText();\r\n            wait.until(ExpectedConditions.not(ExpectedConditions.textToBePresentInElement(element,oldValueOfCTextOfWebElement)));\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;Text of element didn&#39;t change&quot;);\r\n        }\r\n    }","title":"Webdriver - wait for text of an element to change","body":"<p><strong>Java should really add this method that i have invented to her library :</strong></p>\n<p><strong>LOL</strong></p>\n<p><strong>Upvote this if it works well</strong></p>\n<pre><code>    public void WaitForTextToBeChanged(final WebElement element){\n    try {\n        String oldValueOfCTextOfWebElement = element.getText();\n        wait.until(ExpectedConditions.not(ExpectedConditions.textToBePresentInElement(element,oldValueOfCTextOfWebElement)));\n    }\n    catch (Exception e){\n        System.out.println(&quot;Text of element didn't change&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3689003,"reputation":1315,"user_id":3072086,"accept_rate":81,"display_name":"TestRaptor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19892,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":26934458,"answer_count":3,"score":6,"last_activity_date":1685807383,"creation_date":1415981645,"question_id":26934264,"body_markdown":"I created an object for an element in my application. This element is text for records displayed on the screen. So on the first page, it will say something like &quot;displaying 1-10 of 2100&quot;\r\n\r\n    public static final String VTeam_M_Detail_VRecordsText = &quot;css=#UserList:last-of-type &gt; div:last-child&quot;;\r\n\r\n\r\nWhen I am changing pages, the text of that element changes. So if I go to the 2nd page, it will say &quot;displaying 11-20 of 2100&quot;. How can I get webdriver to wait for the text of that element to change before continuing the test. So when I go from page 1 to page 2, I want to wait for that element to have text equal to &quot;displaying 11-20 of 2100&quot; before continuing with the rest of the test. \r\n\r\n ","title":"Webdriver - wait for text of an element to change","body":"<p>I created an object for an element in my application. This element is text for records displayed on the screen. So on the first page, it will say something like \"displaying 1-10 of 2100\"</p>\n\n<pre><code>public static final String VTeam_M_Detail_VRecordsText = \"css=#UserList:last-of-type &gt; div:last-child\";\n</code></pre>\n\n<p>When I am changing pages, the text of that element changes. So if I go to the 2nd page, it will say \"displaying 11-20 of 2100\". How can I get webdriver to wait for the text of that element to change before continuing the test. So when I go from page 1 to page 2, I want to wait for that element to have text equal to \"displaying 11-20 of 2100\" before continuing with the rest of the test. </p>\n"},{"tags":["java","derby"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683720139,"post_id":76216893,"comment_id":134409251,"body_markdown":"That should be `err.printStackTrace();` and post that as *formatted code* Also, you should be using `PreparedStatement` and probably the new `java.time` classes. You should definitely not be passing around database objects as instance/global variables (except perhaps just the *one* `Connection`), as that&#39;s asking for state problems.","body":"That should be <code>err.printStackTrace();</code> and post that as <i>formatted code</i> Also, you should be using <code>PreparedStatement</code> and probably the new <code>java.time</code> classes. You should definitely not be passing around database objects as instance/global variables (except perhaps just the <i>one</i> <code>Connection</code>), as that&#39;s asking for state problems."}],"answers":[{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685806413,"creation_date":1685806413,"answer_id":76396751,"question_id":76216893,"body_markdown":"You need to tell us *which* line of your code gave the &quot;Invalid operation at cursor position&quot; error. Was it one of the lines of code which you pasted? Or some other line somewhere else in your code?\r\n\r\nOne thing I noticed, reading your code, is this:\r\n\r\n    String deleteSQL = &quot;DELETE FROM ADMIN1.BORROWEDBOOK WHERE CustomerName = &#39;&quot; + rCustomer + &quot;&#39; AND BookName = &#39;&quot;+ rBook + &quot;&#39;&quot;;\r\n    Rset2 = state.executeQuery(deleteSQL);\r\n\r\nYou don&#39;t use `executeQuery` to perform a `DELETE` statement. You use `execute` or `executeUpdate` to perform a `DELETE` statement. A `DELETE` statement does not return a `ResultSet`\r\n","title":"Invalid operation at current cursor position (Java DB) netbeans 8","body":"<p>You need to tell us <em>which</em> line of your code gave the &quot;Invalid operation at cursor position&quot; error. Was it one of the lines of code which you pasted? Or some other line somewhere else in your code?</p>\n<p>One thing I noticed, reading your code, is this:</p>\n<pre><code>String deleteSQL = &quot;DELETE FROM ADMIN1.BORROWEDBOOK WHERE CustomerName = '&quot; + rCustomer + &quot;' AND BookName = '&quot;+ rBook + &quot;'&quot;;\nRset2 = state.executeQuery(deleteSQL);\n</code></pre>\n<p>You don't use <code>executeQuery</code> to perform a <code>DELETE</code> statement. You use <code>execute</code> or <code>executeUpdate</code> to perform a <code>DELETE</code> statement. A <code>DELETE</code> statement does not return a <code>ResultSet</code></p>\n"}],"owner":{"account_id":28566484,"reputation":1,"user_id":21869305,"display_name":"Ley Cabs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685806413,"creation_date":1683711263,"question_id":76216893,"body_markdown":"I made a button that returns the book in the library and it charges the borrower if the book is overdue but it charges nothing if the book is return within the given return date\r\nthe error says &quot;Invalid operation at current cursor position.&quot;\r\n\r\n\r\n```\r\nprivate void btnReturnActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n            String rCustomer = customerName.getText();\r\n            String rDate = Date.getText();\r\n            String rBook = bookName.getText();\r\n            String rStatus = &quot;Available&quot;;\r\n            \r\n\r\n        if (rCustomer.equals(&quot;&quot;) || rDate.equals(&quot;&quot;)\r\n            || rBook.equals(&quot;&quot;)) {\r\n            JOptionPane.showMessageDialog(this, &quot;Please Enter Required Details&quot;);\r\n        } else {\r\n            try {\r\n                String returnDateString = Rset2.getString(&quot;RETURNDATE&quot;);\r\n                Date returnDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(returnDateString);\r\n                Date currentDate = new Date();\r\n                long balance = ( currentDate.getTime() - returnDate.getTime() )/ (24 * 60 * 60 * 1000);\r\n                if (balance &lt; 0){\r\n                    String updateSQL = &quot;UPDATE ADMIN1.INVENTORY SET STATUS = &#39;&quot; + rStatus + &quot;&#39;, DATE = NULL WHERE BOOKNAME = &#39;&quot; + rBook + &quot;&#39;&quot;;\r\n                    state.executeUpdate(updateSQL);\r\n                   \r\n                    JOptionPane.showMessageDialog(this, &quot;Book Returned Successfully&quot;);\r\n                    LibraryFrame lib = new LibraryFrame();\r\n                    lib.setVisible(true);\r\n                    dispose();\r\n                }else {\r\n                \r\n                int choice = JOptionPane.showConfirmDialog(this, &quot;Please pay the fee of: &quot;+ balance, &quot;Alert&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n\r\n                if (choice == JOptionPane.OK_OPTION) {\r\n                    try {\r\n                        String deleteSQL = &quot;DELETE FROM ADMIN1.BORROWEDBOOK WHERE CustomerName = &#39;&quot; + rCustomer + &quot;&#39; AND BookName = &#39;&quot;+ rBook + &quot;&#39;&quot;;\r\n                        Rset2 = state.executeQuery(deleteSQL);\r\n                        JOptionPane.showMessageDialog(this, &quot;Payment Successfull&quot;);\r\n                    } catch( SQLException err ){\r\n                        System.out.println(err.getMessage());\r\n                    }\r\n                }\r\n                }\r\n                conn.commit();\r\n                Rset.close();\r\n                Rset2.close();\r\n                state.close();\r\n\r\n                JOptionPane.showMessageDialog(this, &quot;Book Borrowed Successfully&quot;);\r\n                LibraryFrame lib = new LibraryFrame();\r\n                lib.setVisible(true);\r\n                dispose();\r\n\r\n            } catch (SQLException err) {\r\n                System.out.println(err.getMessage());\r\n            }   catch (ParseException ex) {\r\n                    Logger.getLogger(returnBook.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n}\r\n```","title":"Invalid operation at current cursor position (Java DB) netbeans 8","body":"<p>I made a button that returns the book in the library and it charges the borrower if the book is overdue but it charges nothing if the book is return within the given return date\nthe error says &quot;Invalid operation at current cursor position.&quot;</p>\n<pre><code>private void btnReturnActionPerformed(java.awt.event.ActionEvent evt) {                                        \n            String rCustomer = customerName.getText();\n            String rDate = Date.getText();\n            String rBook = bookName.getText();\n            String rStatus = &quot;Available&quot;;\n            \n\n        if (rCustomer.equals(&quot;&quot;) || rDate.equals(&quot;&quot;)\n            || rBook.equals(&quot;&quot;)) {\n            JOptionPane.showMessageDialog(this, &quot;Please Enter Required Details&quot;);\n        } else {\n            try {\n                String returnDateString = Rset2.getString(&quot;RETURNDATE&quot;);\n                Date returnDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(returnDateString);\n                Date currentDate = new Date();\n                long balance = ( currentDate.getTime() - returnDate.getTime() )/ (24 * 60 * 60 * 1000);\n                if (balance &lt; 0){\n                    String updateSQL = &quot;UPDATE ADMIN1.INVENTORY SET STATUS = '&quot; + rStatus + &quot;', DATE = NULL WHERE BOOKNAME = '&quot; + rBook + &quot;'&quot;;\n                    state.executeUpdate(updateSQL);\n                   \n                    JOptionPane.showMessageDialog(this, &quot;Book Returned Successfully&quot;);\n                    LibraryFrame lib = new LibraryFrame();\n                    lib.setVisible(true);\n                    dispose();\n                }else {\n                \n                int choice = JOptionPane.showConfirmDialog(this, &quot;Please pay the fee of: &quot;+ balance, &quot;Alert&quot;, JOptionPane.OK_CANCEL_OPTION);\n\n                if (choice == JOptionPane.OK_OPTION) {\n                    try {\n                        String deleteSQL = &quot;DELETE FROM ADMIN1.BORROWEDBOOK WHERE CustomerName = '&quot; + rCustomer + &quot;' AND BookName = '&quot;+ rBook + &quot;'&quot;;\n                        Rset2 = state.executeQuery(deleteSQL);\n                        JOptionPane.showMessageDialog(this, &quot;Payment Successfull&quot;);\n                    } catch( SQLException err ){\n                        System.out.println(err.getMessage());\n                    }\n                }\n                }\n                conn.commit();\n                Rset.close();\n                Rset2.close();\n                state.close();\n\n                JOptionPane.showMessageDialog(this, &quot;Book Borrowed Successfully&quot;);\n                LibraryFrame lib = new LibraryFrame();\n                lib.setVisible(true);\n                dispose();\n\n            } catch (SQLException err) {\n                System.out.println(err.getMessage());\n            }   catch (ParseException ex) {\n                    Logger.getLogger(returnBook.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n\n}\n</code></pre>\n"},{"tags":["java","database","netbeans","derby"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683813816,"post_id":76226480,"comment_id":134426631,"body_markdown":"Those tables don&#39;t look real. What are the actual columns and how to want the tables to relate?","body":"Those tables don&#39;t look real. What are the actual columns and how to want the tables to relate?"}],"answers":[{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685806075,"creation_date":1685806075,"answer_id":76396728,"question_id":76226480,"body_markdown":"I think you misunderstand [what a foreign key is][1] and what it does. A foreign key doesn&#39;t &quot;show any records&quot; or &quot;show the data&quot;. You use SQL `SELECT` statements to show records and show data.\r\n\r\nA foreign key is an integrity constraint, and it instructs the database engine to enforce certain integrity rules. A foreign key tells the database that it should enforce a relationship between two table. In this case, specifically, you are telling the database to enforce the validity of the values in the `t2.t1id` column.\r\n\r\nSo the database will ensure that for each row in `t2`, the value in `t2.t1id` from that row is a value of `t1.id` for some row in `t1`.\r\n\r\nThe database will then do things like: \r\n* refuse to let you insert a row in `t2` with a value of `t2.t1id` that doesn&#39;t exist in any row in `t1`\r\n* and refuse to let you delete a row from `t1` if there are any rows in `t2` which have values of `t1id` that match that particular `t1.id` value.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Foreign_key","title":"Derby foreign key","body":"<p>I think you misunderstand <a href=\"https://en.wikipedia.org/wiki/Foreign_key\" rel=\"nofollow noreferrer\">what a foreign key is</a> and what it does. A foreign key doesn't &quot;show any records&quot; or &quot;show the data&quot;. You use SQL <code>SELECT</code> statements to show records and show data.</p>\n<p>A foreign key is an integrity constraint, and it instructs the database engine to enforce certain integrity rules. A foreign key tells the database that it should enforce a relationship between two table. In this case, specifically, you are telling the database to enforce the validity of the values in the <code>t2.t1id</code> column.</p>\n<p>So the database will ensure that for each row in <code>t2</code>, the value in <code>t2.t1id</code> from that row is a value of <code>t1.id</code> for some row in <code>t1</code>.</p>\n<p>The database will then do things like:</p>\n<ul>\n<li>refuse to let you insert a row in <code>t2</code> with a value of <code>t2.t1id</code> that doesn't exist in any row in <code>t1</code></li>\n<li>and refuse to let you delete a row from <code>t1</code> if there are any rows in <code>t2</code> which have values of <code>t1id</code> that match that particular <code>t1.id</code> value.</li>\n</ul>\n"}],"owner":{"account_id":26944855,"reputation":1,"user_id":20514998,"display_name":"Lart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685806075,"creation_date":1683799838,"question_id":76226480,"body_markdown":"Hello guys and good day.\r\nI have Table &quot;T1&quot; that has primary key &quot;ID&quot; and another Table &quot;T2&quot; that has foreign key &quot;T1ID&quot; reference from the primary key&quot;ID&quot;, My problem is the foreign key does not show any records that I insert from the primary key &quot;ID&quot;, it should shows the data of the records what I insert in the primary key.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand this is the code that I execute to make foreign key:\r\n\r\n    Alter table T2 add FOREIGN KEY (T1ID) references T1(ID);\r\n\r\nPlease help and thank you in advance.\r\n\r\nForeign key&quot;T1ID&quot; supposed to shows the data of the records what I insert in the primary key&quot;ID&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h4Ido.png","title":"Derby foreign key","body":"<p>Hello guys and good day.\nI have Table &quot;T1&quot; that has primary key &quot;ID&quot; and another Table &quot;T2&quot; that has foreign key &quot;T1ID&quot; reference from the primary key&quot;ID&quot;, My problem is the foreign key does not show any records that I insert from the primary key &quot;ID&quot;, it should shows the data of the records what I insert in the primary key.</p>\n<p><a href=\"https://i.stack.imgur.com/h4Ido.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h4Ido.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is the code that I execute to make foreign key:</p>\n<pre><code>Alter table T2 add FOREIGN KEY (T1ID) references T1(ID);\n</code></pre>\n<p>Please help and thank you in advance.</p>\n<p>Foreign key&quot;T1ID&quot; supposed to shows the data of the records what I insert in the primary key&quot;ID&quot;</p>\n"},{"tags":["java","android","android-productflavors","source-sets"],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685805561,"creation_date":1685693362,"question_id":76388315,"body_markdown":"I am building an app with two variants: root version and rootless version.\r\nSnippet of what I&#39;ve manually added in the build.gradle:\r\n\r\n       flavorDimensions &quot;default&quot;\r\n        productFlavors {\r\n            root {\r\n                dimension &quot;default&quot;\r\n                applicationIdSuffix &quot;.root&quot;\r\n            }\r\n            rootless {\r\n                dimension &quot;default&quot;\r\n                applicationIdSuffix &quot;.rootless&quot;\r\n            }\r\n        }\r\n\r\nThen I proceeded to create directory root and rootless in the src directory of my project.\r\n\r\nI have the main directory (where shared classes used by both flavors should be stored). Then in the root and rootless directories should be stored the java classes, the layouts and the manifest unique for each variant.\r\n\r\nBut for some reason the rootless directory is not marked as a source set, it says &quot;Java file outside of source root&quot; but the folder rootless it&#39;s exactly in the same src directory where main and root directories are.\r\n\r\nHere some screenshots:\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mXIWe.png\r\n  [2]: https://i.stack.imgur.com/SGRYu.png","title":"One of source directories is not marked as source set when using different flavors","body":"<p>I am building an app with two variants: root version and rootless version.\nSnippet of what I've manually added in the build.gradle:</p>\n<pre><code>   flavorDimensions &quot;default&quot;\n    productFlavors {\n        root {\n            dimension &quot;default&quot;\n            applicationIdSuffix &quot;.root&quot;\n        }\n        rootless {\n            dimension &quot;default&quot;\n            applicationIdSuffix &quot;.rootless&quot;\n        }\n    }\n</code></pre>\n<p>Then I proceeded to create directory root and rootless in the src directory of my project.</p>\n<p>I have the main directory (where shared classes used by both flavors should be stored). Then in the root and rootless directories should be stored the java classes, the layouts and the manifest unique for each variant.</p>\n<p>But for some reason the rootless directory is not marked as a source set, it says &quot;Java file outside of source root&quot; but the folder rootless it's exactly in the same src directory where main and root directories are.</p>\n<p>Here some screenshots:\n<img src=\"https://i.stack.imgur.com/mXIWe.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/SGRYu.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685791471,"creation_date":1685791471,"answer_id":76395839,"question_id":76395670,"body_markdown":"The `Stream.sorted()` method can be directly used with `Comparator.comparing()` and its variations (including `comparingDouble()` that is designed to work with `double` primitives).\r\n\r\nIf you need to return only the cheapest `Car`, you can write:\r\n\r\n```java\r\nOptional&lt;Car&gt; cheapestCarOpt = this.vehicles.keySet()\r\n    .stream()\r\n    .sorted(Comparator.comparingDouble(Car::calcCost))\r\n    .findFirst();\r\n```\r\n\r\n\r\nOtherwise, if full entry (key + value) is required, the following code should work:\r\n\r\n```java\r\nOptional&lt;Map.Entry&lt;Car, Integer&gt;&gt; cheapestCarEntryOpt =  this.vehicles.entrySet()\r\n    .stream()\r\n    .sorted(Comparator.comparingDouble(e -&gt; e.getKey().calcCost()))\r\n    .findFirst();\r\n```\r\n\r\nHope that helps.\r\n","title":"How to sort a map by key using comparator","body":"<p>The <code>Stream.sorted()</code> method can be directly used with <code>Comparator.comparing()</code> and its variations (including <code>comparingDouble()</code> that is designed to work with <code>double</code> primitives).</p>\n<p>If you need to return only the cheapest <code>Car</code>, you can write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Car&gt; cheapestCarOpt = this.vehicles.keySet()\n    .stream()\n    .sorted(Comparator.comparingDouble(Car::calcCost))\n    .findFirst();\n</code></pre>\n<p>Otherwise, if full entry (key + value) is required, the following code should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Map.Entry&lt;Car, Integer&gt;&gt; cheapestCarEntryOpt =  this.vehicles.entrySet()\n    .stream()\n    .sorted(Comparator.comparingDouble(e -&gt; e.getKey().calcCost()))\n    .findFirst();\n</code></pre>\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":22929532,"reputation":58,"user_id":17064082,"display_name":"Jack Lam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685804454,"creation_date":1685804454,"answer_id":76396630,"question_id":76395670,"body_markdown":"I will recommend using \r\n```\r\nvehicles.entrySet()\r\n        .stream()\r\n        .min(Map.Entry.comparingByKey(Comparator.comparing(Car::calcCost))\r\n```\r\nbut if you need to find the minimum price of the car frequently, I recommend you use &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html&quot;&gt;TreeMap&lt;/a&gt; instead of HashMap","title":"How to sort a map by key using comparator","body":"<p>I will recommend using</p>\n<pre><code>vehicles.entrySet()\n        .stream()\n        .min(Map.Entry.comparingByKey(Comparator.comparing(Car::calcCost))\n</code></pre>\n<p>but if you need to find the minimum price of the car frequently, I recommend you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> instead of HashMap</p>\n"}],"owner":{"account_id":28229229,"reputation":11,"user_id":21578700,"display_name":"Nikita Gelfman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76395839,"answer_count":2,"score":0,"last_activity_date":1685804454,"creation_date":1685788774,"question_id":76395670,"body_markdown":"I have a `HashMap`:\r\n```java\r\nMap&lt;Car, Integer&gt; vehicles = new HashMap&lt;Car, Integer&gt;();\r\n```\r\nI need to return the cheapest `Car` in the map using streams. `Car` has a getter that returns price:\r\n```java\r\ndouble calcCost() {\r\n    return price;\r\n}\r\n```\r\nI cannot use `Comparator` outside the stream, I must use it inside.\r\n\r\nHere&#39;s what I tried:\r\n```java\r\nthis.vehicles\r\n    .entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.comparingByKey(Comparator.comparing(Car::calcCost)));\r\n````\r\n","title":"How to sort a map by key using comparator","body":"<p>I have a <code>HashMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Car, Integer&gt; vehicles = new HashMap&lt;Car, Integer&gt;();\n</code></pre>\n<p>I need to return the cheapest <code>Car</code> in the map using streams. <code>Car</code> has a getter that returns price:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double calcCost() {\n    return price;\n}\n</code></pre>\n<p>I cannot use <code>Comparator</code> outside the stream, I must use it inside.</p>\n<p>Here's what I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.vehicles\n    .entrySet()\n    .stream()\n    .sorted(Map.Entry.comparingByKey(Comparator.comparing(Car::calcCost)));\n</code></pre>\n"},{"tags":["java","spring-boot","rest","exception","exceptionhandler"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1685802862,"post_id":76396477,"comment_id":134713755,"body_markdown":"Does this answer your question? [Ambiguous @ExceptionHandler method for HttpMessageNotReadableException](https://stackoverflow.com/questions/67147660/ambiguous-exceptionhandler-method-for-httpmessagenotreadableexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67147660/ambiguous-exceptionhandler-method-for-httpmessagenotreadableexception\">Ambiguous @ExceptionHandler method for HttpMessageNotReadableException</a>"}],"answers":[{"tags":[],"owner":{"account_id":28743741,"reputation":52,"user_id":22013350,"display_name":"Bernard Menezes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685803689,"creation_date":1685803689,"answer_id":76396588,"question_id":76396477,"body_markdown":"You need to extends ResponseEntityExceptionHandler and override the method. Just like reported in: https://stackoverflow.com/questions/51991992/getting-ambiguous-exceptionhandler-method-mapped-for-methodargumentnotvalidexce","title":"I can&#39;t write my own @ExceptionHandler for HttpMediaTypeNotAcceptableException in Spring Boot","body":"<p>You need to extends ResponseEntityExceptionHandler and override the method. Just like reported in: <a href=\"https://stackoverflow.com/questions/51991992/getting-ambiguous-exceptionhandler-method-mapped-for-methodargumentnotvalidexce\">Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application</a></p>\n"}],"owner":{"account_id":24759010,"reputation":45,"user_id":18643631,"display_name":"Mixss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685803689,"creation_date":1685801965,"question_id":76396477,"body_markdown":"I want to return my own error message in rest controller when accept header is &quot;application/xml&quot;. The thing is if this header is set then spring throws `HttpMediaTypeNotAcceptableException`. I wanted to use `@ExceptionHandler` and I added a new method in class anotated with `@RestControllerAdvice`, but when I start the application I get error \r\n```\r\nAmbiguous @ExceptionHandler method mapped for [class org.springframework.web.HttpMediaTypeNotAcceptableException]: {public org.springframework.http.ResponseEntity mixss.github_api.exceptionhandlers.HttpResponseEntityExceptionHandler.handleMediaTypeNotAcceptableException(org.springframework.web.HttpMediaTypeNotAcceptableException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception\r\n```\r\nwhich means that there is already `@ExceptionHandler` for this exception, but it is in `ResponseEntityExceptionHandler`(not my class)\r\n\r\n\r\n\r\nOf course when I add `produces = MediaType.APPLICATION_JSON_VALUE` to `@GetMapping` in controller this exception is not thrown but there is a built-in response I would like to change.","title":"I can&#39;t write my own @ExceptionHandler for HttpMediaTypeNotAcceptableException in Spring Boot","body":"<p>I want to return my own error message in rest controller when accept header is &quot;application/xml&quot;. The thing is if this header is set then spring throws <code>HttpMediaTypeNotAcceptableException</code>. I wanted to use <code>@ExceptionHandler</code> and I added a new method in class anotated with <code>@RestControllerAdvice</code>, but when I start the application I get error</p>\n<pre><code>Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.HttpMediaTypeNotAcceptableException]: {public org.springframework.http.ResponseEntity mixss.github_api.exceptionhandlers.HttpResponseEntityExceptionHandler.handleMediaTypeNotAcceptableException(org.springframework.web.HttpMediaTypeNotAcceptableException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception\n</code></pre>\n<p>which means that there is already <code>@ExceptionHandler</code> for this exception, but it is in <code>ResponseEntityExceptionHandler</code>(not my class)</p>\n<p>Of course when I add <code>produces = MediaType.APPLICATION_JSON_VALUE</code> to <code>@GetMapping</code> in controller this exception is not thrown but there is a built-in response I would like to change.</p>\n"},{"tags":["java","spring-boot","rest","azure-aks"],"owner":{"account_id":368060,"reputation":1,"user_id":3864850,"display_name":"user3864850"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685803568,"creation_date":1685714838,"question_id":76390893,"body_markdown":"We have Java Spring boot REST Application running on Azure AKS cluster. While doing load testing on the application ( More than 400 user in a Second) we are seeing the calls between the services and third part services are taking a long time.\r\nWe are monitoring the App with Datadog API and below are the \r\n[Normal Load](https://i.stack.imgur.com/HSh1r.png) \r\n[During Load](https://i.stack.imgur.com/D3RNu.png)\r\nWe are seeing that when the load increases the application is waiting for a very long duration when it makes a call to another service via rest. \r\nWe are seeing this behaviour  for services which are with in the cluster or event third part service on AWS.\r\nNormal load is &lt; 50 users per second, high load is 400 users per second.\r\n\r\n\r\n\r\nMy question is is this happening due to network issues or due to the high threads causing the wait.\r\nWe are not seeing the CPU going to 100%.\r\nWe are running the application in 2 Core CPU with 12 G of ram. ","title":"High Load on Java Spring boot application increases processing time","body":"<p>We have Java Spring boot REST Application running on Azure AKS cluster. While doing load testing on the application ( More than 400 user in a Second) we are seeing the calls between the services and third part services are taking a long time.\nWe are monitoring the App with Datadog API and below are the\n<a href=\"https://i.stack.imgur.com/HSh1r.png\" rel=\"nofollow noreferrer\">Normal Load</a>\n<a href=\"https://i.stack.imgur.com/D3RNu.png\" rel=\"nofollow noreferrer\">During Load</a>\nWe are seeing that when the load increases the application is waiting for a very long duration when it makes a call to another service via rest.\nWe are seeing this behaviour  for services which are with in the cluster or event third part service on AWS.\nNormal load is &lt; 50 users per second, high load is 400 users per second.</p>\n<p>My question is is this happening due to network issues or due to the high threads causing the wait.\nWe are not seeing the CPU going to 100%.\nWe are running the application in 2 Core CPU with 12 G of ram.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1685817886,"post_id":76396555,"comment_id":134715362,"body_markdown":"Look into using [SharedPreferences](https://www.tutorialspoint.com/how-to-use-sharedpreferences-on-android-to-store-read-and-edit-values#).","body":"Look into using <a href=\"https://www.tutorialspoint.com/how-to-use-sharedpreferences-on-android-to-store-read-and-edit-values#\" rel=\"nofollow noreferrer\">SharedPreferences</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685865520,"post_id":76396555,"comment_id":134718534,"body_markdown":"Which line of code throws a NPE?","body":"Which line of code throws a NPE?"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1685909997,"post_id":76396555,"comment_id":134723389,"body_markdown":"Bundle  bundle = this.getArguments(), when i try to get the bundle in the fragment.","body":"Bundle  bundle = this.getArguments(), when i try to get the bundle in the fragment."}],"owner":{"display_name":"user18540930"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685803353,"creation_date":1685803353,"question_id":76396555,"body_markdown":"I am making an app that you can basically post some stuff. What i am trying to do is, i want to insert the things that the user posts to his/her own firebase real time database. So that is why i take the username from register activity and try to pass it with bundle to my fragment for users to post. But i get nullpoint exception as &#39;java.lang.NullPointerException: Can&#39;t pass null for argument &#39;pathString&#39; in child()&#39;. Here is my code that passes and recieves bundle:\r\n\r\nRegister class:\r\n\r\n        public void sendUserData(){\r\n        String getUserName = username.getText().toString();\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(&quot;username&quot;,getUserName);\r\n        AddFragment addFragment = new AddFragment();\r\n        addFragment.setArguments(bundle);\r\n    }\r\n\r\nAddFragment fragment:\r\n\r\n    try {\r\n            //Get username from register activity\r\n            Bundle bundle = this.getArguments();\r\n            uname = bundle.getString(&quot;username&quot;);\r\n        }catch (Exception e){\r\n            Toast.makeText(getActivity(), &quot;Error is:&quot;+e, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n\r\n","title":"I cannot pass variable from activity to fragment using bundle","body":"<p>I am making an app that you can basically post some stuff. What i am trying to do is, i want to insert the things that the user posts to his/her own firebase real time database. So that is why i take the username from register activity and try to pass it with bundle to my fragment for users to post. But i get nullpoint exception as 'java.lang.NullPointerException: Can't pass null for argument 'pathString' in child()'. Here is my code that passes and recieves bundle:</p>\n<p>Register class:</p>\n<pre><code>    public void sendUserData(){\n    String getUserName = username.getText().toString();\n    Bundle bundle = new Bundle();\n    bundle.putString(&quot;username&quot;,getUserName);\n    AddFragment addFragment = new AddFragment();\n    addFragment.setArguments(bundle);\n}\n</code></pre>\n<p>AddFragment fragment:</p>\n<pre><code>try {\n        //Get username from register activity\n        Bundle bundle = this.getArguments();\n        uname = bundle.getString(&quot;username&quot;);\n    }catch (Exception e){\n        Toast.makeText(getActivity(), &quot;Error is:&quot;+e, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":17391812,"reputation":67,"user_id":12602207,"display_name":"Naveen Negi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685179476,"creation_date":1685179476,"answer_id":76346217,"question_id":76345430,"body_markdown":"From the look of your provided details, the issue could stem from various sources:\r\n\r\n1. **Verify the logger initialisation**: Make sure the &quot;l&quot; logger is initialised correctly for the &quot;com.ltsllc.miranda&quot; package. It&#39;s possible you may be using a logger intended for a different package, causing it not to pick up the DEBUG setting.\r\n\r\n   Here&#39;s an example:\r\n   ```java\r\n   import org.apache.log4j.Logger;\r\n\r\n   public class Miranda {\r\n       private static final Logger l = Logger.getLogger(Miranda.class);\r\n   }\r\n   ```\r\n2. **Confirm the location of your configuration file**: Check that the log4j.properties file is properly located. It needs to be on the classpath. Typically for a Maven project, you would place it in the `src/main/resources` directory.\r\n\r\n3. **Inspect for multiple configurations**: Log4j could be pulling from the wrong file if you have multiple log4j configuration files (like log4j.xml and log4j.properties). It&#39;s best to only have one configuration file, or to specifically indicate which one to use.\r\n\r\n4. **Potential overriding of log4j configuration**: Certain libraries or frameworks could unintentionally override your log4j configuration. For instance, Spring Boot automatically configures logging by default. It&#39;s worth considering if something similar may be occurring in your case.\r\n\r\n5. **Consider the order of initialisation**: Your logging system might be initialised later than some of your code. Make sure to initialise it as early as possible in your application life-cycle. \r\n\r\nExamining these potential causes should help you identify and resolve the issue.\r\n","title":"log4j: cannot set logging to DEBUG","body":"<p>From the look of your provided details, the issue could stem from various sources:</p>\n<ol>\n<li><p><strong>Verify the logger initialisation</strong>: Make sure the &quot;l&quot; logger is initialised correctly for the &quot;com.ltsllc.miranda&quot; package. It's possible you may be using a logger intended for a different package, causing it not to pick up the DEBUG setting.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.log4j.Logger;\n\npublic class Miranda {\n    private static final Logger l = Logger.getLogger(Miranda.class);\n}\n</code></pre>\n</li>\n<li><p><strong>Confirm the location of your configuration file</strong>: Check that the log4j.properties file is properly located. It needs to be on the classpath. Typically for a Maven project, you would place it in the <code>src/main/resources</code> directory.</p>\n</li>\n<li><p><strong>Inspect for multiple configurations</strong>: Log4j could be pulling from the wrong file if you have multiple log4j configuration files (like log4j.xml and log4j.properties). It's best to only have one configuration file, or to specifically indicate which one to use.</p>\n</li>\n<li><p><strong>Potential overriding of log4j configuration</strong>: Certain libraries or frameworks could unintentionally override your log4j configuration. For instance, Spring Boot automatically configures logging by default. It's worth considering if something similar may be occurring in your case.</p>\n</li>\n<li><p><strong>Consider the order of initialisation</strong>: Your logging system might be initialised later than some of your code. Make sure to initialise it as early as possible in your application life-cycle.</p>\n</li>\n</ol>\n<p>Examining these potential causes should help you identify and resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685333751,"creation_date":1685251496,"answer_id":76350069,"question_id":76345430,"body_markdown":"When no configuration is provided the Log4j2 Reference Implementation (`log4j-core`) uses a `%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n` pattern and an `ERROR` level. This is what you are observing on your standard output.\r\n\r\nThe logging APIs and backends are probably bound as follows:\r\n\r\n * Netty&#39;s internal logging API (cf. [`InternalLoggerFactory`](https://github.com/netty/netty/blob/4.1/common/src/main/java/io/netty/util/internal/logging/InternalLoggerFactory.java)) binds to SLF4J (`slf4j-api`), which uses Log4j 1.x or Reload4j as backend. This backend is the one you **configured**.\r\n * the Log4j2 API you use in your code(cf. [API separation](https://logging.apache.org/log4j/2.x/manual/api-separation.html)) binds to Log4j2 Reference Implementation, which you **didn&#39;t configure**. I am guessing that the fully qualified class name of `l` in your code is `org.apache.logging.log4j.Logger`.\r\n\r\nI am assuming you don&#39;t want to use Log4j 1.x as backend (it was declared end-of-life 8 years ago) so you need to:\r\n\r\n 1. Configure `log4j-core` by adding a `log4j2.xml` file with content:\r\n    ```lang-xml\r\n    &lt;Configuration&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Console name=&quot;console&quot;&gt;\r\n          &lt;PatternLayout pattern=&quot;%-5p %c{1} - %m%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;DEBUG&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n    ```\r\n 2. Fix up your dependencies, by:\r\n     * Removing the `log4j:log4j` and `ch.qos.reload4j:reload4j` artifacts from your classpath. This also includes the SLF4J bindings `org.slf4j:slf4j-log4j12` and `org.slf4j:slf4j-reload4j`.\r\n     * Netty binds to Log4j2 API if SLF4J (`slf4j-api`) is not present, but other libraries might be using SLF4J directly. If you are using Maven you need these 3 artifacts:\r\n       ```lang-xml\r\n        &lt;dependencyManagement&gt;\r\n          &lt;!-- Add the BOM, so you don&#39;t need to specify version --&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\r\n              &lt;version&gt;2.20.0&lt;/version&gt;\r\n              &lt;scope&gt;import&lt;/scope&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;!-- Used in your code --&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;!-- Only necessary at runtime --&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;!--\r\n            ~ If some of your libraries use SLF4J API directly\r\n            ~ bind them to `log4j-api`:\r\n            --&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;!-- Replace with log4j-slf4j2-impl if SLF4J 2.x is used --&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        ```\r\n        If your libraries use other logging APIs (e.g. Jakarta Apache Commons Logging, `java.util.logging`, JBoss Logging), you&#39;ll also need to bind them to `log4j-api`.\r\n\r\n**Edit**: I would advise against using the properties configuration format for Log4j 2.x, since it is extremely verbose to store a tree-like structure in a flat format. Besides when Log4j 1.x was released the JRE did not have an XML parser, now it has it.\r\n\r\nThe XML configuration above can be translated to properties as:\r\n```\r\nappender.0.type = Console\r\nappender.0.name = console\r\nappender.0.0.type = PatternLayout\r\nappender.0.0.pattern = %-5p %c{1} - %m%n\r\n\r\nlogger.rootLogger.level = DEBUG\r\nlogger.rootLogger.appenderRef.0.ref = console\r\n##\r\n# The `rootLogger` config can be abbreviated in recent versions to\r\n#   logger.rootLogger = DEBUG, console\r\n```","title":"log4j: cannot set logging to DEBUG","body":"<p>When no configuration is provided the Log4j2 Reference Implementation (<code>log4j-core</code>) uses a <code>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</code> pattern and an <code>ERROR</code> level. This is what you are observing on your standard output.</p>\n<p>The logging APIs and backends are probably bound as follows:</p>\n<ul>\n<li>Netty's internal logging API (cf. <a href=\"https://github.com/netty/netty/blob/4.1/common/src/main/java/io/netty/util/internal/logging/InternalLoggerFactory.java\" rel=\"nofollow noreferrer\"><code>InternalLoggerFactory</code></a>) binds to SLF4J (<code>slf4j-api</code>), which uses Log4j 1.x or Reload4j as backend. This backend is the one you <strong>configured</strong>.</li>\n<li>the Log4j2 API you use in your code(cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/api-separation.html\" rel=\"nofollow noreferrer\">API separation</a>) binds to Log4j2 Reference Implementation, which you <strong>didn't configure</strong>. I am guessing that the fully qualified class name of <code>l</code> in your code is <code>org.apache.logging.log4j.Logger</code>.</li>\n</ul>\n<p>I am assuming you don't want to use Log4j 1.x as backend (it was declared end-of-life 8 years ago) so you need to:</p>\n<ol>\n<li>Configure <code>log4j-core</code> by adding a <code>log4j2.xml</code> file with content:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;console&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%-5p %c{1} - %m%n&quot;/&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;DEBUG&quot;&gt;\n      &lt;AppenderRef ref=&quot;console&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n</li>\n<li>Fix up your dependencies, by:\n<ul>\n<li>Removing the <code>log4j:log4j</code> and <code>ch.qos.reload4j:reload4j</code> artifacts from your classpath. This also includes the SLF4J bindings <code>org.slf4j:slf4j-log4j12</code> and <code>org.slf4j:slf4j-reload4j</code>.</li>\n<li>Netty binds to Log4j2 API if SLF4J (<code>slf4j-api</code>) is not present, but other libraries might be using SLF4J directly. If you are using Maven you need these 3 artifacts:\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependencyManagement&gt;\n   &lt;!-- Add the BOM, so you don't need to specify version --&gt;\n   &lt;dependencies&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\n       &lt;version&gt;2.20.0&lt;/version&gt;\n       &lt;scope&gt;import&lt;/scope&gt;\n       &lt;type&gt;pom&lt;/type&gt;\n     &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n &lt;/dependencyManagement&gt;\n &lt;dependencies&gt;\n   &lt;!-- Used in your code --&gt;\n   &lt;dependency&gt;\n     &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n     &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n   &lt;!-- Only necessary at runtime --&gt;\n   &lt;dependency&gt;\n     &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n     &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n     &lt;scope&gt;runtime&lt;/scope&gt;\n   &lt;/dependency&gt;\n   &lt;!--\n     ~ If some of your libraries use SLF4J API directly\n     ~ bind them to `log4j-api`:\n     --&gt;\n   &lt;dependency&gt;\n     &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n     &lt;!-- Replace with log4j-slf4j2-impl if SLF4J 2.x is used --&gt;\n     &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n     &lt;scope&gt;runtime&lt;/scope&gt;\n   &lt;/dependency&gt;\n &lt;/dependencies&gt;\n</code></pre>\nIf your libraries use other logging APIs (e.g. Jakarta Apache Commons Logging, <code>java.util.logging</code>, JBoss Logging), you'll also need to bind them to <code>log4j-api</code>.</li>\n</ul>\n</li>\n</ol>\n<p><strong>Edit</strong>: I would advise against using the properties configuration format for Log4j 2.x, since it is extremely verbose to store a tree-like structure in a flat format. Besides when Log4j 1.x was released the JRE did not have an XML parser, now it has it.</p>\n<p>The XML configuration above can be translated to properties as:</p>\n<pre><code>appender.0.type = Console\nappender.0.name = console\nappender.0.0.type = PatternLayout\nappender.0.0.pattern = %-5p %c{1} - %m%n\n\nlogger.rootLogger.level = DEBUG\nlogger.rootLogger.appenderRef.0.ref = console\n##\n# The `rootLogger` config can be abbreviated in recent versions to\n#   logger.rootLogger = DEBUG, console\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11187949,"reputation":181,"user_id":8209535,"display_name":"Clark Hobbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685802895,"creation_date":1685802895,"answer_id":76396530,"question_id":76345430,"body_markdown":"I found the answer in a question relating to how to set the logging level programmatically:\r\n\r\n    LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n    Configuration config = ctx.getConfiguration();\r\n    LoggerConfig loggerConfig = config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME); \r\n    loggerConfig.setLevel(level);\r\n    ctx.updateLoggers();  // This causes all Loggers to refetch information from their LoggerConfig.\r\n\r\nThis was the answer to [this question][1]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2","title":"log4j: cannot set logging to DEBUG","body":"<p>I found the answer in a question relating to how to set the logging level programmatically:</p>\n<pre><code>LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\nConfiguration config = ctx.getConfiguration();\nLoggerConfig loggerConfig = config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME); \nloggerConfig.setLevel(level);\nctx.updateLoggers();  // This causes all Loggers to refetch information from their LoggerConfig.\n</code></pre>\n<p>This was the answer to <a href=\"https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2\">this question</a></p>\n"}],"owner":{"account_id":11187949,"reputation":181,"user_id":8209535,"display_name":"Clark Hobbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76396530,"answer_count":3,"score":2,"last_activity_date":1685802895,"creation_date":1685164738,"question_id":76345430,"body_markdown":"I am having a problem with log4j --- I am trying to set the logging level to DEBUG with a log4j.properties file.  I know that this partially works because another component (netty\r\n) works but by the time it gets to me logging is set to ERROR and above.\r\n\r\nHere is my log4j.properties file:\r\n\r\n```\r\n#Define root logger options\r\nlog4j.rootLogger=DEBUG, console\r\n\r\nlog4j.logger.com.ltsllc.miranda=DEBUG\r\n\r\n#Define console appender\r\n\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.Target=System.out\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.ConversionPattern=%-5p %c{1} - %m%n\r\n```\r\n\r\nhere is the code that checks the debugging level:\r\n\r\n        if (l.isDebugEnabled()) {\r\n            l.debug(&quot;DEBUG is enabled&quot;);\r\n        } else {\r\n            l.error (&quot;Debug is disabled&quot;);\r\n            l.error (&quot;level is: &quot; + l.getLevel());\r\n        }\r\n\r\nhere is the output:\r\n\r\n```\r\nDEBUG ResourceLeakDetector - -Dio.netty.leakDetection.level: simple\r\nDEBUG ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4\r\nDEBUG ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@44b3606b\r\n22:43:46.696 \\[main\\] ERROR com.ltsllc.miranda.Miranda - Debug is disabled\r\n22:43:46.700 \\[main\\] ERROR com.ltsllc.miranda.Miranda - level is: ERROR\r\nDEBUG DefaultChannelId - -Dio.netty.processId: 30572 (auto-detected)\r\nDEBUG NetUtil - -Djava.net.preferIPv4Stack: false\r\n```\r\n\r\nI expected something like this\r\n\r\n```\r\nDEGUG com.ltsllc.miranda.Miranda - DEBUG is enabled\r\n```","title":"log4j: cannot set logging to DEBUG","body":"<p>I am having a problem with log4j --- I am trying to set the logging level to DEBUG with a log4j.properties file.  I know that this partially works because another component (netty\n) works but by the time it gets to me logging is set to ERROR and above.</p>\n<p>Here is my log4j.properties file:</p>\n<pre><code>#Define root logger options\nlog4j.rootLogger=DEBUG, console\n\nlog4j.logger.com.ltsllc.miranda=DEBUG\n\n#Define console appender\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target=System.out\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%-5p %c{1} - %m%n\n</code></pre>\n<p>here is the code that checks the debugging level:</p>\n<pre><code>    if (l.isDebugEnabled()) {\n        l.debug(&quot;DEBUG is enabled&quot;);\n    } else {\n        l.error (&quot;Debug is disabled&quot;);\n        l.error (&quot;level is: &quot; + l.getLevel());\n    }\n</code></pre>\n<p>here is the output:</p>\n<pre><code>DEBUG ResourceLeakDetector - -Dio.netty.leakDetection.level: simple\nDEBUG ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4\nDEBUG ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@44b3606b\n22:43:46.696 \\[main\\] ERROR com.ltsllc.miranda.Miranda - Debug is disabled\n22:43:46.700 \\[main\\] ERROR com.ltsllc.miranda.Miranda - level is: ERROR\nDEBUG DefaultChannelId - -Dio.netty.processId: 30572 (auto-detected)\nDEBUG NetUtil - -Djava.net.preferIPv4Stack: false\n</code></pre>\n<p>I expected something like this</p>\n<pre><code>DEGUG com.ltsllc.miranda.Miranda - DEBUG is enabled\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14665276,"reputation":1043,"user_id":10591290,"display_name":"TimonNetherlands"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685707976,"creation_date":1685701874,"answer_id":76389346,"question_id":76388791,"body_markdown":"`File outputFile = getOutputMediaFile();` is always null as the supposed file it references to doesn&#39;t exist and even if it were to exist, the code in the pertinent method does not accomplish what you want: it&#39;d load the same picture from storage instead of the picture taken from the camera.\r\n\r\nTo load the picture from camera, replace:\r\n\r\n    if (requestCode == REQUEST_CAMERA) {\r\n       try {\r\n           Log.e(&quot;CAMERA&quot;, fileUri.getPath());\r\n\r\n           bitmap = BitmapFactory.decodeFile(fileUri.getPath());\r\n           setToImageView(getResizedBitmap(bitmap, max_resolution_image));\r\n       } catch (Exception e) {\r\n           e.printStackTrace();\r\n       }\r\n    }\r\n\r\nWith:\r\n\r\n    if (requestCode == REQUEST_CAMERA) {\r\n       Bundle extras = data.getExtras();\r\n       Bitmap bitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n       setToImageView(getResizedBitmap(bitmap, max_resolution_image));\r\n    }\r\n\r\nAs you can see the image data is passed to the `onActivityResult` method as the `data` parameter. Using this parameter solves your problem.","title":"Unable to load Picture from Camera into ImageView","body":"<p><code>File outputFile = getOutputMediaFile();</code> is always null as the supposed file it references to doesn't exist and even if it were to exist, the code in the pertinent method does not accomplish what you want: it'd load the same picture from storage instead of the picture taken from the camera.</p>\n<p>To load the picture from camera, replace:</p>\n<pre><code>if (requestCode == REQUEST_CAMERA) {\n   try {\n       Log.e(&quot;CAMERA&quot;, fileUri.getPath());\n\n       bitmap = BitmapFactory.decodeFile(fileUri.getPath());\n       setToImageView(getResizedBitmap(bitmap, max_resolution_image));\n   } catch (Exception e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n<p>With:</p>\n<pre><code>if (requestCode == REQUEST_CAMERA) {\n   Bundle extras = data.getExtras();\n   Bitmap bitmap = (Bitmap) extras.get(&quot;data&quot;);\n   setToImageView(getResizedBitmap(bitmap, max_resolution_image));\n}\n</code></pre>\n<p>As you can see the image data is passed to the <code>onActivityResult</code> method as the <code>data</code> parameter. Using this parameter solves your problem.</p>\n"}],"owner":{"account_id":17871194,"reputation":21,"user_id":12982453,"display_name":"Martin Hetzenegger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685801545,"creation_date":1685697486,"question_id":76388791,"body_markdown":"In my app I want to load a Pic in an imageview that i from camera or gallery. My code here is:\r\n\r\n       private void selectImage() {\r\n                onDestroy();\r\n                this.onCreate(null);\r\n    \r\n                imageView.setImageResource(0);\r\n                final CharSequence[] items = {&quot;Take Photo&quot;, &quot;Choose from Library&quot;,\r\n                        &quot;Cancel&quot;};\r\n    \r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n                builder.setTitle(&quot;Add Photo!&quot;);\r\n                builder.setIcon(R.mipmap.ic_launcher);\r\n                builder.setItems(items, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int item) {\r\n                        if (items[item].equals(&quot;Take Photo&quot;)) {\r\n    \r\n    \r\n    \r\n    \r\n    \r\n                            intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            File outputFile = getOutputMediaFile();\r\n                            fileUri = FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, outputFile);\r\n                            intent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, fileUri);\r\n                            startActivityForResult(intent, REQUEST_CAMERA);\r\n                        } else if (items[item].equals(&quot;Choose from Library&quot;)) {\r\n                            intent = new Intent();\r\n                            intent.setType(&quot;image/jpg&quot;);\r\n                            intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                            startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), SELECT_FILE);\r\n                        } else if (items[item].equals(&quot;Cancel&quot;)) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    }\r\n    \r\n    \r\n                });\r\n                builder.show();\r\n            }\r\n    \r\n        public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n                Log.e(&quot;onActivityResult&quot;, &quot;requestCode &quot; + requestCode + &quot;, resultCode &quot; + resultCode);\r\n    \r\n                //\r\n    \r\n                if (resultCode == Activity.RESULT_OK) {\r\n                    if (requestCode == REQUEST_CAMERA) {\r\n                        try {\r\n    \r\n    \r\n                            Log.e(&quot;CAMERA&quot;, fileUri.getPath());\r\n    \r\n                            bitmap = BitmapFactory.decodeFile(fileUri.getPath());\r\n                            setToImageView(getResizedBitmap(bitmap, max_resolution_image));\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else if (requestCode == SELECT_FILE &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n                        try {\r\n                            // mengambil gambar dari Gallery\r\n                            bitmap = MediaStore.Images.Media.getBitmap(MainActivity.this.getContentResolver(), data.getData());\r\n                            setToImageView(getResizedBitmap(bitmap, max_resolution_image));\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n    \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            // Untuk menampilkan bitmap pada ImageView\r\n            private void setToImageView(Bitmap bmp) {\r\n    \r\n                //compress image\r\n                ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n                bmp.compress(Bitmap.CompressFormat.JPEG, bitmap_size, bytes);\r\n                decoded = BitmapFactory.decodeStream(new ByteArrayInputStream(bytes.toByteArray()));\r\n    \r\n                //menampilkan gambar yang dipilih dari camera/gallery ke ImageView\r\n                imageView.setImageBitmap(decoded);\r\n                Upload.setVisibility(View.VISIBLE);\r\n    \r\n            }\r\n    \r\n            // Untuk resize bitmap\r\n            public Bitmap getResizedBitmap(Bitmap image, int maxSize) {\r\n                int width = image.getWidth();\r\n                int height = image.getHeight();\r\n    \r\n    \r\n                float bitmapRatio = (float) width / (float) height;\r\n                if (bitmapRatio &gt; 1) {\r\n                    width = maxSize;\r\n                    height = (int) (width / bitmapRatio);\r\n                } else {\r\n                    height = maxSize;\r\n                    width = (int) (height * bitmapRatio);\r\n                }\r\n                return Bitmap.createScaledBitmap(image, width, height, true);\r\n            }\r\n    \r\n            public Uri getOutputMediaFileUri() {\r\n                return Uri.fromFile(getOutputMediaFile());\r\n            }\r\n    \r\n        private File getOutputMediaFile() {\r\n            // External sdcard location\r\n          //  File mediaStorageDir = new File(getExternalFilesDir(Environment.DIRECTORY_PICTURES), &quot;DeKa&quot;);\r\n            File mediaStorageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES), &quot;DeKa&quot;);\r\n            if (!mediaStorageDir.exists()) {\r\n                if (!mediaStorageDir.mkdirs()) {\r\n                    // Fehlerbehandlung, falls das Verzeichnis nicht erstellt werden kann\r\n                }\r\n            }\r\n    \r\n            // Create a media file name\r\n         String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n          File mediaFile = new File(mediaStorageDir.getPath() + File.separator + &quot;image&quot; + &quot;.jpg&quot;);\r\n    \r\n            return mediaFile;\r\n        }\r\n\r\nMy provider_path is:\r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n            &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n        &lt;/paths&gt;\r\n\r\nunfortunately when  I want to use the Camera to load a picture in ImageView i get this message:\r\n```\r\nUnable to decode stream: java.io.FileNotFoundException: /external_files/Pictures/DeKa/image.jpg: open failed: ENOENT (No such file or directory)\r\n```\r\n\r\nDo you have any ideas how to fix this problem?\r\nThank You!\r\n\r\n","title":"Unable to load Picture from Camera into ImageView","body":"<p>In my app I want to load a Pic in an imageview that i from camera or gallery. My code here is:</p>\n<pre><code>   private void selectImage() {\n            onDestroy();\n            this.onCreate(null);\n\n            imageView.setImageResource(0);\n            final CharSequence[] items = {&quot;Take Photo&quot;, &quot;Choose from Library&quot;,\n                    &quot;Cancel&quot;};\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n            builder.setTitle(&quot;Add Photo!&quot;);\n            builder.setIcon(R.mipmap.ic_launcher);\n            builder.setItems(items, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int item) {\n                    if (items[item].equals(&quot;Take Photo&quot;)) {\n\n\n\n\n\n                        intent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                        File outputFile = getOutputMediaFile();\n                        fileUri = FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, outputFile);\n                        intent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, fileUri);\n                        startActivityForResult(intent, REQUEST_CAMERA);\n                    } else if (items[item].equals(&quot;Choose from Library&quot;)) {\n                        intent = new Intent();\n                        intent.setType(&quot;image/jpg&quot;);\n                        intent.setAction(Intent.ACTION_GET_CONTENT);\n                        startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), SELECT_FILE);\n                    } else if (items[item].equals(&quot;Cancel&quot;)) {\n                        dialog.dismiss();\n                    }\n                }\n\n\n            });\n            builder.show();\n        }\n\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n            Log.e(&quot;onActivityResult&quot;, &quot;requestCode &quot; + requestCode + &quot;, resultCode &quot; + resultCode);\n\n            //\n\n            if (resultCode == Activity.RESULT_OK) {\n                if (requestCode == REQUEST_CAMERA) {\n                    try {\n\n\n                        Log.e(&quot;CAMERA&quot;, fileUri.getPath());\n\n                        bitmap = BitmapFactory.decodeFile(fileUri.getPath());\n                        setToImageView(getResizedBitmap(bitmap, max_resolution_image));\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                } else if (requestCode == SELECT_FILE &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n                    try {\n                        // mengambil gambar dari Gallery\n                        bitmap = MediaStore.Images.Media.getBitmap(MainActivity.this.getContentResolver(), data.getData());\n                        setToImageView(getResizedBitmap(bitmap, max_resolution_image));\n                    } catch (IOException e) {\n                        e.printStackTrace();\n\n                    }\n                }\n            }\n        }\n\n\n        // Untuk menampilkan bitmap pada ImageView\n        private void setToImageView(Bitmap bmp) {\n\n            //compress image\n            ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n            bmp.compress(Bitmap.CompressFormat.JPEG, bitmap_size, bytes);\n            decoded = BitmapFactory.decodeStream(new ByteArrayInputStream(bytes.toByteArray()));\n\n            //menampilkan gambar yang dipilih dari camera/gallery ke ImageView\n            imageView.setImageBitmap(decoded);\n            Upload.setVisibility(View.VISIBLE);\n\n        }\n\n        // Untuk resize bitmap\n        public Bitmap getResizedBitmap(Bitmap image, int maxSize) {\n            int width = image.getWidth();\n            int height = image.getHeight();\n\n\n            float bitmapRatio = (float) width / (float) height;\n            if (bitmapRatio &gt; 1) {\n                width = maxSize;\n                height = (int) (width / bitmapRatio);\n            } else {\n                height = maxSize;\n                width = (int) (height * bitmapRatio);\n            }\n            return Bitmap.createScaledBitmap(image, width, height, true);\n        }\n\n        public Uri getOutputMediaFileUri() {\n            return Uri.fromFile(getOutputMediaFile());\n        }\n\n    private File getOutputMediaFile() {\n        // External sdcard location\n      //  File mediaStorageDir = new File(getExternalFilesDir(Environment.DIRECTORY_PICTURES), &quot;DeKa&quot;);\n        File mediaStorageDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES), &quot;DeKa&quot;);\n        if (!mediaStorageDir.exists()) {\n            if (!mediaStorageDir.mkdirs()) {\n                // Fehlerbehandlung, falls das Verzeichnis nicht erstellt werden kann\n            }\n        }\n\n        // Create a media file name\n     String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n      File mediaFile = new File(mediaStorageDir.getPath() + File.separator + &quot;image&quot; + &quot;.jpg&quot;);\n\n        return mediaFile;\n    }\n</code></pre>\n<p>My provider_path is:</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n        &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n    &lt;/paths&gt;\n</code></pre>\n<p>unfortunately when  I want to use the Camera to load a picture in ImageView i get this message:</p>\n<pre><code>Unable to decode stream: java.io.FileNotFoundException: /external_files/Pictures/DeKa/image.jpg: open failed: ENOENT (No such file or directory)\n</code></pre>\n<p>Do you have any ideas how to fix this problem?\nThank You!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1685793021,"post_id":76395910,"comment_id":134712748,"body_markdown":"Please read https://meta.stackoverflow.com/questions/326569/under-what-circumstances-may-i-add-urgent-or-other-similar-phrases-to-my-quest","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/326569/under-what-circumstances-may-i-add-urgent-or-other-similar-phrases-to-my-quest\" title=\"under what circumstances may i add urgent or other similar phrases to my quest\">meta.stackoverflow.com/questions/326569/&hellip;</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1685793047,"post_id":76395910,"comment_id":134712753,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1685799892,"post_id":76395910,"comment_id":134713452,"body_markdown":"Please edit your question and add the code as text and **not** as an image. Besides that, please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add the code as text and <b>not</b> as an image. Besides that, please edit your question and add your database structure as a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685801373,"creation_date":1685801373,"answer_id":76396445,"question_id":76395910,"body_markdown":"If you look carefully, the document IDs that don&#39;t show up in your code are shown in italic in the screenshot. That means that there actually is no document with that ID, and that the console only shows that ID because there are subcollections under it.\r\n\r\nNo snapshots for these IDs will show up in read operations. The only way to get these IDs, is to create the parent (even if you leave it empty) when you create the subcollection.\r\n\r\nAlso see: \r\n\r\n* https://stackoverflow.com/questions/70539221/firestore-query-returns-no-documents-even-though-they-are-shown-in-the-console-i?noredirect=1&amp;lq=1\r\n* https://stackoverflow.com/questions/48137582/firestore-db-documents-shown-in-italics\r\n* https://stackoverflow.com/questions/47731794/why-are-non-auto-generated-document-ids-are-in-italics-in-firestore-console\r\n* https://stackoverflow.com/questions/54499104/problem-with-getting-list-of-document-collection-from-directory\r\n* https://stackoverflow.com/questions/48356669/setting-document-via-subpaths-in-firebase-causes-them-to-show-up-as-italic","title":"Can&#39;t retrtieve the ID of my documents (in the &#39;notes&#39; collection) in Firebase Firestore","body":"<p>If you look carefully, the document IDs that don't show up in your code are shown in italic in the screenshot. That means that there actually is no document with that ID, and that the console only shows that ID because there are subcollections under it.</p>\n<p>No snapshots for these IDs will show up in read operations. The only way to get these IDs, is to create the parent (even if you leave it empty) when you create the subcollection.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70539221/firestore-query-returns-no-documents-even-though-they-are-shown-in-the-console-i?noredirect=1&amp;lq=1\">Firestore query returns no documents even though they are shown in the console in italics</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48137582/firestore-db-documents-shown-in-italics\">Firestore DB - documents shown in italics</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47731794/why-are-non-auto-generated-document-ids-are-in-italics-in-firestore-console\">Why are non auto-generated document Ids are in italics in Firestore console?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54499104/problem-with-getting-list-of-document-collection-from-directory\">Problem with Getting List of Document/Collection from Directory</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48356669/setting-document-via-subpaths-in-firebase-causes-them-to-show-up-as-italic\">Setting document via subpaths in firebase causes them to show up as italic?</a></li>\n</ul>\n"}],"owner":{"account_id":28743264,"reputation":1,"user_id":22012963,"display_name":"Itay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1685801373,"creation_date":1685792687,"question_id":76395910,"body_markdown":"![enter image description here](https://i.stack.imgur.com/M3r1X.jpg)\r\n\r\nThis is the line of code that attempts to get the documents in collection &quot;notes&quot;. Currently for some reason in the DocumentSnapshot List only the manually added (directly in the Firebase site) documents appear, and the documents that are added through the app are ignored.\r\n\r\n![enter image description here](https://i.stack.imgur.com/ZYIUt.jpg)\r\n\r\nThe underlined documents are the manually added ones, and they are the only ones to appear in the DocumentSnapshot List (for some reason).\r\n\r\n![enter image description here](https://i.stack.imgur.com/ioWgS.jpg)\r\n\r\n!This is how I add a document to the &quot;notes&quot; collection.\r\n[enter image description here](https://i.stack.imgur.com/uJfKo.jpg)\r\nThis is the path.\r\n\r\nJust to be clear the data is saved properly. The problem is that it is ignored when attempting to retrieve it.\r\n\r\nAs I said, I tried adding the data to the &quot;notes&quot; collection manually. When I did that, the said data *did* appear in the DocumentSnapshot List. But the data that I uploaded through the app (in the &quot;saveNoteToFirebase&quot; method) *did not* appear.","title":"Can&#39;t retrtieve the ID of my documents (in the &#39;notes&#39; collection) in Firebase Firestore","body":"<p><img src=\"https://i.stack.imgur.com/M3r1X.jpg\" alt=\"enter image description here\" /></p>\n<p>This is the line of code that attempts to get the documents in collection &quot;notes&quot;. Currently for some reason in the DocumentSnapshot List only the manually added (directly in the Firebase site) documents appear, and the documents that are added through the app are ignored.</p>\n<p><img src=\"https://i.stack.imgur.com/ZYIUt.jpg\" alt=\"enter image description here\" /></p>\n<p>The underlined documents are the manually added ones, and they are the only ones to appear in the DocumentSnapshot List (for some reason).</p>\n<p><img src=\"https://i.stack.imgur.com/ioWgS.jpg\" alt=\"enter image description here\" /></p>\n<p>!This is how I add a document to the &quot;notes&quot; collection.\n<a href=\"https://i.stack.imgur.com/uJfKo.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is the path.</p>\n<p>Just to be clear the data is saved properly. The problem is that it is ignored when attempting to retrieve it.</p>\n<p>As I said, I tried adding the data to the &quot;notes&quot; collection manually. When I did that, the said data <em>did</em> appear in the DocumentSnapshot List. But the data that I uploaded through the app (in the &quot;saveNoteToFirebase&quot; method) <em>did not</em> appear.</p>\n"},{"tags":["java","android","location","settings"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1685791176,"post_id":76395499,"comment_id":134712573,"body_markdown":"&quot;all I got was outdated answers&quot; -- what makes you think that the second code block is outdated? It appears to be covered in [the documentation](https://developers.google.com/android/reference/com/google/android/gms/location/SettingsClient).","body":"&quot;all I got was outdated answers&quot; -- what makes you think that the second code block is outdated? It appears to be covered in <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/SettingsClient\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":28742447,"reputation":1,"user_id":22012295,"display_name":"Zafar _"},"score":1,"creation_date":1685800232,"post_id":76395499,"comment_id":134713483,"body_markdown":"It says LocationRequest.create() is deprecated and to use LocationRequest.Builder() instead. Which I did as you can see in the first code block.","body":"It says LocationRequest.create() is deprecated and to use LocationRequest.Builder() instead. Which I did as you can see in the first code block."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685800637,"creation_date":1685800637,"answer_id":76396409,"question_id":76395499,"body_markdown":"&gt; It says LocationRequest.create() is deprecated\r\n\r\nThe [documentation for `LocationRequest.create()`](https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#create()) has:\r\n\r\n&gt; Use LocationRequest.Builder instead.\r\n\r\n`LocationRequest.Builder` is not deprecated at this time, according to [its documentation](https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder).\r\n\r\nSo, this:\r\n\r\n```java\r\n    LocationRequest locationRequest = LocationRequest.create();\r\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n```\r\n\r\nturns into:\r\n\r\n```java\r\n    LocationRequest locationRequest = new LocationRequestBuilder(0L)\r\n        .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\r\n        .build();\r\n```\r\n\r\n(where you might replace `0L` with the actual interval period in milliseconds, if you intend to use this `LocationRequest` for getting locations)","title":"Enabling location without manual intervention in Android similar to Google Maps","body":"<blockquote>\n<p>It says LocationRequest.create() is deprecated</p>\n</blockquote>\n<p>The <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#create()\" rel=\"nofollow noreferrer\">documentation for <code>LocationRequest.create()</code></a> has:</p>\n<blockquote>\n<p>Use LocationRequest.Builder instead.</p>\n</blockquote>\n<p><code>LocationRequest.Builder</code> is not deprecated at this time, according to <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder\" rel=\"nofollow noreferrer\">its documentation</a>.</p>\n<p>So, this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    LocationRequest locationRequest = LocationRequest.create();\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n</code></pre>\n<p>turns into:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    LocationRequest locationRequest = new LocationRequestBuilder(0L)\n        .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\n        .build();\n</code></pre>\n<p>(where you might replace <code>0L</code> with the actual interval period in milliseconds, if you intend to use this <code>LocationRequest</code> for getting locations)</p>\n"}],"owner":{"account_id":28742447,"reputation":1,"user_id":22012295,"display_name":"Zafar _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685800637,"creation_date":1685786102,"question_id":76395499,"body_markdown":"I am new to android development and I have chosen to work with Java. I am learning by developing an app. The app requires the location of the user. Now, I encountered problem while enabling location from the app.\r\n\r\nI could launch the location settings page from the app using `android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS` and have the user manually enable the location, but do not want my users to have that extra step whenever they open the app. So I want to enable location automatically with just a prompt similar to how Google Maps does it...\r\n\r\nDesired functionality\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have been searching all over the internet to understand how to implement this, but with no luck. None of the answers are working and all of them use deprecated API. There is a severe lack of new resources on this subject on the internet.\r\n\r\nI tested on Xiaomi Redmi Note 9 pro and Lenovo K10 Note.\r\nPlease help and thanks in advance...\r\n\r\nI tried to put together a piece of code (which does not work and I do not know why) by resolving outdated lines of code with new alternatives.\r\n\r\n\r\n```\r\npublic Task&lt;LocationSettingsResponse&gt; EnableLocation(int priority)\r\n{\r\n\tLocationRequest.Builder locationRequest = new LocationRequest.Builder(priority);\r\n\tLocationSettingsRequest.Builder locationSettingsRequestBuilder = new LocationSettingsRequest.Builder();\r\n\t\t\r\n\tlocationSettingsRequestBuilder.addLocationRequest(locationRequest.build());\r\n\tlocationSettingsRequestBuilder.setAlwaysShow(true);\r\n\t\t\r\n\tSettingsClient settingsClient = LocationServices.getSettingsClient(context);\r\n\treturn settingsClient.checkLocationSettings(locationSettingsRequestBuilder.build());\r\n}\r\n```\r\n\r\nI tried deprecated solutions as well but those too are not able too enable the location settings like Google Maps.\r\n\r\nOne of the deprecated solutions that I tried had many upvotes on Stack Overflow. This did not work either.\r\n\r\n[Deprecated answers][2]\r\n\r\nI asked ChatGPT as well but all I got was outdated answers...\r\n\r\n\r\n```\r\nprivate void checkLocationSettings() {\r\n    LocationRequest locationRequest = LocationRequest.create();\r\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n\r\n    LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n            .addLocationRequest(locationRequest);\r\n\r\n    SettingsClient settingsClient = LocationServices.getSettingsClient(this);\r\n    Task&lt;LocationSettingsResponse&gt; task = settingsClient.checkLocationSettings(builder.build());\r\n\r\n    task.addOnSuccessListener(new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\r\n        @Override\r\n        public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\r\n            // Location settings are satisfied, you can proceed with location-related tasks\r\n            // For example, start location updates\r\n            startLocationUpdates();\r\n        }\r\n    });\r\n\r\n    task.addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            if (e instanceof ResolvableApiException) {\r\n                try {\r\n                    // Location settings are not satisfied, but can be resolved by showing a dialog to the user\r\n                    ResolvableApiException resolvable = (ResolvableApiException) e;\r\n                    resolvable.startResolutionForResult(MainActivity.this, REQUEST_LOCATION_SETTINGS);\r\n                } catch (IntentSender.SendIntentException sendEx) {\r\n                    // Ignore the error\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PILUJ.jpg\r\n  [2]: https://stackoverflow.com/questions/33251373/turn-on-location-services-without-navigating-to-settings-page?newreg=03572d13f71443fead2da167396937f6","title":"Enabling location without manual intervention in Android similar to Google Maps","body":"<p>I am new to android development and I have chosen to work with Java. I am learning by developing an app. The app requires the location of the user. Now, I encountered problem while enabling location from the app.</p>\n<p>I could launch the location settings page from the app using <code>android.provider.Settings.ACTION_LOCATION_SOURCE_SETTINGS</code> and have the user manually enable the location, but do not want my users to have that extra step whenever they open the app. So I want to enable location automatically with just a prompt similar to how Google Maps does it...</p>\n<p>Desired functionality</p>\n<p><a href=\"https://i.stack.imgur.com/PILUJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PILUJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have been searching all over the internet to understand how to implement this, but with no luck. None of the answers are working and all of them use deprecated API. There is a severe lack of new resources on this subject on the internet.</p>\n<p>I tested on Xiaomi Redmi Note 9 pro and Lenovo K10 Note.\nPlease help and thanks in advance...</p>\n<p>I tried to put together a piece of code (which does not work and I do not know why) by resolving outdated lines of code with new alternatives.</p>\n<pre><code>public Task&lt;LocationSettingsResponse&gt; EnableLocation(int priority)\n{\n    LocationRequest.Builder locationRequest = new LocationRequest.Builder(priority);\n    LocationSettingsRequest.Builder locationSettingsRequestBuilder = new LocationSettingsRequest.Builder();\n        \n    locationSettingsRequestBuilder.addLocationRequest(locationRequest.build());\n    locationSettingsRequestBuilder.setAlwaysShow(true);\n        \n    SettingsClient settingsClient = LocationServices.getSettingsClient(context);\n    return settingsClient.checkLocationSettings(locationSettingsRequestBuilder.build());\n}\n</code></pre>\n<p>I tried deprecated solutions as well but those too are not able too enable the location settings like Google Maps.</p>\n<p>One of the deprecated solutions that I tried had many upvotes on Stack Overflow. This did not work either.</p>\n<p><a href=\"https://stackoverflow.com/questions/33251373/turn-on-location-services-without-navigating-to-settings-page?newreg=03572d13f71443fead2da167396937f6\">Deprecated answers</a></p>\n<p>I asked ChatGPT as well but all I got was outdated answers...</p>\n<pre><code>private void checkLocationSettings() {\n    LocationRequest locationRequest = LocationRequest.create();\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n    LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n            .addLocationRequest(locationRequest);\n\n    SettingsClient settingsClient = LocationServices.getSettingsClient(this);\n    Task&lt;LocationSettingsResponse&gt; task = settingsClient.checkLocationSettings(builder.build());\n\n    task.addOnSuccessListener(new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\n        @Override\n        public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\n            // Location settings are satisfied, you can proceed with location-related tasks\n            // For example, start location updates\n            startLocationUpdates();\n        }\n    });\n\n    task.addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            if (e instanceof ResolvableApiException) {\n                try {\n                    // Location settings are not satisfied, but can be resolved by showing a dialog to the user\n                    ResolvableApiException resolvable = (ResolvableApiException) e;\n                    resolvable.startResolutionForResult(MainActivity.this, REQUEST_LOCATION_SETTINGS);\n                } catch (IntentSender.SendIntentException sendEx) {\n                    // Ignore the error\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1685874701,"post_id":76396369,"comment_id":134719323,"body_markdown":"Unless you do some very CPU intensive operation, it is unlikely to cause any issues. If you must, you can switch to another scheduler using publishOn. Schedulers.parallel could be a good choice, if no blocking IO is involved.","body":"Unless you do some very CPU intensive operation, it is unlikely to cause any issues. If you must, you can switch to another scheduler using publishOn. Schedulers.parallel could be a good choice, if no blocking IO is involved."},{"owner":{"account_id":20164939,"reputation":19,"user_id":14789134,"display_name":"AmirHossein"},"score":0,"creation_date":1686053391,"post_id":76396369,"comment_id":134743686,"body_markdown":"I have some db operation and service call from another services(I can&#39;t use webclient in my project now) ,  what  is difference between using subscribeOn and publishOn , i know that subscribeOn is switch the thread for all stream and publishOn is just for down stream but what can this effect performance? and why you say parallel is better choice than bundedElastic because I think if I use parallel the requests that  can be handled decreases.","body":"I have some db operation and service call from another services(I can&#39;t use webclient in my project now) ,  what  is difference between using subscribeOn and publishOn , i know that subscribeOn is switch the thread for all stream and publishOn is just for down stream but what can this effect performance? and why you say parallel is better choice than bundedElastic because I think if I use parallel the requests that  can be handled decreases."}],"owner":{"account_id":20164939,"reputation":19,"user_id":14789134,"display_name":"AmirHossein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685800267,"creation_date":1685799931,"question_id":76396369,"body_markdown":"I use `subscribeOn(Schedulers.boundedElastic())` for executing some blocking code in my spring webflux application , but after the execution of block section has finished other operation that applied on that stream are executed on the thread that the block segment is executed , is that make any performance issue or something bad in my application? if yes what can I do , or how can I switch back to Main thread after execution of blocking section.\r\n\r\nMy code is something like below :\r\n\r\n```\r\nMono.fromCallable(() -&gt; blockingOperation())\r\n    .subscribeOn(Schedulers.boundedElastic())\r\n    .map(response -&gt; response.getId())\r\n```\r\nas you can see the blockingOperation ia executed on a seperate thread and when the response is returned I get the id from that response by map operation that is executed on the thread that the blocking method has already been executed . I know about the behavior of subscribeOn method , but I want to know that is there any problem about the above code? suppose that in my real scenario I have more than just one map operation.","title":"Is there any performance problem when all other operation are executed on a thread that blocking operation is executed when I used subscribeOn","body":"<p>I use <code>subscribeOn(Schedulers.boundedElastic())</code> for executing some blocking code in my spring webflux application , but after the execution of block section has finished other operation that applied on that stream are executed on the thread that the block segment is executed , is that make any performance issue or something bad in my application? if yes what can I do , or how can I switch back to Main thread after execution of blocking section.</p>\n<p>My code is something like below :</p>\n<pre><code>Mono.fromCallable(() -&gt; blockingOperation())\n    .subscribeOn(Schedulers.boundedElastic())\n    .map(response -&gt; response.getId())\n</code></pre>\n<p>as you can see the blockingOperation ia executed on a seperate thread and when the response is returned I get the id from that response by map operation that is executed on the thread that the blocking method has already been executed . I know about the behavior of subscribeOn method , but I want to know that is there any problem about the above code? suppose that in my real scenario I have more than just one map operation.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685799316,"creation_date":1685724281,"answer_id":76392056,"question_id":76391983,"body_markdown":"You marked the property `account_number` of your entity, which is a `Long`, as the `@Id`. But the id in your index is a String (here with the value &quot;KH-9fIgBhfTLJt8QzMP_&quot;).\r\n\r\nAdd proper id property:\r\n```java\r\n@Id\r\nprivate String id;\r\n```\r\n\r\n**Edit: 03.06.2023:**\r\n\r\nAs for the error \r\n&gt; java.lang.ClassCastException: class org.springframework.data.domain.PageImpl cannot be cast to class java.util.List (org.springframework.data.domain.PageImpl\r\n\r\n`findAll()` is defined to return an `Iterable`, which is an interface. The actual returned objects is of type `PageImpl` which implements `Page` which extends `Iterable`.\r\n\r\nYou cannot cast a `Page` implementation to a `List&lt;Accounts&gt;`.","title":"How to only get _source fields of elasticsearch using Spring Data Elastic?","body":"<p>You marked the property <code>account_number</code> of your entity, which is a <code>Long</code>, as the <code>@Id</code>. But the id in your index is a String (here with the value &quot;KH-9fIgBhfTLJt8QzMP_&quot;).</p>\n<p>Add proper id property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\nprivate String id;\n</code></pre>\n<p><strong>Edit: 03.06.2023:</strong></p>\n<p>As for the error</p>\n<blockquote>\n<p>java.lang.ClassCastException: class org.springframework.data.domain.PageImpl cannot be cast to class java.util.List (org.springframework.data.domain.PageImpl</p>\n</blockquote>\n<p><code>findAll()</code> is defined to return an <code>Iterable</code>, which is an interface. The actual returned objects is of type <code>PageImpl</code> which implements <code>Page</code> which extends <code>Iterable</code>.</p>\n<p>You cannot cast a <code>Page</code> implementation to a <code>List&lt;Accounts&gt;</code>.</p>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76392056,"answer_count":1,"score":0,"last_activity_date":1685799316,"creation_date":1685723569,"question_id":76391983,"body_markdown":"I am using **Spring Boot and Spring Data Elastic**. I have an accounts index data like below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public interface AccountsRepository extends ElasticsearchRepository&lt;Accounts, Long&gt; {\r\n    \t\r\n    \tList&lt;Accounts&gt; findByLastname(String lastname);\r\n    \t\r\n    \tList&lt;Accounts&gt; findByAge(Integer age);\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/yknas.png\r\n\r\nI am getting below error when perform findAll(). How to fix the below issue?\r\n\r\n    @Service\r\n    public class AccountsService {\r\n        @Autowired\r\n        private AccountsRepository repository;\r\n    \r\n        public List&lt;Accounts&gt; findAllAccounts(){\r\n            return (List&lt;Accounts&gt;) repository.findAll();\r\n        }\r\n    }\r\n\r\nModel\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Document(indexName = &quot;accounts&quot;, createIndex = false)\r\n    public class Accounts {\r\n        @Id\r\n        private Long account_number;\r\n        private Long balance;\r\n        private String firstname;\r\n        private String lastname;\r\n        private Integer age;\r\n        private String gender;\r\n        private String address;\r\n        private String employer;\r\n        private String email;\r\n        private String city;\r\n        private String state;\r\n    }\r\n\r\nError:\r\n\r\n    2023-06-02 21:23:23.784  WARN 44796 --- [nio-8080-exec-1] org.elasticsearch.client.RestClient      : request [POST http://localhost:9200/accounts/_search?typed_keys=true&amp;max_concurrent_shard_requests=5&amp;search_type=query_then_fetch&amp;batched_reduce_size=512] returned 1 warnings: [299 Elasticsearch-7.15.0-79d65f6e357953a5b3cbcc5e2c7c21073d89aa29 &quot;Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.15/security-minimal-setup.html to enable security.&quot;]\r\n    2023-06-02 21:23:23.878  WARN 44796 --- [nio-8080-exec-1] org.elasticsearch.client.RestClient      : request [POST http://localhost:9200/accounts/_search?typed_keys=true&amp;max_concurrent_shard_requests=5&amp;search_type=query_then_fetch&amp;batched_reduce_size=512] returned 1 warnings: [299 Elasticsearch-7.15.0-79d65f6e357953a5b3cbcc5e2c7c21073d89aa29 &quot;Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.15/security-minimal-setup.html to enable security.&quot;]\r\n    2023-06-02 21:23:24.170 ERROR 44796 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Long] for value &#39;KH-9fIgBhfTLJt8QzMP_&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;KH-9fIgBhfTLJt8QzMP_&quot;] with root cause\r\n    \r\n    java.lang.NumberFormatException: For input string: &quot;KH-9fIgBhfTLJt8QzMP_&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:na]\r\n    \tat java.base/java.lang.Long.parseLong(Long.java:692) ~[na:na]\r\n    \tat java.base/java.lang.Long.valueOf(Long.java:1144) ~[na:na]\r\n    \tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.getPotentiallyConvertedSimpleRead(MappingElasticsearchConverter.java:562) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readValue(MappingElasticsearchConverter.java:460) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readValue(MappingElasticsearchConverter.java:442) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader$ElasticsearchPropertyValueProvider.getPropertyValue(MappingElasticsearchConverter.java:621) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readProperties(MappingElasticsearchConverter.java:404) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readEntity(MappingElasticsearchConverter.java:327) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:258) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:217) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:161) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:83) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadDocumentCallback.doWith(AbstractElasticsearchTemplate.java:745) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:778) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:763) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.search(ElasticsearchRestTemplate.java:404) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$findAll$1(SimpleElasticsearchRepository.java:123) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.execute(SimpleElasticsearchRepository.java:355) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.findAll(SimpleElasticsearchRepository.java:123) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.findAll(SimpleElasticsearchRepository.java:112) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\r\n    \tat com.sun.proxy.$Proxy59.findAll(Unknown Source) ~[na:na]\r\n    \tat com.example.service.AccountsService.findAllAccounts(AccountsService.java:16) ~[classes/:na]\r\n    \tat com.example.controller.AccountsController.findAllAccounts(AccountsController.java:19) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]","title":"How to only get _source fields of elasticsearch using Spring Data Elastic?","body":"<p>I am using <strong>Spring Boot and Spring Data Elastic</strong>. I have an accounts index data like below</p>\n<p><a href=\"https://i.stack.imgur.com/yknas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yknas.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public interface AccountsRepository extends ElasticsearchRepository&lt;Accounts, Long&gt; {\n    \n    List&lt;Accounts&gt; findByLastname(String lastname);\n    \n    List&lt;Accounts&gt; findByAge(Integer age);\n}\n</code></pre>\n<p>I am getting below error when perform findAll(). How to fix the below issue?</p>\n<pre><code>@Service\npublic class AccountsService {\n    @Autowired\n    private AccountsRepository repository;\n\n    public List&lt;Accounts&gt; findAllAccounts(){\n        return (List&lt;Accounts&gt;) repository.findAll();\n    }\n}\n</code></pre>\n<p>Model</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(indexName = &quot;accounts&quot;, createIndex = false)\npublic class Accounts {\n    @Id\n    private Long account_number;\n    private Long balance;\n    private String firstname;\n    private String lastname;\n    private Integer age;\n    private String gender;\n    private String address;\n    private String employer;\n    private String email;\n    private String city;\n    private String state;\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>2023-06-02 21:23:23.784  WARN 44796 --- [nio-8080-exec-1] org.elasticsearch.client.RestClient      : request [POST http://localhost:9200/accounts/_search?typed_keys=true&amp;max_concurrent_shard_requests=5&amp;search_type=query_then_fetch&amp;batched_reduce_size=512] returned 1 warnings: [299 Elasticsearch-7.15.0-79d65f6e357953a5b3cbcc5e2c7c21073d89aa29 &quot;Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.15/security-minimal-setup.html to enable security.&quot;]\n2023-06-02 21:23:23.878  WARN 44796 --- [nio-8080-exec-1] org.elasticsearch.client.RestClient      : request [POST http://localhost:9200/accounts/_search?typed_keys=true&amp;max_concurrent_shard_requests=5&amp;search_type=query_then_fetch&amp;batched_reduce_size=512] returned 1 warnings: [299 Elasticsearch-7.15.0-79d65f6e357953a5b3cbcc5e2c7c21073d89aa29 &quot;Elasticsearch built-in security features are not enabled. Without authentication, your cluster could be accessible to anyone. See https://www.elastic.co/guide/en/elasticsearch/reference/7.15/security-minimal-setup.html to enable security.&quot;]\n2023-06-02 21:23:24.170 ERROR 44796 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Long] for value 'KH-9fIgBhfTLJt8QzMP_'; nested exception is java.lang.NumberFormatException: For input string: &quot;KH-9fIgBhfTLJt8QzMP_&quot;] with root cause\n\njava.lang.NumberFormatException: For input string: &quot;KH-9fIgBhfTLJt8QzMP_&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:na]\n    at java.base/java.lang.Long.parseLong(Long.java:692) ~[na:na]\n    at java.base/java.lang.Long.valueOf(Long.java:1144) ~[na:na]\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.getPotentiallyConvertedSimpleRead(MappingElasticsearchConverter.java:562) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readValue(MappingElasticsearchConverter.java:460) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readValue(MappingElasticsearchConverter.java:442) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader$ElasticsearchPropertyValueProvider.getPropertyValue(MappingElasticsearchConverter.java:621) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readProperties(MappingElasticsearchConverter.java:404) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readEntity(MappingElasticsearchConverter.java:327) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:258) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:217) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:161) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:83) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadDocumentCallback.doWith(AbstractElasticsearchTemplate.java:745) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:778) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:763) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.search(ElasticsearchRestTemplate.java:404) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$findAll$1(SimpleElasticsearchRepository.java:123) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.execute(SimpleElasticsearchRepository.java:355) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.findAll(SimpleElasticsearchRepository.java:123) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.findAll(SimpleElasticsearchRepository.java:112) ~[spring-data-elasticsearch-4.4.1.jar:4.4.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\n    at com.sun.proxy.$Proxy59.findAll(Unknown Source) ~[na:na]\n    at com.example.service.AccountsService.findAllAccounts(AccountsService.java:16) ~[classes/:na]\n    at com.example.controller.AccountsController.findAllAccounts(AccountsController.java:19) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.21.jar:5.3.21]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.64.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","html","string","right-to-left"],"owner":{"account_id":9920554,"reputation":75,"user_id":7343826,"display_name":"Ahmed Gamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685799277,"creation_date":1685799277,"question_id":76396335,"body_markdown":"I have these strings in the android strings.xml file\r\n\r\n    &lt;string name=&quot;format_term_and_conditional&quot;&gt;\\u200F&lt;![CDATA[شكرًا لاختيارك &lt;b&gt;%1$s&lt;/b&gt;.&lt;br&gt;باستخدام هذا التطبيق، يجب أن توافق على &lt;a href=\\&quot;%2$s\\&quot;&gt;&lt;b&gt;شروط الاستخدام&lt;/b&gt;&lt;/a&gt; و&lt;a href=\\&quot;%3$s\\&quot;&gt;&lt;b&gt;سياسة الخصوصية&lt;/b&gt;&lt;/a&gt; الخاصة بنا.]]&gt;&lt;/string&gt;\r\n    &lt;string name=&quot;format_request_permission&quot;&gt;\\u200Fشكرًا لاختيارك %1$s. يرجى منحنا الإذن التالي:\\n\\nإذن بطاقة الذاكرة: سيساعدنا ذلك في حفظ قائمة الراديو المفضلة الخاصة بك.&lt;/string&gt;\r\n    &lt;string name=&quot;format_request_permission_13&quot;&gt;\\u200F&lt;![CDATA[شكرًا لاختيارك &lt;b&gt;%1$s&lt;/b&gt;. يُرجى منح الأذونات التالية:&lt;br&gt;&lt;br&gt;&lt;b&gt;إذن الإشعارات (NOTIFICATION PERMISSION):&lt;/b&gt; سيسمح للتطبيق بعرض إشعارات للتحكم عند الاستماع للراديو المباشر.]]&gt;&lt;/string&gt;\r\n\r\nmy problem is that these texts do not view in RTL even though the app is supporting the RTL and I have added the \\u200F at the beginning of each text resource to make sure that the text will show from right to left but that didn&#39;t work too\r\n\r\nI will be thankful if anyone gave me the right answer","title":"android xml RTL string resource with HTML tag","body":"<p>I have these strings in the android strings.xml file</p>\n<pre><code>&lt;string name=&quot;format_term_and_conditional&quot;&gt;\\u200F&lt;![CDATA[شكرًا لاختيارك &lt;b&gt;%1$s&lt;/b&gt;.&lt;br&gt;باستخدام هذا التطبيق، يجب أن توافق على &lt;a href=\\&quot;%2$s\\&quot;&gt;&lt;b&gt;شروط الاستخدام&lt;/b&gt;&lt;/a&gt; و&lt;a href=\\&quot;%3$s\\&quot;&gt;&lt;b&gt;سياسة الخصوصية&lt;/b&gt;&lt;/a&gt; الخاصة بنا.]]&gt;&lt;/string&gt;\n&lt;string name=&quot;format_request_permission&quot;&gt;\\u200Fشكرًا لاختيارك %1$s. يرجى منحنا الإذن التالي:\\n\\nإذن بطاقة الذاكرة: سيساعدنا ذلك في حفظ قائمة الراديو المفضلة الخاصة بك.&lt;/string&gt;\n&lt;string name=&quot;format_request_permission_13&quot;&gt;\\u200F&lt;![CDATA[شكرًا لاختيارك &lt;b&gt;%1$s&lt;/b&gt;. يُرجى منح الأذونات التالية:&lt;br&gt;&lt;br&gt;&lt;b&gt;إذن الإشعارات (NOTIFICATION PERMISSION):&lt;/b&gt; سيسمح للتطبيق بعرض إشعارات للتحكم عند الاستماع للراديو المباشر.]]&gt;&lt;/string&gt;\n</code></pre>\n<p>my problem is that these texts do not view in RTL even though the app is supporting the RTL and I have added the \\u200F at the beginning of each text resource to make sure that the text will show from right to left but that didn't work too</p>\n<p>I will be thankful if anyone gave me the right answer</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1685797640,"post_id":76396240,"comment_id":134713238,"body_markdown":"`if (!password.equals(&quot;kiran&quot;))`","body":"<code>if (!password.equals(&quot;kiran&quot;))</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685797782,"post_id":76396240,"comment_id":134713258,"body_markdown":"`matches` uses a regular expression and `[^abc]` (for example) would mean any ONE SINGLE letter with exception of `a`, `b`, or `c` - the ones listed after `^` - that is, it would match `&quot;d&quot;`, `&quot;e&quot;`, `&quot; &quot;`, `&quot;0&quot;`, ... but **not** `&quot;a&quot;`, `&quot;b&quot;`, or `&quot;ef&quot;`","body":"<code>matches</code> uses a regular expression and <code>[^abc]</code> (for example) would mean any ONE SINGLE letter with exception of <code>a</code>, <code>b</code>, or <code>c</code> - the ones listed after <code>^</code> - that is, it would match <code>&quot;d&quot;</code>, <code>&quot;e&quot;</code>, <code>&quot; &quot;</code>, <code>&quot;0&quot;</code>, ... but <b>not</b> <code>&quot;a&quot;</code>, <code>&quot;b&quot;</code>, or <code>&quot;ef&quot;</code>"}],"owner":{"account_id":28667714,"reputation":1,"user_id":21951374,"display_name":"Siva Sai Kiran Akula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685797704,"answer_count":0,"score":0,"last_activity_date":1685797659,"creation_date":1685797532,"question_id":76396240,"body_markdown":"If I am entering the password which is not equal to the string &quot;kiran&quot;, the program should keep on ask me to enter the correct password. But in the code that I am showing it is not doing that. Please correct my code as I believe that I am doing something wrong. Please correct me without using any other concept such as do-while.\r\n\r\n```\r\npublic class WhilePrac {\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\tString password;\r\n\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter Password&quot;);\r\n\t\tpassword = s.nextLine();\r\n\r\n\t\twhile (password.matches(&quot;[^kiran]&quot;))\r\n\t\t{\r\n\r\n\t\t\tSystem.out.println(&quot;Enter the correct password&quot;);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```","title":"While Loop (Beginner)","body":"<p>If I am entering the password which is not equal to the string &quot;kiran&quot;, the program should keep on ask me to enter the correct password. But in the code that I am showing it is not doing that. Please correct my code as I believe that I am doing something wrong. Please correct me without using any other concept such as do-while.</p>\n<pre><code>public class WhilePrac {\n\n    public static void main(String args[]) {\n\n        String password;\n\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter Password&quot;);\n        password = s.nextLine();\n\n        while (password.matches(&quot;[^kiran]&quot;))\n        {\n\n            System.out.println(&quot;Enter the correct password&quot;);\n            \n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","design-patterns"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685796689,"creation_date":1685789720,"question_id":76395723,"body_markdown":"I&#39;ll ask it straight away, can you instantiate objects using a builder in JPQL queries? For example, this query\r\n```java\r\nTypedQuery&lt;QuestionCommentResponseDto&gt; query = entityManager.createQuery(&quot;&quot;&quot;\r\n                            SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\r\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\r\n                            ) FROM QuestionComment qc JOIN qc.question q\r\n                            WHERE qc.id = :id\r\n                        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\r\n                .setParameter(&quot;id&quot;, id);\r\n```\r\nis error-prone. You can easily accidentally type `questionId` (`q.id`) first and `QuestionCommentResponseDto`&#39;s `id` (`qc.id`) second (not the other way around), and the program will silently do the wrong thing. If I could use a builder, it would be safer, but **can I actually do it in JPQL queries? If not, how else do I ensure type-safety in such scenarios?** Note `QuestionCommentResponseDto` is not an `@Entity`\r\n\r\nWhat Sage (a chat bot) has to say:\r\n\r\n&gt; No, unfortunately you cannot use a builder to instantiate objects in JPA queries.\r\n&gt;\r\n&gt; JPA&#39;s JPQL (Java Persistence Query Language) provides the SELECT NEW syntax that allows you to create instances of non-entity classes (such as QuestionCommentResponseDto) using a constructor with arguments. However, JPQL does not support the use of builders to create instances of non-entity classes.\r\n&gt;\r\n&gt; The reason for this is that JPQL is a query language that maps to SQL, and SQL does not support the use of builders. SQL only supports the use of constructors with arguments to create instances of result set objects.\r\n\r\nHere&#39;s an interesting example from [Hibernate docs](https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#criteria). It covers Criteria API, a supposedly type-safe alternative to JPQL queries\r\n```java\r\npublic class PersonWrapper {\r\n\r\n    private final Long id;\r\n\r\n    private final String nickName;\r\n\r\n    public PersonWrapper(Long id, String nickName) {\r\n        this.id = id;\r\n        this.nickName = nickName;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getNickName() {\r\n        return nickName;\r\n    }\r\n}\r\n\r\n\r\nCriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n\r\nCriteriaQuery&lt;PersonWrapper&gt; criteria = builder.createQuery(PersonWrapper.class);\r\nRoot&lt;Person&gt; root = criteria.from(Person.class);\r\n\r\nPath&lt;Long&gt; idPath = root.get(Person_.id);\r\nPath&lt;String&gt; nickNamePath = root.get(Person_.nickName);\r\n\r\ncriteria.select(builder.construct(PersonWrapper.class, idPath, nickNamePath));\r\n\r\n/*\r\n↑ does it call the canonical constructor? then it&#39;s not that type-safe. \r\nif it doesn&#39;t, how does it associate personWrapper.id with person.id, etc.?\r\nby names?\r\n*/\r\n\r\ncriteria.where(builder.equal(root.get(Person_.name), &quot;John Doe&quot;));\r\n\r\nList&lt;PersonWrapper&gt; wrappers = entityManager.createQuery(criteria).getResultList();\r\n```\r\nDo you agree that my query can be safely replaced with Criteria code?","title":"How do you ensure type-safety when instantiating objects via JPQL queries?","body":"<p>I'll ask it straight away, can you instantiate objects using a builder in JPQL queries? For example, this query</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedQuery&lt;QuestionCommentResponseDto&gt; query = entityManager.createQuery(&quot;&quot;&quot;\n                            SELECT new stack.overflow.model.dto.response.QuestionCommentResponseDto (\n                            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text\n                            ) FROM QuestionComment qc JOIN qc.question q\n                            WHERE qc.id = :id\n                        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\n                .setParameter(&quot;id&quot;, id);\n</code></pre>\n<p>is error-prone. You can easily accidentally type <code>questionId</code> (<code>q.id</code>) first and <code>QuestionCommentResponseDto</code>'s <code>id</code> (<code>qc.id</code>) second (not the other way around), and the program will silently do the wrong thing. If I could use a builder, it would be safer, but <strong>can I actually do it in JPQL queries? If not, how else do I ensure type-safety in such scenarios?</strong> Note <code>QuestionCommentResponseDto</code> is not an <code>@Entity</code></p>\n<p>What Sage (a chat bot) has to say:</p>\n<blockquote>\n<p>No, unfortunately you cannot use a builder to instantiate objects in JPA queries.</p>\n<p>JPA's JPQL (Java Persistence Query Language) provides the SELECT NEW syntax that allows you to create instances of non-entity classes (such as QuestionCommentResponseDto) using a constructor with arguments. However, JPQL does not support the use of builders to create instances of non-entity classes.</p>\n<p>The reason for this is that JPQL is a query language that maps to SQL, and SQL does not support the use of builders. SQL only supports the use of constructors with arguments to create instances of result set objects.</p>\n</blockquote>\n<p>Here's an interesting example from <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#criteria\" rel=\"nofollow noreferrer\">Hibernate docs</a>. It covers Criteria API, a supposedly type-safe alternative to JPQL queries</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonWrapper {\n\n    private final Long id;\n\n    private final String nickName;\n\n    public PersonWrapper(Long id, String nickName) {\n        this.id = id;\n        this.nickName = nickName;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getNickName() {\n        return nickName;\n    }\n}\n\n\nCriteriaBuilder builder = entityManager.getCriteriaBuilder();\n\nCriteriaQuery&lt;PersonWrapper&gt; criteria = builder.createQuery(PersonWrapper.class);\nRoot&lt;Person&gt; root = criteria.from(Person.class);\n\nPath&lt;Long&gt; idPath = root.get(Person_.id);\nPath&lt;String&gt; nickNamePath = root.get(Person_.nickName);\n\ncriteria.select(builder.construct(PersonWrapper.class, idPath, nickNamePath));\n\n/*\n↑ does it call the canonical constructor? then it's not that type-safe. \nif it doesn't, how does it associate personWrapper.id with person.id, etc.?\nby names?\n*/\n\ncriteria.where(builder.equal(root.get(Person_.name), &quot;John Doe&quot;));\n\nList&lt;PersonWrapper&gt; wrappers = entityManager.createQuery(criteria).getResultList();\n</code></pre>\n<p>Do you agree that my query can be safely replaced with Criteria code?</p>\n"},{"tags":["java","postgresql","maven","jdbc"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":1,"creation_date":1685796029,"post_id":76396123,"comment_id":134713051,"body_markdown":"https://stackoverflow.com/questions/15039265/what-exactly-does-this-do-class-fornamecom-mysql-jdbc-driver-newinstance\n\nThere you go sir.","body":"<a href=\"https://stackoverflow.com/questions/15039265/what-exactly-does-this-do-class-fornamecom-mysql-jdbc-driver-newinstance\" title=\"what exactly does this do class fornamecom mysql jdbc driver newinstance\">stackoverflow.com/questions/15039265/&hellip;</a>  There you go sir."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685796249,"post_id":76396123,"comment_id":134713075,"body_markdown":"How are you running it?","body":"How are you running it?"},{"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"score":0,"creation_date":1685796523,"post_id":76396123,"comment_id":134713101,"body_markdown":"@SuchandraT That looks along the right lines! but I get `ClassNotFoundException` using both &quot;org.postgresql.jdbc.Driver&quot; and &quot;org.postgresql.Driver&quot;; is there another name the Postgres driver is known by?","body":"@SuchandraT That looks along the right lines! but I get <code>ClassNotFoundException</code> using both &quot;org.postgresql.jdbc.Driver&quot; and &quot;org.postgresql.Driver&quot;; is there another name the Postgres driver is known by?"},{"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"score":0,"creation_date":1685796545,"post_id":76396123,"comment_id":134713106,"body_markdown":"@g00se `java -jar target/olivine-1.0-SNAPSHOT.jar`","body":"@g00se <code>java -jar target&#47;olivine-1.0-SNAPSHOT.jar</code>"},{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":1,"creation_date":1685796655,"post_id":76396123,"comment_id":134713129,"body_markdown":"You need to make sure that olivine jar has postgres driver jar.","body":"You need to make sure that olivine jar has postgres driver jar."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1685796665,"post_id":76396123,"comment_id":134713130,"body_markdown":"I suspected so. If you&#39;re going to do that it should be `java -cp whatever-postgres-driver.jar;target/olivine-1.0-SNAPSHOT.jar a.b.c.YourClass` (assuming Windows and the fact you&#39;re *not* using Maven Shade)","body":"I suspected so. If you&#39;re going to do that it should be <code>java -cp whatever-postgres-driver.jar;target&#47;olivine-1.0-SNAPSHOT.jar a.b.c.YourClass</code> (assuming Windows and the fact you&#39;re <i>not</i> using Maven Shade)"},{"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"score":0,"creation_date":1685800322,"post_id":76396123,"comment_id":134713493,"body_markdown":"@g00se That works, thanks!","body":"@g00se That works, thanks!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685802649,"post_id":76396123,"comment_id":134713737,"body_markdown":"No problem. If you want to use `-jar` you should use Maven Shade","body":"No problem. If you want to use <code>-jar</code> you should use Maven Shade"}],"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685795767,"creation_date":1685795767,"question_id":76396123,"body_markdown":"I&#39;m trying to get some Java code to connect to Postgres. Just an attempt to get it to connect to a database at all, in the first instance:\r\n\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n  \r\n    public class Main {\r\n      private static final String url = &quot;jdbc:postgresql://localhost/dvdrental&quot;;\r\n      private static final String user = &quot;postgres&quot;;\r\n      private static final String password = &quot;...&quot;;\r\n  \r\n      public static void main(String[] args) throws SQLException {\r\n        var conn = DriverManager.getConnection(url, user, password);\r\n        System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\r\n      }\r\n    }\r\n\r\nThis gets a runtime error:\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLException: No suitable driver found for jdbc:postgresql://localhost/dvdrental\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n\r\nSeems straightforward enough, I need to add a suitable driver as a dependency, so I added the following to `pom.xml`:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n... and it makes no difference at all; `mvn package` followed by running the program, still gets the same runtime error.\r\n\r\nIs there something else I need to do, to tell Java to actually go ahead and use that driver?","title":"How to get Java to recognize the Postgres driver?","body":"<p>I'm trying to get some Java code to connect to Postgres. Just an attempt to get it to connect to a database at all, in the first instance:</p>\n<pre><code>import java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class Main {\n  private static final String url = &quot;jdbc:postgresql://localhost/dvdrental&quot;;\n  private static final String user = &quot;postgres&quot;;\n  private static final String password = &quot;...&quot;;\n\n  public static void main(String[] args) throws SQLException {\n    var conn = DriverManager.getConnection(url, user, password);\n    System.out.println(&quot;Connected to the PostgreSQL server successfully.&quot;);\n  }\n}\n</code></pre>\n<p>This gets a runtime error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: No suitable driver found for jdbc:postgresql://localhost/dvdrental\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n</code></pre>\n<p>Seems straightforward enough, I need to add a suitable driver as a dependency, so I added the following to <code>pom.xml</code>:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;version&gt;42.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>... and it makes no difference at all; <code>mvn package</code> followed by running the program, still gets the same runtime error.</p>\n<p>Is there something else I need to do, to tell Java to actually go ahead and use that driver?</p>\n"},{"tags":["java","time-complexity","big-o"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685793931,"post_id":76395949,"comment_id":134712838,"body_markdown":"If I am not mistaken: `f(0) = c, f(n) = f(n-1) + f(n-2) + f(n-4) &lt;= 3 * f(n-1) = 3 * f(n-1) = 3 * 3 * f(n-2) = 3 * 3 * 3 * f(n-3) = ... = 3^n * f(0) = 3^n * c ∈ O(3^n)`.","body":"If I am not mistaken: <code>f(0) = c, f(n) = f(n-1) + f(n-2) + f(n-4) &lt;= 3 * f(n-1) = 3 * f(n-1) = 3 * 3 * f(n-2) = 3 * 3 * 3 * f(n-3) = ... = 3^n * f(0) = 3^n * c ∈ O(3^n)</code>."},{"owner":{"account_id":28743384,"reputation":1,"user_id":22013067,"display_name":"Alaan fsh"},"score":0,"creation_date":1685794118,"post_id":76395949,"comment_id":134712862,"body_markdown":"@user16320675 please if you see it again let me know","body":"@user16320675 please if you see it again let me know"},{"owner":{"account_id":28743384,"reputation":1,"user_id":22013067,"display_name":"Alaan fsh"},"score":0,"creation_date":1685794213,"post_id":76395949,"comment_id":134712870,"body_markdown":"@Turing85 Mmm I think it&#39;s correct, but I want more details cause we solve it by equation something like that","body":"@Turing85 Mmm I think it&#39;s correct, but I want more details cause we solve it by equation something like that"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685794269,"post_id":76395949,"comment_id":134712874,"body_markdown":"That is literally the whole equation right there. There is nothing more to it. If you want to prove that `f(0) = c, f(n) = 3 * f(n-1)` is equal to `g(n) = 3^n * c` then this is off-topic for SO and would be more suitable on [math SE](https://math.stackexchange.com/). But the proof should be straight-forward through induction.","body":"That is literally the whole equation right there. There is nothing more to it. If you want to prove that <code>f(0) = c, f(n) = 3 * f(n-1)</code> is equal to <code>g(n) = 3^n * c</code> then this is off-topic for SO and would be more suitable on <a href=\"https://math.stackexchange.com/\">math SE</a>. But the proof should be straight-forward through induction."},{"owner":{"account_id":28743384,"reputation":1,"user_id":22013067,"display_name":"Alaan fsh"},"score":0,"creation_date":1685794338,"post_id":76395949,"comment_id":134712880,"body_markdown":"@user16320675 Maybe I dunno","body":"@user16320675 Maybe I dunno"},{"owner":{"account_id":28743384,"reputation":1,"user_id":22013067,"display_name":"Alaan fsh"},"score":0,"creation_date":1685794453,"post_id":76395949,"comment_id":134712893,"body_markdown":"@Turing85 ok thanks ^-^","body":"@Turing85 ok thanks ^-^"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685794846,"creation_date":1685794846,"answer_id":76396062,"question_id":76395949,"body_markdown":"One way is to observe: The &#39;point&#39; of saying: &quot;This algorithm is `O(n^2)`&quot; is expressing the idea that if you run this algorithm for various values of `n` and you chart `n` (on the x-axis) against &quot;runtime taken by this algorithm for an input with property &#39;n&#39;&quot; (on the y-axis), __eventually__ (if you look far enough to the right), it looks just like the chart `y = x^2` looks. big-O notation gives you zero information about how far to the right you have to look, just that, as you look infinitely far, you _will_ get to a slice that looks like that and will continue looking like that. It also just says &quot;It looks like that&quot;, which is why constant factors are irrelevant.\r\n\r\nYou can try that - chart `y = x^2` and then chart `y = x^2 + x` and __eventually__ the second chart looks identical to the first if you look far enough to the right. Make it `y = x^2 + 1000x` and this is still true; you just have to look way further right. That&#39;s why you&#39;d never say something is `O(n^2 + n)` or even that something is `O(20n^2)` - because you&#39;re describing a shape of a chart and not an actual formula, and `20n^2` is not a different shape from just `n^2`.\r\n\r\nSo, you could actually model it with [JMH](https://www.baeldung.com/java-microbenchmark-harness) and make this chart. That&#39;s quite a bit of work, but a very enlightening exercise.\r\n\r\nThe answer is `O(3^n)`, and there are fairly easy ways to realize this. Your code on its own includes no loops of any kind, so a single invocation of this method (disregarding that it recurses) just counts as &#39;1&#39; (in big-O parlance, _other than_ the recursion, your method&#39;s characteristic is `O(1)` - its runtime of the non-recursive part is not affected in any way by `n`). It does 1 to 3 comparisons between `m1` and `m3` regardless of the value of `n`, hence, constant factor, hence, irrelevant for big-O.\r\n\r\nThat just leaves the recursion, which is simply.. recursion. 3 times. There is no fancy trickery here: For an input of `n`, the first of your recursive calls is still linear to `n`, as are the second and third - subtracting 4 every time simply means it&#39;s linear to `n/4`, but constant factors don&#39;t matter, so they are _all_ linear to `n`.\r\n\r\nThis boils down to 3^n. If you don&#39;t intuit that, use the fact you can eliminate constant factors and model it out:\r\n\r\nFor an input of &#39;1&#39;, your method needs 1 go through (none of the recursers trigger at all), so `n=1, y = 1` (here &#39;y&#39; is runtime).\r\n\r\nFor an input of &#39;2&#39;, all 3 recurses trigger (they actually don&#39;t due to the -4, but we can disregard such constant trivialities when trying to figure out its big-O notation), but those recurses are then done, so that&#39;s 4 total. Continuing that math:\r\n\r\n* x = 1, y1 = 1\r\n* x = 2, y2 = 3*y1 + 1 = 4\r\n* x = 3, y3 = 3*y2 + 1 = 13\r\n* x = 4, y4 = 3*y3 + 1 = 40\r\n* x = 5, y5 = 3*y4 + 1 = 121\r\n* x = 6, y6 = 3*y5 + 1 = 364\r\n\r\nand so on. &#39;previous, times 3&#39; is 3^n. After all, breaking down e.g. the x=5 case, and again ditching constant factors:\r\n\r\n`3*y4 = 3*3*y3 = 3*3*3*y2 = 3*3*3*3*y1`\r\n\r\nand so on - it&#39;s 3*3.... `n` times: `3^n`.\r\n","title":"Can someone explain the time complexity (Big-O) of this Java code and how to calculate it?","body":"<p>One way is to observe: The 'point' of saying: &quot;This algorithm is <code>O(n^2)</code>&quot; is expressing the idea that if you run this algorithm for various values of <code>n</code> and you chart <code>n</code> (on the x-axis) against &quot;runtime taken by this algorithm for an input with property 'n'&quot; (on the y-axis), <strong>eventually</strong> (if you look far enough to the right), it looks just like the chart <code>y = x^2</code> looks. big-O notation gives you zero information about how far to the right you have to look, just that, as you look infinitely far, you <em>will</em> get to a slice that looks like that and will continue looking like that. It also just says &quot;It looks like that&quot;, which is why constant factors are irrelevant.</p>\n<p>You can try that - chart <code>y = x^2</code> and then chart <code>y = x^2 + x</code> and <strong>eventually</strong> the second chart looks identical to the first if you look far enough to the right. Make it <code>y = x^2 + 1000x</code> and this is still true; you just have to look way further right. That's why you'd never say something is <code>O(n^2 + n)</code> or even that something is <code>O(20n^2)</code> - because you're describing a shape of a chart and not an actual formula, and <code>20n^2</code> is not a different shape from just <code>n^2</code>.</p>\n<p>So, you could actually model it with <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH</a> and make this chart. That's quite a bit of work, but a very enlightening exercise.</p>\n<p>The answer is <code>O(3^n)</code>, and there are fairly easy ways to realize this. Your code on its own includes no loops of any kind, so a single invocation of this method (disregarding that it recurses) just counts as '1' (in big-O parlance, <em>other than</em> the recursion, your method's characteristic is <code>O(1)</code> - its runtime of the non-recursive part is not affected in any way by <code>n</code>). It does 1 to 3 comparisons between <code>m1</code> and <code>m3</code> regardless of the value of <code>n</code>, hence, constant factor, hence, irrelevant for big-O.</p>\n<p>That just leaves the recursion, which is simply.. recursion. 3 times. There is no fancy trickery here: For an input of <code>n</code>, the first of your recursive calls is still linear to <code>n</code>, as are the second and third - subtracting 4 every time simply means it's linear to <code>n/4</code>, but constant factors don't matter, so they are <em>all</em> linear to <code>n</code>.</p>\n<p>This boils down to 3^n. If you don't intuit that, use the fact you can eliminate constant factors and model it out:</p>\n<p>For an input of '1', your method needs 1 go through (none of the recursers trigger at all), so <code>n=1, y = 1</code> (here 'y' is runtime).</p>\n<p>For an input of '2', all 3 recurses trigger (they actually don't due to the -4, but we can disregard such constant trivialities when trying to figure out its big-O notation), but those recurses are then done, so that's 4 total. Continuing that math:</p>\n<ul>\n<li>x = 1, y1 = 1</li>\n<li>x = 2, y2 = 3*y1 + 1 = 4</li>\n<li>x = 3, y3 = 3*y2 + 1 = 13</li>\n<li>x = 4, y4 = 3*y3 + 1 = 40</li>\n<li>x = 5, y5 = 3*y4 + 1 = 121</li>\n<li>x = 6, y6 = 3*y5 + 1 = 364</li>\n</ul>\n<p>and so on. 'previous, times 3' is 3^n. After all, breaking down e.g. the x=5 case, and again ditching constant factors:</p>\n<p><code>3*y4 = 3*3*y3 = 3*3*3*y2 = 3*3*3*3*y1</code></p>\n<p>and so on - it's 3*3.... <code>n</code> times: <code>3^n</code>.</p>\n"}],"owner":{"account_id":28743384,"reputation":1,"user_id":22013067,"display_name":"Alaan fsh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685794846,"creation_date":1685793082,"question_id":76395949,"body_markdown":"    public static int fun1(int[] arr, int index) {\r\n      if (index &lt;= 0) {\r\n        return arr[0];\r\n      }\r\n      int m1 = fun1(arr, index - 1);\r\n      int m2 = fun1(arr, index - 2);\r\n      int m3 = fun1(arr, index - 4);\r\n      if (m1 &gt; m2) {\r\n        return m1;\r\n      } else if (m2 &gt; m3) {\r\n        return m3;\r\n      } else {\r\n        return m1;\r\n      }\r\n    }","title":"Can someone explain the time complexity (Big-O) of this Java code and how to calculate it?","body":"<pre><code>public static int fun1(int[] arr, int index) {\n  if (index &lt;= 0) {\n    return arr[0];\n  }\n  int m1 = fun1(arr, index - 1);\n  int m2 = fun1(arr, index - 2);\n  int m3 = fun1(arr, index - 4);\n  if (m1 &gt; m2) {\n    return m1;\n  } else if (m2 &gt; m3) {\n    return m3;\n  } else {\n    return m1;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","solver"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685796877,"post_id":76396030,"comment_id":134713165,"body_markdown":"Please post properly formatted and indented code. Don&#39;t just dump your code as ordinary text","body":"Please post properly formatted and indented code. Don&#39;t just dump your code as ordinary text"}],"owner":{"account_id":28743457,"reputation":1,"user_id":22013122,"display_name":"Abhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685794442,"creation_date":1685794442,"question_id":76396030,"body_markdown":"After converting zip file the pdf file content is getting blank, please refer below code\r\n\r\npublic ResponseEntity&lt;ByteArrayResource&gt; createResponseEntityForZipFile (DownloadBill downloadBill) throws Exception ByteArrayOutputStream baos new ByteArrayOutputStream();\r\n\r\nFile File now File(&quot;/Users/nfg/Documents/bksj789.pdf&quot;);\r\n\r\nFile tempDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;)); File pdfFile = new File(tempDir, downloadBill.getFileName());\r\n\r\nFileUtils.writeStringToFile(pdfFile, downloadBill.getPdfString(), encoding &quot;UTF-8&quot;) InputStream inputStream = new FileInputStream(pdfFile);\r\n\r\ntry (ZipOutputStream zipout new ZipOutputStream(baos)) { ZipEntry zipEntry = new ZipEntry(dirsDownload InvoiceBillesponse.getFileName()); zipOut.putNextEntry(zipEntry):\r\n\r\nbyte[] bytes= new byte[1024]:\r\n\r\nint Length:\r\n\r\nwhile((Length = inputStream.read(bytes)) &gt;= 0) {\r\n\r\nzipOut.write(bytes, off: 0, length):\r\n\r\n}\r\n\r\nzipOut.closeEntry();\r\n\r\ninputStream.close();\r\n\r\nbaos.close();\r\n\r\n}\r\n\r\ncatch (Exception e)\r\n\r\n}\r\n\r\nOutputStream os = new FileOutputStream(new File(pathname: /Users/njh/Documents/again.zip&quot;));\r\n\r\nos.write(baos.toByteArray());\r\n\r\nos.close();\r\n\r\nByteArrayResource resource new ByteArrayResource(baos.toByteArray());\r\n\r\nHttpHeaders httpHeaders new HttpHeaders();\r\n\r\nhttpHeaders.add(HttpHeaders.CONTENT DISPOSITION, headerValue: &quot;attachment; filename=files21.zip&quot;);\r\n\r\nreturn ResponseEntity.ok()\r\n\r\n.headers(httpHeaders)\r\n\r\n.contentType(MediaType.APPLICATION_OCTET STREAN)\r\n\r\n.body(resource);\r\n\r\nI tried most of thing but none of them got worked ","title":"Getting pdf file as a String from downstream team and now I want to convert that file(that coming as string format) into a zip file","body":"<p>After converting zip file the pdf file content is getting blank, please refer below code</p>\n<p>public ResponseEntity createResponseEntityForZipFile (DownloadBill downloadBill) throws Exception ByteArrayOutputStream baos new ByteArrayOutputStream();</p>\n<p>File File now File(&quot;/Users/nfg/Documents/bksj789.pdf&quot;);</p>\n<p>File tempDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;)); File pdfFile = new File(tempDir, downloadBill.getFileName());</p>\n<p>FileUtils.writeStringToFile(pdfFile, downloadBill.getPdfString(), encoding &quot;UTF-8&quot;) InputStream inputStream = new FileInputStream(pdfFile);</p>\n<p>try (ZipOutputStream zipout new ZipOutputStream(baos)) { ZipEntry zipEntry = new ZipEntry(dirsDownload InvoiceBillesponse.getFileName()); zipOut.putNextEntry(zipEntry):</p>\n<p>byte[] bytes= new byte[1024]:</p>\n<p>int Length:</p>\n<p>while((Length = inputStream.read(bytes)) &gt;= 0) {</p>\n<p>zipOut.write(bytes, off: 0, length):</p>\n<p>}</p>\n<p>zipOut.closeEntry();</p>\n<p>inputStream.close();</p>\n<p>baos.close();</p>\n<p>}</p>\n<p>catch (Exception e)</p>\n<p>}</p>\n<p>OutputStream os = new FileOutputStream(new File(pathname: /Users/njh/Documents/again.zip&quot;));</p>\n<p>os.write(baos.toByteArray());</p>\n<p>os.close();</p>\n<p>ByteArrayResource resource new ByteArrayResource(baos.toByteArray());</p>\n<p>HttpHeaders httpHeaders new HttpHeaders();</p>\n<p>httpHeaders.add(HttpHeaders.CONTENT DISPOSITION, headerValue: &quot;attachment; filename=files21.zip&quot;);</p>\n<p>return ResponseEntity.ok()</p>\n<p>.headers(httpHeaders)</p>\n<p>.contentType(MediaType.APPLICATION_OCTET STREAN)</p>\n<p>.body(resource);</p>\n<p>I tried most of thing but none of them got worked</p>\n"},{"tags":["java","format","formatted"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":4,"creation_date":1644031256,"post_id":70995023,"comment_id":125504285,"body_markdown":"`format()` is a static method of the String class. [`formatted()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)) is a method of an instance of the String class.","body":"<code>format()</code> is a static method of the String class. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>formatted()</code></a> is a method of an instance of the String class."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":4,"creation_date":1644031742,"post_id":70995023,"comment_id":125504345,"body_markdown":"`formatted` was added much later, as a usability enhancement for [text blocks](https://openjdk.java.net/jeps/378). There’s no difference in functionality.","body":"<code>formatted</code> was added much later, as a usability enhancement for <a href=\"https://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a>. There’s no difference in functionality."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":2,"creation_date":1679392843,"post_id":70995023,"comment_id":133709537,"body_markdown":"&quot;formatted was added much later&quot;, that is: JDK 15!","body":"&quot;formatted was added much later&quot;, that is: JDK 15!"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1644058362,"creation_date":1644058362,"answer_id":70997302,"question_id":70995023,"body_markdown":"Make sure you use a good IDE so that you have easy access to browse into JDK source code. In Eclipse say, use F3 to open to any declaration. IntelliJ IDEA has similar feature.\r\n\r\nIf you view the source code for both methods, you can see these calls are identical except that variables `this` is interchanged with `format` when comparing the instance vs static method:\r\n\r\n    public String formatted(Object... args) {\r\n        return new Formatter().format(this, args).toString();\r\n    }\r\n    public static String format(String format, Object... args) {\r\n        return new Formatter().format(format, args).toString();\r\n    }\r\n\r\nSo as you&#39;ve observed: `String.format(str, args)` is same as `str.formatted(args)`","title":"What&#39;s the difference between String.format() and str.formatted() in Java?","body":"<p>Make sure you use a good IDE so that you have easy access to browse into JDK source code. In Eclipse say, use F3 to open to any declaration. IntelliJ IDEA has similar feature.</p>\n<p>If you view the source code for both methods, you can see these calls are identical except that variables <code>this</code> is interchanged with <code>format</code> when comparing the instance vs static method:</p>\n<pre><code>public String formatted(Object... args) {\n    return new Formatter().format(this, args).toString();\n}\npublic static String format(String format, Object... args) {\n    return new Formatter().format(format, args).toString();\n}\n</code></pre>\n<p>So as you've observed: <code>String.format(str, args)</code> is same as <code>str.formatted(args)</code></p>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685794138,"creation_date":1685794138,"answer_id":76396005,"question_id":70995023,"body_markdown":"**Text Blocks** were finalized and permanently added in **JDK 15** and *some additional methods added to support text blocks.* One of this methods is:\r\n\r\n    String::formatted(Object... args)\r\n\r\n&gt; And I know the functions of two codes below are the same.\r\n\r\nAs you mentioned in your question both methods do the same job and **return same results**. The goal of introducing such a method is: &lt;h4&gt;*simplify value substitution in the [Text Block][1]*.&lt;/h4&gt;\r\n\r\nBased on JEP (JDK Enhancement Proposals) 378:\r\n\r\n&gt; **Text blocks** do not directly support string interpolation. Interpolation may be considered in a future JEP. In the meantime, the\r\n&gt; new instance method `String::formatted` aids in situations where\r\n&gt; interpolation might be desired.\r\n\r\nAs an example you consider this code segment:\r\n\r\n    String code = String.format(&quot;&quot;&quot;\r\n          public void print(%s o) {\r\n              System.out.println(Objects.toString(o));\r\n          }\r\n          &quot;&quot;&quot;, type);\r\n\r\nWe can change it using formatted method as:\r\n\r\n    String source = &quot;&quot;&quot;\r\n            public void print(%s object) {\r\n                System.out.println(Objects.toString(object));\r\n            }\r\n            &quot;&quot;&quot;.formatted(type);\r\n\r\nWhich is much more cleaner.\r\n\r\n----------\r\n&lt;br /&gt;\r\n&lt;h3&gt;Also consider these minor differences between them when using the methods:&lt;/h3&gt;\r\n\r\n    public static String format(String format, Object... args)\r\n\r\n - Returns a formatted string using the **format string** and **arguments**.\r\n - It&#39;s a **static** method of `String` class.\r\n - It&#39;s introduced in **Java SE 5** *[since 2004]*.\r\n\r\n\r\n----------\r\n\r\n    public String formatted(Object... args)\r\n\r\n - Formats using **this** string as the *format string*, and the supplied **arguments**.\r\n - It&#39;s an **instance** method of `String` class.\r\n - It&#39;s introduced in **Java SE 15 (JDK 15)** *[since 2020]*.\r\n - This method is equivalent to `String.format(this, args)`\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/378","title":"What&#39;s the difference between String.format() and str.formatted() in Java?","body":"<p><strong>Text Blocks</strong> were finalized and permanently added in <strong>JDK 15</strong> and <em>some additional methods added to support text blocks.</em> One of this methods is:</p>\n<pre><code>String::formatted(Object... args)\n</code></pre>\n<blockquote>\n<p>And I know the functions of two codes below are the same.</p>\n</blockquote>\n<p>As you mentioned in your question both methods do the same job and <strong>return same results</strong>. The goal of introducing such a method is: <h4><em>simplify value substitution in the <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">Text Block</a></em>.</h4></p>\n<p>Based on JEP (JDK Enhancement Proposals) 378:</p>\n<blockquote>\n<p><strong>Text blocks</strong> do not directly support string interpolation. Interpolation may be considered in a future JEP. In the meantime, the\nnew instance method <code>String::formatted</code> aids in situations where\ninterpolation might be desired.</p>\n</blockquote>\n<p>As an example you consider this code segment:</p>\n<pre><code>String code = String.format(&quot;&quot;&quot;\n      public void print(%s o) {\n          System.out.println(Objects.toString(o));\n      }\n      &quot;&quot;&quot;, type);\n</code></pre>\n<p>We can change it using formatted method as:</p>\n<pre><code>String source = &quot;&quot;&quot;\n        public void print(%s object) {\n            System.out.println(Objects.toString(object));\n        }\n        &quot;&quot;&quot;.formatted(type);\n</code></pre>\n<p>Which is much more cleaner.</p>\n<hr />\n<br />\n<h3>Also consider these minor differences between them when using the methods:</h3>\n<pre><code>public static String format(String format, Object... args)\n</code></pre>\n<ul>\n<li>Returns a formatted string using the <strong>format string</strong> and <strong>arguments</strong>.</li>\n<li>It's a <strong>static</strong> method of <code>String</code> class.</li>\n<li>It's introduced in <strong>Java SE 5</strong> <em>[since 2004]</em>.</li>\n</ul>\n<hr />\n<pre><code>public String formatted(Object... args)\n</code></pre>\n<ul>\n<li>Formats using <strong>this</strong> string as the <em>format string</em>, and the supplied <strong>arguments</strong>.</li>\n<li>It's an <strong>instance</strong> method of <code>String</code> class.</li>\n<li>It's introduced in <strong>Java SE 15 (JDK 15)</strong> <em>[since 2020]</em>.</li>\n<li>This method is equivalent to <code>String.format(this, args)</code></li>\n</ul>\n"}],"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14338,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":70997302,"answer_count":2,"score":15,"last_activity_date":1685794138,"creation_date":1644031066,"question_id":70995023,"body_markdown":"I know that method **String.format()** is nearly the same as method **System.out.printf()** except it returns a String. But I could hardly find the introduction about method &quot;formatted&quot; which is defined as follows:  \r\n```java\r\npublic String formatted(Object... args) {\r\n        return new Formatter().format(this, args).toString();\r\n}\r\n```  \r\nAnd I know the functions of two codes below are the same.  \r\n```java\r\nString str1 = String.format(&quot;%s&quot;, &quot;abab&quot;);\r\nSystem.out.println(str1);\r\n```  \r\n```java\r\nString str2;\r\nstr2 = &quot;%s&quot;.formatted(&quot;abab&quot;);\r\nSystem.out.println(str2);\r\n```  \r\nTherefore I&#39;m wandering what&#39;s the difference between them. Thank you!","title":"What&#39;s the difference between String.format() and str.formatted() in Java?","body":"<p>I know that method <strong>String.format()</strong> is nearly the same as method <strong>System.out.printf()</strong> except it returns a String. But I could hardly find the introduction about method &quot;formatted&quot; which is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String formatted(Object... args) {\n        return new Formatter().format(this, args).toString();\n}\n</code></pre>\n<p>And I know the functions of two codes below are the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str1 = String.format(&quot;%s&quot;, &quot;abab&quot;);\nSystem.out.println(str1);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String str2;\nstr2 = &quot;%s&quot;.formatted(&quot;abab&quot;);\nSystem.out.println(str2);\n</code></pre>\n<p>Therefore I'm wandering what's the difference between them. Thank you!</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685738864,"post_id":76393357,"comment_id":134708718,"body_markdown":"You got another exception when you tried to get the `Connection` and you ignored that. Don&#39;t. You don&#39;t actually have a `Connection`.","body":"You got another exception when you tried to get the <code>Connection</code> and you ignored that. Don&#39;t. You don&#39;t actually have a <code>Connection</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685741953,"post_id":76393357,"comment_id":134709118,"body_markdown":"As asked, this question is a duplicate. If you want more specific help, then please [edit] your question to provide a [mre] demonstrating the problem and the stack trace of the exception.","body":"As asked, this question is a duplicate. If you want more specific help, then please <a href=\"https://stackoverflow.com/posts/76393357/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem and the stack trace of the exception."},{"owner":{"account_id":25374621,"reputation":13,"user_id":19187932,"display_name":"amy "},"score":0,"creation_date":1685742420,"post_id":76393357,"comment_id":134709178,"body_markdown":"thank you everyone  so muchh, i just fixed it","body":"thank you everyone  so muchh, i just fixed it"}],"owner":{"account_id":25374621,"reputation":13,"user_id":19187932,"display_name":"amy "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685741891,"answer_count":0,"score":0,"last_activity_date":1685794027,"creation_date":1685738482,"question_id":76393357,"body_markdown":"java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot;\r\nI got this exception and i don&#39;t know how to deal with it I&#39;m a beginner so please I&#39;m asking for you help!","title":"java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot;","body":"<p>java.lang.NullPointerException: Cannot invoke &quot;java.sql.Connection.createStatement()&quot;\nI got this exception and i don't know how to deal with it I'm a beginner so please I'm asking for you help!</p>\n"},{"tags":["java","spring","websocket","stomp"],"owner":{"account_id":28700547,"reputation":1,"user_id":21977804,"display_name":"강재형"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685793899,"creation_date":1685793899,"question_id":76395994,"body_markdown":"now I&#39;m implementing a simple chat service using Spring for backend and react for frontend.\r\n\r\nI want to add userName on the messages, but the client is only giving me the content of the message and jwt token containing claims of their Id and userName\r\n\r\nso I went on and implemented a ChannelInterceptor that intercepts all messages comming through to parse jwt token in its presend method, and then set the sender&#39;s information on the header.\r\n\r\nmy guess was that since I set the header before message gets to @MessageMapping, I will have the message with userInformation in its header where the message is actually processed and sent to its channel subscribers.\r\n\r\nbut as it turns out, the message that comes through actually does not contain the headers that I set.\r\n\r\nanyone have idea why the header is vanishing? Ive checked that in preSend method, the header is properly set in the STOMP custom header.\r\n\r\n\r\nthis is my implementation of ChannelInterceptor\r\n\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\n@Slf4j\r\npublic class StompHandler implements ChannelInterceptor {\r\n    private final JwtUtil jwtUtil;\r\n    private final UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\r\n        StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(message);\r\n        if (StompCommand.SUBSCRIBE.equals(headerAccessor.getCommand()) ||\r\n                StompCommand.DISCONNECT.equals(headerAccessor.getCommand()) ||\r\n                    StompCommand.UNSUBSCRIBE.equals(headerAccessor.getCommand())\r\n        ) {\r\n            return message;\r\n        }\r\n\r\n        System.out.println(&quot;headerAccessor = &quot; + headerAccessor);\r\n        String bearerToken = String.valueOf(headerAccessor.getNativeHeader(&quot;ACCESS_TOKEN&quot;)).replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);\r\n\r\n        if (bearerToken.equals(&quot;null&quot;)) {\r\n            throw new IllegalArgumentException(&quot;asdasd&quot;);\r\n        }\r\n        String token = jwtUtil.removePrefix(bearerToken);\r\n\r\n        if (!jwtUtil.validateToken(token)) {\r\n            throw new IllegalArgumentException(&quot;asdf&quot;);\r\n        }\r\n\r\n        Claims claims = jwtUtil.getClaimsFromToken(token);\r\n\r\n        ChatUserPrincipal userPrincipal;\r\n        try{\r\n            userPrincipal = new ChatUserPrincipal(\r\n                    Long.valueOf(claims.get(&quot;userId&quot;).toString()),\r\n                    claims.get(&quot;nickName&quot;).toString(),\r\n                    claims.get(&quot;profileUrl&quot;).toString()\r\n            );\r\n        } catch(RuntimeException e){\r\n            log.info(&quot;asd&quot;);\r\n            throw new NullPointerException(&quot;asd : asdfasdf&quot;);\r\n        }\r\n        headerAccessor.setHeader(&quot;asdfasdf&quot;, userPrincipal);\r\n\r\n\r\n        return MessageBuilder.createMessage(message.getPayload(),message.getHeaders());\r\n    }\r\n}\r\n```\r\n","title":"Spring) why is STOMP header vanishing going from ChannelInterceptor to MessageHandler?","body":"<p>now I'm implementing a simple chat service using Spring for backend and react for frontend.</p>\n<p>I want to add userName on the messages, but the client is only giving me the content of the message and jwt token containing claims of their Id and userName</p>\n<p>so I went on and implemented a ChannelInterceptor that intercepts all messages comming through to parse jwt token in its presend method, and then set the sender's information on the header.</p>\n<p>my guess was that since I set the header before message gets to @MessageMapping, I will have the message with userInformation in its header where the message is actually processed and sent to its channel subscribers.</p>\n<p>but as it turns out, the message that comes through actually does not contain the headers that I set.</p>\n<p>anyone have idea why the header is vanishing? Ive checked that in preSend method, the header is properly set in the STOMP custom header.</p>\n<p>this is my implementation of ChannelInterceptor</p>\n<pre><code>@RequiredArgsConstructor\n@Component\n@Slf4j\npublic class StompHandler implements ChannelInterceptor {\n    private final JwtUtil jwtUtil;\n    private final UserDetailsServiceImpl userDetailsService;\n\n    @Override\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n        StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(message);\n        if (StompCommand.SUBSCRIBE.equals(headerAccessor.getCommand()) ||\n                StompCommand.DISCONNECT.equals(headerAccessor.getCommand()) ||\n                    StompCommand.UNSUBSCRIBE.equals(headerAccessor.getCommand())\n        ) {\n            return message;\n        }\n\n        System.out.println(&quot;headerAccessor = &quot; + headerAccessor);\n        String bearerToken = String.valueOf(headerAccessor.getNativeHeader(&quot;ACCESS_TOKEN&quot;)).replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);\n\n        if (bearerToken.equals(&quot;null&quot;)) {\n            throw new IllegalArgumentException(&quot;asdasd&quot;);\n        }\n        String token = jwtUtil.removePrefix(bearerToken);\n\n        if (!jwtUtil.validateToken(token)) {\n            throw new IllegalArgumentException(&quot;asdf&quot;);\n        }\n\n        Claims claims = jwtUtil.getClaimsFromToken(token);\n\n        ChatUserPrincipal userPrincipal;\n        try{\n            userPrincipal = new ChatUserPrincipal(\n                    Long.valueOf(claims.get(&quot;userId&quot;).toString()),\n                    claims.get(&quot;nickName&quot;).toString(),\n                    claims.get(&quot;profileUrl&quot;).toString()\n            );\n        } catch(RuntimeException e){\n            log.info(&quot;asd&quot;);\n            throw new NullPointerException(&quot;asd : asdfasdf&quot;);\n        }\n        headerAccessor.setHeader(&quot;asdfasdf&quot;, userPrincipal);\n\n\n        return MessageBuilder.createMessage(message.getPayload(),message.getHeaders());\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1408706159,"post_id":25444221,"comment_id":39701224,"body_markdown":"Can you not just fetch the numeric cell value then, which is a double, and test if that number is a whole number or not?","body":"Can you not just fetch the numeric cell value then, which is a double, and test if that number is a whole number or not?"},{"owner":{"account_id":3192629,"reputation":2297,"user_id":2696569,"accept_rate":41,"display_name":"lucifer"},"score":0,"creation_date":1408707023,"post_id":25444221,"comment_id":39701670,"body_markdown":"ya thats a way but i am asking if POI has something in it..","body":"ya thats a way but i am asking if POI has something in it.."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1408708221,"post_id":25444221,"comment_id":39702355,"body_markdown":"Nope, all depends on your rules. For example, if someone writes in `1.25` to a cell, then formats that to be an integer so it displays as just `1`, do you count that as an integer or not? Your business rules are likely too specific for a general case, so you just need to write 3 lines of code!","body":"Nope, all depends on your rules. For example, if someone writes in <code>1.25</code> to a cell, then formats that to be an integer so it displays as just <code>1</code>, do you count that as an integer or not? Your business rules are likely too specific for a general case, so you just need to write 3 lines of code!"}],"answers":[{"tags":[],"owner":{"account_id":3746233,"reputation":188,"user_id":3114846,"display_name":"David Biderman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423833334,"creation_date":1423833334,"answer_id":28500479,"question_id":25444221,"body_markdown":"you should try and add another condition\r\n\r\n    if(cell.getCellType()==XSSFCell.CELL_TYPE_NUMERIC)\r\n    {\r\n        if(cell.getNumberCellValue instanceof Integer)\r\n           do something\r\n\r\n    }\r\n\r\n","title":"How to check a cell in excel integer or not in apache POI","body":"<p>you should try and add another condition</p>\n\n<pre><code>if(cell.getCellType()==XSSFCell.CELL_TYPE_NUMERIC)\n{\n    if(cell.getNumberCellValue instanceof Integer)\n       do something\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3959903,"reputation":124,"user_id":3267272,"display_name":"bogan27"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472227774,"creation_date":1472227774,"answer_id":39170497,"question_id":25444221,"body_markdown":"You can get the cell value and check if it&#39;s value changes when you round it. It doesn&#39;t use the POI library, but get&#39;s the job done:\r\n\r\n    Double numericCellValue = cell.getNumericCellValue();\r\n    if(Math.floor(numericCellValue) == numericCellValue){\r\n        // It&#39;s an integer;\r\n    }","title":"How to check a cell in excel integer or not in apache POI","body":"<p>You can get the cell value and check if it's value changes when you round it. It doesn't use the POI library, but get's the job done:</p>\n\n<pre><code>Double numericCellValue = cell.getNumericCellValue();\nif(Math.floor(numericCellValue) == numericCellValue){\n    // It's an integer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11345850,"reputation":417,"user_id":8318354,"display_name":"Priyanka Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619807988,"creation_date":1619807988,"answer_id":67338938,"question_id":25444221,"body_markdown":"        Cell value=cols.next();\r\n        if(value.getCellType()==CellType.NUMERIC)\r\n        {\r\n        \t\t\t\t\t\r\n           System.out.println((int)value.getNumericCellValue());\r\n        \t\t\t\t\r\n        }\r\n    It will check is cellType is numeric which includes double also. But once confirmed, it will type cast it into numeric value.","title":"How to check a cell in excel integer or not in apache POI","body":"<pre><code>    Cell value=cols.next();\n    if(value.getCellType()==CellType.NUMERIC)\n    {\n                        \n       System.out.println((int)value.getNumericCellValue());\n                    \n    }\nIt will check is cellType is numeric which includes double also. But once confirmed, it will type cast it into numeric value.\n</code></pre>\n"}],"owner":{"account_id":3192629,"reputation":2297,"user_id":2696569,"accept_rate":41,"display_name":"lucifer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1685793835,"creation_date":1408701096,"question_id":25444221,"body_markdown":"I am using apache POI to read excel.i  have  a requirement that the the value in the excel should only be integer. I have done this\r\n\r\n    if(cell.getCellType()==XSSFCell.CELL_TYPE_NUMERIC)\r\n\r\nbut it is applicable for all numeric values. But i want to check only for integer.Plese help.I dont find any thing in this XSSFCell to check integer.","title":"How to check a cell in excel integer or not in apache POI","body":"<p>I am using apache POI to read excel.i  have  a requirement that the the value in the excel should only be integer. I have done this</p>\n\n<pre><code>if(cell.getCellType()==XSSFCell.CELL_TYPE_NUMERIC)\n</code></pre>\n\n<p>but it is applicable for all numeric values. But i want to check only for integer.Plese help.I dont find any thing in this XSSFCell to check integer.</p>\n"},{"tags":["java","spring-mvc","dependency-injection","portlet","autowired"],"comments":[{"owner":{"account_id":284409,"reputation":631,"user_id":582509,"accept_rate":20,"display_name":"ashes"},"score":4,"creation_date":1530138219,"post_id":39890849,"comment_id":89134217,"body_markdown":"If field-injection is as bad as you describe, why does Spring allow it?\n\nField injection has its own benefits, in making the code more readable and less verbose. If you are disciplined enough in your coding, you can be sure things wouldn&#39;t break even if you use field injection.","body":"If field-injection is as bad as you describe, why does Spring allow it?  Field injection has its own benefits, in making the code more readable and less verbose. If you are disciplined enough in your coding, you can be sure things wouldn&#39;t break even if you use field injection."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1538003940,"post_id":39890849,"comment_id":91994159,"body_markdown":"@ashes Because it was a neat feature at the time, and the implications weren&#39;t entirely thought through. The same reason that `Date(int,int,int)` exists.","body":"@ashes Because it was a neat feature at the time, and the implications weren&#39;t entirely thought through. The same reason that <code>Date(int,int,int)</code> exists."}],"answers":[{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":9,"up_vote_count":56,"is_accepted":false,"score":47,"last_activity_date":1583909288,"creation_date":1475743426,"answer_id":39891473,"question_id":39890849,"body_markdown":"Matter of taste. It is your decision.\r\n\r\nBut I can explain, why I never use *constructor injection*.\r\n\r\n1. I don&#39;t want to implement a constructor for all my `@Service`, `@Repository` and `@Controller` beans. I mean, there are about 40-50 beans or more. Every time if I add a new field I would have to extend the constructor. No. I don&#39;t want it and I don&#39;t have to.\r\n\r\n2. What if your Bean (Service or Controller) requires a lot of other beans to be injected? A constructor with 4+ parameters is very ugly. \r\n\r\n3. If I&#39;m using CDI, constructor does not concern me.\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT #1**: \r\nVojtech Ruzicka said: \r\n\r\n&gt; class has too many dependencies and is probably violating single\r\n&gt; responsibility principle and should be refactored\r\n\r\nYes. Theory and reality. \r\nHere is en example: `DashboardController` mapped to single path `*:8080/dashboard`.\r\n\r\nMy `DashboardController` collects a lot of informations from other services to display them in a dashboard / system overview page. I need this single controller. So I have to secure only this one path (basic auth or user role filter).\r\n\r\n**EDIT #2**: \r\nSince everyone is focused on the 8 parameters in the constructor... This was a real-world example - an customers legacy code. I&#39;ve changed that. The same argumentation applies to me for 4+ parameters. \r\n\r\nIt&#39;s all about code injection, not instance construction.\r\n","title":"What exactly is Field Injection and how to avoid it?","body":"<p>Matter of taste. It is your decision.</p>\n\n<p>But I can explain, why I never use <em>constructor injection</em>.</p>\n\n<ol>\n<li><p>I don't want to implement a constructor for all my <code>@Service</code>, <code>@Repository</code> and <code>@Controller</code> beans. I mean, there are about 40-50 beans or more. Every time if I add a new field I would have to extend the constructor. No. I don't want it and I don't have to.</p></li>\n<li><p>What if your Bean (Service or Controller) requires a lot of other beans to be injected? A constructor with 4+ parameters is very ugly. </p></li>\n<li><p>If I'm using CDI, constructor does not concern me.</p></li>\n</ol>\n\n<hr>\n\n<p><strong>EDIT #1</strong>: \nVojtech Ruzicka said: </p>\n\n<blockquote>\n  <p>class has too many dependencies and is probably violating single\n  responsibility principle and should be refactored</p>\n</blockquote>\n\n<p>Yes. Theory and reality. \nHere is en example: <code>DashboardController</code> mapped to single path <code>*:8080/dashboard</code>.</p>\n\n<p>My <code>DashboardController</code> collects a lot of informations from other services to display them in a dashboard / system overview page. I need this single controller. So I have to secure only this one path (basic auth or user role filter).</p>\n\n<p><strong>EDIT #2</strong>: \nSince everyone is focused on the 8 parameters in the constructor... This was a real-world example - an customers legacy code. I've changed that. The same argumentation applies to me for 4+ parameters. </p>\n\n<p>It's all about code injection, not instance construction.</p>\n"},{"tags":[],"owner":{"account_id":1004640,"reputation":16474,"user_id":4560142,"display_name":"Vojtech Ruzicka"},"down_vote_count":2,"up_vote_count":471,"is_accepted":true,"score":469,"last_activity_date":1685791082,"creation_date":1475745652,"answer_id":39892204,"question_id":39890849,"body_markdown":"**Injection types**\r\n\r\nThere are three options for how dependencies can be injected into a bean:\r\n\r\n1. Through a constructor\r\n2. Through setters or other methods\r\n3. Through reflection, directly into fields\r\n\r\nYou are using option 3. That is what is happening when you use `@Autowired` directly on your field.\r\n\r\n----------\r\n**Injection guidelines**\r\n\r\n***Edit:*** *These 3 links mentioned here are for Spring 4.2., for newer version documentation as per 2023 (6.09) see list below*\r\n\r\n\r\nA general guideline, [which is recommended by Spring][1] (see the sections on [Constructor-based DI](https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/beans.html#beans-constructor-injection) or [Setter-based DI](https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/beans.html#beans-setter-injection)) is the following:\r\n\r\n- For mandatory dependencies or when aiming for immutability, use constructor injection\r\n- For optional or changeable dependencies, use setter injection\r\n- Avoid field injection in most cases\r\n\r\n\r\n----------\r\n**Field injection drawbacks**\r\n\r\nThe reasons why field injection is frowned upon are as follows:\r\n\r\n- You cannot create immutable objects, as you can with constructor injection\r\n- Your classes have tight coupling with your DI container and cannot be used outside of it\r\n- Your classes cannot be instantiated (for example in unit tests) without reflection. You need the DI container to instantiate them, which makes your tests more like integration tests\r\n- Your real dependencies are hidden from the outside and are not reflected in your interface (either constructors or methods)\r\n- It is really easy to have like ten dependencies. If you were using constructor injection, you would have a constructor with ten arguments, which would signal that something is fishy. But you can add injected fields using field injection indefinitely. Having too many dependencies is a red flag that the class usually does more than one thing, and that it may violate the Single Responsibility Principle.\r\n\r\n\r\n----------\r\n**Conclusion**\r\n\r\nDepending on your needs, you should primarily use constructor injection or some mix of constructor and setter injection. Field injection has many drawbacks and should be avoided. The only advantage of field injection is that it is more convenient to write, which does not outweigh all the cons.\r\n\r\n----------\r\n**Further reading**\r\n\r\nI wrote a blog article about why field injection is usually not recommended: [Field Dependency Injection Considered Harmful][2].\r\n\r\n----------\r\n**Spring Documentation**\r\n\r\n*Spring 4.2 (from original post)*\r\n\r\n* [The IoC container](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/beans.html) \r\n* [Constructor-based dependency injection](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/beans.html#beans-constructor-injection) \r\n* [Setter-based dependency injection](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/beans.html#beans-setter-injection) \r\n\r\n*Spring 6.0.9 (2023 Current Stable version)*\r\n\r\n* [The IoC Container](https://docs.spring.io/spring-framework/reference/core/beans.html)\r\n* [Constructor-based Dependency Injection](https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/core/beans/dependencies/factory-collaborators.html#beans-constructor-injection)\r\n* [Setter-based Dependency Injection](https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/core/beans/dependencies/factory-collaborators.html#beans-setter-injection)\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/beans.html\r\n  [2]: http://vojtechruzicka.com/field-dependency-injection-considered-harmful/","title":"What exactly is Field Injection and how to avoid it?","body":"<p><strong>Injection types</strong></p>\n<p>There are three options for how dependencies can be injected into a bean:</p>\n<ol>\n<li>Through a constructor</li>\n<li>Through setters or other methods</li>\n<li>Through reflection, directly into fields</li>\n</ol>\n<p>You are using option 3. That is what is happening when you use <code>@Autowired</code> directly on your field.</p>\n<hr />\n<p><strong>Injection guidelines</strong></p>\n<p><em><strong>Edit:</strong></em> <em>These 3 links mentioned here are for Spring 4.2., for newer version documentation as per 2023 (6.09) see list below</em></p>\n<p>A general guideline, <a href=\"http://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/beans.html\" rel=\"noreferrer\">which is recommended by Spring</a> (see the sections on <a href=\"https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/beans.html#beans-constructor-injection\" rel=\"noreferrer\">Constructor-based DI</a> or <a href=\"https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/beans.html#beans-setter-injection\" rel=\"noreferrer\">Setter-based DI</a>) is the following:</p>\n<ul>\n<li>For mandatory dependencies or when aiming for immutability, use constructor injection</li>\n<li>For optional or changeable dependencies, use setter injection</li>\n<li>Avoid field injection in most cases</li>\n</ul>\n<hr />\n<p><strong>Field injection drawbacks</strong></p>\n<p>The reasons why field injection is frowned upon are as follows:</p>\n<ul>\n<li>You cannot create immutable objects, as you can with constructor injection</li>\n<li>Your classes have tight coupling with your DI container and cannot be used outside of it</li>\n<li>Your classes cannot be instantiated (for example in unit tests) without reflection. You need the DI container to instantiate them, which makes your tests more like integration tests</li>\n<li>Your real dependencies are hidden from the outside and are not reflected in your interface (either constructors or methods)</li>\n<li>It is really easy to have like ten dependencies. If you were using constructor injection, you would have a constructor with ten arguments, which would signal that something is fishy. But you can add injected fields using field injection indefinitely. Having too many dependencies is a red flag that the class usually does more than one thing, and that it may violate the Single Responsibility Principle.</li>\n</ul>\n<hr />\n<p><strong>Conclusion</strong></p>\n<p>Depending on your needs, you should primarily use constructor injection or some mix of constructor and setter injection. Field injection has many drawbacks and should be avoided. The only advantage of field injection is that it is more convenient to write, which does not outweigh all the cons.</p>\n<hr />\n<p><strong>Further reading</strong></p>\n<p>I wrote a blog article about why field injection is usually not recommended: <a href=\"http://vojtechruzicka.com/field-dependency-injection-considered-harmful/\" rel=\"noreferrer\">Field Dependency Injection Considered Harmful</a>.</p>\n<hr />\n<p><strong>Spring Documentation</strong></p>\n<p><em>Spring 4.2 (from original post)</em></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/beans.html\" rel=\"noreferrer\">The IoC container</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/beans.html#beans-constructor-injection\" rel=\"noreferrer\">Constructor-based dependency injection</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/beans.html#beans-setter-injection\" rel=\"noreferrer\">Setter-based dependency injection</a></li>\n</ul>\n<p><em>Spring 6.0.9 (2023 Current Stable version)</em></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/reference/core/beans.html\" rel=\"noreferrer\">The IoC Container</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/core/beans/dependencies/factory-collaborators.html#beans-constructor-injection\" rel=\"noreferrer\">Constructor-based Dependency Injection</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/core/beans/dependencies/factory-collaborators.html#beans-setter-injection\" rel=\"noreferrer\">Setter-based Dependency Injection</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1608191,"reputation":14063,"user_id":1487809,"accept_rate":67,"display_name":"Daniel Olszewski"},"down_vote_count":1,"up_vote_count":95,"is_accepted":false,"score":94,"last_activity_date":1630422299,"creation_date":1475745666,"answer_id":39892207,"question_id":39890849,"body_markdown":"This is one of the never-ending discussions in software development, but major influencers in the industry are getting more opinionated about the topic and started to suggest constructor injection as the better option.\r\n\r\n**Constructor injection**\r\n\r\nPros:\r\n\r\n - **Better testability**. You do not need any mocking library or a Spring context in unit tests. You can create an object that you want to test with the *new* keyword. Such tests are always faster because they do not rely on the reflection mechanism. ([This question][1] was asked 30 minutes later. If the author had used constructor injection it would not have appeared).\r\n - **Immutability**. Once the dependencies are set they cannot be changed.\r\n - **Safer code**. After execution of a constructor your object is ready to use as you can validate anything that was passed as a parameter. The object can be either ready or not, there is no state in-between. With field  injection you introduce an intermediate step when the object is fragile. \r\n - **Cleaner expression of mandatory dependencies**. Field injection is ambiguous in this matter.\r\n - **Makes developers think about the design**. dit wrote about a constructor with 8 parameters, which actually is the sign of a bad design and [the God object anti-pattern][2]. It does not matter whether a class has 8 dependencies in its constructor or in fields, it is always wrong. People are more reluctant to add more dependencies to a constructor than via fields. It works as a signal to your brain that you should stop for a while and think about your code structure.\r\n\r\nCons:\r\n\r\n - **More code** (but modern IDEs alleviate the pain).\r\n\r\nBasically, the field injection is the opposite.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39892534/testing-a-controller-with-an-auto-wired-component-is-null-when-calling-the-contr\r\n  [2]: https://en.wikipedia.org/wiki/God_object","title":"What exactly is Field Injection and how to avoid it?","body":"<p>This is one of the never-ending discussions in software development, but major influencers in the industry are getting more opinionated about the topic and started to suggest constructor injection as the better option.</p>\n<p><strong>Constructor injection</strong></p>\n<p>Pros:</p>\n<ul>\n<li><strong>Better testability</strong>. You do not need any mocking library or a Spring context in unit tests. You can create an object that you want to test with the <em>new</em> keyword. Such tests are always faster because they do not rely on the reflection mechanism. (<a href=\"https://stackoverflow.com/questions/39892534/testing-a-controller-with-an-auto-wired-component-is-null-when-calling-the-contr\">This question</a> was asked 30 minutes later. If the author had used constructor injection it would not have appeared).</li>\n<li><strong>Immutability</strong>. Once the dependencies are set they cannot be changed.</li>\n<li><strong>Safer code</strong>. After execution of a constructor your object is ready to use as you can validate anything that was passed as a parameter. The object can be either ready or not, there is no state in-between. With field  injection you introduce an intermediate step when the object is fragile.</li>\n<li><strong>Cleaner expression of mandatory dependencies</strong>. Field injection is ambiguous in this matter.</li>\n<li><strong>Makes developers think about the design</strong>. dit wrote about a constructor with 8 parameters, which actually is the sign of a bad design and <a href=\"https://en.wikipedia.org/wiki/God_object\" rel=\"noreferrer\">the God object anti-pattern</a>. It does not matter whether a class has 8 dependencies in its constructor or in fields, it is always wrong. People are more reluctant to add more dependencies to a constructor than via fields. It works as a signal to your brain that you should stop for a while and think about your code structure.</li>\n</ul>\n<p>Cons:</p>\n<ul>\n<li><strong>More code</strong> (but modern IDEs alleviate the pain).</li>\n</ul>\n<p>Basically, the field injection is the opposite.</p>\n"},{"tags":[],"owner":{"account_id":7046317,"reputation":47,"user_id":5397071,"display_name":"wujek.oczko"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1590750820,"creation_date":1590750820,"answer_id":62084627,"question_id":39890849,"body_markdown":"One more comment - Vojtech Ruzicka stated that Spring injects beans in such three ways (the answer with the biggest numbers of points) : \r\n\r\n 1. Through a constructor \r\n 2. Through setters or other methods \r\n 3. Through reflection, directly into fields\r\n\r\nThis answer is WRONG - because FOR EVERY KIND OF INJECTION SPRING USES REFLECTION! \r\nUse IDE, set breakpoint on setter / constructor, and check. \r\n\r\nThis can be a matter of taste but it can also be a matter of a CASE. \r\n@dieter provided an excellent case when field injection is better. If You&#39;re using field injection in integration tests that are setting up Spring context - the argument with testability of the class is also invalid - unless You want to write later on tests to Your integration tests ;)  ","title":"What exactly is Field Injection and how to avoid it?","body":"<p>One more comment - Vojtech Ruzicka stated that Spring injects beans in such three ways (the answer with the biggest numbers of points) : </p>\n\n<ol>\n<li>Through a constructor </li>\n<li>Through setters or other methods </li>\n<li>Through reflection, directly into fields</li>\n</ol>\n\n<p>This answer is WRONG - because FOR EVERY KIND OF INJECTION SPRING USES REFLECTION! \nUse IDE, set breakpoint on setter / constructor, and check. </p>\n\n<p>This can be a matter of taste but it can also be a matter of a CASE. \n@dieter provided an excellent case when field injection is better. If You're using field injection in integration tests that are setting up Spring context - the argument with testability of the class is also invalid - unless You want to write later on tests to Your integration tests ;)  </p>\n"}],"owner":{"account_id":7119892,"reputation":3387,"user_id":5444891,"accept_rate":100,"display_name":"T. Jung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187511,"favorite_count":0,"down_vote_count":2,"up_vote_count":298,"accepted_answer_id":39892204,"answer_count":4,"score":296,"last_activity_date":1685791082,"creation_date":1475741525,"question_id":39890849,"body_markdown":"I read in some posts about Spring MVC and Portlets that *field injection* is not recommended. As I understand it, *field injection* is when you inject a Bean with `@Autowired` like this:\r\n\r\n    @Component\r\n    public class MyComponent {\r\n        @Autowired\r\n        private Cart cart;\r\n    }\r\n\r\nDuring my research I also read about *constructor injection*:\r\n\r\n    @Component\r\n    public class MyComponent {\r\n        private final Cart cart;\r\n    \r\n        @Autowired\r\n        public MyComponent(Cart cart){\r\n           this.cart = cart;\r\n        }\r\n    }\r\n\r\nWhat are the advantages and the disadvantages of both of these types of injections?\r\n\r\n----------\r\n\r\n**EDIT 1:** As this question is marked as duplicate of [this question][1] i checked it. Cause there aren&#39;t any code examples neither in the question nor in the answers it&#39;s not clear to me if i&#39;m correct with my guess which injection type i&#39;m using. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7779509/setter-di-vs-constructor-di-in-spring","title":"What exactly is Field Injection and how to avoid it?","body":"<p>I read in some posts about Spring MVC and Portlets that <em>field injection</em> is not recommended. As I understand it, <em>field injection</em> is when you inject a Bean with <code>@Autowired</code> like this:</p>\n\n<pre><code>@Component\npublic class MyComponent {\n    @Autowired\n    private Cart cart;\n}\n</code></pre>\n\n<p>During my research I also read about <em>constructor injection</em>:</p>\n\n<pre><code>@Component\npublic class MyComponent {\n    private final Cart cart;\n\n    @Autowired\n    public MyComponent(Cart cart){\n       this.cart = cart;\n    }\n}\n</code></pre>\n\n<p>What are the advantages and the disadvantages of both of these types of injections?</p>\n\n<hr>\n\n<p><strong>EDIT 1:</strong> As this question is marked as duplicate of <a href=\"https://stackoverflow.com/questions/7779509/setter-di-vs-constructor-di-in-spring\">this question</a> i checked it. Cause there aren't any code examples neither in the question nor in the answers it's not clear to me if i'm correct with my guess which injection type i'm using. </p>\n"},{"tags":["java","android","arrays","json"],"comments":[{"owner":{"account_id":4337266,"reputation":5191,"user_id":3541465,"accept_rate":40,"display_name":"Aakash"},"score":1,"creation_date":1438790253,"post_id":3408985,"comment_id":51596331,"body_markdown":"check out following link: https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/","body":"check out following link: <a href=\"https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/\" rel=\"nofollow noreferrer\">androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":158537,"reputation":25524,"user_id":377260,"display_name":"Paul Burke"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1513239778,"creation_date":1280975443,"answer_id":3411347,"question_id":3408985,"body_markdown":"On Arrays, look for:\r\n\r\n&gt;     JSONArray menuitemArray = popupObject.getJSONArray(&quot;menuitem&quot;); \r\n\r\n\r\n","title":"JSON Array iteration in Android/Java","body":"<p>On Arrays, look for:</p>\n\n<blockquote>\n<pre><code>JSONArray menuitemArray = popupObject.getJSONArray(\"menuitem\"); \n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":162686,"reputation":31355,"user_id":384306,"accept_rate":89,"display_name":"Nathan Schwermann"},"down_vote_count":2,"up_vote_count":71,"is_accepted":true,"score":69,"last_activity_date":1469828815,"creation_date":1280977450,"answer_id":3411454,"question_id":3408985,"body_markdown":"I have done it two different ways,\r\n\r\n**1.) make a Map**\r\n\r\n  \r\n            HashMap&lt;String, String&gt; applicationSettings = new HashMap&lt;String,String&gt;();\r\n        \tfor(int i=0; i&lt;settings.length(); i++){\r\n    \t\t\tString value = settings.getJSONObject(i).getString(&quot;value&quot;);\r\n    \t\t\tString name = settings.getJSONObject(i).getString(&quot;name&quot;);\r\n    \t\t\tapplicationSettings.put(name, value);\r\n    \t\t}\r\n\r\n\r\n**2.) make a JSONArray of names**\r\n\r\n\r\n        JSONArray names = json.names();\r\n    \tJSONArray values = json.toJSONArray(names);\r\n    \tfor(int i=0; i&lt;values.length(); i++){\r\n    \t\tif (names.getString(i).equals(&quot;description&quot;)){\r\n    \t\t\tsetDescription(values.getString(i));\r\n    \t\t}\r\n    \t\telse if (names.getString(i).equals(&quot;expiryDate&quot;)){\r\n    \t\t\tString dateString = values.getString(i);\r\n    \t\t\tsetExpiryDate(stringToDateHelper(dateString)); \r\n    \t\t}\r\n    \t\telse if (names.getString(i).equals(&quot;id&quot;)){\r\n    \t\t\tsetId(values.getLong(i));\r\n    \t\t}\r\n    \t\telse if (names.getString(i).equals(&quot;offerCode&quot;)){\r\n    \t\t\tsetOfferCode(values.getString(i));\r\n    \t\t}\r\n    \t\telse if (names.getString(i).equals(&quot;startDate&quot;)){\r\n    \t\t\tString dateString = values.getString(i);\r\n    \t\t\tsetStartDate(stringToDateHelper(dateString));\r\n    \t\t}\r\n    \t\telse if (names.getString(i).equals(&quot;title&quot;)){\r\n    \t\t\tsetTitle(values.getString(i));\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"JSON Array iteration in Android/Java","body":"<p>I have done it two different ways,</p>\n\n<p><strong>1.) make a Map</strong></p>\n\n<pre><code>        HashMap&lt;String, String&gt; applicationSettings = new HashMap&lt;String,String&gt;();\n        for(int i=0; i&lt;settings.length(); i++){\n            String value = settings.getJSONObject(i).getString(\"value\");\n            String name = settings.getJSONObject(i).getString(\"name\");\n            applicationSettings.put(name, value);\n        }\n</code></pre>\n\n<p><strong>2.) make a JSONArray of names</strong></p>\n\n<pre><code>    JSONArray names = json.names();\n    JSONArray values = json.toJSONArray(names);\n    for(int i=0; i&lt;values.length(); i++){\n        if (names.getString(i).equals(\"description\")){\n            setDescription(values.getString(i));\n        }\n        else if (names.getString(i).equals(\"expiryDate\")){\n            String dateString = values.getString(i);\n            setExpiryDate(stringToDateHelper(dateString)); \n        }\n        else if (names.getString(i).equals(\"id\")){\n            setId(values.getLong(i));\n        }\n        else if (names.getString(i).equals(\"offerCode\")){\n            setOfferCode(values.getString(i));\n        }\n        else if (names.getString(i).equals(\"startDate\")){\n            String dateString = values.getString(i);\n            setStartDate(stringToDateHelper(dateString));\n        }\n        else if (names.getString(i).equals(\"title\")){\n            setTitle(values.getString(i));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395915,"reputation":7603,"user_id":759140,"display_name":"vipw"},"down_vote_count":0,"up_vote_count":348,"is_accepted":false,"score":348,"last_activity_date":1370428141,"creation_date":1308245477,"answer_id":6376083,"question_id":3408985,"body_markdown":"I think this code is short and clear:\r\n\r\n    int id;\r\n    String name;\r\n    JSONArray array = new JSONArray(string_of_json_array);\r\n    for (int i = 0; i &lt; array.length(); i++) {\r\n        JSONObject row = array.getJSONObject(i);\r\n        id = row.getInt(&quot;id&quot;);\r\n        name = row.getString(&quot;name&quot;);\r\n    }\r\n\r\nIs that what you were looking for?\r\n","title":"JSON Array iteration in Android/Java","body":"<p>I think this code is short and clear:</p>\n\n<pre><code>int id;\nString name;\nJSONArray array = new JSONArray(string_of_json_array);\nfor (int i = 0; i &lt; array.length(); i++) {\n    JSONObject row = array.getJSONObject(i);\n    id = row.getInt(\"id\");\n    name = row.getString(\"name\");\n}\n</code></pre>\n\n<p>Is that what you were looking for?</p>\n"},{"tags":[],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363227778,"creation_date":1361241991,"answer_id":14948985,"question_id":3408985,"body_markdown":"If you&#39;re using the [JSON.org Java implementation][1], which is open source, you can just make JSONArray implement the `Iterable` interface and add the following method to the class:\r\n\r\n    @Override\r\n\tpublic Iterator iterator() {\r\n\t\treturn this.myArrayList.iterator();\r\n\t}\r\nThis will make all instances of JSONArray iterable, meaning that the `for (Object foo : bar)` syntax will now work with it (note that foo has to be an Object, because JSONArrays do not have a declared type). All this works because the JSONArray class is backed by a simple ArrayList, which is already iterable. I imagine that other open source implementations would be just as easy to change.\r\n\r\n  [1]: http://www.json.org/java/index.html","title":"JSON Array iteration in Android/Java","body":"<p>If you're using the <a href=\"http://www.json.org/java/index.html\" rel=\"nofollow\">JSON.org Java implementation</a>, which is open source, you can just make JSONArray implement the <code>Iterable</code> interface and add the following method to the class:</p>\n\n<pre><code>@Override\npublic Iterator iterator() {\n    return this.myArrayList.iterator();\n}\n</code></pre>\n\n<p>This will make all instances of JSONArray iterable, meaning that the <code>for (Object foo : bar)</code> syntax will now work with it (note that foo has to be an Object, because JSONArrays do not have a declared type). All this works because the JSONArray class is backed by a simple ArrayList, which is already iterable. I imagine that other open source implementations would be just as easy to change.</p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362470552,"creation_date":1362470552,"answer_id":15218606,"question_id":3408985,"body_markdown":"While iterating over a JSON array (org.json.JSONArray, built into Android), watch out for **null** objects; for example, you may get `&quot;null&quot;` instead of a **null** string.\r\n\r\nA check may look like:\r\n\r\n    s[i] = array.isNull(i) ? null : array.getString(i);","title":"JSON Array iteration in Android/Java","body":"<p>While iterating over a JSON array (org.json.JSONArray, built into Android), watch out for <strong>null</strong> objects; for example, you may get <code>\"null\"</code> instead of a <strong>null</strong> string.</p>\n\n<p>A check may look like:</p>\n\n<pre><code>s[i] = array.isNull(i) ? null : array.getString(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5659136,"reputation":103,"user_id":4477276,"display_name":"Dream"},"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1556060238,"creation_date":1421828049,"answer_id":28062416,"question_id":3408985,"body_markdown":"Unfortunately , `JSONArray` **doesn&#39;t** support `foreach` statements, like:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    for(JSONObject someObj : someJsonArray) {\r\n        // do something about someObj\r\n        ....\r\n        ....\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JSON Array iteration in Android/Java","body":"<p>Unfortunately , <code>JSONArray</code> <strong>doesn't</strong> support <code>foreach</code> statements, like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>for(JSONObject someObj : someJsonArray) {\r\n    // do something about someObj\r\n    ....\r\n    ....\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":6364788,"reputation":241,"user_id":4939075,"display_name":"Andriya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436354957,"creation_date":1436354957,"answer_id":31291330,"question_id":3408985,"body_markdown":"\r\n\r\nYou are using the same Cast object for every entry.\r\nOn each iteration you just changed the same object instead creating a new one.\r\n\r\nThis code should fix it:\r\n\r\n    JSONArray jCastArr = jObj.getJSONArray(&quot;abridged_cast&quot;);\r\n    ArrayList&lt;Cast&gt; castList= new ArrayList&lt;Cast&gt;();\r\n    \r\n    for (int i=0; i &lt; jCastArr.length(); i++) {\r\n        Cast person = new Cast();  // create a new object here\r\n        JSONObject jpersonObj = jCastArr.getJSONObject(i);\r\n    \r\n        person.castId = (String) jpersonObj.getString(&quot;id&quot;);\r\n        person.castFullName = (String) jpersonObj.getString(&quot;name&quot;);\r\n    \r\n        castList.add(person);\r\n    }\r\n    details.castList = castList;\r\n\r\n","title":"JSON Array iteration in Android/Java","body":"<p>You are using the same Cast object for every entry.\nOn each iteration you just changed the same object instead creating a new one.</p>\n\n<p>This code should fix it:</p>\n\n<pre><code>JSONArray jCastArr = jObj.getJSONArray(\"abridged_cast\");\nArrayList&lt;Cast&gt; castList= new ArrayList&lt;Cast&gt;();\n\nfor (int i=0; i &lt; jCastArr.length(); i++) {\n    Cast person = new Cast();  // create a new object here\n    JSONObject jpersonObj = jCastArr.getJSONObject(i);\n\n    person.castId = (String) jpersonObj.getString(\"id\");\n    person.castFullName = (String) jpersonObj.getString(\"name\");\n\n    castList.add(person);\n}\ndetails.castList = castList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2080579,"reputation":1480,"user_id":1852651,"accept_rate":59,"display_name":"Graham S."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464577299,"creation_date":1464577299,"answer_id":37517046,"question_id":3408985,"body_markdown":"When I tried @vipw&#39;s suggestion, I was faced with this exception:\r\n```\r\nThe method getJSONObject(int) is undefined for the type JSONArray\r\n```\r\n\r\nThis worked for me instead:\r\n\r\n    int myJsonArraySize = myJsonArray.size();\r\n\r\n    for (int i = 0; i &lt; myJsonArraySize; i++) {\r\n\t    JSONObject myJsonObject = (JSONObject) myJsonArray.get(i);\r\n\t\t\r\n        // Do whatever you have to do to myJsonObject...\r\n\t}","title":"JSON Array iteration in Android/Java","body":"<p>When I tried @vipw's suggestion, I was faced with this exception:\n<code>\nThe method getJSONObject(int) is undefined for the type JSONArray\n</code></p>\n\n<p>This worked for me instead:</p>\n\n<pre><code>int myJsonArraySize = myJsonArray.size();\n\nfor (int i = 0; i &lt; myJsonArraySize; i++) {\n    JSONObject myJsonObject = (JSONObject) myJsonArray.get(i);\n\n    // Do whatever you have to do to myJsonObject...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1664470,"reputation":742,"user_id":1532175,"display_name":"FredG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685789408,"creation_date":1685781891,"answer_id":76395251,"question_id":3408985,"body_markdown":"Alternatively, especially on Android where there is no `iterator()`, you could define your own iterator :\r\n\r\n```\r\nimport java.util.Iterator;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\n\r\npublic final\r\nclass JSONArrayIterator&lt;E&gt; implements Iterator&lt;E&gt; {\r\n    private JSONArray jsonArray;\r\n    private int l;\r\n    private int i;\r\n\r\n    JSONArrayIterator(JSONArray jsonArray) {\r\n        this.jsonArray = jsonArray;\r\n        this.l = jsonArray.length();\r\n        this.i = 0;\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public E next() {\r\n        try {\r\n            Object o = this.jsonArray.get(this.i++);\r\n            return (E)o;\r\n        } catch (JSONException ex) {\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt works when you assume the element types of your array are all the same. This might not be considered a good practice in many cases, so you might want to add more type-checking.\r\n\r\nBut then you can then use :\r\n\r\n```\r\nfor (JSONObject row: new JSONArrayIterator&lt;JSONObject&gt;(jsonArray)){\r\n     id = row.getInt(&quot;id&quot;);\r\n     name = row.getString(&quot;name&quot;);\r\n     password = row.getString(&quot;password&quot;);\r\n}\r\n```","title":"JSON Array iteration in Android/Java","body":"<p>Alternatively, especially on Android where there is no <code>iterator()</code>, you could define your own iterator :</p>\n<pre><code>import java.util.Iterator;\nimport org.json.JSONArray;\nimport org.json.JSONException;\n\npublic final\nclass JSONArrayIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n    private JSONArray jsonArray;\n    private int l;\n    private int i;\n\n    JSONArrayIterator(JSONArray jsonArray) {\n        this.jsonArray = jsonArray;\n        this.l = jsonArray.length();\n        this.i = 0;\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public E next() {\n        try {\n            Object o = this.jsonArray.get(this.i++);\n            return (E)o;\n        } catch (JSONException ex) {\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>It works when you assume the element types of your array are all the same. This might not be considered a good practice in many cases, so you might want to add more type-checking.</p>\n<p>But then you can then use :</p>\n<pre><code>for (JSONObject row: new JSONArrayIterator&lt;JSONObject&gt;(jsonArray)){\n     id = row.getInt(&quot;id&quot;);\n     name = row.getString(&quot;name&quot;);\n     password = row.getString(&quot;password&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":178081,"reputation":6347,"user_id":409826,"accept_rate":84,"display_name":"Kevin Bradshaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226210,"favorite_count":0,"down_vote_count":0,"up_vote_count":156,"accepted_answer_id":3411454,"answer_count":9,"score":156,"last_activity_date":1685789408,"creation_date":1280949228,"question_id":3408985,"body_markdown":"I am building an android app that needs to download and synchronise with an online database, I am sending my query from the app to a php page which returns the relevant rows from a database in JSON format. \r\n\r\ncan someone please tell me the best way to iterate through a JSON array?\r\n\r\nI receive an array of objects:\r\n\r\n`[{json object},{json object},{json object}]`\r\n\r\nWhat is the simplest piece of code I could use to access the JSONObjects in the array?\r\n\r\n\r\nEDIT: now that I think of it the method I used to iterate the loop was:\r\n\r\n    for (String row: json){\r\n         id = row.getInt(&quot;id&quot;);\r\n         name = row.getString(&quot;name&quot;);\r\n         password = row.getString(&quot;password&quot;);\r\n    }\r\n\r\n\r\nSo I guess I had was somehow able to turn the returned Json into and iterable array. Any Ideas how I could achieve this?\r\n\r\nI apologise for my vaguness but I had this working from an example I found on the web and have since been unable to find it.","title":"JSON Array iteration in Android/Java","body":"<p>I am building an android app that needs to download and synchronise with an online database, I am sending my query from the app to a php page which returns the relevant rows from a database in JSON format. </p>\n\n<p>can someone please tell me the best way to iterate through a JSON array?</p>\n\n<p>I receive an array of objects:</p>\n\n<p><code>[{json object},{json object},{json object}]</code></p>\n\n<p>What is the simplest piece of code I could use to access the JSONObjects in the array?</p>\n\n<p>EDIT: now that I think of it the method I used to iterate the loop was:</p>\n\n<pre><code>for (String row: json){\n     id = row.getInt(\"id\");\n     name = row.getString(\"name\");\n     password = row.getString(\"password\");\n}\n</code></pre>\n\n<p>So I guess I had was somehow able to turn the returned Json into and iterable array. Any Ideas how I could achieve this?</p>\n\n<p>I apologise for my vaguness but I had this working from an example I found on the web and have since been unable to find it.</p>\n"},{"tags":["java","debugging","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"score":1,"creation_date":1472213802,"post_id":36356019,"comment_id":65674429,"body_markdown":"I came across question, I&#39;m developing plugin (I&#39;m a rookie) that accesses the selected node in debugger, just to let you know, yes you can access debug data from the debug node. All you need is to write your own `DebugAction` and register it in plugin.xml","body":"I came across question, I&#39;m developing plugin (I&#39;m a rookie) that accesses the selected node in debugger, just to let you know, yes you can access debug data from the debug node. All you need is to write your own <code>DebugAction</code> and register it in plugin.xml"}],"answers":[{"tags":[],"owner":{"account_id":347192,"reputation":1441,"user_id":3750507,"display_name":"Andrew Terekhine"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1459532643,"creation_date":1459532643,"answer_id":36362628,"question_id":36356019,"body_markdown":"As a very simple solution you can use the *Fully Expand Tree Node* action for objects in *Variables* or *Watches* views. This action is bound to _Numpad *_ key (&lt;kbd&gt;*&lt;/kbd&gt;) by default and opens the whole object tree. Then you select all the elements of opened object tree with shift and copy them to clipboard.","title":"Save state of object in IntelliJ debug?","body":"<p>As a very simple solution you can use the <em>Fully Expand Tree Node</em> action for objects in <em>Variables</em> or <em>Watches</em> views. This action is bound to <em>Numpad *</em> key (<kbd>*</kbd>) by default and opens the whole object tree. Then you select all the elements of opened object tree with shift and copy them to clipboard.</p>\n"},{"tags":[],"owner":{"account_id":1226470,"reputation":615,"user_id":1191905,"display_name":"Anton Berlinsky"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1492944178,"creation_date":1492944178,"answer_id":43570100,"question_id":36356019,"body_markdown":"In IntelliJ 2016, you have an option to &quot;View Text&quot; when you right click on a variable in &quot;Variables&quot; window while debugging","title":"Save state of object in IntelliJ debug?","body":"<p>In IntelliJ 2016, you have an option to \"View Text\" when you right click on a variable in \"Variables\" window while debugging</p>\n"},{"tags":[],"owner":{"account_id":12029488,"reputation":596,"user_id":8800189,"display_name":"Josep Oriol Soler"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1653332823,"creation_date":1573032793,"answer_id":58726949,"question_id":36356019,"body_markdown":"My best workaround to save an object state is to use the Evaluate tool when I have the object in the desired state and using Gson library convert it to a JSON, then at the test setup I copy the JSON as a String and convert it to a Java object again. May be a bit crude but for really large and complex objects it can save you a lot of time.","title":"Save state of object in IntelliJ debug?","body":"<p>My best workaround to save an object state is to use the Evaluate tool when I have the object in the desired state and using Gson library convert it to a JSON, then at the test setup I copy the JSON as a String and convert it to a Java object again. May be a bit crude but for really large and complex objects it can save you a lot of time.</p>\n"},{"tags":[],"owner":{"account_id":3634060,"reputation":1294,"user_id":3194525,"display_name":"maaw"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1576327884,"creation_date":1576326690,"answer_id":59335117,"question_id":36356019,"body_markdown":"To expand on Josep&#39;s answer, your best bet is to import [Google&#39;s Gson library][1] into your project and run:\r\n\r\n    Gson gson = new Gson();\r\n    gson.toJson(yourObject);\r\n\r\nThen copy the value from the result.\r\n\r\nHere&#39;s an example on IntelliJ IDEA:\r\n\r\n[![example][2]][2]\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://i.stack.imgur.com/djBlV.png","title":"Save state of object in IntelliJ debug?","body":"<p>To expand on Josep's answer, your best bet is to import <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Google's Gson library</a> into your project and run:</p>\n\n<pre><code>Gson gson = new Gson();\ngson.toJson(yourObject);\n</code></pre>\n\n<p>Then copy the value from the result.</p>\n\n<p>Here's an example on IntelliJ IDEA:</p>\n\n<p><a href=\"https://i.stack.imgur.com/djBlV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/djBlV.png\" alt=\"example\"></a></p>\n"},{"tags":[],"owner":{"account_id":16026724,"reputation":61,"user_id":11566784,"display_name":"Sourabh Garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595571800,"creation_date":1595527193,"answer_id":63060407,"question_id":36356019,"body_markdown":"Add below sample code and it will show the data in json form:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n      try {\r\n        String sample = mapper.writeValueAsString(Your object);\r\n        System.out.println(sample);\r\n      } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n      }","title":"Save state of object in IntelliJ debug?","body":"<p>Add below sample code and it will show the data in json form:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n  try {\n    String sample = mapper.writeValueAsString(Your object);\n    System.out.println(sample);\n  } catch (JsonProcessingException e) {\n    e.printStackTrace();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13557110,"reputation":659,"user_id":9780149,"display_name":"Csa77"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600193318,"creation_date":1600193318,"answer_id":63907567,"question_id":36356019,"body_markdown":"If you are OK with saving each and every object (you cannot select which objects are saved) then there is a plugin for this:\r\nhttps://plugins.jetbrains.com/plugin/14974-breakpoint-exporter-importer-with-variable-information","title":"Save state of object in IntelliJ debug?","body":"<p>If you are OK with saving each and every object (you cannot select which objects are saved) then there is a plugin for this:\n<a href=\"https://plugins.jetbrains.com/plugin/14974-breakpoint-exporter-importer-with-variable-information\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/14974-breakpoint-exporter-importer-with-variable-information</a></p>\n"}],"owner":{"account_id":3057928,"reputation":3289,"user_id":2591194,"accept_rate":81,"display_name":"Moritz Schmitz v. H&#252;lst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32685,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":36362628,"answer_count":6,"score":50,"last_activity_date":1685788502,"creation_date":1459512668,"question_id":36356019,"body_markdown":"Does anyone know whether it is possible to save the state of an object while debugging?\r\n\r\nI would like to compare the state of an object in two different execution cycles.\r\n\r\n**Bonus Question:** Anyone with experience in writing IntelliJ plugins? Does the IntelliJ SDK allow to access debug values in debug mode? Read them out of IntelliJ cache and write them to disk?","title":"Save state of object in IntelliJ debug?","body":"<p>Does anyone know whether it is possible to save the state of an object while debugging?</p>\n\n<p>I would like to compare the state of an object in two different execution cycles.</p>\n\n<p><strong>Bonus Question:</strong> Anyone with experience in writing IntelliJ plugins? Does the IntelliJ SDK allow to access debug values in debug mode? Read them out of IntelliJ cache and write them to disk?</p>\n"},{"tags":["java","spring","spring-mvc","hsqldb"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1480923779,"post_id":40969277,"comment_id":69147684,"body_markdown":"change spring version to 4 or update everything to spring 5, Spring version 5 is not compatible with 4","body":"change spring version to 4 or update everything to spring 5, Spring version 5 is not compatible with 4"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1480924732,"post_id":40969277,"comment_id":69148143,"body_markdown":"Your test (what you posted here) cannot fail because you aren&#39;t calling any methods, so there must be more code. It fails on creating/executing a query, acording to the stacktrace you are using HSQLDB make sure you actually are using that (and not something else). There should also be more to the stacktrace then this, (generally the query leading to an issue is included somewhere).","body":"Your test (what you posted here) cannot fail because you aren&#39;t calling any methods, so there must be more code. It fails on creating/executing a query, acording to the stacktrace you are using HSQLDB make sure you actually are using that (and not something else). There should also be more to the stacktrace then this, (generally the query leading to an issue is included somewhere)."},{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1480927538,"post_id":40969277,"comment_id":69149411,"body_markdown":"@M.Deinum I have update my question. Kindly see now.","body":"@M.Deinum I have update my question. Kindly see now."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1480930119,"post_id":40969277,"comment_id":69150880,"body_markdown":"You are setting an ID and a POST is generally used for creation and not for updating a user.Remove the `setId` I would say...","body":"You are setting an ID and a POST is generally used for creation and not for updating a user.Remove the <code>setId</code> I would say..."},{"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"score":0,"creation_date":1481094624,"post_id":40969277,"comment_id":69230286,"body_markdown":"@M.Deinum I have solved this issue using correct value for ddl-auto. Refer my answer","body":"@M.Deinum I have solved this issue using correct value for ddl-auto. Refer my answer"}],"answers":[{"tags":[],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481094644,"creation_date":1481091899,"answer_id":41010774,"question_id":40969277,"body_markdown":"I solved this issue by changing the ddl-auto value from createordrop to create-drop in application.yml. It was my mistake. Thanks all for your time and suggestions.\r\n\r\nddl-auto property values are none, validate, update, create, create-drop. Refer [here][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html","title":"InvalidDataAccessResourceUsage Exception in spring application test","body":"<p>I solved this issue by changing the ddl-auto value from createordrop to create-drop in application.yml. It was my mistake. Thanks all for your time and suggestions.</p>\n\n<p>ddl-auto property values are none, validate, update, create, create-drop. Refer <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":28743016,"reputation":1,"user_id":22012762,"display_name":"Rajat Bhushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685788332,"creation_date":1685788332,"answer_id":76395643,"question_id":40969277,"body_markdown":"Create Tables or ALTER TAbles with a sql query on DB first.\r\nThen change entity class in java\r\n\r\nThis worked for me.","title":"InvalidDataAccessResourceUsage Exception in spring application test","body":"<p>Create Tables or ALTER TAbles with a sql query on DB first.\nThen change entity class in java</p>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685788332,"creation_date":1480923261,"question_id":40969277,"body_markdown":"Here is my model:-\r\n\r\nDAO:-\r\n\r\n    public class User implements Serializable {\r\n        private int id;\r\n        private String name;\r\n        private String userIdentifier;\r\n        private String accountNumber;\r\n        private String baseURL;\r\n        private String proxy;\r\n        private int timeout;\r\n        private String configuration;\r\n        private boolean active;\r\n    \r\n       // getters and setters for above variables\r\n    }\r\n\r\nI am creating user in the test method and I have mandatory fields for the creation. Still I don&#39;t know why it is throwing error when I execute the test.\r\n\r\nTest method:-\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringApplicationConfiguration(classes = TestApplication.class)\r\n    @WebAppConfiguration\r\n    public class UserRepositoryTest extends AbstractTransactionalJUnit4SpringContextTests {\r\n    \r\n    private static final String PATH = &quot;/users/&quot;;\r\n\r\n    @Before\r\n        public void setup() throws Exception {\r\n            this.mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    \r\n            createUser(&quot;John&quot;);\r\n    \r\n            headers = new HttpHeaders();\r\n            headers.add(CONTENT_TYPE, APPLICATION_JSON);\r\n        }\r\n       private void createUser(String name) {\r\n            user = new user();\r\n            user.setId(INTEGER_ONE);\r\n            user.setName(name);\r\n            user.setAccountNumber(&quot;1234&quot;);\r\n            user.setActive(TRUE);\r\n            user.setUserIdentifier(&quot;test&quot;);\r\n            user.setTimeout(3000);\r\n            user.setBaseUrl(&quot;https://localhost:8080&quot;);\r\n           \r\n        }\r\n\r\n    @Test\r\n    public void testUser() throws Exception {\r\n    \r\n            mockMvc.perform(post(PATH).content(new ObjectMapper().writeValueAsString(demandSource)).headers(headers))\r\n                    .andDo(print())\r\n                    .andExpect(status().isCreated());\r\n        }\r\n\r\n\r\nI am getting below error when I execute the above test in my Spring application. What I am doing wrong here ? \r\n\r\nError:-\r\n\r\n     nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \tat org.hsqldb.error.Error.error(Unknown Source)\r\n    \tat org.hsqldb.error.Error.error(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.readTableName(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.readTableOrSubquery(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadTableReference(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadFromClause(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadTableExpression(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadQuerySpecification(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadSimpleTable(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadQueryPrimary(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadQueryTerm(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadQueryExpressionBody(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.XreadQueryExpression(Unknown Source)\r\n    \tat org.hsqldb.ParserDQL.compileCursorSpecification(Unknown Source)\r\n    \tat org.hsqldb.ParserCommand.compilePart(Unknown Source)\r\n    \tat org.hsqldb.ParserCommand.compileStatement(Unknown Source)\r\n    \tat org.hsqldb.Session.compileStatement(Unknown Source)\r\n    \tat org.hsqldb.StatementManager.compile(Unknown Source)\r\n    \tat org.hsqldb.Session.execute(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCPreparedStatement.&lt;init&gt;(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCConnection.prepareStatement(Unknown Source)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\r\n    \tat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\r\n    \tat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\r\n    \tat com.sun.proxy.$Proxy112.prepareStatement(Unknown Source)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1929)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1898)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1876)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:919)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:306)\r\n    \tat org.hibernate.loader.Loader.loadEntity(Loader.java:2204)\r\n    \tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:60)\r\n    \tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:50)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3967)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:508)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:478)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1129)\r\n    \tat org.hibernate.internal.SessionImpl.access$2600(SessionImpl.java:164)\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2696)\r\n    \tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:980)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:290)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:170)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\r\n    \tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\r\n    \tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:822)\r\n    \tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:827)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1161)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:298)\r\n    \tat com.sun.proxy.$Proxy137.merge(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:509)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:503)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:488)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy163.save(Unknown Source)\r\n\r\n\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:hsqldb:/home/user/unittest/hsql\r\n        username: sa\r\n        password:\r\n        driver-class-name: org.hsqldb.jdbcDriver\r\n        testOnBorrow: true\r\n        validationQuery: SELECT 1\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: createordrop\r\n        properties:\r\n          hibernate:\r\n            format_sql: true\r\n            show_sql: true\r\n    \r\n    endpoints:\r\n      health:\r\n        sensitive: false\r\n    server:\r\n      tomcat:\r\n        basedir: target/tomcat\r\n        accesslog:\r\n          enabled: true\r\n          pattern: &quot;%v %h %l %u %t &amp;quot;%r&amp;quot; %s %b &amp;quot;%{Referer}i&amp;quot; &amp;quot;%{User-Agent}i&amp;quot; %S %D&quot;\r\n\r\n\r\nHow to solve this error ? Kindly help.\r\n\r\n","title":"InvalidDataAccessResourceUsage Exception in spring application test","body":"<p>Here is my model:-</p>\n\n<p>DAO:-</p>\n\n<pre><code>public class User implements Serializable {\n    private int id;\n    private String name;\n    private String userIdentifier;\n    private String accountNumber;\n    private String baseURL;\n    private String proxy;\n    private int timeout;\n    private String configuration;\n    private boolean active;\n\n   // getters and setters for above variables\n}\n</code></pre>\n\n<p>I am creating user in the test method and I have mandatory fields for the creation. Still I don't know why it is throwing error when I execute the test.</p>\n\n<p>Test method:-</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringApplicationConfiguration(classes = TestApplication.class)\n@WebAppConfiguration\npublic class UserRepositoryTest extends AbstractTransactionalJUnit4SpringContextTests {\n\nprivate static final String PATH = \"/users/\";\n\n@Before\n    public void setup() throws Exception {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n\n        createUser(\"John\");\n\n        headers = new HttpHeaders();\n        headers.add(CONTENT_TYPE, APPLICATION_JSON);\n    }\n   private void createUser(String name) {\n        user = new user();\n        user.setId(INTEGER_ONE);\n        user.setName(name);\n        user.setAccountNumber(\"1234\");\n        user.setActive(TRUE);\n        user.setUserIdentifier(\"test\");\n        user.setTimeout(3000);\n        user.setBaseUrl(\"https://localhost:8080\");\n\n    }\n\n@Test\npublic void testUser() throws Exception {\n\n        mockMvc.perform(post(PATH).content(new ObjectMapper().writeValueAsString(demandSource)).headers(headers))\n                .andDo(print())\n                .andExpect(status().isCreated());\n    }\n</code></pre>\n\n<p>I am getting below error when I execute the above test in my Spring application. What I am doing wrong here ? </p>\n\n<p>Error:-</p>\n\n<pre><code> nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hsqldb.error.Error.error(Unknown Source)\n    at org.hsqldb.error.Error.error(Unknown Source)\n    at org.hsqldb.ParserDQL.readTableName(Unknown Source)\n    at org.hsqldb.ParserDQL.readTableOrSubquery(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadTableReference(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadFromClause(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadTableExpression(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadQuerySpecification(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadSimpleTable(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadQueryPrimary(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadQueryTerm(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadQueryExpressionBody(Unknown Source)\n    at org.hsqldb.ParserDQL.XreadQueryExpression(Unknown Source)\n    at org.hsqldb.ParserDQL.compileCursorSpecification(Unknown Source)\n    at org.hsqldb.ParserCommand.compilePart(Unknown Source)\n    at org.hsqldb.ParserCommand.compileStatement(Unknown Source)\n    at org.hsqldb.Session.compileStatement(Unknown Source)\n    at org.hsqldb.StatementManager.compile(Unknown Source)\n    at org.hsqldb.Session.execute(Unknown Source)\n    at org.hsqldb.jdbc.JDBCPreparedStatement.&lt;init&gt;(Unknown Source)\n    at org.hsqldb.jdbc.JDBCConnection.prepareStatement(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\n    at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\n    at com.sun.proxy.$Proxy112.prepareStatement(Unknown Source)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1929)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1898)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1876)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:919)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:306)\n    at org.hibernate.loader.Loader.loadEntity(Loader.java:2204)\n    at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:60)\n    at org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:50)\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3967)\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:508)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:478)\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1129)\n    at org.hibernate.internal.SessionImpl.access$2600(SessionImpl.java:164)\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2696)\n    at org.hibernate.internal.SessionImpl.get(SessionImpl.java:980)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:290)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:170)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:822)\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:827)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.merge(AbstractEntityManagerImpl.java:1161)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:298)\n    at com.sun.proxy.$Proxy137.merge(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:509)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:503)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:488)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy163.save(Unknown Source)\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>spring:\n  datasource:\n    url: jdbc:hsqldb:/home/user/unittest/hsql\n    username: sa\n    password:\n    driver-class-name: org.hsqldb.jdbcDriver\n    testOnBorrow: true\n    validationQuery: SELECT 1\n  jpa:\n    hibernate:\n      ddl-auto: createordrop\n    properties:\n      hibernate:\n        format_sql: true\n        show_sql: true\n\nendpoints:\n  health:\n    sensitive: false\nserver:\n  tomcat:\n    basedir: target/tomcat\n    accesslog:\n      enabled: true\n      pattern: \"%v %h %l %u %t &amp;quot;%r&amp;quot; %s %b &amp;quot;%{Referer}i&amp;quot; &amp;quot;%{User-Agent}i&amp;quot; %S %D\"\n</code></pre>\n\n<p>How to solve this error ? Kindly help.</p>\n"},{"tags":["java","android","post","file-upload","upload"],"answers":[{"tags":[],"owner":{"account_id":2138049,"reputation":3881,"user_id":1897334,"accept_rate":45,"display_name":"henry4343"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390466564,"creation_date":1390466564,"answer_id":21303231,"question_id":21302999,"body_markdown":"This is my code for upload, and it&#39;s work. You need import [httpmime jar][1]  \r\nPHP code\r\n\r\n    $uploads_dir = &#39;/Library/WebServer/Documents/Upload/upload/&#39;.$_FILES[&#39;userfile&#39;][&#39;name&#39;];\r\n    if(is_uploaded_file($_FILES[&#39;userfile&#39;][&#39;tmp_name&#39;])) {\r\n        echo $_POST[&quot;contentString&quot;].&quot;\\n&quot;;\r\n        echo  &quot;File path = &quot;.$uploads_dir;\r\n        move_uploaded_file ($_FILES[&#39;userfile&#39;] [&#39;tmp_name&#39;], $uploads_dir);\r\n    } else {\r\n        echo &quot;\\n Upload Error&quot;;\r\n        echo &quot;filename &#39;&quot;. $_FILES[&#39;userfile&#39;][&#39;tmp_name&#39;] . &quot;&#39;.&quot;;\r\n        print_r($_FILES);\r\n\r\njava code\r\n\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpPost postMethod = new HttpPost(&quot;http://localhost/Upload/index.php&quot;);\r\n    \r\n    File file = new File(filePath);\r\n    \r\n    MultipartEntity entity = new MultipartEntity();\r\n    FileBody contentFile = new FileBody(file);\r\n    entity.addPart(&quot;userfile&quot;,contentFile);\r\n    \r\n    StringBody contentString = new StringBody(&quot;This is contentString&quot;);\r\n    entity.addPart(&quot;contentString&quot;,contentString);\r\n    \r\n    postMethod.setEntity(entity);\r\n    HttpResponse response = client.execute(postMethod);\r\n    HttpEntity httpEntity = response.getEntity();\r\n    String state = EntityUtils.toString(httpEntity);\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/h/Downloadhttpmime401jar.htm","title":"upload file using post method in android","body":"<p>This is my code for upload, and it's work. You need import <a href=\"http://www.java2s.com/Code/Jar/h/Downloadhttpmime401jar.htm\" rel=\"nofollow\">httpmime jar</a><br>\nPHP code</p>\n\n<pre><code>$uploads_dir = '/Library/WebServer/Documents/Upload/upload/'.$_FILES['userfile']['name'];\nif(is_uploaded_file($_FILES['userfile']['tmp_name'])) {\n    echo $_POST[\"contentString\"].\"\\n\";\n    echo  \"File path = \".$uploads_dir;\n    move_uploaded_file ($_FILES['userfile'] ['tmp_name'], $uploads_dir);\n} else {\n    echo \"\\n Upload Error\";\n    echo \"filename '\". $_FILES['userfile']['tmp_name'] . \"'.\";\n    print_r($_FILES);\n</code></pre>\n\n<p>java code</p>\n\n<pre><code>HttpClient client = new DefaultHttpClient();\nHttpPost postMethod = new HttpPost(\"http://localhost/Upload/index.php\");\n\nFile file = new File(filePath);\n\nMultipartEntity entity = new MultipartEntity();\nFileBody contentFile = new FileBody(file);\nentity.addPart(\"userfile\",contentFile);\n\nStringBody contentString = new StringBody(\"This is contentString\");\nentity.addPart(\"contentString\",contentString);\n\npostMethod.setEntity(entity);\nHttpResponse response = client.execute(postMethod);\nHttpEntity httpEntity = response.getEntity();\nString state = EntityUtils.toString(httpEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476307,"reputation":1304,"user_id":887139,"accept_rate":61,"display_name":"M.Movaffagh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1390733508,"creation_date":1390733508,"answer_id":21362470,"question_id":21302999,"body_markdown":"at least i found solution.i should pay attention to entity name.and it should be same as the server.\r\n\r\n    \t\t\tDefaultHttpClient httpClient = new DefaultHttpClient();\r\n\t\t\tHttpPost httpPost = new HttpPost(mUrl);\r\n\t\t\tFile file = new File(mFileAdrress);\r\n\t\t\tFileInputStream fileInputStream = new FileInputStream(file);\r\n\t\t\thttpClient.getParams().setParameter(CoreProtocolPNames.USER_AGENT,\r\n\t\t\t\t\tSystem.getProperty(&quot;http.agent&quot;));\r\n\t\t\tInputStreamBody inputStreamBody = new InputStreamBody(\r\n\t\t\t\t\tfileInputStream, file.getName());\r\n\r\n\t\t\tMultipartEntityBuilder multipartEntity = MultipartEntityBuilder\r\n\t\t\t\t\t.create();\r\n\t\t\tmultipartEntity.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n\t\t\tmultipartEntity.addPart(&quot;file&quot;, inputStreamBody); // file should be same as server\r\n\t\t\tfinal HttpEntity myEntity = multipartEntity.build();\r\n\t\t\tclass ProgressiveEntity implements HttpEntity {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void consumeContent() throws IOException {\r\n\t\t\t\t\tmyEntity.consumeContent();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic InputStream getContent() throws IOException,\r\n\t\t\t\t\t\tIllegalStateException {\r\n\t\t\t\t\treturn myEntity.getContent();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Header getContentEncoding() {\r\n\t\t\t\t\treturn myEntity.getContentEncoding();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic long getContentLength() {\r\n\t\t\t\t\treturn myEntity.getContentLength();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Header getContentType() {\r\n\t\t\t\t\treturn myEntity.getContentType();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean isChunked() {\r\n\t\t\t\t\treturn myEntity.isChunked();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean isRepeatable() {\r\n\t\t\t\t\treturn myEntity.isRepeatable();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean isStreaming() {\r\n\t\t\t\t\treturn myEntity.isStreaming();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void writeTo(OutputStream outstream) throws IOException {\r\n\r\n\t\t\t\t\tclass ProxyOutputStream extends FilterOutputStream {\r\n\r\n\t\t\t\t\t\tpublic ProxyOutputStream(OutputStream proxy) {\r\n\t\t\t\t\t\t\tsuper(proxy);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpublic void write(int idx) throws IOException {\r\n\t\t\t\t\t\t\tout.write(idx);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpublic void write(byte[] bts) throws IOException {\r\n\t\t\t\t\t\t\tout.write(bts);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpublic void write(byte[] bts, int st, int end)\r\n\t\t\t\t\t\t\t\tthrows IOException {\r\n\t\t\t\t\t\t\tout.write(bts, st, end);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpublic void flush() throws IOException {\r\n\t\t\t\t\t\t\tout.flush();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpublic void close() throws IOException {\r\n\t\t\t\t\t\t\tout.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclass ProgressiveOutputStream extends ProxyOutputStream {\r\n\t\t\t\t\t\tpublic ProgressiveOutputStream(OutputStream proxy) {\r\n\t\t\t\t\t\t\tsuper(proxy);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpublic void write(byte[] bts, int st, int end)\r\n\t\t\t\t\t\t\t\tthrows IOException {\r\n\t\t\t\t\t\t\twrited += end;\r\n\t\t\t\t\t\t\tout.write(bts, st, end);\r\n\t\t\t\t\t\t\tmProgress = (int) ((mSoFarLength * 100) / (mTotalLength));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmyEntity.writeTo(new ProgressiveOutputStream(outstream));\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tProgressiveEntity progressiveEntity = new ProgressiveEntity();\r\n\t\t\thttpPost.setEntity(progressiveEntity);\r\n\t\t\tHttpResponse httpResponse = httpClient.execute(httpPost);\r\n\t\t\tHttpEntity httpEntity = httpResponse.getEntity();\r\n\t\t\tString state = EntityUtils.toString(httpEntity);","title":"upload file using post method in android","body":"<p>at least i found solution.i should pay attention to entity name.and it should be same as the server.</p>\n\n<pre><code>            DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpPost httpPost = new HttpPost(mUrl);\n        File file = new File(mFileAdrress);\n        FileInputStream fileInputStream = new FileInputStream(file);\n        httpClient.getParams().setParameter(CoreProtocolPNames.USER_AGENT,\n                System.getProperty(\"http.agent\"));\n        InputStreamBody inputStreamBody = new InputStreamBody(\n                fileInputStream, file.getName());\n\n        MultipartEntityBuilder multipartEntity = MultipartEntityBuilder\n                .create();\n        multipartEntity.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n        multipartEntity.addPart(\"file\", inputStreamBody); // file should be same as server\n        final HttpEntity myEntity = multipartEntity.build();\n        class ProgressiveEntity implements HttpEntity {\n            @Override\n            public void consumeContent() throws IOException {\n                myEntity.consumeContent();\n            }\n\n            @Override\n            public InputStream getContent() throws IOException,\n                    IllegalStateException {\n                return myEntity.getContent();\n            }\n\n            @Override\n            public Header getContentEncoding() {\n                return myEntity.getContentEncoding();\n            }\n\n            @Override\n            public long getContentLength() {\n                return myEntity.getContentLength();\n            }\n\n            @Override\n            public Header getContentType() {\n                return myEntity.getContentType();\n            }\n\n            @Override\n            public boolean isChunked() {\n                return myEntity.isChunked();\n            }\n\n            @Override\n            public boolean isRepeatable() {\n                return myEntity.isRepeatable();\n            }\n\n            @Override\n            public boolean isStreaming() {\n                return myEntity.isStreaming();\n            }\n\n            @Override\n            public void writeTo(OutputStream outstream) throws IOException {\n\n                class ProxyOutputStream extends FilterOutputStream {\n\n                    public ProxyOutputStream(OutputStream proxy) {\n                        super(proxy);\n                    }\n\n                    public void write(int idx) throws IOException {\n                        out.write(idx);\n                    }\n\n                    public void write(byte[] bts) throws IOException {\n                        out.write(bts);\n                    }\n\n                    public void write(byte[] bts, int st, int end)\n                            throws IOException {\n                        out.write(bts, st, end);\n                    }\n\n                    public void flush() throws IOException {\n                        out.flush();\n                    }\n\n                    public void close() throws IOException {\n                        out.close();\n                    }\n                }\n                class ProgressiveOutputStream extends ProxyOutputStream {\n                    public ProgressiveOutputStream(OutputStream proxy) {\n                        super(proxy);\n                    }\n\n                    public void write(byte[] bts, int st, int end)\n                            throws IOException {\n                        writed += end;\n                        out.write(bts, st, end);\n                        mProgress = (int) ((mSoFarLength * 100) / (mTotalLength));\n                    }\n                }\n\n                myEntity.writeTo(new ProgressiveOutputStream(outstream));\n            }\n\n        }\n        ProgressiveEntity progressiveEntity = new ProgressiveEntity();\n        httpPost.setEntity(progressiveEntity);\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        HttpEntity httpEntity = httpResponse.getEntity();\n        String state = EntityUtils.toString(httpEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1169581,"reputation":1548,"user_id":1147045,"accept_rate":32,"display_name":"Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685788309,"creation_date":1685788309,"answer_id":76395642,"question_id":21302999,"body_markdown":"In 2023, I found the easiest solution by using OkHttpClient. \r\n\r\nimplementation &quot;com.squareup.okhttp3:okhttp:4.11.0&quot;\r\n\r\nThe code looks like this,\r\n\r\n    File f = new File(sourceFileUri);\r\n        OkHttpClient client = new OkHttpClient();\r\n\r\n        RequestBody requestBody = new MultipartBody.Builder()\r\n                .setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;userid&quot;, UniqueUserId)\r\n                .addFormDataPart(&quot;fileToUpload&quot;, f.getName(), RequestBody.create(MediaType.parse(&quot;image/png&quot;), f))\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(&quot;full-path.php&quot;)\r\n                .post(requestBody)\r\n                .build();\r\n\r\n        System.out.println(&quot;Request: &quot;+request.body().toString());\r\n\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            String body = response.body().string();\r\n            System.out.println(&quot;Response: &quot; + body);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Error: &quot;+e);\r\n        }","title":"upload file using post method in android","body":"<p>In 2023, I found the easiest solution by using OkHttpClient.</p>\n<p>implementation &quot;com.squareup.okhttp3:okhttp:4.11.0&quot;</p>\n<p>The code looks like this,</p>\n<pre><code>File f = new File(sourceFileUri);\n    OkHttpClient client = new OkHttpClient();\n\n    RequestBody requestBody = new MultipartBody.Builder()\n            .setType(MultipartBody.FORM)\n            .addFormDataPart(&quot;userid&quot;, UniqueUserId)\n            .addFormDataPart(&quot;fileToUpload&quot;, f.getName(), RequestBody.create(MediaType.parse(&quot;image/png&quot;), f))\n            .build();\n\n    Request request = new Request.Builder()\n            .url(&quot;full-path.php&quot;)\n            .post(requestBody)\n            .build();\n\n    System.out.println(&quot;Request: &quot;+request.body().toString());\n\n    try {\n        Response response = client.newCall(request).execute();\n        String body = response.body().string();\n        System.out.println(&quot;Response: &quot; + body);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot;Error: &quot;+e);\n    }\n</code></pre>\n"}],"owner":{"account_id":476307,"reputation":1304,"user_id":887139,"accept_rate":61,"display_name":"M.Movaffagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21362470,"answer_count":3,"score":1,"last_activity_date":1685788309,"creation_date":1390465837,"question_id":21302999,"body_markdown":"i want to upload a file to a php server.\r\ni could upload file with below method :\r\n\r\n    curl -i -X POST -F file=@1.jpg http://something/sth\r\nand after that i can download using browser.\r\n\r\nbut when uploading file using below java code i could not download using browser.\r\n\r\n    URL url = new URL(mUrl);\r\n\t\t\tString lineEnd = &quot;\\r\\n&quot;;\r\n\t\t\tString twoHyphens = &quot;--&quot;;\r\n\t\t\tString boundary = &quot;*****&quot;;\r\n\t\t\tString Tag = &quot;fSnd&quot;;\r\n\t\t\tLog.e(Tag, &quot;Starting Http File Sending to URL&quot;);\r\n\t\t\tByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(\r\n\t\t\t\t\tbytes);\r\n\t\t\t// Open a HTTP connection to the URL\r\n\t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\r\n\t\t\t// Allow Inputs\r\n\t\t\tconn.setDoInput(true);\r\n\r\n\t\t\t// Allow Outputs\r\n\t\t\tconn.setDoOutput(true);\r\n\r\n\t\t\t// Don&#39;t use a cached copy.\r\n\t\t\tconn.setUseCaches(false);\r\n\r\n\t\t\t// Use a post method.\r\n\t\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n\r\n\t\t\tconn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n\r\n\t\t\tconn.setRequestProperty(&quot;Content-Type&quot;,\r\n\t\t\t\t\t&quot;multipart/form-data;boundary=&quot; + boundary);\r\n\r\n\t\t\tDataOutputStream dos = new DataOutputStream(conn.getOutputStream());\r\n\r\n\t\t\tdos.writeBytes(twoHyphens + boundary + lineEnd);\r\n\t\t\tdos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;title\\&quot;&quot;\r\n\t\t\t\t\t+ lineEnd);\r\n\t\t\tdos.writeBytes(lineEnd);\r\n\t\t\tdos.writeBytes(&quot;File1&quot;);\r\n\t\t\tdos.writeBytes(lineEnd);\r\n\t\t\tdos.writeBytes(twoHyphens + boundary + lineEnd);\r\n\r\n\t\t\tdos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;description\\&quot;&quot;\r\n\t\t\t\t\t+ lineEnd);\r\n\t\t\tdos.writeBytes(lineEnd);\r\n\t\t\tdos.writeBytes(&quot;File2&quot;);\r\n\t\t\tdos.writeBytes(lineEnd);\r\n\t\t\tdos.writeBytes(twoHyphens + boundary + lineEnd);\r\n\r\n\t\t\tdos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;uploadedfile\\&quot;;filename=\\&quot;&quot;\r\n\t\t\t\t\t+ &quot;File3.jpg&quot; + &quot;\\&quot;&quot; + lineEnd);\r\n\t\t\tdos.writeBytes(lineEnd);\r\n\r\n\t\t\tLog.e(Tag, &quot;Headers are written&quot;);\r\n\r\n\t\t\tbyte data[] = new byte[1024 * 2];\r\n\t\t\tint count = 0;\r\n\t\t\twhile ((count = byteArrayInputStream.read(data)) != -1) {\r\n\t\t\t\tmSoFarLength += count;\r\n\t\t\t\tLog.d(&quot;FFF&quot;, &quot;count : &quot; + count + &quot; mSoFarLength : &quot;\r\n\t\t\t\t\t\t+ mSoFarLength + &quot; mTotalLength : &quot; + mTotalLength);\r\n\t\t\t\tdos.write(data, 0, count);\r\n\t\t\t\tmProgress = ((mSoFarLength * 100) / mTotalLength);\r\n\t\t\t\tfor (LocalTransmitterListener baseTransmitterListener : baseTransmitterListeners) {\r\n\t\t\t\t\tbaseTransmitterListener.onUpdateProgress(mProgress);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdos.writeBytes(lineEnd);\r\n\t\t\tdos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\r\n\r\n\t\t\t// close streams\r\n\t\t\tbyteArrayInputStream.close();\r\n\r\n\t\t\tdos.flush();\r\n\r\n\t\t\tLog.e(Tag,\r\n\t\t\t\t\t&quot;File Sent, Response: &quot;\r\n\t\t\t\t\t\t\t+ String.valueOf(conn.getResponseCode()));\r\n\r\n\t\t\tInputStream is = conn.getInputStream();\r\n\r\n\t\t\t// retrieve the response from server\r\n\t\t\tint ch;\r\n\r\n\t\t\tStringBuffer b = new StringBuffer();\r\n\t\t\twhile ((ch = is.read()) != -1) {\r\n\t\t\t\tb.append((char) ch);\r\n\t\t\t}\r\n\t\t\tString s = b.toString();\r\n\t\t\tLog.i(&quot;Response&quot;, s);\r\n\t\t\tdos.close();","title":"upload file using post method in android","body":"<p>i want to upload a file to a php server.\ni could upload file with below method :</p>\n\n<pre><code>curl -i -X POST -F file=@1.jpg http://something/sth\n</code></pre>\n\n<p>and after that i can download using browser.</p>\n\n<p>but when uploading file using below java code i could not download using browser.</p>\n\n<pre><code>URL url = new URL(mUrl);\n        String lineEnd = \"\\r\\n\";\n        String twoHyphens = \"--\";\n        String boundary = \"*****\";\n        String Tag = \"fSnd\";\n        Log.e(Tag, \"Starting Http File Sending to URL\");\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(\n                bytes);\n        // Open a HTTP connection to the URL\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\n        // Allow Inputs\n        conn.setDoInput(true);\n\n        // Allow Outputs\n        conn.setDoOutput(true);\n\n        // Don't use a cached copy.\n        conn.setUseCaches(false);\n\n        // Use a post method.\n        conn.setRequestMethod(\"POST\");\n\n        conn.setRequestProperty(\"Connection\", \"Keep-Alive\");\n\n        conn.setRequestProperty(\"Content-Type\",\n                \"multipart/form-data;boundary=\" + boundary);\n\n        DataOutputStream dos = new DataOutputStream(conn.getOutputStream());\n\n        dos.writeBytes(twoHyphens + boundary + lineEnd);\n        dos.writeBytes(\"Content-Disposition: form-data; name=\\\"title\\\"\"\n                + lineEnd);\n        dos.writeBytes(lineEnd);\n        dos.writeBytes(\"File1\");\n        dos.writeBytes(lineEnd);\n        dos.writeBytes(twoHyphens + boundary + lineEnd);\n\n        dos.writeBytes(\"Content-Disposition: form-data; name=\\\"description\\\"\"\n                + lineEnd);\n        dos.writeBytes(lineEnd);\n        dos.writeBytes(\"File2\");\n        dos.writeBytes(lineEnd);\n        dos.writeBytes(twoHyphens + boundary + lineEnd);\n\n        dos.writeBytes(\"Content-Disposition: form-data; name=\\\"uploadedfile\\\";filename=\\\"\"\n                + \"File3.jpg\" + \"\\\"\" + lineEnd);\n        dos.writeBytes(lineEnd);\n\n        Log.e(Tag, \"Headers are written\");\n\n        byte data[] = new byte[1024 * 2];\n        int count = 0;\n        while ((count = byteArrayInputStream.read(data)) != -1) {\n            mSoFarLength += count;\n            Log.d(\"FFF\", \"count : \" + count + \" mSoFarLength : \"\n                    + mSoFarLength + \" mTotalLength : \" + mTotalLength);\n            dos.write(data, 0, count);\n            mProgress = ((mSoFarLength * 100) / mTotalLength);\n            for (LocalTransmitterListener baseTransmitterListener : baseTransmitterListeners) {\n                baseTransmitterListener.onUpdateProgress(mProgress);\n            }\n        }\n\n        dos.writeBytes(lineEnd);\n        dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\n\n        // close streams\n        byteArrayInputStream.close();\n\n        dos.flush();\n\n        Log.e(Tag,\n                \"File Sent, Response: \"\n                        + String.valueOf(conn.getResponseCode()));\n\n        InputStream is = conn.getInputStream();\n\n        // retrieve the response from server\n        int ch;\n\n        StringBuffer b = new StringBuffer();\n        while ((ch = is.read()) != -1) {\n            b.append((char) ch);\n        }\n        String s = b.toString();\n        Log.i(\"Response\", s);\n        dos.close();\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments","android-activity"],"owner":{"account_id":21969644,"reputation":1,"user_id":21945937,"display_name":"Harkirat Saran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685787963,"creation_date":1685787572,"question_id":76395595,"body_markdown":"I&#39;m learning to make an app which shows a brief city guide based of a few cities I have added in the listview of the first fragment. However, whenever I select a city, the second fragment doesn&#39;t updates and shows the correct results.\r\nFollowing is the Main activity code:\r\n\r\n\r\n```\r\npackage com.example.CG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\npublic class MainActivity extends AppCompatActivity implements fragment_A.OnFragmentInteractionListener, fragment_B.OnFragmentInteractionListener{\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    public void onFragmentInteraction(int position) {\r\n        Log.d(&quot;TAG&quot;, &quot;Activity log--&gt; Item &quot; + position + &quot; selected!&quot;);\r\n        FragmentManager FragMgr = getSupportFragmentManager() ;\r\n        fragment_B fragB = (fragment_B) FragMgr.findFragmentById(R.id.fragB);\r\n        fragB.update_text(position) ;\r\n    }\r\n}\r\n```\r\n\r\nFragment A code:\r\n\r\n\r\n```\r\npackage com.example.CG;\r\n\r\nimport android.content.res.Resources;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link fragment_A#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class fragment_A extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    private OnFragmentInteractionListener mListener;\r\n\r\n    public fragment_A() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment fragment_A.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static fragment_A newInstance(String param1, String param2) {\r\n        fragment_A fragment = new fragment_A();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment__a, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        ListView listview = (ListView) getActivity().findViewById(R.id.listView);\r\n        Resources resources = getResources();\r\n        String[] cities = resources.getStringArray(R.array.citiesNames);\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_2, android.R.id.text1, cities);\r\n        listview.setAdapter(adapter);\r\n\r\n        listview.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                Log.d(&quot;TAG&quot;, &quot;Fragment log--&gt; Item &quot; + position + &quot; selected!&quot;);\r\n                if (mListener != null) {\r\n                    mListener.onFragmentInteraction(position);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public interface OnFragmentInteractionListener {\r\n        void onFragmentInteraction(int position);\r\n    }\r\n}\r\n```\r\n\r\n\r\nFragment B code:\r\n\r\n\r\n```\r\npackage com.example.CG;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link fragment_B#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class fragment_B extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    private TextView frag2_text;\r\n    public fragment_B() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment fragment_B.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static fragment_B newInstance(String param1, String param2) {\r\n        fragment_B fragment = new fragment_B();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment__b, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        frag2_text = (TextView) getActivity().findViewById(R.id.text_view);\r\n    }\r\n\r\n    public void update_text(int position){\r\n        frag2_text.setText(&quot;Item &quot; + position + &quot; clicked.&quot;);\r\n    }\r\n\r\n    public interface OnFragmentInteractionListener {\r\n        void onFragmentInteraction(int position);\r\n    }\r\n}\r\n```\r\n\r\nStrings.XML:\r\n\r\n\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;app_name&quot;&gt;CG&lt;/string&gt;\r\n    &lt;!-- TODO: Remove or change this placeholder text --&gt;\r\n    &lt;string name=&quot;hello_blank_fragment&quot;&gt;Hello blank fragment&lt;/string&gt;\r\n    &lt;string name=&quot;textView&quot;&gt;Hello there&lt;/string&gt;\r\n\r\n    &lt;string-array name=&quot;citiesNames&quot;&gt;\r\n        &lt;item&gt;New York&lt;/item&gt;\r\n        &lt;item&gt;LA&lt;/item&gt;\r\n        &lt;item&gt;Seattle&lt;/item&gt;\r\n        &lt;item&gt;Boston&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nLogcat:\r\n\r\n\r\n```\r\n5:03:59.979  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=525.21ms min=2.28ms max=1544.37ms count=3\r\n2023-06-03 15:04:00.014  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 3 selected!\r\n2023-06-03 15:04:00.689  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 2 selected!\r\n2023-06-03 15:04:00.985  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=19.33ms min=0.79ms max=226.90ms count=48\r\n2023-06-03 15:04:01.398  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 1 selected!\r\n2023-06-03 15:04:02.002  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=16.94ms min=13.61ms max=31.34ms count=60\r\n2023-06-03 15:04:02.348  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 0 selected!\r\n2023-06-03 15:04:03.018  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=17.82ms min=14.39ms max=84.72ms count=57\r\n2023-06-03 15:04:03.206  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 1 selected!\r\n2023-06-03 15:04:04.775  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=28.80ms min=14.03ms max=759.77ms count=61\r\n```\r\n\r\n\r\n\r\nSo in the logcat, it should also output the results for ` Log.d(&quot;TAG&quot;, &quot;Activity log--&gt; Item &quot; + position + &quot; selected!&quot;);` that I am missing. Its neither updating the activity nor the second fragment.\r\n","title":"How do I fix my code to update the second fragment after clicking on items in a listview of the first fragment in Android Studio using Java?","body":"<p>I'm learning to make an app which shows a brief city guide based of a few cities I have added in the listview of the first fragment. However, whenever I select a city, the second fragment doesn't updates and shows the correct results.\nFollowing is the Main activity code:</p>\n<pre><code>package com.example.CG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity implements fragment_A.OnFragmentInteractionListener, fragment_B.OnFragmentInteractionListener{\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public void onFragmentInteraction(int position) {\n        Log.d(&quot;TAG&quot;, &quot;Activity log--&gt; Item &quot; + position + &quot; selected!&quot;);\n        FragmentManager FragMgr = getSupportFragmentManager() ;\n        fragment_B fragB = (fragment_B) FragMgr.findFragmentById(R.id.fragB);\n        fragB.update_text(position) ;\n    }\n}\n</code></pre>\n<p>Fragment A code:</p>\n<pre><code>package com.example.CG;\n\nimport android.content.res.Resources;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link fragment_A#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class fragment_A extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private OnFragmentInteractionListener mListener;\n\n    public fragment_A() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment fragment_A.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static fragment_A newInstance(String param1, String param2) {\n        fragment_A fragment = new fragment_A();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment__a, container, false);\n    }\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        ListView listview = (ListView) getActivity().findViewById(R.id.listView);\n        Resources resources = getResources();\n        String[] cities = resources.getStringArray(R.array.citiesNames);\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_2, android.R.id.text1, cities);\n        listview.setAdapter(adapter);\n\n        listview.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                Log.d(&quot;TAG&quot;, &quot;Fragment log--&gt; Item &quot; + position + &quot; selected!&quot;);\n                if (mListener != null) {\n                    mListener.onFragmentInteraction(position);\n                }\n\n            }\n        });\n    }\n\n    public interface OnFragmentInteractionListener {\n        void onFragmentInteraction(int position);\n    }\n}\n</code></pre>\n<p>Fragment B code:</p>\n<pre><code>package com.example.CG;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link fragment_B#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class fragment_B extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private TextView frag2_text;\n    public fragment_B() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment fragment_B.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static fragment_B newInstance(String param1, String param2) {\n        fragment_B fragment = new fragment_B();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment__b, container, false);\n    }\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        frag2_text = (TextView) getActivity().findViewById(R.id.text_view);\n    }\n\n    public void update_text(int position){\n        frag2_text.setText(&quot;Item &quot; + position + &quot; clicked.&quot;);\n    }\n\n    public interface OnFragmentInteractionListener {\n        void onFragmentInteraction(int position);\n    }\n}\n</code></pre>\n<p>Strings.XML:</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;CG&lt;/string&gt;\n    &lt;!-- TODO: Remove or change this placeholder text --&gt;\n    &lt;string name=&quot;hello_blank_fragment&quot;&gt;Hello blank fragment&lt;/string&gt;\n    &lt;string name=&quot;textView&quot;&gt;Hello there&lt;/string&gt;\n\n    &lt;string-array name=&quot;citiesNames&quot;&gt;\n        &lt;item&gt;New York&lt;/item&gt;\n        &lt;item&gt;LA&lt;/item&gt;\n        &lt;item&gt;Seattle&lt;/item&gt;\n        &lt;item&gt;Boston&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Logcat:</p>\n<pre><code>5:03:59.979  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=525.21ms min=2.28ms max=1544.37ms count=3\n2023-06-03 15:04:00.014  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 3 selected!\n2023-06-03 15:04:00.689  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 2 selected!\n2023-06-03 15:04:00.985  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=19.33ms min=0.79ms max=226.90ms count=48\n2023-06-03 15:04:01.398  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 1 selected!\n2023-06-03 15:04:02.002  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=16.94ms min=13.61ms max=31.34ms count=60\n2023-06-03 15:04:02.348  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 0 selected!\n2023-06-03 15:04:03.018  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=17.82ms min=14.39ms max=84.72ms count=57\n2023-06-03 15:04:03.206  9022-9022  TAG                     com.example.lab03                    D  Fragment log--&gt; Item 1 selected!\n2023-06-03 15:04:04.775  9022-9047  EGL_emulation           com.example.lab03                    D  app_time_stats: avg=28.80ms min=14.03ms max=759.77ms count=61\n</code></pre>\n<p>So in the logcat, it should also output the results for <code> Log.d(&quot;TAG&quot;, &quot;Activity log--&gt; Item &quot; + position + &quot; selected!&quot;);</code> that I am missing. Its neither updating the activity nor the second fragment.</p>\n"},{"tags":["java","rounding","bigdecimal"],"comments":[{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":1,"creation_date":1685701348,"post_id":76389271,"comment_id":134701188,"body_markdown":"I think the easiest way is to multiply by 2, round, and then divide by 2.","body":"I think the easiest way is to multiply by 2, round, and then divide by 2."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1685701366,"post_id":76389271,"comment_id":134701193,"body_markdown":"Your expectation is wrong. There is no way that HALF_UP is supposed to round 1710.11 to 1710.15. HALF_UP is defined as _&quot;Rounding mode to round towards &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case round up.&quot;_, but the number you&#39;re trying to round is already rounded to two decimal position, so nothing is changed.","body":"Your expectation is wrong. There is no way that HALF_UP is supposed to round 1710.11 to 1710.15. HALF_UP is defined as <i>&quot;Rounding mode to round towards &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case round up.&quot;</i>, but the number you&#39;re trying to round is already rounded to two decimal position, so nothing is changed."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685705121,"post_id":76389271,"comment_id":134701929,"body_markdown":"Does this answer your question? [Java: round to nearest multiple of 5 (either up or down)](https://stackoverflow.com/questions/14196987/java-round-to-nearest-multiple-of-5-either-up-or-down)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14196987/java-round-to-nearest-multiple-of-5-either-up-or-down\">Java: round to nearest multiple of 5 (either up or down)</a>"}],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685787928,"creation_date":1685706025,"answer_id":76389823,"question_id":76389271,"body_markdown":"### Your misunderstanding\r\n\r\nFirst of all setting the scale on a BigDecimal only returns a BigDecimal with a different value if your current BigDecimal has a higher scale than you specified. \r\n\r\nFor example \r\n\r\n```\r\nnew BigDecimal(&quot;1710.113&quot;).setScale(2, RoundingMode.HALF_UP)\r\n```\r\n\r\nreturns a new BigDecimal equal to `new BigDecimal(&quot;1710.11&quot;)`\r\n\r\nHowever, if you already have a scale of 2 or lower in this example, the new BigDecimal stays the same (read: equal).\r\n\r\n`HALF_UP` simply means that a BigDecimal ending on a 5 will result in the higher value, e.g. \r\n\r\n```\r\nnew BigDecimal(&quot;1710.115&quot;).setScale(2, RoundingMode.HALF_UP)\r\n```\r\n\r\nreturns a result equal to `new BigDecimal(&quot;1710.12&quot;)`\r\n\r\n### Now to your question\r\n\r\nSince your way of &quot;rounding&quot; doesn&#39;t actually change the scale, I doubt there is an already existing function you could use. However, doing it by hand is actually quite simple:\r\n\r\n    public class QuickMathz {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.10&quot;), 2));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.11&quot;), 2));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.15&quot;), 2));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.16&quot;), 2));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.1135&quot;), 2));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.1635&quot;), 2));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.1675&quot;), 2));\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.10&quot;), 3));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.11&quot;), 3));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.15&quot;), 3));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.16&quot;), 3));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.1135&quot;), 3));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.1635&quot;), 3));\r\n    \t\tSystem.out.println(roundToNext5(new BigDecimal(&quot;1710.1675&quot;), 3));\r\n    \t}\r\n    \r\n    \tpublic static BigDecimal roundToNext5(BigDecimal bigDecimal, int scale) {\r\n    \t\t// Get the last digit we need to decide if we have to round to 0, 5 or 10\r\n    \t\tint lastDigit = bigDecimal\r\n    \t\t\t\t.movePointRight(scale)\r\n    \t\t\t\t.remainder(BigDecimal.TEN).intValue();\r\n    \r\n    \t\t// Setting the Scale to scale - 1 to remove one more digit than we need\r\n    \t\t// and then increase the scale to what we want\r\n    \t\tBigDecimal result = bigDecimal\r\n    \t\t\t\t.setScale(scale - 1, RoundingMode.DOWN)\r\n    \t\t\t\t.setScale(scale, RoundingMode.UNNECESSARY);\r\n    \r\n    \t\tif (lastDigit == 0) {\r\n    \t\t\t// Last digit is a 0 upscaling adds a 0\r\n    \t\t\treturn result;\r\n    \t\t} else if (lastDigit &lt;= 5) {\r\n    \t\t\t// rounding up to 5\r\n    \t\t\treturn result.add(new BigDecimal(&quot;5&quot;).movePointLeft(scale));\r\n    \t\t} else {\r\n    \t\t\t// rounding up to 10\r\n    \t\t\treturn result.add(new BigDecimal(&quot;1&quot;).movePointLeft(scale - 1));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis class yields the output of \r\n\r\n    1710.10\r\n    1710.15\r\n    1710.15\r\n    1710.20\r\n    1710.15\r\n    1710.20\r\n    1710.20\r\n    \r\n    1710.100\r\n    1710.110\r\n    1710.150\r\n    1710.160\r\n    1710.115\r\n    1710.165\r\n    1710.170\r\n\r\n(It&#39;s neither optimized nor checked for negative values, so don&#39;t use in critical environments)","title":"Round decimals up to multiples of 5 with BigDecimal","body":"<h3>Your misunderstanding</h3>\n<p>First of all setting the scale on a BigDecimal only returns a BigDecimal with a different value if your current BigDecimal has a higher scale than you specified.</p>\n<p>For example</p>\n<pre><code>new BigDecimal(&quot;1710.113&quot;).setScale(2, RoundingMode.HALF_UP)\n</code></pre>\n<p>returns a new BigDecimal equal to <code>new BigDecimal(&quot;1710.11&quot;)</code></p>\n<p>However, if you already have a scale of 2 or lower in this example, the new BigDecimal stays the same (read: equal).</p>\n<p><code>HALF_UP</code> simply means that a BigDecimal ending on a 5 will result in the higher value, e.g.</p>\n<pre><code>new BigDecimal(&quot;1710.115&quot;).setScale(2, RoundingMode.HALF_UP)\n</code></pre>\n<p>returns a result equal to <code>new BigDecimal(&quot;1710.12&quot;)</code></p>\n<h3>Now to your question</h3>\n<p>Since your way of &quot;rounding&quot; doesn't actually change the scale, I doubt there is an already existing function you could use. However, doing it by hand is actually quite simple:</p>\n<pre><code>public class QuickMathz {\n\n    public static void main(String[] args) {\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.10&quot;), 2));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.11&quot;), 2));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.15&quot;), 2));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.16&quot;), 2));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.1135&quot;), 2));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.1635&quot;), 2));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.1675&quot;), 2));\n        System.out.println();\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.10&quot;), 3));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.11&quot;), 3));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.15&quot;), 3));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.16&quot;), 3));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.1135&quot;), 3));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.1635&quot;), 3));\n        System.out.println(roundToNext5(new BigDecimal(&quot;1710.1675&quot;), 3));\n    }\n\n    public static BigDecimal roundToNext5(BigDecimal bigDecimal, int scale) {\n        // Get the last digit we need to decide if we have to round to 0, 5 or 10\n        int lastDigit = bigDecimal\n                .movePointRight(scale)\n                .remainder(BigDecimal.TEN).intValue();\n\n        // Setting the Scale to scale - 1 to remove one more digit than we need\n        // and then increase the scale to what we want\n        BigDecimal result = bigDecimal\n                .setScale(scale - 1, RoundingMode.DOWN)\n                .setScale(scale, RoundingMode.UNNECESSARY);\n\n        if (lastDigit == 0) {\n            // Last digit is a 0 upscaling adds a 0\n            return result;\n        } else if (lastDigit &lt;= 5) {\n            // rounding up to 5\n            return result.add(new BigDecimal(&quot;5&quot;).movePointLeft(scale));\n        } else {\n            // rounding up to 10\n            return result.add(new BigDecimal(&quot;1&quot;).movePointLeft(scale - 1));\n        }\n    }\n}\n</code></pre>\n<p>This class yields the output of</p>\n<pre><code>1710.10\n1710.15\n1710.15\n1710.20\n1710.15\n1710.20\n1710.20\n\n1710.100\n1710.110\n1710.150\n1710.160\n1710.115\n1710.165\n1710.170\n</code></pre>\n<p>(It's neither optimized nor checked for negative values, so don't use in critical environments)</p>\n"},{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685714046,"creation_date":1685707222,"answer_id":76389964,"question_id":76389271,"body_markdown":"Here is my solution to solve this:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.CsvSource;\r\n\r\nclass CustomRoundingTests {\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n            &quot;1710.10, 1710.10&quot;,\r\n            &quot;1710.11, 1710.15&quot;,\r\n            &quot;1710.15, 1710.15&quot;,\r\n            &quot;1710.16, 1710.20&quot;,\r\n            &quot;1710.96, 1711.00&quot;,\r\n\r\n    })\r\n    void testRoundToNearestFive(String input, String expected) {\r\n        BigDecimalFiveRounded value = new BigDecimalFiveRounded(input);\r\n        BigDecimal roundedValue = value.round();\r\n        assertEquals(new BigDecimal(expected), roundedValue);\r\n    }\r\n\r\n    public static class BigDecimalFiveRounded extends BigDecimal {\r\n        public BigDecimalFiveRounded(String val) {\r\n            super(val);\r\n        }\r\n\r\n        public BigDecimal round() {\r\n            BigDecimal fractionalPart = this.remainder(BigDecimal.ONE);\r\n            BigDecimal scaledFractionalPart = fractionalPart.multiply(new BigDecimal(&quot;100&quot;))\r\n                    .setScale(0, RoundingMode.HALF_UP);\r\n            int firstDigit = scaledFractionalPart.intValue() / 10;\r\n            int secondDigit = scaledFractionalPart.intValue() % 10;\r\n\r\n            var result = this.subtract(new BigDecimal(&quot;0.&quot; + firstDigit + secondDigit));\r\n            if (secondDigit == 0) {\r\n                // Nothing to do\r\n                return this.setScale(2, RoundingMode.HALF_UP);\r\n            } else if (secondDigit &gt; 5) {\r\n                firstDigit++;\r\n                // Handle the case when we need to increase integer part\r\n                if (firstDigit &gt;= 10) {\r\n                    firstDigit = 0;\r\n                    result = result.add(BigDecimal.ONE);\r\n                }\r\n                secondDigit = 0;\r\n            } else {\r\n                secondDigit = 5;\r\n            }\r\n\r\n            var newFractionalPart = new BigDecimal(&quot;0.&quot; + firstDigit + secondDigit);\r\n            return result.add(newFractionalPart).setScale(2, RoundingMode.HALF_UP);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTest results:\r\n```\r\n[root]\r\ntestRoundToNearestFive(String, String)\r\n[1] input=1710.10, expected=1710.10\r\n[2] input=1710.11, expected=1710.15\r\n[3] input=1710.15, expected=1710.15\r\n[4] input=1710.16, expected=1710.20\r\n[5] input=1710.96, expected=1711.00\r\n```\r\n","title":"Round decimals up to multiples of 5 with BigDecimal","body":"<p>Here is my solution to solve this:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvSource;\n\nclass CustomRoundingTests {\n\n    @ParameterizedTest\n    @CsvSource({\n            &quot;1710.10, 1710.10&quot;,\n            &quot;1710.11, 1710.15&quot;,\n            &quot;1710.15, 1710.15&quot;,\n            &quot;1710.16, 1710.20&quot;,\n            &quot;1710.96, 1711.00&quot;,\n\n    })\n    void testRoundToNearestFive(String input, String expected) {\n        BigDecimalFiveRounded value = new BigDecimalFiveRounded(input);\n        BigDecimal roundedValue = value.round();\n        assertEquals(new BigDecimal(expected), roundedValue);\n    }\n\n    public static class BigDecimalFiveRounded extends BigDecimal {\n        public BigDecimalFiveRounded(String val) {\n            super(val);\n        }\n\n        public BigDecimal round() {\n            BigDecimal fractionalPart = this.remainder(BigDecimal.ONE);\n            BigDecimal scaledFractionalPart = fractionalPart.multiply(new BigDecimal(&quot;100&quot;))\n                    .setScale(0, RoundingMode.HALF_UP);\n            int firstDigit = scaledFractionalPart.intValue() / 10;\n            int secondDigit = scaledFractionalPart.intValue() % 10;\n\n            var result = this.subtract(new BigDecimal(&quot;0.&quot; + firstDigit + secondDigit));\n            if (secondDigit == 0) {\n                // Nothing to do\n                return this.setScale(2, RoundingMode.HALF_UP);\n            } else if (secondDigit &gt; 5) {\n                firstDigit++;\n                // Handle the case when we need to increase integer part\n                if (firstDigit &gt;= 10) {\n                    firstDigit = 0;\n                    result = result.add(BigDecimal.ONE);\n                }\n                secondDigit = 0;\n            } else {\n                secondDigit = 5;\n            }\n\n            var newFractionalPart = new BigDecimal(&quot;0.&quot; + firstDigit + secondDigit);\n            return result.add(newFractionalPart).setScale(2, RoundingMode.HALF_UP);\n        }\n    }\n}\n</code></pre>\n<p>Test results:</p>\n<pre><code>[root]\ntestRoundToNearestFive(String, String)\n[1] input=1710.10, expected=1710.10\n[2] input=1710.11, expected=1710.15\n[3] input=1710.15, expected=1710.15\n[4] input=1710.16, expected=1710.20\n[5] input=1710.96, expected=1711.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685716178,"creation_date":1685711645,"answer_id":76390502,"question_id":76389271,"body_markdown":"I sometimes use a `Currency` class with a minimum denomination and a `round` method:\r\n\r\n    public class Currency {\r\n        private final String symbol;\r\n        private final BigDecimal minDenomination;\r\n    \r\n        public Currency(String symbol, BigDecimal minDenomination) {\r\n            this.symbol = symbol;\r\n            this.minDenomination = minDenomination;\r\n        }\r\n    \r\n        public String getSymbol() {\r\n            return symbol;\r\n        }\r\n    \r\n        public BigDecimal getMinDenomination() {\r\n            return minDenomination;\r\n        }\r\n    \r\n        public BigDecimal round(BigDecimal value, RoundingMode mode) {\r\n            return value.divide(minDenomination)\r\n                    .setScale(0, mode)\r\n                    .multiply(minDenomination)\r\n                    .setScale(minDenomination.scale());\r\n        }\r\n    }\r\n\r\nthen:\r\n\r\n        String[] values = {\r\n            &quot;1710.10&quot;,\r\n            &quot;1710.11&quot;,\r\n            &quot;1710.15&quot;,\r\n            &quot;1710.16&quot;        };\r\n        Currency chf = new Currency(&quot;CHF&quot;, new BigDecimal(&quot;0.05&quot;));\r\n        for (String s: values) {\r\n            BigDecimal val = new BigDecimal(s);\r\n            System.out.println(val + &quot; -&gt; &quot; + chf.round(val, RoundingMode.UP));\r\n        }\r\n        System.out.println();\r\n        Currency usd = new Currency(&quot;USD&quot;, new BigDecimal(&quot;0.01&quot;));\r\n        for (String s: values) {\r\n            BigDecimal val = new BigDecimal(s);\r\n            System.out.println(val + &quot; -&gt; &quot; + usd.round(val, RoundingMode.UP));\r\n        }\r\n","title":"Round decimals up to multiples of 5 with BigDecimal","body":"<p>I sometimes use a <code>Currency</code> class with a minimum denomination and a <code>round</code> method:</p>\n<pre><code>public class Currency {\n    private final String symbol;\n    private final BigDecimal minDenomination;\n\n    public Currency(String symbol, BigDecimal minDenomination) {\n        this.symbol = symbol;\n        this.minDenomination = minDenomination;\n    }\n\n    public String getSymbol() {\n        return symbol;\n    }\n\n    public BigDecimal getMinDenomination() {\n        return minDenomination;\n    }\n\n    public BigDecimal round(BigDecimal value, RoundingMode mode) {\n        return value.divide(minDenomination)\n                .setScale(0, mode)\n                .multiply(minDenomination)\n                .setScale(minDenomination.scale());\n    }\n}\n</code></pre>\n<p>then:</p>\n<pre><code>    String[] values = {\n        &quot;1710.10&quot;,\n        &quot;1710.11&quot;,\n        &quot;1710.15&quot;,\n        &quot;1710.16&quot;        };\n    Currency chf = new Currency(&quot;CHF&quot;, new BigDecimal(&quot;0.05&quot;));\n    for (String s: values) {\n        BigDecimal val = new BigDecimal(s);\n        System.out.println(val + &quot; -&gt; &quot; + chf.round(val, RoundingMode.UP));\n    }\n    System.out.println();\n    Currency usd = new Currency(&quot;USD&quot;, new BigDecimal(&quot;0.01&quot;));\n    for (String s: values) {\n        BigDecimal val = new BigDecimal(s);\n        System.out.println(val + &quot; -&gt; &quot; + usd.round(val, RoundingMode.UP));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685751059,"creation_date":1685714081,"answer_id":76390783,"question_id":76389271,"body_markdown":"Most folks are familiar with rounding up from some fraction ending in `5`.  That would be `RoundingMode.HALF_UP` where `5` or more rounds up to the adjacent digit and down if less than `5`. Other modes are explained in detail [here](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/RoundingMode.html).  To do what you want requires some customization.  Here I do it using a lambda which can be applied to a `scale value` and the `BigDecimal` as arguments. It extracts the whole part and fractional part and mathematically adjusts the fractional part to the requirements, returning a rounded BigDecimal.\r\n```\r\n BiFunction&lt;Integer, BigDecimal, BigDecimal&gt; round = (scale, bigD) -&gt; {\r\n     bigD = bigD.movePointRight(scale-2);\r\n     String bigDStr = bigD.toString();\r\n     int i = bigDStr.indexOf(&quot;.&quot;);\r\n     String save = bigDStr.substring(0,i);\r\n     int fract = Integer.parseInt(bigDStr.substring(i+1));\r\n     fract = (fract+4)/5*5;\r\n     StringBuilder sb = new StringBuilder(save).append(&quot;.&quot;).append(fract);\r\n     return new BigDecimal(sb.toString()).movePointLeft(scale-2); \r\n };\r\n\r\nString[] values = {\r\n        &quot;1710.10&quot;,&quot;1710.11&quot;,&quot;1710.15&quot;,&quot;1710.16&quot;,&quot;1710.10&quot;,&quot;1710.11&quot;,\r\n        &quot;1710.15&quot;,&quot;1710.16&quot;\r\n};\r\n\r\nfor (String val : values) {\r\n    BigDecimal d = new BigDecimal(val);\r\n    System.out.printf(&quot;%.2f  -&gt;  %.2f%n&quot;, d, round.apply(2, d));\r\n}\r\n```\r\nprints\r\n```\r\n1710.10  -&gt;  1710.10\r\n1710.11  -&gt;  1710.15\r\n1710.15  -&gt;  1710.15\r\n1710.16  -&gt;  1710.20\r\n1710.10  -&gt;  1710.10\r\n1710.11  -&gt;  1710.15\r\n1710.15  -&gt;  1710.15\r\n1710.16  -&gt;  1710.20\r\n```\r\nA few other examples\r\n```\r\nSystem.out.println(round.apply(3,new BigDecimal(&quot;1710.124&quot;)));\r\nSystem.out.println(round.apply(4,new BigDecimal(&quot;1710.1247&quot;)));\r\nSystem.out.println(round.apply(5,new BigDecimal(&quot;1710.12489&quot;)));\r\nSystem.out.println(round.apply(6,new BigDecimal(&quot;1710.124542&quot;)));\r\n```\r\nprints\r\n```\r\n1710.125\r\n1710.1250\r\n1710.12490\r\n1710.124545\r\n```\r\n\r\n","title":"Round decimals up to multiples of 5 with BigDecimal","body":"<p>Most folks are familiar with rounding up from some fraction ending in <code>5</code>.  That would be <code>RoundingMode.HALF_UP</code> where <code>5</code> or more rounds up to the adjacent digit and down if less than <code>5</code>. Other modes are explained in detail <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">here</a>.  To do what you want requires some customization.  Here I do it using a lambda which can be applied to a <code>scale value</code> and the <code>BigDecimal</code> as arguments. It extracts the whole part and fractional part and mathematically adjusts the fractional part to the requirements, returning a rounded BigDecimal.</p>\n<pre><code> BiFunction&lt;Integer, BigDecimal, BigDecimal&gt; round = (scale, bigD) -&gt; {\n     bigD = bigD.movePointRight(scale-2);\n     String bigDStr = bigD.toString();\n     int i = bigDStr.indexOf(&quot;.&quot;);\n     String save = bigDStr.substring(0,i);\n     int fract = Integer.parseInt(bigDStr.substring(i+1));\n     fract = (fract+4)/5*5;\n     StringBuilder sb = new StringBuilder(save).append(&quot;.&quot;).append(fract);\n     return new BigDecimal(sb.toString()).movePointLeft(scale-2); \n };\n\nString[] values = {\n        &quot;1710.10&quot;,&quot;1710.11&quot;,&quot;1710.15&quot;,&quot;1710.16&quot;,&quot;1710.10&quot;,&quot;1710.11&quot;,\n        &quot;1710.15&quot;,&quot;1710.16&quot;\n};\n\nfor (String val : values) {\n    BigDecimal d = new BigDecimal(val);\n    System.out.printf(&quot;%.2f  -&gt;  %.2f%n&quot;, d, round.apply(2, d));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>1710.10  -&gt;  1710.10\n1710.11  -&gt;  1710.15\n1710.15  -&gt;  1710.15\n1710.16  -&gt;  1710.20\n1710.10  -&gt;  1710.10\n1710.11  -&gt;  1710.15\n1710.15  -&gt;  1710.15\n1710.16  -&gt;  1710.20\n</code></pre>\n<p>A few other examples</p>\n<pre><code>System.out.println(round.apply(3,new BigDecimal(&quot;1710.124&quot;)));\nSystem.out.println(round.apply(4,new BigDecimal(&quot;1710.1247&quot;)));\nSystem.out.println(round.apply(5,new BigDecimal(&quot;1710.12489&quot;)));\nSystem.out.println(round.apply(6,new BigDecimal(&quot;1710.124542&quot;)));\n</code></pre>\n<p>prints</p>\n<pre><code>1710.125\n1710.1250\n1710.12490\n1710.124545\n</code></pre>\n"}],"owner":{"account_id":27203229,"reputation":109,"user_id":20735188,"display_name":"Carla C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76389823,"answer_count":4,"score":0,"last_activity_date":1685787928,"creation_date":1685701139,"question_id":76389271,"body_markdown":"I want to round BigDecimal decimal part according to the following rules:\r\n- `1710.10` becomes `1710.10`\r\n- `1710.11` becomes `1710.15`\r\n- `1710.15` becomes `1710.15`\r\n- `1710.16` becomes `1710.20`\r\n\r\nI tried this way `new BigDecimal(&quot;1710.11&quot;).setScale(2, RoundingMode.HALF_UP))`, expecting to get `1710.15` but I get `1710.11`. I also tried with Apache Math Utils and Decimal Format but no way to achieve this.","title":"Round decimals up to multiples of 5 with BigDecimal","body":"<p>I want to round BigDecimal decimal part according to the following rules:</p>\n<ul>\n<li><code>1710.10</code> becomes <code>1710.10</code></li>\n<li><code>1710.11</code> becomes <code>1710.15</code></li>\n<li><code>1710.15</code> becomes <code>1710.15</code></li>\n<li><code>1710.16</code> becomes <code>1710.20</code></li>\n</ul>\n<p>I tried this way <code>new BigDecimal(&quot;1710.11&quot;).setScale(2, RoundingMode.HALF_UP))</code>, expecting to get <code>1710.15</code> but I get <code>1710.11</code>. I also tried with Apache Math Utils and Decimal Format but no way to achieve this.</p>\n"},{"tags":["java","git","jgit"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685556340,"post_id":76375987,"comment_id":134678265,"body_markdown":"Interestingly, `git help clone` has *--sparse Initialize the sparse-checkout file so the working directory starts with only the files in the root of the repository. The sparse-checkout file can be modified to grow the working directory as needed.* Now I&#39;m guessing that might not be in your API (don&#39;t see it in docs) since that might depend on FS support and therefore is not X-platform. I&#39;m wondering if there&#39;s a way to force that if your FS can support it. For me, it halves the clone size","body":"Interestingly, <code>git help clone</code> has <i>--sparse Initialize the sparse-checkout file so the working directory starts with only the files in the root of the repository. The sparse-checkout file can be modified to grow the working directory as needed.</i> Now I&#39;m guessing that might not be in your API (don&#39;t see it in docs) since that might depend on FS support and therefore is not X-platform. I&#39;m wondering if there&#39;s a way to force that if your FS can support it. For me, it halves the clone size"}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685558194,"creation_date":1685556458,"answer_id":76376241,"question_id":76375987,"body_markdown":"Try below solution :\r\n\r\nNote : Before apply any git changes make sure you have backup for necessary files.\r\n\r\nUse the git object to create a TreeWalk that will allow you to traverse the repository&#39;s tree and find the subdirectory you&#39;re interested in. Specify the starting path as the root of the repository:\r\n\r\n    try (Git git = Git.open(LOCAL_REPOSITORY_PATH.toFile())) {\r\n        Repository repository = git.getRepository();\r\n    \r\n        // Get the tree for the repository&#39;s HEAD commit\r\n        RevWalk revWalk = new RevWalk(repository);\r\n        RevCommit commit = revWalk.parseCommit(repository.resolve(Constants.HEAD));\r\n        RevTree tree = commit.getTree();\r\n    \r\n        // Create a TreeWalk starting from the root of the repository\r\n        TreeWalk treeWalk = new TreeWalk(repository);\r\n        treeWalk.addTree(tree);\r\n        treeWalk.setRecursive(true);\r\n        \r\n        // Specify the path of the subdirectory you want to check out\r\n        treeWalk.setFilter(PathFilter.create(&quot;foo/bar&quot;));\r\n    \r\n        if (!treeWalk.next()) {\r\n            throw new IllegalStateException(&quot;Subdirectory not found&quot;);\r\n        }\r\n    \r\n        // Get the ObjectId of the subdirectory&#39;s tree\r\n        ObjectId subdirectoryTreeId = treeWalk.getObjectId(0);\r\n        treeWalk.close();\r\n        \r\n        // Create a new Git object with the shallow, bare repository\r\n        Git subGit = new Git(repository);\r\n    \r\n        // Checkout the subdirectory&#39;s tree to a temporary directory\r\n        Path temporaryDirectory = Files.createTempDirectory(&quot;subdirectory&quot;);\r\n        subGit.checkout().setStartPoint(subdirectoryTreeId.getName()).setAllPaths(true).setForce(true).setTargetPath(temporaryDirectory.toFile()).call();\r\n    \r\n        // Now you can use the Java file system API to process the files in the temporary directory\r\n        \r\n        // Clean up the temporary directory when you&#39;re done\r\n        FileUtils.deleteDirectory(temporaryDirectory.toFile());\r\n    }\r\n\r\nIn the code above, we use a TreeWalk to traverse the repository&#39;s tree and find the subdirectory you specified (foo/bar). We then get the ObjectId of the subdirectory&#39;s tree and create a new Git object with the repository. Finally, we use checkout() to check out the subdirectory&#39;s tree to a temporary directory, and you can use the Java file system API to process the files in that directory. Don&#39;t forget to clean up the temporary directory when you&#39;re done.\r\n\r\nNote that the code assumes you have the necessary JGit and Java IO imports in place.","title":"Check out single subdirectory from minimal repository using JGit","body":"<p>Try below solution :</p>\n<p>Note : Before apply any git changes make sure you have backup for necessary files.</p>\n<p>Use the git object to create a TreeWalk that will allow you to traverse the repository's tree and find the subdirectory you're interested in. Specify the starting path as the root of the repository:</p>\n<pre><code>try (Git git = Git.open(LOCAL_REPOSITORY_PATH.toFile())) {\n    Repository repository = git.getRepository();\n\n    // Get the tree for the repository's HEAD commit\n    RevWalk revWalk = new RevWalk(repository);\n    RevCommit commit = revWalk.parseCommit(repository.resolve(Constants.HEAD));\n    RevTree tree = commit.getTree();\n\n    // Create a TreeWalk starting from the root of the repository\n    TreeWalk treeWalk = new TreeWalk(repository);\n    treeWalk.addTree(tree);\n    treeWalk.setRecursive(true);\n    \n    // Specify the path of the subdirectory you want to check out\n    treeWalk.setFilter(PathFilter.create(&quot;foo/bar&quot;));\n\n    if (!treeWalk.next()) {\n        throw new IllegalStateException(&quot;Subdirectory not found&quot;);\n    }\n\n    // Get the ObjectId of the subdirectory's tree\n    ObjectId subdirectoryTreeId = treeWalk.getObjectId(0);\n    treeWalk.close();\n    \n    // Create a new Git object with the shallow, bare repository\n    Git subGit = new Git(repository);\n\n    // Checkout the subdirectory's tree to a temporary directory\n    Path temporaryDirectory = Files.createTempDirectory(&quot;subdirectory&quot;);\n    subGit.checkout().setStartPoint(subdirectoryTreeId.getName()).setAllPaths(true).setForce(true).setTargetPath(temporaryDirectory.toFile()).call();\n\n    // Now you can use the Java file system API to process the files in the temporary directory\n    \n    // Clean up the temporary directory when you're done\n    FileUtils.deleteDirectory(temporaryDirectory.toFile());\n}\n</code></pre>\n<p>In the code above, we use a TreeWalk to traverse the repository's tree and find the subdirectory you specified (foo/bar). We then get the ObjectId of the subdirectory's tree and create a new Git object with the repository. Finally, we use checkout() to check out the subdirectory's tree to a temporary directory, and you can use the Java file system API to process the files in that directory. Don't forget to clean up the temporary directory when you're done.</p>\n<p>Note that the code assumes you have the necessary JGit and Java IO imports in place.</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685632742,"creation_date":1685632189,"answer_id":76383350,"question_id":76375987,"body_markdown":"Inspired by [another answer][1] I was able get a single-depth clone and check out only a single path without needing to do a bare clone, while using similar minimal file system space. The benefit to this approach is that only a single top-level directory is needed; the bare repository approach on the other hand requires a manual traversal and saving to a separate drop-level directory.\r\n\r\nThe key is to use `setNoCheckout(true)` (in addition to `setDepth(1)`), and then after cloning manually perform a separate checkout specifying the requested path. _Note that you must specify `setStartPoint(&quot;HEAD&quot;)` or specify a hash starting point, as there will be no branch because there is not yet a checkout._\r\n\r\n```java\r\ntry (final Git git = Git.cloneRepository()\r\n    .setURI(REMOTE_REPOSITORY_URI.toASCIIString())\r\n    .setDirectory(LOCAL_RESPOSITORY_PATH.toFile())\r\n    .setNoCheckout(true)\r\n    .setDepth(1)\r\n    .call()) {\r\n\r\n  gitRepository.checkout()\r\n    .setStartPoint(&quot;HEAD&quot;)\r\n    .addPath(&quot;foo/bar&quot;)\r\n    .call();\r\n\r\n}\r\n```\r\n\r\nThis seems to work very nicely! I would imagine it uses something similar to [Satyajit Bhatt&#39;s][2] answer under the hood.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29508999\r\n  [2]: https://stackoverflow.com/a/76376241","title":"Check out single subdirectory from minimal repository using JGit","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/29508999\">another answer</a> I was able get a single-depth clone and check out only a single path without needing to do a bare clone, while using similar minimal file system space. The benefit to this approach is that only a single top-level directory is needed; the bare repository approach on the other hand requires a manual traversal and saving to a separate drop-level directory.</p>\n<p>The key is to use <code>setNoCheckout(true)</code> (in addition to <code>setDepth(1)</code>), and then after cloning manually perform a separate checkout specifying the requested path. <em>Note that you must specify <code>setStartPoint(&quot;HEAD&quot;)</code> or specify a hash starting point, as there will be no branch because there is not yet a checkout.</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>try (final Git git = Git.cloneRepository()\n    .setURI(REMOTE_REPOSITORY_URI.toASCIIString())\n    .setDirectory(LOCAL_RESPOSITORY_PATH.toFile())\n    .setNoCheckout(true)\n    .setDepth(1)\n    .call()) {\n\n  gitRepository.checkout()\n    .setStartPoint(&quot;HEAD&quot;)\n    .addPath(&quot;foo/bar&quot;)\n    .call();\n\n}\n</code></pre>\n<p>This seems to work very nicely! I would imagine it uses something similar to <a href=\"https://stackoverflow.com/a/76376241\">Satyajit Bhatt's</a> answer under the hood.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76383350,"answer_count":2,"score":1,"last_activity_date":1685787627,"creation_date":1685554142,"question_id":76375987,"body_markdown":"I&#39;m using JGit 6.5.x with Java 17. I have a remote repository that is huge (gigabytes), but I only need temporary access to a single subdirectory (e.g. `foo/bar/`) for processing. The single subdirectory is really small (hundreds of kilobytes). Cloning a shallow, bare repository is relatively small as well:\r\n\r\n```java\r\ntry (final Git git = Git.cloneRepository()\r\n    .setURI(REMOTE_REPOSITORY_URI.toASCIIString())\r\n    .setDirectory(LOCAL_RESPOSITORY_PATH.toFile())\r\n    .setBare(true)\r\n    .setDepth(1)\r\n    .call()) {\r\n  System.out.println(&quot;cloned shallow, bare repository&quot;);\r\n}\r\n```\r\n\r\nIs there a way to clone a shallow, bare repository like that (or any other minimal version of the repository), and then check out just the single subdirectory `foo/bar` to some other directory temporarily so that I can process those files using the normal Java file system API?\r\n\r\nNote that I just now succeeded in the the clone above and haven&#39;t started looking into how I might check out just a single subdirectory from this bare repository.\r\n","title":"Check out single subdirectory from minimal repository using JGit","body":"<p>I'm using JGit 6.5.x with Java 17. I have a remote repository that is huge (gigabytes), but I only need temporary access to a single subdirectory (e.g. <code>foo/bar/</code>) for processing. The single subdirectory is really small (hundreds of kilobytes). Cloning a shallow, bare repository is relatively small as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (final Git git = Git.cloneRepository()\n    .setURI(REMOTE_REPOSITORY_URI.toASCIIString())\n    .setDirectory(LOCAL_RESPOSITORY_PATH.toFile())\n    .setBare(true)\n    .setDepth(1)\n    .call()) {\n  System.out.println(&quot;cloned shallow, bare repository&quot;);\n}\n</code></pre>\n<p>Is there a way to clone a shallow, bare repository like that (or any other minimal version of the repository), and then check out just the single subdirectory <code>foo/bar</code> to some other directory temporarily so that I can process those files using the normal Java file system API?</p>\n<p>Note that I just now succeeded in the the clone above and haven't started looking into how I might check out just a single subdirectory from this bare repository.</p>\n"},{"tags":["java","jwt","docusignapi"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1564079710,"post_id":57208195,"comment_id":100922997,"body_markdown":"The sample code is pretty lousy - the &quot;APIException&quot; handler doesn&#39;t  give you any clue what went wrong.  SUGGESTION: Change `System.err.println(&quot;\\nDocuSign Exception!&quot;);` to `e.printStackTrace();`, and update your post with the stack traceback.","body":"The sample code is pretty lousy - the &quot;APIException&quot; handler doesn&#39;t  give you any clue what went wrong.  SUGGESTION: Change <code>System.err.println(&quot;\\nDocuSign Exception!&quot;);</code> to <code>e.printStackTrace();</code>, and update your post with the stack traceback."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685786965,"creation_date":1564091089,"answer_id":57210503,"question_id":57208195,"body_markdown":"OK - thank you for modifying the code to get a stack traceback.\r\n\r\nThis is a known problem, documented here:\r\n\r\n&gt; https://github.com/docusign/docusign-csharp-client/issues/187\r\n&gt; \r\n&gt; Hello, The Usage example on the ReadMe works just fine against the\r\n&gt; Sandbox environment.\r\n&gt; \r\n&gt; However, using the same code but with my production userid, and OAuth\r\n&gt; base path of &quot;account.docusign.com&quot; returns a 400 Bad Request error.\r\n&gt; \r\n&gt; It is reproducible 100% of the time.\r\n\r\nYou&#39;re coding in Java (not C#), but it sounds like the same issue.\r\n\r\n&gt; I&#39;ve already created a ticket, #04233413. There hasn&#39;t been any\r\n&gt; responses from the CS team since June 25th (2018).\r\n\r\nSUGGESTION:\r\n\r\nTry looking at these links:\r\n\r\n* [DocuSign_eSign::ApiError (Bad Request)](https://github.com/docusign/docusign-ruby-client/issues/9)\r\n* [DocuSign API Integration Problems](https://stackoverflow.com/questions/54861255/)\r\n* [Docusign http 400 Bad request](https://stackoverflow.com/questions/48992240)\r\n","title":"Error when generating DocuSign JWT Token in Java","body":"<p>OK - thank you for modifying the code to get a stack traceback.</p>\n<p>This is a known problem, documented here:</p>\n<blockquote>\n<p><a href=\"https://github.com/docusign/docusign-csharp-client/issues/187\" rel=\"nofollow noreferrer\">https://github.com/docusign/docusign-csharp-client/issues/187</a></p>\n<p>Hello, The Usage example on the ReadMe works just fine against the\nSandbox environment.</p>\n<p>However, using the same code but with my production userid, and OAuth\nbase path of &quot;account.docusign.com&quot; returns a 400 Bad Request error.</p>\n<p>It is reproducible 100% of the time.</p>\n</blockquote>\n<p>You're coding in Java (not C#), but it sounds like the same issue.</p>\n<blockquote>\n<p>I've already created a ticket, #04233413. There hasn't been any\nresponses from the CS team since June 25th (2018).</p>\n</blockquote>\n<p>SUGGESTION:</p>\n<p>Try looking at these links:</p>\n<ul>\n<li><a href=\"https://github.com/docusign/docusign-ruby-client/issues/9\" rel=\"nofollow noreferrer\">DocuSign_eSign::ApiError (Bad Request)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54861255/\">DocuSign API Integration Problems</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48992240\">Docusign http 400 Bad request</a></li>\n</ul>\n"}],"owner":{"account_id":1566233,"reputation":53,"user_id":1698687,"display_name":"RCS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685786965,"creation_date":1564079416,"question_id":57208195,"body_markdown":"I&#39;ve downloaded the [JWT Auth sample code](https://github.com/docusign/eg-01-java-jwt)\r\n\r\nI&#39;ve gone through and created my integrator app and added private keys.\r\n\r\nModified the ExampleBase.java file for additional logging.\r\n\r\n    OAuth.OAuthToken oAuthToken = null;\r\n        System.out.println(&quot;Client ID: &quot; + DSConfig.CLIENT_ID);\r\n        System.out.println(&quot;IUG: &quot; + DSConfig.IMPERSONATED_USER_GUID);\r\n        System.out.println(&quot;Scopes: &quot; + scopes);\r\n        System.out.println(&quot;Private Key: &quot; + privateKey);\r\n        System.out.println(&quot;Token Exp: &quot; + TOKEN_EXPIRATION_IN_SECONDS);\r\n\r\n        try {\r\n            oAuthToken = apiClient.requestJWTUserToken(\r\n                    DSConfig.CLIENT_ID,\r\n                    DSConfig.IMPERSONATED_USER_GUID,\r\n                    scopes,\r\n                    privateKeyBytes,\r\n                    TOKEN_EXPIRATION_IN_SECONDS);\r\n\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Error ---IO Exception---&quot;);\r\n            System.err.println(e.getMessage());\r\n            System.err.println(Arrays.toString(e.getStackTrace()));\r\n        } catch (IllegalArgumentException e) {\r\n            System.err.println(&quot;Error while update/fetching token!&quot;);\r\n            System.err.println(e.getLocalizedMessage());\r\n            System.err.println(Arrays.toString(e.getStackTrace()));\r\n        } catch (ApiException e) {\r\n            System.err.println(&quot;API Exception!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\nCode output\r\n```\r\nSending an envelope. The envelope includes HTML, Word, and PDF documents. It takes about 15 seconds for DocuSign to process the envelope request... \r\nToken: null\r\n\r\nFetching an access token via JWT grant...\r\nClient ID: cdb3.......2100207\r\nIUG: 7......6\r\nScopes: [signature]\r\nPrivate Key: -----BEGIN RSA PRIVATE KEY-----\r\nMIIEogIBAADrH3w0OwPqp0iSLfDgx3kmiCxdnUW6oGUl\r\nllBBsrkaTrPh4DGbFZhS8XiRbwuAFTWkHbLltYP0VoVHmBUhJomPie9+nAfuSWqh\r\nkll5z/ygcGs7Vrn/mZcXTg4VihLzLphlV4FHBfwneQxq/PVIT0U=\r\n-----END RSA PRIVATE KEY-----\r\nToken Exp: 3600\r\nAPI Exception!\r\ncom.docusign.esign.client.ApiException: Error while requesting an access token: POST https://account-d.docusign.com/oauth/token returned a response status of 400 Bad Request\r\n\tat com.docusign.esign.client.ApiClient.requestJWTUserToken(ApiClient.java:740)\r\n\tat com.docusign.example.jwt.ExampleBase.updateToken(ExampleBase.java:62)\r\n\tat com.docusign.example.jwt.ExampleBase.checkToken(ExampleBase.java:40)\r\n\tat com.docusign.example.jwt.SendEnvelope.sendEnvelope(SendEnvelope.java:54)\r\n\tat com.docusign.example.jwt.JWTExample.main(JWTExample.java:24)\r\nDone. Continuing...\r\n\r\nDocuSign Exception!\r\n    Reason: 0\r\n    Error Reponse: null\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI&#39;m invoking DocuSign API Client requestJWTUserToken and call fails with 400 Bad Request. Could it be the JSON body or am I missing some else?\r\n\r\nUpdate\r\n---\r\n\r\nAfter reading online, I figured out that we had to convert the key into pkcs8 format (Java). [This][1] really helped me in parsing the keys and generating a Java Keypair. Still running into issues with the generating token.  \r\n\r\n\r\n  [1]: https://gist.github.com/destan/b708d11bd4f403506d6d5bb5fe6a82c5","title":"Error when generating DocuSign JWT Token in Java","body":"<p>I've downloaded the <a href=\"https://github.com/docusign/eg-01-java-jwt\" rel=\"nofollow noreferrer\">JWT Auth sample code</a></p>\n<p>I've gone through and created my integrator app and added private keys.</p>\n<p>Modified the ExampleBase.java file for additional logging.</p>\n<pre><code>OAuth.OAuthToken oAuthToken = null;\n    System.out.println(&quot;Client ID: &quot; + DSConfig.CLIENT_ID);\n    System.out.println(&quot;IUG: &quot; + DSConfig.IMPERSONATED_USER_GUID);\n    System.out.println(&quot;Scopes: &quot; + scopes);\n    System.out.println(&quot;Private Key: &quot; + privateKey);\n    System.out.println(&quot;Token Exp: &quot; + TOKEN_EXPIRATION_IN_SECONDS);\n\n    try {\n        oAuthToken = apiClient.requestJWTUserToken(\n                DSConfig.CLIENT_ID,\n                DSConfig.IMPERSONATED_USER_GUID,\n                scopes,\n                privateKeyBytes,\n                TOKEN_EXPIRATION_IN_SECONDS);\n\n    } catch (IOException e) {\n        System.err.println(&quot;Error ---IO Exception---&quot;);\n        System.err.println(e.getMessage());\n        System.err.println(Arrays.toString(e.getStackTrace()));\n    } catch (IllegalArgumentException e) {\n        System.err.println(&quot;Error while update/fetching token!&quot;);\n        System.err.println(e.getLocalizedMessage());\n        System.err.println(Arrays.toString(e.getStackTrace()));\n    } catch (ApiException e) {\n        System.err.println(&quot;API Exception!&quot;);\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Code output</p>\n<pre><code>Sending an envelope. The envelope includes HTML, Word, and PDF documents. It takes about 15 seconds for DocuSign to process the envelope request... \nToken: null\n\nFetching an access token via JWT grant...\nClient ID: cdb3.......2100207\nIUG: 7......6\nScopes: [signature]\nPrivate Key: -----BEGIN RSA PRIVATE KEY-----\nMIIEogIBAADrH3w0OwPqp0iSLfDgx3kmiCxdnUW6oGUl\nllBBsrkaTrPh4DGbFZhS8XiRbwuAFTWkHbLltYP0VoVHmBUhJomPie9+nAfuSWqh\nkll5z/ygcGs7Vrn/mZcXTg4VihLzLphlV4FHBfwneQxq/PVIT0U=\n-----END RSA PRIVATE KEY-----\nToken Exp: 3600\nAPI Exception!\ncom.docusign.esign.client.ApiException: Error while requesting an access token: POST https://account-d.docusign.com/oauth/token returned a response status of 400 Bad Request\n    at com.docusign.esign.client.ApiClient.requestJWTUserToken(ApiClient.java:740)\n    at com.docusign.example.jwt.ExampleBase.updateToken(ExampleBase.java:62)\n    at com.docusign.example.jwt.ExampleBase.checkToken(ExampleBase.java:40)\n    at com.docusign.example.jwt.SendEnvelope.sendEnvelope(SendEnvelope.java:54)\n    at com.docusign.example.jwt.JWTExample.main(JWTExample.java:24)\nDone. Continuing...\n\nDocuSign Exception!\n    Reason: 0\n    Error Reponse: null\n\nProcess finished with exit code 0\n</code></pre>\n<p>I'm invoking DocuSign API Client requestJWTUserToken and call fails with 400 Bad Request. Could it be the JSON body or am I missing some else?</p>\n<h2>Update</h2>\n<p>After reading online, I figured out that we had to convert the key into pkcs8 format (Java). <a href=\"https://gist.github.com/destan/b708d11bd4f403506d6d5bb5fe6a82c5\" rel=\"nofollow noreferrer\">This</a> really helped me in parsing the keys and generating a Java Keypair. Still running into issues with the generating token.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9600,"page":392,"page_size":100}
