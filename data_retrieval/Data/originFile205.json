{"items":[{"tags":["java","html","fonts","jasper-reports","ireport"],"answers":[{"tags":[],"owner":{"account_id":371850,"reputation":91,"user_id":720605,"display_name":"Alex Chevelev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388238991,"creation_date":1388238991,"answer_id":20815378,"question_id":18660054,"body_markdown":"In iReport if you set up a repository for your JasperServer you will be able to get the effective production version of a report xml into iReport. Then you can edit your file and replace by the edited version production one.","title":"Could not load the following font","body":"<p>In iReport if you set up a repository for your JasperServer you will be able to get the effective production version of a report xml into iReport. Then you can edit your file and replace by the edited version production one.</p>\n"},{"tags":[],"owner":{"account_id":1042007,"reputation":901,"user_id":1047852,"display_name":"Kamil Mikolajczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404818101,"creation_date":1404818101,"answer_id":24630372,"question_id":18660054,"body_markdown":"try setting up these system properties:\r\n\r\n    import net.sf.jasperreports.engine.util.JRProperties;\r\n    JRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.font.name&quot;, &quot;Helvetica&quot;)\r\n    JRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.encoding&quot;, &quot;UTF-8&quot;)\r\n    JRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.embedded&quot;, &quot;false&quot;)\r\n\r\nsee here for more: http://www.77dev.com/2014/07/could-not-load-following-font-solved.html","title":"Could not load the following font","body":"<p>try setting up these system properties:</p>\n\n<pre><code>import net.sf.jasperreports.engine.util.JRProperties;\nJRProperties.setProperty(\"net.sf.jasperreports.default.pdf.font.name\", \"Helvetica\")\nJRProperties.setProperty(\"net.sf.jasperreports.default.pdf.encoding\", \"UTF-8\")\nJRProperties.setProperty(\"net.sf.jasperreports.default.pdf.embedded\", \"false\")\n</code></pre>\n\n<p>see here for more: <a href=\"http://www.77dev.com/2014/07/could-not-load-following-font-solved.html\" rel=\"nofollow\">http://www.77dev.com/2014/07/could-not-load-following-font-solved.html</a></p>\n"},{"tags":[],"owner":{"account_id":1613078,"reputation":2792,"user_id":1491512,"accept_rate":80,"display_name":"atiruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480629816,"creation_date":1480629816,"answer_id":40921224,"question_id":18660054,"body_markdown":"Copy the fonts files (*.ttf) into the folder:\r\n\r\n    /path/to/app/WEB-INF/classes/\r\n\r\nYou app will get the fonts from here :)","title":"Could not load the following font","body":"<p>Copy the fonts files (*.ttf) into the folder:</p>\n\n<pre><code>/path/to/app/WEB-INF/classes/\n</code></pre>\n\n<p>You app will get the fonts from here :)</p>\n"}],"owner":{"account_id":3267300,"reputation":11,"user_id":2751545,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693839740,"creation_date":1378477345,"question_id":18660054,"body_markdown":"I have a problem that have been already asked, but there are some specific differences in my case.\r\n\r\nI&#39;m supporting a web application (`EJB 2`, `PostgreSQL 9.2.4`, running on a `JBoss 4.2.3`) that have an issue.\r\nSometimes, when we try to generate a specific report, we get this error:\r\n\r\n    javax.servlet.ServletException: net.sf.jasperreports.engine.JRRuntimeException: Could not load the following font : \r\n    pdfFontName   : DejaVu Sans\r\n    pdfEncoding   : Cp1252\r\n    isPdfEmbedded : false\r\n\torg.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:523)\r\n\torg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:421)\r\n\torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:224)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\r\n\torg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n\tstirq.scan.util.NoCacheFilter.doFilter(NoCacheFilter.java:38)\r\n\tjcifs.http.NtlmHttpFilter.doFilter(NtlmHttpFilter.java:118)\r\n\tstirq.scan.util.TimeoutFilter.doFilter(TimeoutFilter.java:57)\r\n\tstirq.scan.util.SecurityFilter.doFilter(SecurityFilter.java:82)\r\n\torg.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\r\n\r\nI searched in many sites.\r\nhttp://community.jaspersoft.com/questions/525505/could-not-load-following-font\r\n\r\nhttps://stackoverflow.com/questions/3059680/could-not-load-the-following-font-issue-in-ireport\r\n\r\nhttps://stackoverflow.com/questions/14935914/jasperreports-font-extensions-does-not-work-cant-find-font-while-exporting\r\n\r\n(And others)\r\n\r\nAs suggested in many answers, I am using font extension jar but still got the issue.\r\n\r\nThere are two fields of a table in the application&#39;s database that can contains html code.\r\nI found that the bug occurs when there is a &quot;font&quot; tag in one of those two fields or the two.\r\nEven if the specified font in this &quot;font&quot; tag is Arial the message I got is still concerning the font DejaVu Sans.\r\n\r\nEvery textfield of all my jrxml files are in font DejaVu Sans.\r\nWhen I tested the preview mode of my report in IReport 4.1.1 every thing was fine.\r\n\r\nI deleted every &quot;font&quot; tags of the two database fields containing HTML code for an occurrence that got the issue and it worked.\r\n\r\nBut the application is in production.\r\nAs you can see I can&#39;t delete every &quot;font&quot; tags in the database.\r\n\r\nAny help would be appreciated.\r\n\r\nThanks.","title":"Could not load the following font","body":"<p>I have a problem that have been already asked, but there are some specific differences in my case.</p>\n\n<p>I'm supporting a web application (<code>EJB 2</code>, <code>PostgreSQL 9.2.4</code>, running on a <code>JBoss 4.2.3</code>) that have an issue.\nSometimes, when we try to generate a specific report, we get this error:</p>\n\n<pre><code>javax.servlet.ServletException: net.sf.jasperreports.engine.JRRuntimeException: Could not load the following font : \npdfFontName   : DejaVu Sans\npdfEncoding   : Cp1252\nisPdfEmbedded : false\norg.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:523)\norg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:421)\norg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:224)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\norg.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\nstirq.scan.util.NoCacheFilter.doFilter(NoCacheFilter.java:38)\njcifs.http.NtlmHttpFilter.doFilter(NtlmHttpFilter.java:118)\nstirq.scan.util.TimeoutFilter.doFilter(TimeoutFilter.java:57)\nstirq.scan.util.SecurityFilter.doFilter(SecurityFilter.java:82)\norg.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n</code></pre>\n\n<p>I searched in many sites.\n<a href=\"http://community.jaspersoft.com/questions/525505/could-not-load-following-font\" rel=\"nofollow noreferrer\">http://community.jaspersoft.com/questions/525505/could-not-load-following-font</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3059680/could-not-load-the-following-font-issue-in-ireport\">Could not load the following font issue in iReport</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14935914/jasperreports-font-extensions-does-not-work-cant-find-font-while-exporting\">JasperReports - font extensions does not work - can&#39;t find font while exporting to PDF</a></p>\n\n<p>(And others)</p>\n\n<p>As suggested in many answers, I am using font extension jar but still got the issue.</p>\n\n<p>There are two fields of a table in the application's database that can contains html code.\nI found that the bug occurs when there is a \"font\" tag in one of those two fields or the two.\nEven if the specified font in this \"font\" tag is Arial the message I got is still concerning the font DejaVu Sans.</p>\n\n<p>Every textfield of all my jrxml files are in font DejaVu Sans.\nWhen I tested the preview mode of my report in IReport 4.1.1 every thing was fine.</p>\n\n<p>I deleted every \"font\" tags of the two database fields containing HTML code for an occurrence that got the issue and it worked.</p>\n\n<p>But the application is in production.\nAs you can see I can't delete every \"font\" tags in the database.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","optaplanner","vehicle-routing","timefold"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693838575,"post_id":77038160,"comment_id":135809460,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":29314842,"reputation":1,"user_id":22459833,"display_name":"hc1k"},"score":0,"creation_date":1693857600,"post_id":77038848,"comment_id":135812450,"body_markdown":"Thank you for the response. I have taken a closer look at the chapter on chained planning variables, and as far as I understand, it involves using multiple entities. However, since I only want to use a single entity, can I still model a chained planning variable?","body":"Thank you for the response. I have taken a closer look at the chapter on chained planning variables, and as far as I understand, it involves using multiple entities. However, since I only want to use a single entity, can I still model a chained planning variable?"}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693839731,"creation_date":1693839731,"answer_id":77038848,"question_id":77038160,"body_markdown":"No, at the moment, list variable can not be combined with any other variable.\r\nIn the future, Timefold Solver will likely fix that.\r\n\r\nChained variable already does support co-existence with a basic planning variable.","title":"Solving with multiple entities","body":"<p>No, at the moment, list variable can not be combined with any other variable.\nIn the future, Timefold Solver will likely fix that.</p>\n<p>Chained variable already does support co-existence with a basic planning variable.</p>\n"}],"owner":{"account_id":29314842,"reputation":1,"user_id":22459833,"display_name":"hc1k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693839731,"creation_date":1693834240,"question_id":77038160,"body_markdown":"I&#39;m currently working on solving a routing problem using OptaPlanner, and I&#39;m facing a challenge regarding planning variables. For a specific planning entity, I&#39;d like to use both a basic planning variable and a planning list variable (a total of 2 planning variables). Is it possible to combine these two types of planning variables within one planning entity?\r\n\r\n\r\n\r\nSo far, I&#39;ve attempted to achieve this but encountered the following error message:\r\n\r\n&#39;The config (ValueSelectorConfig(null)) has no configured variableName for entityClass (class org.acme.routing.domain.T...) and because there are multiple variableNames ([assignedPosition, auftragsListe]), it cannot be deduced automatically.&#39;\r\n\r\nCould you please explain how I can resolve this issue or if there&#39;s a better approach?\r\n\r\nThank you in advance!!","title":"Solving with multiple entities","body":"<p>I'm currently working on solving a routing problem using OptaPlanner, and I'm facing a challenge regarding planning variables. For a specific planning entity, I'd like to use both a basic planning variable and a planning list variable (a total of 2 planning variables). Is it possible to combine these two types of planning variables within one planning entity?</p>\n<p>So far, I've attempted to achieve this but encountered the following error message:</p>\n<p>'The config (ValueSelectorConfig(null)) has no configured variableName for entityClass (class org.acme.routing.domain.T...) and because there are multiple variableNames ([assignedPosition, auftragsListe]), it cannot be deduced automatically.'</p>\n<p>Could you please explain how I can resolve this issue or if there's a better approach?</p>\n<p>Thank you in advance!!</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1693838924,"post_id":77038711,"comment_id":135809552,"body_markdown":"Don&#39;t try to just start the app in your test. Use something like `@SpringBootTest` instead. More details [here](https://www.baeldung.com/spring-boot-testing) (and a ton of other Google-able articles)","body":"Don&#39;t try to just start the app in your test. Use something like <code>@SpringBootTest</code> instead. More details <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">here</a> (and a ton of other Google-able articles)"},{"owner":{"account_id":25422114,"reputation":1,"user_id":19227902,"display_name":"Arthur Borges"},"score":0,"creation_date":1693839356,"post_id":77038711,"comment_id":135809636,"body_markdown":"@Jorn I have edited the question with one of my attempts, can you please check if that&#39;s what you mentioned?","body":"@Jorn I have edited the question with one of my attempts, can you please check if that&#39;s what you mentioned?"}],"owner":{"account_id":25422114,"reputation":1,"user_id":19227902,"display_name":"Arthur Borges"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693839676,"creation_date":1693838639,"question_id":77038711,"body_markdown":"I have tried to mock this line\r\n\r\n    ConfigurableApplicationContext applicationContext = SpringApplication.run(MyApplication.class, args);\r\n\r\nthat is in my main class. However,every attempt I made ended up running the application, connecting to the database, etc. Is there a simple way to mock this execution so I can mock test the rest of my class?\r\nThe need for this is that I need to increase the coverage of my class because there is the following logic after\r\n\r\n    Integer processingType = ApplicationUtils.validateParameters(args);\r\n\r\n            Controller controller = applicationContext.getBean(Controller.class);\r\n\r\n            if (processingType == 1) {\r\n                log.info(&quot;executing parameter 1&quot;);\r\n                controller.loadFile();\r\n            }\r\n            if (processingType == 2) {\r\n                log.info(&quot;executing parameter 2&quot;);\r\n                controller.updateByDate();\r\n            }\r\n\r\nI am using SpringBoot 2.7.1, Mockito 4.5.1 and  Junit-jupter 5.8.2\r\n\r\n\r\nThats is one of my many tries\r\n\r\n        @SpringBootTest\r\n    public class ApplicationTests {\r\n    \r\n        @Mock\r\n        private ApplicationUtils utils;\r\n    \r\n        @Mock\r\n        private ApplicationContext context;\r\n    \r\n        @Mock\r\n        private Controller controller;\r\n    \r\n        @Mock\r\n        private SpringApplication springApplication;\r\n    \r\n        @Mock\r\n        private Environment env;\r\n    \r\n        @InjectMocks\r\n        private Application app;\r\n    \r\n        @BeforeEach\r\n        public void init() {\r\n            MockitoAnnotations.openMocks(this);\r\n        }\r\n    \r\n    \r\n        @Test\r\n        void applicationTestErroParametro3() throws Exception {\r\n            String[] args = {&quot;asd&quot;,&quot;asd&quot;,&quot;8&quot;};\r\n            int statusCode = catchSystemExit(() -&gt; {\r\n                app.main(args);\r\n                verify(utils, atLeast(1)).validateParameters(args);\r\n                doThrow(new BusinessException(&quot;invalid argmuents&quot;)).when(utils).validateParameters(args);\r\n            });\r\n            assertEquals(99, statusCode);\r\n        }\r\n        @Test\r\n        void applicationTestParameter1() throws Exception {\r\n            String[] args = {&quot;1&quot;,&quot;1&quot;,&quot;1&quot;};\r\n    \t\twhen(springApplication.run()).thenReturn(applicationContext);\r\n            when(context.getEnvironment()).thenReturn(env);\r\n            int statusCode = catchSystemExit(() -&gt; {\r\n                doNothing().when(controller).loadFile();\r\n                app.main(args);\r\n                verify(utils, atLeast(1)).validateParameters(args);\r\n            });\r\n            assertEquals(1, statusCode);\r\n        }\r\n    \r\n        }","title":"How can I mock SpringApplication.run with mockito","body":"<p>I have tried to mock this line</p>\n<pre><code>ConfigurableApplicationContext applicationContext = SpringApplication.run(MyApplication.class, args);\n</code></pre>\n<p>that is in my main class. However,every attempt I made ended up running the application, connecting to the database, etc. Is there a simple way to mock this execution so I can mock test the rest of my class?\nThe need for this is that I need to increase the coverage of my class because there is the following logic after</p>\n<pre><code>Integer processingType = ApplicationUtils.validateParameters(args);\n\n        Controller controller = applicationContext.getBean(Controller.class);\n\n        if (processingType == 1) {\n            log.info(&quot;executing parameter 1&quot;);\n            controller.loadFile();\n        }\n        if (processingType == 2) {\n            log.info(&quot;executing parameter 2&quot;);\n            controller.updateByDate();\n        }\n</code></pre>\n<p>I am using SpringBoot 2.7.1, Mockito 4.5.1 and  Junit-jupter 5.8.2</p>\n<p>Thats is one of my many tries</p>\n<pre><code>    @SpringBootTest\npublic class ApplicationTests {\n\n    @Mock\n    private ApplicationUtils utils;\n\n    @Mock\n    private ApplicationContext context;\n\n    @Mock\n    private Controller controller;\n\n    @Mock\n    private SpringApplication springApplication;\n\n    @Mock\n    private Environment env;\n\n    @InjectMocks\n    private Application app;\n\n    @BeforeEach\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n\n    @Test\n    void applicationTestErroParametro3() throws Exception {\n        String[] args = {&quot;asd&quot;,&quot;asd&quot;,&quot;8&quot;};\n        int statusCode = catchSystemExit(() -&gt; {\n            app.main(args);\n            verify(utils, atLeast(1)).validateParameters(args);\n            doThrow(new BusinessException(&quot;invalid argmuents&quot;)).when(utils).validateParameters(args);\n        });\n        assertEquals(99, statusCode);\n    }\n    @Test\n    void applicationTestParameter1() throws Exception {\n        String[] args = {&quot;1&quot;,&quot;1&quot;,&quot;1&quot;};\n        when(springApplication.run()).thenReturn(applicationContext);\n        when(context.getEnvironment()).thenReturn(env);\n        int statusCode = catchSystemExit(() -&gt; {\n            doNothing().when(controller).loadFile();\n            app.main(args);\n            verify(utils, atLeast(1)).validateParameters(args);\n        });\n        assertEquals(1, statusCode);\n    }\n\n    }\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":1322466,"reputation":793,"user_id":1267975,"display_name":"Ashish Mathew"},"score":0,"creation_date":1516008198,"post_id":48259808,"comment_id":83502667,"body_markdown":"https://stackoverflow.com/questions/11740618/is-there-a-way-to-use-maven-property-in-java-class-during-compilation","body":"<a href=\"https://stackoverflow.com/questions/11740618/is-there-a-way-to-use-maven-property-in-java-class-during-compilation\" title=\"is there a way to use maven property in java class during compilation\">stackoverflow.com/questions/11740618/&hellip;</a>"},{"owner":{"account_id":11295944,"reputation":2000,"user_id":8283469,"accept_rate":92,"display_name":"L. Guthardt"},"score":0,"creation_date":1516008730,"post_id":48259808,"comment_id":83502931,"body_markdown":"Possible duplicate of [Is there a way to use maven property in Java class during compilation](https://stackoverflow.com/questions/11740618/is-there-a-way-to-use-maven-property-in-java-class-during-compilation)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11740618/is-there-a-way-to-use-maven-property-in-java-class-during-compilation\">Is there a way to use maven property in Java class during compilation</a>"}],"answers":[{"comments":[{"owner":{"account_id":12687180,"reputation":23,"user_id":9218558,"display_name":"montu"},"score":0,"creation_date":1516079476,"post_id":48259944,"comment_id":83532431,"body_markdown":"Below is the whole example here : as suggested above :","body":"Below is the whole example here : as suggested above :"},{"owner":{"account_id":12687180,"reputation":23,"user_id":9218558,"display_name":"montu"},"score":0,"creation_date":1516080045,"post_id":48259944,"comment_id":83532604,"body_markdown":"please suggest on my above question section I have pasted whole solution in my question section","body":"please suggest on my above question section I have pasted whole solution in my question section"},{"owner":{"account_id":12687180,"reputation":23,"user_id":9218558,"display_name":"montu"},"score":0,"creation_date":1516081168,"post_id":48259944,"comment_id":83532956,"body_markdown":"in above example how to pass `&quot;${db.password}&quot;` this argument to pom ?","body":"in above example how to pass <code>&quot;${db.password}&quot;</code> this argument to pom ?"},{"owner":{"account_id":12687180,"reputation":23,"user_id":9218558,"display_name":"montu"},"score":0,"creation_date":1516094742,"post_id":48259944,"comment_id":83539073,"body_markdown":"please help if anyone knows","body":"please help if anyone knows"}],"tags":[],"owner":{"account_id":213453,"reputation":752,"user_id":466842,"accept_rate":50,"display_name":"Keshava "},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516007837,"creation_date":1516007837,"answer_id":48259944,"question_id":48259808,"body_markdown":"you could tryin using the maven replacer plugin\r\nSee https://code.google.com/archive/p/maven-replacer-plugin/\r\n\r\n\r\nSee an example [here][1]\r\n\r\n\r\n  [1]: https://crushedbeans.wordpress.com/2013/06/08/using-maver-replacer-plugin-to-replace-strings-from-a-properties-file/","title":"how to update a property file using maven or pom.xml","body":"<p>you could tryin using the maven replacer plugin\nSee <a href=\"https://code.google.com/archive/p/maven-replacer-plugin/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/maven-replacer-plugin/</a></p>\n\n<p>See an example <a href=\"https://crushedbeans.wordpress.com/2013/06/08/using-maver-replacer-plugin-to-replace-strings-from-a-properties-file/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8044407,"reputation":136,"user_id":7500389,"display_name":"Florent Amaridon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516007952,"creation_date":1516007952,"answer_id":48259977,"question_id":48259808,"body_markdown":"Hello you can use the [maven resource plugin](https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html).\r\n\r\nThis plugin implement &quot;[Maven Filtering](https://maven.apache.org/shared/maven-filtering/)&quot;.\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;selenium-profile-chrome&lt;/id&gt;\r\n                &lt;!-- here the phase you need --&gt;\r\n                &lt;phase&gt;validate&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;${basedir}/target/selenium&lt;/outputDirectory&gt;\r\n                  &lt;resources&gt;          \r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;src/non-packaged-resources&lt;/directory&gt;\r\n                      &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/resources&gt;              \r\n                &lt;/configuration&gt;            \r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        ...\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\n","title":"how to update a property file using maven or pom.xml","body":"<p>Hello you can use the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"noreferrer\">maven resource plugin</a>.</p>\n\n<p>This plugin implement \"<a href=\"https://maven.apache.org/shared/maven-filtering/\" rel=\"noreferrer\">Maven Filtering</a>\".</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;selenium-profile-chrome&lt;/id&gt;\n            &lt;!-- here the phase you need --&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${basedir}/target/selenium&lt;/outputDirectory&gt;\n              &lt;resources&gt;          \n                &lt;resource&gt;\n                  &lt;directory&gt;src/non-packaged-resources&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;              \n            &lt;/configuration&gt;            \n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    ...\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693848689,"post_id":77038752,"comment_id":135811226,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77038752/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29364266,"reputation":1,"user_id":22498324,"display_name":"ozgur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693838954,"creation_date":1693838954,"answer_id":77038752,"question_id":48259808,"body_markdown":"maven also has a resolvable, inheritable, and also overrideable &lt;properties&gt; section in its nature. You can implement any possible solution using maven profiles together. Your keywords to search for could be &quot;managing maven properties using maven profiles&quot;","title":"how to update a property file using maven or pom.xml","body":"<p>maven also has a resolvable, inheritable, and also overrideable  section in its nature. You can implement any possible solution using maven profiles together. Your keywords to search for could be &quot;managing maven properties using maven profiles&quot;</p>\n"}],"owner":{"account_id":12687180,"reputation":23,"user_id":9218558,"display_name":"montu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48259944,"answer_count":3,"score":2,"last_activity_date":1693838954,"creation_date":1516007277,"question_id":48259808,"body_markdown":"I have created an automation framework where I am reading values from a property file say &quot;config.properties&quot;.\r\n\r\nMy config.propertioes file contains following :\r\n\r\n    BrowserName=${browser}\r\n    Environment=${env}\r\n\r\nI am reading browser value from the property file and passing it to my selenium script to run it.\r\n\r\nNow I wants to replace &quot;`${browser}&quot;` &amp;&amp; &quot;`${env}&quot;` with value &quot;`ie`&quot;  &amp;&amp;  &quot;`IT&quot;` using pom.xml. Is there any way/plugin using which I can edit a property file using pom.xml.\r\n\r\nPlease suggest.\r\n\r\n@Keshava\r\nI am putting whole example below as suggested below :\r\n1.Have 2 property files: ◦project.properties: This is the file that we commit in the repository. It consists data as follows: ◾project.connection.username=@@DB_USERNAME@@\r\nproject.connection.password=@@DB_PASSWORD@@\r\n\r\n◦build.properties: This is the file that we do not commit in the repository and is maintained at each of the deployment environments, be it the developers env., UAT env or Production env. The contents of this file are as follows: ◾db.username=mydbuser\r\ndb.password=mydbpassword\r\n\r\n\r\n2.In the project’s pom.xml add the following plugin and a execution: \r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3.5&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;replaceTokens&lt;/id&gt;\r\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;replace&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;file&gt;target/classes/project.properties&lt;/file&gt;\r\n                        &lt;replacements&gt;\r\n                            &lt;replacement&gt;\r\n                                &lt;token&gt;@@DB_USERNAME@@&lt;/token&gt;\r\n                                &lt;value&gt;${db.username}&lt;/value&gt;\r\n                            &lt;/replacement&gt;\r\n                            &lt;replacement&gt;\r\n                                &lt;token&gt;@@DB_PASSWORD@@&lt;/token&gt;\r\n                                &lt;value&gt;${db.password}&lt;/value&gt;\r\n                            &lt;/replacement&gt;\r\n                        &lt;/replacements&gt;\r\n                    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nfrom above, I understand that `&quot;@@DB_USERNAME@@&quot;` is from `&quot;project.properties&quot;`. But, from which properties file this `&quot;${db.username}&quot;` value will be taken?. how my pom will understand from where to take `&quot;${db.username}&quot;` .\r\n\r\nDo I need to pass this value in maven goal like below :\r\n\r\n    mvn clean install -Ddb.username=myuserid","title":"how to update a property file using maven or pom.xml","body":"<p>I have created an automation framework where I am reading values from a property file say \"config.properties\".</p>\n\n<p>My config.propertioes file contains following :</p>\n\n<pre><code>BrowserName=${browser}\nEnvironment=${env}\n</code></pre>\n\n<p>I am reading browser value from the property file and passing it to my selenium script to run it.</p>\n\n<p>Now I wants to replace \"<code>${browser}\"</code> &amp;&amp; \"<code>${env}\"</code> with value \"<code>ie</code>\"  &amp;&amp;  \"<code>IT\"</code> using pom.xml. Is there any way/plugin using which I can edit a property file using pom.xml.</p>\n\n<p>Please suggest.</p>\n\n<p>@Keshava\nI am putting whole example below as suggested below :\n1.Have 2 property files: ◦project.properties: This is the file that we commit in the repository. It consists data as follows: ◾project.connection.username=@@DB_USERNAME@@\nproject.connection.password=@@DB_PASSWORD@@</p>\n\n<p>◦build.properties: This is the file that we do not commit in the repository and is maintained at each of the deployment environments, be it the developers env., UAT env or Production env. The contents of this file are as follows: ◾db.username=mydbuser\ndb.password=mydbpassword</p>\n\n<p>2.In the project’s pom.xml add the following plugin and a execution: </p>\n\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-replacer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;replaceTokens&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;replace&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;file&gt;target/classes/project.properties&lt;/file&gt;\n                    &lt;replacements&gt;\n                        &lt;replacement&gt;\n                            &lt;token&gt;@@DB_USERNAME@@&lt;/token&gt;\n                            &lt;value&gt;${db.username}&lt;/value&gt;\n                        &lt;/replacement&gt;\n                        &lt;replacement&gt;\n                            &lt;token&gt;@@DB_PASSWORD@@&lt;/token&gt;\n                            &lt;value&gt;${db.password}&lt;/value&gt;\n                        &lt;/replacement&gt;\n                    &lt;/replacements&gt;\n                &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>from above, I understand that <code>\"@@DB_USERNAME@@\"</code> is from <code>\"project.properties\"</code>. But, from which properties file this <code>\"${db.username}\"</code> value will be taken?. how my pom will understand from where to take <code>\"${db.username}\"</code> .</p>\n\n<p>Do I need to pass this value in maven goal like below :</p>\n\n<pre><code>mvn clean install -Ddb.username=myuserid\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693831339,"post_id":77036581,"comment_id":135808026,"body_markdown":"This wil not ever work. You cannot access request scoped beans from request x in request y.","body":"This wil not ever work. You cannot access request scoped beans from request x in request y."}],"answers":[{"tags":[],"owner":{"account_id":24070248,"reputation":151,"user_id":18046265,"display_name":"Ladislav Ksir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693838801,"creation_date":1693838801,"answer_id":77038729,"question_id":77036581,"body_markdown":"I&#39;m not sure about accessing RequestScope beans directly using WebApplicationContext. There surely is workaround solution using bean lifecycle. My working example is:\r\n\r\n    @Service\r\n    class FutureService {\r\n        val futureManagers = mutableListOf&lt;FutureManager&gt;()\r\n    }\r\n\r\nRegister/Unregister each FutureManager:\r\n\r\n    @Service\r\n    @RequestScope\r\n    class FutureManager(private val futureService: FutureService) : DisposableBean, InitializingBean {\r\n    \r\n        private val future = CompletableFuture&lt;Boolean&gt;()\r\n    \r\n        fun complete(value: Boolean) = future.complete(value)\r\n    \r\n        fun get(): Boolean = future.get()\r\n    \r\n        override fun afterPropertiesSet() {\r\n            futureService.futureManagers.add(this)\r\n        }\r\n        \r\n        override fun destroy() {\r\n            futureService.futureManagers.remove(this)\r\n        }\r\n    }\r\n\r\nComplete them using:\r\n\r\n    @RestController\r\n    class CompleteFutureController(\r\n        private val futureService: FutureService\r\n    ) {\r\n        @GetMapping(&quot;/complete&quot;)\r\n        fun getFuture(@RequestParam value: Boolean) {\r\n            futureService.futureManagers.forEach {\r\n                println(it)\r\n                it.complete(value)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhile this is working, I don&#39;t think it is the best solution and suggestions are welcome. ","title":"Access all request-scoped beans at runtime in Spring Boot","body":"<p>I'm not sure about accessing RequestScope beans directly using WebApplicationContext. There surely is workaround solution using bean lifecycle. My working example is:</p>\n<pre><code>@Service\nclass FutureService {\n    val futureManagers = mutableListOf&lt;FutureManager&gt;()\n}\n</code></pre>\n<p>Register/Unregister each FutureManager:</p>\n<pre><code>@Service\n@RequestScope\nclass FutureManager(private val futureService: FutureService) : DisposableBean, InitializingBean {\n\n    private val future = CompletableFuture&lt;Boolean&gt;()\n\n    fun complete(value: Boolean) = future.complete(value)\n\n    fun get(): Boolean = future.get()\n\n    override fun afterPropertiesSet() {\n        futureService.futureManagers.add(this)\n    }\n    \n    override fun destroy() {\n        futureService.futureManagers.remove(this)\n    }\n}\n</code></pre>\n<p>Complete them using:</p>\n<pre><code>@RestController\nclass CompleteFutureController(\n    private val futureService: FutureService\n) {\n    @GetMapping(&quot;/complete&quot;)\n    fun getFuture(@RequestParam value: Boolean) {\n        futureService.futureManagers.forEach {\n            println(it)\n            it.complete(value)\n        }\n    }\n}\n</code></pre>\n<p>While this is working, I don't think it is the best solution and suggestions are welcome.</p>\n"}],"owner":{"account_id":7695446,"reputation":598,"user_id":5830152,"accept_rate":75,"display_name":" J.Kennsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77038729,"answer_count":1,"score":0,"last_activity_date":1693838801,"creation_date":1693819794,"question_id":77036581,"body_markdown":"In my application I would like to propagate a value/message to multiple http clients. For that I have created an endpoint which returns a completable future of boolean type. For resolving this future I have created another endpoint which receives desired value. I want to use Spring&#39;s @RequestScope so I don&#39;t have to manage creating and destroying those instances by my own. However the following code won&#39;t work because I cannot retrieve all current request-scoped beans.\r\n***\r\n*Scenario*:\r\n 1. I call /future endpoint \r\n 2. I call /future endpoint again in different Postman tab\r\n 3. I call /complete endpoint with param value=true\r\n\r\n*Expected result*:  \r\nEach /future call receives `true` value\r\n\r\n*Actual result*:  \r\nEach /future call hangs till timeout w/o receiving any value\r\n\r\n*Logs*:  \r\n```\r\nManager in /future: com.example.demo.FutureManager@12c048e7\r\nManager in /future: com.example.demo.FutureManager@38586896\r\n{scopedTarget.futureManager=com.example.demo.FutureManager@209c5275, futureManager=com.example.demo.FutureManager@209c5275}\r\n```\r\n\r\nFrom the logs I can assume that indeed different instances of FutureManager were created for each endpoint call but upon /complete call there is only new, different instance available and those first two are gone? Or not seen by applicationContext?\r\n***\r\n\r\n**Controllers**\r\n```\r\n@RestController\r\nclass FutureController(\r\n    private val manager: FutureManager\r\n) {\r\n\r\n    @GetMapping(&quot;/future&quot;)\r\n    fun getFuture(): Boolean {\r\n        println(&quot;Manager in /future: $manager&quot;)\r\n        return manager.get()\r\n    }\r\n}\r\n\r\n@RestController\r\nclass CompleteFutureController(\r\n    private val applicationContext: WebApplicationContext\r\n) {\r\n\r\n    @GetMapping(&quot;/complete&quot;)\r\n    fun getFuture(@RequestParam value: Boolean) {\r\n        applicationContext.getBeansOfType(FutureManager::class.java)\r\n            .also { println(it) }\r\n            .values\r\n            .forEach { it.complete(value) }\r\n    }\r\n}\r\n```\r\n**Service**\r\n```\r\n@Service\r\n@RequestScope\r\nclass FutureManager {\r\n\r\n    private val future = CompletableFuture&lt;Boolean&gt;()\r\n\r\n    fun complete(value: Boolean) = future.complete(value)\r\n\r\n    fun get(): Boolean = future.get()\r\n}\r\n```\r\nAny help or explanation would be appreciated!\r\n","title":"Access all request-scoped beans at runtime in Spring Boot","body":"<p>In my application I would like to propagate a value/message to multiple http clients. For that I have created an endpoint which returns a completable future of boolean type. For resolving this future I have created another endpoint which receives desired value. I want to use Spring's @RequestScope so I don't have to manage creating and destroying those instances by my own. However the following code won't work because I cannot retrieve all current request-scoped beans.</p>\n<hr />\n<p><em>Scenario</em>:</p>\n<ol>\n<li>I call /future endpoint</li>\n<li>I call /future endpoint again in different Postman tab</li>\n<li>I call /complete endpoint with param value=true</li>\n</ol>\n<p><em>Expected result</em>:<br />\nEach /future call receives <code>true</code> value</p>\n<p><em>Actual result</em>:<br />\nEach /future call hangs till timeout w/o receiving any value</p>\n<p><em>Logs</em>:</p>\n<pre><code>Manager in /future: com.example.demo.FutureManager@12c048e7\nManager in /future: com.example.demo.FutureManager@38586896\n{scopedTarget.futureManager=com.example.demo.FutureManager@209c5275, futureManager=com.example.demo.FutureManager@209c5275}\n</code></pre>\n<p>From the logs I can assume that indeed different instances of FutureManager were created for each endpoint call but upon /complete call there is only new, different instance available and those first two are gone? Or not seen by applicationContext?</p>\n<hr />\n<p><strong>Controllers</strong></p>\n<pre><code>@RestController\nclass FutureController(\n    private val manager: FutureManager\n) {\n\n    @GetMapping(&quot;/future&quot;)\n    fun getFuture(): Boolean {\n        println(&quot;Manager in /future: $manager&quot;)\n        return manager.get()\n    }\n}\n\n@RestController\nclass CompleteFutureController(\n    private val applicationContext: WebApplicationContext\n) {\n\n    @GetMapping(&quot;/complete&quot;)\n    fun getFuture(@RequestParam value: Boolean) {\n        applicationContext.getBeansOfType(FutureManager::class.java)\n            .also { println(it) }\n            .values\n            .forEach { it.complete(value) }\n    }\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\n@RequestScope\nclass FutureManager {\n\n    private val future = CompletableFuture&lt;Boolean&gt;()\n\n    fun complete(value: Boolean) = future.complete(value)\n\n    fun get(): Boolean = future.get()\n}\n</code></pre>\n<p>Any help or explanation would be appreciated!</p>\n"},{"tags":["java","buildpack","paketo"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692716476,"post_id":76953630,"comment_id":135660702,"body_markdown":"Please don&#39;t post images of text, but the text directly.","body":"Please don&#39;t post images of text, but the text directly."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1692792944,"post_id":76953630,"comment_id":135672050,"body_markdown":"First thing, the easiest way to set up bindings is with binding-tool. You tell it which buildpack, and it&#39;ll download the dependencies and make the bindings for you. Then all you need to do is mount the volume, which it can even help you do also. https://github.com/dmikusa/binding-tool. Even if you don&#39;t want to use this tool, it&#39;s a good example of what you need to do for bindings to work, you could start with what it generates and modify them as well.","body":"First thing, the easiest way to set up bindings is with binding-tool. You tell it which buildpack, and it&#39;ll download the dependencies and make the bindings for you. Then all you need to do is mount the volume, which it can even help you do also. <a href=\"https://github.com/dmikusa/binding-tool\" rel=\"nofollow noreferrer\">github.com/dmikusa/binding-tool</a>. Even if you don&#39;t want to use this tool, it&#39;s a good example of what you need to do for bindings to work, you could start with what it generates and modify them as well."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1692793086,"post_id":76953630,"comment_id":135672083,"body_markdown":"Second thing, if you want to troubleshoot your set up you need to post more info. Need to know what you&#39;re putting into the binding files, i.e `type` and `138f...`. Then we need to see the output of running the build with the dep mapping binding present. Lastly, I would suggest running the build a second time with these additional arguments `pack build -v -e BP_DEBUG=true ...` because it&#39;ll give some more helpful debug information.","body":"Second thing, if you want to troubleshoot your set up you need to post more info. Need to know what you&#39;re putting into the binding files, i.e <code>type</code> and <code>138f...</code>. Then we need to see the output of running the build with the dep mapping binding present. Lastly, I would suggest running the build a second time with these additional arguments <code>pack build -v -e BP_DEBUG=true ...</code> because it&#39;ll give some more helpful debug information."},{"owner":{"account_id":29182258,"reputation":1,"user_id":22356125,"display_name":"deepak bolisetti"},"score":0,"creation_date":1693413668,"post_id":76953630,"comment_id":135758743,"body_markdown":"added binding files content in the question and have also ran the build now adding DEBUG variable. No helpful info in the debug logs.","body":"added binding files content in the question and have also ran the build now adding DEBUG variable. No helpful info in the debug logs."},{"owner":{"account_id":29182258,"reputation":1,"user_id":22356125,"display_name":"deepak bolisetti"},"score":0,"creation_date":1693838765,"post_id":76953630,"comment_id":135809509,"body_markdown":"@DanielMikusa - have updated the new error am getting  while using the binding. Please help me where am going wrong","body":"@DanielMikusa - have updated the new error am getting  while using the binding. Please help me where am going wrong"},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1693937773,"post_id":76953630,"comment_id":135824662,"body_markdown":"Try `--volume /home/ubuntu/binding_tool-v1.20.2-x86_64-unknown-linux-gnu/bindings:/bindings` and set `-e SERVICE_BINDING_ROOT=/bindings` with `pack build` also.","body":"Try <code>--volume &#47;home&#47;ubuntu&#47;binding_tool-v1.20.2-x86_64-unknown-linux-gnu&#47;b&zwnj;&#8203;indings:&#47;bindings</code> and set <code>-e SERVICE_BINDING_ROOT=&#47;bindings</code> with <code>pack build</code> also."}],"owner":{"account_id":29182258,"reputation":1,"user_id":22356125,"display_name":"deepak bolisetti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693838693,"creation_date":1692709517,"question_id":76953630,"body_markdown":"**i want to use version 11.0.19 present locally instead of downloading from online. So am trying the [binding/Dependency Mapping](https://paketo.io/docs/howto/configuration/#dependency-mappings) to implement this\r\n**\r\n\r\n## getting below ERROR after executing command\r\n\r\n\r\n       ===&gt; DETECTING\r\n    ======== Output: paketo-buildpacks/git@1.0.6 ========\r\n    failed to load bindings from &#39;/platform/bindings&#39;: failed to read \r\n    binding &#39;dependency-mapping&#39;: missing &#39;type&#39;\r\n    err:  paketo-buildpacks/git@1.0.6 (1)\r\n    ======== Output: paketo-buildpacks/git@1.0.6 ========\r\n    failed to load bindings from &#39;/platform/bindings&#39;: failed to read \r\n    binding &#39;dependency-mapping&#39;: missing &#39;type&#39;\r\n    err:  paketo-buildpacks/git@1.0.6 (1)\r\n\r\n\r\n\r\n## Expecting ##\r\n\r\nwhile creating image from source code using buildpacks, by default it is downloading from internet, But i want to use version 11.0.19 in my local path instead. I have used **paketobuildpacks/builder:base** as a builder. And bt(binding-tool) for downloading all the dependencies.\r\n\r\n    **Bell Soft Liberica JDK 11.0.19: Contributing to layer**\r\n        Downloading from from https://github.com/bell-sw/Liberica/releases/download/11.0.19+7/bellsoft-jdk11.0.19+7-linux-amd64.tar.gz\r\n    Verifying checksum \r\n    Expanding to / layers/paketo-bu ildpacks_bellsoft-liberica/jdk \r\n    Adding 137 container CA certificates to JVM truststore \r\n    Writing env. build/ JAVA HOME.override \r\n    Writing env. build/ JDK HOME.override \r\n    **\r\n    **\r\n\r\n**executed below command**\r\n\r\n    pack build binding_test:sep4 --path . --volume /home/ubuntu/binding_tool-v1.20.2-x86_64-unknown-linux-gnu/bindings/dependency-mapping:/platform/bindings/dependency-mapping/binaries --env BP_JVM_VERSION=11.0.19 --builder paketobuildpacks/builder:base\r\n    \r\n\r\n\r\nsteps followed. as mentioned in [LINK](https://paketo.io/docs/howto/configuration/#dependency-mappings)\r\n\r\n    echo &quot;file:///bindings/dependency-mapping/binaries/bellsoft-jdk11.0.19+7-linux-amd64.tar.gz&quot; &gt;&gt; 138f8bd3801445391ff19d683ea7f3c4662dcd0e2cd0b8ab2a5d3966b05124f8\r\n\r\n\r\ncreated file **type** as below\r\n\r\n    echo &quot;dependency-mapping&quot; &gt;&gt; type\r\n\r\n\r\n\r\n\r\n\r\n\r\nPlease help me where am doing it wrong.","title":"unable to use Paketo-buildpacks/Bellsoft-liberica - JDK version11.0.19 - using Binding/Dependency Mapping - Cloud Native Buildpack","body":"<p>**i want to use version 11.0.19 present locally instead of downloading from online. So am trying the <a href=\"https://paketo.io/docs/howto/configuration/#dependency-mappings\" rel=\"nofollow noreferrer\">binding/Dependency Mapping</a> to implement this\n**</p>\n<h2>getting below ERROR after executing command</h2>\n<pre><code>   ===&gt; DETECTING\n======== Output: paketo-buildpacks/git@1.0.6 ========\nfailed to load bindings from '/platform/bindings': failed to read \nbinding 'dependency-mapping': missing 'type'\nerr:  paketo-buildpacks/git@1.0.6 (1)\n======== Output: paketo-buildpacks/git@1.0.6 ========\nfailed to load bindings from '/platform/bindings': failed to read \nbinding 'dependency-mapping': missing 'type'\nerr:  paketo-buildpacks/git@1.0.6 (1)\n</code></pre>\n<h2>Expecting</h2>\n<p>while creating image from source code using buildpacks, by default it is downloading from internet, But i want to use version 11.0.19 in my local path instead. I have used <strong>paketobuildpacks/builder:base</strong> as a builder. And bt(binding-tool) for downloading all the dependencies.</p>\n<pre><code>**Bell Soft Liberica JDK 11.0.19: Contributing to layer**\n    Downloading from from https://github.com/bell-sw/Liberica/releases/download/11.0.19+7/bellsoft-jdk11.0.19+7-linux-amd64.tar.gz\nVerifying checksum \nExpanding to / layers/paketo-bu ildpacks_bellsoft-liberica/jdk \nAdding 137 container CA certificates to JVM truststore \nWriting env. build/ JAVA HOME.override \nWriting env. build/ JDK HOME.override \n**\n**\n</code></pre>\n<p><strong>executed below command</strong></p>\n<pre><code>pack build binding_test:sep4 --path . --volume /home/ubuntu/binding_tool-v1.20.2-x86_64-unknown-linux-gnu/bindings/dependency-mapping:/platform/bindings/dependency-mapping/binaries --env BP_JVM_VERSION=11.0.19 --builder paketobuildpacks/builder:base\n</code></pre>\n<p>steps followed. as mentioned in <a href=\"https://paketo.io/docs/howto/configuration/#dependency-mappings\" rel=\"nofollow noreferrer\">LINK</a></p>\n<pre><code>echo &quot;file:///bindings/dependency-mapping/binaries/bellsoft-jdk11.0.19+7-linux-amd64.tar.gz&quot; &gt;&gt; 138f8bd3801445391ff19d683ea7f3c4662dcd0e2cd0b8ab2a5d3966b05124f8\n</code></pre>\n<p>created file <strong>type</strong> as below</p>\n<pre><code>echo &quot;dependency-mapping&quot; &gt;&gt; type\n</code></pre>\n<p>Please help me where am doing it wrong.</p>\n"},{"tags":["java","nginx","proxy","reverse-proxy","nginx-reverse-proxy"],"owner":{"account_id":4420950,"reputation":383,"user_id":3600935,"accept_rate":90,"display_name":"MrSalesi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693838514,"creation_date":1693838514,"question_id":77038690,"body_markdown":"I need a fast speed java code to create multiple proxy in one machine get all requests in port:xxxx and send it through an other upstream proxy in example.com:yyyy that needs authentication with username and passwor\r\n\r\nI have a proxy multi thread code but how to set Authentication for it ?\r\n\r\n\r\n```\r\n public void run() {\r\n        try {\r\n            final byte[] request = new byte[1024];\r\n            byte[] reply = new byte[4096];\r\n            final InputStream inFromClient = sClient.getInputStream();\r\n            final OutputStream outToClient = sClient.getOutputStream();\r\n            Socket client = null, server = null;\r\n            // connects a socket to the server\r\n            try {\r\n                server = new Socket(SERVER_URL, SERVER_PORT);\r\n            } catch (IOException e) {\r\n                PrintWriter out = new PrintWriter(new OutputStreamWriter(\r\n                        outToClient));\r\n                out.flush();\r\n                throw new RuntimeException(e);\r\n            }\r\n            // a new thread to manage streams from server to client (DOWNLOAD)\r\n            final InputStream inFromServer = server.getInputStream();\r\n            final OutputStream outToServer = server.getOutputStream();\r\n            // a new thread for uploading to the server\r\n            new Thread() {\r\n                public void run() {\r\n                    int bytes_read;\r\n                    try {\r\n                        while ((bytes_read = inFromClient.read(request)) != -1) {\r\n                            outToServer.write(request, 0, bytes_read);\r\n                            outToServer.flush();\r\n                            //TODO CREATE YOUR LOGIC HERE\r\n                        }\r\n                    } catch (IOException e) {\r\n                    }\r\n                    try {\r\n                        outToServer.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }.start();\r\n            // current thread manages streams from server to client (DOWNLOAD)\r\n            int bytes_read;\r\n            try {\r\n                while ((bytes_read = inFromServer.read(reply)) != -1) {\r\n                    outToClient.write(reply, 0, bytes_read);\r\n                    outToClient.flush();\r\n                    //TODO CREATE YOUR LOGIC HERE\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (server != null) {\r\n                        server.close();\r\n                    }\r\n                    if (client != null) {\r\n                        client.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            outToClient.close();\r\n            sClient.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI can not set system.proxy.host because it use with another program\r\n\r\nI need some new approach or code to do something like my code + ability to connect to upstream proxy with authentication, like this pseudo code :\r\n\r\n\r\n```\r\nfinal InputStream inFromClient = sClient.getInputStream(Proxy(host,post,username,password));\r\n```\r\n ","title":"Java proxy connect with another upstream authenticated proxy","body":"<p>I need a fast speed java code to create multiple proxy in one machine get all requests in port:xxxx and send it through an other upstream proxy in example.com:yyyy that needs authentication with username and passwor</p>\n<p>I have a proxy multi thread code but how to set Authentication for it ?</p>\n<pre><code> public void run() {\n        try {\n            final byte[] request = new byte[1024];\n            byte[] reply = new byte[4096];\n            final InputStream inFromClient = sClient.getInputStream();\n            final OutputStream outToClient = sClient.getOutputStream();\n            Socket client = null, server = null;\n            // connects a socket to the server\n            try {\n                server = new Socket(SERVER_URL, SERVER_PORT);\n            } catch (IOException e) {\n                PrintWriter out = new PrintWriter(new OutputStreamWriter(\n                        outToClient));\n                out.flush();\n                throw new RuntimeException(e);\n            }\n            // a new thread to manage streams from server to client (DOWNLOAD)\n            final InputStream inFromServer = server.getInputStream();\n            final OutputStream outToServer = server.getOutputStream();\n            // a new thread for uploading to the server\n            new Thread() {\n                public void run() {\n                    int bytes_read;\n                    try {\n                        while ((bytes_read = inFromClient.read(request)) != -1) {\n                            outToServer.write(request, 0, bytes_read);\n                            outToServer.flush();\n                            //TODO CREATE YOUR LOGIC HERE\n                        }\n                    } catch (IOException e) {\n                    }\n                    try {\n                        outToServer.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }.start();\n            // current thread manages streams from server to client (DOWNLOAD)\n            int bytes_read;\n            try {\n                while ((bytes_read = inFromServer.read(reply)) != -1) {\n                    outToClient.write(reply, 0, bytes_read);\n                    outToClient.flush();\n                    //TODO CREATE YOUR LOGIC HERE\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if (server != null) {\n                        server.close();\n                    }\n                    if (client != null) {\n                        client.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            outToClient.close();\n            sClient.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I can not set system.proxy.host because it use with another program</p>\n<p>I need some new approach or code to do something like my code + ability to connect to upstream proxy with authentication, like this pseudo code :</p>\n<pre><code>final InputStream inFromClient = sClient.getInputStream(Proxy(host,post,username,password));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1693818688,"post_id":77036432,"comment_id":135805720,"body_markdown":"`rev = rev + rev.charAt(i);` should be `rev = rev + s.charAt(i);`","body":"<code>rev = rev + rev.charAt(i);</code> should be <code>rev = rev + s.charAt(i);</code>"}],"answers":[{"tags":[],"owner":{"account_id":24029930,"reputation":88,"user_id":18011018,"display_name":"jaragone"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693820454,"creation_date":1693819149,"answer_id":77036498,"question_id":77036432,"body_markdown":"The rev string starts as an empty string.\r\nYou are trying to access rev.charAt(i), where i starts from the last index of the original string s. Since rev is empty initially, trying to access any character from it using charAt will throw a StringIndexOutOfBoundsException.\r\nTo reverse the string s, you should be looking at the characters in s, not rev.\r\n   \r\n    package JAVA_Program;\r\n    public class String_reverse {\r\n    \r\n        public static void main(String[] args) {\r\n            String s = &quot;hello&quot;;\r\n            String rev = &quot;&quot;;\r\n            try {\r\n                for (int i = s.length() - 1; i &gt;= 0; i--) {\r\n                    rev = rev + s.charAt(i);  // Changed from rev.charAt(i) to s.charAt(i)\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n            System.out.println(rev);\r\n        }\r\n    }\r\n","title":"How to solve the, &quot;java.lang.StringIndexOutOfBoundsException&quot; error","body":"<p>The rev string starts as an empty string.\nYou are trying to access rev.charAt(i), where i starts from the last index of the original string s. Since rev is empty initially, trying to access any character from it using charAt will throw a StringIndexOutOfBoundsException.\nTo reverse the string s, you should be looking at the characters in s, not rev.</p>\n<pre><code>package JAVA_Program;\npublic class String_reverse {\n\n    public static void main(String[] args) {\n        String s = &quot;hello&quot;;\n        String rev = &quot;&quot;;\n        try {\n            for (int i = s.length() - 1; i &gt;= 0; i--) {\n                rev = rev + s.charAt(i);  // Changed from rev.charAt(i) to s.charAt(i)\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        System.out.println(rev);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29362038,"reputation":11,"user_id":22496582,"display_name":"yogesh lande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693838509,"creation_date":1693818548,"question_id":77036432,"body_markdown":"Error:\r\n\r\n&gt; java.lang.StringIndexOutOfBoundsException: String index out of range: 4\r\n\r\nHow to solve this error?\r\n\r\n    package JAVA_Program;\r\n    \r\n    public class String_reverse {\r\n    \r\n        public static void main(String[] args) {\r\n        \t// TODO Auto-generated method stub\r\n        \r\n        \tString s=&quot;hello&quot;;\r\n         //   int n=s.length();\r\n            String rev=&quot;&quot;;\r\n          //  System.out.println(n);\r\n            // My length is 5 ,Hence I started from 5\r\n            try\r\n            {\r\n            for(int i=s.length()-1;i&gt;=0;i--)\r\n            {\r\n            \trev=rev+rev.charAt(i);\r\n            \t\r\n            }\r\n            }\r\n            catch(Exception e)\r\n            {\r\n            \tSystem.out.println(e);\r\n            }\r\n            System.out.println(rev);\r\n          \r\n        }\r\n    }\r\n\r\n","title":"How to solve the, &quot;java.lang.StringIndexOutOfBoundsException&quot; error","body":"<p>Error:</p>\n<blockquote>\n<p>java.lang.StringIndexOutOfBoundsException: String index out of range: 4</p>\n</blockquote>\n<p>How to solve this error?</p>\n<pre><code>package JAVA_Program;\n\npublic class String_reverse {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n    \n        String s=&quot;hello&quot;;\n     //   int n=s.length();\n        String rev=&quot;&quot;;\n      //  System.out.println(n);\n        // My length is 5 ,Hence I started from 5\n        try\n        {\n        for(int i=s.length()-1;i&gt;=0;i--)\n        {\n            rev=rev+rev.charAt(i);\n            \n        }\n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n        System.out.println(rev);\n      \n    }\n}\n</code></pre>\n"},{"tags":["java","dictionary","lambda","java-stream","collectors"],"answers":[{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1693838264,"post_id":77038590,"comment_id":135809390,"body_markdown":"Or even `str -&gt; str.replaceAll(&quot;[^aeiou]+&quot;, &quot;&quot;).length()`","body":"Or even <code>str -&gt; str.replaceAll(&quot;[^aeiou]+&quot;, &quot;&quot;).length()</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1693851005,"post_id":77038590,"comment_id":135811583,"body_markdown":"Using a regex where a simple loop or stream is just as easy and readable is like using a sledgehammer to hang a painting. It may work, but I would not call it the right tool for the job. I find the provided answer cleaner, and it probably outperforms the regex parsing, matching and replacing.","body":"Using a regex where a simple loop or stream is just as easy and readable is like using a sledgehammer to hang a painting. It may work, but I would not call it the right tool for the job. I find the provided answer cleaner, and it probably outperforms the regex parsing, matching and replacing."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693838444,"creation_date":1693837795,"answer_id":77038590,"question_id":77038550,"body_markdown":"Your logic is a little bit complicted, a simple way is to use stream collect with [`Collectors::toMap`][1] like this:\r\n\r\n    Map&lt;String, Long&gt; vowelsMap = myStrings.stream()\r\n            .collect(Collectors.toMap(Function.identity(), \r\n                    str -&gt; str.chars().filter(c -&gt; &quot;aeiou&quot;.indexOf(c) &gt;= 0).count()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)","title":"How to convert a List&lt;String&gt; to Map&lt;String, Long&gt; using Lambda, where the key is the String and the value is a count of the number of vowels?","body":"<p>Your logic is a little bit complicted, a simple way is to use stream collect with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>Collectors::toMap</code></a> like this:</p>\n<pre><code>Map&lt;String, Long&gt; vowelsMap = myStrings.stream()\n        .collect(Collectors.toMap(Function.identity(), \n                str -&gt; str.chars().filter(c -&gt; &quot;aeiou&quot;.indexOf(c) &gt;= 0).count()));\n</code></pre>\n"}],"owner":{"account_id":5545338,"reputation":155,"user_id":4400293,"accept_rate":100,"display_name":"Raoul Duke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77038590,"answer_count":1,"score":0,"last_activity_date":1693838444,"creation_date":1693837418,"question_id":77038550,"body_markdown":"Given:\r\n\r\n    List&lt;String&gt; myStrings = Arrays.asList(&quot;broom&quot;, &quot;monsoon&quot;);\r\n\r\nReturn:\r\n\r\n    Map&lt;String, Long&gt; stringToNumberOfVowels = Map.of(&quot;broom&quot;, 2, &quot;monsoon&quot;, 3);\r\n\r\nThis is what i&#39;ve tried:\r\n\r\n    Map&lt;String, Long&gt; vowelsMap = Stream.of(&quot;broom&quot;).flatMapToInt(String::chars).filter(&quot;aeiou&quot;.indexOf(c) &gt;= 0).mapToObj(c -&gt; &quot;aeiou&quot;.indexOf(c)&gt;=0 ? &quot;broom&quot; : &quot;&quot;).collect(Collectors.groupingBy(Function.indenty(), Collectors.counting()));\r\n\r\n    for(Map.Entry&lt;String, Long&gt; a : vowelsMap.entrySet()) { System.out.println(a.getKey() + &quot;==&gt;&quot;); System.out.println(a.getValue()); }\r\n\r\nMy Output (which only works with 1 string being passed in the stream): \r\n\r\nbroom ==&gt; 2\r\n\r\nDesired Output: \r\n\r\nbroom ==&gt; 2\r\n\r\nmonsoon ==&gt; 3","title":"How to convert a List&lt;String&gt; to Map&lt;String, Long&gt; using Lambda, where the key is the String and the value is a count of the number of vowels?","body":"<p>Given:</p>\n<pre><code>List&lt;String&gt; myStrings = Arrays.asList(&quot;broom&quot;, &quot;monsoon&quot;);\n</code></pre>\n<p>Return:</p>\n<pre><code>Map&lt;String, Long&gt; stringToNumberOfVowels = Map.of(&quot;broom&quot;, 2, &quot;monsoon&quot;, 3);\n</code></pre>\n<p>This is what i've tried:</p>\n<pre><code>Map&lt;String, Long&gt; vowelsMap = Stream.of(&quot;broom&quot;).flatMapToInt(String::chars).filter(&quot;aeiou&quot;.indexOf(c) &gt;= 0).mapToObj(c -&gt; &quot;aeiou&quot;.indexOf(c)&gt;=0 ? &quot;broom&quot; : &quot;&quot;).collect(Collectors.groupingBy(Function.indenty(), Collectors.counting()));\n\nfor(Map.Entry&lt;String, Long&gt; a : vowelsMap.entrySet()) { System.out.println(a.getKey() + &quot;==&gt;&quot;); System.out.println(a.getValue()); }\n</code></pre>\n<p>My Output (which only works with 1 string being passed in the stream):</p>\n<p>broom ==&gt; 2</p>\n<p>Desired Output:</p>\n<p>broom ==&gt; 2</p>\n<p>monsoon ==&gt; 3</p>\n"},{"tags":["java","apache-flink","apache-commons","iceberg","apache-iceberg"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693838935,"post_id":77038677,"comment_id":135809557,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":10871425,"reputation":3,"user_id":7993212,"display_name":"Robert Ruska"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693838430,"creation_date":1693838430,"question_id":77038677,"body_markdown":"Im trying to do some rewriteDataFiles job with Iceberg and Flink. It was working for a while but suddenly there is some error related to gzip stream CRC failure. Ive tried to change write.parquet.compression-codec to zstd but it didn&#39;t helped.\r\n\r\n```\r\norg.apache.iceberg.shaded.org.apache.parquet.io.ParquetDecodingException: could not read page Page [bytes.size=561526, valueCount=20000, uncompressedSize=561526] in col [payload, vertex, value] optional binary value (STRING) = 10\r\n\tat org.apache.iceberg.parquet.BasePageIterator.initFromPage(BasePageIterator.java:129) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.BasePageIterator$1.visit(BasePageIterator.java:99) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.BasePageIterator$1.visit(BasePageIterator.java:96) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.shaded.org.apache.parquet.column.page.DataPageV1.accept(DataPageV1.java:120) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.BasePageIterator.setPage(BasePageIterator.java:95) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.PageIterator.setPage(PageIterator.java:109) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.BaseColumnIterator.advance(BaseColumnIterator.java:61) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ColumnIterator.currentDefinitionLevel(ColumnIterator.java:100) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetValueReaders$OptionReader.read(ParquetValueReaders.java:418) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetValueReaders$StructReader.read(ParquetValueReaders.java:745) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetValueReaders$OptionReader.read(ParquetValueReaders.java:419) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetValueReaders$StructReader.read(ParquetValueReaders.java:745) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetValueReaders$OptionReader.read(ParquetValueReaders.java:419) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetValueReaders$StructReader.read(ParquetValueReaders.java:745) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.ParquetReader$FileIterator.next(ParquetReader.java:130) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.io.FilterIterator.advance(FilterIterator.java:65) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.io.FilterIterator.hasNext(FilterIterator.java:49) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.flink.source.DataIterator.updateCurrentIterator(DataIterator.java:127) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.flink.source.DataIterator.hasNext(DataIterator.java:109) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.flink.source.RowDataRewriter$RewriteMap.map(RowDataRewriter.java:145) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.flink.source.RowDataRewriter$RewriteMap.map(RowDataRewriter.java:100) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.flink.streaming.api.operators.StreamMap.processElement(StreamMap.java:38) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:237) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:146) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:110) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:550) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:231) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:839) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:788) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:952) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:931) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:745) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:562) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\r\n\tat java.lang.Thread.run(Thread.java:832) ~[?:?]\r\nCaused by: java.io.IOException: gzip stream CRC failure\r\n\tat org.apache.hadoop.io.compress.zlib.BuiltInGzipDecompressor.executeTrailerState(BuiltInGzipDecompressor.java:371) ~[hadoop-common-3.3.0.jar:?]\r\n\tat org.apache.hadoop.io.compress.zlib.BuiltInGzipDecompressor.decompress(BuiltInGzipDecompressor.java:227) ~[hadoop-common-3.3.0.jar:?]\r\n\tat org.apache.hadoop.io.compress.DecompressorStream.decompress(DecompressorStream.java:111) ~[hadoop-common-3.3.0.jar:?]\r\n\tat org.apache.hadoop.io.compress.DecompressorStream.read(DecompressorStream.java:105) ~[hadoop-common-3.3.0.jar:?]\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:199) ~[?:?]\r\n\tat java.io.DataInputStream.readFully(DataInputStream.java:169) ~[?:?]\r\n\tat org.apache.iceberg.shaded.org.apache.parquet.bytes.BytesInput$StreamBytesInput.toByteArray(BytesInput.java:286) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.shaded.org.apache.parquet.bytes.BytesInput.toByteBuffer(BytesInput.java:237) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.shaded.org.apache.parquet.bytes.BytesInput.toInputStream(BytesInput.java:246) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\tat org.apache.iceberg.parquet.BasePageIterator.initFromPage(BasePageIterator.java:122) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\r\n\t... 34 more\r\n```","title":"Apache Iceberg - gzip stream CRC failure","body":"<p>Im trying to do some rewriteDataFiles job with Iceberg and Flink. It was working for a while but suddenly there is some error related to gzip stream CRC failure. Ive tried to change write.parquet.compression-codec to zstd but it didn't helped.</p>\n<pre><code>org.apache.iceberg.shaded.org.apache.parquet.io.ParquetDecodingException: could not read page Page [bytes.size=561526, valueCount=20000, uncompressedSize=561526] in col [payload, vertex, value] optional binary value (STRING) = 10\n    at org.apache.iceberg.parquet.BasePageIterator.initFromPage(BasePageIterator.java:129) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.BasePageIterator$1.visit(BasePageIterator.java:99) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.BasePageIterator$1.visit(BasePageIterator.java:96) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.shaded.org.apache.parquet.column.page.DataPageV1.accept(DataPageV1.java:120) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.BasePageIterator.setPage(BasePageIterator.java:95) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.PageIterator.setPage(PageIterator.java:109) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.BaseColumnIterator.advance(BaseColumnIterator.java:61) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ColumnIterator.currentDefinitionLevel(ColumnIterator.java:100) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetValueReaders$OptionReader.read(ParquetValueReaders.java:418) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetValueReaders$StructReader.read(ParquetValueReaders.java:745) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetValueReaders$OptionReader.read(ParquetValueReaders.java:419) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetValueReaders$StructReader.read(ParquetValueReaders.java:745) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetValueReaders$OptionReader.read(ParquetValueReaders.java:419) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetValueReaders$StructReader.read(ParquetValueReaders.java:745) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.ParquetReader$FileIterator.next(ParquetReader.java:130) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.io.FilterIterator.advance(FilterIterator.java:65) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.io.FilterIterator.hasNext(FilterIterator.java:49) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.flink.source.DataIterator.updateCurrentIterator(DataIterator.java:127) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.flink.source.DataIterator.hasNext(DataIterator.java:109) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.flink.source.RowDataRewriter$RewriteMap.map(RowDataRewriter.java:145) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.flink.source.RowDataRewriter$RewriteMap.map(RowDataRewriter.java:100) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.flink.streaming.api.operators.StreamMap.processElement(StreamMap.java:38) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:237) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:146) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:110) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:550) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:231) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:839) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:788) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:952) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:931) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:745) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:562) ~[flink-dist-1.17-8307969c-szn.jar:1.17-8307969c-szn]\n    at java.lang.Thread.run(Thread.java:832) ~[?:?]\nCaused by: java.io.IOException: gzip stream CRC failure\n    at org.apache.hadoop.io.compress.zlib.BuiltInGzipDecompressor.executeTrailerState(BuiltInGzipDecompressor.java:371) ~[hadoop-common-3.3.0.jar:?]\n    at org.apache.hadoop.io.compress.zlib.BuiltInGzipDecompressor.decompress(BuiltInGzipDecompressor.java:227) ~[hadoop-common-3.3.0.jar:?]\n    at org.apache.hadoop.io.compress.DecompressorStream.decompress(DecompressorStream.java:111) ~[hadoop-common-3.3.0.jar:?]\n    at org.apache.hadoop.io.compress.DecompressorStream.read(DecompressorStream.java:105) ~[hadoop-common-3.3.0.jar:?]\n    at java.io.DataInputStream.readFully(DataInputStream.java:199) ~[?:?]\n    at java.io.DataInputStream.readFully(DataInputStream.java:169) ~[?:?]\n    at org.apache.iceberg.shaded.org.apache.parquet.bytes.BytesInput$StreamBytesInput.toByteArray(BytesInput.java:286) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.shaded.org.apache.parquet.bytes.BytesInput.toByteBuffer(BytesInput.java:237) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.shaded.org.apache.parquet.bytes.BytesInput.toInputStream(BytesInput.java:246) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    at org.apache.iceberg.parquet.BasePageIterator.initFromPage(BasePageIterator.java:122) ~[iceberg-flink-runtime-1.16-1.2.1.jar:?]\n    ... 34 more\n</code></pre>\n"},{"tags":["java","wildfly-9","thread-dump","jstack"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693875615,"post_id":77038668,"comment_id":135814060,"body_markdown":"Please add more details to the question. Why do you expect that it _would_ appear in the application logs? The simplest explanations would be that there isn’t any logging statement in that code path at whatever log level is configured. Another possibility is that the thread is logging, but the logging configuration doesn’t include the thread name. Without knowing anything about the logging behavior or configuration, all we can do is guess.","body":"Please add more details to the question. Why do you expect that it <i>would</i> appear in the application logs? The simplest explanations would be that there isn’t any logging statement in that code path at whatever log level is configured. Another possibility is that the thread is logging, but the logging configuration doesn’t include the thread name. Without knowing anything about the logging behavior or configuration, all we can do is guess."},{"owner":{"account_id":2919614,"reputation":79,"user_id":2502171,"display_name":"vishal patel"},"score":0,"creation_date":1694007251,"post_id":77038668,"comment_id":135834591,"body_markdown":"@TimMoore\nWhy do you expect that it would appear in the application logs?\n&gt;&gt;We are getting slowness in our application, so we are finding long running thread from multiple thread dump.","body":"@TimMoore Why do you expect that it would appear in the application logs? &gt;&gt;We are getting slowness in our application, so we are finding long running thread from multiple thread dump."},{"owner":{"account_id":2919614,"reputation":79,"user_id":2502171,"display_name":"vishal patel"},"score":0,"creation_date":1694007301,"post_id":77038668,"comment_id":135834606,"body_markdown":"@TimMoore\nlog level is enabled in our application and also printed thread id. our application logs printed like\n\n&#39;2023-09-05 02:09:17,596 INFO  [com.test.solr.webservice.SearchAppConnector] (default task-92) executeSearch  -&gt; ReqId :[995_22015091957945137] --&gt; Enter &#39;\n\nWe are getting some runnable threads of thread dump in application logs, but some runnable threads are not getting.","body":"@TimMoore log level is enabled in our application and also printed thread id. our application logs printed like  &#39;2023-09-05 02:09:17,596 INFO  [com.test.solr.webservice.SearchAppConnector] (default task-92) executeSearch  -&gt; ReqId :[995_22015091957945137] --&gt; Enter &#39;  We are getting some runnable threads of thread dump in application logs, but some runnable threads are not getting."}],"owner":{"account_id":2919614,"reputation":79,"user_id":2502171,"display_name":"vishal patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693838376,"creation_date":1693838376,"question_id":77038668,"body_markdown":"Our application is running in wildfly 9.0.1. We had taken thread dump using command **jstack -l** while application was running.\r\nOne of thread (default task-201) from thread dump is here\r\n \r\n\r\n    &quot;default task-201&quot; #631 prio=5 os_prio=0 tid=0x00007efa502db000 nid=0x3a06a6 runnable [0x00007ef9f7d6b000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    \tat java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n    \tat java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n    \t- locked &lt;0x00007f0430b2fae8&gt; (a java.io.BufferedInputStream)\r\n    \tat org.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)\r\n    \tat org.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)\r\n    \tat org.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1116)\r\n    \tat org.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\r\n    \tat org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1735)\r\n    \tat org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1098)\r\n    \tat com.test.common.util.GZIPAwarePostMethod.execute(GZIPAwarePostMethod.java:38)\r\n    \tat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\r\n    \tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\r\n    \tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\r\n    \tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\r\n    \tat com.test.solr.webservice.SearchAppConnector.executeSearch(SearchAppConnector.java:76)\r\n    \tat com.test.solr.webservice.SearchAppConnector.executeSearch(SearchAppConnector.java:49)\r\n    \tat com.test.adoddle.search.helper.FileIndexSearchHelper.searchFiles(FileIndexSearchHelper.java:284)\r\n    \tat com.test.adoddle.service.FilesService.serchFiles(FilesService.java:491)\r\n    \tat com.test.adoddle.service.FilesService.serchFiles(FilesService.java:451)\r\n    \tat com.test.adoddle.service.listing.FileListing.getListing(FileListing.java:73)\r\n    \tat com.test.adoddle.control.common.AdoddleListingController.actionController(AdoddleListingController.java:60)\r\n    \tat com.test.base.presentation.BaseController.doPost(BaseController.java:408)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n    \tat com.test.adoddle.filter.main.CachingFilter.doFilter(CachingFilter.java:66)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n    \tat com.test.adoddle.filter.main.URLRewriteFilter.doFilter(URLRewriteFilter.java:106)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n    \tat com.test.adoddle.filter.main.MainFilter.doFilter(MainFilter.java:156)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n    \tat com.test.adoddle.security.filter.SecurityFilter.processRequest(SecurityFilter.java:141)\r\n    \tat com.test.adoddle.security.filter.SecurityFilter.processFilter(SecurityFilter.java:77)\r\n    \tat com.test.adoddle.security.filter.BaseFilter.doFilter(BaseFilter.java:82)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n    \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)\r\n    \tat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n    \tat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \r\n       Locked ownable synchronizers:\r\n    \t- &lt;0x00007efd8a524ce0&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\r\n\r\n\r\nWhen we find the **default task-201** in application logs, we did not get that. Why are we not finding **default task-201** in application logs? ","title":"Thread id of thread dump not found in application logs","body":"<p>Our application is running in wildfly 9.0.1. We had taken thread dump using command <strong>jstack -l</strong> while application was running.\nOne of thread (default task-201) from thread dump is here</p>\n<pre><code>&quot;default task-201&quot; #631 prio=5 os_prio=0 tid=0x00007efa502db000 nid=0x3a06a6 runnable [0x00007ef9f7d6b000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:265)\n    - locked &lt;0x00007f0430b2fae8&gt; (a java.io.BufferedInputStream)\n    at org.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)\n    at org.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)\n    at org.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1116)\n    at org.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)\n    at org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1735)\n    at org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1098)\n    at com.test.common.util.GZIPAwarePostMethod.execute(GZIPAwarePostMethod.java:38)\n    at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n    at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n    at com.test.solr.webservice.SearchAppConnector.executeSearch(SearchAppConnector.java:76)\n    at com.test.solr.webservice.SearchAppConnector.executeSearch(SearchAppConnector.java:49)\n    at com.test.adoddle.search.helper.FileIndexSearchHelper.searchFiles(FileIndexSearchHelper.java:284)\n    at com.test.adoddle.service.FilesService.serchFiles(FilesService.java:491)\n    at com.test.adoddle.service.FilesService.serchFiles(FilesService.java:451)\n    at com.test.adoddle.service.listing.FileListing.getListing(FileListing.java:73)\n    at com.test.adoddle.control.common.AdoddleListingController.actionController(AdoddleListingController.java:60)\n    at com.test.base.presentation.BaseController.doPost(BaseController.java:408)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\n    at com.test.adoddle.filter.main.CachingFilter.doFilter(CachingFilter.java:66)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\n    at com.test.adoddle.filter.main.URLRewriteFilter.doFilter(URLRewriteFilter.java:106)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\n    at com.test.adoddle.filter.main.MainFilter.doFilter(MainFilter.java:156)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\n    at com.test.adoddle.security.filter.SecurityFilter.processRequest(SecurityFilter.java:141)\n    at com.test.adoddle.security.filter.SecurityFilter.processFilter(SecurityFilter.java:77)\n    at com.test.adoddle.security.filter.BaseFilter.doFilter(BaseFilter.java:82)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)\n    at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\n   Locked ownable synchronizers:\n    - &lt;0x00007efd8a524ce0&gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)\n</code></pre>\n<p>When we find the <strong>default task-201</strong> in application logs, we did not get that. Why are we not finding <strong>default task-201</strong> in application logs?</p>\n"},{"tags":["java","android","sockets","client-server","dataoutputstream"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1502903911,"post_id":45719211,"comment_id":78397291,"body_markdown":"10.0.0.2 seens to be your mask name, not you pc adress in the network","body":"10.0.0.2 seens to be your mask name, not you pc adress in the network"},{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502904105,"post_id":45719211,"comment_id":78397411,"body_markdown":"I&#39;ve changed the code to run using my ip address but still doesn&#39;t work","body":"I&#39;ve changed the code to run using my ip address but still doesn&#39;t work"},{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502904231,"post_id":45719211,"comment_id":78397494,"body_markdown":"where it says my ip address entered is where i put in my ip address, i got my ip from googling my ip, could it be an ipv4 or ipv6 issue ??","body":"where it says my ip address entered is where i put in my ip address, i got my ip from googling my ip, could it be an ipv4 or ipv6 issue ??"},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1502906862,"post_id":45719211,"comment_id":78398914,"body_markdown":"Your google seen ip is your internet modem address, your network address can be seen into the terminal by typing &quot;ipconfig&quot;","body":"Your google seen ip is your internet modem address, your network address can be seen into the terminal by typing &quot;ipconfig&quot;"},{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502907241,"post_id":45719211,"comment_id":78399110,"body_markdown":"I&#39;ve done that and tried that ip still no luck","body":"I&#39;ve done that and tried that ip still no luck"},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1502908885,"post_id":45719211,"comment_id":78399880,"body_markdown":"Are you PC port open for receiving on 8080? Not sure how to do this","body":"Are you PC port open for receiving on 8080? Not sure how to do this"}],"answers":[{"comments":[{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502903736,"post_id":45719443,"comment_id":78397195,"body_markdown":"I&#39;ve changed the localhost to my computer ip address where the server is running , still not reaching the server. Please see the edited question for the updated error . Thank you","body":"I&#39;ve changed the localhost to my computer ip address where the server is running , still not reaching the server. Please see the edited question for the updated error . Thank you"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1502903826,"post_id":45719443,"comment_id":78397246,"body_markdown":"Make sure your WAN is set to allow traffic to that port, at least from inside the network.  Make sure you aren&#39;t on cellular (use wifi).  And get rid of that strict mode stuff-  use a Thread like you&#39;re supposed to.  Don&#39;t get into bad habbits early, doing networking on the main thread will lead to apps that either perform badly or get killed by the OS.","body":"Make sure your WAN is set to allow traffic to that port, at least from inside the network.  Make sure you aren&#39;t on cellular (use wifi).  And get rid of that strict mode stuff-  use a Thread like you&#39;re supposed to.  Don&#39;t get into bad habbits early, doing networking on the main thread will lead to apps that either perform badly or get killed by the OS."},{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502903951,"post_id":45719443,"comment_id":78397317,"body_markdown":"Ive checked the port is open and can accept connections, when i remove the strict mode stuff the app crashes","body":"Ive checked the port is open and can accept connections, when i remove the strict mode stuff the app crashes"},{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502904053,"post_id":45719443,"comment_id":78397372,"body_markdown":"i get this error  android.os.NetworkOnMainThreadException\n                                                                                 at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1155)","body":"i get this error  android.os.NetworkOnMainThreadException                                                                                  at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(Stri&zwnj;&#8203;ctMode.java:1155)"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1502904712,"post_id":45719443,"comment_id":78397753,"body_markdown":"Like I said-  use a Thread.  All networking should be done on a separate thread.  Doing it on the main thread will cause the app to appear to freeze.","body":"Like I said-  use a Thread.  All networking should be done on a separate thread.  Doing it on the main thread will cause the app to appear to freeze."},{"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"score":0,"creation_date":1502906858,"post_id":45719443,"comment_id":78398912,"body_markdown":"sorry I&#39;m new to programming, would i need to create a thread pool to do it on a thread ? can i just create a simple thread ? how would the code look like","body":"sorry I&#39;m new to programming, would i need to create a thread pool to do it on a thread ? can i just create a simple thread ? how would the code look like"},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1502906950,"post_id":45719443,"comment_id":78398957,"body_markdown":"theres a way to disable network on main thread exception, dont remember how","body":"theres a way to disable network on main thread exception, dont remember how"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1502913205,"post_id":45719443,"comment_id":78401892,"body_markdown":"@MarcosVasconcelos: use `StrictMode.setThreadPolicy()`, or set the project&#39;s `targetSdkVersion` to 9. See [Quick fix for NetworkOnMainThreadException](https://stackoverflow.com/questions/12650921/)","body":"@MarcosVasconcelos: use <code>StrictMode.setThreadPolicy()</code>, or set the project&#39;s <code>targetSdkVersion</code> to 9. See <a href=\"https://stackoverflow.com/questions/12650921/\">Quick fix for NetworkOnMainThreadException</a>"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1502913219,"post_id":45719443,"comment_id":78401898,"body_markdown":"@Gujju123: look at [`AsyncTask`.](https://developer.android.com/reference/android/os/AsyncTask.html)","body":"@Gujju123: look at <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\"><code>AsyncTask</code>.</a>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1502913280,"post_id":45719443,"comment_id":78401936,"body_markdown":"@MarcosVasconcelos There is-  but it doesn&#39;t work on all devices, it creates bad apps, promoted bad habbits, and  shouldn&#39;t be taught to anyone.","body":"@MarcosVasconcelos There is-  but it doesn&#39;t work on all devices, it creates bad apps, promoted bad habbits, and  shouldn&#39;t be taught to anyone."},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1502915259,"post_id":45719443,"comment_id":78402903,"body_markdown":"@GabeSechan i know, but he seens to be not wanting to learn thread now, \n also, with the solution to enable the exception to not be thrown, your application will hang in the main thread making it inresponsible","body":"@GabeSechan i know, but he seens to be not wanting to learn thread now,   also, with the solution to enable the exception to not be thrown, your application will hang in the main thread making it inresponsible"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1502915315,"post_id":45719443,"comment_id":78402918,"body_markdown":"If he doesn&#39;t want to learn the right way, we shouldn&#39;t help him to learn the wrong one- we should ignore him","body":"If he doesn&#39;t want to learn the right way, we shouldn&#39;t help him to learn the wrong one- we should ignore him"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502903528,"creation_date":1502903528,"answer_id":45719443,"question_id":45719211,"body_markdown":"Localhost is the phone itself, not your computer.  If on a simulator, localhost is the simulator, not your computer-  the simulator doesn&#39;t know its a simulator, it has its own IP address.  Fix the IP you&#39;re using.","title":"cannot get android app to connect to my server on my local computer","body":"<p>Localhost is the phone itself, not your computer.  If on a simulator, localhost is the simulator, not your computer-  the simulator doesn't know its a simulator, it has its own IP address.  Fix the IP you're using.</p>\n"},{"tags":[],"owner":{"account_id":7832894,"reputation":68,"user_id":5922166,"display_name":"atlantis.pd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1502989776,"creation_date":1502989776,"answer_id":45741242,"question_id":45719211,"body_markdown":"I believe this is definitely just an issue with your IP, you are obviously giving ti the wrong ip address because everything else is fine. I would recommend either accessing the terminal and using the ifconfig command to find your ip or access your network settings, if your using a mac like I am select network , advance options , select tcp/ip tab and use ipv4 address as the ip address. If that doesn&#39;t work try using a different port or checking your firewall setting on your local computer. Hope that helps.  ","title":"cannot get android app to connect to my server on my local computer","body":"<p>I believe this is definitely just an issue with your IP, you are obviously giving ti the wrong ip address because everything else is fine. I would recommend either accessing the terminal and using the ifconfig command to find your ip or access your network settings, if your using a mac like I am select network , advance options , select tcp/ip tab and use ipv4 address as the ip address. If that doesn't work try using a different port or checking your firewall setting on your local computer. Hope that helps.  </p>\n"}],"owner":{"account_id":11525526,"reputation":3,"user_id":8446117,"display_name":"Gujju123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45741242,"answer_count":2,"score":0,"last_activity_date":1693838276,"creation_date":1502902774,"question_id":45719211,"body_markdown":"Hi I&#39;m new to android and Im\r\nTrying to get my android app to connect to a my server that is running on my local computer. Im just trying to get the app to send a simple string message to the server first but keep getting an error. From the print out statements i can see that the app terminates as soon as it hits the line with the try in it so i believe there is an issue with creating the client connection. I have also enable Internet,ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE,READ_EXTERNAL_STORAGE,WRITE_EXTERNAL_STORAGE permissions\r\n\r\ni tried changing the localhost to InetAddress.getLocalHost() but still wouldn&#39;t work \r\n\r\nheres my code :\r\n\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.util.StringBuilderPrinter;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    \r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectOutputStream;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    \r\n    import static java.net.InetAddress.getLocalHost;\r\n    \r\n    public class MainActivity extends AppCompatActivity{\r\n        private Button cam;\r\n        private Socket client;\r\n        DataOutputStream os;\r\n        private String IP = &quot;localhost&quot;;\r\n        private static final String TAG = &quot;testing&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            if (android.os.Build.VERSION.SDK_INT &gt; 9)\r\n            {\r\n                StrictMode.ThreadPolicy policy = new                      \r\n                StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                StrictMode.setThreadPolicy(policy);\r\n            }\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    \r\n            cam = (Button) findViewById(R.id.Button_camera);\r\n            cam.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n    \r\n                    Log.v(TAG, &quot;trying to connect to server&quot;);\r\n                    try {\r\n                        client = new Socket(&quot;My IP address entered&quot;, 8080);\r\n                        Log.v(TAG, &quot;client socket initalised&quot;);\r\n                        String hey = &quot;hey&quot;;\r\n                        os = new DataOutputStream(client.getOutputStream());\r\n                        Log.v(TAG, &quot;outptu stream created&quot;);\r\n                        os.flush();\r\n                        Log.v(TAG, &quot;flush&quot;);\r\n                        os.writeBytes(hey);\r\n                        Log.v(TAG, &quot;written to server&quot;);\r\n                        os.close();\r\n    \r\n    \r\n                    } catch (UnknownHostException e) {\r\n                        Log.v(TAG, &quot;Unknown error&quot;);\r\n                        Log.v(TAG, e.toString());\r\n                    } catch (IOException e) {\r\n                        Log.v(TAG, &quot;IO exception u numpty&quot;);\r\n                        Log.v(TAG, e.toString());\r\n                    }\r\n                    Intent intent = new Intent(MainActivity.this, Main2Activity.class);\r\n                    startActivity(intent);\r\n    \r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n\r\nmy code prints out the statement trying to connect to server but doesn&#39;t reach any of the other print out statements and my server is still not receiving anything \r\n\r\n     connect failed: ETIMEDOUT (Connection timed out)\r\n    ACTION_DOWN before UnsetPressedState. invoking mUnsetPressedState.run()\r\n    I/Choreographer: Skipped 3792 frames!  The application may be doing too much work on its main thread.","title":"cannot get android app to connect to my server on my local computer","body":"<p>Hi I'm new to android and Im\nTrying to get my android app to connect to a my server that is running on my local computer. Im just trying to get the app to send a simple string message to the server first but keep getting an error. From the print out statements i can see that the app terminates as soon as it hits the line with the try in it so i believe there is an issue with creating the client connection. I have also enable Internet,ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE,READ_EXTERNAL_STORAGE,WRITE_EXTERNAL_STORAGE permissions</p>\n\n<p>i tried changing the localhost to InetAddress.getLocalHost() but still wouldn't work </p>\n\n<p>heres my code :</p>\n\n<pre><code>import android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.util.StringBuilderPrinter;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\nimport static java.net.InetAddress.getLocalHost;\n\npublic class MainActivity extends AppCompatActivity{\n    private Button cam;\n    private Socket client;\n    DataOutputStream os;\n    private String IP = \"localhost\";\n    private static final String TAG = \"testing\";\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (android.os.Build.VERSION.SDK_INT &gt; 9)\n        {\n            StrictMode.ThreadPolicy policy = new                      \n            StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n        }\n        setContentView(R.layout.activity_main);\n\n\n\n        cam = (Button) findViewById(R.id.Button_camera);\n        cam.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                Log.v(TAG, \"trying to connect to server\");\n                try {\n                    client = new Socket(\"My IP address entered\", 8080);\n                    Log.v(TAG, \"client socket initalised\");\n                    String hey = \"hey\";\n                    os = new DataOutputStream(client.getOutputStream());\n                    Log.v(TAG, \"outptu stream created\");\n                    os.flush();\n                    Log.v(TAG, \"flush\");\n                    os.writeBytes(hey);\n                    Log.v(TAG, \"written to server\");\n                    os.close();\n\n\n                } catch (UnknownHostException e) {\n                    Log.v(TAG, \"Unknown error\");\n                    Log.v(TAG, e.toString());\n                } catch (IOException e) {\n                    Log.v(TAG, \"IO exception u numpty\");\n                    Log.v(TAG, e.toString());\n                }\n                Intent intent = new Intent(MainActivity.this, Main2Activity.class);\n                startActivity(intent);\n\n\n\n            }\n        });\n\n    }\n}\n</code></pre>\n\n<p>my code prints out the statement trying to connect to server but doesn't reach any of the other print out statements and my server is still not receiving anything </p>\n\n<pre><code> connect failed: ETIMEDOUT (Connection timed out)\nACTION_DOWN before UnsetPressedState. invoking mUnsetPressedState.run()\nI/Choreographer: Skipped 3792 frames!  The application may be doing too much work on its main thread.\n</code></pre>\n"},{"tags":["java","algorithm","3d","collision-detection","lwjgl"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1693853983,"post_id":77038645,"comment_id":135812012,"body_markdown":"https://stackoverflow.com/search?q=AABB+collision","body":"<a href=\"https://stackoverflow.com/search?q=AABB+collision\">stackoverflow.com/search?q=AABB+collision</a>"}],"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693838145,"creation_date":1693838145,"question_id":77038645,"body_markdown":"I am making a Java 3D project using lwjgl.\r\n\r\nI cannot implement a method that returns boolean when a shape collides with another shape.\r\nAABB does not work for spheres, cylinders and other complex shapes. \r\n\r\nI came up with an algorithm that checks each edge for intersection with an edge of another object, and for optimization I decided to start detection from the average of the positions.\r\nBut my knowledge was not enough.\r\n\r\nAABB collision detection algorithm:\r\n(does not work correctly for negative positions)\r\n```\r\npackage Engine;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.joml.Matrix4f;\r\nimport org.joml.Vector3f;\r\n\r\n\r\npublic abstract class Component {\r\n    private Vector3f pos = new Vector3f(0, 0, 0);\r\n    private Vector3f rotate = new Vector3f(0, 0, 0);\r\n    private Vector3f scale = new Vector3f(1, 1, 1);\r\n\r\n    public boolean checkColision(Component component) {\r\n        ArrayList&lt;Vector3f&gt; transformedVertices = transformVertices();\r\n        ArrayList&lt;Vector3f&gt; componentTransformedVertices = component.transformVertices();\r\n\r\n        Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n        Vector3f min = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\r\n\r\n        for(Vector3f vertex : transformedVertices) {\r\n            if(vertex.x &gt; max.x) max.x = vertex.x;\r\n            if(vertex.y &gt; max.y) max.y = vertex.y;\r\n            if(vertex.z &gt; max.z) max.z = vertex.z;\r\n\r\n            if(vertex.x &lt; min.x) min.x = vertex.x;\r\n            if(vertex.y &lt; min.y) min.y = vertex.y;\r\n            if(vertex.z &lt; min.z) min.z = vertex.z;\r\n        }\r\n\r\n        Vector3f componentMax = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n        Vector3f componentMin = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\r\n\r\n        for(Vector3f vertex : componentTransformedVertices) {\r\n            if(vertex.x &gt; componentMax.x) componentMax.x = vertex.x;\r\n            if(vertex.y &gt; componentMax.y) componentMax.y = vertex.y;\r\n            if(vertex.z &gt; componentMax.z) componentMax.z = vertex.z;\r\n\r\n            if(vertex.x &lt; componentMin.x) componentMin.x = vertex.x;\r\n            if(vertex.y &lt; componentMin.y) componentMin.y = vertex.y;\r\n            if(vertex.z &lt; componentMin.z) componentMin.z = vertex.z;\r\n        }\r\n\r\n        if (max.x &lt;= componentMin.x || min.x &gt;= componentMax.x) return false;\r\n        if (max.y &lt;= componentMin.y || min.y &gt;= componentMax.y) return false;\r\n        if (max.z &lt;= componentMin.z || min.z &gt;= componentMax.z) return false;\r\n        return true;\r\n    }\r\n\r\n    public abstract void render();\r\n    public abstract ArrayList&lt;Vector3f&gt; getVertices();\r\n\r\n    public ArrayList&lt;Vector3f&gt; transformVertices() {\r\n        ArrayList&lt;Vector3f&gt; transformedVertices = new ArrayList&lt;&gt;();\r\n        Matrix4f transformationMatrix = new Matrix4f()\r\n            .translate(pos)\r\n            .rotateX((float) Math.toRadians(rotate.x))\r\n            .rotateY((float) Math.toRadians(rotate.y))\r\n            .rotateZ((float) Math.toRadians(rotate.z))\r\n            .scale(scale);\r\n\r\n        for (Vector3f vertex : getVertices()) {\r\n            Vector3f transformedVertex = new Vector3f(vertex);\r\n            transformedVertex.mulPosition(transformationMatrix);\r\n            transformedVertices.add(transformedVertex);\r\n        }\r\n\r\n        return transformedVertices;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"I can&#39;t find a good and understandable algorithm for detecting collisions of two figures","body":"<p>I am making a Java 3D project using lwjgl.</p>\n<p>I cannot implement a method that returns boolean when a shape collides with another shape.\nAABB does not work for spheres, cylinders and other complex shapes.</p>\n<p>I came up with an algorithm that checks each edge for intersection with an edge of another object, and for optimization I decided to start detection from the average of the positions.\nBut my knowledge was not enough.</p>\n<p>AABB collision detection algorithm:\n(does not work correctly for negative positions)</p>\n<pre><code>package Engine;\n\nimport java.util.ArrayList;\n\nimport org.joml.Matrix4f;\nimport org.joml.Vector3f;\n\n\npublic abstract class Component {\n    private Vector3f pos = new Vector3f(0, 0, 0);\n    private Vector3f rotate = new Vector3f(0, 0, 0);\n    private Vector3f scale = new Vector3f(1, 1, 1);\n\n    public boolean checkColision(Component component) {\n        ArrayList&lt;Vector3f&gt; transformedVertices = transformVertices();\n        ArrayList&lt;Vector3f&gt; componentTransformedVertices = component.transformVertices();\n\n        Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n        Vector3f min = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\n\n        for(Vector3f vertex : transformedVertices) {\n            if(vertex.x &gt; max.x) max.x = vertex.x;\n            if(vertex.y &gt; max.y) max.y = vertex.y;\n            if(vertex.z &gt; max.z) max.z = vertex.z;\n\n            if(vertex.x &lt; min.x) min.x = vertex.x;\n            if(vertex.y &lt; min.y) min.y = vertex.y;\n            if(vertex.z &lt; min.z) min.z = vertex.z;\n        }\n\n        Vector3f componentMax = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n        Vector3f componentMin = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\n\n        for(Vector3f vertex : componentTransformedVertices) {\n            if(vertex.x &gt; componentMax.x) componentMax.x = vertex.x;\n            if(vertex.y &gt; componentMax.y) componentMax.y = vertex.y;\n            if(vertex.z &gt; componentMax.z) componentMax.z = vertex.z;\n\n            if(vertex.x &lt; componentMin.x) componentMin.x = vertex.x;\n            if(vertex.y &lt; componentMin.y) componentMin.y = vertex.y;\n            if(vertex.z &lt; componentMin.z) componentMin.z = vertex.z;\n        }\n\n        if (max.x &lt;= componentMin.x || min.x &gt;= componentMax.x) return false;\n        if (max.y &lt;= componentMin.y || min.y &gt;= componentMax.y) return false;\n        if (max.z &lt;= componentMin.z || min.z &gt;= componentMax.z) return false;\n        return true;\n    }\n\n    public abstract void render();\n    public abstract ArrayList&lt;Vector3f&gt; getVertices();\n\n    public ArrayList&lt;Vector3f&gt; transformVertices() {\n        ArrayList&lt;Vector3f&gt; transformedVertices = new ArrayList&lt;&gt;();\n        Matrix4f transformationMatrix = new Matrix4f()\n            .translate(pos)\n            .rotateX((float) Math.toRadians(rotate.x))\n            .rotateY((float) Math.toRadians(rotate.y))\n            .rotateZ((float) Math.toRadians(rotate.z))\n            .scale(scale);\n\n        for (Vector3f vertex : getVertices()) {\n            Vector3f transformedVertex = new Vector3f(vertex);\n            transformedVertex.mulPosition(transformationMatrix);\n            transformedVertices.add(transformedVertex);\n        }\n\n        return transformedVertices;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":0,"creation_date":1429686830,"post_id":29790229,"comment_id":47709443,"body_markdown":"Can you elaborate on &quot;*did not worked out*&quot;?","body":"Can you elaborate on &quot;<i>did not worked out</i>&quot;?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1429690401,"post_id":29790229,"comment_id":47711730,"body_markdown":"So, you also want to insert a space right where `&gt;&lt;` are? Can we replace all `&gt;&lt;` with a space in arbitrary places? You cannot remove and insert at the same time, you&#39;ll need 2 regexes, or 1 regex and a simple replace.","body":"So, you also want to insert a space right where <code>&gt;&lt;</code> are? Can we replace all <code>&gt;&lt;</code> with a space in arbitrary places? You cannot remove and insert at the same time, you&#39;ll need 2 regexes, or 1 regex and a simple replace."},{"owner":{"account_id":5720487,"reputation":16685,"user_id":4519059,"accept_rate":44,"display_name":"shA.t"},"score":0,"creation_date":1693838093,"post_id":29790229,"comment_id":135809354,"body_markdown":"Please do not use regex to modify XML - HTH ;)","body":"Please do not use regex to modify XML - HTH ;)"}],"answers":[{"comments":[{"owner":{"account_id":389165,"reputation":757,"user_id":748466,"accept_rate":48,"display_name":"samash"},"score":0,"creation_date":1429688136,"post_id":29790388,"comment_id":47710356,"body_markdown":"I have to remove this inside Answer Attribute only.if my string contains some other valid xml like &lt;userinput&gt; it should not touch that..overall outside of Answer=&quot;&quot;, it should not do anything","body":"I have to remove this inside Answer Attribute only.if my string contains some other valid xml like &lt;userinput&gt; it should not touch that..overall outside of Answer=&quot;&quot;, it should not do anything"},{"owner":{"account_id":2444936,"reputation":105529,"user_id":2867928,"accept_rate":90,"display_name":"Mazdak"},"score":0,"creation_date":1429688225,"post_id":29790388,"comment_id":47710408,"body_markdown":"@samash So using regex is not a good choice for parsing `(X)Html` at all you may consider a proper parser!","body":"@samash So using regex is not a good choice for parsing <code>(X)Html</code> at all you may consider a proper parser!"},{"owner":{"account_id":389165,"reputation":757,"user_id":748466,"accept_rate":48,"display_name":"samash"},"score":0,"creation_date":1429688251,"post_id":29790388,"comment_id":47710425,"body_markdown":"I tested the above it did not worked fully.it replaced the tag of userinput also.","body":"I tested the above it did not worked fully.it replaced the tag of userinput also."},{"owner":{"account_id":389165,"reputation":757,"user_id":748466,"accept_rate":48,"display_name":"samash"},"score":0,"creation_date":1429688414,"post_id":29790388,"comment_id":47710545,"body_markdown":"the problem is we don&#39;t have to parse the XML as we are middleware and the xml snippet inside answer attribute is creating problem for end system.so is there any regex which can solve my problem?","body":"the problem is we don&#39;t have to parse the XML as we are middleware and the xml snippet inside answer attribute is creating problem for end system.so is there any regex which can solve my problem?"},{"owner":{"account_id":389165,"reputation":757,"user_id":748466,"accept_rate":48,"display_name":"samash"},"score":0,"creation_date":1429689277,"post_id":29790388,"comment_id":47711055,"body_markdown":"No we don&#39;t have the option to parse the xml.. but i am pretty sure by regex it can be done","body":"No we don&#39;t have the option to parse the xml.. but i am pretty sure by regex it can be done"},{"owner":{"account_id":2444936,"reputation":105529,"user_id":2867928,"accept_rate":90,"display_name":"Mazdak"},"score":0,"creation_date":1429689366,"post_id":29790388,"comment_id":47711114,"body_markdown":"@samash It could be very complicated and also its not an efficient solution!","body":"@samash It could be very complicated and also its not an efficient solution!"}],"tags":[],"owner":{"account_id":2444936,"reputation":105529,"user_id":2867928,"accept_rate":90,"display_name":"Mazdak"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429687124,"creation_date":1429687124,"answer_id":29790388,"question_id":29790229,"body_markdown":"You need to put `?` within the first group to make it none greedy, also you dont need `Answer=.*?`: \r\n\r\n    str1.replaceAll(&quot;&lt;([^&lt;]*?)&gt;&quot;, &quot;$1&quot;)\r\n\r\n[DEMO][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/tW6zC3/1","title":"Need java Regex to remove/replace the XML elements from specific string","body":"<p>You need to put <code>?</code> within the first group to make it none greedy, also you dont need <code>Answer=.*?</code>: </p>\n\n<pre><code>str1.replaceAll(\"&lt;([^&lt;]*?)&gt;\", \"$1\")\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/tW6zC3/1\" rel=\"nofollow\">DEMO</a></p>\n"},{"tags":[],"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429687214,"creation_date":1429687214,"answer_id":29790427,"question_id":29790229,"body_markdown":"`httpRequest.send(&quot;msg=&quot;+data+&quot;&amp;TC=&quot;+TC);` try like this","title":"Need java Regex to remove/replace the XML elements from specific string","body":"<p><code>httpRequest.send(\"msg=\"+data+\"&amp;TC=\"+TC);</code> try like this</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429690911,"creation_date":1429690911,"answer_id":29791654,"question_id":29790229,"body_markdown":"Although variable width look-behinds are not supported in Java, you can work around it with `.{0,1000}` that should suffice.\r\n\r\nPlease check out this approach using 2 regexes, or 1 regex and 1 `replace`. Choose the one that suits best (I removed the `\\n` line break from the first input string to show the flaw with using simple `replace`):\r\n\r\n    String input = &quot;&lt;user_input&gt;&lt;UserInput Question=\\&quot;test Q?\\&quot; Answer=&lt;value&gt;0&lt;/value&gt;&lt;sam@testmail.com&gt;\\&quot;\\n&lt;/user_input&gt;&quot;;\r\n    String st = input.replace(&quot;&gt;&lt;&quot;, &quot; &quot;).replaceAll(&quot;(?&lt;=Answer=.{0,1000})[&lt;&gt;/]+(?=[^\\&quot;]*\\&quot;)&quot;, &quot;&quot;);\r\n    String st1 = input.replaceAll(&quot;(?&lt;=Answer=.{0,1000})&gt;&lt;(?=[^\\&quot;]*\\&quot;)&quot;, &quot; &quot;).replaceAll(&quot;(?&lt;=Answer=.{0,1000})[&lt;&gt;/]+(?=[^\\&quot;]*\\&quot;)&quot;, &quot;&quot;);\r\n    System.out.println(st + &quot;\\n&quot; + st1);\r\n\r\nOutput of a [sample program][1]:\r\n\r\n    &lt;user_input UserInput Question=&quot;test Q?&quot; Answer=value0value sam@testmail.com&quot;                                                                                                                                                                          \r\n    &lt;/user_input&gt;  \r\n                                                                                                                                                                                                                                        \r\n    &lt;user_input&gt;&lt;UserInput Question=&quot;test Q?&quot; Answer=value0value sam@testmail.com&quot;                                                                                                                                                                         \r\n    &lt;/user_input&gt;  \r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/compile_java_online.php?PID=0Bw_CjBb95KQMMEtfcjdiRjFIYjA","title":"Need java Regex to remove/replace the XML elements from specific string","body":"<p>Although variable width look-behinds are not supported in Java, you can work around it with <code>.{0,1000}</code> that should suffice.</p>\n\n<p>Please check out this approach using 2 regexes, or 1 regex and 1 <code>replace</code>. Choose the one that suits best (I removed the <code>\\n</code> line break from the first input string to show the flaw with using simple <code>replace</code>):</p>\n\n<pre><code>String input = \"&lt;user_input&gt;&lt;UserInput Question=\\\"test Q?\\\" Answer=&lt;value&gt;0&lt;/value&gt;&lt;sam@testmail.com&gt;\\\"\\n&lt;/user_input&gt;\";\nString st = input.replace(\"&gt;&lt;\", \" \").replaceAll(\"(?&lt;=Answer=.{0,1000})[&lt;&gt;/]+(?=[^\\\"]*\\\")\", \"\");\nString st1 = input.replaceAll(\"(?&lt;=Answer=.{0,1000})&gt;&lt;(?=[^\\\"]*\\\")\", \" \").replaceAll(\"(?&lt;=Answer=.{0,1000})[&lt;&gt;/]+(?=[^\\\"]*\\\")\", \"\");\nSystem.out.println(st + \"\\n\" + st1);\n</code></pre>\n\n<p>Output of a <a href=\"http://www.tutorialspoint.com/compile_java_online.php?PID=0Bw_CjBb95KQMMEtfcjdiRjFIYjA\" rel=\"nofollow\">sample program</a>:</p>\n\n<pre><code>&lt;user_input UserInput Question=\"test Q?\" Answer=value0value sam@testmail.com\"                                                                                                                                                                          \n&lt;/user_input&gt;  \n\n&lt;user_input&gt;&lt;UserInput Question=\"test Q?\" Answer=value0value sam@testmail.com\"                                                                                                                                                                         \n&lt;/user_input&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5018558,"reputation":71,"user_id":4032717,"display_name":"Phyln"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669816685,"creation_date":1669816685,"answer_id":74628982,"question_id":29790229,"body_markdown":"First off, in your sample above, there is a trailing `&quot;` after the email and `&gt;` which I do not know if it was placed by error.\r\n\r\nHowever, I will keep it there as according to your expected result, you need it to still be present.\r\n\r\nThis is my hack.\r\n\r\n`(Answer=)(&lt;)(value)(&gt;)(.+?([^&lt;]*))(&lt;/)(value)(&gt;&lt;)(.+?([^&gt;]*))(&gt;)` to replace it with\r\n\r\n    $1$3$5$8 $10\r\n\r\n**The explanation...**\r\n\r\n`(Answer=)(&lt;)(value)(&gt;)` matches from Answer to the start of the value 0\r\n\r\n`(.+?([^&lt;]*)` matches the result from 0 or more right to the beginning `&lt;` which starts the closing value tag\r\n\r\n`(&lt;/)` here, I still select this since it was dropped in the previous expression\r\n\r\n`(&gt;&lt;)` I will later replace this with a space\r\n\r\n`(.+?([^&gt;]*)` This matches from the start of the email and excludes the `&gt;` after the .com\r\n\r\n`(&gt;)` this one selects the last `&gt;` which I will later drop when replacing.\r\n\r\nThe trailing `&quot;` is not selected as I will rather not touch it as requested.\r\n","title":"Need java Regex to remove/replace the XML elements from specific string","body":"<p>First off, in your sample above, there is a trailing <code>&quot;</code> after the email and <code>&gt;</code> which I do not know if it was placed by error.</p>\n<p>However, I will keep it there as according to your expected result, you need it to still be present.</p>\n<p>This is my hack.</p>\n<p><code>(Answer=)(&lt;)(value)(&gt;)(.+?([^&lt;]*))(&lt;/)(value)(&gt;&lt;)(.+?([^&gt;]*))(&gt;)</code> to replace it with</p>\n<pre><code>$1$3$5$8 $10\n</code></pre>\n<p><strong>The explanation...</strong></p>\n<p><code>(Answer=)(&lt;)(value)(&gt;)</code> matches from Answer to the start of the value 0</p>\n<p><code>(.+?([^&lt;]*)</code> matches the result from 0 or more right to the beginning <code>&lt;</code> which starts the closing value tag</p>\n<p><code>(&lt;/)</code> here, I still select this since it was dropped in the previous expression</p>\n<p><code>(&gt;&lt;)</code> I will later replace this with a space</p>\n<p><code>(.+?([^&gt;]*)</code> This matches from the start of the email and excludes the <code>&gt;</code> after the .com</p>\n<p><code>(&gt;)</code> this one selects the last <code>&gt;</code> which I will later drop when replacing.</p>\n<p>The trailing <code>&quot;</code> is not selected as I will rather not touch it as requested.</p>\n"}],"owner":{"account_id":389165,"reputation":757,"user_id":748466,"accept_rate":48,"display_name":"samash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2084,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1693838056,"creation_date":1429686635,"question_id":29790229,"body_markdown":"I have a problem in getting the correct Regular expression.I have below xml as string\r\n```xml\r\n    &lt;user_input&gt;\r\n    &lt;UserInput Question=&quot;test Q?&quot; Answer=&lt;value&gt;0&lt;/value&gt;&lt;sam@testmail.com&gt;&quot;\r\n    &lt;/user_input&gt;\r\n```\r\nNow I need to remove the xml character from Answer attribute only.\r\nSo I need the below:-\r\n```xml\r\n    &lt;user_input&gt;\r\n    &lt;UserInput Question=&quot;test Q?&quot; Answer=value0value sam@testmail.com&quot;\r\n    &lt;/user_input&gt;\r\n```\r\nI have tried the below regex but did not worked out:-\r\n\r\n    str1.replaceAll(&quot;Answer=.*?&lt;([^&lt;]*)&gt;&quot;, &quot;$1&quot;);\r\n\r\nit&#39;s removing all the text before..\r\n\r\nCan anyone help please?","title":"Need java Regex to remove/replace the XML elements from specific string","body":"<p>I have a problem in getting the correct Regular expression.I have below xml as string</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;user_input&gt;\n    &lt;UserInput Question=&quot;test Q?&quot; Answer=&lt;value&gt;0&lt;/value&gt;&lt;sam@testmail.com&gt;&quot;\n    &lt;/user_input&gt;\n</code></pre>\n<p>Now I need to remove the xml character from Answer attribute only.\nSo I need the below:-</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;user_input&gt;\n    &lt;UserInput Question=&quot;test Q?&quot; Answer=value0value sam@testmail.com&quot;\n    &lt;/user_input&gt;\n</code></pre>\n<p>I have tried the below regex but did not worked out:-</p>\n<pre><code>str1.replaceAll(&quot;Answer=.*?&lt;([^&lt;]*)&gt;&quot;, &quot;$1&quot;);\n</code></pre>\n<p>it's removing all the text before..</p>\n<p>Can anyone help please?</p>\n"},{"tags":["java","apache-spark","amazon-emr"],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693837624,"creation_date":1693429305,"question_id":77011497,"body_markdown":"I&#39;m creating transient EMR cluster using following lambda code : \r\n\r\n  \r\n\r\n       List&lt;Configuration&gt; configurations = new ArrayList&lt;&gt;();\r\n                configurations.add(new Configuration()\r\n                    .withClassification(&quot;emrfs-site&quot;)\r\n                    .withProperties(Collections.singletonMap(&quot;fs.s3.consistent.retryPolicyType&quot;, &quot;fixed&quot;)));\r\n    \r\n                configurations.add(new Configuration()\r\n                    .withClassification(&quot;spark&quot;)\r\n                    .withProperties(Collections.singletonMap(&quot;maximizeResourceAllocation&quot;, &quot;true&quot;)));\r\n    \r\n                Map&lt;String,String&gt; config = new HashMap&lt;&gt;();\r\n                config.put(&quot;JAVA_HOME&quot;, &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;);\r\n                config.put(&quot;spark.driver.defaultJavaOptions&quot;, &quot;-XX:OnOutOfMemoryError=&#39;kill -9 %p&#39; -XX:MaxHeapFreeRatio=70&quot;);\r\n                config.put(&quot;spark.executor.defaultJavaOptions&quot;, &quot;-verbose:gc -Xlog:gc*::time -XX:+PrintGCDetails -XX:OnOutOfMemoryError=&#39;kill -9 %p&#39; -XX:MaxHeapFreeRatio=70 -XX:+IgnoreUnrecognizedVMOptions&quot;);\r\n    \r\n    \r\n                configurations.add(new Configuration()\r\n                    .withClassification(&quot;spark-env&quot;)\r\n                    .withConfigurations(Collections.singletonList(\r\n                        new Configuration()\r\n                            .withClassification(&quot;export&quot;)\r\n                            .withProperties(Collections.singletonMap(&quot;JAVA_HOME&quot;,&quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;))\r\n                    )));\r\n    \r\n                configurations.add(new Configuration()\r\n                    .withClassification(&quot;spark-defaults&quot;)\r\n                    .withProperties(config));\r\n    \r\n                //collect customer IDs\r\n                String customerIds = input.getCustomerIds();\r\n                if (customerIds == null || customerIds.trim().equals(&quot;&quot;)) {\r\n                      Set&lt;String&gt; results = new HashSet&lt;&gt;();\r\n                      final AmazonDynamoDB client = AmazonDynamoDBClientBuilder.defaultClient();\r\n                      Map&lt;String, AttributeValue&gt; lastKeyEvaluated = null;\r\n                      do {\r\n                            ScanRequest scanRequest = new ScanRequest()\r\n                                .withTableName(tableName)\r\n                                .withExclusiveStartKey(lastKeyEvaluated);\r\n                            ScanResult result = client.scan(scanRequest);\r\n                            for (Map&lt;String, AttributeValue&gt; item : result.getItems()) {\r\n                                  results.add(item.get(PARTITION_KEY).getS());\r\n                            }\r\n                            lastKeyEvaluated = result.getLastEvaluatedKey();\r\n                      } while (lastKeyEvaluated != null);\r\n                      customerIds = String.join(&quot;,&quot;, results);\r\n                }\r\n    \r\n                //send to EMR cluster\r\n                List&lt;String&gt; sparkSubmitArgs = new ArrayList&lt;&gt;();\r\n                sparkSubmitArgs.add(&quot;spark-submit&quot;);\r\n                sparkSubmitArgs.add(&quot;--master&quot;);\r\n                sparkSubmitArgs.add(&quot;yarn&quot;);\r\n                sparkSubmitArgs.add(&quot;--deploy-mode&quot;);\r\n                sparkSubmitArgs.add(&quot;cluster&quot;);\r\n                sparkSubmitArgs.add(&quot;--class&quot;);\r\n                sparkSubmitArgs.add(&quot;spark.sparkjob.CreateSitemapFile&quot;);\r\n                sparkSubmitArgs.add(backendCode);\r\n                sparkSubmitArgs.add(customerIds);\r\n                sparkSubmitArgs.add(s3FinalOutput);\r\n                sparkSubmitArgs.add(s3SparkIntermediate);\r\n                sparkSubmitArgs.add(tableName);\r\n                AmazonElasticMapReduce emr = AmazonElasticMapReduceClientBuilder.defaultClient();\r\n                emr.runJobFlow(\r\n                    new RunJobFlowRequest()\r\n                        .withName(&quot;sitemap_xml_generation&quot;)\r\n                        .withInstances(\r\n                            new JobFlowInstancesConfig()\r\n                                .withInstanceGroups(\r\n                                    new InstanceGroupConfig()\r\n                                        .withName(&quot;Master&quot;)\r\n                                        .withMarket(MarketType.ON_DEMAND)\r\n                                        .withInstanceRole(InstanceRoleType.MASTER)\r\n                                        .withInstanceType(&quot;m3.xlarge&quot;)\r\n                                        .withInstanceCount(1),\r\n                                    new InstanceGroupConfig()\r\n                                        .withName(&quot;Slave&quot;)\r\n                                        .withMarket(MarketType.ON_DEMAND)\r\n                                        .withInstanceRole(InstanceRoleType.CORE)\r\n                                        .withInstanceType(&quot;m3.xlarge&quot;)\r\n                                        .withInstanceCount(3)\r\n                                )\r\n                                .withKeepJobFlowAliveWhenNoSteps(false)\r\n                                .withTerminationProtected(false)\r\n                                .withEc2SubnetId(subnetId)\r\n    \r\n                        )\r\n                        .withLogUri(emrLogUri)\r\n                        .withReleaseLabel(EMR_VERSION)\r\n                        //.withBootstrapActions(bootstrapActions)\r\n                        .withSteps(\r\n                            new StepConfig()\r\n                                .withName(&quot;processFile&quot;)\r\n                                .withActionOnFailure(ActionOnFailure.CONTINUE)\r\n                                .withHadoopJarStep(\r\n                                    new HadoopJarStepConfig()\r\n                                        .withJar(&quot;command-runner.jar&quot;)\r\n                                        .withArgs(sparkSubmitArgs)\r\n                                )\r\n                        )\r\n                        .withVisibleToAllUsers(true)\r\n                        .withJobFlowRole(emrJobFlowRole)\r\n                        .withServiceRole(emrServiceRole)\r\n                        .withApplications(\r\n                            new Application()\r\n                                .withName(&quot;Spark&quot;),\r\n                            new Application()\r\n                                .withName(&quot;Hive&quot;)\r\n                        )\r\n                        .withConfigurations(configurations)\r\n                );\r\n\r\nI&#39;ve tried to follow instruction I found in [this answer][1] in order to run java 11 code for Spark, but I&#39;m still facing error : `&quot;Java Runtime only recognizes class file versions up to 52.0&quot;`\r\n\r\nAny help is appreciated.\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70886684/how-to-use-java-runtime-11-in-emr-cluster-aws","title":"Set Java version 11 in transient EMR Cluster for Spark","body":"<p>I'm creating transient EMR cluster using following lambda code :</p>\n<pre><code>   List&lt;Configuration&gt; configurations = new ArrayList&lt;&gt;();\n            configurations.add(new Configuration()\n                .withClassification(&quot;emrfs-site&quot;)\n                .withProperties(Collections.singletonMap(&quot;fs.s3.consistent.retryPolicyType&quot;, &quot;fixed&quot;)));\n\n            configurations.add(new Configuration()\n                .withClassification(&quot;spark&quot;)\n                .withProperties(Collections.singletonMap(&quot;maximizeResourceAllocation&quot;, &quot;true&quot;)));\n\n            Map&lt;String,String&gt; config = new HashMap&lt;&gt;();\n            config.put(&quot;JAVA_HOME&quot;, &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;);\n            config.put(&quot;spark.driver.defaultJavaOptions&quot;, &quot;-XX:OnOutOfMemoryError='kill -9 %p' -XX:MaxHeapFreeRatio=70&quot;);\n            config.put(&quot;spark.executor.defaultJavaOptions&quot;, &quot;-verbose:gc -Xlog:gc*::time -XX:+PrintGCDetails -XX:OnOutOfMemoryError='kill -9 %p' -XX:MaxHeapFreeRatio=70 -XX:+IgnoreUnrecognizedVMOptions&quot;);\n\n\n            configurations.add(new Configuration()\n                .withClassification(&quot;spark-env&quot;)\n                .withConfigurations(Collections.singletonList(\n                    new Configuration()\n                        .withClassification(&quot;export&quot;)\n                        .withProperties(Collections.singletonMap(&quot;JAVA_HOME&quot;,&quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;))\n                )));\n\n            configurations.add(new Configuration()\n                .withClassification(&quot;spark-defaults&quot;)\n                .withProperties(config));\n\n            //collect customer IDs\n            String customerIds = input.getCustomerIds();\n            if (customerIds == null || customerIds.trim().equals(&quot;&quot;)) {\n                  Set&lt;String&gt; results = new HashSet&lt;&gt;();\n                  final AmazonDynamoDB client = AmazonDynamoDBClientBuilder.defaultClient();\n                  Map&lt;String, AttributeValue&gt; lastKeyEvaluated = null;\n                  do {\n                        ScanRequest scanRequest = new ScanRequest()\n                            .withTableName(tableName)\n                            .withExclusiveStartKey(lastKeyEvaluated);\n                        ScanResult result = client.scan(scanRequest);\n                        for (Map&lt;String, AttributeValue&gt; item : result.getItems()) {\n                              results.add(item.get(PARTITION_KEY).getS());\n                        }\n                        lastKeyEvaluated = result.getLastEvaluatedKey();\n                  } while (lastKeyEvaluated != null);\n                  customerIds = String.join(&quot;,&quot;, results);\n            }\n\n            //send to EMR cluster\n            List&lt;String&gt; sparkSubmitArgs = new ArrayList&lt;&gt;();\n            sparkSubmitArgs.add(&quot;spark-submit&quot;);\n            sparkSubmitArgs.add(&quot;--master&quot;);\n            sparkSubmitArgs.add(&quot;yarn&quot;);\n            sparkSubmitArgs.add(&quot;--deploy-mode&quot;);\n            sparkSubmitArgs.add(&quot;cluster&quot;);\n            sparkSubmitArgs.add(&quot;--class&quot;);\n            sparkSubmitArgs.add(&quot;spark.sparkjob.CreateSitemapFile&quot;);\n            sparkSubmitArgs.add(backendCode);\n            sparkSubmitArgs.add(customerIds);\n            sparkSubmitArgs.add(s3FinalOutput);\n            sparkSubmitArgs.add(s3SparkIntermediate);\n            sparkSubmitArgs.add(tableName);\n            AmazonElasticMapReduce emr = AmazonElasticMapReduceClientBuilder.defaultClient();\n            emr.runJobFlow(\n                new RunJobFlowRequest()\n                    .withName(&quot;sitemap_xml_generation&quot;)\n                    .withInstances(\n                        new JobFlowInstancesConfig()\n                            .withInstanceGroups(\n                                new InstanceGroupConfig()\n                                    .withName(&quot;Master&quot;)\n                                    .withMarket(MarketType.ON_DEMAND)\n                                    .withInstanceRole(InstanceRoleType.MASTER)\n                                    .withInstanceType(&quot;m3.xlarge&quot;)\n                                    .withInstanceCount(1),\n                                new InstanceGroupConfig()\n                                    .withName(&quot;Slave&quot;)\n                                    .withMarket(MarketType.ON_DEMAND)\n                                    .withInstanceRole(InstanceRoleType.CORE)\n                                    .withInstanceType(&quot;m3.xlarge&quot;)\n                                    .withInstanceCount(3)\n                            )\n                            .withKeepJobFlowAliveWhenNoSteps(false)\n                            .withTerminationProtected(false)\n                            .withEc2SubnetId(subnetId)\n\n                    )\n                    .withLogUri(emrLogUri)\n                    .withReleaseLabel(EMR_VERSION)\n                    //.withBootstrapActions(bootstrapActions)\n                    .withSteps(\n                        new StepConfig()\n                            .withName(&quot;processFile&quot;)\n                            .withActionOnFailure(ActionOnFailure.CONTINUE)\n                            .withHadoopJarStep(\n                                new HadoopJarStepConfig()\n                                    .withJar(&quot;command-runner.jar&quot;)\n                                    .withArgs(sparkSubmitArgs)\n                            )\n                    )\n                    .withVisibleToAllUsers(true)\n                    .withJobFlowRole(emrJobFlowRole)\n                    .withServiceRole(emrServiceRole)\n                    .withApplications(\n                        new Application()\n                            .withName(&quot;Spark&quot;),\n                        new Application()\n                            .withName(&quot;Hive&quot;)\n                    )\n                    .withConfigurations(configurations)\n            );\n</code></pre>\n<p>I've tried to follow instruction I found in <a href=\"https://stackoverflow.com/questions/70886684/how-to-use-java-runtime-11-in-emr-cluster-aws\">this answer</a> in order to run java 11 code for Spark, but I'm still facing error : <code>&quot;Java Runtime only recognizes class file versions up to 52.0&quot;</code></p>\n<p>Any help is appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","c#","python","c++","excel"],"comments":[{"owner":{"account_id":1026045,"reputation":4948,"user_id":1035345,"display_name":"twoleggedhorse"},"score":4,"creation_date":1506118661,"post_id":46373895,"comment_id":79707352,"body_markdown":"any reason why you&#39;re holding that much data in excel and not in a database?","body":"any reason why you&#39;re holding that much data in excel and not in a database?"},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":1,"creation_date":1506118733,"post_id":46373895,"comment_id":79707373,"body_markdown":"@twoleggedhorse this is provided to us by a client. We don&#39;t have control of the input(s).","body":"@twoleggedhorse this is provided to us by a client. We don&#39;t have control of the input(s)."},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":0,"creation_date":1506118802,"post_id":46373895,"comment_id":79707394,"body_markdown":"Please check this answer https://stackoverflow.com/a/13177797/5790398. It might be useful in your case. I don&#39;t know similar solution in Python.","body":"Please check this answer <a href=\"https://stackoverflow.com/a/13177797/5790398\">stackoverflow.com/a/13177797/5790398</a>. It might be useful in your case. I don&#39;t know similar solution in Python."},{"owner":{"account_id":1026045,"reputation":4948,"user_id":1035345,"display_name":"twoleggedhorse"},"score":1,"creation_date":1506118894,"post_id":46373895,"comment_id":79707417,"body_markdown":"I would set up an ssis package (import export wizard will create one) in sql server and automate the import into a database. It *should* be quicker to import to db than to open in excel. At this point the world&#39;s your oyster with the data.","body":"I would set up an ssis package (import export wizard will create one) in sql server and automate the import into a database. It <i>should</i> be quicker to import to db than to open in excel. At this point the world&#39;s your oyster with the data."},{"owner":{"account_id":6654128,"reputation":315,"user_id":5135450,"accept_rate":100,"display_name":"Telefonmann"},"score":0,"creation_date":1506119086,"post_id":46373895,"comment_id":79707460,"body_markdown":"Save yor Excel file as csv and a lot of options open up. Hadoop is fine, but uneccessary. Try Pandas for Python. If you only store homogeneous data types try HDF5 which uses NumPy in Python, dunno what other platforms use. Pandas can read Excel files, but I don&#39;t know how fast that method is. Last but not least you can convert csv files to sqlite databases and work with those. Edit: Does it have to be an acutal Excel file, or can you change the format?","body":"Save yor Excel file as csv and a lot of options open up. Hadoop is fine, but uneccessary. Try Pandas for Python. If you only store homogeneous data types try HDF5 which uses NumPy in Python, dunno what other platforms use. Pandas can read Excel files, but I don&#39;t know how fast that method is. Last but not least you can convert csv files to sqlite databases and work with those. Edit: Does it have to be an acutal Excel file, or can you change the format?"},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506120872,"post_id":46373895,"comment_id":79707881,"body_markdown":"@Telefonmann it&#39;s an excel file. It&#39;s not our file and we don&#39;t have any control over it.","body":"@Telefonmann it&#39;s an excel file. It&#39;s not our file and we don&#39;t have any control over it."},{"owner":{"account_id":6654128,"reputation":315,"user_id":5135450,"accept_rate":100,"display_name":"Telefonmann"},"score":0,"creation_date":1506122162,"post_id":46373895,"comment_id":79708154,"body_markdown":"@David542 Then try Pandas pandas.read_excel (http://pandas.pydata.org/pandas-docs/version/0.20/generated/pandas.read_excel.html). However, you might want to try to convince your client to save the files as CSV. CSV is supported by excel, so there is no real excuse to save it as XLSX.","body":"@David542 Then try Pandas pandas.read_excel (<a href=\"http://pandas.pydata.org/pandas-docs/version/0.20/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.20/generated/&hellip;</a>). However, you might want to try to convince your client to save the files as CSV. CSV is supported by excel, so there is no real excuse to save it as XLSX."},{"owner":{"account_id":31974,"reputation":23181,"user_id":88173,"accept_rate":83,"display_name":"Charles Williams"},"score":3,"creation_date":1506151065,"post_id":46373895,"comment_id":79712863,"body_markdown":"150 Mb XL workbook is not that large these days - to open efficiently in XL first set Calculation to Manual and ForceFullCalculation to True - then if you want to use Python follow the suggestion of saving it as CSV. Whole process should be a lot faster than 7 minutes on a powerful multi-core machine.","body":"150 Mb XL workbook is not that large these days - to open efficiently in XL first set Calculation to Manual and ForceFullCalculation to True - then if you want to use Python follow the suggestion of saving it as CSV. Whole process should be a lot faster than 7 minutes on a powerful multi-core machine."},{"owner":{"account_id":3650437,"reputation":9764,"user_id":3042759,"accept_rate":66,"display_name":"Tom"},"score":3,"creation_date":1506164789,"post_id":46373895,"comment_id":79716310,"body_markdown":"At the end of the day an Excel file is a folder containing a load of xml docs. You could extract the xml from the file and parse that instead? [link](http://professor-excel.com/xml-zip-excel-file-structure/)","body":"At the end of the day an Excel file is a folder containing a load of xml docs. You could extract the xml from the file and parse that instead? <a href=\"http://professor-excel.com/xml-zip-excel-file-structure/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":317159,"reputation":8327,"user_id":633684,"display_name":"xiaofeng.li"},"score":2,"creation_date":1506388201,"post_id":46373895,"comment_id":79790473,"body_markdown":"How long does it take Excel to open it? Just for reference.","body":"How long does it take Excel to open it? Just for reference."},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506391809,"post_id":46373895,"comment_id":79791244,"body_markdown":"@LukeLee on mac, not able to open it. On PC, maybe about a minute, but it&#39;s quite sluggish to use.","body":"@LukeLee on mac, not able to open it. On PC, maybe about a minute, but it&#39;s quite sluggish to use."},{"owner":{"account_id":6619941,"reputation":531,"user_id":5112007,"accept_rate":88,"display_name":"Bluebird"},"score":0,"creation_date":1506413807,"post_id":46373895,"comment_id":79799509,"body_markdown":"@David542 Would you allow a VBA solution?","body":"@David542 Would you allow a VBA solution?"},{"owner":{"account_id":1233392,"reputation":214142,"user_id":1197518,"accept_rate":100,"display_name":"Steve"},"score":3,"creation_date":1506430827,"post_id":46373895,"comment_id":79811478,"body_markdown":"I think that it is also important to know what you want to do with the data loaded. The method used to load the file could be not the best in terms of raw disk performances but better in terms on how do you try to access that data after loading it.","body":"I think that it is also important to know what you want to do with the data loaded. The method used to load the file could be not the best in terms of raw disk performances but better in terms on how do you try to access that data after loading it."},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506454082,"post_id":46373895,"comment_id":79825973,"body_markdown":"@Steve let&#39;s say parse the file to load certain rows into a database.","body":"@Steve let&#39;s say parse the file to load certain rows into a database."},{"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"score":1,"creation_date":1506456320,"post_id":46373895,"comment_id":79827067,"body_markdown":"@David542: could you be more precise: for example what rows of the 200MB excel file you provide would be inserted into the database?  what would be the criteria?  An efficient approach would be to implement the selection as a filter written in any fast language and the resulting selection in CSV format could be loader quickly and handled by your code.","body":"@David542: could you be more precise: for example what rows of the 200MB excel file you provide would be inserted into the database?  what would be the criteria?  An efficient approach would be to implement the selection as a filter written in any fast language and the resulting selection in CSV format could be loader quickly and handled by your code."},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506460697,"post_id":46373895,"comment_id":79829115,"body_markdown":"@chqrlie every single row would be inserted -- we would just be manipulating the data (e.g., type conversion) before inserting it into our database with the selected columns.","body":"@chqrlie every single row would be inserted -- we would just be manipulating the data (e.g., type conversion) before inserting it into our database with the selected columns."},{"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"score":0,"creation_date":1506461096,"post_id":46373895,"comment_id":79829288,"body_markdown":"If you are going to insert all rows, the bottleneck is likely the database interface. The file is about 1GB of uncompressed data, how long does the insertion phase take?","body":"If you are going to insert all rows, the bottleneck is likely the database interface. The file is about 1GB of uncompressed data, how long does the insertion phase take?"},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506461417,"post_id":46373895,"comment_id":79829423,"body_markdown":"@chqrlie that&#39;s fine -- the main part here is optimizing the opening of the file, etc. It&#39;s possible we&#39;ll save it to a csv or something else after doing what we need with loading it and then doing some processing on the data.","body":"@chqrlie that&#39;s fine -- the main part here is optimizing the opening of the file, etc. It&#39;s possible we&#39;ll save it to a csv or something else after doing what we need with loading it and then doing some processing on the data."},{"owner":{"account_id":438122,"reputation":6172,"user_id":826203,"accept_rate":89,"display_name":"athos"},"score":0,"creation_date":1506486521,"post_id":46373895,"comment_id":79835316,"body_markdown":"xls files are binary, xlsx files are just a zip of xml files, as Tom mentioned. extract then parse xml might be fasted way.","body":"xls files are binary, xlsx files are just a zip of xml files, as Tom mentioned. extract then parse xml might be fasted way."},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506488239,"post_id":46373895,"comment_id":79835773,"body_markdown":"@athos want to test that in an answer?","body":"@athos want to test that in an answer?"},{"owner":{"account_id":438122,"reputation":6172,"user_id":826203,"accept_rate":89,"display_name":"athos"},"score":0,"creation_date":1506493363,"post_id":46373895,"comment_id":79837703,"body_markdown":"would like to do that after some solid result. need download the sample file after i walk around the firewall.","body":"would like to do that after some solid result. need download the sample file after i walk around the firewall."},{"owner":{"account_id":242725,"reputation":3621,"user_id":514449,"display_name":"ASpirin"},"score":0,"creation_date":1506501065,"post_id":46373895,"comment_id":79841991,"body_markdown":"Just curious, how long will it take to load text/csv file of the same size?","body":"Just curious, how long will it take to load text/csv file of the same size?"},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506564005,"post_id":46373895,"comment_id":79874811,"body_markdown":"@ASpirin what do you mean load? I would just iterate it line-by-line.","body":"@ASpirin what do you mean load? I would just iterate it line-by-line."},{"owner":{"account_id":1890692,"reputation":1693,"user_id":1708860,"accept_rate":79,"display_name":"user1708860"},"score":0,"creation_date":1506725298,"post_id":46373895,"comment_id":79950471,"body_markdown":"@David542, On my machine your python program runs in 3 minutes, and it&#39;s not a strong laptop... I&#39;m wondering - How long does it take you to convert the file to csv using either of these methods? xmodulo.com/how-to-convert-xlsx-files-to-xls-or-csv.html – user1708860","body":"@David542, On my machine your python program runs in 3 minutes, and it&#39;s not a strong laptop... I&#39;m wondering - How long does it take you to convert the file to csv using either of these methods? xmodulo.com/how-to-convert-xlsx-files-to-xls-or-csv.html – user1708860"},{"owner":{"account_id":9455293,"reputation":2437,"user_id":7030791,"accept_rate":74,"display_name":"Amiri"},"score":0,"creation_date":1506759535,"post_id":46373895,"comment_id":79956021,"body_markdown":"For this problem, I prefer to index it explicitly. Due to the performance requirements you can make nested tree and access the metadata instead of real data. Take a look at Google&#39;s bigtable concept (the theory not  the implementation). I hope it helps. ( I can Imagine it might be done in a second)","body":"For this problem, I prefer to index it explicitly. Due to the performance requirements you can make nested tree and access the metadata instead of real data. Take a look at Google&#39;s bigtable concept (the theory not  the implementation). I hope it helps. ( I can Imagine it might be done in a second)"},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506762649,"post_id":46373895,"comment_id":79956800,"body_markdown":"@Martin cool -- any interest in posting an answer showing how it would be done?","body":"@Martin cool -- any interest in posting an answer showing how it would be done?"},{"owner":{"account_id":9455293,"reputation":2437,"user_id":7030791,"accept_rate":74,"display_name":"Amiri"},"score":0,"creation_date":1506773121,"post_id":46373895,"comment_id":79959252,"body_markdown":"@David542, unfortunately I don&#39;t have a real experience but theoretically it might works. I hope some experts read my comment and provide a solution or correct it.","body":"@David542, unfortunately I don&#39;t have a real experience but theoretically it might works. I hope some experts read my comment and provide a solution or correct it."},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506796735,"post_id":46373895,"comment_id":79966128,"body_markdown":"@Martin if someone could open the file in 10s or under I would jump for joy -- and of course, select that as the answer. Want to look at your idea and see if it&#39;s possible for you to implement in an answer?","body":"@Martin if someone could open the file in 10s or under I would jump for joy -- and of course, select that as the answer. Want to look at your idea and see if it&#39;s possible for you to implement in an answer?"},{"owner":{"account_id":9455293,"reputation":2437,"user_id":7030791,"accept_rate":74,"display_name":"Amiri"},"score":0,"creation_date":1506805233,"post_id":46373895,"comment_id":79968355,"body_markdown":"Dear @David542, I only suggested a possible theoretical solution. My programming knowledge is not sufficient to implement it","body":"Dear @David542, I only suggested a possible theoretical solution. My programming knowledge is not sufficient to implement it"},{"owner":{"account_id":3371794,"reputation":143488,"user_id":2830850,"display_name":"Tarun Lalwani"},"score":0,"creation_date":1506967759,"post_id":46373895,"comment_id":80017091,"body_markdown":"@David542, what do you after opening the file? Because loading a file in less than 30 second, but then what needs to be done is important?","body":"@David542, what do you after opening the file? Because loading a file in less than 30 second, but then what needs to be done is important?"}],"answers":[{"comments":[{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":1,"creation_date":1506394480,"post_id":46416145,"comment_id":79791864,"body_markdown":"This seems to only load the necessary sheets, but in the above case there is only one sheet to load, so the `on_demand` saves no time (I tested it).","body":"This seems to only load the necessary sheets, but in the above case there is only one sheet to load, so the <code>on_demand</code> saves no time (I tested it)."}],"tags":[],"owner":{"account_id":96180,"reputation":3556,"user_id":261542,"display_name":"mikek3332002"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506401232,"creation_date":1506386476,"answer_id":46416145,"question_id":46373895,"body_markdown":"Have you tried loading the [worksheet on demand][1], which available since version 0.7.1 of xlrd?\r\n\r\nTo do this you need to pass `on_demand=True` to [`open_workbook()`.][2]\r\n\r\n&gt; xlrd.open_workbook(filename=None, logfile=&lt;_io.TextIOWrapper\r\n&gt; name=&#39;&lt;stdout&gt;&#39; mode=&#39;w&#39; encoding=&#39;UTF-8&#39;&gt;, verbosity=0, use_mmap=1,\r\n&gt; file_contents=None, encoding_override=None, formatting_info=False,\r\n&gt; on_demand=False, ragged_rows=False)\r\n\r\n\r\n----------\r\nOther potential python solutions I found for reading an xlsx file:\r\n\r\n - Read the [raw xml][3] in &#39;xl/sharedStrings.xml&#39; and &#39;xl/worksheets/sheet1.xml&#39;\r\n - Try the [openpyxl library&#39;s Read Only mode][4] which claims too be optimized in memory usage for large files.  \r\n\r\n        from openpyxl import load_workbook wb = load_workbook(filename=&#39;large_file.xlsx&#39;, read_only=True) ws = wb[&#39;big_data&#39;]\r\n    \r\n        for row in ws.rows:\r\n            for cell in row:\r\n                print(cell.value)\r\n - If you are running on Windows you could use [PyWin32 and &#39;Excel.Application&#39;][5]\r\n    \r\n\r\n        import time\r\n        import win32com.client as win32\r\n        def excel():\r\n           xl = win32.gencache.EnsureDispatch(&#39;Excel.Application&#39;)\r\n           ss = xl.Workbooks.Add()\r\n        ...\r\n\r\n\r\n  [1]: http://xlrd.readthedocs.io/en/latest/on_demand.html &quot;Loading worksheets on demand&quot;\r\n  [2]: http://xlrd.readthedocs.io/en/latest/api.html#xlrd.open_workbook\r\n  [3]: https://stackoverflow.com/a/22067980/261542\r\n  [4]: https://openpyxl.readthedocs.io/en/default/optimized.html\r\n  [5]: https://www.blog.pythonlibrary.org/2010/07/16/python-and-microsoft-office-using-pywin32/ &quot;Python and Microsoft Office – Using PyWin32&quot;","title":"How to open a huge excel file efficiently","body":"<p>Have you tried loading the <a href=\"http://xlrd.readthedocs.io/en/latest/on_demand.html\" rel=\"nofollow noreferrer\" title=\"Loading worksheets on demand\">worksheet on demand</a>, which available since version 0.7.1 of xlrd?</p>\n\n<p>To do this you need to pass <code>on_demand=True</code> to <a href=\"http://xlrd.readthedocs.io/en/latest/api.html#xlrd.open_workbook\" rel=\"nofollow noreferrer\"><code>open_workbook()</code>.</a></p>\n\n<blockquote>\n  <p>xlrd.open_workbook(filename=None, logfile=&lt;_io.TextIOWrapper\n  name='' mode='w' encoding='UTF-8'>, verbosity=0, use_mmap=1,\n  file_contents=None, encoding_override=None, formatting_info=False,\n  on_demand=False, ragged_rows=False)</p>\n</blockquote>\n\n<hr>\n\n<p>Other potential python solutions I found for reading an xlsx file:</p>\n\n<ul>\n<li>Read the <a href=\"https://stackoverflow.com/a/22067980/261542\">raw xml</a> in 'xl/sharedStrings.xml' and 'xl/worksheets/sheet1.xml'</li>\n<li><p>Try the <a href=\"https://openpyxl.readthedocs.io/en/default/optimized.html\" rel=\"nofollow noreferrer\">openpyxl library's Read Only mode</a> which claims too be optimized in memory usage for large files.  </p>\n\n<pre><code>from openpyxl import load_workbook wb = load_workbook(filename='large_file.xlsx', read_only=True) ws = wb['big_data']\n\nfor row in ws.rows:\n    for cell in row:\n        print(cell.value)\n</code></pre></li>\n<li><p>If you are running on Windows you could use <a href=\"https://www.blog.pythonlibrary.org/2010/07/16/python-and-microsoft-office-using-pywin32/\" rel=\"nofollow noreferrer\" title=\"Python and Microsoft Office – Using PyWin32\">PyWin32 and 'Excel.Application'</a></p>\n\n<pre><code>import time\nimport win32com.client as win32\ndef excel():\n   xl = win32.gencache.EnsureDispatch('Excel.Application')\n   ss = xl.Workbooks.Add()\n...\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":231305,"reputation":62840,"user_id":495455,"accept_rate":72,"display_name":"Jeremy Thompson"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1692807246,"creation_date":1506403451,"answer_id":46418403,"question_id":46373895,"body_markdown":"Most programming languages that work with Office products have some middle layer and this is usually where the bottleneck is, a good example is using PIA&#39;s/Interop or Open XML SDK. \r\n\r\nOne way to get the data at a lower level (bypassing the middle layer) is using a Driver.\r\n\r\n&gt; 150MB one-sheet excel file that takes about 7 minutes.\r\n\r\nThe best I could do is a 130MB file in 135 seconds, roughly 3 times faster:\r\n\r\n\r\n    Stopwatch sw = new Stopwatch();\r\n    sw.Start();\r\n\r\n    DataSet excelDataSet = new DataSet();\r\n    \r\n    string filePath = @&quot;c:\\temp\\BigBook.xlsx&quot;;\r\n    \r\n    // For .XLSXs we use =Microsoft.ACE.OLEDB.12.0;, for .XLS we&#39;d use Microsoft.Jet.OLEDB.4.0; with  &quot;&#39;;Extended Properties=\\&quot;Excel 8.0;HDR=YES;\\&quot;&quot;;\r\n    string connectionString = &quot;Provider=Microsoft.ACE.OLEDB.12.0;Data Source=&#39;&quot; + filePath + &quot;&#39;;Extended Properties=\\&quot;Excel 12.0;HDR=YES;\\&quot;&quot;;\r\n    \r\n    using (OleDbConnection conn = new OleDbConnection(connectionString))\r\n    {\r\n        conn.Open();\r\n        OleDbDataAdapter objDA = new System.Data.OleDb.OleDbDataAdapter\r\n        (&quot;select * from [Sheet1$]&quot;, conn);\r\n        objDA.Fill(excelDataSet);\r\n        //dataGridView1.DataSource = excelDataSet.Tables[0];\r\n    }\r\n    sw.Stop();\r\n    Debug.Print(&quot;Load XLSX tool: &quot; + sw.ElapsedMilliseconds + &quot; millisecs. Records = &quot;  + excelDataSet.Tables[0].Rows.Count);\r\n            \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWin 7x64, Intel i5, 2.3ghz, 8GB ram, SSD250GB.\r\n\r\nIf I could recommend a hardware solution as well, try to resolve it with an SSD if you&#39;re using standard HDDs.\r\n\r\n&lt;sub&gt;Note: I can&#39;t download your Excel spreadsheet example as I&#39;m behind a corporate firewall.&lt;/sub&gt;\r\n\r\nPS. See [MSDN - Fastest Way to import xlsx files with 200 MB of Data](https://social.msdn.microsoft.com/Forums/en-US/afcb146e-f102-4738-8da7-17769e893d75/fastest-way-to-import-xlsx-to-datatable-7-files-with-200-mb-of-data?forum=vbgeneral), the *consensus* being OleDB is the fastest. \r\n\r\nPS 2. Here&#39;s how you can do it with Python: \r\n http://code.activestate.com/recipes/440661-read-tabular-data-from-excel-spreadsheets-the-fast/\r\n\r\n  [1]: https://i.stack.imgur.com/10iuT.png","title":"How to open a huge excel file efficiently","body":"<p>Most programming languages that work with Office products have some middle layer and this is usually where the bottleneck is, a good example is using PIA's/Interop or Open XML SDK.</p>\n<p>One way to get the data at a lower level (bypassing the middle layer) is using a Driver.</p>\n<blockquote>\n<p>150MB one-sheet excel file that takes about 7 minutes.</p>\n</blockquote>\n<p>The best I could do is a 130MB file in 135 seconds, roughly 3 times faster:</p>\n<pre><code>Stopwatch sw = new Stopwatch();\nsw.Start();\n\nDataSet excelDataSet = new DataSet();\n\nstring filePath = @&quot;c:\\temp\\BigBook.xlsx&quot;;\n\n// For .XLSXs we use =Microsoft.ACE.OLEDB.12.0;, for .XLS we'd use Microsoft.Jet.OLEDB.4.0; with  &quot;';Extended Properties=\\&quot;Excel 8.0;HDR=YES;\\&quot;&quot;;\nstring connectionString = &quot;Provider=Microsoft.ACE.OLEDB.12.0;Data Source='&quot; + filePath + &quot;';Extended Properties=\\&quot;Excel 12.0;HDR=YES;\\&quot;&quot;;\n\nusing (OleDbConnection conn = new OleDbConnection(connectionString))\n{\n    conn.Open();\n    OleDbDataAdapter objDA = new System.Data.OleDb.OleDbDataAdapter\n    (&quot;select * from [Sheet1$]&quot;, conn);\n    objDA.Fill(excelDataSet);\n    //dataGridView1.DataSource = excelDataSet.Tables[0];\n}\nsw.Stop();\nDebug.Print(&quot;Load XLSX tool: &quot; + sw.ElapsedMilliseconds + &quot; millisecs. Records = &quot;  + excelDataSet.Tables[0].Rows.Count);\n        \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/10iuT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10iuT.png\" alt=\"enter image description here\" /></a></p>\n<p>Win 7x64, Intel i5, 2.3ghz, 8GB ram, SSD250GB.</p>\n<p>If I could recommend a hardware solution as well, try to resolve it with an SSD if you're using standard HDDs.</p>\n<p><sub>Note: I can't download your Excel spreadsheet example as I'm behind a corporate firewall.</sub></p>\n<p>PS. See <a href=\"https://social.msdn.microsoft.com/Forums/en-US/afcb146e-f102-4738-8da7-17769e893d75/fastest-way-to-import-xlsx-to-datatable-7-files-with-200-mb-of-data?forum=vbgeneral\" rel=\"nofollow noreferrer\">MSDN - Fastest Way to import xlsx files with 200 MB of Data</a>, the <em>consensus</em> being OleDB is the fastest.</p>\n<p>PS 2. Here's how you can do it with Python:\n<a href=\"http://code.activestate.com/recipes/440661-read-tabular-data-from-excel-spreadsheets-the-fast/\" rel=\"nofollow noreferrer\">http://code.activestate.com/recipes/440661-read-tabular-data-from-excel-spreadsheets-the-fast/</a></p>\n"},{"comments":[{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506621343,"post_id":46423255,"comment_id":79906016,"body_markdown":"very neat approach, thank you. What do you mean by using `objects` ? Is this a non-string, or what?","body":"very neat approach, thank you. What do you mean by using <code>objects</code> ? Is this a non-string, or what?"},{"owner":{"account_id":3162234,"reputation":14742,"user_id":2673029,"display_name":"Isma"},"score":0,"creation_date":1506623594,"post_id":46423255,"comment_id":79907259,"body_markdown":"No problem , this is fun stuff ;) The value from each cell of the Excel file (which is stored as XML text) is converted to an object according the data type of the cell so you end up having a list of a list of objects. The first list contains each row and each row contains a second list with each cell. This is a bit slower but it will pay off when you want to do something with the data and save it to the database. For example, you could use entity framework bulk import to import all objects at once.","body":"No problem , this is fun stuff ;) The value from each cell of the Excel file (which is stored as XML text) is converted to an object according the data type of the cell so you end up having a list of a list of objects. The first list contains each row and each row contains a second list with each cell. This is a bit slower but it will pay off when you want to do something with the data and save it to the database. For example, you could use entity framework bulk import to import all objects at once."},{"owner":{"account_id":1180262,"reputation":2154,"user_id":1155329,"accept_rate":75,"display_name":"MineR"},"score":1,"creation_date":1506760304,"post_id":46423255,"comment_id":79956202,"body_markdown":"This is likely the fastest possible, without unzipping and parsing the XML manually, which will be a lot of code, and difficult to maintain.","body":"This is likely the fastest possible, without unzipping and parsing the XML manually, which will be a lot of code, and difficult to maintain."},{"owner":{"account_id":3162234,"reputation":14742,"user_id":2673029,"display_name":"Isma"},"score":0,"creation_date":1506763556,"post_id":46423255,"comment_id":79957009,"body_markdown":"I think so too, yet people seem to be leaning towards the OleDb solution which is at least 50% slower and IMHO less clean.","body":"I think so too, yet people seem to be leaning towards the OleDb solution which is at least 50% slower and IMHO less clean."},{"owner":{"account_id":480433,"reputation":16720,"user_id":893670,"display_name":"Kul-Tigin"},"score":0,"creation_date":1506769105,"post_id":46423255,"comment_id":79958222,"body_markdown":"@Isma `case CellValues.Date:` is Office 2010 only data type. Casual dates stored as shared string with a correspoing double value to convert an OADate with 1900 or 1904 epoch, no data type present for cells. Phew. You&#39;ll need to check StyleIndex of the cells to format date or number (or percent etc..) So there&#39;s a lot work in fact.","body":"@Isma <code>case CellValues.Date:</code> is Office 2010 only data type. Casual dates stored as shared string with a correspoing double value to convert an OADate with 1900 or 1904 epoch, no data type present for cells. Phew. You&#39;ll need to check StyleIndex of the cells to format date or number (or percent etc..) So there&#39;s a lot work in fact."},{"owner":{"account_id":480433,"reputation":16720,"user_id":893670,"display_name":"Kul-Tigin"},"score":0,"creation_date":1506773499,"post_id":46423255,"comment_id":79959335,"body_markdown":"@Isma one last thing. Empty cells are not present in the xml document, you also need to handle this. Looking cell references in the loop would help to detect missing ones (jumping cell A1 to D1 gives a clue), so you can add empty items to your `cells` list. Eventually this is not a format easy to handle. There are too many tricky parts like these.","body":"@Isma one last thing. Empty cells are not present in the xml document, you also need to handle this. Looking cell references in the loop would help to detect missing ones (jumping cell A1 to D1 gives a clue), so you can add empty items to your <code>cells</code> list. Eventually this is not a format easy to handle. There are too many tricky parts like these."}],"tags":[],"owner":{"account_id":3162234,"reputation":14742,"user_id":2673029,"display_name":"Isma"},"comment_count":6,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1506977009,"creation_date":1506419737,"answer_id":46423255,"question_id":46373895,"body_markdown":"I managed to read the file in about 30 seconds using .NET core and the Open XML SDK.\r\n\r\nThe following example returns a list of objects containing all rows and cells with the matching types, it supports date, numeric and text cells. The project is available here: https://github.com/xferaa/BigSpreadSheetExample/ (Should work on Windows, Linux and Mac OS and does not require Excel or any Excel component to be installed).\r\n\r\n    public List&lt;List&lt;object&gt;&gt; ParseSpreadSheet()\r\n    {\r\n        List&lt;List&lt;object&gt;&gt; rows = new List&lt;List&lt;object&gt;&gt;();\r\n    \r\n        using (SpreadsheetDocument spreadsheetDocument = SpreadsheetDocument.Open(filePath, false))\r\n        {\r\n            WorkbookPart workbookPart = spreadsheetDocument.WorkbookPart;\r\n            WorksheetPart worksheetPart = workbookPart.WorksheetParts.First();\r\n    \r\n            OpenXmlReader reader = OpenXmlReader.Create(worksheetPart);\r\n    \r\n            Dictionary&lt;int, string&gt; sharedStringCache = new Dictionary&lt;int, string&gt;();\r\n    \r\n            int i = 0;\r\n            foreach (var el in workbookPart.SharedStringTablePart.SharedStringTable.ChildElements)\r\n            {\r\n                sharedStringCache.Add(i++, el.InnerText);\r\n            }\r\n    \r\n            while (reader.Read())\r\n            {\r\n                if(reader.ElementType == typeof(Row))\r\n                {\r\n                    reader.ReadFirstChild();\r\n    \r\n                    List&lt;object&gt; cells = new List&lt;object&gt;();\r\n    \r\n                    do\r\n                    {\r\n                        if (reader.ElementType == typeof(Cell))\r\n                        {\r\n                            Cell c = (Cell)reader.LoadCurrentElement();\r\n    \r\n                            if (c == null || c.DataType == null || !c.DataType.HasValue)\r\n                                continue;\r\n    \r\n                            object value;\r\n    \r\n                            switch(c.DataType.Value)\r\n                            {\r\n                                case CellValues.Boolean:\r\n                                    value = bool.Parse(c.CellValue.InnerText);\r\n                                    break;\r\n                                case CellValues.Date:\r\n                                    value = DateTime.Parse(c.CellValue.InnerText);\r\n                                    break;\r\n                                case CellValues.Number:\r\n                                    value = double.Parse(c.CellValue.InnerText);\r\n                                    break;\r\n                                case CellValues.InlineString:\r\n                                case CellValues.String:\r\n                                    value = c.CellValue.InnerText;\r\n                                    break;\r\n                                case CellValues.SharedString:\r\n                                    value = sharedStringCache[int.Parse(c.CellValue.InnerText)];\r\n                                    break;\r\n                                default:\r\n                                    continue;\r\n                            }\r\n    \r\n                            if (value != null)\r\n                                cells.Add(value);\r\n                        }\r\n    \r\n                    } while (reader.ReadNextSibling());\r\n    \r\n                    if (cells.Any())\r\n                        rows.Add(cells);\r\n                }\r\n            }\r\n        }\r\n    \r\n        return rows;\r\n    }\r\n\r\nI ran the program in a three year old Laptop with a SSD drive, 8GB of RAM and an Intel Core i7-4710 CPU @ 2.50GHz (two cores) on Windows 10 64 bits.\r\n\r\nNote that although opening and parsing the whole file as strings takes a bit less than 30 seconds, when using objects as in the example of my last edit, the time goes up to almost 50 seconds with my crappy laptop. You will probably get closer to 30 seconds in your server with Linux.\r\n\r\nThe trick was to use the SAX approach as explained here: \r\n\r\nhttps://msdn.microsoft.com/en-us/library/office/gg575571.aspx\r\n","title":"How to open a huge excel file efficiently","body":"<p>I managed to read the file in about 30 seconds using .NET core and the Open XML SDK.</p>\n\n<p>The following example returns a list of objects containing all rows and cells with the matching types, it supports date, numeric and text cells. The project is available here: <a href=\"https://github.com/xferaa/BigSpreadSheetExample/\" rel=\"nofollow noreferrer\">https://github.com/xferaa/BigSpreadSheetExample/</a> (Should work on Windows, Linux and Mac OS and does not require Excel or any Excel component to be installed).</p>\n\n<pre><code>public List&lt;List&lt;object&gt;&gt; ParseSpreadSheet()\n{\n    List&lt;List&lt;object&gt;&gt; rows = new List&lt;List&lt;object&gt;&gt;();\n\n    using (SpreadsheetDocument spreadsheetDocument = SpreadsheetDocument.Open(filePath, false))\n    {\n        WorkbookPart workbookPart = spreadsheetDocument.WorkbookPart;\n        WorksheetPart worksheetPart = workbookPart.WorksheetParts.First();\n\n        OpenXmlReader reader = OpenXmlReader.Create(worksheetPart);\n\n        Dictionary&lt;int, string&gt; sharedStringCache = new Dictionary&lt;int, string&gt;();\n\n        int i = 0;\n        foreach (var el in workbookPart.SharedStringTablePart.SharedStringTable.ChildElements)\n        {\n            sharedStringCache.Add(i++, el.InnerText);\n        }\n\n        while (reader.Read())\n        {\n            if(reader.ElementType == typeof(Row))\n            {\n                reader.ReadFirstChild();\n\n                List&lt;object&gt; cells = new List&lt;object&gt;();\n\n                do\n                {\n                    if (reader.ElementType == typeof(Cell))\n                    {\n                        Cell c = (Cell)reader.LoadCurrentElement();\n\n                        if (c == null || c.DataType == null || !c.DataType.HasValue)\n                            continue;\n\n                        object value;\n\n                        switch(c.DataType.Value)\n                        {\n                            case CellValues.Boolean:\n                                value = bool.Parse(c.CellValue.InnerText);\n                                break;\n                            case CellValues.Date:\n                                value = DateTime.Parse(c.CellValue.InnerText);\n                                break;\n                            case CellValues.Number:\n                                value = double.Parse(c.CellValue.InnerText);\n                                break;\n                            case CellValues.InlineString:\n                            case CellValues.String:\n                                value = c.CellValue.InnerText;\n                                break;\n                            case CellValues.SharedString:\n                                value = sharedStringCache[int.Parse(c.CellValue.InnerText)];\n                                break;\n                            default:\n                                continue;\n                        }\n\n                        if (value != null)\n                            cells.Add(value);\n                    }\n\n                } while (reader.ReadNextSibling());\n\n                if (cells.Any())\n                    rows.Add(cells);\n            }\n        }\n    }\n\n    return rows;\n}\n</code></pre>\n\n<p>I ran the program in a three year old Laptop with a SSD drive, 8GB of RAM and an Intel Core i7-4710 CPU @ 2.50GHz (two cores) on Windows 10 64 bits.</p>\n\n<p>Note that although opening and parsing the whole file as strings takes a bit less than 30 seconds, when using objects as in the example of my last edit, the time goes up to almost 50 seconds with my crappy laptop. You will probably get closer to 30 seconds in your server with Linux.</p>\n\n<p>The trick was to use the SAX approach as explained here: </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/office/gg575571.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/office/gg575571.aspx</a></p>\n"},{"comments":[{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506453983,"post_id":46425826,"comment_id":79825920,"body_markdown":"Thanks for this answer -- could you time it with the sample excel file and see how it performs?","body":"Thanks for this answer -- could you time it with the sample excel file and see how it performs?"},{"owner":{"account_id":6433441,"reputation":46061,"user_id":4985733,"accept_rate":100,"display_name":"Martin Evans"},"score":1,"creation_date":1506459250,"post_id":46425826,"comment_id":79828476,"body_markdown":"Running it on my machine gives ~60s. In comparison, I get 7m30s using just `xlrd`.","body":"Running it on my machine gives ~60s. In comparison, I get 7m30s using just <code>xlrd</code>."},{"owner":{"account_id":5527944,"reputation":4145,"user_id":4388883,"accept_rate":100,"display_name":"ian0411"},"score":1,"creation_date":1506619916,"post_id":46425826,"comment_id":79905214,"body_markdown":"Use Python Pandas is a superb way to convert Excel to CSV.  However, I was able to save more than 30 extra seconds with my slow computer (148s down to 113s, https://i.stack.imgur.com/EzbvR.jpg) with running VBScript in Python.  But OP may not like it so just leave this in the comment.","body":"Use Python Pandas is a superb way to convert Excel to CSV.  However, I was able to save more than 30 extra seconds with my slow computer (148s down to 113s, <a href=\"https://i.stack.imgur.com/EzbvR.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/EzbvR.jpg</a>) with running VBScript in Python.  But OP may not like it so just leave this in the comment."}],"tags":[],"owner":{"account_id":6433441,"reputation":46061,"user_id":4985733,"accept_rate":100,"display_name":"Martin Evans"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506977752,"creation_date":1506426881,"answer_id":46425826,"question_id":46373895,"body_markdown":"Python&#39;s Pandas library could be used to hold and process your data, but using it to directly load the `.xlsx` file will be quite slow, e.g. using [`read_excel()`](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html?highlight=read_excel#pandas-read-excel).\r\n\r\nOne approach would be to use Python to automate the conversion of your file into CSV using Excel itself and to then use Pandas to load the resulting CSV file using [`read_csv()`](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html#pandas-read-csv). This will give you a good speed up, but not under 30 seconds:\r\n\r\n    import win32com.client as win32        \r\n    import pandas as pd    \r\n    from datetime import datetime    \r\n    \r\n    print (&quot;Starting&quot;)\r\n    start = datetime.now()\r\n    \r\n    # Use Excel to load the xlsx file and save it in csv format\r\n    excel = win32.gencache.EnsureDispatch(&#39;Excel.Application&#39;)\r\n    wb = excel.Workbooks.Open(r&#39;c:\\full path\\BigSpreadsheet.xlsx&#39;)\r\n    excel.DisplayAlerts = False\r\n    wb.DoNotPromptForConvert = True\r\n    wb.CheckCompatibility = False\r\n\r\n    print(&#39;Saving&#39;)\r\n    wb.SaveAs(r&#39;c:\\full path\\temp.csv&#39;, FileFormat=6, ConflictResolution=2) \r\n    excel.Application.Quit()\r\n\r\n    # Use Pandas to load the resulting CSV file\r\n    print(&#39;Loading CSV&#39;)\r\n    df = pd.read_csv(r&#39;c:\\full path\\temp.csv&#39;, dtype=str)\r\n\r\n    print(df.shape)\r\n    print(&quot;Done&quot;, datetime.now() - start)\r\n\r\n**Column types**  \r\nThe types for your columns can be specified by passing `dtype` and `converters` and `parse_dates`:\r\n\r\n    df = pd.read_csv(r&#39;c:\\full path\\temp.csv&#39;, dtype=str, converters={10:int}, parse_dates=[8], infer_datetime_format=True)\r\n\r\nYou should also specify `infer_datetime_format=True`, as this will greatly speed up the date conversion.\r\n\r\n&gt; `nfer_datetime_format` : boolean, default False\r\n&gt; \r\n&gt; If True and parse_dates is enabled, pandas will attempt to infer the format of the datetime strings in the columns, and if it can be\r\n&gt; inferred, switch to a faster method of parsing them. In some cases\r\n&gt; this can increase the parsing speed by 5-10x.\r\n\r\nAlso add `dayfirst=True` if dates are in the form `DD/MM/YYYY`.\r\n\r\n**Selective columns**  \r\nIf you actually only need to work on columns `1 9 11`, then you could further reduce resources by specifying `usecols=[0, 8, 10]` as follows:\r\n\r\n    df = pd.read_csv(r&#39;c:\\full path\\temp.csv&#39;, dtype=str, converters={10:int}, parse_dates=[1], dayfirst=True, infer_datetime_format=True, usecols=[0, 8, 10])\r\n\r\nThe resulting dataframe would then only contain those 3 columns of data.\r\n\r\n**RAM drive**  \r\nUsing a RAM drive to store the temporary CSV file to would further speed up the load time.\r\n\r\nNote: This does assume you are using a Windows PC with Excel available.","title":"How to open a huge excel file efficiently","body":"<p>Python's Pandas library could be used to hold and process your data, but using it to directly load the <code>.xlsx</code> file will be quite slow, e.g. using <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html?highlight=read_excel#pandas-read-excel\" rel=\"nofollow noreferrer\"><code>read_excel()</code></a>.</p>\n\n<p>One approach would be to use Python to automate the conversion of your file into CSV using Excel itself and to then use Pandas to load the resulting CSV file using <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html#pandas-read-csv\" rel=\"nofollow noreferrer\"><code>read_csv()</code></a>. This will give you a good speed up, but not under 30 seconds:</p>\n\n<pre><code>import win32com.client as win32        \nimport pandas as pd    \nfrom datetime import datetime    \n\nprint (\"Starting\")\nstart = datetime.now()\n\n# Use Excel to load the xlsx file and save it in csv format\nexcel = win32.gencache.EnsureDispatch('Excel.Application')\nwb = excel.Workbooks.Open(r'c:\\full path\\BigSpreadsheet.xlsx')\nexcel.DisplayAlerts = False\nwb.DoNotPromptForConvert = True\nwb.CheckCompatibility = False\n\nprint('Saving')\nwb.SaveAs(r'c:\\full path\\temp.csv', FileFormat=6, ConflictResolution=2) \nexcel.Application.Quit()\n\n# Use Pandas to load the resulting CSV file\nprint('Loading CSV')\ndf = pd.read_csv(r'c:\\full path\\temp.csv', dtype=str)\n\nprint(df.shape)\nprint(\"Done\", datetime.now() - start)\n</code></pre>\n\n<p><strong>Column types</strong><br>\nThe types for your columns can be specified by passing <code>dtype</code> and <code>converters</code> and <code>parse_dates</code>:</p>\n\n<pre><code>df = pd.read_csv(r'c:\\full path\\temp.csv', dtype=str, converters={10:int}, parse_dates=[8], infer_datetime_format=True)\n</code></pre>\n\n<p>You should also specify <code>infer_datetime_format=True</code>, as this will greatly speed up the date conversion.</p>\n\n<blockquote>\n  <p><code>nfer_datetime_format</code> : boolean, default False</p>\n  \n  <p>If True and parse_dates is enabled, pandas will attempt to infer the format of the datetime strings in the columns, and if it can be\n  inferred, switch to a faster method of parsing them. In some cases\n  this can increase the parsing speed by 5-10x.</p>\n</blockquote>\n\n<p>Also add <code>dayfirst=True</code> if dates are in the form <code>DD/MM/YYYY</code>.</p>\n\n<p><strong>Selective columns</strong><br>\nIf you actually only need to work on columns <code>1 9 11</code>, then you could further reduce resources by specifying <code>usecols=[0, 8, 10]</code> as follows:</p>\n\n<pre><code>df = pd.read_csv(r'c:\\full path\\temp.csv', dtype=str, converters={10:int}, parse_dates=[1], dayfirst=True, infer_datetime_format=True, usecols=[0, 8, 10])\n</code></pre>\n\n<p>The resulting dataframe would then only contain those 3 columns of data.</p>\n\n<p><strong>RAM drive</strong><br>\nUsing a RAM drive to store the temporary CSV file to would further speed up the load time.</p>\n\n<p>Note: This does assume you are using a Windows PC with Excel available.</p>\n"},{"comments":[{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506453840,"post_id":46434061,"comment_id":79825864,"body_markdown":"Thanks, I&#39;ll test this out -- want to put the GitHub code for the main file, Launcher.java, in the answer itself? I think that might be more helpful for future people that may want to view it.","body":"Thanks, I&#39;ll test this out -- want to put the GitHub code for the main file, Launcher.java, in the answer itself? I think that might be more helpful for future people that may want to view it."},{"owner":{"account_id":11822797,"reputation":751,"user_id":8651469,"display_name":"devsaki"},"score":0,"creation_date":1506460905,"post_id":46434061,"comment_id":79829197,"body_markdown":"Well, I check what happens when the cell is not a string and the code is not going to work, but implementing that features is not hard (only check what the attribute t is in c tag. &quot;s&quot; =&gt; string). The cell styles shouldn&#39;t break the code.","body":"Well, I check what happens when the cell is not a string and the code is not going to work, but implementing that features is not hard (only check what the attribute t is in c tag. &quot;s&quot; =&gt; string). The cell styles shouldn&#39;t break the code."},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506461304,"post_id":46434061,"comment_id":79829388,"body_markdown":"got it -- I would think the three types we&#39;ll need are (1) string; (2) number; and (3) date. I know Excel stores a date as a number but we&#39;d need to be able to know that a cell is a date somehow. What does the timing take allowing (2) and (3)?","body":"got it -- I would think the three types we&#39;ll need are (1) string; (2) number; and (3) date. I know Excel stores a date as a number but we&#39;d need to be able to know that a cell is a date somehow. What does the timing take allowing (2) and (3)?"},{"owner":{"account_id":11822797,"reputation":751,"user_id":8651469,"display_name":"devsaki"},"score":0,"creation_date":1506468063,"post_id":46434061,"comment_id":79831201,"body_markdown":"Ok, I added suppport to date and numbers","body":"Ok, I added suppport to date and numbers"},{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506470167,"post_id":46434061,"comment_id":79831729,"body_markdown":"great, I&#39;ll also update the question/file so that it includes numeric and date fields so that it can be tested easily.","body":"great, I&#39;ll also update the question/file so that it includes numeric and date fields so that it can be tested easily."},{"owner":{"account_id":11822797,"reputation":751,"user_id":8651469,"display_name":"devsaki"},"score":0,"creation_date":1506482903,"post_id":46434061,"comment_id":79834466,"body_markdown":"The updated file doesn&#39;t have dates. But I already updated my answer supporting numbers and date types, didn&#39;t work? I tested with your new file and it&#39;s working here.","body":"The updated file doesn&#39;t have dates. But I already updated my answer supporting numbers and date types, didn&#39;t work? I tested with your new file and it&#39;s working here."},{"owner":{"account_id":11822797,"reputation":751,"user_id":8651469,"display_name":"devsaki"},"score":0,"creation_date":1506988795,"post_id":46434061,"comment_id":80025304,"body_markdown":"I added another solution, it takes less time, but it needs a lot of heap memory.","body":"I added another solution, it takes less time, but it needs a lot of heap memory."}],"tags":[],"owner":{"account_id":11822797,"reputation":751,"user_id":8651469,"display_name":"devsaki"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1506988439,"creation_date":1506452862,"answer_id":46434061,"question_id":46373895,"body_markdown":"Well, if your excel is going to be as simple as a CSV file like your example (https://drive.google.com/file/d/0B_CXvCTOo7_2UVZxbnpRaEVnaFk/view?usp=sharing), you can try to open the file as a zip file and read directly every xml:\r\n\r\nIntel i5 4460, 12 GB RAM, SSD Samsung EVO PRO.\r\n\r\n**If you have a lot of memory ram:**\r\nThis code needs a lot of ram, but it takes 20~25 seconds. (You need the parameter -Xmx7g)\r\n\r\n    package com.devsaki.opensimpleexcel;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.nio.charset.Charset;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.zip.ZipFile;\r\n\r\n    public class Multithread {\r\n\r\n        public static final char CHAR_END = (char) -1;\r\n\r\n        public static void main(String[] args) throws IOException, ExecutionException, InterruptedException {\r\n            String excelFile = &quot;C:/Downloads/BigSpreadsheetAllTypes.xlsx&quot;;\r\n            ZipFile zipFile = new ZipFile(excelFile);\r\n            long init = System.currentTimeMillis();\r\n            ExecutorService executor = Executors.newFixedThreadPool(4);\r\n            char[] sheet1 = readEntry(zipFile, &quot;xl/worksheets/sheet1.xml&quot;).toCharArray();\r\n            Future&lt;Object[][]&gt; futureSheet1 = executor.submit(() -&gt; processSheet1(new CharReader(sheet1), executor));\r\n            char[] sharedString = readEntry(zipFile, &quot;xl/sharedStrings.xml&quot;).toCharArray();\r\n            Future&lt;String[]&gt; futureWords = executor.submit(() -&gt; processSharedStrings(new CharReader(sharedString)));\r\n\r\n            Object[][] sheet = futureSheet1.get();\r\n            String[] words = futureWords.get();\r\n\r\n            executor.shutdown();\r\n\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;only read: &quot; + (end - init) / 1000);\r\n\r\n            ///Doing somethin with the file::Saving as csv\r\n            init = System.currentTimeMillis();\r\n            try (PrintWriter writer = new PrintWriter(excelFile + &quot;.csv&quot;, &quot;UTF-8&quot;);) {\r\n                for (Object[] rows : sheet) {\r\n                    for (Object cell : rows) {\r\n                        if (cell != null) {\r\n                            if (cell instanceof Integer) {\r\n                                writer.append(words[(Integer) cell]);\r\n                            } else if (cell instanceof String) {\r\n                                writer.append(toDate(Double.parseDouble(cell.toString())));\r\n                            } else {\r\n                                writer.append(cell.toString()); //Probably a number\r\n                            }\r\n                        }\r\n                        writer.append(&quot;;&quot;);\r\n                    }\r\n                    writer.append(&quot;\\n&quot;);\r\n                }\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;Main saving to csv: &quot; + (end - init) / 1000);\r\n        }\r\n\r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\r\n        private static final LocalDateTime INIT_DATE = LocalDateTime.parse(&quot;1900-01-01T00:00:00+00:00&quot;, formatter).plusDays(-2);\r\n\r\n        //The number in excel is from 1900-jan-1, so every number time that you get, you have to sum to that date\r\n        public static String toDate(double s) {\r\n            return formatter.format(INIT_DATE.plusSeconds((long) ((s*24*3600))));\r\n        }\r\n\r\n        public static String readEntry(ZipFile zipFile, String entry) throws IOException {\r\n            System.out.println(&quot;Initialing readEntry &quot; + entry);\r\n            long init = System.currentTimeMillis();\r\n            String result = null;\r\n\r\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(zipFile.getInputStream(zipFile.getEntry(entry)), Charset.forName(&quot;UTF-8&quot;)))) {\r\n                br.readLine();\r\n                result = br.readLine();\r\n            }\r\n\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;readEntry &#39;&quot; + entry + &quot;&#39;: &quot; + (end - init) / 1000);\r\n            return result;\r\n        }\r\n\r\n\r\n        public static String[] processSharedStrings(CharReader br) throws IOException {\r\n            System.out.println(&quot;Initialing processSharedStrings&quot;);\r\n            long init = System.currentTimeMillis();\r\n            String[] words = null;\r\n            char[] wordCount = &quot;Count=\\&quot;&quot;.toCharArray();\r\n            char[] token = &quot;&lt;t&gt;&quot;.toCharArray();\r\n            String uniqueCount = extractNextValue(br, wordCount, &#39;&quot;&#39;);\r\n            words = new String[Integer.parseInt(uniqueCount)];\r\n            String nextWord;\r\n            int currentIndex = 0;\r\n            while ((nextWord = extractNextValue(br, token, &#39;&lt;&#39;)) != null) {\r\n                words[currentIndex++] = nextWord;\r\n                br.skip(11); //you can skip at least 11 chars &quot;/t&gt;&lt;/si&gt;&lt;si&gt;&quot;\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;SharedStrings: &quot; + (end - init) / 1000);\r\n            return words;\r\n        }\r\n\r\n\r\n        public static Object[][] processSheet1(CharReader br, ExecutorService executorService) throws IOException, ExecutionException, InterruptedException {\r\n            System.out.println(&quot;Initialing processSheet1&quot;);\r\n            long init = System.currentTimeMillis();\r\n            char[] dimensionToken = &quot;dimension ref=\\&quot;&quot;.toCharArray();\r\n            String dimension = extractNextValue(br, dimensionToken, &#39;&quot;&#39;);\r\n            int[] sizes = extractSizeFromDimention(dimension.split(&quot;:&quot;)[1]);\r\n            br.skip(30); //Between dimension and next tag c exists more or less 30 chars\r\n            Object[][] result = new Object[sizes[0]][sizes[1]];\r\n\r\n            int parallelProcess = 8;\r\n            int currentIndex = br.currentIndex;\r\n            CharReader[] charReaders = new CharReader[parallelProcess];\r\n            int totalChars = Math.round(br.chars.length / parallelProcess);\r\n            for (int i = 0; i &lt; parallelProcess; i++) {\r\n                int endIndex = currentIndex + totalChars;\r\n                charReaders[i] = new CharReader(br.chars, currentIndex, endIndex, i);\r\n                currentIndex = endIndex;\r\n            }\r\n            Future[] futures = new Future[parallelProcess];\r\n            for (int i = charReaders.length - 1; i &gt;= 0; i--) {\r\n                final int j = i;\r\n                futures[i] = executorService.submit(() -&gt; inParallelProcess(charReaders[j], j == 0 ? null : charReaders[j - 1], result));\r\n            }\r\n            for (Future future : futures) {\r\n                future.get();\r\n            }\r\n\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;Sheet1: &quot; + (end - init) / 1000);\r\n            return result;\r\n        }\r\n\r\n        public static void inParallelProcess(CharReader br, CharReader back, Object[][] result) {\r\n            System.out.println(&quot;Initialing inParallelProcess : &quot; + br.identifier);\r\n\r\n            char[] tokenOpenC = &quot;&lt;c r=\\&quot;&quot;.toCharArray();\r\n            char[] tokenOpenV = &quot;&lt;v&gt;&quot;.toCharArray();\r\n\r\n            char[] tokenAttributS = &quot; s=\\&quot;&quot;.toCharArray();\r\n            char[] tokenAttributT = &quot; t=\\&quot;&quot;.toCharArray();\r\n\r\n            String v;\r\n            int firstCurrentIndex = br.currentIndex;\r\n            boolean first = true;\r\n\r\n            while ((v = extractNextValue(br, tokenOpenC, &#39;&quot;&#39;)) != null) {\r\n                if (first &amp;&amp; back != null) {\r\n                    int sum = br.currentIndex - firstCurrentIndex - tokenOpenC.length - v.length() - 1;\r\n                    first = false;\r\n                    System.out.println(&quot;Adding to : &quot; + back.identifier + &quot; From : &quot; + br.identifier);\r\n                    back.plusLength(sum);\r\n                }\r\n                int[] indexes = extractSizeFromDimention(v);\r\n\r\n                int s = foundNextTokens(br, &#39;&gt;&#39;, tokenAttributS, tokenAttributT);\r\n                char type = &#39;s&#39;; //3 types: number (n), string (s) and date (d)\r\n                if (s == 0) { // Token S = number or date\r\n                    char read = br.read();\r\n                    if (read == &#39;1&#39;) {\r\n                        type = &#39;n&#39;;\r\n                    } else {\r\n                        type = &#39;d&#39;;\r\n                    }\r\n                } else if (s == -1) {\r\n                    type = &#39;n&#39;;\r\n                }\r\n                String c = extractNextValue(br, tokenOpenV, &#39;&lt;&#39;);\r\n                Object value = null;\r\n                switch (type) {\r\n                    case &#39;n&#39;:\r\n                        value = Double.parseDouble(c);\r\n                        break;\r\n                    case &#39;s&#39;:\r\n                        try {\r\n                            value = Integer.parseInt(c);\r\n                        } catch (Exception ex) {\r\n                            System.out.println(&quot;Identifier Error : &quot; + br.identifier);\r\n                        }\r\n                        break;\r\n                    case &#39;d&#39;:\r\n                        value = c.toString();\r\n                        break;\r\n                }\r\n                result[indexes[0] - 1][indexes[1] - 1] = value;\r\n                br.skip(7); ///v&gt;&lt;/c&gt;\r\n            }\r\n        }\r\n\r\n        static class CharReader {\r\n            char[] chars;\r\n            int currentIndex;\r\n            int length;\r\n\r\n            int identifier;\r\n\r\n            public CharReader(char[] chars) {\r\n                this.chars = chars;\r\n                this.length = chars.length;\r\n            }\r\n\r\n            public CharReader(char[] chars, int currentIndex, int length, int identifier) {\r\n                this.chars = chars;\r\n                this.currentIndex = currentIndex;\r\n                if (length &gt; chars.length) {\r\n                    this.length = chars.length;\r\n                } else {\r\n                    this.length = length;\r\n                }\r\n                this.identifier = identifier;\r\n            }\r\n\r\n            public void plusLength(int n) {\r\n                if (this.length + n &lt;= chars.length) {\r\n                    this.length += n;\r\n                }\r\n            }\r\n\r\n            public char read() {\r\n                if (currentIndex &gt;= length) {\r\n                    return CHAR_END;\r\n                }\r\n                return chars[currentIndex++];\r\n            }\r\n\r\n            public void skip(int n) {\r\n                currentIndex += n;\r\n            }\r\n        }\r\n\r\n\r\n        public static int[] extractSizeFromDimention(String dimention) {\r\n            StringBuilder sb = new StringBuilder();\r\n            int columns = 0;\r\n            int rows = 0;\r\n            for (char c : dimention.toCharArray()) {\r\n                if (columns == 0) {\r\n                    if (Character.isDigit(c)) {\r\n                        columns = convertExcelIndex(sb.toString());\r\n                        sb = new StringBuilder();\r\n                    }\r\n                }\r\n                sb.append(c);\r\n            }\r\n            rows = Integer.parseInt(sb.toString());\r\n            return new int[]{rows, columns};\r\n        }\r\n\r\n        public static int foundNextTokens(CharReader br, char until, char[]... tokens) {\r\n            char character;\r\n            int[] indexes = new int[tokens.length];\r\n            while ((character = br.read()) != CHAR_END) {\r\n                if (character == until) {\r\n                    break;\r\n                }\r\n                for (int i = 0; i &lt; indexes.length; i++) {\r\n                    if (tokens[i][indexes[i]] == character) {\r\n                        indexes[i]++;\r\n                        if (indexes[i] == tokens[i].length) {\r\n                            return i;\r\n                        }\r\n                    } else {\r\n                        indexes[i] = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return -1;\r\n        }\r\n\r\n        public static String extractNextValue(CharReader br, char[] token, char until) {\r\n            char character;\r\n            StringBuilder sb = new StringBuilder();\r\n            int index = 0;\r\n\r\n            while ((character = br.read()) != CHAR_END) {\r\n                if (index == token.length) {\r\n                    if (character == until) {\r\n                        return sb.toString();\r\n                    } else {\r\n                        sb.append(character);\r\n                    }\r\n                } else {\r\n                    if (token[index] == character) {\r\n                        index++;\r\n                    } else {\r\n                        index = 0;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        public static int convertExcelIndex(String index) {\r\n            int result = 0;\r\n            for (char c : index.toCharArray()) {\r\n                result = result * 26 + ((int) c - (int) &#39;A&#39; + 1);\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\n**Old answer (Not need the parameter Xms7g, so take less memory):**\r\nIt takes to open and read the example file about 35 seconds (200MB) with an HDD, with SDD takes a little less (30 seconds).\r\n\r\nHere the code:\r\nhttps://github.com/csaki/OpenSimpleExcelFast.git\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.nio.charset.Charset;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.zip.ZipFile;\r\n\r\n    public class Launcher {\r\n\r\n        public static final char CHAR_END = (char) -1;\r\n\r\n        public static void main(String[] args) throws IOException, ExecutionException, InterruptedException {\r\n            long init = System.currentTimeMillis();\r\n            String excelFile = &quot;D:/Downloads/BigSpreadsheet.xlsx&quot;;\r\n            ZipFile zipFile = new ZipFile(excelFile);\r\n\r\n            ExecutorService executor = Executors.newFixedThreadPool(4);\r\n            Future&lt;String[]&gt; futureWords = executor.submit(() -&gt; processSharedStrings(zipFile));\r\n            Future&lt;Object[][]&gt; futureSheet1 = executor.submit(() -&gt; processSheet1(zipFile));\r\n            String[] words = futureWords.get();\r\n            Object[][] sheet1 = futureSheet1.get();\r\n            executor.shutdown();\r\n\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;Main only open and read: &quot; + (end - init) / 1000);\r\n\r\n\r\n            ///Doing somethin with the file::Saving as csv\r\n            init = System.currentTimeMillis();\r\n            try (PrintWriter writer = new PrintWriter(excelFile + &quot;.csv&quot;, &quot;UTF-8&quot;);) {\r\n                for (Object[] rows : sheet1) {\r\n                    for (Object cell : rows) {\r\n                        if (cell != null) {\r\n                            if (cell instanceof Integer) {\r\n                                writer.append(words[(Integer) cell]);\r\n                            } else if (cell instanceof String) {\r\n                                writer.append(toDate(Double.parseDouble(cell.toString())));\r\n                            } else {\r\n                                writer.append(cell.toString()); //Probably a number\r\n                            }\r\n                        }\r\n                        writer.append(&quot;;&quot;);\r\n                    }\r\n                    writer.append(&quot;\\n&quot;);\r\n                }\r\n            }\r\n            end = System.currentTimeMillis();\r\n            System.out.println(&quot;Main saving to csv: &quot; + (end - init) / 1000);\r\n        }\r\n\r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\r\n        private static final LocalDateTime INIT_DATE = LocalDateTime.parse(&quot;1900-01-01T00:00:00+00:00&quot;, formatter).plusDays(-2);\r\n\r\n        //The number in excel is from 1900-jan-1, so every number time that you get, you have to sum to that date\r\n        public static String toDate(double s) {\r\n            return formatter.format(INIT_DATE.plusSeconds((long) ((s*24*3600))));\r\n        }\r\n\r\n        public static Object[][] processSheet1(ZipFile zipFile) throws IOException {\r\n            String entry = &quot;xl/worksheets/sheet1.xml&quot;;\r\n            Object[][] result = null;\r\n            char[] dimensionToken = &quot;dimension ref=\\&quot;&quot;.toCharArray();\r\n            char[] tokenOpenC = &quot;&lt;c r=\\&quot;&quot;.toCharArray();\r\n            char[] tokenOpenV = &quot;&lt;v&gt;&quot;.toCharArray();\r\n\r\n            char[] tokenAttributS = &quot; s=\\&quot;&quot;.toCharArray();\r\n            char[] tokenAttributT = &quot; t=\\&quot;&quot;.toCharArray();\r\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(zipFile.getInputStream(zipFile.getEntry(entry)), Charset.forName(&quot;UTF-8&quot;)))) {\r\n                String dimension = extractNextValue(br, dimensionToken, &#39;&quot;&#39;);\r\n                int[] sizes = extractSizeFromDimention(dimension.split(&quot;:&quot;)[1]);\r\n                br.skip(30); //Between dimension and next tag c exists more or less 30 chars\r\n                result = new Object[sizes[0]][sizes[1]];\r\n                String v;\r\n                while ((v = extractNextValue(br, tokenOpenC, &#39;&quot;&#39;)) != null) {\r\n                    int[] indexes = extractSizeFromDimention(v);\r\n\r\n                    int s = foundNextTokens(br, &#39;&gt;&#39;, tokenAttributS, tokenAttributT);\r\n                    char type = &#39;s&#39;; //3 types: number (n), string (s) and date (d)\r\n                    if (s == 0) { // Token S = number or date\r\n                        char read = (char) br.read();\r\n                        if (read == &#39;1&#39;) {\r\n                            type = &#39;n&#39;;\r\n                        } else {\r\n                            type = &#39;d&#39;;\r\n                        }\r\n                    } else if (s == -1) {\r\n                        type = &#39;n&#39;;\r\n                    }\r\n                    String c = extractNextValue(br, tokenOpenV, &#39;&lt;&#39;);\r\n                    Object value = null;\r\n                    switch (type) {\r\n                        case &#39;n&#39;:\r\n                            value = Double.parseDouble(c);\r\n                            break;\r\n                        case &#39;s&#39;:\r\n                            value = Integer.parseInt(c);\r\n                            break;\r\n                        case &#39;d&#39;:\r\n                            value = c.toString();\r\n                            break;\r\n                    }\r\n                    result[indexes[0] - 1][indexes[1] - 1] = value;\r\n                    br.skip(7); ///v&gt;&lt;/c&gt;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        public static int[] extractSizeFromDimention(String dimention) {\r\n            StringBuilder sb = new StringBuilder();\r\n            int columns = 0;\r\n            int rows = 0;\r\n            for (char c : dimention.toCharArray()) {\r\n                if (columns == 0) {\r\n                    if (Character.isDigit(c)) {\r\n                        columns = convertExcelIndex(sb.toString());\r\n                        sb = new StringBuilder();\r\n                    }\r\n                }\r\n                sb.append(c);\r\n            }\r\n            rows = Integer.parseInt(sb.toString());\r\n            return new int[]{rows, columns};\r\n        }\r\n\r\n        public static String[] processSharedStrings(ZipFile zipFile) throws IOException {\r\n            String entry = &quot;xl/sharedStrings.xml&quot;;\r\n            String[] words = null;\r\n            char[] wordCount = &quot;Count=\\&quot;&quot;.toCharArray();\r\n            char[] token = &quot;&lt;t&gt;&quot;.toCharArray();\r\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(zipFile.getInputStream(zipFile.getEntry(entry)), Charset.forName(&quot;UTF-8&quot;)))) {\r\n                String uniqueCount = extractNextValue(br, wordCount, &#39;&quot;&#39;);\r\n                words = new String[Integer.parseInt(uniqueCount)];\r\n                String nextWord;\r\n                int currentIndex = 0;\r\n                while ((nextWord = extractNextValue(br, token, &#39;&lt;&#39;)) != null) {\r\n                    words[currentIndex++] = nextWord;\r\n                    br.skip(11); //you can skip at least 11 chars &quot;/t&gt;&lt;/si&gt;&lt;si&gt;&quot;\r\n                }\r\n            }\r\n            return words;\r\n        }\r\n\r\n        public static int foundNextTokens(BufferedReader br, char until, char[]... tokens) throws IOException {\r\n            char character;\r\n            int[] indexes = new int[tokens.length];\r\n            while ((character = (char) br.read()) != CHAR_END) {\r\n                if (character == until) {\r\n                    break;\r\n                }\r\n                for (int i = 0; i &lt; indexes.length; i++) {\r\n                    if (tokens[i][indexes[i]] == character) {\r\n                        indexes[i]++;\r\n                        if (indexes[i] == tokens[i].length) {\r\n                            return i;\r\n                        }\r\n                    } else {\r\n                        indexes[i] = 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return -1;\r\n        }\r\n\r\n        public static String extractNextValue(BufferedReader br, char[] token, char until) throws IOException {\r\n            char character;\r\n            StringBuilder sb = new StringBuilder();\r\n            int index = 0;\r\n\r\n            while ((character = (char) br.read()) != CHAR_END) {\r\n                if (index == token.length) {\r\n                    if (character == until) {\r\n                        return sb.toString();\r\n                    } else {\r\n                        sb.append(character);\r\n                    }\r\n                } else {\r\n                    if (token[index] == character) {\r\n                        index++;\r\n                    } else {\r\n                        index = 0;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        public static int convertExcelIndex(String index) {\r\n            int result = 0;\r\n            for (char c : index.toCharArray()) {\r\n                result = result * 26 + ((int) c - (int) &#39;A&#39; + 1);\r\n            }\r\n            return result;\r\n        }\r\n\r\n    }","title":"How to open a huge excel file efficiently","body":"<p>Well, if your excel is going to be as simple as a CSV file like your example (<a href=\"https://drive.google.com/file/d/0B_CXvCTOo7_2UVZxbnpRaEVnaFk/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/0B_CXvCTOo7_2UVZxbnpRaEVnaFk/view?usp=sharing</a>), you can try to open the file as a zip file and read directly every xml:</p>\n\n<p>Intel i5 4460, 12 GB RAM, SSD Samsung EVO PRO.</p>\n\n<p><strong>If you have a lot of memory ram:</strong>\nThis code needs a lot of ram, but it takes 20~25 seconds. (You need the parameter -Xmx7g)</p>\n\n<pre><code>package com.devsaki.opensimpleexcel;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.nio.charset.Charset;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.zip.ZipFile;\n\npublic class Multithread {\n\n    public static final char CHAR_END = (char) -1;\n\n    public static void main(String[] args) throws IOException, ExecutionException, InterruptedException {\n        String excelFile = \"C:/Downloads/BigSpreadsheetAllTypes.xlsx\";\n        ZipFile zipFile = new ZipFile(excelFile);\n        long init = System.currentTimeMillis();\n        ExecutorService executor = Executors.newFixedThreadPool(4);\n        char[] sheet1 = readEntry(zipFile, \"xl/worksheets/sheet1.xml\").toCharArray();\n        Future&lt;Object[][]&gt; futureSheet1 = executor.submit(() -&gt; processSheet1(new CharReader(sheet1), executor));\n        char[] sharedString = readEntry(zipFile, \"xl/sharedStrings.xml\").toCharArray();\n        Future&lt;String[]&gt; futureWords = executor.submit(() -&gt; processSharedStrings(new CharReader(sharedString)));\n\n        Object[][] sheet = futureSheet1.get();\n        String[] words = futureWords.get();\n\n        executor.shutdown();\n\n        long end = System.currentTimeMillis();\n        System.out.println(\"only read: \" + (end - init) / 1000);\n\n        ///Doing somethin with the file::Saving as csv\n        init = System.currentTimeMillis();\n        try (PrintWriter writer = new PrintWriter(excelFile + \".csv\", \"UTF-8\");) {\n            for (Object[] rows : sheet) {\n                for (Object cell : rows) {\n                    if (cell != null) {\n                        if (cell instanceof Integer) {\n                            writer.append(words[(Integer) cell]);\n                        } else if (cell instanceof String) {\n                            writer.append(toDate(Double.parseDouble(cell.toString())));\n                        } else {\n                            writer.append(cell.toString()); //Probably a number\n                        }\n                    }\n                    writer.append(\";\");\n                }\n                writer.append(\"\\n\");\n            }\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Main saving to csv: \" + (end - init) / 1000);\n    }\n\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\n    private static final LocalDateTime INIT_DATE = LocalDateTime.parse(\"1900-01-01T00:00:00+00:00\", formatter).plusDays(-2);\n\n    //The number in excel is from 1900-jan-1, so every number time that you get, you have to sum to that date\n    public static String toDate(double s) {\n        return formatter.format(INIT_DATE.plusSeconds((long) ((s*24*3600))));\n    }\n\n    public static String readEntry(ZipFile zipFile, String entry) throws IOException {\n        System.out.println(\"Initialing readEntry \" + entry);\n        long init = System.currentTimeMillis();\n        String result = null;\n\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(zipFile.getInputStream(zipFile.getEntry(entry)), Charset.forName(\"UTF-8\")))) {\n            br.readLine();\n            result = br.readLine();\n        }\n\n        long end = System.currentTimeMillis();\n        System.out.println(\"readEntry '\" + entry + \"': \" + (end - init) / 1000);\n        return result;\n    }\n\n\n    public static String[] processSharedStrings(CharReader br) throws IOException {\n        System.out.println(\"Initialing processSharedStrings\");\n        long init = System.currentTimeMillis();\n        String[] words = null;\n        char[] wordCount = \"Count=\\\"\".toCharArray();\n        char[] token = \"&lt;t&gt;\".toCharArray();\n        String uniqueCount = extractNextValue(br, wordCount, '\"');\n        words = new String[Integer.parseInt(uniqueCount)];\n        String nextWord;\n        int currentIndex = 0;\n        while ((nextWord = extractNextValue(br, token, '&lt;')) != null) {\n            words[currentIndex++] = nextWord;\n            br.skip(11); //you can skip at least 11 chars \"/t&gt;&lt;/si&gt;&lt;si&gt;\"\n        }\n        long end = System.currentTimeMillis();\n        System.out.println(\"SharedStrings: \" + (end - init) / 1000);\n        return words;\n    }\n\n\n    public static Object[][] processSheet1(CharReader br, ExecutorService executorService) throws IOException, ExecutionException, InterruptedException {\n        System.out.println(\"Initialing processSheet1\");\n        long init = System.currentTimeMillis();\n        char[] dimensionToken = \"dimension ref=\\\"\".toCharArray();\n        String dimension = extractNextValue(br, dimensionToken, '\"');\n        int[] sizes = extractSizeFromDimention(dimension.split(\":\")[1]);\n        br.skip(30); //Between dimension and next tag c exists more or less 30 chars\n        Object[][] result = new Object[sizes[0]][sizes[1]];\n\n        int parallelProcess = 8;\n        int currentIndex = br.currentIndex;\n        CharReader[] charReaders = new CharReader[parallelProcess];\n        int totalChars = Math.round(br.chars.length / parallelProcess);\n        for (int i = 0; i &lt; parallelProcess; i++) {\n            int endIndex = currentIndex + totalChars;\n            charReaders[i] = new CharReader(br.chars, currentIndex, endIndex, i);\n            currentIndex = endIndex;\n        }\n        Future[] futures = new Future[parallelProcess];\n        for (int i = charReaders.length - 1; i &gt;= 0; i--) {\n            final int j = i;\n            futures[i] = executorService.submit(() -&gt; inParallelProcess(charReaders[j], j == 0 ? null : charReaders[j - 1], result));\n        }\n        for (Future future : futures) {\n            future.get();\n        }\n\n        long end = System.currentTimeMillis();\n        System.out.println(\"Sheet1: \" + (end - init) / 1000);\n        return result;\n    }\n\n    public static void inParallelProcess(CharReader br, CharReader back, Object[][] result) {\n        System.out.println(\"Initialing inParallelProcess : \" + br.identifier);\n\n        char[] tokenOpenC = \"&lt;c r=\\\"\".toCharArray();\n        char[] tokenOpenV = \"&lt;v&gt;\".toCharArray();\n\n        char[] tokenAttributS = \" s=\\\"\".toCharArray();\n        char[] tokenAttributT = \" t=\\\"\".toCharArray();\n\n        String v;\n        int firstCurrentIndex = br.currentIndex;\n        boolean first = true;\n\n        while ((v = extractNextValue(br, tokenOpenC, '\"')) != null) {\n            if (first &amp;&amp; back != null) {\n                int sum = br.currentIndex - firstCurrentIndex - tokenOpenC.length - v.length() - 1;\n                first = false;\n                System.out.println(\"Adding to : \" + back.identifier + \" From : \" + br.identifier);\n                back.plusLength(sum);\n            }\n            int[] indexes = extractSizeFromDimention(v);\n\n            int s = foundNextTokens(br, '&gt;', tokenAttributS, tokenAttributT);\n            char type = 's'; //3 types: number (n), string (s) and date (d)\n            if (s == 0) { // Token S = number or date\n                char read = br.read();\n                if (read == '1') {\n                    type = 'n';\n                } else {\n                    type = 'd';\n                }\n            } else if (s == -1) {\n                type = 'n';\n            }\n            String c = extractNextValue(br, tokenOpenV, '&lt;');\n            Object value = null;\n            switch (type) {\n                case 'n':\n                    value = Double.parseDouble(c);\n                    break;\n                case 's':\n                    try {\n                        value = Integer.parseInt(c);\n                    } catch (Exception ex) {\n                        System.out.println(\"Identifier Error : \" + br.identifier);\n                    }\n                    break;\n                case 'd':\n                    value = c.toString();\n                    break;\n            }\n            result[indexes[0] - 1][indexes[1] - 1] = value;\n            br.skip(7); ///v&gt;&lt;/c&gt;\n        }\n    }\n\n    static class CharReader {\n        char[] chars;\n        int currentIndex;\n        int length;\n\n        int identifier;\n\n        public CharReader(char[] chars) {\n            this.chars = chars;\n            this.length = chars.length;\n        }\n\n        public CharReader(char[] chars, int currentIndex, int length, int identifier) {\n            this.chars = chars;\n            this.currentIndex = currentIndex;\n            if (length &gt; chars.length) {\n                this.length = chars.length;\n            } else {\n                this.length = length;\n            }\n            this.identifier = identifier;\n        }\n\n        public void plusLength(int n) {\n            if (this.length + n &lt;= chars.length) {\n                this.length += n;\n            }\n        }\n\n        public char read() {\n            if (currentIndex &gt;= length) {\n                return CHAR_END;\n            }\n            return chars[currentIndex++];\n        }\n\n        public void skip(int n) {\n            currentIndex += n;\n        }\n    }\n\n\n    public static int[] extractSizeFromDimention(String dimention) {\n        StringBuilder sb = new StringBuilder();\n        int columns = 0;\n        int rows = 0;\n        for (char c : dimention.toCharArray()) {\n            if (columns == 0) {\n                if (Character.isDigit(c)) {\n                    columns = convertExcelIndex(sb.toString());\n                    sb = new StringBuilder();\n                }\n            }\n            sb.append(c);\n        }\n        rows = Integer.parseInt(sb.toString());\n        return new int[]{rows, columns};\n    }\n\n    public static int foundNextTokens(CharReader br, char until, char[]... tokens) {\n        char character;\n        int[] indexes = new int[tokens.length];\n        while ((character = br.read()) != CHAR_END) {\n            if (character == until) {\n                break;\n            }\n            for (int i = 0; i &lt; indexes.length; i++) {\n                if (tokens[i][indexes[i]] == character) {\n                    indexes[i]++;\n                    if (indexes[i] == tokens[i].length) {\n                        return i;\n                    }\n                } else {\n                    indexes[i] = 0;\n                }\n            }\n        }\n\n        return -1;\n    }\n\n    public static String extractNextValue(CharReader br, char[] token, char until) {\n        char character;\n        StringBuilder sb = new StringBuilder();\n        int index = 0;\n\n        while ((character = br.read()) != CHAR_END) {\n            if (index == token.length) {\n                if (character == until) {\n                    return sb.toString();\n                } else {\n                    sb.append(character);\n                }\n            } else {\n                if (token[index] == character) {\n                    index++;\n                } else {\n                    index = 0;\n                }\n            }\n        }\n        return null;\n    }\n\n    public static int convertExcelIndex(String index) {\n        int result = 0;\n        for (char c : index.toCharArray()) {\n            result = result * 26 + ((int) c - (int) 'A' + 1);\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p><strong>Old answer (Not need the parameter Xms7g, so take less memory):</strong>\nIt takes to open and read the example file about 35 seconds (200MB) with an HDD, with SDD takes a little less (30 seconds).</p>\n\n<p>Here the code:\n<a href=\"https://github.com/csaki/OpenSimpleExcelFast.git\" rel=\"nofollow noreferrer\">https://github.com/csaki/OpenSimpleExcelFast.git</a></p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.nio.charset.Charset;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.zip.ZipFile;\n\npublic class Launcher {\n\n    public static final char CHAR_END = (char) -1;\n\n    public static void main(String[] args) throws IOException, ExecutionException, InterruptedException {\n        long init = System.currentTimeMillis();\n        String excelFile = \"D:/Downloads/BigSpreadsheet.xlsx\";\n        ZipFile zipFile = new ZipFile(excelFile);\n\n        ExecutorService executor = Executors.newFixedThreadPool(4);\n        Future&lt;String[]&gt; futureWords = executor.submit(() -&gt; processSharedStrings(zipFile));\n        Future&lt;Object[][]&gt; futureSheet1 = executor.submit(() -&gt; processSheet1(zipFile));\n        String[] words = futureWords.get();\n        Object[][] sheet1 = futureSheet1.get();\n        executor.shutdown();\n\n        long end = System.currentTimeMillis();\n        System.out.println(\"Main only open and read: \" + (end - init) / 1000);\n\n\n        ///Doing somethin with the file::Saving as csv\n        init = System.currentTimeMillis();\n        try (PrintWriter writer = new PrintWriter(excelFile + \".csv\", \"UTF-8\");) {\n            for (Object[] rows : sheet1) {\n                for (Object cell : rows) {\n                    if (cell != null) {\n                        if (cell instanceof Integer) {\n                            writer.append(words[(Integer) cell]);\n                        } else if (cell instanceof String) {\n                            writer.append(toDate(Double.parseDouble(cell.toString())));\n                        } else {\n                            writer.append(cell.toString()); //Probably a number\n                        }\n                    }\n                    writer.append(\";\");\n                }\n                writer.append(\"\\n\");\n            }\n        }\n        end = System.currentTimeMillis();\n        System.out.println(\"Main saving to csv: \" + (end - init) / 1000);\n    }\n\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\n    private static final LocalDateTime INIT_DATE = LocalDateTime.parse(\"1900-01-01T00:00:00+00:00\", formatter).plusDays(-2);\n\n    //The number in excel is from 1900-jan-1, so every number time that you get, you have to sum to that date\n    public static String toDate(double s) {\n        return formatter.format(INIT_DATE.plusSeconds((long) ((s*24*3600))));\n    }\n\n    public static Object[][] processSheet1(ZipFile zipFile) throws IOException {\n        String entry = \"xl/worksheets/sheet1.xml\";\n        Object[][] result = null;\n        char[] dimensionToken = \"dimension ref=\\\"\".toCharArray();\n        char[] tokenOpenC = \"&lt;c r=\\\"\".toCharArray();\n        char[] tokenOpenV = \"&lt;v&gt;\".toCharArray();\n\n        char[] tokenAttributS = \" s=\\\"\".toCharArray();\n        char[] tokenAttributT = \" t=\\\"\".toCharArray();\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(zipFile.getInputStream(zipFile.getEntry(entry)), Charset.forName(\"UTF-8\")))) {\n            String dimension = extractNextValue(br, dimensionToken, '\"');\n            int[] sizes = extractSizeFromDimention(dimension.split(\":\")[1]);\n            br.skip(30); //Between dimension and next tag c exists more or less 30 chars\n            result = new Object[sizes[0]][sizes[1]];\n            String v;\n            while ((v = extractNextValue(br, tokenOpenC, '\"')) != null) {\n                int[] indexes = extractSizeFromDimention(v);\n\n                int s = foundNextTokens(br, '&gt;', tokenAttributS, tokenAttributT);\n                char type = 's'; //3 types: number (n), string (s) and date (d)\n                if (s == 0) { // Token S = number or date\n                    char read = (char) br.read();\n                    if (read == '1') {\n                        type = 'n';\n                    } else {\n                        type = 'd';\n                    }\n                } else if (s == -1) {\n                    type = 'n';\n                }\n                String c = extractNextValue(br, tokenOpenV, '&lt;');\n                Object value = null;\n                switch (type) {\n                    case 'n':\n                        value = Double.parseDouble(c);\n                        break;\n                    case 's':\n                        value = Integer.parseInt(c);\n                        break;\n                    case 'd':\n                        value = c.toString();\n                        break;\n                }\n                result[indexes[0] - 1][indexes[1] - 1] = value;\n                br.skip(7); ///v&gt;&lt;/c&gt;\n            }\n        }\n        return result;\n    }\n\n    public static int[] extractSizeFromDimention(String dimention) {\n        StringBuilder sb = new StringBuilder();\n        int columns = 0;\n        int rows = 0;\n        for (char c : dimention.toCharArray()) {\n            if (columns == 0) {\n                if (Character.isDigit(c)) {\n                    columns = convertExcelIndex(sb.toString());\n                    sb = new StringBuilder();\n                }\n            }\n            sb.append(c);\n        }\n        rows = Integer.parseInt(sb.toString());\n        return new int[]{rows, columns};\n    }\n\n    public static String[] processSharedStrings(ZipFile zipFile) throws IOException {\n        String entry = \"xl/sharedStrings.xml\";\n        String[] words = null;\n        char[] wordCount = \"Count=\\\"\".toCharArray();\n        char[] token = \"&lt;t&gt;\".toCharArray();\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(zipFile.getInputStream(zipFile.getEntry(entry)), Charset.forName(\"UTF-8\")))) {\n            String uniqueCount = extractNextValue(br, wordCount, '\"');\n            words = new String[Integer.parseInt(uniqueCount)];\n            String nextWord;\n            int currentIndex = 0;\n            while ((nextWord = extractNextValue(br, token, '&lt;')) != null) {\n                words[currentIndex++] = nextWord;\n                br.skip(11); //you can skip at least 11 chars \"/t&gt;&lt;/si&gt;&lt;si&gt;\"\n            }\n        }\n        return words;\n    }\n\n    public static int foundNextTokens(BufferedReader br, char until, char[]... tokens) throws IOException {\n        char character;\n        int[] indexes = new int[tokens.length];\n        while ((character = (char) br.read()) != CHAR_END) {\n            if (character == until) {\n                break;\n            }\n            for (int i = 0; i &lt; indexes.length; i++) {\n                if (tokens[i][indexes[i]] == character) {\n                    indexes[i]++;\n                    if (indexes[i] == tokens[i].length) {\n                        return i;\n                    }\n                } else {\n                    indexes[i] = 0;\n                }\n            }\n        }\n\n        return -1;\n    }\n\n    public static String extractNextValue(BufferedReader br, char[] token, char until) throws IOException {\n        char character;\n        StringBuilder sb = new StringBuilder();\n        int index = 0;\n\n        while ((character = (char) br.read()) != CHAR_END) {\n            if (index == token.length) {\n                if (character == until) {\n                    return sb.toString();\n                } else {\n                    sb.append(character);\n                }\n            } else {\n                if (token[index] == character) {\n                    index++;\n                } else {\n                    index = 0;\n                }\n            }\n        }\n        return null;\n    }\n\n    public static int convertExcelIndex(String index) {\n        int result = 0;\n        for (char c : index.toCharArray()) {\n            result = result * 26 + ((int) c - (int) 'A' + 1);\n        }\n        return result;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655561,"reputation":2759,"user_id":5802606,"display_name":"void"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506527387,"creation_date":1506527387,"answer_id":46452187,"question_id":46373895,"body_markdown":"Looks like it is hardly achievable in Python at all. If we unpack a sheet data file then it would take all required 30 seconds just to pass it through the C-based iterative SAX parser (using `lxml`, a very fast wrapper over `libxml2`):\r\n\r\n\r\n    from __future__ import print_function\r\n\r\n    from lxml import etree\r\n    import time\r\n\r\n\r\n    start_ts = time.time()\r\n\r\n    for data in etree.iterparse(open(&#39;xl/worksheets/sheet1.xml&#39;), events=(&#39;start&#39;,), \r\n                                collect_ids=False, resolve_entities=False,\r\n                                huge_tree=True):\r\n        pass\r\n\r\n    print(time.time() - start_ts)\r\n\r\nThe sample output: 27.2134890556\r\n\r\n\r\nBy the way, the Excel itself needs about 40 seconds to load the workbook.","title":"How to open a huge excel file efficiently","body":"<p>Looks like it is hardly achievable in Python at all. If we unpack a sheet data file then it would take all required 30 seconds just to pass it through the C-based iterative SAX parser (using <code>lxml</code>, a very fast wrapper over <code>libxml2</code>):</p>\n\n<pre><code>from __future__ import print_function\n\nfrom lxml import etree\nimport time\n\n\nstart_ts = time.time()\n\nfor data in etree.iterparse(open('xl/worksheets/sheet1.xml'), events=('start',), \n                            collect_ids=False, resolve_entities=False,\n                            huge_tree=True):\n    pass\n\nprint(time.time() - start_ts)\n</code></pre>\n\n<p>The sample output: 27.2134890556</p>\n\n<p>By the way, the Excel itself needs about 40 seconds to load the workbook.</p>\n"},{"tags":[],"owner":{"account_id":11535377,"reputation":609,"user_id":8453036,"display_name":"R. Roe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506724055,"creation_date":1506724055,"answer_id":46497699,"question_id":46373895,"body_markdown":"I&#39;m using a Dell Precision T1700 workstation and using c# I was able to open the file and read it&#39;s contents in about 24 seconds just using standard code to open a workbook using interop services.  Using references to the Microsoft Excel 15.0 Object Library here is my code.\r\n\r\nMy using statements:\r\n\r\n    using System.Runtime.InteropServices;\r\n    using Excel = Microsoft.Office.Interop.Excel;\r\n\r\nCode to open and read workbook:\r\n\r\n    public partial class MainWindow : Window {\r\n        public MainWindow() {\r\n            InitializeComponent();\r\n\r\n            Excel.Application xlApp;\r\n            Excel.Workbook wb;\r\n            Excel.Worksheet ws;\r\n\r\n            xlApp = new Excel.Application();\r\n            xlApp.Visible = false;\r\n            xlApp.ScreenUpdating = false;\r\n\r\n            wb = xlApp.Workbooks.Open(@&quot;Desired Path of workbook\\Copy of BigSpreadsheet.xlsx&quot;);\r\n\r\n            ws = wb.Sheets[&quot;Sheet1&quot;];\r\n\r\n            //string rng = ws.get_Range(&quot;A1&quot;).Value;\r\n            MessageBox.Show(ws.get_Range(&quot;A1&quot;).Value);\r\n\r\n            Marshal.FinalReleaseComObject(ws);\r\n\r\n            wb.Close();\r\n            Marshal.FinalReleaseComObject(wb);\r\n\r\n            xlApp.Quit();\r\n            Marshal.FinalReleaseComObject(xlApp);\r\n\r\n            GC.Collect();\r\n            GC.WaitForPendingFinalizers();\r\n        }\r\n    }\r\n","title":"How to open a huge excel file efficiently","body":"<p>I'm using a Dell Precision T1700 workstation and using c# I was able to open the file and read it's contents in about 24 seconds just using standard code to open a workbook using interop services.  Using references to the Microsoft Excel 15.0 Object Library here is my code.</p>\n\n<p>My using statements:</p>\n\n<pre><code>using System.Runtime.InteropServices;\nusing Excel = Microsoft.Office.Interop.Excel;\n</code></pre>\n\n<p>Code to open and read workbook:</p>\n\n<pre><code>public partial class MainWindow : Window {\n    public MainWindow() {\n        InitializeComponent();\n\n        Excel.Application xlApp;\n        Excel.Workbook wb;\n        Excel.Worksheet ws;\n\n        xlApp = new Excel.Application();\n        xlApp.Visible = false;\n        xlApp.ScreenUpdating = false;\n\n        wb = xlApp.Workbooks.Open(@\"Desired Path of workbook\\Copy of BigSpreadsheet.xlsx\");\n\n        ws = wb.Sheets[\"Sheet1\"];\n\n        //string rng = ws.get_Range(\"A1\").Value;\n        MessageBox.Show(ws.get_Range(\"A1\").Value);\n\n        Marshal.FinalReleaseComObject(ws);\n\n        wb.Close();\n        Marshal.FinalReleaseComObject(wb);\n\n        xlApp.Quit();\n        Marshal.FinalReleaseComObject(xlApp);\n\n        GC.Collect();\n        GC.WaitForPendingFinalizers();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506747269,"post_id":46499641,"comment_id":79953974,"body_markdown":"thanks for this. So what would be the whole code to &#39;read&#39; the xls(x) file and get it in memory from the above xls file?","body":"thanks for this. So what would be the whole code to &#39;read&#39; the xls(x) file and get it in memory from the above xls file?"},{"owner":{"account_id":10373874,"reputation":3027,"user_id":7650686,"display_name":"obgnaw"},"score":0,"creation_date":1506747883,"post_id":46499641,"comment_id":79954064,"body_markdown":"@David542 [here is the entire project](https://www.codeproject.com/Articles/126280/How-to-Read-and-Write-Excel-Files-in-C-via-ADO)","body":"@David542 <a href=\"https://www.codeproject.com/Articles/126280/How-to-Read-and-Write-Excel-Files-in-C-via-ADO\" rel=\"nofollow noreferrer\">here is the entire project</a>"},{"owner":{"account_id":3162234,"reputation":14742,"user_id":2673029,"display_name":"Isma"},"score":0,"creation_date":1506762155,"post_id":46499641,"comment_id":79956678,"body_markdown":"This is still using ADO internally so the results won&#39;t be much faster than the ADO.NET version which by the way is getting most of the votes but it is not the fastest / cleanest solution.","body":"This is still using ADO internally so the results won&#39;t be much faster than the ADO.NET version which by the way is getting most of the votes but it is not the fastest / cleanest solution."},{"owner":{"account_id":10373874,"reputation":3027,"user_id":7650686,"display_name":"obgnaw"},"score":0,"creation_date":1506764149,"post_id":46499641,"comment_id":79957152,"body_markdown":"@Isma There are two bottleneck, middle layer and file IO.The quickest version need assumption.and i think OP finally will need RAM Drive to reduce time of file IO.","body":"@Isma There are two bottleneck, middle layer and file IO.The quickest version need assumption.and i think OP finally will need RAM Drive to reduce time of file IO."}],"tags":[],"owner":{"account_id":10373874,"reputation":3027,"user_id":7650686,"display_name":"obgnaw"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506764379,"creation_date":1506746474,"answer_id":46499641,"question_id":46373895,"body_markdown":"The c# and ole solution still have some bottleneck.So i test it by c++ and ado.\r\n\r\n    _bstr_t connStr(makeConnStr(excelFile, header).c_str());\r\n                \r\n    TESTHR(pRec.CreateInstance(__uuidof(Recordset)));       \r\n    TESTHR(pRec-&gt;Open(sqlSelectSheet(connStr, sheetIndex).c_str(), connStr, adOpenStatic, adLockOptimistic, adCmdText));\r\n                                   \r\n    while(!pRec-&gt;adoEOF)\r\n    {\r\n        for(long i = 0; i &lt; pRec-&gt;Fields-&gt;GetCount(); ++i)\r\n        {   \r\n            _variant_t v = pRec-&gt;Fields-&gt;GetItem(i)-&gt;Value;\r\n            if(v.vt == VT_R8)\r\n    \t\t\tnum[i] = v.dblVal;\r\n            if(v.vt == VT_BSTR)\r\n    \t\t\tstr[i] = v.bstrVal;          \r\n            ++cellCount;\r\n        }                                    \r\n        pRec-&gt;MoveNext();\r\n    }\r\n\r\nIn i5-4460 and HDD machine,i find 500 thousands of cell in xls will take 1.5s.But same data in xlsx will take 2.829s.so it&#39;s possible for manipulating your data under 30s.\r\n\r\nIf you really need under 30s,use RAM Drive to reduce file IO.It will significantly improve your process.\r\nI cannot download your data to test it,so please tell me the result.\r\n","title":"How to open a huge excel file efficiently","body":"<p>The c# and ole solution still have some bottleneck.So i test it by c++ and ado.</p>\n\n<pre><code>_bstr_t connStr(makeConnStr(excelFile, header).c_str());\n\nTESTHR(pRec.CreateInstance(__uuidof(Recordset)));       \nTESTHR(pRec-&gt;Open(sqlSelectSheet(connStr, sheetIndex).c_str(), connStr, adOpenStatic, adLockOptimistic, adCmdText));\n\nwhile(!pRec-&gt;adoEOF)\n{\n    for(long i = 0; i &lt; pRec-&gt;Fields-&gt;GetCount(); ++i)\n    {   \n        _variant_t v = pRec-&gt;Fields-&gt;GetItem(i)-&gt;Value;\n        if(v.vt == VT_R8)\n            num[i] = v.dblVal;\n        if(v.vt == VT_BSTR)\n            str[i] = v.bstrVal;          \n        ++cellCount;\n    }                                    \n    pRec-&gt;MoveNext();\n}\n</code></pre>\n\n<p>In i5-4460 and HDD machine,i find 500 thousands of cell in xls will take 1.5s.But same data in xlsx will take 2.829s.so it's possible for manipulating your data under 30s.</p>\n\n<p>If you really need under 30s,use RAM Drive to reduce file IO.It will significantly improve your process.\nI cannot download your data to test it,so please tell me the result.</p>\n"},{"comments":[{"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"score":0,"creation_date":1506885592,"post_id":46514774,"comment_id":79986169,"body_markdown":"actually this is the exact implementation we are currently using to parse the file. So looking for a solution that&#39;s faster than this.","body":"actually this is the exact implementation we are currently using to parse the file. So looking for a solution that&#39;s faster than this."},{"owner":{"account_id":148887,"reputation":4330,"user_id":1700467,"display_name":"skadya"},"score":0,"creation_date":1506977416,"post_id":46514774,"comment_id":80021845,"body_markdown":"To improve the performance what I can suggest you to try to use different Xml parser (e.g. https://github.com/FasterXML/woodstox). I observe slightly better results with this parser. see updated answer.","body":"To improve the performance what I can suggest you to try to use different Xml parser (e.g. <a href=\"https://github.com/FasterXML/woodstox\" rel=\"nofollow noreferrer\">github.com/FasterXML/woodstox</a>). I observe slightly better results with this parser. see updated answer."}],"tags":[],"owner":{"account_id":148887,"reputation":4330,"user_id":1700467,"display_name":"skadya"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506977970,"creation_date":1506877637,"answer_id":46514774,"question_id":46373895,"body_markdown":"I have created an sample **Java** program which is able to load the file in ~40 seconds my laptop ( Intel i7 4 core, 16 GB RAM). \r\n\r\nhttps://github.com/skadyan/largefile \r\n\r\nThis program uses the [Apache POI library][1] to load the .xlsx file using the [XSSF SAX API][2].\r\n \r\nThe callback interface `com.stackoverlfow.largefile.RecordHandler` implementation can be used to process the data loaded from the excel. This interface define only one method which take three arguments\r\n\r\n - sheetname : String, excel sheet name\r\n - row number: int, row number of data \r\n - and `data map`: Map&lt;String,String&gt;: excel cell reference and excel formatted cell value\r\n\r\nThe class `com.stackoverlfow.largefile.Main` demonstrate one basic implementation of this interface which just print the row number on console.\r\n\r\n**Update**\r\n\r\n[woodstox][3] parser seems have better performance than standard `SAXReader`. (code updated in repo).\r\n\r\nAlso in order to meet the desired performance requirement, you may consider to re-implement the `org.apache.poi...XSSFSheetXMLHandler`. In the implementation, more optimized string/text value handling can be implemented and unnecessary text formatting operation may be skipped. \r\n\r\n\r\n\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/index.html\r\n  [2]: http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api\r\n  [3]: https://github.com/FasterXML/woodstox","title":"How to open a huge excel file efficiently","body":"<p>I have created an sample <strong>Java</strong> program which is able to load the file in ~40 seconds my laptop ( Intel i7 4 core, 16 GB RAM). </p>\n\n<p><a href=\"https://github.com/skadyan/largefile\" rel=\"nofollow noreferrer\">https://github.com/skadyan/largefile</a> </p>\n\n<p>This program uses the <a href=\"http://poi.apache.org/spreadsheet/index.html\" rel=\"nofollow noreferrer\">Apache POI library</a> to load the .xlsx file using the <a href=\"http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">XSSF SAX API</a>.</p>\n\n<p>The callback interface <code>com.stackoverlfow.largefile.RecordHandler</code> implementation can be used to process the data loaded from the excel. This interface define only one method which take three arguments</p>\n\n<ul>\n<li>sheetname : String, excel sheet name</li>\n<li>row number: int, row number of data </li>\n<li>and <code>data map</code>: Map: excel cell reference and excel formatted cell value</li>\n</ul>\n\n<p>The class <code>com.stackoverlfow.largefile.Main</code> demonstrate one basic implementation of this interface which just print the row number on console.</p>\n\n<p><strong>Update</strong></p>\n\n<p><a href=\"https://github.com/FasterXML/woodstox\" rel=\"nofollow noreferrer\">woodstox</a> parser seems have better performance than standard <code>SAXReader</code>. (code updated in repo).</p>\n\n<p>Also in order to meet the desired performance requirement, you may consider to re-implement the <code>org.apache.poi...XSSFSheetXMLHandler</code>. In the implementation, more optimized string/text value handling can be implemented and unnecessary text formatting operation may be skipped. </p>\n"},{"tags":[],"owner":{"account_id":185868,"reputation":2971,"user_id":422855,"accept_rate":31,"display_name":"ZEE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506985858,"creation_date":1506985858,"answer_id":46534970,"question_id":46373895,"body_markdown":"I would like to have more info about the system where you\r\nare opening the file... anyway:\r\n\r\nlook in your system for a Windows update called&lt;br&gt; \r\n&quot;Office File Validation Add-In for Office ...&quot;&lt;br&gt;\r\n\r\nif you have it... uninstall it...&lt;br&gt;\r\nthe file should load much more quickly&lt;br&gt;\r\nspecially if is loaded froma share&lt;br&gt;\r\n","title":"How to open a huge excel file efficiently","body":"<p>I would like to have more info about the system where you\nare opening the file... anyway:</p>\n\n<p>look in your system for a Windows update called<br> \n\"Office File Validation Add-In for Office ...\"<br></p>\n\n<p>if you have it... uninstall it...<br>\nthe file should load much more quickly<br>\nspecially if is loaded froma share<br></p>\n"},{"tags":[],"owner":{"account_id":185868,"reputation":2971,"user_id":422855,"accept_rate":31,"display_name":"ZEE"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506986227,"creation_date":1506986227,"answer_id":46535014,"question_id":46373895,"body_markdown":"Another way that should improve largely the load/operation time is a RAMDrive&lt;br&gt;\r\n\r\ncreate a RAMDrive with enough space for your file and a 10%..20% extra space...&lt;br&gt;\r\ncopy the file for the RAMDrive...&lt;br&gt;\r\nLoad the file from there... depending on your drive and filesystem\r\nthe speed improvement should be huge...\r\n\r\nMy favourite is IMDisk toolkit&lt;br&gt; \r\n(https://sourceforge.net/projects/imdisk-toolkit/)\r\nhere you have a powerfull command line to script everything...\r\n\r\nI also recommend SoftPerfect ramdisk&lt;br&gt;\r\n(http://www.majorgeeks.com/files/details/softperfect_ram_disk.html)\r\n\r\nbut that also depends of your OS...\r\n\r\n\r\n","title":"How to open a huge excel file efficiently","body":"<p>Another way that should improve largely the load/operation time is a RAMDrive<br></p>\n\n<p>create a RAMDrive with enough space for your file and a 10%..20% extra space...<br>\ncopy the file for the RAMDrive...<br>\nLoad the file from there... depending on your drive and filesystem\nthe speed improvement should be huge...</p>\n\n<p>My favourite is IMDisk toolkit<br> \n(<a href=\"https://sourceforge.net/projects/imdisk-toolkit/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/imdisk-toolkit/</a>)\nhere you have a powerfull command line to script everything...</p>\n\n<p>I also recommend SoftPerfect ramdisk<br>\n(<a href=\"http://www.majorgeeks.com/files/details/softperfect_ram_disk.html\" rel=\"nofollow noreferrer\">http://www.majorgeeks.com/files/details/softperfect_ram_disk.html</a>)</p>\n\n<p>but that also depends of your OS...</p>\n"}],"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"comment_count":30,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23977,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":46434061,"answer_count":11,"score":37,"last_activity_date":1693837397,"creation_date":1506118310,"question_id":46373895,"body_markdown":"I have a 150MB one-sheet excel file that takes about 7 minutes to open on a very powerful machine using the following:\r\n\r\n    # using python\r\n    import xlrd\r\n    wb = xlrd.open_workbook(file)\r\n    sh = wb.sheet_by_index(0)\r\n\r\nIs there any way to open the excel file quicker? I&#39;m open to even very outlandish suggestions (such as hadoop, spark, c, java, etc.). Ideally I&#39;m looking for a way to open the file in under 30 seconds if that&#39;s not a pipe dream. Also, the above example is using python, but it doesn&#39;t have to be python.\r\n\r\n---\r\n\r\n**Note: this is an Excel file from a client. It cannot be converted into any other format before we receive it. It is not our file**\r\n\r\n---\r\n\r\n**UPDATE:** Answer with a working example of code that will open the following 200MB excel file in under 30 seconds will be rewarded with bounty: https://drive.google.com/file/d/0B_CXvCTOo7_2VW9id2VXRWZrbzQ/view?usp=sharing. This file should have string (col 1), date (col 9), and number (col 11).","title":"How to open a huge excel file efficiently","body":"<p>I have a 150MB one-sheet excel file that takes about 7 minutes to open on a very powerful machine using the following:</p>\n\n<pre><code># using python\nimport xlrd\nwb = xlrd.open_workbook(file)\nsh = wb.sheet_by_index(0)\n</code></pre>\n\n<p>Is there any way to open the excel file quicker? I'm open to even very outlandish suggestions (such as hadoop, spark, c, java, etc.). Ideally I'm looking for a way to open the file in under 30 seconds if that's not a pipe dream. Also, the above example is using python, but it doesn't have to be python.</p>\n\n<hr>\n\n<p><strong>Note: this is an Excel file from a client. It cannot be converted into any other format before we receive it. It is not our file</strong></p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> Answer with a working example of code that will open the following 200MB excel file in under 30 seconds will be rewarded with bounty: <a href=\"https://drive.google.com/file/d/0B_CXvCTOo7_2VW9id2VXRWZrbzQ/view?usp=sharing\" rel=\"noreferrer\">https://drive.google.com/file/d/0B_CXvCTOo7_2VW9id2VXRWZrbzQ/view?usp=sharing</a>. This file should have string (col 1), date (col 9), and number (col 11).</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693829818,"creation_date":1693829818,"answer_id":77037647,"question_id":77037558,"body_markdown":"It should be due to the hibernate version upgradation.\r\nI don&#39;t rememeber the determined version.\r\nIn order to be compliant with the JPA specifications, the names of identity generators need now be considered global, and no longer scoped to the entity in which they are declared. This means existing applications might now have a naming conflict which needs to be addressed to upgrade. Configuring two generators, even with different types but with the same name,may cause some exception in your project.\r\nSo you may have to check the object generated by @TableGenerator and @SequenceGenerator,ensure the different  generator has the different name.\r\n","title":"In java for When spring version upgraded to 5.3.29 and hibernate version to 5.3.29.final","body":"<p>It should be due to the hibernate version upgradation.\nI don't rememeber the determined version.\nIn order to be compliant with the JPA specifications, the names of identity generators need now be considered global, and no longer scoped to the entity in which they are declared. This means existing applications might now have a naming conflict which needs to be addressed to upgrade. Configuring two generators, even with different types but with the same name,may cause some exception in your project.\nSo you may have to check the object generated by @TableGenerator and @SequenceGenerator,ensure the different  generator has the different name.</p>\n"}],"owner":{"account_id":21982012,"reputation":103,"user_id":16256908,"display_name":"Kakashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693837263,"creation_date":1693829216,"question_id":77037558,"body_markdown":"```\r\nThe extra log is generating as \r\nWARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) (1 HHH000069: Duplicate generator name seqGenerator WARN (org.hibernate.boot.internal. InFlightMetadataCollector Impl:501) [1 HHH000069: Duplicate generator name seqGenerator\r\n\r\nWARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [] HHH000069: Duplicate generator name seqGenerator\r\n\r\nWARN (org.hibernate.boot.internal. InFlightMetadataCollector Imp1:501) [1 HHH000069: Duplicate generator name seqGenerator\r\n\r\nJ WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [] HHR000069: Duplicate generator name seqGenerator WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [] Hнн000069: Duplicate generator name seqGenerator\r\n\r\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) [] HHH000069: Duplicate generator name seqGenerator\r\n\r\nWARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) HHH000069: Duplicate generator name seqGenerator\r\n\r\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [1 HHн000069: Duplicate generator name seqGenerator\r\n\r\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollector Imp1:501) [1 HHR000069: Duplicate generator name seqGenerator\r\n\r\nWARN (org.hibernate.boot.internal. InFlightMetadataCollector Imp1:501) D HHH000069: Duplicate generator name seqGenerator\r\n\r\nWARN\r\n\r\n(org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [1 HHH000069: Duplicate generator name seqGenerator\r\n\r\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) [] HHн000069: Duplicate generator name seqGenerator\r\n\r\nWARN (org.hibernate.boot.internal. InFlightMetadataCollector Impl:501) [1 HHH000069: Duplicate generator name seqGenerator\r\n\r\nWARN (org.hibernate.boot.internal. InFlightMetadatacollectorImpl:501) [] HHH000069: Duplicate generator name seqGenerator\r\n\r\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) [] HHH000069: Duplicate generator name seqGenerator\r\n```\r\nhow can I solve this issue?","title":"In java for When spring version upgraded to 5.3.29 and hibernate version to 5.3.29.final","body":"<pre><code>The extra log is generating as \nWARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) (1 HHH000069: Duplicate generator name seqGenerator WARN (org.hibernate.boot.internal. InFlightMetadataCollector Impl:501) [1 HHH000069: Duplicate generator name seqGenerator\n\nWARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [] HHH000069: Duplicate generator name seqGenerator\n\nWARN (org.hibernate.boot.internal. InFlightMetadataCollector Imp1:501) [1 HHH000069: Duplicate generator name seqGenerator\n\nJ WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [] HHR000069: Duplicate generator name seqGenerator WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [] Hнн000069: Duplicate generator name seqGenerator\n\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) [] HHH000069: Duplicate generator name seqGenerator\n\nWARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) HHH000069: Duplicate generator name seqGenerator\n\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [1 HHн000069: Duplicate generator name seqGenerator\n\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollector Imp1:501) [1 HHR000069: Duplicate generator name seqGenerator\n\nWARN (org.hibernate.boot.internal. InFlightMetadataCollector Imp1:501) D HHH000069: Duplicate generator name seqGenerator\n\nWARN\n\n(org.hibernate.boot.internal. InFlightMetadataCollectorImpl:501) [1 HHH000069: Duplicate generator name seqGenerator\n\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) [] HHн000069: Duplicate generator name seqGenerator\n\nWARN (org.hibernate.boot.internal. InFlightMetadataCollector Impl:501) [1 HHH000069: Duplicate generator name seqGenerator\n\nWARN (org.hibernate.boot.internal. InFlightMetadatacollectorImpl:501) [] HHH000069: Duplicate generator name seqGenerator\n\n1 WARN (org.hibernate.boot.internal. InFlightMetadataCollectorImp1:501) [] HHH000069: Duplicate generator name seqGenerator\n</code></pre>\n<p>how can I solve this issue?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":5760488,"reputation":53,"user_id":4547088,"display_name":"y.decoux"},"score":0,"creation_date":1448547663,"post_id":33914933,"comment_id":55640903,"body_markdown":"I&#39;m afraid this answer is not correct.\nBoth properties definition are correct in Spring \n`foo.bar[A_VALUE]: from application.yml`\n`foo.bar[aValue]: from application.yml`\nThe problem is when we want to override the first with the second. Then the one which is supposed to override the first is not taken into account.","body":"I&#39;m afraid this answer is not correct. Both properties definition are correct in Spring  <code>foo.bar[A_VALUE]: from application.yml</code> <code>foo.bar[aValue]: from application.yml</code> The problem is when we want to override the first with the second. Then the one which is supposed to override the first is not taken into account."},{"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"score":0,"creation_date":1448616927,"post_id":33914933,"comment_id":55666423,"body_markdown":"Edited the original answer to reflect overriding rules.","body":"Edited the original answer to reflect overriding rules."}],"tags":[],"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448616892,"creation_date":1448449647,"answer_id":33914933,"question_id":33901724,"body_markdown":"Spring uses &lt;code&gt;StringToEnum&lt;/code&gt; for converting string values to enum. This class internally uses &lt;code&gt;java.lang.Enum#valueOf&lt;/code&gt; method to do the conversion. Enum class creates a map and then performs lookup on this map. Hence, the key must match the exact case for lookup to succeed.\r\n\r\nBelow test case will validate that:\r\n\r\n    enum SomeEnum{\r\n\t\tA, B\r\n    }\r\n\r\n    public class EnumTest {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SomeEnum e1 = Enum.valueOf(SomeEnum.class, &quot;A&quot;);\r\n\t\t    System.out.println(e1);\r\n\t\t    SomeEnum e2 = Enum.valueOf(SomeEnum.class, &quot;a&quot;); //throws exception\r\n\t    }\r\n    }\r\n\r\nHence, spring fall backs to value defined in your application.yml when it fails to convert value passed from command line.\r\n\r\n\r\n----------\r\n\r\nEDIT\r\n\r\nIf you try the following combinations:\r\n\r\n    foo.bar[A_VALUE]: from application.yml\r\n    foo.bar[A_VALUE]: from command line\r\n    {A_VALUE=from command line}\r\n\r\n    foo.bar[A_VALUE]: from application.yml\r\n    foo.bar[aValue]: from command line\r\n    {A_VALUE=from application.yml}\r\n\r\n    foo.bar[aValue]: from application.yml\r\n    foo.bar[A_VALUE]: from command line\r\n    {A_VALUE=from application.yml}\r\n\r\n    foo.bar[aValue]: from application.yml\r\n    foo.bar[aValue]: from command line\r\n    {A_VALUE=from command line}\r\n\r\n1st &amp; 4th Scenario - As key names are exactly same, first command line property is set. This property is added to processed list and thus YML property is ignored.\r\n\r\n2nd &amp; 3rd Scenario - As key names are different, both command line &amp; YML properties are processed. YML being processed second override the value set from command line.\r\n","title":"ConfigurationProperties with Enum values in different case","body":"<p>Spring uses <code>StringToEnum</code> for converting string values to enum. This class internally uses <code>java.lang.Enum#valueOf</code> method to do the conversion. Enum class creates a map and then performs lookup on this map. Hence, the key must match the exact case for lookup to succeed.</p>\n\n<p>Below test case will validate that:</p>\n\n<pre><code>enum SomeEnum{\n    A, B\n}\n\npublic class EnumTest {\n\n    public static void main(String[] args) {\n        SomeEnum e1 = Enum.valueOf(SomeEnum.class, \"A\");\n        System.out.println(e1);\n        SomeEnum e2 = Enum.valueOf(SomeEnum.class, \"a\"); //throws exception\n    }\n}\n</code></pre>\n\n<p>Hence, spring fall backs to value defined in your application.yml when it fails to convert value passed from command line.</p>\n\n<hr>\n\n<p>EDIT</p>\n\n<p>If you try the following combinations:</p>\n\n<pre><code>foo.bar[A_VALUE]: from application.yml\nfoo.bar[A_VALUE]: from command line\n{A_VALUE=from command line}\n\nfoo.bar[A_VALUE]: from application.yml\nfoo.bar[aValue]: from command line\n{A_VALUE=from application.yml}\n\nfoo.bar[aValue]: from application.yml\nfoo.bar[A_VALUE]: from command line\n{A_VALUE=from application.yml}\n\nfoo.bar[aValue]: from application.yml\nfoo.bar[aValue]: from command line\n{A_VALUE=from command line}\n</code></pre>\n\n<p>1st &amp; 4th Scenario - As key names are exactly same, first command line property is set. This property is added to processed list and thus YML property is ignored.</p>\n\n<p>2nd &amp; 3rd Scenario - As key names are different, both command line &amp; YML properties are processed. YML being processed second override the value set from command line.</p>\n"},{"tags":[],"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693837153,"creation_date":1504259823,"answer_id":45997666,"question_id":33901724,"body_markdown":"In config properties, the last one wins:\r\n\r\n* application.yaml (1)\r\n\r\n        foo.bar.A_VALUE : 111  \r\n        foo.bar.aValue  : 222    # output &#39;222&#39;, overridden\r\n\r\n* application.yaml (2)\r\n\r\n        foo.bar.aValue  : 222   \r\n        foo.bar.A_VALUE : 111    # output &#39;111&#39;, overridden \r\n\r\n\r\nSo, when debug at [PropertiesConfigurationFactory#doBindPropertiesToTarget()](https://github.com/spring-projects/spring-boot/blob/v1.5.2.RELEASE/spring-boot/src/main/java/org/springframework/boot/bind/PropertiesConfigurationFactory.java#L272)  （I&#39;m using spring-boot 1.5.2）, with :\r\n\r\n* JVM options `-Dfoo.bar.B_VALUE=b11 -Dfoo.bar.cValue=c11`\r\n* application.yml :\r\n\r\n        foo.bar:\r\n          A_VALUE: aaa\r\n          B_VALUE: bbb\r\n          C_VALUE: ccc\r\n          D_VALUE: dddd\r\n          dValue: ddd\r\n        \r\n        logging.level:\r\n          org.springframework.boot.env: TRACE\r\n          org.springframework.boot.context.config: DEBUG\r\n\r\npropertyValues#propertyValues which is LinkedHashMap, with the following property key order : \r\n\r\n    // keys are unique, when the same key, systemProperties take first.\r\n    0. `foo.bar.B_VALUE`  from &#39;systemProperties&#39;\r\n    1. `foo.bar.cValue`   from &#39;systemProperties&#39;\r\n    2. `foo.bar.A_VALUE`  from &#39;applicationConfig: [classpath:/application.yml]&#39;\r\n    3. `foo.bar.C_VALUE`  from &#39;applicationConfig: [classpath:/application.yml]&#39;\r\n    4. `foo.bar.D_VALUE`  from &#39;applicationConfig: [classpath:/application.yml]&#39;\r\n    5. `foo.bar.dValue`   from &#39;applicationConfig: [classpath:/application.yml]&#39;\r\n\r\n\r\nThe console output is :\r\n\r\n    B_VALUE b11  // systemProperties first \r\n    A_VALUE aaa  \r\n    D_VALUE ddd  // the last one wins. (foo.bar.dValue) \r\n    C_VALUE ccc  //the last one wins. (foo.bar.C_VALUE)\r\n\r\nIn my test, with JSON notation : \r\n\r\n    PropertiesConfigurationFactory#propertySources = {\r\n        class : ConfigurationPropertiesBindingPostProcessor$FlatPropertySources\r\n        propertySources : [ { \r\n            class : PropertySourcesPlaceholderConfigurer$1\r\n            name  : &#39;environmentProperties&#39;,\r\n            source: {\r\n                class           : StandardServletEnvironment,\r\n                propertySource  : {\r\n                    class               : MutablePropertySources,\r\n                    propertySourceList  : [{\r\n                        class: PropertySource$StubPropertySource,\r\n                        name : &#39;servletConfigInitParams&#39;\r\n                    }, {\r\n                        class: MapPropertySource,\r\n                        name : &#39;systemProperties&#39;\r\n                    }, {\r\n                        class: SystemEnvironmentPropertySource,\r\n                        name : &#39;systemEnvironment&#39;\r\n                    }, {\r\n                        class: RandomValuePropertySource,\r\n                        name : &#39;random&#39;\r\n                    }, {\r\n                        class: MapPropertySource,\r\n                        name : &#39;applicationConfig: [classpath:/application.yml]&#39;\r\n                    }, {\r\n                        class: MapPropertySource,\r\n                        name : &#39;refresh&#39;\r\n                    }]\r\n                }\r\n            }\r\n        }, {\r\n            class : PropertiesPropertySource,\r\n            name  : &#39;localProperties&#39;,\r\n            source: &lt;Properties&gt;  // empty in my test\r\n        }]\r\n    }\r\n\r\nNOTICE: Class `PropertiesConfigurationFactory` has been removed in spring boot 2.x.\r\n\r\n--------------------------\r\nPS: When searching for this question, I wanted to figure out what notions Enum values (such A_VALUE) can be written in config properties. The answer is just as @Mohit said.\r\n\r\n\r\n    RelaxedDataBinder#bind()\r\n      RelaxedConversionService#convert()\r\n        1. try DefaultConvertionService#convert()\r\n           \r\n           # only support `A_VALUE`\r\n           StringToEnumConverterFactory#StringToEnum#convert()\r\n\r\n        2. then GenericConversionService#convert()\r\n           \r\n           # the config key can be :\r\n           # 0 = &quot;a-value&quot;\r\n           # 1 = &quot;a_value&quot;\r\n           # 2 = &quot;aValue&quot;\r\n           # 3 = &quot;avalue&quot;\r\n           # 4 = &quot;A-VALUE&quot;\r\n           # 5 = &quot;A_VALUE&quot;\r\n           # 6 = &quot;AVALUE&quot;\r\n           RelaxedConversionService$StringToEnumIgnoringCaseConverterFactory$StringToEnum#convert() \r\n","title":"ConfigurationProperties with Enum values in different case","body":"<p>In config properties, the last one wins:</p>\n<ul>\n<li><p>application.yaml (1)</p>\n<pre><code>  foo.bar.A_VALUE : 111  \n  foo.bar.aValue  : 222    # output '222', overridden\n</code></pre>\n</li>\n<li><p>application.yaml (2)</p>\n<pre><code>  foo.bar.aValue  : 222   \n  foo.bar.A_VALUE : 111    # output '111', overridden \n</code></pre>\n</li>\n</ul>\n<p>So, when debug at <a href=\"https://github.com/spring-projects/spring-boot/blob/v1.5.2.RELEASE/spring-boot/src/main/java/org/springframework/boot/bind/PropertiesConfigurationFactory.java#L272\" rel=\"nofollow noreferrer\">PropertiesConfigurationFactory#doBindPropertiesToTarget()</a>  （I'm using spring-boot 1.5.2）, with :</p>\n<ul>\n<li><p>JVM options <code>-Dfoo.bar.B_VALUE=b11 -Dfoo.bar.cValue=c11</code></p>\n</li>\n<li><p>application.yml :</p>\n<pre><code>  foo.bar:\n    A_VALUE: aaa\n    B_VALUE: bbb\n    C_VALUE: ccc\n    D_VALUE: dddd\n    dValue: ddd\n\n  logging.level:\n    org.springframework.boot.env: TRACE\n    org.springframework.boot.context.config: DEBUG\n</code></pre>\n</li>\n</ul>\n<p>propertyValues#propertyValues which is LinkedHashMap, with the following property key order :</p>\n<pre><code>// keys are unique, when the same key, systemProperties take first.\n0. `foo.bar.B_VALUE`  from 'systemProperties'\n1. `foo.bar.cValue`   from 'systemProperties'\n2. `foo.bar.A_VALUE`  from 'applicationConfig: [classpath:/application.yml]'\n3. `foo.bar.C_VALUE`  from 'applicationConfig: [classpath:/application.yml]'\n4. `foo.bar.D_VALUE`  from 'applicationConfig: [classpath:/application.yml]'\n5. `foo.bar.dValue`   from 'applicationConfig: [classpath:/application.yml]'\n</code></pre>\n<p>The console output is :</p>\n<pre><code>B_VALUE b11  // systemProperties first \nA_VALUE aaa  \nD_VALUE ddd  // the last one wins. (foo.bar.dValue) \nC_VALUE ccc  //the last one wins. (foo.bar.C_VALUE)\n</code></pre>\n<p>In my test, with JSON notation :</p>\n<pre><code>PropertiesConfigurationFactory#propertySources = {\n    class : ConfigurationPropertiesBindingPostProcessor$FlatPropertySources\n    propertySources : [ { \n        class : PropertySourcesPlaceholderConfigurer$1\n        name  : 'environmentProperties',\n        source: {\n            class           : StandardServletEnvironment,\n            propertySource  : {\n                class               : MutablePropertySources,\n                propertySourceList  : [{\n                    class: PropertySource$StubPropertySource,\n                    name : 'servletConfigInitParams'\n                }, {\n                    class: MapPropertySource,\n                    name : 'systemProperties'\n                }, {\n                    class: SystemEnvironmentPropertySource,\n                    name : 'systemEnvironment'\n                }, {\n                    class: RandomValuePropertySource,\n                    name : 'random'\n                }, {\n                    class: MapPropertySource,\n                    name : 'applicationConfig: [classpath:/application.yml]'\n                }, {\n                    class: MapPropertySource,\n                    name : 'refresh'\n                }]\n            }\n        }\n    }, {\n        class : PropertiesPropertySource,\n        name  : 'localProperties',\n        source: &lt;Properties&gt;  // empty in my test\n    }]\n}\n</code></pre>\n<p>NOTICE: Class <code>PropertiesConfigurationFactory</code> has been removed in spring boot 2.x.</p>\n<hr />\n<p>PS: When searching for this question, I wanted to figure out what notions Enum values (such A_VALUE) can be written in config properties. The answer is just as @Mohit said.</p>\n<pre><code>RelaxedDataBinder#bind()\n  RelaxedConversionService#convert()\n    1. try DefaultConvertionService#convert()\n       \n       # only support `A_VALUE`\n       StringToEnumConverterFactory#StringToEnum#convert()\n\n    2. then GenericConversionService#convert()\n       \n       # the config key can be :\n       # 0 = &quot;a-value&quot;\n       # 1 = &quot;a_value&quot;\n       # 2 = &quot;aValue&quot;\n       # 3 = &quot;avalue&quot;\n       # 4 = &quot;A-VALUE&quot;\n       # 5 = &quot;A_VALUE&quot;\n       # 6 = &quot;AVALUE&quot;\n       RelaxedConversionService$StringToEnumIgnoringCaseConverterFactory$StringToEnum#convert() \n</code></pre>\n"}],"owner":{"account_id":5760488,"reputation":53,"user_id":4547088,"display_name":"y.decoux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693837153,"creation_date":1448391679,"question_id":33901724,"body_markdown":"There&#39;s a behavior for which I can&#39;t find the related documentation.\r\nLet&#39;s assume the following code. It is supposed to display in the console what has been configured with the foo.bar property :\r\n\r\n    @SpringBootApplication\r\n    @Component\r\n    public class Test {\r\n        @Autowired\r\n        TestConfig testConfig;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            ConfigurableApplicationContext run = new SpringApplication(Test.class).run(args);\r\n            Test test = run.getBean(Test.class);\r\n            test.run();\r\n        }\r\n    \r\n        public void run() throws Exception {\r\n            testConfig.getBar().entrySet().forEach(e -&gt; {\r\n                System.out.println(e.getKey() + &quot; &quot; + e.getValue());\r\n            });\r\n        }\r\n    \r\n        @Configuration\r\n        @ConfigurationProperties(ignoreUnknownFields = false, prefix = &quot;foo&quot;)\r\n        static class TestConfig {\r\n            private Map&lt;SomeEnum, String&gt; bar = new HashMap&lt;&gt;();\r\n    \r\n            public Map&lt;SomeEnum, String&gt; getBar() {\r\n                return bar;\r\n            }\r\n    \r\n            public void setBar(Map&lt;SomeEnum, String&gt; bar) {\r\n                this.bar = bar;\r\n            }\r\n        }\r\n    }\r\n\r\nIf you set the following property in application.yml (`foo.bar[A_VALUE]: from application.yml`), it will be correctly picked up and display &quot;from application.yml&quot; in the console, nothing fancy\r\n\r\n\r\nNow if you use the exact same code, but this time you want to override the property defined in application.yml with a command line argument and set --`foo.bar[aValue]=&quot;from command line&quot;` as a command line arg (note that this time I used camel case for the enum reference). It is still displayed &quot;from application.yml&quot; in the console and not the overridden property.\r\n\r\nIf I chose Uppercase enum in command line and camel case enum in the application.yml, it will still display the same thing to the console.\r\n\r\nIs it the expected behavior ?\r\nWhat is the rule in such situation ?\r\n\r\nFrom what I&#39;ve tested, it is the exact opposite of what is described in https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\r\n\r\nI&#39;ve tested with spring boot 1.2.5.RELEASE and with 1.3.0.RELEASE\r\n\r\nThanks for your time","title":"ConfigurationProperties with Enum values in different case","body":"<p>There's a behavior for which I can't find the related documentation.\nLet's assume the following code. It is supposed to display in the console what has been configured with the foo.bar property :</p>\n\n<pre><code>@SpringBootApplication\n@Component\npublic class Test {\n    @Autowired\n    TestConfig testConfig;\n\n    public static void main(String[] args) throws Exception {\n        ConfigurableApplicationContext run = new SpringApplication(Test.class).run(args);\n        Test test = run.getBean(Test.class);\n        test.run();\n    }\n\n    public void run() throws Exception {\n        testConfig.getBar().entrySet().forEach(e -&gt; {\n            System.out.println(e.getKey() + \" \" + e.getValue());\n        });\n    }\n\n    @Configuration\n    @ConfigurationProperties(ignoreUnknownFields = false, prefix = \"foo\")\n    static class TestConfig {\n        private Map&lt;SomeEnum, String&gt; bar = new HashMap&lt;&gt;();\n\n        public Map&lt;SomeEnum, String&gt; getBar() {\n            return bar;\n        }\n\n        public void setBar(Map&lt;SomeEnum, String&gt; bar) {\n            this.bar = bar;\n        }\n    }\n}\n</code></pre>\n\n<p>If you set the following property in application.yml (<code>foo.bar[A_VALUE]: from application.yml</code>), it will be correctly picked up and display \"from application.yml\" in the console, nothing fancy</p>\n\n<p>Now if you use the exact same code, but this time you want to override the property defined in application.yml with a command line argument and set --<code>foo.bar[aValue]=\"from command line\"</code> as a command line arg (note that this time I used camel case for the enum reference). It is still displayed \"from application.yml\" in the console and not the overridden property.</p>\n\n<p>If I chose Uppercase enum in command line and camel case enum in the application.yml, it will still display the same thing to the console.</p>\n\n<p>Is it the expected behavior ?\nWhat is the rule in such situation ?</p>\n\n<p>From what I've tested, it is the exact opposite of what is described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\" rel=\"nofollow\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config</a></p>\n\n<p>I've tested with spring boot 1.2.5.RELEASE and with 1.3.0.RELEASE</p>\n\n<p>Thanks for your time</p>\n"},{"tags":["java","android","file"],"owner":{"account_id":9694452,"reputation":11,"user_id":7191404,"display_name":"Yusuf_sust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693836143,"creation_date":1693836143,"question_id":77038392,"body_markdown":"I want to save my mediaMuxer data in memory so I used ParcelFileDescriptor to save data in memory but given IllegalStateException and mediaMuxer did not start. I have tried several techniques like MemoryFile, Socket, ByteOutputStream but got the same exception. Bellow is my sample code\r\n\r\n```\r\ntry {\r\n            ParcelFileDescriptor[] pipe = ParcelFileDescriptor.createPipe();\r\n            outputParcelFileDescriptor = pipe[1];\r\n            FileDescriptor fd = outputParcelFileDescriptor.getFileDescriptor();\r\n\r\n            String text = &quot;MemoryFile Text&quot;;\r\n\r\n   \r\n\r\n            MediaMuxer mediaMuxer = new MediaMuxer(fd, MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4);\r\n\r\n            MediaFormat mediaFormat = MediaFormat.createVideoFormat(MediaFormat.MIMETYPE_VIDEO_AVC, 640, 480);\r\n\r\n            // Configure media format\r\n            mediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);\r\n            mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, 2000000);\r\n            mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, FRAME_RATE);\r\n            mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, IFRAME_INTERVAL);\r\n\r\n            // Create the encoder and input surface\r\n            MediaCodec mediaCodec = MediaCodec.createEncoderByType(MediaFormat.MIMETYPE_VIDEO_AVC);\r\n            mediaCodec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\r\n            Surface inputSurface = mediaCodec.createInputSurface();\r\n            mediaCodec.start();\r\n\r\n            // Render text frames onto the input surface\r\n            Canvas canvas = inputSurface.lockCanvas(null);\r\n            Paint paint = new Paint();\r\n            paint.setColor(Color.WHITE);\r\n            paint.setTextSize(40);\r\n            canvas.drawColor(Color.BLACK);\r\n            canvas.drawText(text, 100, 240, paint);\r\n            inputSurface.unlockCanvasAndPost(canvas);\r\n\r\n            // Encode and mux frames\r\n            MediaCodec.BufferInfo bufferInfo = new MediaCodec.BufferInfo();\r\n            ByteBuffer[] outputBuffers = mediaCodec.getOutputBuffers();\r\n            boolean muxing = true;\r\n\r\n            while (muxing) {\r\n                int encoderStatus = mediaCodec.dequeueOutputBuffer(bufferInfo, -1);\r\n                if (encoderStatus &gt;= 0) {\r\n                    ByteBuffer encodedData = outputBuffers[encoderStatus];\r\n\r\n                    if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_CODEC_CONFIG) != 0) {\r\n                        bufferInfo.size = 0;\r\n                    }\r\n\r\n                    if (bufferInfo.size != 0) {\r\n                        encodedData.position(bufferInfo.offset);\r\n                        encodedData.limit(bufferInfo.offset + bufferInfo.size);\r\n                        mediaMuxer.writeSampleData(0, encodedData, bufferInfo);\r\n                    }\r\n\r\n                    mediaCodec.releaseOutputBuffer(encoderStatus, false);\r\n\r\n                    if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_END_OF_STREAM) != 0) {\r\n                        break;\r\n                    }\r\n                } else if (encoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {\r\n                    // Configure the media format for the muxer\r\n                    MediaFormat outputFormat = mediaCodec.getOutputFormat();\r\n                    mediaMuxer.addTrack(outputFormat);\r\n                    mediaMuxer.start();\r\n                }\r\n            }\r\n\r\n            mediaMuxer.stop();\r\n            mediaMuxer.release();\r\n            mediaCodec.stop();\r\n            mediaCodec.release();\r\n            outputParcelFileDescriptor.close();\r\n           \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;MainActivity&quot;, e.toString());\r\n\r\n        }\r\n```\r\n\r\nI have tried several methods to save data in memory but got the same IllegalStateException","title":"What is the actual format of filedescriptor that is used in mediamuxer?","body":"<p>I want to save my mediaMuxer data in memory so I used ParcelFileDescriptor to save data in memory but given IllegalStateException and mediaMuxer did not start. I have tried several techniques like MemoryFile, Socket, ByteOutputStream but got the same exception. Bellow is my sample code</p>\n<pre><code>try {\n            ParcelFileDescriptor[] pipe = ParcelFileDescriptor.createPipe();\n            outputParcelFileDescriptor = pipe[1];\n            FileDescriptor fd = outputParcelFileDescriptor.getFileDescriptor();\n\n            String text = &quot;MemoryFile Text&quot;;\n\n   \n\n            MediaMuxer mediaMuxer = new MediaMuxer(fd, MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4);\n\n            MediaFormat mediaFormat = MediaFormat.createVideoFormat(MediaFormat.MIMETYPE_VIDEO_AVC, 640, 480);\n\n            // Configure media format\n            mediaFormat.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);\n            mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, 2000000);\n            mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, FRAME_RATE);\n            mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, IFRAME_INTERVAL);\n\n            // Create the encoder and input surface\n            MediaCodec mediaCodec = MediaCodec.createEncoderByType(MediaFormat.MIMETYPE_VIDEO_AVC);\n            mediaCodec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\n            Surface inputSurface = mediaCodec.createInputSurface();\n            mediaCodec.start();\n\n            // Render text frames onto the input surface\n            Canvas canvas = inputSurface.lockCanvas(null);\n            Paint paint = new Paint();\n            paint.setColor(Color.WHITE);\n            paint.setTextSize(40);\n            canvas.drawColor(Color.BLACK);\n            canvas.drawText(text, 100, 240, paint);\n            inputSurface.unlockCanvasAndPost(canvas);\n\n            // Encode and mux frames\n            MediaCodec.BufferInfo bufferInfo = new MediaCodec.BufferInfo();\n            ByteBuffer[] outputBuffers = mediaCodec.getOutputBuffers();\n            boolean muxing = true;\n\n            while (muxing) {\n                int encoderStatus = mediaCodec.dequeueOutputBuffer(bufferInfo, -1);\n                if (encoderStatus &gt;= 0) {\n                    ByteBuffer encodedData = outputBuffers[encoderStatus];\n\n                    if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_CODEC_CONFIG) != 0) {\n                        bufferInfo.size = 0;\n                    }\n\n                    if (bufferInfo.size != 0) {\n                        encodedData.position(bufferInfo.offset);\n                        encodedData.limit(bufferInfo.offset + bufferInfo.size);\n                        mediaMuxer.writeSampleData(0, encodedData, bufferInfo);\n                    }\n\n                    mediaCodec.releaseOutputBuffer(encoderStatus, false);\n\n                    if ((bufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_END_OF_STREAM) != 0) {\n                        break;\n                    }\n                } else if (encoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {\n                    // Configure the media format for the muxer\n                    MediaFormat outputFormat = mediaCodec.getOutputFormat();\n                    mediaMuxer.addTrack(outputFormat);\n                    mediaMuxer.start();\n                }\n            }\n\n            mediaMuxer.stop();\n            mediaMuxer.release();\n            mediaCodec.stop();\n            mediaCodec.release();\n            outputParcelFileDescriptor.close();\n           \n        } catch (Exception e) {\n            e.printStackTrace();\n            Log.e(&quot;MainActivity&quot;, e.toString());\n\n        }\n</code></pre>\n<p>I have tried several methods to save data in memory but got the same IllegalStateException</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":972643,"reputation":2039,"user_id":994851,"accept_rate":59,"display_name":"Coen Damen"},"score":0,"creation_date":1476862894,"post_id":39922071,"comment_id":67520258,"body_markdown":"getting the same error here.","body":"getting the same error here."},{"owner":{"account_id":1728701,"reputation":681,"user_id":1582805,"accept_rate":20,"display_name":"sbolla"},"score":0,"creation_date":1476986556,"post_id":39922071,"comment_id":67591714,"body_markdown":"i am seeing this too","body":"i am seeing this too"},{"owner":{"account_id":2564616,"reputation":3507,"user_id":2225030,"accept_rate":86,"display_name":"Harshil Doshi"},"score":0,"creation_date":1524720703,"post_id":39922071,"comment_id":87086893,"body_markdown":"you can check here: https://stackoverflow.com/a/40201575/2225030","body":"you can check here: <a href=\"https://stackoverflow.com/a/40201575/2225030\">stackoverflow.com/a/40201575/2225030</a>"}],"answers":[{"tags":[],"owner":{"account_id":9511901,"reputation":61,"user_id":7069565,"display_name":"Omar N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477398827,"creation_date":1477398827,"answer_id":40240115,"question_id":39922071,"body_markdown":"Well, I had a simmilar error, due to SessionNotCreatedException, caused by DesiredCapabilities discrepancy.\r\n\r\nOn further research, I went back to https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver.  In the &quot;Required Configuration&quot; section was my solution:\r\n\r\n&quot;Additionally, &quot;Enhanced Protected Mode&quot; must be disabled for IE 10 and higher. This option is found in the Advanced tab of the Internet Options dialog.&quot;\r\n\r\nSo, I went to Tools -&gt; Internet Options -&gt; Advanced Settings -&gt; Security section.\r\n\r\nUnchecked &quot;Enable enhanced protected mode&quot;.  Bingo! \r\n\r\nI recommend you go through the &quot;Required Configuration&quot; section in the github link above.  There might be other settings you need to apply.","title":"Selenium getting error","body":"<p>Well, I had a simmilar error, due to SessionNotCreatedException, caused by DesiredCapabilities discrepancy.</p>\n\n<p>On further research, I went back to <a href=\"https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver\" rel=\"nofollow\">https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver</a>.  In the \"Required Configuration\" section was my solution:</p>\n\n<p>\"Additionally, \"Enhanced Protected Mode\" must be disabled for IE 10 and higher. This option is found in the Advanced tab of the Internet Options dialog.\"</p>\n\n<p>So, I went to Tools -> Internet Options -> Advanced Settings -> Security section.</p>\n\n<p>Unchecked \"Enable enhanced protected mode\".  Bingo! </p>\n\n<p>I recommend you go through the \"Required Configuration\" section in the github link above.  There might be other settings you need to apply.</p>\n"},{"tags":[],"owner":{"account_id":12396229,"reputation":1,"user_id":9035907,"display_name":"Karan Khot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544004509,"creation_date":1512073112,"answer_id":47581903,"question_id":39922071,"body_markdown":"I realized that **IE browser capabilities** had to be changed to support selenium. like zoom, protected mode, etc ... &lt;br&gt;\r\ntry changing IE settings and it should work.","title":"Selenium getting error","body":"<p>I realized that <strong>IE browser capabilities</strong> had to be changed to support selenium. like zoom, protected mode, etc ... <br>\ntry changing IE settings and it should work.</p>\n"}],"owner":{"account_id":9347487,"reputation":11,"user_id":6938316,"display_name":"abhinash gatta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11953,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693836090,"creation_date":1475858107,"question_id":39922071,"body_markdown":"This is my selenium test script.\n\n\n    \r\n\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.openqa.selenium.ie.InternetExplorerDriver;\n    \n    public class Adminlogin {\n    \n    \tpublic static void main(String[] args) {\n    \t\t\n    \t\t//File file = new File(&quot;C:/Selenium/IEDriverServer_x64_2.53.1/IEDriverServer.exe&quot;);\n    \t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, &quot;C:/Selenium/IEDriverServer_x64_2.53.1/IEDriverServer.exe&quot;);\n    \t\tWebDriver driver = new InternetExplorerDriver();\n    \t\n    \t\t//driver.close(); //Closes the browser\n    \t}\n    \n    }\n\n    \r\nI am getting this error,\r\n\n\r\n\n    Started InternetExplorerDriver server (64-bit)\n    2.53.1.0\n    Listening on port 35197\n    Only local connections are allowed\n    Oct 07, 2016 9:54:51 PM org.openqa.selenium.remote.ProtocolHandshake           createSession\n    INFO: Attempting bi-dialect session, assuming Postel&#39;s Law holds true on the remote end\n    Oct 07, 2016 9:54:52 PM org.openqa.selenium.remote.ProtocolHandshake  createSession\n    INFO: Falling back to straight W3C remote end connection\n    Oct 07, 2016 9:54:52 PM org.openqa.selenium.remote.ProtocolHandshake createSession\n    INFO: Falling back to original OSS JSON Wire Protocol.\n    Exception in thread &quot;main&quot; org.openqa.selenium.remote.UnreachableBrowserException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n    Build info: version: &#39;unknown&#39;, revision: &#39;c7b525d&#39;, time: &#39;2016-09-01 14:52:30 -0700&#39;\n    System info: host: &#39;user-PC&#39;, ip: &#39;192.168.2.113&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_31&#39;\n    Driver info: driver.version: InternetExplorerDriver\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:618)\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:228)\n    \tat org.openqa.selenium.ie.InternetExplorerDriver.run(InternetExplorerDriver.java:180)\n    \tat org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:172)\n    \tat org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:144)\n    \tat Sanitytests.Adminlogin.main(Adminlogin.java:13)\n    Caused by: org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session. desired capabilities = Capabilities [{ensureCleanSession=true, browserName=internet explorer, version=, platform=WINDOWS}], required capabilities = null\n    Build info: version: &#39;unknown&#39;, revision: &#39;c7b525d&#39;, time: &#39;2016-09-01 14:52:30 -0700&#39;\n    System info: host: &#39;user-PC&#39;, ip: &#39;192.168.2.113&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_31&#39;\n    Driver info: driver.version: InternetExplorerDriver\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:80)\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:597)\n\n\n\r\n","title":"Selenium getting error","body":"<p>This is my selenium test script.</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\n\npublic class Adminlogin {\n\n    public static void main(String[] args) {\n\n        //File file = new File(\"C:/Selenium/IEDriverServer_x64_2.53.1/IEDriverServer.exe\");\n        System.setProperty(\"webdriver.ie.driver\", \"C:/Selenium/IEDriverServer_x64_2.53.1/IEDriverServer.exe\");\n        WebDriver driver = new InternetExplorerDriver();\n\n        //driver.close(); //Closes the browser\n    }\n\n}\n</code></pre>\n\n<p>I am getting this error,</p>\n\n<pre><code>Started InternetExplorerDriver server (64-bit)\n2.53.1.0\nListening on port 35197\nOnly local connections are allowed\nOct 07, 2016 9:54:51 PM org.openqa.selenium.remote.ProtocolHandshake           createSession\nINFO: Attempting bi-dialect session, assuming Postel's Law holds true on the remote end\nOct 07, 2016 9:54:52 PM org.openqa.selenium.remote.ProtocolHandshake  createSession\nINFO: Falling back to straight W3C remote end connection\nOct 07, 2016 9:54:52 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Falling back to original OSS JSON Wire Protocol.\nException in thread \"main\" org.openqa.selenium.remote.UnreachableBrowserException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nBuild info: version: 'unknown', revision: 'c7b525d', time: '2016-09-01 14:52:30 -0700'\nSystem info: host: 'user-PC', ip: '192.168.2.113', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_31'\nDriver info: driver.version: InternetExplorerDriver\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:618)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:228)\n    at org.openqa.selenium.ie.InternetExplorerDriver.run(InternetExplorerDriver.java:180)\n    at org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:172)\n    at org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:144)\n    at Sanitytests.Adminlogin.main(Adminlogin.java:13)\nCaused by: org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session. desired capabilities = Capabilities [{ensureCleanSession=true, browserName=internet explorer, version=, platform=WINDOWS}], required capabilities = null\nBuild info: version: 'unknown', revision: 'c7b525d', time: '2016-09-01 14:52:30 -0700'\nSystem info: host: 'user-PC', ip: '192.168.2.113', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_31'\nDriver info: driver.version: InternetExplorerDriver\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:80)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:597)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693834073,"post_id":77038103,"comment_id":135808578,"body_markdown":"If this file is part of your project, the concept you might be looking for is &quot;resource files&quot;. Have a random tutorial: https://mkyong.com/java/java-read-a-file-from-resources-folder/","body":"If this file is part of your project, the concept you might be looking for is &quot;resource files&quot;. Have a random tutorial: <a href=\"https://mkyong.com/java/java-read-a-file-from-resources-folder/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-read-a-file-from-resources-folder</a>"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693834094,"post_id":77038103,"comment_id":135808586,"body_markdown":"You can do `Path path = Paths.get(&quot;Rooms.txt&quot;)` when Room.txt is in the same folder where your Java file is (e.g. in the src folder in an IDE like IntelliJ).","body":"You can do <code>Path path = Paths.get(&quot;Rooms.txt&quot;)</code> when Room.txt is in the same folder where your Java file is (e.g. in the src folder in an IDE like IntelliJ)."},{"owner":{"account_id":24782675,"reputation":11,"user_id":22430057,"display_name":"Will Screwdriver"},"score":0,"creation_date":1693834292,"post_id":77038103,"comment_id":135808627,"body_markdown":"I&#39;ve tried this but I still get the file not found error if it is in the folder as well.","body":"I&#39;ve tried this but I still get the file not found error if it is in the folder as well."},{"owner":{"account_id":24782675,"reputation":11,"user_id":22430057,"display_name":"Will Screwdriver"},"score":0,"creation_date":1693834531,"post_id":77038103,"comment_id":135808661,"body_markdown":"I have also seen that exact link while trying to research unfortunately it all led me back to where I started with it not being found.","body":"I have also seen that exact link while trying to research unfortunately it all led me back to where I started with it not being found."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693849159,"post_id":77038103,"comment_id":135811292,"body_markdown":"@ArvindKumarAvinash That is completely wrong.  There is no guarantee of what the current directory will be when the program is running.","body":"@ArvindKumarAvinash That is completely wrong.  There is no guarantee of what the current directory will be when the program is running."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693849353,"post_id":77038103,"comment_id":135811324,"body_markdown":"Do not call Files.readAllLines(path) twice.  Reading files is a slow operation.  Do it only once.","body":"Do not call Files.readAllLines(path) twice.  Reading files is a slow operation.  Do it only once."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693854693,"post_id":77038103,"comment_id":135812117,"body_markdown":"@VGR You are right. What I have mentioned works only within the IDE.","body":"@VGR You are right. What I have mentioned works only within the IDE."}],"answers":[{"comments":[{"owner":{"account_id":24782675,"reputation":11,"user_id":22430057,"display_name":"Will Screwdriver"},"score":0,"creation_date":1693835012,"post_id":77038196,"comment_id":135808757,"body_markdown":"as I tried to do that I got this error: Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.io.BufferedInputStream cannot be cast to class java.nio.file.Path (java.io.BufferedInputStream and java.nio.file.Path are in module java.base of loader &#39;bootstrap&#39;) and its now refereing to the change I had to make here : String room1 = Files.readAllLines((Path) path).get(1);","body":"as I tried to do that I got this error: Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.io.BufferedInputStream cannot be cast to class java.nio.file.Path (java.io.BufferedInputStream and java.nio.file.Path are in module java.base of loader &#39;bootstrap&#39;) and its now refereing to the change I had to make here : String room1 = Files.readAllLines((Path) path).get(1);"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1693835704,"post_id":77038196,"comment_id":135808888,"body_markdown":"An `InputStream` is not a `Path`. See my updates","body":"An <code>InputStream</code> is not a <code>Path</code>. See my updates"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693849305,"post_id":77038196,"comment_id":135811312,"body_markdown":"Do not do getClass().getClassLoader().getResourceAsStream(&quot;Rooms.txt&quot;).  For compatibility with modular applications, do `Game.class.getResourceAsStream(&quot;/Rooms.txt&quot;)` instead.  Class.getResourceAsStream will always have better support than ClassLoader.getResourceAsStream.","body":"Do not do getClass().getClassLoader().getResourceAsStream(&quot;Rooms.txt&quot;)&zwnj;&#8203;.  For compatibility with modular applications, do <code>Game.class.getResourceAsStream(&quot;&#47;Rooms.txt&quot;)</code> instead.  Class.getResourceAsStream will always have better support than ClassLoader.getResourceAsStream."}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693836006,"creation_date":1693834622,"answer_id":77038196,"question_id":77038103,"body_markdown":"It&#39;s best to include any resources alongside your class files so that they can be accessed via the [`ClassLoader`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassLoader.html). If building with Maven or Gradle you would store the file at `src/main/resources/Rooms.txt` which would then get packed inside the jar file alongside the class files.\r\n\r\nYou could then access via\r\n\r\n```java\r\ntry (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;Rooms.txt&quot;)) {\r\n  if (in == null) throw new RuntimeException(&quot;Could not find Rooms.txt on classpath&quot;);\r\n  BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n  String[] lines = reader.lines().toArray(String[]:new);\r\n  String room1 = lines[1];\r\n  String room1Desc = lines[2];\r\n  ...\r\n}\r\n```\r\n\r\nIt&#39;s probably best if you change your `Rooms.txt` to `Rooms.json` and use a json parsing library to read/write the json. Then you could have complex/nested data structures in the file. Eg\r\n\r\n```json\r\n{\r\n  &quot;rooms&quot;: [\r\n      { &quot;name&quot;: &quot;room1&quot;, &quot;description&quot;: &quot;A red room&quot; },\r\n      { &quot;name&quot;: &quot;room2&quot;, &quot;description&quot;: &quot;A blue room&quot; }\r\n  ]\r\n}\r\n```","title":"Trying to read a file thats in the directory","body":"<p>It's best to include any resources alongside your class files so that they can be accessed via the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>ClassLoader</code></a>. If building with Maven or Gradle you would store the file at <code>src/main/resources/Rooms.txt</code> which would then get packed inside the jar file alongside the class files.</p>\n<p>You could then access via</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;Rooms.txt&quot;)) {\n  if (in == null) throw new RuntimeException(&quot;Could not find Rooms.txt on classpath&quot;);\n  BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n  String[] lines = reader.lines().toArray(String[]:new);\n  String room1 = lines[1];\n  String room1Desc = lines[2];\n  ...\n}\n</code></pre>\n<p>It's probably best if you change your <code>Rooms.txt</code> to <code>Rooms.json</code> and use a json parsing library to read/write the json. Then you could have complex/nested data structures in the file. Eg</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;rooms&quot;: [\n      { &quot;name&quot;: &quot;room1&quot;, &quot;description&quot;: &quot;A red room&quot; },\n      { &quot;name&quot;: &quot;room2&quot;, &quot;description&quot;: &quot;A blue room&quot; }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":24782675,"reputation":11,"user_id":22430057,"display_name":"Will Screwdriver"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693836006,"creation_date":1693833816,"question_id":77038103,"body_markdown":"```\r\nPath path = Paths.get(&quot;C:/Users/Benny/IdeaProjects/SoftDevProj/SoftDevGame/Rooms.txt&quot;);\r\n\r\n    public Game() throws IOException {\r\n        map = new ArrayList&lt;Room&gt;();\r\n        String room1 = Files.readAllLines(path).get(1);\r\n        String room1Desc = Files.readAllLines(path).get(2);\r\n```\r\n\r\nSorry if this is a little confusing I can only post so much, but Im trying to get rid of the &quot;C:/Users/Benny/IdeaProjects/SoftDevProj/SoftDevGame&quot;\r\nin my code by just looking at the Rooms.txt file.\r\nI&#39;m basically trying to do this:\r\nPath path = Paths.get(&quot;Rooms.txt&quot;)\r\nand have it work but I&#39;ve tried everything is there any way I can fix this, by having it not be a fixed file location?","title":"Trying to read a file thats in the directory","body":"<pre><code>Path path = Paths.get(&quot;C:/Users/Benny/IdeaProjects/SoftDevProj/SoftDevGame/Rooms.txt&quot;);\n\n    public Game() throws IOException {\n        map = new ArrayList&lt;Room&gt;();\n        String room1 = Files.readAllLines(path).get(1);\n        String room1Desc = Files.readAllLines(path).get(2);\n</code></pre>\n<p>Sorry if this is a little confusing I can only post so much, but Im trying to get rid of the &quot;C:/Users/Benny/IdeaProjects/SoftDevProj/SoftDevGame&quot;\nin my code by just looking at the Rooms.txt file.\nI'm basically trying to do this:\nPath path = Paths.get(&quot;Rooms.txt&quot;)\nand have it work but I've tried everything is there any way I can fix this, by having it not be a fixed file location?</p>\n"},{"tags":["java","sonarqube"],"answers":[{"comments":[{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1693835860,"post_id":70155534,"comment_id":135808923,"body_markdown":"Please refer to new updated answer: https://stackoverflow.com/a/76271486/11543023 provided by @AlexyKolesaev","body":"Please refer to new updated answer: <a href=\"https://stackoverflow.com/a/76271486/11543023\">stackoverflow.com/a/76271486/11543023</a> provided by @AlexyKolesaev"}],"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693835780,"creation_date":1638192751,"answer_id":70155534,"question_id":70117670,"body_markdown":"**UPDATE**\r\nThis answer is now out of date and is now superseded by the answer provided by @Alexey Kolesaev: https://stackoverflow.com/a/76271486/11543023\r\n\r\n------------\r\n\r\nThere are issues with openJDK 11+ being installed on alpine. Alpine Linux uses `musl-libc` for its `libc`, where most other flavours of Linux use `glibc`, GNU&#39;s C library. Standard Linux software is built on non-Alpine flavours, like ubuntu and centos, thus normally get linked against `glibc` and so cannot be executed successfully with Alpine as `libc` is not linking to the java installation. The only workaround is installing a `glibc` compatibility layer, which is not simple or using an alpine-openjdk11 container (which you may not be able to use as they are not official images, so have issues in maintainability)\r\n\r\nTry a debian (ubuntu) or fedora (centos) distribution and see if you can get it working","title":"sonar-scanner-cli-4.2 does not find jre/bin/java","body":"<p><strong>UPDATE</strong>\nThis answer is now out of date and is now superseded by the answer provided by @Alexey Kolesaev: <a href=\"https://stackoverflow.com/a/76271486/11543023\">https://stackoverflow.com/a/76271486/11543023</a></p>\n<hr />\n<p>There are issues with openJDK 11+ being installed on alpine. Alpine Linux uses <code>musl-libc</code> for its <code>libc</code>, where most other flavours of Linux use <code>glibc</code>, GNU's C library. Standard Linux software is built on non-Alpine flavours, like ubuntu and centos, thus normally get linked against <code>glibc</code> and so cannot be executed successfully with Alpine as <code>libc</code> is not linking to the java installation. The only workaround is installing a <code>glibc</code> compatibility layer, which is not simple or using an alpine-openjdk11 container (which you may not be able to use as they are not official images, so have issues in maintainability)</p>\n<p>Try a debian (ubuntu) or fedora (centos) distribution and see if you can get it working</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684328207,"post_id":76271486,"comment_id":134501940,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76271486/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24912431,"reputation":76,"user_id":19205994,"display_name":"Alexey Kolesaev"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684322174,"creation_date":1684322174,"answer_id":76271486,"question_id":70117670,"body_markdown":"if you need exactly alpine, then:\r\n\r\n```\r\nexport GLIBC_VERSION=2.34-r0\r\napk --no-cache add binutils curl\r\ncurl -sL https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub -o /etc/apk/keys/sgerrand.rsa.pub\r\ncurl -sLO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-${GLIBC_VERSION}.apk\r\ncurl -sLO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-bin-${GLIBC_VERSION}.apk\r\ncurl -sLO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-i18n-${GLIBC_VERSION}.apk\r\napk add --no-cache glibc-${GLIBC_VERSION}.apk glibc-bin-${GLIBC_VERSION}.apk glibc-i18n-${GLIBC_VERSION}.apk # you must be needed to add || true for alpine newer than 3.15\r\n```\r\n\r\nin my tests GLIBC_VERSION 2.34-r0 only working. I tried newer, but doesn&#39;t work","title":"sonar-scanner-cli-4.2 does not find jre/bin/java","body":"<p>if you need exactly alpine, then:</p>\n<pre><code>export GLIBC_VERSION=2.34-r0\napk --no-cache add binutils curl\ncurl -sL https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub -o /etc/apk/keys/sgerrand.rsa.pub\ncurl -sLO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-${GLIBC_VERSION}.apk\ncurl -sLO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-bin-${GLIBC_VERSION}.apk\ncurl -sLO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/${GLIBC_VERSION}/glibc-i18n-${GLIBC_VERSION}.apk\napk add --no-cache glibc-${GLIBC_VERSION}.apk glibc-bin-${GLIBC_VERSION}.apk glibc-i18n-${GLIBC_VERSION}.apk # you must be needed to add || true for alpine newer than 3.15\n</code></pre>\n<p>in my tests GLIBC_VERSION 2.34-r0 only working. I tried newer, but doesn't work</p>\n"},{"tags":[],"owner":{"account_id":19554046,"reputation":311,"user_id":14308901,"display_name":"Thanachai Aktananan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685085231,"creation_date":1685085231,"answer_id":76338438,"question_id":70117670,"body_markdown":"Please check java file in the package sonar-scanner-{version}/jre/bin/java\r\nif it has not you must retry to download new sonar-scanner-{version} and recheck it I&#39;m found this problem because when my MACOS open java file it has no permission and can&#39;t open you **must set the privacy &amp; security to allow java**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VA9LH.png","title":"sonar-scanner-cli-4.2 does not find jre/bin/java","body":"<p>Please check java file in the package sonar-scanner-{version}/jre/bin/java\nif it has not you must retry to download new sonar-scanner-{version} and recheck it I'm found this problem because when my MACOS open java file it has no permission and can't open you <strong>must set the privacy &amp; security to allow java</strong></p>\n<p><a href=\"https://i.stack.imgur.com/VA9LH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VA9LH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9747919,"reputation":1731,"user_id":7227222,"display_name":"AlbertMunichMar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76271486,"answer_count":3,"score":0,"last_activity_date":1693835780,"creation_date":1637877390,"question_id":70117670,"body_markdown":"I am trying to run the `sonnarqube` scanner on a docker container on jenkins. I use following image:\r\n\r\n    FROM node:16-alpine\r\n\r\nI install `java` from here:\r\n\r\n    RUN apk --no-cache add openjdk11 --repository=http://dl-cdn.alpinelinux.org/alpine/edge/community\r\n\r\nI install `sonnarqube scanner` from here:\r\n\r\n    RUN wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.2.0.1873.zip\r\n\r\nWhen running the scanner, I get following error:\r\n\r\n    22:33:55 sonar-scanner-4.2.0.1873-linux/bin/sonar-scanner: exec: line 64: /e2e/sonar-scanner-4.2.0.1873-linux/jre/bin/java: not found\r\n\r\nI&#39;ve checked java path:\r\n\r\n    22:33:49 Step 39/44 : RUN which java\r\n    22:33:49  ---&gt; Running in 47df6c73c0b7\r\n    22:33:50 /usr/bin/java\r\n\r\nand append it to my `PATH` env variable (sonnarqube executable too):\r\n\r\n    22:50:57 /usr/bin/java/bin:/sonar-scanner-4.2.0.1873/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n\r\nIn the [docs][1], they say that they provide a JRE for linux distribution. \r\n\r\nBut if I inspect the sonnarqube folder, I just see:\r\n\r\n    22:50:39 drwxr-xr-x    5 root     root          4096 Nov 25 21:50 .\r\n    22:50:39 drwxr-xr-x    1 root     root          4096 Nov 25 21:50 ..\r\n    22:50:39 drwxr-xr-x    2 root     root          4096 Nov 25 21:50 bin\r\n    22:50:39 drwxr-xr-x    2 root     root          4096 Nov 25 21:50 conf\r\n    22:50:39 drwxr-xr-x    2 root     root          4096 Nov 25 21:50 lib\r\n\r\nThere&#39;s no `sonar-scanner-4.2.0.1873/jre/java/bin`\r\n\r\nShould the `jre` be in the `sonar-scanner-4.2.0.1873` folder? is my `PATH` env var wrong? I can&#39;t figure out why java is not found.\r\n\r\n\r\n  [1]: https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/","title":"sonar-scanner-cli-4.2 does not find jre/bin/java","body":"<p>I am trying to run the <code>sonnarqube</code> scanner on a docker container on jenkins. I use following image:</p>\n<pre><code>FROM node:16-alpine\n</code></pre>\n<p>I install <code>java</code> from here:</p>\n<pre><code>RUN apk --no-cache add openjdk11 --repository=http://dl-cdn.alpinelinux.org/alpine/edge/community\n</code></pre>\n<p>I install <code>sonnarqube scanner</code> from here:</p>\n<pre><code>RUN wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.2.0.1873.zip\n</code></pre>\n<p>When running the scanner, I get following error:</p>\n<pre><code>22:33:55 sonar-scanner-4.2.0.1873-linux/bin/sonar-scanner: exec: line 64: /e2e/sonar-scanner-4.2.0.1873-linux/jre/bin/java: not found\n</code></pre>\n<p>I've checked java path:</p>\n<pre><code>22:33:49 Step 39/44 : RUN which java\n22:33:49  ---&gt; Running in 47df6c73c0b7\n22:33:50 /usr/bin/java\n</code></pre>\n<p>and append it to my <code>PATH</code> env variable (sonnarqube executable too):</p>\n<pre><code>22:50:57 /usr/bin/java/bin:/sonar-scanner-4.2.0.1873/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n</code></pre>\n<p>In the <a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/\" rel=\"nofollow noreferrer\">docs</a>, they say that they provide a JRE for linux distribution.</p>\n<p>But if I inspect the sonnarqube folder, I just see:</p>\n<pre><code>22:50:39 drwxr-xr-x    5 root     root          4096 Nov 25 21:50 .\n22:50:39 drwxr-xr-x    1 root     root          4096 Nov 25 21:50 ..\n22:50:39 drwxr-xr-x    2 root     root          4096 Nov 25 21:50 bin\n22:50:39 drwxr-xr-x    2 root     root          4096 Nov 25 21:50 conf\n22:50:39 drwxr-xr-x    2 root     root          4096 Nov 25 21:50 lib\n</code></pre>\n<p>There's no <code>sonar-scanner-4.2.0.1873/jre/java/bin</code></p>\n<p>Should the <code>jre</code> be in the <code>sonar-scanner-4.2.0.1873</code> folder? is my <code>PATH</code> env var wrong? I can't figure out why java is not found.</p>\n"},{"tags":["java","macos","java-home"],"comments":[{"owner":{"account_id":2378108,"reputation":1354,"user_id":2080879,"accept_rate":100,"display_name":"Sql Surfer"},"score":6,"creation_date":1548630662,"post_id":14702702,"comment_id":95599209,"body_markdown":"Here we are in 2019 ( 6 years after original question ) - and this still only has a convoluted solution.  Try supporting macs in the field with this problem.  Is there no utility that will add   export JAVA_HOME=/Library/Java/Home   to the current user bash profile - or a machine level equivalent ?","body":"Here we are in 2019 ( 6 years after original question ) - and this still only has a convoluted solution.  Try supporting macs in the field with this problem.  Is there no utility that will add   export JAVA_HOME=/Library/Java/Home   to the current user bash profile - or a machine level equivalent ?"}],"answers":[{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360051731,"creation_date":1360051731,"answer_id":14702754,"question_id":14702702,"body_markdown":"add following\r\n\r\n    setenv JAVA_HOME /System/Library/Frameworks/JavaVM.framework/Home\r\n\r\nin your  ~/.login file:","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>add following</p>\n\n<pre><code>setenv JAVA_HOME /System/Library/Frameworks/JavaVM.framework/Home\n</code></pre>\n\n<p>in your  ~/.login file:</p>\n"},{"tags":[],"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1579165968,"creation_date":1360051767,"answer_id":14702771,"question_id":14702702,"body_markdown":"This link may helps you: https://developer.apple.com/library/archive/qa/qa1067/_index.html\r\n\r\nAlso, you can put the environment variable in one of these files:\r\n\r\n    ~/.bashrc\r\n    ~/.bash_profile\r\n    ~/.profile","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>This link may helps you: <a href=\"https://developer.apple.com/library/archive/qa/qa1067/_index.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/qa/qa1067/_index.html</a></p>\n\n<p>Also, you can put the environment variable in one of these files:</p>\n\n<pre><code>~/.bashrc\n~/.bash_profile\n~/.profile\n</code></pre>\n"},{"comments":[{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":4,"creation_date":1449758566,"post_id":19663996,"comment_id":56153892,"body_markdown":"It&#39;s not the answer because it does not permanently set the `JAVA_HOME` environment variable I suppose, which is what the OP asked for.  This is only `temporary for the current session.`  A reboot will change it back to the permanently set variable.","body":"It&#39;s not the answer because it does not permanently set the <code>JAVA_HOME</code> environment variable I suppose, which is what the OP asked for.  This is only <code>temporary for the current session.</code>  A reboot will change it back to the permanently set variable."},{"owner":{"account_id":2562704,"reputation":1790,"user_id":2223505,"accept_rate":67,"display_name":"Merlin"},"score":7,"creation_date":1524684303,"post_id":19663996,"comment_id":87075967,"body_markdown":"Re Android Addict comment: There are no &#39;permanent&#39; environment variables for shells, that&#39;s why you have a .bash_profile, .bashrc, .zshrc, etc. This answer will solve the question and should be chosen.","body":"Re Android Addict comment: There are no &#39;permanent&#39; environment variables for shells, that&#39;s why you have a .bash_profile, .bashrc, .zshrc, etc. This answer will solve the question and should be chosen."},{"owner":{"account_id":46051,"reputation":36790,"user_id":135946,"accept_rate":92,"display_name":"Bostone"},"score":0,"creation_date":1597678141,"post_id":19663996,"comment_id":112205209,"body_markdown":"I had problems with this approach when having multiple versions of Java installed especially when one of these installed with `brew`","body":"I had problems with this approach when having multiple versions of Java installed especially when one of these installed with <code>brew</code>"},{"owner":{"account_id":11309917,"reputation":3024,"user_id":8293309,"display_name":"paradocslover"},"score":6,"creation_date":1600149813,"post_id":19663996,"comment_id":112988671,"body_markdown":"In my case, this worked for that instance only. Though replacing `bash_profile` with `zshrc` worked for me","body":"In my case, this worked for that instance only. Though replacing <code>bash_profile</code> with <code>zshrc</code> worked for me"},{"owner":{"account_id":4615805,"reputation":188,"user_id":3742378,"display_name":"Sanatbek Matlatipov"},"score":0,"creation_date":1606038402,"post_id":19663996,"comment_id":114832751,"body_markdown":"Thank you, please change format answer to the following format. Of course it our responsibility to change version. But anyway I have merged your answer with @Arv answer below. THen It worked. JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jdk/Contents/Home&#39;","body":"Thank you, please change format answer to the following format. Of course it our responsibility to change version. But anyway I have merged your answer with @Arv answer below. THen It worked. JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_241.jd&zwnj;&#8203;k/Contents/Home&#39;"},{"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"score":0,"creation_date":1635713192,"post_id":19663996,"comment_id":123362610,"body_markdown":"In my case, the first command worked even without &quot;-v &lt;version&gt;&quot;. Why is &quot;-v &lt;version&gt;&quot; beneficial? Can you have a separate JAVA_HOME for each version?","body":"In my case, the first command worked even without &quot;-v &lt;version&gt;&quot;. Why is &quot;-v &lt;version&gt;&quot; beneficial? Can you have a separate JAVA_HOME for each version?"},{"owner":{"account_id":13060227,"reputation":1084,"user_id":9437681,"display_name":"Alexei Artsimovich"},"score":1,"creation_date":1638365497,"post_id":19663996,"comment_id":124068028,"body_markdown":"@paradocslover renaming bash_profile to zshrc (I have created bash_profile in the first place) saved my life. Thanks!","body":"@paradocslover renaming bash_profile to zshrc (I have created bash_profile in the first place) saved my life. Thanks!"},{"owner":{"account_id":1046620,"reputation":3372,"user_id":1051462,"display_name":"Dmitri Algazin"},"score":0,"creation_date":1642588102,"post_id":19663996,"comment_id":125108376,"body_markdown":"getting all versions use capital V, like: &quot;/usr/libexec/java_home -V&quot;","body":"getting all versions use capital V, like: &quot;/usr/libexec/java_home -V&quot;"}],"tags":[],"owner":{"account_id":1506610,"reputation":2205,"user_id":1409847,"display_name":"Jonas Rabbe"},"comment_count":8,"down_vote_count":3,"up_vote_count":136,"is_accepted":false,"score":133,"last_activity_date":1579080381,"creation_date":1383064204,"answer_id":19663996,"question_id":14702702,"body_markdown":"You can use `/usr/libexec/java_home -v &lt;version you want&gt;` to get the path you need for `JAVA_HOME`. For instance, to get the path to the 1.7 JDK you can run `/usr/libexec/java_home -v 1.7` and it will return the path to the JDK. In your `.profile` or `.bash_profile` just add\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v &lt;version&gt;`\r\n\r\nand you should be good. Alternatively, try and convince the maintainers of java tools you use to make use of this method to get the version they need.\r\n\r\nTo open &#39;.bash_profile&#39; type the following in terminal :\r\n\r\n    nano ~/.bash_profile \r\n\r\nand add the following line to the file:\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v &lt;version&gt;`\r\n\r\nPress CTRL+X to exit the bash. Press &#39;Y&#39; to save changes.\r\n\r\nTo check whether the path has been added, type following in terminal:\r\n\r\n    source ~/.bash_profile\r\n    echo $JAVA_HOME","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>You can use <code>/usr/libexec/java_home -v &lt;version you want&gt;</code> to get the path you need for <code>JAVA_HOME</code>. For instance, to get the path to the 1.7 JDK you can run <code>/usr/libexec/java_home -v 1.7</code> and it will return the path to the JDK. In your <code>.profile</code> or <code>.bash_profile</code> just add</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v &lt;version&gt;`\n</code></pre>\n\n<p>and you should be good. Alternatively, try and convince the maintainers of java tools you use to make use of this method to get the version they need.</p>\n\n<p>To open '.bash_profile' type the following in terminal :</p>\n\n<pre><code>nano ~/.bash_profile \n</code></pre>\n\n<p>and add the following line to the file:</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v &lt;version&gt;`\n</code></pre>\n\n<p>Press CTRL+X to exit the bash. Press 'Y' to save changes.</p>\n\n<p>To check whether the path has been added, type following in terminal:</p>\n\n<pre><code>source ~/.bash_profile\necho $JAVA_HOME\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1390162,"reputation":109,"user_id":1321173,"display_name":"ktappe"},"score":1,"creation_date":1600409804,"post_id":33612805,"comment_id":113084275,"body_markdown":"THIS is the answer, not all the other stuff above.  (Though note that Dilip left off the trailing &quot; at the end of line 3.)","body":"THIS is the answer, not all the other stuff above.  (Though note that Dilip left off the trailing &quot; at the end of line 3.)"}],"tags":[],"owner":{"account_id":398826,"reputation":7026,"user_id":763747,"accept_rate":82,"display_name":"Dilip Rajkumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1447083876,"creation_date":1447083876,"answer_id":33612805,"question_id":14702702,"body_markdown":"Try this link \r\nhttp://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\r\n\r\nThis explains correctly, I did the following to make it work\r\n\r\n 1. Open Terminal\r\n 2. Type `vim .bash_profile`\r\n 3. Type your java instalation dir in my case `export JAVA_HOME=&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home`\r\n 4. Click `ESC` then type `:wq` (save and quit in vim)\r\n 5. Then type `source .bash_profile`\r\n 6. `echo $JAVA_HOME` if you see the path you are all set.\r\n\r\nHope it helps.","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Try this link \n<a href=\"http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"noreferrer\">http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/</a></p>\n\n<p>This explains correctly, I did the following to make it work</p>\n\n<ol>\n<li>Open Terminal</li>\n<li>Type <code>vim .bash_profile</code></li>\n<li>Type your java instalation dir in my case <code>export JAVA_HOME=\"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code></li>\n<li>Click <code>ESC</code> then type <code>:wq</code> (save and quit in vim)</li>\n<li>Then type <code>source .bash_profile</code></li>\n<li><code>echo $JAVA_HOME</code> if you see the path you are all set.</li>\n</ol>\n\n<p>Hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":1762499,"reputation":5333,"user_id":1609201,"accept_rate":64,"display_name":"Elist"},"score":2,"creation_date":1497444566,"post_id":44482585,"comment_id":76081075,"body_markdown":"This is the correct answer for GUI Applications (not the OP&#39;s question, though...). Work like charm on macOS Sierra.","body":"This is the correct answer for GUI Applications (not the OP&#39;s question, though...). Work like charm on macOS Sierra."},{"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"score":0,"creation_date":1511981171,"post_id":44482585,"comment_id":82077012,"body_markdown":"This command dont work on terminal.Anyone? tried the bash_profile and nothing.","body":"This command dont work on terminal.Anyone? tried the bash_profile and nothing."}],"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1498118366,"creation_date":1497175582,"answer_id":44482585,"question_id":14702702,"body_markdown":"Besides the settings for bash/ zsh terminal which are well covered by the other answers, if you want a permanent system environment variable for terminal + GUI applications (works for macOS Sierra; should work for El Capitan too):\r\n\r\n    launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v 1.8)\r\n\r\n(this will set JAVA_HOME to the latest 1.8 JDK, chances are you have gone through serveral updates e.g. javac 1.8.0_101, javac 1.8.0_131)\r\n\r\nOf course, change 1.8 to 1.7 or 1.6 (really?) to suit your need and your system","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Besides the settings for bash/ zsh terminal which are well covered by the other answers, if you want a permanent system environment variable for terminal + GUI applications (works for macOS Sierra; should work for El Capitan too):</p>\n\n<pre><code>launchctl setenv JAVA_HOME $(/usr/libexec/java_home -v 1.8)\n</code></pre>\n\n<p>(this will set JAVA_HOME to the latest 1.8 JDK, chances are you have gone through serveral updates e.g. javac 1.8.0_101, javac 1.8.0_131)</p>\n\n<p>Of course, change 1.8 to 1.7 or 1.6 (really?) to suit your need and your system</p>\n"},{"comments":[{"owner":{"account_id":1188658,"reputation":4437,"user_id":1162044,"accept_rate":52,"display_name":"Boris Y."},"score":0,"creation_date":1567181689,"post_id":49164991,"comment_id":101900521,"body_markdown":"Thank you. I have tried 5 different things, but your solution actually helped me. Using macOS 10.14.5 (18F132) and setting JDK version.","body":"Thank you. I have tried 5 different things, but your solution actually helped me. Using macOS 10.14.5 (18F132) and setting JDK version."}],"tags":[],"owner":{"account_id":13093298,"reputation":31,"user_id":9459991,"display_name":"Sonu Gill"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520517667,"creation_date":1520480331,"answer_id":49164991,"question_id":14702702,"body_markdown":"Adding to Dilips&#39;s answer, if you are working with JDK 9, use the following (my JDK version is 9.0.4) in Step # 3:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Adding to Dilips's answer, if you are working with JDK 9, use the following (my JDK version is 9.0.4) in Step # 3:</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3197659,"reputation":484,"user_id":2700497,"display_name":"MithunS"},"score":1,"creation_date":1549751111,"post_id":52530891,"comment_id":96017082,"body_markdown":"I tried this, it changes for the shell session, but has no effect on a new shell session.","body":"I tried this, it changes for the shell session, but has no effect on a new shell session."},{"owner":{"account_id":9311626,"reputation":427,"user_id":6913222,"display_name":"Arv"},"score":0,"creation_date":1549915634,"post_id":52530891,"comment_id":96068627,"body_markdown":"Mac OS automatically executes .bash_profile on every terminal session.Are you still facing the issue ? Did you try restarting ?","body":"Mac OS automatically executes .bash_profile on every terminal session.Are you still facing the issue ? Did you try restarting ?"},{"owner":{"account_id":1390162,"reputation":109,"user_id":1321173,"display_name":"ktappe"},"score":0,"creation_date":1600409611,"post_id":52530891,"comment_id":113084229,"body_markdown":"~/.bash_profile is not a default file; most won&#39;t have it, so you can&#39;t just start editing it. And you can&#39;t just create it because it has syntax; it needs to be a full script file.","body":"~/.bash_profile is not a default file; most won&#39;t have it, so you can&#39;t just start editing it. And you can&#39;t just create it because it has syntax; it needs to be a full script file."}],"tags":[],"owner":{"account_id":9311626,"reputation":427,"user_id":6913222,"display_name":"Arv"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1538030255,"creation_date":1538030255,"answer_id":52530891,"question_id":14702702,"body_markdown":"To set your Java path on mac:\r\n\r\n 1. Open terminal on mac, change path to the root cd ~\r\n 2. vi .bash_profile (This opens the bash_profile file)\r\n 3. Click **I** to insert text and use the following text to set JAVA_HOME and PATH\r\n\r\n\r\n\r\n  - export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home&#39;\r\n - export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n\r\n\r\n4. Type :wq to save and exit the file.\r\n5. Type source .bash_profile to execute the .bash_profile file.\r\n6. You can type echo $JAVA_HOME or echo $PATH","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>To set your Java path on mac:</p>\n\n<ol>\n<li>Open terminal on mac, change path to the root cd ~</li>\n<li>vi .bash_profile (This opens the bash_profile file)</li>\n<li><p>Click <strong>I</strong> to insert text and use the following text to set JAVA_HOME and PATH</p>\n\n<ul>\n<li>export JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home'</li>\n<li><p>export PATH=$JAVA_HOME/bin:$PATH</p>\n\n<ol start=\"4\">\n<li>Type :wq to save and exit the file.</li>\n<li>Type source .bash_profile to execute the .bash_profile file.</li>\n<li>You can type echo $JAVA_HOME or echo $PATH</li>\n</ol></li>\n</ul></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":0,"creation_date":1553445905,"post_id":55326039,"comment_id":97378228,"body_markdown":"(This requires vim too though, doesn&#39;t it? Not that bad of a problem, but the user has to install it.)","body":"(This requires vim too though, doesn&#39;t it? Not that bad of a problem, but the user has to install it.)"},{"owner":{"account_id":15591751,"reputation":31,"user_id":11248574,"display_name":"user11248574"},"score":0,"creation_date":1556781850,"post_id":55326039,"comment_id":98547578,"body_markdown":"vim is pre installed in mac","body":"vim is pre installed in mac"},{"owner":{"account_id":2845447,"reputation":1487,"user_id":2443988,"accept_rate":50,"display_name":"Sumit Ramteke"},"score":0,"creation_date":1593526679,"post_id":55326039,"comment_id":110808717,"body_markdown":"one either use vi or even textmate. which sh&#39;d not be an issue","body":"one either use vi or even textmate. which sh&#39;d not be an issue"}],"tags":[],"owner":{"account_id":15591751,"reputation":31,"user_id":11248574,"display_name":"user11248574"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1553445389,"creation_date":1553445389,"answer_id":55326039,"question_id":14702702,"body_markdown":"to set JAVA_HOME permenantly in mac make sure you have JDK installed in your system,\r\nif jdk is not installed you can download it from here\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\nAfter installing jdk follow these steps :-\r\n\r\n1) Open Terminal\r\n\r\n2) Type &quot;vim .bash_profile&quot;\r\n\r\n3) press &quot;i&quot; to edit or enter the path\r\n\r\n4) Type your java instalation dir :- export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\n5) Click ESC then type &quot;:wq&quot; (save and quit in vim)\r\n\r\n6) Then type &quot;source .bash_profile&quot;\r\n\r\n7) type &quot;echo $JAVA_HOME&quot; if you see the path you are all set.\r\n\r\nTHANK YOU\r\n\r\n\r\n ","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>to set JAVA_HOME permenantly in mac make sure you have JDK installed in your system,\nif jdk is not installed you can download it from here\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>After installing jdk follow these steps :-</p>\n\n<p>1) Open Terminal</p>\n\n<p>2) Type \"vim .bash_profile\"</p>\n\n<p>3) press \"i\" to edit or enter the path</p>\n\n<p>4) Type your java instalation dir :- export JAVA_HOME=$(/usr/libexec/java_home)</p>\n\n<p>5) Click ESC then type \":wq\" (save and quit in vim)</p>\n\n<p>6) Then type \"source .bash_profile\"</p>\n\n<p>7) type \"echo $JAVA_HOME\" if you see the path you are all set.</p>\n\n<p>THANK YOU</p>\n"},{"tags":[],"owner":{"account_id":8711804,"reputation":31,"user_id":6517757,"display_name":"Wystoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556182116,"creation_date":1556180546,"answer_id":55844847,"question_id":14702702,"body_markdown":"[sql-surfer][1] and\r\n[MikroDel][2],\r\n\r\n  [1]: https://stackoverflow.com/users/2080879/sql-surfer\r\n[2]: https://stackoverflow.com/users/502950/mikrodel\r\n\r\nactually, the answer is not that complicated! You just need to add:\r\n```sh\r\nexport JAVA_HOME=(/usr/libexec/java_home)\r\n```\r\nto your shell profile/configuration file. The only question is - which shell are you using? If you&#39;re using for example FISH, then adding that line to `.profile` or `.bash_profile` will not work at all. Adding it to `config.fish` file though will do the trick. Permanently.","title":"How to set JAVA_HOME in Mac permanently?","body":"<p><a href=\"https://stackoverflow.com/users/2080879/sql-surfer\">sql-surfer</a> and\n<a href=\"https://stackoverflow.com/users/502950/mikrodel\">MikroDel</a>,</p>\n\n<p>actually, the answer is not that complicated! You just need to add:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>export JAVA_HOME=(/usr/libexec/java_home)\n</code></pre>\n\n<p>to your shell profile/configuration file. The only question is - which shell are you using? If you're using for example FISH, then adding that line to <code>.profile</code> or <code>.bash_profile</code> will not work at all. Adding it to <code>config.fish</code> file though will do the trick. Permanently.</p>\n"},{"comments":[{"owner":{"account_id":14586558,"reputation":61,"user_id":10535161,"display_name":"Kiren James"},"score":2,"creation_date":1589550787,"post_id":58927740,"comment_id":109346771,"body_markdown":"Worked for MAC Catalina solve..! Thanks for sharing the tip!","body":"Worked for MAC Catalina solve..! Thanks for sharing the tip!"},{"owner":{"account_id":7113045,"reputation":851,"user_id":5440277,"display_name":"Ritesh Adulkar"},"score":2,"creation_date":1603356281,"post_id":58927740,"comment_id":114013112,"body_markdown":"Wowww...That&#39;s Awesome. Thanks for sharing.","body":"Wowww...That&#39;s Awesome. Thanks for sharing."},{"owner":{"account_id":3114066,"reputation":796,"user_id":2635251,"accept_rate":17,"display_name":"learner"},"score":1,"creation_date":1604386554,"post_id":58927740,"comment_id":114324584,"body_markdown":"I am using jenv and figured out that adding JAVA_HOME after jenv configuration in zshrc file sets the JAVA_HOME variable else I was getting an empty value.\n\n`export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;\neval &quot;$(jenv init -)&quot;\nexport JAVA_HOME=$(/usr/libexec/java_home -v 1.8.0_252)`","body":"I am using jenv and figured out that adding JAVA_HOME after jenv configuration in zshrc file sets the JAVA_HOME variable else I was getting an empty value.  <code>export PATH=&quot;$HOME&#47;.jenv&#47;bin:$PATH&quot; eval &quot;$(jenv init -)&quot; export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home -v 1.8.0_252)</code>"},{"owner":{"account_id":12484458,"reputation":2401,"user_id":9088126,"accept_rate":53,"display_name":"bellotas"},"score":1,"creation_date":1604590773,"post_id":58927740,"comment_id":114398638,"body_markdown":"This is genius!","body":"This is genius!"},{"owner":{"account_id":14959552,"reputation":548,"user_id":10799684,"display_name":"Ananth Kamath"},"score":1,"creation_date":1632304864,"post_id":58927740,"comment_id":122454007,"body_markdown":"This should be marked as the right answer, it worked for me as well.","body":"This should be marked as the right answer, it worked for me as well."},{"owner":{"account_id":11078257,"reputation":143,"user_id":8134238,"display_name":"lbrobinho"},"score":1,"creation_date":1653519425,"post_id":58927740,"comment_id":127875519,"body_markdown":"I think only Oh_my_zsh users need to modify zshrc file.","body":"I think only Oh_my_zsh users need to modify zshrc file."},{"owner":{"account_id":115966,"reputation":3740,"user_id":304266,"accept_rate":88,"display_name":"ubuntudroid"},"score":1,"creation_date":1674929293,"post_id":58927740,"comment_id":132820524,"body_markdown":"You people are mixing zsh and bash. They are different terminal shells. Use .bashrc for bash config and .zshrc for zsh config. Don&#39;t mix them.","body":"You people are mixing zsh and bash. They are different terminal shells. Use .bashrc for bash config and .zshrc for zsh config. Don&#39;t mix them."},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1675617925,"post_id":58927740,"comment_id":132963538,"body_markdown":"Perfect answer. working on Monterey.","body":"Perfect answer. working on Monterey."}],"tags":[],"owner":{"account_id":539436,"reputation":1289,"user_id":907277,"display_name":"AbdulBasit"},"comment_count":8,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1574144543,"creation_date":1574144186,"answer_id":58927740,"question_id":14702702,"body_markdown":"I was facing the same issue in MAC Catalina, If I edit .bash_profile i found export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home\r\nBut When I run terminal echo $JAVA_HOME it was returning empty, Later I found that the file .zshrc was missing I created this file with \r\n\r\n    touch .zshrc \r\n\r\n    \r\nThen edit it by `nano .zshrc` and wrote \r\n\r\n    source ~/.bash_profile\r\n\r\nWhich solves my issue permanently\r\n","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>I was facing the same issue in MAC Catalina, If I edit .bash_profile i found export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home\nBut When I run terminal echo $JAVA_HOME it was returning empty, Later I found that the file .zshrc was missing I created this file with </p>\n\n<pre><code>touch .zshrc \n</code></pre>\n\n<p>Then edit it by <code>nano .zshrc</code> and wrote </p>\n\n<pre><code>source ~/.bash_profile\n</code></pre>\n\n<p>Which solves my issue permanently</p>\n"},{"tags":[],"owner":{"account_id":1731104,"reputation":1809,"user_id":1584699,"accept_rate":94,"display_name":"Joffrey Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579079190,"creation_date":1579078416,"answer_id":59747845,"question_id":14702702,"body_markdown":"Declare two export inside your .bashrc or .zshrc:\r\n\r\n    export JAVA_8_HOME=$(/usr/libexec/java_home -v1.8) \r\n    export JAVA_11_HOME=$(/usr/libexec/java_home -v11)\r\n\r\nAdd alias for quick change:\r\n\r\n    alias java8=&#39;export JAVA_HOME=$JAVA_8_HOME&#39;\r\n    alias java11=&#39;export JAVA_HOME=$JAVA_11_HOME&#39;\r\n\r\nset default to Java 11\r\n\r\n    java11\r\n\r\nexport PATH\r\n\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nyou could change java11 by java8 inside your .bashrc/zshrc file to change permanently your java version","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Declare two export inside your .bashrc or .zshrc:</p>\n\n<pre><code>export JAVA_8_HOME=$(/usr/libexec/java_home -v1.8) \nexport JAVA_11_HOME=$(/usr/libexec/java_home -v11)\n</code></pre>\n\n<p>Add alias for quick change:</p>\n\n<pre><code>alias java8='export JAVA_HOME=$JAVA_8_HOME'\nalias java11='export JAVA_HOME=$JAVA_11_HOME'\n</code></pre>\n\n<p>set default to Java 11</p>\n\n<pre><code>java11\n</code></pre>\n\n<p>export PATH</p>\n\n<pre><code>export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>you could change java11 by java8 inside your .bashrc/zshrc file to change permanently your java version</p>\n"},{"tags":[],"owner":{"account_id":2100782,"reputation":101,"user_id":1868463,"display_name":"Ashish Vitthal Dalvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588988480,"creation_date":1581154857,"answer_id":60125587,"question_id":14702702,"body_markdown":"1) The first step is to if you have Java installed and running your system.\r\n\r\n    which java\r\nUsually, it should be /usr/bin/java.\r\n\r\n2) **JAVA_HOME** is essentially the full path of the directory that contains a sub-directory named **bin** which in turn contains the **java**.\r\n\r\n    cd /Library/Java/\r\n\r\n - You should have **bin** folder inside **/Java** folder and in turn it must contain the **[java]** executable package.\r\n\r\n[Folder structure for Mac OS][1]\r\n\r\n3.1) If you want to set the path only for the current session then execute this command in your terminal `export JAVA_HOME=/Library/Java`\r\n\r\n3.2) If you want it to persist, you will have to add the command to your `~/.bash_profile` file\r\n\r\n- Open up Terminal `vi ~/.bash_profile`\r\n- Add these lines to terminal `export JAVA_HOME=/Library/Java/Home` and save it\r\n- Execute below command `source ~/.bash_profile`\r\n\r\n4) Verify you have correctly added JAVA_HOME path. Below command should give you the proper Java version.\r\n\r\n\r\n\r\nThat&#39;s it and your ready to use!!\r\n\r\n  [1]: https://i.stack.imgur.com/JDSy3.png\r\n\r\n","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>1) The first step is to if you have Java installed and running your system.</p>\n\n<pre><code>which java\n</code></pre>\n\n<p>Usually, it should be /usr/bin/java.</p>\n\n<p>2) <strong>JAVA_HOME</strong> is essentially the full path of the directory that contains a sub-directory named <strong>bin</strong> which in turn contains the <strong>java</strong>.</p>\n\n<pre><code>cd /Library/Java/\n</code></pre>\n\n<ul>\n<li>You should have <strong>bin</strong> folder inside <strong>/Java</strong> folder and in turn it must contain the <strong>[java]</strong> executable package.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/JDSy3.png\" rel=\"nofollow noreferrer\">Folder structure for Mac OS</a></p>\n\n<p>3.1) If you want to set the path only for the current session then execute this command in your terminal <code>export JAVA_HOME=/Library/Java</code></p>\n\n<p>3.2) If you want it to persist, you will have to add the command to your <code>~/.bash_profile</code> file</p>\n\n<ul>\n<li>Open up Terminal <code>vi ~/.bash_profile</code></li>\n<li>Add these lines to terminal <code>export JAVA_HOME=/Library/Java/Home</code> and save it</li>\n<li>Execute below command <code>source ~/.bash_profile</code></li>\n</ul>\n\n<p>4) Verify you have correctly added JAVA_HOME path. Below command should give you the proper Java version.</p>\n\n<p>That's it and your ready to use!!</p>\n"},{"tags":[],"owner":{"account_id":16239576,"reputation":152,"user_id":11726273,"display_name":"Ilan Rosenbaum"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598920695,"creation_date":1598920695,"answer_id":63679850,"question_id":14702702,"body_markdown":"First, figure out where your java home is by running the command `/usr/libexec/java_home -v &lt;version&gt;` replacing &lt;version&gt; with whatever version of OpenJDK your running. \r\n\r\nNext use `vim ~/.bash_profile` to edit your bash profile. Add `export JAVA_HOME=&quot;&lt;java path&gt;&quot;` replacing &lt;java path&gt; with the path to your java home found in the last step.\r\n\r\nFinally, run the command `source ~/.bash_profile`\r\n\r\nThis should permanently set your JAVA_HOME environment variable.\r\n\r\nTo make sure it worked run `echo $JAVA_HOME` and make sure it returns the path you set","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>First, figure out where your java home is by running the command <code>/usr/libexec/java_home -v &lt;version&gt;</code> replacing  with whatever version of OpenJDK your running.</p>\n<p>Next use <code>vim ~/.bash_profile</code> to edit your bash profile. Add <code>export JAVA_HOME=&quot;&lt;java path&gt;&quot;</code> replacing  with the path to your java home found in the last step.</p>\n<p>Finally, run the command <code>source ~/.bash_profile</code></p>\n<p>This should permanently set your JAVA_HOME environment variable.</p>\n<p>To make sure it worked run <code>echo $JAVA_HOME</code> and make sure it returns the path you set</p>\n"},{"tags":[],"owner":{"account_id":322917,"reputation":2355,"user_id":642616,"display_name":"Feuda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603786609,"creation_date":1603786609,"answer_id":64550451,"question_id":14702702,"body_markdown":"If you are using the latest versions of macOS, then you cannot use ~/.bash_profile to export your environment variable since the bash shell is deprecated in the latest version of macOS.\r\n\r\n - Run `/usr/libexec/java_home` in your terminal and you will get things like `/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home`\r\n - Add `export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home` to .zshrc","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>If you are using the latest versions of macOS, then you cannot use ~/.bash_profile to export your environment variable since the bash shell is deprecated in the latest version of macOS.</p>\n<ul>\n<li>Run <code>/usr/libexec/java_home</code> in your terminal and you will get things like <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home</code></li>\n<li>Add <code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home</code> to .zshrc</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7612171,"reputation":327,"user_id":8413347,"display_name":"Shishir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605113141,"creation_date":1605113141,"answer_id":64790601,"question_id":14702702,"body_markdown":"If you are using fish shell. Then all the variables can be set in .config/fish/config.fish\r\n\r\n    vim .config/fish/config.fish\r\nAdd the following lines\r\n\r\n    set -g JAVA_HOME &quot;your_path_to_jdk&quot;\r\nsave and exit out of vim.\r\n\r\nThis should be setting your JAVA_HOME. Thanks\r\n\r\n","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>If you are using fish shell. Then all the variables can be set in .config/fish/config.fish</p>\n<pre><code>vim .config/fish/config.fish\n</code></pre>\n<p>Add the following lines</p>\n<pre><code>set -g JAVA_HOME &quot;your_path_to_jdk&quot;\n</code></pre>\n<p>save and exit out of vim.</p>\n<p>This should be setting your JAVA_HOME. Thanks</p>\n"},{"tags":[],"owner":{"account_id":18191185,"reputation":131,"user_id":13237005,"display_name":"poonam poonia"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1606483331,"creation_date":1606483331,"answer_id":65038101,"question_id":14702702,"body_markdown":"run this command on your terminal(here -v11 is for version 11(java11))-:\r\n\r\n    /usr/libexec/java_home -v11\r\n\r\nyou will get the path on your terminal something like this -:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home\r\n\r\nnow you need to open your bash profile in any editor for eg VS Code \r\n\r\nif you want to edit your bash_profile in vs code then run this command -:\r\n\r\n    code ~/.bash_profile\r\n\r\nelse run this command and then press i to insert the path. -:\r\n\r\n    open ~/.bash_profile\r\n\r\n\r\n\r\nyou will get your .bash_profile now you need to add the path\r\nso add this in .bash_profile (path which you get from 1st command)-:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home\r\n\r\nif you were using code editor then now go to terminal and run this command to save the changes -:\r\n\r\n    source ~/.bash_profile\r\n\r\nelse press esc then :wq to exit from bash_profile then go to terminal and run the command given above.\r\nprocess completed.\r\nnow you can check using this command -:\r\n\r\n    echo $JAVA_HOME\r\nyou will get`/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home\r\n`\r\n\r\n\r\n","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>run this command on your terminal(here -v11 is for version 11(java11))-:</p>\n<pre><code>/usr/libexec/java_home -v11\n</code></pre>\n<p>you will get the path on your terminal something like this -:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home\n</code></pre>\n<p>now you need to open your bash profile in any editor for eg VS Code</p>\n<p>if you want to edit your bash_profile in vs code then run this command -:</p>\n<pre><code>code ~/.bash_profile\n</code></pre>\n<p>else run this command and then press i to insert the path. -:</p>\n<pre><code>open ~/.bash_profile\n</code></pre>\n<p>you will get your .bash_profile now you need to add the path\nso add this in .bash_profile (path which you get from 1st command)-:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home\n</code></pre>\n<p>if you were using code editor then now go to terminal and run this command to save the changes -:</p>\n<pre><code>source ~/.bash_profile\n</code></pre>\n<p>else press esc then :wq to exit from bash_profile then go to terminal and run the command given above.\nprocess completed.\nnow you can check using this command -:</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>you will get<code>/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home </code></p>\n"},{"comments":[{"owner":{"account_id":14697300,"reputation":519,"user_id":10614344,"display_name":"Kerem"},"score":3,"creation_date":1608016987,"post_id":65162351,"comment_id":115446008,"body_markdown":"since yesterday i am trying to write it to the .bash_profile file and wondering why it is not working. **.zshrc** file !!! You saved my day. Thank you","body":"since yesterday i am trying to write it to the .bash_profile file and wondering why it is not working. <b>.zshrc</b> file !!! You saved my day. Thank you"},{"owner":{"account_id":9455675,"reputation":1324,"user_id":7031065,"display_name":"Ajay Kr Choudhary"},"score":3,"creation_date":1615466951,"post_id":65162351,"comment_id":117702541,"body_markdown":"@Kerem It depends what is your default shell Set. You can know this by doing `echo $SHELL` If it is `/bin/bash` then you need to change in .bash_profile, if it is `/bin/zsh` then you should set it in .zshrc file.","body":"@Kerem It depends what is your default shell Set. You can know this by doing <code>echo $SHELL</code> If it is <code>&#47;bin&#47;bash</code> then you need to change in .bash_profile, if it is <code>&#47;bin&#47;zsh</code> then you should set it in .zshrc file."},{"owner":{"account_id":8794637,"reputation":47,"user_id":6572924,"display_name":"Eren Jaeger"},"score":1,"creation_date":1646881229,"post_id":65162351,"comment_id":126235202,"body_markdown":"this worked on Monterey!","body":"this worked on Monterey!"},{"owner":{"account_id":4870696,"reputation":51,"user_id":3927343,"display_name":"Love"},"score":0,"creation_date":1655566999,"post_id":65162351,"comment_id":128364696,"body_markdown":"open new terminal and hit this cmd for open bash file \nxxxxx@XXX-MacBook-Pro ~ % cd ~/\nxxxx@XXX-MacBook-Pro ~ % touch ~/\nxxxx@XXX-MacBook-Pro ~ % open -e .bash_profile","body":"open new terminal and hit this cmd for open bash file  xxxxx@XXX-MacBook-Pro ~ % cd ~/ xxxx@XXX-MacBook-Pro ~ % touch ~/ xxxx@XXX-MacBook-Pro ~ % open -e .bash_profile"}],"tags":[],"owner":{"account_id":18096884,"reputation":7249,"user_id":13155046,"display_name":"Milovan Tomašević"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1691380914,"creation_date":1607204936,"answer_id":65162351,"question_id":14702702,"body_markdown":"Installing Java on `macOS 11 Big Sur`:\r\n- the easiest way is to select OpenJDK 11 (LTS), the HotSpot JVM, and macOS x64 is to get the latest release here: [adoptopenjdk.net][1]\r\n- Select macOS and x64 and download the `JDK` (about 190 MB), which will put the `OpenJDK11U-jdk_x64_mac_hotspot_11.0.9_11.pkg` file into your `~/Downloads folder`\r\n- Clicking on pkg file, will install into this location: `/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk`\r\n[![enter image description here][2]][2]\r\n- Almost done. After opening a terminal, the successful installation of the JDK can be confirmed like so: `java --version`\r\n   - output:\r\n```sh\r\nopenjdk 11.0.9.1 2020-11-04\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.9.1+1)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.9.1+1, mixed mode)\r\n```\r\n- `JAVA_HOME` is an important environment variable and it’s important to get it right. Here is a trick that allows me to keep the environment variable current, even after a Java Update was installed. In `~/.zshrc`, I set the variable like so:  \r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n- In previous macOS versions, this was done in `~/.bash_profile`. Anyway, open a new terminal and verify: `echo $JAVA_HOME`\r\n   - output: `/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home`\r\n\r\n***\r\nTEST: Compile and Run your Java Program\r\n\r\n- Open a text editor, copy the code from below and save the file as `HelloStackoverflow.java`. \r\n```java\r\npublic class HelloStackoverflow {\r\n  public static void main(String[] args){\r\n    System.out.println(&quot;Hello Stackoverflow !&quot;);\r\n  }//End of main\r\n}//End of HelloStackoverflow Class\r\n```\r\n\r\n- From a terminal set the working directory to the directory containing `HelloStackoverflow.java`, then type the command:\r\n```sh\r\njavac HelloStackoverflow.java\r\n```\r\n\r\n- If you&#39;re lucky, nothing will happen\r\n\r\n- Actually, a lot happened. `javac` is the name of the Java compiler. It translates Java into `Java Bytecode`, an assembly language for the Java Virtual Machine (JVM). The Java Bytecode is stored in a file called `HelloStackoverflow.class`.\r\n\r\n- Running: type the command:\r\n```sh\r\njava HelloStackoverflow\r\n\r\n# output:\r\n# Hello Stackoverflow !\r\n```\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\r\n  [2]: https://i.stack.imgur.com/EIi48.jpg\r\n  [3]: https://i.stack.imgur.com/dp640.png","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Installing Java on <code>macOS 11 Big Sur</code>:</p>\n<ul>\n<li>the easiest way is to select OpenJDK 11 (LTS), the HotSpot JVM, and macOS x64 is to get the latest release here: <a href=\"https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">adoptopenjdk.net</a></li>\n<li>Select macOS and x64 and download the <code>JDK</code> (about 190 MB), which will put the <code>OpenJDK11U-jdk_x64_mac_hotspot_11.0.9_11.pkg</code> file into your <code>~/Downloads folder</code></li>\n<li>Clicking on pkg file, will install into this location: <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk</code>\n<a href=\"https://i.stack.imgur.com/EIi48.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIi48.jpg\" alt=\"enter image description here\" /></a></li>\n<li>Almost done. After opening a terminal, the successful installation of the JDK can be confirmed like so: <code>java --version</code>\n<ul>\n<li>output:</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>openjdk 11.0.9.1 2020-11-04\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.9.1+1)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.9.1+1, mixed mode)\n</code></pre>\n<ul>\n<li><code>JAVA_HOME</code> is an important environment variable and it’s important to get it right. Here is a trick that allows me to keep the environment variable current, even after a Java Update was installed. In <code>~/.zshrc</code>, I set the variable like so:<br />\n<code>export JAVA_HOME=$(/usr/libexec/java_home)</code></li>\n<li>In previous macOS versions, this was done in <code>~/.bash_profile</code>. Anyway, open a new terminal and verify: <code>echo $JAVA_HOME</code>\n<ul>\n<li>output: <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home</code></li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>TEST: Compile and Run your Java Program</p>\n<ul>\n<li>Open a text editor, copy the code from below and save the file as <code>HelloStackoverflow.java</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloStackoverflow {\n  public static void main(String[] args){\n    System.out.println(&quot;Hello Stackoverflow !&quot;);\n  }//End of main\n}//End of HelloStackoverflow Class\n</code></pre>\n<ul>\n<li>From a terminal set the working directory to the directory containing <code>HelloStackoverflow.java</code>, then type the command:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>javac HelloStackoverflow.java\n</code></pre>\n<ul>\n<li><p>If you're lucky, nothing will happen</p>\n</li>\n<li><p>Actually, a lot happened. <code>javac</code> is the name of the Java compiler. It translates Java into <code>Java Bytecode</code>, an assembly language for the Java Virtual Machine (JVM). The Java Bytecode is stored in a file called <code>HelloStackoverflow.class</code>.</p>\n</li>\n<li><p>Running: type the command:</p>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>java HelloStackoverflow\n\n# output:\n# Hello Stackoverflow !\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dp640.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dp640.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":3845076,"reputation":1589,"user_id":3194693,"display_name":"Will"},"score":0,"creation_date":1685960086,"post_id":65758319,"comment_id":134728679,"body_markdown":"You only need the second line saying export JAVA_HOME since it will overwrite the value of JAVA_HOME set on the line before it.","body":"You only need the second line saying export JAVA_HOME since it will overwrite the value of JAVA_HOME set on the line before it."},{"owner":{"account_id":3845076,"reputation":1589,"user_id":3194693,"display_name":"Will"},"score":0,"creation_date":1685960267,"post_id":65758319,"comment_id":134728736,"body_markdown":"Oh, and on my M1 Mac, I put the export line (thagt I needed) in the file ~/.zshenv e.g.:\n`export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home&quot;`","body":"Oh, and on my M1 Mac, I put the export line (thagt I needed) in the file ~/.zshenv e.g.: <code>export JAVA_HOME=&quot;&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;zulu-11.jdk&#47;Con&zwnj;&#8203;tents&#47;Home&quot;</code>"}],"tags":[],"owner":{"account_id":16862831,"reputation":128,"user_id":12193227,"display_name":"Prabhashi"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1610869307,"creation_date":1610869307,"answer_id":65758319,"question_id":14702702,"body_markdown":"To set JAVA_HOME permanently in Mac, I tried following steps.\r\n1. Download and install Java JDK to your Mac. When you install a Java JDK version which will be installed in the following location by default in MAC.\r\n\r\n&gt; /Library/Java/JavaVirtualMachines\r\n\r\n2. Open the **.bash_profile** file (Here My Mac version is MacOS High Sierra. You may need to open **.zshrc** file in some different MacOS versions).\r\n\r\n```atom ~/.bash_profile```\r\n\r\n3. Add following to your bash_profile file.\r\n\r\n\r\nChange the JDK version accordingly\r\n\r\n\r\n\r\n\r\n\r\n    export JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.8)&quot;\r\n    export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home&#39;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n\r\n\r\n\r\n4. Open the Terminal and execute following.\r\n\r\n```source ~/.bash_profile```\r\n\r\nOpen a new terminal and check &#39;echo $JAVA_HOME&#39; \r\n\r\nThanks.\r\n","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>To set JAVA_HOME permanently in Mac, I tried following steps.</p>\n<ol>\n<li>Download and install Java JDK to your Mac. When you install a Java JDK version which will be installed in the following location by default in MAC.</li>\n</ol>\n<blockquote>\n<p>/Library/Java/JavaVirtualMachines</p>\n</blockquote>\n<ol start=\"2\">\n<li>Open the <strong>.bash_profile</strong> file (Here My Mac version is MacOS High Sierra. You may need to open <strong>.zshrc</strong> file in some different MacOS versions).</li>\n</ol>\n<p><code>atom ~/.bash_profile</code></p>\n<ol start=\"3\">\n<li>Add following to your bash_profile file.</li>\n</ol>\n<p>Change the JDK version accordingly</p>\n<pre><code>export JAVA_HOME=&quot;$(/usr/libexec/java_home -v 1.8)&quot;\nexport JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home'\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<ol start=\"4\">\n<li>Open the Terminal and execute following.</li>\n</ol>\n<p><code>source ~/.bash_profile</code></p>\n<p>Open a new terminal and check 'echo $JAVA_HOME'</p>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":11479643,"reputation":11,"user_id":8414155,"display_name":"Luke Songling Yan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622581826,"creation_date":1622581826,"answer_id":67796030,"question_id":14702702,"body_markdown":"Find out the jenv will set the $JAVA_HOME a short version like &quot;/Users/*****/.jenv/versions/1.8&quot;.\r\n  \r\nHave to uninstall jenv to make the $JAVA_HOME setting works like &quot;JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home&quot;","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Find out the jenv will set the $JAVA_HOME a short version like &quot;/Users/*****/.jenv/versions/1.8&quot;.</p>\n<p>Have to uninstall jenv to make the $JAVA_HOME setting works like &quot;JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_261.jdk/Contents/Home&quot;</p>\n"},{"tags":[],"owner":{"account_id":3982148,"reputation":389,"user_id":3283808,"display_name":"Elano Vasconcelos"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1636731497,"creation_date":1636731497,"answer_id":69945413,"question_id":14702702,"body_markdown":"the answers here are in general correct, but for me I didn&#39;t know that I need to do something like `source ~/.bash_profile` to be able to really make it work.\r\n\r\nso the full answer is:\r\n\r\n    nano ~/.zshenv // or\r\n    nano ~/.zshrc // or\r\n    nano ~/.bash_profile\r\n    //add this line to zshrc and bash_profile if you want to be 100% sure\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n    //save\r\n    source ~/.bash_profile //the KEY that generally isn&#39;t in the answers\r\n    source ~/.zshrc //I didn&#39;t do this one, but maybe you need it","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>the answers here are in general correct, but for me I didn't know that I need to do something like <code>source ~/.bash_profile</code> to be able to really make it work.</p>\n<p>so the full answer is:</p>\n<pre><code>nano ~/.zshenv // or\nnano ~/.zshrc // or\nnano ~/.bash_profile\n//add this line to zshrc and bash_profile if you want to be 100% sure\nexport JAVA_HOME=$(/usr/libexec/java_home)\n//save\nsource ~/.bash_profile //the KEY that generally isn't in the answers\nsource ~/.zshrc //I didn't do this one, but maybe you need it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12468518,"reputation":1,"user_id":9077518,"display_name":"VIKRAM BARANWAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679917134,"creation_date":1679395534,"answer_id":75800186,"question_id":14702702,"body_markdown":"If you want to set the java version permanently, \r\ni.e., If you have 2 or more Java versions in your local\r\n\r\nThen, follow these steps:\r\n\r\n**1.** Check the available java versions using\r\n&quot;/usr/libexec/java_home -V&quot; command\r\n\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;\r\n\r\n**2.** Set the path inside the .bash_profile\r\n\r\n - Open your terminal\r\n - vi .bash_profile\r\n - export\r\n   JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home\r\n\r\nHere, &quot;*/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home*&quot; \r\n is the java11 version path from step 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PQ06A.png","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>If you want to set the java version permanently,\ni.e., If you have 2 or more Java versions in your local</p>\n<p>Then, follow these steps:</p>\n<p><strong>1.</strong> Check the available java versions using\n&quot;/usr/libexec/java_home -V&quot; command</p>\n<p><a href=\"https://i.stack.imgur.com/PQ06A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQ06A.png\" alt=\"enter image description here\" /></a>\n<br></p>\n<p><strong>2.</strong> Set the path inside the .bash_profile</p>\n<ul>\n<li>Open your terminal</li>\n<li>vi .bash_profile</li>\n<li>export\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home</li>\n</ul>\n<p>Here, &quot;<em>/Library/Java/JavaVirtualMachines/jdk-11.0.9.jdk/Contents/Home</em>&quot;\nis the java11 version path from step 1</p>\n"},{"tags":[],"owner":{"account_id":12827072,"reputation":2049,"user_id":9279682,"display_name":"Viraj Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693835598,"creation_date":1690284942,"answer_id":76762307,"question_id":14702702,"body_markdown":"Most of the answers were suggesting to source .bash_profile were outdated for me, I&#39;m using **macOS Ventura 13.4.1** which uses Zsh shell. Knowing which shell you are using helps you determine which configuration file to modify.\r\n\r\n**Step 1:**\r\n\r\n     echo $SHELL\r\n\r\n**Step 2:**\r\n\r\nif you see /bin/zsh then you need to update JAVA_HOME in ~/.zshrc, oterwise if you&#39;re seeing /bin/bash you need to update JAVA_HOME in ~/.bash_profile. Here ~/ is the home path. you can find .zshrc and .bash_profile in your home directory. you can go to you home directory by pressing return after `cd`  \r\n\r\n\r\n**Step 3**\r\n\r\n    /usr/libexec/java_home -V\r\nrun this command to see the jdks installed on your mac.\r\n\r\n**Step 4**\r\n\r\nI was using the Zsh shell, so I had to add this export in my .zshrc file. if you don&#39;t have this file in you `~/` home direcroy you need to create it.\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 11`\r\n\r\nreplace the version after -v to the version you want to permanently set and aready have installed.\r\n\r\n**Step 5**\r\n\r\nif you&#39;re using Zsh shell\r\n\r\n\r\n    source .zshrc\r\n\r\nelse\r\n\r\n    source .bash_profile\r\n\r\n\r\nmake sure you&#39;re running this command in your home directory if you&#39;re not in your home directory run `source ~/.zshrc` as ~/ is shorthand for home directory.\r\n\r\n\r\n\r\n","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>Most of the answers were suggesting to source .bash_profile were outdated for me, I'm using <strong>macOS Ventura 13.4.1</strong> which uses Zsh shell. Knowing which shell you are using helps you determine which configuration file to modify.</p>\n<p><strong>Step 1:</strong></p>\n<pre><code> echo $SHELL\n</code></pre>\n<p><strong>Step 2:</strong></p>\n<p>if you see /bin/zsh then you need to update JAVA_HOME in ~/.zshrc, oterwise if you're seeing /bin/bash you need to update JAVA_HOME in ~/.bash_profile. Here ~/ is the home path. you can find .zshrc and .bash_profile in your home directory. you can go to you home directory by pressing return after <code>cd</code></p>\n<p><strong>Step 3</strong></p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>run this command to see the jdks installed on your mac.</p>\n<p><strong>Step 4</strong></p>\n<p>I was using the Zsh shell, so I had to add this export in my .zshrc file. if you don't have this file in you <code>~/</code> home direcroy you need to create it.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11`\n</code></pre>\n<p>replace the version after -v to the version you want to permanently set and aready have installed.</p>\n<p><strong>Step 5</strong></p>\n<p>if you're using Zsh shell</p>\n<pre><code>source .zshrc\n</code></pre>\n<p>else</p>\n<pre><code>source .bash_profile\n</code></pre>\n<p>make sure you're running this command in your home directory if you're not in your home directory run <code>source ~/.zshrc</code> as ~/ is shorthand for home directory.</p>\n"}],"owner":{"account_id":2285974,"reputation":1319,"user_id":2009908,"display_name":"Vishal Tavande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274082,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"answer_count":22,"score":118,"last_activity_date":1693835598,"creation_date":1360051503,"question_id":14702702,"body_markdown":"I am trying to set `JAVA_HOME` by entering `export JAVA_HOME=/Library/Java/Home` at terminal.\r\nIt sets the `JAVA_HOME` for current session. \r\n\r\nHow can I set it permanently?","title":"How to set JAVA_HOME in Mac permanently?","body":"<p>I am trying to set <code>JAVA_HOME</code> by entering <code>export JAVA_HOME=/Library/Java/Home</code> at terminal.\nIt sets the <code>JAVA_HOME</code> for current session. </p>\n\n<p>How can I set it permanently?</p>\n"},{"tags":["java","spring","redis","jedis","spring-data-redis"],"comments":[{"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"score":0,"creation_date":1513149899,"post_id":47763245,"comment_id":82536154,"body_markdown":"Possible duplicate of [SocketTimeoutException: Read time out](https://stackoverflow.com/questions/26764252/sockettimeoutexception-read-time-out)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26764252/sockettimeoutexception-read-time-out\">SocketTimeoutException: Read time out</a>"},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1513282545,"post_id":47763245,"comment_id":82605216,"body_markdown":"No, my issue is different because of the libs I used are different","body":"No, my issue is different because of the libs I used are different"}],"answers":[{"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1531939515,"post_id":48013461,"comment_id":89789327,"body_markdown":"Could you please guide on https://stackoverflow.com/questions/51408969/nested-exception-is-redis-clients-jedis-exceptions-jedisconnectionexception-cou ?","body":"Could you please guide on <a href=\"https://stackoverflow.com/questions/51408969/nested-exception-is-redis-clients-jedis-exceptions-jedisconnectionexception-cou\" title=\"nested exception is redis clients jedis exceptions jedisconnectionexception cou\">stackoverflow.com/questions/51408969/&hellip;</a> ?"}],"tags":[],"owner":{"account_id":1592336,"reputation":1170,"user_id":1475386,"accept_rate":100,"display_name":"donm"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514490288,"creation_date":1514490288,"answer_id":48013461,"question_id":47763245,"body_markdown":"1.Try to use Jedis connection pool to get Jedis instance instead of using `new Jedis()`, for that you will have to configure JedisPool in config\r\nSince you are using it as bean, you should use JedisPool bean and then get Jedis from it wherever you are supposed to perform an operation and close it after finishing.\r\n\r\n2.Otherwise use spring&#39;s redisTemplate with config as below\r\n\r\n    @Bean\r\n\tpublic JedisConnectionFactory redisConnectionFactory() {\r\n\t\tJedisConnectionFactory factory = new JedisConnectionFactory();\r\n\t\tfactory.setHostName(redisHostName);\r\n\t\tfactory.setPort(redisPort);\r\n\t\tfactory.setUsePool(true);\r\n\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory cf) {\r\n\t\tRedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\r\n\t\tredisTemplate.setDefaultSerializer(new StringRedisSerializer());\r\n\t\tredisTemplate.setConnectionFactory(cf);\r\n\r\n\t\treturn redisTemplate;\r\n\t}","title":"Cannot get Jedis connection; Could not get a resource from the pool","body":"<p>1.Try to use Jedis connection pool to get Jedis instance instead of using <code>new Jedis()</code>, for that you will have to configure JedisPool in config\nSince you are using it as bean, you should use JedisPool bean and then get Jedis from it wherever you are supposed to perform an operation and close it after finishing.</p>\n\n<p>2.Otherwise use spring's redisTemplate with config as below</p>\n\n<pre><code>@Bean\npublic JedisConnectionFactory redisConnectionFactory() {\n    JedisConnectionFactory factory = new JedisConnectionFactory();\n    factory.setHostName(redisHostName);\n    factory.setPort(redisPort);\n    factory.setUsePool(true);\n\n    return factory;\n}\n\n@Bean\npublic RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory cf) {\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\n    redisTemplate.setDefaultSerializer(new StringRedisSerializer());\n    redisTemplate.setConnectionFactory(cf);\n\n    return redisTemplate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796566,"reputation":929,"user_id":1635855,"accept_rate":83,"display_name":"Wuaner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533030863,"creation_date":1533030863,"answer_id":51610569,"question_id":47763245,"body_markdown":"Fetch Jedis instance from spring-managed redis connection pool:\r\n\r\n    Jedis jedis = (Jedis) redisTemplate.getConnectionFactory().getConnection().getNativeConnection();\r\n\r\nThen u can use it to instantiate JedisLock.\r\n\r\n","title":"Cannot get Jedis connection; Could not get a resource from the pool","body":"<p>Fetch Jedis instance from spring-managed redis connection pool:</p>\n\n<pre><code>Jedis jedis = (Jedis) redisTemplate.getConnectionFactory().getConnection().getNativeConnection();\n</code></pre>\n\n<p>Then u can use it to instantiate JedisLock.</p>\n"},{"tags":[],"owner":{"account_id":2875754,"reputation":81,"user_id":2467866,"display_name":"Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553679484,"creation_date":1553679484,"answer_id":55373941,"question_id":47763245,"body_markdown":"Change `bind 127.0.0.1` to `bind {replace with machine ip}` in your redis.{os}.conf file of Redis","title":"Cannot get Jedis connection; Could not get a resource from the pool","body":"<p>Change <code>bind 127.0.0.1</code> to <code>bind {replace with machine ip}</code> in your redis.{os}.conf file of Redis</p>\n"},{"tags":[],"owner":{"account_id":1412555,"reputation":5701,"user_id":1338879,"accept_rate":69,"display_name":"rustylepord"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681049063,"creation_date":1681049063,"answer_id":75970989,"question_id":47763245,"body_markdown":"If the passed password empty when creating Jdeis pool pass null instead of of empty quotes. e.g. &quot;&quot;\r\n\r\n&gt; return new JedisPool(new JedisPoolConfig(), redisHost, redisPort,\r\n&gt; 600000,\r\n&gt; \t\t\t\tStringUtils.isEmpty(redisPassword) ? null : redisPassword);","title":"Cannot get Jedis connection; Could not get a resource from the pool","body":"<p>If the passed password empty when creating Jdeis pool pass null instead of of empty quotes. e.g. &quot;&quot;</p>\n<blockquote>\n<p>return new JedisPool(new JedisPoolConfig(), redisHost, redisPort,\n600000,\nStringUtils.isEmpty(redisPassword) ? null : redisPassword);</p>\n</blockquote>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30278,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1693835287,"creation_date":1513035737,"question_id":47763245,"body_markdown":"I am running a batch job for every 5 minutes and I don&#39;t wanna other nodes to run the same job hence I am using Jedis lock to lock an object for 5 minutes. So that other node won&#39;t get the lock if they try to run the same job. Job started after acquiring the lock and when I try to read it from Redis I am getting the following exception saying \r\n\r\n    &#39;Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\r\n    \tat redis.clients.util.Pool.getResource(Pool.java:53)\r\n    \tat redis.clients.jedis.JedisPool.getResource(JedisPool.java:226)\r\n    \tat redis.clients.jedis.JedisPool.getResource(JedisPool.java:16)\r\n    \tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:194)\r\n    \t... 40 more\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out\r\n    \tat redis.clients.jedis.Connection.disconnect(Connection.java:224)\r\n    \tat redis.clients.jedis.BinaryClient.disconnect(BinaryClient.java:941)\r\n    \tat redis.clients.jedis.Connection.close(Connection.java:214)\r\n    \tat redis.clients.jedis.BinaryClient.close(BinaryClient.java:947)\r\n    \tat redis.clients.jedis.Jedis.close(Jedis.java:3412)\r\n    \tat redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:117)\r\n    \tat org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:836)\r\n    \tat org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:434)\r\n    \tat org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:361)\r\n    \tat redis.clients.util.Pool.getResource(Pool.java:49)&#39;\r\n\r\nThis is what the code I have\r\n\r\n\r\n    @Bean\r\n    public Jedis getJedis()\r\n    {\r\n    \tJedis jedis = new Jedis(this.redisHost, nteger.valueOf(this.redisPort));\r\n    \tjedis.auth(this.redisPassword);\r\n    \treturn jedis;\r\n    }\r\n\r\nspring-boot Application.properties file\r\n\r\n    # DATA REDIS\r\n    spring.data.redis.repositories.enabled=true\r\n    # REDIS (RedisProperties)\r\n    spring.redis.host=10.160.49.22\r\n    spring.redis.password=qweqewqw\r\n    spring.redis.ssl=true \r\n    #spring.redis.pool.max-active=10\r\n    #spring.redis.pool.max-idle=10\r\n    # spring.redis.pool.max-wait=30000\r\n    spring.redis.port=6379\r\n\r\nJob executes the following code at the start to get the lock\r\n\r\n    JedisLock jedisLock = new JedisLock(jedis, getLockName(), getTimeInMillis());\r\n    jedisLoc.acquire()\r\n\r\n\r\nAfter that redis repository class is trying to read values for a particular pattern..\r\n\r\n    List&lt;String&gt; hotelCodes = redisTemplate.execute(new RedisCallback&lt;List&lt;String&gt;&gt;() {\r\n    \t\t\t/**\r\n    \t\t\t * Gets called by {@link RedisTemplate} with an active Redis connection. Does not need to care about activating or\r\n    \t\t\t * closing the connection or handling exceptions.\r\n    \t\t\t *\r\n    \t\t\t * @param connection active Redis connection\r\n    \t\t\t * @return a result object or {@code null} if none\r\n    \t\t\t * @throws DataAccessException\r\n    \t\t\t */\r\n    \t\t\t@Override\r\n    \t\t\tpublic List&lt;String&gt; doInRedis(RedisConnection connection) throws DataAccessException {\r\n    \t\t\t\tScanOptions options = ScanOptions.scanOptions().match(pattern).count(1).build();\r\n    \t\t\t\tCursor&lt;Map.Entry&lt;byte[], byte[]&gt;&gt; entries = connection.hScan(HASH_KEY.getBytes(), options);\r\n    \t\t\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    \t\t\t\tif (entries != null)\r\n    \t\t\t\t\twhile (entries.hasNext()) {\r\n    \t\t\t\t\t\tMap.Entry&lt;byte[], byte[]&gt; entry = entries.next();\r\n    \t\t\t\t\t\tbyte[] actualValue = entry.getValue();\r\n    \t\t\t\t\t\tresult.add(new String(actualValue));\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\treturn result;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn hotelCodes;\r\n\r\n\r\nThen this is the complete exception I see in log.\r\n\r\n    org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\r\n    \tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:204)\r\n    \tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:348)\r\n    \tat org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:129)\r\n    \tat org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:92)\r\n    \tat org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:79)\r\n    \tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:194)\r\n    \tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:169)\r\n    \tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:157)\r\n    \tat com.hyatt.pms.jobs.dao.impl.HeartbeatRepositoryImpl.findAll(HeartbeatRepositoryImpl.java:62)\r\n    \tat com.hyatt.pms.jobs.dao.impl.HeartbeatRepositoryImpl$$FastClassBySpringCGLIB$$e3fe6169.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n    \tat com.hyatt.pms.jobs.dao.impl.HeartbeatRepositoryImpl$$EnhancerBySpringCGLIB$$68719252.findAll(&lt;generated&gt;)\r\n    \tat com.hyatt.pms.jobs.processors.HeartbeatTestProcessor.processCluster(HeartbeatTestProcessor.java:54)\r\n    \tat com.hyatt.pms.jobs.processors.TestProcessor.process(TestProcessor.java:61)\r\n    \tat com.hyatt.pms.jobs.processors.HeartbeatTestProcessor.process(HeartbeatTestProcessor.java:39)\r\n    \tat com.hyatt.pms.jobs.processors.HeartbeatTestProcessor$$FastClassBySpringCGLIB$$99fdfbdc.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\r\n    \tat com.hyatt.pms.jobs.processors.HeartbeatTestProcessor$$EnhancerBySpringCGLIB$$860eb7e4.process(&lt;generated&gt;)\r\n    \tat com.hyatt.pms.jobs.domain.jobs.HeartbeatJob.runHealthCheck(HeartbeatJob.java:34)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call$$$capture(Executors.java:511)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java)\r\n    \tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\r\n    \tat redis.clients.util.Pool.getResource(Pool.java:53)\r\n    \tat redis.clients.jedis.JedisPool.getResource(JedisPool.java:226)\r\n    \tat redis.clients.jedis.JedisPool.getResource(JedisPool.java:16)\r\n    \tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:194)\r\n    \t... 40 more\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out\r\n    \tat redis.clients.jedis.Connection.disconnect(Connection.java:224)\r\n    \tat redis.clients.jedis.BinaryClient.disconnect(BinaryClient.java:941)\r\n    \tat redis.clients.jedis.Connection.close(Connection.java:214)\r\n    \tat redis.clients.jedis.BinaryClient.close(BinaryClient.java:947)\r\n    \tat redis.clients.jedis.Jedis.close(Jedis.java:3412)\r\n    \tat redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:117)\r\n    \tat org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:836)\r\n    \tat org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:434)\r\n    \tat org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:361)\r\n    \tat redis.clients.util.Pool.getResource(Pool.java:49)\r\n    \t... 43 more\r\n    Caused by: java.net.SocketTimeoutException: Read timed out\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n    \tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:983)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)\r\n    \tat sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:757)\r\n    \tat sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)\r\n    \tat redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:52)\r\n    \tat redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:216)\r\n    \tat redis.clients.jedis.Connection.disconnect(Connection.java:220)\r\n    \t... 52 more\r\n\r\nAnyone knows why I get this exception and how to fix it?","title":"Cannot get Jedis connection; Could not get a resource from the pool","body":"<p>I am running a batch job for every 5 minutes and I don't wanna other nodes to run the same job hence I am using Jedis lock to lock an object for 5 minutes. So that other node won't get the lock if they try to run the same job. Job started after acquiring the lock and when I try to read it from Redis I am getting the following exception saying </p>\n\n<pre><code>'Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\n    at redis.clients.util.Pool.getResource(Pool.java:53)\n    at redis.clients.jedis.JedisPool.getResource(JedisPool.java:226)\n    at redis.clients.jedis.JedisPool.getResource(JedisPool.java:16)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:194)\n    ... 40 more\nCaused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out\n    at redis.clients.jedis.Connection.disconnect(Connection.java:224)\n    at redis.clients.jedis.BinaryClient.disconnect(BinaryClient.java:941)\n    at redis.clients.jedis.Connection.close(Connection.java:214)\n    at redis.clients.jedis.BinaryClient.close(BinaryClient.java:947)\n    at redis.clients.jedis.Jedis.close(Jedis.java:3412)\n    at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:117)\n    at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:836)\n    at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:434)\n    at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:361)\n    at redis.clients.util.Pool.getResource(Pool.java:49)'\n</code></pre>\n\n<p>This is what the code I have</p>\n\n<pre><code>@Bean\npublic Jedis getJedis()\n{\n    Jedis jedis = new Jedis(this.redisHost, nteger.valueOf(this.redisPort));\n    jedis.auth(this.redisPassword);\n    return jedis;\n}\n</code></pre>\n\n<p>spring-boot Application.properties file</p>\n\n<pre><code># DATA REDIS\nspring.data.redis.repositories.enabled=true\n# REDIS (RedisProperties)\nspring.redis.host=10.160.49.22\nspring.redis.password=qweqewqw\nspring.redis.ssl=true \n#spring.redis.pool.max-active=10\n#spring.redis.pool.max-idle=10\n# spring.redis.pool.max-wait=30000\nspring.redis.port=6379\n</code></pre>\n\n<p>Job executes the following code at the start to get the lock</p>\n\n<pre><code>JedisLock jedisLock = new JedisLock(jedis, getLockName(), getTimeInMillis());\njedisLoc.acquire()\n</code></pre>\n\n<p>After that redis repository class is trying to read values for a particular pattern..</p>\n\n<pre><code>List&lt;String&gt; hotelCodes = redisTemplate.execute(new RedisCallback&lt;List&lt;String&gt;&gt;() {\n            /**\n             * Gets called by {@link RedisTemplate} with an active Redis connection. Does not need to care about activating or\n             * closing the connection or handling exceptions.\n             *\n             * @param connection active Redis connection\n             * @return a result object or {@code null} if none\n             * @throws DataAccessException\n             */\n            @Override\n            public List&lt;String&gt; doInRedis(RedisConnection connection) throws DataAccessException {\n                ScanOptions options = ScanOptions.scanOptions().match(pattern).count(1).build();\n                Cursor&lt;Map.Entry&lt;byte[], byte[]&gt;&gt; entries = connection.hScan(HASH_KEY.getBytes(), options);\n                List&lt;String&gt; result = new ArrayList&lt;&gt;();\n                if (entries != null)\n                    while (entries.hasNext()) {\n                        Map.Entry&lt;byte[], byte[]&gt; entry = entries.next();\n                        byte[] actualValue = entry.getValue();\n                        result.add(new String(actualValue));\n                    }\n\n                return result;\n            }\n        });\n        return hotelCodes;\n</code></pre>\n\n<p>Then this is the complete exception I see in log.</p>\n\n<pre><code>org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:204)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:348)\n    at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:129)\n    at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:92)\n    at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:79)\n    at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:194)\n    at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:169)\n    at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:157)\n    at com.hyatt.pms.jobs.dao.impl.HeartbeatRepositoryImpl.findAll(HeartbeatRepositoryImpl.java:62)\n    at com.hyatt.pms.jobs.dao.impl.HeartbeatRepositoryImpl$$FastClassBySpringCGLIB$$e3fe6169.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at com.hyatt.pms.jobs.dao.impl.HeartbeatRepositoryImpl$$EnhancerBySpringCGLIB$$68719252.findAll(&lt;generated&gt;)\n    at com.hyatt.pms.jobs.processors.HeartbeatTestProcessor.processCluster(HeartbeatTestProcessor.java:54)\n    at com.hyatt.pms.jobs.processors.TestProcessor.process(TestProcessor.java:61)\n    at com.hyatt.pms.jobs.processors.HeartbeatTestProcessor.process(HeartbeatTestProcessor.java:39)\n    at com.hyatt.pms.jobs.processors.HeartbeatTestProcessor$$FastClassBySpringCGLIB$$99fdfbdc.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\n    at com.hyatt.pms.jobs.processors.HeartbeatTestProcessor$$EnhancerBySpringCGLIB$$860eb7e4.process(&lt;generated&gt;)\n    at com.hyatt.pms.jobs.domain.jobs.HeartbeatJob.runHealthCheck(HeartbeatJob.java:34)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call$$$capture(Executors.java:511)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool\n    at redis.clients.util.Pool.getResource(Pool.java:53)\n    at redis.clients.jedis.JedisPool.getResource(JedisPool.java:226)\n    at redis.clients.jedis.JedisPool.getResource(JedisPool.java:16)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:194)\n    ... 40 more\nCaused by: redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out\n    at redis.clients.jedis.Connection.disconnect(Connection.java:224)\n    at redis.clients.jedis.BinaryClient.disconnect(BinaryClient.java:941)\n    at redis.clients.jedis.Connection.close(Connection.java:214)\n    at redis.clients.jedis.BinaryClient.close(BinaryClient.java:947)\n    at redis.clients.jedis.Jedis.close(Jedis.java:3412)\n    at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:117)\n    at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:836)\n    at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:434)\n    at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:361)\n    at redis.clients.util.Pool.getResource(Pool.java:49)\n    ... 43 more\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:983)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1385)\n    at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:757)\n    at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)\n    at redis.clients.util.RedisOutputStream.flushBuffer(RedisOutputStream.java:52)\n    at redis.clients.util.RedisOutputStream.flush(RedisOutputStream.java:216)\n    at redis.clients.jedis.Connection.disconnect(Connection.java:220)\n    ... 52 more\n</code></pre>\n\n<p>Anyone knows why I get this exception and how to fix it?</p>\n"},{"tags":["java","spring-boot","maven","junit"],"answers":[{"comments":[{"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"score":0,"creation_date":1693822234,"post_id":77036659,"comment_id":135806317,"body_markdown":"I am not able to find out that for which dependency I have to add this exclusion?","body":"I am not able to find out that for which dependency I have to add this exclusion?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1693822380,"post_id":77036659,"comment_id":135806342,"body_markdown":"with `mvn dependency:tree` you can find it and after it do exclusion.","body":"with <code>mvn dependency:tree</code> you can find it and after it do exclusion."},{"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"score":0,"creation_date":1693831492,"post_id":77036659,"comment_id":135808046,"body_markdown":"The error  states  &quot;Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j&quot; . I think it is a conflict within apache and not logback or?","body":"The error  states  &quot;Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j&quot; . I think it is a conflict within apache and not logback or?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693831598,"post_id":77036659,"comment_id":135808063,"body_markdown":"in the question, please also add maven `pom.xml`  to have more details","body":"in the question, please also add maven <code>pom.xml</code>  to have more details"},{"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"score":0,"creation_date":1693832527,"post_id":77036659,"comment_id":135808252,"body_markdown":"Okay...I have now added the error and the pom.xml","body":"Okay...I have now added the error and the pom.xml"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693835016,"post_id":77036659,"comment_id":135808759,"body_markdown":"i updated the answer, can you check ?","body":"i updated the answer, can you check ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693835875,"post_id":77036659,"comment_id":135808926,"body_markdown":"and also, nothing else in necessary here, i mean to be excluded, also i will wait your response if it`s going to work","body":"and also, nothing else in necessary here, i mean to be excluded, also i will wait your response if it`s going to work"},{"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"score":0,"creation_date":1693899041,"post_id":77036659,"comment_id":135816472,"body_markdown":"Thanks a lot! I tried implementing it but after doing the same I am getting an error -\n\n&quot;9:28:40.701 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2bfe4df9] to prepare test instance [BatchTest@4f466207]\njava.lang.IllegalStateException: Failed to load ApplicationContext&quot;\n\ncaused by:- Caused by: java.lang.IllegalStateException: Failed to add PropertySource to Environment","body":"Thanks a lot! I tried implementing it but after doing the same I am getting an error -  &quot;9:28:40.701 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectio&zwnj;&#8203;nTestExecutionListen&zwnj;&#8203;er@2bfe4df9] to prepare test instance [BatchTest@4f466207] java.lang.IllegalStateException: Failed to load ApplicationContext&quot;  caused by:- Caused by: java.lang.IllegalStateException: Failed to add PropertySource to Environment"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693899361,"post_id":77036659,"comment_id":135816534,"body_markdown":"it is a topic for another question, i think that the main problem described in this question was solved.","body":"it is a topic for another question, i think that the main problem described in this question was solved."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693910898,"post_id":77036659,"comment_id":135818721,"body_markdown":"about the current problem be sure that properties that are using in `tests` are under `src/test/resources` package","body":"about the current problem be sure that properties that are using in <code>tests</code> are under <code>src&#47;test&#47;resources</code> package"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693922867,"post_id":77036659,"comment_id":135821464,"body_markdown":"by the way, my answer  was helpfully for you ?","body":"by the way, my answer  was helpfully for you ?"},{"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"score":1,"creation_date":1693925972,"post_id":77036659,"comment_id":135822221,"body_markdown":"Thank you @Lisa....your answer was really helpful!","body":"Thank you @Lisa....your answer was really helpful!"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693835001,"creation_date":1693820620,"answer_id":77036659,"question_id":77036584,"body_markdown":"`Class path contains multiple SLF4J bindings.` `StaticLoggerBinder` this is the root cause of the problem, to solve it you should to choice what library do you need to use for `SLF4J` `logback-classic` or `slf4j-reload4j`:\r\n\r\nTo set it can help you: \r\n\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt; or ch.qos.logback\r\n            &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt; or logback-classic\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt; \r\n\r\n**UPDATE**\r\n\r\nOn `spring-boot-started` dependency exclude `spring-boot-starter-logging`, something like this.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;","title":"How to solve Maven clean install errors?","body":"<p><code>Class path contains multiple SLF4J bindings.</code> <code>StaticLoggerBinder</code> this is the root cause of the problem, to solve it you should to choice what library do you need to use for <code>SLF4J</code> <code>logback-classic</code> or <code>slf4j-reload4j</code>:</p>\n<p>To set it can help you:</p>\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt; or ch.qos.logback\n        &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt; or logback-classic\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt; \n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>On <code>spring-boot-started</code> dependency exclude <code>spring-boot-starter-logging</code>, something like this.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29313193,"reputation":11,"user_id":22458485,"display_name":"Jeet_dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77036659,"answer_count":1,"score":1,"last_activity_date":1693835001,"creation_date":1693819813,"question_id":77036584,"body_markdown":"The problem is the tests are running without any problem when only the tests are run. However, when I execute Maven clean install then the tests are failing and the below stack trace is generated. I have tried a few of the solutions in the stackoverflow especially related to the `multiple SLF4J bindings` but could not completely run it error free.\r\n\r\n```\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running BatchTest\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/C:/Ablage/DEV/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Ablage/DEV/.m2/repository/org/slf4j/slf4j-reload4j/1.7.36/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n10:12:50.390 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\r\n10:12:50.456 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\r\n10:12:50.609 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [BatchTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]\r\n10:12:50.761 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@703fa45 declaringClass = &#39;BatchTest&#39;, classes = &#39;{class xx.xx.xx.xxx.xx.xxxConfiguration, class xx.xxx.xxx.abcApp.steps.xxxConfig, class xx.xx.xx.xxx.xx.xxxConfig, class xx.xxx.xx.xxx.steps.xxxConfig, class xx.xx.xx.xxx.steps.xxConfig, class TestConfig}&#39;, locations = &#39;{}&#39;, inheritLocations = true, initializers = &#39;{}&#39;, inheritInitializers = true, name = [null], contextLoaderClass = &#39;org.springframework.test.context.ContextLoader&#39;].\r\n10:12:51.106 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [BatchTest].\r\n10:12:51.106 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\r\n10:12:51.141 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]\r\n10:12:51.199 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69ce14e6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@699d96bc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@b5de9ac, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ecd8ab1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@57bdceaa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@52909a97, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@36e409e0, org.springframework.test.context.event.EventPublishingTestExecutionListener@145e958f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2d2fc130, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7bbdb220, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d001fbe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@d120d7c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5ee77baf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@485deee1, org.springframework.batch.test.StepScopeTestExecutionListener@25cde5bb, org.springframework.batch.test.JobScopeTestExecutionListener@38a96593]\r\n10:12:51.208 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3dfe59d7 testClass = BatchTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@1be8c122 testClass = BatchTest, locations = &#39;{}&#39;, classes = &#39;{class xx.xxx.xx.xxxx.xx.xxxConfiguration, class xx.xxx.xxx.xxx.xxx.xxxConfig, class xx.xxx.xx.xxx.xx.xxxConfig, class xxConfig.class}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{localtest}&#39;, propertySourceLocations = &#39;{classpath:/src/test/resources/application-localtest.properties}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[[ImportsContextCustomizer@5d08976a key = [@org.springframework.batch.test.context.SpringBatchTest(), @org.springframework.test.context.junit.jupiter.SpringJUnitConfig(inheritInitializers=true, initializers={}, classes={}, name=&quot;&quot;, locations={}, value={xx.xxx.xx.xxx.xxx.xxxConfiguration.class}, inheritLocations=true), @org.springframework.test.context.TestExecutionListeners(inheritListeners=true, mergeMode=MERGE_WITH_DEFAULTS, listeners={org.springframework.batch.test.StepScopeTestExecutionListener.class, org.springframework.batch.test.JobScopeTestExecutionListener.class}, value={}), @org.springframework.test.context.ContextConfiguration(inheritInitializers=true, initializers={}, loader=org.springframework.test.context.ContextLoader.class, classes={}, name=&quot;&quot;, locations={}, value={}, inheritLocations=true), @org.springframework.test.context.TestPropertySource(locations={&quot;/src/test/resources/application-localtest.properties&quot;}, inheritProperties=true, value={}, properties={}, inheritLocations=true), @org.springframework.data.jpa.repository.config.EnableJpaRepositories(excludeFilters={}, enableDefaultTransactions=true, repositoryBaseClass=org.springframework.data.repository.config.DefaultRepositoryBaseClass.class, basePackageClasses={}, escapeCharacter=&#39;\\&#39;, includeFilters={}, bootstrapMode=DEFAULT, repositoryFactoryBeanClass=org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.class, entityManagerFactoryRef=&quot;entityManagerFactory&quot;, queryLookupStrategy=CREATE_IF_NOT_FOUND, namedQueriesLocation=&quot;&quot;, transactionManagerRef=&quot;transactionManager&quot;, basePackages={}, repositoryImplementationPostfix=&quot;Impl&quot;, considerNestedRepositories=false, value={&quot;de.xxx.xxx.xxx.db&quot;}), @org.springframework.test.context.ActiveProfiles(profiles={}, resolver=org.springframework.test.context.ActiveProfilesResolver.class, value={&quot;localtest&quot;}, inheritProfiles=true), @org.springframework.context.annotation.Import(value={org.springframework.data.jpa.repository.config.JpaRepositoriesRegistrar.class})]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70091872, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2b441e56, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c60ccbaf, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6a7a1a0d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@766b6d02, org.springframework.batch.test.context.BatchTestContextCustomizer@5e98032e], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].\r\n10:12:51.261 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@1be8c122 testClass = BatchTest, locations = &#39;{}&#39;, classes = &#39;{class xxx.xxxConfiguration, class xx.xx.xxx.xxx.xxx.Config}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{localtest}&#39;, propertySourceLocations = &#39;{classpath:/src/test/resources/application-localtest.properties}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[[ImportsContextCustomizer@5d08976a key = [@org.springframework.batch.test.context.SpringBatchTest(), @org.springframework.test.context.junit.jupiter.SpringJUnitConfig(inheritInitializers=true, initializers={}, classes={}, name=&quot;&quot;, locations={}, value={xx.xxx.xx.xxx.xxx.Configuration.class}, inheritLocations=true), @org.springframework.test.context.TestExecutionListeners(inheritListeners=true, mergeMode=MERGE_WITH_DEFAULTS, listeners={org.springframework.batch.test.StepScopeTestExecutionListener.class, org.springframework.batch.test.JobScopeTestExecutionListener.class}, value={}), @org.springframework.test.context.ContextConfiguration(inheritInitializers=true, initializers={}, loader=org.springframework.test.context.ContextLoader.class, classes={}, name=&quot;&quot;, locations={}, value={}, inheritLocations=true), @org.springframework.test.context.TestPropertySource(locations={&quot;/src/test/resources/application-localtest.properties&quot;}, inheritProperties=true, value={}, properties={}, inheritLocations=true)\r\n\r\n```\r\nMy pom.xml looks like the following -\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;xx.xxx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;xx.xxx.Appxx.xxxx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;AbcApplication&lt;/name&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;properties&gt;\r\n\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;version.maven.compiler&gt;3.8.1&lt;/version.maven.compiler&gt;\r\n        &lt;version.maven-assembly-plugin&gt;3.3.0&lt;/version.maven-assembly-plugin&gt;\r\n        &lt;version.spring-boot-maven-plugin&gt;2.6.4&lt;/version.spring-boot-maven-plugin&gt;\r\n        &lt;version.maven-jar-plugin&gt;3.2.2&lt;/version.maven-jar-plugin&gt;\r\n\r\n        &lt;spring-boot-dependencies.version&gt;2.7.9&lt;/spring-boot-dependencies.version&gt;\r\n        &lt;db2jcc4.version&gt;4.26.14&lt;/db2jcc4.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;hibernate.core.version&gt;5.6.7.Final&lt;/hibernate.core.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot-dependencies.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-settings&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shared-utils&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.26&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0-rc1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230227&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.db2.jdbc.type4&lt;/groupId&gt;\r\n            &lt;artifactId&gt;db2jcc4&lt;/artifactId&gt;\r\n            &lt;version&gt;${db2jcc4.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.db2.jdbc.type4&lt;/groupId&gt;\r\n            &lt;artifactId&gt;db2jcc_license_cisuz&lt;/artifactId&gt;\r\n            &lt;version&gt;${db2jcc4.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;!-- build plugins --&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.maven.compiler}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.maven-assembly-plugin}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-dist&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!-- Configures the used assembly descriptor --&gt;\r\n                            &lt;descriptors&gt;\r\n                                &lt;descriptor&gt;xxxx/xxx.xml&lt;/descriptor&gt;\r\n                            &lt;/descriptors&gt;\r\n                            &lt;finalName&gt;distribution&lt;/finalName&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- Configures the created archive --&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;!-- Configures the content of the created manifest --&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;!-- Adds the classpath to the created manifest --&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;!-- Workaround for Maven bug #MJAR-15 --&gt;\r\n                            &lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\r\n                            &lt;!-- Specifies that all dependencies of our application are found from\r\n                                the lib directory. --&gt;\r\n                            &lt;classpathPrefix&gt;../lib/&lt;/classpathPrefix&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;P:/JavaBatch/properties&lt;/directory&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nThe eror that I am getting is -\r\n\r\n&gt; java.lang.ExceptionInInitializerError\r\nCaused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\r\n\r\n","title":"How to solve Maven clean install errors?","body":"<p>The problem is the tests are running without any problem when only the tests are run. However, when I execute Maven clean install then the tests are failing and the below stack trace is generated. I have tried a few of the solutions in the stackoverflow especially related to the <code>multiple SLF4J bindings</code> but could not completely run it error free.</p>\n<pre><code>[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running BatchTest\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Ablage/DEV/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Ablage/DEV/.m2/repository/org/slf4j/slf4j-reload4j/1.7.36/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n10:12:50.390 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\n10:12:50.456 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\n10:12:50.609 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [BatchTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]\n10:12:50.761 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@703fa45 declaringClass = 'BatchTest', classes = '{class xx.xx.xx.xxx.xx.xxxConfiguration, class xx.xxx.xxx.abcApp.steps.xxxConfig, class xx.xx.xx.xxx.xx.xxxConfig, class xx.xxx.xx.xxx.steps.xxxConfig, class xx.xx.xx.xxx.steps.xxConfig, class TestConfig}', locations = '{}', inheritLocations = true, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].\n10:12:51.106 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - Merging default listeners with listeners configured via @TestExecutionListeners for class [BatchTest].\n10:12:51.106 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\n10:12:51.141 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/web/context/request/RequestAttributes]\n10:12:51.199 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69ce14e6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@699d96bc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@b5de9ac, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ecd8ab1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@57bdceaa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@52909a97, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@36e409e0, org.springframework.test.context.event.EventPublishingTestExecutionListener@145e958f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2d2fc130, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7bbdb220, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d001fbe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@d120d7c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5ee77baf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@485deee1, org.springframework.batch.test.StepScopeTestExecutionListener@25cde5bb, org.springframework.batch.test.JobScopeTestExecutionListener@38a96593]\n10:12:51.208 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3dfe59d7 testClass = BatchTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@1be8c122 testClass = BatchTest, locations = '{}', classes = '{class xx.xxx.xx.xxxx.xx.xxxConfiguration, class xx.xxx.xxx.xxx.xxx.xxxConfig, class xx.xxx.xx.xxx.xx.xxxConfig, class xxConfig.class}', contextInitializerClasses = '[]', activeProfiles = '{localtest}', propertySourceLocations = '{classpath:/src/test/resources/application-localtest.properties}', propertySourceProperties = '{}', contextCustomizers = set[[ImportsContextCustomizer@5d08976a key = [@org.springframework.batch.test.context.SpringBatchTest(), @org.springframework.test.context.junit.jupiter.SpringJUnitConfig(inheritInitializers=true, initializers={}, classes={}, name=&quot;&quot;, locations={}, value={xx.xxx.xx.xxx.xxx.xxxConfiguration.class}, inheritLocations=true), @org.springframework.test.context.TestExecutionListeners(inheritListeners=true, mergeMode=MERGE_WITH_DEFAULTS, listeners={org.springframework.batch.test.StepScopeTestExecutionListener.class, org.springframework.batch.test.JobScopeTestExecutionListener.class}, value={}), @org.springframework.test.context.ContextConfiguration(inheritInitializers=true, initializers={}, loader=org.springframework.test.context.ContextLoader.class, classes={}, name=&quot;&quot;, locations={}, value={}, inheritLocations=true), @org.springframework.test.context.TestPropertySource(locations={&quot;/src/test/resources/application-localtest.properties&quot;}, inheritProperties=true, value={}, properties={}, inheritLocations=true), @org.springframework.data.jpa.repository.config.EnableJpaRepositories(excludeFilters={}, enableDefaultTransactions=true, repositoryBaseClass=org.springframework.data.repository.config.DefaultRepositoryBaseClass.class, basePackageClasses={}, escapeCharacter='\\', includeFilters={}, bootstrapMode=DEFAULT, repositoryFactoryBeanClass=org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.class, entityManagerFactoryRef=&quot;entityManagerFactory&quot;, queryLookupStrategy=CREATE_IF_NOT_FOUND, namedQueriesLocation=&quot;&quot;, transactionManagerRef=&quot;transactionManager&quot;, basePackages={}, repositoryImplementationPostfix=&quot;Impl&quot;, considerNestedRepositories=false, value={&quot;de.xxx.xxx.xxx.db&quot;}), @org.springframework.test.context.ActiveProfiles(profiles={}, resolver=org.springframework.test.context.ActiveProfilesResolver.class, value={&quot;localtest&quot;}, inheritProfiles=true), @org.springframework.context.annotation.Import(value={org.springframework.data.jpa.repository.config.JpaRepositoriesRegistrar.class})]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70091872, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2b441e56, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c60ccbaf, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6a7a1a0d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@766b6d02, org.springframework.batch.test.context.BatchTestContextCustomizer@5e98032e], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].\n10:12:51.261 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@1be8c122 testClass = BatchTest, locations = '{}', classes = '{class xxx.xxxConfiguration, class xx.xx.xxx.xxx.xxx.Config}', contextInitializerClasses = '[]', activeProfiles = '{localtest}', propertySourceLocations = '{classpath:/src/test/resources/application-localtest.properties}', propertySourceProperties = '{}', contextCustomizers = set[[ImportsContextCustomizer@5d08976a key = [@org.springframework.batch.test.context.SpringBatchTest(), @org.springframework.test.context.junit.jupiter.SpringJUnitConfig(inheritInitializers=true, initializers={}, classes={}, name=&quot;&quot;, locations={}, value={xx.xxx.xx.xxx.xxx.Configuration.class}, inheritLocations=true), @org.springframework.test.context.TestExecutionListeners(inheritListeners=true, mergeMode=MERGE_WITH_DEFAULTS, listeners={org.springframework.batch.test.StepScopeTestExecutionListener.class, org.springframework.batch.test.JobScopeTestExecutionListener.class}, value={}), @org.springframework.test.context.ContextConfiguration(inheritInitializers=true, initializers={}, loader=org.springframework.test.context.ContextLoader.class, classes={}, name=&quot;&quot;, locations={}, value={}, inheritLocations=true), @org.springframework.test.context.TestPropertySource(locations={&quot;/src/test/resources/application-localtest.properties&quot;}, inheritProperties=true, value={}, properties={}, inheritLocations=true)\n\n</code></pre>\n<p>My pom.xml looks like the following -</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;xx.xxx&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;xx.xxx.Appxx.xxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;AbcApplication&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;properties&gt;\n\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;version.maven.compiler&gt;3.8.1&lt;/version.maven.compiler&gt;\n        &lt;version.maven-assembly-plugin&gt;3.3.0&lt;/version.maven-assembly-plugin&gt;\n        &lt;version.spring-boot-maven-plugin&gt;2.6.4&lt;/version.spring-boot-maven-plugin&gt;\n        &lt;version.maven-jar-plugin&gt;3.2.2&lt;/version.maven-jar-plugin&gt;\n\n        &lt;spring-boot-dependencies.version&gt;2.7.9&lt;/spring-boot-dependencies.version&gt;\n        &lt;db2jcc4.version&gt;4.26.14&lt;/db2jcc4.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;hibernate.core.version&gt;5.6.7.Final&lt;/hibernate.core.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot-dependencies.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-settings&lt;/artifactId&gt;\n                &lt;version&gt;3.8.7&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n                &lt;version&gt;3.8.7&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;version&gt;2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n                &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shared-utils&lt;/artifactId&gt;\n                &lt;version&gt;3.3.3&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n                &lt;version&gt;5.3.26&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0-rc1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.db2.jdbc.type4&lt;/groupId&gt;\n            &lt;artifactId&gt;db2jcc4&lt;/artifactId&gt;\n            &lt;version&gt;${db2jcc4.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.db2.jdbc.type4&lt;/groupId&gt;\n            &lt;artifactId&gt;db2jcc_license_cisuz&lt;/artifactId&gt;\n            &lt;version&gt;${db2jcc4.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;!-- build plugins --&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven.compiler}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-assembly-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-dist&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- Configures the used assembly descriptor --&gt;\n                            &lt;descriptors&gt;\n                                &lt;descriptor&gt;xxxx/xxx.xml&lt;/descriptor&gt;\n                            &lt;/descriptors&gt;\n                            &lt;finalName&gt;distribution&lt;/finalName&gt;\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Configures the created archive --&gt;\n                    &lt;archive&gt;\n                        &lt;!-- Configures the content of the created manifest --&gt;\n                        &lt;manifest&gt;\n                            &lt;!-- Adds the classpath to the created manifest --&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;!-- Workaround for Maven bug #MJAR-15 --&gt;\n                            &lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\n                            &lt;!-- Specifies that all dependencies of our application are found from\n                                the lib directory. --&gt;\n                            &lt;classpathPrefix&gt;../lib/&lt;/classpathPrefix&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;P:/JavaBatch/properties&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n<p>The eror that I am getting is -</p>\n<blockquote>\n<p>java.lang.ExceptionInInitializerError\nCaused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1693828169,"post_id":77037391,"comment_id":135807395,"body_markdown":"Don&#39;t use db functions in jpql. Convert the values inside of your application to the correct type","body":"Don&#39;t use db functions in jpql. Convert the values inside of your application to the correct type"},{"owner":{"account_id":1055119,"reputation":414,"user_id":1058027,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1693829690,"post_id":77037391,"comment_id":135807692,"body_markdown":"Hi @Jens, thanks for your reply. any particular reason for that ?","body":"Hi @Jens, thanks for your reply. any particular reason for that ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1693830118,"post_id":77037391,"comment_id":135807772,"body_markdown":"As you can see in your example, it is much easier to control the conversation in java than in sql. Also I am not sure if this function is sql standard and works on all rdbms","body":"As you can see in your example, it is much easier to control the conversation in java than in sql. Also I am not sure if this function is sql standard and works on all rdbms"},{"owner":{"account_id":1055119,"reputation":414,"user_id":1058027,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1693831124,"post_id":77037391,"comment_id":135807989,"body_markdown":"Yeah understand. We are using oracle DB, and this works in another project. Im not sure why it does not work in my project.","body":"Yeah understand. We are using oracle DB, and this works in another project. Im not sure why it does not work in my project."}],"answers":[{"tags":[],"owner":{"account_id":1055119,"reputation":414,"user_id":1058027,"accept_rate":80,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693834894,"creation_date":1693834894,"answer_id":77038231,"question_id":77037391,"body_markdown":"As @Jen mentioned, its better doing data conversion at java code level. However my issue was passing null instead of empty to TO_TIMESTAMP function. ","title":"ORA-00932: inconsistent datatypes: expected - got BINARY HIBERNATE","body":"<p>As @Jen mentioned, its better doing data conversion at java code level. However my issue was passing null instead of empty to TO_TIMESTAMP function.</p>\n"}],"owner":{"account_id":1055119,"reputation":414,"user_id":1058027,"accept_rate":80,"display_name":"Kevin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693834950,"creation_date":1693827453,"question_id":77037391,"body_markdown":"I get  ORA-00932: inconsistent datatypes: expected - got BINARY  when im trying to execute a JQPL which has TO_TIMESTAMP in the query.\r\n productDate is being passed as null to the menthod. ( This is not the\r\n complete query)\r\n\r\n    @Query(value = &quot;SELECT COUNT(ID) FROM Products products &quot; \r\n    \t\t+ &quot; AND (:productDate IS NULL OR header.productDate &lt;= TO_TIMESTAMP(:productDate, &#39;DD/MM/YYYY&#39;) )&quot; \r\n    int getProductsCountByDate(@Param(&quot;productDate&quot;) String productDate)\r\n\r\nWhen I replace `:productDate` inside `TO_TIMESTAMP` with a empty value(&#39;&#39;), it does not give the error. What I understand is when productDate is null, the application gives the above exception. Any clue to fix the error would be highly appreciated. \r\n\r\n","title":"ORA-00932: inconsistent datatypes: expected - got BINARY HIBERNATE","body":"<p>I get  ORA-00932: inconsistent datatypes: expected - got BINARY  when im trying to execute a JQPL which has TO_TIMESTAMP in the query.\nproductDate is being passed as null to the menthod. ( This is not the\ncomplete query)</p>\n<pre><code>@Query(value = &quot;SELECT COUNT(ID) FROM Products products &quot; \n        + &quot; AND (:productDate IS NULL OR header.productDate &lt;= TO_TIMESTAMP(:productDate, 'DD/MM/YYYY') )&quot; \nint getProductsCountByDate(@Param(&quot;productDate&quot;) String productDate)\n</code></pre>\n<p>When I replace <code>:productDate</code> inside <code>TO_TIMESTAMP</code> with a empty value(''), it does not give the error. What I understand is when productDate is null, the application gives the above exception. Any clue to fix the error would be highly appreciated.</p>\n"},{"tags":["java","spring-boot","junit5","spring-test"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1693835274,"post_id":77038197,"comment_id":135808800,"body_markdown":"[assertEquals](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertEquals-byte-byte-java.lang.String-)","body":"<a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertEquals-byte-byte-java.lang.String-\" rel=\"nofollow noreferrer\">assertEquals</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1693836098,"post_id":77038197,"comment_id":135808963,"body_markdown":"How are you running these tests? In your IDE, the results will probably show up in a window somewhere. Command line or on CI? Then you&#39;ll probably need to look at JUnit&#39;s result XML file. CI tools like Jenkins have built-in options for that.","body":"How are you running these tests? In your IDE, the results will probably show up in a window somewhere. Command line or on CI? Then you&#39;ll probably need to look at JUnit&#39;s result XML file. CI tools like Jenkins have built-in options for that."},{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":0,"creation_date":1693837606,"post_id":77038197,"comment_id":135809263,"body_markdown":"@Jorn I use cli from bash on linux, and use gradle configuration files. @jhamon i try use `withFailMessage` but the custom text is not show.","body":"@Jorn I use cli from bash on linux, and use gradle configuration files. @jhamon i try use <code>withFailMessage</code> but the custom text is not show."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1693837780,"post_id":77038197,"comment_id":135809292,"body_markdown":"Gradle will produce a file with the test results. You can configure which files and where they end up in the Gradle `test` task.","body":"Gradle will produce a file with the test results. You can configure which files and where they end up in the Gradle <code>test</code> task."},{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":0,"creation_date":1693841020,"post_id":77038197,"comment_id":135809958,"body_markdown":"@Jorn yes, when add `showCauses`, `showExceptions` and `showStackTraces` in `build.gradle` appears the `expected` and `but was` values, but only in the xml report file. Is it possible for this to appear in the terminal as well? so you don&#39;t have to open multiple files every time errors are generated.","body":"@Jorn yes, when add <code>showCauses</code>, <code>showExceptions</code> and <code>showStackTraces</code> in <code>build.gradle</code> appears the <code>expected</code> and <code>but was</code> values, but only in the xml report file. Is it possible for this to appear in the terminal as well? so you don&#39;t have to open multiple files every time errors are generated."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1693841587,"post_id":77038197,"comment_id":135810057,"body_markdown":"I think Gradle is to blame here, not JUnit. See https://stackoverflow.com/questions/40954017/gradle-how-to-get-output-from-test-stderr-stdout-into-console","body":"I think Gradle is to blame here, not JUnit. See <a href=\"https://stackoverflow.com/questions/40954017/gradle-how-to-get-output-from-test-stderr-stdout-into-console\" title=\"gradle how to get output from test stderr stdout into console\">stackoverflow.com/questions/40954017/&hellip;</a>"},{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":1,"creation_date":1693848845,"post_id":77038197,"comment_id":135811245,"body_markdown":"Thanks @Robert, i solve this using `outputs.upToDateWhen` and `showStandardStreams` :)","body":"Thanks @Robert, i solve this using <code>outputs.upToDateWhen</code> and <code>showStandardStreams</code> :)"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1693841094,"answer_count":0,"score":0,"last_activity_date":1693834625,"creation_date":1693834625,"question_id":77038197,"body_markdown":"Have a Spring Boot project with Spring test, jUnit5 and 100 tests, but fails only one in a large flow, replicating the problem manually would be a very lengthy and tedious task. Is there a way to display the expected value and the failed value when using assertThat?, by example:\r\n\r\n```java\r\nassertThat(responseEntity.getStatusCode()).isEqualTo(HttpStatus.CREATED);\r\n```\r\n\r\nIf it fails I would like to see in the command console the original response value from the http server.\r\n\r\nFrom my build.gradle configuration files I indicated that all the items that have been executed and their results should be shown:\r\n\r\n\r\n```gradle\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n\r\n\ttestLogging {\r\n\t\tevents(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\r\n\t}\r\n}\r\n```\r\n\r\nBut I would also like to see the content of what failed to correct where applicable only:\r\n\r\n```bash\r\n$ ./gradlew test\r\n&gt; Task :test\r\nDemoControllerTest &gt; test1() PASSED\r\nDemoControllerTest &gt; test2() PASSED\r\n...\r\nDemoControllerTest &gt; test88() PASSED\r\nDemoControllerTest &gt; test99() FAILED\r\n...\r\n```\r\n\r\nI want to see why test 99 failed, what was the response message from the server, if it was a 500 or 404 or 403 error, etc. I would like the same for the rest of the text type verifications, for example to evaluate the http response bodies.","title":"How to show failed values on test junit 5?","body":"<p>Have a Spring Boot project with Spring test, jUnit5 and 100 tests, but fails only one in a large flow, replicating the problem manually would be a very lengthy and tedious task. Is there a way to display the expected value and the failed value when using assertThat?, by example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(responseEntity.getStatusCode()).isEqualTo(HttpStatus.CREATED);\n</code></pre>\n<p>If it fails I would like to see in the command console the original response value from the http server.</p>\n<p>From my build.gradle configuration files I indicated that all the items that have been executed and their results should be shown:</p>\n<pre><code>tasks.named('test') {\n    useJUnitPlatform()\n\n    testLogging {\n        events(&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\n    }\n}\n</code></pre>\n<p>But I would also like to see the content of what failed to correct where applicable only:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./gradlew test\n&gt; Task :test\nDemoControllerTest &gt; test1() PASSED\nDemoControllerTest &gt; test2() PASSED\n...\nDemoControllerTest &gt; test88() PASSED\nDemoControllerTest &gt; test99() FAILED\n...\n</code></pre>\n<p>I want to see why test 99 failed, what was the response message from the server, if it was a 500 or 404 or 403 error, etc. I would like the same for the rest of the text type verifications, for example to evaluate the http response bodies.</p>\n"},{"tags":["java","solr","nosql"],"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693834431,"creation_date":1693834234,"question_id":77038159,"body_markdown":"I&#39;m currently using SOLR 6.6 and encountering an issue. Whenever I use the !join operation in conjunction with facets, my SOLR server crashes. \r\n\r\nHere is a query:\r\n\r\n    {!join from=some_core_id to=this_core_id fromIndex=some_core}*:*\r\n\r\nHas anyone else experienced this problem or have any insights into why this might be happening? Any help would be greatly appreciated.\r\n\r\nAfter some time I have next error appears on some_core:\r\n\r\n\r\n```\r\n{\r\n  &quot;responseHeader&quot;:{\r\n    &quot;status&quot;:500,\r\n    &quot;QTime&quot;:1},\r\n  &quot;error&quot;:{\r\n    &quot;metadata&quot;:[\r\n      &quot;error-class&quot;,&quot;org.apache.solr.common.SolrException&quot;,\r\n      &quot;root-error-class&quot;,&quot;org.apache.lucene.store.AlreadyClosedException&quot;],\r\n    &quot;msg&quot;:&quot;Error opening new searcher&quot;,\r\n    &quot;trace&quot;:&quot;org.apache.solr.common.SolrException: Error opening new searcher\\n\\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:2069)\\n\\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:2189)\\n\\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1926)\\n\\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1826)\\n\\tat org.apache.solr.request.SolrQueryRequestBase.getSearcher(SolrQueryRequestBase.java:127)\\n\\tat org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:310)\\n\\tat org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:296)\\n\\tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:173)\\n\\tat org.apache.solr.core.SolrCore.execute(SolrCore.java:2477)\\n\\tat org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:724)\\n\\tat org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:530)\\n\\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:361)\\n\\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:305)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1691)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\\n\\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\\n\\tat org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:534)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\\n\\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\\n\\tat java.lang.Thread.run(Thread.java:750)\\nCaused by: org.apache.lucene.store.AlreadyClosedException: Already closed\\n\\tat org.apache.solr.core.CachingDirectoryFactory.get(CachingDirectoryFactory.java:336)\\n\\tat org.apache.solr.core.SolrCore.getNewIndexDir(SolrCore.java:353)\\n\\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1951)\\n\\t... 39 more\\n&quot;,\r\n    &quot;code&quot;:500}}\r\n```\r\nThe solution only is to restart SOLR server.\r\nThe **same query without Facets** works fine.\r\n\r\nThank you in advance!\r\n\r\n\r\n\r\n\r\nPut the join query to filter query. The result is the same.","title":"SOLR 6.6 crashes when using !join with facets","body":"<p>I'm currently using SOLR 6.6 and encountering an issue. Whenever I use the !join operation in conjunction with facets, my SOLR server crashes.</p>\n<p>Here is a query:</p>\n<pre><code>{!join from=some_core_id to=this_core_id fromIndex=some_core}*:*\n</code></pre>\n<p>Has anyone else experienced this problem or have any insights into why this might be happening? Any help would be greatly appreciated.</p>\n<p>After some time I have next error appears on some_core:</p>\n<pre><code>{\n  &quot;responseHeader&quot;:{\n    &quot;status&quot;:500,\n    &quot;QTime&quot;:1},\n  &quot;error&quot;:{\n    &quot;metadata&quot;:[\n      &quot;error-class&quot;,&quot;org.apache.solr.common.SolrException&quot;,\n      &quot;root-error-class&quot;,&quot;org.apache.lucene.store.AlreadyClosedException&quot;],\n    &quot;msg&quot;:&quot;Error opening new searcher&quot;,\n    &quot;trace&quot;:&quot;org.apache.solr.common.SolrException: Error opening new searcher\\n\\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:2069)\\n\\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:2189)\\n\\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1926)\\n\\tat org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1826)\\n\\tat org.apache.solr.request.SolrQueryRequestBase.getSearcher(SolrQueryRequestBase.java:127)\\n\\tat org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:310)\\n\\tat org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:296)\\n\\tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:173)\\n\\tat org.apache.solr.core.SolrCore.execute(SolrCore.java:2477)\\n\\tat org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:724)\\n\\tat org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:530)\\n\\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:361)\\n\\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:305)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1691)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\\n\\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:119)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\\n\\tat org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:534)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95)\\n\\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\\n\\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\\n\\tat java.lang.Thread.run(Thread.java:750)\\nCaused by: org.apache.lucene.store.AlreadyClosedException: Already closed\\n\\tat org.apache.solr.core.CachingDirectoryFactory.get(CachingDirectoryFactory.java:336)\\n\\tat org.apache.solr.core.SolrCore.getNewIndexDir(SolrCore.java:353)\\n\\tat org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1951)\\n\\t... 39 more\\n&quot;,\n    &quot;code&quot;:500}}\n</code></pre>\n<p>The solution only is to restart SOLR server.\nThe <strong>same query without Facets</strong> works fine.</p>\n<p>Thank you in advance!</p>\n<p>Put the join query to filter query. The result is the same.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693832699,"creation_date":1693813056,"answer_id":77035895,"question_id":77035237,"body_markdown":"Of course it is not working even with @Transactional because all you do is to add the reference of your entities to a model and return. Your transaction gets closed and your objects are accessed afterwards when constructing the View. In your case you need to fetch eagerly or map to a Dto inside `allCustomerInfo` this way it should work. ","title":"LazyInitializationException: failed to lazily initialize a collection of role despite using @Transactional","body":"<p>Of course it is not working even with @Transactional because all you do is to add the reference of your entities to a model and return. Your transaction gets closed and your objects are accessed afterwards when constructing the View. In your case you need to fetch eagerly or map to a Dto inside <code>allCustomerInfo</code> this way it should work.</p>\n"}],"owner":{"account_id":29360632,"reputation":1,"user_id":22495435,"display_name":"KimChung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693834206,"creation_date":1693805023,"question_id":77035237,"body_markdown":"I declared @Transactional but still got the error failed to lazily initialize a collection of role:    fa.training.model.KhachHang.suDungMay, could not initialize proxy - no Session.\r\n\r\nSpecifically: in the AllCustomerInfoController class, I&#39;m looking to get a list of all customers that use SuDungMay and SuDungDichVu:\r\n\r\n    @Controller\r\n    public class AllCustomerInfoController {\r\n    \r\n    \t@Autowired\r\n    \tprivate KhachHangRepository khachHangRepository;\r\n    \r\n    \t@GetMapping(value = &quot;/&quot;)\r\n    \t@Transactional\r\n    \tpublic String allCustomerInfo(Model model) {\r\n    \t\tList&lt;KhachHang&gt; listKhachHang = khachHangRepository.findAll();\r\n    \t\tmodel.addAttribute(&quot;listAllCustomer&quot;, listKhachHang);\r\n    \t\treturn &quot;allcustomerinfo&quot;;\r\n    \t}\r\n    }\r\n\r\nMy Entity classes:\r\n\r\n    @Entity\r\n    public class KhachHang {\r\n    \r\n    \t@Id\r\n    \tprivate String maKh;\r\n    \tprivate String tenKh;\r\n    \tprivate String diaChi;\r\n    \tprivate String sdt;\r\n    \tprivate String email;\r\n    \t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;khachHang&quot;)\r\n    \tprivate List&lt;SuDungMay&gt; suDungMay;\r\n    \t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;khachHang&quot;)\r\n    \tprivate List&lt;SuDungDichVu&gt; suDungDichVu;\r\n    }\r\n    \r\n    @Entity\r\n    public class SuDungDichVu {\r\n    \t@Valid\r\n    \t@EmbeddedId\r\n    \tprivate SuDungDichVuId suDungDichVuId;\r\n    \tprivate int soLuong;\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;maKh&quot;)\r\n    \t@MapsId(value = &quot;maKh&quot;)\r\n    \tprivate KhachHang khachHang;\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;maDv&quot;)\r\n    \t@MapsId(value = &quot;maDv&quot;)\r\n    \tprivate DichVu dichVu;\r\n    }\r\n    \r\n    @Entity\r\n    public class SuDungMay {\r\n    \t@EmbeddedId\r\n    \t@Valid\r\n    \tprivate SuDungMayId suDungMayId;\r\n    \tprivate double thoiGianSd;\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;maKh&quot;)\r\n    \t@MapsId(value = &quot;maKh&quot;)\r\n    \tprivate KhachHang khachHang;\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;maMay&quot;)\r\n    \t@MapsId(value = &quot;maMay&quot;)\r\n    \tprivate May may;\r\n    }\r\n\r\n\r\nHow to get the customer list containing the list SuDungMay and SuDungDichVu without lazy error, thanks!\\`","title":"LazyInitializationException: failed to lazily initialize a collection of role despite using @Transactional","body":"<p>I declared @Transactional but still got the error failed to lazily initialize a collection of role:    fa.training.model.KhachHang.suDungMay, could not initialize proxy - no Session.</p>\n<p>Specifically: in the AllCustomerInfoController class, I'm looking to get a list of all customers that use SuDungMay and SuDungDichVu:</p>\n<pre><code>@Controller\npublic class AllCustomerInfoController {\n\n    @Autowired\n    private KhachHangRepository khachHangRepository;\n\n    @GetMapping(value = &quot;/&quot;)\n    @Transactional\n    public String allCustomerInfo(Model model) {\n        List&lt;KhachHang&gt; listKhachHang = khachHangRepository.findAll();\n        model.addAttribute(&quot;listAllCustomer&quot;, listKhachHang);\n        return &quot;allcustomerinfo&quot;;\n    }\n}\n</code></pre>\n<p>My Entity classes:</p>\n<pre><code>@Entity\npublic class KhachHang {\n\n    @Id\n    private String maKh;\n    private String tenKh;\n    private String diaChi;\n    private String sdt;\n    private String email;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;khachHang&quot;)\n    private List&lt;SuDungMay&gt; suDungMay;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;khachHang&quot;)\n    private List&lt;SuDungDichVu&gt; suDungDichVu;\n}\n\n@Entity\npublic class SuDungDichVu {\n    @Valid\n    @EmbeddedId\n    private SuDungDichVuId suDungDichVuId;\n    private int soLuong;\n    @ManyToOne\n    @JoinColumn(name = &quot;maKh&quot;)\n    @MapsId(value = &quot;maKh&quot;)\n    private KhachHang khachHang;\n    @ManyToOne\n    @JoinColumn(name = &quot;maDv&quot;)\n    @MapsId(value = &quot;maDv&quot;)\n    private DichVu dichVu;\n}\n\n@Entity\npublic class SuDungMay {\n    @EmbeddedId\n    @Valid\n    private SuDungMayId suDungMayId;\n    private double thoiGianSd;\n    @ManyToOne\n    @JoinColumn(name = &quot;maKh&quot;)\n    @MapsId(value = &quot;maKh&quot;)\n    private KhachHang khachHang;\n    @ManyToOne\n    @JoinColumn(name = &quot;maMay&quot;)\n    @MapsId(value = &quot;maMay&quot;)\n    private May may;\n}\n</code></pre>\n<p>How to get the customer list containing the list SuDungMay and SuDungDichVu without lazy error, thanks!`</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1693826506,"post_id":77037286,"comment_id":135807073,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"score":0,"creation_date":1693826767,"post_id":77037286,"comment_id":135807118,"body_markdown":"a lot of regex and still stuck on it","body":"a lot of regex and still stuck on it"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693832268,"post_id":77037286,"comment_id":135808204,"body_markdown":"Do you have to do this with a single regular expression?  What’s wrong with `if (line.startsWith(&quot;Received request with messageId:test, clientId:&quot;))`?","body":"Do you have to do this with a single regular expression?  What’s wrong with <code>if (line.startsWith(&quot;Received request with messageId:test, clientId:&quot;))</code>?"},{"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"score":0,"creation_date":1693832765,"post_id":77037286,"comment_id":135808300,"body_markdown":"it is a log with huge text, so it does not work in my case","body":"it is a log with huge text, so it does not work in my case"}],"answers":[{"tags":[],"owner":{"account_id":24911937,"reputation":587,"user_id":18781392,"display_name":"Achraf Ben Salah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693827298,"creation_date":1693827298,"answer_id":77037375,"question_id":77037286,"body_markdown":"You can use this regex to match the specified string pattern\r\n\r\n    Received request with messageId:test, clientId:[\\\\w-]+ has been processed\r\n\r\nFull code for Java language :\r\n\r\n    import java.util.regex.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Your larger text\r\n            String largerText = &quot;Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed&quot;;\r\n    \r\n            // Define the regular expression pattern\r\n            String pattern = &quot;Received request with messageId:test, clientId:[\\\\w-]+ has been processed&quot;;\r\n    \r\n            // Create a Pattern object\r\n            Pattern regex = Pattern.compile(pattern);\r\n    \r\n            // Create a Matcher object\r\n            Matcher matcher = regex.matcher(largerText);\r\n    \r\n            // Check if a match was found\r\n            if (matcher.find()) {\r\n                String matchedText = matcher.group();\r\n                System.out.println(&quot;Match found: &quot; + matchedText);\r\n            } else {\r\n                System.out.println(&quot;No match found&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Output :**\r\n\r\n    Match found: Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed\r\n\r\n**Explanation:** \r\n\r\n**pattern :** is the regular expression pattern that looks for the fixed part &quot;Received request with messageId:test, clientId:&quot; followed by one or more word characters (\\\\w) and hyphens (-) for the UUID.","title":"Regex string match uuid beetwin the words","body":"<p>You can use this regex to match the specified string pattern</p>\n<pre><code>Received request with messageId:test, clientId:[\\\\w-]+ has been processed\n</code></pre>\n<p>Full code for Java language :</p>\n<pre><code>import java.util.regex.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Your larger text\n        String largerText = &quot;Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed&quot;;\n\n        // Define the regular expression pattern\n        String pattern = &quot;Received request with messageId:test, clientId:[\\\\w-]+ has been processed&quot;;\n\n        // Create a Pattern object\n        Pattern regex = Pattern.compile(pattern);\n\n        // Create a Matcher object\n        Matcher matcher = regex.matcher(largerText);\n\n        // Check if a match was found\n        if (matcher.find()) {\n            String matchedText = matcher.group();\n            System.out.println(&quot;Match found: &quot; + matchedText);\n        } else {\n            System.out.println(&quot;No match found&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>Match found: Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p><strong>pattern :</strong> is the regular expression pattern that looks for the fixed part &quot;Received request with messageId:test, clientId:&quot; followed by one or more word characters (\\w) and hyphens (-) for the UUID.</p>\n"},{"comments":[{"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"score":0,"creation_date":1693834145,"post_id":77038100,"comment_id":135808599,"body_markdown":"the problem of this solution that it only works with Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed, if the message will be like this at the end -has been failed - your prefix checker will be ruin the app","body":"the problem of this solution that it only works with Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed, if the message will be like this at the end -has been failed - your prefix checker will be ruin the app"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693834704,"post_id":77038100,"comment_id":135808688,"body_markdown":"I see.  But your question didn&#39;t provide sufficient details to know that.  You wanted to check for a particular string apparently in isolation and did not specify other constraints which might lead to a more optimal solution.","body":"I see.  But your question didn&#39;t provide sufficient details to know that.  You wanted to check for a particular string apparently in isolation and did not specify other constraints which might lead to a more optimal solution."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693833804,"creation_date":1693833804,"answer_id":77038100,"question_id":77037286,"body_markdown":"Instead of using regular expressions, I would just look for the message prefix.\r\n```   \r\nString message = &quot;Some other text here.  Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed&quot;;\r\n\r\nSystem.out.println(checkRequest(message) ? &quot;Received&quot; : &quot;Unknown request&quot;);\r\n         \r\n        \r\nstatic String MESSAGE_PREFIX = &quot;Received request with messageId:test, clientId:&quot;;\r\npublic static boolean checkRequest(String text) {\r\n    return text.indexOf(MESSAGE_PREFIX) &gt;= 0;\r\n}\r\n","title":"Regex string match uuid beetwin the words","body":"<p>Instead of using regular expressions, I would just look for the message prefix.</p>\n<pre><code>String message = &quot;Some other text here.  Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed&quot;;\n\nSystem.out.println(checkRequest(message) ? &quot;Received&quot; : &quot;Unknown request&quot;);\n         \n        \nstatic String MESSAGE_PREFIX = &quot;Received request with messageId:test, clientId:&quot;;\npublic static boolean checkRequest(String text) {\n    return text.indexOf(MESSAGE_PREFIX) &gt;= 0;\n}\n</code></pre>\n"}],"owner":{"account_id":25531475,"reputation":47,"user_id":19319419,"display_name":"JD_UA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":9,"up_vote_count":1,"closed_date":1693832790,"accepted_answer_id":77037375,"answer_count":2,"score":-8,"last_activity_date":1693833804,"creation_date":1693826368,"question_id":77037286,"body_markdown":"How to write regex that will be matches to this string\r\n\r\nReceived request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed\r\n\r\nuuid will be always different \r\n\r\nso i want to check some big text and if it contains \r\n\r\nReceived request with messageId:test, clientId:*some uuid* has been processed\r\n\r\n    bigText.matches(regex) == true","title":"Regex string match uuid beetwin the words","body":"<p>How to write regex that will be matches to this string</p>\n<p>Received request with messageId:test, clientId:7da6554c-e3ed-49ed-9a7f-f810f98ceb7f has been processed</p>\n<p>uuid will be always different</p>\n<p>so i want to check some big text and if it contains</p>\n<p>Received request with messageId:test, clientId:<em>some uuid</em> has been processed</p>\n<pre><code>bigText.matches(regex) == true\n</code></pre>\n"},{"tags":["java","jackson","dropwizard","java-17","jackson-modules"],"owner":{"account_id":4237835,"reputation":11,"user_id":3468532,"display_name":"donnffd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693833710,"creation_date":1693833710,"question_id":77038091,"body_markdown":"I am running jackson blackbird module in my project with java 17 and recently updated dropwizard from 2.0.x to 4.0.1\r\n\r\nI also added this in my gradle run step\r\n\r\n\r\n```\r\ndoFirst {\r\n        // Add the --add-opens option to the JVM arguments\r\n        jvmArgs += &#39;--add-opens=java.base/javax.security.auth.x500=ALL-UNNAMED&#39;\r\n        jvmArgs += &#39;--add-opens=java.base/javax.crypto=ALL-UNNAMED&#39;\r\n    }\r\n```\r\n\r\n\r\nWhen running the project, i get this error\r\n\r\n```\r\njava.lang.InternalError: java.lang.NoClassDefFoundError: com/fasterxml/jackson/module/blackbird/ser/ToBooleanFunction\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:413)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:315)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:228)\r\n\tat java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:341)\r\n\tat com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.createProperty(BBSerializerModifier.java:133)\r\n\tat com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.lambda$findProperties$0(BBSerializerModifier.java:67)\r\n\tat com.fasterxml.jackson.module.blackbird.util.Unchecked.lambda$runnable$0(Unchecked.java:31)\r\n\tat com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.findProperties(BBSerializerModifier.java:68)\r\n\tat com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.changeProperties(BBSerializerModifier.java:52)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.constructBeanOrAddOnSerializer(BeanSerializerFactory.java:415)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.findBeanOrAddOnSerializer(BeanSerializerFactory.java:295)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory._createSerializer2(BeanSerializerFactory.java:240)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:174)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider._createUntypedSerializer(SerializerProvider.java:1503)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1471)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.findValueSerializer(SerializerProvider.java:597)\r\n```\r\n\r\nI am confused as to why this is happening and how to fix it\r\n\r\nI was able to make it work by overwriting blackbird using afterburner, but i don&#39;t want that, i would prefer to use blackbird","title":"Jackson blackbird module 2.15.2 always throws error at runtime for Java 17 and dropwizard","body":"<p>I am running jackson blackbird module in my project with java 17 and recently updated dropwizard from 2.0.x to 4.0.1</p>\n<p>I also added this in my gradle run step</p>\n<pre><code>doFirst {\n        // Add the --add-opens option to the JVM arguments\n        jvmArgs += '--add-opens=java.base/javax.security.auth.x500=ALL-UNNAMED'\n        jvmArgs += '--add-opens=java.base/javax.crypto=ALL-UNNAMED'\n    }\n</code></pre>\n<p>When running the project, i get this error</p>\n<pre><code>java.lang.InternalError: java.lang.NoClassDefFoundError: com/fasterxml/jackson/module/blackbird/ser/ToBooleanFunction\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:413)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:315)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:228)\n    at java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:341)\n    at com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.createProperty(BBSerializerModifier.java:133)\n    at com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.lambda$findProperties$0(BBSerializerModifier.java:67)\n    at com.fasterxml.jackson.module.blackbird.util.Unchecked.lambda$runnable$0(Unchecked.java:31)\n    at com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.findProperties(BBSerializerModifier.java:68)\n    at com.fasterxml.jackson.module.blackbird.ser.BBSerializerModifier.changeProperties(BBSerializerModifier.java:52)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.constructBeanOrAddOnSerializer(BeanSerializerFactory.java:415)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.findBeanOrAddOnSerializer(BeanSerializerFactory.java:295)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory._createSerializer2(BeanSerializerFactory.java:240)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:174)\n    at com.fasterxml.jackson.databind.SerializerProvider._createUntypedSerializer(SerializerProvider.java:1503)\n    at com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1471)\n    at com.fasterxml.jackson.databind.SerializerProvider.findValueSerializer(SerializerProvider.java:597)\n</code></pre>\n<p>I am confused as to why this is happening and how to fix it</p>\n<p>I was able to make it work by overwriting blackbird using afterburner, but i don't want that, i would prefer to use blackbird</p>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":7179246,"reputation":1369,"user_id":5483900,"display_name":"ankursingh1000"},"score":0,"creation_date":1617381083,"post_id":66920567,"comment_id":118295321,"body_markdown":"try deleting full .m2/repository and try again","body":"try deleting full .m2/repository and try again"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1617384463,"post_id":66920567,"comment_id":118296539,"body_markdown":"Update all plugin version you are using... See https://maven.apache.org/plugins/","body":"Update all plugin version you are using... See <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"answers":[{"tags":[],"owner":{"account_id":1692434,"reputation":87,"user_id":1554530,"accept_rate":40,"display_name":"Phillip"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618143753,"creation_date":1618143753,"answer_id":67044924,"question_id":66920567,"body_markdown":"You can fix it by changing the JDK in your projects to JDK 14. Left-click on your project and go to properties -&gt; build -&gt; compile . Change the JDK to version 14. If you don&#39;t have JDK 14, you can manage it there by clicking Manage Java Platforms. The download of the JDK is [here][1]. \r\n\r\n\r\n  [1]: https://jdk.java.net/archive/","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>You can fix it by changing the JDK in your projects to JDK 14. Left-click on your project and go to properties -&gt; build -&gt; compile . Change the JDK to version 14. If you don't have JDK 14, you can manage it there by clicking Manage Java Platforms. The download of the JDK is <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1631496266,"post_id":68338017,"comment_id":122229336,"body_markdown":"FYI, [current version](https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin) is 3.3.2.","body":"FYI, <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin\" rel=\"nofollow noreferrer\">current version</a> is 3.3.2."},{"owner":{"account_id":11866266,"reputation":89,"user_id":8683738,"display_name":"Deep Roy"},"score":0,"creation_date":1633041633,"post_id":68338017,"comment_id":122663322,"body_markdown":"it worked for me .\nearlier i was not having this plugin section but after adding it and updating maven, cleaning maven and installing it  it worked","body":"it worked for me . earlier i was not having this plugin section but after adding it and updating maven, cleaning maven and installing it  it worked"},{"owner":{"account_id":2042955,"reputation":1341,"user_id":1823710,"accept_rate":59,"display_name":"qualebs"},"score":0,"creation_date":1645169289,"post_id":68338017,"comment_id":125804331,"body_markdown":"Worked for me as well thank you sir","body":"Worked for me as well thank you sir"},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1659377656,"post_id":68338017,"comment_id":129275593,"body_markdown":"not working with 3.8.0","body":"not working with 3.8.0"}],"tags":[],"owner":{"account_id":22053824,"reputation":901,"user_id":16317691,"display_name":"Vikram"},"comment_count":4,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1626020479,"creation_date":1626020479,"answer_id":68338017,"question_id":66920567,"body_markdown":"I had the same problem. I am using Eclipse Jun 2021 release. The problem got resolved after manually configuring one of the recent war plug-ins in POM.xml.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>I had the same problem. I am using Eclipse Jun 2021 release. The problem got resolved after manually configuring one of the recent war plug-ins in POM.xml.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18408008,"reputation":1,"user_id":13409132,"display_name":"Nirbhay Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626686696,"creation_date":1626590411,"answer_id":68426672,"question_id":66920567,"body_markdown":"I have solved this by simply going in the Jenkins global tool configuration and changing the path of JDK to `/usr/local/Cellar/openjdk@11/11.0.10`.\r\nPreviously it was `/usr/local/Cellar/openjdk/16.0.1` in my local machine MAC.\r\n\r\n[Click here to see][1]\r\n\r\nThis was the error :\r\n\r\n    Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar (431 kB at 529 kB/s)\r\n    11:52:49 [WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\r\n    11:52:49 com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n    11:52:49 \r\n    11:52:49 1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n    11:52:49   at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y5Gmm.png","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>I have solved this by simply going in the Jenkins global tool configuration and changing the path of JDK to <code>/usr/local/Cellar/openjdk@11/11.0.10</code>.\nPreviously it was <code>/usr/local/Cellar/openjdk/16.0.1</code> in my local machine MAC.</p>\n<p><a href=\"https://i.stack.imgur.com/y5Gmm.png\" rel=\"nofollow noreferrer\">Click here to see</a></p>\n<p>This was the error :</p>\n<pre><code>Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar (431 kB at 529 kB/s)\n11:52:49 [WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\n11:52:49 com.google.inject.ProvisionException: Unable to provision, see the following errors:\n11:52:49 \n11:52:49 1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n11:52:49   at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10463916,"reputation":2786,"user_id":7713811,"accept_rate":35,"display_name":"Nɪsʜᴀɴᴛʜ ॐ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627753192,"creation_date":1627752888,"answer_id":68604452,"question_id":66920567,"body_markdown":"Eclipse 2021-06 release by default JDK will be set to 16. So changed to your preferred JDK version. or configure your default JDK to run\r\n [![enter image description here][1]][1]\r\n\r\n````\r\nmaven-war-plugin:3.0.0:war (default-war) @ projectname \r\n--- [WARNING] Error injecting: org.apache.maven.plugins.war.WarMojo \r\ncom.google.inject.ProvisionException: Unable to provision, \r\nsee the following errors: 1) Error injecting constructor,\r\njava.lang.ExceptionInInitializerError \r\nat org.apache.maven.plugins.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n````\r\n  [1]: https://i.stack.imgur.com/1NKjn.png","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>Eclipse 2021-06 release by default JDK will be set to 16. So changed to your preferred JDK version. or configure your default JDK to run\n<a href=\"https://i.stack.imgur.com/1NKjn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NKjn.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>maven-war-plugin:3.0.0:war (default-war) @ projectname \n--- [WARNING] Error injecting: org.apache.maven.plugins.war.WarMojo \ncom.google.inject.ProvisionException: Unable to provision, \nsee the following errors: 1) Error injecting constructor,\njava.lang.ExceptionInInitializerError \nat org.apache.maven.plugins.war.WarMojo.&lt;init&gt;(Unknown Source)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6852507,"reputation":402,"user_id":5269256,"display_name":"Ramdane Oualitsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629840647,"creation_date":1629840303,"answer_id":68914243,"question_id":66920567,"body_markdown":"if you want to deploy the war. what worked for me is both\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nand \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nPlease note the versions.","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>if you want to deploy the war. what worked for me is both</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;16&lt;/source&gt;\n                &lt;target&gt;16&lt;/target&gt;\n                &lt;compilerArguments&gt;\n                    &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                &lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Please note the versions.</p>\n"},{"tags":[],"owner":{"account_id":25336451,"reputation":1,"user_id":19155519,"display_name":"user19155519"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652979371,"creation_date":1652979258,"answer_id":72308382,"question_id":66920567,"body_markdown":"I had this exact same issue.  After updating the POM file, I needed to delete my `.m2/repository` folder before running `mvn install` for the project.","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>I had this exact same issue.  After updating the POM file, I needed to delete my <code>.m2/repository</code> folder before running <code>mvn install</code> for the project.</p>\n"},{"tags":[],"owner":{"account_id":17700086,"reputation":1,"user_id":16361679,"display_name":"Eduardo Guerra Alvarez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653691439,"creation_date":1653691280,"answer_id":72411687,"question_id":66920567,"body_markdown":"I had the same problems and I resolved changed the version 2.3 to 3.3.1\r\n\r\n```\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.3.1&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n7CBy.png\r\n  [2]: https://i.stack.imgur.com/81nhk.png","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>I had the same problems and I resolved changed the version 2.3 to 3.3.1</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.3.1&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/n7CBy.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/81nhk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"comments":[{"owner":{"account_id":8836848,"reputation":183,"user_id":6600779,"accept_rate":100,"display_name":"Pedro Joaqu&#237;n"},"score":0,"creation_date":1696965644,"post_id":72599284,"comment_id":136219326,"body_markdown":"this was actually the right answer for me","body":"this was actually the right answer for me"}],"tags":[],"owner":{"account_id":8490250,"reputation":91,"user_id":6366818,"display_name":"SANGWA Emmanuel"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1655242062,"creation_date":1655106242,"answer_id":72599284,"question_id":66920567,"body_markdown":"I experienced the same issue after upgrading from JDK 1.8 to JDK 17 and I solved it by upgrading the plugin version. \r\n\r\nBefore:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>I experienced the same issue after upgrading from JDK 1.8 to JDK 17 and I solved it by upgrading the plugin version.</p>\n<p>Before:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657719864,"creation_date":1657719864,"answer_id":72967381,"question_id":66920567,"body_markdown":"Your `pom.xml` like this will work.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;vysample&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;vysample-1.0-SNAPSHOT&lt;/name&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;jakartaee&gt;9.0.0&lt;/jakartaee&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nFocus at\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>Your <code>pom.xml</code> like this will work.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;vysample&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;vysample-1.0-SNAPSHOT&lt;/name&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;jakartaee&gt;9.0.0&lt;/jakartaee&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Focus at</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11442916,"reputation":1,"user_id":17278648,"display_name":"minc84"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668382464,"creation_date":1668382464,"answer_id":74425607,"question_id":66920567,"body_markdown":"Problem has been resolved by stopping the Tomcat server\r\n `sudo systemctl stop tomcat`\r\n so as to allow Netbeans to run it. If the server is already running when Netbeans tries to deploy an app Netbeans will display the delopy failed message.","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>Problem has been resolved by stopping the Tomcat server\n<code>sudo systemctl stop tomcat</code>\nso as to allow Netbeans to run it. If the server is already running when Netbeans tries to deploy an app Netbeans will display the delopy failed message.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673506730,"creation_date":1673506730,"answer_id":75092615,"question_id":66920567,"body_markdown":"I resolved this error by adding following part in pom.xml\r\n\r\n     &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\napart from that i added maven configuration properties \r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\nand here is my entire file as following \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.groupId&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;com.artifactId&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\r\n\t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.0&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>I resolved this error by adding following part in pom.xml</p>\n<pre><code> &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>apart from that i added maven configuration properties</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and here is my entire file as following</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.groupId&lt;/groupId&gt;\n&lt;artifactId&gt;com.artifactId&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n    &lt;dependency&gt;\n    \n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;5.3.0&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"comments":[{"owner":{"account_id":11454476,"reputation":87,"user_id":8395964,"display_name":"user8395964"},"score":0,"creation_date":1700561916,"post_id":77038080,"comment_id":136667085,"body_markdown":"fixing the version worked awesome :)\nthanks a lot","body":"fixing the version worked awesome :) thanks a lot"}],"tags":[],"owner":{"account_id":3228029,"reputation":595,"user_id":2723886,"accept_rate":14,"display_name":"Vidz"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693833629,"creation_date":1693833629,"answer_id":77038080,"question_id":66920567,"body_markdown":"My problem got resolved after manually configuring war plug-in in POM.xml and then do clean install\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nThen in the terminal, do a clean install, as:\r\n\r\n    mvn clean install\r\n    \r\nThis should give you the war file (javaj22ee.war) status like:\r\n\r\n    [INFO] Building war: /Users/my_proj/java/javaj2ee/target/javaj2ee.war\r\n    [INFO]\r\n    [INFO] --- install:3.1.1:install (default-install) @ javaj2ee ---\r\n    [INFO] Installing /Users/my_proj/java/javaj2ee/pom.xml to \r\n    /Users/.m2/repository/org/example/javaj2ee/1.0-SNAPSHOT/javaj2ee-1.0- \r\n    SNAPSHOT.pom\r\n    [INFO] Installing /Users/my_proj/java/javaj2ee/target/javaj2ee.war to \r\n    /Users/.m2/repository/org/example/javaj2ee/1.0-SNAPSHOT/javaj2ee-1.0- \r\n    SNAPSHOT.war\r\n    [INFO] -----------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ----------------------------------------------------------------- \r\n    [INFO] Total time:  8.506 s\r\n    [INFO] Finished at: 2023-09-04T18:37:31+05:30\r\n    [INFO] ----------------------------------------------------------------- \r\n\r\n","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>My problem got resolved after manually configuring war plug-in in POM.xml and then do clean install</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then in the terminal, do a clean install, as:</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>This should give you the war file (javaj22ee.war) status like:</p>\n<pre><code>[INFO] Building war: /Users/my_proj/java/javaj2ee/target/javaj2ee.war\n[INFO]\n[INFO] --- install:3.1.1:install (default-install) @ javaj2ee ---\n[INFO] Installing /Users/my_proj/java/javaj2ee/pom.xml to \n/Users/.m2/repository/org/example/javaj2ee/1.0-SNAPSHOT/javaj2ee-1.0- \nSNAPSHOT.pom\n[INFO] Installing /Users/my_proj/java/javaj2ee/target/javaj2ee.war to \n/Users/.m2/repository/org/example/javaj2ee/1.0-SNAPSHOT/javaj2ee-1.0- \nSNAPSHOT.war\n[INFO] -----------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ----------------------------------------------------------------- \n[INFO] Total time:  8.506 s\n[INFO] Finished at: 2023-09-04T18:37:31+05:30\n[INFO] ----------------------------------------------------------------- \n</code></pre>\n"}],"owner":{"account_id":20563755,"reputation":491,"user_id":15093936,"display_name":"Zarcor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74022,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":12,"score":39,"last_activity_date":1693833629,"creation_date":1617372482,"question_id":66920567,"body_markdown":"**what the console prints**, I am trying to run a java web application on netbeans and I do not understand very well why it gives me that error.\r\n\r\n    Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/1.4.4/xstream-1.4.4.jar (483 kB at 33 kB/s)\r\n    Error injecting: org.apache.maven.plugin.war.WarMojo\r\n    com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n    \r\n    1) Error injecting constructor, java.lang.ExceptionInInitializerError\r\n      at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n      while locating org.apache.maven.plugin.war.WarMojo\r\n    \r\n    1 error\r\n        at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\r\n        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n\r\n\r\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project primera_web: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\n\r\n\r\n\r\n    realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\r\n    strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    urls[0] = file:/C:/Users/HP/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\r\n    urls[1] = file:/C:/Users/HP/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\n    urls[2] = file:/C:/Users/HP/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\n    urls[3] = file:/C:/Users/HP/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\n    \r\n    Number of foreign imports: 1\r\n    import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    \r\n    -----------------------------------------------------\r\n    : ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5c82031b\r\n    -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n\r\n**file pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n        &lt;artifactId&gt;primera_web&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;primera_web&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                        &lt;compilerArguments&gt;\r\n                            &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                        &lt;/compilerArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                                &lt;silent&gt;true&lt;/silent&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                        &lt;version&gt;7.0&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nsuggestions to solve the problem ??\r\n","title":"Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p><strong>what the console prints</strong>, I am trying to run a java web application on netbeans and I do not understand very well why it gives me that error.</p>\n<pre><code>Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/1.4.4/xstream-1.4.4.jar (483 kB at 33 kB/s)\nError injecting: org.apache.maven.plugin.war.WarMojo\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n  while locating org.apache.maven.plugin.war.WarMojo\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n</code></pre>\n<p>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project primera_web: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null</p>\n<pre><code>realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\nurls[0] = file:/C:/Users/HP/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\nurls[1] = file:/C:/Users/HP/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\nurls[2] = file:/C:/Users/HP/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\nurls[3] = file:/C:/Users/HP/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\n\nNumber of foreign imports: 1\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n\n-----------------------------------------------------\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5c82031b\n-&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p><strong>file pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;primera_web&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;primera_web&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>suggestions to solve the problem ??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1274224409,"post_id":2861410,"comment_id":2906239,"body_markdown":"Weak references are not suitable for caches anyway - they can be cleared immediately, not waiting for the garbage collector (not that waiting for the garbage collector is a great strategy either).","body":"Weak references are not suitable for caches anyway - they can be cleared immediately, not waiting for the garbage collector (not that waiting for the garbage collector is a great strategy either)."}],"answers":[{"comments":[{"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"score":1,"creation_date":1274219975,"post_id":2861454,"comment_id":2905860,"body_markdown":"This is true and good advice but it doesn&#39;t answer the question.","body":"This is true and good advice but it doesn&#39;t answer the question."},{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":1,"creation_date":1274220899,"post_id":2861454,"comment_id":2905947,"body_markdown":"@luke I think both kinds of answers are valid. Yes, it&#39;d be good to know what iterating over WeakHashMap will do, but if WeakHashMap is the wrong approach given the other context in the question then it&#39;s alo reasonable to point that out as an answer.\n\nThat said, the word &quot;cache&quot; is not enough context to know whether a WeakHashMap is appropriate or not. WeakHashMap has weak keys. It would be appropriate for caching a computation whose parameter is the key of the map (and where said key uses identity equality) if you want the result to have the same lifetime as the key.","body":"@luke I think both kinds of answers are valid. Yes, it&#39;d be good to know what iterating over WeakHashMap will do, but if WeakHashMap is the wrong approach given the other context in the question then it&#39;s alo reasonable to point that out as an answer.  That said, the word &quot;cache&quot; is not enough context to know whether a WeakHashMap is appropriate or not. WeakHashMap has weak keys. It would be appropriate for caching a computation whose parameter is the key of the map (and where said key uses identity equality) if you want the result to have the same lifetime as the key."}],"tags":[],"owner":{"account_id":36251,"reputation":10399,"user_id":103260,"accept_rate":56,"display_name":"Ricardo Marimon"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1274219878,"creation_date":1274219878,"answer_id":2861454,"question_id":2861410,"body_markdown":"The WeakHashMap is weak on the keys not the values so it is not appropriate for a cache of values if you want to release space when the value is not being used.  You might want to take a look at [MapMaker][1] from the [google collections][2].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/MapMaker.html\r\n  [2]: http://code.google.com/p/google-collections","title":"WeakHashMap iteration and garbage collection","body":"<p>The WeakHashMap is weak on the keys not the values so it is not appropriate for a cache of values if you want to release space when the value is not being used.  You might want to take a look at <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/MapMaker.html\" rel=\"nofollow noreferrer\">MapMaker</a> from the <a href=\"http://code.google.com/p/google-collections\" rel=\"nofollow noreferrer\">google collections</a>.</p>\n"},{"comments":[{"owner":{"account_id":24198,"reputation":6978,"user_id":61395,"accept_rate":83,"display_name":"Shamik"},"score":0,"creation_date":1274220065,"post_id":2861456,"comment_id":2905869,"body_markdown":"Yes this is what I am afraid of. I am anyway not iterating over it but wanted to add some debugging facility to check whats in the cache, it is during that time I had this doubt.","body":"Yes this is what I am afraid of. I am anyway not iterating over it but wanted to add some debugging facility to check whats in the cache, it is during that time I had this doubt."},{"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"score":0,"creation_date":1274220521,"post_id":2861456,"comment_id":2905916,"body_markdown":"if it is just for debugging purposes you could probably just copy the keyset and then examine it.","body":"if it is just for debugging purposes you could probably just copy the keyset and then examine it."},{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":1,"creation_date":1274229469,"post_id":2861456,"comment_id":2906588,"body_markdown":"Luke, the &quot;silent thread&quot; is not a real thread so there are no concurrent modifications just because the GC has marked (yes, not actually removed) entries for removal. I use WeakHashMap (not for a cache) in a concurrent environment and have not had such problems.","body":"Luke, the &quot;silent thread&quot; is not a real thread so there are no concurrent modifications just because the GC has marked (yes, not actually removed) entries for removal. I use WeakHashMap (not for a cache) in a concurrent environment and have not had such problems."}],"tags":[],"owner":{"account_id":13018,"reputation":14568,"user_id":25920,"accept_rate":88,"display_name":"luke"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1274219887,"creation_date":1274219887,"answer_id":2861456,"question_id":2861410,"body_markdown":"The documentation is not exactly clear on this but it does say this:\r\n\r\n&gt; The behavior of the WeakHashMap class\r\n&gt; depends in part upon the actions of\r\n&gt; the garbage collector, so several\r\n&gt; familiar (though not required) Map\r\n&gt; invariants do not hold for this class.\r\n&gt; Because the garbage collector may\r\n&gt; discard keys at any time, a\r\n&gt; **WeakHashMap may behave as though an\r\n&gt; unknown thread is silently removing\r\n&gt; entries**. In particular, even if you\r\n&gt; synchronize on a WeakHashMap instance\r\n&gt; and invoke none of its mutator\r\n&gt; methods, it is possible for the size\r\n&gt; method to return smaller values over\r\n&gt; time, for the isEmpty method to return\r\n&gt; false and then true, for the\r\n&gt; containsKey method to return true and\r\n&gt; later false for a given key, for the\r\n&gt; get method to return a value for a\r\n&gt; given key but later return null, for\r\n&gt; the put method to return null and the\r\n&gt; remove method to return false for a\r\n&gt; key that previously appeared to be in\r\n&gt; the map, and for successive\r\n&gt; examinations of the key set, the value\r\n&gt; set, and the entry set to yield\r\n&gt; successively smaller numbers of\r\n&gt; elements. - [Java API][1]\r\n\r\n\r\nI think given that description you should expect to occasionally receive `ConcurrentModificationException`s while iterating the map.  I would design your cache so you do as little iterating as possible.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/WeakHashMap.html","title":"WeakHashMap iteration and garbage collection","body":"<p>The documentation is not exactly clear on this but it does say this:</p>\n\n<blockquote>\n  <p>The behavior of the WeakHashMap class\n  depends in part upon the actions of\n  the garbage collector, so several\n  familiar (though not required) Map\n  invariants do not hold for this class.\n  Because the garbage collector may\n  discard keys at any time, a\n  <strong>WeakHashMap may behave as though an\n  unknown thread is silently removing\n  entries</strong>. In particular, even if you\n  synchronize on a WeakHashMap instance\n  and invoke none of its mutator\n  methods, it is possible for the size\n  method to return smaller values over\n  time, for the isEmpty method to return\n  false and then true, for the\n  containsKey method to return true and\n  later false for a given key, for the\n  get method to return a value for a\n  given key but later return null, for\n  the put method to return null and the\n  remove method to return false for a\n  key that previously appeared to be in\n  the map, and for successive\n  examinations of the key set, the value\n  set, and the entry set to yield\n  successively smaller numbers of\n  elements. - <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/WeakHashMap.html\" rel=\"nofollow noreferrer\">Java API</a></p>\n</blockquote>\n\n<p>I think given that description you should expect to occasionally receive <code>ConcurrentModificationException</code>s while iterating the map.  I would design your cache so you do as little iterating as possible.</p>\n"},{"tags":[],"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1274227986,"creation_date":1274227986,"answer_id":2862048,"question_id":2861410,"body_markdown":"No, you will not receive ConcurrentModificationException.  WeakHashMap uses ReferenceQueue.poll when you call various operations.  In other words, each caller is silently responsible for clearing stale entries from the Map.  However, that does mean that it is not safe to call methods on a WeakHashMap from multiple threads that would otherwise seem to be &quot;read-only&quot; because any call to get() can destroy the entry linked list that another thread is attempting to iterate.","title":"WeakHashMap iteration and garbage collection","body":"<p>No, you will not receive ConcurrentModificationException.  WeakHashMap uses ReferenceQueue.poll when you call various operations.  In other words, each caller is silently responsible for clearing stale entries from the Map.  However, that does mean that it is not safe to call methods on a WeakHashMap from multiple threads that would otherwise seem to be \"read-only\" because any call to get() can destroy the entry linked list that another thread is attempting to iterate.</p>\n"},{"comments":[{"owner":{"account_id":24198,"reputation":6978,"user_id":61395,"accept_rate":83,"display_name":"Shamik"},"score":0,"creation_date":1274234618,"post_id":2862174,"comment_id":2906884,"body_markdown":"Thank you Kevin. Very nice explanation, now it is very clear to me.","body":"Thank you Kevin. Very nice explanation, now it is very clear to me."},{"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"score":0,"creation_date":1274235455,"post_id":2862174,"comment_id":2906931,"body_markdown":"Yes, more complete than my answer.  +1.","body":"Yes, more complete than my answer.  +1."},{"owner":{"account_id":102438,"reputation":8032,"user_id":274972,"accept_rate":76,"display_name":"Monstieur"},"score":0,"creation_date":1401472071,"post_id":2862174,"comment_id":36913038,"body_markdown":"1) What happens if an entry disappears before the iterator reaches it? Is it simply not returned by `next()`?\n2) If I retrieve an entry from `entrySet()` and the key is GCed immediately after that. What happens when I call `entry.getKey()`?","body":"1) What happens if an entry disappears before the iterator reaches it? Is it simply not returned by <code>next()</code>? 2) If I retrieve an entry from <code>entrySet()</code> and the key is GCed immediately after that. What happens when I call <code>entry.getKey()</code>?"},{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":1,"creation_date":1402259781,"post_id":2862174,"comment_id":37194214,"body_markdown":"1-Yes; internally the iterator skips any GC&#39;d elements and then keeps a temporary strong reference of the next key once it has determined that the next entry exists so it cannot be GC&#39;d until you retrieve it or advance to the next element. 2-The `Entry` returned from the entry `Set` is a regular object and holds a strong reference to the key/value so it will not be GC&#39;d.","body":"1-Yes; internally the iterator skips any GC&#39;d elements and then keeps a temporary strong reference of the next key once it has determined that the next entry exists so it cannot be GC&#39;d until you retrieve it or advance to the next element. 2-The <code>Entry</code> returned from the entry <code>Set</code> is a regular object and holds a strong reference to the key/value so it will not be GC&#39;d."}],"tags":[],"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1274230640,"creation_date":1274230279,"answer_id":2862174,"question_id":2861410,"body_markdown":"As bkail said, when GC &quot;removes&quot; an entry from a `WeakHashMap` it is not going to cause a concurrent modification. In reality the GC collects the underlying object by there is a hard reference to `WeakReference` object (that holds the real key) itself. Therefore, the real object (the reference object) that is directly referenced by the map is not collected so the map does not change until one of your threads calls a method in this map. At that time the map checks the reference queue from the GC and finds all keys that have been collected and removes them from the map - so the actual changes to the map structure occurs on one of your threads.\r\n\r\nIn thinking of this then there may be one case where you may get a concurrent modification in such a map that you would not get in another kind of map - if you put a key that already exists or call a getter method. But really, in a concurrent application you should be locking around these calls anyway so you would have a really concurrent access bug in your program.\r\n\r\nThat being said in answer to your question, you really **should not use** `WeakHashMap` for a cache (even if you were talking about caching keys). In a cache you don&#39;t want your values &#39;magically&#39; disappearing when the values are no longer referenced. Typically you want them to disappear when there is a certain maximum number (something like Apache collections [`LRUMap`][1]) or released on memory demand. \r\n\r\nFor the later, you can use a map with a `SoftReference` (Apache collections provides a [`ReferenceMap`][2] that allows you to specify the kind of reference for either the key or value). A soft reference is specified to only be released based on memory pressure - a weak reference on the other hand has to do more with GC recognizing that there are no hard reference remaining to the object and can release it at any time. Of course, how a soft reference really works is also dependent on the JVM implementation.\r\n\r\n**EDIT**: I reread your question and want to address one other point. Because the actual modifications occur to the `WeakHashMap` internal structures on your own thread, *if you only use this map in a single thread you do not need to synchronize any method calls*. This behavior is no different than any other `Map`.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/apidocs/org/apache/commons/collections/LRUMap.html\r\n  [2]: http://commons.apache.org/collections/apidocs/org/apache/commons/collections/map/ReferenceMap.html","title":"WeakHashMap iteration and garbage collection","body":"<p>As bkail said, when GC \"removes\" an entry from a <code>WeakHashMap</code> it is not going to cause a concurrent modification. In reality the GC collects the underlying object by there is a hard reference to <code>WeakReference</code> object (that holds the real key) itself. Therefore, the real object (the reference object) that is directly referenced by the map is not collected so the map does not change until one of your threads calls a method in this map. At that time the map checks the reference queue from the GC and finds all keys that have been collected and removes them from the map - so the actual changes to the map structure occurs on one of your threads.</p>\n\n<p>In thinking of this then there may be one case where you may get a concurrent modification in such a map that you would not get in another kind of map - if you put a key that already exists or call a getter method. But really, in a concurrent application you should be locking around these calls anyway so you would have a really concurrent access bug in your program.</p>\n\n<p>That being said in answer to your question, you really <strong>should not use</strong> <code>WeakHashMap</code> for a cache (even if you were talking about caching keys). In a cache you don't want your values 'magically' disappearing when the values are no longer referenced. Typically you want them to disappear when there is a certain maximum number (something like Apache collections <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/LRUMap.html\" rel=\"noreferrer\"><code>LRUMap</code></a>) or released on memory demand. </p>\n\n<p>For the later, you can use a map with a <code>SoftReference</code> (Apache collections provides a <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/map/ReferenceMap.html\" rel=\"noreferrer\"><code>ReferenceMap</code></a> that allows you to specify the kind of reference for either the key or value). A soft reference is specified to only be released based on memory pressure - a weak reference on the other hand has to do more with GC recognizing that there are no hard reference remaining to the object and can release it at any time. Of course, how a soft reference really works is also dependent on the JVM implementation.</p>\n\n<p><strong>EDIT</strong>: I reread your question and want to address one other point. Because the actual modifications occur to the <code>WeakHashMap</code> internal structures on your own thread, <em>if you only use this map in a single thread you do not need to synchronize any method calls</em>. This behavior is no different than any other <code>Map</code>.</p>\n"}],"owner":{"account_id":24198,"reputation":6978,"user_id":61395,"accept_rate":83,"display_name":"Shamik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4667,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":2862174,"answer_count":4,"score":16,"last_activity_date":1693833205,"creation_date":1274219505,"question_id":2861410,"body_markdown":"I am using a `WeakHashMap` to implement a Cache. I am wondering if I am iterating over the keys of this map, and at the same time garbage collector is actively removing keys from this map, would I receive a `ConcurrentModificationException` ?\r\nI do not think so, because as far as I understand, the concurrent modification exception happens because of bugs in the application code where the developer forgot to understand that the same map is shared/used by other threads and in this case, it should not happen. But wondering how would JVM handle this when `WeakHashMap` is not synchronized ?","title":"WeakHashMap iteration and garbage collection","body":"<p>I am using a <code>WeakHashMap</code> to implement a Cache. I am wondering if I am iterating over the keys of this map, and at the same time garbage collector is actively removing keys from this map, would I receive a <code>ConcurrentModificationException</code> ?\nI do not think so, because as far as I understand, the concurrent modification exception happens because of bugs in the application code where the developer forgot to understand that the same map is shared/used by other threads and in this case, it should not happen. But wondering how would JVM handle this when <code>WeakHashMap</code> is not synchronized ?</p>\n"},{"tags":["java","appium-ios"],"owner":{"account_id":29360321,"reputation":1,"user_id":22495172,"display_name":"Eliana Zamora Sanabria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693832748,"creation_date":1693799220,"question_id":77034964,"body_markdown":"`nameProduct` is the parameter that the actor has, this locator works for Android but I want to adapt it for iOS so that they work in the same project. \r\n\r\n    String locator = String.format(&quot;new UiScrollable(new UiSelector()\r\n                      .scrollable(true)\r\n                      .instance(0))\r\n                      .scrollIntoView(new UiSelector()\r\n                      .textContains(\\&quot;%s\\&quot;).instance(0))&quot;, nameProduct)\r\n                      .locatedForAndroid(AppiumBy.androidUIAutomator(locator));\r\n\r\n\r\n But I don&#39;t know if it works for iOS so for the moment it doesn&#39;t locate me. \r\n\r\n     String iosLocator = String.format(&quot;type == &#39;XCUIElementTypeStaticText&#39; AND label CONTAINS &#39;%s&#39;&quot;,\r\n                                                nameProduct);\r\n     .locatedForIOS(AppiumBy.iOSClassChain(iosLocator));\r\n\r\n\r\nI am using IntelliJ IDEA\r\n","title":"How to adapt this locator for iOS is for automated testing","body":"<p><code>nameProduct</code> is the parameter that the actor has, this locator works for Android but I want to adapt it for iOS so that they work in the same project.</p>\n<pre><code>String locator = String.format(&quot;new UiScrollable(new UiSelector()\n                  .scrollable(true)\n                  .instance(0))\n                  .scrollIntoView(new UiSelector()\n                  .textContains(\\&quot;%s\\&quot;).instance(0))&quot;, nameProduct)\n                  .locatedForAndroid(AppiumBy.androidUIAutomator(locator));\n</code></pre>\n<p>But I don't know if it works for iOS so for the moment it doesn't locate me.</p>\n<pre><code> String iosLocator = String.format(&quot;type == 'XCUIElementTypeStaticText' AND label CONTAINS '%s'&quot;,\n                                            nameProduct);\n .locatedForIOS(AppiumBy.iOSClassChain(iosLocator));\n</code></pre>\n<p>I am using IntelliJ IDEA</p>\n"},{"tags":["java","arrays","string","currency"],"answers":[{"comments":[{"owner":{"account_id":27983776,"reputation":51,"user_id":21371062,"display_name":"Riya"},"score":0,"creation_date":1693822250,"post_id":77000232,"comment_id":135806322,"body_markdown":"CurrencyExtractor is just a part of a program, where I cannot write a seperate class for it. But thanks for the answer.","body":"CurrencyExtractor is just a part of a program, where I cannot write a seperate class for it. But thanks for the answer."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1693832456,"post_id":77000232,"comment_id":135808241,"body_markdown":"@Riya, if you have already a written class named CurrencyExtractor then you can rename the classname I wrote for you. as I commented in the code, I am manually defining a map, and you can fill it by the key/values interested to you.","body":"@Riya, if you have already a written class named CurrencyExtractor then you can rename the classname I wrote for you. as I commented in the code, I am manually defining a map, and you can fill it by the key/values interested to you."}],"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693832503,"creation_date":1693312293,"answer_id":77000232,"question_id":76997743,"body_markdown":"Extracting currency values from strings and determining their locale can be a complex task due to the wide variety of formats and symbols used worldwide. There isn&#39;t a one-size-fits-all solution, but Java does provide the `java.util.Currency` and `java.text.NumberFormat` classes, which can assist in some aspects of this task.\r\n\r\nHowever, detecting a currency symbol and converting it to a locale or currency code is not straightforward, because multiple countries might share a single currency symbol. \r\n\r\nGiven your requirements, I can suggest a two-step approach:\r\n\r\n 1. Extract the numeric value from the string.\r\n 2. Try to match the currency symbol to a locale or currency code.However, if you are going to work with 180 currencies I guess you would have problems with some of them which do not follow ASCII codes. I suggest you to create a map as follows,supposing, as you mentioned you&#39;ve already managed to extract the numbers:\r\n \r\n\r\n         \r\n        public class CurrencyExtractor {\r\n            private static Map&lt;String, String&gt; symbolToCurrencyCodeMap = new HashMap&lt;&gt;();\r\n        \r\n            static {\r\n                // Manual mappings for specific symbols\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.إ&quot;), &quot;AED&quot;);   // United Arab Emirates Dirham\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ر.س&quot;), &quot;SAR&quot;);   // Saudi Riyal\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.ت&quot;), &quot;TND&quot;);   // Tunisian Dinar\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ل.د&quot;), &quot;LYD&quot;);   // Libyan Dinar\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ر.ع.&quot;), &quot;OMR&quot;);  // Omani Rial\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ج.م&quot;), &quot;EGP&quot;);   // Egyptian Pound\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.ك&quot;), &quot;KWD&quot;);   // Kuwaiti Dinar\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ر.ق&quot;), &quot;QAR&quot;);   // Qatari Riyal\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.ب&quot;), &quot;BHD&quot;);   // Bahraini Dinar\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ل.س&quot;), &quot;SYP&quot;);   // Syrian Pound\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ل.ل&quot;), &quot;LBP&quot;);   // Lebanese Pound\r\n                symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;₹&quot;), &quot;INR&quot;);     // Indian Rupee\r\n                \r\n            }\r\n            public static String toUnicodeEscapeSequence(String str) {\r\n                StringBuilder result = new StringBuilder();\r\n        \r\n                for (int i = 0; i &lt; str.length(); i++) {\r\n                    char ch = str.charAt(i);\r\n                    result.append(String.format(&quot;\\\\u%04x&quot;, (int) ch));\r\n                }\r\n        \r\n                return result.toString();\r\n            }\r\n            public static String extractCurrencyCode(String symbol) {\r\n                return symbolToCurrencyCodeMap.get(symbol);\r\n            }\r\n    \r\n        public static void main(String[] args) {\r\n             String textWithCurrency = &quot;د.ك&quot;;\r\n            \r\n            System.out.println(&quot;Currency code for symbol &#39;&quot; + toUnicodeEscapeSequence(textWithCurrency) + &quot;&#39;: &quot; + extractCurrencyCode(toUnicodeEscapeSequence(textWithCurrency)));\r\n        }\r\n    }\r\n\r\nThe result for the input textWithCurrency = &quot;د.ك&quot;, would be : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Z2Tn.png","title":"AutoDetect numbers with currency and extract the numbers( Using any library)","body":"<p>Extracting currency values from strings and determining their locale can be a complex task due to the wide variety of formats and symbols used worldwide. There isn't a one-size-fits-all solution, but Java does provide the <code>java.util.Currency</code> and <code>java.text.NumberFormat</code> classes, which can assist in some aspects of this task.</p>\n<p>However, detecting a currency symbol and converting it to a locale or currency code is not straightforward, because multiple countries might share a single currency symbol.</p>\n<p>Given your requirements, I can suggest a two-step approach:</p>\n<ol>\n<li><p>Extract the numeric value from the string.</p>\n</li>\n<li><p>Try to match the currency symbol to a locale or currency code.However, if you are going to work with 180 currencies I guess you would have problems with some of them which do not follow ASCII codes. I suggest you to create a map as follows,supposing, as you mentioned you've already managed to extract the numbers:</p>\n<pre><code>public class CurrencyExtractor {\n    private static Map&lt;String, String&gt; symbolToCurrencyCodeMap = new HashMap&lt;&gt;();\n\n    static {\n        // Manual mappings for specific symbols\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.إ&quot;), &quot;AED&quot;);   // United Arab Emirates Dirham\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ر.س&quot;), &quot;SAR&quot;);   // Saudi Riyal\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.ت&quot;), &quot;TND&quot;);   // Tunisian Dinar\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ل.د&quot;), &quot;LYD&quot;);   // Libyan Dinar\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ر.ع.&quot;), &quot;OMR&quot;);  // Omani Rial\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ج.م&quot;), &quot;EGP&quot;);   // Egyptian Pound\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.ك&quot;), &quot;KWD&quot;);   // Kuwaiti Dinar\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ر.ق&quot;), &quot;QAR&quot;);   // Qatari Riyal\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;د.ب&quot;), &quot;BHD&quot;);   // Bahraini Dinar\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ل.س&quot;), &quot;SYP&quot;);   // Syrian Pound\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;ل.ل&quot;), &quot;LBP&quot;);   // Lebanese Pound\n        symbolToCurrencyCodeMap.put(toUnicodeEscapeSequence(&quot;₹&quot;), &quot;INR&quot;);     // Indian Rupee\n\n    }\n    public static String toUnicodeEscapeSequence(String str) {\n        StringBuilder result = new StringBuilder();\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            char ch = str.charAt(i);\n            result.append(String.format(&quot;\\\\u%04x&quot;, (int) ch));\n        }\n\n        return result.toString();\n    }\n    public static String extractCurrencyCode(String symbol) {\n        return symbolToCurrencyCodeMap.get(symbol);\n    }\n\npublic static void main(String[] args) {\n     String textWithCurrency = &quot;د.ك&quot;;\n\n    System.out.println(&quot;Currency code for symbol '&quot; + toUnicodeEscapeSequence(textWithCurrency) + &quot;': &quot; + extractCurrencyCode(toUnicodeEscapeSequence(textWithCurrency)));\n}\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>The result for the input textWithCurrency = &quot;د.ك&quot;, would be :</p>\n<p><a href=\"https://i.stack.imgur.com/7Z2Tn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Z2Tn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27983776,"reputation":51,"user_id":21371062,"display_name":"Riya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1693832503,"creation_date":1693289570,"question_id":76997743,"body_markdown":"I am trying to solve a problem where my input looks like this :\r\n\r\n```\r\nString textWithCurrency = &quot;د.ع.‏ 40,986.63&quot;;\r\n```\r\nIn here, the currency is Arabic, from this input the number should be autodetected and extracted (leaving the symbol). Or it would be helpful if we could find the locale from this currency which would help me to reconvert them too . Does java or anyother third parties have any libraries or functions regarding this? (Writing a program is also fine but needs to be a shorter one)\r\n\r\nI have tried some code, which I could extract numbers from it. But still need ideas like finding libraries which would make it efficient.  I have many currencies to convert, almost 180 so need a library","title":"AutoDetect numbers with currency and extract the numbers( Using any library)","body":"<p>I am trying to solve a problem where my input looks like this :</p>\n<pre><code>String textWithCurrency = &quot;د.ع.‏ 40,986.63&quot;;\n</code></pre>\n<p>In here, the currency is Arabic, from this input the number should be autodetected and extracted (leaving the symbol). Or it would be helpful if we could find the locale from this currency which would help me to reconvert them too . Does java or anyother third parties have any libraries or functions regarding this? (Writing a program is also fine but needs to be a shorter one)</p>\n<p>I have tried some code, which I could extract numbers from it. But still need ideas like finding libraries which would make it efficient.  I have many currencies to convert, almost 180 so need a library</p>\n"},{"tags":["java","docker","windows-subsystem-for-linux"],"owner":{"account_id":28825537,"reputation":1,"user_id":22077012,"display_name":"Marlon Pius Pamplona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693832251,"creation_date":1686814084,"question_id":76480092,"body_markdown":"I would really appreciate some help in launching EPI2ME. I have already installed WSL 2, Java and Docker desktop prior to downloading EPI2ME. I tried launching EPI2ME but it seems to not be able to detect WSL, Java and Docker. I have already tried disabling my firewall but to no avail. Thank you\r\nI tried updating, and disabling firewall but to no avail","title":"EPI2ME cannot detect my installed WSL, Java and Docker","body":"<p>I would really appreciate some help in launching EPI2ME. I have already installed WSL 2, Java and Docker desktop prior to downloading EPI2ME. I tried launching EPI2ME but it seems to not be able to detect WSL, Java and Docker. I have already tried disabling my firewall but to no avail. Thank you\nI tried updating, and disabling firewall but to no avail</p>\n"},{"tags":["java","spring-boot","azure","azure-application-insights"],"answers":[{"comments":[{"owner":{"account_id":17605348,"reputation":1,"user_id":12774486,"display_name":"schabdo"},"score":0,"creation_date":1693843248,"post_id":77037894,"comment_id":135810342,"body_markdown":"Cool, haven&#39;t seen this additional parameters (&quot;parameterCollectionEnabled&quot; and &quot;trackPreparedStatement&quot;) ever before. Thanks a lot! Curious to know where you found them","body":"Cool, haven&#39;t seen this additional parameters (&quot;parameterCollectionEnabled&quot; and &quot;trackPreparedStatement&quot;) ever before. Thanks a lot! Curious to know where you found them"},{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1693903579,"post_id":77037894,"comment_id":135817358,"body_markdown":"I retrieved numerous websites, and I also personally made significant changes to the configuration.","body":"I retrieved numerous websites, and I also personally made significant changes to the configuration."},{"owner":{"account_id":17605348,"reputation":1,"user_id":12774486,"display_name":"schabdo"},"score":0,"creation_date":1693924158,"post_id":77037894,"comment_id":135821787,"body_markdown":"@SureshChikkam tried provided config and both properties seem not existing for me:\n\n`Unrecognized field &quot;trackPreparedStatement&quot; (class com.microsoft.applicationinsights.agent.internal.configuration.Configuration$DatabaseInstrumentationWithMasking), not marked as ignorable (2 known properties: &quot;enabled&quot;, &quot;masking&quot;])`. Same is logged for &quot;parameterCollectionEnabled&quot;, too. Any idea?","body":"@SureshChikkam tried provided config and both properties seem not existing for me:  <code>Unrecognized field &quot;trackPreparedStatement&quot; (class com.microsoft.applicationinsights.agent.internal.configurati&zwnj;&#8203;on.Configuration$Dat&zwnj;&#8203;abaseInstrumentation&zwnj;&#8203;WithMasking), not marked as ignorable (2 known properties: &quot;enabled&quot;, &quot;masking&quot;])</code>. Same is logged for &quot;parameterCollectionEnabled&quot;, too. Any idea?"}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693832126,"creation_date":1693832126,"answer_id":77037894,"question_id":77024790,"body_markdown":"I had tried with the same configuration that which you tried in the above, and below is the result.\r\n\r\n![enter image description here](https://i.imgur.com/5iuanW4.png)\r\n\r\nHere, my application is able to access the database so I would see dependency telemetry for those interactions but not the trace data.\r\n\r\n![enter image description here](https://i.imgur.com/BOQd0d4.png)\r\n\r\nHere, I made some changes in the **configuration file**.\r\n\r\n```\r\n{\r\n  &quot;selfDiagnostics&quot;: {\r\n    &quot;destination&quot;: &quot;console&quot;,\r\n    &quot;level&quot;: &quot;TRACE&quot;\r\n  },\r\n  &quot;instrumentation&quot;: {\r\n    &quot;jdbc&quot;: {\r\n      &quot;masking&quot;: {\r\n        &quot;enabled&quot;: false\r\n      },\r\n      &quot;trackPreparedStatement&quot;: {\r\n        &quot;enabled&quot;: true\r\n      },\r\n\t  &quot;parameterCollectionEnabled&quot;: true\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThen I am able get the Trace transaction with the dependency transaction with the SQL parameters.\r\n\r\n**Result:**\r\n\r\n![enter image description here](https://i.imgur.com/JqYHEiP.png)\r\n\r\n![enter image description here](https://i.imgur.com/X3Nr48e.png)\r\n","title":"Disabling of JDBC masking in Application Insights Agent","body":"<p>I had tried with the same configuration that which you tried in the above, and below is the result.</p>\n<p><img src=\"https://i.imgur.com/5iuanW4.png\" alt=\"enter image description here\" /></p>\n<p>Here, my application is able to access the database so I would see dependency telemetry for those interactions but not the trace data.</p>\n<p><img src=\"https://i.imgur.com/BOQd0d4.png\" alt=\"enter image description here\" /></p>\n<p>Here, I made some changes in the <strong>configuration file</strong>.</p>\n<pre><code>{\n  &quot;selfDiagnostics&quot;: {\n    &quot;destination&quot;: &quot;console&quot;,\n    &quot;level&quot;: &quot;TRACE&quot;\n  },\n  &quot;instrumentation&quot;: {\n    &quot;jdbc&quot;: {\n      &quot;masking&quot;: {\n        &quot;enabled&quot;: false\n      },\n      &quot;trackPreparedStatement&quot;: {\n        &quot;enabled&quot;: true\n      },\n      &quot;parameterCollectionEnabled&quot;: true\n    }\n  }\n}\n</code></pre>\n<p>Then I am able get the Trace transaction with the dependency transaction with the SQL parameters.</p>\n<p><strong>Result:</strong></p>\n<p><img src=\"https://i.imgur.com/JqYHEiP.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/X3Nr48e.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":17605348,"reputation":1,"user_id":12774486,"display_name":"schabdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693832126,"creation_date":1693586628,"question_id":77024790,"body_markdown":"I&#39;m attaching the latest Application Insight Java Agent (v3.4.16) programatically within my SpringBoot application (v3.1.3) as described [here](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically).\r\n\r\nI do have `applicationinsights.json` with my configuration under `src/main/resources`. It looks like this (cf. [documentation](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#jdbc-query-masking)):\r\n\r\n```json\r\n{\r\n  &quot;selfDiagnostics&quot;: {\r\n    &quot;destination&quot;: &quot;console&quot;,\r\n    &quot;level&quot;: &quot;TRACE&quot;\r\n  },\r\n  &quot;instrumentation&quot;: {\r\n    &quot;jdbc&quot;: {\r\n      &quot;masking&quot;: {\r\n        &quot;enabled&quot;: false\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe logging level is recognize correctly, so the agent picks up the config file. I can even see stuff reported from my local instance to Azure after providing a valid connection string.\r\n\r\nHowever I&#39;m still not getting any SQL parameter resolution in the traces. The statements are still masked like this (from my local client logs):\r\n\r\n```json\r\n...\r\n{&quot;ver&quot;:2,&quot;id&quot;:&quot;3ce417f010b210df&quot;,&quot;name&quot;:&quot;INSERT bubu.user_tbl&quot;,\r\n&quot;data&quot;:&quot;insert into user_tbl (age,name,id) values (?,?,?)&quot;,&quot;type&quot;:&quot;SQL&quot;,\r\n&quot;target&quot;:&quot;localhost | bubu&quot;,&quot;duration&quot;:&quot;00:00:00.005135&quot;,&quot;success&quot;:true}}}\r\n...\r\n```\r\n[On Azure it looks exactly same](https://i.stack.imgur.com/Taf3P.png). Any idea what I&#39;m missing in order to get SQL parameters in the trace? Any help or advice appreciated.","title":"Disabling of JDBC masking in Application Insights Agent","body":"<p>I'm attaching the latest Application Insight Java Agent (v3.4.16) programatically within my SpringBoot application (v3.1.3) as described <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I do have <code>applicationinsights.json</code> with my configuration under <code>src/main/resources</code>. It looks like this (cf. <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config#jdbc-query-masking\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;selfDiagnostics&quot;: {\n    &quot;destination&quot;: &quot;console&quot;,\n    &quot;level&quot;: &quot;TRACE&quot;\n  },\n  &quot;instrumentation&quot;: {\n    &quot;jdbc&quot;: {\n      &quot;masking&quot;: {\n        &quot;enabled&quot;: false\n      }\n    }\n  }\n}\n</code></pre>\n<p>The logging level is recognize correctly, so the agent picks up the config file. I can even see stuff reported from my local instance to Azure after providing a valid connection string.</p>\n<p>However I'm still not getting any SQL parameter resolution in the traces. The statements are still masked like this (from my local client logs):</p>\n<pre class=\"lang-json prettyprint-override\"><code>...\n{&quot;ver&quot;:2,&quot;id&quot;:&quot;3ce417f010b210df&quot;,&quot;name&quot;:&quot;INSERT bubu.user_tbl&quot;,\n&quot;data&quot;:&quot;insert into user_tbl (age,name,id) values (?,?,?)&quot;,&quot;type&quot;:&quot;SQL&quot;,\n&quot;target&quot;:&quot;localhost | bubu&quot;,&quot;duration&quot;:&quot;00:00:00.005135&quot;,&quot;success&quot;:true}}}\n...\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Taf3P.png\" rel=\"nofollow noreferrer\">On Azure it looks exactly same</a>. Any idea what I'm missing in order to get SQL parameters in the trace? Any help or advice appreciated.</p>\n"},{"tags":["java","soap","jaxb","marshalling"],"owner":{"account_id":20754912,"reputation":1,"user_id":15241552,"display_name":"CyberHatter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693831922,"creation_date":1688723539,"question_id":76635855,"body_markdown":"I&#39;m trying to marshal a new header to SOAP message, but JAXB only marshalls the root of the Java object. When I try to marshal it to System output the marshalling goes OK.\r\n\r\n*Note: namespaces are replaced with XXX/YYY/... due to stackoverflow spam checks*\r\n\r\nMarhsalling code:\r\n```Java\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.Marshaller;\r\nimport javax.xml.soap.SOAPHeader;\r\n\r\n// &lt;..&gt;\r\n\r\nprivate void marshal(RequestDestinationMetaDTO requestDestinationMetaDTO, SOAPHeader soapHeader) throws JAXBException {\r\n    final UserContextDTO userContextDTO = new UserContextDTO(...);\r\n    final Marshaller marshaller = JAXBContext.newInstance(UserContextDTO.class).createMarshaller();\r\n    marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\r\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    marshaller.marshal(userContextDTO, System.out);\r\n    marshaller.marshal(userContextDTO, soapHeader);\r\n}\r\n```\r\n\r\nObject to marhsal:\r\n```Java\r\npackage ru.solit.esb.apigate.header.manager.dto;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport ru.mos.emias.usercontext.UserContext;\r\n\r\nimport javax.xml.bind.annotation.*;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n@XmlRootElement(namespace = UserContextDTO.NAMESPACE_URI, name = &quot;userContext&quot;)\r\n@XmlAccessorType(XmlAccessType.PROPERTY)\r\npublic class UserContextDTO extends UserContext {\r\n\r\n    public static final String NAMESPACE_URI = &quot;YYY&quot;;\r\n\r\n    /**\r\n     * Default constructor for xml marshalling\r\n     * @noinspection unused\r\n     */\r\n    public UserContextDTO() {\r\n        super(null, null, 0L, null, null, 0L, null, null);\r\n    }\r\n\r\n    public UserContextDTO(UserContext userContext) {\r\n        super(\r\n                userContext.getSystemName(),\r\n                userContext.getUserName(),\r\n                userContext.getUserRoleId(),\r\n                userContext.isUserRoleSystemWide(),\r\n                userContext.getUserRights(),\r\n                userContext.getJobExecutionId(),\r\n                userContext.getHostIp(),\r\n                userContext.getHostName()\r\n        );\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public String getSystemName() {\r\n        return super.getSystemName();\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public String getUserName() {\r\n        return super.getUserName();\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public long getUserRoleId() {\r\n        return super.getUserRoleId();\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public Boolean isUserRoleSystemWide() {\r\n        return super.isUserRoleSystemWide();\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI, name = &quot;userRights&quot;)\r\n    public List&lt;UserRightDTO&gt; getUserRightDTOs() {\r\n        final List&lt;Long&gt; userRights = super.getUserRights();\r\n        if (userRights == null) {\r\n            return null;\r\n        } else {\r\n            return userRights.stream().map(UserRightDTO::new).collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public long getJobExecutionId() {\r\n        return super.getJobExecutionId();\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public String getHostIp() {\r\n        return super.getHostIp();\r\n    }\r\n\r\n    @XmlElement(namespace = NAMESPACE_URI)\r\n    @Override\r\n    public String getHostName() {\r\n        return super.getHostName();\r\n    }\r\n\r\n    @XmlType(namespace = NAMESPACE_URI)\r\n    @Getter\r\n    @AllArgsConstructor\r\n    private static class UserRightDTO {\r\n\r\n        @XmlElement(namespace = NAMESPACE_URI)\r\n        private Long userRightId;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nSource message:\r\n```xml\r\n&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\r\n  &lt;soap:Header/&gt;\r\n  &lt;soap:Body&gt;\r\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\r\n      &lt;Request&gt;string&lt;/Request&gt;\r\n    &lt;/GetSpeech&gt;\r\n  &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nSystem.out result:\r\n```xml\r\n&lt;userContext xmlns=&quot;YYY&quot;&gt;\r\n    &lt;jobExecutionId&gt;0&lt;/jobExecutionId&gt;\r\n    &lt;systemName&gt;24cb7aeea4b1f5fcca336243f3b89ebb5131&lt;/systemName&gt;\r\n    &lt;userName&gt;0&lt;/userName&gt;\r\n    &lt;userRights&gt;\r\n        &lt;userRightId&gt;6206941629831905910&lt;/userRightId&gt;\r\n    &lt;/userRights&gt;\r\n    &lt;userRoleId&gt;-8952814757693617916&lt;/userRoleId&gt;\r\n    &lt;userRoleSystemWide&gt;true&lt;/userRoleSystemWide&gt;\r\n&lt;/userContext&gt;\r\n```\r\nMarshalling to header node result:\r\n```xml\r\n&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\r\n  &lt;soap:Header&gt;&lt;ns5:userContext xmlns:ns5=&quot;YYY&quot;/&gt;&lt;/soap:Header&gt;&lt;soap:Body&gt;\r\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\r\n      &lt;Request&gt;string&lt;/Request&gt;\r\n    &lt;/GetSpeech&gt;\r\n  &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nExpecting result:\r\n```xml\r\n&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\r\n  &lt;soap:Header&gt;\r\n&lt;userContext xmlns=&quot;YYY&quot;&gt;\r\n    &lt;jobExecutionId&gt;0&lt;/jobExecutionId&gt;\r\n    &lt;systemName&gt;24cb7aeea4b1f5fcca336243f3b89ebb5131&lt;/systemName&gt;\r\n    &lt;userName&gt;0&lt;/userName&gt;\r\n    &lt;userRights&gt;\r\n        &lt;userRightId&gt;6206941629831905910&lt;/userRightId&gt;\r\n    &lt;/userRights&gt;\r\n    &lt;userRoleId&gt;-8952814757693617916&lt;/userRoleId&gt;\r\n    &lt;userRoleSystemWide&gt;true&lt;/userRoleSystemWide&gt;\r\n&lt;/userContext&gt;\r\n&lt;/soap:Header&gt;&lt;soap:Body&gt;\r\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\r\n      &lt;Request&gt;string&lt;/Request&gt;\r\n    &lt;/GetSpeech&gt;\r\n  &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\n---\r\n\r\n**I tried** removing @XmlRootElement(namespace = UserContextDTO.NAMESPACE_URI, name = &quot;userContext&quot;) and marshalling the object as JAXBElement, because I thought it might do the trick:\r\n```Java\r\nmarshaller.marshal(new JAXBElement&lt;&gt;(new QName(&quot;YYY&quot;, &quot;userContext&quot;, &quot;ctx&quot;), UserContextDTO.class, userContextDTO), soapHeader);\r\nmarshaller.marshal(new JAXBElement&lt;&gt;(new QName(&quot;YYY&quot;, &quot;userContext&quot;, &quot;ctx&quot;), UserContextDTO.class, userContextDTO), System.out);\r\n```\r\nBut it just didn&#39;t\r\n\r\n---\r\n\r\n**I tried** marshalling this node into another element - it worked. But if I try to move the node - it just clears its&#39; contents again:\r\n```Java\r\nprivate void marshal(RequestDestinationMetaDTO requestDestinationMetaDTO, SOAPHeader soapHeader) throws JAXBException, SOAPException {\r\n        final UserContextDTO userContextDTO = new UserContextDTO(new UserContextBuilder(\r\n                requestDestinationMetaDTO.getExternalSystemToken(),\r\n                &quot;0&quot;,\r\n                Collections.singletonList(requestDestinationMetaDTO.getPublicationMethodRight()))\r\n                .withUserRoleId(requestDestinationMetaDTO.getExternalSystemUserRoleId())\r\n                .withUserRoleSystemWide(true)\r\n                .withJobExecutionId(0)\r\n                .build());\r\n\r\n        final Marshaller marshaller = JAXBContext.newInstance(UserContextDTO.class).createMarshaller();\r\n        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\r\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n        final QName userContextQName = headerManagerQNamesConfiguration.getUserContextQName();\r\n        soapHeader.addNamespaceDeclaration(userContextQName.getPrefix(), userContextQName.getNamespaceURI());\r\n        final SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(userContextQName);\r\n        marshaller.marshal(userContextDTO, soapHeaderElement);\r\n        final SOAPElement soapElement = (SOAPElement) soapHeaderElement.getFirstChild();\r\n        soapHeader.addChildElement(soapElement);\r\n\r\n        marshaller.marshal(userContextDTO, System.out);\r\n    }\r\n```\r\nResult:\r\n```xml\r\n&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\r\n  &lt;soap:Header xmlns:ctx=&quot;YYY&quot;&gt;\r\n    &lt;ctx:userContext&gt;\r\n      &lt;ctx:userContext&gt;\r\n        &lt;ctx:jobExecutionId&gt;0&lt;/ctx:jobExecutionId&gt;\r\n        &lt;ctx:systemName&gt;13b78475c82356f4e9&lt;/ctx:systemName&gt; \r\n        &lt;ctx:userName&gt;0&lt;/ctx:userName&gt;\r\n        &lt;ctx:userRights&gt; \r\n          &lt;ctx:userRightId&gt;-8110359214033630382&lt;/ctx:userRightId&gt; \r\n        &lt;/ctx:userRights&gt; \r\n        &lt;ctx:userRoleId&gt;7497095867686755286&lt;/ctx:userRoleId&gt;\r\n        &lt;ctx:userRoleSystemWide&gt;true&lt;/ctx:userRoleSystemWide&gt;\r\n      &lt;/ctx:userContext&gt;\r\n    &lt;/ctx:userContext&gt;\r\n    &lt;ctx:userContext/&gt;\r\n  &lt;/soap:Header&gt;\r\n  &lt;soap:Body&gt;\r\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\r\n      &lt;Request&gt;string&lt;/Request&gt;\r\n    &lt;/GetSpeech&gt;\r\n  &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\n---\r\n\r\n**My temp workaround** is to manually build the node:\r\n```Java\r\nfinal QName userContextQName = headerManagerQNamesConfiguration.getUserContextQName();\r\nsoapHeader.addNamespaceDeclaration(userContextQName.getPrefix(), userContextQName.getNamespaceURI());\r\nfinal SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(userContextQName);\r\nsoapHeaderElement.addChildElement(&quot;systemName&quot;).setTextContent(userContextDTO.getSystemName());\r\nsoapHeaderElement.addChildElement(&quot;userName&quot;).setTextContent(userContextDTO.getUserName());\r\nsoapHeaderElement.addChildElement(&quot;userRoleId&quot;).setTextContent(String.valueOf(userContextDTO.getUserRoleId()));\r\nsoapHeaderElement.addChildElement(&quot;isUserRoleSystemWide&quot;).setTextContent(String.valueOf(userContextDTO.isUserRoleSystemWide()));\r\nfinal SOAPElement soapElement = soapHeaderElement.addChildElement(&quot;userRights&quot;);\r\nfor (Long userRight : userContextDTO.getUserRights()) {\r\n    soapElement.addChildElement(&quot;userRightId&quot;).setTextContent(String.valueOf(userRight));\r\n}\r\nsoapHeaderElement.addChildElement(&quot;jobExecutionId&quot;).setTextContent(String.valueOf(userContextDTO.getJobExecutionId()));\r\n```\r\n","title":"JAXB marshalls only root when marshalling to node","body":"<p>I'm trying to marshal a new header to SOAP message, but JAXB only marshalls the root of the Java object. When I try to marshal it to System output the marshalling goes OK.</p>\n<p><em>Note: namespaces are replaced with XXX/YYY/... due to stackoverflow spam checks</em></p>\n<p>Marhsalling code:</p>\n<pre><code>import javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Marshaller;\nimport javax.xml.soap.SOAPHeader;\n\n// &lt;..&gt;\n\nprivate void marshal(RequestDestinationMetaDTO requestDestinationMetaDTO, SOAPHeader soapHeader) throws JAXBException {\n    final UserContextDTO userContextDTO = new UserContextDTO(...);\n    final Marshaller marshaller = JAXBContext.newInstance(UserContextDTO.class).createMarshaller();\n    marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n    marshaller.marshal(userContextDTO, System.out);\n    marshaller.marshal(userContextDTO, soapHeader);\n}\n</code></pre>\n<p>Object to marhsal:</p>\n<pre><code>package ru.solit.esb.apigate.header.manager.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport ru.mos.emias.usercontext.UserContext;\n\nimport javax.xml.bind.annotation.*;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@XmlRootElement(namespace = UserContextDTO.NAMESPACE_URI, name = &quot;userContext&quot;)\n@XmlAccessorType(XmlAccessType.PROPERTY)\npublic class UserContextDTO extends UserContext {\n\n    public static final String NAMESPACE_URI = &quot;YYY&quot;;\n\n    /**\n     * Default constructor for xml marshalling\n     * @noinspection unused\n     */\n    public UserContextDTO() {\n        super(null, null, 0L, null, null, 0L, null, null);\n    }\n\n    public UserContextDTO(UserContext userContext) {\n        super(\n                userContext.getSystemName(),\n                userContext.getUserName(),\n                userContext.getUserRoleId(),\n                userContext.isUserRoleSystemWide(),\n                userContext.getUserRights(),\n                userContext.getJobExecutionId(),\n                userContext.getHostIp(),\n                userContext.getHostName()\n        );\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public String getSystemName() {\n        return super.getSystemName();\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public String getUserName() {\n        return super.getUserName();\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public long getUserRoleId() {\n        return super.getUserRoleId();\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public Boolean isUserRoleSystemWide() {\n        return super.isUserRoleSystemWide();\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI, name = &quot;userRights&quot;)\n    public List&lt;UserRightDTO&gt; getUserRightDTOs() {\n        final List&lt;Long&gt; userRights = super.getUserRights();\n        if (userRights == null) {\n            return null;\n        } else {\n            return userRights.stream().map(UserRightDTO::new).collect(Collectors.toList());\n        }\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public long getJobExecutionId() {\n        return super.getJobExecutionId();\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public String getHostIp() {\n        return super.getHostIp();\n    }\n\n    @XmlElement(namespace = NAMESPACE_URI)\n    @Override\n    public String getHostName() {\n        return super.getHostName();\n    }\n\n    @XmlType(namespace = NAMESPACE_URI)\n    @Getter\n    @AllArgsConstructor\n    private static class UserRightDTO {\n\n        @XmlElement(namespace = NAMESPACE_URI)\n        private Long userRightId;\n\n    }\n\n}\n\n</code></pre>\n<p>Source message:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\n  &lt;soap:Header/&gt;\n  &lt;soap:Body&gt;\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\n      &lt;Request&gt;string&lt;/Request&gt;\n    &lt;/GetSpeech&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>System.out result:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;userContext xmlns=&quot;YYY&quot;&gt;\n    &lt;jobExecutionId&gt;0&lt;/jobExecutionId&gt;\n    &lt;systemName&gt;24cb7aeea4b1f5fcca336243f3b89ebb5131&lt;/systemName&gt;\n    &lt;userName&gt;0&lt;/userName&gt;\n    &lt;userRights&gt;\n        &lt;userRightId&gt;6206941629831905910&lt;/userRightId&gt;\n    &lt;/userRights&gt;\n    &lt;userRoleId&gt;-8952814757693617916&lt;/userRoleId&gt;\n    &lt;userRoleSystemWide&gt;true&lt;/userRoleSystemWide&gt;\n&lt;/userContext&gt;\n</code></pre>\n<p>Marshalling to header node result:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\n  &lt;soap:Header&gt;&lt;ns5:userContext xmlns:ns5=&quot;YYY&quot;/&gt;&lt;/soap:Header&gt;&lt;soap:Body&gt;\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\n      &lt;Request&gt;string&lt;/Request&gt;\n    &lt;/GetSpeech&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>Expecting result:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\n  &lt;soap:Header&gt;\n&lt;userContext xmlns=&quot;YYY&quot;&gt;\n    &lt;jobExecutionId&gt;0&lt;/jobExecutionId&gt;\n    &lt;systemName&gt;24cb7aeea4b1f5fcca336243f3b89ebb5131&lt;/systemName&gt;\n    &lt;userName&gt;0&lt;/userName&gt;\n    &lt;userRights&gt;\n        &lt;userRightId&gt;6206941629831905910&lt;/userRightId&gt;\n    &lt;/userRights&gt;\n    &lt;userRoleId&gt;-8952814757693617916&lt;/userRoleId&gt;\n    &lt;userRoleSystemWide&gt;true&lt;/userRoleSystemWide&gt;\n&lt;/userContext&gt;\n&lt;/soap:Header&gt;&lt;soap:Body&gt;\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\n      &lt;Request&gt;string&lt;/Request&gt;\n    &lt;/GetSpeech&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<hr />\n<p><strong>I tried</strong> removing @XmlRootElement(namespace = UserContextDTO.NAMESPACE_URI, name = &quot;userContext&quot;) and marshalling the object as JAXBElement, because I thought it might do the trick:</p>\n<pre><code>marshaller.marshal(new JAXBElement&lt;&gt;(new QName(&quot;YYY&quot;, &quot;userContext&quot;, &quot;ctx&quot;), UserContextDTO.class, userContextDTO), soapHeader);\nmarshaller.marshal(new JAXBElement&lt;&gt;(new QName(&quot;YYY&quot;, &quot;userContext&quot;, &quot;ctx&quot;), UserContextDTO.class, userContextDTO), System.out);\n</code></pre>\n<p>But it just didn't</p>\n<hr />\n<p><strong>I tried</strong> marshalling this node into another element - it worked. But if I try to move the node - it just clears its' contents again:</p>\n<pre><code>private void marshal(RequestDestinationMetaDTO requestDestinationMetaDTO, SOAPHeader soapHeader) throws JAXBException, SOAPException {\n        final UserContextDTO userContextDTO = new UserContextDTO(new UserContextBuilder(\n                requestDestinationMetaDTO.getExternalSystemToken(),\n                &quot;0&quot;,\n                Collections.singletonList(requestDestinationMetaDTO.getPublicationMethodRight()))\n                .withUserRoleId(requestDestinationMetaDTO.getExternalSystemUserRoleId())\n                .withUserRoleSystemWide(true)\n                .withJobExecutionId(0)\n                .build());\n\n        final Marshaller marshaller = JAXBContext.newInstance(UserContextDTO.class).createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n        final QName userContextQName = headerManagerQNamesConfiguration.getUserContextQName();\n        soapHeader.addNamespaceDeclaration(userContextQName.getPrefix(), userContextQName.getNamespaceURI());\n        final SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(userContextQName);\n        marshaller.marshal(userContextDTO, soapHeaderElement);\n        final SOAPElement soapElement = (SOAPElement) soapHeaderElement.getFirstChild();\n        soapHeader.addChildElement(soapElement);\n\n        marshaller.marshal(userContextDTO, System.out);\n    }\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soap:Envelope xmlns:soap=&quot;...&quot; xmlns:xsi=&quot;...&quot; xmlns:xsd=&quot;...&quot;&gt;\n  &lt;soap:Header xmlns:ctx=&quot;YYY&quot;&gt;\n    &lt;ctx:userContext&gt;\n      &lt;ctx:userContext&gt;\n        &lt;ctx:jobExecutionId&gt;0&lt;/ctx:jobExecutionId&gt;\n        &lt;ctx:systemName&gt;13b78475c82356f4e9&lt;/ctx:systemName&gt; \n        &lt;ctx:userName&gt;0&lt;/ctx:userName&gt;\n        &lt;ctx:userRights&gt; \n          &lt;ctx:userRightId&gt;-8110359214033630382&lt;/ctx:userRightId&gt; \n        &lt;/ctx:userRights&gt; \n        &lt;ctx:userRoleId&gt;7497095867686755286&lt;/ctx:userRoleId&gt;\n        &lt;ctx:userRoleSystemWide&gt;true&lt;/ctx:userRoleSystemWide&gt;\n      &lt;/ctx:userContext&gt;\n    &lt;/ctx:userContext&gt;\n    &lt;ctx:userContext/&gt;\n  &lt;/soap:Header&gt;\n  &lt;soap:Body&gt;\n    &lt;GetSpeech xmlns=&quot;XXX&quot;&gt;\n      &lt;Request&gt;string&lt;/Request&gt;\n    &lt;/GetSpeech&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<hr />\n<p><strong>My temp workaround</strong> is to manually build the node:</p>\n<pre><code>final QName userContextQName = headerManagerQNamesConfiguration.getUserContextQName();\nsoapHeader.addNamespaceDeclaration(userContextQName.getPrefix(), userContextQName.getNamespaceURI());\nfinal SOAPHeaderElement soapHeaderElement = soapHeader.addHeaderElement(userContextQName);\nsoapHeaderElement.addChildElement(&quot;systemName&quot;).setTextContent(userContextDTO.getSystemName());\nsoapHeaderElement.addChildElement(&quot;userName&quot;).setTextContent(userContextDTO.getUserName());\nsoapHeaderElement.addChildElement(&quot;userRoleId&quot;).setTextContent(String.valueOf(userContextDTO.getUserRoleId()));\nsoapHeaderElement.addChildElement(&quot;isUserRoleSystemWide&quot;).setTextContent(String.valueOf(userContextDTO.isUserRoleSystemWide()));\nfinal SOAPElement soapElement = soapHeaderElement.addChildElement(&quot;userRights&quot;);\nfor (Long userRight : userContextDTO.getUserRights()) {\n    soapElement.addChildElement(&quot;userRightId&quot;).setTextContent(String.valueOf(userRight));\n}\nsoapHeaderElement.addChildElement(&quot;jobExecutionId&quot;).setTextContent(String.valueOf(userContextDTO.getJobExecutionId()));\n</code></pre>\n"},{"tags":["java","maven","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":29298550,"reputation":9,"user_id":22447352,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693831242,"creation_date":1693831242,"answer_id":77037794,"question_id":77022215,"body_markdown":"They were part of the openapigenerator-core package for me moving the packages to my main project was enough to fix it.","title":"Missing dependencies in the OpenAPI Generator source code","body":"<p>They were part of the openapigenerator-core package for me moving the packages to my main project was enough to fix it.</p>\n"}],"owner":{"account_id":29298550,"reputation":9,"user_id":22447352,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77037794,"answer_count":1,"score":-1,"last_activity_date":1693831242,"creation_date":1693562877,"question_id":77022215,"body_markdown":"I have downloaded the OpenAPI Generator source code in order to change a few functionalities for my internship. \r\n\r\nBut in doing so I found that org.openapitools.codegen.meta and the org.openapitools.codegen.api are missing from the openapi-generator project. Is it a bug or problem on my part and how to fix it.","title":"Missing dependencies in the OpenAPI Generator source code","body":"<p>I have downloaded the OpenAPI Generator source code in order to change a few functionalities for my internship.</p>\n<p>But in doing so I found that org.openapitools.codegen.meta and the org.openapitools.codegen.api are missing from the openapi-generator project. Is it a bug or problem on my part and how to fix it.</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1693830826,"post_id":77037685,"comment_id":135807930,"body_markdown":"How the log4j2.xml looks like after the change?","body":"How the log4j2.xml looks like after the change?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693838900,"post_id":77037685,"comment_id":135809545,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":25104242,"reputation":15,"user_id":18954580,"display_name":"qwhjrfbgeegbgwdv"},"score":0,"creation_date":1693864458,"post_id":77037787,"comment_id":135813235,"body_markdown":"Exactly what I was looking for. Thank you very much!","body":"Exactly what I was looking for. Thank you very much!"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693831169,"creation_date":1693831169,"answer_id":77037787,"question_id":77037685,"body_markdown":"I am not 100% sure what do you want to archive. But from what I understand, you will filter the message in the different files.\r\n\r\nIf yes you can add a `ThresholdFilter` for the different Appender:\r\n\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;!-- Define a File appender --&gt;\r\n            &lt;File name=&quot;LogHistoryFile&quot; fileName=&quot;logs\\history.${date:yyyy-MM-dd}.log&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n                &lt;ThresholdFilter level=&quot;INFO&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n            &lt;/File&gt;\r\n            &lt;File name=&quot;LogDebugFile&quot; fileName=&quot;logs\\debug.${date:yyyy-MM-dd}.log&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n                &lt;ThresholdFilter level=&quot;DEBUG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;            \r\n            &lt;/File&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;!-- Reference a File appender --&gt;\r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LogHistoryFile&quot; /&gt;\r\n                &lt;AppenderRef ref=&quot;LogDebugFile&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;","title":"Log4j not working with multiple appenders","body":"<p>I am not 100% sure what do you want to archive. But from what I understand, you will filter the message in the different files.</p>\n<p>If yes you can add a <code>ThresholdFilter</code> for the different Appender:</p>\n<pre><code>&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Define a File appender --&gt;\n        &lt;File name=&quot;LogHistoryFile&quot; fileName=&quot;logs\\history.${date:yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n            &lt;ThresholdFilter level=&quot;INFO&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n        &lt;/File&gt;\n        &lt;File name=&quot;LogDebugFile&quot; fileName=&quot;logs\\debug.${date:yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n            &lt;ThresholdFilter level=&quot;DEBUG&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;            \n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Reference a File appender --&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogHistoryFile&quot; /&gt;\n            &lt;AppenderRef ref=&quot;LogDebugFile&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":25104242,"reputation":15,"user_id":18954580,"display_name":"qwhjrfbgeegbgwdv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77037787,"answer_count":1,"score":-1,"last_activity_date":1693831169,"creation_date":1693830274,"question_id":77037685,"body_markdown":"I&#180;m trying to create a simple Login using Apache Tomcat and Java.\r\nFor this I want to log to two different files.\r\n\r\n\r\n```\r\n@WebServlet(&quot;/login&quot;)\r\npublic class ServletLogin extends HttpServlet {\r\n\r\n    private static final Logger logger = LogManager.getLogger(ServletLogin.class);\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n\r\n        if (username != null &amp;&amp; !username.isEmpty() &amp;&amp; password != null &amp;&amp; !password.isEmpty()) {\r\n            if (login(WebServletContextListener.db1, username, password)) {\r\n                HttpSession session = request.getSession();\r\n                session.setAttribute(&quot;username&quot;, username);\r\n                session.setAttribute(&quot;loggedIn&quot;, true);\r\n                logger.info(&quot;Login succeeded for user: {}&quot;, username);\r\n                logger.debug(&quot;Further information...&quot;);\r\n                response.sendRedirect(&quot;jsp/management.jsp&quot;);\r\n                return;\r\n            } else {\r\n                logger.info(&quot;Login failed for user: {}&quot;, username);\r\n                 logger.debug(&quot;Further information...&quot;);\r\n            }\r\n        }\r\n        response.sendRedirect(&quot;jsp/login.jsp?error=1&quot;);\r\n    }\r\n```\r\n\r\nThis is the corresponding log4j2.xml file:\r\n\r\n\r\n```\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;!-- Define a File appender --&gt;\r\n        &lt;File name=&quot;LogHistoryFile&quot; fileName=&quot;logs\\history.${date:yyyy-MM-dd}.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n        &lt;/File&gt;\r\n        &lt;File name=&quot;LogDebugFile&quot; fileName=&quot;logs\\debug.${date:yyyy-MM-dd}.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;!-- Reference a File appender --&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogHistoryFile&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nUnfortunately, when adding to the log4j2.xml a second appender, nothing at all gets logged anymore.\r\n\r\n\r\n```\r\n&lt;Root level=&quot;debug&quot;&gt;\r\n   &lt;AppenderRef ref=&quot;LogDebugFile&quot; /&gt;\r\n&lt;/Root&gt;\r\n```\r\n\r\n\r\n\r\n\r\nMaybe somebody of you have an idea what problem I&#180;m dealing with or even has a thread where this topic has been discussed before.\r\n\r\nThanks for your help!","title":"Log4j not working with multiple appenders","body":"<p>I´m trying to create a simple Login using Apache Tomcat and Java.\nFor this I want to log to two different files.</p>\n<pre><code>@WebServlet(&quot;/login&quot;)\npublic class ServletLogin extends HttpServlet {\n\n    private static final Logger logger = LogManager.getLogger(ServletLogin.class);\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n\n        if (username != null &amp;&amp; !username.isEmpty() &amp;&amp; password != null &amp;&amp; !password.isEmpty()) {\n            if (login(WebServletContextListener.db1, username, password)) {\n                HttpSession session = request.getSession();\n                session.setAttribute(&quot;username&quot;, username);\n                session.setAttribute(&quot;loggedIn&quot;, true);\n                logger.info(&quot;Login succeeded for user: {}&quot;, username);\n                logger.debug(&quot;Further information...&quot;);\n                response.sendRedirect(&quot;jsp/management.jsp&quot;);\n                return;\n            } else {\n                logger.info(&quot;Login failed for user: {}&quot;, username);\n                 logger.debug(&quot;Further information...&quot;);\n            }\n        }\n        response.sendRedirect(&quot;jsp/login.jsp?error=1&quot;);\n    }\n</code></pre>\n<p>This is the corresponding log4j2.xml file:</p>\n<pre><code>&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;!-- Define a File appender --&gt;\n        &lt;File name=&quot;LogHistoryFile&quot; fileName=&quot;logs\\history.${date:yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n        &lt;/File&gt;\n        &lt;File name=&quot;LogDebugFile&quot; fileName=&quot;logs\\debug.${date:yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- Reference a File appender --&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogHistoryFile&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Unfortunately, when adding to the log4j2.xml a second appender, nothing at all gets logged anymore.</p>\n<pre><code>&lt;Root level=&quot;debug&quot;&gt;\n   &lt;AppenderRef ref=&quot;LogDebugFile&quot; /&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Maybe somebody of you have an idea what problem I´m dealing with or even has a thread where this topic has been discussed before.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","android","kotlin","android-relativelayout","android-configchanges"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693829669,"post_id":77037450,"comment_id":135807685,"body_markdown":"&quot;let&#39;s say I have a simple Android app with one RelativeLayout&quot; -- `RelativeLayout` was replaced several years ago by `ConstraintLayout`. &quot;Is there any other way to handle the configuration changes with less efforts?&quot; -- use `ConstraintLayout` and change the constraints.","body":"&quot;let&#39;s say I have a simple Android app with one RelativeLayout&quot; -- <code>RelativeLayout</code> was replaced several years ago by <code>ConstraintLayout</code>. &quot;Is there any other way to handle the configuration changes with less efforts?&quot; -- use <code>ConstraintLayout</code> and change the constraints."},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1693894119,"post_id":77037450,"comment_id":135815590,"body_markdown":"@CommonsWare, Even if I use a ConstraintLayout I would be changing the constraints for each view on config change. How does this solve the problem? I&#39;m not using ConstraintLayout as I&#39;m using absolute positioning i.e. button.x = 100F","body":"@CommonsWare, Even if I use a ConstraintLayout I would be changing the constraints for each view on config change. How does this solve the problem? I&#39;m not using ConstraintLayout as I&#39;m using absolute positioning i.e. button.x = 100F"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693912447,"post_id":77037450,"comment_id":135819041,"body_markdown":"&quot;I&#39;m not using ConstraintLayout as I&#39;m using absolute positioning i.e. button.x = 100F&quot; -- that approach has not worked well in a long, long time. Regardless, if you are going to create your UI programmatically, you are going to need to deal with configuration changes programmatically.","body":"&quot;I&#39;m not using ConstraintLayout as I&#39;m using absolute positioning i.e. button.x = 100F&quot; -- that approach has not worked well in a long, long time. Regardless, if you are going to create your UI programmatically, you are going to need to deal with configuration changes programmatically."}],"answers":[{"tags":[],"owner":{"account_id":9001236,"reputation":21,"user_id":6709800,"display_name":"Rashid"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693828470,"creation_date":1693828470,"answer_id":77037477,"question_id":77037450,"body_markdown":"use following liberties\r\n\r\n      implementation &#39;com.intuit.sdp:sdp-android:1.1.0&#39;\r\n      implementation &#39;com.intuit.ssp:ssp-android:1.1.0&#39;\r\n\r\n ","title":"How to handle configuration changes (Screen orientation, App display size etc) in Android programatically","body":"<p>use following liberties</p>\n<pre><code>  implementation 'com.intuit.sdp:sdp-android:1.1.0'\n  implementation 'com.intuit.ssp:ssp-android:1.1.0'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1693828801,"post_id":77037501,"comment_id":135807527,"body_markdown":"I&#39;m creating my views programmatically without XML.","body":"I&#39;m creating my views programmatically without XML."},{"owner":{"account_id":16291299,"reputation":89,"user_id":11764718,"display_name":"Rameswar Tarai"},"score":0,"creation_date":1693829054,"post_id":77037501,"comment_id":135807570,"body_markdown":"what do you mean by changing xy height","body":"what do you mean by changing xy height"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1693829444,"post_id":77037501,"comment_id":135807649,"body_markdown":"In portrait, button and text field are one below the other, let say button.y = 100, textfeild.y = 400. Now to make their position adjacent to each other in landscape mode I need to update the button.x, button.y, textfeild.x and textfeild.y values","body":"In portrait, button and text field are one below the other, let say button.y = 100, textfeild.y = 400. Now to make their position adjacent to each other in landscape mode I need to update the button.x, button.y, textfeild.x and textfeild.y values"}],"tags":[],"owner":{"account_id":16291299,"reputation":89,"user_id":11764718,"display_name":"Rameswar Tarai"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693831026,"creation_date":1693828691,"answer_id":77037501,"question_id":77037450,"body_markdown":" \r\n - You need to have at least one root layout to create your activity.\r\nlet it be LinearLayout\r\n\r\n - add  your views (TextView, Button) programmatically to your LinearLayout\r\n\r\n - Add respective parameters(margin, padding, etc.)\r\n\r\n - add different parameters according to your requirement \r\n\r\n - in the end add the programmatically created views to your root view.\r\n\r\neg:-\r\n\r\n    private TextView getTextView(String text) {\r\n        TextView textView = new TextView(MyLeaveActivity.this);\r\n        textView.setText(text);\r\n        textView.setPadding(20, 20, 20, 20);\r\n        textView.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\r\n\r\n        return textView;\r\n    }\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_leave);\r\n        LinearLayout rootView=findViewById(R.id.maintable);\r\n        TextView l1 = getTextView(data.getSrNo());\r\n        final TableRow row = new TableRow(MyLeaveActivity.this);\r\n        row.addView(l1, new TableRow.LayoutParams());\r\n        rootView.addView(row, new TableLayout.LayoutParams());\r\n}\r\n\r\n\r\n","title":"How to handle configuration changes (Screen orientation, App display size etc) in Android programatically","body":"<ul>\n<li><p>You need to have at least one root layout to create your activity.\nlet it be LinearLayout</p>\n</li>\n<li><p>add  your views (TextView, Button) programmatically to your LinearLayout</p>\n</li>\n<li><p>Add respective parameters(margin, padding, etc.)</p>\n</li>\n<li><p>add different parameters according to your requirement</p>\n</li>\n<li><p>in the end add the programmatically created views to your root view.</p>\n</li>\n</ul>\n<p>eg:-</p>\n<pre><code>private TextView getTextView(String text) {\n    TextView textView = new TextView(MyLeaveActivity.this);\n    textView.setText(text);\n    textView.setPadding(20, 20, 20, 20);\n    textView.setTextAlignment(TextView.TEXT_ALIGNMENT_CENTER);\n\n    return textView;\n}\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_my_leave);\n    LinearLayout rootView=findViewById(R.id.maintable);\n    TextView l1 = getTextView(data.getSrNo());\n    final TableRow row = new TableRow(MyLeaveActivity.this);\n    row.addView(l1, new TableRow.LayoutParams());\n    rootView.addView(row, new TableLayout.LayoutParams());\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693831026,"creation_date":1693828152,"question_id":77037450,"body_markdown":"Yes, there are already a lot of answers available on stack overflow on the same topic, most of them stating the following approach:\r\n\r\nManifest.xml:\r\n\r\n    &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\r\n    &lt;/activity&gt;\r\n\r\nManually handling config changes:\r\n\r\n    override fun onConfigurationChanged (newConfig: Configuration) {\r\n\r\n        super.onConfigurationChanged (newConfig)\r\n        \r\n        if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n\r\n            // TODO block 1:\r\n            \r\n        } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n\r\n            // TODO block 2:\r\n        }\r\n    }\r\n\r\nNow, let&#39;s say I have a simple Android app with one RelativeLayout that contains a button and a text field(EditView). The complete app has been programmatically designed.\r\n\r\nIn portrait mode: The text field and button are one below the other as shown,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn landscape mode, I want the text field and button to be adjacent to each other, to do so I&#39;ll be changing the x, y, height, width, etc inside the TODO block 2 in above mentioned onConfigurationChanged method.\r\n\r\nsimilarly, to handle changes in the app display size (multi-window, multi-screen flip devices) I need to do something similar. (Right now, I don&#39;t know how to handle these changes). \r\n\r\nFow now there are just two views in my relative layout: a button and a text field (EditView), let&#39;s say when there are 50-60 views in my activity I need to change the x, y, height, and width for each of the view and for each of the scenarios (screen orientation, app display size, etc).\r\n\r\nThis seems very tedious to do and maintain for a long time, Is there any other way to handle the configuration changes with less efforts?\r\n\r\nNote: My whole application is design programmatically and without jetpack compose.\r\n\r\nPS: Android docs also does mention that above way isn&#39;t the prefered one\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI also went through [this link][3], but didn&#39;t seem to be useful for the above scenarios. (correct me if I&#39;m wrong) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r8bUcm.png\r\n  [2]: https://i.stack.imgur.com/HvTvl.png\r\n  [3]: https://developer.android.com/topic/libraries/architecture/saving-states","title":"How to handle configuration changes (Screen orientation, App display size etc) in Android programatically","body":"<p>Yes, there are already a lot of answers available on stack overflow on the same topic, most of them stating the following approach:</p>\n<p>Manifest.xml:</p>\n<pre><code>&lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:configChanges=&quot;orientation|screenSize|screenLayout|keyboardHidden&quot;\n&lt;/activity&gt;\n</code></pre>\n<p>Manually handling config changes:</p>\n<pre><code>override fun onConfigurationChanged (newConfig: Configuration) {\n\n    super.onConfigurationChanged (newConfig)\n    \n    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n\n        // TODO block 1:\n        \n    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) {\n\n        // TODO block 2:\n    }\n}\n</code></pre>\n<p>Now, let's say I have a simple Android app with one RelativeLayout that contains a button and a text field(EditView). The complete app has been programmatically designed.</p>\n<p>In portrait mode: The text field and button are one below the other as shown,</p>\n<p><a href=\"https://i.stack.imgur.com/r8bUcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r8bUcm.png\" alt=\"enter image description here\" /></a></p>\n<p>In landscape mode, I want the text field and button to be adjacent to each other, to do so I'll be changing the x, y, height, width, etc inside the TODO block 2 in above mentioned onConfigurationChanged method.</p>\n<p>similarly, to handle changes in the app display size (multi-window, multi-screen flip devices) I need to do something similar. (Right now, I don't know how to handle these changes).</p>\n<p>Fow now there are just two views in my relative layout: a button and a text field (EditView), let's say when there are 50-60 views in my activity I need to change the x, y, height, and width for each of the view and for each of the scenarios (screen orientation, app display size, etc).</p>\n<p>This seems very tedious to do and maintain for a long time, Is there any other way to handle the configuration changes with less efforts?</p>\n<p>Note: My whole application is design programmatically and without jetpack compose.</p>\n<p>PS: Android docs also does mention that above way isn't the prefered one</p>\n<p><a href=\"https://i.stack.imgur.com/HvTvl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HvTvl.png\" alt=\"enter image description here\" /></a></p>\n<p>I also went through <a href=\"https://developer.android.com/topic/libraries/architecture/saving-states\" rel=\"nofollow noreferrer\">this link</a>, but didn't seem to be useful for the above scenarios. (correct me if I'm wrong)</p>\n"},{"tags":["java","android","flutter","dart","build.gradle"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693837823,"post_id":77036084,"comment_id":135809303,"body_markdown":"Did you run it with --stacktrace? What was the result?","body":"Did you run it with --stacktrace? What was the result?"}],"answers":[{"comments":[{"owner":{"account_id":29361550,"reputation":1,"user_id":22496169,"display_name":"Sher Ali"},"score":0,"creation_date":1693855442,"post_id":77037701,"comment_id":135812213,"body_markdown":"This one works. Thank you so much for helping","body":"This one works. Thank you so much for helping"}],"tags":[],"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693830447,"creation_date":1693830447,"answer_id":77037701,"question_id":77036084,"body_markdown":"You need to download build tools version 30.0.3 and platform-30 SDK if you&#39;re using it to compile. Check your File&gt;Project Structure and download the required one (30.0.3) using Tools&gt;SDK Manager. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iJHF1.png\r\n  [2]: https://i.stack.imgur.com/n4iLa.png","title":"Failed to find Build Tools revision 30.0.3 Facing this issue in flutter while running App in Android emulator","body":"<p>You need to download build tools version 30.0.3 and platform-30 SDK if you're using it to compile. Check your File&gt;Project Structure and download the required one (30.0.3) using Tools&gt;SDK Manager.\n<a href=\"https://i.stack.imgur.com/iJHF1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iJHF1.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/n4iLa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n4iLa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29361550,"reputation":1,"user_id":22496169,"display_name":"Sher Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693830447,"creation_date":1693814976,"question_id":77036084,"body_markdown":"Launching lib\\main.dart on Android SDK built for x86 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to find Build Tools revision 30.0.3\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5m 10s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\nI try everything. I means Youtube, ChatGpt , google , posts in groups, ask from others, but i can&#39;t find any solution of this. problem. The Problem is when i create the app in Android studio. I can run it every platform only it is not running in android Studio. I run it on web it is running but when i run the same app on android studio it issues me this error ","title":"Failed to find Build Tools revision 30.0.3 Facing this issue in flutter while running App in Android emulator","body":"<p>Launching lib\\main.dart on Android SDK built for x86 in debug mode...\nRunning Gradle task 'assembleDebug'...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Failed to find Build Tools revision 30.0.3</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 5m 10s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>I try everything. I means Youtube, ChatGpt , google , posts in groups, ask from others, but i can't find any solution of this. problem. The Problem is when i create the app in Android studio. I can run it every platform only it is not running in android Studio. I run it on web it is running but when i run the same app on android studio it issues me this error</p>\n"},{"tags":["java","azure-active-directory","msal","spring-resource-server"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1693806376,"post_id":77034531,"comment_id":135803855,"body_markdown":"In the client app, you need to use a scope defined on the API app registration (Expose an API page). That should give you an access token that is valid for your API.","body":"In the client app, you need to use a scope defined on the API app registration (Expose an API page). That should give you an access token that is valid for your API."},{"owner":{"account_id":184943,"reputation":35,"user_id":421331,"display_name":"AMIT VISHWAKARMA"},"score":0,"creation_date":1693816579,"post_id":77034531,"comment_id":135805350,"body_markdown":"I have tried by adding API app registration in scope. Then I am not able to login into app after adding it because Spring web app automatically requesting for UserInfo endpoint. There it is getting failed to authentication using generated token.","body":"I have tried by adding API app registration in scope. Then I am not able to login into app after adding it because Spring web app automatically requesting for UserInfo endpoint. There it is getting failed to authentication using generated token."},{"owner":{"account_id":184943,"reputation":35,"user_id":421331,"display_name":"AMIT VISHWAKARMA"},"score":0,"creation_date":1693816625,"post_id":77034531,"comment_id":135805358,"body_markdown":"2023-09-04T13:57:15.090+05:30 DEBUG 5880 --- [ctor-http-nio-3] o.s.s.w.s.a.AuthenticationWebFilter      : Authentication failed: [invalid_user_info_response] An error occurred reading the UserInfo response: [invalid_user_info_response]","body":"2023-09-04T13:57:15.090+05:30 DEBUG 5880 --- [ctor-http-nio-3] o.s.s.w.s.a.AuthenticationWebFilter      : Authentication failed: [invalid_user_info_response] An error occurred reading the UserInfo response: [invalid_user_info_response]"}],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7657,"user_id":18229928,"display_name":"Rukmini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693830341,"creation_date":1693830341,"answer_id":77037694,"question_id":77034531,"body_markdown":"I created an **`BackendApp`** and Exposed an API like below:\r\n\r\n![enter image description here](https://i.imgur.com/wGwMkoR.png)\r\n\r\nIn **`FrontendApp`**, granted below API permissions:\r\n\r\n![enter image description here](https://i.imgur.com/Gk466TR.png)\r\n\r\nIn OBO flow, the web API is used as an identity and then it is used to call any other Web API.\r\n\r\nI generated authorization code by using below endpoint:\r\n\r\nMake sure to use **scope** as **`api://ClientID/.default`**\r\n\r\n ```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/authorize?\r\n&amp;client_id=FrontendClientID\r\n&amp;response_type=code\r\n&amp;redirect_uri=https://jwt.ms\r\n&amp;response_mode=query\r\n&amp;scope=api://BackendID/.default\r\n&amp;state=12345\r\n```\r\n![enter image description here](https://i.imgur.com/t33BBEy.png)\r\n\r\nI generated **access token** using below parameters via Postman:\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\nscope:api://WebAPIID/.default\r\ncode:code\r\nredirect_uri:https://jwt.ms\r\ngrant_type:authorization_code\r\nclient_secret:ClientSecret\r\n```\r\n![enter image description here](https://i.imgur.com/chEL5TK.png)\r\n\r\n&gt; **Note** that: Using the OBO flow and passing the above access token as assertion you can call any API such as web API or Microsoft Graph.\r\n\r\nFor **sample**, I added API permissions in the `BackendApp` so I can call the Web API:\r\n\r\n![enter image description here](https://i.imgur.com/xRPSv4s.png)\r\n\r\nI used the **OBO flow** to generate access token for Web API:\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\nclient_secret:ClientSecret\r\ngrant_type:urn:ietf:params:oauth:grant-type:jwt-bearer\r\nassertion:access_token\r\nrequested_token_use:on_behalf_of\r\nscope:api://WebAPIClientID/.default\r\n```\r\n![enter image description here](https://i.imgur.com/8mvPvyl.png)\r\n\r\nWhen I decoded the access token the **aud** is ClientID:\r\n\r\n![enter image description here](https://i.imgur.com/6XsM0jF.png)\r\n\r\nIf you want to call **user endpoint,** then pass the scope as **`https://graph.microsoft.com/.defaut`** while generating the access token in OBO flow,\r\n\r\nTo do the same in Spring and Java, **refer** the below GitHub Blog:\r\n\r\n[ms-identity-java-webapi/README.md at master &#183; Azure-Samples/ms-identity-java-webapi &#183; GitHub](https://github.com/Azure-Samples/ms-identity-java-webapi/blob/master/README.md) by sangonzal\r\n","title":"Getting default aud claim value in access token. How can I get client ID/app ID uri in aud claim?","body":"<p>I created an <strong><code>BackendApp</code></strong> and Exposed an API like below:</p>\n<p><img src=\"https://i.imgur.com/wGwMkoR.png\" alt=\"enter image description here\" /></p>\n<p>In <strong><code>FrontendApp</code></strong>, granted below API permissions:</p>\n<p><img src=\"https://i.imgur.com/Gk466TR.png\" alt=\"enter image description here\" /></p>\n<p>In OBO flow, the web API is used as an identity and then it is used to call any other Web API.</p>\n<p>I generated authorization code by using below endpoint:</p>\n<p>Make sure to use <strong>scope</strong> as <strong><code>api://ClientID/.default</code></strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/authorize?\n&amp;client_id=FrontendClientID\n&amp;response_type=code\n&amp;redirect_uri=https://jwt.ms\n&amp;response_mode=query\n&amp;scope=api://BackendID/.default\n&amp;state=12345\n</code></pre>\n<p><img src=\"https://i.imgur.com/t33BBEy.png\" alt=\"enter image description here\" /></p>\n<p>I generated <strong>access token</strong> using below parameters via Postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\nscope:api://WebAPIID/.default\ncode:code\nredirect_uri:https://jwt.ms\ngrant_type:authorization_code\nclient_secret:ClientSecret\n</code></pre>\n<p><img src=\"https://i.imgur.com/chEL5TK.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p><strong>Note</strong> that: Using the OBO flow and passing the above access token as assertion you can call any API such as web API or Microsoft Graph.</p>\n</blockquote>\n<p>For <strong>sample</strong>, I added API permissions in the <code>BackendApp</code> so I can call the Web API:</p>\n<p><img src=\"https://i.imgur.com/xRPSv4s.png\" alt=\"enter image description here\" /></p>\n<p>I used the <strong>OBO flow</strong> to generate access token for Web API:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\nclient_secret:ClientSecret\ngrant_type:urn:ietf:params:oauth:grant-type:jwt-bearer\nassertion:access_token\nrequested_token_use:on_behalf_of\nscope:api://WebAPIClientID/.default\n</code></pre>\n<p><img src=\"https://i.imgur.com/8mvPvyl.png\" alt=\"enter image description here\" /></p>\n<p>When I decoded the access token the <strong>aud</strong> is ClientID:</p>\n<p><img src=\"https://i.imgur.com/6XsM0jF.png\" alt=\"enter image description here\" /></p>\n<p>If you want to call <strong>user endpoint,</strong> then pass the scope as <strong><code>https://graph.microsoft.com/.defaut</code></strong> while generating the access token in OBO flow,</p>\n<p>To do the same in Spring and Java, <strong>refer</strong> the below GitHub Blog:</p>\n<p><a href=\"https://github.com/Azure-Samples/ms-identity-java-webapi/blob/master/README.md\" rel=\"nofollow noreferrer\">ms-identity-java-webapi/README.md at master · Azure-Samples/ms-identity-java-webapi · GitHub</a> by sangonzal</p>\n"}],"owner":{"account_id":184943,"reputation":35,"user_id":421331,"display_name":"AMIT VISHWAKARMA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693830341,"creation_date":1693785736,"question_id":77034531,"body_markdown":"I have created two app registration in azure ad identity service. First one as api ( for Web Rest API) and second one as client ( Web Application). Means generated secret key for client and generated app ID uri for api app registration. Then given access to api to client registration. I have used single tenant option and added client ID as known client in manifest of api registration.\r\n\r\n\r\n    https://login.microsoftonline.com/{tenant-id}/oauth2/v2.0/authorize?client_id=sample_client_id&amp;response_type=code&amp;redirect_uri=http://localhost/login/oauth2/code/azure&amp;response_mode=query&amp;scope=email openid offline_access\r\n\r\nWhen I am calling authorize endpoint (v2.0) with &quot;clientid&quot; and &quot;scope(email, openid, offline_access)&quot; then getting temporary Authorization code. Using that temporary  code I am requesting for access token using token endpoint using grant type &quot;Authorization_code&quot; and passing same scope and client ID.\r\n\r\nWhen I am debugging this access token then I am not getting client ID in aud claim. I want to use this token to generate on_behalf_of token for API by passing this access token as assertion to token endpoint. I am passing appiduri as scope to this obo request. So that I can use this newly generated access token to call API from client app.\r\n\r\n    ConfidentialClientApplication clientApp = ConfidentialClientApplication\r\n\t\t\t\t.builder(clientId, ClientCredentialFactory.createFromSecret(clientSecret)).authority(authority).build();\r\n\t\t\r\n\t\tSet&lt;String&gt; scopes = new HashSet&lt;&gt;();\r\n\t\tscopes.add(appIdUri + &quot;/.default&quot;);\r\n\t\tUserAssertion assertion = new UserAssertion(accessToken);\r\n\t\tOnBehalfOfParameters params = OnBehalfOfParameters.builder(scopes, assertion).build();\t\t\r\n\t\tCompletableFuture&lt;IAuthenticationResult&gt; result = clientApp.acquireToken(params);\r\n\t\tString userInfoAccessToken = result.get().accessToken();\r\n\r\nI am getting error from token endpoint.\r\n\r\nI am using spring and msal Java library for implementation.\r\n\r\n\r\n\r\nPlease help how can I get correct aud claim or can generate obo token for api.","title":"Getting default aud claim value in access token. How can I get client ID/app ID uri in aud claim?","body":"<p>I have created two app registration in azure ad identity service. First one as api ( for Web Rest API) and second one as client ( Web Application). Means generated secret key for client and generated app ID uri for api app registration. Then given access to api to client registration. I have used single tenant option and added client ID as known client in manifest of api registration.</p>\n<pre><code>https://login.microsoftonline.com/{tenant-id}/oauth2/v2.0/authorize?client_id=sample_client_id&amp;response_type=code&amp;redirect_uri=http://localhost/login/oauth2/code/azure&amp;response_mode=query&amp;scope=email openid offline_access\n</code></pre>\n<p>When I am calling authorize endpoint (v2.0) with &quot;clientid&quot; and &quot;scope(email, openid, offline_access)&quot; then getting temporary Authorization code. Using that temporary  code I am requesting for access token using token endpoint using grant type &quot;Authorization_code&quot; and passing same scope and client ID.</p>\n<p>When I am debugging this access token then I am not getting client ID in aud claim. I want to use this token to generate on_behalf_of token for API by passing this access token as assertion to token endpoint. I am passing appiduri as scope to this obo request. So that I can use this newly generated access token to call API from client app.</p>\n<pre><code>ConfidentialClientApplication clientApp = ConfidentialClientApplication\n            .builder(clientId, ClientCredentialFactory.createFromSecret(clientSecret)).authority(authority).build();\n    \n    Set&lt;String&gt; scopes = new HashSet&lt;&gt;();\n    scopes.add(appIdUri + &quot;/.default&quot;);\n    UserAssertion assertion = new UserAssertion(accessToken);\n    OnBehalfOfParameters params = OnBehalfOfParameters.builder(scopes, assertion).build();      \n    CompletableFuture&lt;IAuthenticationResult&gt; result = clientApp.acquireToken(params);\n    String userInfoAccessToken = result.get().accessToken();\n</code></pre>\n<p>I am getting error from token endpoint.</p>\n<p>I am using spring and msal Java library for implementation.</p>\n<p>Please help how can I get correct aud claim or can generate obo token for api.</p>\n"},{"tags":["java","optimization","jvm","jit"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693796936,"post_id":77034867,"comment_id":135803103,"body_markdown":"If `spin` was declared as `volatile` that might be sufficient.  But check the native code emitted by the JIT compiler.  Another way would be to do a useless calculation in the loop and assign the result to a field.","body":"If <code>spin</code> was declared as <code>volatile</code> that might be sufficient.  But check the native code emitted by the JIT compiler.  Another way would be to do a useless calculation in the loop and assign the result to a field."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693797798,"post_id":77034867,"comment_id":135803146,"body_markdown":"Perhaps [Thread.onSpinWait()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#onSpinWait())?","body":"Perhaps <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#onSpinWait()\" rel=\"nofollow noreferrer\">Thread.onSpinWait()</a>?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1693812343,"post_id":77034867,"comment_id":135804714,"body_markdown":"does this solve your issue? https://eclipse.dev/openj9/docs/jit/","body":"does this solve your issue? <a href=\"https://eclipse.dev/openj9/docs/jit/\" rel=\"nofollow noreferrer\">eclipse.dev/openj9/docs/jit</a>"},{"owner":{"account_id":5703111,"reputation":651,"user_id":12982817,"display_name":"Ymi"},"score":0,"creation_date":1693812623,"post_id":77034867,"comment_id":135804751,"body_markdown":"onSpinWait() seems to work. @VGR please put it as an answer.","body":"onSpinWait() seems to work. @VGR please put it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693830324,"creation_date":1693830324,"answer_id":77037691,"question_id":77034867,"body_markdown":"`Thread.onSpinWait()` is made for this very purpose.  The [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#onSpinWait()) even shows an example:\r\n\r\n    volatile boolean eventNotificationNotReceived;\r\n\r\n    void waitForEventAndHandleIt() {\r\n        while (eventNotificationNotReceived) {\r\n            Thread.onSpinWait();\r\n        }\r\n        readAndProcessEvent();\r\n    }\r\n","title":"Busy Spin in Java: Prevent Compiler/JIT optimization","body":"<p><code>Thread.onSpinWait()</code> is made for this very purpose.  The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#onSpinWait()\" rel=\"nofollow noreferrer\">documentation</a> even shows an example:</p>\n<pre><code>volatile boolean eventNotificationNotReceived;\n\nvoid waitForEventAndHandleIt() {\n    while (eventNotificationNotReceived) {\n        Thread.onSpinWait();\n    }\n    readAndProcessEvent();\n}\n</code></pre>\n"}],"owner":{"account_id":5703111,"reputation":651,"user_id":12982817,"display_name":"Ymi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77037691,"answer_count":1,"score":0,"last_activity_date":1693830324,"creation_date":1693796627,"question_id":77034867,"body_markdown":"I am trying to perform busy spins in a Java program, and want to prevent the compiler or JIT from optimizing away the code. The code is a simple loop:\r\n\r\n```java\r\nfor (int i = 0; i &lt; spins; i++) {\r\n}\r\n```\r\nwhere spins is the input.\r\n\r\nHow can I prevent this piece of code from being optimized away?","title":"Busy Spin in Java: Prevent Compiler/JIT optimization","body":"<p>I am trying to perform busy spins in a Java program, and want to prevent the compiler or JIT from optimizing away the code. The code is a simple loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; spins; i++) {\n}\n</code></pre>\n<p>where spins is the input.</p>\n<p>How can I prevent this piece of code from being optimized away?</p>\n"},{"tags":["java","spring-boot","spring-integration","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":7700422,"reputation":362,"user_id":5833218,"accept_rate":100,"display_name":"Kavindu Gayan"},"score":0,"creation_date":1693824805,"post_id":77037000,"comment_id":135806793,"body_markdown":"The socket timeout, in particular, determines how long your application waits for data from the server before timing out. If you&#39;re experiencing an 8-second gap, it might be due to the setSocketTimeout(8000) configuration, and you can adjust it accordingly.","body":"The socket timeout, in particular, determines how long your application waits for data from the server before timing out. If you&#39;re experiencing an 8-second gap, it might be due to the setSocketTimeout(8000) configuration, and you can adjust it accordingly."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1693825249,"post_id":77037000,"comment_id":135806857,"body_markdown":"I&#39;m fine with the timeout occurring after 8 seconds, but if you examine the timestamps in the logs, you&#39;ll notice that it takes an additional 7-8 seconds to close the connection. This delay ends up causing the overall response time of the application to exceed 8 seconds.","body":"I&#39;m fine with the timeout occurring after 8 seconds, but if you examine the timestamps in the logs, you&#39;ll notice that it takes an additional 7-8 seconds to close the connection. This delay ends up causing the overall response time of the application to exceed 8 seconds."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1693921964,"post_id":77037000,"comment_id":135821254,"body_markdown":"Any chances to have a simple project from you to play with and reproduce? According to your explanation, it looks like you&#39;d like to not have a delay between `Close connection` and `Shutdown connection` events.","body":"Any chances to have a simple project from you to play with and reproduce? According to your explanation, it looks like you&#39;d like to not have a delay between <code>Close connection</code> and <code>Shutdown connection</code> events."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1693933099,"post_id":77037000,"comment_id":135823795,"body_markdown":"Yes Artem, I&#39;d like to eliminate the additional delay that occurs after a read timeout before shutting down the connection, especially when operating in a high-load, multi-threaded environment.","body":"Yes Artem, I&#39;d like to eliminate the additional delay that occurs after a read timeout before shutting down the connection, especially when operating in a high-load, multi-threaded environment."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1693933303,"post_id":77037000,"comment_id":135823845,"body_markdown":"I didn&#39;t quite understand your request. Could you please clarify how I can send the project to you?","body":"I didn&#39;t quite understand your request. Could you please clarify how I can send the project to you?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1694179709,"post_id":77037000,"comment_id":135861313,"body_markdown":"Via public GitHub repository. Then I&#39;ll pull it locally, build and run to see what is going on. Perhaps using debug on those Apache HTTP Client classes... Of course, you can debug it yourself and determine what takes some time in the connection pool between those two events on the connection.","body":"Via public GitHub repository. Then I&#39;ll pull it locally, build and run to see what is going on. Perhaps using debug on those Apache HTTP Client classes... Of course, you can debug it yourself and determine what takes some time in the connection pool between those two events on the connection."}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693829867,"creation_date":1693823650,"question_id":77037000,"body_markdown":"I&#39;m currently developing an application using Java 11 and Spring Boot. Within this application, I make calls to two external REST APIs using the RestTemplate library. Below, you&#39;ll find the configuration for my Apache HttpClient:\r\n\r\n```\r\n@Bean\r\n  public RestTemplate proxyRestTemplate() {\r\n    HttpHost proxy = new HttpHost(HTTP_PROXY_HOST, HTTP_PROXY_PORT);\r\n    RequestConfig requestConfig =\r\n        RequestConfig.custom()\r\n            .setProxy(proxy)\r\n            .setCircularRedirectsAllowed(false)\r\n            .setRedirectsEnabled(false)\r\n            .setConnectionRequestTimeout(2000)\r\n            .setConnectTimeout(2000)\r\n            .setSocketTimeout(8000)\r\n            .build();\r\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n    connectionManager.setMaxTotal(40);\r\n    connectionManager.setDefaultMaxPerRoute(20);\r\n    connectionManager.closeExpiredConnections();\r\n\r\n    CloseableHttpClient httpClient =\r\n        HttpClientBuilder.create()\r\n            .setConnectionManager(connectionManager)\r\n            .setDefaultRequestConfig(requestConfig)\r\n            .setConnectionManagerShared(true)\r\n            .disableAutomaticRetries()\r\n            .setConnectionTimeToLive(1, TimeUnit.MINUTES)\r\n            .build();\r\n\r\n    HttpComponentsClientHttpRequestFactory requestFactory =\r\n        new HttpComponentsClientHttpRequestFactory(httpClient);\r\n    return new RestTemplate(requestFactory);\r\n  }\r\n```\r\n\r\nWith this configuration, I make calls to two APIs using Spring Integration&#39;s `Http.outboundGateway()`\r\n\r\n```\r\n  public IntegrationFlow getDecision() {\r\n    return flow -&gt; {\r\n      flow.channel(c -&gt; c.executor(getAsyncExecutor()))\r\n          .handle(\r\n              Http.outboundGateway(myURL, restTemplateConfig.proxyRestTemplate())\r\n                  .mappedRequestHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;)\r\n                  .extractPayload(true)\r\n                  .httpMethod(HttpMethod.POST)\r\n                  .expectedResponseType(String.class));\r\n    };\r\n  }\r\n```\r\n\r\nAfter the read timeout occurs, there is an additional delay of 7-8 seconds before the connection is closed and released back to the connection pool. As a result, my application&#39;s total response time increases to 15-16 seconds, even though my read timeout is set to only 8 seconds. Here are the corresponding log entries for reference:\r\n\r\n```\r\nDEBUG 2023-09-03T21:00:50.646440127Z [resource.labels.containerName: my-service] http-outgoing-9 &gt;&gt; &quot;{&quot;request&quot;:{&quot;Demo request&quot;:&quot;&quot;}\r\nDEBUG 2023-09-03T21:00:58.651312241Z [resource.labels.containerName: my-service] http-outgoing-9 &lt;&lt; &quot;[read] I/O error: Read timed out&quot;\r\nDEBUG 2023-09-03T21:00:58.651390941Z [resource.labels.containerName: my-service] http-outgoing-9: Close connection\r\nDEBUG 2023-09-03T21:01:06.657634687Z [resource.labels.containerName: my-service] http-outgoing-9: Shutdown connection\r\nDEBUG 2023-09-03T21:01:06.657706848Z [resource.labels.containerName: my-service] Connection discarded\r\nDEBUG 2023-09-03T21:01:06.657729276Z [resource.labels.containerName: my-service] Connection released: [id: 9][route: {tls}-&gt;http://ep.threatpulse.net:80-&gt;https://api.xyz.com:443][total available: 3; route allocated: 3 of 20; total allocated: 4 of 40]\r\n```\r\n","title":"After a read timeout, it takes time to shut down the connection in Apache HttpClient","body":"<p>I'm currently developing an application using Java 11 and Spring Boot. Within this application, I make calls to two external REST APIs using the RestTemplate library. Below, you'll find the configuration for my Apache HttpClient:</p>\n<pre><code>@Bean\n  public RestTemplate proxyRestTemplate() {\n    HttpHost proxy = new HttpHost(HTTP_PROXY_HOST, HTTP_PROXY_PORT);\n    RequestConfig requestConfig =\n        RequestConfig.custom()\n            .setProxy(proxy)\n            .setCircularRedirectsAllowed(false)\n            .setRedirectsEnabled(false)\n            .setConnectionRequestTimeout(2000)\n            .setConnectTimeout(2000)\n            .setSocketTimeout(8000)\n            .build();\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setMaxTotal(40);\n    connectionManager.setDefaultMaxPerRoute(20);\n    connectionManager.closeExpiredConnections();\n\n    CloseableHttpClient httpClient =\n        HttpClientBuilder.create()\n            .setConnectionManager(connectionManager)\n            .setDefaultRequestConfig(requestConfig)\n            .setConnectionManagerShared(true)\n            .disableAutomaticRetries()\n            .setConnectionTimeToLive(1, TimeUnit.MINUTES)\n            .build();\n\n    HttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory(httpClient);\n    return new RestTemplate(requestFactory);\n  }\n</code></pre>\n<p>With this configuration, I make calls to two APIs using Spring Integration's <code>Http.outboundGateway()</code></p>\n<pre><code>  public IntegrationFlow getDecision() {\n    return flow -&gt; {\n      flow.channel(c -&gt; c.executor(getAsyncExecutor()))\n          .handle(\n              Http.outboundGateway(myURL, restTemplateConfig.proxyRestTemplate())\n                  .mappedRequestHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;)\n                  .extractPayload(true)\n                  .httpMethod(HttpMethod.POST)\n                  .expectedResponseType(String.class));\n    };\n  }\n</code></pre>\n<p>After the read timeout occurs, there is an additional delay of 7-8 seconds before the connection is closed and released back to the connection pool. As a result, my application's total response time increases to 15-16 seconds, even though my read timeout is set to only 8 seconds. Here are the corresponding log entries for reference:</p>\n<pre><code>DEBUG 2023-09-03T21:00:50.646440127Z [resource.labels.containerName: my-service] http-outgoing-9 &gt;&gt; &quot;{&quot;request&quot;:{&quot;Demo request&quot;:&quot;&quot;}\nDEBUG 2023-09-03T21:00:58.651312241Z [resource.labels.containerName: my-service] http-outgoing-9 &lt;&lt; &quot;[read] I/O error: Read timed out&quot;\nDEBUG 2023-09-03T21:00:58.651390941Z [resource.labels.containerName: my-service] http-outgoing-9: Close connection\nDEBUG 2023-09-03T21:01:06.657634687Z [resource.labels.containerName: my-service] http-outgoing-9: Shutdown connection\nDEBUG 2023-09-03T21:01:06.657706848Z [resource.labels.containerName: my-service] Connection discarded\nDEBUG 2023-09-03T21:01:06.657729276Z [resource.labels.containerName: my-service] Connection released: [id: 9][route: {tls}-&gt;http://ep.threatpulse.net:80-&gt;https://api.xyz.com:443][total available: 3; route allocated: 3 of 20; total allocated: 4 of 40]\n</code></pre>\n"},{"tags":["java","google-chrome","selenium-webdriver","memory-leaks"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693831453,"post_id":77037555,"comment_id":135808041,"body_markdown":"Capture a head dump and use a heap dump analysis tool like eclipse MAT to find what is using the memory.","body":"Capture a head dump and use a heap dump analysis tool like eclipse MAT to find what is using the memory."},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":1,"creation_date":1693831648,"post_id":77037555,"comment_id":135808073,"body_markdown":"Just some general feedback, your code is a complete mess! I would honestly say you need to re-write all of it with a re-thought-out design. (Also in future perhaps state the Java version you have built an application in as the answers might differ based on your Java version.","body":"Just some general feedback, your code is a complete mess! I would honestly say you need to re-write all of it with a re-thought-out design. (Also in future perhaps state the Java version you have built an application in as the answers might differ based on your Java version."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693833935,"post_id":77037555,"comment_id":135808553,"body_markdown":"You should not expect people here to review a big chunk of code and find some specific line of an issue that happens at execution time. Capture heap dumps at execution time when memory is high and analyze them first.","body":"You should not expect people here to review a big chunk of code and find some specific line of an issue that happens at execution time. Capture heap dumps at execution time when memory is high and analyze them first."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693949649,"post_id":77037555,"comment_id":135826595,"body_markdown":"that first do/while loop looks bad to me...   sort of a mix of do-while and while... and probably infinite.  Then a while with no body afterwards...  hard to follow.  giris1ActionPerformed has some problems with switchTo calls...  but the main cause might be just what you said.. .infinitely repeating and some variable is always getting larger.  Not a leak... but maybe you should poke a hole in it...","body":"that first do/while loop looks bad to me...   sort of a mix of do-while and while... and probably infinite.  Then a while with no body afterwards...  hard to follow.  giris1ActionPerformed has some problems with switchTo calls...  but the main cause might be just what you said.. .infinitely repeating and some variable is always getting larger.  Not a leak... but maybe you should poke a hole in it..."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1693950559,"post_id":77037555,"comment_id":135826706,"body_markdown":"probably need to dispose of things after you write the values.","body":"probably need to dispose of things after you write the values."}],"owner":{"account_id":5127945,"reputation":577,"user_id":4109266,"accept_rate":100,"display_name":"Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693829678,"creation_date":1693829206,"question_id":77037555,"body_markdown":"I created a program that automates a job in my company. I open 3 Chrome tabs, I log into 3 different banks using the giris1ActionPerformed method. After I manually enter the OTPs that come to a phone in the company, I use the giris2ActionPerformed method to navigate to account activities pages for each bank.\r\n\r\nAfter this, I use the baslaActionPerformed method to start my infinitely repeating loop, where I go to each bank one by one, find the newly arrived payments, and write them to a Google e-sheet page. After I do this, I wait 30 seconds and repeat the process.\r\n\r\nThe program works, but there is a memory leak. In a laptop with 16 GB of memory, this program lasts 5 hours. It consumes more and more RAM as time goes on. And in the end, it crashes.\r\n\r\nI do have a thread in the basla method, but I don&#39;t think that is causing the memory leak. Because I don&#39;t keep creating new threads. I just have one thread. And inside that thread, I have an infinite loop.\r\n\r\nI am familiar with debugging but I am not familiar with profiling a software project. Would using the profile tool of Netbeans IDE help find the memory leak?\r\n\r\nI replaced bank passwords and google sheet IDs with &quot;XXX&quot; for privacy.\r\n\r\n```\r\npackage bankaotomasyonu;\r\n\r\nimport com.google.api.client.auth.oauth2.Credential;\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.client.util.store.FileDataStoreFactory;\r\nimport com.google.api.services.sheets.v4.Sheets;\r\nimport com.google.api.services.sheets.v4.SheetsScopes;\r\nimport com.google.api.services.sheets.v4.model.ValueRange;\r\nimport java.awt.Toolkit;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WindowType;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class ControlPanel extends javax.swing.JFrame\r\n{\r\n\tprivate WebDriver driver;\r\n\tprivate String ziraatHandle;\r\n\tprivate String isHandle;\r\n\tprivate String garantiHandle;\r\n\r\n\tprivate Sheets service;\r\n\tprivate float satisFiyatiDakika = 0.06667F;\r\n\tprivate float satisFiyati = 10;\r\n\tprivate float alisFiyati = 14;\r\n\r\n\tprivate final String APPLICATION_NAME = &quot;Bank Automation&quot;;\r\n\tprivate final String CREDENTIALS_FILE_PATH = &quot;/credentialsClient1.json&quot;;\r\n\tprivate final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n\tprivate final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\tprivate final List&lt;String&gt; SCOPES = Collections.singletonList(SheetsScopes.SPREADSHEETS);\r\n\r\n\tpublic ControlPanel()\r\n\t{\r\n\t\tinitComponents();\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n   // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n   private void initComponents()\r\n   {\r\n\r\n      giris1 = new javax.swing.JButton();\r\n      giris2 = new javax.swing.JButton();\r\n      basla = new javax.swing.JButton();\r\n      jScrollPane2 = new javax.swing.JScrollPane();\r\n      errorScreen = new javax.swing.JTextPane();\r\n\r\n      setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n      setTitle(&quot;Ert&#252;rkler Banka&quot;);\r\n\r\n      giris1.setText(&quot;Giriş 1&quot;);\r\n      giris1.addActionListener(new java.awt.event.ActionListener()\r\n      {\r\n         public void actionPerformed(java.awt.event.ActionEvent evt)\r\n         {\r\n            giris1ActionPerformed(evt);\r\n         }\r\n      });\r\n\r\n      giris2.setText(&quot;Giriş 2&quot;);\r\n      giris2.addActionListener(new java.awt.event.ActionListener()\r\n      {\r\n         public void actionPerformed(java.awt.event.ActionEvent evt)\r\n         {\r\n            giris2ActionPerformed(evt);\r\n         }\r\n      });\r\n\r\n      basla.setText(&quot;Başla&quot;);\r\n      basla.addActionListener(new java.awt.event.ActionListener()\r\n      {\r\n         public void actionPerformed(java.awt.event.ActionEvent evt)\r\n         {\r\n            baslaActionPerformed(evt);\r\n         }\r\n      });\r\n\r\n      jScrollPane2.setViewportView(errorScreen);\r\n\r\n      javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n      getContentPane().setLayout(layout);\r\n      layout.setHorizontalGroup(\r\n         layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n         .addGroup(layout.createSequentialGroup()\r\n            .addGap(20, 20, 20)\r\n            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n               .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING)\r\n               .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()\r\n                  .addComponent(giris1)\r\n                  .addGap(18, 18, 18)\r\n                  .addComponent(giris2)\r\n                  .addGap(18, 18, 18)\r\n                  .addComponent(basla)\r\n                  .addGap(0, 335, Short.MAX_VALUE)))\r\n            .addGap(20, 20, 20))\r\n      );\r\n      layout.setVerticalGroup(\r\n         layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n         .addGroup(layout.createSequentialGroup()\r\n            .addGap(20, 20, 20)\r\n            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n               .addComponent(giris1)\r\n               .addComponent(basla)\r\n               .addComponent(giris2))\r\n            .addGap(20, 20, 20)\r\n            .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 204, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n            .addContainerGap(20, Short.MAX_VALUE))\r\n      );\r\n\r\n      pack();\r\n   }// &lt;/editor-fold&gt;                        \r\n\r\n   private void giris1ActionPerformed(java.awt.event.ActionEvent evt)                                       \r\n   {                                           \r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Banka Otomasyon\\\\chromedriver.exe&quot;);\r\n\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\r\n\t\t// Ziraat Bankası\r\n\t\tdriver.get(&quot;https://kurumsal.ziraatbank.com.tr/Transactions/Login/FirstLogin.aspx?customertype=crp&quot;);\r\n\t\tdriver.findElement(By.id(&quot;ctl00_c_CorporateIdentityTextBox&quot;)).sendKeys(&quot;XXX&quot;);\r\n\t\tdriver.findElement(By.id(&quot;ctl00_c_CorporatePinTextBox&quot;)).sendKeys(&quot;XXX&quot;); // 3/6 Ayda bir değişen\r\n\t\tdriver.findElement(By.id(&quot;ctl00_c_CorporateUserNameTextBox&quot;)).sendKeys(&quot;XXX&quot;);\r\n\t\tdriver.findElement(By.id(&quot;ctl00_c_CorporateLoginButton&quot;)).click();\r\n\t\tziraatHandle = driver.getWindowHandle();\r\n\r\n\t\t// İş Bankası\r\n\t\tdriver.switchTo().newWindow(WindowType.TAB);\r\n\t\tdriver.get(&quot;https://www.isbank.com.tr/TicariInternet/Transactions/Login/FirstLogin.aspx&quot;);\r\n\t\tdriver.findElement(By.id(&quot;CustomerNumberTextBox&quot;)).sendKeys(&quot;XXX&quot;);\r\n\t\tdriver.findElement(By.id(&quot;CorporateCustomerNumberTextbox&quot;)).sendKeys(&quot;XXX&quot;);\r\n\t\tdriver.findElement(By.id(&quot;PinTextBox&quot;)).sendKeys(&quot;XXX&quot;); // 3/6 Ayda bir değişen\r\n\t\tdriver.findElement(By.id(&quot;ctl00_t_NextButton&quot;)).click();\r\n\t\tisHandle = driver.getWindowHandle();\r\n\r\n\t\t// Garanti Bankası\r\n\t\tdriver.switchTo().newWindow(WindowType.TAB);\r\n\t\tdriver.get(&quot;https://sube.garantibbva.com.tr/isube/login/login/passwordentrycorporate-tr&quot;);\r\n\t\tdriver.findElement(By.id(&quot;custno&quot;)).sendKeys(&quot;XXX&quot;);\r\n\t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;XXX&quot;); // 3/6 Ayda bir değişen\r\n\t\tdriver.findElement(By.id(&quot;userid&quot;)).sendKeys(&quot;XXX&quot;);\r\n\t\tdriver.findElement(By.id(&quot;formSubmit&quot;)).click();\r\n\t\tgarantiHandle = driver.getWindowHandle();\r\n   }                                      \r\n\r\n   private void giris2ActionPerformed(java.awt.event.ActionEvent evt)                                       \r\n   {                                           \r\n\t\ttry\r\n\t\t{\r\n\t\t\t// Ziraat Bankası - Vadesiz Hesaplarım\r\n\t\t\tdriver.switchTo().window(ziraatHandle);\r\n\t\t\tdriver.switchTo().frame(&quot;mainFrame&quot;);\r\n\t\t\tdriver.findElement(By.xpath(&quot;/html/body/form/div[3]/div[2]/div[1]/&quot;\r\n\t\t\t\t+ &quot;section[1]/div[2]/div[1]/div[1]/div/a&quot;)).click();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t// 5013 NOLU HESAP\r\n\t\t\tdriver.switchTo().frame(&quot;iframe1&quot;);\r\n\t\t\tdriver.findElement(By.id(&quot;ctl00_c_GridDemandDeposit_AccountListSelector&quot;\r\n\t\t\t\t+ &quot;_ctl11_ctl03_AccountName2Panel&quot;)).click();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t// Hesap hareketleri\r\n\t\t\tdriver.switchTo().frame(&quot;mainFrame&quot;);\r\n\t\t\tdriver.findElement(By.id(&quot;ctl00_c_AccountHistoryButton&quot;)).click();\r\n\r\n\t\t\t// İş Bankası - Hesaplar\r\n\t\t\tdriver.switchTo().window(isHandle);\r\n\t\t\tdriver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[3]/div[2]/&quot;\r\n\t\t\t\t+ &quot;div[1]/div[1]/div[1]&quot;)).click();\r\n\r\n\t\t\t// Hesaplarım\r\n\t\t\tdriver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[3]&quot;\r\n\t\t\t\t+ &quot;/div[2]/div[1]/div[1]/div[1]/div[2]/div[1]/div&quot;)).click();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t// Hesap Hareketleri\r\n\t\t\tdriver.findElement(By.cssSelector(&quot;#MenuEntityList_tutorialElement_actions&quot;\r\n\t\t\t\t+ &quot; &gt; div:nth-child(3) &gt; div&quot;)).click();\r\n\r\n\t\t\t// Garanti Bankası -\tHesap ve &#220;r&#252;n\r\n\t\t\tdriver.switchTo().window(garantiHandle);\r\n\t\t\tdriver.findElement(By.id(&quot;primary1&quot;)).click();\r\n\r\n\t\t\t// Hesap\r\n\t\t\tdriver.findElement(By.cssSelector(&quot;#primaryLi1 &gt; ul &gt; li:nth-child(1) &gt; a&quot;)).click();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t// D&#246;nem\r\n\t\t\tdriver.findElement(By.cssSelector(&quot;#dateRangeText &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div&quot;)).click();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t// Son 7 g&#252;n\r\n\t\t\tdriver.findElement(By.xpath(&quot;/html/body/div[2]/div[4]/div[4]/div/div/div/&quot;\r\n\t\t\t\t+ &quot;div/div[3]/div[2]/div[4]/div/div[2]/div/div[2]/div[2]/div[1]/div[2]/&quot;\r\n\t\t\t\t+ &quot;div/form/div[1]/div/div[1]/div[1]/div/div/div/div/div/ul/li[3]/a&quot;)).click();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t// G&#246;r&#252;nt&#252;le\r\n\t\t\tdriver.findElement(By.id(&quot;updateSubmitButton&quot;)).click();\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\t//System.out.println(e);\r\n\t\t\t//e.printStackTrace();\r\n\r\n\t\t\tshowError(&quot;GIRIS 2&quot;, e.toString());\r\n\t\t}\r\n   }                                      \r\n\r\n   private void baslaActionPerformed(java.awt.event.ActionEvent evt)                                      \r\n   {                                          \r\n\t\ttry\r\n\t\t{\r\n\t\t\tfinal HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\t\t\tservice = new Sheets.Builder(httpTransport, JSON_FACTORY, getCredentials(httpTransport))\r\n\t\t\t\t.setApplicationName(APPLICATION_NAME).build();\r\n\r\n\t\t\tnew Thread(new Runnable()\r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run()\r\n\t\t\t\t{\r\n\t\t\t\t\twhile (true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdriver.switchTo().window(ziraatHandle);\r\n\t\t\t\t\t\t\tziraatBank();\r\n\r\n\t\t\t\t\t\t\tdriver.switchTo().window(isHandle);\r\n\t\t\t\t\t\t\tisBank();\r\n\r\n\t\t\t\t\t\t\tdriver.switchTo().window(garantiHandle);\r\n\t\t\t\t\t\t\tgarantiBank();\r\n\r\n\t\t\t\t\t\t\tThread.sleep(30000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (Exception e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//System.out.println(e);\r\n\t\t\t\t\t\t\t//e.printStackTrace();\r\n\r\n\t\t\t\t\t\t\tshowError(&quot;BASLA 2&quot;, e.toString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).start();\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\t//System.out.println(e);\r\n\t\t\t//e.printStackTrace();\r\n\r\n\t\t\tshowError(&quot;BASLA 1&quot;, e.toString());\r\n\t\t}\r\n   }                                     \r\n\r\n\tvoid ziraatBank() throws IOException, GeneralSecurityException, InterruptedException\r\n\t{\r\n\t\tList&lt;Object&gt; lastCustomer;\r\n\t\tString lastAciklama;\r\n\t\tString lastAmount;\r\n\t\tArrayList&lt;String&gt; aciklamaList = new ArrayList&lt;&gt;();\r\n\t\tString aciklama;\r\n\t\tString amountString = &quot;0&quot;;\r\n\t\tString customerName = &quot;&quot;;\r\n\t\tString dekontText;\r\n\t\tString[] dekontTextArray;\r\n\r\n\t\t// Hesap Hareketlerini G&#252;ncelle 1\r\n\t\tdriver.switchTo().frame(&quot;iframe1&quot;);\r\n\t\tboolean successfullRead = false;\r\n\t\twhile (!successfullRead)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tdriver.findElement(By.cssSelector(&quot;#ctl00_InnerContentWrapperPanel &gt; a&quot;)).click();\r\n\t\t\t\tsuccessfullRead = true;\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t}\r\n\t\t}\r\n\t\tsuccessfullRead = false;\r\n\r\n\t\t// Hesap Hareketlerini G&#252;ncelle 2\r\n\t\twhile (!successfullRead)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tdriver.switchTo().frame(&quot;mainFrame&quot;);\r\n\t\t\t\tsuccessfullRead = true;\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t}\r\n\t\t}\r\n\t\tsuccessfullRead = false;\r\n\r\n\t\tfor (short row = 1; row &lt;= 3; row++)\r\n\t\t{\r\n\t\t\tif (&quot;MALTEPE E5 - 5013&quot;.equals(driver.findElement(By.cssSelector(&quot;#ctl00_c_AccountBoxSelector_AccountListSelector_ctl11 &quot;\r\n\t\t\t\t+ &quot;&gt; tbody &gt; tr:nth-child(&quot; + row + &quot;) &gt; td.firstColumn &gt; div:nth-child(1)&quot;)).getText()))\r\n\t\t\t{\r\n\t\t\t\tdriver.findElement(By.cssSelector(&quot;#ctl00_c_AccountBoxSelector_AccountListSelector_ctl11 &quot;\r\n\t\t\t\t\t+ &quot;&gt; tbody &gt; tr:nth-child(&quot; + row + &quot;) &gt; td.firstColumn &gt; div:nth-child(1)&quot;)).click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twhile (!successfullRead)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tdriver.switchTo().frame(&quot;iframe1&quot;);\r\n\t\t\t\tsuccessfullRead = true;\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Find which row is the last customer\r\n\t\tlastCustomer = readLastCustomer(&quot;A1:B1&quot;);\r\n\t\tlastAciklama = lastCustomer.get(0).toString();\r\n\t\tlastAmount = lastCustomer.get(1).toString();\r\n\t\tshort rowNumber = 0;\r\n\r\n\t\tdo\r\n\t\t{\r\n\t\t\trowNumber++;\r\n\t\t\tsuccessfullRead = false;\r\n\t\t\twhile (!successfullRead)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\taciklamaList.add(driver.findElement(By.cssSelector(&quot;#ctl00_c_GridAccountHistoryList&quot;\r\n\t\t\t\t\t\t+ &quot; &gt; tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td.description&quot;)).getText());\r\n\t\t\t\t\tamountString = driver.findElement(By.xpath(&quot;/html/body/form/&quot;\r\n\t\t\t\t\t\t+ &quot;div[3]/div[3]/div[3]/div[1]/div/div[3]/div[2]/div[2]/div/div/&quot;\r\n\t\t\t\t\t\t+ &quot;table/tbody/tr[&quot; + rowNumber + &quot;]/td[4]&quot;)).getText();\r\n\t\t\t\t\tsuccessfullRead = true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (!((lastAciklama.equals(aciklamaList.get(rowNumber - 1))) &amp;&amp; (lastAmount.equals(amountString))));\r\n\r\n\t\t// If last row is the last customer, quit\r\n\t\tif (rowNumber != 1)\r\n\t\t{\r\n\t\t\t// Process new customers (the ones after the last customer)\r\n\t\t\tdo\r\n\t\t\t{\r\n\t\t\t\trowNumber--;\r\n\r\n\t\t\t\taciklama = aciklamaList.get(rowNumber - 1);\r\n\r\n\t\t\t\t// Date\r\n\t\t\t\tString date = driver.findElement(By.cssSelector(&quot;#ctl00_c_GridAccountHistoryList &gt;&quot;\r\n\t\t\t\t\t+ &quot; tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td.firstColumn.nowrap.date&quot;)).\r\n\t\t\t\t\tgetText().replace(&quot;/&quot;, &quot;.&quot;);\r\n\r\n\t\t\t\t// Amount\r\n\t\t\t\tamountString = driver.findElement(By.xpath(&quot;/html/body/form/&quot;\r\n\t\t\t\t\t+ &quot;div[3]/div[3]/div[3]/div[1]/div/div[3]/div[2]/div[2]/div/div/&quot;\r\n\t\t\t\t\t+ &quot;table/tbody/tr[&quot; + rowNumber + &quot;]/td[4]&quot;)).getText();\r\n\t\t\t\tif (amountString.startsWith(&quot;-&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\twriteLastCustomer(&quot;A1:B1&quot;, aciklama, amountString);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfloat amount = Float.parseFloat(amountString.replace(&quot;.&quot;, &quot;&quot;).\r\n\t\t\t\t\treplace(&quot;,&quot;, &quot;.&quot;).replace(&quot; TL&quot;, &quot;&quot;));\r\n\r\n\t\t\t\t// Dekontu a&#231;\r\n\t\t\t\tdriver.findElement(By.cssSelector(&quot;#ctl00_c_GridAccountHistoryList &gt; tbody &gt;&quot;\r\n\t\t\t\t\t+ &quot; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(6) &gt; a&quot;)).click();\r\n\r\n\t\t\t\t// Dekont isim\r\n\t\t\t\tdriver.switchTo().frame(&quot;GenericCustomModalFrame&quot;);\r\n\t\t\t\tdriver.switchTo().frame(&quot;mainFrame&quot;);\r\n\t\t\t\tdekontText = driver.findElement(By.xpath(&quot;/html/body/form/div[3]&quot;\r\n\t\t\t\t\t+ &quot;/div/div[2]/div/table[2]/tbody/tr/td/table[1]/tbody/tr[2]/td/div/&quot;\r\n\t\t\t\t\t+ &quot;table[2]/tbody/tr/td/table/tbody/tr/td[1]&quot;)).getText();\r\n\r\n\t\t\t\t// Dekontu kapat\r\n\t\t\t\tThread.sleep(250);\r\n\t\t\t\tdriver.switchTo().defaultContent();\r\n\t\t\t\tdriver.switchTo().frame(&quot;iframe1&quot;);\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;/html/body/form/div[4]/div/div/div[1]/button&quot;)).click();\r\n\r\n\t\t\t\t// Customer name\r\n\t\t\t\tif (dekontText.contains(&quot;Bor&#231;lu Adı Soyadı : &quot;)) // Mobil havale\r\n\t\t\t\t\tcustomerName = dekontText.split(&quot;Bor&#231;lu Adı Soyadı : &quot;)[1].split(&quot;\\n&quot;)[0];\r\n\t\t\t\telse if (dekontText.contains(&quot;G&#246;nd: &quot;)) // Fast\r\n\t\t\t\t{\r\n\t\t\t\t\tdekontTextArray = dekontText.split(&quot;G&#246;nd: &quot;);\r\n\r\n\t\t\t\t\t// Aciklamada fast varsa VE ilk satır alt cizgi değilse bu kod &#231;alışacak\r\n\t\t\t\t\tif (aciklama.contains(&quot;FAST&quot;) &amp;&amp; !dekontText.startsWith(&quot;_&quot;) &amp;&amp; !dekontText.startsWith(&quot;.&quot;))\r\n\t\t\t\t\t\tcustomerName = dekontTextArray[1].split(dekontText.split(&quot;\\n&quot;)[0])[0];\r\n\t\t\t\t\t// 1- fast yoksa. 2- fast varsa VE ilk satır alt &#231;izgiyse. \r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdekontTextArray = dekontTextArray[1].split(&quot; &quot;);\r\n\t\t\t\t\t\tfor (byte counter = 0; counter &lt;= 2; counter++)\r\n\t\t\t\t\t\t\tif (Character.isUpperCase(dekontTextArray[counter].charAt(0)))\r\n\t\t\t\t\t\t\t\tcustomerName += dekontTextArray[counter] + &quot; &quot;;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcustomerName = customerName.trim().toUpperCase(Locale.forLanguageTag(&quot;TR&quot;));\r\n\t\t\t\t}\r\n\t\t\t\telse if (dekontText.contains(&quot;G&#246;nderen : &quot;)) // Referanslı Gelen Havale\r\n\t\t\t\t\tcustomerName = dekontText.split(&quot;G&#246;nderen : &quot;)[1].split(&quot;\\n&quot;)[0]; // Buranın toUpperCase e ihtiyacı varsa, toUpperCase i assagı at.\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\twriteLastCustomer(&quot;A1:B1&quot;, aciklama, amountString);\r\n\t\t\t\t\tshowError(&quot;ZİRAAT BANKASI&quot;, aciklama);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Google Sheets\r\n\t\t\t\tappendToGoogleSheets(date, amount, customerName, &quot;ZİRAAT BANKASI&quot;);\r\n\r\n\t\t\t\t// Last customer text file\r\n\t\t\t\twriteLastCustomer(&quot;A1:B1&quot;, aciklama, amountString);\r\n\r\n\t\t\t\tcustomerName = &quot;&quot;;\r\n\t\t\t} while (rowNumber &gt; 1);\r\n\t\t}\r\n\r\n\t\tdriver.switchTo().defaultContent();\r\n\t}\r\n\r\n\tvoid isBank() throws IOException, GeneralSecurityException\r\n\t{\r\n\t\tList&lt;Object&gt; lastCustomer;\r\n\t\tString lastAciklama;\r\n\t\tString lastAmount;\r\n\t\tArrayList&lt;String&gt; aciklamaList = new ArrayList&lt;&gt;();\r\n\t\tString aciklama;\r\n\t\tString amountString = &quot;0&quot;;\r\n\t\tString customerName = &quot;&quot;;\r\n\r\n\t\t// Hesap Hareketlerini G&#252;ncelle\r\n\t\tdriver.findElement(By.cssSelector(&quot; #UpdateActivitiesSubMenu_tutorialElement &quot;\r\n\t\t\t+ &quot;&gt; div.sub-menu-item-text&quot;)).click();\r\n\r\n\t\t// Find which row is the last customer\r\n\t\tlastCustomer = readLastCustomer(&quot;A2:B2&quot;);\r\n\t\tlastAciklama = lastCustomer.get(0).toString();\r\n\t\tlastAmount = lastCustomer.get(1).toString();\r\n\t\tshort rowNumber = 0;\r\n\r\n\t\tdo\r\n\t\t{\r\n\t\t\trowNumber++;\r\n\t\t\tboolean successfullRead = false;\r\n\t\t\twhile (!successfullRead)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\taciklamaList.add(driver.findElement(By.xpath(&quot;/html/body/form/div[4]/&quot;\r\n\t\t\t\t\t\t+ &quot;div[3]/div[2]/div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/&quot;\r\n\t\t\t\t\t\t+ &quot;div[&quot; + rowNumber + &quot;]/div/div/div[4]/div[2]/div/div&quot;)).getText());\r\n\t\t\t\t\tamountString = driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/&quot;\r\n\t\t\t\t\t\t+ &quot;div[2]/div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot;\r\n\t\t\t\t\t\t+ rowNumber + &quot;]/div/div/div[6]/div[1]/div/div/div/div/div[1]&quot;)).getText().replace(&quot; &quot;, &quot;&quot;);\r\n\t\t\t\t\tsuccessfullRead = true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (!((lastAciklama.equals(aciklamaList.get(rowNumber - 1))) &amp;&amp; (lastAmount.equals(amountString))));\r\n\r\n\t\t// If last row is the last customer, quit\r\n\t\tif (rowNumber != 1)\r\n\t\t{\r\n\t\t\t// Process new customers (the ones after the last customer)\r\n\t\t\tdo\r\n\t\t\t{\r\n\t\t\t\trowNumber--;\r\n\r\n\t\t\t\taciklama = aciklamaList.get(rowNumber - 1);\r\n\r\n\t\t\t\t// Date\r\n\t\t\t\tString date = driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[2]/&quot;\r\n\t\t\t\t\t+ &quot;div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot; + rowNumber\r\n\t\t\t\t\t+ &quot;]/div/div/div[2]/div[1]/div/div/div/div[1]&quot;)).getText().replace(&quot;/&quot;, &quot;.&quot;);\r\n\r\n\t\t\t\t// Amount\r\n\t\t\t\tamountString = driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/&quot;\r\n\t\t\t\t\t+ &quot;div[2]/div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot;\r\n\t\t\t\t\t+ rowNumber + &quot;]/div/div/div[6]/div[1]/div/div/div/div/div[1]&quot;)).getText().replace(&quot; &quot;, &quot;&quot;);\r\n\t\t\t\tif (amountString.startsWith(&quot;-&quot;) || aciklama.contains(&quot;VODAFONE&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\twriteLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfloat amount = Float.parseFloat(amountString.substring(1).replace(&quot;,&quot;, &quot;&quot;));\r\n\r\n\t\t\t\t// Customer Name\r\n\t\t\t\tif (driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[2]/div/&quot;\r\n\t\t\t\t\t+ &quot;div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot; + rowNumber\r\n\t\t\t\t\t+ &quot;]/div/div/div[2]/div[2]/div/div&quot;)).getText().equals(&quot;Bankamatik&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tString[] arrOfAciklama = aciklama.split(&quot; &quot;);\r\n\t\t\t\t\tif (arrOfAciklama.length &gt; 1 &amp; arrOfAciklama.length &lt; 4)\r\n\t\t\t\t\t\tcustomerName = (arrOfAciklama.length == 2) ? arrOfAciklama[1] + &quot; &quot;\r\n\t\t\t\t\t\t\t+ arrOfAciklama[0] : arrOfAciklama[1] + arrOfAciklama[2] + arrOfAciklama[0];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twriteLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\r\n\t\t\t\t\t\tshowError(&quot;İŞ BANKASI&quot;, aciklama);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (aciklama.contains(&quot;tarafından&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tcustomerName = aciklama.split(&quot;tarafından&quot;, 2)[0].trim();\r\n\t\t\t\t}\r\n\t\t\t\telse if (aciklama.contains(&quot;*&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (Character.isDigit(aciklama.split(&quot;\\\\*&quot;)[1].charAt(0)))\r\n\t\t\t\t\t\tcustomerName = aciklama.split(&quot;\\\\*&quot;)[0];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tcustomerName = aciklama.split(&quot;\\\\*&quot;)[1];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\twriteLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\r\n\t\t\t\t\tshowError(&quot;İŞ BANKASI&quot;, aciklama);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcustomerName = customerName.toUpperCase(Locale.forLanguageTag(&quot;TR&quot;));\r\n\r\n\t\t\t\t// Google Sheets\r\n\t\t\t\tappendToGoogleSheets(date, amount, customerName, &quot;İŞ BANKASI&quot;);\r\n\r\n\t\t\t\t// Save last customer\r\n\t\t\t\twriteLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\r\n\r\n\t\t\t} while (rowNumber &gt; 1);\r\n\t\t}\r\n\t}\r\n\r\n\tvoid garantiBank() throws IOException, GeneralSecurityException, InterruptedException\r\n\t{\r\n\t\tList&lt;Object&gt; lastCustomer;\r\n\t\tString lastAciklama;\r\n\t\tString lastAmount;\r\n\t\tArrayList&lt;String&gt; aciklamaList = new ArrayList&lt;&gt;();\r\n\t\tString aciklama;\r\n\t\tString amountString = &quot;0&quot;;\r\n\t\tString customerName = &quot;&quot;;\r\n\t\tString dekontText;\r\n\r\n\t\t// G&#246;r&#252;nt&#252;le\r\n\t\tdriver.findElement(By.id(&quot;updateSubmitButton&quot;)).click();\r\n\t\tThread.sleep(500);\r\n\r\n\t\t// Find which row is the last customer\r\n\t\tlastCustomer = readLastCustomer(&quot;A3:B3&quot;);\r\n\t\tlastAciklama = lastCustomer.get(0).toString();\r\n\t\tlastAmount = lastCustomer.get(1).toString();\r\n\t\tshort rowNumber = 0;\r\n\r\n\t\tdo\r\n\t\t{\r\n\t\t\trowNumber++;\r\n\t\t\tboolean successfullRead = false;\r\n\t\t\twhile (!successfullRead)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\taciklamaList.add(driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; tbody &gt; tr:nth-child(&quot;\r\n\t\t\t\t\t\t+ rowNumber + &quot;) &gt; td.customHoverEnabled &gt; div &gt; div:nth-child(1)&quot;)).getText());\r\n\t\t\t\t\tamountString = driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; &quot;\r\n\t\t\t\t\t\t+ &quot;tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(4) &gt; div&quot;)).getText();\r\n\t\t\t\t\tsuccessfullRead = true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (!((lastAciklama.equals(aciklamaList.get(rowNumber - 1))) &amp;&amp; (lastAmount.equals(amountString))));\r\n\r\n\t\t// If last row is the last customer, quit\r\n\t\tif (rowNumber != 1)\r\n\t\t{\r\n\t\t\t// Process new customers (the ones after the last customer)\r\n\t\t\tdo\r\n\t\t\t{\r\n\t\t\t\trowNumber--;\r\n\r\n\t\t\t\taciklama = aciklamaList.get(rowNumber - 1);\r\n\r\n\t\t\t\t// Amount\r\n\t\t\t\tamountString = driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; &quot;\r\n\t\t\t\t\t+ &quot;tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(4) &gt; div&quot;)).getText();\r\n\t\t\t\tif (amountString.startsWith(&quot;-&quot;) || aciklama.startsWith(&quot;PK&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\twriteLastCustomer(&quot;A3:B3&quot;, aciklama, amountString);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfloat amount = Float.parseFloat(amountString.substring(1).\r\n\t\t\t\t\treplace(&quot;.&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;).replace(&quot; TL&quot;, &quot;&quot;));\r\n\r\n\t\t\t\t// Dekontu a&#231;\r\n\t\t\t\tdriver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; tbody &gt; &quot;\r\n\t\t\t\t\t+ &quot;tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(3) &gt; a&quot;)).click();\r\n\t\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t\t// Dekont date\r\n\t\t\t\tString date = driver.findElement(By.cssSelector(&quot; #receiptScroll &quot; // you can try putting this into an infinite loop like ziraat guncelleme\r\n\t\t\t\t\t+ &quot;&gt; div &gt; table.receiptContainerTable &gt; tbody &gt; tr:nth-child(1) &quot;\r\n\t\t\t\t\t+ &quot;&gt; td:nth-child(1) &gt; table &gt; tbody &gt; tr:nth-child(2) &gt; td &gt; pre&quot;)).\r\n\t\t\t\t\tgetText().split(&quot;İŞLEM TARİHİ     : &quot;)[1].split(&quot;\\n&quot;)[0].trim().\r\n\t\t\t\t\treplace(&quot;/&quot;, &quot;.&quot;); // substring(1).trim().replace(&quot;/&quot;, &quot;.&quot;);\r\n\r\n\t\t\t\t// Dekont isim\r\n\t\t\t\tdekontText = driver.findElement(By.xpath(&quot;/html/body/div[2]/div[4]/div[7]/div[1]/div/div/&quot;\r\n\t\t\t\t\t+ &quot;div[2]/form/div[2]/div/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td/pre&quot;)).getText();\r\n\r\n\t\t\t\t// Dekontu kapat\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;/html/body/div[2]/div[4]/div[7]/div[1]/div/div/div[1]/a&quot;)).click();\r\n\r\n\t\t\t\t// Customer name                \r\n\t\t\t\tif (dekontText.contains(&quot;BOR&#199;LU HESAP&quot;)) // hesaptan hesaba havale\r\n\t\t\t\t\tcustomerName = dekontText.split(&quot;\\n&quot;)[3].substring(42).trim();\r\n\t\t\t\t// &quot;gelen fast&quot;, &quot;gelen eft&quot;, &quot;kredi kartindan hesaba havale&quot;, &quot;hesaba havale (kasadan)&quot; (atm)\r\n\t\t\t\telse if (dekontText.contains(&quot;G&#214;NDEREN  &quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tcustomerName = dekontText.split(&quot;G&#214;NDEREN  &quot;)[1].split(&quot;\\n&quot;)[0].trim().substring(2);\r\n\t\t\t\t\t//customerName = dekontText.split(&quot;\\n&quot;)[1].substring(21).trim();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\twriteLastCustomer(&quot;A3:B3&quot;, aciklama, amountString);\r\n\t\t\t\t\tshowError(&quot;GARANTİ BANKASI&quot;, aciklama);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Google Sheets\r\n\t\t\t\tappendToGoogleSheets(date, amount, customerName, &quot;GARANTİ BANKASI&quot;);\r\n\r\n\t\t\t\t// Last customer text file\r\n\t\t\t\twriteLastCustomer(&quot;A3:B3&quot;, aciklama, amountString);\r\n\r\n\t\t\t} while (rowNumber &gt; 1);\r\n\t\t}\r\n\t}\r\n\r\n\tvoid appendToGoogleSheets(String date, float amount, String customerName, String bankName) throws IOException, GeneralSecurityException\r\n\t{\r\n\t\tString spreadsheetId = &quot;XXX&quot;; //XXX\r\n\t\tString range = &quot;A:K&quot;;\r\n\t\tList&lt;List&lt;Object&gt;&gt; newValues = new ArrayList&lt;&gt;();\r\n\r\n\t\tfloat dakika = Math.round(amount / satisFiyatiDakika);\r\n\t\tfloat adet = Math.round((amount / satisFiyati) * 100.0F) / 100.0F;\r\n\t\tfloat maliyet = Math.round((adet * alisFiyati) * 100.0F) / 100.0F;\r\n\t\tfloat fark = Math.round((amount - maliyet) * 100.0F) / 100.0F;\r\n\r\n\t\tnewValues.add(Arrays.asList(date, amount, dakika, adet, maliyet, fark,\r\n\t\t\t&quot;&quot;, &quot;&quot;, customerName, bankName, &quot;X+&quot;));\r\n\r\n\t\t// Append the new data starting from the first empty row in column A\r\n\t\tValueRange valueRange = new ValueRange().setValues(newValues);\r\n\r\n\t\tservice.spreadsheets().values().append(spreadsheetId, range, valueRange)\r\n\t\t\t.setValueInputOption(&quot;RAW&quot;).execute();\r\n\t}\r\n\r\n\tList readLastCustomer(String range) throws IOException\r\n\t{\r\n\t\tString spreadsheetId = &quot;XXX&quot;;\r\n\t\tValueRange response = service.spreadsheets().values().get(spreadsheetId, range).execute();\r\n\t\tList&lt;List&lt;Object&gt;&gt; values = response.getValues();\r\n\t\treturn values.get(0);\r\n\t}\r\n\r\n\tvoid writeLastCustomer(String range, String aciklama, String amount) throws IOException\r\n\t{\r\n\t\tString spreadsheetId = &quot;XXX&quot;;\r\n\r\n\t\tValueRange valueRange = new ValueRange().setValues(Arrays.asList(\r\n\t\t\tArrays.asList((Object) aciklama, (Object) amount)));\r\n\r\n\t\tservice.spreadsheets().values().update(spreadsheetId, range, valueRange)\r\n\t\t\t.setValueInputOption(&quot;RAW&quot;).execute();\r\n\t}\r\n\r\n\tvoid showError(String banka, String aciklama)\r\n\t{\r\n\t\tToolkit.getDefaultToolkit().beep();\r\n\t\terrorScreen.setText(errorScreen.getText() + banka + &quot; &quot; + aciklama + &quot;\\n\\n&quot;);\r\n\t}\r\n\r\n\tprivate Credential getCredentials(final HttpTransport httpTransport) throws IOException\r\n\t{\r\n\t\tInputStream credentialsStream = ControlPanel.class\r\n\t\t\t.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n\t\tGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\r\n\t\t\tnew InputStreamReader(credentialsStream));\r\n\r\n\t\tGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n\t\t\thttpTransport, JSON_FACTORY, clientSecrets, SCOPES)\r\n\t\t\t.setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n\t\t\t.setAccessType(&quot;offline&quot;).build();\r\n\r\n\t\treturn new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver.Builder().setPort(8888).build())\r\n\t\t\t.authorize(&quot;user&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * @param args the command line arguments\r\n\t */\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\t/* Set the Nimbus look and feel */\r\n\t\t//&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n\t\t/* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n\t\t */\r\n\t\ttry\r\n\t\t{\r\n\t\t\tfor (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels())\r\n\t\t\t{\r\n\t\t\t\tif (&quot;Nimbus&quot;.equals(info.getName()))\r\n\t\t\t\t{\r\n\t\t\t\t\tjavax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (ClassNotFoundException ex)\r\n\t\t{\r\n\t\t\tjava.util.logging.Logger.getLogger(ControlPanel.class\r\n\t\t\t\t.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n\r\n\t\t}\r\n\t\tcatch (InstantiationException ex)\r\n\t\t{\r\n\t\t\tjava.util.logging.Logger.getLogger(ControlPanel.class\r\n\t\t\t\t.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n\r\n\t\t}\r\n\t\tcatch (IllegalAccessException ex)\r\n\t\t{\r\n\t\t\tjava.util.logging.Logger.getLogger(ControlPanel.class\r\n\t\t\t\t.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n\r\n\t\t}\r\n\t\tcatch (javax.swing.UnsupportedLookAndFeelException ex)\r\n\t\t{\r\n\t\t\tjava.util.logging.Logger.getLogger(ControlPanel.class\r\n\t\t\t\t.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n\t\t}\r\n\t\t//&lt;/editor-fold&gt;\r\n\r\n\t\t/* Create and display the form */\r\n\t\tjava.awt.EventQueue.invokeLater(new Runnable()\r\n\t\t{\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\tnew ControlPanel().setVisible(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n   // Variables declaration - do not modify                     \r\n   private javax.swing.JButton basla;\r\n   private javax.swing.JTextPane errorScreen;\r\n   private javax.swing.JButton giris1;\r\n   private javax.swing.JButton giris2;\r\n   private javax.swing.JScrollPane jScrollPane2;\r\n   // End of variables declaration                   \r\n}\r\n```","title":"Why does my infinitely repeating selenium java code have memory leak?","body":"<p>I created a program that automates a job in my company. I open 3 Chrome tabs, I log into 3 different banks using the giris1ActionPerformed method. After I manually enter the OTPs that come to a phone in the company, I use the giris2ActionPerformed method to navigate to account activities pages for each bank.</p>\n<p>After this, I use the baslaActionPerformed method to start my infinitely repeating loop, where I go to each bank one by one, find the newly arrived payments, and write them to a Google e-sheet page. After I do this, I wait 30 seconds and repeat the process.</p>\n<p>The program works, but there is a memory leak. In a laptop with 16 GB of memory, this program lasts 5 hours. It consumes more and more RAM as time goes on. And in the end, it crashes.</p>\n<p>I do have a thread in the basla method, but I don't think that is causing the memory leak. Because I don't keep creating new threads. I just have one thread. And inside that thread, I have an infinite loop.</p>\n<p>I am familiar with debugging but I am not familiar with profiling a software project. Would using the profile tool of Netbeans IDE help find the memory leak?</p>\n<p>I replaced bank passwords and google sheet IDs with &quot;XXX&quot; for privacy.</p>\n<pre><code>package bankaotomasyonu;\n\nimport com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.sheets.v4.Sheets;\nimport com.google.api.services.sheets.v4.SheetsScopes;\nimport com.google.api.services.sheets.v4.model.ValueRange;\nimport java.awt.Toolkit;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.GeneralSecurityException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Locale;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WindowType;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class ControlPanel extends javax.swing.JFrame\n{\n    private WebDriver driver;\n    private String ziraatHandle;\n    private String isHandle;\n    private String garantiHandle;\n\n    private Sheets service;\n    private float satisFiyatiDakika = 0.06667F;\n    private float satisFiyati = 10;\n    private float alisFiyati = 14;\n\n    private final String APPLICATION_NAME = &quot;Bank Automation&quot;;\n    private final String CREDENTIALS_FILE_PATH = &quot;/credentialsClient1.json&quot;;\n    private final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n    private final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    private final List&lt;String&gt; SCOPES = Collections.singletonList(SheetsScopes.SPREADSHEETS);\n\n    public ControlPanel()\n    {\n        initComponents();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n   // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n   private void initComponents()\n   {\n\n      giris1 = new javax.swing.JButton();\n      giris2 = new javax.swing.JButton();\n      basla = new javax.swing.JButton();\n      jScrollPane2 = new javax.swing.JScrollPane();\n      errorScreen = new javax.swing.JTextPane();\n\n      setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n      setTitle(&quot;Ertürkler Banka&quot;);\n\n      giris1.setText(&quot;Giriş 1&quot;);\n      giris1.addActionListener(new java.awt.event.ActionListener()\n      {\n         public void actionPerformed(java.awt.event.ActionEvent evt)\n         {\n            giris1ActionPerformed(evt);\n         }\n      });\n\n      giris2.setText(&quot;Giriş 2&quot;);\n      giris2.addActionListener(new java.awt.event.ActionListener()\n      {\n         public void actionPerformed(java.awt.event.ActionEvent evt)\n         {\n            giris2ActionPerformed(evt);\n         }\n      });\n\n      basla.setText(&quot;Başla&quot;);\n      basla.addActionListener(new java.awt.event.ActionListener()\n      {\n         public void actionPerformed(java.awt.event.ActionEvent evt)\n         {\n            baslaActionPerformed(evt);\n         }\n      });\n\n      jScrollPane2.setViewportView(errorScreen);\n\n      javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n      getContentPane().setLayout(layout);\n      layout.setHorizontalGroup(\n         layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n         .addGroup(layout.createSequentialGroup()\n            .addGap(20, 20, 20)\n            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n               .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING)\n               .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()\n                  .addComponent(giris1)\n                  .addGap(18, 18, 18)\n                  .addComponent(giris2)\n                  .addGap(18, 18, 18)\n                  .addComponent(basla)\n                  .addGap(0, 335, Short.MAX_VALUE)))\n            .addGap(20, 20, 20))\n      );\n      layout.setVerticalGroup(\n         layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n         .addGroup(layout.createSequentialGroup()\n            .addGap(20, 20, 20)\n            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n               .addComponent(giris1)\n               .addComponent(basla)\n               .addComponent(giris2))\n            .addGap(20, 20, 20)\n            .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 204, javax.swing.GroupLayout.PREFERRED_SIZE)\n            .addContainerGap(20, Short.MAX_VALUE))\n      );\n\n      pack();\n   }// &lt;/editor-fold&gt;                        \n\n   private void giris1ActionPerformed(java.awt.event.ActionEvent evt)                                       \n   {                                           \n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Banka Otomasyon\\\\chromedriver.exe&quot;);\n\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n\n        // Ziraat Bankası\n        driver.get(&quot;https://kurumsal.ziraatbank.com.tr/Transactions/Login/FirstLogin.aspx?customertype=crp&quot;);\n        driver.findElement(By.id(&quot;ctl00_c_CorporateIdentityTextBox&quot;)).sendKeys(&quot;XXX&quot;);\n        driver.findElement(By.id(&quot;ctl00_c_CorporatePinTextBox&quot;)).sendKeys(&quot;XXX&quot;); // 3/6 Ayda bir değişen\n        driver.findElement(By.id(&quot;ctl00_c_CorporateUserNameTextBox&quot;)).sendKeys(&quot;XXX&quot;);\n        driver.findElement(By.id(&quot;ctl00_c_CorporateLoginButton&quot;)).click();\n        ziraatHandle = driver.getWindowHandle();\n\n        // İş Bankası\n        driver.switchTo().newWindow(WindowType.TAB);\n        driver.get(&quot;https://www.isbank.com.tr/TicariInternet/Transactions/Login/FirstLogin.aspx&quot;);\n        driver.findElement(By.id(&quot;CustomerNumberTextBox&quot;)).sendKeys(&quot;XXX&quot;);\n        driver.findElement(By.id(&quot;CorporateCustomerNumberTextbox&quot;)).sendKeys(&quot;XXX&quot;);\n        driver.findElement(By.id(&quot;PinTextBox&quot;)).sendKeys(&quot;XXX&quot;); // 3/6 Ayda bir değişen\n        driver.findElement(By.id(&quot;ctl00_t_NextButton&quot;)).click();\n        isHandle = driver.getWindowHandle();\n\n        // Garanti Bankası\n        driver.switchTo().newWindow(WindowType.TAB);\n        driver.get(&quot;https://sube.garantibbva.com.tr/isube/login/login/passwordentrycorporate-tr&quot;);\n        driver.findElement(By.id(&quot;custno&quot;)).sendKeys(&quot;XXX&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;XXX&quot;); // 3/6 Ayda bir değişen\n        driver.findElement(By.id(&quot;userid&quot;)).sendKeys(&quot;XXX&quot;);\n        driver.findElement(By.id(&quot;formSubmit&quot;)).click();\n        garantiHandle = driver.getWindowHandle();\n   }                                      \n\n   private void giris2ActionPerformed(java.awt.event.ActionEvent evt)                                       \n   {                                           \n        try\n        {\n            // Ziraat Bankası - Vadesiz Hesaplarım\n            driver.switchTo().window(ziraatHandle);\n            driver.switchTo().frame(&quot;mainFrame&quot;);\n            driver.findElement(By.xpath(&quot;/html/body/form/div[3]/div[2]/div[1]/&quot;\n                + &quot;section[1]/div[2]/div[1]/div[1]/div/a&quot;)).click();\n            Thread.sleep(1000);\n\n            // 5013 NOLU HESAP\n            driver.switchTo().frame(&quot;iframe1&quot;);\n            driver.findElement(By.id(&quot;ctl00_c_GridDemandDeposit_AccountListSelector&quot;\n                + &quot;_ctl11_ctl03_AccountName2Panel&quot;)).click();\n            Thread.sleep(1000);\n\n            // Hesap hareketleri\n            driver.switchTo().frame(&quot;mainFrame&quot;);\n            driver.findElement(By.id(&quot;ctl00_c_AccountHistoryButton&quot;)).click();\n\n            // İş Bankası - Hesaplar\n            driver.switchTo().window(isHandle);\n            driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[3]/div[2]/&quot;\n                + &quot;div[1]/div[1]/div[1]&quot;)).click();\n\n            // Hesaplarım\n            driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[3]&quot;\n                + &quot;/div[2]/div[1]/div[1]/div[1]/div[2]/div[1]/div&quot;)).click();\n            Thread.sleep(1000);\n\n            // Hesap Hareketleri\n            driver.findElement(By.cssSelector(&quot;#MenuEntityList_tutorialElement_actions&quot;\n                + &quot; &gt; div:nth-child(3) &gt; div&quot;)).click();\n\n            // Garanti Bankası -    Hesap ve Ürün\n            driver.switchTo().window(garantiHandle);\n            driver.findElement(By.id(&quot;primary1&quot;)).click();\n\n            // Hesap\n            driver.findElement(By.cssSelector(&quot;#primaryLi1 &gt; ul &gt; li:nth-child(1) &gt; a&quot;)).click();\n            Thread.sleep(1000);\n\n            // Dönem\n            driver.findElement(By.cssSelector(&quot;#dateRangeText &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div&quot;)).click();\n            Thread.sleep(1000);\n\n            // Son 7 gün\n            driver.findElement(By.xpath(&quot;/html/body/div[2]/div[4]/div[4]/div/div/div/&quot;\n                + &quot;div/div[3]/div[2]/div[4]/div/div[2]/div/div[2]/div[2]/div[1]/div[2]/&quot;\n                + &quot;div/form/div[1]/div/div[1]/div[1]/div/div/div/div/div/ul/li[3]/a&quot;)).click();\n            Thread.sleep(1000);\n\n            // Görüntüle\n            driver.findElement(By.id(&quot;updateSubmitButton&quot;)).click();\n        }\n        catch (Exception e)\n        {\n            //System.out.println(e);\n            //e.printStackTrace();\n\n            showError(&quot;GIRIS 2&quot;, e.toString());\n        }\n   }                                      \n\n   private void baslaActionPerformed(java.awt.event.ActionEvent evt)                                      \n   {                                          \n        try\n        {\n            final HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n            service = new Sheets.Builder(httpTransport, JSON_FACTORY, getCredentials(httpTransport))\n                .setApplicationName(APPLICATION_NAME).build();\n\n            new Thread(new Runnable()\n            {\n                @Override\n                public void run()\n                {\n                    while (true)\n                    {\n                        try\n                        {\n                            driver.switchTo().window(ziraatHandle);\n                            ziraatBank();\n\n                            driver.switchTo().window(isHandle);\n                            isBank();\n\n                            driver.switchTo().window(garantiHandle);\n                            garantiBank();\n\n                            Thread.sleep(30000);\n                        }\n                        catch (Exception e)\n                        {\n                            //System.out.println(e);\n                            //e.printStackTrace();\n\n                            showError(&quot;BASLA 2&quot;, e.toString());\n                        }\n                    }\n                }\n            }).start();\n        }\n        catch (Exception e)\n        {\n            //System.out.println(e);\n            //e.printStackTrace();\n\n            showError(&quot;BASLA 1&quot;, e.toString());\n        }\n   }                                     \n\n    void ziraatBank() throws IOException, GeneralSecurityException, InterruptedException\n    {\n        List&lt;Object&gt; lastCustomer;\n        String lastAciklama;\n        String lastAmount;\n        ArrayList&lt;String&gt; aciklamaList = new ArrayList&lt;&gt;();\n        String aciklama;\n        String amountString = &quot;0&quot;;\n        String customerName = &quot;&quot;;\n        String dekontText;\n        String[] dekontTextArray;\n\n        // Hesap Hareketlerini Güncelle 1\n        driver.switchTo().frame(&quot;iframe1&quot;);\n        boolean successfullRead = false;\n        while (!successfullRead)\n        {\n            try\n            {\n                driver.findElement(By.cssSelector(&quot;#ctl00_InnerContentWrapperPanel &gt; a&quot;)).click();\n                successfullRead = true;\n            }\n            catch (Exception e)\n            {\n            }\n        }\n        successfullRead = false;\n\n        // Hesap Hareketlerini Güncelle 2\n        while (!successfullRead)\n        {\n            try\n            {\n                driver.switchTo().frame(&quot;mainFrame&quot;);\n                successfullRead = true;\n            }\n            catch (Exception e)\n            {\n            }\n        }\n        successfullRead = false;\n\n        for (short row = 1; row &lt;= 3; row++)\n        {\n            if (&quot;MALTEPE E5 - 5013&quot;.equals(driver.findElement(By.cssSelector(&quot;#ctl00_c_AccountBoxSelector_AccountListSelector_ctl11 &quot;\n                + &quot;&gt; tbody &gt; tr:nth-child(&quot; + row + &quot;) &gt; td.firstColumn &gt; div:nth-child(1)&quot;)).getText()))\n            {\n                driver.findElement(By.cssSelector(&quot;#ctl00_c_AccountBoxSelector_AccountListSelector_ctl11 &quot;\n                    + &quot;&gt; tbody &gt; tr:nth-child(&quot; + row + &quot;) &gt; td.firstColumn &gt; div:nth-child(1)&quot;)).click();\n                break;\n            }\n        }\n\n        while (!successfullRead)\n        {\n            try\n            {\n                driver.switchTo().frame(&quot;iframe1&quot;);\n                successfullRead = true;\n            }\n            catch (Exception e)\n            {\n            }\n        }\n\n        // Find which row is the last customer\n        lastCustomer = readLastCustomer(&quot;A1:B1&quot;);\n        lastAciklama = lastCustomer.get(0).toString();\n        lastAmount = lastCustomer.get(1).toString();\n        short rowNumber = 0;\n\n        do\n        {\n            rowNumber++;\n            successfullRead = false;\n            while (!successfullRead)\n            {\n                try\n                {\n                    aciklamaList.add(driver.findElement(By.cssSelector(&quot;#ctl00_c_GridAccountHistoryList&quot;\n                        + &quot; &gt; tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td.description&quot;)).getText());\n                    amountString = driver.findElement(By.xpath(&quot;/html/body/form/&quot;\n                        + &quot;div[3]/div[3]/div[3]/div[1]/div/div[3]/div[2]/div[2]/div/div/&quot;\n                        + &quot;table/tbody/tr[&quot; + rowNumber + &quot;]/td[4]&quot;)).getText();\n                    successfullRead = true;\n                }\n                catch (Exception e)\n                {\n                }\n            }\n        } while (!((lastAciklama.equals(aciklamaList.get(rowNumber - 1))) &amp;&amp; (lastAmount.equals(amountString))));\n\n        // If last row is the last customer, quit\n        if (rowNumber != 1)\n        {\n            // Process new customers (the ones after the last customer)\n            do\n            {\n                rowNumber--;\n\n                aciklama = aciklamaList.get(rowNumber - 1);\n\n                // Date\n                String date = driver.findElement(By.cssSelector(&quot;#ctl00_c_GridAccountHistoryList &gt;&quot;\n                    + &quot; tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td.firstColumn.nowrap.date&quot;)).\n                    getText().replace(&quot;/&quot;, &quot;.&quot;);\n\n                // Amount\n                amountString = driver.findElement(By.xpath(&quot;/html/body/form/&quot;\n                    + &quot;div[3]/div[3]/div[3]/div[1]/div/div[3]/div[2]/div[2]/div/div/&quot;\n                    + &quot;table/tbody/tr[&quot; + rowNumber + &quot;]/td[4]&quot;)).getText();\n                if (amountString.startsWith(&quot;-&quot;))\n                {\n                    writeLastCustomer(&quot;A1:B1&quot;, aciklama, amountString);\n                    continue;\n                }\n                float amount = Float.parseFloat(amountString.replace(&quot;.&quot;, &quot;&quot;).\n                    replace(&quot;,&quot;, &quot;.&quot;).replace(&quot; TL&quot;, &quot;&quot;));\n\n                // Dekontu aç\n                driver.findElement(By.cssSelector(&quot;#ctl00_c_GridAccountHistoryList &gt; tbody &gt;&quot;\n                    + &quot; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(6) &gt; a&quot;)).click();\n\n                // Dekont isim\n                driver.switchTo().frame(&quot;GenericCustomModalFrame&quot;);\n                driver.switchTo().frame(&quot;mainFrame&quot;);\n                dekontText = driver.findElement(By.xpath(&quot;/html/body/form/div[3]&quot;\n                    + &quot;/div/div[2]/div/table[2]/tbody/tr/td/table[1]/tbody/tr[2]/td/div/&quot;\n                    + &quot;table[2]/tbody/tr/td/table/tbody/tr/td[1]&quot;)).getText();\n\n                // Dekontu kapat\n                Thread.sleep(250);\n                driver.switchTo().defaultContent();\n                driver.switchTo().frame(&quot;iframe1&quot;);\n                driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div/div/div[1]/button&quot;)).click();\n\n                // Customer name\n                if (dekontText.contains(&quot;Borçlu Adı Soyadı : &quot;)) // Mobil havale\n                    customerName = dekontText.split(&quot;Borçlu Adı Soyadı : &quot;)[1].split(&quot;\\n&quot;)[0];\n                else if (dekontText.contains(&quot;Gönd: &quot;)) // Fast\n                {\n                    dekontTextArray = dekontText.split(&quot;Gönd: &quot;);\n\n                    // Aciklamada fast varsa VE ilk satır alt cizgi değilse bu kod çalışacak\n                    if (aciklama.contains(&quot;FAST&quot;) &amp;&amp; !dekontText.startsWith(&quot;_&quot;) &amp;&amp; !dekontText.startsWith(&quot;.&quot;))\n                        customerName = dekontTextArray[1].split(dekontText.split(&quot;\\n&quot;)[0])[0];\n                    // 1- fast yoksa. 2- fast varsa VE ilk satır alt çizgiyse. \n                    else\n                    {\n                        dekontTextArray = dekontTextArray[1].split(&quot; &quot;);\n                        for (byte counter = 0; counter &lt;= 2; counter++)\n                            if (Character.isUpperCase(dekontTextArray[counter].charAt(0)))\n                                customerName += dekontTextArray[counter] + &quot; &quot;;\n                    }\n\n                    customerName = customerName.trim().toUpperCase(Locale.forLanguageTag(&quot;TR&quot;));\n                }\n                else if (dekontText.contains(&quot;Gönderen : &quot;)) // Referanslı Gelen Havale\n                    customerName = dekontText.split(&quot;Gönderen : &quot;)[1].split(&quot;\\n&quot;)[0]; // Buranın toUpperCase e ihtiyacı varsa, toUpperCase i assagı at.\n                else\n                {\n                    writeLastCustomer(&quot;A1:B1&quot;, aciklama, amountString);\n                    showError(&quot;ZİRAAT BANKASI&quot;, aciklama);\n                    continue;\n                }\n\n                // Google Sheets\n                appendToGoogleSheets(date, amount, customerName, &quot;ZİRAAT BANKASI&quot;);\n\n                // Last customer text file\n                writeLastCustomer(&quot;A1:B1&quot;, aciklama, amountString);\n\n                customerName = &quot;&quot;;\n            } while (rowNumber &gt; 1);\n        }\n\n        driver.switchTo().defaultContent();\n    }\n\n    void isBank() throws IOException, GeneralSecurityException\n    {\n        List&lt;Object&gt; lastCustomer;\n        String lastAciklama;\n        String lastAmount;\n        ArrayList&lt;String&gt; aciklamaList = new ArrayList&lt;&gt;();\n        String aciklama;\n        String amountString = &quot;0&quot;;\n        String customerName = &quot;&quot;;\n\n        // Hesap Hareketlerini Güncelle\n        driver.findElement(By.cssSelector(&quot; #UpdateActivitiesSubMenu_tutorialElement &quot;\n            + &quot;&gt; div.sub-menu-item-text&quot;)).click();\n\n        // Find which row is the last customer\n        lastCustomer = readLastCustomer(&quot;A2:B2&quot;);\n        lastAciklama = lastCustomer.get(0).toString();\n        lastAmount = lastCustomer.get(1).toString();\n        short rowNumber = 0;\n\n        do\n        {\n            rowNumber++;\n            boolean successfullRead = false;\n            while (!successfullRead)\n            {\n                try\n                {\n                    aciklamaList.add(driver.findElement(By.xpath(&quot;/html/body/form/div[4]/&quot;\n                        + &quot;div[3]/div[2]/div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/&quot;\n                        + &quot;div[&quot; + rowNumber + &quot;]/div/div/div[4]/div[2]/div/div&quot;)).getText());\n                    amountString = driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/&quot;\n                        + &quot;div[2]/div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot;\n                        + rowNumber + &quot;]/div/div/div[6]/div[1]/div/div/div/div/div[1]&quot;)).getText().replace(&quot; &quot;, &quot;&quot;);\n                    successfullRead = true;\n                }\n                catch (Exception e)\n                {\n                }\n            }\n        } while (!((lastAciklama.equals(aciklamaList.get(rowNumber - 1))) &amp;&amp; (lastAmount.equals(amountString))));\n\n        // If last row is the last customer, quit\n        if (rowNumber != 1)\n        {\n            // Process new customers (the ones after the last customer)\n            do\n            {\n                rowNumber--;\n\n                aciklama = aciklamaList.get(rowNumber - 1);\n\n                // Date\n                String date = driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[2]/&quot;\n                    + &quot;div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot; + rowNumber\n                    + &quot;]/div/div/div[2]/div[1]/div/div/div/div[1]&quot;)).getText().replace(&quot;/&quot;, &quot;.&quot;);\n\n                // Amount\n                amountString = driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/&quot;\n                    + &quot;div[2]/div/div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot;\n                    + rowNumber + &quot;]/div/div/div[6]/div[1]/div/div/div/div/div[1]&quot;)).getText().replace(&quot; &quot;, &quot;&quot;);\n                if (amountString.startsWith(&quot;-&quot;) || aciklama.contains(&quot;VODAFONE&quot;))\n                {\n                    writeLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\n                    continue;\n                }\n                float amount = Float.parseFloat(amountString.substring(1).replace(&quot;,&quot;, &quot;&quot;));\n\n                // Customer Name\n                if (driver.findElement(By.xpath(&quot;/html/body/form/div[4]/div[3]/div[2]/div/&quot;\n                    + &quot;div[1]/div[3]/div/div[9]/div/div[2]/div[3]/div[3]/div[&quot; + rowNumber\n                    + &quot;]/div/div/div[2]/div[2]/div/div&quot;)).getText().equals(&quot;Bankamatik&quot;))\n                {\n                    String[] arrOfAciklama = aciklama.split(&quot; &quot;);\n                    if (arrOfAciklama.length &gt; 1 &amp; arrOfAciklama.length &lt; 4)\n                        customerName = (arrOfAciklama.length == 2) ? arrOfAciklama[1] + &quot; &quot;\n                            + arrOfAciklama[0] : arrOfAciklama[1] + arrOfAciklama[2] + arrOfAciklama[0];\n                    else\n                    {\n                        writeLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\n                        showError(&quot;İŞ BANKASI&quot;, aciklama);\n                        continue;\n                    }\n                }\n                else if (aciklama.contains(&quot;tarafından&quot;))\n                {\n                    customerName = aciklama.split(&quot;tarafından&quot;, 2)[0].trim();\n                }\n                else if (aciklama.contains(&quot;*&quot;))\n                {\n                    if (Character.isDigit(aciklama.split(&quot;\\\\*&quot;)[1].charAt(0)))\n                        customerName = aciklama.split(&quot;\\\\*&quot;)[0];\n                    else\n                        customerName = aciklama.split(&quot;\\\\*&quot;)[1];\n                }\n                else\n                {\n                    writeLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\n                    showError(&quot;İŞ BANKASI&quot;, aciklama);\n                    continue;\n                }\n\n                customerName = customerName.toUpperCase(Locale.forLanguageTag(&quot;TR&quot;));\n\n                // Google Sheets\n                appendToGoogleSheets(date, amount, customerName, &quot;İŞ BANKASI&quot;);\n\n                // Save last customer\n                writeLastCustomer(&quot;A2:B2&quot;, aciklama, amountString);\n\n            } while (rowNumber &gt; 1);\n        }\n    }\n\n    void garantiBank() throws IOException, GeneralSecurityException, InterruptedException\n    {\n        List&lt;Object&gt; lastCustomer;\n        String lastAciklama;\n        String lastAmount;\n        ArrayList&lt;String&gt; aciklamaList = new ArrayList&lt;&gt;();\n        String aciklama;\n        String amountString = &quot;0&quot;;\n        String customerName = &quot;&quot;;\n        String dekontText;\n\n        // Görüntüle\n        driver.findElement(By.id(&quot;updateSubmitButton&quot;)).click();\n        Thread.sleep(500);\n\n        // Find which row is the last customer\n        lastCustomer = readLastCustomer(&quot;A3:B3&quot;);\n        lastAciklama = lastCustomer.get(0).toString();\n        lastAmount = lastCustomer.get(1).toString();\n        short rowNumber = 0;\n\n        do\n        {\n            rowNumber++;\n            boolean successfullRead = false;\n            while (!successfullRead)\n            {\n                try\n                {\n                    aciklamaList.add(driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; tbody &gt; tr:nth-child(&quot;\n                        + rowNumber + &quot;) &gt; td.customHoverEnabled &gt; div &gt; div:nth-child(1)&quot;)).getText());\n                    amountString = driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; &quot;\n                        + &quot;tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(4) &gt; div&quot;)).getText();\n                    successfullRead = true;\n                }\n                catch (Exception e)\n                {\n                }\n            }\n        } while (!((lastAciklama.equals(aciklamaList.get(rowNumber - 1))) &amp;&amp; (lastAmount.equals(amountString))));\n\n        // If last row is the last customer, quit\n        if (rowNumber != 1)\n        {\n            // Process new customers (the ones after the last customer)\n            do\n            {\n                rowNumber--;\n\n                aciklama = aciklamaList.get(rowNumber - 1);\n\n                // Amount\n                amountString = driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; &quot;\n                    + &quot;tbody &gt; tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(4) &gt; div&quot;)).getText();\n                if (amountString.startsWith(&quot;-&quot;) || aciklama.startsWith(&quot;PK&quot;))\n                {\n                    writeLastCustomer(&quot;A3:B3&quot;, aciklama, amountString);\n                    continue;\n                }\n                float amount = Float.parseFloat(amountString.substring(1).\n                    replace(&quot;.&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;.&quot;).replace(&quot; TL&quot;, &quot;&quot;));\n\n                // Dekontu aç\n                driver.findElement(By.cssSelector(&quot;#myAccountActivitiesGrid &gt; tbody &gt; &quot;\n                    + &quot;tr:nth-child(&quot; + rowNumber + &quot;) &gt; td:nth-child(3) &gt; a&quot;)).click();\n                Thread.sleep(1000);\n\n                // Dekont date\n                String date = driver.findElement(By.cssSelector(&quot; #receiptScroll &quot; // you can try putting this into an infinite loop like ziraat guncelleme\n                    + &quot;&gt; div &gt; table.receiptContainerTable &gt; tbody &gt; tr:nth-child(1) &quot;\n                    + &quot;&gt; td:nth-child(1) &gt; table &gt; tbody &gt; tr:nth-child(2) &gt; td &gt; pre&quot;)).\n                    getText().split(&quot;İŞLEM TARİHİ     : &quot;)[1].split(&quot;\\n&quot;)[0].trim().\n                    replace(&quot;/&quot;, &quot;.&quot;); // substring(1).trim().replace(&quot;/&quot;, &quot;.&quot;);\n\n                // Dekont isim\n                dekontText = driver.findElement(By.xpath(&quot;/html/body/div[2]/div[4]/div[7]/div[1]/div/div/&quot;\n                    + &quot;div[2]/form/div[2]/div/table[2]/tbody/tr[2]/td/table/tbody/tr[2]/td/pre&quot;)).getText();\n\n                // Dekontu kapat\n                driver.findElement(By.xpath(&quot;/html/body/div[2]/div[4]/div[7]/div[1]/div/div/div[1]/a&quot;)).click();\n\n                // Customer name                \n                if (dekontText.contains(&quot;BORÇLU HESAP&quot;)) // hesaptan hesaba havale\n                    customerName = dekontText.split(&quot;\\n&quot;)[3].substring(42).trim();\n                // &quot;gelen fast&quot;, &quot;gelen eft&quot;, &quot;kredi kartindan hesaba havale&quot;, &quot;hesaba havale (kasadan)&quot; (atm)\n                else if (dekontText.contains(&quot;GÖNDEREN  &quot;))\n                {\n                    customerName = dekontText.split(&quot;GÖNDEREN  &quot;)[1].split(&quot;\\n&quot;)[0].trim().substring(2);\n                    //customerName = dekontText.split(&quot;\\n&quot;)[1].substring(21).trim();\n                }\n                else\n                {\n                    writeLastCustomer(&quot;A3:B3&quot;, aciklama, amountString);\n                    showError(&quot;GARANTİ BANKASI&quot;, aciklama);\n                    continue;\n                }\n\n                // Google Sheets\n                appendToGoogleSheets(date, amount, customerName, &quot;GARANTİ BANKASI&quot;);\n\n                // Last customer text file\n                writeLastCustomer(&quot;A3:B3&quot;, aciklama, amountString);\n\n            } while (rowNumber &gt; 1);\n        }\n    }\n\n    void appendToGoogleSheets(String date, float amount, String customerName, String bankName) throws IOException, GeneralSecurityException\n    {\n        String spreadsheetId = &quot;XXX&quot;; //XXX\n        String range = &quot;A:K&quot;;\n        List&lt;List&lt;Object&gt;&gt; newValues = new ArrayList&lt;&gt;();\n\n        float dakika = Math.round(amount / satisFiyatiDakika);\n        float adet = Math.round((amount / satisFiyati) * 100.0F) / 100.0F;\n        float maliyet = Math.round((adet * alisFiyati) * 100.0F) / 100.0F;\n        float fark = Math.round((amount - maliyet) * 100.0F) / 100.0F;\n\n        newValues.add(Arrays.asList(date, amount, dakika, adet, maliyet, fark,\n            &quot;&quot;, &quot;&quot;, customerName, bankName, &quot;X+&quot;));\n\n        // Append the new data starting from the first empty row in column A\n        ValueRange valueRange = new ValueRange().setValues(newValues);\n\n        service.spreadsheets().values().append(spreadsheetId, range, valueRange)\n            .setValueInputOption(&quot;RAW&quot;).execute();\n    }\n\n    List readLastCustomer(String range) throws IOException\n    {\n        String spreadsheetId = &quot;XXX&quot;;\n        ValueRange response = service.spreadsheets().values().get(spreadsheetId, range).execute();\n        List&lt;List&lt;Object&gt;&gt; values = response.getValues();\n        return values.get(0);\n    }\n\n    void writeLastCustomer(String range, String aciklama, String amount) throws IOException\n    {\n        String spreadsheetId = &quot;XXX&quot;;\n\n        ValueRange valueRange = new ValueRange().setValues(Arrays.asList(\n            Arrays.asList((Object) aciklama, (Object) amount)));\n\n        service.spreadsheets().values().update(spreadsheetId, range, valueRange)\n            .setValueInputOption(&quot;RAW&quot;).execute();\n    }\n\n    void showError(String banka, String aciklama)\n    {\n        Toolkit.getDefaultToolkit().beep();\n        errorScreen.setText(errorScreen.getText() + banka + &quot; &quot; + aciklama + &quot;\\n\\n&quot;);\n    }\n\n    private Credential getCredentials(final HttpTransport httpTransport) throws IOException\n    {\n        InputStream credentialsStream = ControlPanel.class\n            .getResourceAsStream(CREDENTIALS_FILE_PATH);\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\n            new InputStreamReader(credentialsStream));\n\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n            .setAccessType(&quot;offline&quot;).build();\n\n        return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver.Builder().setPort(8888).build())\n            .authorize(&quot;user&quot;);\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[])\n    {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try\n        {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels())\n            {\n                if (&quot;Nimbus&quot;.equals(info.getName()))\n                {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n\n                }\n            }\n        }\n        catch (ClassNotFoundException ex)\n        {\n            java.util.logging.Logger.getLogger(ControlPanel.class\n                .getName()).log(java.util.logging.Level.SEVERE, null, ex);\n\n        }\n        catch (InstantiationException ex)\n        {\n            java.util.logging.Logger.getLogger(ControlPanel.class\n                .getName()).log(java.util.logging.Level.SEVERE, null, ex);\n\n        }\n        catch (IllegalAccessException ex)\n        {\n            java.util.logging.Logger.getLogger(ControlPanel.class\n                .getName()).log(java.util.logging.Level.SEVERE, null, ex);\n\n        }\n        catch (javax.swing.UnsupportedLookAndFeelException ex)\n        {\n            java.util.logging.Logger.getLogger(ControlPanel.class\n                .getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                new ControlPanel().setVisible(true);\n            }\n        });\n    }\n\n   // Variables declaration - do not modify                     \n   private javax.swing.JButton basla;\n   private javax.swing.JTextPane errorScreen;\n   private javax.swing.JButton giris1;\n   private javax.swing.JButton giris2;\n   private javax.swing.JScrollPane jScrollPane2;\n   // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","kotlin","datepicker","material-components-android"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1693829924,"post_id":77037582,"comment_id":135807734,"body_markdown":"&quot;*I still haven&#39;t tried anything yet*&quot;, so go ahead and try it! If you have any questions afer trying, you can explain them more clearly and with a focus.","body":"&quot;<i>I still haven&#39;t tried anything yet</i>&quot;, so go ahead and try it! If you have any questions afer trying, you can explain them more clearly and with a focus."}],"owner":{"account_id":29141309,"reputation":16,"user_id":22324209,"display_name":"Sanjay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693829646,"creation_date":1693829407,"question_id":77037582,"body_markdown":"I am trying to add a slash(/) when user type date in this format DD/MM/YYYY, I need to add slash automatically once user type DD and MM, I am thing of using text watcher here but how can I access DatePicker text input field?\r\n\r\nI still haven&#39;t tried anything yet, I am really confused, how to access that Text input field of material DatePicker dialog","title":"How to add textwatcher to material datepicker dialog&#39;s text field input in android?","body":"<p>I am trying to add a slash(/) when user type date in this format DD/MM/YYYY, I need to add slash automatically once user type DD and MM, I am thing of using text watcher here but how can I access DatePicker text input field?</p>\n<p>I still haven't tried anything yet, I am really confused, how to access that Text input field of material DatePicker dialog</p>\n"},{"tags":["java","selenium-webdriver","testing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692711318,"post_id":76951428,"comment_id":135659326,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692693797,"creation_date":1692693797,"answer_id":76951549,"question_id":76951428,"body_markdown":"Quick solution: Upgrade your selenium to `v4.11.0` in your POM.xml as below:\r\n````\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nHaving said that, if you use latest selenium you don&#39;t need `webdrivermanager`. Selenium&#39;s inbuilt tool `SeleniumManager` will do what `WDM` used to do (i.e. download and management of `driver.exe`). If you use latest selenium, code can be as simple as:\r\n````\r\npublic static void main(String[] args) {\r\n    // TODO Auto-generated method stub\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://www.google.com&quot;);        \r\n    System.out.println(driver.getTitle());\r\n}\r\n````","title":"Selenium Automation WebDriver Manager is not working for Chrome version 116","body":"<p>Quick solution: Upgrade your selenium to <code>v4.11.0</code> in your POM.xml as below:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Having said that, if you use latest selenium you don't need <code>webdrivermanager</code>. Selenium's inbuilt tool <code>SeleniumManager</code> will do what <code>WDM</code> used to do (i.e. download and management of <code>driver.exe</code>). If you use latest selenium, code can be as simple as:</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    WebDriver driver = new ChromeDriver();\n    driver.get(&quot;https://www.google.com&quot;);        \n    System.out.println(driver.getTitle());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7979274,"reputation":57,"user_id":6021277,"accept_rate":0,"display_name":"monil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693221987,"creation_date":1693221987,"answer_id":76992382,"question_id":76951428,"body_markdown":"you need Java version 11 or higher to use WebDriverManager 5.4.1","title":"Selenium Automation WebDriver Manager is not working for Chrome version 116","body":"<p>you need Java version 11 or higher to use WebDriverManager 5.4.1</p>\n"},{"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693339794,"post_id":76992594,"comment_id":135747219,"body_markdown":"Please do not post an answer to state that you also have the same issue.","body":"Please do not post an answer to state that you also have the same issue."}],"tags":[],"owner":{"account_id":24538904,"reputation":1,"user_id":18449546,"display_name":"Olcay &#199;etin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693829251,"creation_date":1693223912,"answer_id":76992594,"question_id":76951428,"body_markdown":"I have same problem. I upgraded to 4.11.0 but still have same issue which is \r\n&quot;java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver. The latest version can be downloaded from https://chromedriver.storage.googleapis.com/index.html\r\n&quot;\r\n\r\nedit : my solution is to use that\r\n\t\r\n&lt;selenium.version&gt;4.11.0&lt;/selenium.version&gt; \r\nin properties\r\n\r\n\r\notherwise, older version of selenium was being used. ","title":"Selenium Automation WebDriver Manager is not working for Chrome version 116","body":"<p>I have same problem. I upgraded to 4.11.0 but still have same issue which is\n&quot;java.lang.IllegalStateException: The path to the driver executable The path to the driver executable must be set by the webdriver.chrome.driver system property; for more information, see <a href=\"https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/wiki/ChromeDriver</a>. The latest version can be downloaded from <a href=\"https://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html</a>\n&quot;</p>\n<p>edit : my solution is to use that</p>\n<p>&lt;selenium.version&gt;4.11.0&lt;/selenium.version&gt;\nin properties</p>\n<p>otherwise, older version of selenium was being used.</p>\n"}],"owner":{"account_id":29273432,"reputation":11,"user_id":22427704,"display_name":"Akshay Gulhane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693829251,"creation_date":1692692890,"question_id":76951428,"body_markdown":"I have used this dependency in selenium framework.\r\nbut browser is not invoked because of chrome version is 116\r\n````\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.4.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nChrome browser should invoke automatically","title":"Selenium Automation WebDriver Manager is not working for Chrome version 116","body":"<p>I have used this dependency in selenium framework.\nbut browser is not invoked because of chrome version is 116</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Chrome browser should invoke automatically</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1693814837,"post_id":77035831,"comment_id":135805093,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask] and check if you&#39;ve declared `-Xms` twice.","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and check if you&#39;ve declared <code>-Xms</code> twice."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1693815239,"post_id":77035831,"comment_id":135805156,"body_markdown":"Memory allocation in an OS is generally more complicated than this. IIRC (but I&#39;m not 100% sure), the Memory column in Task Manager shows actual physical memory that is allocated to the process. When you started Java, it might have allocated 15GB of virtual memory, but it doesn&#39;t mean it is actively using it, so the OS might have swapped it out, or because of accounting of memory, as long as the program hasn&#39;t touched it yet, it is isn&#39;t counted towards its memory use.","body":"Memory allocation in an OS is generally more complicated than this. IIRC (but I&#39;m not 100% sure), the Memory column in Task Manager shows actual physical memory that is allocated to the process. When you started Java, it might have allocated 15GB of virtual memory, but it doesn&#39;t mean it is actively using it, so the OS might have swapped it out, or because of accounting of memory, as long as the program hasn&#39;t touched it yet, it is isn&#39;t counted towards its memory use."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1693817106,"post_id":77035831,"comment_id":135805452,"body_markdown":"In other words, Task manager is not a memory profiling tool. If you want to be confident about your measurements, use a tool that is actually made to make those measurements.","body":"In other words, Task manager is not a memory profiling tool. If you want to be confident about your measurements, use a tool that is actually made to make those measurements."}],"answers":[{"tags":[],"owner":{"account_id":3916497,"reputation":577,"user_id":3240206,"accept_rate":27,"display_name":"Chanky Mallick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693828988,"creation_date":1693828988,"answer_id":77037530,"question_id":77035831,"body_markdown":"Windows resource monitor show this memory data in a proper way , Task Manager only shows the Physical memory in use , Not the Reserved Virtual memory , Total -Xmx allocation comes under Reserved Virtual memory then it allocate to Physical as demanded by application. ","title":"Tomcat -Xms -Xmx not behaving as expected","body":"<p>Windows resource monitor show this memory data in a proper way , Task Manager only shows the Physical memory in use , Not the Reserved Virtual memory , Total -Xmx allocation comes under Reserved Virtual memory then it allocate to Physical as demanded by application.</p>\n"}],"owner":{"account_id":3916497,"reputation":577,"user_id":3240206,"accept_rate":27,"display_name":"Chanky Mallick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693828988,"creation_date":1693812569,"question_id":77035831,"body_markdown":"I have 32GB Ram in my system, and I want to test the behavior of -Xms and -Xmx, so I have set \r\n```\r\nset CATALINA_OPTS=-Xms13312m -Xmx15360m\r\n```\r\nin setenv.bat file inside the Tomcat 10.1.10 bin folder to increase initial memory to 13Gb and maximum 15Gb. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter starting Tomcat, I never see the memory starting from 13Gb, it&#39;s using around 4Gb.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/43MJj.png\r\n  [2]: https://i.stack.imgur.com/chRMO.png\r\n\r\nI am not able to understand its behavior. Can we control exact minimum and maximum RAM allocation using this or some other settings irrespective of application demand?","title":"Tomcat -Xms -Xmx not behaving as expected","body":"<p>I have 32GB Ram in my system, and I want to test the behavior of -Xms and -Xmx, so I have set</p>\n<pre><code>set CATALINA_OPTS=-Xms13312m -Xmx15360m\n</code></pre>\n<p>in setenv.bat file inside the Tomcat 10.1.10 bin folder to increase initial memory to 13Gb and maximum 15Gb.</p>\n<p><a href=\"https://i.stack.imgur.com/43MJj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/43MJj.png\" alt=\"enter image description here\" /></a></p>\n<p>After starting Tomcat, I never see the memory starting from 13Gb, it's using around 4Gb.</p>\n<p><a href=\"https://i.stack.imgur.com/chRMO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/chRMO.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not able to understand its behavior. Can we control exact minimum and maximum RAM allocation using this or some other settings irrespective of application demand?</p>\n"},{"tags":["java","algorithm","integer","reverse"],"comments":[{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1642256481,"post_id":70722143,"comment_id":125024980,"body_markdown":"You need to think about integer overflow and how to avoid it.  The expected answer of 0 tells you that a simple reversal falls out of range.","body":"You need to think about integer overflow and how to avoid it.  The expected answer of 0 tells you that a simple reversal falls out of range."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642265804,"post_id":70722143,"comment_id":125027304,"body_markdown":"&quot;If reversing x causes the value to go outside the signed 32-bit integer range [-2^31, 2^31 - 1], then return 0.&quot;","body":"&quot;If reversing x causes the value to go outside the signed 32-bit integer range [-2^31, 2^31 - 1], then return 0.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642256593,"creation_date":1642256593,"answer_id":70722275,"question_id":70722143,"body_markdown":"The approach you&#39;ve chosen is not that far off.\r\n\r\n1. You currently check the input `x` to be in range of unsigned integer. But they ask to check x-reversed instead.\r\n2. You aggregate your answer in an integer, hence you might overflow unnoticed.\r\n\r\nBoth of your problems can be solved if you aggregate your result `num` in an variable of type long instead and reject/zero the answer if after reversing it is out of bounds of unsigned int.\r\n\r\nAlternative you can use Math.addExact(a, b), Math.multiplyExact(a,b) and a try-catch to exit immediately upon overflow.","title":"Reverse Integer (Leetcode)","body":"<p>The approach you've chosen is not that far off.</p>\n<ol>\n<li>You currently check the input <code>x</code> to be in range of unsigned integer. But they ask to check x-reversed instead.</li>\n<li>You aggregate your answer in an integer, hence you might overflow unnoticed.</li>\n</ol>\n<p>Both of your problems can be solved if you aggregate your result <code>num</code> in an variable of type long instead and reject/zero the answer if after reversing it is out of bounds of unsigned int.</p>\n<p>Alternative you can use Math.addExact(a, b), Math.multiplyExact(a,b) and a try-catch to exit immediately upon overflow.</p>\n"},{"tags":[],"owner":{"account_id":1789974,"reputation":151646,"user_id":1630618,"accept_rate":100,"display_name":"vacawama"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693828790,"creation_date":1642257541,"answer_id":70722381,"question_id":70722143,"body_markdown":"Your problem is that the overflow is in the `num` variable and you are not checking for that.  By adding a check to make sure the calculation will not overflow before performing `num = num * 10 + a`, you can return `0` when necessary.\r\n\r\nAlso, you weren&#39;t handling negative numbers properly.  A check for a negative up front can allow you to work with a positive number and then just negate the result.\r\n\r\n    class Solution {  \r\n        public int reverse(int x) {  \r\n            int num = 0;  \r\n            Boolean negative = false;\r\n            \r\n            if (x == Integer.MIN_VALUE) return 0;\r\n            if (x &lt; 0) {\r\n                x = -x;\r\n                negative = true;\r\n            }\r\n            while (x != 0) {  \r\n                int a = x % 10; \r\n                // Check if the next operation is going to cause an overflow\r\n                // and return 0 if it does\r\n                if (num &gt; (Integer.MAX_VALUE - a) / 10) return 0;\r\n                num = num * 10 + a;  \r\n                x = x / 10;  \r\n            }  \r\n            return negative ? -num : num;  \r\n        }  \r\n    } \r\n\r\n ","title":"Reverse Integer (Leetcode)","body":"<p>Your problem is that the overflow is in the <code>num</code> variable and you are not checking for that.  By adding a check to make sure the calculation will not overflow before performing <code>num = num * 10 + a</code>, you can return <code>0</code> when necessary.</p>\n<p>Also, you weren't handling negative numbers properly.  A check for a negative up front can allow you to work with a positive number and then just negate the result.</p>\n<pre><code>class Solution {  \n    public int reverse(int x) {  \n        int num = 0;  \n        Boolean negative = false;\n        \n        if (x == Integer.MIN_VALUE) return 0;\n        if (x &lt; 0) {\n            x = -x;\n            negative = true;\n        }\n        while (x != 0) {  \n            int a = x % 10; \n            // Check if the next operation is going to cause an overflow\n            // and return 0 if it does\n            if (num &gt; (Integer.MAX_VALUE - a) / 10) return 0;\n            num = num * 10 + a;  \n            x = x / 10;  \n        }  \n        return negative ? -num : num;  \n    }  \n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":0,"creation_date":1642261085,"post_id":70722472,"comment_id":125026069,"body_markdown":"A good answer will always include an explanation why this would solve the issue, so that the OP and any future readers can learn from it.","body":"A good answer will always include an explanation why this would solve the issue, so that the OP and any future readers can learn from it."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1642345376,"post_id":70722472,"comment_id":125040965,"body_markdown":"Doesn&#39;t look like Java...","body":"Doesn&#39;t look like Java..."}],"tags":[],"owner":{"account_id":17530901,"reputation":101,"user_id":12714940,"display_name":"JaNith RathNayaka"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642258110,"creation_date":1642258110,"answer_id":70722472,"question_id":70722143,"body_markdown":"**Input: 123\r\nOutput: 321\r\nInput: -123\r\nOutput: -321\r\nInput: 120\r\nOutput: 2**\r\n\r\nclass Solution {\r\npublic:\r\n    int reverse(int x) {\r\n\r\n        int rev = 0;\r\n\r\n        constexpr int top_limit = INT_MAX/10;\r\n\r\n        constexpr int bottom_limit = INT_MIN/10;\r\n\r\n        while (x) {\r\n\r\n            if (rev &gt; top_limit || rev &lt; bottom_limit)\r\n\r\n                return 0;\r\n\r\n            rev = rev * 10 + x % 10;\r\n\r\n            x /= 10;\r\n        }\r\n        return rev;\r\n    }\r\n};","title":"Reverse Integer (Leetcode)","body":"<p><strong>Input: 123\nOutput: 321\nInput: -123\nOutput: -321\nInput: 120\nOutput: 2</strong></p>\n<p>class Solution {\npublic:\nint reverse(int x) {</p>\n<pre><code>    int rev = 0;\n\n    constexpr int top_limit = INT_MAX/10;\n\n    constexpr int bottom_limit = INT_MIN/10;\n\n    while (x) {\n\n        if (rev &gt; top_limit || rev &lt; bottom_limit)\n\n            return 0;\n\n        rev = rev * 10 + x % 10;\n\n        x /= 10;\n    }\n    return rev;\n}\n</code></pre>\n<p>};</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642282648,"creation_date":1642278393,"answer_id":70725154,"question_id":70722143,"body_markdown":"You&#39;re not dealing with the theoretical signed 32-bit integer overflow that might occur in the loop, meaning you&#39;ll sometimes return a number outside of that range. Also, the logic will not work as expected with negative values. \r\n\r\nAnd to be really precise on the restriction of signed 32-bit, special care needs to be taken when the input is -2&lt;sup&gt;31&lt;/sup&gt;, as its absolute value does not represent a valid signed 32-bit integer.\r\n\r\n```\r\nclass Solution {\r\n    public int reverse(int x) {\r\n        if (x &lt; 0) return x == -2147483648 ? 0 : -reverse(-x);\r\n        int res = 0;\r\n        while (x &gt; 0 &amp;&amp; res &lt; 214748364) {\r\n            res = res * 10 + x % 10;\r\n            x /= 10;\r\n        }\r\n        return x == 0 ? res\r\n             : res &gt; 214748364 || x &gt; 7 ? 0\r\n             : res * 10 + x;\r\n    }\r\n}\r\n```","title":"Reverse Integer (Leetcode)","body":"<p>You're not dealing with the theoretical signed 32-bit integer overflow that might occur in the loop, meaning you'll sometimes return a number outside of that range. Also, the logic will not work as expected with negative values.</p>\n<p>And to be really precise on the restriction of signed 32-bit, special care needs to be taken when the input is -2<sup>31</sup>, as its absolute value does not represent a valid signed 32-bit integer.</p>\n<pre><code>class Solution {\n    public int reverse(int x) {\n        if (x &lt; 0) return x == -2147483648 ? 0 : -reverse(-x);\n        int res = 0;\n        while (x &gt; 0 &amp;&amp; res &lt; 214748364) {\n            res = res * 10 + x % 10;\n            x /= 10;\n        }\n        return x == 0 ? res\n             : res &gt; 214748364 || x &gt; 7 ? 0\n             : res * 10 + x;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1693828790,"creation_date":1642255498,"question_id":70722143,"body_markdown":"I was trying to solve 7.Reverse Integer on leetcode &lt;https://leetcode.com/problems/reverse-integer/&gt;.  \r\n\r\n Given a signed 32-bit integer x, return x with its digits reversed. If reversing x causes the value to go outside the signed 32-bit integer range [-2^31, 2^31 - 1], then return 0.\r\n\r\n  **Example 1:**\r\n    \r\n    Input: x = 123  \r\n    Output: 321\r\n\r\nMy solution for the above problem is\r\n\r\n    class Solution {  \r\n        public int reverse(int x) {  \r\n            int num=0;  \r\n            if(x&gt;Integer.MAX_VALUE||x&lt;Integer.MIN_VALUE) return 0;  \r\n            while(x!=0){  \r\n                int a=x%10;  \r\n                num=num*10+a;  \r\n                x=x/10;  \r\n                \r\n                \r\n            }  \r\n            return num;  \r\n        }  \r\n    }  \r\n\r\nI&#39;m getting 4 test cases wrong. One of which is :\r\n\r\n**Example**  \r\n\r\n    Input: 1534236469  \r\n    Output : 1056389759  \r\n    Expected: 0  \r\n","title":"Reverse Integer (Leetcode)","body":"<p>I was trying to solve 7.Reverse Integer on leetcode <a href=\"https://leetcode.com/problems/reverse-integer/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/reverse-integer/</a>.</p>\n<p>Given a signed 32-bit integer x, return x with its digits reversed. If reversing x causes the value to go outside the signed 32-bit integer range [-2^31, 2^31 - 1], then return 0.</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>Input: x = 123  \nOutput: 321\n</code></pre>\n<p>My solution for the above problem is</p>\n<pre><code>class Solution {  \n    public int reverse(int x) {  \n        int num=0;  \n        if(x&gt;Integer.MAX_VALUE||x&lt;Integer.MIN_VALUE) return 0;  \n        while(x!=0){  \n            int a=x%10;  \n            num=num*10+a;  \n            x=x/10;  \n            \n            \n        }  \n        return num;  \n    }  \n}  \n</code></pre>\n<p>I'm getting 4 test cases wrong. One of which is :</p>\n<p><strong>Example</strong></p>\n<pre><code>Input: 1534236469  \nOutput : 1056389759  \nExpected: 0  \n</code></pre>\n"},{"tags":["java","spring-boot","cron","scheduler"],"comments":[{"owner":{"account_id":14762278,"reputation":40,"user_id":10661250,"display_name":"prguptadev"},"score":0,"creation_date":1693828361,"post_id":77037453,"comment_id":135807441,"body_markdown":"I am using enable scheduling annotation and Task schedular to configure jobs in properties file, I can add multiple jobs if required , is there any way to reload cron jobs to task schedular","body":"I am using enable scheduling annotation and Task schedular to configure jobs in properties file, I can add multiple jobs if required , is there any way to reload cron jobs to task schedular"}],"owner":{"account_id":14762278,"reputation":40,"user_id":10661250,"display_name":"prguptadev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693828168,"creation_date":1693828168,"question_id":77037453,"body_markdown":"So I have multiple cron jobs scheduled based on properties with Task Schedular, now I want to move those properties to DB. When any properties or job got update from UI , I will send DirectExchange flag to my application to reload all job once again. \r\n\r\n      public void scheduleJobs() {\r\n       list.forEach(task -&gt;\r\n                taskScheduler.schedule(mytaskMethods(task), new CronTrigger(task.getSchedular()))\r\n        );\r\n    }\r\n\r\n`here am stuck to reload task schedular to cancel running job and update new one, dont want to restart my application.`","title":"Is there any way to reload multiple cron job Task Schedular","body":"<p>So I have multiple cron jobs scheduled based on properties with Task Schedular, now I want to move those properties to DB. When any properties or job got update from UI , I will send DirectExchange flag to my application to reload all job once again.</p>\n<pre><code>  public void scheduleJobs() {\n   list.forEach(task -&gt;\n            taskScheduler.schedule(mytaskMethods(task), new CronTrigger(task.getSchedular()))\n    );\n}\n</code></pre>\n<p><code>here am stuck to reload task schedular to cancel running job and update new one, dont want to restart my application.</code></p>\n"},{"tags":["java","android","canvas"],"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693827221,"creation_date":1693826562,"question_id":77037299,"body_markdown":"I have layout and I want to draw specific part from it (not all layout) in PDF page\r\nfor example draw from layout0 position  y=150 to y=550\r\nHow I can do it?  \r\n\r\n    LinearLayout layout0 = new LinearLayout(getApplicationContext());\r\n                    parent.setOrientation(LinearLayout.VERTICAL);\r\n    if(temp1.getParent() != null) {\r\n                    ((ViewGroup)temp1.getParent()).removeView(temp1); \r\n                    layout0.addView(temp1);\r\n     }\r\n\r\n    temp1.measure(View.MeasureSpec.makeMeasureSpec(200, View.MeasureSpec.AT_MOST),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n    \r\n    layout0.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT));\r\n    layout0.measure(View.MeasureSpec.makeMeasureSpec(200, View.MeasureSpec.AT_MOST),\r\n                    View.MeasureSpec.makeMeasureSpec(400, View.MeasureSpec.AT_MOST));\r\n    layout0.layout(0, 0, layout0.getMeasuredWidth(), layout0.getMeasuredHeight());\r\n    Canvas canvas = page.getCanvas();\r\n    \r\n    layout0.draw(canvas);","title":"Draw specific area from view to canvas","body":"<p>I have layout and I want to draw specific part from it (not all layout) in PDF page\nfor example draw from layout0 position  y=150 to y=550\nHow I can do it?</p>\n<pre><code>LinearLayout layout0 = new LinearLayout(getApplicationContext());\n                parent.setOrientation(LinearLayout.VERTICAL);\nif(temp1.getParent() != null) {\n                ((ViewGroup)temp1.getParent()).removeView(temp1); \n                layout0.addView(temp1);\n }\n\ntemp1.measure(View.MeasureSpec.makeMeasureSpec(200, View.MeasureSpec.AT_MOST),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n\nlayout0.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT));\nlayout0.measure(View.MeasureSpec.makeMeasureSpec(200, View.MeasureSpec.AT_MOST),\n                View.MeasureSpec.makeMeasureSpec(400, View.MeasureSpec.AT_MOST));\nlayout0.layout(0, 0, layout0.getMeasuredWidth(), layout0.getMeasuredHeight());\nCanvas canvas = page.getCanvas();\n\nlayout0.draw(canvas);\n</code></pre>\n"},{"tags":["java","kotlin","twitter","twitter-api-v2"],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693826583,"creation_date":1693826583,"question_id":77037303,"body_markdown":"I am trying to post a tweet with an image. I can successfully post a tweet with just text using OAuth2 authentication PKCE. However, when I try to upload an image, I get a 403 error code without any additional information.\r\n\r\nI have tried both direct upload (https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload) and with the INIT method (https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload-init).\r\n\r\nHere is my Kotlin code:\r\n\r\n    fun uploadMediaToTwitter(accessToken: String, media: ByteArray) {\r\n        val client = OkHttpClient()\r\n    \r\n        val mediaBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), media)\r\n    \r\n        val requestBody = MultipartBody.Builder()\r\n            .setType(MultipartBody.FORM)\r\n            .addFormDataPart(&quot;media&quot;, &quot;image.png&quot;, mediaBody)\r\n            .build()\r\n    \r\n        val request = Request.Builder()\r\n            .url(&quot;https://upload.twitter.com/1.1/media/upload.json&quot;)\r\n            .post(requestBody)\r\n            .addHeader(&quot;Authorization&quot;, &quot;Bearer $accessToken&quot;)\r\n            .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n            .build()\r\n    \r\n        // Execute the request\r\n        client.newCall(request).execute().use { response -&gt;\r\n            println(&quot;Result : code=${response.code}\\nmessage=${response.message}\\nbody=${response.body.string()}&quot;)\r\n        }\r\n    }\r\n\r\nResult : code=403\r\nmessage=\r\nbody=\r\n\r\nAny help would be greatly appreciated. Thank you!","title":"Uploading an Image to Twitter Using OAuth2 Results in 403 Error","body":"<p>I am trying to post a tweet with an image. I can successfully post a tweet with just text using OAuth2 authentication PKCE. However, when I try to upload an image, I get a 403 error code without any additional information.</p>\n<p>I have tried both direct upload (<a href=\"https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload</a>) and with the INIT method (<a href=\"https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload-init\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload-init</a>).</p>\n<p>Here is my Kotlin code:</p>\n<pre><code>fun uploadMediaToTwitter(accessToken: String, media: ByteArray) {\n    val client = OkHttpClient()\n\n    val mediaBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), media)\n\n    val requestBody = MultipartBody.Builder()\n        .setType(MultipartBody.FORM)\n        .addFormDataPart(&quot;media&quot;, &quot;image.png&quot;, mediaBody)\n        .build()\n\n    val request = Request.Builder()\n        .url(&quot;https://upload.twitter.com/1.1/media/upload.json&quot;)\n        .post(requestBody)\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer $accessToken&quot;)\n        .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n        .build()\n\n    // Execute the request\n    client.newCall(request).execute().use { response -&gt;\n        println(&quot;Result : code=${response.code}\\nmessage=${response.message}\\nbody=${response.body.string()}&quot;)\n    }\n}\n</code></pre>\n<p>Result : code=403\nmessage=\nbody=</p>\n<p>Any help would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"comments":[{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1693828137,"post_id":77037296,"comment_id":135807385,"body_markdown":"Thanks @Andrei Lisa for quick reply , trying to access /actuator/metrics - getting 404 error . /actuator/health - succeeded, Using spring boot 2.3.9","body":"Thanks @Andrei Lisa for quick reply , trying to access /actuator/metrics - getting 404 error . /actuator/health - succeeded, Using spring boot 2.3.9"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693828487,"post_id":77037296,"comment_id":135807468,"body_markdown":"ok, if you will change `management.endpoints.web.exposure.include=health,metrics` to `management.endpoints.web.exposure.include=*` is it work ?","body":"ok, if you will change <code>management.endpoints.web.exposure.include=health,metrics</code> to <code>management.endpoints.web.exposure.include=*</code> is it work ?"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1693832112,"post_id":77037296,"comment_id":135808178,"body_markdown":"After updating &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.7.15&lt;/version&gt;\n        &lt;/dependency&gt; , and setting management.endpoints.web.exposure.include=*  - getting   Exposing 1 endpoint(s) beneath base path &#39;/actuator , but still cannot access to /actuator/metrics","body":"After updating &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;             &lt;version&gt;2.7.15&lt;/version&gt;         &lt;/dependency&gt; , and setting management.endpoints.web.exposure.include=*  - getting   Exposing 1 endpoint(s) beneath base path &#39;/actuator , but still cannot access to /actuator/metrics"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693836196,"post_id":77037296,"comment_id":135808979,"body_markdown":"if you also will add `management.endpoint.metrics.enabled=true` is it work ?","body":"if you also will add <code>management.endpoint.metrics.enabled=true</code> is it work ?"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1693836512,"post_id":77037296,"comment_id":135809049,"body_markdown":"Tried with management.endpoint.metrics.enabled=true - still same issue","body":"Tried with management.endpoint.metrics.enabled=true - still same issue"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693836610,"post_id":77037296,"comment_id":135809071,"body_markdown":"`management.endpoints.web.exposure.include=&quot;*&quot;` something have you tried ?","body":"<code>management.endpoints.web.exposure.include=&quot;*&quot;</code> something have you tried ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693836776,"post_id":77037296,"comment_id":135809107,"body_markdown":"also `org.springframework.boot:spring-boot-actuator-autoconfigure` dependency, have you added ?","body":"also <code>org.springframework.boot:spring-boot-actuator-autoconfigure</code> dependency, have you added ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693836976,"post_id":77037296,"comment_id":135809134,"body_markdown":"also can you check if `/actuator/metrics` is present in `/actuator` endpoints path list","body":"also can you check if <code>&#47;actuator&#47;metrics</code> is present in <code>&#47;actuator</code> endpoints path list"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1693887657,"post_id":77037296,"comment_id":135814963,"body_markdown":"Changed  definitions as following : management.endpoints.enabled-by-default=true\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.metrics.enabled=true , When accessing /actuator/health or /actuator/info - got result  \nbut when  accessing  /actuator  or /actuator/metrics - got 404 .   In the app log appears that :  Exposing 20 endpoint(s) beneath base path &#39;/actuator&#39;   but cannot see list of them","body":"Changed  definitions as following : management.endpoints.enabled-by-default=true management.endpoints.web.exposure.include=* management.endpoint.metrics.enabled=true , When accessing /actuator/health or /actuator/info - got result   but when  accessing  /actuator  or /actuator/metrics - got 404 .   In the app log appears that :  Exposing 20 endpoint(s) beneath base path &#39;/actuator&#39;   but cannot see list of them"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693895841,"post_id":77037296,"comment_id":135815847,"body_markdown":"if you will access `/actuator` can you see the ref to `/metrics` ?","body":"if you will access <code>&#47;actuator</code> can you see the ref to <code>&#47;metrics</code> ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693896722,"post_id":77037296,"comment_id":135815981,"body_markdown":"`management.endpoints.web.exposure.include: metrics`","body":"<code>management.endpoints.web.exposure.include: metrics</code>"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693826518,"creation_date":1693826518,"answer_id":77037296,"question_id":77037242,"body_markdown":"All actuator endpoints from `spring-boot-3.x` also(metrics, health), are under `/actuator` path.\r\n\r\nFor example metrics = `/actuator/metrics` and health = `/actuator/health`","title":"Spring Boot : Missing Endpoints Exposed for Actuator","body":"<p>All actuator endpoints from <code>spring-boot-3.x</code> also(metrics, health), are under <code>/actuator</code> path.</p>\n<p>For example metrics = <code>/actuator/metrics</code> and health = <code>/actuator/health</code></p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693826518,"creation_date":1693825975,"question_id":77037242,"body_markdown":"I know that the question is not new (similar asked [here][1] )\r\n\r\nI am trying to expose actuator endpoint for metrics\r\n\r\nhere are relevant definitions from application.properties : \r\n\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.web.exposure.include=health,metrics\r\n    management.endpoint.metrics.enabled=true\r\n    management.server.port=8090\r\n\r\nHere imports from Pom.xml \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-cbor&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen starting app , I am getting \r\n\r\n    Exposing 1 endpoint(s) beneath base path &#39;/actuator\r\n\r\nwhile expected 2 ( health and metrics ) \r\nIs there missing something in definitions ? Thanks in advnance \r\n\r\n  [1]: https://stackoverflow.com/questions/72798403/spring-boot-actuator-exposing-0-endpoints","title":"Spring Boot : Missing Endpoints Exposed for Actuator","body":"<p>I know that the question is not new (similar asked <a href=\"https://stackoverflow.com/questions/72798403/spring-boot-actuator-exposing-0-endpoints\">here</a> )</p>\n<p>I am trying to expose actuator endpoint for metrics</p>\n<p>here are relevant definitions from application.properties :</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoints.web.exposure.include=health,metrics\nmanagement.endpoint.metrics.enabled=true\nmanagement.server.port=8090\n</code></pre>\n<p>Here imports from Pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-cbor&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When starting app , I am getting</p>\n<pre><code>Exposing 1 endpoint(s) beneath base path '/actuator\n</code></pre>\n<p>while expected 2 ( health and metrics )\nIs there missing something in definitions ? Thanks in advnance</p>\n"},{"tags":["java","compilation","upgrade","lombok","mapstruct"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693817242,"post_id":77035768,"comment_id":135805481,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693817660,"post_id":77035768,"comment_id":135805574,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":10558541,"reputation":13,"user_id":7778957,"display_name":"tony"},"score":1,"creation_date":1693832128,"post_id":77037261,"comment_id":135808182,"body_markdown":"jdk version is 17，  i used this  &quot;--add-opens&quot; , and add another two : --add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED   --add-opens=jdk.compiler/com.sun.tools.javac.ClassWriter=ALL-UNNAMED  .  it works. thanks a lot","body":"jdk version is 17，  i used this  &quot;--add-opens&quot; , and add another two : --add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED   --add-opens=jdk.compiler/com.sun.tools.javac.ClassWriter=ALL&zwnj;&#8203;-UNNAMED  .  it works. thanks a lot"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693826125,"creation_date":1693826125,"answer_id":77037261,"question_id":77035768,"body_markdown":"NB: I&#39;m a lombok contributor.\r\n\r\nThis error is what you get when you run lombok 1.18.28 on JDK21. Not JDK17. Check your JDK version (and double-check your lombok version, as you&#39;d get that error very old lombok versions on JDK17). JDK21 support is on its way (and some steps to permanently solve the problem is going on in branch `maven-plugin` which hasn&#39;t been released in a downloadable version just yet.\r\n\r\n## Check java version\r\n\r\nYou can check your java version with `java --version` - if it&#39;s JDK21, downgrade your JDK, or use the `--add-opens` strategy\r\n\r\n## Check lombok version\r\n\r\nFind the lombok being used in your compilation process. `java -jar lombok.jar version` will tell you what version it is. If it&#39;s less than 1.18.28, upgade it.\r\n\r\n## Use `--add-opens`\r\n\r\nWhereever `javac` is being invoked, add the following switches:\r\n\r\n```\r\njavac \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\r\n  -cp classpath arguments *.java\r\n```\r\n\r\nThat last line are your usual arguments. If you use a build system it can be quite a bit of effort to figure out how to do that, which is why lombok normally takes care of this for you. However, due to either the JDK you use being too recent or the lombok version you have being too outdated, that part isn&#39;t working. These `--J-add-opens` lines do it manually.\r\n\r\n","title":"why compile error when upgrade lombok to 1.18.28 with jdk17?","body":"<p>NB: I'm a lombok contributor.</p>\n<p>This error is what you get when you run lombok 1.18.28 on JDK21. Not JDK17. Check your JDK version (and double-check your lombok version, as you'd get that error very old lombok versions on JDK17). JDK21 support is on its way (and some steps to permanently solve the problem is going on in branch <code>maven-plugin</code> which hasn't been released in a downloadable version just yet.</p>\n<h2>Check java version</h2>\n<p>You can check your java version with <code>java --version</code> - if it's JDK21, downgrade your JDK, or use the <code>--add-opens</code> strategy</p>\n<h2>Check lombok version</h2>\n<p>Find the lombok being used in your compilation process. <code>java -jar lombok.jar version</code> will tell you what version it is. If it's less than 1.18.28, upgade it.</p>\n<h2>Use <code>--add-opens</code></h2>\n<p>Whereever <code>javac</code> is being invoked, add the following switches:</p>\n<pre><code>javac \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\n  -cp classpath arguments *.java\n</code></pre>\n<p>That last line are your usual arguments. If you use a build system it can be quite a bit of effort to figure out how to do that, which is why lombok normally takes care of this for you. However, due to either the JDK you use being too recent or the lombok version you have being too outdated, that part isn't working. These <code>--J-add-opens</code> lines do it manually.</p>\n"}],"owner":{"account_id":10558541,"reputation":13,"user_id":7778957,"display_name":"tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77037261,"answer_count":1,"score":0,"last_activity_date":1693826125,"creation_date":1693811890,"question_id":77035768,"body_markdown":"I&#39;m upgrading the Java version to 17. Here is the stacktrace.\r\n```none\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @2eb9b035\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\r\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\r\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\r\n    at lombok.permit.Permit.setAccessible (Permit.java:71)\r\n    at lombok.permit.Permit.getField (Permit.java:105)\r\n    at lombok.javac.apt.LombokProcessor.getFieldAccessor (LombokProcessor.java:115)\r\n    at lombok.javac.apt.LombokProcessor.&lt;clinit&gt; (LombokProcessor.java:109)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n    at java.lang.reflect.ReflectAccess.newInstance (ReflectAccess.java:128)\r\n    at jdk.internal.reflect.ReflectionFactory.newInstance (ReflectionFactory.java:347)\r\n    at java.lang.Class.newInstance (Class.java:645)\r\n    at lombok.core.AnnotationProcessor$JavacDescriptor.want (AnnotationProcessor.java:115)\r\n    at lombok.core.AnnotationProcessor.init (AnnotationProcessor.java:177)\r\n    at lombok.launch.AnnotationProcessorHider$AnnotationProcessor.init (AnnotationProcessor.java:73)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$ProcessorState.&lt;init&gt; (JavacProcessingEnvironment.java:701)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.next (JavacProcessingEnvironment.java:828)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:924)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1267)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1382)\r\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1234)\r\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:916)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:152)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:126)\r\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n```\r\nI have checked the dependency with cmd: `mvn dependency:tree`, and found the Lombok version is up to 1.18.28, and also mapstruct:jar:1.5.2.Final\r\n\r\nPlease help me if you know how this happens.","title":"why compile error when upgrade lombok to 1.18.28 with jdk17?","body":"<p>I'm upgrading the Java version to 17. Here is the stacktrace.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @2eb9b035\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\n    at lombok.permit.Permit.setAccessible (Permit.java:71)\n    at lombok.permit.Permit.getField (Permit.java:105)\n    at lombok.javac.apt.LombokProcessor.getFieldAccessor (LombokProcessor.java:115)\n    at lombok.javac.apt.LombokProcessor.&lt;clinit&gt; (LombokProcessor.java:109)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.ReflectAccess.newInstance (ReflectAccess.java:128)\n    at jdk.internal.reflect.ReflectionFactory.newInstance (ReflectionFactory.java:347)\n    at java.lang.Class.newInstance (Class.java:645)\n    at lombok.core.AnnotationProcessor$JavacDescriptor.want (AnnotationProcessor.java:115)\n    at lombok.core.AnnotationProcessor.init (AnnotationProcessor.java:177)\n    at lombok.launch.AnnotationProcessorHider$AnnotationProcessor.init (AnnotationProcessor.java:73)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$ProcessorState.&lt;init&gt; (JavacProcessingEnvironment.java:701)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.next (JavacProcessingEnvironment.java:828)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:924)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1267)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1382)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1234)\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:916)\n    at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:152)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:126)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n</code></pre>\n<p>I have checked the dependency with cmd: <code>mvn dependency:tree</code>, and found the Lombok version is up to 1.18.28, and also mapstruct:jar:1.5.2.Final</p>\n<p>Please help me if you know how this happens.</p>\n"},{"tags":["java","rest","quarkus","quarkus-oidc"],"comments":[{"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"score":1,"creation_date":1693741166,"post_id":77022416,"comment_id":135797877,"body_markdown":"Did you try setting &#39;quarkus.http.auth.proactive&#39; to false?","body":"Did you try setting &#39;quarkus.http.auth.proactive&#39; to false?"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1693817817,"post_id":77022416,"comment_id":135805601,"body_markdown":"Indeed, see https://quarkus.io/guides/security-proactive-authentication","body":"Indeed, see <a href=\"https://quarkus.io/guides/security-proactive-authentication\" rel=\"nofollow noreferrer\">quarkus.io/guides/security-proactive-authentication</a>"},{"owner":{"account_id":10872114,"reputation":41,"user_id":7993672,"display_name":"S&#246;ren"},"score":0,"creation_date":1693825675,"post_id":77022416,"comment_id":135806920,"body_markdown":"Thanks a lot, iabughosh and @SergeyBeryozkin - this solved my problem","body":"Thanks a lot, iabughosh and @SergeyBeryozkin - this solved my problem"}],"answers":[{"tags":[],"owner":{"account_id":10872114,"reputation":41,"user_id":7993672,"display_name":"S&#246;ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693825990,"creation_date":1693825990,"answer_id":77037246,"question_id":77022416,"body_markdown":"Problem was solved thanks to the help by @iabughosh and @SergeyBeryozkin\r\nBy setting the property: **quarkus.http.auth.proactive** to **false** my permitted paths were not rejected anymore - Thanks\r\n ","title":"Quarkus: 401 for permitted route when request contains Bearer token","body":"<p>Problem was solved thanks to the help by @iabughosh and @SergeyBeryozkin\nBy setting the property: <strong>quarkus.http.auth.proactive</strong> to <strong>false</strong> my permitted paths were not rejected anymore - Thanks</p>\n"}],"owner":{"account_id":10872114,"reputation":41,"user_id":7993672,"display_name":"S&#246;ren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77037246,"answer_count":1,"score":1,"last_activity_date":1693825990,"creation_date":1693564741,"question_id":77022416,"body_markdown":"I got the following scenario:\r\n\r\nI&#39;m migrating a legacy application into a new Quarkus based application. For routes addressing the legacy API, Quarkus is dealing as a proxy.\r\n\r\nThe requirement is, that all routes that point to the legacy API, are permitted and not checked by OIDC check of Quarkus, since the legacy API has it&#39;s own auth mechanism.\r\n\r\nWhen making requests to that specific route they are correctly forwarded to the legacy API and are not rejected with 401.\r\n\r\n**BUT**: as soon as a request for that specific route contains a Bearer token like e.g.: &quot;Bearer eyJhb....&quot; in the &quot;Authorization&quot; header, Quarkus OIDC kicks in and rejects this request with 401.\r\n\r\nIf I omit the &quot;Bearer &quot; from the beginning of the header (since the legacy API can handle that as well), then the quarkus OIDC check does not happen and the request is forwarded.\r\n\r\nMy current solution is using a RouteFilter with high priority and remove the &quot;Beraer &quot; from the beginning of the Auth header. Which as a result does then not trigger OIDC check of Quarkus.\r\n\r\nBut I would prefer to have a more cleaner solution without header manipulation, that gives me the possibility to skip the Quarkus OIDC check for a certain route.\r\n\r\nI wonder if this is a bug in Quarkus, that it still checks the Bearer token, also for routes that are permitted in the application.properties like that:\r\n\r\n```\r\nquarkus.http.auth.permission.permit1.paths=/legacyapi/*\r\nquarkus.http.auth.permission.permit1.policy=permit\r\nquarkus.http.auth.permission.permit1.methods=GET,POST,PUT,DELETE,PATCH,HEAD\r\n```\r\n\r\nI tried so many ways to get around the OIDC check with filters and interceptors but didn&#39;t find a way to avoid OIDC check kicking in before my filters / interceptors where called.\r\n\r\nDoes somebody have a working hint how I get around the OIDC check for a specific path?\r\n\r\nI&#39;m currently on Quarkus version: 2.16.7.Final\r\n\r\nI&#39;m expecting that the permit configuration in the application.properties  file does not depend on whether a request contains Bearer token or not - but maybe I&#39;m wrong?","title":"Quarkus: 401 for permitted route when request contains Bearer token","body":"<p>I got the following scenario:</p>\n<p>I'm migrating a legacy application into a new Quarkus based application. For routes addressing the legacy API, Quarkus is dealing as a proxy.</p>\n<p>The requirement is, that all routes that point to the legacy API, are permitted and not checked by OIDC check of Quarkus, since the legacy API has it's own auth mechanism.</p>\n<p>When making requests to that specific route they are correctly forwarded to the legacy API and are not rejected with 401.</p>\n<p><strong>BUT</strong>: as soon as a request for that specific route contains a Bearer token like e.g.: &quot;Bearer eyJhb....&quot; in the &quot;Authorization&quot; header, Quarkus OIDC kicks in and rejects this request with 401.</p>\n<p>If I omit the &quot;Bearer &quot; from the beginning of the header (since the legacy API can handle that as well), then the quarkus OIDC check does not happen and the request is forwarded.</p>\n<p>My current solution is using a RouteFilter with high priority and remove the &quot;Beraer &quot; from the beginning of the Auth header. Which as a result does then not trigger OIDC check of Quarkus.</p>\n<p>But I would prefer to have a more cleaner solution without header manipulation, that gives me the possibility to skip the Quarkus OIDC check for a certain route.</p>\n<p>I wonder if this is a bug in Quarkus, that it still checks the Bearer token, also for routes that are permitted in the application.properties like that:</p>\n<pre><code>quarkus.http.auth.permission.permit1.paths=/legacyapi/*\nquarkus.http.auth.permission.permit1.policy=permit\nquarkus.http.auth.permission.permit1.methods=GET,POST,PUT,DELETE,PATCH,HEAD\n</code></pre>\n<p>I tried so many ways to get around the OIDC check with filters and interceptors but didn't find a way to avoid OIDC check kicking in before my filters / interceptors where called.</p>\n<p>Does somebody have a working hint how I get around the OIDC check for a specific path?</p>\n<p>I'm currently on Quarkus version: 2.16.7.Final</p>\n<p>I'm expecting that the permit configuration in the application.properties  file does not depend on whether a request contains Bearer token or not - but maybe I'm wrong?</p>\n"},{"tags":["java","sql","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1693778350,"post_id":77034141,"comment_id":135801933,"body_markdown":"Put your create table statement into a string and print it out. You should see your mistake quickly.","body":"Put your create table statement into a string and print it out. You should see your mistake quickly."}],"answers":[{"comments":[{"owner":{"account_id":29146535,"reputation":3,"user_id":22328333,"display_name":"Edward Khazzoum"},"score":0,"creation_date":1693824413,"post_id":77034541,"comment_id":135806714,"body_markdown":"it was the simple wow.. However, now I am getting the following error: Table &quot;PAYROLLS&quot; not found; SQL statement:\nINSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?) [42102-214].\n\nwhy? my sql says to create the table IF NOT EXISTS","body":"it was the simple wow.. However, now I am getting the following error: Table &quot;PAYROLLS&quot; not found; SQL statement: INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?) [42102-214].  why? my sql says to create the table IF NOT EXISTS"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1693825726,"post_id":77034541,"comment_id":135806934,"body_markdown":"I&#39;ve updated my answer.","body":"I&#39;ve updated my answer."},{"owner":{"account_id":29146535,"reputation":3,"user_id":22328333,"display_name":"Edward Khazzoum"},"score":0,"creation_date":1693848670,"post_id":77034541,"comment_id":135811221,"body_markdown":"Thank you very much. Also, I am aware of the bad practices used in my code. I am not sure of how to organise my code in such projects so I usually do everything in the HTTP method which probably isn&#39;t the best idea.","body":"Thank you very much. Also, I am aware of the bad practices used in my code. I am not sure of how to organise my code in such projects so I usually do everything in the HTTP method which probably isn&#39;t the best idea."}],"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693825692,"creation_date":1693786002,"answer_id":77034541,"question_id":77034141,"body_markdown":"You need to add closing parenthesis here:\r\n```lang-java\r\n&quot;salary INTEGER)&quot;);\r\n````\r\n\r\nYou also cannot create this statement\r\n```lang-java\r\nPreparedStatement statement = connection.prepareStatement(\r\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\r\n```\r\nbefore `createTable.executeUpdate();`, because H2 complies prepared statements immediately due to performance reasons. You need to move initialization of `statement` below execution of `createTable`.\r\n\r\nActually it will be much better to reorganize your application, it should create schema in your database during initialization. Don&#39;t mix your queries and data modification commands with data definition commands, this is really a bad idea for any application.","title":"Why am I getting error 42001-214 when trying to create a table in H2 database?","body":"<p>You need to add closing parenthesis here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;salary INTEGER)&quot;);\n</code></pre>\n<p>You also cannot create this statement</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement statement = connection.prepareStatement(\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\n</code></pre>\n<p>before <code>createTable.executeUpdate();</code>, because H2 complies prepared statements immediately due to performance reasons. You need to move initialization of <code>statement</code> below execution of <code>createTable</code>.</p>\n<p>Actually it will be much better to reorganize your application, it should create schema in your database during initialization. Don't mix your queries and data modification commands with data definition commands, this is really a bad idea for any application.</p>\n"}],"owner":{"account_id":29146535,"reputation":3,"user_id":22328333,"display_name":"Edward Khazzoum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77034541,"answer_count":1,"score":-2,"last_activity_date":1693825692,"creation_date":1693774477,"question_id":77034141,"body_markdown":"I am working on an Account Service project using Java, spring boot and H2 database and the next step is to implement adding employee salaries using sql. \r\n\r\nThis is the relevant code for reference :\r\n\r\n\r\n```java\r\n  @PostMapping(&quot;/api/acct/payments&quot;)\r\n    public ResponseEntity&lt;?&gt; postPayrolls(@Valid @RequestBody UserPayroll[] payrolls) throws SQLException {\r\n        try (Connection connection = DriverManager.getConnection(url)) {\r\n            connection.setAutoCommit(false);\r\n            try (PreparedStatement createTable = connection.prepareStatement(&quot;CREATE TABLE IF NOT EXISTS payrolls(&quot; +\r\n                    &quot;employee VARCHAR(20),&quot; +\r\n                    &quot;period VARCHAR(20),&quot; +\r\n                    &quot;salary INTEGER&quot;);\r\n                    PreparedStatement statement = connection.prepareStatement(\r\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\r\n\r\n                createTable.executeUpdate();\r\n                for (UserPayroll payroll : payrolls) {\r\n                    statement.setString(1, payroll.getEmployee());\r\n                    statement.setString(2, payroll.getPeriod());\r\n                    statement.setLong(3, payroll.getSalary());\r\n                    statement.executeUpdate();\r\n                }\r\n                connection.commit();\r\n            } catch (SQLException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;1 &quot; + e.getMessage());\r\n        }\r\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;status&quot;, &quot;Added successfully!&quot;);\r\n        return ResponseEntity.ok().body(response);\r\n    }\r\n```\r\n\r\n\r\n\r\n```java\r\npublic class UserPayroll {\r\n\r\n    private String employee;\r\n    @Pattern(regexp = &quot;^(0[1-9]|1[0-2])-(20\\\\d{2}|19\\\\d{2})$&quot;)\r\n    private String period;\r\n    @Min(1)\r\n    private Long salary;\r\n\r\n//Constructors, Getters and Setters\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the error I am getting when trying to create the table payrolls :\r\n&gt;Syntax error in SQL statement &quot;CREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER[*]&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\r\nCREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER [42001-214]\r\n\r\nWhen the user enters the url, they must provide a list of UserPayrolls which must be then added to the database. However, an SQL exception is being thrown so nothing is being saved in the database.","title":"Why am I getting error 42001-214 when trying to create a table in H2 database?","body":"<p>I am working on an Account Service project using Java, spring boot and H2 database and the next step is to implement adding employee salaries using sql.</p>\n<p>This is the relevant code for reference :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostMapping(&quot;/api/acct/payments&quot;)\n    public ResponseEntity&lt;?&gt; postPayrolls(@Valid @RequestBody UserPayroll[] payrolls) throws SQLException {\n        try (Connection connection = DriverManager.getConnection(url)) {\n            connection.setAutoCommit(false);\n            try (PreparedStatement createTable = connection.prepareStatement(&quot;CREATE TABLE IF NOT EXISTS payrolls(&quot; +\n                    &quot;employee VARCHAR(20),&quot; +\n                    &quot;period VARCHAR(20),&quot; +\n                    &quot;salary INTEGER&quot;);\n                    PreparedStatement statement = connection.prepareStatement(\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\n\n                createTable.executeUpdate();\n                for (UserPayroll payroll : payrolls) {\n                    statement.setString(1, payroll.getEmployee());\n                    statement.setString(2, payroll.getPeriod());\n                    statement.setLong(3, payroll.getSalary());\n                    statement.executeUpdate();\n                }\n                connection.commit();\n            } catch (SQLException e) {\n                System.out.println(e.getMessage());\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;1 &quot; + e.getMessage());\n        }\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;status&quot;, &quot;Added successfully!&quot;);\n        return ResponseEntity.ok().body(response);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserPayroll {\n\n    private String employee;\n    @Pattern(regexp = &quot;^(0[1-9]|1[0-2])-(20\\\\d{2}|19\\\\d{2})$&quot;)\n    private String period;\n    @Min(1)\n    private Long salary;\n\n//Constructors, Getters and Setters\n}\n</code></pre>\n<p>This is the error I am getting when trying to create the table payrolls :</p>\n<blockquote>\n<p>Syntax error in SQL statement &quot;CREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER[*]&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\nCREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER [42001-214]</p>\n</blockquote>\n<p>When the user enters the url, they must provide a list of UserPayrolls which must be then added to the database. However, an SQL exception is being thrown so nothing is being saved in the database.</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson2"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1693823738,"post_id":77036935,"comment_id":135806593,"body_markdown":"If you use a custom serializer you need do an override of the isEmpty method to make it work. And I know about other solution but I never testing since I prefer do my own implementation but if you add the following params into the annotation should work too  ```@JsonSerialize(using=YourCustomSerializer.class, include=JsonInclude.NON_NULL)```","body":"If you use a custom serializer you need do an override of the isEmpty method to make it work. And I know about other solution but I never testing since I prefer do my own implementation but if you add the following params into the annotation should work too  <code>@JsonSerialize(using=YourCustomSerializer.class, include=JsonInclude.NON_NULL)</code>"},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1693826257,"post_id":77036935,"comment_id":135807032,"body_markdown":"@AdrianLagartera Thanks a lot for providing the answer but I did not follow completely because if I am adding based on your approach then I am getting the error: `Cannot resolve symbol `NON_NULL``. Following is something that I have added: ` @JsonSerialize(using = CustomSearilizer.class, include=JsonInclude.NON_NULL)`. Can you please provide some more explanation?","body":"@AdrianLagartera Thanks a lot for providing the answer but I did not follow completely because if I am adding based on your approach then I am getting the error: <code>Cannot resolve symbol </code>NON_NULL``. Following is something that I have added: ` @JsonSerialize(using = CustomSearilizer.class, include=JsonInclude.NON_NULL)`. Can you please provide some more explanation?"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1693835027,"post_id":77036935,"comment_id":135808763,"body_markdown":"You tried the first one? When you implements the custom serializer you can override the `isEmpty` method, if you do that, you need check the empty values you want check in your case just the list. The second one I put was a option I never tried myself so, I can&#39;t provide you more information, but should work.","body":"You tried the first one? When you implements the custom serializer you can override the <code>isEmpty</code> method, if you do that, you need check the empty values you want check in your case just the list. The second one I put was a option I never tried myself so, I can&#39;t provide you more information, but should work."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1693908296,"post_id":77036935,"comment_id":135818201,"body_markdown":"@AdrianLagartera I tried the first one where I checked for the `isEmpty` for the `list` in `CustomSearilizer `. If it is empty then I am skipping it, if I do that then it adds the `list` key to my JSON and skips the values, this is a bit odd and not the standard JSON I expect. I want it to completely skip the `list` element from JSON if it does not contain any values. With regards to second option I could not find any article or proper documentation, can you at least provide some link which i can refer?","body":"@AdrianLagartera I tried the first one where I checked for the <code>isEmpty</code> for the <code>list</code> in <code>CustomSearilizer </code>. If it is empty then I am skipping it, if I do that then it adds the <code>list</code> key to my JSON and skips the values, this is a bit odd and not the standard JSON I expect. I want it to completely skip the <code>list</code> element from JSON if it does not contain any values. With regards to second option I could not find any article or proper documentation, can you at least provide some link which i can refer?"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1693910028,"post_id":77036935,"comment_id":135818551,"body_markdown":"The only post I remember is this (https://www.logicbig.com/tutorials/misc/jackson/json-include-customized.html) but I dont know what version Jackson is using, remember Jackson have a few changes after 2.1+. Btw they use filters for each custom field, so it should work with that use of filters.","body":"The only post I remember is this (<a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-include-customized.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/misc/jackson/&hellip;</a>) but I dont know what version Jackson is using, remember Jackson have a few changes after 2.1+. Btw they use filters for each custom field, so it should work with that use of filters."}],"answers":[{"comments":[{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1693825899,"post_id":77037208,"comment_id":135806974,"body_markdown":"@Micheal I need to include the `CustomSearilizer` for my `List&lt;Object&gt; list` because it&#39;s `List&lt;Object&gt;` and if it has the values then I need to Serialize in my own format so I need to have this. However, if the List is empty then I need to completely skip it. So I believe just adding `@JsonInclude(JsonInclude.Include.NON_EMPTY)` is not working for me when using with `CustomSearilizer`","body":"@Micheal I need to include the <code>CustomSearilizer</code> for my <code>List&lt;Object&gt; list</code> because it&#39;s <code>List&lt;Object&gt;</code> and if it has the values then I need to Serialize in my own format so I need to have this. However, if the List is empty then I need to completely skip it. So I believe just adding <code>@JsonInclude(JsonInclude.Include.NON_EMPTY)</code> is not working for me when using with <code>CustomSearilizer</code>"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1693826413,"post_id":77037208,"comment_id":135807055,"body_markdown":"Well, I guess custom serializer ignores the annotation, so you have to take care of it in your custom serializer.","body":"Well, I guess custom serializer ignores the annotation, so you have to take care of it in your custom serializer."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1693828529,"post_id":77037208,"comment_id":135807474,"body_markdown":"ok, do you have any idea how to do it? If i add `.isEmpty` then it adds the key `list` but skips the value which is odd. Do you have any other suggestion.","body":"ok, do you have any idea how to do it? If i add <code>.isEmpty</code> then it adds the key <code>list</code> but skips the value which is odd. Do you have any other suggestion."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1693832958,"post_id":77037208,"comment_id":135808344,"body_markdown":"No, I don&#39;t, I usually try to avoid custom serializer if I can solve my issue in any other way","body":"No, I don&#39;t, I usually try to avoid custom serializer if I can solve my issue in any other way"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693825681,"creation_date":1693825681,"answer_id":77037208,"question_id":77036935,"body_markdown":"I just ran a test and just adding the annotation `@JsonInclude(JsonInclude.Include.NON_EMPTY)` to the serialized class did the trick. No other action was needed. No custom serializer and no modification for ObjectMapper configuration. Here is the article that eaplains the example: \r\n[Jackson JSON - @JsonInclude NON_EMPTY Example][1]\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/misc/jackson/json-include-non-empty.html","title":"How to exclude the empty list from JSON during the Serialization using the Jackson Serializer?","body":"<p>I just ran a test and just adding the annotation <code>@JsonInclude(JsonInclude.Include.NON_EMPTY)</code> to the serialized class did the trick. No other action was needed. No custom serializer and no modification for ObjectMapper configuration. Here is the article that eaplains the example:\n<a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-include-non-empty.html\" rel=\"nofollow noreferrer\">Jackson JSON - @JsonInclude NON_EMPTY Example</a></p>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693825681,"creation_date":1693823037,"question_id":77036935,"body_markdown":"How to avoid writing the empty list using the Jackson Custom serializer? Currently, it&#39;s adding the empty list: `&quot;list&quot; : [ ]` but I want it to completely skip it, either with some annotations or using the custom sealizer. I have created the demo with `Collections.emptyList()`, I am aware that if I remove then it will skip the empty list but this is just for demo purposes and I want to skip using some other approach:\r\n\r\nMyClass:\r\n```\r\n@Data\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n@AllArgsConstructor\r\npublic class MyClass {\r\n    private String type;\r\n\r\n    private String name;\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    @JsonSerialize(using = CustomSearilizer.class)\r\n    private List&lt;Object&gt; list;\r\n}\r\n```\r\n\r\nCustomSearilizer:\r\n```\r\npublic class CustomSearilizer extends JsonSerializer&lt;List&lt;Object&gt;&gt; {\r\n    @Override\r\n    public void serialize(final List&lt;Object&gt; context, final JsonGenerator jsonGenerator, final SerializerProvider serializers) throws IOException {\r\n\r\n        jsonGenerator.writeStartArray();\r\n\r\n        context.stream().forEach(item -&gt; {\r\n            if (item instanceof Map) {\r\n                Map&lt;String, String&gt; entries = (Map&lt;String, String&gt;) item;\r\n                entries.entrySet().stream().forEach(entry -&gt; {\r\n                    try {\r\n                        jsonGenerator.writeStartObject();\r\n                        jsonGenerator.writeStringField(entry.getKey(), entry.getValue());\r\n                        jsonGenerator.writeEndObject();\r\n                    } catch (IOException ex) {\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n        jsonGenerator.writeEndArray();\r\n    }\r\n}\r\n```\r\n\r\nMain:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n\r\n        final MyClass myClass = new MyClass(&quot;My Name&quot;, &quot;My Type&quot;, Collections.emptyList());\r\n\r\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(myClass));\r\n    }\r\n}\r\n```\r\n\r\nThis is providing me with following JSON:\r\n```\r\n{\r\n  &quot;type&quot; : &quot;My Name&quot;,\r\n  &quot;name&quot; : &quot;My Type&quot;,\r\n  &quot;list&quot; : [ ]\r\n}\r\n```\r\n\r\nI would like to create it following JSON:\r\n```\r\n{\r\n  &quot;type&quot; : &quot;My Name&quot;,\r\n  &quot;name&quot; : &quot;My Type&quot;\r\n}\r\n```\r\n\r\nThis is just a demo so I have added collections.emptyList to re-create the issue but is there any way I can skip adding these emptyList in JSON when using the customsealizer?","title":"How to exclude the empty list from JSON during the Serialization using the Jackson Serializer?","body":"<p>How to avoid writing the empty list using the Jackson Custom serializer? Currently, it's adding the empty list: <code>&quot;list&quot; : [ ]</code> but I want it to completely skip it, either with some annotations or using the custom sealizer. I have created the demo with <code>Collections.emptyList()</code>, I am aware that if I remove then it will skip the empty list but this is just for demo purposes and I want to skip using some other approach:</p>\n<p>MyClass:</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@AllArgsConstructor\npublic class MyClass {\n    private String type;\n\n    private String name;\n\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\n    @JsonSerialize(using = CustomSearilizer.class)\n    private List&lt;Object&gt; list;\n}\n</code></pre>\n<p>CustomSearilizer:</p>\n<pre><code>public class CustomSearilizer extends JsonSerializer&lt;List&lt;Object&gt;&gt; {\n    @Override\n    public void serialize(final List&lt;Object&gt; context, final JsonGenerator jsonGenerator, final SerializerProvider serializers) throws IOException {\n\n        jsonGenerator.writeStartArray();\n\n        context.stream().forEach(item -&gt; {\n            if (item instanceof Map) {\n                Map&lt;String, String&gt; entries = (Map&lt;String, String&gt;) item;\n                entries.entrySet().stream().forEach(entry -&gt; {\n                    try {\n                        jsonGenerator.writeStartObject();\n                        jsonGenerator.writeStringField(entry.getKey(), entry.getValue());\n                        jsonGenerator.writeEndObject();\n                    } catch (IOException ex) {\n                        throw new RuntimeException(ex);\n                    }\n\n                });\n            }\n        });\n\n        jsonGenerator.writeEndArray();\n    }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        final ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n\n        final MyClass myClass = new MyClass(&quot;My Name&quot;, &quot;My Type&quot;, Collections.emptyList());\n\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(myClass));\n    }\n}\n</code></pre>\n<p>This is providing me with following JSON:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;My Name&quot;,\n  &quot;name&quot; : &quot;My Type&quot;,\n  &quot;list&quot; : [ ]\n}\n</code></pre>\n<p>I would like to create it following JSON:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;My Name&quot;,\n  &quot;name&quot; : &quot;My Type&quot;\n}\n</code></pre>\n<p>This is just a demo so I have added collections.emptyList to re-create the issue but is there any way I can skip adding these emptyList in JSON when using the customsealizer?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":6776330,"reputation":1548,"user_id":5217986,"accept_rate":29,"display_name":"Anoop LL"},"score":0,"creation_date":1609919329,"post_id":65591925,"comment_id":115968465,"body_markdown":"why don&#39;t you try to debug or put some try catch to see what is the actual error? Internal server error is a generic error..","body":"why don&#39;t you try to debug or put some try catch to see what is the actual error? Internal server error is a generic error.."},{"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"score":1,"creation_date":1609919403,"post_id":65591925,"comment_id":115968482,"body_markdown":"Can you add the server side logs? they should have a detailed stack trace of the underlying cause.","body":"Can you add the server side logs? they should have a detailed stack trace of the underlying cause."},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609919727,"post_id":65591925,"comment_id":115968589,"body_markdown":"how to add server-side logs can you please explain to me? I&#39;m new to spring boot","body":"how to add server-side logs can you please explain to me? I&#39;m new to spring boot"},{"owner":{"account_id":6776330,"reputation":1548,"user_id":5217986,"accept_rate":29,"display_name":"Anoop LL"},"score":0,"creation_date":1609920017,"post_id":65591925,"comment_id":115968671,"body_markdown":"am not sure about what this Family1Repository is doing but the GET and POST is adding and getting things from List&lt;Family1&gt; family not from the Family1Repository. Check the server console in your IDE to get the  server logs","body":"am not sure about what this Family1Repository is doing but the GET and POST is adding and getting things from List&lt;Family1&gt; family not from the Family1Repository. Check the server console in your IDE to get the  server logs"},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1609920155,"post_id":65591925,"comment_id":115968720,"body_markdown":"The Repository is also not corresponding correctly to the Family1 entity. The repository expects a `String` ID field, but Family1 uses `long`. You might want to change it to: `public interface Family1Repository extends CrudRepository&lt;Family1, long&gt;`","body":"The Repository is also not corresponding correctly to the Family1 entity. The repository expects a <code>String</code> ID field, but Family1 uses <code>long</code>. You might want to change it to: <code>public interface Family1Repository extends CrudRepository&lt;Family1, long&gt;</code>"},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609920195,"post_id":65591925,"comment_id":115968731,"body_markdown":"actually you are right the problem will come Family1Repository side. I will try it","body":"actually you are right the problem will come Family1Repository side. I will try it"},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609920989,"post_id":65591925,"comment_id":115968948,"body_markdown":"I changed String to long in the repository it will also not working","body":"I changed String to long in the repository it will also not working"},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1609924924,"post_id":65591925,"comment_id":115970395,"body_markdown":"Did you check the server log like @Sameer mentioned? The 500 should create a stacktrace on the Spring Boot side.","body":"Did you check the server log like @Sameer mentioned? The 500 should create a stacktrace on the Spring Boot side."},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1609925200,"post_id":65591925,"comment_id":115970501,"body_markdown":"Also the `addFamily1` method in your service does not call the repository. So nothing will be added to the database. `getFamily1Id` does nothing with the result of the repository call and simply returns the List. The List entries do not exist in the database, this could be the source of your problems.","body":"Also the <code>addFamily1</code> method in your service does not call the repository. So nothing will be added to the database. <code>getFamily1Id</code> does nothing with the result of the repository call and simply returns the List. The List entries do not exist in the database, this could be the source of your problems."},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609987536,"post_id":65591925,"comment_id":115994041,"body_markdown":"I checked server logs it will show error like this cannot invoke the save(object) it will be null","body":"I checked server logs it will show error like this cannot invoke the save(object) it will be null"}],"answers":[{"comments":[{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609987905,"post_id":65593508,"comment_id":115994101,"body_markdown":"@SebastianThanks for working. Above your mentioned all things to be right but when I access the database in localhost:8081/ it will show a Whitelabel error. I tried many ways but it is didn&#39;t work for me.","body":"@SebastianThanks for working. Above your mentioned all things to be right but when I access the database in localhost:8081/ it will show a Whitelabel error. I tried many ways but it is didn&#39;t work for me."},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1610008585,"post_id":65593508,"comment_id":115998793,"body_markdown":"The controller you posted only handles paths starting with `/family1`. This means that you need to call the REST endpoint like this (with GET): `localhost:8081/family1/fam1` to get all `Family1` entities in your database or an empty list if the database is empty.","body":"The controller you posted only handles paths starting with <code>&#47;family1</code>. This means that you need to call the REST endpoint like this (with GET): <code>localhost:8081&#47;family1&#47;fam1</code> to get all <code>Family1</code> entities in your database or an empty list if the database is empty."},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1610008866,"post_id":65593508,"comment_id":115998902,"body_markdown":"If you want to add a new entry to your database, you need to create a POST request and send the data in the POST body to the endpoint: `localhost:8081/family1/fam1`. These are the same calls you had to do before my changes.","body":"If you want to add a new entry to your database, you need to create a POST request and send the data in the POST body to the endpoint: <code>localhost:8081&#47;family1&#47;fam1</code>. These are the same calls you had to do before my changes."},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1610033006,"post_id":65593508,"comment_id":116009769,"body_markdown":"when I make a post request I got a 500 internal server error how is it possible to save the database","body":"when I make a post request I got a 500 internal server error how is it possible to save the database"},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1610035311,"post_id":65593508,"comment_id":116010912,"body_markdown":"The stacktrace from the Spring Boot app should tell you more about the problem, hopefully.","body":"The stacktrace from the Spring Boot app should tell you more about the problem, hopefully."}],"tags":[],"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609926593,"creation_date":1609926593,"answer_id":65593508,"question_id":65591925,"body_markdown":"You are mixing the call to a predefined list with calls to the repository. The elements in the list have no representation in the database, therefore they are invalid when you use those IDs to delete objects with the repository.\r\n\r\nYou might want to try something like this:\r\n```java\r\n@Service\r\npublic class Family1Service {\r\n    \r\n    private Family1Repository family1Repository;\r\n    \r\n    public  List&lt;Family1&gt; getAllFamily1() {\r\n        return family1Repository.findAll();\r\n    }\r\n\r\n    public Family1 getFamily1Id(long id){\r\n        return family1Repository.findById(id).orElseThrow(); \r\n        // This returns an Optional orElseThrow will create an error if nothing is found\r\n    }\r\n\r\n    public void addFamily1(Family1 family1) {\r\n        family1Repository.save(family1);\r\n    }\r\n    \r\n    public Family1 updateFamily1(Family1 family1) {\r\n        return family1Repository.save(family1); \r\n    }\r\n\r\n    public void deleteFamily1(long id) {\r\n        family1Repository.deleteById(id);\r\n    }\r\n}\r\n```\r\nAnd in the controller:\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/family1&quot;)\r\npublic class Family1Controller {\r\n    \r\n    @Autowired\r\n    private Family1Service family1Service;\r\n\r\n    @RequestMapping(&quot;/fam1&quot;)\r\n    public List&lt;Family1&gt; getAllFamily1(){\r\n        return family1Service.getAllFamily1();\r\n    }\r\n\r\n    @RequestMapping(method=RequestMethod.POST, value=&quot;/fam1&quot;) \r\n    public void addFamily1(@RequestBody Family1 family1){\r\n        family1Service.addFamily1(family1);   \r\n     }\r\n\r\n    @RequestMapping(method=RequestMethod.GET, value=&quot;/fam1/{id}&quot;)\r\n    public Family1 getFamily1Id(@PathVariable long id) {\r\n        return family1Service.getFamily1Id(id);\r\n     }\r\n\r\n     @RequestMapping(method=RequestMethod.PUT, value=&quot;/fam1&quot;)\r\n     public Family1 updateFamily1(@RequestBody Family1 family1){\r\n        return family1Service.updateFamily1(family1);   \r\n    }\r\n\r\n    @RequestMapping(method=RequestMethod.DELETE, value=&quot;/fam1/{id}&quot;)\r\n    public void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\r\n        family1Service.deleteFamily1(id);\r\n    }\r\n}\r\n```\r\n```java\r\npublic interface Family1Repository extends CrudRepository&lt;Family1, long&gt;  {\r\n    // All repository methods you need are already provided by the CrudRepository\r\n}\r\n```\r\nI removed the List you used in the `Family1Service` to avoid data not being present in the database. This might lead to an empty result when calling the `findAll()` method of the repository.\r\n\r\nNote that I did not have time to fully test this, but the general approach should work.","title":"How to fix 500 internal error in spring boot","body":"<p>You are mixing the call to a predefined list with calls to the repository. The elements in the list have no representation in the database, therefore they are invalid when you use those IDs to delete objects with the repository.</p>\n<p>You might want to try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Family1Service {\n    \n    private Family1Repository family1Repository;\n    \n    public  List&lt;Family1&gt; getAllFamily1() {\n        return family1Repository.findAll();\n    }\n\n    public Family1 getFamily1Id(long id){\n        return family1Repository.findById(id).orElseThrow(); \n        // This returns an Optional orElseThrow will create an error if nothing is found\n    }\n\n    public void addFamily1(Family1 family1) {\n        family1Repository.save(family1);\n    }\n    \n    public Family1 updateFamily1(Family1 family1) {\n        return family1Repository.save(family1); \n    }\n\n    public void deleteFamily1(long id) {\n        family1Repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>And in the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/family1&quot;)\npublic class Family1Controller {\n    \n    @Autowired\n    private Family1Service family1Service;\n\n    @RequestMapping(&quot;/fam1&quot;)\n    public List&lt;Family1&gt; getAllFamily1(){\n        return family1Service.getAllFamily1();\n    }\n\n    @RequestMapping(method=RequestMethod.POST, value=&quot;/fam1&quot;) \n    public void addFamily1(@RequestBody Family1 family1){\n        family1Service.addFamily1(family1);   \n     }\n\n    @RequestMapping(method=RequestMethod.GET, value=&quot;/fam1/{id}&quot;)\n    public Family1 getFamily1Id(@PathVariable long id) {\n        return family1Service.getFamily1Id(id);\n     }\n\n     @RequestMapping(method=RequestMethod.PUT, value=&quot;/fam1&quot;)\n     public Family1 updateFamily1(@RequestBody Family1 family1){\n        return family1Service.updateFamily1(family1);   \n    }\n\n    @RequestMapping(method=RequestMethod.DELETE, value=&quot;/fam1/{id}&quot;)\n    public void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\n        family1Service.deleteFamily1(id);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Family1Repository extends CrudRepository&lt;Family1, long&gt;  {\n    // All repository methods you need are already provided by the CrudRepository\n}\n</code></pre>\n<p>I removed the List you used in the <code>Family1Service</code> to avoid data not being present in the database. This might lead to an empty result when calling the <code>findAll()</code> method of the repository.</p>\n<p>Note that I did not have time to fully test this, but the general approach should work.</p>\n"}],"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693825465,"creation_date":1609918906,"question_id":65591925,"body_markdown":"I&#39;m Really getting trouble solving 500 internal error in restapi.\r\n\r\nWhen I make GET and POST request working fine but when I make PUT,DELETE and findById GET request not working. if I try to make a request it will show 500 internal error. I don&#39;t know why it is happening so please help me.\r\nThank you in Advance!\r\nFamily1.class\r\n```\r\n@Entity\r\npublic class Family1 {\r\n\t\r\n\t@Id \r\n\tprivate long id;\r\n\tprivate String Name;\r\n\tprivate int Member;\r\n\tprivate long contactNo;\r\n\t@Embedded\r\n\tpublic Address address;\r\n// getters,setters\r\n````\r\nFamily1Controller.class\r\n````\r\n@RestController\r\n@RequestMapping(value = &quot;/family1&quot;)\r\npublic class Family1Controller {\r\n\t\r\n\t@Autowired\r\n\tprivate Family1Service family1Service;\r\n\r\n@RequestMapping(&quot;/fam1&quot;)\r\n\tpublic List&lt;Family1&gt; getAllFamily1(){\r\n\t\treturn family1Service.getAllFamily1();\r\n\t}\r\n@RequestMapping(method=RequestMethod.POST,value=&quot;/fam1&quot;) \r\n    public void addFamily1(@RequestBody Family1 family1){\r\n        family1Service.addFamily1(family1);   \r\n     }\r\n@RequestMapping(method=RequestMethod.GET,value=&quot;/fam1/{id}&quot;)\r\n\tpublic Family1 getFamily1Id(@PathVariable long id) {\r\n\t\tList&lt;Family1&gt; family=family1Service.getFamily1Id(id);\r\n\t\treturn family.get((int) id);\r\n}\r\n@RequestMapping(method=RequestMethod.PUT,value=&quot;/fam1/{id}&quot;)\r\n\t public Family1 updateFamily1(@RequestBody Family1 family1, @PathVariable(&quot;id&quot;) long id){\r\n\t\tfamily1.setId(id);\r\n\t\treturn family1Service.updateFamily1(family1);\t\r\n\t}\r\n@RequestMapping(method=RequestMethod.DELETE,value=&quot;/fam1/{id}&quot;)\r\n\tpublic void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\r\n\t\tfamily1Service.deleteFamily1(id);\r\n\t}\r\n\r\n}\r\n````\r\nFamily1Service.class\r\n````\r\n\r\n@Service\r\npublic class Family1Service {\r\n\t\r\n\tprivate Family1Repository family1Repository;\r\n     \r\n\tprivate List&lt;Family1&gt; family=new ArrayList&lt;&gt;(Arrays.asList(\r\n\t\t\tnew Family1(1,&quot;abc&quot;,3,32423423,new Address(&quot;east street&quot;,&quot;xxxxxx&quot;,23456)),\r\n\t\t\tnew Family1(2,&quot;xyz&quot;,4,354646,new Address(&quot;west street&quot;,&quot;yyyyyy&quot;,23456)),\r\n\t\t\t));\r\n\t\r\n\tpublic  List&lt;Family1&gt; getAllFamily1() {\r\n\t\treturn family;\r\n\t}\r\n\tpublic List&lt;Family1&gt; getFamily1Id(long id){\r\n\t\tfamily1Repository.findById(id);\r\n\t\treturn family;\r\n\t}\r\n\tpublic void addFamily1(Family1 family1) {\r\n\t\tfamily.add(family1);\r\n\t}\r\n\t\r\n\tpublic Family1 updateFamily1(Family1 family1) {\r\n\t\treturn family1Repository.save(family1);\t\r\n\t}\r\n\tpublic void deleteFamily1(long id) {\r\n\t\tfamily1Repository.deleteById(id);\r\n\t}\r\n}\r\n`````\r\nFamily1Repository.class\r\n````\r\npublic interface Family1Repository extends CrudRepository&lt;Family1, String&gt;  {\r\n\r\n\tpublic void deleteById(long id);\r\n\r\n\tpublic void save(Family1 family1, long id);\r\n\r\n\tpublic void findById(long id);\r\n````\r\nFamily1application.class\r\n````\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\npublic class Family1Application {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Family1Application.class, args);\r\n\t\t\r\n\t\t\t}\r\n       \r\n}\r\n`````\r\nerror:\r\n````\r\n{\r\n    &quot;timestamp&quot;: &quot;2021-01-06T07:32:49.232+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;&quot;,\r\n    &quot;path&quot;: &quot;/family1/fam1/1&quot;\r\n}\r\n","title":"How to fix 500 internal error in spring boot","body":"<p>I'm Really getting trouble solving 500 internal error in restapi.</p>\n<p>When I make GET and POST request working fine but when I make PUT,DELETE and findById GET request not working. if I try to make a request it will show 500 internal error. I don't know why it is happening so please help me.\nThank you in Advance!\nFamily1.class</p>\n<pre><code>@Entity\npublic class Family1 {\n    \n    @Id \n    private long id;\n    private String Name;\n    private int Member;\n    private long contactNo;\n    @Embedded\n    public Address address;\n// getters,setters\n</code></pre>\n<p>Family1Controller.class</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/family1&quot;)\npublic class Family1Controller {\n    \n    @Autowired\n    private Family1Service family1Service;\n\n@RequestMapping(&quot;/fam1&quot;)\n    public List&lt;Family1&gt; getAllFamily1(){\n        return family1Service.getAllFamily1();\n    }\n@RequestMapping(method=RequestMethod.POST,value=&quot;/fam1&quot;) \n    public void addFamily1(@RequestBody Family1 family1){\n        family1Service.addFamily1(family1);   \n     }\n@RequestMapping(method=RequestMethod.GET,value=&quot;/fam1/{id}&quot;)\n    public Family1 getFamily1Id(@PathVariable long id) {\n        List&lt;Family1&gt; family=family1Service.getFamily1Id(id);\n        return family.get((int) id);\n}\n@RequestMapping(method=RequestMethod.PUT,value=&quot;/fam1/{id}&quot;)\n     public Family1 updateFamily1(@RequestBody Family1 family1, @PathVariable(&quot;id&quot;) long id){\n        family1.setId(id);\n        return family1Service.updateFamily1(family1);   \n    }\n@RequestMapping(method=RequestMethod.DELETE,value=&quot;/fam1/{id}&quot;)\n    public void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\n        family1Service.deleteFamily1(id);\n    }\n\n}\n</code></pre>\n<p>Family1Service.class</p>\n<pre><code>\n@Service\npublic class Family1Service {\n    \n    private Family1Repository family1Repository;\n     \n    private List&lt;Family1&gt; family=new ArrayList&lt;&gt;(Arrays.asList(\n            new Family1(1,&quot;abc&quot;,3,32423423,new Address(&quot;east street&quot;,&quot;xxxxxx&quot;,23456)),\n            new Family1(2,&quot;xyz&quot;,4,354646,new Address(&quot;west street&quot;,&quot;yyyyyy&quot;,23456)),\n            ));\n    \n    public  List&lt;Family1&gt; getAllFamily1() {\n        return family;\n    }\n    public List&lt;Family1&gt; getFamily1Id(long id){\n        family1Repository.findById(id);\n        return family;\n    }\n    public void addFamily1(Family1 family1) {\n        family.add(family1);\n    }\n    \n    public Family1 updateFamily1(Family1 family1) {\n        return family1Repository.save(family1); \n    }\n    public void deleteFamily1(long id) {\n        family1Repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>Family1Repository.class</p>\n<pre><code>public interface Family1Repository extends CrudRepository&lt;Family1, String&gt;  {\n\n    public void deleteById(long id);\n\n    public void save(Family1 family1, long id);\n\n    public void findById(long id);\n</code></pre>\n<p>Family1application.class</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class Family1Application {\n\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Family1Application.class, args);\n        \n            }\n       \n}\n</code></pre>\n<p>error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2021-01-06T07:32:49.232+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/family1/fam1/1&quot;\n}\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":1992083,"reputation":966,"user_id":1785883,"display_name":"AlexW"},"score":0,"creation_date":1429865586,"post_id":29842516,"comment_id":47811863,"body_markdown":"Did you add command line arguments mentioned in the first line to your java server command line?","body":"Did you add command line arguments mentioned in the first line to your java server command line?"}],"answers":[{"tags":[],"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429864984,"creation_date":1429864984,"answer_id":29842680,"question_id":29842516,"body_markdown":"Connection refused can be happened due to many reasons. It can be due to firewall or proxy. Please check in the Internet Connections whether you are using any proxy or not. If you are using any proxy, you have to use proxy through that you can create connection.\r\n\r\n","title":"java.net.ConnectException when running IntelliJ debugger","body":"<p>Connection refused can be happened due to many reasons. It can be due to firewall or proxy. Please check in the Internet Connections whether you are using any proxy or not. If you are using any proxy, you have to use proxy through that you can create connection.</p>\n"}],"owner":{"account_id":3886530,"reputation":89,"user_id":3217746,"accept_rate":0,"display_name":"user3217746"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11392,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693825465,"creation_date":1429864574,"question_id":29842516,"body_markdown":"I am trying to debug my Java server with IntelliJ. Every time I start the debugger it shows:\r\n\r\n&gt; Error running game debug: Unable to open debugger port :\r\n&gt; java.net.ConnectException &quot;Connection refused: connect&quot;\r\n\r\nI switched off the firewall for Windows, as well as my antivirus scanner, but it&#39;s still showing the error.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Wc7Zr.png","title":"java.net.ConnectException when running IntelliJ debugger","body":"<p>I am trying to debug my Java server with IntelliJ. Every time I start the debugger it shows:</p>\n\n<blockquote>\n  <p>Error running game debug: Unable to open debugger port :\n  java.net.ConnectException \"Connection refused: connect\"</p>\n</blockquote>\n\n<p>I switched off the firewall for Windows, as well as my antivirus scanner, but it's still showing the error.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Wc7Zr.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android-studio","android-developer-api","android-studio-arctic-fox"],"answers":[{"tags":[],"owner":{"account_id":5649052,"reputation":71,"user_id":4470297,"display_name":"Rochana Lakshitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628483127,"creation_date":1628483127,"answer_id":68706853,"question_id":68706358,"body_markdown":"Try this quick solution \r\ngo to file &gt; Invalidate Caches / Restart&#39; and then click the &#39;Invalidate and Restart&#39; button.\r\n\r\nafter try again \r\nSelect either Java or Kotlin from the Language check this drop-down menu\r\n\r\nthank you. \r\n","title":"Cant select Java in Android Studio","body":"<p>Try this quick solution\ngo to file &gt; Invalidate Caches / Restart' and then click the 'Invalidate and Restart' button.</p>\n<p>after try again\nSelect either Java or Kotlin from the Language check this drop-down menu</p>\n<p>thank you.</p>\n"},{"comments":[{"owner":{"account_id":14221949,"reputation":214,"user_id":10273940,"display_name":"Harm van den Brand"},"score":0,"creation_date":1694448320,"post_id":68707356,"comment_id":135889114,"body_markdown":"Any ideas as to why they disabled Java for this particular template?","body":"Any ideas as to why they disabled Java for this particular template?"}],"tags":[],"owner":{"account_id":10854193,"reputation":786,"user_id":7981077,"accept_rate":100,"display_name":"AtifSayings"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693825298,"creation_date":1628488110,"answer_id":68707356,"question_id":68706358,"body_markdown":"In New Project Wizard if you choose **Empty Compose Activity** then it will show only Kotlin. So make sure to choose any other activity e.g. **Empty Activity**.\r\nIf this is not the case then try closing and restarting Android Studio.\r\n\r\nUpdate: In the newer **Android Studio** version **Empty Activity** is **Empty Compose Activity** and **Empty Views Activity** is with that activity with xml UI.","title":"Cant select Java in Android Studio","body":"<p>In New Project Wizard if you choose <strong>Empty Compose Activity</strong> then it will show only Kotlin. So make sure to choose any other activity e.g. <strong>Empty Activity</strong>.\nIf this is not the case then try closing and restarting Android Studio.</p>\n<p>Update: In the newer <strong>Android Studio</strong> version <strong>Empty Activity</strong> is <strong>Empty Compose Activity</strong> and <strong>Empty Views Activity</strong> is with that activity with xml UI.</p>\n"},{"tags":[],"owner":{"account_id":16984850,"reputation":31,"user_id":12285876,"display_name":"haritha_kh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688785674,"creation_date":1688785674,"answer_id":76641192,"question_id":68706358,"body_markdown":"When you create a new project, you cannot change the language if you select **Empty Activity**. So, choose another activity. Then you can select java.","title":"Cant select Java in Android Studio","body":"<p>When you create a new project, you cannot change the language if you select <strong>Empty Activity</strong>. So, choose another activity. Then you can select java.</p>\n"}],"owner":{"account_id":22412931,"reputation":31,"user_id":16621422,"display_name":"Abdullah Sibtain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6194,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693825298,"creation_date":1628477984,"question_id":68706358,"body_markdown":"I just upgraded from Android Studio to Android Studio Arctic Fox and while creating project i only see one option for Kotlin there is no option for java please help me out.","title":"Cant select Java in Android Studio","body":"<p>I just upgraded from Android Studio to Android Studio Arctic Fox and while creating project i only see one option for Kotlin there is no option for java please help me out.</p>\n"},{"tags":["java","oracle","jdbc","jboss","ojdbc"],"comments":[{"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"score":0,"creation_date":1345793995,"post_id":12103369,"comment_id":16179811,"body_markdown":"Can you provide full error stack trace and connection URL","body":"Can you provide full error stack trace and connection URL"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1345794348,"post_id":12103369,"comment_id":16179929,"body_markdown":"Which version of Oracle database you are trying to connect?","body":"Which version of Oracle database you are trying to connect?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1345797538,"post_id":12103369,"comment_id":16180986,"body_markdown":"Information provded in edited post.","body":"Information provded in edited post."}],"answers":[{"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1345795172,"post_id":12105132,"comment_id":16180182,"body_markdown":"The ojdbc6.jar is add to the project already otherwise it will fail on deployment time.","body":"The ojdbc6.jar is add to the project already otherwise it will fail on deployment time."},{"owner":{"account_id":404506,"reputation":3696,"user_id":772853,"accept_rate":74,"display_name":"Andrey Regentov"},"score":0,"creation_date":1446011378,"post_id":12105132,"comment_id":54560778,"body_markdown":"Funny disgusting thing here. String `jdbc:oracle:thin` copypasted through microsoft lync became `jdbc:Oracle:thin` because microsoft thinks `:o` is a smiley and should look like `:O`","body":"Funny disgusting thing here. String <code>jdbc:oracle:thin</code> copypasted through microsoft lync became <code>jdbc:Oracle:thin</code> because microsoft thinks <code>:o</code> is a smiley and should look like <code>:O</code>"}],"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460627755,"creation_date":1345794167,"answer_id":12105132,"question_id":12103369,"body_markdown":"&quot;No suitable driver&quot; usually means that the `JDBC` URL you&#39;ve supplied to connect has incorrect syntax or when the driver isn&#39;t loaded at all.\r\n\r\nWhen the method getConnection is called, the `DriverManager` will attempt to locate a suitable driver from amongst those loaded at initialization and those loaded explicitly using the same classloader as the current applet or application.(using `Class.forName()`)\r\n\r\nFor Example\r\n\r\n\r\n    import oracle.jdbc.driver.OracleDriver;\r\n  \r\n    Class.forName(&quot;oracle.jdbc.driver.&#173;OracleDriver&quot;);\r\n\r\nAlso check that you have `ojdbc6.jar` in your classpath. I would suggest to place `.jar` at physical location to JBoss `&quot;$JBOSS_HOME/server/default/lib/&quot;` directory of your project.\r\n\r\nEDIT:\r\n\r\nYou have mentioned `hibernate` lately.\r\n\r\nCheck that your `hibernate.cfg.xml` file has connection properties something like this:\r\n\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:orcl&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;scott&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.password&quot;&gt;tiger&lt;/property&gt;\r\n\r\n\r\n","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>\"No suitable driver\" usually means that the <code>JDBC</code> URL you've supplied to connect has incorrect syntax or when the driver isn't loaded at all.</p>\n\n<p>When the method getConnection is called, the <code>DriverManager</code> will attempt to locate a suitable driver from amongst those loaded at initialization and those loaded explicitly using the same classloader as the current applet or application.(using <code>Class.forName()</code>)</p>\n\n<p>For Example</p>\n\n<pre><code>import oracle.jdbc.driver.OracleDriver;\n\nClass.forName(\"oracle.jdbc.driver.­OracleDriver\");\n</code></pre>\n\n<p>Also check that you have <code>ojdbc6.jar</code> in your classpath. I would suggest to place <code>.jar</code> at physical location to JBoss <code>\"$JBOSS_HOME/server/default/lib/\"</code> directory of your project.</p>\n\n<p>EDIT:</p>\n\n<p>You have mentioned <code>hibernate</code> lately.</p>\n\n<p>Check that your <code>hibernate.cfg.xml</code> file has connection properties something like this:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n&lt;property name=\"hibernate.connection.url\"&gt;jdbc:oracle:thin:@localhost:1521:orcl&lt;/property&gt; \n&lt;property name=\"hibernate.connection.username\"&gt;scott&lt;/property&gt;\n&lt;property name=\"hibernate.connection.password\"&gt;tiger&lt;/property&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1345873436,"post_id":12117228,"comment_id":16204870,"body_markdown":"I using JBoss 7.1 AS. The ojdbc6.jar is exists in the $JBOSS_Home/standalone/deployments/appName/Web-INF/lib. I tried to copy the ojdbc6.jar to $JBOSS_HOME/standalone/lib but the error still exists. How to trace which file path the program load the driver from? This enhance me to find the root cause. Thanks.","body":"I using JBoss 7.1 AS. The ojdbc6.jar is exists in the $JBOSS_Home/standalone/deployments/appName/Web-INF/lib. I tried to copy the ojdbc6.jar to $JBOSS_HOME/standalone/lib but the error still exists. How to trace which file path the program load the driver from? This enhance me to find the root cause. Thanks."},{"owner":{"display_name":"user1593705"},"score":0,"creation_date":1345882188,"post_id":12117228,"comment_id":16206029,"body_markdown":"in your boot.log file, you should see java.class.path as follow 10:41:16,818 DEBUG [ServerInfo]     java.class.path: :./../server/default/mycompany_configfiles:/var/lib/jboss/myenvironment/bin/run.jar:/opt/java/jdk1.6.0_23_amd64//lib/tools.jar:/var/lib/jboss/myenvironment/lib/jboss-logmanager.jar - and most of this all the environment variables are display at startup just after launching it. hope this could help","body":"in your boot.log file, you should see java.class.path as follow 10:41:16,818 DEBUG [ServerInfo]     java.class.path: :./../server/default/mycompany_configfiles:/var/lib/jboss/my&zwnj;&#8203;environment/bin/run.&zwnj;&#8203;jar:/opt/java/jdk1.6&zwnj;&#8203;.0_23_amd64//lib/too&zwnj;&#8203;ls.jar:/var/lib/jbos&zwnj;&#8203;s/myenvironment/lib/&zwnj;&#8203;jboss-logmanager.jar - and most of this all the environment variables are display at startup just after launching it. hope this could help"},{"owner":{"display_name":"user1593705"},"score":0,"creation_date":1345882827,"post_id":12117228,"comment_id":16206111,"body_markdown":"To avoid to add a new answer here is a link to the log my jBoss produces : https://gist.github.com/3462417","body":"To avoid to add a new answer here is a link to the log my jBoss produces : <a href=\"https://gist.github.com/3462417\" rel=\"nofollow noreferrer\">gist.github.com/3462417</a>"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1345970940,"post_id":12117228,"comment_id":16220128,"body_markdown":"I had checked the java.class.path which pointed to JBoss_HOME\\jboss-modules.jar. I would like to add another class path which point to lib. How can i edit the classpath from standalone.bat or standalone.conf.bat?","body":"I had checked the java.class.path which pointed to JBoss_HOME\\jboss-modules.jar. I would like to add another class path which point to lib. How can i edit the classpath from standalone.bat or standalone.conf.bat?"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1415286025,"post_id":12117228,"comment_id":42142174,"body_markdown":"This method was applicable to JBoss versions before AS 7. It&#39;s not the way it works as of JBoss AS 7 / EAP 6 / WildFly 8...","body":"This method was applicable to JBoss versions before AS 7. It&#39;s not the way it works as of JBoss AS 7 / EAP 6 / WildFly 8..."},{"owner":{"account_id":39197,"reputation":1432,"user_id":112937,"accept_rate":67,"display_name":"thedrs"},"score":0,"creation_date":1627210566,"post_id":12117228,"comment_id":121091130,"body_markdown":"Just going to add that if you need to download a driver for oracle DB you can find it here\n\nhttps://www.oracle.com/database/technologies/appdev/jdbc-ucp-21-1-c-downloads.html","body":"Just going to add that if you need to download a driver for oracle DB you can find it here  <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-ucp-21-1-c-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/appdev/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user1593705"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1370418172,"creation_date":1345845881,"answer_id":12117228,"question_id":12103369,"body_markdown":"The &quot;ojdbc.jar&quot; is not in the `CLASSPATH` of your application server.\r\n\r\nJust tell us which application server it is and we will tell you where the driver should be placed.\r\n\r\n**Edit**: I saw the tag [tag:jboss] so it has to be placed in folder `&quot;$JBOSS_HOME/server/default/lib/&quot;`","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>The \"ojdbc.jar\" is not in the <code>CLASSPATH</code> of your application server.</p>\n\n<p>Just tell us which application server it is and we will tell you where the driver should be placed.</p>\n\n<p><strong>Edit</strong>: I saw the tag <a href=\"/questions/tagged/jboss\" class=\"post-tag\" title=\"show questions tagged 'jboss'\" rel=\"tag\">jboss</a> so it has to be placed in folder <code>\"$JBOSS_HOME/server/default/lib/\"</code></p>\n"},{"tags":[],"owner":{"account_id":2448200,"reputation":5713,"user_id":2135045,"accept_rate":68,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379514332,"creation_date":1379514332,"answer_id":18874897,"question_id":12103369,"body_markdown":"For me I did enter a invalid url like : `orcl` only instead of `jdbc:oracle:thin:@//localhost:1521/orcl`","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>For me I did enter a invalid url like : <code>orcl</code> only instead of <code>jdbc:oracle:thin:@//localhost:1521/orcl</code></p>\n"},{"tags":[],"owner":{"account_id":3424683,"reputation":31,"user_id":2870781,"display_name":"Felipe Yudi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1381752213,"creation_date":1381752213,"answer_id":19359847,"question_id":12103369,"body_markdown":"I had the same problem. To fix it in Jboss 7 AS, I copy the oracle driver jar file to Jboss module folder. Example: `../jboss-as-7.1.1.Final/modules/org/hibernate/main`.\r\n\r\nYou also need to change &quot;module.xml&quot;\r\n\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.hibernate&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;hibernate-core-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;hibernate-commons-annotations-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;hibernate-entitymanager-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;hibernate-infinispan-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;asm.asm&quot;/&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.persistence.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.validation.api&quot;/&gt;\r\n        &lt;module name=&quot;org.antlr&quot;/&gt;\r\n        &lt;module name=&quot;org.apache.commons.collections&quot;/&gt;\r\n        &lt;module name=&quot;org.dom4j&quot;/&gt;\r\n        &lt;module name=&quot;org.infinispan&quot; optional=&quot;true&quot;/&gt;\r\n        &lt;module name=&quot;org.javassist&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.as.jpa.hibernate&quot; slot=&quot;4&quot; optional=&quot;true&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n        &lt;module name=&quot;org.hibernate.envers&quot; services=&quot;import&quot; optional=&quot;true&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I had the same problem. To fix it in Jboss 7 AS, I copy the oracle driver jar file to Jboss module folder. Example: <code>../jboss-as-7.1.1.Final/modules/org/hibernate/main</code>.</p>\n\n<p>You also need to change \"module.xml\"</p>\n\n<pre><code>&lt;module xmlns=\"urn:jboss:module:1.1\" name=\"org.hibernate\"&gt;\n&lt;resources&gt;\n    &lt;resource-root path=\"hibernate-core-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"hibernate-commons-annotations-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"hibernate-entitymanager-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"hibernate-infinispan-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"ojdbc6.jar\"/&gt;\n&lt;/resources&gt;\n\n&lt;dependencies&gt;\n    &lt;module name=\"asm.asm\"/&gt;\n    &lt;module name=\"javax.api\"/&gt;\n    &lt;module name=\"javax.persistence.api\"/&gt;\n    &lt;module name=\"javax.transaction.api\"/&gt;\n    &lt;module name=\"javax.validation.api\"/&gt;\n    &lt;module name=\"org.antlr\"/&gt;\n    &lt;module name=\"org.apache.commons.collections\"/&gt;\n    &lt;module name=\"org.dom4j\"/&gt;\n    &lt;module name=\"org.infinispan\" optional=\"true\"/&gt;\n    &lt;module name=\"org.javassist\"/&gt;\n    &lt;module name=\"org.jboss.as.jpa.hibernate\" slot=\"4\" optional=\"true\"/&gt;\n    &lt;module name=\"org.jboss.logging\"/&gt;\n    &lt;module name=\"org.hibernate.envers\" services=\"import\" optional=\"true\"/&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":1323029,"reputation":1092,"user_id":1268427,"accept_rate":45,"display_name":"Abhinai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412790597,"creation_date":1412786978,"answer_id":26262224,"question_id":12103369,"body_markdown":"do like this\r\n\r\n    set classpath=%classpath%(ur jarfile);","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>do like this</p>\n\n<pre><code>set classpath=%classpath%(ur jarfile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415295325,"creation_date":1415295325,"answer_id":26785775,"question_id":12103369,"body_markdown":"First, if you develop an application with Java EE 6 within a server (JBoss),\r\nyou should better use a [DataSource](http://docs.oracle.com/javase/6/docs/api/javax/sql/DataSource.html). Then you can obtain the Connection from this DataSource. It&#39;s better to use connections pools.\r\n\r\nThen, as of JBoss AS 7, the JDBC driver must be declared as a module.\r\nThis is described [here](https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6/html-single/Administration_and_Configuration_Guide/index.html#Install_a_JDBC_Driver_as_a_Core_Module1).\r\n\r\nWith OJDBC 6 (11.x), the name of the driver should be &quot;oracle.jdbc.OracleDriver&quot;.\r\nThis is the name registered in SPI mode (see the content of this file : *META-INF/services/java.sql.Driver*).  \r\nSince Java 6 and JDBC 4.0, the JDBC Drivers are **auto-registered**.\r\n\r\nFinally you will have to declare a DataSource within JBoss : [DataSource configuration](https://docs.jboss.org/author/display/AS71/DataSource+configuration).\r\n\r\nReferences :\r\n\r\n* **Establishing a Connection** ([link](http://docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html)) (JDBC 4.0 &lt;=&gt; Java 6)\r\n* **JDBC 4.0 Enhancements in Java SE 6 &gt; Auto-Loading of JDBC Driver** ([link](http://www.onjava.com/pub/a/onjava/2006/08/02/jjdbc-4-enhancements-in-java-se-6.html))","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>First, if you develop an application with Java EE 6 within a server (JBoss),\nyou should better use a <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/sql/DataSource.html\" rel=\"nofollow\">DataSource</a>. Then you can obtain the Connection from this DataSource. It's better to use connections pools.</p>\n\n<p>Then, as of JBoss AS 7, the JDBC driver must be declared as a module.\nThis is described <a href=\"https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6/html-single/Administration_and_Configuration_Guide/index.html#Install_a_JDBC_Driver_as_a_Core_Module1\" rel=\"nofollow\">here</a>.</p>\n\n<p>With OJDBC 6 (11.x), the name of the driver should be \"oracle.jdbc.OracleDriver\".\nThis is the name registered in SPI mode (see the content of this file : <em>META-INF/services/java.sql.Driver</em>).<br>\nSince Java 6 and JDBC 4.0, the JDBC Drivers are <strong>auto-registered</strong>.</p>\n\n<p>Finally you will have to declare a DataSource within JBoss : <a href=\"https://docs.jboss.org/author/display/AS71/DataSource+configuration\" rel=\"nofollow\">DataSource configuration</a>.</p>\n\n<p>References :</p>\n\n<ul>\n<li><strong>Establishing a Connection</strong> (<a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html\" rel=\"nofollow\">link</a>) (JDBC 4.0 &lt;=> Java 6)</li>\n<li><strong>JDBC 4.0 Enhancements in Java SE 6 > Auto-Loading of JDBC Driver</strong> (<a href=\"http://www.onjava.com/pub/a/onjava/2006/08/02/jjdbc-4-enhancements-in-java-se-6.html\" rel=\"nofollow\">link</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4059905,"reputation":1265,"user_id":3541666,"accept_rate":0,"display_name":"Vazgen Torosyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436117382,"creation_date":1436117382,"answer_id":31233078,"question_id":12103369,"body_markdown":"Download JDBC driver and add to libraries.\r\nDownload link http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>Download JDBC driver and add to libraries.\nDownload link <a href=\"http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html</a></p>\n"},{"comments":[{"owner":{"account_id":4881003,"reputation":143,"user_id":4095708,"display_name":"jrdevdba"},"score":0,"creation_date":1523548175,"post_id":40852556,"comment_id":86616480,"body_markdown":"Just FYI the &quot;at sign&quot; @ is called an asperand, not an asterisk.","body":"Just FYI the &quot;at sign&quot; @ is called an asperand, not an asterisk."},{"owner":{"account_id":5040778,"reputation":322,"user_id":4059838,"display_name":"Rick Ryker"},"score":7,"creation_date":1527232412,"post_id":40852556,"comment_id":88058835,"body_markdown":"This &amp; is an ampersand. This * (super-scripted) is an asterisk. This @ is an &quot;at sign&quot;. (I am sure it has another name but it is not &quot;asperand&quot;.)","body":"This &amp; is an ampersand. This * (super-scripted) is an asterisk. This @ is an &quot;at sign&quot;. (I am sure it has another name but it is not &quot;asperand&quot;.)"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1607851234,"post_id":40852556,"comment_id":115397760,"body_markdown":"@jrdevdba LMAO. &quot;Asperand&quot;?","body":"@jrdevdba LMAO. &quot;Asperand&quot;?"},{"owner":{"account_id":4881003,"reputation":143,"user_id":4095708,"display_name":"jrdevdba"},"score":0,"creation_date":1608069881,"post_id":40852556,"comment_id":115469396,"body_markdown":"@TheRealChx101 Loool sorry about that! I have no idea how I bungled that spelling. I heard the word in my head and had known it for years. facepalm....","body":"@TheRealChx101 Loool sorry about that! I have no idea how I bungled that spelling. I heard the word in my head and had known it for years. facepalm...."}],"tags":[],"owner":{"account_id":5040778,"reputation":322,"user_id":4059838,"display_name":"Rick Ryker"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527232317,"creation_date":1480363480,"answer_id":40852556,"question_id":12103369,"body_markdown":"Sometimes it is the simple things. In my case, I had an invalid url. \r\nI had left out a colon before the at sign (@).\r\nI had &quot;jdbc:oracle:thin@//localhost&quot; instead of &quot;jdbc:oracle:thin:@//localhost&quot;\r\nHope this helps someone else with this issue.","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>Sometimes it is the simple things. In my case, I had an invalid url. \nI had left out a colon before the at sign (@).\nI had \"jdbc:oracle:thin@//localhost\" instead of \"jdbc:oracle:thin:@//localhost\"\nHope this helps someone else with this issue.</p>\n"},{"tags":[],"owner":{"account_id":14309970,"reputation":1,"user_id":10336568,"display_name":"Shivam Suryavanshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587108252,"creation_date":1587108252,"answer_id":61266106,"question_id":12103369,"body_markdown":"i have changed my old path: jdbc:odbc:thin:@localhost:1521:orcl\r\n\r\nto new : jdbc:oracle:thin:@//localhost:1521/orcl \r\n\r\nand it worked for me.....hurrah!!\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/be8yL.png","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>i have changed my old path: jdbc:odbc:thin:@localhost:1521:orcl</p>\n\n<p>to new : jdbc:oracle:thin:@//localhost:1521/orcl </p>\n\n<p>and it worked for me.....hurrah!!\n<a href=\"https://i.stack.imgur.com/be8yL.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"comments":[{"owner":{"account_id":3354127,"reputation":1521,"user_id":2817500,"accept_rate":95,"display_name":"Deepak"},"score":0,"creation_date":1616646818,"post_id":66792333,"comment_id":118069828,"body_markdown":"@deepesh Saraswat you can include code in the answer instead of putting screenshots.","body":"@deepesh Saraswat you can include code in the answer instead of putting screenshots."},{"owner":{"account_id":21055194,"reputation":96,"user_id":15474635,"display_name":"Deepesh Saraswat"},"score":1,"creation_date":1616650390,"post_id":66792333,"comment_id":118070523,"body_markdown":"@Deepak  Done  . Please check the updated reply.","body":"@Deepak  Done  . Please check the updated reply."}],"tags":[],"owner":{"account_id":21055194,"reputation":96,"user_id":15474635,"display_name":"Deepesh Saraswat"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617088025,"creation_date":1616640337,"answer_id":66792333,"question_id":12103369,"body_markdown":"I was also facing the same issue. I had all the required jars as well. \r\n\r\n[Please refer code screenshot for reference][1]\r\n\r\n\r\nBut after adding \r\n\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\nit worked for me. \r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VthEK.png\r\n  [2]: https://i.stack.imgur.com/1LDLq.png\r\n\r\n\r\n    package com.jdbc;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class TestJdbc {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:xe&quot;;\r\n    \t\tString user =&quot;SYSTEM&quot;;\r\n    \t\tString password = &quot;root&quot;;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Connecting to DAtabase&quot;);\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  /*added this line*/\r\n    \t\t\tConnection connection = DriverManager.getConnection(url, user, password);\r\n    \t\t\tSystem.out.println(\tconnection.toString());\r\n    \t\t\tSystem.out.println(&quot;Connection Success&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**NOTE :** IF YOU ARE USING JDK 8 TRY TO USE ***OJDBC8*** instead of ***OJDBC14*** in that case you will not have to add Class.forName as well. ","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I was also facing the same issue. I had all the required jars as well.</p>\n<p><a href=\"https://i.stack.imgur.com/VthEK.png\" rel=\"nofollow noreferrer\">Please refer code screenshot for reference</a></p>\n<p>But after adding</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n</code></pre>\n<p>it worked for me.</p>\n<pre><code>package com.jdbc;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class TestJdbc {\n\n    public static void main(String[] args) {\n        \n        String url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:xe&quot;;\n        String user =&quot;SYSTEM&quot;;\n        String password = &quot;root&quot;;\n        \n        try {\n            System.out.println(&quot;Connecting to DAtabase&quot;);\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  /*added this line*/\n            Connection connection = DriverManager.getConnection(url, user, password);\n            System.out.println( connection.toString());\n            System.out.println(&quot;Connection Success&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>NOTE :</strong> IF YOU ARE USING JDK 8 TRY TO USE <em><strong>OJDBC8</strong></em> instead of <em><strong>OJDBC14</strong></em> in that case you will not have to add Class.forName as well.</p>\n"},{"tags":[],"owner":{"account_id":25598162,"reputation":1,"user_id":19373567,"display_name":"Dhiraj Gardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656696083,"creation_date":1656696083,"answer_id":72832728,"question_id":12103369,"body_markdown":"I am also getting the same error so for that \r\nFirst the **Oracle URL is correct or not like**\r\njdbc:oracle:thin:@localhost:1521:xe\r\n\r\nThen also you can give the OJDBC6.jar to buildpath at project level and also\r\nyou copy this jar to the WEB-INF/lib folder if you are working with tomcat.\r\n\r\nand also use the Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); to explicitly load the Driver class.","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I am also getting the same error so for that\nFirst the <strong>Oracle URL is correct or not like</strong>\njdbc:oracle:thin:@localhost:1521:xe</p>\n<p>Then also you can give the OJDBC6.jar to buildpath at project level and also\nyou copy this jar to the WEB-INF/lib folder if you are working with tomcat.</p>\n<p>and also use the Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); to explicitly load the Driver class.</p>\n"},{"tags":[],"owner":{"account_id":15257278,"reputation":43,"user_id":11008579,"display_name":"Kriszti&#225;n Szeles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693825069,"creation_date":1693825069,"answer_id":77037158,"question_id":12103369,"body_markdown":"For IntelliJ users, here is what helped me:\r\n*Run Configuration/ Modify options/ Add dependencies with provided scope to classpath*\r\n\r\nThis way IntelliJ can recognize the JDBC library.\r\n\r\n","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>For IntelliJ users, here is what helped me:\n<em>Run Configuration/ Modify options/ Add dependencies with provided scope to classpath</em></p>\n<p>This way IntelliJ can recognize the JDBC library.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205024,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12117228,"answer_count":12,"score":27,"last_activity_date":1693825069,"creation_date":1345784510,"question_id":12103369,"body_markdown":"I am trying to develop a Java EE application that connect to an `Oracle` database from eb service class but I encounter a \r\n\r\n    SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n\r\nI have the `ojdbc6.jar` in the class path and I have also verified that this in the `JBoss` deployment folder. \r\n\r\nMy application `EAR` is composed of a `WAR`. What is wrong (root cause) with this? Please help. \r\n\r\nConnection URL in persistence.xml: \r\n\r\n    &gt; &quot;jdbc:oracle:thin:@//localhost:1521/orcl&quot;\r\n\r\nStack Trace: \r\n\r\n    16:06:32,687 WARN  [com.arjuna.ats.arjuna] (default-workqueue-1) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; 0:ffffc0a80106:-3e8b2d6f:5037338f:15, org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4d1082 &gt;: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat \r\n    Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 70 more\r\n    \r\n    16:06:32,796 ERROR [org.jboss.ejb3.invocation] (default-workqueue-1) JBAS014134: EJB Invocation failed on component CreditcardFacade for method public abstract void com.peter.ejb.CreditcardFacadeLocal.addCreditCard(com.peter.entity.Creditcard): javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\r\n    \tcom.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\r\n    \t... 46 more\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat $Proxy96.prepareStatement(Unknown Source)\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 52 more\r\n    Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 70 more\r\n    \r\n    16:06:32,953 WARNING [org.apache.cxf.phase.PhaseInterceptorChain] (default-workqueue-1) Application {http://service.peter.com/}CreditCardServiceService#{http://service.peter.com/}addCreditCard has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault: Transaction rolled back\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:155) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:86) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:121) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:61) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:75) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-2.4.1.jar:2.4.1]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [rt.jar:1.6.0_26]\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [rt.jar:1.6.0_26]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138) [rt.jar:1.6.0_26]\r\n    \tat org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:232) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.interceptor.OneWayProcessorInterceptor$1.run(OneWayProcessorInterceptor.java:109) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.workqueue.AutomaticWorkQueueImpl$2.run(AutomaticWorkQueueImpl.java:332) [cxf-2.4.1.jar:2.4.1]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_26]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_26]\r\n    \tat java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_26]\r\n    Caused by: javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\r\n    \tat com.peter.service.CreditCardService.addCreditCard(CreditCardService.java:56) [classes:]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_26]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_26]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_26]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_26]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:173) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89) [cxf-2.4.1.jar:2.4.1]\r\n    \t... 15 more\r\n    Caused by: javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1177)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\r\n    \tat com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \t... 43 more\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1295) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl$CallbackExceptionMapperImpl.mapManagedFlushFailure(AbstractEntityManagerImpl.java:1481) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:109) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\r\n    \t... 46 more\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat $Proxy96.prepareStatement(Unknown Source)\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 52 more\r\n    Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 70 more\r\n\r\nOracle Database Version: 11.2.0. \r\n\r\nDoes driver version need to match with database version?\r\n\r\nEDIT:\r\n\r\n1. How to trace which file path the program load the driver from? This enhance me to find the root cause. Thanks.\r\n\r\n2. How to enable the ojdbc6-g logging? I&#39;m tried follow this [Oracle_JDBC][1]\r\nbut I do not know how to complete it. How to set the java system property globally?\r\nI know that environment variable may not a good choice. Any other idea? \r\nI just want to add -Doracle.jdbc.Trace=true and -Djava.util.logging.config.file to jvm creation when using this java. Is it set up oracle database during the startup?\r\n\r\n3. How to enable hibernate logging? \r\n\r\n4. I&#39;m using Hibernate-4.1.1 and JBoss 7.1.\r\n\r\nPlease help. \r\n\r\nThanks. \t\r\n\r\n\r\n  [1]: http://lokeshtc.blogspot.com/2012/01/enabling-and-using-jdbc-logging.html","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I am trying to develop a Java EE application that connect to an <code>Oracle</code> database from eb service class but I encounter a </p>\n\n<pre><code>SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n</code></pre>\n\n<p>I have the <code>ojdbc6.jar</code> in the class path and I have also verified that this in the <code>JBoss</code> deployment folder. </p>\n\n<p>My application <code>EAR</code> is composed of a <code>WAR</code>. What is wrong (root cause) with this? Please help. </p>\n\n<p>Connection URL in persistence.xml: </p>\n\n<pre><code>&gt; \"jdbc:oracle:thin:@//localhost:1521/orcl\"\n</code></pre>\n\n<p>Stack Trace: </p>\n\n<pre><code>16:06:32,687 WARN  [com.arjuna.ats.arjuna] (default-workqueue-1) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; 0:ffffc0a80106:-3e8b2d6f:5037338f:15, org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4d1082 &gt;: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at \nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n    at java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\n    at java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\n    at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 70 more\n\n16:06:32,796 ERROR [org.jboss.ejb3.invocation] (default-workqueue-1) JBAS014134: EJB Invocation failed on component CreditcardFacade for method public abstract void com.peter.ejb.CreditcardFacadeLocal.addCreditCard(com.peter.entity.Creditcard): javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\n    com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\n    ... 46 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at $Proxy96.prepareStatement(Unknown Source)    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 52 more\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n    at java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\n    at java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\n    at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 70 more\n\n16:06:32,953 WARNING [org.apache.cxf.phase.PhaseInterceptorChain] (default-workqueue-1) Application {http://service.peter.com/}CreditCardServiceService#{http://service.peter.com/}addCreditCard has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault: Transaction rolled back\n    at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:155) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:86) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:121) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:61) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:75) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-2.4.1.jar:2.4.1]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [rt.jar:1.6.0_26]\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [rt.jar:1.6.0_26]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138) [rt.jar:1.6.0_26]\n    at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:232) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.interceptor.OneWayProcessorInterceptor$1.run(OneWayProcessorInterceptor.java:109) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.workqueue.AutomaticWorkQueueImpl$2.run(AutomaticWorkQueueImpl.java:332) [cxf-2.4.1.jar:2.4.1]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_26]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_26]\n    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_26]\nCaused by: javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\n    at com.peter.service.CreditCardService.addCreditCard(CreditCardService.java:56) [classes:]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_26]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_26]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_26]\n    at java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_26]\n    at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:173) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89) [cxf-2.4.1.jar:2.4.1]\n    ... 15 more\nCaused by: javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1177)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\n    at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    ... 43 more\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1295) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl$CallbackExceptionMapperImpl.mapManagedFlushFailure(AbstractEntityManagerImpl.java:1481) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:109) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\n    ... 46 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at $Proxy96.prepareStatement(Unknown Source)    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 52 more\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n    at java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\n    at java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\n    at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 70 more\n</code></pre>\n\n<p>Oracle Database Version: 11.2.0. </p>\n\n<p>Does driver version need to match with database version?</p>\n\n<p>EDIT:</p>\n\n<ol>\n<li><p>How to trace which file path the program load the driver from? This enhance me to find the root cause. Thanks.</p></li>\n<li><p>How to enable the ojdbc6-g logging? I'm tried follow this <a href=\"http://lokeshtc.blogspot.com/2012/01/enabling-and-using-jdbc-logging.html\">Oracle_JDBC</a>\nbut I do not know how to complete it. How to set the java system property globally?\nI know that environment variable may not a good choice. Any other idea? \nI just want to add -Doracle.jdbc.Trace=true and -Djava.util.logging.config.file to jvm creation when using this java. Is it set up oracle database during the startup?</p></li>\n<li><p>How to enable hibernate logging? </p></li>\n<li><p>I'm using Hibernate-4.1.1 and JBoss 7.1.</p></li>\n</ol>\n\n<p>Please help. </p>\n\n<p>Thanks.     </p>\n"},{"tags":["java","spring","maven","pom.xml"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1693827770,"post_id":77037115,"comment_id":135807314,"body_markdown":"Spring 3.2 does not support Java 1.8. Are you sure that you want to upgrade to a Spring version that was released more than a decade ago (in December 2012)?","body":"Spring 3.2 does not support Java 1.8. Are you sure that you want to upgrade to a Spring version that was released more than a decade ago (in December 2012)?"},{"owner":{"account_id":25278243,"reputation":1,"user_id":19106493,"display_name":"jack"},"score":0,"creation_date":1693829339,"post_id":77037115,"comment_id":135807631,"body_markdown":"@ThomasKl&#228;ger i wanted to update it to highest version of 3.2.X so was going step by step","body":"@ThomasKl&#228;ger i wanted to update it to highest version of 3.2.X so was going step by step"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1693834081,"post_id":77037115,"comment_id":135808579,"body_markdown":"When you want to use Spring 3.2 (even the highest version of Spring 3.2) you must use Java 1.7 (not Java 1.8 or any later version like Java 17). If you want to use Java 1.8 you must upgrade to at least Spring 4.0. If you want to do it in steps then you need to install Java 1.7 for the step from Spring 3.1 to Spring 3.2.","body":"When you want to use Spring 3.2 (even the highest version of Spring 3.2) you must use Java 1.7 (not Java 1.8 or any later version like Java 17). If you want to use Java 1.8 you must upgrade to at least Spring 4.0. If you want to do it in steps then you need to install Java 1.7 for the step from Spring 3.1 to Spring 3.2."}],"owner":{"account_id":25278243,"reputation":1,"user_id":19106493,"display_name":"jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693827686,"answer_count":0,"score":0,"last_activity_date":1693824587,"creation_date":1693824587,"question_id":77037115,"body_markdown":"im trying to upgrade my spirng verison from 3.1.1.RELEASE TO 3.2.0.RELEASE \r\n\r\nhere below are my pom.xml and spring-security.xml \r\n\r\npom.xml-\\&gt;\r\n\r\n```\r\n\r\n\r\n  &lt;properties&gt;\r\n     &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n     &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n&lt;!--                &lt;exclusion&gt;--&gt;\r\n&lt;!--                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;--&gt;\r\n&lt;!--                    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;--&gt;\r\n&lt;!--                &lt;/exclusion&gt;--&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n          \r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            \r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            \r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nhere is spring.security.xml -\\&gt;\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans:beans xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;              xmlns:security=&quot;http://www.springframework.org/schema/security&quot;              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;              xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd                                  http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;      &lt;security:http authentication-manager-ref=&quot;authenticationManager&quot;                    create-session=&quot;never&quot;&gt;         &lt;security:form-login authentication-failure-url=&quot;/start&quot; login-page=&quot;/start&quot; /&gt;         &lt;security:logout /&gt;     &lt;/security:http&gt;      &lt;security:global-method-security authentication-manager-ref=&quot;authenticationManager&quot;                                      pre-post-annotations=&quot;enabled&quot; /&gt; &lt;/beans:beans&gt;  im getting this following error while trying to run the application  org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\bmg\\repository\\elastic\\crud\\ESCrudRepository.class]; nested exception is java.lang.IllegalArgumentException \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] Caused by: java.lang.IllegalArgumentException: null \tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \t... 59 common frames omitted\r\n```\r\n\r\nim trying to upgrade my spring version from 3.1.1.RELEASE TO 3.2.0.RELEASE im getting the following exceptions while building also im getting some exceptions when i try to build it skippin tests it build properly while running its giving these exceptions\r\n\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\hub\\repository\\hubcrd\\hubsim\\HubRepository.class]; nested exception is java.lang.IllegalArgumentException\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\r\n\r\n\r\nCaused by: java.lang.IllegalArgumentException: null\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\t... 59 common frames omitted\r\n```","title":"Spring upgrade from 3.1.1.RELEASE TO 3.2.0.RELEASE","body":"<p>im trying to upgrade my spirng verison from 3.1.1.RELEASE TO 3.2.0.RELEASE</p>\n<p>here below are my pom.xml and spring-security.xml</p>\n<p>pom.xml-&gt;</p>\n<pre><code>\n\n  &lt;properties&gt;\n     &lt;java.version&gt;1.8&lt;/java.version&gt;\n     &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\n    &lt;/properties&gt;\n\n &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n&lt;!--                &lt;exclusion&gt;--&gt;\n&lt;!--                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;--&gt;\n&lt;!--                    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;/exclusion&gt;--&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n          \n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n\n           &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>here is spring.security.xml -&gt;</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans:beans xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;              xmlns:security=&quot;http://www.springframework.org/schema/security&quot;              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;              xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd                                  http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;      &lt;security:http authentication-manager-ref=&quot;authenticationManager&quot;                    create-session=&quot;never&quot;&gt;         &lt;security:form-login authentication-failure-url=&quot;/start&quot; login-page=&quot;/start&quot; /&gt;         &lt;security:logout /&gt;     &lt;/security:http&gt;      &lt;security:global-method-security authentication-manager-ref=&quot;authenticationManager&quot;                                      pre-post-annotations=&quot;enabled&quot; /&gt; &lt;/beans:beans&gt;  im getting this following error while trying to run the application  org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\bmg\\repository\\elastic\\crud\\ESCrudRepository.class]; nested exception is java.lang.IllegalArgumentException   at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]   at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]  at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]     at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]     at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]   at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] Caused by: java.lang.IllegalArgumentException: null   at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]  at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]     at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]  at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]   ... 59 common frames omitted\n</code></pre>\n<p>im trying to upgrade my spring version from 3.1.1.RELEASE TO 3.2.0.RELEASE im getting the following exceptions while building also im getting some exceptions when i try to build it skippin tests it build properly while running its giving these exceptions</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\hub\\repository\\hubcrd\\hubsim\\HubRepository.class]; nested exception is java.lang.IllegalArgumentException\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n\n\n\nCaused by: java.lang.IllegalArgumentException: null\n    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    ... 59 common frames omitted\n</code></pre>\n"},{"tags":["java","android","kotlin","exoplayer2.x","android-media3"],"answers":[{"comments":[{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693599659,"post_id":77024856,"comment_id":135787322,"body_markdown":"Hi @VonC ```new AdaptiveTrackSelection.Factory(bandwidthMeter)``` is not available in the latest media3 exoplayer. it takes no parameter","body":"Hi @VonC <code>new AdaptiveTrackSelection.Factory(bandwidthMeter)</code> is not available in the latest media3 exoplayer. it takes no parameter"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1693647143,"post_id":77024856,"comment_id":135790466,"body_markdown":"@MrinmoyMk Good point. I have updated the answer, using this time [Media3 ExoPlayer API](https://developer.android.com/reference/androidx/packages)","body":"@MrinmoyMk Good point. I have updated the answer, using this time <a href=\"https://developer.android.com/reference/androidx/packages\" rel=\"nofollow noreferrer\">Media3 ExoPlayer API</a>"},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693683402,"post_id":77024856,"comment_id":135793987,"body_markdown":"I have added the `bandwidthMeter.addEventListener` and have seen that bitrate logged is always returning a higher number like - `3200000 or 3099619 or 2929804` and even when I change to 2G network the bitrate is something between `117245 and 165935`. But exoplayer is still not switching the audio variants","body":"I have added the <code>bandwidthMeter.addEventListener</code> and have seen that bitrate logged is always returning a higher number like - <code>3200000 or 3099619 or 2929804</code> and even when I change to 2G network the bitrate is something between <code>117245 and 165935</code>. But exoplayer is still not switching the audio variants"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1693683720,"post_id":77024856,"comment_id":135794013,"body_markdown":"@MrinmoyMk OK. I have edited the answer to address your comment.","body":"@MrinmoyMk OK. I have edited the answer to address your comment."},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693716912,"post_id":77024856,"comment_id":135796044,"body_markdown":"I have used the codes `MappingTrackSelector.MappedTrackInfo .... trackSelector.setParameters(parametersBuilder);` right after `exoplayer.prepare();` but still couldn&#39;t find any difference. exoplayer still uses the first audio variant in the initial load and then immediately move to the highest variant audio and never changes the audio variant irrespective of the bandwidth. i can see bitrate being logged by bandwidthmeter as - 990000 in 2G network for multiple times initially and then it changes slowly and subsequently to lower bitrates like 39000 to 189000 in the same network","body":"I have used the codes <code>MappingTrackSelector.MappedTrackInfo .... trackSelector.setParameters(parametersBuilder);</code> right after <code>exoplayer.prepare();</code> but still couldn&#39;t find any difference. exoplayer still uses the first audio variant in the initial load and then immediately move to the highest variant audio and never changes the audio variant irrespective of the bandwidth. i can see bitrate being logged by bandwidthmeter as - 990000 in 2G network for multiple times initially and then it changes slowly and subsequently to lower bitrates like 39000 to 189000 in the same network"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1693724804,"post_id":77024856,"comment_id":135796439,"body_markdown":"@MrinmoyMk I have edited the answer to include a few additional suggestions to debug this.","body":"@MrinmoyMk I have edited the answer to include a few additional suggestions to debug this."},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693746337,"post_id":77024856,"comment_id":135798406,"body_markdown":"now I can manually select the track, but it selects only the lower variant of audio track now, even in 5G Network.","body":"now I can manually select the track, but it selects only the lower variant of audio track now, even in 5G Network."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1693766671,"post_id":77024856,"comment_id":135800753,"body_markdown":"@MrinmoyMk OK. I have edited the answer to propose a mix of manual and adaptive behavior, for testing.","body":"@MrinmoyMk OK. I have edited the answer to propose a mix of manual and adaptive behavior, for testing."},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693813468,"post_id":77024856,"comment_id":135804864,"body_markdown":"with this edited code now, whenever the bitrate is low with my manual track selection the lowest bitrate is selected and when the bitrate is above my threshold then the adaptive behaviour selects only the highest bitrate, but the bitrate in between the two is not selected. the issue is adaptive track selection is still not working properly and i have seen sometimes the bitrate is 102773336, with internet speed having 32 Mbps. the bitrate returned in `onBandwidthSample` is also wrong what i believe.","body":"with this edited code now, whenever the bitrate is low with my manual track selection the lowest bitrate is selected and when the bitrate is above my threshold then the adaptive behaviour selects only the highest bitrate, but the bitrate in between the two is not selected. the issue is adaptive track selection is still not working properly and i have seen sometimes the bitrate is 102773336, with internet speed having 32 Mbps. the bitrate returned in <code>onBandwidthSample</code> is also wrong what i believe."},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693813605,"post_id":77024856,"comment_id":135804881,"body_markdown":"also if the adaptive track selection doesn&#39;t work then only way what i am thing is to do all track selection manually based on the bitrate from `onBandwidthSample` method in `BandwidthMeter.EventListener`. but the wrong bitrate returned from the method is also an another issue in this","body":"also if the adaptive track selection doesn&#39;t work then only way what i am thing is to do all track selection manually based on the bitrate from <code>onBandwidthSample</code> method in <code>BandwidthMeter.EventListener</code>. but the wrong bitrate returned from the method is also an another issue in this"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1693814268,"post_id":77024856,"comment_id":135804979,"body_markdown":"@MrinmoyMk Strange, it looks like the ExoPlayer&#39;s adaptive algorithm is not working correctly.  I have edited the answer to propose to write your own, for testing.","body":"@MrinmoyMk Strange, it looks like the ExoPlayer&#39;s adaptive algorithm is not working correctly.  I have edited the answer to propose to write your own, for testing."},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693815978,"post_id":77024856,"comment_id":135805258,"body_markdown":"Yes I am already trying a similar approach now. Also as the bitrate returned is also not correct all the times, it gives sometimes an inappropriate value, so any work around for that","body":"Yes I am already trying a similar approach now. Also as the bitrate returned is also not correct all the times, it gives sometimes an inappropriate value, so any work around for that"},{"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"score":0,"creation_date":1693816080,"post_id":77024856,"comment_id":135805276,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255162/discussion-between-mrinmoymk-and-vonc).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255162/discussion-between-mrinmoymk-and-vonc\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693824284,"creation_date":1693587406,"answer_id":77024856,"question_id":77003559,"body_markdown":"To understand more why your ExoPlayer is not adapting to the network conditions as you expect, you could start with including the bandwidth meter in the track selector. That helps ExoPlayer to make adaptive decisions.\r\n\r\n```java\r\nAdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory(bandwidthMeter);\r\n```\r\n\r\n\r\nAlthough the [`DefaultLoadControl`](https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html) should be sufficient in most cases, you might want to set custom values for buffer size, buffer duration, etc., to fine-tune the adaptive behavior.\r\n\r\nYou would need to update the `initialisePlayer` and `playAudio` methods with the bandwidth meter included in the track selection:\r\n\r\n```java\r\nprivate void initialisePlayer(){\r\n    TrackSelector trackSelector = new DefaultTrackSelector(this);\r\n    LoadControl loadControl = new DefaultLoadControl();\r\n    exoPlayer = new ExoPlayer.Builder(this)\r\n            .setTrackSelector(trackSelector)\r\n            .setLoadControl(loadControl)\r\n            .build();\r\n    exoPlayer.addListener(listener);\r\n    exoPlayer.addAnalyticsListener(new EventLogger(trackSelector));\r\n    exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\r\n    exoPlayer.setHandleAudioBecomingNoisy(true);\r\n}\r\n\r\nprivate void playAudio(){\r\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\r\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this)\r\n            .setTransferListener(bandwidthMeter);\r\n    \r\n    HlsMediaSource audioSource = new HlsMediaSource.Factory(dataSourceFactory)\r\n                .setLoadErrorHandlingPolicy(new CustomPolicy())\r\n                .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\r\n\r\n    exoPlayer.setMediaSource(audioSource);\r\n    exoPlayer.prepare();\r\n    exoPlayer.setPlayWhenReady(true);\r\n}\r\n```\r\n\r\n\r\nThe [`DefaultBandwidthMeter`](https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html) should provide you with bandwidth estimates. You could log these to see if they change when you switch networks. If the bandwidth estimates do not change, that might be the issue.  \r\nEven though you can&#39;t inject the `BandwidthMeter` into the `AdaptiveTrackSelection.Factory`, you can still add an event listener to it to log changes in estimated bandwidth.\r\n\r\n```java\r\nbandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\r\n    @Override\r\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\r\n    Log.d(&quot;BANDWIDTH_SAMPLE&quot;, &quot;bitrate = &quot; + bitrate);\r\n    }\r\n});\r\n```\r\n\r\n----\r\n\r\n&gt; I have added the `bandwidthMeter.addEventListener` and have seen that bitrate logged is always returning a higher number like - 3200000 or 3099619 or 2929804 and even when I change to 2G network the bitrate is something between 117245 and 165935.  \r\nBut exoplayer is still not switching the audio variants.\r\n\r\nYour bandwidth estimate on a 2G network is showing values like 117245 and 165935 so... ExoPlayer thinks the bandwidth is sufficient to play the highest bitrate available in your master playlist, which has a max bitrate of 320000 according to what you posted.\r\n\r\nTest if you can manually set the track to confirm whether the issue is with ExoPlayer&#39;s adaptive mechanism or something else.\r\n\r\n```java\r\nMappingTrackSelector.MappedTrackInfo mappedTrackInfo = ((DefaultTrackSelector) trackSelector).getCurrentMappedTrackInfo();\r\nif (mappedTrackInfo != null) {\r\n    int rendererIndex = 0; // For audio. Change it as per your needs\r\n    int trackIndexToBeUsed = 1; // Use 0, 1, 2... based on available tracks\r\n    DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\r\n    DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\r\n    parametersBuilder.setSelectionOverride(rendererIndex, mappedTrackInfo.getTrackGroups(rendererIndex), override);\r\n    trackSelector.setParameters(parametersBuilder);\r\n}\r\n```\r\n  \r\nAdd the above code snippet just after preparing the player with `exoPlayer.prepare();` to manually set the track.\r\n\r\n----\r\n\r\n&gt; I have used the codes `MappingTrackSelector.MappedTrackInfo .... trackSelector.setParameters(parametersBuilder);` right after `exoplayer.prepare();` but still couldn&#39;t find any difference. \r\n&gt;\r\n&gt; Exoplayer still uses the first audio variant in the initial load and then immediately move to the highest variant audio and never changes the audio variant irrespective of the bandwidth. \r\n&gt;\r\n&gt; I can see bitrate being logged by bandwidthmeter as - 990000 in 2G network for multiple times initially, and then it changes slowly and subsequently to lower bitrates like 39000 to 189000 in the same network.\r\n\r\nSometimes, issues with track selection can be related to when exactly you are calling certain methods. Make sure you are calling the manual track selection code *after* the `exoPlayer.prepare()` call has completed. You might want to place the track selection code in a `Player.Listener` callback when the player state changes to `Player.STATE_READY`.\r\n\r\n```java\r\nexoPlayer.addListener(new Player.Listener() {\r\n    @Override\r\n    public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n        if (playbackState == Player.STATE_READY) {\r\n            // Manual track selection code here\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nAlthough ExoPlayer should handle this itself, for debugging purposes, you could explicitly set some parameters for adaptation, such as the minimum duration of media that needs to be buffered for playback to start or continue. ExoPlayer allows you to set such thresholds through `DefaultLoadControl`.\r\n\r\n----\r\n\r\n&gt; Now I can manually select the track, but it selects only the lower variant of audio track now, even in 5G Network.\r\n\r\nIf your manual track selection is successful but only results in the player using the lower bitrate track even on a high-speed network like 5G, this suggests that the track selection override is taking precedence over ExoPlayer&#39;s own adaptive mechanisms. When you set an explicit track selection override, ExoPlayer will stick with that choice and will not adapt based on network conditions.\r\n\r\nSo, remove the manual override for adaptation and try a conditional manual override: Implement logic to manually switch tracks based on certain conditions, such as if the bandwidth is below a particular threshold. In this way, you could have a mix of manual and adaptive behavior.\r\n\r\n```java\r\nbandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\r\n    @Override\r\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\r\n        if (bitrate &gt; SOME_THRESHOLD) {\r\n            // Revert to adaptive track selection\r\n            DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\r\n            parametersBuilder.clearSelectionOverrides(/* rendererIndex= */ 0);\r\n            trackSelector.setParameters(parametersBuilder);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nAgain, this is for testing: while it is possible to mix manual and adaptive track selection, doing so can make the behavior of your player harder to predict and debug.\r\n\r\n----\r\n\r\n&gt; Whenever the bitrate is low with my manual track selection the lowest bitrate is selected and when the bitrate is above my threshold then the adaptive behaviour selects only the highest bitrate, but the bitrate in between the two is not selected. \r\n&gt;  \r\n&gt; The issue is adaptive track selection is still not working properly and I have seen sometimes the bitrate is 102773336, with internet speed having 32 Mbps. The bitrate returned in `onBandwidthSample` is also wrong what I believe.\r\n&gt; \r\n&gt; Also, if the adaptive track selection doesn&#39;t work then only way what I am thinking is to do all track selection manually based on the bitrate from `onBandwidthSample` method in `BandwidthMeter.EventListener`. But the wrong bitrate returned from the method is also an another issue in this.\r\n\r\nAs a last resort, if ExoPlayer&#39;s adaptive algorithm is not meeting your needs and you are also not getting reliable bandwidth estimates, you may indeed have to take over complete control of track selection. \r\n\r\nIn such a case, you can write a logic that maps bandwidth estimates to specific tracks. However, make sure to apply some form of smoothing or averaging to the bandwidth estimates to avoid rapid track switching, which can be disruptive to the user.\r\n\r\n```java\r\nbandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\r\n    @Override\r\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\r\n        // Your own logic to select a track based on the current bitrate\r\n        int trackIndexToBeUsed = mapBitrateToTrack(bitrate);  // Implement this function based on your requirements\r\n        DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\r\n        DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\r\n        parametersBuilder.setSelectionOverride(0, trackGroups, override);\r\n        trackSelector.setParameters(parametersBuilder);\r\n    }\r\n});\r\n```\r\n\r\n---\r\n\r\n\r\nAs an alternative, you could try and use Android&#39;s network capabilities: The [`ConnectivityManager` class](developer.android.com/…) in Android can provide general information about the type and speed of the current network connection. This information is less granular than a bandwidth estimate but can still be useful for choosing between high, medium, and low-quality streams.\r\n\r\n```java\r\nConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\nNetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\nint downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\nint upSpeed = nc.getLinkUpstreamBandwidthKbps();\r\n```\r\n\r\nThat or use a third-party network measurement library, like [`square/okhttp`](https://github.com/square/okhttp).\r\n\r\n---\r\n\r\nYou could also implement your own bandwidth estimation logic.  \r\nOne approach is to download a small file at the beginning of the application and measure the download speed. Be cautious with this approach as it introduces latency and could vary based on server speeds, concurrent network operations, or other factors.","title":"Exoplayer HLS Adaptive Streaming selecting track variant per network bandwidth","body":"<p>To understand more why your ExoPlayer is not adapting to the network conditions as you expect, you could start with including the bandwidth meter in the track selector. That helps ExoPlayer to make adaptive decisions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory(bandwidthMeter);\n</code></pre>\n<p>Although the <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html\" rel=\"nofollow noreferrer\"><code>DefaultLoadControl</code></a> should be sufficient in most cases, you might want to set custom values for buffer size, buffer duration, etc., to fine-tune the adaptive behavior.</p>\n<p>You would need to update the <code>initialisePlayer</code> and <code>playAudio</code> methods with the bandwidth meter included in the track selection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initialisePlayer(){\n    TrackSelector trackSelector = new DefaultTrackSelector(this);\n    LoadControl loadControl = new DefaultLoadControl();\n    exoPlayer = new ExoPlayer.Builder(this)\n            .setTrackSelector(trackSelector)\n            .setLoadControl(loadControl)\n            .build();\n    exoPlayer.addListener(listener);\n    exoPlayer.addAnalyticsListener(new EventLogger(trackSelector));\n    exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\n    exoPlayer.setHandleAudioBecomingNoisy(true);\n}\n\nprivate void playAudio(){\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this)\n            .setTransferListener(bandwidthMeter);\n    \n    HlsMediaSource audioSource = new HlsMediaSource.Factory(dataSourceFactory)\n                .setLoadErrorHandlingPolicy(new CustomPolicy())\n                .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\n\n    exoPlayer.setMediaSource(audioSource);\n    exoPlayer.prepare();\n    exoPlayer.setPlayWhenReady(true);\n}\n</code></pre>\n<p>The <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html\" rel=\"nofollow noreferrer\"><code>DefaultBandwidthMeter</code></a> should provide you with bandwidth estimates. You could log these to see if they change when you switch networks. If the bandwidth estimates do not change, that might be the issue.<br />\nEven though you can't inject the <code>BandwidthMeter</code> into the <code>AdaptiveTrackSelection.Factory</code>, you can still add an event listener to it to log changes in estimated bandwidth.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\n    @Override\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\n    Log.d(&quot;BANDWIDTH_SAMPLE&quot;, &quot;bitrate = &quot; + bitrate);\n    }\n});\n</code></pre>\n<hr />\n<blockquote>\n<p>I have added the <code>bandwidthMeter.addEventListener</code> and have seen that bitrate logged is always returning a higher number like - 3200000 or 3099619 or 2929804 and even when I change to 2G network the bitrate is something between 117245 and 165935.<br />\nBut exoplayer is still not switching the audio variants.</p>\n</blockquote>\n<p>Your bandwidth estimate on a 2G network is showing values like 117245 and 165935 so... ExoPlayer thinks the bandwidth is sufficient to play the highest bitrate available in your master playlist, which has a max bitrate of 320000 according to what you posted.</p>\n<p>Test if you can manually set the track to confirm whether the issue is with ExoPlayer's adaptive mechanism or something else.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MappingTrackSelector.MappedTrackInfo mappedTrackInfo = ((DefaultTrackSelector) trackSelector).getCurrentMappedTrackInfo();\nif (mappedTrackInfo != null) {\n    int rendererIndex = 0; // For audio. Change it as per your needs\n    int trackIndexToBeUsed = 1; // Use 0, 1, 2... based on available tracks\n    DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\n    DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\n    parametersBuilder.setSelectionOverride(rendererIndex, mappedTrackInfo.getTrackGroups(rendererIndex), override);\n    trackSelector.setParameters(parametersBuilder);\n}\n</code></pre>\n<p>Add the above code snippet just after preparing the player with <code>exoPlayer.prepare();</code> to manually set the track.</p>\n<hr />\n<blockquote>\n<p>I have used the codes <code>MappingTrackSelector.MappedTrackInfo .... trackSelector.setParameters(parametersBuilder);</code> right after <code>exoplayer.prepare();</code> but still couldn't find any difference.</p>\n<p>Exoplayer still uses the first audio variant in the initial load and then immediately move to the highest variant audio and never changes the audio variant irrespective of the bandwidth.</p>\n<p>I can see bitrate being logged by bandwidthmeter as - 990000 in 2G network for multiple times initially, and then it changes slowly and subsequently to lower bitrates like 39000 to 189000 in the same network.</p>\n</blockquote>\n<p>Sometimes, issues with track selection can be related to when exactly you are calling certain methods. Make sure you are calling the manual track selection code <em>after</em> the <code>exoPlayer.prepare()</code> call has completed. You might want to place the track selection code in a <code>Player.Listener</code> callback when the player state changes to <code>Player.STATE_READY</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>exoPlayer.addListener(new Player.Listener() {\n    @Override\n    public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n        if (playbackState == Player.STATE_READY) {\n            // Manual track selection code here\n        }\n    }\n});\n</code></pre>\n<p>Although ExoPlayer should handle this itself, for debugging purposes, you could explicitly set some parameters for adaptation, such as the minimum duration of media that needs to be buffered for playback to start or continue. ExoPlayer allows you to set such thresholds through <code>DefaultLoadControl</code>.</p>\n<hr />\n<blockquote>\n<p>Now I can manually select the track, but it selects only the lower variant of audio track now, even in 5G Network.</p>\n</blockquote>\n<p>If your manual track selection is successful but only results in the player using the lower bitrate track even on a high-speed network like 5G, this suggests that the track selection override is taking precedence over ExoPlayer's own adaptive mechanisms. When you set an explicit track selection override, ExoPlayer will stick with that choice and will not adapt based on network conditions.</p>\n<p>So, remove the manual override for adaptation and try a conditional manual override: Implement logic to manually switch tracks based on certain conditions, such as if the bandwidth is below a particular threshold. In this way, you could have a mix of manual and adaptive behavior.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\n    @Override\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\n        if (bitrate &gt; SOME_THRESHOLD) {\n            // Revert to adaptive track selection\n            DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\n            parametersBuilder.clearSelectionOverrides(/* rendererIndex= */ 0);\n            trackSelector.setParameters(parametersBuilder);\n        }\n    }\n});\n</code></pre>\n<p>Again, this is for testing: while it is possible to mix manual and adaptive track selection, doing so can make the behavior of your player harder to predict and debug.</p>\n<hr />\n<blockquote>\n<p>Whenever the bitrate is low with my manual track selection the lowest bitrate is selected and when the bitrate is above my threshold then the adaptive behaviour selects only the highest bitrate, but the bitrate in between the two is not selected.</p>\n<p>The issue is adaptive track selection is still not working properly and I have seen sometimes the bitrate is 102773336, with internet speed having 32 Mbps. The bitrate returned in <code>onBandwidthSample</code> is also wrong what I believe.</p>\n<p>Also, if the adaptive track selection doesn't work then only way what I am thinking is to do all track selection manually based on the bitrate from <code>onBandwidthSample</code> method in <code>BandwidthMeter.EventListener</code>. But the wrong bitrate returned from the method is also an another issue in this.</p>\n</blockquote>\n<p>As a last resort, if ExoPlayer's adaptive algorithm is not meeting your needs and you are also not getting reliable bandwidth estimates, you may indeed have to take over complete control of track selection.</p>\n<p>In such a case, you can write a logic that maps bandwidth estimates to specific tracks. However, make sure to apply some form of smoothing or averaging to the bandwidth estimates to avoid rapid track switching, which can be disruptive to the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\n    @Override\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\n        // Your own logic to select a track based on the current bitrate\n        int trackIndexToBeUsed = mapBitrateToTrack(bitrate);  // Implement this function based on your requirements\n        DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\n        DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\n        parametersBuilder.setSelectionOverride(0, trackGroups, override);\n        trackSelector.setParameters(parametersBuilder);\n    }\n});\n</code></pre>\n<hr />\n<p>As an alternative, you could try and use Android's network capabilities: The <code>ConnectivityManager</code> class in Android can provide general information about the type and speed of the current network connection. This information is less granular than a bandwidth estimate but can still be useful for choosing between high, medium, and low-quality streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\nNetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\nint downSpeed = nc.getLinkDownstreamBandwidthKbps();\nint upSpeed = nc.getLinkUpstreamBandwidthKbps();\n</code></pre>\n<p>That or use a third-party network measurement library, like <a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\"><code>square/okhttp</code></a>.</p>\n<hr />\n<p>You could also implement your own bandwidth estimation logic.<br />\nOne approach is to download a small file at the beginning of the application and measure the download speed. Be cautious with this approach as it introduces latency and could vary based on server speeds, concurrent network operations, or other factors.</p>\n"}],"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77024856,"answer_count":1,"score":1,"last_activity_date":1693824284,"creation_date":1693342222,"question_id":77003559,"body_markdown":"I am using Exoplayer in my Android app for streaming hls audio, I am trying to play adaptive stream using my master HLS playlist which contains various variant of the same audio track but in different bitrate as per suitable available network bandwidth. \r\n\r\nBut what i have seen, the Exoplayer starts playing with the initial variant in the master playlist, and then immediately moves to the highest available bitrate variant of audio, every time. It doesn&#39;t uses any of the other bitrate even if I have changed my network to 2G, 3G or any other lower bandwidth, it doesn&#39;t adapts to lower bitrate in any case and follows the above pattern. It will keep buffering for very long, but never use any lower track variant as per the bandwidth.\r\n\r\nHere&#39;s the code of my Exoplayer implementation - \r\n```\r\nprivate void initialisePlayer(){\r\n        if(exoPlayer == null) {\r\n            AdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory();\r\n            TrackSelector trackSelector = new DefaultTrackSelector(this, videoTrackSelectionFactory);\r\n            LoadControl loadControl = new DefaultLoadControl();\r\n            exoPlayer = new ExoPlayer.Builder(getApplicationContext())\r\n                    .setTrackSelector(trackSelector).setLoadControl(loadControl).build();\r\n            exoPlayer.addListener(listener);\r\n            exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\r\n            exoPlayer.setHandleAudioBecomingNoisy(true);\r\n        }\r\n    }\r\n\r\n   private void playAudio(){\r\n\r\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\r\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this).setTransferListener(bandwidthMeter);\r\n\r\n    HlsMediaSource audioSource = HlsMediaSource.Factory(dataSourceFactory)\r\n                    .setLoadErrorHandlingPolicy(new CustomPolicy())\r\n                    .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\r\n\r\n    exoPlayer.setMediaSource(audioSource);\r\n    exoPlayer.prepare();\r\n    exoPlayer.setPlayWhenReady(true);\r\n\r\n  \r\n   }\r\n```\r\nI am using - \r\n\r\n```\r\nimplementation &#39;androidx.media3:media3-exoplayer:1.1.1&#39;\r\nimplementation &quot;androidx.media3:media3-exoplayer-hls:1.1.1&quot;\r\n```\r\n\r\nI have my master playlist as like - \r\n\r\n\r\n```#EXTM3U\r\n#EXT-X-VERSION:4\r\n\r\n# Audio Renditions\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=54000,CODECS=&quot;mp4a.40.5&quot;\r\nsongs54/audio.m3u8\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=84000,CODECS=&quot;mp4a.40.5&quot;\r\nsongs84/audio.m3u8\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=126000,CODECS=&quot;mp4a.40.2&quot;\r\nsongs126/audio.m3u8\r\n\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=160000,CODECS=&quot;mp4a.40.5&quot;\r\nsongs160/audio.m3u8\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=320000,CODECS=&quot;mp4a.40.2&quot;\r\nsongs320/audio.m3u8\r\n```\r\n\r\nI have been trying to fix this from last 2 days, any help will be really appreciated. ","title":"Exoplayer HLS Adaptive Streaming selecting track variant per network bandwidth","body":"<p>I am using Exoplayer in my Android app for streaming hls audio, I am trying to play adaptive stream using my master HLS playlist which contains various variant of the same audio track but in different bitrate as per suitable available network bandwidth.</p>\n<p>But what i have seen, the Exoplayer starts playing with the initial variant in the master playlist, and then immediately moves to the highest available bitrate variant of audio, every time. It doesn't uses any of the other bitrate even if I have changed my network to 2G, 3G or any other lower bandwidth, it doesn't adapts to lower bitrate in any case and follows the above pattern. It will keep buffering for very long, but never use any lower track variant as per the bandwidth.</p>\n<p>Here's the code of my Exoplayer implementation -</p>\n<pre><code>private void initialisePlayer(){\n        if(exoPlayer == null) {\n            AdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory();\n            TrackSelector trackSelector = new DefaultTrackSelector(this, videoTrackSelectionFactory);\n            LoadControl loadControl = new DefaultLoadControl();\n            exoPlayer = new ExoPlayer.Builder(getApplicationContext())\n                    .setTrackSelector(trackSelector).setLoadControl(loadControl).build();\n            exoPlayer.addListener(listener);\n            exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\n            exoPlayer.setHandleAudioBecomingNoisy(true);\n        }\n    }\n\n   private void playAudio(){\n\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this).setTransferListener(bandwidthMeter);\n\n    HlsMediaSource audioSource = HlsMediaSource.Factory(dataSourceFactory)\n                    .setLoadErrorHandlingPolicy(new CustomPolicy())\n                    .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\n\n    exoPlayer.setMediaSource(audioSource);\n    exoPlayer.prepare();\n    exoPlayer.setPlayWhenReady(true);\n\n  \n   }\n</code></pre>\n<p>I am using -</p>\n<pre><code>implementation 'androidx.media3:media3-exoplayer:1.1.1'\nimplementation &quot;androidx.media3:media3-exoplayer-hls:1.1.1&quot;\n</code></pre>\n<p>I have my master playlist as like -</p>\n<pre><code>#EXT-X-VERSION:4\n\n# Audio Renditions\n\n#EXT-X-STREAM-INF:BANDWIDTH=54000,CODECS=&quot;mp4a.40.5&quot;\nsongs54/audio.m3u8\n\n#EXT-X-STREAM-INF:BANDWIDTH=84000,CODECS=&quot;mp4a.40.5&quot;\nsongs84/audio.m3u8\n\n#EXT-X-STREAM-INF:BANDWIDTH=126000,CODECS=&quot;mp4a.40.2&quot;\nsongs126/audio.m3u8\n\n\n#EXT-X-STREAM-INF:BANDWIDTH=160000,CODECS=&quot;mp4a.40.5&quot;\nsongs160/audio.m3u8\n\n#EXT-X-STREAM-INF:BANDWIDTH=320000,CODECS=&quot;mp4a.40.2&quot;\nsongs320/audio.m3u8\n</code></pre>\n<p>I have been trying to fix this from last 2 days, any help will be really appreciated.</p>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1693825050,"post_id":77037070,"comment_id":135806820,"body_markdown":"Can you provide any [mcve]?","body":"Can you provide any <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1693863240,"post_id":77037070,"comment_id":135813111,"body_markdown":"You&#39;re right, so either you modify the generator and contribute to the project or you code it manually in your project.","body":"You&#39;re right, so either you modify the generator and contribute to the project or you code it manually in your project."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693874419,"post_id":77037070,"comment_id":135813987,"body_markdown":"What like pattern do you want to use?","body":"What like pattern do you want to use?"}],"owner":{"account_id":21121216,"reputation":41,"user_id":15527204,"display_name":"Shiva Rena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693824218,"creation_date":1693824218,"question_id":77037070,"body_markdown":"JHipster Entity filtering itself has limitations, It seems that does not provide support &#39;LIKE&#39; operator. It only supports &#39;equal,&#39; &#39;notEqual,&#39; &#39;contains,&#39; &#39;does not contain,&#39; &#39;exist,&#39; and &#39;does not exist&#39; operations.How we can support like operator is there any way.Any suggestion will be helpful, \r\nThank you","title":"How can I filter entities in JHipster using the &#39;LIKE&#39; operator? It seems that JHipster does not natively support the &#39;LIKE&#39; operator","body":"<p>JHipster Entity filtering itself has limitations, It seems that does not provide support 'LIKE' operator. It only supports 'equal,' 'notEqual,' 'contains,' 'does not contain,' 'exist,' and 'does not exist' operations.How we can support like operator is there any way.Any suggestion will be helpful,\nThank you</p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1373367478,"post_id":17546466,"comment_id":25520991,"body_markdown":"Why should the be equal? One is a `Integer` object, the other a `String` object. That&#39;s a big difference... One represents a numeric value, the other a sequence of characters.","body":"Why should the be equal? One is a <code>Integer</code> object, the other a <code>String</code> object. That&#39;s a big difference... One represents a numeric value, the other a sequence of characters."}],"answers":[{"comments":[{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":0,"creation_date":1373367674,"post_id":17546495,"comment_id":25521101,"body_markdown":"oh ok..i got it now..but shouldn&#39;t equals written in such a way so as to give compile time error in this case?","body":"oh ok..i got it now..but shouldn&#39;t equals written in such a way so as to give compile time error in this case?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1373367753,"post_id":17546495,"comment_id":25521148,"body_markdown":"@Anand: no, that&#39;s why `equals()` is a method of `Object`: you are allowed to *ask* if two objects are equal, no matter what types.","body":"@Anand: no, that&#39;s why <code>equals()</code> is a method of <code>Object</code>: you are allowed to <i>ask</i> if two objects are equal, no matter what types."},{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":0,"creation_date":1373367838,"post_id":17546495,"comment_id":25521203,"body_markdown":"but if types are different, it&#39;s not going to work i.e. will always return false","body":"but if types are different, it&#39;s not going to work i.e. will always return false"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1373367510,"creation_date":1373367510,"answer_id":17546495,"question_id":17546466,"body_markdown":"An `Integer` will never be `equal` to a `String`.\r\n\r\nBoth classes have very strict `equals()` definitions that *only* accept objects of their respective types.\r\n\r\n* [`Integer.equals()`][1]:\r\n\r\n    &gt; The result is true if and only if the argument is not `null` and **is an `Integer` object** that contains the same int value as this object.\r\n* [`String.equals()`][2]:\r\n\r\n    &gt; The result is true if and only if the argument is not `null` and **is a `String` object** that represents the same sequence of characters as this object.\r\n\r\nThat&#39;s actually a quite common way to implement `equals()`: only objects of the same class (and occasionally subclasses) *can* be equal. Other implementations are possible, but are the exception.\r\n\r\nOne common exception are the collections [such as `List`][3]: every `List` implementation that follows the convention will return `true` when compared to *any other* implementation, if it has the same content in the same order.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#equals%28java.lang.Object%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#equals%28java.lang.Object%29","title":"Comparing String and Integer with equals","body":"<p>An <code>Integer</code> will never be <code>equal</code> to a <code>String</code>.</p>\n\n<p>Both classes have very strict <code>equals()</code> definitions that <em>only</em> accept objects of their respective types.</p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#equals%28java.lang.Object%29\"><code>Integer.equals()</code></a>:</p>\n\n<blockquote>\n  <p>The result is true if and only if the argument is not <code>null</code> and <strong>is an <code>Integer</code> object</strong> that contains the same int value as this object.</p>\n</blockquote></li>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\"><code>String.equals()</code></a>:</p>\n\n<blockquote>\n  <p>The result is true if and only if the argument is not <code>null</code> and <strong>is a <code>String</code> object</strong> that represents the same sequence of characters as this object.</p>\n</blockquote></li>\n</ul>\n\n<p>That's actually a quite common way to implement <code>equals()</code>: only objects of the same class (and occasionally subclasses) <em>can</em> be equal. Other implementations are possible, but are the exception.</p>\n\n<p>One common exception are the collections <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#equals%28java.lang.Object%29\">such as <code>List</code></a>: every <code>List</code> implementation that follows the convention will return <code>true</code> when compared to <em>any other</em> implementation, if it has the same content in the same order.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373367564,"creation_date":1373367564,"answer_id":17546520,"question_id":17546466,"body_markdown":"The general contract of the equals() methods states (among other things) that the objects that are being compared need to be of the same class. That&#39;s why you&#39;ll never be able to compare Apples with Oranges.\r\n\r\nFor the full contract of the equals() method, see the javadocs.","title":"Comparing String and Integer with equals","body":"<p>The general contract of the equals() methods states (among other things) that the objects that are being compared need to be of the same class. That's why you'll never be able to compare Apples with Oranges.</p>\n\n<p>For the full contract of the equals() method, see the javadocs.</p>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373367588,"creation_date":1373367588,"answer_id":17546534,"question_id":17546466,"body_markdown":"Usually, when implementing `equals()`, one of the first things to do is to check whether the objects are of one and the same type.\r\n\r\n    public boolean equals(Object obj) {\r\n        if (!(obj instanceof SomeType)) return false;\r\n        ...\r\n    }\r\n\r\nThis is also applied in the `Integer` and `String` classes, which answers the question why do you receive `false` as a result.","title":"Comparing String and Integer with equals","body":"<p>Usually, when implementing <code>equals()</code>, one of the first things to do is to check whether the objects are of one and the same type.</p>\n\n<pre><code>public boolean equals(Object obj) {\n    if (!(obj instanceof SomeType)) return false;\n    ...\n}\n</code></pre>\n\n<p>This is also applied in the <code>Integer</code> and <code>String</code> classes, which answers the question why do you receive <code>false</code> as a result.</p>\n"},{"comments":[{"owner":{"account_id":1445813,"reputation":3691,"user_id":1364347,"accept_rate":22,"display_name":"barq"},"score":0,"creation_date":1421162651,"post_id":17546593,"comment_id":44247941,"body_markdown":"Which is better practice?","body":"Which is better practice?"}],"tags":[],"owner":{"account_id":1524736,"reputation":476,"user_id":1423463,"display_name":"Mohammad Changani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373367815,"creation_date":1373367815,"answer_id":17546593,"question_id":17546466,"body_markdown":"a Integer Object can&#39;t equals with String Object\r\n\r\nuse : \r\n\r\n\r\n    boolean a = str.equals(str1);\r\n\r\nOR\r\n\r\n    boolean a = (Integer.parseInt(str) == Integer.parseInt(str1));","title":"Comparing String and Integer with equals","body":"<p>a Integer Object can't equals with String Object</p>\n\n<p>use : </p>\n\n<pre><code>boolean a = str.equals(str1);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>boolean a = (Integer.parseInt(str) == Integer.parseInt(str1));\n</code></pre>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38667,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17546495,"answer_count":4,"score":4,"last_activity_date":1693823955,"creation_date":1373367406,"question_id":17546466,"body_markdown":"The output of the below code is `false`\r\n\r\n    String str = &quot;3456&quot;;\r\n    String str1 = &quot;3456&quot;;\r\n    System.out.println(Integer.valueOf(str).equals(str1));\r\n\r\nI didn&#39;t understand it. I thought it will return `true`. As I am preparing for SCJP, understanding the reason behind it may be helpful.\r\n","title":"Comparing String and Integer with equals","body":"<p>The output of the below code is <code>false</code></p>\n<pre><code>String str = &quot;3456&quot;;\nString str1 = &quot;3456&quot;;\nSystem.out.println(Integer.valueOf(str).equals(str1));\n</code></pre>\n<p>I didn't understand it. I thought it will return <code>true</code>. As I am preparing for SCJP, understanding the reason behind it may be helpful.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":458053,"reputation":8791,"user_id":857728,"accept_rate":92,"display_name":"Guillaume"},"score":0,"creation_date":1463309505,"post_id":37237307,"comment_id":62003603,"body_markdown":"If `key` is present several times in `che`, you will insert in `prep` the key several times","body":"If <code>key</code> is present several times in <code>che</code>, you will insert in <code>prep</code> the key several times"},{"owner":{"account_id":4464125,"reputation":6712,"user_id":3632206,"accept_rate":71,"display_name":"Sebastian Zeki"},"score":0,"creation_date":1463309913,"post_id":37237307,"comment_id":62003726,"body_markdown":"Aha. Absolutely right. I hadn&#39;t realised that I was adding to che from two tables related as a one to one both of which contained the same column name. Rectified now. ?Post as an answer?","body":"Aha. Absolutely right. I hadn&#39;t realised that I was adding to che from two tables related as a one to one both of which contained the same column name. Rectified now. ?Post as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":458053,"reputation":8791,"user_id":857728,"accept_rate":92,"display_name":"Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1463316698,"creation_date":1463316698,"answer_id":37238524,"question_id":37237307,"body_markdown":"The answer is in my first comment of the question:\r\n\t\r\nIf `key` is present several times in `che`, you will insert in `prep` the key several times","title":"Nested loop adding first entry twice in Java","body":"<p>The answer is in my first comment of the question:</p>\n\n<p>If <code>key</code> is present several times in <code>che</code>, you will insert in <code>prep</code> the key several times</p>\n"}],"owner":{"account_id":4464125,"reputation":6712,"user_id":3632206,"accept_rate":71,"display_name":"Sebastian Zeki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37238524,"answer_count":1,"score":0,"last_activity_date":1693823854,"creation_date":1463309234,"question_id":37237307,"body_markdown":"I am trying to compare some database columns I have in an `ArrayList` to some keys I have in a `HashMap` prior to creating an INSERT statement to insert all the `HashMap` values. The key is only part of the INSERT statement if the column is found in the database.\r\n\r\nThe problem is, that the first key is entered into the INSERT statement twice causing the execution to fail. I haven&#39;t provided the INSERT statement here or how I&#39;m getting the values as that&#39;s not the problem, just how I&#39;m creating the string that identifies the column names.\r\n\r\nHere is the code:\r\n\r\n    ResultSet rs2 = st.executeQuery(&quot;SELECT * FROM BRAVODay1And2&quot;);\r\n    ResultSetMetaData rsmd2 = rs2.getMetaData();\r\n    ArrayList&lt;String&gt; che=new ArrayList&lt;String&gt;();\r\n    for (int i = 1; i &lt;= rsmd2.getColumnCount(); i++) {\t\r\n\t\tche.add(rsmd2.getColumnName(i).trim());\r\n    }\r\n\r\n\r\n\r\n     String prep=&quot;&quot;;\r\n        for (Entry&lt;String, String&gt; entry : mapWholeBRAVO.entrySet()) {\r\n        \tString key =entry.getKey().replace(&quot;:&quot;,&quot;&quot;);\t\r\n        \tfor (String n:che){\r\n        \t\tif (n.equals(key)){\r\n        \t\t\tprep=prep+key+&quot;,&quot;;\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n","title":"Nested loop adding first entry twice in Java","body":"<p>I am trying to compare some database columns I have in an <code>ArrayList</code> to some keys I have in a <code>HashMap</code> prior to creating an INSERT statement to insert all the <code>HashMap</code> values. The key is only part of the INSERT statement if the column is found in the database.</p>\n<p>The problem is, that the first key is entered into the INSERT statement twice causing the execution to fail. I haven't provided the INSERT statement here or how I'm getting the values as that's not the problem, just how I'm creating the string that identifies the column names.</p>\n<p>Here is the code:</p>\n<pre><code>ResultSet rs2 = st.executeQuery(&quot;SELECT * FROM BRAVODay1And2&quot;);\nResultSetMetaData rsmd2 = rs2.getMetaData();\nArrayList&lt;String&gt; che=new ArrayList&lt;String&gt;();\nfor (int i = 1; i &lt;= rsmd2.getColumnCount(); i++) { \n    che.add(rsmd2.getColumnName(i).trim());\n}\n\n\n\n String prep=&quot;&quot;;\n    for (Entry&lt;String, String&gt; entry : mapWholeBRAVO.entrySet()) {\n        String key =entry.getKey().replace(&quot;:&quot;,&quot;&quot;); \n        for (String n:che){\n            if (n.equals(key)){\n                prep=prep+key+&quot;,&quot;;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"comments":[{"owner":{"account_id":65131,"reputation":588,"user_id":191890,"accept_rate":100,"display_name":"Brian Schrameck"},"score":4,"creation_date":1454617216,"post_id":26437427,"comment_id":58136831,"body_markdown":"For reference, the sb parameter sets the sticky bit; it is not a recursive flag.","body":"For reference, the sb parameter sets the sticky bit; it is not a recursive flag."}],"tags":[],"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413617996,"creation_date":1413617996,"answer_id":26437427,"question_id":26426228,"body_markdown":"I think `Hadoop` doesn&#39;t provide a java API to provide permission recursively in the version you are using. The code is actually giving permission to the dir `user/user1/data` and nothing else. You should better use `FileSystem.listStatus(Path f)` method to list down all files in the directory and use `Filsystem.setPermission` to them individually. It&#39;s working currently on my 2.0.5-alpha-gphd-2.1.0.0 cluster.       \r\n\r\nHowever from `Hadoop 2.2.0` onward a new constructor \r\n\r\n  [`FsPermission(FsAction u, FsAction g, FsAction o, boolean sb)`][1] \r\n\r\nis being provided. The boolean field may be the recursive flag you wanted. But the documentation(including param name) is too poor to infer something concrete.      \r\n\r\nAlso have a look at https://stackoverflow.com/questions/22676593/hadoop-fs-mkdir-permission-denied although your sitaution may be different. (in my case `dfs.permissions.enabled` is still true).\r\n\r\n  [1]: https://hadoop.apache.org/docs/r2.2.0/api/org/apache/hadoop/fs/permission/FsPermission.html#FsPermission(org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>I think <code>Hadoop</code> doesn't provide a java API to provide permission recursively in the version you are using. The code is actually giving permission to the dir <code>user/user1/data</code> and nothing else. You should better use <code>FileSystem.listStatus(Path f)</code> method to list down all files in the directory and use <code>Filsystem.setPermission</code> to them individually. It's working currently on my 2.0.5-alpha-gphd-2.1.0.0 cluster.       </p>\n\n<p>However from <code>Hadoop 2.2.0</code> onward a new constructor </p>\n\n<p><a href=\"https://hadoop.apache.org/docs/r2.2.0/api/org/apache/hadoop/fs/permission/FsPermission.html#FsPermission(org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)\" rel=\"nofollow noreferrer\"><code>FsPermission(FsAction u, FsAction g, FsAction o, boolean sb)</code></a> </p>\n\n<p>is being provided. The boolean field may be the recursive flag you wanted. But the documentation(including param name) is too poor to infer something concrete.      </p>\n\n<p>Also have a look at <a href=\"https://stackoverflow.com/questions/22676593/hadoop-fs-mkdir-permission-denied\">Why does &quot;hadoop fs -mkdir&quot; fail with Permission Denied?</a> although your sitaution may be different. (in my case <code>dfs.permissions.enabled</code> is still true).</p>\n"},{"tags":[],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1413659547,"creation_date":1413651720,"answer_id":26442329,"question_id":26426228,"body_markdown":"Using FsShell APIs solved my dir permission problem. It may be not be optimal way but since I am solving it for test code it should be fine.   \r\n\r\n          FsShell shell=new FsShell(conf);\r\n          try {\r\n            shell.run(new String[]{&quot;-chmod&quot;,&quot;-R&quot;,&quot;777&quot;,&quot;user/usr1/data&quot;});\r\n          }\r\n         catch (  Exception e) {\r\n            LOG.error(&quot;Couldnt change the file permissions &quot;,e);\r\n            throw new IOException(e);\r\n          }","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>Using FsShell APIs solved my dir permission problem. It may be not be optimal way but since I am solving it for test code it should be fine.   </p>\n\n<pre><code>      FsShell shell=new FsShell(conf);\n      try {\n        shell.run(new String[]{\"-chmod\",\"-R\",\"777\",\"user/usr1/data\"});\n      }\n     catch (  Exception e) {\n        LOG.error(\"Couldnt change the file permissions \",e);\n        throw new IOException(e);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355604,"reputation":421,"user_id":3506535,"accept_rate":29,"display_name":"Playing With BI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521209348,"creation_date":1521209348,"answer_id":49322734,"question_id":26426228,"body_markdown":"I wrote this in scala but I think you could easily adapt it:\r\n\r\n\r\n    def changeUserGroup(user:String,fs:FileSystem, path: Path): Boolean ={\r\n      val changedPermission = new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL, true)\r\n      val fileList = fs.listFiles(path, true)\r\n      while (fileList.hasNext()) {\r\n    \tfs.setPermission(fileList.next().getPath(),changedPermission)\r\n      }\r\n    \treturn true\r\n      }\r\n\r\n\r\nYou will also have to add a logic for the error handling, I am always returning true.","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>I wrote this in scala but I think you could easily adapt it:</p>\n\n<pre><code>def changeUserGroup(user:String,fs:FileSystem, path: Path): Boolean ={\n  val changedPermission = new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL, true)\n  val fileList = fs.listFiles(path, true)\n  while (fileList.hasNext()) {\n    fs.setPermission(fileList.next().getPath(),changedPermission)\n  }\n    return true\n  }\n</code></pre>\n\n<p>You will also have to add a logic for the error handling, I am always returning true.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5818,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26442329,"answer_count":3,"score":4,"last_activity_date":1693822774,"creation_date":1413552881,"question_id":26426228,"body_markdown":"I have test program which loads files into hdfs at this path `user/user1/data/app/type/file.gz` Now this test program runs multiple times by multiple users. So I want to set file permission to rwx so that anyone can delete this file. I have the following code\r\n\r\n    fs.setPermission(new Path(&quot;user/user1/data&quot;),new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL)) \r\n\r\nAbove line gives `drwxrwxrwx` to all dirs but for the file.gz it gives permission as `-rw-r--r--` why so? Because of this reason another user apart from me not able to delete this file through test program. I can delete file through test program because I have full permission.\r\n\r\nI am new to Hadoop.\r\n","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>I have test program which loads files into hdfs at this path <code>user/user1/data/app/type/file.gz</code> Now this test program runs multiple times by multiple users. So I want to set file permission to rwx so that anyone can delete this file. I have the following code</p>\n<pre><code>fs.setPermission(new Path(&quot;user/user1/data&quot;),new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL)) \n</code></pre>\n<p>Above line gives <code>drwxrwxrwx</code> to all dirs but for the file.gz it gives permission as <code>-rw-r--r--</code> why so? Because of this reason another user apart from me not able to delete this file through test program. I can delete file through test program because I have full permission.</p>\n<p>I am new to Hadoop.</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1693819482,"post_id":77035806,"comment_id":135805847,"body_markdown":"It depends on api of `helloworld.com`, nothing relates to Rest-assured.","body":"It depends on api of <code>helloworld.com</code>, nothing relates to Rest-assured."},{"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"score":0,"creation_date":1693822824,"post_id":77035806,"comment_id":135806412,"body_markdown":"Yes managed to solve by using String startDate = &quot;2023-09-02&quot;; Then pass the key and value as below. Key was sysparm_query and value was appended with LIKE.\n\n.queryParam(&quot;sysparm_query&quot;, &quot;start_timeLIKE&quot;+startDate) Thanks.","body":"Yes managed to solve by using String startDate = &quot;2023-09-02&quot;; Then pass the key and value as below. Key was sysparm_query and value was appended with LIKE.  .queryParam(&quot;sysparm_query&quot;, &quot;start_timeLIKE&quot;+startDate) Thanks."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1693840768,"post_id":77035806,"comment_id":135809925,"body_markdown":"Sorry, don’t understand your question.","body":"Sorry, don’t understand your question."}],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693822772,"creation_date":1693812354,"question_id":77035806,"body_markdown":"In sys_created_on field ,I tried to search using wild card as suffix or prefix with just the  date but no result came, unless I gave the exact date time , so is there anyway to  give start_time=2023-09-02 05 and search? What I want is a partial search using date since I don&#39;t know the exact time.\r\n\r\n. In some APIs, wildcard searches are not allowed by design for various reasons, I think it might be the case here as well.\r\n\r\n\r\n   \r\n\r\n     @Test()\r\n        public void getStatus(){\r\n            String tableName = &quot;Mytable&quot;;\r\n             String tagValue = &quot;Mytag&quot;;\r\n    \r\n    \r\n            RequestSpecification request = RestAssured.given().auth().basic(&quot;username&quot;, &quot;password&quot;);\r\n    \r\n            // Search for a record with the specified tag value\r\n            Response response = request.given()\r\n                    .queryParam(&quot;Tags&quot;, tagValue).queryParam(&quot;start_time&quot;, &quot;2023-09-02 05:00:01&quot;)\r\n                    .get(&quot;https://helloworld.com/api/now/table/&quot; + tableName);\r\n    \r\n            // Check if the response is successful\r\n           response.then().statusCode(200);\r\n       \r\n      \r\n            JsonPath jsonPathEvaluator = response.jsonPath();\r\n            String actualExecutionStatus = jsonPathEvaluator.get(&quot;result.status[0]&quot;);\r\n            String actualsys_created_on = jsonPathEvaluator.get(&quot;result.sys_created_on[0]&quot;);\r\n            System.out.println(&quot;actualExecutionStatus ==&quot;+actualExecutionStatus);\r\n            System.out.println(&quot;actualsys_created_on ==&quot;+actualsys_created_on);\r\n            System.out.println(&quot;response body==&quot;+response.getBody().asString());\r\n    \r\n        }","title":"In Rest-Assured query using date only without using the exact date time","body":"<p>In sys_created_on field ,I tried to search using wild card as suffix or prefix with just the  date but no result came, unless I gave the exact date time , so is there anyway to  give start_time=2023-09-02 05 and search? What I want is a partial search using date since I don't know the exact time.</p>\n<p>. In some APIs, wildcard searches are not allowed by design for various reasons, I think it might be the case here as well.</p>\n<pre><code> @Test()\n    public void getStatus(){\n        String tableName = &quot;Mytable&quot;;\n         String tagValue = &quot;Mytag&quot;;\n\n\n        RequestSpecification request = RestAssured.given().auth().basic(&quot;username&quot;, &quot;password&quot;);\n\n        // Search for a record with the specified tag value\n        Response response = request.given()\n                .queryParam(&quot;Tags&quot;, tagValue).queryParam(&quot;start_time&quot;, &quot;2023-09-02 05:00:01&quot;)\n                .get(&quot;https://helloworld.com/api/now/table/&quot; + tableName);\n\n        // Check if the response is successful\n       response.then().statusCode(200);\n   \n  \n        JsonPath jsonPathEvaluator = response.jsonPath();\n        String actualExecutionStatus = jsonPathEvaluator.get(&quot;result.status[0]&quot;);\n        String actualsys_created_on = jsonPathEvaluator.get(&quot;result.sys_created_on[0]&quot;);\n        System.out.println(&quot;actualExecutionStatus ==&quot;+actualExecutionStatus);\n        System.out.println(&quot;actualsys_created_on ==&quot;+actualsys_created_on);\n        System.out.println(&quot;response body==&quot;+response.getBody().asString());\n\n    }\n</code></pre>\n"},{"tags":["java","encryption","jwt","jose4j"],"comments":[{"owner":{"account_id":955402,"reputation":4195,"user_id":980807,"display_name":"Erwan Legrand"},"score":0,"creation_date":1693821082,"post_id":32006323,"comment_id":135806127,"body_markdown":"Keys are not passwords! You must generate a key of the right size with a CSPRNG.","body":"Keys are not passwords! You must generate a key of the right size with a CSPRNG."}],"answers":[{"comments":[{"owner":{"account_id":955402,"reputation":4195,"user_id":980807,"display_name":"Erwan Legrand"},"score":0,"creation_date":1693821783,"post_id":32038878,"comment_id":135806256,"body_markdown":"This is very unsafe! In order to derive a key from a password, one should use a Key Derivation Functions such as Argon2id or PBKDF2.","body":"This is very unsafe! In order to derive a key from a password, one should use a Key Derivation Functions such as Argon2id or PBKDF2."}],"tags":[],"owner":{"account_id":4624068,"reputation":51452,"user_id":3748349,"display_name":"Hans Z."},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1439752069,"creation_date":1439752069,"answer_id":32038878,"question_id":32006323,"body_markdown":"A common approach is to hash the secret before using it as a signing key.\r\n\r\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    String secret = &quot;secret&quot;;\r\n    md.update(secret.getBytes(&quot;UTF-8&quot;));\r\n    byte[] key = md.digest();\r\n\r\nThe alternative is to relax the requirement on the key length with something like:\r\n\r\n    JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n         .setVerificationKey(new HmacKey(secret.getBytes())) \r\n         .setRelaxVerificationKeyValidation() // allow shorter HMAC keys when used w/ HSxxx algs \r\n         .build();\r\n","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>A common approach is to hash the secret before using it as a signing key.</p>\n\n<pre><code>MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\nString secret = \"secret\";\nmd.update(secret.getBytes(\"UTF-8\"));\nbyte[] key = md.digest();\n</code></pre>\n\n<p>The alternative is to relax the requirement on the key length with something like:</p>\n\n<pre><code>JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n     .setVerificationKey(new HmacKey(secret.getBytes())) \n     .setRelaxVerificationKeyValidation() // allow shorter HMAC keys when used w/ HSxxx algs \n     .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":955402,"reputation":4195,"user_id":980807,"display_name":"Erwan Legrand"},"score":0,"creation_date":1693821419,"post_id":32167447,"comment_id":135806180,"body_markdown":"If you actually do this, hashcat will break your JWTs in no time. Keys are not passwords! You must generate a key of the right size with a CSPRNG.","body":"If you actually do this, hashcat will break your JWTs in no time. Keys are not passwords! You must generate a key of the right size with a CSPRNG."}],"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1440338450,"creation_date":1440338450,"answer_id":32167447,"question_id":32006323,"body_markdown":"[Section 3.2 of JWA / RFC 7518][1] says that a key of the same size as the hash output  or larger must be used with the JWS HMAC SHA-2 algorithms (i.e, 256 bits for &quot;HS256&quot;, 384bits/&quot;HS384&quot;, &amp; 512 bits/&quot;HS512&quot;). It&#39;s generally a good idea to follow this advice from the IETF and NIST. Roughly speaking the security of an HMAC comes from the size of the hash output and the key length, whichever is smaller. So using the bytes of &quot;secret&quot; as the key gives you a key that&#39;s only 48 bits long and, in practice, provides considerably less security than even that because it&#39;s a dictionary word, regardless of the strength of the HMAC SHA-2 algorithm you chose. \r\n\r\nBy default [jose4j][2] enforces the minimum key sizes mandated by JWA/RFC 7518. However, as Hans points out, there are ways to tell jose4j to relax the key length requirement. This can be done with `JwtConsumer` by calling  `.setRelaxVerificationKeyValidation()` on `JwtConsumerBuilder` and on `JsonWebSignature` directly with `.setDoKeyValidation(false)`. Below is a quick example producing and consuming a JWT using HMAC SHA256 that shows both. \r\n  \r\n\r\n    JwtClaims claims = new JwtClaims();\r\n    claims.setExpirationTimeMinutesInTheFuture(5);\r\n    claims.setSubject(&quot;foki&quot;);\r\n    claims.setIssuer(&quot;the issuer&quot;);\r\n    claims.setAudience(&quot;the audience&quot;);\r\n    \r\n    String secret = &quot;secret&quot;;\r\n    Key key = new HmacKey(secret.getBytes(&quot;UTF-8&quot;));\r\n    \r\n    JsonWebSignature jws = new JsonWebSignature();\r\n    jws.setPayload(claims.toJson());\r\n    jws.setAlgorithmHeaderValue(AlgorithmIdentifiers.HMAC_SHA256);\r\n    jws.setKey(key);\r\n    jws.setDoKeyValidation(false); // relaxes the key length requirement\r\n    \r\n    String jwt = jws.getCompactSerialization();\r\n    System.out.println(jwt);\r\n    \r\n    JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n            .setRequireExpirationTime()\r\n            .setAllowedClockSkewInSeconds(30)\r\n            .setRequireSubject()\r\n            .setExpectedIssuer(&quot;the issuer&quot;)\r\n            .setExpectedAudience(&quot;the audience&quot;)\r\n            .setVerificationKey(key)\r\n            .setRelaxVerificationKeyValidation() // relaxes key length requirement \r\n            .build();\r\n    \r\n    JwtClaims processedClaims = jwtConsumer.processToClaims(jwt);\r\n    System.out.println(processedClaims);\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7518#section-3.2\r\n  [2]: https://bitbucket.org/b_c/jose4j/wiki/Home","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">Section 3.2 of JWA / RFC 7518</a> says that a key of the same size as the hash output  or larger must be used with the JWS HMAC SHA-2 algorithms (i.e, 256 bits for &quot;HS256&quot;, 384bits/&quot;HS384&quot;, &amp; 512 bits/&quot;HS512&quot;). It's generally a good idea to follow this advice from the IETF and NIST. Roughly speaking the security of an HMAC comes from the size of the hash output and the key length, whichever is smaller. So using the bytes of &quot;secret&quot; as the key gives you a key that's only 48 bits long and, in practice, provides considerably less security than even that because it's a dictionary word, regardless of the strength of the HMAC SHA-2 algorithm you chose.</p>\n<p>By default <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Home\" rel=\"nofollow noreferrer\">jose4j</a> enforces the minimum key sizes mandated by JWA/RFC 7518. However, as Hans points out, there are ways to tell jose4j to relax the key length requirement. This can be done with <code>JwtConsumer</code> by calling  <code>.setRelaxVerificationKeyValidation()</code> on <code>JwtConsumerBuilder</code> and on <code>JsonWebSignature</code> directly with <code>.setDoKeyValidation(false)</code>. Below is a quick example producing and consuming a JWT using HMAC SHA256 that shows both.</p>\n<pre><code>JwtClaims claims = new JwtClaims();\nclaims.setExpirationTimeMinutesInTheFuture(5);\nclaims.setSubject(&quot;foki&quot;);\nclaims.setIssuer(&quot;the issuer&quot;);\nclaims.setAudience(&quot;the audience&quot;);\n\nString secret = &quot;secret&quot;;\nKey key = new HmacKey(secret.getBytes(&quot;UTF-8&quot;));\n\nJsonWebSignature jws = new JsonWebSignature();\njws.setPayload(claims.toJson());\njws.setAlgorithmHeaderValue(AlgorithmIdentifiers.HMAC_SHA256);\njws.setKey(key);\njws.setDoKeyValidation(false); // relaxes the key length requirement\n\nString jwt = jws.getCompactSerialization();\nSystem.out.println(jwt);\n\nJwtConsumer jwtConsumer = new JwtConsumerBuilder()\n        .setRequireExpirationTime()\n        .setAllowedClockSkewInSeconds(30)\n        .setRequireSubject()\n        .setExpectedIssuer(&quot;the issuer&quot;)\n        .setExpectedAudience(&quot;the audience&quot;)\n        .setVerificationKey(key)\n        .setRelaxVerificationKeyValidation() // relaxes key length requirement \n        .build();\n\nJwtClaims processedClaims = jwtConsumer.processToClaims(jwt);\nSystem.out.println(processedClaims);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9227642,"reputation":500,"user_id":6854902,"display_name":"U R"},"score":1,"creation_date":1667297130,"post_id":71149603,"comment_id":131129771,"body_markdown":"without package information, the above code is obsure.","body":"without package information, the above code is obsure."},{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":3,"creation_date":1685873373,"post_id":71149603,"comment_id":134719225,"body_markdown":"Which library is this code based on?","body":"Which library is this code based on?"}],"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645047516,"creation_date":1645047516,"answer_id":71149603,"question_id":32006323,"body_markdown":"For safe, &#39;secret&#39; is too short and unsafe as a secret key.\r\nYou can use the below code to generate a safe secret key as your personal secret key.\r\n\r\n    //Generating a safe HS256 Secret key\r\n    SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n    String secretString = Encoders.BASE64.encode(key.getEncoded());\r\n    logger.info(&quot;Secret key: &quot; + secretString);\r\n\r\n","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>For safe, 'secret' is too short and unsafe as a secret key.\nYou can use the below code to generate a safe secret key as your personal secret key.</p>\n<pre><code>//Generating a safe HS256 Secret key\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\nString secretString = Encoders.BASE64.encode(key.getEncoded());\nlogger.info(&quot;Secret key: &quot; + secretString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688235322,"creation_date":1688235322,"answer_id":76595995,"question_id":32006323,"body_markdown":"This will work:\r\n\r\n```\r\nimport io.jsonwebtoken.io.Encoders;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport javax.crypto.SecretKey;\r\n\r\n...\r\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS512);\r\nString secretString =  Encoders.BASE64.encode(key.getEncoded());\r\nSystem.out.println(&quot;Kex: &quot; + secretString);\r\n...\r\n```\r\n","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>This will work:</p>\n<pre><code>import io.jsonwebtoken.io.Encoders;\nimport io.jsonwebtoken.security.Keys;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport javax.crypto.SecretKey;\n\n...\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS512);\nString secretString =  Encoders.BASE64.encode(key.getEncoded());\nSystem.out.println(&quot;Kex: &quot; + secretString);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":955402,"reputation":4195,"user_id":980807,"display_name":"Erwan Legrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693822452,"creation_date":1693822452,"answer_id":77036871,"question_id":32006323,"body_markdown":"The answer can be found in RFC7515: https://www.rfc-editor.org/rfc/rfc7515#section-10.1\r\n\r\nLet me quote it:\r\n\r\n&gt; Keys are only as strong as the amount of entropy used to generate\r\n&gt; them. A minimum of 128 bits of entropy should be used for all keys,\r\n&gt; and depending upon the application context, more may be required.\r\n&gt; Implementations must randomly generate public/private key pairs, MAC\r\n&gt; keys, and padding values. The use of inadequate pseudorandom number\r\n&gt; generators (PRNGs) to generate cryptographic keys can result in little\r\n&gt; or no security. An attacker may find it much easier to reproduce the\r\n&gt; PRNG environment that produced the keys, searching the resulting small\r\n&gt; set of possibilities rather than brute-force searching the whole key\r\n&gt; space. The generation of quality random numbers is difficult. RFC 4086\r\n&gt; offers important guidance in this area.\r\n\r\nSo, the best answer is that you don&#39;t use a password. Instead, you use a key generated by a CSPRNG.\r\n\r\nIf for some reason you insist on using a password or passphrase, good cryptography engineering practice require that you use a Key Derivation Function (KDF) to derive a key from the password. Argon2id is the KDF usually recommended these days. PBKD2 is an older option.\r\n\r\nUsing a password directly is likely to result in JWTs which can easily be brute forced by hashcat.","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>The answer can be found in RFC7515: <a href=\"https://www.rfc-editor.org/rfc/rfc7515#section-10.1\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7515#section-10.1</a></p>\n<p>Let me quote it:</p>\n<blockquote>\n<p>Keys are only as strong as the amount of entropy used to generate\nthem. A minimum of 128 bits of entropy should be used for all keys,\nand depending upon the application context, more may be required.\nImplementations must randomly generate public/private key pairs, MAC\nkeys, and padding values. The use of inadequate pseudorandom number\ngenerators (PRNGs) to generate cryptographic keys can result in little\nor no security. An attacker may find it much easier to reproduce the\nPRNG environment that produced the keys, searching the resulting small\nset of possibilities rather than brute-force searching the whole key\nspace. The generation of quality random numbers is difficult. RFC 4086\noffers important guidance in this area.</p>\n</blockquote>\n<p>So, the best answer is that you don't use a password. Instead, you use a key generated by a CSPRNG.</p>\n<p>If for some reason you insist on using a password or passphrase, good cryptography engineering practice require that you use a Key Derivation Function (KDF) to derive a key from the password. Argon2id is the KDF usually recommended these days. PBKD2 is an older option.</p>\n<p>Using a password directly is likely to result in JWTs which can easily be brute forced by hashcat.</p>\n"}],"owner":{"account_id":1458267,"reputation":8771,"user_id":1398282,"accept_rate":65,"display_name":"yujaiyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27244,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1693822452,"creation_date":1439543196,"question_id":32006323,"body_markdown":"I want to produce JWTs and sign them with HMAC_SHA256.\r\nFor that task I must use [jose4j][1].\r\nI have tried to generate key based on secret with:\r\n\r\n    SecretKeySpec key = new SecretKeySpec((&quot;secret&quot;).getBytes(&quot;UTF-8&quot;), AlgorithmIdentifiers.HMAC_SHA512);\r\n\r\nbut it generates 40bits key while 512bit one is required for signing using HMAC_SHA256.\r\n\r\n - The primary issue - how to sign tokens with HMAC_SHA512 using jose4j?\r\n - Issue created by my approach solving issue above - how to make 512bit long secret key based on secret string?\r\n\r\n  [1]: https://bitbucket.org/b_c/jose4j/wiki/Home","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>I want to produce JWTs and sign them with HMAC_SHA256.\nFor that task I must use <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Home\" rel=\"noreferrer\">jose4j</a>.\nI have tried to generate key based on secret with:</p>\n\n<pre><code>SecretKeySpec key = new SecretKeySpec((\"secret\").getBytes(\"UTF-8\"), AlgorithmIdentifiers.HMAC_SHA512);\n</code></pre>\n\n<p>but it generates 40bits key while 512bit one is required for signing using HMAC_SHA256.</p>\n\n<ul>\n<li>The primary issue - how to sign tokens with HMAC_SHA512 using jose4j?</li>\n<li>Issue created by my approach solving issue above - how to make 512bit long secret key based on secret string?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-types"],"answers":[{"comments":[{"owner":{"account_id":6753742,"reputation":1209,"user_id":5202960,"display_name":"Vinujan.S"},"score":0,"creation_date":1625679609,"post_id":67486584,"comment_id":120693865,"body_markdown":"thanks for the answer, works like charm &#129321;","body":"thanks for the answer, works like charm 🤩"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1645018739,"post_id":67486584,"comment_id":125758530,"body_markdown":"We can also use this configuration key in `application.yml`(instead of hibernate specific configs): `jpa.properties.hibernate.types.jackson.object.mapper: your_path`","body":"We can also use this configuration key in <code>application.yml</code>(instead of hibernate specific configs): <code>jpa.properties.hibernate.types.jackson.object.mapper: your_path</code>"}],"tags":[],"owner":{"account_id":1303875,"reputation":103,"user_id":1253253,"display_name":"Gerard de Leeuw"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620735339,"creation_date":1620735339,"answer_id":67486584,"question_id":66656772,"body_markdown":"I finally figured this out, but it is kind of an creative solution...\r\n\r\nTLDR: I have a bean that stores the Spring-configured `objectMapper` in a static field. A BeanFactoryPostProcessor ensures that this bean is initialized before Hibernate (types) tries to load / get the ObjectMapper.\r\n\r\n**hibernate.properties**\r\n```\r\nhibernate.types.jackson.object.mapper=com.github.lion7.example.HibernateObjectMapperSupplier\r\n```\r\n\r\n**HibernateObjectMapperSupplier.kt**\r\n```kotlin\r\npackage com.github.lion7.example\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport com.vladmihalcea.hibernate.type.util.ObjectMapperSupplier\r\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor\r\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory\r\nimport org.springframework.stereotype.Component\r\n\r\nclass HibernateObjectMapperSupplier : ObjectMapperSupplier {\r\n    override fun get(): ObjectMapper =\r\n        ObjectMapperHolder.objectMapper\r\n}\r\n\r\n@Component\r\nclass ObjectMapperHolder(objectMapper: ObjectMapper) {\r\n\r\n    companion object {\r\n        lateinit var objectMapper: ObjectMapper\r\n    }\r\n\r\n    init {\r\n        Companion.objectMapper = objectMapper\r\n    }\r\n\r\n}\r\n\r\n@Component\r\nclass ObjectMapperDependencyFixer : BeanFactoryPostProcessor {\r\n    override fun postProcessBeanFactory(beanFactory: ConfigurableListableBeanFactory) {\r\n        val beanDefinition = beanFactory.getBeanDefinition(&quot;entityManagerFactory&quot;)\r\n        val oldDependsOn = beanDefinition.dependsOn ?: emptyArray()\r\n        val newDependsOn = oldDependsOn + &quot;objectMapperHolder&quot;\r\n        beanDefinition.setDependsOn(*newDependsOn)\r\n    }\r\n}\r\n```\r\n\r\nSame code as gist: https://gist.github.com/lion7/c8006b69a309e38183deb69124b888b5","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>I finally figured this out, but it is kind of an creative solution...</p>\n<p>TLDR: I have a bean that stores the Spring-configured <code>objectMapper</code> in a static field. A BeanFactoryPostProcessor ensures that this bean is initialized before Hibernate (types) tries to load / get the ObjectMapper.</p>\n<p><strong>hibernate.properties</strong></p>\n<pre><code>hibernate.types.jackson.object.mapper=com.github.lion7.example.HibernateObjectMapperSupplier\n</code></pre>\n<p><strong>HibernateObjectMapperSupplier.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.github.lion7.example\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.vladmihalcea.hibernate.type.util.ObjectMapperSupplier\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory\nimport org.springframework.stereotype.Component\n\nclass HibernateObjectMapperSupplier : ObjectMapperSupplier {\n    override fun get(): ObjectMapper =\n        ObjectMapperHolder.objectMapper\n}\n\n@Component\nclass ObjectMapperHolder(objectMapper: ObjectMapper) {\n\n    companion object {\n        lateinit var objectMapper: ObjectMapper\n    }\n\n    init {\n        Companion.objectMapper = objectMapper\n    }\n\n}\n\n@Component\nclass ObjectMapperDependencyFixer : BeanFactoryPostProcessor {\n    override fun postProcessBeanFactory(beanFactory: ConfigurableListableBeanFactory) {\n        val beanDefinition = beanFactory.getBeanDefinition(&quot;entityManagerFactory&quot;)\n        val oldDependsOn = beanDefinition.dependsOn ?: emptyArray()\n        val newDependsOn = oldDependsOn + &quot;objectMapperHolder&quot;\n        beanDefinition.setDependsOn(*newDependsOn)\n    }\n}\n</code></pre>\n<p>Same code as gist: <a href=\"https://gist.github.com/lion7/c8006b69a309e38183deb69124b888b5\" rel=\"noreferrer\">https://gist.github.com/lion7/c8006b69a309e38183deb69124b888b5</a></p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637247820,"creation_date":1634317399,"answer_id":69588264,"question_id":66656772,"body_markdown":"A Java implementation.\r\n\r\n```java\r\n@Component\r\npublic class HibernateObjectMapper implements Supplier&lt;ObjectMapper&gt; {\r\n\r\n    private static ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public void setObjectMapper(ObjectMapper objectMapper) {\r\n        HibernateObjectMapper.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public ObjectMapper get() {\r\n        return objectMapper;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf you define your own JPA beans, simply add `@DependsOn(&quot;hibernateObjectMapper&quot;)` to their config. Otherwise you need a `BeanPostProcessor` to add the dependency to the autoconfigured bean:\r\n\r\n```java\r\n@Component\r\nclass HibernateBeanDependencyProcessor implements BeanFactoryPostProcessor {\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory factory) {\r\n        BeanDefinition beanDefinition = factory.getBeanDefinition(&quot;entityManagerFactory&quot;);\r\n        String[] dependsOn = beanDefinition.getDependsOn();\r\n        dependsOn = dependsOn == null ? new String[]{} : dependsOn;\r\n        String[] newDependsOn = new String[dependsOn.length + 1];\r\n        System.arraycopy(dependsOn, 0, newDependsOn, 1, dependsOn.length);\r\n        newDependsOn[0] = &quot;hibernateObjectMapper&quot;;\r\n        beanDefinition.setDependsOn(newDependsOn);\r\n    }\r\n}\r\n```\r\n\r\nAs for the property, `hibernate.types.*` don&#39;t work when set programmatically. The library looks directly in the `hibernate.properties`, `hibernate-types.properties`, and `application.properties` files.","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>A Java implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class HibernateObjectMapper implements Supplier&lt;ObjectMapper&gt; {\n\n    private static ObjectMapper objectMapper;\n\n    @Autowired\n    public void setObjectMapper(ObjectMapper objectMapper) {\n        HibernateObjectMapper.objectMapper = objectMapper;\n    }\n\n    @Override\n    public ObjectMapper get() {\n        return objectMapper;\n    }\n\n}\n</code></pre>\n<p>If you define your own JPA beans, simply add <code>@DependsOn(&quot;hibernateObjectMapper&quot;)</code> to their config. Otherwise you need a <code>BeanPostProcessor</code> to add the dependency to the autoconfigured bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass HibernateBeanDependencyProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory factory) {\n        BeanDefinition beanDefinition = factory.getBeanDefinition(&quot;entityManagerFactory&quot;);\n        String[] dependsOn = beanDefinition.getDependsOn();\n        dependsOn = dependsOn == null ? new String[]{} : dependsOn;\n        String[] newDependsOn = new String[dependsOn.length + 1];\n        System.arraycopy(dependsOn, 0, newDependsOn, 1, dependsOn.length);\n        newDependsOn[0] = &quot;hibernateObjectMapper&quot;;\n        beanDefinition.setDependsOn(newDependsOn);\n    }\n}\n</code></pre>\n<p>As for the property, <code>hibernate.types.*</code> don't work when set programmatically. The library looks directly in the <code>hibernate.properties</code>, <code>hibernate-types.properties</code>, and <code>application.properties</code> files.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646989189,"post_id":71435473,"comment_id":126264559,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71435473/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":1,"creation_date":1676468902,"post_id":71435473,"comment_id":133142374,"body_markdown":"@EslamSamehAhmed: Which link?","body":"@EslamSamehAhmed: Which link?"}],"tags":[],"owner":{"account_id":21778843,"reputation":11,"user_id":16080807,"display_name":"Feng68"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676373961,"creation_date":1646986423,"answer_id":71435473,"question_id":66656772,"body_markdown":"    System.getProperties().put(\r\n        Configuration.PropertyKey.JACKSON_OBJECT_MAPPER.getKey(),\r\n        MyObjectMapperSupplier.class.getName()\r\n    );","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<pre><code>System.getProperties().put(\n    Configuration.PropertyKey.JACKSON_OBJECT_MAPPER.getKey(),\n    MyObjectMapperSupplier.class.getName()\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7819990,"reputation":331,"user_id":5913418,"accept_rate":18,"display_name":"pustypawel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665704998,"creation_date":1665704998,"answer_id":74062956,"question_id":66656772,"body_markdown":"I think that I&#39;ve found solution to do it programmatically (without magic with fixing dependency graph).\r\n**HibernateConfiguration.kt**\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    class HibernateConfiguration {\r\n\r\n        @Bean\r\n        fun hibernatePropertiesCustomizer(\r\n            objectMapper: ObjectMapper // Thanks to that Spring can create correct dependency graph\r\n        ): HibernatePropertiesCustomizer =\r\n            HibernatePropertiesCustomizer { hibernateProperties -&gt;\r\n                HibernateObjectMapperSupplier.objectMapper = objectMapper\r\n                hibernateProperties[&quot;hibernate.types.jackson.object.mapper&quot;] = HibernateObjectMapperSupplier::class.qualifiedName\r\n            }\r\n    }\r\n**HibernateObjectMapperSupplier.kt**\r\n\r\n    class HibernateObjectMapperSupplier : Supplier&lt;ObjectMapper&gt; {\r\n\r\n        override fun get(): ObjectMapper {\r\n            return objectMapper\r\n        }\r\n\r\n        companion object {\r\n            lateinit var objectMapper: ObjectMapper\r\n        }\r\n    }\r\n","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>I think that I've found solution to do it programmatically (without magic with fixing dependency graph).\n<strong>HibernateConfiguration.kt</strong></p>\n<pre><code>@Configuration(proxyBeanMethods = false)\nclass HibernateConfiguration {\n\n    @Bean\n    fun hibernatePropertiesCustomizer(\n        objectMapper: ObjectMapper // Thanks to that Spring can create correct dependency graph\n    ): HibernatePropertiesCustomizer =\n        HibernatePropertiesCustomizer { hibernateProperties -&gt;\n            HibernateObjectMapperSupplier.objectMapper = objectMapper\n            hibernateProperties[&quot;hibernate.types.jackson.object.mapper&quot;] = HibernateObjectMapperSupplier::class.qualifiedName\n        }\n}\n</code></pre>\n<p><strong>HibernateObjectMapperSupplier.kt</strong></p>\n<pre><code>class HibernateObjectMapperSupplier : Supplier&lt;ObjectMapper&gt; {\n\n    override fun get(): ObjectMapper {\n        return objectMapper\n    }\n\n    companion object {\n        lateinit var objectMapper: ObjectMapper\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3601961,"reputation":1282,"user_id":3005093,"accept_rate":70,"display_name":"DCO"},"score":0,"creation_date":1694427166,"post_id":76630728,"comment_id":135884963,"body_markdown":"Works for me as well.\nFinally a pretty solution.\nThx :-)","body":"Works for me as well. Finally a pretty solution. Thx :-)"},{"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"score":1,"creation_date":1694606382,"post_id":76630728,"comment_id":135912839,"body_markdown":"THANKS!! I was searching of how to register JavaTimeModule (to parse correctly dates from jsonb fields) in my Java17+Hibernate6+SpringBoot3 app for several days. And your answer saved me! :)","body":"THANKS!! I was searching of how to register JavaTimeModule (to parse correctly dates from jsonb fields) in my Java17+Hibernate6+SpringBoot3 app for several days. And your answer saved me! :)"}],"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688659937,"creation_date":1688659937,"answer_id":76630728,"question_id":66656772,"body_markdown":"For those working on Spring Boot 3 and Hibernate 6, check [this solution][1] from Andy Wilkinson: \r\n```\r\n    @Bean\r\n    public HibernatePropertiesCustomizer jsonFormatMapperCustomizer(ObjectMapper objectMapper) {\r\n        return properties -&gt; properties\r\n                .put(AvailableSettings.JSON_FORMAT_MAPPER, new JacksonJsonFormatMapper(objectMapper));\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/33870#issuecomment-1386822021","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>For those working on Spring Boot 3 and Hibernate 6, check <a href=\"https://github.com/spring-projects/spring-boot/issues/33870#issuecomment-1386822021\" rel=\"noreferrer\">this solution</a> from Andy Wilkinson:</p>\n<pre><code>    @Bean\n    public HibernatePropertiesCustomizer jsonFormatMapperCustomizer(ObjectMapper objectMapper) {\n        return properties -&gt; properties\n                .put(AvailableSettings.JSON_FORMAT_MAPPER, new JacksonJsonFormatMapper(objectMapper));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693822009,"creation_date":1693822009,"answer_id":77036820,"question_id":66656772,"body_markdown":"The thing that worked best for me is to configure the already existing `ObjectMapper` used by Hypersistence:\r\n\r\n       import io.hypersistence.utils.hibernate.type.util.ObjectMapperWrapper;\r\n       \r\n       ObjectMapperWrapper.INSTANCE.getObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>The thing that worked best for me is to configure the already existing <code>ObjectMapper</code> used by Hypersistence:</p>\n<pre><code>   import io.hypersistence.utils.hibernate.type.util.ObjectMapperWrapper;\n   \n   ObjectMapperWrapper.INSTANCE.getObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"}],"owner":{"account_id":8312986,"reputation":233,"user_id":6247366,"display_name":"Julius Koljonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6792,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1693822009,"creation_date":1615903245,"question_id":66656772,"body_markdown":"I want to configure Hibernate to use Jackson&#39;s `Objectmapper` created by Spring to map between json and entities. In the project I&#39;m working on I already configured Jooq to use the Spring&#39;s `ObjectMapper` but I&#39;m having trouble how to configure Hibernate to use it. **The goal** in the end is that both Jooq and Hibernate would use the same `ObjectMapper`.\r\n\r\nI checked this [article][1] by Vlad. Unfortunately all the tips given in the article don&#39;t work for the project I&#39;m working on.\r\n\r\nHere&#39;s an example configuration I tried\r\n\r\n    @Configuration\r\n    public class HibernateConfiguration implements HibernatePropertiesCustomizer {\r\n        //Autowire Objectmapper created by Spring\r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @Override\r\n        public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n            ObjectMapperSupplier objectMapperSupplier = () -&gt; objectMapper;\r\n            // Below config doesn&#39;t work since Hibernate types creates it&#39;s own mapper\r\n            hibernateProperties.put(&quot;hibernate.types.jackson.object.mapper&quot;, objectMapperSupplier);\r\n    }\r\n\r\nAlso tried the same approach by adding the Objectmapper to hibernate-types.properties.\r\n    \r\n    #Used by Hibernate but cannot get reference of Spring managed ObjectMapper since this is class is called outside of Spring&#39;s context.\r\n    hibernate.types.jackson.object.mapper=path.to.ObjectMapperSupplier\r\n\r\nAnother approach I used but it fails with a `NullpointerException` when converting from JSON to an entity in `JsonTypeDescriptor` class.\r\n\r\n    @Configuration\r\n    public class HibernateConfiguration implements HibernatePropertiesCustomizer{\r\n    \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @Override\r\n        public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n            // Underlying implementation needs some JavaType or propertyClass, otherwise when converting \r\n            // from JSON we get a nullpointer.\r\n            var jsonBinaryType = new JsonBinaryType(objectMapper);\r\n            hibernateProperties.put(&quot;hibernate.type_contributors&quot;, (TypeContributorList) () -&gt; \r\n            Collections.singletonList((typeContributions, serviceRegistry) -&gt; \r\n                          typeContributions.contributeType(jsonBinaryType)));\r\n    }\r\n\r\nBelow is the type declaration for entity super class.\r\n\r\n    // This makes Hibernate types create it&#39;s own mapper.\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    @MappedSuperclass\r\n    public abstract class Entity{\r\n    \r\n    }\r\n\r\nSo, are there any possible solutions how I can hook up Spring managed ObjectMapper to Hibernate?\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>I want to configure Hibernate to use Jackson's <code>Objectmapper</code> created by Spring to map between json and entities. In the project I'm working on I already configured Jooq to use the Spring's <code>ObjectMapper</code> but I'm having trouble how to configure Hibernate to use it. <strong>The goal</strong> in the end is that both Jooq and Hibernate would use the same <code>ObjectMapper</code>.</p>\n<p>I checked this <a href=\"https://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/\" rel=\"noreferrer\">article</a> by Vlad. Unfortunately all the tips given in the article don't work for the project I'm working on.</p>\n<p>Here's an example configuration I tried</p>\n<pre><code>@Configuration\npublic class HibernateConfiguration implements HibernatePropertiesCustomizer {\n    //Autowire Objectmapper created by Spring\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        ObjectMapperSupplier objectMapperSupplier = () -&gt; objectMapper;\n        // Below config doesn't work since Hibernate types creates it's own mapper\n        hibernateProperties.put(&quot;hibernate.types.jackson.object.mapper&quot;, objectMapperSupplier);\n}\n</code></pre>\n<p>Also tried the same approach by adding the Objectmapper to hibernate-types.properties.</p>\n<pre><code>#Used by Hibernate but cannot get reference of Spring managed ObjectMapper since this is class is called outside of Spring's context.\nhibernate.types.jackson.object.mapper=path.to.ObjectMapperSupplier\n</code></pre>\n<p>Another approach I used but it fails with a <code>NullpointerException</code> when converting from JSON to an entity in <code>JsonTypeDescriptor</code> class.</p>\n<pre><code>@Configuration\npublic class HibernateConfiguration implements HibernatePropertiesCustomizer{\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        // Underlying implementation needs some JavaType or propertyClass, otherwise when converting \n        // from JSON we get a nullpointer.\n        var jsonBinaryType = new JsonBinaryType(objectMapper);\n        hibernateProperties.put(&quot;hibernate.type_contributors&quot;, (TypeContributorList) () -&gt; \n        Collections.singletonList((typeContributions, serviceRegistry) -&gt; \n                      typeContributions.contributeType(jsonBinaryType)));\n}\n</code></pre>\n<p>Below is the type declaration for entity super class.</p>\n<pre><code>// This makes Hibernate types create it's own mapper.\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n@MappedSuperclass\npublic abstract class Entity{\n\n}\n</code></pre>\n<p>So, are there any possible solutions how I can hook up Spring managed ObjectMapper to Hibernate?</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":25647526,"reputation":13,"user_id":19415375,"display_name":"Daria"},"score":0,"creation_date":1693822624,"post_id":77036740,"comment_id":135806383,"body_markdown":"Yes, it does, thx","body":"Yes, it does, thx"}],"owner":{"account_id":25647526,"reputation":13,"user_id":19415375,"display_name":"Daria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693849441,"answer_count":0,"score":0,"last_activity_date":1693821325,"creation_date":1693821325,"question_id":77036740,"body_markdown":"I signed up for a Java course and one of my tasks is to Test STS and Tomcat.\r\n\r\n*Open the DemoApplication.java class from the Project explorer (from the com.example.demo package, from the src/main/java directory). Anywhere in the space in the class editor, right-click &gt; Run as... &gt; Spring Boot App. Open a browser of your choice and access http://localhost:8080/api/example/hello-world*\r\n\r\nThe console shows: Web server failed to start. Port 8080 was already in use.\r\n\r\nAction:\r\n\r\nIdentify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication extends SpringBootServletInitializer {\r\n\t\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn builder.sources(DemoApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have no idea how to do it.","title":"Web server failed to start Port 8080 was already in use spring boot","body":"<p>I signed up for a Java course and one of my tasks is to Test STS and Tomcat.</p>\n<p><em>Open the DemoApplication.java class from the Project explorer (from the com.example.demo package, from the src/main/java directory). Anywhere in the space in the class editor, right-click &gt; Run as... &gt; Spring Boot App. Open a browser of your choice and access http://localhost:8080/api/example/hello-world</em></p>\n<p>The console shows: Web server failed to start. Port 8080 was already in use.</p>\n<p>Action:</p>\n<p>Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoApplication extends SpringBootServletInitializer {\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        // TODO Auto-generated method stub\n        return builder.sources(DemoApplication.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I have no idea how to do it.</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"comments":[{"owner":{"account_id":10873374,"reputation":453,"user_id":7994509,"display_name":"Felipe Vidal"},"score":0,"creation_date":1678681227,"post_id":68122242,"comment_id":133574342,"body_markdown":"OMG. This is so helpful. I&#39;m a complete noob, so imagine what this means for me XD.","body":"OMG. This is so helpful. I&#39;m a complete noob, so imagine what this means for me XD."}],"tags":[],"owner":{"account_id":9993767,"reputation":55,"user_id":7392068,"display_name":"Nick"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624565587,"creation_date":1624565587,"answer_id":68122242,"question_id":68107915,"body_markdown":"After doing some extra digging, I finally found an answer. Instead of using ```ic.sendKeyEvent(...)```, you&#39;d need to use ```ic.performEditorAction(EditorInfo.IME_ACTION_GO)```","title":"InputConnection.sendKeyEvent doesn&#39;t work","body":"<p>After doing some extra digging, I finally found an answer. Instead of using <code>ic.sendKeyEvent(...)</code>, you'd need to use <code>ic.performEditorAction(EditorInfo.IME_ACTION_GO)</code></p>\n"},{"tags":[],"owner":{"account_id":13893777,"reputation":1,"user_id":10031119,"display_name":"runoono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693821281,"creation_date":1693821281,"answer_id":77036735,"question_id":68107915,"body_markdown":"I just found this answer but the proper way to do what youre asking is using the `sendDefaultEditorAction()` method, inherited from the `InputMethodService` class","title":"InputConnection.sendKeyEvent doesn&#39;t work","body":"<p>I just found this answer but the proper way to do what youre asking is using the <code>sendDefaultEditorAction()</code> method, inherited from the <code>InputMethodService</code> class</p>\n"}],"owner":{"account_id":9993767,"reputation":55,"user_id":7392068,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693821281,"creation_date":1624489836,"question_id":68107915,"body_markdown":"I am currently making my own custom soft keyboard for android in Android Studio (currently typing this out with it lol). I managed to create and programme all but one very important key: the search/enter button (the one that sits on the bottom right corner of the keyboard). Basically the main and only problem I&#39;m currently facing is that I can&#39;t complete a URL search (ex. on chrome) when I press that key. These are the two actions I tried with it:\r\n\r\n```\r\nInputConnection ic = getCurrentInputConnection();\r\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_ENTER));\r\n```\r\nand\r\n```\r\nInputConnection ic = getCurrentInputConnection();\r\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_SEARCH));\r\n```\r\nThe first one works as it should in every other scenario but this one (ex. as an enter button or as a search button in a google browser). In the case of a URL search, it does nothing.\r\n\r\n The second one, for some reason, selects all the text of the input area, which makes no sense.\r\n\r\nWhat am I doing wrong? What action should be performed when this button gets pressed?","title":"InputConnection.sendKeyEvent doesn&#39;t work","body":"<p>I am currently making my own custom soft keyboard for android in Android Studio (currently typing this out with it lol). I managed to create and programme all but one very important key: the search/enter button (the one that sits on the bottom right corner of the keyboard). Basically the main and only problem I'm currently facing is that I can't complete a URL search (ex. on chrome) when I press that key. These are the two actions I tried with it:</p>\n<pre><code>InputConnection ic = getCurrentInputConnection();\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_ENTER));\n</code></pre>\n<p>and</p>\n<pre><code>InputConnection ic = getCurrentInputConnection();\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_SEARCH));\n</code></pre>\n<p>The first one works as it should in every other scenario but this one (ex. as an enter button or as a search button in a google browser). In the case of a URL search, it does nothing.</p>\n<p>The second one, for some reason, selects all the text of the input area, which makes no sense.</p>\n<p>What am I doing wrong? What action should be performed when this button gets pressed?</p>\n"},{"tags":["java","filter","lambda","java-stream","predicate"],"answers":[{"comments":[{"owner":{"account_id":11174601,"reputation":21,"user_id":8200603,"display_name":"Sumantra Chakraborty"},"score":0,"creation_date":1693369124,"post_id":77004703,"comment_id":135749932,"body_markdown":"But as I mentioned my keys could be dynamic. It could be name or name+price or name+price+ref1 or even price+ref1. Is there a way I can achieve this?","body":"But as I mentioned my keys could be dynamic. It could be name or name+price or name+price+ref1 or even price+ref1. Is there a way I can achieve this?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1693370070,"post_id":77004703,"comment_id":135749999,"body_markdown":"Use reflection.","body":"Use reflection."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1693396150,"post_id":77004703,"comment_id":135754603,"body_markdown":"Don’t use string concatenation to produce a key. It can produce ambiguous keys (`name = &quot;A&quot;, price = 123` vs `name = &quot;A1&quot;, price = 23`) and it’s inefficient. It’s easy to solve by using, .e.g . `distinctByKey(p -&gt; List.of(p.getName(), p.getPrice()))`","body":"Don’t use string concatenation to produce a key. It can produce ambiguous keys (<code>name = &quot;A&quot;, price = 123</code> vs <code>name = &quot;A1&quot;, price = 23</code>) and it’s inefficient. It’s easy to solve by using, .e.g . <code>distinctByKey(p -&gt; List.of(p.getName(), p.getPrice()))</code>"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1693401249,"post_id":77004703,"comment_id":135755802,"body_markdown":"@Holger: A spot on!","body":"@Holger: A spot on!"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693821246,"creation_date":1693363644,"answer_id":77004703,"question_id":77004446,"body_markdown":"If you don&#39;t want to use reflection, you have to pass a key extractor working with actual getters. A prerequisite to this is that the type of the object is known, which already applies to your case.\r\n\r\n```java\r\nList&lt;Pojo&gt; f1 = ff1.stream()\r\n\t.filter(distinctByKey(p -&gt; List.of(p.getName() + p.getPrice()))) // key is a String\r\n\t.collect(Collectors.toList());\r\n\r\nf1.forEach(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Pojo(name=123, price=100, ref1=A)\r\n&gt; Pojo(name=456, price=200, ref1=D)\r\n&gt; ```\r\n\r\nThe first found and distinct combination of `name` and `price` is present in the list, unless you reimplement the `distinctByKey` method.\r\n\r\n___\r\n\r\n**Edit:** As Holger [suggested][1], it is better using `List` as a key instead of concatenated Strings.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77004446/java-stream-distinctbykey-filter-with-variable-arguments#comment135754603_77004703","title":"Java Stream distinctByKey filter with variable arguments","body":"<p>If you don't want to use reflection, you have to pass a key extractor working with actual getters. A prerequisite to this is that the type of the object is known, which already applies to your case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Pojo&gt; f1 = ff1.stream()\n    .filter(distinctByKey(p -&gt; List.of(p.getName() + p.getPrice()))) // key is a String\n    .collect(Collectors.toList());\n\nf1.forEach(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Pojo(name=123, price=100, ref1=A)\nPojo(name=456, price=200, ref1=D)\n</code></pre>\n</blockquote>\n<p>The first found and distinct combination of <code>name</code> and <code>price</code> is present in the list, unless you reimplement the <code>distinctByKey</code> method.</p>\n<hr />\n<p><strong>Edit:</strong> As Holger <a href=\"https://stackoverflow.com/questions/77004446/java-stream-distinctbykey-filter-with-variable-arguments#comment135754603_77004703\">suggested</a>, it is better using <code>List</code> as a key instead of concatenated Strings.</p>\n"}],"owner":{"account_id":11174601,"reputation":21,"user_id":8200603,"display_name":"Sumantra Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693821246,"creation_date":1693358501,"question_id":77004446,"body_markdown":"I have a requirement where I need to get distinct elements from a list and the distinct key fields are variable. I was trying to pass variable argument in distinctByKey but it&#39;s not working. Here&#39;s what I need to do -\r\n\r\n       class Pojo {\r\n      final String name;\r\n      final Integer price;\r\n      final String ref1;\r\n    \r\n      public Pojo(final String name, final Integer price, final String ref1) {\r\n        this.name = name;\r\n        this.price = price;\r\n        this.ref1 = ref1;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public Integer getPrice() {\r\n        return price;\r\n      }\r\n      \r\n      public String getRef1() {\r\n    \t    return ref1;\r\n    \t  }\r\n\r\nFollowing is the code, where I&#39;m trying to get distinct values from the list by passing the distinctByKey arguments as parameters\r\n\r\n    class Test1 {\r\n    \r\n      public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, Object&gt; keyExtractor) {\r\n        Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\r\n        return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\r\n      }\r\n    \r\n      private static List&lt;Pojo&gt; getList() {\r\n        return Arrays.asList(\r\n          new Pojo(&quot;123&quot;, 100, &quot;A&quot;),\r\n          new Pojo(&quot;123&quot;, 100, &quot;B&quot;),\r\n          new Pojo(&quot;123&quot;, 100, &quot;C&quot;),\r\n          new Pojo(&quot;456&quot;, 200, &quot;D&quot;)\r\n        );\r\n      }\r\n      \r\n      private static List&lt;Pojo&gt; ff1 = new ArrayList&lt;&gt;();\r\n    \r\n      public static void main(String[] args) {\t \r\n    \t  \r\n    \t  ff1.add(getList().get(0));\r\n    \t  ff1.add(getList().get(1));\r\n    \t  ff1.add(getList().get(2));\r\n    \t  ff1.add(getList().get(3));\r\n    \t  \r\n    \t  String key1 = &quot;p.getName() + p.getPrice()&quot; ;\r\n    \r\n        List&lt;Pojo&gt; f1 =ff1.stream()\r\n        \t\t.filter(distinctByKey(p -&gt; key1))\r\n          .collect(Collectors.toList());\r\n        \r\n         System.out.println(f1);\r\n\r\nThe intention is if I want to distinctBy ref1, I can do that dynamically.Please suggest how I can achieve this?","title":"Java Stream distinctByKey filter with variable arguments","body":"<p>I have a requirement where I need to get distinct elements from a list and the distinct key fields are variable. I was trying to pass variable argument in distinctByKey but it's not working. Here's what I need to do -</p>\n<pre><code>   class Pojo {\n  final String name;\n  final Integer price;\n  final String ref1;\n\n  public Pojo(final String name, final Integer price, final String ref1) {\n    this.name = name;\n    this.price = price;\n    this.ref1 = ref1;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public Integer getPrice() {\n    return price;\n  }\n  \n  public String getRef1() {\n        return ref1;\n      }\n</code></pre>\n<p>Following is the code, where I'm trying to get distinct values from the list by passing the distinctByKey arguments as parameters</p>\n<pre><code>class Test1 {\n\n  public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, Object&gt; keyExtractor) {\n    Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\n    return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\n  }\n\n  private static List&lt;Pojo&gt; getList() {\n    return Arrays.asList(\n      new Pojo(&quot;123&quot;, 100, &quot;A&quot;),\n      new Pojo(&quot;123&quot;, 100, &quot;B&quot;),\n      new Pojo(&quot;123&quot;, 100, &quot;C&quot;),\n      new Pojo(&quot;456&quot;, 200, &quot;D&quot;)\n    );\n  }\n  \n  private static List&lt;Pojo&gt; ff1 = new ArrayList&lt;&gt;();\n\n  public static void main(String[] args) {   \n      \n      ff1.add(getList().get(0));\n      ff1.add(getList().get(1));\n      ff1.add(getList().get(2));\n      ff1.add(getList().get(3));\n      \n      String key1 = &quot;p.getName() + p.getPrice()&quot; ;\n\n    List&lt;Pojo&gt; f1 =ff1.stream()\n            .filter(distinctByKey(p -&gt; key1))\n      .collect(Collectors.toList());\n    \n     System.out.println(f1);\n</code></pre>\n<p>The intention is if I want to distinctBy ref1, I can do that dynamically.Please suggest how I can achieve this?</p>\n"},{"tags":["java","collections","guava","api-design","iterable"],"comments":[{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":0,"creation_date":1331068491,"post_id":8473826,"comment_id":12165480,"body_markdown":"possible duplicate of [In Google Guava (Java), why are Iterables.getFirst() and getLast() are inconsistent?](http://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist\">In Google Guava (Java), why are Iterables.getFirst() and getLast() are inconsistent?</a>"},{"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"score":0,"creation_date":1411571254,"post_id":8473826,"comment_id":40754726,"body_markdown":"Maybe you can use [Iterables.getOnlyElement](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#getOnlyElement(java.lang.Iterable))","body":"Maybe you can use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#getOnlyElement(java.lang.Iterable)\" rel=\"nofollow noreferrer\">Iterables.getOnlyElement</a>"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":1,"creation_date":1411579298,"post_id":8473826,"comment_id":40759304,"body_markdown":"@FabianZeindl - `getOnlyElement` throws `IllegalArgumentException` if there are more than one element. `getLast` should not do such thing.","body":"@FabianZeindl - <code>getOnlyElement</code> throws <code>IllegalArgumentException</code> if there are more than one element. <code>getLast</code> should not do such thing."},{"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"score":0,"creation_date":1411592481,"post_id":8473826,"comment_id":40766276,"body_markdown":"That&#39;s why I meant &quot;maybe&quot; -&gt; in some situations.","body":"That&#39;s why I meant &quot;maybe&quot; -&gt; in some situations."}],"answers":[{"comments":[{"owner":{"account_id":996105,"reputation":182284,"user_id":1011995,"display_name":"Daniel Fischer"},"score":2,"creation_date":1323691132,"post_id":8473906,"comment_id":10480853,"body_markdown":"An alternative to `next()` would be `get(iterable, 0)`.","body":"An alternative to <code>next()</code> would be <code>get(iterable, 0)</code>."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1323691296,"post_id":8473906,"comment_id":10480904,"body_markdown":"true but I was staying with the `Iterable` API to show why Guava didn&#39;t add `getFirst(iterable)`. The addition of `get(iterable, index)` is not the reason `getFirst(iterable)` doesn&#39;t exist since `get(iterable, index, default)` has not prevented them from adding `getFirst(iterable, default)`","body":"true but I was staying with the <code>Iterable</code> API to show why Guava didn&#39;t add <code>getFirst(iterable)</code>. The addition of <code>get(iterable, index)</code> is not the reason <code>getFirst(iterable)</code> doesn&#39;t exist since <code>get(iterable, index, default)</code> has not prevented them from adding <code>getFirst(iterable, default)</code>"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1323691386,"post_id":8473906,"comment_id":10480925,"body_markdown":"Good point. Actually I don&#39;t think about guava as library with small API. Just because there are methods that just duplicate standard one, like `Doubles.compare`. And taking in mind @Daniel Fischer point, I believe there should be some other reasons provided.","body":"Good point. Actually I don&#39;t think about guava as library with small API. Just because there are methods that just duplicate standard one, like <code>Doubles.compare</code>. And taking in mind @Daniel Fischer point, I believe there should be some other reasons provided."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1323691490,"post_id":8473906,"comment_id":10480960,"body_markdown":"They actually do make a real effort to keep the API small. If you go on their issues site to request new methods they reject a lot of requests because they consider them to be bloat or not useful enough to warrant addition. If you compare it to Functional Java&#39;s API you will see what I mean. FJ has got tons of stuff but it is also a bit overwhelming.","body":"They actually do make a real effort to keep the API small. If you go on their issues site to request new methods they reject a lot of requests because they consider them to be bloat or not useful enough to warrant addition. If you compare it to Functional Java&#39;s API you will see what I mean. FJ has got tons of stuff but it is also a bit overwhelming."},{"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"score":3,"creation_date":1323705153,"post_id":8473906,"comment_id":10485210,"body_markdown":"I&#39;ve often been bitten by the absence of `Iterables.getFirst()`. I then double-check and use `Iterables.get(iterable, 0)`. I think `Iterables.getFirst()` would look cleaner, but oh well...","body":"I&#39;ve often been bitten by the absence of <code>Iterables.getFirst()</code>. I then double-check and use <code>Iterables.get(iterable, 0)</code>. I think <code>Iterables.getFirst()</code> would look cleaner, but oh well..."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1323724283,"post_id":8473906,"comment_id":10491278,"body_markdown":"We *do* make an effort to keep the API very small, and that was the motivation for not having Iterables.getFirst, to the best of my knowledge.  I&#39;m actually shocked that Doubles.compare is in there, I&#39;m going to file an issue on that now...","body":"We <i>do</i> make an effort to keep the API very small, and that was the motivation for not having Iterables.getFirst, to the best of my knowledge.  I&#39;m actually shocked that Doubles.compare is in there, I&#39;m going to file an issue on that now..."}],"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":6,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1323704447,"creation_date":1323690873,"answer_id":8473906,"question_id":8473826,"body_markdown":"I think the point is that there is no reason for a `getFirst(iterable)` in that this could be done with `iterable.iterator().next()`. Guava makes an excellent attempt to keep the API small and so does not add things that could / should be done easily another way.\r\n\r\nOn the other hand, there is not already a mechanism to test if an iterable is empty and if so return a default value instead of the first value. Hence, `getFirst(iterable, default)`.\r\n\r\nAlso, there is not a simple way to get the last element, hence `getLast(iterable)` and `getLast(iterable, default)`","title":"Why there is no getFirst(iterable) method?","body":"<p>I think the point is that there is no reason for a <code>getFirst(iterable)</code> in that this could be done with <code>iterable.iterator().next()</code>. Guava makes an excellent attempt to keep the API small and so does not add things that could / should be done easily another way.</p>\n\n<p>On the other hand, there is not already a mechanism to test if an iterable is empty and if so return a default value instead of the first value. Hence, <code>getFirst(iterable, default)</code>.</p>\n\n<p>Also, there is not a simple way to get the last element, hence <code>getLast(iterable)</code> and <code>getLast(iterable, default)</code></p>\n"},{"comments":[{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":3,"creation_date":1323709692,"post_id":8477936,"comment_id":10486663,"body_markdown":"Thanks for link. I believe we should wait Kevin to change his mind.","body":"Thanks for link. I believe we should wait Kevin to change his mind."}],"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1693819668,"creation_date":1323709327,"answer_id":8477936,"question_id":8473826,"body_markdown":"As an addition to @JohnB&#39;s answer, I&#39;d like to show [Guava&#39;s devs opinion about `getFirst(iterable)`](http://code.google.com/p/google-collections/issues/detail?id=217). Kevin Bourrillion (head Guava&#39;s dev) writes there:\r\n\r\n&gt; iterable.iterator().next() is perfectly clear and readable and\r\n&gt; _unambiguous_.  I know  exactly what it does, whereas with Iterators.getFirst(), I have to run off and look  up how that library\r\n&gt; designer decided to do it.\r\n&gt; \r\n&gt; Also, your notion of consistency is deeply misguided.  We use\r\n&gt; consistency in how we  present important functionality, but we never\r\n&gt; use it to justify adding worthless  functionality, and you shouldn&#39;t\r\n&gt; in your own libraries either!\r\n\r\nSo, you have a choice: \r\n\r\n- using `iterable.iterator().next()`,\r\n- using `Iterables.getFirst(Iterable&lt;T&gt; iterable, T default)`,\r\n- using `Iterables.get(Iterable&lt;T&gt;, 0)`,\r\n- writing your own method (probably containing `iterable.iterator().next()` and some docs) and use it as i.e. `Iterables2.getFirst(iterable)`,\r\n- waiting for Kevin to change his mind ;)\r\n\r\nPS: I had similar doubt some time ago and found [exact duplicate of this question](https://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist) at that time.","title":"Why there is no getFirst(iterable) method?","body":"<p>As an addition to @JohnB's answer, I'd like to show <a href=\"http://code.google.com/p/google-collections/issues/detail?id=217\" rel=\"nofollow noreferrer\">Guava's devs opinion about <code>getFirst(iterable)</code></a>. Kevin Bourrillion (head Guava's dev) writes there:</p>\n<blockquote>\n<p>iterable.iterator().next() is perfectly clear and readable and\n<em>unambiguous</em>.  I know  exactly what it does, whereas with Iterators.getFirst(), I have to run off and look  up how that library\ndesigner decided to do it.</p>\n<p>Also, your notion of consistency is deeply misguided.  We use\nconsistency in how we  present important functionality, but we never\nuse it to justify adding worthless  functionality, and you shouldn't\nin your own libraries either!</p>\n</blockquote>\n<p>So, you have a choice:</p>\n<ul>\n<li>using <code>iterable.iterator().next()</code>,</li>\n<li>using <code>Iterables.getFirst(Iterable&lt;T&gt; iterable, T default)</code>,</li>\n<li>using <code>Iterables.get(Iterable&lt;T&gt;, 0)</code>,</li>\n<li>writing your own method (probably containing <code>iterable.iterator().next()</code> and some docs) and use it as i.e. <code>Iterables2.getFirst(iterable)</code>,</li>\n<li>waiting for Kevin to change his mind ;)</li>\n</ul>\n<p>PS: I had similar doubt some time ago and found <a href=\"https://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist\">exact duplicate of this question</a> at that time.</p>\n"}],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30955,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":8473906,"answer_count":2,"score":46,"last_activity_date":1693819668,"creation_date":1323690508,"question_id":8473826,"body_markdown":"[Iterables][1] present two methods for `getLast` \r\n\r\n     public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable);\r\n     public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\r\n\r\nbut only one for `getFirst`\r\n\r\n     public static &lt;T&gt; T getFirst(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\r\n\r\nIs there are any design/implementation reason for breaking symmetry? \r\n\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/10.0.1/api/docs/com/google/common/collect/Iterables.html","title":"Why there is no getFirst(iterable) method?","body":"<p><a href=\"https://google.github.io/guava/releases/10.0.1/api/docs/com/google/common/collect/Iterables.html\" rel=\"noreferrer\">Iterables</a> present two methods for <code>getLast</code> </p>\n\n<pre><code> public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable);\n public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\n</code></pre>\n\n<p>but only one for <code>getFirst</code></p>\n\n<pre><code> public static &lt;T&gt; T getFirst(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\n</code></pre>\n\n<p>Is there are any design/implementation reason for breaking symmetry? </p>\n"},{"tags":["java","swing","user-interface","jbutton","jlabel"],"comments":[{"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"score":0,"creation_date":1344539925,"post_id":11890388,"comment_id":15824334,"body_markdown":"Can you show were you call `alert()`?","body":"Can you show were you call <code>alert()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1735626,"reputation":21,"user_id":1588265,"display_name":"user1588265"},"score":0,"creation_date":1344542228,"post_id":11890574,"comment_id":15825291,"body_markdown":"I gave it a shot, but it didn&#39;t fix the problem. However, Thank you for letting me know about that, that is useful information. Also, alert is called in my convert function, The inital call works like this:\n\nPleaseWait holdOnaSec = new PleaseWait();\nthe important stuff in the convert method \nholdOnaSec.alert();","body":"I gave it a shot, but it didn&#39;t fix the problem. However, Thank you for letting me know about that, that is useful information. Also, alert is called in my convert function, The inital call works like this:  PleaseWait holdOnaSec = new PleaseWait(); the important stuff in the convert method  holdOnaSec.alert();"}],"tags":[],"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344540413,"creation_date":1344540413,"answer_id":11890574,"question_id":11890388,"body_markdown":"Okay here&#39;s the issue. You are extending the JFrame . That means your class IS a JFrame.\r\n\r\nWhen you create the `PleaseWait` frame you don&#39;t do anything to it. This is the empty box you are seeing. You are instead creating a *different* JFrame in your constructor. Remove your `mainWindow` and instead just use `this`. Now all of your components will be added to your `PleaseWait` object. That should fix your blank box issue.","title":"A box pop up that asks the user to please wait while the program loops through and converts all the relevant files","body":"<p>Okay here's the issue. You are extending the JFrame . That means your class IS a JFrame.</p>\n\n<p>When you create the <code>PleaseWait</code> frame you don't do anything to it. This is the empty box you are seeing. You are instead creating a <em>different</em> JFrame in your constructor. Remove your <code>mainWindow</code> and instead just use <code>this</code>. Now all of your components will be added to your <code>PleaseWait</code> object. That should fix your blank box issue.</p>\n"},{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1344548526,"post_id":11892117,"comment_id":15827760,"body_markdown":"I thought that _repaint_ will be useful after updating the controls but controls are smart enough to update themselves.","body":"I thought that <i>repaint</i> will be useful after updating the controls but controls are smart enough to update themselves."},{"owner":{"account_id":1735626,"reputation":21,"user_id":1588265,"display_name":"user1588265"},"score":0,"creation_date":1344550841,"post_id":11892117,"comment_id":15828526,"body_markdown":"So I followed everything you said to do, and I am still not having any luck. I sort of had an application that created the frame first, but it did it different from your so I tried yours. Here is what I originally had for the application: http://pastebin.com/NinUypkH and here is what I have now: http://pastebin.com/6dJ7zNkw","body":"So I followed everything you said to do, and I am still not having any luck. I sort of had an application that created the frame first, but it did it different from your so I tried yours. Here is what I originally had for the application: <a href=\"http://pastebin.com/NinUypkH\" rel=\"nofollow noreferrer\">pastebin.com/NinUypkH</a> and here is what I have now: <a href=\"http://pastebin.com/6dJ7zNkw\" rel=\"nofollow noreferrer\">pastebin.com/6dJ7zNkw</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1344592652,"post_id":11892117,"comment_id":15838644,"body_markdown":"I see, you just wanted to run your app logic in the GUI thread while the GUI didn&#39;t finish his work yet. You might want to run it in another working thread. Try this `    SwingUtilities.invokeLater(new Runnable() {\n         public void run() {//do your logic here\n                               \n         }\n      });\n`","body":"I see, you just wanted to run your app logic in the GUI thread while the GUI didn&#39;t finish his work yet. You might want to run it in another working thread. Try this `    SwingUtilities.invokeLater(new Runnable() {          public void run() {//do your logic here                                          }       }); `"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396961079,"creation_date":1344547276,"answer_id":11892117,"question_id":11890388,"body_markdown":"You need an application to create your frame first. This is a simple example of such application.\r\n\r\n    import javax.swing.UIManager;\r\n    import java.awt.*;\r\n    \r\n    public class Application {\r\n      boolean packFrame = false;\r\n    \r\n      //Construct the application\r\n      public Application() {\r\n        PleaseWait frame = new PleaseWait();\r\n        //Validate frames that have preset sizes\r\n        //Pack frames that have useful preferred size info, e.g. from their layout\r\n        if (packFrame) {\r\n          frame.pack();\r\n        }\r\n        else {\r\n          frame.validate();\r\n        }\r\n        //Center the window\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        Dimension frameSize = frame.getSize();\r\n        if (frameSize.height &gt; screenSize.height) {\r\n          frameSize.height = screenSize.height;\r\n        }\r\n        if (frameSize.width &gt; screenSize.width) {\r\n          frameSize.width = screenSize.width;\r\n        }\r\n        frame.setLocation((screenSize.width - frameSize.width) / 2, (screenSize.height - frameSize.height) / 2);\r\n        frame.setVisible(true);\r\n    \r\n        frame.convert();\r\n        \r\n      }\r\n    \r\n      //Main method\r\n      public static void main(String[] args) {\r\n        try {\r\n          UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        }\r\n        catch(Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n        new Application();\r\n      }\r\n    }\r\n\r\nYou have to slightly modify your frame to add controls to the content pane. You can do some work after frame is created, then call alert.\r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class PleaseWait extends JFrame {\r\n    \r\n      private static final int height = 125;\r\n      private static final int width = 350;\r\n      final static JLabel converting = new JLabel();\r\n      private static JButton OK = new JButton(&quot;OK&quot;);\r\n      BorderLayout borderLayout1 = new BorderLayout();\r\n      JPanel contentPane;\r\n      int count;\r\n    \r\n      public PleaseWait(){\r\n        contentPane = (JPanel)this.getContentPane();\r\n        contentPane.setLayout(borderLayout1);\r\n        this.setSize(new Dimension(width, height));\r\n        this.setTitle(&quot;Chill For A Sec&quot;);\r\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \r\n        // creates the layouts//\r\n        JPanel mainLayout = new JPanel(new BorderLayout());\r\n        JPanel textLayout = new JPanel(new FlowLayout());\r\n        JPanel buttonLayout = new JPanel(new FlowLayout());\r\n    \r\n        // Sets Text //\r\n        converting.setText(&quot;Please wait while I convert your files&quot;);\r\n    \r\n        // disables button //\r\n        OK.setEnabled(false);\r\n        OK.addActionListener(new ActionListener(){\r\n          public void actionPerformed(ActionEvent e) {\r\n            System.exit(0);\r\n          }\r\n        });\r\n    \r\n        // adds to the layouts //\r\n        textLayout.add(converting);\r\n        buttonLayout.add(OK);\r\n        mainLayout.add(textLayout, BorderLayout.CENTER);\r\n        mainLayout.add(buttonLayout, BorderLayout.SOUTH);\r\n    \r\n        // adds to the frame //\r\n        contentPane.add(mainLayout);\r\n      }\r\n    \r\n      public void convert(){\r\n        count = 0;\r\n        for (int i = 0; i &lt;10; i++){\r\n          System.out.println(&quot;Copy &quot;+i);\r\n          try {\r\n            Thread.sleep(1000);\r\n          } catch (InterruptedException e) {\r\n          }\r\n          count++;\r\n        }\r\n        alert();\r\n    \r\n      }\r\n      public void alert(){\r\n        OK.setEnabled(true);\r\n    //        String total = String.valueOf(Convert.result());\r\n        converting.setText(&quot;Sucsess! &quot; + count + &quot; files Converted&quot;);\r\n      }\r\n    \r\n    }\r\n\r\n          \r\n\r\n","title":"A box pop up that asks the user to please wait while the program loops through and converts all the relevant files","body":"<p>You need an application to create your frame first. This is a simple example of such application.</p>\n\n<pre><code>import javax.swing.UIManager;\nimport java.awt.*;\n\npublic class Application {\n  boolean packFrame = false;\n\n  //Construct the application\n  public Application() {\n    PleaseWait frame = new PleaseWait();\n    //Validate frames that have preset sizes\n    //Pack frames that have useful preferred size info, e.g. from their layout\n    if (packFrame) {\n      frame.pack();\n    }\n    else {\n      frame.validate();\n    }\n    //Center the window\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    Dimension frameSize = frame.getSize();\n    if (frameSize.height &gt; screenSize.height) {\n      frameSize.height = screenSize.height;\n    }\n    if (frameSize.width &gt; screenSize.width) {\n      frameSize.width = screenSize.width;\n    }\n    frame.setLocation((screenSize.width - frameSize.width) / 2, (screenSize.height - frameSize.height) / 2);\n    frame.setVisible(true);\n\n    frame.convert();\n\n  }\n\n  //Main method\n  public static void main(String[] args) {\n    try {\n      UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    }\n    catch(Exception e) {\n      e.printStackTrace();\n    }\n    new Application();\n  }\n}\n</code></pre>\n\n<p>You have to slightly modify your frame to add controls to the content pane. You can do some work after frame is created, then call alert.</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class PleaseWait extends JFrame {\n\n  private static final int height = 125;\n  private static final int width = 350;\n  final static JLabel converting = new JLabel();\n  private static JButton OK = new JButton(\"OK\");\n  BorderLayout borderLayout1 = new BorderLayout();\n  JPanel contentPane;\n  int count;\n\n  public PleaseWait(){\n    contentPane = (JPanel)this.getContentPane();\n    contentPane.setLayout(borderLayout1);\n    this.setSize(new Dimension(width, height));\n    this.setTitle(\"Chill For A Sec\");\n    this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n\n    // creates the layouts//\n    JPanel mainLayout = new JPanel(new BorderLayout());\n    JPanel textLayout = new JPanel(new FlowLayout());\n    JPanel buttonLayout = new JPanel(new FlowLayout());\n\n    // Sets Text //\n    converting.setText(\"Please wait while I convert your files\");\n\n    // disables button //\n    OK.setEnabled(false);\n    OK.addActionListener(new ActionListener(){\n      public void actionPerformed(ActionEvent e) {\n        System.exit(0);\n      }\n    });\n\n    // adds to the layouts //\n    textLayout.add(converting);\n    buttonLayout.add(OK);\n    mainLayout.add(textLayout, BorderLayout.CENTER);\n    mainLayout.add(buttonLayout, BorderLayout.SOUTH);\n\n    // adds to the frame //\n    contentPane.add(mainLayout);\n  }\n\n  public void convert(){\n    count = 0;\n    for (int i = 0; i &lt;10; i++){\n      System.out.println(\"Copy \"+i);\n      try {\n        Thread.sleep(1000);\n      } catch (InterruptedException e) {\n      }\n      count++;\n    }\n    alert();\n\n  }\n  public void alert(){\n    OK.setEnabled(true);\n//        String total = String.valueOf(Convert.result());\n    converting.setText(\"Sucsess! \" + count + \" files Converted\");\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1735626,"reputation":21,"user_id":1588265,"display_name":"user1588265"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693819617,"creation_date":1344539640,"question_id":11890388,"body_markdown":"I am writing a small program that converts files, and I wanted to have a box pop up that asks the user to please wait while the program loops through and converts all the relevant files, but I am running into a small problem. The box that pops up should have a JLabel and a JButton, while the user is &quot;waiting&quot; I wanted to display a message that says please wait, and a disabled &quot;OK&quot; JButton, and then when its finished I wanted to set the text of the JLabel to let them know that It successfully converted their files, and give them a count of how many files were converted. (I wrote a method called alert that sets the text of the label and enables the button.) The problem is That while the program is running, the box is empty, the Label and the Button are not visible, when it finishes, label appears with the final text that I want and the button appears enabled. I am not sure exactly what is going on, I tried changing the modifiers of the JLabel and JButton several times but I cant seem to get it to work correctly. Here is the code for the box that pops up, any help is greatly appricated. \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    \r\n    public class PleaseWait extends javax.swing.JFrame{\r\n    \t\r\n    \tprivate static final int height = 125;\r\n    \tprivate static final int width = 350;\r\n    \tfinal static JLabel converting = new JLabel(&quot;Please Wait while I convert your files&quot;);\r\n    \tprivate static JButton OK = new JButton(&quot;OK&quot;);\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic PleaseWait(){\r\n    \t\t// creates the main window //\r\n    \t\tJFrame mainWindow = new JFrame();\r\n    \t\tmainWindow.setTitle(&quot;Chill For A Sec&quot;);\r\n    \t\tmainWindow.setSize(width, height);\r\n    \t\tmainWindow.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \t\t\r\n    \t\t// creates the layouts//\r\n    \t\tJPanel mainLayout = new JPanel(new BorderLayout());\r\n    \t\tJPanel textLayout = new JPanel(new FlowLayout());\r\n    \t\tJPanel buttonLayout = new JPanel(new FlowLayout());\r\n    \t\t\r\n    \t\t// Sets Text //\r\n    \t\tconverting.setText(&quot;Please wait while I convert your files&quot;);\r\n    \t\t\r\n    \t\t// disables button //\r\n    \t\tOK.setEnabled(false);\r\n    \t\t\r\n    \t\t// adds to the layouts //\r\n    \t\ttextLayout.add(converting);\r\n    \t\tbuttonLayout.add(OK);\r\n    \t\tmainLayout.add(textLayout, BorderLayout.CENTER);\r\n    \t\tmainLayout.add(buttonLayout, BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\t// adds to the frame //\r\n    \t\tmainWindow.add(mainLayout);\r\n    \t\t\r\n    \t\t// sets everything visible //\r\n    \t\tmainWindow.setVisible(true);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void alert(){\r\n    \t\tOK.setEnabled(true);\r\n    \t\tString total = String.valueOf(Convert.result());\r\n    \t\tconverting.setText(&quot;Sucsess! &quot; + total + &quot; files Converted&quot;);\r\n    \t}\r\n    \r\n    }","title":"A box pop up that asks the user to please wait while the program loops through and converts all the relevant files","body":"<p>I am writing a small program that converts files, and I wanted to have a box pop up that asks the user to please wait while the program loops through and converts all the relevant files, but I am running into a small problem. The box that pops up should have a JLabel and a JButton, while the user is \"waiting\" I wanted to display a message that says please wait, and a disabled \"OK\" JButton, and then when its finished I wanted to set the text of the JLabel to let them know that It successfully converted their files, and give them a count of how many files were converted. (I wrote a method called alert that sets the text of the label and enables the button.) The problem is That while the program is running, the box is empty, the Label and the Button are not visible, when it finishes, label appears with the final text that I want and the button appears enabled. I am not sure exactly what is going on, I tried changing the modifiers of the JLabel and JButton several times but I cant seem to get it to work correctly. Here is the code for the box that pops up, any help is greatly appricated. </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\n\npublic class PleaseWait extends javax.swing.JFrame{\n\n    private static final int height = 125;\n    private static final int width = 350;\n    final static JLabel converting = new JLabel(\"Please Wait while I convert your files\");\n    private static JButton OK = new JButton(\"OK\");\n\n\n\n    public PleaseWait(){\n        // creates the main window //\n        JFrame mainWindow = new JFrame();\n        mainWindow.setTitle(\"Chill For A Sec\");\n        mainWindow.setSize(width, height);\n        mainWindow.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n\n        // creates the layouts//\n        JPanel mainLayout = new JPanel(new BorderLayout());\n        JPanel textLayout = new JPanel(new FlowLayout());\n        JPanel buttonLayout = new JPanel(new FlowLayout());\n\n        // Sets Text //\n        converting.setText(\"Please wait while I convert your files\");\n\n        // disables button //\n        OK.setEnabled(false);\n\n        // adds to the layouts //\n        textLayout.add(converting);\n        buttonLayout.add(OK);\n        mainLayout.add(textLayout, BorderLayout.CENTER);\n        mainLayout.add(buttonLayout, BorderLayout.SOUTH);\n\n        // adds to the frame //\n        mainWindow.add(mainLayout);\n\n        // sets everything visible //\n        mainWindow.setVisible(true);\n\n    }\n\n    public static void alert(){\n        OK.setEnabled(true);\n        String total = String.valueOf(Convert.result());\n        converting.setText(\"Sucsess! \" + total + \" files Converted\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","logback","slf4j","logback-classic"],"owner":{"account_id":10438614,"reputation":39,"user_id":7696048,"display_name":"Chirag Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693819549,"creation_date":1693766781,"question_id":77033747,"body_markdown":"I have a logback file that logs events using RollingFileAppender. However, if I run the main class numerous times, the log file does not always produce, sometimes it creates with logs, and sometimes it only creates an empty file. There are certain cases where the file itself is not created.\r\n\r\n**LogBack file:**\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n\r\n&lt;property name=&quot;DEFAULT_LOG_LEVEL&quot; value=&quot;DEBUG&quot;/&gt;\r\n&lt;property name=&quot;DATE_PATTERN&quot; value=&quot;%d{yyyy.MM.dd.HH.mm.ss}&quot; /&gt;\r\n\r\n&lt;appender name=&quot;ABCD&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n  &lt;file&gt;C://abc.log&lt;/file&gt;\r\n  &lt;append&gt;false&lt;/append&gt;\r\n  &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n     &lt;fileNamePattern&gt;C://abc_{DATE_PATTERN}.log&lt;/fileNamePattern&gt;\r\n     &lt;TimeBasedFileNamingAndTriggeringPolicy class=&quot;com.example.timer.policy.TimePolicy&quot;/&gt;\r\n  &lt;/rollingPolicy&gt;\r\n  &lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\r\n    &lt;evaluator&gt;\r\n      &lt;expression&gt;return logger.contains(&quot;com.example.logger.logevents&quot;);&lt;/expression&gt;\r\n    &lt;/evaluator&gt;\r\n    &lt;OnMismatch&gt;DENY&lt;/OnMismatch&gt;\r\n    &lt;OnMatch&gt;ACCEPT&lt;/OnMatch&gt;\r\n  &lt;/filter&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;${DEFAULT_LOG_LEVEL}&quot;&gt;\r\n   &lt;appender-ref ref=&quot;ABCD&quot;/&gt;\r\n&lt;/root&gt;\r\n\r\n&lt;logger level=&quot;INFO&quot; name=&quot;ABCD&quot; additivity=&quot;false&quot;&gt;\r\n   &lt;appender-ref ref=&quot;ABCD&quot;&gt;\r\n&lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n```\r\n\r\n**Main Class:**\r\n\r\n\r\n```\r\nprivate static Logger abcLogger=LoggerFactory.getLogger(&quot;com.example.logger.logevents&quot;);\r\npublic static void main(String[] args){\r\n   abcLogger.info(&quot;Hi, Logging event from here&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried changing the appender to FileAppender but still faced the same issues.","title":"Logback RollingFileAppender not creating logs files as expected","body":"<p>I have a logback file that logs events using RollingFileAppender. However, if I run the main class numerous times, the log file does not always produce, sometimes it creates with logs, and sometimes it only creates an empty file. There are certain cases where the file itself is not created.</p>\n<p><strong>LogBack file:</strong></p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n\n&lt;property name=&quot;DEFAULT_LOG_LEVEL&quot; value=&quot;DEBUG&quot;/&gt;\n&lt;property name=&quot;DATE_PATTERN&quot; value=&quot;%d{yyyy.MM.dd.HH.mm.ss}&quot; /&gt;\n\n&lt;appender name=&quot;ABCD&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n  &lt;file&gt;C://abc.log&lt;/file&gt;\n  &lt;append&gt;false&lt;/append&gt;\n  &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n     &lt;fileNamePattern&gt;C://abc_{DATE_PATTERN}.log&lt;/fileNamePattern&gt;\n     &lt;TimeBasedFileNamingAndTriggeringPolicy class=&quot;com.example.timer.policy.TimePolicy&quot;/&gt;\n  &lt;/rollingPolicy&gt;\n  &lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\n    &lt;evaluator&gt;\n      &lt;expression&gt;return logger.contains(&quot;com.example.logger.logevents&quot;);&lt;/expression&gt;\n    &lt;/evaluator&gt;\n    &lt;OnMismatch&gt;DENY&lt;/OnMismatch&gt;\n    &lt;OnMatch&gt;ACCEPT&lt;/OnMatch&gt;\n  &lt;/filter&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;${DEFAULT_LOG_LEVEL}&quot;&gt;\n   &lt;appender-ref ref=&quot;ABCD&quot;/&gt;\n&lt;/root&gt;\n\n&lt;logger level=&quot;INFO&quot; name=&quot;ABCD&quot; additivity=&quot;false&quot;&gt;\n   &lt;appender-ref ref=&quot;ABCD&quot;&gt;\n&lt;/logger&gt;\n\n&lt;/configuration&gt;\n\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre><code>private static Logger abcLogger=LoggerFactory.getLogger(&quot;com.example.logger.logevents&quot;);\npublic static void main(String[] args){\n   abcLogger.info(&quot;Hi, Logging event from here&quot;);\n}\n</code></pre>\n<p>I tried changing the appender to FileAppender but still faced the same issues.</p>\n"},{"tags":["java","google-drive-api","noclassdeffounderror"],"comments":[{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1574314689,"post_id":56305514,"comment_id":104190307,"body_markdown":"I try to include `guava-28.1-jre.jar` in build and run path. But, I will then get a different error message &quot;java.lang.NoClassDefFoundError: com/google/api/client/repackaged/com/google/common/base/Preconditions&quot;","body":"I try to include <code>guava-28.1-jre.jar</code> in build and run path. But, I will then get a different error message &quot;java.lang.NoClassDefFoundError: com/google/api/client/repackaged/com/google/common/base/Prec&zwnj;&#8203;onditions&quot;"},{"owner":{"account_id":3868045,"reputation":467,"user_id":3204168,"display_name":"tomdaly"},"score":0,"creation_date":1574348635,"post_id":56305514,"comment_id":104208951,"body_markdown":"Hi @Percy could you add your pom.xml file to the post?","body":"Hi @Percy could you add your pom.xml file to the post?"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1574350843,"post_id":56305514,"comment_id":104210275,"body_markdown":"@CheokYanCheng Could you list dependencies in your pom.xml/build.gradle ? If you are not using build tool, then list all jars you use.","body":"@CheokYanCheng Could you list dependencies in your pom.xml/build.gradle ? If you are not using build tool, then list all jars you use."}],"answers":[{"tags":[],"owner":{"display_name":"user3237183"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574876353,"creation_date":1574876353,"answer_id":59075695,"question_id":56305514,"body_markdown":"I created a small project that followed the quickstart tutorial without any problem.\r\n\r\nhttps://github.com/lssilva/googleDriveApi/\r\n\r\n\r\nIt worked fine for me, I didn&#39;t commit the credentials but if you replace with yours, it should work as described in the documentation.\r\n\r\n\r\n    git clone https://github.com/lssilva/googleDriveApi.git\r\n    gradle run\r\n","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>I created a small project that followed the quickstart tutorial without any problem.</p>\n\n<p><a href=\"https://github.com/lssilva/googleDriveApi/\" rel=\"nofollow noreferrer\">https://github.com/lssilva/googleDriveApi/</a></p>\n\n<p>It worked fine for me, I didn't commit the credentials but if you replace with yours, it should work as described in the documentation.</p>\n\n<pre><code>git clone https://github.com/lssilva/googleDriveApi.git\ngradle run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5369419,"reputation":562,"user_id":4278381,"display_name":"Shailesh Bhokare"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574878707,"creation_date":1574878707,"answer_id":59076314,"question_id":56305514,"body_markdown":"Remove existing dependencies and add dependencies from below links:\r\n\r\n[google-api-client-1.23.0][1]\r\n\r\n[google-oauth-client-jetty-1.23.0][2]\r\n\r\n[google-api-services-drive-v3-rev110-1.23.0][3]\r\n\r\nHappy Coding :-)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.api-client/google-api-client/1.23.0\r\n  [2]: https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty/1.23.0\r\n  [3]: https://mvnrepository.com/artifact/com.google.apis/google-api-services-drive/v3-rev110-1.23.0","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>Remove existing dependencies and add dependencies from below links:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.api-client/google-api-client/1.23.0\" rel=\"nofollow noreferrer\">google-api-client-1.23.0</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty/1.23.0\" rel=\"nofollow noreferrer\">google-oauth-client-jetty-1.23.0</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.apis/google-api-services-drive/v3-rev110-1.23.0\" rel=\"nofollow noreferrer\">google-api-services-drive-v3-rev110-1.23.0</a></p>\n\n<p>Happy Coding :-)</p>\n"},{"tags":[],"owner":{"account_id":9700756,"reputation":365,"user_id":7195804,"display_name":"Kuba Pawłowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574881319,"creation_date":1574879550,"answer_id":59076539,"question_id":56305514,"body_markdown":"I had the same problem while implementing [PayU SDK for Android](http://developers.payu.com/en/mobile_sdk.html). \r\nSolution was to add guava dependencies for **android**, not the **jre**: \r\n\r\n```\r\n  implementation(&quot;com.google.guava:guava:28.1-android&quot;)\r\n```\r\n\r\nFor more information on it, see the [repository](https://github.com/google/guava) or check the [Android guava wiki](https://github.com/google/guava/wiki/Android), preferably [Preconditions](https://github.com/google/guava/wiki/PreconditionsExplained)\r\n\r\nI also advise to take a look into [Proguard rules for Guava](https://github.com/google/guava/wiki/UsingProGuardWithGuava) to exclude all the things you don&#39;t use in the project from builds.","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>I had the same problem while implementing <a href=\"http://developers.payu.com/en/mobile_sdk.html\" rel=\"nofollow noreferrer\">PayU SDK for Android</a>. \nSolution was to add guava dependencies for <strong>android</strong>, not the <strong>jre</strong>: </p>\n\n<pre><code>  implementation(\"com.google.guava:guava:28.1-android\")\n</code></pre>\n\n<p>For more information on it, see the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">repository</a> or check the <a href=\"https://github.com/google/guava/wiki/Android\" rel=\"nofollow noreferrer\">Android guava wiki</a>, preferably <a href=\"https://github.com/google/guava/wiki/PreconditionsExplained\" rel=\"nofollow noreferrer\">Preconditions</a></p>\n\n<p>I also advise to take a look into <a href=\"https://github.com/google/guava/wiki/UsingProGuardWithGuava\" rel=\"nofollow noreferrer\">Proguard rules for Guava</a> to exclude all the things you don't use in the project from builds.</p>\n"},{"tags":[],"owner":{"account_id":175477,"reputation":6178,"user_id":405521,"accept_rate":54,"display_name":"viv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818885,"creation_date":1693818885,"answer_id":77036469,"question_id":56305514,"body_markdown":"In case the accepted answer does not work for anyone.\r\n\r\nPrecondition is also available at:\r\n\r\n    https://mvnrepository.com/artifact/com.google.api.client/google-api-client-repackaged-com-google-common-base\r\n\r\n    implementation(&quot;com.google.api.client:google-api-client-repackaged-com-google-common-base:1.2.3-alpha&quot;)\r\n\r\nIt seems to work well for me.\r\n","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>In case the accepted answer does not work for anyone.</p>\n<p>Precondition is also available at:</p>\n<pre><code>https://mvnrepository.com/artifact/com.google.api.client/google-api-client-repackaged-com-google-common-base\n\nimplementation(&quot;com.google.api.client:google-api-client-repackaged-com-google-common-base:1.2.3-alpha&quot;)\n</code></pre>\n<p>It seems to work well for me.</p>\n"}],"owner":{"account_id":13755172,"reputation":97,"user_id":9926314,"display_name":"Percy Jackson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3543,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":59076314,"answer_count":4,"score":9,"last_activity_date":1693818885,"creation_date":1558792759,"question_id":56305514,"body_markdown":"I&#39;m trying to get a Java interface going with Google Drive API by following the quickstart tutorial, but every time I run my program it throws &quot;NoClassDefFoundError: com/google/common/base/Preconditions.&quot; This has also happened when I tried implementing the Google CustomSearchEngine API.\r\n\r\nI have referenced all API classes with and without sources and javadocs attached. I have also attempted using findJAR dot com in attempt to obtain Preconditions with little success.\r\n\r\nHere are the lines of the code I used that the error references. I have also included the the lines which define the variables used within the error lines in comments above the referenced code.\r\n\r\nLine 61:\r\n```java\r\n/*\r\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\r\nInputStream in = new FileInputStream(clientSecretFilePath);\r\n*/\r\n\r\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n```\r\nLine 88:\r\n```java\r\n/*\r\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n*/\r\n\r\nCredential credential = getCredentials(HTTP_TRANSPORT);\r\n\r\n```\r\n\r\nError:\r\n```java\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/base/Preconditions\r\n\tat com.google.api.client.util.Preconditions.checkNotNull(Preconditions.java:127)\r\n\tat com.google.api.client.json.jackson2.JacksonFactory.createJsonParser(JacksonFactory.java:80)\r\n\tat com.google.api.client.json.JsonFactory.fromReader(JsonFactory.java:236)\r\n\tat com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets.load(GoogleClientSecrets.java:192)\r\n\tat drive.GDrive.getCredentials(GDrive.java:61)\r\n\tat drive.GDrive.main(GDrive.java:88)\r\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Preconditions\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 6 more\r\n```\r\n\r\nIt appears to behave as if a class is missing, but I have referenced all API libraries from Google Drive&#39;s API in the build config. I have even tried getting the missing class from findjar dot com with little additional progress.","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>I'm trying to get a Java interface going with Google Drive API by following the quickstart tutorial, but every time I run my program it throws \"NoClassDefFoundError: com/google/common/base/Preconditions.\" This has also happened when I tried implementing the Google CustomSearchEngine API.</p>\n\n<p>I have referenced all API classes with and without sources and javadocs attached. I have also attempted using findJAR dot com in attempt to obtain Preconditions with little success.</p>\n\n<p>Here are the lines of the code I used that the error references. I have also included the the lines which define the variables used within the error lines in comments above the referenced code.</p>\n\n<p>Line 61:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\nInputStream in = new FileInputStream(clientSecretFilePath);\n*/\n\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n</code></pre>\n\n<p>Line 88:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n*/\n\nCredential credential = getCredentials(HTTP_TRANSPORT);\n\n</code></pre>\n\n<p>Error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/google/common/base/Preconditions\n    at com.google.api.client.util.Preconditions.checkNotNull(Preconditions.java:127)\n    at com.google.api.client.json.jackson2.JacksonFactory.createJsonParser(JacksonFactory.java:80)\n    at com.google.api.client.json.JsonFactory.fromReader(JsonFactory.java:236)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets.load(GoogleClientSecrets.java:192)\n    at drive.GDrive.getCredentials(GDrive.java:61)\n    at drive.GDrive.main(GDrive.java:88)\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Preconditions\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n</code></pre>\n\n<p>It appears to behave as if a class is missing, but I have referenced all API libraries from Google Drive's API in the build config. I have even tried getting the missing class from findjar dot com with little additional progress.</p>\n"},{"tags":["java","spring-boot","ubuntu","logback"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666295299,"post_id":74113873,"comment_id":130909484,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74113873/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":916639,"reputation":553,"user_id":10001916,"display_name":"a5tr0"},"score":1,"creation_date":1686055331,"post_id":74113873,"comment_id":134744117,"body_markdown":"More details in the Spring documentation in section  : &quot;83.1 Configure Logback for Logging&quot;, link : https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/howto-logging.html#howto-configure-logback-for-logging","body":"More details in the Spring documentation in section  : &quot;83.1 Configure Logback for Logging&quot;, link : <a href=\"https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/howto-logging.html#howto-configure-logback-for-logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":26315029,"reputation":61,"user_id":19977948,"display_name":"samed haveri"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693818829,"creation_date":1666108088,"answer_id":74113873,"question_id":69184334,"body_markdown":"Check if your logback file is a spring logback file like `logback-spring.xml`.\r\nHad the exact same issue fixed it by changing the file name.","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>Check if your logback file is a spring logback file like <code>logback-spring.xml</code>.\nHad the exact same issue fixed it by changing the file name.</p>\n"},{"tags":[],"owner":{"account_id":11211126,"reputation":21,"user_id":8225164,"display_name":"jackson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681370680,"creation_date":1681370680,"answer_id":76002707,"question_id":69184334,"body_markdown":"I had changed file name to logback-spring.xml ,then is ok.","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>I had changed file name to logback-spring.xml ,then is ok.</p>\n"},{"comments":[{"owner":{"account_id":6354435,"reputation":71,"user_id":4932293,"display_name":"booFar"},"score":0,"creation_date":1696251245,"post_id":77012007,"comment_id":136125194,"body_markdown":"Yepp, this is the correct answer, with a proper EXPLANATION.","body":"Yepp, this is the correct answer, with a proper EXPLANATION."}],"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693436773,"creation_date":1693436773,"answer_id":77012007,"question_id":69184334,"body_markdown":"From Spring Boot [documentation][1]:\r\n\r\n&gt; Because the standard logback.xml configuration file is loaded too\r\n&gt; early, you cannot use extensions in it. You need to either use\r\n&gt; logback-spring.xml or define a logging.config property.\r\n&gt;\r\n&gt; The extensions cannot be used with Logback’s configuration scanning.\r\n&gt; If you attempt to do so, making changes to the configuration file\r\n&gt; results in an error similar to one of the following being logged:\r\n\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProperty], current ElementPath is [[configuration][springProperty]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]\r\n\r\nThen, since you&#39;re using Spring Boots&#39;s extension tags, you need to name your file as `logback-spring.xml`, so it will be loaded at the properly time.\r\n\r\n  [1]: https://ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20[springProperty],%20current%20ElementPath%20is%20[[configuration][springProperty]]%20ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20[springProfile],%20current%20ElementPath%20is%20[[configuration][springProfile]]","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>From Spring Boot <a href=\"https://ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20%5BspringProperty%5D,%20current%20ElementPath%20is%20%5B%5Bconfiguration%5D%5BspringProperty%5D%5D%20ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20%5BspringProfile%5D,%20current%20ElementPath%20is%20%5B%5Bconfiguration%5D%5BspringProfile%5D%5D\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Because the standard logback.xml configuration file is loaded too\nearly, you cannot use extensions in it. You need to either use\nlogback-spring.xml or define a logging.config property.</p>\n<p>The extensions cannot be used with Logback’s configuration scanning.\nIf you attempt to do so, making changes to the configuration file\nresults in an error similar to one of the following being logged:</p>\n</blockquote>\n<pre><code>ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProperty], current ElementPath is [[configuration][springProperty]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]\n</code></pre>\n<p>Then, since you're using Spring Boots's extension tags, you need to name your file as <code>logback-spring.xml</code>, so it will be loaded at the properly time.</p>\n"}],"owner":{"account_id":2601578,"reputation":23,"user_id":2253802,"display_name":"CrazyCamaro7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2677,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693818829,"creation_date":1631652432,"question_id":69184334,"body_markdown":"I have a Springboot application with Logback. This war is running in a Liberty webserver in a docker container\r\n\r\nVersions:\r\nSpringboot 2.5.3\r\nLogback 1.2.3\r\n\r\n\r\nI am seeing a weird behavior where if I run this container on a Mac or Redhat, the application starts up fine and logs as expected.\r\nHowever, when the same docker container is run in Ubuntu, I am seeing the following error from Logback&#39;s Joran interpreter :\r\n\r\n```\r\n...\r\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.springframework] to WARN\r\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.hibernate] to WARN\r\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [springfox] to WARN\r\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\r\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\r\n08:07:53,314 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\r\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@5b3de2a2 - Registering current configuration as safe fallback point\r\n[err] Logging system failed to initialize using configuration from &#39;/logback-spring.xml&#39;\r\n[err] java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\r\n[err] \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\r\n[err] \tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\r\n[err] \tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\r\n[err] \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:316)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:282)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:240)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n[err] \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners$$Lambda$71/0x000000006c31f840.accept(Unknown Source)\r\n[err] \tat java.util.ArrayList.forEach(ArrayList.java:1270)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\r\n[err] \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\r\n[err] \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\r\n[err] \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n[err] \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n[err] \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n[err] \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n[err] \tat com.ibm.ws.webcontainer.webapp.WebApp.initializeServletContainerInitializers(WebApp.java:2550)\r\n[err] \tat [internal classes]\r\n[err] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n[err] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n[err] \tat java.lang.Thread.run(Thread.java:822)\r\n```\r\n\r\nHere is my logback configuration:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;console-json&quot;\r\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder name=&quot;LoggingEventCompositeJsonEncoder&quot;\r\n                 class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp/&gt;\r\n                &lt;version/&gt;\r\n                &lt;message/&gt;\r\n                &lt;loggerName&gt;\r\n                    &lt;shortenedLoggerNameLength&gt;20\r\n                    &lt;/shortenedLoggerNameLength&gt;\r\n                &lt;/loggerName&gt;\r\n                &lt;threadName/&gt;\r\n                &lt;logLevel/&gt;\r\n                &lt;logLevelValue/&gt;\r\n                &lt;callerData&gt;\r\n                    &lt;fieldName&gt;caller&lt;/fieldName&gt;\r\n                    &lt;classFieldName&gt;class&lt;/classFieldName&gt;\r\n                    &lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\r\n                    &lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\r\n                    &lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\r\n                &lt;/callerData&gt;\r\n                &lt;stackTrace&gt;\r\n                    &lt;throwableConverter\r\n                            class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                        &lt;maxDepthPerThrowable&gt;100&lt;/maxDepthPerThrowable&gt;\r\n                        &lt;maxLength&gt;10000&lt;/maxLength&gt;\r\n                        &lt;shortenedClassNameLength&gt;30\r\n                        &lt;/shortenedClassNameLength&gt;\r\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n                        &lt;inlineHash&gt;true&lt;/inlineHash&gt;\r\n                    &lt;/throwableConverter&gt;\r\n                &lt;/stackTrace&gt;\r\n                &lt;stackHash/&gt;\r\n                &lt;jsonMessage/&gt;\r\n                &lt;mdc/&gt;\r\n                &lt;contextMap/&gt;\r\n                &lt;tags/&gt;\r\n                &lt;logstashMarkers/&gt;\r\n                &lt;arguments&gt;\r\n                    &lt;includeNonStructuredArguments&gt;true\r\n                    &lt;/includeNonStructuredArguments&gt;\r\n                    &lt;nonStructuredArgumentsFieldPrefix&gt;prefix\r\n                    &lt;/nonStructuredArgumentsFieldPrefix&gt;\r\n                &lt;/arguments&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;logger name=&quot;springfox&quot; level=&quot;WARN&quot;/&gt;\r\n\r\n    &lt;springProfile name=&quot;prod&quot;&gt;\r\n        &lt;root level=&quot;${logback_root_level:-INFO}&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/springProfile&gt;\r\n\r\n    &lt;springProfile name=&quot;minimal&quot;&gt;\r\n        &lt;root level=&quot;${logback_root_level:-WARN}&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/springProfile&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAny help is appreciated!","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>I have a Springboot application with Logback. This war is running in a Liberty webserver in a docker container</p>\n<p>Versions:\nSpringboot 2.5.3\nLogback 1.2.3</p>\n<p>I am seeing a weird behavior where if I run this container on a Mac or Redhat, the application starts up fine and logs as expected.\nHowever, when the same docker container is run in Ubuntu, I am seeing the following error from Logback's Joran interpreter :</p>\n<pre><code>...\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.springframework] to WARN\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.hibernate] to WARN\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [springfox] to WARN\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\n08:07:53,314 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@5b3de2a2 - Registering current configuration as safe fallback point\n[err] Logging system failed to initialize using configuration from '/logback-spring.xml'\n[err] java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\n[err]   at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\n[err]   at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\n[err]   at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\n[err]   at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:316)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:282)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:240)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n[err]   at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\n[err]   at org.springframework.boot.SpringApplicationRunListeners$$Lambda$71/0x000000006c31f840.accept(Unknown Source)\n[err]   at java.util.ArrayList.forEach(ArrayList.java:1270)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\n[err]   at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\n[err]   at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\n[err]   at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n[err]   at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n[err]   at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n[err]   at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n[err]   at com.ibm.ws.webcontainer.webapp.WebApp.initializeServletContainerInitializers(WebApp.java:2550)\n[err]   at [internal classes]\n[err]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n[err]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n[err]   at java.lang.Thread.run(Thread.java:822)\n</code></pre>\n<p>Here is my logback configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;console-json&quot;\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder name=&quot;LoggingEventCompositeJsonEncoder&quot;\n                 class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;timestamp/&gt;\n                &lt;version/&gt;\n                &lt;message/&gt;\n                &lt;loggerName&gt;\n                    &lt;shortenedLoggerNameLength&gt;20\n                    &lt;/shortenedLoggerNameLength&gt;\n                &lt;/loggerName&gt;\n                &lt;threadName/&gt;\n                &lt;logLevel/&gt;\n                &lt;logLevelValue/&gt;\n                &lt;callerData&gt;\n                    &lt;fieldName&gt;caller&lt;/fieldName&gt;\n                    &lt;classFieldName&gt;class&lt;/classFieldName&gt;\n                    &lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\n                    &lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\n                    &lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\n                &lt;/callerData&gt;\n                &lt;stackTrace&gt;\n                    &lt;throwableConverter\n                            class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                        &lt;maxDepthPerThrowable&gt;100&lt;/maxDepthPerThrowable&gt;\n                        &lt;maxLength&gt;10000&lt;/maxLength&gt;\n                        &lt;shortenedClassNameLength&gt;30\n                        &lt;/shortenedClassNameLength&gt;\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                        &lt;inlineHash&gt;true&lt;/inlineHash&gt;\n                    &lt;/throwableConverter&gt;\n                &lt;/stackTrace&gt;\n                &lt;stackHash/&gt;\n                &lt;jsonMessage/&gt;\n                &lt;mdc/&gt;\n                &lt;contextMap/&gt;\n                &lt;tags/&gt;\n                &lt;logstashMarkers/&gt;\n                &lt;arguments&gt;\n                    &lt;includeNonStructuredArguments&gt;true\n                    &lt;/includeNonStructuredArguments&gt;\n                    &lt;nonStructuredArgumentsFieldPrefix&gt;prefix\n                    &lt;/nonStructuredArgumentsFieldPrefix&gt;\n                &lt;/arguments&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;springfox&quot; level=&quot;WARN&quot;/&gt;\n\n    &lt;springProfile name=&quot;prod&quot;&gt;\n        &lt;root level=&quot;${logback_root_level:-INFO}&quot;&gt;\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n\n    &lt;springProfile name=&quot;minimal&quot;&gt;\n        &lt;root level=&quot;${logback_root_level:-WARN}&quot;&gt;\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring","spring-boot","sonarqube"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1635922166,"post_id":69820647,"comment_id":123417997,"body_markdown":"As I understand from sonarqube issue don&#39;t take url parameter from user&#39;s data that is given by user input.","body":"As I understand from sonarqube issue don&#39;t take url parameter from user&#39;s data that is given by user input."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1635924369,"post_id":69820647,"comment_id":123418620,"body_markdown":"Just imagine that user wants to send request anywhere he/she wants. It is not appropriate to change url with user input.","body":"Just imagine that user wants to send request anywhere he/she wants. It is not appropriate to change url with user input."},{"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"score":0,"creation_date":1635924519,"post_id":69820647,"comment_id":123418667,"body_markdown":"@Gurkanİlleez but I need to get information based on location. How do I achieve this?","body":"@Gurkanİlleez but I need to get information based on location. How do I achieve this?"}],"answers":[{"comments":[{"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"score":0,"creation_date":1635924196,"post_id":69820706,"comment_id":123418565,"body_markdown":"I just updated my observation","body":"I just updated my observation"}],"tags":[],"owner":{"account_id":378053,"reputation":4160,"user_id":730549,"accept_rate":68,"display_name":"Maulzey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635922544,"creation_date":1635922227,"answer_id":69820706,"question_id":69820647,"body_markdown":"What SonarQube is trying to tell you is that you are exposing your logic to input from the clients. A better solution would be to refactor your code to not depend on a specific header from the client to perform some action. Its hard to suggest sample code without seeing a little more of the codebase.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>What SonarQube is trying to tell you is that you are exposing your logic to input from the clients. A better solution would be to refactor your code to not depend on a specific header from the client to perform some action. Its hard to suggest sample code without seeing a little more of the codebase.</p>\n"},{"comments":[{"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"score":0,"creation_date":1635924628,"post_id":69821063,"comment_id":123418707,"body_markdown":"I need to get information based on location. How do I achieve this?","body":"I need to get information based on location. How do I achieve this?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1635926601,"post_id":69821063,"comment_id":123419326,"body_markdown":"You should check if the provided value is valid (for example an regex to check for allowed characters). And you should at least escape the value you add to an url: https://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters","body":"You should check if the provided value is valid (for example an regex to check for allowed characters). And you should at least escape the value you add to an url: <a href=\"https://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters\" title=\"java url encoding of query string parameters\">stackoverflow.com/questions/10786042/&hellip;</a>"}],"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635924528,"creation_date":1635924528,"answer_id":69821063,"question_id":69820647,"body_markdown":"You are using input from the client/user (namly in the variable location) to construct an URL. So if the client/user supplies an malicious value to location he could form an invalid URL.\r\n\r\nIn the second example `String url = apiUrl + &quot;location&quot;;` you are not using user input, as &quot;location&quot; is a hard coded String.\r\n\r\nI don&#39;t know what you try to achieve with the code. But maybe it&#39;s better to hold a list of possible URLs and the user supplies and enum value that maps to an URL.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>You are using input from the client/user (namly in the variable location) to construct an URL. So if the client/user supplies an malicious value to location he could form an invalid URL.</p>\n<p>In the second example <code>String url = apiUrl + &quot;location&quot;;</code> you are not using user input, as &quot;location&quot; is a hard coded String.</p>\n<p>I don't know what you try to achieve with the code. But maybe it's better to hold a list of possible URLs and the user supplies and enum value that maps to an URL.</p>\n"},{"comments":[{"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"score":0,"creation_date":1635925463,"post_id":69821096,"comment_id":123418965,"body_markdown":"what&#39;s the use of adding &quot;/%s&quot;?","body":"what&#39;s the use of adding &quot;/%s&quot;?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":1,"creation_date":1635926105,"post_id":69821096,"comment_id":123419147,"body_markdown":"replacement string where you will replace location variable","body":"replacement string where you will replace location variable"},{"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"score":1,"creation_date":1635926866,"post_id":69821096,"comment_id":123419423,"body_markdown":"I just added a location validation to throw an error if it fails and that fixed the issue","body":"I just added a location validation to throw an error if it fails and that fixed the issue"}],"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635926427,"creation_date":1635924751,"answer_id":69821096,"question_id":69820647,"body_markdown":"    String url = &quot;https://someurl/%s&quot;;\r\n    url = String.format(url,location);\r\n    sendRequest(url);\r\n\r\n\r\nMaybe this approach won&#39;t give error.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<pre><code>String url = &quot;https://someurl/%s&quot;;\nurl = String.format(url,location);\nsendRequest(url);\n</code></pre>\n<p>Maybe this approach won't give error.</p>\n"},{"tags":[],"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635926558,"creation_date":1635926558,"answer_id":69821410,"question_id":69820647,"body_markdown":"I added validation for the Location variable and this solved the issue\r\n\r\n    if(!location.matches(...)) {\r\n       throw error.....\r\n    }\r\n    \r\n    String url = apiUrl + location;","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>I added validation for the Location variable and this solved the issue</p>\n<pre><code>if(!location.matches(...)) {\n   throw error.....\n}\n\nString url = apiUrl + location;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693915454,"post_id":77036426,"comment_id":135819659,"body_markdown":"You aren&#39;t answering the question. When you post an answer, it **must** answer the question. Please take the [tour] and visit the [help] in order to understand how SO works. If you have a question, then post a question.","body":"You aren&#39;t answering the question. When you post an answer, it <b>must</b> answer the question. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and visit the <a href=\"https://stackoverflow.com/help\">help center</a> in order to understand how SO works. If you have a question, then post a question."}],"tags":[],"owner":{"account_id":29362094,"reputation":1,"user_id":22496631,"display_name":"Purushottam Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818448,"creation_date":1693818448,"answer_id":77036426,"question_id":69820647,"body_markdown":"Make sure this Azure Storage Account Key is not disclosed. This message showing in sonarqube in the project. how to solve this.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>Make sure this Azure Storage Account Key is not disclosed. This message showing in sonarqube in the project. how to solve this.</p>\n"}],"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1693818448,"creation_date":1635921862,"question_id":69820647,"body_markdown":"I facing a SonarQube bug and am not able to figure out whats the issue. SonnarQube&#39;s issue is, change this code to not construct the URL from user-controlled data.    \r\n\r\n    @Value(&quot;${...}&quot;)\r\n    String apiKey;\r\n    \r\n    @Value(&quot;${...}&quot;)\r\n    String apiUrl;\r\n    \r\n    public Response apiResponse(String location) {\r\n    \r\n       HttpHeaders headers = new HttpHeaders();\r\n       headers.add(&quot;x-apikey&quot;, apiKey);\r\n    \r\n       HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n    \r\n       String url = apiUrl + location; // SonarQube issue: tainted value is propagated\r\n    \r\n       Response response = null;\r\n    \r\n       try {\r\n    \r\n          ResponseEntity&lt;Response&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, entity, Response.class); // SonarQube issue: Tainted value is used to perform a security- sensitive operation.\r\n    \r\n          response = responseEntity.getBody();\r\n    \r\n       } catch(Exception){\r\n    \r\n           // doesn&#39;t throw anything\r\n    \r\n       }\r\n    \r\n       return response;\r\n    \r\n    }\r\n    \r\n    @Cacheable(...)\r\n    Response cacheResponse(String location, String tokenKey) {\r\n    \r\n      return apiResponse(location); // SonarQube issue: tainted value is propagated\r\n    }\r\n\r\n\r\nThis fixed the issue, but why is that so? and how can I apply this in the above code?\r\n\r\n     String url = apiUrl + location; // SonarQube issue: tainted \r\n\r\nInstead, I just tried hardcoding the value of location and fixed the issue.\r\n\r\n    String url = apiUrl + &quot;location&quot;;\r\n\r\nSo weird...\r\n\r\n\r\n","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>I facing a SonarQube bug and am not able to figure out whats the issue. SonnarQube's issue is, change this code to not construct the URL from user-controlled data.</p>\n<pre><code>@Value(&quot;${...}&quot;)\nString apiKey;\n\n@Value(&quot;${...}&quot;)\nString apiUrl;\n\npublic Response apiResponse(String location) {\n\n   HttpHeaders headers = new HttpHeaders();\n   headers.add(&quot;x-apikey&quot;, apiKey);\n\n   HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n   String url = apiUrl + location; // SonarQube issue: tainted value is propagated\n\n   Response response = null;\n\n   try {\n\n      ResponseEntity&lt;Response&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, entity, Response.class); // SonarQube issue: Tainted value is used to perform a security- sensitive operation.\n\n      response = responseEntity.getBody();\n\n   } catch(Exception){\n\n       // doesn't throw anything\n\n   }\n\n   return response;\n\n}\n\n@Cacheable(...)\nResponse cacheResponse(String location, String tokenKey) {\n\n  return apiResponse(location); // SonarQube issue: tainted value is propagated\n}\n</code></pre>\n<p>This fixed the issue, but why is that so? and how can I apply this in the above code?</p>\n<pre><code> String url = apiUrl + location; // SonarQube issue: tainted \n</code></pre>\n<p>Instead, I just tried hardcoding the value of location and fixed the issue.</p>\n<pre><code>String url = apiUrl + &quot;location&quot;;\n</code></pre>\n<p>So weird...</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693919365,"post_id":77031959,"comment_id":135820623,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77031959/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24958929,"reputation":26,"user_id":18823076,"display_name":"Reyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693738429,"creation_date":1693738429,"answer_id":77031959,"question_id":77031009,"body_markdown":"In my case I haven&#39;t created a blank log file mentioned in the ChromeDriverService configuration steps. Once I created it i was not able to see this error.","title":"Chrome Driver For Selenium","body":"<p>In my case I haven't created a blank log file mentioned in the ChromeDriverService configuration steps. Once I created it i was not able to see this error.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818418,"creation_date":1693818418,"answer_id":77036422,"question_id":77031009,"body_markdown":"````\r\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\r\n````\r\nAbove warning suggests that, the browser you are using is version `116`, and the CDP version supported by your selenium is `114`. Selenium `v4.10.0` only supports up to CDP version `114`, check below:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nSource: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\r\n\r\n**Solution:**\r\n1. You can simply ignore this WARN, it won&#39;t effect the execution of your code\r\n\r\n2. If you want to get rid of this WARN, just upgrade your selenium version from `4.10.0` to `4.12.0`. Check below, latest selenium(`4.12.0`) supports `116` CDP version:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OGZgW.png\r\n  [2]: https://i.stack.imgur.com/oOwmA.png","title":"Chrome Driver For Selenium","body":"<pre><code>WARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\n</code></pre>\n<p>Above warning suggests that, the browser you are using is version <code>116</code>, and the CDP version supported by your selenium is <code>114</code>. Selenium <code>v4.10.0</code> only supports up to CDP version <code>114</code>, check below:</p>\n<p><a href=\"https://i.stack.imgur.com/OGZgW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGZgW.png\" alt=\"enter image description here\" /></a></p>\n<p>Source: <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG</a></p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li><p>You can simply ignore this WARN, it won't effect the execution of your code</p>\n</li>\n<li><p>If you want to get rid of this WARN, just upgrade your selenium version from <code>4.10.0</code> to <code>4.12.0</code>. Check below, latest selenium(<code>4.12.0</code>) supports <code>116</code> CDP version:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/oOwmA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOwmA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29355168,"reputation":1,"user_id":22491288,"display_name":"Nazryniche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693818418,"creation_date":1693718638,"question_id":77031009,"body_markdown":"I have a problem chrome driver in Automation Testing when i am running the code they will this and my page closed :(\r\n\r\n````\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nсент. 03, 2023 9:06:45 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\nсент. 03, 2023 9:06:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\r\n````\r\nAnd my dependencies\r\n \r\n```\r\n &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;webdriver.manager.version&gt;5.5.2&lt;/webdriver.manager.version&gt;\r\n        &lt;selenium.java.version&gt;4.10.0&lt;/selenium.java.version&gt;\r\n        &lt;testng.version&gt;7.8.0&lt;/testng.version&gt;\r\n\r\n        &lt;browser&gt;chrome&lt;/browser&gt;\r\n        &lt;base.url&gt;https://www.saucedemo.com/v1/&lt;/base.url&gt;\r\n    &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdriver.manager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.java.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Chrome Driver For Selenium","body":"<p>I have a problem chrome driver in Automation Testing when i am running the code they will this and my page closed :(</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nсент. 03, 2023 9:06:45 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\nсент. 03, 2023 9:06:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\n</code></pre>\n<p>And my dependencies</p>\n<pre><code> &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;webdriver.manager.version&gt;5.5.2&lt;/webdriver.manager.version&gt;\n        &lt;selenium.java.version&gt;4.10.0&lt;/selenium.java.version&gt;\n        &lt;testng.version&gt;7.8.0&lt;/testng.version&gt;\n\n        &lt;browser&gt;chrome&lt;/browser&gt;\n        &lt;base.url&gt;https://www.saucedemo.com/v1/&lt;/base.url&gt;\n    &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdriver.manager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${testng.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":382096,"reputation":1696,"user_id":737124,"accept_rate":79,"display_name":"Hozefa"},"score":0,"creation_date":1336432652,"post_id":10490024,"comment_id":13558533,"body_markdown":"Did anyone face a similar problem?","body":"Did anyone face a similar problem?"},{"owner":{"account_id":1057241,"reputation":2580,"user_id":1059670,"accept_rate":79,"display_name":"rags"},"score":0,"creation_date":1336459063,"post_id":10490024,"comment_id":13563605,"body_markdown":"DTD specified in your DOCTYPE is not matching with the DTD existing in your project. Please correct it","body":"DTD specified in your DOCTYPE is not matching with the DTD existing in your project. Please correct it"},{"owner":{"account_id":382096,"reputation":1696,"user_id":737124,"accept_rate":79,"display_name":"Hozefa"},"score":0,"creation_date":1336499285,"post_id":10490024,"comment_id":13579146,"body_markdown":"@rags: Can you tell me what I need to correct. I am specifying the encoding type. But I still get the error. Also the xml file is auto generated by hibernate.","body":"@rags: Can you tell me what I need to correct. I am specifying the encoding type. But I still get the error. Also the xml file is auto generated by hibernate."},{"owner":{"account_id":1057241,"reputation":2580,"user_id":1059670,"accept_rate":79,"display_name":"rags"},"score":1,"creation_date":1336540036,"post_id":10490024,"comment_id":13589279,"body_markdown":"In your DOCTYPE statement, you have reference to hibernate-mapping-3.0.dtd. This .dtd is part of hibernate.jar file. You application looks for hibernate.jar in CLASSPATH. Make sure that the hibernate.jar is included in the project and it has the hibernate-mapping-3.0.dtd in it.","body":"In your DOCTYPE statement, you have reference to hibernate-mapping-3.0.dtd. This .dtd is part of hibernate.jar file. You application looks for hibernate.jar in CLASSPATH. Make sure that the hibernate.jar is included in the project and it has the hibernate-mapping-3.0.dtd in it."}],"answers":[{"tags":[],"owner":{"account_id":1041278,"reputation":5253,"user_id":1047269,"display_name":"Johanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336476924,"creation_date":1336476924,"answer_id":10497819,"question_id":10490024,"body_markdown":"This behavior can happen if there is any illegal character in the header before the starting `&lt;hibernate-mapping&gt;` tag. This even can be a non-printable character.\r\n\r\nOne other reason why this can happen is a wrong character encoding. The first line in my mapping files always is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n","title":"Hibernate Error: org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared","body":"<p>This behavior can happen if there is any illegal character in the header before the starting <code>&lt;hibernate-mapping&gt;</code> tag. This even can be a non-printable character.</p>\n\n<p>One other reason why this can happen is a wrong character encoding. The first line in my mapping files always is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2048227,"reputation":105,"user_id":1827844,"display_name":"Paul Bors"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353955100,"creation_date":1353955100,"answer_id":13571045,"question_id":10490024,"body_markdown":"As Rags mentioned, you must include the appropiate hibernate jar on your CLASSPATH.\r\n\r\nFor more details see:\r\nhttp://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#tutorial-firstapp-mapping\r\n\r\n    Hibernate will not load the DTD file from the web, but first look it up from the classpath of \r\n    the application. The DTD file is included in hibernate-core.jar (it is also included in the \r\n    hibernate3.jar, if using the distribution bundle). ","title":"Hibernate Error: org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared","body":"<p>As Rags mentioned, you must include the appropiate hibernate jar on your CLASSPATH.</p>\n\n<p>For more details see:\n<a href=\"http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#tutorial-firstapp-mapping\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#tutorial-firstapp-mapping</a></p>\n\n<pre><code>Hibernate will not load the DTD file from the web, but first look it up from the classpath of \nthe application. The DTD file is included in hibernate-core.jar (it is also included in the \nhibernate3.jar, if using the distribution bundle). \n</code></pre>\n"}],"owner":{"account_id":382096,"reputation":1696,"user_id":737124,"accept_rate":79,"display_name":"Hozefa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693818370,"creation_date":1336429827,"question_id":10490024,"body_markdown":"I am using hibernate-core-4.1.3.Final.jar. While inserting the data into the table I am getting the following error :\r\n\r\n`org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared.` \r\n\r\nMy mapping file is as following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n     &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated May 7, 2012 3:07:47 PM by Hibernate Tools 3.4.0.CR1 --&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.paypal.socialpay.models.User&quot; table=&quot;user&quot; catalog=&quot;socialdb&quot;&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n            &lt;column name=&quot;id&quot; /&gt;\r\n            &lt;generator class=&quot;identity&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;payerid&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;payerid&quot; length=&quot;50&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;emailid&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;emailid&quot; length=&quot;100&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;createdDt&quot; type=&quot;timestamp&quot;&gt;\r\n            &lt;column name=&quot;created_dt&quot; length=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;updatedDt&quot; type=&quot;timestamp&quot;&gt;\r\n            &lt;column name=&quot;updated_dt&quot; length=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;firstname&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;firstname&quot; length=&quot;100&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;lastname&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;lastname&quot; length=&quot;100&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;correlationid&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;correlationid&quot; length=&quot;100&quot; /&gt;\r\n        &lt;/property&gt;\r\n    &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n\r\n\r\nThe stack trace of the error is :\r\n\r\n    org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared.\r\n    \tat org.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1213)\r\n    \tat org.apache.xerces.validators.common.XMLValidator.reportRecoverableXMLError(XMLValidator.java:1807)\r\n    \tat org.apache.xerces.validators.common.XMLValidator.validateElementAndAttributes(XMLValidator.java:3633)\r\n    \tat org.apache.xerces.validators.common.XMLValidator.callStartElement(XMLValidator.java:1229)\r\n    \tat org.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch(XMLDocumentScanner.java:938)\r\n    \tat org.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner.java:381)\r\n    \tat org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\r\n    \tat org.dom4j.io.SAXReader.read(SAXReader.java:465)\r\n    \tat org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:78)\r\n    \tat org.hibernate.cfg.Configuration.add(Configuration.java:478)\r\n    \tat org.hibernate.cfg.Configuration.add(Configuration.java:474)\r\n    \tat org.hibernate.cfg.Configuration.add(Configuration.java:647)\r\n    \tat org.hibernate.cfg.Configuration.addResource(Configuration.java:730)\r\n    \tat org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:2109)\r\n    \tat org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:2081)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2061)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2014)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1929)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1908)\r\n    \tat com.paypal.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:12)\r\n    \tat com.paypal.utils.UserService.findUserByEmail(UserService.java:29)\r\n    \tat com.paypal.socialpay.controllers.APIController.doGetAuthDetails(APIController.java:257)\r\n    \tat com.paypal.socialpay.controllers.APIController.handleRequest(APIController.java:73)\r\n    \tat com.paypal.socialpay.controllers.APIController.doPost(APIController.java:55)\r\n    \tat com.paypal.socialpay.controllers.APIController.doGet(APIController.java:49)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:680)\r\n\r\n","title":"Hibernate Error: org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared","body":"<p>I am using hibernate-core-4.1.3.Final.jar. While inserting the data into the table I am getting the following error :</p>\n\n<p><code>org.xml.sax.SAXParseException: Element type \"hibernate-mapping\" must be declared.</code> </p>\n\n<p>My mapping file is as following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\"&gt;\n&lt;!-- Generated May 7, 2012 3:07:47 PM by Hibernate Tools 3.4.0.CR1 --&gt;\n&lt;hibernate-mapping&gt;\n&lt;class name=\"com.paypal.socialpay.models.User\" table=\"user\" catalog=\"socialdb\"&gt;\n    &lt;id name=\"id\" type=\"java.lang.Integer\"&gt;\n        &lt;column name=\"id\" /&gt;\n        &lt;generator class=\"identity\" /&gt;\n    &lt;/id&gt;\n    &lt;property name=\"payerid\" type=\"string\"&gt;\n        &lt;column name=\"payerid\" length=\"50\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"emailid\" type=\"string\"&gt;\n        &lt;column name=\"emailid\" length=\"100\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"createdDt\" type=\"timestamp\"&gt;\n        &lt;column name=\"created_dt\" length=\"0\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"updatedDt\" type=\"timestamp\"&gt;\n        &lt;column name=\"updated_dt\" length=\"0\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"firstname\" type=\"string\"&gt;\n        &lt;column name=\"firstname\" length=\"100\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"lastname\" type=\"string\"&gt;\n        &lt;column name=\"lastname\" length=\"100\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"correlationid\" type=\"string\"&gt;\n        &lt;column name=\"correlationid\" length=\"100\" /&gt;\n    &lt;/property&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>The stack trace of the error is :</p>\n\n<pre><code>org.xml.sax.SAXParseException: Element type \"hibernate-mapping\" must be declared.\n    at org.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1213)\n    at org.apache.xerces.validators.common.XMLValidator.reportRecoverableXMLError(XMLValidator.java:1807)\n    at org.apache.xerces.validators.common.XMLValidator.validateElementAndAttributes(XMLValidator.java:3633)\n    at org.apache.xerces.validators.common.XMLValidator.callStartElement(XMLValidator.java:1229)\n    at org.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch(XMLDocumentScanner.java:938)\n    at org.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner.java:381)\n    at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\n    at org.dom4j.io.SAXReader.read(SAXReader.java:465)\n    at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:78)\n    at org.hibernate.cfg.Configuration.add(Configuration.java:478)\n    at org.hibernate.cfg.Configuration.add(Configuration.java:474)\n    at org.hibernate.cfg.Configuration.add(Configuration.java:647)\n    at org.hibernate.cfg.Configuration.addResource(Configuration.java:730)\n    at org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:2109)\n    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:2081)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2061)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2014)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1929)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1908)\n    at com.paypal.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:12)\n    at com.paypal.utils.UserService.findUserByEmail(UserService.java:29)\n    at com.paypal.socialpay.controllers.APIController.doGetAuthDetails(APIController.java:257)\n    at com.paypal.socialpay.controllers.APIController.handleRequest(APIController.java:73)\n    at com.paypal.socialpay.controllers.APIController.doPost(APIController.java:55)\n    at com.paypal.socialpay.controllers.APIController.doGet(APIController.java:49)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:680)\n</code></pre>\n"},{"tags":["java","jdbc","batch-updates"],"answers":[{"comments":[{"owner":{"account_id":5773167,"reputation":454,"user_id":4556041,"accept_rate":59,"display_name":"Nagesh"},"score":2,"creation_date":1426678122,"post_id":29119725,"comment_id":46468280,"body_markdown":"Yea. I know it will stop when batch fails. I want to know, how to get the Record which failed.","body":"Yea. I know it will stop when batch fails. I want to know, how to get the Record which failed."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1501282526,"post_id":29119725,"comment_id":77728219,"body_markdown":"I think you cannot - the only thing is to hope that exceptin will have some guidence info from the RDBMS. Its like you would execute multiple SQLs separated with;. In case of error, it will not show you which statement failed.","body":"I think you cannot - the only thing is to hope that exceptin will have some guidence info from the RDBMS. Its like you would execute multiple SQLs separated with;. In case of error, it will not show you which statement failed."},{"owner":{"account_id":1763012,"reputation":1801,"user_id":1609570,"accept_rate":90,"display_name":"Arjun Sunil Kumar"},"score":0,"creation_date":1607534793,"post_id":29119725,"comment_id":115305414,"body_markdown":"@codeFreak `stmt.executeBatch();` will return an integer array containing the insert status of each record. For i&#39;th element, value `-3` indicates an `ERROR`, `&gt;=0` indicates `OK` status. You can keep a separate array for maintaining the insert statements (`stmt.toString()`) and then compare with the result array to find the insert query which failed.","body":"@codeFreak <code>stmt.executeBatch();</code> will return an integer array containing the insert status of each record. For i&#39;th element, value <code>-3</code> indicates an <code>ERROR</code>, <code>&gt;=0</code> indicates <code>OK</code> status. You can keep a separate array for maintaining the insert statements (<code>stmt.toString()</code>) and then compare with the result array to find the insert query which failed."},{"owner":{"account_id":9981936,"reputation":147,"user_id":8743751,"display_name":"Agent47"},"score":0,"creation_date":1607582466,"post_id":29119725,"comment_id":115319207,"body_markdown":"@ArjunSK, could you give the source of this answer please? Does the error scenario when an element is -3 also applies when we run exexuteBatch for update queries?","body":"@ArjunSK, could you give the source of this answer please? Does the error scenario when an element is -3 also applies when we run exexuteBatch for update queries?"},{"owner":{"account_id":1763012,"reputation":1801,"user_id":1609570,"accept_rate":90,"display_name":"Arjun Sunil Kumar"},"score":0,"creation_date":1607584143,"post_id":29119725,"comment_id":115319623,"body_markdown":"@AkilaAmarasinghe int array values explanation https://stackoverflow.com/questions/48921660/what-does-return-value-3-indicate-when-sending-a-jdbc-bulk-insert-to-crate-io","body":"@AkilaAmarasinghe int array values explanation <a href=\"https://stackoverflow.com/questions/48921660/what-does-return-value-3-indicate-when-sending-a-jdbc-bulk-insert-to-crate-io\" title=\"what does return value 3 indicate when sending a jdbc bulk insert to crate io\">stackoverflow.com/questions/48921660/&hellip;</a>"}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426674956,"creation_date":1426674956,"answer_id":29119725,"question_id":29119319,"body_markdown":"You have to `try-catch` the `stmt.executeBatch()` call and check for details in the exception. Batch execution will stop on first error that will occure. ","title":"Identify the failure of a executeBatch() in JDBC","body":"<p>You have to <code>try-catch</code> the <code>stmt.executeBatch()</code> call and check for details in the exception. Batch execution will stop on first error that will occure. </p>\n"},{"tags":[],"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818089,"creation_date":1693818089,"answer_id":77036395,"question_id":29119319,"body_markdown":"If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:\r\n\r\n      catch (SQLException sqlException) {\r\n\t\t\twhile (sqlException != null) {\r\n\t\t\t\tSystem.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\r\n\t\t\t\tsqlException = sqlException.getNextException();\r\n\t\t\t}\r\n\t\t} \r\n\r\nThis will print on console something like this: &quot;...Exception in record #123...&quot; which shows in what record did exception occurred and will print SQLCODE and SQLSTATE","title":"Identify the failure of a executeBatch() in JDBC","body":"<p>If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:</p>\n<pre><code>  catch (SQLException sqlException) {\n        while (sqlException != null) {\n            System.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\n            sqlException = sqlException.getNextException();\n        }\n    } \n</code></pre>\n<p>This will print on console something like this: &quot;...Exception in record #123...&quot; which shows in what record did exception occurred and will print SQLCODE and SQLSTATE</p>\n"}],"owner":{"account_id":5773167,"reputation":454,"user_id":4556041,"accept_rate":59,"display_name":"Nagesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2794,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693818089,"creation_date":1426673770,"question_id":29119319,"body_markdown":"I am using the following code to Insert data into a table. \r\n\r\n    test_conn.setAutoCommit(false);\r\n    stmt = test_conn.prepareStatement(&quot;INSERT INTO ...&quot;);\r\n    \r\n    while(RSet.next()){\r\n       for(int i = 1; i &lt;= columnCount; i++){\r\n           stmt.setString(i, RSet.getString(i));\r\n       }\r\n       stmt.addBatch();\r\n    }\r\n    \r\n    stmt.executeBatch();\r\n    test_conn.commit();\r\n\r\n other processing methods to occur only all the above rows are successfully inserted....\r\n \r\nwhen I Insert into table using `executeBatch()`, if an SQL Exception or Error occurs in Inserting , is it possible to find Insertion of which Record has thrown the exception?\r\n","title":"Identify the failure of a executeBatch() in JDBC","body":"<p>I am using the following code to Insert data into a table. </p>\n\n<pre><code>test_conn.setAutoCommit(false);\nstmt = test_conn.prepareStatement(\"INSERT INTO ...\");\n\nwhile(RSet.next()){\n   for(int i = 1; i &lt;= columnCount; i++){\n       stmt.setString(i, RSet.getString(i));\n   }\n   stmt.addBatch();\n}\n\nstmt.executeBatch();\ntest_conn.commit();\n</code></pre>\n\n<p>other processing methods to occur only all the above rows are successfully inserted....</p>\n\n<p>when I Insert into table using <code>executeBatch()</code>, if an SQL Exception or Error occurs in Inserting , is it possible to find Insertion of which Record has thrown the exception?</p>\n"},{"tags":["java","oauth-2.0","keycloak","openid"],"owner":{"account_id":23466006,"reputation":1,"user_id":22496250,"display_name":"Gefeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693817915,"creation_date":1693817765,"question_id":77036361,"body_markdown":"When creating new client in Keycloak using Dynamic Client Registration, a new client has a **Standard Flow Enabled = true** and **Service Accounts Enabled = true**. That means that a client has **authorization_code** and **client_credentials** grant types.\r\nBut that is not what I expect. \r\nI send a request to creat a new client with only client_credentials grant type, so only Service Accounts Enabled should be true.\r\nHere is the example of the json value that I send to registration endpoint(*https://keycloak:port/realms/realm-name/clients-registrations/openid-connect*):\r\n```\r\n{&quot;redirect_uris&quot;:[],&quot;response_types&quot;:[],&quot;grant_types&quot;:[&quot;client_credentials&quot;],&quot;application_type&quot;:&quot;backend_to_backend&quot;,&quot;client_name&quot;:&quot;test&quot;}\r\n```\r\nResponse json value example:\r\n```\r\n{&quot;redirect_uris&quot;:[],&quot;token_endpoint_auth_method&quot;:&quot;client_secret_basic&quot;,&quot;grant_types&quot;:[&quot;authorization_code&quot;,&quot;client_credentials&quot;],&quot;response_types&quot;:[&quot;code&quot;,&quot;none&quot;],&quot;client_id&quot;:&quot;afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;client_secret&quot;:&quot;fghIfqd0OG6gfKGIKjUzyutP76q6QbEu&quot;,&quot;client_name&quot;:&quot;test&quot;,&quot;scope&quot;:&quot;address phone offline_access microprofile-jwt&quot;,&quot;subject_type&quot;:&quot;public&quot;,&quot;request_uris&quot;:[],&quot;tls_client_certificate_bound_access_tokens&quot;:false,&quot;client_id_issued_at&quot;:1693816447,&quot;client_secret_expires_at&quot;:0,&quot;registration_client_uri&quot;:&quot;https://keycloak:port/realms/realm-name/clients-registrations/openid-connect/afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;registration_access_token&quot;:...\r\n```\r\n\r\nMy question is how to make a new keycloak client using Dynamic Client Registration with only client_credentials grant type and only Service Accounts Enabled = true?\r\nStandard Flow Enabled flag must be false. \r\n[Keycloak created client config example](https://i.stack.imgur.com/wUNrE.jpg)","title":"Disable Standard Flow when creating new client in Keycloak with dynamic client registration","body":"<p>When creating new client in Keycloak using Dynamic Client Registration, a new client has a <strong>Standard Flow Enabled = true</strong> and <strong>Service Accounts Enabled = true</strong>. That means that a client has <strong>authorization_code</strong> and <strong>client_credentials</strong> grant types.\nBut that is not what I expect.\nI send a request to creat a new client with only client_credentials grant type, so only Service Accounts Enabled should be true.\nHere is the example of the json value that I send to registration endpoint(<em>https://keycloak:port/realms/realm-name/clients-registrations/openid-connect</em>):</p>\n<pre><code>{&quot;redirect_uris&quot;:[],&quot;response_types&quot;:[],&quot;grant_types&quot;:[&quot;client_credentials&quot;],&quot;application_type&quot;:&quot;backend_to_backend&quot;,&quot;client_name&quot;:&quot;test&quot;}\n</code></pre>\n<p>Response json value example:</p>\n<pre><code>{&quot;redirect_uris&quot;:[],&quot;token_endpoint_auth_method&quot;:&quot;client_secret_basic&quot;,&quot;grant_types&quot;:[&quot;authorization_code&quot;,&quot;client_credentials&quot;],&quot;response_types&quot;:[&quot;code&quot;,&quot;none&quot;],&quot;client_id&quot;:&quot;afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;client_secret&quot;:&quot;fghIfqd0OG6gfKGIKjUzyutP76q6QbEu&quot;,&quot;client_name&quot;:&quot;test&quot;,&quot;scope&quot;:&quot;address phone offline_access microprofile-jwt&quot;,&quot;subject_type&quot;:&quot;public&quot;,&quot;request_uris&quot;:[],&quot;tls_client_certificate_bound_access_tokens&quot;:false,&quot;client_id_issued_at&quot;:1693816447,&quot;client_secret_expires_at&quot;:0,&quot;registration_client_uri&quot;:&quot;https://keycloak:port/realms/realm-name/clients-registrations/openid-connect/afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;registration_access_token&quot;:...\n</code></pre>\n<p>My question is how to make a new keycloak client using Dynamic Client Registration with only client_credentials grant type and only Service Accounts Enabled = true?\nStandard Flow Enabled flag must be false.\n<a href=\"https://i.stack.imgur.com/wUNrE.jpg\" rel=\"nofollow noreferrer\">Keycloak created client config example</a></p>\n"},{"tags":["java","jdbc","bulkinsert","cratedb"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1519284489,"post_id":48921660,"comment_id":84849896,"body_markdown":"Which driver and DB are you using?","body":"Which driver and DB are you using?"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1519285722,"post_id":48921660,"comment_id":84850468,"body_markdown":"It&#39;s JDBC driver 2.2.0, crate 2.3.3","body":"It&#39;s JDBC driver 2.2.0, crate 2.3.3"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519305178,"creation_date":1519304038,"answer_id":48927960,"question_id":48921660,"body_markdown":"Please check the API documentation of [`java.sql.BatchUpdateException`][1] (emphasis mine):\r\n\r\n&gt; After a command in a batch update fails to execute properly and a\r\n&gt; `BatchUpdateException` is thrown, the driver may or may not continue\r\n&gt; to process the remaining commands in the batch. If the driver\r\n&gt; continues processing after a failure, the array returned by the method\r\n&gt; `BatchUpdateException.getUpdateCounts` will have an element for every\r\n&gt; command in the batch rather than only elements for the commands that\r\n&gt; executed successfully before the error. In the case where the driver\r\n&gt; continues processing commands, **the array element for any command\r\n&gt; that failed is `Statement.EXECUTE_FAILED`.**\r\n\r\nand [`Statement.executeBatch()`][2]:\r\n\r\n&gt; A value of `EXECUTE_FAILED` -- indicates that the command failed to\r\n&gt; execute successfully and occurs only if a driver continues to process\r\n&gt; commands after a command fails\r\n\r\nValue `-3` is constant `Statement.EXECUTE_FAILED`. In some drivers the exceptions of those execution failures will be chained to this `BatchUpdateException` (check `getNextException` or iterate over all throwables of the exception).\r\n\r\nHowever, if all subsequent values report `Statement.EXECUTE_FAILED`, it might mean that the driver does not actually try to execute the remaining parameter sets, but instead simply reports `Statement.EXECUTE_FAILED` for all parameter sets from the first failure on. In that case a driver should &#39;give up&#39; after the first failure and only report the update counts of the successfully executed parameter sets, as described in the JDBC specification and API documentation.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/sql/BatchUpdateException.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/sql/Statement.html#executeBatch--","title":"What does return value -3 indicate when sending a JDBC bulk insert to crate.io","body":"<p>Please check the API documentation of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/BatchUpdateException.html\" rel=\"nofollow noreferrer\"><code>java.sql.BatchUpdateException</code></a> (emphasis mine):</p>\n\n<blockquote>\n  <p>After a command in a batch update fails to execute properly and a\n  <code>BatchUpdateException</code> is thrown, the driver may or may not continue\n  to process the remaining commands in the batch. If the driver\n  continues processing after a failure, the array returned by the method\n  <code>BatchUpdateException.getUpdateCounts</code> will have an element for every\n  command in the batch rather than only elements for the commands that\n  executed successfully before the error. In the case where the driver\n  continues processing commands, <strong>the array element for any command\n  that failed is <code>Statement.EXECUTE_FAILED</code>.</strong></p>\n</blockquote>\n\n<p>and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/Statement.html#executeBatch--\" rel=\"nofollow noreferrer\"><code>Statement.executeBatch()</code></a>:</p>\n\n<blockquote>\n  <p>A value of <code>EXECUTE_FAILED</code> -- indicates that the command failed to\n  execute successfully and occurs only if a driver continues to process\n  commands after a command fails</p>\n</blockquote>\n\n<p>Value <code>-3</code> is constant <code>Statement.EXECUTE_FAILED</code>. In some drivers the exceptions of those execution failures will be chained to this <code>BatchUpdateException</code> (check <code>getNextException</code> or iterate over all throwables of the exception).</p>\n\n<p>However, if all subsequent values report <code>Statement.EXECUTE_FAILED</code>, it might mean that the driver does not actually try to execute the remaining parameter sets, but instead simply reports <code>Statement.EXECUTE_FAILED</code> for all parameter sets from the first failure on. In that case a driver should 'give up' after the first failure and only report the update counts of the successfully executed parameter sets, as described in the JDBC specification and API documentation.</p>\n"},{"tags":[],"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693817899,"creation_date":1693817899,"answer_id":77036376,"question_id":48921660,"body_markdown":"If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:\r\n\r\n      catch (SQLException sqlException) {\r\n\t\t\twhile (sqlException != null) {\r\n\t\t\t\tSystem.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\r\n\t\t\t\tsqlException = sqlException.getNextException();\r\n\t\t\t}\r\n\t\t} ","title":"What does return value -3 indicate when sending a JDBC bulk insert to crate.io","body":"<p>If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:</p>\n<pre><code>  catch (SQLException sqlException) {\n        while (sqlException != null) {\n            System.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\n            sqlException = sqlException.getNextException();\n        }\n    } \n</code></pre>\n"}],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48927960,"answer_count":2,"score":0,"last_activity_date":1693817899,"creation_date":1519283979,"question_id":48921660,"body_markdown":"I try to do Batch inserts with JDBC to a Crate instance:\r\n\r\n        for(...) {\r\n            statement.setLong(1, startTime);\r\n            statement.setInt(2, i);\r\n            ...\r\n            statement.addBatch();\r\n        }\r\n\r\n        results = uaStatement.executeBatch();\r\n        logger.info(&quot;Had bulk-result: &quot; + Arrays.toString(results));\r\n\r\nThe resulting int[] array should contain 0 or 1 depending if the row was inserted or not. \r\n\r\nBut I get back lots of &quot;-3&quot;, which neither the JDBC standard nor the doc seems to define. \r\n\r\nIt seems the rows don&#39;t get inserted when -3 is returned, but no additional error information is visible. It seems the -3 is coming directly from the Crate server and the client-side JDBC implementation just forwards this.\r\n\r\nThis is crate 2.3.3 with JDBC driver 2.2.0\r\n\r\n    compile &#39;io.crate:crate-jdbc:2.2.0&#39;\r\n\r\n\r\nWhat does this indicate? Some problem with the sent values? \r\n\r\n    Had bulk-result: [1, 1, 1, 1, -3, -3, -3, -3, -3, -3, 1, -3, -3, -3, -3, -3, -3, ...","title":"What does return value -3 indicate when sending a JDBC bulk insert to crate.io","body":"<p>I try to do Batch inserts with JDBC to a Crate instance:</p>\n\n<pre><code>    for(...) {\n        statement.setLong(1, startTime);\n        statement.setInt(2, i);\n        ...\n        statement.addBatch();\n    }\n\n    results = uaStatement.executeBatch();\n    logger.info(\"Had bulk-result: \" + Arrays.toString(results));\n</code></pre>\n\n<p>The resulting int[] array should contain 0 or 1 depending if the row was inserted or not. </p>\n\n<p>But I get back lots of \"-3\", which neither the JDBC standard nor the doc seems to define. </p>\n\n<p>It seems the rows don't get inserted when -3 is returned, but no additional error information is visible. It seems the -3 is coming directly from the Crate server and the client-side JDBC implementation just forwards this.</p>\n\n<p>This is crate 2.3.3 with JDBC driver 2.2.0</p>\n\n<pre><code>compile 'io.crate:crate-jdbc:2.2.0'\n</code></pre>\n\n<p>What does this indicate? Some problem with the sent values? </p>\n\n<pre><code>Had bulk-result: [1, 1, 1, 1, -3, -3, -3, -3, -3, -3, 1, -3, -3, -3, -3, -3, -3, ...\n</code></pre>\n"},{"tags":["javascript","java","angular","angular-material"],"answers":[{"comments":[{"owner":{"account_id":22770953,"reputation":233,"user_id":16928404,"display_name":"janci"},"score":0,"creation_date":1693819483,"post_id":77035846,"comment_id":135805848,"body_markdown":"How to specify that when hover the mouse over the row it does not remove the highlight. I have tried `.mat-mdc-table .mat-mdc-row:hover,\n.mat-mdc-table .mat-mdc-footer-row:hover .hovered {\n  background: none;\n}` but still when I hover the mouse over the row it removed the selection highlight colour.","body":"How to specify that when hover the mouse over the row it does not remove the highlight. I have tried <code>.mat-mdc-table .mat-mdc-row:hover, .mat-mdc-table .mat-mdc-footer-row:hover .hovered {   background: none; }</code> but still when I hover the mouse over the row it removed the selection highlight colour."},{"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"score":0,"creation_date":1693828296,"post_id":77035846,"comment_id":135807429,"body_markdown":"If you want to have the same color as the one from the `.highlighted` class wether it&#39;s highlighted or hovered then I would suggest to not use anymore the `.hovered` class and to use instead a CSS variable like this :\n```css\n:host {\n  --bg-color: green;\n}\n\n.highlighted {\n  background: var(--bg-color);\n}\n\n.mat-mdc-table .mat-mdc-row:hover,\n.mat-mdc-table .mat-mdc-footer-row:hover {\n  background: var(--bg-color);\n}\n```","body":"If you want to have the same color as the one from the <code>.highlighted</code> class wether it&#39;s highlighted or hovered then I would suggest to not use anymore the <code>.hovered</code> class and to use instead a CSS variable like this : <code>css :host {   --bg-color: green; }  .highlighted {   background: var(--bg-color); }  .mat-mdc-table .mat-mdc-row:hover, .mat-mdc-table .mat-mdc-footer-row:hover {   background: var(--bg-color); } </code>"},{"owner":{"account_id":22770953,"reputation":233,"user_id":16928404,"display_name":"janci"},"score":0,"creation_date":1693830869,"post_id":77035846,"comment_id":135807942,"body_markdown":"Thank you. You are very good at that. Would you mind please to comment on what you have just suggested. It works beautifully. What is this host with  --bg-color and the var(--bg-color). I have never seen that before?","body":"Thank you. You are very good at that. Would you mind please to comment on what you have just suggested. It works beautifully. What is this host with  --bg-color and the var(--bg-color). I have never seen that before?"},{"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"score":0,"creation_date":1693832578,"post_id":77035846,"comment_id":135808268,"body_markdown":"1. `:host` is a **pseudo class selector**, in short it allows you to style your `app` component without affecting the other components (see: https://cutt.ly/RwllivhD for more details). It&#39;s not mandatory to use this pseudo class to achieve what you want to do here but it was more convenient for me.  \n2. `--bg-color` is a custom property or a variable if you prefer (you cna change it&#39;s name with whatever you like). To use this custom property you have to use the `var()` function (see: https://cutt.ly/xwllu5db). To be noticed: this is not something inherited from Angular, it&#39;s a CSS concept.","body":"1. <code>:host</code> is a <b>pseudo class selector</b>, in short it allows you to style your <code>app</code> component without affecting the other components (see: <a href=\"https://cutt.ly/RwllivhD\" rel=\"nofollow noreferrer\">cutt.ly/RwllivhD</a> for more details). It&#39;s not mandatory to use this pseudo class to achieve what you want to do here but it was more convenient for me.   2. <code>--bg-color</code> is a custom property or a variable if you prefer (you cna change it&#39;s name with whatever you like). To use this custom property you have to use the <code>var()</code> function (see: <a href=\"https://cutt.ly/xwllu5db\" rel=\"nofollow noreferrer\">cutt.ly/xwllu5db</a>). To be noticed: this is not something inherited from Angular, it&#39;s a CSS concept."}],"tags":[],"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693817718,"creation_date":1693812687,"answer_id":77035846,"question_id":77035142,"body_markdown":"If I understand correctly you are defining a CSS class `.hovered` to apply a different background color when the mouse is hovering the table row.\r\n\r\n### Problem\r\nAngular Material also apply a background property with a CSS selector which override your property:\r\n```css\r\n.mat-mdc-table tbody,\r\n.mat-mdc-table tfoot,\r\n.mat-mdc-table thead,\r\n.mat-mdc-cell,\r\n.mat-mdc-footer-cell,\r\n.mat-mdc-header-row,\r\n.mat-mdc-row,\r\n.mat-mdc-footer-row,\r\n.mat-mdc-table .mat-mdc-header-cell {\r\n    background: inherit;\r\n}\r\n```\r\n### Solution\r\nTo fix this you could apply a CSS selector rule which have a higher priority than the one provided by Angular Material in the `app.component.css` file of your project example.  \r\nex:\r\n```css\r\n.example-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 500px;\r\n  min-width: 300px;\r\n}\r\n\r\n.mat-table {\r\n  overflow: auto;\r\n  max-height: 500px;\r\n}\r\n\r\n/* this rule got a higher priority than the Angular Material one*/\r\n.mat-mdc-table .mat-mdc-row:hover,\r\n.mat-mdc-table .mat-mdc-footer-row:hover .hovered {\r\n  background: red;\r\n}\r\n\r\n.highlighted {\r\n  background: green;\r\n}\r\n\r\nmat-cell.mat-cell,\r\nmat-header-cell.mat-header-cell {\r\n  overflow: visible;\r\n}\r\n\r\n```","title":"Material table row selection/hovering not working in angular app","body":"<p>If I understand correctly you are defining a CSS class <code>.hovered</code> to apply a different background color when the mouse is hovering the table row.</p>\n<h3>Problem</h3>\n<p>Angular Material also apply a background property with a CSS selector which override your property:</p>\n<pre class=\"lang-css prettyprint-override\"><code>.mat-mdc-table tbody,\n.mat-mdc-table tfoot,\n.mat-mdc-table thead,\n.mat-mdc-cell,\n.mat-mdc-footer-cell,\n.mat-mdc-header-row,\n.mat-mdc-row,\n.mat-mdc-footer-row,\n.mat-mdc-table .mat-mdc-header-cell {\n    background: inherit;\n}\n</code></pre>\n<h3>Solution</h3>\n<p>To fix this you could apply a CSS selector rule which have a higher priority than the one provided by Angular Material in the <code>app.component.css</code> file of your project example.<br />\nex:</p>\n<pre class=\"lang-css prettyprint-override\"><code>.example-container {\n  display: flex;\n  flex-direction: column;\n  max-height: 500px;\n  min-width: 300px;\n}\n\n.mat-table {\n  overflow: auto;\n  max-height: 500px;\n}\n\n/* this rule got a higher priority than the Angular Material one*/\n.mat-mdc-table .mat-mdc-row:hover,\n.mat-mdc-table .mat-mdc-footer-row:hover .hovered {\n  background: red;\n}\n\n.highlighted {\n  background: green;\n}\n\nmat-cell.mat-cell,\nmat-header-cell.mat-header-cell {\n  overflow: visible;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693813067,"creation_date":1693813067,"answer_id":77035896,"question_id":77035142,"body_markdown":"Using custom styles with angular material components can be really hard sometimes.\r\n\r\nTry using this in your ***.component.ts***:\r\n\r\n    @Component({\r\n      selector: &#39;yourSelector&#39;,\r\n      templateUrl: &#39;./app.component.html&#39;,\r\n      styleUrls: [&#39;./app.component.scss&#39;],\r\n      encapsulation: ViewEncapsulation.None\r\n    })\r\n\r\nAnd then, in your SCSS (or CSS) styles file, you can add this BEFORE any selector and will probably work:\r\n\r\n    :host::ng-deep .mat-list-text {\r\n        padding-right: 0 !important;\r\n    }","title":"Material table row selection/hovering not working in angular app","body":"<p>Using custom styles with angular material components can be really hard sometimes.</p>\n<p>Try using this in your <em><strong>.component.ts</strong></em>:</p>\n<pre><code>@Component({\n  selector: 'yourSelector',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n</code></pre>\n<p>And then, in your SCSS (or CSS) styles file, you can add this BEFORE any selector and will probably work:</p>\n<pre><code>:host::ng-deep .mat-list-text {\n    padding-right: 0 !important;\n}\n</code></pre>\n"}],"owner":{"account_id":22770953,"reputation":233,"user_id":16928404,"display_name":"janci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77035846,"answer_count":2,"score":0,"last_activity_date":1693817718,"creation_date":1693803144,"question_id":77035142,"body_markdown":"I have a very simple project, testing material row selection/hovering. I have put it in Stack Blitz [basic-table-test](https://stackblitz.com/github/rejkid/TestBasicMaterialTable?file=README.md).\r\nMy questions are:\r\n\r\n  1. Hovering mouse over selected table row\r\n    makes the selection to disappear.\r\n\r\nDoes anybody understand where the problems is?\r\n\r\n","title":"Material table row selection/hovering not working in angular app","body":"<p>I have a very simple project, testing material row selection/hovering. I have put it in Stack Blitz <a href=\"https://stackblitz.com/github/rejkid/TestBasicMaterialTable?file=README.md\" rel=\"nofollow noreferrer\">basic-table-test</a>.\nMy questions are:</p>\n<ol>\n<li>Hovering mouse over selected table row\nmakes the selection to disappear.</li>\n</ol>\n<p>Does anybody understand where the problems is?</p>\n"},{"tags":["java","spring","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":53,"creation_date":1377843846,"post_id":18503994,"comment_id":27245047,"body_markdown":"Sorry to say that but neither are best practice ;) while Dhanushs answer is ok, String concatenation for a query is a NOGO! This just asks for an sql injection attack and also you loose performance since the query statement cannot be cached. Take a look at (named)parameters to solve both issues.","body":"Sorry to say that but neither are best practice ;) while Dhanushs answer is ok, String concatenation for a query is a NOGO! This just asks for an sql injection attack and also you loose performance since the query statement cannot be cached. Take a look at (named)parameters to solve both issues."},{"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"score":7,"creation_date":1377846589,"post_id":18503994,"comment_id":27246192,"body_markdown":"@MartinFrey - You are right. String concatenation is not the best practice. My intention was to point out the difference between the two approaches given in the question :)","body":"@MartinFrey - You are right. String concatenation is not the best practice. My intention was to point out the difference between the two approaches given in the question :)"},{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":0,"creation_date":1460197157,"post_id":18503994,"comment_id":60636622,"body_markdown":"I was scratching my head because of this problem. You helped me solve it. Thank you","body":"I was scratching my head because of this problem. You helped me solve it. Thank you"},{"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"score":0,"creation_date":1565576620,"post_id":18503994,"comment_id":101384290,"body_markdown":"If we catch `EmptyResultDataAccessException`, isn&#39;t entire transaction rolled back by Spring? How to get rid of that? For example, lets say we are making running few other queries/updates to db in the same transaction where one of them throws `EmptyResultDataAccessException`.","body":"If we catch <code>EmptyResultDataAccessException</code>, isn&#39;t entire transaction rolled back by Spring? How to get rid of that? For example, lets say we are making running few other queries/updates to db in the same transaction where one of them throws <code>EmptyResultDataAccessException</code>."},{"owner":{"account_id":1145122,"reputation":380,"user_id":1128079,"display_name":"Jan Peter"},"score":1,"creation_date":1589354831,"post_id":18503994,"comment_id":109256901,"body_markdown":"@Munish Chandel - Spring will by default roll back when a RuntimeException occurs. When you catch EmptyResultDataAccessException (which is a RuntimeException) then no RuntimeException occurs, and the transaction will succeed. By the way the OP does not mention transactions...","body":"@Munish Chandel - Spring will by default roll back when a RuntimeException occurs. When you catch EmptyResultDataAccessException (which is a RuntimeException) then no RuntimeException occurs, and the transaction will succeed. By the way the OP does not mention transactions..."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1619721745,"post_id":18503994,"comment_id":118998261,"body_markdown":"queryForObject will throw nullpointerexception if the result is null, so this is not a good practice.","body":"queryForObject will throw nullpointerexception if the result is null, so this is not a good practice."},{"owner":{"account_id":4923650,"reputation":985,"user_id":3965524,"accept_rate":91,"display_name":"JavaTec"},"score":0,"creation_date":1691077725,"post_id":18503994,"comment_id":135445866,"body_markdown":"This is an old question, but might help someone. Please see: https://stackoverflow.com/questions/37686305/spring-jdbc-returning-0-or-1-rows for using the spring method which returns null, instead of throwing exception when no data found. Martin Frey has already mentioned a good point about using namedParameterJdbcTemplate as another best practice","body":"This is an old question, but might help someone. Please see: <a href=\"https://stackoverflow.com/questions/37686305/spring-jdbc-returning-0-or-1-rows\" title=\"spring jdbc returning 0 or 1 rows\">stackoverflow.com/questions/37686305/&hellip;</a> for using the spring method which returns null, instead of throwing exception when no data found. Martin Frey has already mentioned a good point about using namedParameterJdbcTemplate as another best practice"}],"tags":[],"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"comment_count":7,"down_vote_count":5,"up_vote_count":49,"is_accepted":true,"score":44,"last_activity_date":1377758818,"creation_date":1377758818,"answer_id":18503994,"question_id":18503607,"body_markdown":"Definitely the first way is the best practice, because in the second way you are hitting the database twice where you should actually hit it only once. This can cause performance issues.\r\n\r\nWhat you need to do is catch the exception `EmptyResultDataAccessException` and then return null back. Spring JDBC templates throws back an [EmptyResultDataAccessException][1] exception if it doesn&#39;t find the data in the database.\r\n\r\nYour code should look like this. \r\n\r\n    try {\r\n         sql = &quot;SELECT id FROM tableNmae WHERE column_name =&#39;&quot;+ coulmn value+ &quot;&#39;&quot;;\r\n         id= jdbcTemplate.queryForObject(sql, Long.class);\r\n    } \r\n    catch (EmptyResultDataAccessException e) {\r\n       if(log.isDebugEnabled()){\r\n           log.debug(e);\r\n       }\r\n       return null\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>Definitely the first way is the best practice, because in the second way you are hitting the database twice where you should actually hit it only once. This can cause performance issues.</p>\n\n<p>What you need to do is catch the exception <code>EmptyResultDataAccessException</code> and then return null back. Spring JDBC templates throws back an <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html\" rel=\"noreferrer\">EmptyResultDataAccessException</a> exception if it doesn't find the data in the database.</p>\n\n<p>Your code should look like this. </p>\n\n<pre><code>try {\n     sql = \"SELECT id FROM tableNmae WHERE column_name ='\"+ coulmn value+ \"'\";\n     id= jdbcTemplate.queryForObject(sql, Long.class);\n} \ncatch (EmptyResultDataAccessException e) {\n   if(log.isDebugEnabled()){\n       log.debug(e);\n   }\n   return null\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1075377,"reputation":496,"user_id":1073657,"accept_rate":100,"display_name":"Slash"},"score":5,"creation_date":1489017240,"post_id":37390310,"comment_id":72492391,"body_markdown":"I don&#39;t think this would work since empty resultsets don&#39;t have the null value.","body":"I don&#39;t think this would work since empty resultsets don&#39;t have the null value."}],"tags":[],"owner":{"account_id":4738700,"reputation":179,"user_id":3832254,"accept_rate":50,"display_name":"Vikram"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1464006191,"creation_date":1464004432,"answer_id":37390310,"question_id":18503607,"body_markdown":"**Better way to Use ifNull in query** so if there is null then you get 0 \r\nEg.-\r\n\r\n    sql = &quot;SELECT ifNull(id,0) FROM tableName WHERE column_name =&#39;&quot;+ coulmn value+ &quot;&#39;&quot;;\r\n\r\n\r\nUsing this way you can get as default 0 otherwise your Id","title":"Best practice to select data using Spring JdbcTemplate","body":"<p><strong>Better way to Use ifNull in query</strong> so if there is null then you get 0 \nEg.-</p>\n\n<pre><code>sql = \"SELECT ifNull(id,0) FROM tableName WHERE column_name ='\"+ coulmn value+ \"'\";\n</code></pre>\n\n<p>Using this way you can get as default 0 otherwise your Id</p>\n"},{"comments":[{"owner":{"account_id":3612701,"reputation":150,"user_id":3013348,"display_name":"kermit11"},"score":0,"creation_date":1607946927,"post_id":42929719,"comment_id":115422915,"body_markdown":"Wouldn&#39;t calling rs.next() move the cursor forward for a second time after the JDBC template already moved it once, resulting in missing the first row?","body":"Wouldn&#39;t calling rs.next() move the cursor forward for a second time after the JDBC template already moved it once, resulting in missing the first row?"},{"owner":{"account_id":252813,"reputation":2146,"user_id":531111,"accept_rate":55,"display_name":"Ankit"},"score":0,"creation_date":1608009730,"post_id":42929719,"comment_id":115444126,"body_markdown":"Question, was for getting a single row. For multiple rows, we can use the option of rs.hasNext","body":"Question, was for getting a single row. For multiple rows, we can use the option of rs.hasNext"}],"tags":[],"owner":{"account_id":252813,"reputation":2146,"user_id":531111,"accept_rate":55,"display_name":"Ankit"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1490173952,"creation_date":1490105932,"answer_id":42929719,"question_id":18503607,"body_markdown":"I am facing similar scenario and found a cleaner solution when using ResultSetExtractor instead of RowMapper \r\n\r\n    jdbcTemplate.query(DBConstants.GET_VENDOR_DOCUMENT, new Object[]{vendorid}, rs -&gt; {\r\n           \r\n                if(rs.next()){\r\n                    DocumentPojo vendorDoc = new DocumentPojo();\r\n                    vendorDoc.setRegDocument(rs.getString(&quot;registrationdoc&quot;));\r\n                    vendorDoc.setMsmeLetter(rs.getString(&quot;msmeletter&quot;));\r\n                    vendorDoc.setProprietorshipDocument(rs.getString(&quot;propertiershipformat&quot;));\r\n                    vendorDoc.setNeftDocument(rs.getString(&quot;neftdoc&quot;));\r\n                    vendorDoc.setPanCardDocument(rs.getString(&quot;pancard&quot;));\r\n                    vendorDoc.setCancelledChequeDoc(rs.getString(&quot;cheque&quot;));\r\n                    return vendorDoc;\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n           \r\n        });\r\n\r\nIf no result is found from database, I had put a if condition for resultset and return null reference. So, I didn&#39;t need to try catch the code and pass two queries to database. \r\n\r\nMain advantage of ResultSetExtractor (in this scenario) is **with ResultsetExtractor you will need to iterate through the result set yourself, say in while loop.**\r\n\r\nMore Points  can be found here [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10074025/what-is-difference-between-resultsetextractor-vs-rowmapper\r\n\r\n","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>I am facing similar scenario and found a cleaner solution when using ResultSetExtractor instead of RowMapper </p>\n\n<pre><code>jdbcTemplate.query(DBConstants.GET_VENDOR_DOCUMENT, new Object[]{vendorid}, rs -&gt; {\n\n            if(rs.next()){\n                DocumentPojo vendorDoc = new DocumentPojo();\n                vendorDoc.setRegDocument(rs.getString(\"registrationdoc\"));\n                vendorDoc.setMsmeLetter(rs.getString(\"msmeletter\"));\n                vendorDoc.setProprietorshipDocument(rs.getString(\"propertiershipformat\"));\n                vendorDoc.setNeftDocument(rs.getString(\"neftdoc\"));\n                vendorDoc.setPanCardDocument(rs.getString(\"pancard\"));\n                vendorDoc.setCancelledChequeDoc(rs.getString(\"cheque\"));\n                return vendorDoc;\n            }\n            else {\n                return null;\n            }\n\n    });\n</code></pre>\n\n<p>If no result is found from database, I had put a if condition for resultset and return null reference. So, I didn't need to try catch the code and pass two queries to database. </p>\n\n<p>Main advantage of ResultSetExtractor (in this scenario) is <strong>with ResultsetExtractor you will need to iterate through the result set yourself, say in while loop.</strong></p>\n\n<p>More Points  can be found here <a href=\"https://stackoverflow.com/questions/10074025/what-is-difference-between-resultsetextractor-vs-rowmapper\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13982499,"reputation":79,"user_id":10098335,"display_name":"Anton Medvedev"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1531903590,"creation_date":1531903590,"answer_id":51397473,"question_id":18503607,"body_markdown":"This is queryForObject method source code\r\n\r\n    @Nullable\r\n    public &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws \r\n    DataAccessException {\r\n        List&lt;T&gt; results = this.query(sql, rowMapper);\r\n        return DataAccessUtils.nullableSingleResult(results);\r\n    }\r\n\r\nDataAccessUtils.nullableSingleResult\r\n\r\n        @Nullable\r\n    public static &lt;T&gt; T nullableSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\r\n        if (CollectionUtils.isEmpty(results)) {\r\n            throw new EmptyResultDataAccessException(1);\r\n        } else if (results.size() &gt; 1) {\r\n            throw new IncorrectResultSizeDataAccessException(1, results.size());\r\n        } else {\r\n            return results.iterator().next();\r\n        }\r\n    }\r\n\r\ndunno why they throw exception on empty collection, probably this is just a copy-paste from method above\r\n\r\n        public static &lt;T&gt; T requiredSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\r\n        if (CollectionUtils.isEmpty(results)) {\r\n            throw new EmptyResultDataAccessException(1);\r\n        } else if (results.size() &gt; 1) {\r\n            throw new IncorrectResultSizeDataAccessException(1, results.size());\r\n        } else {\r\n            return results.iterator().next();\r\n        }\r\n    }\r\n\r\nOne more step above the method they shoult have used \r\n\r\n        @Nullable\r\n    public static &lt;T&gt; T singleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\r\n        if (CollectionUtils.isEmpty(results)) {\r\n            return null;\r\n        } else if (results.size() &gt; 1) {\r\n            throw new IncorrectResultSizeDataAccessException(1, results.size());\r\n        } else {\r\n            return results.iterator().next();\r\n        }\r\n    }\r\n\r\nNOW SOLUTION helped me:\r\nExtend JdbcTemlate class (you can construct it with DataSource injected)\r\nand overrride the queryForObject method:\r\n\r\n        @Nullable\r\n    public &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws DataAccessException {\r\n        List&lt;T&gt; results = this.query(sql, rowMapper);\r\n        return DataAccessUtils.singleResult(results);\r\n    }\r\n\r\nnow work with your implementation\r\nDon&#39;t forget to check if it works on spring version update (very unlikely IMHO)","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>This is queryForObject method source code</p>\n\n<pre><code>@Nullable\npublic &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws \nDataAccessException {\n    List&lt;T&gt; results = this.query(sql, rowMapper);\n    return DataAccessUtils.nullableSingleResult(results);\n}\n</code></pre>\n\n<p>DataAccessUtils.nullableSingleResult</p>\n\n<pre><code>    @Nullable\npublic static &lt;T&gt; T nullableSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\n    if (CollectionUtils.isEmpty(results)) {\n        throw new EmptyResultDataAccessException(1);\n    } else if (results.size() &gt; 1) {\n        throw new IncorrectResultSizeDataAccessException(1, results.size());\n    } else {\n        return results.iterator().next();\n    }\n}\n</code></pre>\n\n<p>dunno why they throw exception on empty collection, probably this is just a copy-paste from method above</p>\n\n<pre><code>    public static &lt;T&gt; T requiredSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\n    if (CollectionUtils.isEmpty(results)) {\n        throw new EmptyResultDataAccessException(1);\n    } else if (results.size() &gt; 1) {\n        throw new IncorrectResultSizeDataAccessException(1, results.size());\n    } else {\n        return results.iterator().next();\n    }\n}\n</code></pre>\n\n<p>One more step above the method they shoult have used </p>\n\n<pre><code>    @Nullable\npublic static &lt;T&gt; T singleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\n    if (CollectionUtils.isEmpty(results)) {\n        return null;\n    } else if (results.size() &gt; 1) {\n        throw new IncorrectResultSizeDataAccessException(1, results.size());\n    } else {\n        return results.iterator().next();\n    }\n}\n</code></pre>\n\n<p>NOW SOLUTION helped me:\nExtend JdbcTemlate class (you can construct it with DataSource injected)\nand overrride the queryForObject method:</p>\n\n<pre><code>    @Nullable\npublic &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws DataAccessException {\n    List&lt;T&gt; results = this.query(sql, rowMapper);\n    return DataAccessUtils.singleResult(results);\n}\n</code></pre>\n\n<p>now work with your implementation\nDon't forget to check if it works on spring version update (very unlikely IMHO)</p>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681289375,"creation_date":1681201813,"answer_id":75983870,"question_id":18503607,"body_markdown":"The best way to get row from a table by condition in case there might be no data in this table - use ```query``` with ```ResultSetExtractor```\r\n\r\n```kotlin\r\n     fun findDailyReport(date: LocalDate): String? {\r\n        val sql = &quot;&quot;&quot;select * from reports_table where report_date = :date&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt;\r\n            if (rs.next()) {\r\n                rs.getString(&quot;report&quot;)\r\n            } else {\r\n                log.warn(&quot;There is no daily report for the date: $date&quot;)\r\n                null\r\n            }\r\n        })\r\n    }\r\n```\r\n\r\nIf you need to check if a row exists in a table, here is a good solution.\r\nIn this case, all records in the table are unique:\r\n```kotlin\r\n        fun checkReportExists(date: LocalDate): Boolean {\r\n        val sql = &quot;&quot;&quot;select 1 from reports_table where report_date = :date&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt; rs.next() })!!\r\n    }\r\n```\r\nSecond solution:\r\n```kotlin\r\n        fun checkReportExists(date: LocalDate): Boolean {\r\n        val sql = &quot;&quot;&quot;select count(1) from reports_table where report_date = :date&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.queryForObject(sql, map, Int::class.java)!! &gt; 0\r\n```\r\nLast one solution:\r\n```kotlin\r\n        fun checkReportExists(date: LocalDate): Boolean {\r\n        val sql = &quot;&quot;&quot;select exists(select 1 from reports_table where report_date = :date)&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.queryForObject(sql, map, Boolean::class.java)!!\r\n```\r\nP.S. Last solution is the [fastest](https://stackoverflow.com/a/16467634/19659058) for checking if row exists.","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>The best way to get row from a table by condition in case there might be no data in this table - use <code>query</code> with <code>ResultSetExtractor</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>     fun findDailyReport(date: LocalDate): String? {\n        val sql = &quot;&quot;&quot;select * from reports_table where report_date = :date&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt;\n            if (rs.next()) {\n                rs.getString(&quot;report&quot;)\n            } else {\n                log.warn(&quot;There is no daily report for the date: $date&quot;)\n                null\n            }\n        })\n    }\n</code></pre>\n<p>If you need to check if a row exists in a table, here is a good solution.\nIn this case, all records in the table are unique:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        fun checkReportExists(date: LocalDate): Boolean {\n        val sql = &quot;&quot;&quot;select 1 from reports_table where report_date = :date&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt; rs.next() })!!\n    }\n</code></pre>\n<p>Second solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        fun checkReportExists(date: LocalDate): Boolean {\n        val sql = &quot;&quot;&quot;select count(1) from reports_table where report_date = :date&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.queryForObject(sql, map, Int::class.java)!! &gt; 0\n</code></pre>\n<p>Last one solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        fun checkReportExists(date: LocalDate): Boolean {\n        val sql = &quot;&quot;&quot;select exists(select 1 from reports_table where report_date = :date)&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.queryForObject(sql, map, Boolean::class.java)!!\n</code></pre>\n<p>P.S. Last solution is the <a href=\"https://stackoverflow.com/a/16467634/19659058\">fastest</a> for checking if row exists.</p>\n"},{"tags":[],"owner":{"account_id":5198383,"reputation":431,"user_id":4158745,"display_name":"hiimjames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693817710,"creation_date":1693817710,"answer_id":77036355,"question_id":18503607,"body_markdown":"You need to catch `EmptyResultDataAccessException`. If you do not want to catch exception all the time and work with null, you can create own function, it can be public static of course and it can return Optional if you prefer.\r\n\r\n    private &lt;T&gt; T getNullableResult(Supplier&lt;T&gt; supplier) {\r\n        try {\r\n            return supplier.get();\r\n        } catch (EmptyResultDataAccessException ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nThen use the function:\r\n\r\n    String result = getNullableResult(() -&gt; jdbcTemplate.query(&quot;SELECT x FROM y WHERE z = 0&quot;, String.class));","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>You need to catch <code>EmptyResultDataAccessException</code>. If you do not want to catch exception all the time and work with null, you can create own function, it can be public static of course and it can return Optional if you prefer.</p>\n<pre><code>private &lt;T&gt; T getNullableResult(Supplier&lt;T&gt; supplier) {\n    try {\n        return supplier.get();\n    } catch (EmptyResultDataAccessException ex) {\n        return null;\n    }\n}\n</code></pre>\n<p>Then use the function:</p>\n<pre><code>String result = getNullableResult(() -&gt; jdbcTemplate.query(&quot;SELECT x FROM y WHERE z = 0&quot;, String.class));\n</code></pre>\n"}],"owner":{"account_id":2678585,"reputation":522,"user_id":2314379,"display_name":"Annamalai Thangaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127957,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":18503994,"answer_count":6,"score":39,"last_activity_date":1693817710,"creation_date":1377757294,"question_id":18503607,"body_markdown":"I want to know what is the best practice to select records from a table. I mentioned two methods below from that I want to know which one is best practice to select the data from a table using Spring [JdbcTemplate](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html).\r\n\r\n## First example\r\n\r\n    try {\r\n        String sql = &quot;SELECT id FROM tableName WHERE column_name = &#39;&quot; + coulmn value + &quot;&#39;&quot;;\r\n    \t\r\n        long id = jdbcTemplate.queryForObject(sql, Long.class);\r\n    } catch (Exception e) {\r\n        if (log.isDebugEnabled()) {\r\n            log.debug(e);\r\n        }\r\n    }\r\n\r\nThis throws the following exception:\r\n\r\n&gt; Expected 1 actual 0 like\r\n\r\nwhen table doesn&#39;t contain any data. My friend told this is not the best practice to select the data. He suggested that the below mentioned code is the only best practice to select data.\r\n\r\n## Second example\r\n\r\n    try {\r\n        String countQuery = &quot;SELECT COUNT(id) FROM tableName&quot;;\r\n    \t\r\n        int count = jdbcTemplate.queryForInt(countQuery);\r\n        if (count &gt; 0) {\r\n            String sql = &quot;SELECT id FROM tableName WHERE column_name = &#39;&quot; + coulmn value + &quot;&#39;&quot;;\r\n    \t\t\r\n            long id = jdbcTemplate.queryForObject(sql, Long.class);\r\n        }\r\n    } catch (Exception e) {\r\n        if (log.isDebugEnabled()) {\r\n            log.debug(e);\r\n        }\r\n    }\r\n\r\n&lt;br&gt;\r\nI&#39;m eager to know the right one or any other best practice.\r\n","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>I want to know what is the best practice to select records from a table. I mentioned two methods below from that I want to know which one is best practice to select the data from a table using Spring <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\">JdbcTemplate</a>.</p>\n\n<h2>First example</h2>\n\n<pre><code>try {\n    String sql = \"SELECT id FROM tableName WHERE column_name = '\" + coulmn value + \"'\";\n\n    long id = jdbcTemplate.queryForObject(sql, Long.class);\n} catch (Exception e) {\n    if (log.isDebugEnabled()) {\n        log.debug(e);\n    }\n}\n</code></pre>\n\n<p>This throws the following exception:</p>\n\n<blockquote>\n  <p>Expected 1 actual 0 like</p>\n</blockquote>\n\n<p>when table doesn't contain any data. My friend told this is not the best practice to select the data. He suggested that the below mentioned code is the only best practice to select data.</p>\n\n<h2>Second example</h2>\n\n<pre><code>try {\n    String countQuery = \"SELECT COUNT(id) FROM tableName\";\n\n    int count = jdbcTemplate.queryForInt(countQuery);\n    if (count &gt; 0) {\n        String sql = \"SELECT id FROM tableName WHERE column_name = '\" + coulmn value + \"'\";\n\n        long id = jdbcTemplate.queryForObject(sql, Long.class);\n    }\n} catch (Exception e) {\n    if (log.isDebugEnabled()) {\n        log.debug(e);\n    }\n}\n</code></pre>\n\n<p><br>\nI'm eager to know the right one or any other best practice.</p>\n"},{"tags":["java","android","websocket","okhttp","ping"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1693821545,"post_id":77036045,"comment_id":135806209,"body_markdown":"okhttp does not seem keen on exposing the ping/pong events. Some users have asked for it. See: https://github.com/square/okhttp/issues/7370 . I think the idea is that you just worry about sending/receiving messages. Any errors in connection can be handled in the error handling methods in WebSocketListener. For your use case, your best bet for now is probably to implement application-level pings","body":"okhttp does not seem keen on exposing the ping/pong events. Some users have asked for it. See: <a href=\"https://github.com/square/okhttp/issues/7370\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/7370</a> . I think the idea is that you just worry about sending/receiving messages. Any errors in connection can be handled in the error handling methods in WebSocketListener. For your use case, your best bet for now is probably to implement application-level pings"}],"owner":{"account_id":29072917,"reputation":1,"user_id":22270776,"display_name":"DenverCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693816990,"creation_date":1693814509,"question_id":77036045,"body_markdown":"I&#39;m working on an Android project implementing websocket functionality.  I want to use Ping/Pong for connectivity checks and be able to log and provide internal feedback when a ping is received.\r\n\r\nLooking through the documentation, I haven&#39;t been able to find how Ping/Pong is handled with OKHTTP3.  All I&#39;ve found is that I can set a PingInterval.\r\n\r\nLet&#39;s say there is a connectivity problem and server sends out a ping and client doesn&#39;t receive it, or vice versa a ping is sent out to server and server doesn&#39;t receive it, how are these events handled?\r\n\r\nHow are Ping/Pong events handled in Android - Java - using okhttp3 WebSocketListener? And how can we customize the handling of those events?\r\n\r\nI&#39;ve scoured the web and asked ChatGPT, looked through javadocs. I did not find a description of event handling, all I found was one other question here on Stack Overflow, that okhttp3 handles ping/pong internally. That doesn&#39;t gives me much to work with.","title":"Websocket with okhttp3 - how to handle onPong - onPong() method not found","body":"<p>I'm working on an Android project implementing websocket functionality.  I want to use Ping/Pong for connectivity checks and be able to log and provide internal feedback when a ping is received.</p>\n<p>Looking through the documentation, I haven't been able to find how Ping/Pong is handled with OKHTTP3.  All I've found is that I can set a PingInterval.</p>\n<p>Let's say there is a connectivity problem and server sends out a ping and client doesn't receive it, or vice versa a ping is sent out to server and server doesn't receive it, how are these events handled?</p>\n<p>How are Ping/Pong events handled in Android - Java - using okhttp3 WebSocketListener? And how can we customize the handling of those events?</p>\n<p>I've scoured the web and asked ChatGPT, looked through javadocs. I did not find a description of event handling, all I found was one other question here on Stack Overflow, that okhttp3 handles ping/pong internally. That doesn't gives me much to work with.</p>\n"},{"tags":["java","godot"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693815672,"post_id":77036114,"comment_id":135805208,"body_markdown":"Instead of Waiting for Godot, you&#39;re Polling for Godot ;)","body":"Instead of Waiting for Godot, you&#39;re Polling for Godot ;)"}],"owner":{"account_id":29361538,"reputation":1,"user_id":22496161,"display_name":"Chalaka Dilshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693815281,"creation_date":1693815281,"question_id":77036114,"body_markdown":"I created a Pollfish Plugin for Godot.But the signal is not emitted there.\r\n\r\nShowing the Pollfish Offerwall. But even if the Pollfish Offerwall is closed, the signal here will not be emitted.\r\n\r\nAnd there is nothing wrong with my Gdscript code. I previously created a Unity ads plugin but it worked fine. This just doesn&#39;t work. Someone help with this. thank you.\r\n```\r\npublic class PollfishPlugin extends GodotPlugin implements PollfishClosedListener{\r\n\r\n    private Activity activity;\r\n    private FrameLayout layout = null;\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onMainCreate(Activity activity) {\r\n        this.activity = getActivity();\r\n        layout = new FrameLayout(activity);\r\n        return layout;\r\n    }\r\n\r\n    public PollfishPlugin(Godot godot) {\r\n        super(godot);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String getPluginName() {\r\n        return &quot;PollfishPlugin&quot;;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Set&lt;SignalInfo&gt; getPluginSignals() {\r\n        Set&lt;SignalInfo&gt; signals = new ArraySet&lt;&gt;();\r\n        signals.add(new SignalInfo(&quot;onPollfishClosed&quot;));\r\n        return signals;\r\n    }\r\n\r\n    @UsedByGodot\r\n    public void init(){\r\n        initPollfish();\r\n    }\r\n\r\n    private void initPollfish(){\r\n\r\n        Params params = new Params.Builder(&quot;180b54b9-1353-4656-b5f2-e1d0aad2fa61&quot;)\r\n                .rewardMode(true)\r\n                .offerwallMode(true)\r\n                .build();\r\n\r\n        Pollfish.initWith(activity, params);\r\n    }\r\n\r\n    @UsedByGodot\r\n    public void showPollfish(){\r\n        Pollfish.show();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onPollfishClosed() {\r\n        emitSignal(&quot;onPollfishClosed&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Why is the signal not emitted in this code?","body":"<p>I created a Pollfish Plugin for Godot.But the signal is not emitted there.</p>\n<p>Showing the Pollfish Offerwall. But even if the Pollfish Offerwall is closed, the signal here will not be emitted.</p>\n<p>And there is nothing wrong with my Gdscript code. I previously created a Unity ads plugin but it worked fine. This just doesn't work. Someone help with this. thank you.</p>\n<pre><code>public class PollfishPlugin extends GodotPlugin implements PollfishClosedListener{\n\n    private Activity activity;\n    private FrameLayout layout = null;\n\n\n    @Nullable\n    @Override\n    public View onMainCreate(Activity activity) {\n        this.activity = getActivity();\n        layout = new FrameLayout(activity);\n        return layout;\n    }\n\n    public PollfishPlugin(Godot godot) {\n        super(godot);\n    }\n\n    @NonNull\n    @Override\n    public String getPluginName() {\n        return &quot;PollfishPlugin&quot;;\n    }\n\n    @NonNull\n    @Override\n    public Set&lt;SignalInfo&gt; getPluginSignals() {\n        Set&lt;SignalInfo&gt; signals = new ArraySet&lt;&gt;();\n        signals.add(new SignalInfo(&quot;onPollfishClosed&quot;));\n        return signals;\n    }\n\n    @UsedByGodot\n    public void init(){\n        initPollfish();\n    }\n\n    private void initPollfish(){\n\n        Params params = new Params.Builder(&quot;180b54b9-1353-4656-b5f2-e1d0aad2fa61&quot;)\n                .rewardMode(true)\n                .offerwallMode(true)\n                .build();\n\n        Pollfish.initWith(activity, params);\n    }\n\n    @UsedByGodot\n    public void showPollfish(){\n        Pollfish.show();\n    }\n\n\n    @Override\n    public void onPollfishClosed() {\n        emitSignal(&quot;onPollfishClosed&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","css","button","vaadin"],"comments":[{"owner":{"account_id":1680938,"reputation":1506,"user_id":1545183,"display_name":"Rene Herget"},"score":0,"creation_date":1376730141,"post_id":18284016,"comment_id":26828057,"body_markdown":"What vaadin version you are useing? Your code is working perfect in my  Vaadin application with the version 7.1.1. Can it be that you are useing the old 6.x version of vaadin?","body":"What vaadin version you are useing? Your code is working perfect in my  Vaadin application with the version 7.1.1. Can it be that you are useing the old 6.x version of vaadin?"},{"owner":{"account_id":2680909,"reputation":475,"user_id":2448259,"accept_rate":35,"display_name":"T. Rossi"},"score":0,"creation_date":1376739366,"post_id":18284016,"comment_id":26830213,"body_markdown":"Yes, I am using 6.8.12 ..arrr, don&#39;t tell me the only way is to migrate","body":"Yes, I am using 6.8.12 ..arrr, don&#39;t tell me the only way is to migrate"},{"owner":{"account_id":1680938,"reputation":1506,"user_id":1545183,"display_name":"Rene Herget"},"score":0,"creation_date":1376749667,"post_id":18284016,"comment_id":26832882,"body_markdown":"Ah no, it works also with Vaadin 6.x. I tested it. See my answer for the solution.","body":"Ah no, it works also with Vaadin 6.x. I tested it. See my answer for the solution."}],"answers":[{"tags":[],"owner":{"account_id":472104,"reputation":2157,"user_id":880372,"accept_rate":50,"display_name":"AdityaSaxena"},"comment_count":0,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1376705777,"creation_date":1376705777,"answer_id":18284458,"question_id":18284016,"body_markdown":"Simple example doing it with pure javascript: [DEMO][1]\r\n\r\nHTML:\r\n\r\n    &lt;button id=&quot;toggleButton&quot;&gt;\r\n        Toggle Class\r\n    &lt;/button&gt;\r\n\r\nCSS:\r\n\r\n    button{\r\n        font-size:10px;\r\n    }\r\n    \r\n    .active{\r\n        font-size:15px;\r\n    }\r\n\r\nJS:\r\n\r\n    var btn = document.getElementById(&#39;toggleButton&#39;);\r\n    btn.addEventListener(&#39;click&#39;, function(event){\r\n        if(this.classList.contains(&#39;active&#39;)){\r\n            this.classList.remove(&#39;active&#39;);\r\n        }\r\n        else{\r\n            this.classList.add(&#39;active&#39;);\r\n        }\r\n    });\r\n\r\n\r\n\r\n  [1]: http://jsfiddle.net/KxeUQ/","title":"Vaadin change button style after click","body":"<p>Simple example doing it with pure javascript: <a href=\"http://jsfiddle.net/KxeUQ/\" rel=\"nofollow\">DEMO</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button id=\"toggleButton\"&gt;\n    Toggle Class\n&lt;/button&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>button{\n    font-size:10px;\n}\n\n.active{\n    font-size:15px;\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>var btn = document.getElementById('toggleButton');\nbtn.addEventListener('click', function(event){\n    if(this.classList.contains('active')){\n        this.classList.remove('active');\n    }\n    else{\n        this.classList.add('active');\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2680909,"reputation":475,"user_id":2448259,"accept_rate":35,"display_name":"T. Rossi"},"score":0,"creation_date":1376852121,"post_id":18289642,"comment_id":26855170,"body_markdown":"I see, I tried but the behavior I see doesn&#39;t change, the class name is added and removed but it&#39;s like the browser doesn&#39;t load the new style. I&#39;ll edit the question and specify better what&#39;s happening, thanks!","body":"I see, I tried but the behavior I see doesn&#39;t change, the class name is added and removed but it&#39;s like the browser doesn&#39;t load the new style. I&#39;ll edit the question and specify better what&#39;s happening, thanks!"}],"tags":[],"owner":{"account_id":1680938,"reputation":1506,"user_id":1545183,"display_name":"Rene Herget"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376749573,"creation_date":1376748081,"answer_id":18289642,"question_id":18284016,"body_markdown":"The problem on your code is, that you check and change the stylename from your Button &quot;b&quot; and not from Button &quot;my_special_button&quot;. It have to look like this:\r\n\r\n    @Override\r\n    public void buttonClick(ClickEvent event) {\r\n        Button b = event.getButton();\r\n    \r\n        if (b == my_special_button){            \r\n            if(!my_special_button.getStyleName().contains(&quot;x&quot;)){\r\n                my_special_button.addStyleName(&quot;x&quot;);                \r\n            } else {\r\n                my_special_button.removeStyleName(&quot;x&quot;);\r\n            }       \r\n        }\r\n    }","title":"Vaadin change button style after click","body":"<p>The problem on your code is, that you check and change the stylename from your Button \"b\" and not from Button \"my_special_button\". It have to look like this:</p>\n\n<pre><code>@Override\npublic void buttonClick(ClickEvent event) {\n    Button b = event.getButton();\n\n    if (b == my_special_button){            \n        if(!my_special_button.getStyleName().contains(\"x\")){\n            my_special_button.addStyleName(\"x\");                \n        } else {\n            my_special_button.removeStyleName(\"x\");\n        }       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2680909,"reputation":475,"user_id":2448259,"accept_rate":35,"display_name":"T. Rossi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693814876,"creation_date":1376700380,"question_id":18284016,"body_markdown":"EDIT: pardon if it was not clear, I need a &quot;Vaadin&quot; solution\r\n\r\napparently this should be very intuitive but I can&#39;t manage to make it work, when a button is clicked I should change its style, if clicked again, return the style back to what it was. My guess would be:\r\n\r\n\t@Override\r\n\tpublic void buttonClick(ClickEvent event) {\r\n\t\tButton b = event.getButton();\r\n\t\t\r\n\t\tif (b == my_special_button){\t\t\t\r\n\t\t\tif(!b.getStyleName().contains(&quot;x&quot;)){\r\n\t\t\t\tb.addStyleName(&quot;x&quot;);\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tb.removeStyleName(&quot;x&quot;);\r\n\t\t\t}\t\t\r\n\t\t}\r\n    }\r\n\r\nwhen using chrome inspector I see the active class added, but the button disappears. If I click on the position where the button was, I see the &quot;active&quot; class removed (and added if clicking again..). The button re-appears only when I click outside the area were the button was.\r\n\r\nCould you provide some insight?\r\n\r\nEDIT: I correct the example code here as suggested (in my class it was already as suggested, I didn&#39;t knew it made a difference though, so thanks!)\r\n\r\nAs the page loads the button has this class:\r\n\r\n    v-button v-button-thumbs-up-button thumbs-up-button\r\n\r\nwhen I click, with chrome inspector I can see that the class active is added:\r\n\r\n    v-button v-button-thumbs-up-button thumbs-up-button v-button-active active\r\n\r\nif I click again, it&#39;s removed. So apparently the onclick code is executed correctly.\r\n\r\nThere are two problems: \r\n\r\n 1. the &quot;active&quot; style is not applied to the button, the button disappears!\r\n 2. if I click outside the button, the button re-appears but style goes back to the non-active one. The non active style works fine, so the css is loaded by the page.\r\n\r\nFor further reference this is the css I&#39;m using:\r\n\r\n    .thumbs-up-button{\r\n\tbackground-image: url(&quot;../covercliptheme/img/thumbs_up_1x.png&quot;);\r\n\tbackground-position: left top;\t\r\n    }\r\n    \r\n    .thumbs-up-button .v-button-active .active{\t\r\n\tbackground-image: url(&quot;../covercliptheme/img/thumbs_up_1x_green.png&quot;);\r\n\tbackground-position: left top;\r\n    }\r\n    \r\n\r\n\r\nI&#39;ve found workaround with styling :active and :focus too. It is working, but there is no real reason why it should. It should work as I intended originally I think, by adding a class, the button is rendered with that style, removing the class, style goes back to original style.\r\n\r\nI think the problem is in the way I&#39;ve build the page with the components rather than in the onClick action itself.. I&#39;m super curious to find out what is going wrong:) The button is part of a component, which is part of other components, in particular the component with the button is represented by the following class:\r\n\r\n    public class CVRow extends CustomComponent implements Button.ClickListener{\r\n\t\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout mainLayout;\r\n\t@AutoGenerated\r\n\tprivate HorizontalLayout horizontalLayout_1;\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout absoluteLayout_2;\r\n\t@AutoGenerated\r\n\tprivate Button nativeButton_2;\r\n\t@AutoGenerated\r\n\tprivate Button nativeButton_1;\r\n\r\n\t/**\r\n\t * The constructor \r\n\t */\r\n\tpublic CVRow() {\r\n\t\tbuildMainLayout();\r\n\t\tsetCompositionRoot(mainLayout);\r\n\r\n\t\t\r\n\t\tnativeButton_1.addListener(this);\r\n\t\t// TODO add user code here\r\n\t}\r\n\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout buildMainLayout() {\r\n\t\t/* some layout code.. */\r\n\t\t\r\n\t\t// add horizontalLayout_1\r\n\t\thorizontalLayout_1 = buildHorizontalLayout_1();\r\n\t\tmainLayout.addComponent(horizontalLayout_1, &quot;top:0.0px;left:0.0px;&quot;);\r\n\t\t\r\n\t\treturn mainLayout;\r\n\t}\r\n\r\n\t@AutoGenerated\r\n\tprivate HorizontalLayout buildHorizontalLayout_1() {\r\n\t\t// some layout code... //\r\n\t\t\r\n\t\t\r\n\t\t// add absoluteLayout_2 &lt;-- buttons will be here\r\n\t\tabsoluteLayout_2 = buildAbsoluteLayout_2();\r\n\t\thorizontalLayout_1.addComponent(absoluteLayout_2);\r\n\t\t\r\n\t\treturn horizontalLayout_1;\r\n\t}\r\n\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout buildAbsoluteLayout_2() {\r\n\t\t// common part: create layout\r\n\t\tabsoluteLayout_2 = new AbsoluteLayout();\r\n\t\tabsoluteLayout_2.setImmediate(false);\r\n\t\tabsoluteLayout_2.setWidth(&quot;60px&quot;);\r\n\t\tabsoluteLayout_2.setHeight(&quot;60px&quot;);\r\n\t\tabsoluteLayout_2.setMargin(false);\r\n\t\t\r\n                //BUTTONS are here:\r\n\t\t// nativeButton_1\r\n\t\tnativeButton_1 = new Button();\r\n\t\tnativeButton_1.setImmediate(true);\r\n\t\tnativeButton_1.setWidth(&quot;20px&quot;);\r\n\t\tnativeButton_1.setHeight(&quot;20px&quot;);\r\n\t\tnativeButton_1.setStyleName(&quot;thumbs-up-button&quot;);\r\n\t\tabsoluteLayout_2.addComponent(nativeButton_1, &quot;top:41.0px;left:0.0px;&quot;);\r\n\t\t\r\n\t\t// nativeButton_2\r\n\t\tnativeButton_2 = new Button();\r\n\t\tnativeButton_2.setStyleName(&quot;thumbs-down-button&quot;);\r\n\t\tnativeButton_2.setImmediate(true);\r\n\t\tnativeButton_2.setWidth(&quot;20px&quot;);\r\n\t\tnativeButton_2.setHeight(&quot;20px&quot;);\r\n\t\tabsoluteLayout_2.addComponent(nativeButton_2, &quot;top:41.0px;left:40.0px;&quot;);\r\n\t\t\r\n\t\treturn absoluteLayout_2;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void buttonClick(ClickEvent event) {\r\n\t\tButton b = event.getButton();\r\n\t\t\r\n\t\tif (b == nativeButton_1){\r\n\t\t\t\r\n\t\t\tif(nativeButton_1.getStyleName().contains(&quot;active&quot;))\r\n\t\t\t\tnativeButton_1.removeStyleName(&quot;active&quot;);\r\n\t\t\telse\r\n\t\t\t\tnativeButton_1.addStyleName(&quot;active&quot;);\r\n\t\t}\r\n                \r\n                //etc...\r\n\t\t\r\n\t}\r\n\r\n    }\r\n","title":"Vaadin change button style after click","body":"<p>EDIT: pardon if it was not clear, I need a \"Vaadin\" solution</p>\n\n<p>apparently this should be very intuitive but I can't manage to make it work, when a button is clicked I should change its style, if clicked again, return the style back to what it was. My guess would be:</p>\n\n<pre><code>@Override\npublic void buttonClick(ClickEvent event) {\n    Button b = event.getButton();\n\n    if (b == my_special_button){            \n        if(!b.getStyleName().contains(\"x\")){\n            b.addStyleName(\"x\");                \n        } else {\n            b.removeStyleName(\"x\");\n        }       \n    }\n}\n</code></pre>\n\n<p>when using chrome inspector I see the active class added, but the button disappears. If I click on the position where the button was, I see the \"active\" class removed (and added if clicking again..). The button re-appears only when I click outside the area were the button was.</p>\n\n<p>Could you provide some insight?</p>\n\n<p>EDIT: I correct the example code here as suggested (in my class it was already as suggested, I didn't knew it made a difference though, so thanks!)</p>\n\n<p>As the page loads the button has this class:</p>\n\n<pre><code>v-button v-button-thumbs-up-button thumbs-up-button\n</code></pre>\n\n<p>when I click, with chrome inspector I can see that the class active is added:</p>\n\n<pre><code>v-button v-button-thumbs-up-button thumbs-up-button v-button-active active\n</code></pre>\n\n<p>if I click again, it's removed. So apparently the onclick code is executed correctly.</p>\n\n<p>There are two problems: </p>\n\n<ol>\n<li>the \"active\" style is not applied to the button, the button disappears!</li>\n<li>if I click outside the button, the button re-appears but style goes back to the non-active one. The non active style works fine, so the css is loaded by the page.</li>\n</ol>\n\n<p>For further reference this is the css I'm using:</p>\n\n<pre><code>.thumbs-up-button{\nbackground-image: url(\"../covercliptheme/img/thumbs_up_1x.png\");\nbackground-position: left top;  \n}\n\n.thumbs-up-button .v-button-active .active{ \nbackground-image: url(\"../covercliptheme/img/thumbs_up_1x_green.png\");\nbackground-position: left top;\n}\n</code></pre>\n\n<p>I've found workaround with styling :active and :focus too. It is working, but there is no real reason why it should. It should work as I intended originally I think, by adding a class, the button is rendered with that style, removing the class, style goes back to original style.</p>\n\n<p>I think the problem is in the way I've build the page with the components rather than in the onClick action itself.. I'm super curious to find out what is going wrong:) The button is part of a component, which is part of other components, in particular the component with the button is represented by the following class:</p>\n\n<pre><code>public class CVRow extends CustomComponent implements Button.ClickListener{\n\n@AutoGenerated\nprivate AbsoluteLayout mainLayout;\n@AutoGenerated\nprivate HorizontalLayout horizontalLayout_1;\n@AutoGenerated\nprivate AbsoluteLayout absoluteLayout_2;\n@AutoGenerated\nprivate Button nativeButton_2;\n@AutoGenerated\nprivate Button nativeButton_1;\n\n/**\n * The constructor \n */\npublic CVRow() {\n    buildMainLayout();\n    setCompositionRoot(mainLayout);\n\n\n    nativeButton_1.addListener(this);\n    // TODO add user code here\n}\n\n@AutoGenerated\nprivate AbsoluteLayout buildMainLayout() {\n    /* some layout code.. */\n\n    // add horizontalLayout_1\n    horizontalLayout_1 = buildHorizontalLayout_1();\n    mainLayout.addComponent(horizontalLayout_1, \"top:0.0px;left:0.0px;\");\n\n    return mainLayout;\n}\n\n@AutoGenerated\nprivate HorizontalLayout buildHorizontalLayout_1() {\n    // some layout code... //\n\n\n    // add absoluteLayout_2 &lt;-- buttons will be here\n    absoluteLayout_2 = buildAbsoluteLayout_2();\n    horizontalLayout_1.addComponent(absoluteLayout_2);\n\n    return horizontalLayout_1;\n}\n\n@AutoGenerated\nprivate AbsoluteLayout buildAbsoluteLayout_2() {\n    // common part: create layout\n    absoluteLayout_2 = new AbsoluteLayout();\n    absoluteLayout_2.setImmediate(false);\n    absoluteLayout_2.setWidth(\"60px\");\n    absoluteLayout_2.setHeight(\"60px\");\n    absoluteLayout_2.setMargin(false);\n\n            //BUTTONS are here:\n    // nativeButton_1\n    nativeButton_1 = new Button();\n    nativeButton_1.setImmediate(true);\n    nativeButton_1.setWidth(\"20px\");\n    nativeButton_1.setHeight(\"20px\");\n    nativeButton_1.setStyleName(\"thumbs-up-button\");\n    absoluteLayout_2.addComponent(nativeButton_1, \"top:41.0px;left:0.0px;\");\n\n    // nativeButton_2\n    nativeButton_2 = new Button();\n    nativeButton_2.setStyleName(\"thumbs-down-button\");\n    nativeButton_2.setImmediate(true);\n    nativeButton_2.setWidth(\"20px\");\n    nativeButton_2.setHeight(\"20px\");\n    absoluteLayout_2.addComponent(nativeButton_2, \"top:41.0px;left:40.0px;\");\n\n    return absoluteLayout_2;\n}\n\n@Override\npublic void buttonClick(ClickEvent event) {\n    Button b = event.getButton();\n\n    if (b == nativeButton_1){\n\n        if(nativeButton_1.getStyleName().contains(\"active\"))\n            nativeButton_1.removeStyleName(\"active\");\n        else\n            nativeButton_1.addStyleName(\"active\");\n    }\n\n            //etc...\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","jpa"],"answers":[{"comments":[{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":0,"creation_date":1415286929,"post_id":2874788,"comment_id":42142798,"body_markdown":"Hi @Pascal I am trying to use constructor expressions with a non-entity constructor. My SQL looks like this: `SELECT NEW com.company.ui.EntityIDKey(c.companyId, c.name) FROM Company c WHERE c.companyId is not null and c.name is not null and length(trim(c.name)) &gt; 0 order by c.name asc` and my JPA code: `List&lt;EntityIDKey&gt; companies = getEntityManager().createQuery(sql).getResultList();` but I end up with a type safety warning. How do I avoid this?","body":"Hi @Pascal I am trying to use constructor expressions with a non-entity constructor. My SQL looks like this: <code>SELECT NEW com.company.ui.EntityIDKey(c.companyId, c.name) FROM Company c WHERE c.companyId is not null and c.name is not null and length(trim(c.name)) &gt; 0 order by c.name asc</code> and my JPA code: <code>List&lt;EntityIDKey&gt; companies = getEntityManager().createQuery(sql).getResultList();</code> but I end up with a type safety warning. How do I avoid this?"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1274366510,"creation_date":1274366510,"answer_id":2874788,"question_id":2873902,"body_markdown":"&gt; Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?\r\n\r\nNo. Native queries can return entities **only** (if you tell them to do so by passing the `resultClass` or a `resultSetMapping` to the [`createNativeQuery`][1] method; if you don&#39;t, you will get collections of raw data).\r\n\r\nIn JPQL, you can use constructor expressions (SELECT NEW...) whith a non-entity constructor. But this is not supported for native queries, you&#39;ll have to do it manually. \r\n\r\n\r\n  [1]: http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#createNativeQuery%28java.lang.String,%20java.lang.Class%29\r\n  [2]: http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#createNativeQuery%28java.lang.String,%20java.lang.Class%29","title":"Select non-entities with JPA?","body":"<blockquote>\n  <p>Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?</p>\n</blockquote>\n\n<p>No. Native queries can return entities <strong>only</strong> (if you tell them to do so by passing the <code>resultClass</code> or a <code>resultSetMapping</code> to the <a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#createNativeQuery%28java.lang.String,%20java.lang.Class%29\" rel=\"noreferrer\"><code>createNativeQuery</code></a> method; if you don't, you will get collections of raw data).</p>\n\n<p>In JPQL, you can use constructor expressions (SELECT NEW...) whith a non-entity constructor. But this is not supported for native queries, you'll have to do it manually. </p>\n"},{"comments":[{"owner":{"account_id":1710413,"reputation":1635,"user_id":1568605,"accept_rate":28,"display_name":"Łukasz Woźniczka"},"score":1,"creation_date":1365937950,"post_id":13833547,"comment_id":22812310,"body_markdown":"But Redfield ask to using operator NEW in native query ! not jpa query. So its possible to using that query as createNativeQuery","body":"But Redfield ask to using operator NEW in native query ! not jpa query. So its possible to using that query as createNativeQuery"},{"owner":{"account_id":3177217,"reputation":6776,"user_id":2684760,"accept_rate":90,"display_name":"ForNeVeR"},"score":0,"creation_date":1481199402,"post_id":13833547,"comment_id":69285806,"body_markdown":"Thank you, but that&#39;s not the answer for native query.","body":"Thank you, but that&#39;s not the answer for native query."}],"tags":[],"owner":{"account_id":2137276,"reputation":5,"user_id":1896720,"display_name":"Lakshmi Hari"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1355291031,"creation_date":1355291031,"answer_id":13833547,"question_id":2873902,"body_markdown":"I think I found the solution.\r\nThere is a way to use the NEW keyword in constructing the query. \r\nWhat I did to resovle this issue :\r\n\r\n        public List&lt;ProductType&gt; getProductByName(String productName) {\r\n            String sqlQuery = &quot;select DISTINCT **NEW** project1.ProductType(o.name, o.revision) from Lhproduct o where o.name = :prodname&quot;;\r\n            Query qry = getEntityManager().**createQuery(sqlQuery);**\r\n            qry.setParameter(&quot;prodname&quot;,productName);\r\n            return qry.getResultList();\r\n     }\r\nThe ProductType is a non-entity object, a simple plain object implementing Serialiabale. But you need to define the appropriate constructor. \r\n\r\nHappy coding :-)\r\n\r\nThanks and Regards,\r\nHari","title":"Select non-entities with JPA?","body":"<p>I think I found the solution.\nThere is a way to use the NEW keyword in constructing the query. \nWhat I did to resovle this issue :</p>\n\n<pre><code>    public List&lt;ProductType&gt; getProductByName(String productName) {\n        String sqlQuery = \"select DISTINCT **NEW** project1.ProductType(o.name, o.revision) from Lhproduct o where o.name = :prodname\";\n        Query qry = getEntityManager().**createQuery(sqlQuery);**\n        qry.setParameter(\"prodname\",productName);\n        return qry.getResultList();\n }\n</code></pre>\n\n<p>The ProductType is a non-entity object, a simple plain object implementing Serialiabale. But you need to define the appropriate constructor. </p>\n\n<p>Happy coding :-)</p>\n\n<p>Thanks and Regards,\nHari</p>\n"},{"tags":[],"owner":{"account_id":10153453,"reputation":11,"user_id":7499251,"display_name":"user7499251"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633690024,"creation_date":1633689068,"answer_id":69494433,"question_id":2873902,"body_markdown":"JPA native query without entity - especially with complex queries (recursive, multiple joins, etc.) ?\r\n\r\nThis worked for me, but it&#39;s hibernate specific :\r\n\r\n    import org.hibernate.transform.Transformers;\r\n\r\n    Query query = entityManagerFactory.createEntityManager().createNativeQuery(SQL);\r\n    // Transform the results to MAP &lt;Key, Value&gt;\r\n    query.unwrap(org.hibernate.SQLQuery.class).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n    query.setParameter(&quot;myNamedParam&quot;, myParam);\r\n    List&lt;Map&lt;String, Object&gt;&gt; list = query.getResultList();\r\n    for (Map&lt;String, Object&gt; map : list) {\r\n    \tSystem.out.println(map);\r\n    }\r\n\r\ncf. https://www.programmerall.com/article/89371766511/\r\n\r\n","title":"Select non-entities with JPA?","body":"<p>JPA native query without entity - especially with complex queries (recursive, multiple joins, etc.) ?</p>\n<p>This worked for me, but it's hibernate specific :</p>\n<pre><code>import org.hibernate.transform.Transformers;\n\nQuery query = entityManagerFactory.createEntityManager().createNativeQuery(SQL);\n// Transform the results to MAP &lt;Key, Value&gt;\nquery.unwrap(org.hibernate.SQLQuery.class).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\nquery.setParameter(&quot;myNamedParam&quot;, myParam);\nList&lt;Map&lt;String, Object&gt;&gt; list = query.getResultList();\nfor (Map&lt;String, Object&gt; map : list) {\n    System.out.println(map);\n}\n</code></pre>\n<p>cf. <a href=\"https://www.programmerall.com/article/89371766511/\" rel=\"nofollow noreferrer\">https://www.programmerall.com/article/89371766511/</a></p>\n"},{"tags":[],"owner":{"account_id":23969310,"reputation":61,"user_id":18528693,"display_name":"Anton Podolskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693814753,"creation_date":1693814753,"answer_id":77036066,"question_id":2873902,"body_markdown":"Here is way how i did it.\r\n\r\nMy entity with a lot of fields\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;outcoming_transaction&quot;, schema = &quot;ibank_schema&quot;, catalog = &quot;ibank&quot;)\r\n    public class OutcomingTransaction {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, updatable = false)\r\n        private Long id;\r\n    \r\n        @NotEmpty(message = &quot;Sender name cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for sender name is 255 characters&quot;)\r\n        @Column(name = &quot;sender_name&quot;, updatable = false)\r\n        private String senderName;\r\n    \r\n        @NotEmpty(message = &quot;Sender surname cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\r\n        @Column(name = &quot;sender_surname&quot;, updatable = false)\r\n        private String senderSurname;\r\n    \r\n        @NotEmpty(message = &quot;Sender account number cant be empty&quot;)\r\n        @Size(max = 20, message = &quot;Max size for sender account number is 20 characters&quot;)\r\n        @Column(name = &quot;sender_account_number&quot;, updatable = false)\r\n        private String senderAccountNumber;\r\n    \r\n        @NotNull(message = &quot;Money amount cant be empty&quot;)\r\n        @Column(name = &quot;money_amount&quot;, updatable = false)\r\n        private BigDecimal moneyAmount;\r\n    \r\n        @NotEmpty(message = &quot;Currency code cant be empty&quot;)\r\n        @Size(max = 3, message = &quot;Max size for currency code is 3 characters&quot;)\r\n        @Column(name = &quot;currency_code&quot;, updatable = false)\r\n        private String currencyCode;\r\n    \r\n        @NotEmpty(message = &quot;Recipient account number cant be empty&quot;)\r\n        @Size(max = 20, message = &quot;Max size for recipient account number is 20 characters&quot;)\r\n        @Column(name = &quot;recipient_account_number&quot;, updatable = false)\r\n        private String recipientAccountNumber;\r\n    \r\n        @NotEmpty(message = &quot;Recipient name cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for recipient name is 255 characters&quot;)\r\n        @Column(name = &quot;recipient_name&quot;, updatable = false)\r\n        private String recipientName;\r\n    \r\n        @NotEmpty(message = &quot;Recipient surname cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\r\n        @Column(name = &quot;recipient_surname&quot;, updatable = false)\r\n        private String recipientSurname;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;recipient_bank&quot;, referencedColumnName = &quot;id&quot;)\r\n        @Valid // todo 30.08.2023 Anton - check if this working fine\r\n        @NotNull(message = &quot;Recipient bank cant be empty&quot;)\r\n        private BankData recipientBank;\r\n    \r\n        @Size(max = 255, message = &quot;Max size for payment purpose is 255 characters&quot;)\r\n        @Column(name = &quot;payment_purpose&quot;, updatable = false)\r\n        private String paymentPurpose;\r\n    \r\n        @NotNull(message = &quot;Transaction fee have to be filled up&quot;)\r\n        @Column(name = &quot;transaction_fee&quot;, updatable = false)\r\n        private BigDecimal transactionFee;\r\n    \r\n        @Column(name = &quot;transaction_time&quot;, updatable = false)\r\n        private Timestamp transactionTime;\r\n    \r\n    \r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            OutcomingTransaction that = (OutcomingTransaction) o;\r\n            return id.equals(that.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n    \r\n        public String toString() {\r\n            return transactionTime.toString() + &quot;: from &quot; + senderSurname + &quot; &quot; + senderName + &quot; to &quot; + recipientSurname + &quot; &quot; + recipientName;\r\n        }\r\n    }\r\n\r\nSo I have tons of transactions and I need to get sum for each currency.\r\nRepository:\r\n\r\n    @Repository  \r\n    public interface OutcomingTransactionRepository extends JpaRepository&lt;OutcomingTransaction, Long&gt; {  \r\n       \r\n    @Query(&quot;SELECT NEW ru.k2.ibank.model.dto.TransactionSummaryDTO(t.currencyCode, SUM(t.moneyAmount)) FROM OutcomingTransaction t &quot; +  \r\n    &quot;WHERE t.transactionTime BETWEEN :dateFrom AND :dateTill &quot; +  \r\n    &quot;GROUP BY t.currencyCode&quot;)  \r\n    List&lt;TransactionSummaryDTO&gt; getSumWithinTimeWindow(  \r\n    @Param(&quot;dateFrom&quot;) Timestamp dateFrom,  \r\n    @Param(&quot;dateTill&quot;) Timestamp dateTill);  \r\n      \r\n    }\r\n\r\nDTO\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class TransactionSummaryDTO {\r\n    \r\n        public TransactionSummaryDTO(String currencyCode, BigDecimal totalAmount) {\r\n            this.currencyCode = currencyCode;\r\n            this.totalAmount = totalAmount;\r\n        }\r\n    \r\n        private String currencyCode;\r\n        private BigDecimal totalAmount;\r\n    \r\n    }\r\n\r\nHere is JSON reply:\r\n\r\n    [\r\n        {\r\n            &quot;currencyCode&quot;: &quot;CNY&quot;,\r\n            &quot;totalAmount&quot;: 15120.25\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;EUR&quot;,\r\n            &quot;totalAmount&quot;: 17850.25\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;RUB&quot;,\r\n            &quot;totalAmount&quot;: 1233.54\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;USD&quot;,\r\n            &quot;totalAmount&quot;: 15437306.50\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;GBP&quot;,\r\n            &quot;totalAmount&quot;: 123450.25\r\n        }\r\n    ]","title":"Select non-entities with JPA?","body":"<p>Here is way how i did it.</p>\n<p>My entity with a lot of fields</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;outcoming_transaction&quot;, schema = &quot;ibank_schema&quot;, catalog = &quot;ibank&quot;)\npublic class OutcomingTransaction {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, updatable = false)\n    private Long id;\n\n    @NotEmpty(message = &quot;Sender name cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for sender name is 255 characters&quot;)\n    @Column(name = &quot;sender_name&quot;, updatable = false)\n    private String senderName;\n\n    @NotEmpty(message = &quot;Sender surname cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\n    @Column(name = &quot;sender_surname&quot;, updatable = false)\n    private String senderSurname;\n\n    @NotEmpty(message = &quot;Sender account number cant be empty&quot;)\n    @Size(max = 20, message = &quot;Max size for sender account number is 20 characters&quot;)\n    @Column(name = &quot;sender_account_number&quot;, updatable = false)\n    private String senderAccountNumber;\n\n    @NotNull(message = &quot;Money amount cant be empty&quot;)\n    @Column(name = &quot;money_amount&quot;, updatable = false)\n    private BigDecimal moneyAmount;\n\n    @NotEmpty(message = &quot;Currency code cant be empty&quot;)\n    @Size(max = 3, message = &quot;Max size for currency code is 3 characters&quot;)\n    @Column(name = &quot;currency_code&quot;, updatable = false)\n    private String currencyCode;\n\n    @NotEmpty(message = &quot;Recipient account number cant be empty&quot;)\n    @Size(max = 20, message = &quot;Max size for recipient account number is 20 characters&quot;)\n    @Column(name = &quot;recipient_account_number&quot;, updatable = false)\n    private String recipientAccountNumber;\n\n    @NotEmpty(message = &quot;Recipient name cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for recipient name is 255 characters&quot;)\n    @Column(name = &quot;recipient_name&quot;, updatable = false)\n    private String recipientName;\n\n    @NotEmpty(message = &quot;Recipient surname cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\n    @Column(name = &quot;recipient_surname&quot;, updatable = false)\n    private String recipientSurname;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;recipient_bank&quot;, referencedColumnName = &quot;id&quot;)\n    @Valid // todo 30.08.2023 Anton - check if this working fine\n    @NotNull(message = &quot;Recipient bank cant be empty&quot;)\n    private BankData recipientBank;\n\n    @Size(max = 255, message = &quot;Max size for payment purpose is 255 characters&quot;)\n    @Column(name = &quot;payment_purpose&quot;, updatable = false)\n    private String paymentPurpose;\n\n    @NotNull(message = &quot;Transaction fee have to be filled up&quot;)\n    @Column(name = &quot;transaction_fee&quot;, updatable = false)\n    private BigDecimal transactionFee;\n\n    @Column(name = &quot;transaction_time&quot;, updatable = false)\n    private Timestamp transactionTime;\n\n\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        OutcomingTransaction that = (OutcomingTransaction) o;\n        return id.equals(that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    public String toString() {\n        return transactionTime.toString() + &quot;: from &quot; + senderSurname + &quot; &quot; + senderName + &quot; to &quot; + recipientSurname + &quot; &quot; + recipientName;\n    }\n}\n</code></pre>\n<p>So I have tons of transactions and I need to get sum for each currency.\nRepository:</p>\n<pre><code>@Repository  \npublic interface OutcomingTransactionRepository extends JpaRepository&lt;OutcomingTransaction, Long&gt; {  \n   \n@Query(&quot;SELECT NEW ru.k2.ibank.model.dto.TransactionSummaryDTO(t.currencyCode, SUM(t.moneyAmount)) FROM OutcomingTransaction t &quot; +  \n&quot;WHERE t.transactionTime BETWEEN :dateFrom AND :dateTill &quot; +  \n&quot;GROUP BY t.currencyCode&quot;)  \nList&lt;TransactionSummaryDTO&gt; getSumWithinTimeWindow(  \n@Param(&quot;dateFrom&quot;) Timestamp dateFrom,  \n@Param(&quot;dateTill&quot;) Timestamp dateTill);  \n  \n}\n</code></pre>\n<p>DTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class TransactionSummaryDTO {\n\n    public TransactionSummaryDTO(String currencyCode, BigDecimal totalAmount) {\n        this.currencyCode = currencyCode;\n        this.totalAmount = totalAmount;\n    }\n\n    private String currencyCode;\n    private BigDecimal totalAmount;\n\n}\n</code></pre>\n<p>Here is JSON reply:</p>\n<pre><code>[\n    {\n        &quot;currencyCode&quot;: &quot;CNY&quot;,\n        &quot;totalAmount&quot;: 15120.25\n    },\n    {\n        &quot;currencyCode&quot;: &quot;EUR&quot;,\n        &quot;totalAmount&quot;: 17850.25\n    },\n    {\n        &quot;currencyCode&quot;: &quot;RUB&quot;,\n        &quot;totalAmount&quot;: 1233.54\n    },\n    {\n        &quot;currencyCode&quot;: &quot;USD&quot;,\n        &quot;totalAmount&quot;: 15437306.50\n    },\n    {\n        &quot;currencyCode&quot;: &quot;GBP&quot;,\n        &quot;totalAmount&quot;: 123450.25\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":615469,"reputation":105,"user_id":346118,"display_name":"Redfield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17440,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2874788,"answer_count":4,"score":9,"last_activity_date":1693814753,"creation_date":1274360514,"question_id":2873902,"body_markdown":"Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?  \r\nI have a non-entity class that wraps two entities:\r\n\r\n    class Wrap{\r\n      Entity1 ent1;\r\n      Entity2 ent2\r\n    }\r\n    @Entity\r\n    class Entity1{\r\n      ...\r\n    }\r\n    @Entity\r\n    class Entity2{\r\n      ...\r\n    }\r\n  \r\nHow can I do something like that?  \r\n\r\n    Query q = entityManager.createNativeQuery(&quot;native select here&quot;);\r\n    List&lt;Wrap&gt; list = q.getResultList();\r\n\r\n","title":"Select non-entities with JPA?","body":"<p>Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?<br>\nI have a non-entity class that wraps two entities:</p>\n\n<pre><code>class Wrap{\n  Entity1 ent1;\n  Entity2 ent2\n}\n@Entity\nclass Entity1{\n  ...\n}\n@Entity\nclass Entity2{\n  ...\n}\n</code></pre>\n\n<p>How can I do something like that?  </p>\n\n<pre><code>Query q = entityManager.createNativeQuery(\"native select here\");\nList&lt;Wrap&gt; list = q.getResultList();\n</code></pre>\n"},{"tags":["java","method-call","dynamic-binding","static-binding"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1693752818,"post_id":77032837,"comment_id":135799114,"body_markdown":"To override it has to have the same signature (name and types of arguments).","body":"To override it has to have the same signature (name and types of arguments)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1693752835,"post_id":77032837,"comment_id":135799116,"body_markdown":"You&#39;re calling through a variable of type `X`, and an `X` doesn&#39;t have a method `test(int)`, it only has `test(double)`. It is impossible for your code to call `test(int)` through that variable, even if the runtime type is `Z`. The compiler will bind to the method `test(double)`, and given `Z` doesn&#39;t override that, it will cal the one from `X`.","body":"You&#39;re calling through a variable of type <code>X</code>, and an <code>X</code> doesn&#39;t have a method <code>test(int)</code>, it only has <code>test(double)</code>. It is impossible for your code to call <code>test(int)</code> through that variable, even if the runtime type is <code>Z</code>. The compiler will bind to the method <code>test(double)</code>, and given <code>Z</code> doesn&#39;t override that, it will cal the one from <code>X</code>."},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693753114,"post_id":77032837,"comment_id":135799144,"body_markdown":"I found that if I change the parameter type of test() in class Z from int to double, the output becomes &quot;test of Z&quot;","body":"I found that if I change the parameter type of test() in class Z from int to double, the output becomes &quot;test of Z&quot;"},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":1,"creation_date":1693753277,"post_id":77032837,"comment_id":135799157,"body_markdown":"Thanks for your reply, so this is actually static binding here? @Mark Rotteveel","body":"Thanks for your reply, so this is actually static binding here? @Mark Rotteveel"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":1,"creation_date":1693753285,"post_id":77032837,"comment_id":135799161,"body_markdown":"It doesn&#39;t work because you&#39;re overloading the methods instead of overriding them.","body":"It doesn&#39;t work because you&#39;re overloading the methods instead of overriding them."},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693753493,"post_id":77032837,"comment_id":135799179,"body_markdown":"Thank you so much, and I want to know more about why it&#39;s working like this way? @esQmo_","body":"Thank you so much, and I want to know more about why it&#39;s working like this way? @esQmo_"},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693753898,"post_id":77032837,"comment_id":135799224,"body_markdown":"Or can I say that dynamic binding only happens when this method is extended ?","body":"Or can I say that dynamic binding only happens when this method is extended ?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1693754325,"post_id":77032837,"comment_id":135799285,"body_markdown":"Selection of *overloaded* methods is determined at compile time (“static binding”). Selection of *overridden* methods is determined at run time (“dynamic binding”). Class `Z` *overloads* the `test` method (because it declares it with a different signature).","body":"Selection of <i>overloaded</i> methods is determined at compile time (“static binding”). Selection of <i>overridden</i> methods is determined at run time (“dynamic binding”). Class <code>Z</code> <i>overloads</i> the <code>test</code> method (because it declares it with a different signature)."},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693754709,"post_id":77032837,"comment_id":135799329,"body_markdown":"I got it! Thank you so much! @James_D","body":"I got it! Thank you so much! @James_D"}],"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693814708,"answer_count":0,"score":0,"last_activity_date":1693814727,"creation_date":1693752680,"question_id":77032837,"body_markdown":"This code&#39;s output is &quot;test of X&quot;, but it&#39;s expected to be &quot;test of Z&quot;.\r\n\r\n```\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        X x = new X();\r\n        x = new Z();\r\n        x.test(1);\r\n    }\r\n}\r\n\r\nclass Y {\r\n    public void test(double a) {\r\n        System.out.println(&quot;test of Y&quot;);\r\n    }\r\n}\r\n\r\nclass X extends Y {\r\n    public void test(double b) {\r\n        System.out.println(&quot;test of X&quot;);\r\n    }\r\n}\r\n\r\nclass Z extends X {\r\n    public void test(int c) {\r\n        System.out.println(&quot;test of Z&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t figure out whether it&#39;s static binding or dynamic binding. According to Core Java, when this method is called, what happens is following:\r\n\r\n+ List all the visible methods with the same name as this method, because test in X overrides that in Y, so it should be test in X. Only one candidate.\r\n+ Choose the most suitable one according to the type of argument, because test in X in the only candidate, so it must be chosen.\r\n+ If this method is private,  static, or final then it&#39;s static binding. Then resolution is done here. But it&#39;s not, so it should be dynamic binding here.\r\n+ At the run time, this method is actually called on an object of Z, so it looks up method table of Z, then test in Z should be called.\r\n\r\nI don&#39;t know what where I take it wrong, the actual output is &quot;test of X&quot;.\r\n\r\nMy OS: Windows 11 \\\r\nMy JDK: Java 20\r\n","title":"Why does the dynamic binding of following code seem not to work?","body":"<p>This code's output is &quot;test of X&quot;, but it's expected to be &quot;test of Z&quot;.</p>\n<pre><code>public class test {\n    public static void main(String[] args) {\n        X x = new X();\n        x = new Z();\n        x.test(1);\n    }\n}\n\nclass Y {\n    public void test(double a) {\n        System.out.println(&quot;test of Y&quot;);\n    }\n}\n\nclass X extends Y {\n    public void test(double b) {\n        System.out.println(&quot;test of X&quot;);\n    }\n}\n\nclass Z extends X {\n    public void test(int c) {\n        System.out.println(&quot;test of Z&quot;);\n    }\n}\n</code></pre>\n<p>I can't figure out whether it's static binding or dynamic binding. According to Core Java, when this method is called, what happens is following:</p>\n<ul>\n<li>List all the visible methods with the same name as this method, because test in X overrides that in Y, so it should be test in X. Only one candidate.</li>\n<li>Choose the most suitable one according to the type of argument, because test in X in the only candidate, so it must be chosen.</li>\n<li>If this method is private,  static, or final then it's static binding. Then resolution is done here. But it's not, so it should be dynamic binding here.</li>\n<li>At the run time, this method is actually called on an object of Z, so it looks up method table of Z, then test in Z should be called.</li>\n</ul>\n<p>I don't know what where I take it wrong, the actual output is &quot;test of X&quot;.</p>\n<p>My OS: Windows 11 <br />\nMy JDK: Java 20</p>\n"},{"tags":["java","multithreading","swing","game-development"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1693392128,"post_id":77007226,"comment_id":135753797,"body_markdown":"&quot;I&#39;m unsure how to synchronize the animations.&quot;  The common way is to have one and only one animation loop.  You create a logical model of your game using plain Java getter/setter classes.  The animation loop moves the logical pieces, and then you draw the state of the logical model.","body":"&quot;I&#39;m unsure how to synchronize the animations.&quot;  The common way is to have one and only one animation loop.  You create a logical model of your game using plain Java getter/setter classes.  The animation loop moves the logical pieces, and then you draw the state of the logical model."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693392189,"post_id":77007226,"comment_id":135753814,"body_markdown":"&quot;*Essentially, I want each mouse click to spawn a new Timer, that will not begin until the previous has finished.&quot;* - No, you shouldn&#39;t. This will have degrading effect on your apps performance.  Instead, you want a single `Timer` which can trigger &quot;ticks&quot; which your &quot;animatable&quot; objects can then respond to","body":"&quot;<i>Essentially, I want each mouse click to spawn a new Timer, that will not begin until the previous has finished.&quot;</i> - No, you shouldn&#39;t. This will have degrading effect on your apps performance.  Instead, you want a single <code>Timer</code> which can trigger &quot;ticks&quot; which your &quot;animatable&quot; objects can then respond to"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693392304,"post_id":77007226,"comment_id":135753839,"body_markdown":"You should also maintain some kind of &quot;animating&quot; state for your object, so if it&#39;s clicked again, while animating, it won&#39;t start a new animation cycle","body":"You should also maintain some kind of &quot;animating&quot; state for your object, so if it&#39;s clicked again, while animating, it won&#39;t start a new animation cycle"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693392862,"post_id":77007226,"comment_id":135753934,"body_markdown":"For [example](https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015) and [example](https://stackoverflow.com/questions/70525750/rotate-image-in-grid-in-java/70526023#70526023)","body":"For <a href=\"https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015\">example</a> and <a href=\"https://stackoverflow.com/questions/70525750/rotate-image-in-grid-in-java/70526023#70526023\">example</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693392960,"post_id":77007226,"comment_id":135753952,"body_markdown":"*&quot;that will not begin until the previous has finished.&quot;* - Sounds more like you want some of stack, so the &quot;animation loop&quot; would pop of the entity to be animated, animate it, the pop then next entity of the loop.  I would consider having the loop stop when there are no more entities in the stack and start again when you add more","body":"<i>&quot;that will not begin until the previous has finished.&quot;</i> - Sounds more like you want some of stack, so the &quot;animation loop&quot; would pop of the entity to be animated, animate it, the pop then next entity of the loop.  I would consider having the loop stop when there are no more entities in the stack and start again when you add more"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693394404,"post_id":77007226,"comment_id":135754228,"body_markdown":"@GilbertLeBlanc, great recommendation, thanks.","body":"@GilbertLeBlanc, great recommendation, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693394444,"post_id":77007226,"comment_id":135754230,"body_markdown":"@MadProgrammer, both of those links are excellent examples, thanks.","body":"@MadProgrammer, both of those links are excellent examples, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693394623,"post_id":77007226,"comment_id":135754267,"body_markdown":"@MadProgrammer, I guess you&#39;re saying just use a _Deque_ of _Timer_ values, and some type of mechanism to run each, one at a time.","body":"@MadProgrammer, I guess you&#39;re saying just use a <i>Deque</i> of <i>Timer</i> values, and some type of mechanism to run each, one at a time."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693394873,"post_id":77007226,"comment_id":135754318,"body_markdown":"No, I&#39;m saying &quot;deque&quot; some kind of state and use a single `Timer` to animate that state","body":"No, I&#39;m saying &quot;deque&quot; some kind of state and use a single <code>Timer</code> to animate that state"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693433727,"post_id":77007226,"comment_id":135762319,"body_markdown":"Again, more `Timer`s WILL degrade the performance of your app - you shouldn&#39;t me using multiple `Timer`s. You should also decouple the state, so the component becomes responsible for displaying the state and is otherwise disconnected from it","body":"Again, more <code>Timer</code>s WILL degrade the performance of your app - you shouldn&#39;t me using multiple <code>Timer</code>s. You should also decouple the state, so the component becomes responsible for displaying the state and is otherwise disconnected from it"}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693409202,"post_id":77007753,"comment_id":135757785,"body_markdown":"I appreciate the solution.  The concept of the _Animatable_ object is a good idea.  I&#39;m going to try and incorporate this, I believe this provides the scalability I need.  In you&#39;re example here, it only allows you to select one box at a time.  I did not mean that, by &quot;_synchronization_&quot;.  I meant, prevent them from overlapping, and using the same resource simultaneously.  The mouse-click is part of the score, and the player may want to quickly double-click a box, or triple-click.  They&#39;ll expect to see an animation for each click.","body":"I appreciate the solution.  The concept of the <i>Animatable</i> object is a good idea.  I&#39;m going to try and incorporate this, I believe this provides the scalability I need.  In you&#39;re example here, it only allows you to select one box at a time.  I did not mean that, by &quot;<i>synchronization</i>&quot;.  I meant, prevent them from overlapping, and using the same resource simultaneously.  The mouse-click is part of the score, and the player may want to quickly double-click a box, or triple-click.  They&#39;ll expect to see an animation for each click."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693428809,"post_id":77007753,"comment_id":135761610,"body_markdown":"Oh, easy then, instead of pulling `current` from the `List` on each `tick`, simply iterate through the list, removing each animatable when it returns `true`","body":"Oh, easy then, instead of pulling <code>current</code> from the <code>List</code> on each <code>tick</code>, simply iterate through the list, removing each animatable when it returns <code>true</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693433075,"post_id":77007753,"comment_id":135762225,"body_markdown":"Yes, I&#39;ve updated my question, towards the bottom.","body":"Yes, I&#39;ve updated my question, towards the bottom."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693431722,"creation_date":1693396487,"answer_id":77007753,"question_id":77007226,"body_markdown":"&gt; Essentially, I want each mouse click to spawn a new Timer, \r\n\r\nNo, I wouldn&#39;t do that, more `Timer`&#39;s isn&#39;t going to help, it&#39;s going to have a degrading effect on performance.  Remember, each `Timer` will still schedule it&#39;s callbacks on the Event Dispatching Thread.\r\n\r\n&gt; that will not begin until the previous has finished.\r\n\r\nSounds more like you want some kind of &quot;stack&quot; where a centralised loop can pop of the next task and animate it.\r\n\r\n# Cavets\r\n\r\nFirst things first.  Animation is hard, good animation is very hard.  There&#39;s a lot that goes into making animation &quot;look&quot; good.\r\n\r\n# Centralised engine\r\n\r\nTypically, you want to start with a concept of a &quot;main&quot; or &quot;animation&quot; loop.  This will repeat, at as regular an interval as it can and will &quot;tick&quot; you animations.\r\n\r\nFor this, I&#39;ve started with a Swing `Timer`.  It&#39;s simple and safe to use.  When there are no more things to animate, it will stop, so it&#39;s not wasting CPU cycles doing nothing.\r\n\r\n    public class AnimationEngine {\r\n        private Timer timer;\r\n\r\n        private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\r\n        private Animatable current;\r\n\r\n        public AnimationEngine() {\r\n            this.timer = new Timer(5, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    didTick();\r\n                }\r\n            });\r\n        }\r\n\r\n        public void add(Animatable animatable) {\r\n            animatables.add(animatable);\r\n            start();\r\n        }\r\n\r\n        public void remove(Animatable animatable) {\r\n            animatables.remove(animatable);\r\n            if (current == animatable) {\r\n                current = null;\r\n            }\r\n            if (animatables.isEmpty()) {\r\n                stop();\r\n            }\r\n        }\r\n\r\n        public void start() {\r\n            if (timer.isRunning()) {\r\n                return;\r\n            }\r\n            timer.start();\r\n        }\r\n\r\n        public void stop() {\r\n            timer.stop();\r\n        }\r\n\r\n        protected void didTick() {\r\n            if (current == null) {\r\n                if (animatables.isEmpty()) {\r\n                    stop();\r\n                    return;\r\n                }\r\n                current = animatables.remove(0);\r\n            }\r\n            if (current.tick(this)) {\r\n                remove(current);\r\n            }\r\n        }\r\n    }\r\n\r\n# Something to animate\r\n\r\nThis is probably a little bit of overkill for what you need, but the following describes something which can be animated.\r\n\r\n    public interface Animatable {\r\n        public double getProgress();\r\n        public Duration getDuration();\r\n        public boolean tick(AnimationEngine engine);\r\n    }\r\n\r\nThis is &quot;duration&quot; based, meaning that it will animate some change over a specified period of time.  Generally speaking, a time based animation will give better results over a linear delta based animation.  It also makes it much easier to change the speed of the animation.\r\n\r\nI then created a `RotationAnimation`, which just animates the rotation of a `Box` from one angle to other (over a period of time)\r\n\r\n    public class RotationAnimation implements Animatable {\r\n\r\n        private float from;\r\n        private float to;\r\n        private Box box;\r\n        private Duration duration;\r\n\r\n        private Instant startedAt;\r\n\r\n        public RotationAnimation(Box box, float from, float to, Duration duration) {\r\n            this.from = from;\r\n            this.to = to;\r\n            this.box = box;\r\n            this.duration = duration;\r\n        }\r\n\r\n        public Box getBox() {\r\n            return box;\r\n        }\r\n\r\n        public float getFrom() {\r\n            return from;\r\n        }\r\n\r\n        public float getTo() {\r\n            return to;\r\n        }\r\n\r\n        protected float getDistance() {\r\n            return getTo() - getFrom();\r\n        }\r\n\r\n        protected float valueAt(double progress) {\r\n            float distance = getDistance();\r\n            float value = distance * (float) progress;\r\n            value += getFrom();\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public double getProgress() {\r\n            if (startedAt == null) {\r\n                startedAt = Instant.now();\r\n            }\r\n            Duration duration = getDuration();\r\n            Duration runningTime = Duration.between(startedAt, Instant.now());\r\n            double progress = (runningTime.toMillis() / (double) duration.toMillis());\r\n\r\n            return Math.min(1.0, Math.max(0.0, progress));\r\n        }\r\n\r\n        @Override\r\n        public Duration getDuration() {\r\n            return duration;\r\n        }\r\n\r\n        @Override\r\n        public boolean tick(AnimationEngine engine) {\r\n            boolean didComplete = false;\r\n            double progress = getProgress();\r\n            if (progress &gt;= 1.0f) {\r\n                didComplete = true;\r\n                progress = 1.0f;\r\n            }\r\n            float angle = valueAt(progress);\r\n            box.setAngle(angle);\r\n            box.repaint();\r\n            return didComplete;\r\n        }\r\n\r\n    }\r\n\r\nRelatively speaking, this is pretty simple.  On each `tick` it determines the amount of time it&#39;s been running, converts this value to a normalised progress (0-1) and calculates the resulting angle to be applied.\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridLayout;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private AnimationEngine engine = new AnimationEngine();\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridLayout(10, 10));\r\n\r\n                for (int index = 0; index &lt; 100; index++) {\r\n                    Box box = new Box();\r\n                    add(box);\r\n                    box.addMouseListener(new MouseAdapter() {\r\n                        @Override\r\n                        public void mouseClicked(MouseEvent e) {\r\n                            float startAngle = box.getAngle();\r\n                            float endAngle = startAngle + 90;\r\n                            engine.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofSeconds(1)));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        public class Box extends JPanel {\r\n            public static final int BOX_WIDTH = 50;\r\n            public static final int BOX_HEIGHT = 50;\r\n\r\n            protected static final List&lt;Color&gt; COLORS = new ArrayList&lt;&gt;(Arrays.asList(new Color[] {\r\n                Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\r\n                Color.LIGHT_GRAY, Color.MAGENTA, Color.PINK, Color.RED\r\n            }));\r\n\r\n            private float angle = 0;\r\n\r\n            private Map&lt;RenderingHints.Key, Object&gt; renderingHints = new HashMap&lt;&gt;();\r\n\r\n            public Box() {\r\n                Collections.shuffle(COLORS);\r\n                setForeground(COLORS.get(0));\r\n                renderingHints.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            }\r\n\r\n            public void setAngle(float angle) {\r\n                this.angle = angle;\r\n            }\r\n\r\n            public float getAngle() {\r\n                return angle;\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(BOX_WIDTH, BOX_HEIGHT);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHints(renderingHints);\r\n                g2d.rotate(Math.toRadians(getAngle()), getWidth() / 2, getHeight() / 2);\r\n                g2d.setColor(getForeground());\r\n                int x = (getWidth() - BOX_WIDTH) / 2;\r\n                int y = (getHeight() - BOX_HEIGHT) / 2;\r\n                g2d.drawRect(x, y, BOX_WIDTH - 1, BOX_HEIGHT - 1);\r\n                g2d.drawLine(x + BOX_WIDTH / 2, y + BOX_HEIGHT / 2, x + BOX_WIDTH / 2, y + BOX_HEIGHT);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        public interface Animatable {\r\n            public double getProgress();\r\n\r\n            public Duration getDuration();\r\n\r\n            public boolean tick(AnimationEngine engine);\r\n        }\r\n\r\n        public class AnimationEngine {\r\n            private Timer timer;\r\n\r\n            private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\r\n            private Animatable current;\r\n\r\n            public AnimationEngine() {\r\n                this.timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        didTick();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void add(Animatable animatable) {\r\n                animatables.add(animatable);\r\n                start();\r\n            }\r\n\r\n            public void remove(Animatable animatable) {\r\n                animatables.remove(animatable);\r\n                if (current == animatable) {\r\n                    current = null;\r\n                }\r\n                if (animatables.isEmpty()) {\r\n                    stop();\r\n                }\r\n            }\r\n\r\n            public void start() {\r\n                if (timer.isRunning()) {\r\n                    return;\r\n                }\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                timer.stop();\r\n            }\r\n\r\n            protected void didTick() {\r\n                if (current == null) {\r\n                    if (animatables.isEmpty()) {\r\n                        stop();\r\n                        return;\r\n                    }\r\n                    current = animatables.remove(0);\r\n                }\r\n                if (current.tick(this)) {\r\n                    remove(current);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class RotationAnimation implements Animatable {\r\n\r\n            private float from;\r\n            private float to;\r\n            private Box box;\r\n            private Duration duration;\r\n\r\n            private Instant startedAt;\r\n\r\n            public RotationAnimation(Box box, float from, float to, Duration duration) {\r\n                this.from = from;\r\n                this.to = to;\r\n                this.box = box;\r\n                this.duration = duration;\r\n            }\r\n\r\n            public Box getBox() {\r\n                return box;\r\n            }\r\n\r\n            public float getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public float getTo() {\r\n                return to;\r\n            }\r\n\r\n            protected float getDistance() {\r\n                return getTo() - getFrom();\r\n            }\r\n\r\n            protected float valueAt(double progress) {\r\n                float distance = getDistance();\r\n                float value = distance * (float) progress;\r\n                value += getFrom();\r\n                return value;\r\n            }\r\n\r\n            @Override\r\n            public double getProgress() {\r\n                if (startedAt == null) {\r\n                    startedAt = Instant.now();\r\n                }\r\n                Duration duration = getDuration();\r\n                Duration runningTime = Duration.between(startedAt, Instant.now());\r\n                double progress = (runningTime.toMillis() / (double) duration.toMillis());\r\n\r\n                return Math.min(1.0, Math.max(0.0, progress));\r\n            }\r\n\r\n            @Override\r\n            public Duration getDuration() {\r\n                return duration;\r\n            }\r\n\r\n            @Override\r\n            public boolean tick(AnimationEngine engine) {\r\n                boolean didComplete = false;\r\n                double progress = getProgress();\r\n                if (progress &gt;= 1.0f) {\r\n                    didComplete = true;\r\n                    progress = 1.0f;\r\n                }\r\n                float angle = valueAt(progress);\r\n                box.setAngle(angle);\r\n                box.repaint();\r\n                return didComplete;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nI&#39;ve not even started talking about things like &quot;easement&quot;, which could make the animation look &quot;more natural&quot;.\r\n\r\nif you&#39;re interested, you could have a look at https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188 (which I also implemented [here](https://stackoverflow.com/questions/51903228/jbutton-hover-animation-in-java-swing/51904555#51904555))\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GILYP.gif\r\n\r\n&gt; I need. In you&#39;re example here, it only allows you to select one box at a time. I did not mean that, by &quot;synchronization&quot;. I meant, prevent them from overlapping, and using the same resource simultaneously\r\n\r\nThis is relatively simple to fix, simply modify the `didTick` method of the `AnimationEngine` to loop through the `List` and call each `Animatable`s `tick` method, for example...\r\n\r\n    protected void didTick() {\r\n        List&lt;Animatable&gt; copy = new ArrayList&lt;&gt;(animatables);\r\n        for (Animatable animated : copy) {\r\n            if (animated.tick(this)) {\r\n                animatables.remove(animated);\r\n            }\r\n        }\r\n        if (animatables.isEmpty()) {\r\n            stop();\r\n        }\r\n    }\r\n\r\n&gt; The mouse-click is part of the score, and the player may want to quickly double-click a box, or triple-click. They&#39;ll expect to see an animation for each click\r\n\r\nThis is a more complicated, but could be accomplished through a number of different methods.\r\n\r\nYou could &quot;interrupt&quot; the current animation, take the `Box`s current angle, project the new angle and start again.  This, however, is going to make the animation look ... well, weird.  Since the time doesn&#39;t change, the speed at which the box moves will change, so click it enough times and you can have a very fast spin.\r\n\r\nAlternatively, you could build a &quot;chain&quot; of animations.  This would basically be a `Animatable` container which contains a `List` of animations to be played.  It would simply play through each animation in sequence until it has no more animations.\r\n\r\nFor example...\r\n\r\n    public class ChainedRotationAnimation implements Animatable {\r\n        private List&lt;RotationAnimation&gt; animations = new ArrayList&lt;&gt;(8);\r\n        private RotationAnimation active;\r\n        \r\n        private Box box;\r\n\r\n        public ChainedRotationAnimation(Box box) {\r\n            this.box = box;\r\n        }\r\n\r\n        public Box getBox() {\r\n            return box;\r\n        }\r\n        \r\n        public Float getTargetAngle() {\r\n            // If nothing is avaliable, return `null`\r\n            if (animations.isEmpty() &amp;&amp; active == null) {\r\n                return null;\r\n            }\r\n            // If no other animations are avaliable, use the active animation\r\n            // instead\r\n            if (animations.isEmpty() &amp;&amp; active != null) {\r\n                return active.getTo();\r\n            }\r\n            // Otherwise, find the last animation and use it&#39;s target angle\r\n            RotationAnimation last = animations.get(animations.size() - 1);\r\n            return last.getTo();\r\n        }\r\n\r\n        public void add(RotationAnimation animatable) {\r\n            animations.add(animatable);\r\n        }\r\n\r\n        public void remove(RotationAnimation animatable) {\r\n            animations.remove(animatable);\r\n            if (active == animatable) {\r\n                active = null;\r\n            }\r\n        }\r\n\r\n        // I would remove these properties fom the `Animatable` class\r\n        // and instead move them to a `DurationAnimatable` class\r\n        @Override\r\n        public double getProgress() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public Duration getDuration() {\r\n            return Duration.ZERO;\r\n        }\r\n\r\n        @Override\r\n        public boolean tick(AnimationEngine engine) {\r\n            if (active == null) {\r\n                if (animations.isEmpty()) {\r\n                    return true;\r\n                }\r\n                active = animations.remove(0);\r\n            }\r\n            if (active.tick(engine)) {\r\n                active = null;\r\n                // Save us a whole tick\r\n                return animations.isEmpty();\r\n            }\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\nThen we&#39;d need to update the `Box` mouse click handler...\r\n\r\n    box.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            // Get all the current animations...\r\n            List&lt;Animatable&gt; animations = engine.getAnimations();\r\n            boolean exists = false;\r\n            for (Animatable animatable : animations) {\r\n                // Ignore anything which isn&#39;t a chained rotation\r\n                if (!(animatable instanceof ChainedRotationAnimation)) {\r\n                    continue;\r\n                }\r\n                // Ignore the animation if it&#39;s not for our Box\r\n                ChainedRotationAnimation chained = (ChainedRotationAnimation) animatable;\r\n                if (chained.getBox() != box) {\r\n                    continue;\r\n                }\r\n                exists = true;\r\n                // Determine the angle from which the box will start\r\n                // Either this is the current angle if it&#39;s not been\r\n                // animated or the target angle for the last animation\r\n                // in the chain\r\n                float startAngle = box.getAngle();\r\n                if (chained.getTargetAngle() != null) {\r\n                    startAngle = chained.getTargetAngle();\r\n                }\r\n                float endAngle = startAngle + 90;\r\n                chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\r\n            }\r\n            // If no chained animation exists, we need to create one\r\n            if (exists) {\r\n                return;\r\n            }               \r\n            float startAngle = box.getAngle();\r\n            float endAngle = startAngle + 90;\r\n            ChainedRotationAnimation chained = new ChainedRotationAnimation(box);\r\n            chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\r\n            engine.add(chained);\r\n        }\r\n    });\r\n\r\nThis is just an example and the concepts are loosely based on my personal [Super Simple Swing Animation Framework](https://github.com/RustyKnight/SuperSimpleSwingAnimationFramework) library","title":"Java Swing – Synchronizing resources for animation threads","body":"<blockquote>\n<p>Essentially, I want each mouse click to spawn a new Timer,</p>\n</blockquote>\n<p>No, I wouldn't do that, more <code>Timer</code>'s isn't going to help, it's going to have a degrading effect on performance.  Remember, each <code>Timer</code> will still schedule it's callbacks on the Event Dispatching Thread.</p>\n<blockquote>\n<p>that will not begin until the previous has finished.</p>\n</blockquote>\n<p>Sounds more like you want some kind of &quot;stack&quot; where a centralised loop can pop of the next task and animate it.</p>\n<h1>Cavets</h1>\n<p>First things first.  Animation is hard, good animation is very hard.  There's a lot that goes into making animation &quot;look&quot; good.</p>\n<h1>Centralised engine</h1>\n<p>Typically, you want to start with a concept of a &quot;main&quot; or &quot;animation&quot; loop.  This will repeat, at as regular an interval as it can and will &quot;tick&quot; you animations.</p>\n<p>For this, I've started with a Swing <code>Timer</code>.  It's simple and safe to use.  When there are no more things to animate, it will stop, so it's not wasting CPU cycles doing nothing.</p>\n<pre><code>public class AnimationEngine {\n    private Timer timer;\n\n    private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\n    private Animatable current;\n\n    public AnimationEngine() {\n        this.timer = new Timer(5, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                didTick();\n            }\n        });\n    }\n\n    public void add(Animatable animatable) {\n        animatables.add(animatable);\n        start();\n    }\n\n    public void remove(Animatable animatable) {\n        animatables.remove(animatable);\n        if (current == animatable) {\n            current = null;\n        }\n        if (animatables.isEmpty()) {\n            stop();\n        }\n    }\n\n    public void start() {\n        if (timer.isRunning()) {\n            return;\n        }\n        timer.start();\n    }\n\n    public void stop() {\n        timer.stop();\n    }\n\n    protected void didTick() {\n        if (current == null) {\n            if (animatables.isEmpty()) {\n                stop();\n                return;\n            }\n            current = animatables.remove(0);\n        }\n        if (current.tick(this)) {\n            remove(current);\n        }\n    }\n}\n</code></pre>\n<h1>Something to animate</h1>\n<p>This is probably a little bit of overkill for what you need, but the following describes something which can be animated.</p>\n<pre><code>public interface Animatable {\n    public double getProgress();\n    public Duration getDuration();\n    public boolean tick(AnimationEngine engine);\n}\n</code></pre>\n<p>This is &quot;duration&quot; based, meaning that it will animate some change over a specified period of time.  Generally speaking, a time based animation will give better results over a linear delta based animation.  It also makes it much easier to change the speed of the animation.</p>\n<p>I then created a <code>RotationAnimation</code>, which just animates the rotation of a <code>Box</code> from one angle to other (over a period of time)</p>\n<pre><code>public class RotationAnimation implements Animatable {\n\n    private float from;\n    private float to;\n    private Box box;\n    private Duration duration;\n\n    private Instant startedAt;\n\n    public RotationAnimation(Box box, float from, float to, Duration duration) {\n        this.from = from;\n        this.to = to;\n        this.box = box;\n        this.duration = duration;\n    }\n\n    public Box getBox() {\n        return box;\n    }\n\n    public float getFrom() {\n        return from;\n    }\n\n    public float getTo() {\n        return to;\n    }\n\n    protected float getDistance() {\n        return getTo() - getFrom();\n    }\n\n    protected float valueAt(double progress) {\n        float distance = getDistance();\n        float value = distance * (float) progress;\n        value += getFrom();\n        return value;\n    }\n\n    @Override\n    public double getProgress() {\n        if (startedAt == null) {\n            startedAt = Instant.now();\n        }\n        Duration duration = getDuration();\n        Duration runningTime = Duration.between(startedAt, Instant.now());\n        double progress = (runningTime.toMillis() / (double) duration.toMillis());\n\n        return Math.min(1.0, Math.max(0.0, progress));\n    }\n\n    @Override\n    public Duration getDuration() {\n        return duration;\n    }\n\n    @Override\n    public boolean tick(AnimationEngine engine) {\n        boolean didComplete = false;\n        double progress = getProgress();\n        if (progress &gt;= 1.0f) {\n            didComplete = true;\n            progress = 1.0f;\n        }\n        float angle = valueAt(progress);\n        box.setAngle(angle);\n        box.repaint();\n        return didComplete;\n    }\n\n}\n</code></pre>\n<p>Relatively speaking, this is pretty simple.  On each <code>tick</code> it determines the amount of time it's been running, converts this value to a normalised progress (0-1) and calculates the resulting angle to be applied.</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/GILYP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GILYP.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private AnimationEngine engine = new AnimationEngine();\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridLayout(10, 10));\n\n            for (int index = 0; index &lt; 100; index++) {\n                Box box = new Box();\n                add(box);\n                box.addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        float startAngle = box.getAngle();\n                        float endAngle = startAngle + 90;\n                        engine.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofSeconds(1)));\n                    }\n                });\n            }\n        }\n    }\n\n    public class Box extends JPanel {\n        public static final int BOX_WIDTH = 50;\n        public static final int BOX_HEIGHT = 50;\n\n        protected static final List&lt;Color&gt; COLORS = new ArrayList&lt;&gt;(Arrays.asList(new Color[] {\n            Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\n            Color.LIGHT_GRAY, Color.MAGENTA, Color.PINK, Color.RED\n        }));\n\n        private float angle = 0;\n\n        private Map&lt;RenderingHints.Key, Object&gt; renderingHints = new HashMap&lt;&gt;();\n\n        public Box() {\n            Collections.shuffle(COLORS);\n            setForeground(COLORS.get(0));\n            renderingHints.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        }\n\n        public void setAngle(float angle) {\n            this.angle = angle;\n        }\n\n        public float getAngle() {\n            return angle;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(BOX_WIDTH, BOX_HEIGHT);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHints(renderingHints);\n            g2d.rotate(Math.toRadians(getAngle()), getWidth() / 2, getHeight() / 2);\n            g2d.setColor(getForeground());\n            int x = (getWidth() - BOX_WIDTH) / 2;\n            int y = (getHeight() - BOX_HEIGHT) / 2;\n            g2d.drawRect(x, y, BOX_WIDTH - 1, BOX_HEIGHT - 1);\n            g2d.drawLine(x + BOX_WIDTH / 2, y + BOX_HEIGHT / 2, x + BOX_WIDTH / 2, y + BOX_HEIGHT);\n            g2d.dispose();\n        }\n    }\n\n    public interface Animatable {\n        public double getProgress();\n\n        public Duration getDuration();\n\n        public boolean tick(AnimationEngine engine);\n    }\n\n    public class AnimationEngine {\n        private Timer timer;\n\n        private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\n        private Animatable current;\n\n        public AnimationEngine() {\n            this.timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    didTick();\n                }\n            });\n        }\n\n        public void add(Animatable animatable) {\n            animatables.add(animatable);\n            start();\n        }\n\n        public void remove(Animatable animatable) {\n            animatables.remove(animatable);\n            if (current == animatable) {\n                current = null;\n            }\n            if (animatables.isEmpty()) {\n                stop();\n            }\n        }\n\n        public void start() {\n            if (timer.isRunning()) {\n                return;\n            }\n            timer.start();\n        }\n\n        public void stop() {\n            timer.stop();\n        }\n\n        protected void didTick() {\n            if (current == null) {\n                if (animatables.isEmpty()) {\n                    stop();\n                    return;\n                }\n                current = animatables.remove(0);\n            }\n            if (current.tick(this)) {\n                remove(current);\n            }\n        }\n    }\n\n    public class RotationAnimation implements Animatable {\n\n        private float from;\n        private float to;\n        private Box box;\n        private Duration duration;\n\n        private Instant startedAt;\n\n        public RotationAnimation(Box box, float from, float to, Duration duration) {\n            this.from = from;\n            this.to = to;\n            this.box = box;\n            this.duration = duration;\n        }\n\n        public Box getBox() {\n            return box;\n        }\n\n        public float getFrom() {\n            return from;\n        }\n\n        public float getTo() {\n            return to;\n        }\n\n        protected float getDistance() {\n            return getTo() - getFrom();\n        }\n\n        protected float valueAt(double progress) {\n            float distance = getDistance();\n            float value = distance * (float) progress;\n            value += getFrom();\n            return value;\n        }\n\n        @Override\n        public double getProgress() {\n            if (startedAt == null) {\n                startedAt = Instant.now();\n            }\n            Duration duration = getDuration();\n            Duration runningTime = Duration.between(startedAt, Instant.now());\n            double progress = (runningTime.toMillis() / (double) duration.toMillis());\n\n            return Math.min(1.0, Math.max(0.0, progress));\n        }\n\n        @Override\n        public Duration getDuration() {\n            return duration;\n        }\n\n        @Override\n        public boolean tick(AnimationEngine engine) {\n            boolean didComplete = false;\n            double progress = getProgress();\n            if (progress &gt;= 1.0f) {\n                didComplete = true;\n                progress = 1.0f;\n            }\n            float angle = valueAt(progress);\n            box.setAngle(angle);\n            box.repaint();\n            return didComplete;\n        }\n\n    }\n}\n</code></pre>\n<p>I've not even started talking about things like &quot;easement&quot;, which could make the animation look &quot;more natural&quot;.</p>\n<p>if you're interested, you could have a look at <a href=\"https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188\">How can I implement easing functions with a thread</a> (which I also implemented <a href=\"https://stackoverflow.com/questions/51903228/jbutton-hover-animation-in-java-swing/51904555#51904555\">here</a>)</p>\n<blockquote>\n<p>I need. In you're example here, it only allows you to select one box at a time. I did not mean that, by &quot;synchronization&quot;. I meant, prevent them from overlapping, and using the same resource simultaneously</p>\n</blockquote>\n<p>This is relatively simple to fix, simply modify the <code>didTick</code> method of the <code>AnimationEngine</code> to loop through the <code>List</code> and call each <code>Animatable</code>s <code>tick</code> method, for example...</p>\n<pre><code>protected void didTick() {\n    List&lt;Animatable&gt; copy = new ArrayList&lt;&gt;(animatables);\n    for (Animatable animated : copy) {\n        if (animated.tick(this)) {\n            animatables.remove(animated);\n        }\n    }\n    if (animatables.isEmpty()) {\n        stop();\n    }\n}\n</code></pre>\n<blockquote>\n<p>The mouse-click is part of the score, and the player may want to quickly double-click a box, or triple-click. They'll expect to see an animation for each click</p>\n</blockquote>\n<p>This is a more complicated, but could be accomplished through a number of different methods.</p>\n<p>You could &quot;interrupt&quot; the current animation, take the <code>Box</code>s current angle, project the new angle and start again.  This, however, is going to make the animation look ... well, weird.  Since the time doesn't change, the speed at which the box moves will change, so click it enough times and you can have a very fast spin.</p>\n<p>Alternatively, you could build a &quot;chain&quot; of animations.  This would basically be a <code>Animatable</code> container which contains a <code>List</code> of animations to be played.  It would simply play through each animation in sequence until it has no more animations.</p>\n<p>For example...</p>\n<pre><code>public class ChainedRotationAnimation implements Animatable {\n    private List&lt;RotationAnimation&gt; animations = new ArrayList&lt;&gt;(8);\n    private RotationAnimation active;\n    \n    private Box box;\n\n    public ChainedRotationAnimation(Box box) {\n        this.box = box;\n    }\n\n    public Box getBox() {\n        return box;\n    }\n    \n    public Float getTargetAngle() {\n        // If nothing is avaliable, return `null`\n        if (animations.isEmpty() &amp;&amp; active == null) {\n            return null;\n        }\n        // If no other animations are avaliable, use the active animation\n        // instead\n        if (animations.isEmpty() &amp;&amp; active != null) {\n            return active.getTo();\n        }\n        // Otherwise, find the last animation and use it's target angle\n        RotationAnimation last = animations.get(animations.size() - 1);\n        return last.getTo();\n    }\n\n    public void add(RotationAnimation animatable) {\n        animations.add(animatable);\n    }\n\n    public void remove(RotationAnimation animatable) {\n        animations.remove(animatable);\n        if (active == animatable) {\n            active = null;\n        }\n    }\n\n    // I would remove these properties fom the `Animatable` class\n    // and instead move them to a `DurationAnimatable` class\n    @Override\n    public double getProgress() {\n        return 0;\n    }\n\n    @Override\n    public Duration getDuration() {\n        return Duration.ZERO;\n    }\n\n    @Override\n    public boolean tick(AnimationEngine engine) {\n        if (active == null) {\n            if (animations.isEmpty()) {\n                return true;\n            }\n            active = animations.remove(0);\n        }\n        if (active.tick(engine)) {\n            active = null;\n            // Save us a whole tick\n            return animations.isEmpty();\n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>Then we'd need to update the <code>Box</code> mouse click handler...</p>\n<pre><code>box.addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // Get all the current animations...\n        List&lt;Animatable&gt; animations = engine.getAnimations();\n        boolean exists = false;\n        for (Animatable animatable : animations) {\n            // Ignore anything which isn't a chained rotation\n            if (!(animatable instanceof ChainedRotationAnimation)) {\n                continue;\n            }\n            // Ignore the animation if it's not for our Box\n            ChainedRotationAnimation chained = (ChainedRotationAnimation) animatable;\n            if (chained.getBox() != box) {\n                continue;\n            }\n            exists = true;\n            // Determine the angle from which the box will start\n            // Either this is the current angle if it's not been\n            // animated or the target angle for the last animation\n            // in the chain\n            float startAngle = box.getAngle();\n            if (chained.getTargetAngle() != null) {\n                startAngle = chained.getTargetAngle();\n            }\n            float endAngle = startAngle + 90;\n            chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\n        }\n        // If no chained animation exists, we need to create one\n        if (exists) {\n            return;\n        }               \n        float startAngle = box.getAngle();\n        float endAngle = startAngle + 90;\n        ChainedRotationAnimation chained = new ChainedRotationAnimation(box);\n        chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\n        engine.add(chained);\n    }\n});\n</code></pre>\n<p>This is just an example and the concepts are loosely based on my personal <a href=\"https://github.com/RustyKnight/SuperSimpleSwingAnimationFramework\" rel=\"nofollow noreferrer\">Super Simple Swing Animation Framework</a> library</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693581298,"creation_date":1693529621,"answer_id":77019968,"question_id":77007226,"body_markdown":"I was able to derive a solution.\r\n\r\nI&#39;ve created a _Box_ inner-class, _Animation_, which extends the _[Thread](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html)_ class.  \r\nIn the _[run](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run())_ method I make the adjustments to _Box_ atomically, and start the _Timer_ object.  \r\n\r\nEvery time the player clicks a _Box_, the animation queue is incremented.  \r\nAnd, when _queue_ is _1_, the _Animation_ thread is started.  \r\nSubsequently, the _Timer_ routine will reset _delta_ when _queue_ is &amp;gt; _1_; continuing the rotation.  \r\nThis reduces the object creation significantly.\r\n\r\nAdditionally, mechanizing the objects in this manner is objectively more resourceful than rigging a _[poll](https://en.wikipedia.org/wiki/Polling_(computer_science))_.  \r\n\r\nSince I&#39;m resolving _angle_, _delta_, and _animator_ from the _Animation_ runnable, I&#39;ve converted them to _[AtomicInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html)_ and _[AtomicReference](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html)_ objects.\r\n\r\nAnd, I&#39;ve removed the _[Math#abs](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#abs(int))_ call by adjusting the math.  \r\nThe _delta_ variable now carries an accumulating value, _0 through 90_.\r\n\r\n```java\r\nclass Animation extends Thread {\r\n    @Override\r\n    public void run() {\r\n        super.run();\r\n        delta.set(0);\r\n        animator.set(\r\n            new Timer(1, l -&gt; {\r\n                angle.set(angle.get() + 2);\r\n                repaint();\r\n                if (delta.addAndGet(2) == 90) {\r\n                    if (angle.get() == 360) angle.set(0);\r\n                    if (queue.get() &gt; 1) delta.set(0);\r\n                    else ((Timer) l.getSource()).stop();\r\n                    queue.set(queue.get() - 1);\r\n                }\r\n            }));\r\n        animator.get().start();\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, I&#39;ve been able to increase the render performance by re-factoring the _Box#paintComponent_ method.\r\n\r\nI&#39;ve added the _[Graphics#dispose](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#dispose())_ invocation, replaced the _[Math#toRadians](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#toRadians(double))_ call, and removed the _[Graphics2D](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html)_ and _[BasicStroke](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BasicStroke.html)_ objects.  \r\nAdditionally, _c_ is now a _[Color](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Color.html)_ object, _color_, so the _c_ method is removed.\r\n\r\n```java\r\nBasicStroke stroke \r\n    = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\r\n\r\n@Override\r\nprotected void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n    ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\r\n    g.setColor(color);\r\n    ((Graphics2D) g).setStroke(stroke);\r\n    ((Graphics2D) g).draw(path);\r\n    g.dispose();\r\n}\r\n```\r\n\r\nI&#39;ve also been updating the game, so there are other adjustments.  \r\nHere is the full re-factor.\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/Lp898.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Lp898.png&quot; width=&quot;300&quot; height=&quot;368&quot;&gt;&lt;/a&gt;\r\n\r\n```java\r\nimport static java.awt.BasicStroke.CAP_SQUARE;\r\nimport static java.awt.BasicStroke.JOIN_ROUND;\r\nimport static java.awt.geom.Path2D.WIND_EVEN_ODD;\r\n\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.geom.GeneralPath;\r\nimport java.util.Random;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\n```\r\n\r\n```java\r\npublic class X {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(GUI::new);\r\n    }\r\n\r\n    static int seed;\r\n    final static Random r\r\n        = new Random() {\r\n            { setSeed(seed = nextInt(0x111111, 0xffffff + 1)); }\r\n        };\r\n\r\n    static int n = 10, m = 10, dim = n * m;\r\n    static int w = 100, wm = (int) (w / 2d);\r\n    static int h = 100, hm = (int) (h / 2d);\r\n\r\n    static class GUI extends JFrame {\r\n        static JPanel top = new JPanel(new GridLayout(1, 1));\r\n        static JPanel bottom = new JPanel(new GridLayout(n, m));\r\n\r\n        GUI() {\r\n            setLayout(new BorderLayout());\r\n            JLabel label = new JLabel();\r\n            label.setFont(new Font(Font.SERIF, Font.PLAIN, (int) ((w + h) / 2d)));\r\n            label.setForeground(new Color(seed));\r\n            label.setText(&quot;0x%x&quot;.formatted(seed));\r\n            top.add(label);\r\n            add(top, BorderLayout.PAGE_START);\r\n            for (int i = 1; i &lt;= dim; i++) bottom.add(new Box());\r\n            add(bottom, BorderLayout.CENTER);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setResizable(false);\r\n            pack();\r\n            setVisible(true);\r\n        }\r\n\r\n        static class Box extends JLabel {\r\n            Color bg, color;\r\n            AtomicInteger angle, delta, queue;\r\n            Animation animation;\r\n            AtomicReference&lt;Timer&gt; animator = new AtomicReference&lt;&gt;();\r\n            GeneralPath path;\r\n            BasicStroke stroke = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\r\n\r\n            Box() {\r\n                bg = new Color(r.nextInt(0xffffff + 1));\r\n                color = new Color(r.nextInt(0xffffff + 1));\r\n                angle = new AtomicInteger(90 * r.nextInt(1, 4));\r\n                delta = new AtomicInteger();\r\n                queue = new AtomicInteger();\r\n                path = switch (r.nextInt(1, 14)) {\r\n                    case 1, 2, 3, 4 -&gt; Paths.L;\r\n                    case 5, 6, 7, 8 -&gt; Paths.I;\r\n                    case 9, 10, 11, 12 -&gt; Paths.T;\r\n                    default -&gt; Paths.X;\r\n                };\r\n                init();\r\n                setVisible(true);\r\n            }\r\n\r\n            void init() {\r\n                setPreferredSize(new Dimension(w, h));\r\n                setOpaque(true);\r\n                setBackground(bg);\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        super.mouseClicked(e);\r\n                        queue.set(queue.get() + 1);\r\n                        if (queue.get() == 1) {\r\n                            animation = new Animation();\r\n                            animation.setPriority(10);\r\n                            animation.start();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\r\n                g.setColor(color);\r\n                ((Graphics2D) g).setStroke(stroke);\r\n                ((Graphics2D) g).draw(path);\r\n                g.dispose();\r\n            }\r\n\r\n            class Animation extends Thread {\r\n                @Override\r\n                public void run() {\r\n                    super.run();\r\n                    delta.set(0);\r\n                    animator.set(\r\n                        new Timer(1, l -&gt; {\r\n                            angle.set(angle.get() + 2);\r\n                            repaint();\r\n                            if (delta.addAndGet(2) == 90) {\r\n                                if (angle.get() == 360) angle.set(0);\r\n                                if (queue.get() &gt; 1) delta.set(0);\r\n                                else ((Timer) l.getSource()).stop();\r\n                                queue.set(queue.get() - 1);\r\n                            }\r\n                        }));\r\n                    animator.get().start();\r\n                }\r\n            }\r\n        }\r\n\r\n        static class Paths {\r\n            static GeneralPath X = new GeneralPath(WIND_EVEN_ODD, 4);\r\n            static GeneralPath T = new GeneralPath(WIND_EVEN_ODD, 4);\r\n            static GeneralPath L = new GeneralPath(WIND_EVEN_ODD, 3);\r\n            static GeneralPath I = new GeneralPath(WIND_EVEN_ODD, 2);\r\n\r\n            static {\r\n                X.moveTo(0, hm);\r\n                X.lineTo(w, hm);\r\n                X.moveTo(wm, 0);\r\n                X.lineTo(wm, h);\r\n                T.moveTo(0, hm);\r\n                T.lineTo(w, hm);\r\n                T.moveTo(wm, hm);\r\n                T.lineTo(wm, 0);\r\n                L.moveTo(wm, 0);\r\n                L.lineTo(wm, hm);\r\n                L.lineTo(w, hm);\r\n                I.moveTo(0, hm);\r\n                I.lineTo(w, hm);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Java Swing – Synchronizing resources for animation threads","body":"<p>I was able to derive a solution.</p>\n<p>I've created a <em>Box</em> inner-class, <em>Animation</em>, which extends the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a></em> class.<br />\nIn the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run()\" rel=\"nofollow noreferrer\">run</a></em> method I make the adjustments to <em>Box</em> atomically, and start the <em>Timer</em> object.</p>\n<p>Every time the player clicks a <em>Box</em>, the animation queue is incremented.<br />\nAnd, when <em>queue</em> is <em>1</em>, the <em>Animation</em> thread is started.<br />\nSubsequently, the <em>Timer</em> routine will reset <em>delta</em> when <em>queue</em> is &gt; <em>1</em>; continuing the rotation.<br />\nThis reduces the object creation significantly.</p>\n<p>Additionally, mechanizing the objects in this manner is objectively more resourceful than rigging a <em><a href=\"https://en.wikipedia.org/wiki/Polling_(computer_science)\" rel=\"nofollow noreferrer\">poll</a></em>.</p>\n<p>Since I'm resolving <em>angle</em>, <em>delta</em>, and <em>animator</em> from the <em>Animation</em> runnable, I've converted them to <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\">AtomicReference</a></em> objects.</p>\n<p>And, I've removed the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\">Math#abs</a></em> call by adjusting the math.<br />\nThe <em>delta</em> variable now carries an accumulating value, <em>0 through 90</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Animation extends Thread {\n    @Override\n    public void run() {\n        super.run();\n        delta.set(0);\n        animator.set(\n            new Timer(1, l -&gt; {\n                angle.set(angle.get() + 2);\n                repaint();\n                if (delta.addAndGet(2) == 90) {\n                    if (angle.get() == 360) angle.set(0);\n                    if (queue.get() &gt; 1) delta.set(0);\n                    else ((Timer) l.getSource()).stop();\n                    queue.set(queue.get() - 1);\n                }\n            }));\n        animator.get().start();\n    }\n}\n</code></pre>\n<p>Additionally, I've been able to increase the render performance by re-factoring the <em>Box#paintComponent</em> method.</p>\n<p>I've added the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#dispose()\" rel=\"nofollow noreferrer\">Graphics#dispose</a></em> invocation, replaced the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#toRadians(double)\" rel=\"nofollow noreferrer\">Math#toRadians</a></em> call, and removed the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Graphics2D</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BasicStroke.html\" rel=\"nofollow noreferrer\">BasicStroke</a></em> objects.<br />\nAdditionally, <em>c</em> is now a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Color.html\" rel=\"nofollow noreferrer\">Color</a></em> object, <em>color</em>, so the <em>c</em> method is removed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicStroke stroke \n    = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\n\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\n    g.setColor(color);\n    ((Graphics2D) g).setStroke(stroke);\n    ((Graphics2D) g).draw(path);\n    g.dispose();\n}\n</code></pre>\n<p>I've also been updating the game, so there are other adjustments.<br />\nHere is the full re-factor.</p>\n<p><a href=\"https://i.stack.imgur.com/Lp898.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lp898.png\" width=\"300\" height=\"368\"></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.awt.BasicStroke.CAP_SQUARE;\nimport static java.awt.BasicStroke.JOIN_ROUND;\nimport static java.awt.geom.Path2D.WIND_EVEN_ODD;\n\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.GeneralPath;\nimport java.util.Random;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.concurrent.atomic.AtomicReference;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class X {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(GUI::new);\n    }\n\n    static int seed;\n    final static Random r\n        = new Random() {\n            { setSeed(seed = nextInt(0x111111, 0xffffff + 1)); }\n        };\n\n    static int n = 10, m = 10, dim = n * m;\n    static int w = 100, wm = (int) (w / 2d);\n    static int h = 100, hm = (int) (h / 2d);\n\n    static class GUI extends JFrame {\n        static JPanel top = new JPanel(new GridLayout(1, 1));\n        static JPanel bottom = new JPanel(new GridLayout(n, m));\n\n        GUI() {\n            setLayout(new BorderLayout());\n            JLabel label = new JLabel();\n            label.setFont(new Font(Font.SERIF, Font.PLAIN, (int) ((w + h) / 2d)));\n            label.setForeground(new Color(seed));\n            label.setText(&quot;0x%x&quot;.formatted(seed));\n            top.add(label);\n            add(top, BorderLayout.PAGE_START);\n            for (int i = 1; i &lt;= dim; i++) bottom.add(new Box());\n            add(bottom, BorderLayout.CENTER);\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            setResizable(false);\n            pack();\n            setVisible(true);\n        }\n\n        static class Box extends JLabel {\n            Color bg, color;\n            AtomicInteger angle, delta, queue;\n            Animation animation;\n            AtomicReference&lt;Timer&gt; animator = new AtomicReference&lt;&gt;();\n            GeneralPath path;\n            BasicStroke stroke = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\n\n            Box() {\n                bg = new Color(r.nextInt(0xffffff + 1));\n                color = new Color(r.nextInt(0xffffff + 1));\n                angle = new AtomicInteger(90 * r.nextInt(1, 4));\n                delta = new AtomicInteger();\n                queue = new AtomicInteger();\n                path = switch (r.nextInt(1, 14)) {\n                    case 1, 2, 3, 4 -&gt; Paths.L;\n                    case 5, 6, 7, 8 -&gt; Paths.I;\n                    case 9, 10, 11, 12 -&gt; Paths.T;\n                    default -&gt; Paths.X;\n                };\n                init();\n                setVisible(true);\n            }\n\n            void init() {\n                setPreferredSize(new Dimension(w, h));\n                setOpaque(true);\n                setBackground(bg);\n                addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        super.mouseClicked(e);\n                        queue.set(queue.get() + 1);\n                        if (queue.get() == 1) {\n                            animation = new Animation();\n                            animation.setPriority(10);\n                            animation.start();\n                        }\n                    }\n                });\n            }\n\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\n                g.setColor(color);\n                ((Graphics2D) g).setStroke(stroke);\n                ((Graphics2D) g).draw(path);\n                g.dispose();\n            }\n\n            class Animation extends Thread {\n                @Override\n                public void run() {\n                    super.run();\n                    delta.set(0);\n                    animator.set(\n                        new Timer(1, l -&gt; {\n                            angle.set(angle.get() + 2);\n                            repaint();\n                            if (delta.addAndGet(2) == 90) {\n                                if (angle.get() == 360) angle.set(0);\n                                if (queue.get() &gt; 1) delta.set(0);\n                                else ((Timer) l.getSource()).stop();\n                                queue.set(queue.get() - 1);\n                            }\n                        }));\n                    animator.get().start();\n                }\n            }\n        }\n\n        static class Paths {\n            static GeneralPath X = new GeneralPath(WIND_EVEN_ODD, 4);\n            static GeneralPath T = new GeneralPath(WIND_EVEN_ODD, 4);\n            static GeneralPath L = new GeneralPath(WIND_EVEN_ODD, 3);\n            static GeneralPath I = new GeneralPath(WIND_EVEN_ODD, 2);\n\n            static {\n                X.moveTo(0, hm);\n                X.lineTo(w, hm);\n                X.moveTo(wm, 0);\n                X.lineTo(wm, h);\n                T.moveTo(0, hm);\n                T.lineTo(w, hm);\n                T.moveTo(wm, hm);\n                T.lineTo(wm, 0);\n                L.moveTo(wm, 0);\n                L.lineTo(wm, hm);\n                L.lineTo(w, hm);\n                I.moveTo(0, hm);\n                I.lineTo(w, hm);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77019968,"answer_count":2,"score":1,"last_activity_date":1693814679,"creation_date":1693391891,"question_id":77007226,"body_markdown":"I&#39;m building a game in _Java_ and I need to synchronize the animation executions.  \r\nCurrently they will occur simultaneously, while accessing the same data.  \r\nI&#39;d prefer that the animations stack up, and execute one at a time.\r\n\r\nIn this game, when you select a block, it will rotate 90 degrees either left or right, randomly.\r\n\r\nI&#39;m using the following code.\r\n\r\n```java\r\nstatic class GUI extends JFrame {\r\n    JPanel panel = new JPanel(new GridLayout(10, 10));\r\n\r\n    static class Box extends JLabel {...}\r\n\r\n    GUI() {\r\n        for (int i = 0; i &lt; 100; i++) panel.add(new Box());\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setResizable(false);\r\n        add(panel);\r\n        pack();\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nAnd, here is the _Box_ class.  \r\nVariables _bg_ and _c_ are _background_ and _color_, _a_ is _angle_, and _d_ is _direction_ where _true_ is clockwise.\r\n\r\n```java\r\nstatic class Box extends JLabel {\r\n    static Random r = new Random();\r\n    int bg, c = r.nextInt(bg = 0xffffff);\r\n    int a0, a = 90 * r.nextInt(1, 4);\r\n    boolean d;\r\n\r\n    Box() {\r\n        setPreferredSize(new Dimension(100, 100));\r\n        setBackground(bg());\r\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\r\n        setOpaque(true);\r\n        addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                super.mouseClicked(e);\r\n                EventQueue.invokeLater(() -&gt; {\r\n                    d = r.nextInt(2) == 0;\r\n                    bg -= 0x0f0f0f;\r\n                    animate();\r\n                    setBackground(bg());\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    void animate() {\r\n        a0 = a;\r\n        new Timer(10, e -&gt; {\r\n            a += d ? -5 : 5;\r\n            if (Math.abs(a - a0) == 90) {\r\n                ((Timer) e.getSource()).stop();\r\n                if (a == 360) a = 0;\r\n            }\r\n            revalidate();\r\n            repaint();\r\n        }).start();\r\n    }\r\n\r\n    Color c() { return new Color(c); }\r\n    Color bg() { return new Color(bg); }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(c());\r\n        g2.setStroke(new BasicStroke(10));\r\n        g2.rotate(Math.toRadians(a), 50, 50);\r\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\r\n        g2.setBackground(bg());\r\n    }\r\n}\r\n```\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/mdqyl.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/mdqyl.png&quot; width=&quot;300&quot; height=&quot;326&quot;&gt;&lt;/a&gt;\r\n\r\nWhen I double-click a _JLabel_ it rotates indefinitely.&amp;nbsp; How do I synchronize this?  \r\nA single click works correctly.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/wX5q9.gif&quot; width=&quot;95&quot; height=&quot;98&quot;&gt;\r\n\r\nEssentially, I want each mouse click to spawn a new _[Timer](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Timer.html)_, that will not begin until the previous has finished.\r\n\r\nOn a final note, should I be using the _volatile_ keyword for _a0_ and _a_?  \r\nAnd, if anyone has any recommendations on my code, feel free.\r\n\r\n----------\r\n\r\nEdit\r\n\r\nI believe I found a solution.\r\n\r\nI&#39;ve created a _Box_ inner-class, _Animation_, which implements _[Runnable](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html)_.  \r\nIn the _[run](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run())_ method I make the adjustments to _Box_, and start the _Timer_ object.\r\n\r\nThe enclosing _Box_ class, now has a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ queue, which is appended to for each mouse-click.  \r\nWhen the _Animation_ object finishes, it will remove itself from _queue_, and start the next, if any.\r\n\r\nFor _a0_ and _a_ I am using the _[AtomicInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html)_ class.  \r\nThis has significantly improved the performance of the rotation.\r\n\r\n```java\r\nAtomicInteger a0 = new AtomicInteger();\r\nAtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\r\n```\r\n\r\n```java\r\nclass Animation implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        d = r.nextInt(2) == 0;\r\n        bg -= 0x0f0f0f;\r\n        setBackground(bg());\r\n        setText(String.valueOf(s));\r\n        a0.set(a.get());\r\n        new Timer(10, l -&gt; {\r\n            a.set(a.get() + (d ? -5 : 5));\r\n            revalidate();\r\n            repaint();\r\n            if (Math.abs(a.get() - a0.get()) == 90) {\r\n                ((Timer) l.getSource()).stop();\r\n                if (a.get() == 360) a.set(0);\r\n                queue.remove(0);\r\n                if (queue.size() != 0) queue.get(0).run();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nAdditionally, I created a method _rotate_, to invoke from the _mouseClicked_ method.\r\n\r\n```java\r\nvoid rotate() {\r\n    queue.add(new Animation());\r\n    if (queue.size() == 1) queue.get(0).run();\r\n}\r\n```\r\n\r\nHere is the complete code for _Box_, re-factored.  \r\nI&#39;ve additionally added text to the box, to count the clicks.\r\n\r\n```java\r\nstatic class Box extends JLabel {\r\n    static Random r = new Random();\r\n    int bg, c = r.nextInt(bg = 0xffffff), s = 0;\r\n    AtomicInteger a0 = new AtomicInteger();\r\n    AtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\r\n    boolean d;\r\n    List&lt;Animation&gt; queue = new ArrayList&lt;&gt;();\r\n\r\n    Box() {\r\n        setPreferredSize(new Dimension(100, 100));\r\n        setBackground(bg());\r\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\r\n        setOpaque(true);\r\n        setFont(new Font(&quot;Mono&quot;, Font.PLAIN, 100));\r\n        setForeground(c());\r\n        setText(String.valueOf(s));\r\n        setHorizontalAlignment(SwingConstants.CENTER);\r\n        setVerticalTextPosition(SwingConstants.CENTER);\r\n        addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                super.mouseClicked(e);\r\n                s++;\r\n                rotate();\r\n            }\r\n        });\r\n    }\r\n\r\n    void rotate() {\r\n        queue.add(new Animation());\r\n        if (queue.size() == 1) queue.get(0).run();\r\n    }\r\n\r\n    Color c() { return new Color(c); }\r\n    Color bg() { return new Color(bg); }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g.create();\r\n        g2.setColor(c());\r\n        g2.setStroke(new BasicStroke(10));\r\n        g2.rotate(Math.toRadians(a.get()), 50, 50);\r\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\r\n        g2.setBackground(bg());\r\n        g2.dispose();\r\n    }\r\n\r\n    class Animation implements Runnable {...}\r\n}\r\n```\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/OzPMz.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/OzPMz.png&quot; width=&quot;300&quot; height=&quot;326&quot;&gt;&lt;/a&gt;","title":"Java Swing – Synchronizing resources for animation threads","body":"<p>I'm building a game in <em>Java</em> and I need to synchronize the animation executions.<br />\nCurrently they will occur simultaneously, while accessing the same data.<br />\nI'd prefer that the animations stack up, and execute one at a time.</p>\n<p>In this game, when you select a block, it will rotate 90 degrees either left or right, randomly.</p>\n<p>I'm using the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class GUI extends JFrame {\n    JPanel panel = new JPanel(new GridLayout(10, 10));\n\n    static class Box extends JLabel {...}\n\n    GUI() {\n        for (int i = 0; i &lt; 100; i++) panel.add(new Box());\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setResizable(false);\n        add(panel);\n        pack();\n        setVisible(true);\n    }\n}\n</code></pre>\n<p>And, here is the <em>Box</em> class.<br />\nVariables <em>bg</em> and <em>c</em> are <em>background</em> and <em>color</em>, <em>a</em> is <em>angle</em>, and <em>d</em> is <em>direction</em> where <em>true</em> is clockwise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Box extends JLabel {\n    static Random r = new Random();\n    int bg, c = r.nextInt(bg = 0xffffff);\n    int a0, a = 90 * r.nextInt(1, 4);\n    boolean d;\n\n    Box() {\n        setPreferredSize(new Dimension(100, 100));\n        setBackground(bg());\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\n        setOpaque(true);\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                EventQueue.invokeLater(() -&gt; {\n                    d = r.nextInt(2) == 0;\n                    bg -= 0x0f0f0f;\n                    animate();\n                    setBackground(bg());\n                });\n            }\n        });\n    }\n\n    void animate() {\n        a0 = a;\n        new Timer(10, e -&gt; {\n            a += d ? -5 : 5;\n            if (Math.abs(a - a0) == 90) {\n                ((Timer) e.getSource()).stop();\n                if (a == 360) a = 0;\n            }\n            revalidate();\n            repaint();\n        }).start();\n    }\n\n    Color c() { return new Color(c); }\n    Color bg() { return new Color(bg); }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(c());\n        g2.setStroke(new BasicStroke(10));\n        g2.rotate(Math.toRadians(a), 50, 50);\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\n        g2.setBackground(bg());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mdqyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mdqyl.png\" width=\"300\" height=\"326\"></a></p>\n<p>When I double-click a <em>JLabel</em> it rotates indefinitely.  How do I synchronize this?<br />\nA single click works correctly.</p>\n<img src=\"https://i.stack.imgur.com/wX5q9.gif\" width=\"95\" height=\"98\">\n<p>Essentially, I want each mouse click to spawn a new <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Timer</a></em>, that will not begin until the previous has finished.</p>\n<p>On a final note, should I be using the <em>volatile</em> keyword for <em>a0</em> and <em>a</em>?<br />\nAnd, if anyone has any recommendations on my code, feel free.</p>\n<hr />\n<p>Edit</p>\n<p>I believe I found a solution.</p>\n<p>I've created a <em>Box</em> inner-class, <em>Animation</em>, which implements <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a></em>.<br />\nIn the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run()\" rel=\"nofollow noreferrer\">run</a></em> method I make the adjustments to <em>Box</em>, and start the <em>Timer</em> object.</p>\n<p>The enclosing <em>Box</em> class, now has a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> queue, which is appended to for each mouse-click.<br />\nWhen the <em>Animation</em> object finishes, it will remove itself from <em>queue</em>, and start the next, if any.</p>\n<p>For <em>a0</em> and <em>a</em> I am using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a></em> class.<br />\nThis has significantly improved the performance of the rotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicInteger a0 = new AtomicInteger();\nAtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Animation implements Runnable {\n    @Override\n    public void run() {\n        d = r.nextInt(2) == 0;\n        bg -= 0x0f0f0f;\n        setBackground(bg());\n        setText(String.valueOf(s));\n        a0.set(a.get());\n        new Timer(10, l -&gt; {\n            a.set(a.get() + (d ? -5 : 5));\n            revalidate();\n            repaint();\n            if (Math.abs(a.get() - a0.get()) == 90) {\n                ((Timer) l.getSource()).stop();\n                if (a.get() == 360) a.set(0);\n                queue.remove(0);\n                if (queue.size() != 0) queue.get(0).run();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>Additionally, I created a method <em>rotate</em>, to invoke from the <em>mouseClicked</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void rotate() {\n    queue.add(new Animation());\n    if (queue.size() == 1) queue.get(0).run();\n}\n</code></pre>\n<p>Here is the complete code for <em>Box</em>, re-factored.<br />\nI've additionally added text to the box, to count the clicks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Box extends JLabel {\n    static Random r = new Random();\n    int bg, c = r.nextInt(bg = 0xffffff), s = 0;\n    AtomicInteger a0 = new AtomicInteger();\n    AtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\n    boolean d;\n    List&lt;Animation&gt; queue = new ArrayList&lt;&gt;();\n\n    Box() {\n        setPreferredSize(new Dimension(100, 100));\n        setBackground(bg());\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\n        setOpaque(true);\n        setFont(new Font(&quot;Mono&quot;, Font.PLAIN, 100));\n        setForeground(c());\n        setText(String.valueOf(s));\n        setHorizontalAlignment(SwingConstants.CENTER);\n        setVerticalTextPosition(SwingConstants.CENTER);\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                s++;\n                rotate();\n            }\n        });\n    }\n\n    void rotate() {\n        queue.add(new Animation());\n        if (queue.size() == 1) queue.get(0).run();\n    }\n\n    Color c() { return new Color(c); }\n    Color bg() { return new Color(bg); }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setColor(c());\n        g2.setStroke(new BasicStroke(10));\n        g2.rotate(Math.toRadians(a.get()), 50, 50);\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\n        g2.setBackground(bg());\n        g2.dispose();\n    }\n\n    class Animation implements Runnable {...}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OzPMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzPMz.png\" width=\"300\" height=\"326\"></a></p>\n"},{"tags":["java","maven","karate","cicd"],"comments":[{"owner":{"account_id":8087134,"reputation":28361,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":1,"creation_date":1693229371,"post_id":76993010,"comment_id":135728792,"body_markdown":"See if maven profiles help: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","body":"See if maven profiles help: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1693229704,"post_id":76993010,"comment_id":135728864,"body_markdown":"Alternatively, you could split up your project into multiple Maven modules where one contains the production code and one contains the tests. Another possibility for speeding things up is caching dependencies between builds.","body":"Alternatively, you could split up your project into multiple Maven modules where one contains the production code and one contains the tests. Another possibility for speeding things up is caching dependencies between builds."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693232067,"post_id":76993010,"comment_id":135729425,"body_markdown":"What do you mean by &quot;installing only the test scope dependencies&quot;?","body":"What do you mean by &quot;installing only the test scope dependencies&quot;?"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1693233688,"post_id":76993010,"comment_id":135729813,"body_markdown":"@khmarbaise https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope","body":"@khmarbaise <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1693239180,"post_id":76993010,"comment_id":135731123,"body_markdown":"Usually maven use cache dependencies to speed up build","body":"Usually maven use cache dependencies to speed up build"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693242365,"post_id":76993010,"comment_id":135731729,"body_markdown":"I know all the guides of maven very well. But I&#39;m asking what you mean by `installing only test scope dependencies` (as already asked).. Or are you talking about the downloads happening during the build within container? If so you should mount the local cache into your container to prevent redownloading all the deps...","body":"I know all the guides of maven very well. But I&#39;m asking what you mean by <code>installing only test scope dependencies</code> (as already asked).. Or are you talking about the downloads happening during the build within container? If so you should mount the local cache into your container to prevent redownloading all the deps..."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1693262516,"post_id":76993010,"comment_id":135734841,"body_markdown":"@khmarbaise yes. Install test scope deps during build time. Actually could this possible to only install test scope deps for test goal in Maven?","body":"@khmarbaise yes. Install test scope deps during build time. Actually could this possible to only install test scope deps for test goal in Maven?"}],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693812420,"creation_date":1693227524,"question_id":76993010,"body_markdown":"I have a CI involving Karate Tests for smoke testing and I want to speed up this step by installing only the test scope dependencies defined in the pom.xml. Is it possible in Maven?\r\n\r\nFor example, would that be possible only install test scope dependencies in test goal?\r\n\r\nI know I can use docker to prepare a image without installing dependencies every times but I got limitation to use docker.","title":"How to instruct Maven to only install test scope dependencies?","body":"<p>I have a CI involving Karate Tests for smoke testing and I want to speed up this step by installing only the test scope dependencies defined in the pom.xml. Is it possible in Maven?</p>\n<p>For example, would that be possible only install test scope dependencies in test goal?</p>\n<p>I know I can use docker to prepare a image without installing dependencies every times but I got limitation to use docker.</p>\n"},{"tags":["java","http","mod-rewrite"],"owner":{"account_id":21909813,"reputation":1,"user_id":16194394,"display_name":"IKAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693812127,"creation_date":1693811917,"question_id":77035774,"body_markdown":"  Currently Apache errors are giving me headaches.\r\n    \r\n  Disable after entering www.xxx.com  \r\n  xxx.com\r\n  Excluding www causes Bad Reuqest.\r\n  In Apache log\r\n    \r\n    \r\n```\r\nAH02032: Hostname xxx.com\r\nThe hostname www.xxx.com served over SNI and served over HTTP are different.\r\n\r\n```\r\n\r\n\r\n apache conf settings VirtualHost\r\n\r\n\r\n```\r\n&lt;virtual host *:443&gt;\r\nServer name www.xxxx.com\r\nServer alias xxxx.com\r\n#ServerAlias ​​​​www.xxxx.com\r\n\r\nRewriteRule ^(.*)$ https://www.xxxx.com$1 [R,L]\r\n\r\nJkMount /home* worker2\r\nJkMount /wcms* worker2\r\nJkMount /ckupload worker2\r\nJkMount /fip* worker1\r\n&lt;/VirtualHost&gt;\r\n\r\n```\r\n    \r\n  \r\nWhat I tried to fix the issue:\r\n\r\n 1. URL redirect call settings\r\n \r\n 2. Test after terminating load balancer web server 1,2\r\n\r\n 3. SSL Settings Delete\r\n\r\n\r\n\r\n  \r\n    \r\n I need help. please.","title":"Apache url call returns random 400 bad request","body":"<p>Currently Apache errors are giving me headaches.</p>\n<p>Disable after entering <a href=\"http://www.xxx.com\" rel=\"nofollow noreferrer\">www.xxx.com</a><br />\nxxx.com\nExcluding www causes Bad Reuqest.\nIn Apache log</p>\n<pre><code>AH02032: Hostname xxx.com\nThe hostname www.xxx.com served over SNI and served over HTTP are different.\n\n</code></pre>\n<p>apache conf settings VirtualHost</p>\n<pre><code>&lt;virtual host *:443&gt;\nServer name www.xxxx.com\nServer alias xxxx.com\n#ServerAlias ​​​​www.xxxx.com\n\nRewriteRule ^(.*)$ https://www.xxxx.com$1 [R,L]\n\nJkMount /home* worker2\nJkMount /wcms* worker2\nJkMount /ckupload worker2\nJkMount /fip* worker1\n&lt;/VirtualHost&gt;\n\n</code></pre>\n<p>What I tried to fix the issue:</p>\n<ol>\n<li><p>URL redirect call settings</p>\n</li>\n<li><p>Test after terminating load balancer web server 1,2</p>\n</li>\n<li><p>SSL Settings Delete</p>\n</li>\n</ol>\n<p>I need help. please.</p>\n"},{"tags":["java","list","sorting","arraylist","collections"],"comments":[{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":2,"creation_date":1615811698,"post_id":16252269,"comment_id":117798565,"body_markdown":"testList.sort(Comparator.reverseOrder());","body":"testList.sort(Comparator.reverseOrder());"}],"answers":[{"comments":[{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":74,"creation_date":1367067214,"post_id":16252290,"comment_id":23253300,"body_markdown":"Maybe it&#39;s worth mentioning that you can define your own `Comparator` :)","body":"Maybe it&#39;s worth mentioning that you can define your own <code>Comparator</code> :)"},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":1,"creation_date":1367067253,"post_id":16252290,"comment_id":23253311,"body_markdown":"@Polygnome The OP is only sorting `Double`s.","body":"@Polygnome The OP is only sorting <code>Double</code>s."},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":5,"creation_date":1367067493,"post_id":16252290,"comment_id":23253387,"body_markdown":"Yes, but you could sort them in various ways, depending on the use case. Sometimes you might want to sort them by distance to 0. I don&#39;t even know about the runtime characteristics of `reverse`, but sorting descending could actually be faster then sorting ascending and then reversing. Moreover, using a List implementation that  supports `Comparator` as constructor argument (thus keeping it invariant) would ensure the list is sorted at all times.","body":"Yes, but you could sort them in various ways, depending on the use case. Sometimes you might want to sort them by distance to 0. I don&#39;t even know about the runtime characteristics of <code>reverse</code>, but sorting descending could actually be faster then sorting ascending and then reversing. Moreover, using a List implementation that  supports <code>Comparator</code> as constructor argument (thus keeping it invariant) would ensure the list is sorted at all times."},{"owner":{"account_id":3199483,"reputation":103,"user_id":2872956,"display_name":"Ayesha"},"score":0,"creation_date":1389652953,"post_id":16252290,"comment_id":31747922,"body_markdown":"Old post of course, but to sort a list of objects, one must have a CompareTo method defined, similar to using Arrays.sort, I assume?","body":"Old post of course, but to sort a list of objects, one must have a CompareTo method defined, similar to using Arrays.sort, I assume?"},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":4,"creation_date":1389653054,"post_id":16252290,"comment_id":31747971,"body_markdown":"@Ayesha Yes, `Collections.sort` uses `compareTo` behind the scenes.","body":"@Ayesha Yes, <code>Collections.sort</code> uses <code>compareTo</code> behind the scenes."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":57,"creation_date":1409440683,"post_id":16252290,"comment_id":39965826,"body_markdown":"One should actually use `Collections.sort(list, Collections.reverseOrder());`. Apart from being more idiomatic (and possibly more efficient), using the reverse order comparator makes sure that the sort is *stable* (meaning that the order of elements will not be changed when they are equal according to the comparator, whereas reversing will change the order).","body":"One should actually use <code>Collections.sort(list, Collections.reverseOrder());</code>. Apart from being more idiomatic (and possibly more efficient), using the reverse order comparator makes sure that the sort is <i>stable</i> (meaning that the order of elements will not be changed when they are equal according to the comparator, whereas reversing will change the order)."},{"owner":{"account_id":1989121,"reputation":12425,"user_id":1783588,"accept_rate":75,"display_name":"jasonleonhard"},"score":0,"creation_date":1502237351,"post_id":16252290,"comment_id":78119018,"body_markdown":"It might be worth mentioning that this sort IS case sensitive. Uppercase A-Z then lowercase a-z","body":"It might be worth mentioning that this sort IS case sensitive. Uppercase A-Z then lowercase a-z"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1550493281,"post_id":16252290,"comment_id":96276735,"body_markdown":"In 2019, this answer is harfmul and outdated. Don&#39;t do this!","body":"In 2019, this answer is harfmul and outdated. Don&#39;t do this!"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1649357724,"post_id":16252290,"comment_id":126861784,"body_markdown":"What about sorting array?","body":"What about sorting array?"},{"owner":{"account_id":12893644,"reputation":586,"user_id":9324765,"display_name":"Akhil"},"score":0,"creation_date":1653854601,"post_id":16252290,"comment_id":127947386,"body_markdown":"@Jack - you can use java.util.Arrays.sort(arr)","body":"@Jack - you can use java.util.Arrays.sort(arr)"}],"tags":[],"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"comment_count":10,"down_vote_count":3,"up_vote_count":671,"is_accepted":true,"score":668,"last_activity_date":1543276740,"creation_date":1367067011,"answer_id":16252290,"question_id":16252269,"body_markdown":"    Collections.sort(testList);\r\n    Collections.reverse(testList);\r\n\r\nThat will do what you want. Remember to import `Collections` though!\r\n\r\n[Here is the documentation for `Collections`](https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#sort(java.util.List)).","title":"How to sort a List/ArrayList?","body":"<pre><code>Collections.sort(testList);\nCollections.reverse(testList);\n</code></pre>\n\n<p>That will do what you want. Remember to import <code>Collections</code> though!</p>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"noreferrer\">Here is the documentation for <code>Collections</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1649357730,"post_id":16252296,"comment_id":126861787,"body_markdown":"What about sorting array?","body":"What about sorting array?"}],"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":1,"down_vote_count":3,"up_vote_count":98,"is_accepted":false,"score":95,"last_activity_date":1440023329,"creation_date":1367067058,"answer_id":16252296,"question_id":16252269,"body_markdown":"Use util method of [java.util.Collections](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html) class, i.e\r\n\r\n    Collections.sort(list)\r\n\r\nIn fact, if you want to sort custom object you can use\r\n\r\n    Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c) \r\n\r\nsee collections api","title":"How to sort a List/ArrayList?","body":"<p>Use util method of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"noreferrer\">java.util.Collections</a> class, i.e</p>\n\n<pre><code>Collections.sort(list)\n</code></pre>\n\n<p>In fact, if you want to sort custom object you can use</p>\n\n<pre><code>Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c) \n</code></pre>\n\n<p>see collections api</p>\n"},{"comments":[{"owner":{"account_id":2801511,"reputation":443,"user_id":2409677,"display_name":"vitalinvent"},"score":0,"creation_date":1559297982,"post_id":27816773,"comment_id":99385001,"body_markdown":"seems to be thas is Collections.synchronizedList helps us","body":"seems to be thas is Collections.synchronizedList helps us"}],"tags":[],"owner":{"display_name":"user4423251"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1546513071,"creation_date":1420624739,"answer_id":27816773,"question_id":16252269,"body_markdown":"    //Here is sorted List alphabetically with syncronized\r\n    \r\n    package com.mnas.technology.automation.utility;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    /**\r\n     * @author manoj.kumar\r\n     */\r\n    public class SynchronizedArrayList {\r\n        static Logger log = Logger.getLogger(SynchronizedArrayList.class.getName());\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Employee&gt; synchronizedList = Collections.synchronizedList(new ArrayList&lt;Employee&gt;());\r\n            synchronizedList.add(new Employee(&quot;Aditya&quot;));\r\n            synchronizedList.add(new Employee(&quot;Siddharth&quot;));\r\n            synchronizedList.add(new Employee(&quot;Manoj&quot;));\r\n            Collections.sort(synchronizedList, new Comparator() {\r\n                public int compare(Object synchronizedListOne, Object synchronizedListTwo) {\r\n                    //use instanceof to verify the references are indeed of the type in question\r\n                    return ((Employee) synchronizedListOne).name\r\n                            .compareTo(((Employee) synchronizedListTwo).name);\r\n                }\r\n            }); \r\n        /*for( Employee sd : synchronizedList) {\r\n        log.info(&quot;Sorted Synchronized Array List...&quot;+sd.name);\r\n        }*/\r\n    \r\n            // when iterating over a synchronized list, we need to synchronize access to the synchronized list\r\n            synchronized (synchronizedList) {\r\n                Iterator&lt;Employee&gt; iterator = synchronizedList.iterator();\r\n                while (iterator.hasNext()) {\r\n                    log.info(&quot;Sorted Synchronized Array List Items: &quot; + iterator.next().name);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n    class Employee {\r\n        String name;\r\n    \r\n        Employee(String name) {\r\n            this.name = name;\r\n    \r\n        }\r\n    }\r\n    \r\n        ","title":"How to sort a List/ArrayList?","body":"<pre><code>//Here is sorted List alphabetically with syncronized\n\npackage com.mnas.technology.automation.utility;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.log4j.Logger;\n\n/**\n * @author manoj.kumar\n */\npublic class SynchronizedArrayList {\n    static Logger log = Logger.getLogger(SynchronizedArrayList.class.getName());\n\n    @SuppressWarnings(\"unchecked\")\n    public static void main(String[] args) {\n\n        List&lt;Employee&gt; synchronizedList = Collections.synchronizedList(new ArrayList&lt;Employee&gt;());\n        synchronizedList.add(new Employee(\"Aditya\"));\n        synchronizedList.add(new Employee(\"Siddharth\"));\n        synchronizedList.add(new Employee(\"Manoj\"));\n        Collections.sort(synchronizedList, new Comparator() {\n            public int compare(Object synchronizedListOne, Object synchronizedListTwo) {\n                //use instanceof to verify the references are indeed of the type in question\n                return ((Employee) synchronizedListOne).name\n                        .compareTo(((Employee) synchronizedListTwo).name);\n            }\n        }); \n    /*for( Employee sd : synchronizedList) {\n    log.info(\"Sorted Synchronized Array List...\"+sd.name);\n    }*/\n\n        // when iterating over a synchronized list, we need to synchronize access to the synchronized list\n        synchronized (synchronizedList) {\n            Iterator&lt;Employee&gt; iterator = synchronizedList.iterator();\n            while (iterator.hasNext()) {\n                log.info(\"Sorted Synchronized Array List Items: \" + iterator.next().name);\n            }\n        }\n\n    }\n}\n\nclass Employee {\n    String name;\n\n    Employee(String name) {\n        this.name = name;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5037951,"reputation":3071,"user_id":4046235,"display_name":"Yuriy Vasylenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1429107343,"creation_date":1429107343,"answer_id":29652714,"question_id":16252269,"body_markdown":"You can use `Collections.sort(list)` to sort `list` if your `list` contains `Comparable` elements. Otherwise I would recommend you to implement that interface like here:\r\n\r\n    public class Circle implements Comparable&lt;Circle&gt; {}\r\n\r\nand of course provide your own realization of `compareTo` method like here:\r\n \r\n\r\n    @Override\r\n        public int compareTo(Circle another) {\r\n            if (this.getD()&lt;another.getD()){\r\n                return -1;\r\n            }else{\r\n                return 1;\r\n            }\r\n        }\r\n\r\nAnd then you can again use `Colection.sort(list)` as now list contains objects of Comparable type and can be sorted. Order depends on `compareTo` method. Check this https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html for more detailed information.","title":"How to sort a List/ArrayList?","body":"<p>You can use <code>Collections.sort(list)</code> to sort <code>list</code> if your <code>list</code> contains <code>Comparable</code> elements. Otherwise I would recommend you to implement that interface like here:</p>\n\n<pre><code>public class Circle implements Comparable&lt;Circle&gt; {}\n</code></pre>\n\n<p>and of course provide your own realization of <code>compareTo</code> method like here:</p>\n\n<pre><code>@Override\n    public int compareTo(Circle another) {\n        if (this.getD()&lt;another.getD()){\n            return -1;\n        }else{\n            return 1;\n        }\n    }\n</code></pre>\n\n<p>And then you can again use <code>Colection.sort(list)</code> as now list contains objects of Comparable type and can be sorted. Order depends on <code>compareTo</code> method. Check this <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\">https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html</a> for more detailed information.</p>\n"},{"comments":[{"owner":{"account_id":9954,"reputation":17400,"user_id":18601,"accept_rate":100,"display_name":"Matt"},"score":6,"creation_date":1431509011,"post_id":30210090,"comment_id":48525796,"body_markdown":"There is also `Collections.reverseOrder()` without any arguments, which makes your implementation of `compareDouble` superfluous (it&#39;s equivalent to the natural ordering of `Double`s). The answer here should be `Collections.sort(testList, Collections.reverseOrder());`","body":"There is also <code>Collections.reverseOrder()</code> without any arguments, which makes your implementation of <code>compareDouble</code> superfluous (it&#39;s equivalent to the natural ordering of <code>Double</code>s). The answer here should be <code>Collections.sort(testList, Collections.reverseOrder());</code>"}],"tags":[],"owner":{"account_id":5497863,"reputation":59,"user_id":4368313,"display_name":"Franklin Okeme"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1431508039,"creation_date":1431507455,"answer_id":30210090,"question_id":16252269,"body_markdown":"if you are using Java SE 8, then this might be of help.\r\n\r\n    //create a comparator object using a Lambda expression\r\n    Comparator&lt;Double&gt; compareDouble = (d1, d2) -&gt; d1.compareTo(d2);\r\n\r\n    //Sort the Collection in this case &#39;testList&#39; in reverse order\r\n    Collections.sort(testList, Collections.reverseOrder(compareDouble));\r\n\r\n    //print the sorted list using method reference only applicable in SE 8\r\n    testList.forEach(System.out::println);","title":"How to sort a List/ArrayList?","body":"<p>if you are using Java SE 8, then this might be of help.</p>\n\n<pre><code>//create a comparator object using a Lambda expression\nComparator&lt;Double&gt; compareDouble = (d1, d2) -&gt; d1.compareTo(d2);\n\n//Sort the Collection in this case 'testList' in reverse order\nCollections.sort(testList, Collections.reverseOrder(compareDouble));\n\n//print the sorted list using method reference only applicable in SE 8\ntestList.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9954,"reputation":17400,"user_id":18601,"accept_rate":100,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1431508528,"creation_date":1431508528,"answer_id":30210459,"question_id":16252269,"body_markdown":"`Collections.sort` allows you to pass an instance of a `Comparator` which defines the sorting logic. So instead of sorting the list in natural order and then reversing it, one can simply pass `Collections.reverseOrder()` to `sort` in order to sort the list in reverse order:\r\n\r\n    // import java.util.Collections;\r\n    Collections.sort(testList, Collections.reverseOrder());\r\n\r\nAs mentioned by @Marco13, apart from being more idiomatic (and possibly more efficient), using the reverse order comparator makes sure that the sort is stable (meaning that the order of elements will not be changed when they are equal according to the comparator, whereas reversing will change the order)","title":"How to sort a List/ArrayList?","body":"<p><code>Collections.sort</code> allows you to pass an instance of a <code>Comparator</code> which defines the sorting logic. So instead of sorting the list in natural order and then reversing it, one can simply pass <code>Collections.reverseOrder()</code> to <code>sort</code> in order to sort the list in reverse order:</p>\n\n<pre><code>// import java.util.Collections;\nCollections.sort(testList, Collections.reverseOrder());\n</code></pre>\n\n<p>As mentioned by @Marco13, apart from being more idiomatic (and possibly more efficient), using the reverse order comparator makes sure that the sort is stable (meaning that the order of elements will not be changed when they are equal according to the comparator, whereas reversing will change the order)</p>\n"},{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564474107,"creation_date":1451453288,"answer_id":34523438,"question_id":16252269,"body_markdown":"You can use like that \r\n\r\n    ArrayList&lt;Group&gt; groupList = new ArrayList&lt;&gt;();\r\n    Collections.sort(groupList, Collections.reverseOrder());\r\n    Collections.reverse(groupList);","title":"How to sort a List/ArrayList?","body":"<p>You can use like that </p>\n\n<pre><code>ArrayList&lt;Group&gt; groupList = new ArrayList&lt;&gt;();\nCollections.sort(groupList, Collections.reverseOrder());\nCollections.reverse(groupList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":1,"creation_date":1514288886,"post_id":34646172,"comment_id":82925089,"body_markdown":"What should I do if `CustomData ` is `List&lt;AnotherModel&gt;` which `AnotherModel` has `id` and I want to sort by `id`? And I just access to `CustomData ` model in my class.","body":"What should I do if <code>CustomData </code> is <code>List&lt;AnotherModel&gt;</code> which <code>AnotherModel</code> has <code>id</code> and I want to sort by <code>id</code>? And I just access to <code>CustomData </code> model in my class."},{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":2,"creation_date":1515779674,"post_id":34646172,"comment_id":83445456,"body_markdown":"You&#39;d just replace the CustomData class with AnotherModel and have a line like this :   return lhs.id &gt; rhs.id ? -1 : .. etc","body":"You&#39;d just replace the CustomData class with AnotherModel and have a line like this :   return lhs.id &gt; rhs.id ? -1 : .. etc"},{"owner":{"account_id":7901776,"reputation":613,"user_id":5968596,"display_name":"LordKiz"},"score":1,"creation_date":1565688639,"post_id":34646172,"comment_id":101421625,"body_markdown":"The compare return statement can be better written as `Integer.compare(rhs.customInt, lhs.customInt);`","body":"The compare return statement can be better written as <code>Integer.compare(rhs.customInt, lhs.customInt);</code>"}],"tags":[],"owner":{"account_id":5432705,"reputation":4075,"user_id":4323043,"accept_rate":75,"display_name":"최봉재"},"comment_count":3,"down_vote_count":0,"up_vote_count":178,"is_accepted":false,"score":178,"last_activity_date":1503667190,"creation_date":1452131977,"answer_id":34646172,"question_id":16252269,"body_markdown":"Descending:\r\n\r\n    Collections.sort(mArrayList, new Comparator&lt;CustomData&gt;() {\r\n        @Override\r\n        public int compare(CustomData lhs, CustomData rhs) {\r\n            // -1 - less than, 1 - greater than, 0 - equal, all inversed for descending\r\n            return lhs.customInt &gt; rhs.customInt ? -1 : (lhs.customInt &lt; rhs.customInt) ? 1 : 0;\r\n        }\r\n    });\r\n\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>Descending:</p>\n\n<pre><code>Collections.sort(mArrayList, new Comparator&lt;CustomData&gt;() {\n    @Override\n    public int compare(CustomData lhs, CustomData rhs) {\n        // -1 - less than, 1 - greater than, 0 - equal, all inversed for descending\n        return lhs.customInt &gt; rhs.customInt ? -1 : (lhs.customInt &lt; rhs.customInt) ? 1 : 0;\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4392173,"reputation":433,"user_id":3580207,"accept_rate":100,"display_name":"kavics"},"score":0,"creation_date":1524303367,"post_id":35075891,"comment_id":86925155,"body_markdown":"This is cool, thanks!\n\nThis one is a bit more compact:\n\nCollections.sort(testList, Comparator.reverseOrder());","body":"This is cool, thanks!  This one is a bit more compact:  Collections.sort(testList, Comparator.reverseOrder());"},{"owner":{"account_id":61337,"reputation":1660,"user_id":182849,"accept_rate":100,"display_name":"jonasespelita"},"score":1,"creation_date":1528449533,"post_id":35075891,"comment_id":88522243,"body_markdown":"Even more compact: testList.sort(Comparator.reverseOrder());","body":"Even more compact: testList.sort(Comparator.reverseOrder());"},{"owner":{"account_id":8547073,"reputation":318,"user_id":6405287,"display_name":"Skillz"},"score":0,"creation_date":1679964051,"post_id":35075891,"comment_id":133811916,"body_markdown":"You don&#39;t need the compareTo as well. `Collections.sort(testList, (a, b) -&gt; b - a);` will achieve the same result","body":"You don&#39;t need the compareTo as well. <code>Collections.sort(testList, (a, b) -&gt; b - a);</code> will achieve the same result"}],"tags":[],"owner":{"account_id":7732355,"reputation":691,"user_id":5855034,"display_name":"cyrus"},"comment_count":3,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1693806049,"creation_date":1454034824,"answer_id":35075891,"question_id":16252269,"body_markdown":"Using lambdas (Java 8), and stripping it down to the barest of syntax (the JVM will infer *plenty* in this case), you get:\r\n\r\n    Collections.sort(testList, (a, b) -&gt; b.compareTo(a));\r\n\r\nA more verbose version:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // Implement a reverse-order Comparator by lambda function\r\n    Comparator&lt;Double&gt; comp = (Double a, Double b) -&gt; {\r\n        return b.compareTo(a);\r\n    };\r\n    \r\n    Collections.sort(testList, comp);\r\n\r\nThe use of a lambda is possible because the Comparator interface has only a single method to implement, so the VM can infer which method it&#39;s implementing. Since the types of the params can be inferred, they don&#39;t need to be stated, i.e. `(a, b)` instead of `(Double a, Double b)`. And since the lambda body has only a single line, and the method is expected to return a value, the `return` is inferred and the braces aren&#39;t necessary.","title":"How to sort a List/ArrayList?","body":"<p>Using lambdas (Java 8), and stripping it down to the barest of syntax (the JVM will infer <em>plenty</em> in this case), you get:</p>\n<pre><code>Collections.sort(testList, (a, b) -&gt; b.compareTo(a));\n</code></pre>\n<p>A more verbose version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Implement a reverse-order Comparator by lambda function\nComparator&lt;Double&gt; comp = (Double a, Double b) -&gt; {\n    return b.compareTo(a);\n};\n\nCollections.sort(testList, comp);\n</code></pre>\n<p>The use of a lambda is possible because the Comparator interface has only a single method to implement, so the VM can infer which method it's implementing. Since the types of the params can be inferred, they don't need to be stated, i.e. <code>(a, b)</code> instead of <code>(Double a, Double b)</code>. And since the lambda body has only a single line, and the method is expected to return a value, the <code>return</code> is inferred and the braces aren't necessary.</p>\n"},{"comments":[{"owner":{"account_id":3357289,"reputation":1456,"user_id":2819935,"accept_rate":83,"display_name":"Syed Anas"},"score":0,"creation_date":1519213960,"post_id":36407734,"comment_id":84815999,"body_markdown":"To me this is the best answer as it also works for sorting using objects ... example \n`locationDetails.sort((locationDetailAsc,locationDetailsDsc) -&gt;\n                            Long.compare(locationDetailsDsc.getSnapshot().getQuantity(),\n                                    locationDetailAsc.getSnapshot().getQuantity()));`","body":"To me this is the best answer as it also works for sorting using objects ... example  <code>locationDetails.sort((locationDetailAsc,locationDetailsDsc) -&gt;                             Long.compare(locationDetailsDsc.getSnapshot().getQuantity(),                                     locationDetailAsc.getSnapshot().getQuantity()));</code>"},{"owner":{"account_id":16112163,"reputation":183,"user_id":11630139,"display_name":"Rishikrishna"},"score":0,"creation_date":1600775433,"post_id":36407734,"comment_id":113188399,"body_markdown":"what type of sort does this method perform?","body":"what type of sort does this method perform?"}],"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1459786404,"creation_date":1459786404,"answer_id":36407734,"question_id":16252269,"body_markdown":"With Java8 there is a default sort method on the List interface that will allow you to sort the collection if you provide a Comparator.  You can easily sort the example in the question as follows:\r\n\r\n    testList.sort((a, b) -&gt; Double.compare(b, a));\r\n\r\nNote: the args in the lambda are swapped when passed in to Double.compare to ensure the sort is descending","title":"How to sort a List/ArrayList?","body":"<p>With Java8 there is a default sort method on the List interface that will allow you to sort the collection if you provide a Comparator.  You can easily sort the example in the question as follows:</p>\n\n<pre><code>testList.sort((a, b) -&gt; Double.compare(b, a));\n</code></pre>\n\n<p>Note: the args in the lambda are swapped when passed in to Double.compare to ensure the sort is descending</p>\n"},{"tags":[],"owner":{"account_id":2363312,"reputation":912,"user_id":2069549,"display_name":"Thiago"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1564474133,"creation_date":1459858071,"answer_id":36425977,"question_id":16252269,"body_markdown":"You can do like this:\r\n\r\n    List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\r\n\tCollections.sort(yourList, Collections.reverseOrder());\r\n\r\n\r\nCollection has a default Comparator that can help you with that.\r\n\r\nAlso, if you want to use some Java 8 new features, you can do like that:\r\n\r\n    List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\r\n\tyourList = yourList.stream().sorted(Collections.reverseOrder()).collect(Collectors.toList());","title":"How to sort a List/ArrayList?","body":"<p>You can do like this:</p>\n\n<pre><code>List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\nCollections.sort(yourList, Collections.reverseOrder());\n</code></pre>\n\n<p>Collection has a default Comparator that can help you with that.</p>\n\n<p>Also, if you want to use some Java 8 new features, you can do like that:</p>\n\n<pre><code>List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\nyourList = yourList.stream().sorted(Collections.reverseOrder()).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":926320,"reputation":158,"user_id":957059,"display_name":"lippo"},"score":0,"creation_date":1475576446,"post_id":38207945,"comment_id":66987523,"body_markdown":"Where is &#39;comparing&#39;-method located?","body":"Where is &#39;comparing&#39;-method located?"},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":1,"creation_date":1475587251,"post_id":38207945,"comment_id":66994692,"body_markdown":"you need to import: import static java.util.Comparator.comparing;","body":"you need to import: import static java.util.Comparator.comparing;"},{"owner":{"account_id":926320,"reputation":158,"user_id":957059,"display_name":"lippo"},"score":1,"creation_date":1475665678,"post_id":38207945,"comment_id":67031199,"body_markdown":"It is available with Java 1.7?","body":"It is available with Java 1.7?"},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":5,"creation_date":1475676108,"post_id":38207945,"comment_id":67038798,"body_markdown":"No, this is a part of stream and functional interface, which is all part of Java 8","body":"No, this is a part of stream and functional interface, which is all part of Java 8"},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1538977855,"post_id":38207945,"comment_id":92318521,"body_markdown":"What type is your `testList`? I can&#39;t see a zero-arg `sort()` on `List&lt;&gt;` or `Iterable&lt;&gt;`.","body":"What type is your <code>testList</code>? I can&#39;t see a zero-arg <code>sort()</code> on <code>List&lt;&gt;</code> or <code>Iterable&lt;&gt;</code>."},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":1,"creation_date":1539027600,"post_id":38207945,"comment_id":92344240,"body_markdown":"You are right @AjahnCharles. They have removed zero-arg, so I have updated my answer now.","body":"You are right @AjahnCharles. They have removed zero-arg, so I have updated my answer now."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1539068402,"post_id":38207945,"comment_id":92355554,"body_markdown":"@krmanish007 - `Comparator.naturalOrder()` is a welcome replacement!! Good knowledge :)","body":"@krmanish007 - <code>Comparator.naturalOrder()</code> is a welcome replacement!! Good knowledge :)"},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":0,"creation_date":1541451780,"post_id":38207945,"comment_id":93214692,"body_markdown":"What&#39;s great about the `testList.stream().sorted` is that it creates a sorted _copy_ of the list in a single line. This is handy if you don&#39;t want to change the order of the original list","body":"What&#39;s great about the <code>testList.stream().sorted</code> is that it creates a sorted <i>copy</i> of the list in a single line. This is handy if you don&#39;t want to change the order of the original list"},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":0,"creation_date":1541451957,"post_id":38207945,"comment_id":93214773,"body_markdown":"The `stream()` example requires `.collect(Collectors.toList())` at the end to complete the operation.","body":"The <code>stream()</code> example requires <code>.collect(Collectors.toList())</code> at the end to complete the operation."},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":0,"creation_date":1541455071,"post_id":38207945,"comment_id":93216055,"body_markdown":"you are right @JonathanBenn, but I am not returning any particular type, so in this case, it will return stream. My idea was to show the different ways of doing the sorting on a list. Regarding your comment about `testList.stream().sorted`, it is more useful if you are doing a few other operations other than sorting, then you can open a stream and do it together, rather than doing it in two different operations.","body":"you are right @JonathanBenn, but I am not returning any particular type, so in this case, it will return stream. My idea was to show the different ways of doing the sorting on a list. Regarding your comment about <code>testList.stream().sorted</code>, it is more useful if you are doing a few other operations other than sorting, then you can open a stream and do it together, rather than doing it in two different operations."}],"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":10,"down_vote_count":0,"up_vote_count":155,"is_accepted":false,"score":155,"last_activity_date":1541462126,"creation_date":1467734655,"answer_id":38207945,"question_id":16252269,"body_markdown":"For your example, this will do the magic in Java 8\r\n\r\n    List&lt;Double&gt; testList = new ArrayList();\r\n    testList.sort(Comparator.naturalOrder());\r\n\r\nBut if you want to sort by some of the fields of the object you are sorting, you can do it easily by:\r\n\r\n    testList.sort(Comparator.comparing(ClassName::getFieldName));\r\nor \r\n\r\n     testList.sort(Comparator.comparing(ClassName::getFieldName).reversed());\r\n\r\nor\r\n\r\n     testList.stream().sorted(Comparator.comparing(ClassName::getFieldName).reversed()).collect(Collectors.toList());\r\n\r\nSources:  https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\r\n","title":"How to sort a List/ArrayList?","body":"<p>For your example, this will do the magic in Java 8</p>\n\n<pre><code>List&lt;Double&gt; testList = new ArrayList();\ntestList.sort(Comparator.naturalOrder());\n</code></pre>\n\n<p>But if you want to sort by some of the fields of the object you are sorting, you can do it easily by:</p>\n\n<pre><code>testList.sort(Comparator.comparing(ClassName::getFieldName));\n</code></pre>\n\n<p>or </p>\n\n<pre><code> testList.sort(Comparator.comparing(ClassName::getFieldName).reversed());\n</code></pre>\n\n<p>or</p>\n\n<pre><code> testList.stream().sorted(Comparator.comparing(ClassName::getFieldName).reversed()).collect(Collectors.toList());\n</code></pre>\n\n<p>Sources:  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a></p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693811202,"creation_date":1487641049,"answer_id":42357183,"question_id":16252269,"body_markdown":"With [Eclipse Collections][1] you could create a primitive double list, sort it and then reverse it to put it in descending order.  This approach would avoid boxing the doubles.  \r\n\r\n    MutableDoubleList doubleList =\r\n        DoubleLists.mutable.with(\r\n            0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\r\n            0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\r\n            .sortThis().reverseThis();\r\n    doubleList.each(System.out::println);\r\n\r\n**Updated:** Sept. 2023\r\n\r\nSince the 10.3 release, [Eclipse Collections supports indirect sorting of primitive lists][2].\r\n\r\n    @Test\r\n    public void sortDoubleListInDescendingOrder()\r\n    {\r\n        MutableDoubleList testList = DoubleLists.mutable\r\n                .with(0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71, 0.71,\r\n                      0.71, 0.92, 0.12, 0.65, 0.34, 0.62);\r\n    \r\n        DoubleList expected = DoubleLists.mutable\r\n                .with(0.92, 0.9, 0.71, 0.71, 0.71, 0.65, 0.62, 0.54,\r\n                      0.5, 0.34, 0.2, 0.12, 0.1, 0.1, 0.1);\r\n\r\n        Assertions.assertNotEquals(expected, testList);\r\n    \r\n        testList.sortThis((i, j) -&gt; -Double.compare(i, j));\r\n    \r\n        Assertions.assertEquals(expected, testList);\r\n    }\r\n\r\n**End Update**\r\n\r\nIf you want a `List&lt;Double&gt;`, then the following would work.\r\n\r\n    List&lt;Double&gt; objectList =\r\n        Lists.mutable.with(\r\n            0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\r\n            0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\r\n            .sortThis(Collections.reverseOrder());\r\n    objectList.forEach(System.out::println);\r\n\r\nIf you want to keep the type as `ArrayList&lt;Double&gt;`, you can initialize and sort the list using the `ArrayListIterate` utility class as follows:\r\n\r\n    ArrayList&lt;Double&gt; arrayList =\r\n        ArrayListIterate.sortThis(\r\n                new ArrayList&lt;&gt;(objectList), Collections.reverseOrder());\r\n    arrayList.forEach(System.out::println);\r\n\r\nNote: I am a committer for [Eclipse Collections][1].\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://medium.com/javarevisited/eclipse-collections-now-supports-indirect-sorting-of-primitive-lists-e2447ca5dbc3","title":"How to sort a List/ArrayList?","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> you could create a primitive double list, sort it and then reverse it to put it in descending order.  This approach would avoid boxing the doubles.</p>\n<pre><code>MutableDoubleList doubleList =\n    DoubleLists.mutable.with(\n        0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\n        0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\n        .sortThis().reverseThis();\ndoubleList.each(System.out::println);\n</code></pre>\n<p><strong>Updated:</strong> Sept. 2023</p>\n<p>Since the 10.3 release, <a href=\"https://medium.com/javarevisited/eclipse-collections-now-supports-indirect-sorting-of-primitive-lists-e2447ca5dbc3\" rel=\"nofollow noreferrer\">Eclipse Collections supports indirect sorting of primitive lists</a>.</p>\n<pre><code>@Test\npublic void sortDoubleListInDescendingOrder()\n{\n    MutableDoubleList testList = DoubleLists.mutable\n            .with(0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71, 0.71,\n                  0.71, 0.92, 0.12, 0.65, 0.34, 0.62);\n\n    DoubleList expected = DoubleLists.mutable\n            .with(0.92, 0.9, 0.71, 0.71, 0.71, 0.65, 0.62, 0.54,\n                  0.5, 0.34, 0.2, 0.12, 0.1, 0.1, 0.1);\n\n    Assertions.assertNotEquals(expected, testList);\n\n    testList.sortThis((i, j) -&gt; -Double.compare(i, j));\n\n    Assertions.assertEquals(expected, testList);\n}\n</code></pre>\n<p><strong>End Update</strong></p>\n<p>If you want a <code>List&lt;Double&gt;</code>, then the following would work.</p>\n<pre><code>List&lt;Double&gt; objectList =\n    Lists.mutable.with(\n        0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\n        0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\n        .sortThis(Collections.reverseOrder());\nobjectList.forEach(System.out::println);\n</code></pre>\n<p>If you want to keep the type as <code>ArrayList&lt;Double&gt;</code>, you can initialize and sort the list using the <code>ArrayListIterate</code> utility class as follows:</p>\n<pre><code>ArrayList&lt;Double&gt; arrayList =\n    ArrayListIterate.sortThis(\n            new ArrayList&lt;&gt;(objectList), Collections.reverseOrder());\narrayList.forEach(System.out::println);\n</code></pre>\n<p>Note: I am a committer for <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496635597,"creation_date":1496635597,"answer_id":44361529,"question_id":16252269,"body_markdown":"|*| Sorting an List :\r\n\r\n    import java.util.Collections;\r\n\r\n|=&gt; Sort Asc Order :\r\n\r\n\tCollections.sort(NamAryVar);\r\n\r\n|=&gt; Sort Dsc Order :\r\n\r\n\tCollections.sort(NamAryVar, Collections.reverseOrder());\r\n\r\n---\r\n|*| Reverse the order of List :\r\n\r\n\tCollections.reverse(NamAryVar);","title":"How to sort a List/ArrayList?","body":"<p>|*| Sorting an List :</p>\n\n<pre><code>import java.util.Collections;\n</code></pre>\n\n<p>|=> Sort Asc Order :</p>\n\n<pre><code>Collections.sort(NamAryVar);\n</code></pre>\n\n<p>|=> Sort Dsc Order :</p>\n\n<pre><code>Collections.sort(NamAryVar, Collections.reverseOrder());\n</code></pre>\n\n<hr>\n\n<p>|*| Reverse the order of List :</p>\n\n<pre><code>Collections.reverse(NamAryVar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834295,"reputation":384,"user_id":2244734,"display_name":"Appesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1547732165,"creation_date":1499976845,"answer_id":45090141,"question_id":16252269,"body_markdown":"In JAVA 8 its much easy now.\r\n\r\n    List&lt;String&gt; alphaNumbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\r\n    List&lt;String&gt; alphaNumbersUpperCase = alphaNumbers.stream()\r\n        .map(String::toUpperCase)\r\n        .sorted()\r\n        .collect(Collectors.toList());\r\n    System.out.println(alphaNumbersUpperCase); // [FOUR, ONE, THREE, TWO]\r\n\r\n-- For reverse use this\r\n\r\n    .sorted(Comparator.reverseOrder())","title":"How to sort a List/ArrayList?","body":"<p>In JAVA 8 its much easy now.</p>\n\n<pre><code>List&lt;String&gt; alphaNumbers = Arrays.asList(\"one\", \"two\", \"three\", \"four\");\nList&lt;String&gt; alphaNumbersUpperCase = alphaNumbers.stream()\n    .map(String::toUpperCase)\n    .sorted()\n    .collect(Collectors.toList());\nSystem.out.println(alphaNumbersUpperCase); // [FOUR, ONE, THREE, TWO]\n</code></pre>\n\n<p>-- For reverse use this</p>\n\n<pre><code>.sorted(Comparator.reverseOrder())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5603475,"reputation":3045,"user_id":4438921,"accept_rate":67,"display_name":"linrongbin"},"score":0,"creation_date":1525868153,"post_id":47907804,"comment_id":87523464,"body_markdown":"`if you want to short by name` -&gt; `if you want to sort by name`","body":"<code>if you want to short by name</code> -&gt; <code>if you want to sort by name</code>"}],"tags":[],"owner":{"account_id":11797537,"reputation":598,"user_id":8631958,"display_name":"Ibrahima Timera"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513779033,"creation_date":1513778657,"answer_id":47907804,"question_id":16252269,"body_markdown":"For example I have a class Person: String name, int age ==&gt;Constructor new Person(name,age) \r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n\r\n\r\n    public void main(String[] args){\r\n        Person ibrahima=new Person(&quot;Timera&quot;,40);\r\n        Person toto=new Person(&quot;Toto&quot;,35);\r\n        Person alex=new Person(&quot;Alex&quot;,50);\r\n        ArrayList&lt;Person&gt; myList=new ArrayList&lt;Person&gt;\r\n        Collections.sort(myList, new Comparator&lt;Person&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Person p1, Person p2) {\r\n\t\t\t\t// return p1.age+&quot;&quot;.compareTo(p2.age+&quot;&quot;); //sort by age\r\n\t\t\t\treturn p1.name.compareTo(p2.name); // if you want to short by name\r\n\t\t\t}\r\n\t\t});\r\n\t\tSystem.out.println(myList.toString());\r\n        //[Person [name=Alex, age=50], Person [name=Timera, age=40], Person [name=Toto, age=35]]\r\n        Collections.reverse(myList);\r\n\t\tSystem.out.println(myList.toString());\r\n        //[Person [name=Toto, age=35], Person [name=Timera, age=40], Person [name=Alex, age=50]]\r\n\r\n    }\r\n","title":"How to sort a List/ArrayList?","body":"<p>For example I have a class Person: String name, int age ==>Constructor new Person(name,age) </p>\n\n<pre><code>import java.util.Collections;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\n\npublic void main(String[] args){\n    Person ibrahima=new Person(\"Timera\",40);\n    Person toto=new Person(\"Toto\",35);\n    Person alex=new Person(\"Alex\",50);\n    ArrayList&lt;Person&gt; myList=new ArrayList&lt;Person&gt;\n    Collections.sort(myList, new Comparator&lt;Person&gt;() {\n        @Override\n        public int compare(Person p1, Person p2) {\n            // return p1.age+\"\".compareTo(p2.age+\"\"); //sort by age\n            return p1.name.compareTo(p2.name); // if you want to short by name\n        }\n    });\n    System.out.println(myList.toString());\n    //[Person [name=Alex, age=50], Person [name=Timera, age=40], Person [name=Toto, age=35]]\n    Collections.reverse(myList);\n    System.out.println(myList.toString());\n    //[Person [name=Toto, age=35], Person [name=Timera, age=40], Person [name=Alex, age=50]]\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6394574,"reputation":675,"user_id":5623476,"display_name":"Ivan Kovtun"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1525807995,"creation_date":1525807995,"answer_id":50241073,"question_id":16252269,"body_markdown":"The following line should do the thick\r\n\r\n    testList.sort(Collections.reverseOrder());\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>The following line should do the thick</p>\n\n<pre><code>testList.sort(Collections.reverseOrder());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":1,"creation_date":1649357808,"post_id":54747392,"comment_id":126861811,"body_markdown":"What about sorting array?","body":"What about sorting array?"}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":1,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1620037656,"creation_date":1550493142,"answer_id":54747392,"question_id":16252269,"body_markdown":"Here is a short cheatsheet that covers typical cases:\r\n\r\n    import static java.util.Comparator.comparing;\r\n\r\n    // sort\r\n    list.sort(naturalOrder());\r\n\r\n    // sort (reversed)\r\n    list.sort(reverseOrder());\r\n\r\n    // sort by field\r\n    list.sort(comparing(Type::getField));\r\n\r\n    // sort by field (reversed)\r\n    list.sort(comparing(Type::getField).reversed());\r\n\r\n    // sort by int field\r\n    list.sort(comparingInt(Type::getIntField));\r\n\r\n    // sort by double field (reversed)\r\n    list.sort(comparingDouble(Type::getDoubleField).reversed());\r\n\r\n    // sort by nullable field (nulls last)\r\n    list.sort(comparing(Type::getNullableField, nullsLast(naturalOrder())));\r\n\r\n    // two-level sort\r\n    list.sort(comparing(Type::getField1).thenComparing(Type::getField2));\r\n","title":"How to sort a List/ArrayList?","body":"<p>Here is a short cheatsheet that covers typical cases:</p>\n<pre><code>import static java.util.Comparator.comparing;\n\n// sort\nlist.sort(naturalOrder());\n\n// sort (reversed)\nlist.sort(reverseOrder());\n\n// sort by field\nlist.sort(comparing(Type::getField));\n\n// sort by field (reversed)\nlist.sort(comparing(Type::getField).reversed());\n\n// sort by int field\nlist.sort(comparingInt(Type::getIntField));\n\n// sort by double field (reversed)\nlist.sort(comparingDouble(Type::getDoubleField).reversed());\n\n// sort by nullable field (nulls last)\nlist.sort(comparing(Type::getNullableField, nullsLast(naturalOrder())));\n\n// two-level sort\nlist.sort(comparing(Type::getField1).thenComparing(Type::getField2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5475147,"reputation":199,"user_id":4353328,"display_name":"Caner Yılmaz"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1597756415,"creation_date":1597756415,"answer_id":63469424,"question_id":16252269,"body_markdown":"     \r\n\r\n      yearList = arrayListOf()\r\n        for (year in 1950 until 2021) {\r\n            yearList.add(year)\r\n        }\r\n\r\n       yearList.reverse()\r\n        val list: ArrayList&lt;String&gt; = arrayListOf()\r\n\r\n        for (year in yearList) {\r\n            list.add(year.toString())\r\n        }","title":"How to sort a List/ArrayList?","body":"<pre><code>  yearList = arrayListOf()\n    for (year in 1950 until 2021) {\n        yearList.add(year)\n    }\n\n   yearList.reverse()\n    val list: ArrayList&lt;String&gt; = arrayListOf()\n\n    for (year in yearList) {\n        list.add(year.toString())\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4612886,"reputation":565,"user_id":3740432,"accept_rate":0,"display_name":"Afsar Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598607017,"creation_date":1598607017,"answer_id":63631091,"question_id":16252269,"body_markdown":"If you have to sort object based on its id in the ArrayList , then use java8 stream.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Person&gt; personListSorted =\r\n                    personList.stream()\r\n                      .sorted(Comparator.comparing(Person::getPersonId))\r\n                      .collect(Collectors.toList());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>If you have to sort object based on its id in the ArrayList , then use java8 stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code> List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\n\n    List&lt;Person&gt; personListSorted =\n                personList.stream()\n                  .sorted(Comparator.comparing(Person::getPersonId))\n                  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14288537,"reputation":31,"user_id":10321245,"display_name":"Bruno F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610982993,"creation_date":1610980846,"answer_id":65776628,"question_id":16252269,"body_markdown":"An alternative way to order a List is using the Collections framework;\r\n\r\nin this case using the SortedSet (the bean in the list should implement Comparable, so Double is ok):\r\n\r\n    List&lt;Double&gt; testList;\r\n    ...\r\n    SortedSet&lt;Double&gt; sortedSet= new TreeSet&lt;Double&gt;();\r\n    for(Double number: testList) {\r\n       sortedSet.add(number);\r\n    }\r\n    orderedList=new ArrayList(sortedSet);\r\n\r\n\r\n\r\nIn general, to order by an attribute of a bean in the list,put all the elements of the list in a SortedMap, using as a key the attribute, then get the values() from the SortedMap (the attribute should implement Comparable):\r\n\r\n    List&lt;Bean&gt; testList;\r\n    ...\r\n    SortedMap&lt;AttributeType,Bean&gt; sortedMap= new TreeMap&lt;AttributeType, Bean&gt;();\r\n    for(Bean bean : testList) {\r\n       sortedMap.put(bean.getAttribute(),bean);\r\n    }\r\n    orderedList=new ArrayList(sortedMap.values());\r\n\r\n\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>An alternative way to order a List is using the Collections framework;</p>\n<p>in this case using the SortedSet (the bean in the list should implement Comparable, so Double is ok):</p>\n<pre><code>List&lt;Double&gt; testList;\n...\nSortedSet&lt;Double&gt; sortedSet= new TreeSet&lt;Double&gt;();\nfor(Double number: testList) {\n   sortedSet.add(number);\n}\norderedList=new ArrayList(sortedSet);\n</code></pre>\n<p>In general, to order by an attribute of a bean in the list,put all the elements of the list in a SortedMap, using as a key the attribute, then get the values() from the SortedMap (the attribute should implement Comparable):</p>\n<pre><code>List&lt;Bean&gt; testList;\n...\nSortedMap&lt;AttributeType,Bean&gt; sortedMap= new TreeMap&lt;AttributeType, Bean&gt;();\nfor(Bean bean : testList) {\n   sortedMap.put(bean.getAttribute(),bean);\n}\norderedList=new ArrayList(sortedMap.values());\n</code></pre>\n"}],"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1322620,"favorite_count":0,"down_vote_count":1,"up_vote_count":460,"accepted_answer_id":16252290,"answer_count":21,"score":459,"last_activity_date":1693811202,"creation_date":1367066896,"question_id":16252269,"body_markdown":"I have a List of doubles in java and I want to sort ArrayList in descending order.\r\n\r\nInput ArrayList is as below:\r\n\r\n    List&lt;Double&gt; testList = new ArrayList();\r\n\r\n    testList.add(0.5);\r\n    testList.add(0.2);\r\n    testList.add(0.9);\r\n    testList.add(0.1);\r\n    testList.add(0.1);\r\n    testList.add(0.1);\r\n    testList.add(0.54);\r\n    testList.add(0.71);\r\n    testList.add(0.71);\r\n    testList.add(0.71);\r\n    testList.add(0.92);\r\n    testList.add(0.12);\r\n    testList.add(0.65);\r\n    testList.add(0.34);\r\n    testList.add(0.62);\r\n        \r\nThe out put should be like this\r\n\r\n    0.92\r\n    0.9\r\n    0.71\r\n    0.71\r\n    0.71\r\n    0.65\r\n    0.62\r\n    0.54\r\n    0.5\r\n    0.34\r\n    0.2\r\n    0.12\r\n    0.1\r\n    0.1\r\n    0.1\r\n","title":"How to sort a List/ArrayList?","body":"<p>I have a List of doubles in java and I want to sort ArrayList in descending order.</p>\n\n<p>Input ArrayList is as below:</p>\n\n<pre><code>List&lt;Double&gt; testList = new ArrayList();\n\ntestList.add(0.5);\ntestList.add(0.2);\ntestList.add(0.9);\ntestList.add(0.1);\ntestList.add(0.1);\ntestList.add(0.1);\ntestList.add(0.54);\ntestList.add(0.71);\ntestList.add(0.71);\ntestList.add(0.71);\ntestList.add(0.92);\ntestList.add(0.12);\ntestList.add(0.65);\ntestList.add(0.34);\ntestList.add(0.62);\n</code></pre>\n\n<p>The out put should be like this</p>\n\n<pre><code>0.92\n0.9\n0.71\n0.71\n0.71\n0.65\n0.62\n0.54\n0.5\n0.34\n0.2\n0.12\n0.1\n0.1\n0.1\n</code></pre>\n"},{"tags":["java","sonarqube","cpd"],"comments":[{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":1,"creation_date":1360747234,"post_id":14848048,"comment_id":20812663,"body_markdown":"This is a sign of a so-called &quot;token based&quot; clone detector, which match sequences of tokens.  These tend to have high false positive detection rates;  **} catch ( Exception** in your example is considered to be a small clone by such detector. To counter that these detectors tend to be configured to only accept pretty big clones with some possible additional restrictions, see Andras&#39; answer.  AST based-clone detectors only match on language structures; they would not consider **} catch ( Exception** to be a clone, ever.  Consequently, they can find clones with considerably smaller granularity.","body":"This is a sign of a so-called &quot;token based&quot; clone detector, which match sequences of tokens.  These tend to have high false positive detection rates;  <b>} catch ( Exception</b> in your example is considered to be a small clone by such detector. To counter that these detectors tend to be configured to only accept pretty big clones with some possible additional restrictions, see Andras&#39; answer.  AST based-clone detectors only match on language structures; they would not consider <b>} catch ( Exception</b> to be a clone, ever.  Consequently, they can find clones with considerably smaller granularity."}],"answers":[{"comments":[{"owner":{"account_id":224624,"reputation":1443,"user_id":484593,"accept_rate":49,"display_name":"satheesh"},"score":0,"creation_date":1360739373,"post_id":14848162,"comment_id":20809667,"body_markdown":"i gave two functions and inside i gave 15 print statements duplicated in both functions.But not observed any duplications in sonar analysis","body":"i gave two functions and inside i gave 15 print statements duplicated in both functions.But not observed any duplications in sonar analysis"},{"owner":{"account_id":2343027,"reputation":615,"user_id":2053913,"display_name":"Andr&#225;s T&#243;th"},"score":0,"creation_date":1360739693,"post_id":14848162,"comment_id":20809785,"body_markdown":"was the two function body was the same?","body":"was the two function body was the same?"},{"owner":{"account_id":224624,"reputation":1443,"user_id":484593,"accept_rate":49,"display_name":"satheesh"},"score":0,"creation_date":1360739800,"post_id":14848162,"comment_id":20809816,"body_markdown":"Yes both functions are with same body","body":"Yes both functions are with same body"},{"owner":{"account_id":2343027,"reputation":615,"user_id":2053913,"display_name":"Andr&#225;s T&#243;th"},"score":0,"creation_date":1360740259,"post_id":14848162,"comment_id":20809987,"body_markdown":"Sorry, in that case I have no idea not counting the obvious bugs (e.g your code is not analyzed).","body":"Sorry, in that case I have no idea not counting the obvious bugs (e.g your code is not analyzed)."},{"owner":{"account_id":224624,"reputation":1443,"user_id":484593,"accept_rate":49,"display_name":"satheesh"},"score":0,"creation_date":1360744495,"post_id":14848162,"comment_id":20811505,"body_markdown":"I am getting only in some cases duplications but not with this case.And my code is analyzed successfully","body":"I am getting only in some cases duplications but not with this case.And my code is analyzed successfully"},{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":0,"creation_date":1406912639,"post_id":14848162,"comment_id":39030839,"body_markdown":"... If you want to see this work, feed it 10,000 copies of the same line and see what it does. Once that works, cut down the size to see where it stops detecting duplicates.  Better, give it something real of scale to gnaw on; this almost always produces interesting clones. (Read the clone detector tool docs to understand the parameters of detection, rather than trying to guess by making examples; I suspect &quot;10&quot; is just such a parameter and that&#39;s the wrong value).","body":"... If you want to see this work, feed it 10,000 copies of the same line and see what it does. Once that works, cut down the size to see where it stops detecting duplicates.  Better, give it something real of scale to gnaw on; this almost always produces interesting clones. (Read the clone detector tool docs to understand the parameters of detection, rather than trying to guess by making examples; I suspect &quot;10&quot; is just such a parameter and that&#39;s the wrong value)."}],"tags":[],"owner":{"account_id":2343027,"reputation":615,"user_id":2053913,"display_name":"Andr&#225;s T&#243;th"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360738965,"creation_date":1360738965,"answer_id":14848162,"question_id":14848048,"body_markdown":"A block is the lines of code between balanced braces. The constant block size means that in the block there must be 10 Lines of code to match. So to have a duplication try this.\r\n\r\n    public void foo(){\r\n    //... 10 lines of code\r\n    }\r\n\r\n    private void bar(){\r\n    //.... the same 10 lines of code\r\n    }","title":"Sonar CPD detecting blocks duplications","body":"<p>A block is the lines of code between balanced braces. The constant block size means that in the block there must be 10 Lines of code to match. So to have a duplication try this.</p>\n\n<pre><code>public void foo(){\n//... 10 lines of code\n}\n\nprivate void bar(){\n//.... the same 10 lines of code\n}\n</code></pre>\n"}],"owner":{"account_id":224624,"reputation":1443,"user_id":484593,"accept_rate":49,"display_name":"satheesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12587,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1693810945,"creation_date":1360738391,"question_id":14848048,"body_markdown":"I have done so much analysis on how sonar cpd detects duplicate blocks.But I am not able to trigger out exactly what the process it takes to detect blocks or lines of code.Do that have any minimum number of lines.\r\n\r\nFor example if I am writing as below it is not detecting any code duplications even I repeat more that 20 times.\r\n\r\n            System.out.println(&quot;this is good&quot;);\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\nLater on I tried giving blocks duplications\r\n\r\n\r\n         try\r\n\t    {\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t    try\r\n\t    {\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t    try{\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t    try{\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\r\nHere it is considering as two block even though it has many blocks.\r\n\r\nPlease let me know the exact process followed in this duplication detection by sonar 3.4.1\r\n\r\nIn this \r\nhttp://docs.sonarsource.org/3.1/apidocs/src-html/org/sonar/plugins/cpd/SonarEngine.html\r\n\r\nI found a constant block size as 10. But I am able to relate this in my observation.\r\n\r\n","title":"Sonar CPD detecting blocks duplications","body":"<p>I have done so much analysis on how sonar cpd detects duplicate blocks.But I am not able to trigger out exactly what the process it takes to detect blocks or lines of code.Do that have any minimum number of lines.</p>\n\n<p>For example if I am writing as below it is not detecting any code duplications even I repeat more that 20 times.</p>\n\n<pre><code>        System.out.println(\"this is good\");\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n</code></pre>\n\n<p>Later on I tried giving blocks duplications</p>\n\n<pre><code>     try\n    {\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    try\n    {\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    try{\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    try{\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Here it is considering as two block even though it has many blocks.</p>\n\n<p>Please let me know the exact process followed in this duplication detection by sonar 3.4.1</p>\n\n<p>In this \n<a href=\"http://docs.sonarsource.org/3.1/apidocs/src-html/org/sonar/plugins/cpd/SonarEngine.html\" rel=\"nofollow\">http://docs.sonarsource.org/3.1/apidocs/src-html/org/sonar/plugins/cpd/SonarEngine.html</a></p>\n\n<p>I found a constant block size as 10. But I am able to relate this in my observation.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693811464,"post_id":77035448,"comment_id":135804577,"body_markdown":"Any particular reason to why you havnt enable debug logs and read them before asking here?","body":"Any particular reason to why you havnt enable debug logs and read them before asking here?"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693810754,"creation_date":1693810754,"answer_id":77035670,"question_id":77035448,"body_markdown":"`@EnableWebSecurity`  enables spring security and it by default enables csrf support.\r\n\r\nAnd also `authorizeRequests` is deprecated use `authorizeHttpRequests` instead.\r\nAlso you should add `CORS` configuration that allow specific request.\r\n\r\nThe `securityFilterChain` body method should be something like this. \r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n        http.cors(corsConfigurer -&gt; corsConfigurer.configurationSource(corsConfiguration()))\r\n            .csrf(AbstractHttpConfigurer::disable);\r\n        http.authorizeHttpRequests(authorizeRequests-&gt;\r\n                authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\r\n            .httpBasic(withDefaults());\r\n        return http.build();\r\n      }\r\n    \r\n      @Bean\r\n      public CorsConfigurationSource corsConfiguration() {\r\n        return request -&gt; {\r\n          org.springframework.web.cors.CorsConfiguration config = \r\n              new org.springframework.web.cors.CorsConfiguration();\r\n          config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n          config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n          config.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\r\n          config.setAllowCredentials(true);\r\n          return config;\r\n        };\r\n      }\r\n\r\n","title":"How to allow http delete endpoint in spring security version 6.x and spring boot 3.x","body":"<p><code>@EnableWebSecurity</code>  enables spring security and it by default enables csrf support.</p>\n<p>And also <code>authorizeRequests</code> is deprecated use <code>authorizeHttpRequests</code> instead.\nAlso you should add <code>CORS</code> configuration that allow specific request.</p>\n<p>The <code>securityFilterChain</code> body method should be something like this.</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http.cors(corsConfigurer -&gt; corsConfigurer.configurationSource(corsConfiguration()))\n        .csrf(AbstractHttpConfigurer::disable);\n    http.authorizeHttpRequests(authorizeRequests-&gt;\n            authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\n        .httpBasic(withDefaults());\n    return http.build();\n  }\n\n  @Bean\n  public CorsConfigurationSource corsConfiguration() {\n    return request -&gt; {\n      org.springframework.web.cors.CorsConfiguration config = \n          new org.springframework.web.cors.CorsConfiguration();\n      config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n      config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n      config.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\n      config.setAllowCredentials(true);\n      return config;\n    };\n  }\n</code></pre>\n"}],"owner":{"account_id":27015927,"reputation":13,"user_id":20574784,"display_name":"user20574784"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77035670,"answer_count":1,"score":1,"last_activity_date":1693810754,"creation_date":1693808254,"question_id":77035448,"body_markdown":"I am using spring security version 6.1.2 and spring boot version 3.1.2. Below is my spring security configuration. Http method GET, POST, PUT is working fine but DELETE is not working with message 403 Forbidden. Do I need to add any special configuration to allow HTTP DELETE in spring security config.\r\n\r\n**WebSecurityConfig:**\r\n```\r\n@Configuration\r\n@EnableWebSecurity // 1\r\npublic class WebSecurityConfig {\r\n\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests((authorizeRequests) -&gt; authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\r\n\t\t\t\t.httpBasic(withDefaults());\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tWebSecurityCustomizer ignoringCustomizer() {\r\n\t\treturn (web) -&gt;          web.ignoring().requestMatchers(HttpMethod.GET).requestMatchers(&quot;/user&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**UserService code:**\r\n```\r\n@Service\r\npublic class UserServiceSecurity implements UserDetailsService {\r\n\t@Autowired\r\n\tUserRepoSecurity userRepo;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\tfinal UserPojo user = userRepo.findByUserName(username);\r\n\t\tif (user == null) {\r\n\t\t\tthrow new UsernameNotFoundException(username);\r\n\t\t}\r\n\t\tUserDetails userr = User.withUsername(user.getUserName()).password(user.getPassword()).authorities(&quot;USER&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn userr;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Controller:**\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/products&quot;)\r\npublic class ProductController {\r\n\t@Autowired\r\n\tProductService productService;\r\n\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\tpublic ProductPojo getById(@PathVariable Long id) {\r\n\t\treturn productService.getByID(id);\r\n\t}\r\n\r\n\t@GetMapping\r\n\tpublic Iterable&lt;ProductPojo&gt; getAll() {\r\n\t\treturn productService.getAll();\r\n\t}\r\n\r\n\t@PostMapping\r\n\tpublic ProductPojo createProduct(@RequestBody ProductPojo product) {\r\n\t\treturn productService.createProduct(product);\r\n\t}\r\n\r\n\t@PutMapping\r\n\tpublic ProductPojo update(@RequestBody ProductPojo product) {\r\n\t\treturn productService.update(product);\r\n\r\n\t}\r\n\r\n\t@DeleteMapping(&quot;/{id}&quot;)\r\n\tpublic String remove(@PathVariable Long id) {\r\n\t\tproductService.remove(id);\r\n\t\treturn &quot;Record delete successfully&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**Below is error on postman:**\r\n\r\n[Error at postman when I hit HTTP DELETE](https://i.stack.imgur.com/QtjCt.png)\r\n\r\n\r\nWhen I try to hit HTTP DELETE using postman, it gives 403 Forbidden.\r\nURL for HTTP DELETE: http://localhost:8080/products/1","title":"How to allow http delete endpoint in spring security version 6.x and spring boot 3.x","body":"<p>I am using spring security version 6.1.2 and spring boot version 3.1.2. Below is my spring security configuration. Http method GET, POST, PUT is working fine but DELETE is not working with message 403 Forbidden. Do I need to add any special configuration to allow HTTP DELETE in spring security config.</p>\n<p><strong>WebSecurityConfig:</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity // 1\npublic class WebSecurityConfig {\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests((authorizeRequests) -&gt; authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    WebSecurityCustomizer ignoringCustomizer() {\n        return (web) -&gt;          web.ignoring().requestMatchers(HttpMethod.GET).requestMatchers(&quot;/user&quot;);\n    }\n}\n</code></pre>\n<p><strong>UserService code:</strong></p>\n<pre><code>@Service\npublic class UserServiceSecurity implements UserDetailsService {\n    @Autowired\n    UserRepoSecurity userRepo;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        final UserPojo user = userRepo.findByUserName(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(username);\n        }\n        UserDetails userr = User.withUsername(user.getUserName()).password(user.getPassword()).authorities(&quot;USER&quot;)\n                .build();\n        return userr;\n    }\n\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/products&quot;)\npublic class ProductController {\n    @Autowired\n    ProductService productService;\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ProductPojo getById(@PathVariable Long id) {\n        return productService.getByID(id);\n    }\n\n    @GetMapping\n    public Iterable&lt;ProductPojo&gt; getAll() {\n        return productService.getAll();\n    }\n\n    @PostMapping\n    public ProductPojo createProduct(@RequestBody ProductPojo product) {\n        return productService.createProduct(product);\n    }\n\n    @PutMapping\n    public ProductPojo update(@RequestBody ProductPojo product) {\n        return productService.update(product);\n\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public String remove(@PathVariable Long id) {\n        productService.remove(id);\n        return &quot;Record delete successfully&quot;;\n    }\n}\n</code></pre>\n<p><strong>Below is error on postman:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QtjCt.png\" rel=\"nofollow noreferrer\">Error at postman when I hit HTTP DELETE</a></p>\n<p>When I try to hit HTTP DELETE using postman, it gives 403 Forbidden.\nURL for HTTP DELETE: http://localhost:8080/products/1</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693833734,"post_id":77035650,"comment_id":135808513,"body_markdown":"Your code is not making use of `direction` at all.  Use it to check the tile next to the tile at `map[row][col]`.  Also you should use enums for your map values and direction values.","body":"Your code is not making use of <code>direction</code> at all.  Use it to check the tile next to the tile at <code>map[row][col]</code>.  Also you should use enums for your map values and direction values."}],"owner":{"account_id":29360590,"reputation":11,"user_id":22495401,"display_name":"user22495401"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693810539,"creation_date":1693810539,"question_id":77035650,"body_markdown":"I am building a pac-man game in plain java(no external library) and my map is like the the original pacman game as in the screenshot attached[enter image description here](https://i.stack.imgur.com/sQLAF.png)\r\n(the squares are made in power-point) and i succeeded to manage that pacman should not to collide with the walls arond the board game but in all the walls in the middle of the board i can&#39;t figure out the algorithm that it should only move until the wall exactly (everything i tried makes pacman overlap the wall a bit)\r\nthe tiles are created from a 2D array of integers an based on the number the program knows what tile to put there the numbers that represent tiles that pacman is aloud to go are 1, 3, 4.\r\nI have one function that returns a boolean if pacman can move there, it exepts a x and y and the x and y represent the current position + 4 / - 4 (the speed) depends an what key the the player pressed.\r\nher is the punction:\r\n```\r\n//31 is the amount of rows and 28 is the amount of colums\r\n    public static boolean canMove(int x, int y, String direction){\r\n        int speed = 4;\r\n        int tileSize = 16;\r\n        int minX = (tileSize / 2 / 2);\r\n        int maxX = (tileSize * 28) - (tileSize * 2 - (tileSize / 2 / 2));\r\n        int minY = (tileSize / 2 / 2);\r\n        int maxY = tileSize * 31 - (tileSize * 2 - (tileSize / 2 /2));\r\n        int row = (y / tileSize);\r\n        int col = (x / tileSize);\r\n        boolean isInRange = x + (tileSize * 2) &lt;= tileSize * 28 - (x + (tileSize * 2));\r\n\r\n        if((x &lt;= minX || x &gt;= maxX) || (y &lt;= minY || y &gt;= maxY)){\r\n            return false;\r\n        }\r\n        if(map[row][col] == 1 || map[row][col] == 3  || map[row][col] == 4 ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n```\r\nany help will be realy appreciated\r\nThank you\r\n\r\n\r\nalready written in the question","title":"direct an object in a 2D game not to collide with obstacles, walls, etc. in java","body":"<p>I am building a pac-man game in plain java(no external library) and my map is like the the original pacman game as in the screenshot attached<a href=\"https://i.stack.imgur.com/sQLAF.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n(the squares are made in power-point) and i succeeded to manage that pacman should not to collide with the walls arond the board game but in all the walls in the middle of the board i can't figure out the algorithm that it should only move until the wall exactly (everything i tried makes pacman overlap the wall a bit)\nthe tiles are created from a 2D array of integers an based on the number the program knows what tile to put there the numbers that represent tiles that pacman is aloud to go are 1, 3, 4.\nI have one function that returns a boolean if pacman can move there, it exepts a x and y and the x and y represent the current position + 4 / - 4 (the speed) depends an what key the the player pressed.\nher is the punction:</p>\n<pre><code>//31 is the amount of rows and 28 is the amount of colums\n    public static boolean canMove(int x, int y, String direction){\n        int speed = 4;\n        int tileSize = 16;\n        int minX = (tileSize / 2 / 2);\n        int maxX = (tileSize * 28) - (tileSize * 2 - (tileSize / 2 / 2));\n        int minY = (tileSize / 2 / 2);\n        int maxY = tileSize * 31 - (tileSize * 2 - (tileSize / 2 /2));\n        int row = (y / tileSize);\n        int col = (x / tileSize);\n        boolean isInRange = x + (tileSize * 2) &lt;= tileSize * 28 - (x + (tileSize * 2));\n\n        if((x &lt;= minX || x &gt;= maxX) || (y &lt;= minY || y &gt;= maxY)){\n            return false;\n        }\n        if(map[row][col] == 1 || map[row][col] == 3  || map[row][col] == 4 ){\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>any help will be realy appreciated\nThank you</p>\n<p>already written in the question</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"score":0,"creation_date":1485185553,"post_id":41809938,"comment_id":70807802,"body_markdown":"post the entire adapter code","body":"post the entire adapter code"},{"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"score":0,"creation_date":1485185784,"post_id":41809938,"comment_id":70807964,"body_markdown":"i have edited my code @Superman","body":"i have edited my code @Superman"}],"answers":[{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1485186395,"post_id":41810055,"comment_id":70808338,"body_markdown":"@FauziaNito: Um, where you have `new CurrencySelectorAdapter()` in your code, make sure that the second parameter is your activity.","body":"@FauziaNito: Um, where you have <code>new CurrencySelectorAdapter()</code> in your code, make sure that the second parameter is your activity."},{"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"score":0,"creation_date":1485186805,"post_id":41810055,"comment_id":70808595,"body_markdown":"are you meaning in the **Intent** , please am not getting you ?","body":"are you meaning in the <b>Intent</b> , please am not getting you ?"},{"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"score":0,"creation_date":1485187025,"post_id":41810055,"comment_id":70808734,"body_markdown":"Ok got you , but my  instance is like this   final CurrencySelectorAdapter adap = new CurrencySelectorAdapter(itemList,getApplicationContext);","body":"Ok got you , but my  instance is like this   final CurrencySelectorAdapter adap = new CurrencySelectorAdapter(itemList,getApplicationContext);"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1485187054,"post_id":41810055,"comment_id":70808759,"body_markdown":"@FauziaNito: Replace `getApplicationContext()` with `this`, assuming that your code is inside your activity.","body":"@FauziaNito: Replace <code>getApplicationContext()</code> with <code>this</code>, assuming that your code is inside your activity."},{"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"score":0,"creation_date":1485187090,"post_id":41810055,"comment_id":70808781,"body_markdown":"so  it has finally  worked , i just change to My Activity   final CurrencySelectorAdapter adap = new CurrencySelectorAdapter(itemList,MyActivity.this); :-)","body":"so  it has finally  worked , i just change to My Activity   final CurrencySelectorAdapter adap = new CurrencySelectorAdapter(itemList,MyActivity.this); :-)"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1485185815,"creation_date":1485185815,"answer_id":41810055,"question_id":41809938,"body_markdown":"The `Context` that you pass into the `CurrencySelectorAdapter` constructor should be the `Activity` that hosts this `RecyclerView`. Then, you will not get this error.\r\n","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>The <code>Context</code> that you pass into the <code>CurrencySelectorAdapter</code> constructor should be the <code>Activity</code> that hosts this <code>RecyclerView</code>. Then, you will not get this error.</p>\n"},{"tags":[],"owner":{"account_id":4247252,"reputation":832,"user_id":3475551,"accept_rate":100,"display_name":"Eaweb"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507765991,"creation_date":1507765991,"answer_id":46699266,"question_id":41809938,"body_markdown":"Replacing `getApplicationContext()` with `this` helped in my case.\r\n\r\nfor example I had:\r\n\r\n    adapter= new CustomAdapter(dataModels,getApplicationContext());\r\n\r\nin my activity file before changing it to:\r\n\r\n    adapter= new CustomAdapter(dataModels,this);\r\n\r\nand that fixed the error.","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>Replacing <code>getApplicationContext()</code> with <code>this</code> helped in my case.</p>\n\n<p>for example I had:</p>\n\n<pre><code>adapter= new CustomAdapter(dataModels,getApplicationContext());\n</code></pre>\n\n<p>in my activity file before changing it to:</p>\n\n<pre><code>adapter= new CustomAdapter(dataModels,this);\n</code></pre>\n\n<p>and that fixed the error.</p>\n"},{"tags":[],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693810001,"creation_date":1619950152,"answer_id":67355122,"question_id":41809938,"body_markdown":"Another reason on getting such issue like this is when using `rootView` context\r\n\r\nExample \r\n\r\n    val view = window.decorView.rootView\r\n    \r\n\r\n    view.context.startActivity(intent)\r\n\r\nYou should instead using the parent view from XML layout than relying on `rootview` to avoid such behavior which usually happens with Samsung devices.","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>Another reason on getting such issue like this is when using <code>rootView</code> context</p>\n<p>Example</p>\n<pre><code>val view = window.decorView.rootView\n\n\nview.context.startActivity(intent)\n</code></pre>\n<p>You should instead using the parent view from XML layout than relying on <code>rootview</code> to avoid such behavior which usually happens with Samsung devices.</p>\n"}],"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13877,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41810055,"answer_count":3,"score":4,"last_activity_date":1693810001,"creation_date":1485185478,"question_id":41809938,"body_markdown":"Am new in android,  trying to go to the next Activity through an Adapter, and i am using `onBindViewHolder()` with an `Intent` , below is the code :\r\n\r\n\r\n    @Override\r\n        public void onBindViewHolder(CurrencyViewHolder holder, int position) {\r\n    \r\n    \r\n    \r\n            final  BureauRateObject br = itemList.get(position);\r\n            holder.bureauname.setText(br.getBureau_name());\r\n            holder.rates.setText(br.getBuysell());\r\n    \r\n            final String BureauId = br.getBureau_id();\r\n            final String BureauName = br.getBureau_name();\r\n    \r\n    \r\n    \r\n    \r\n            holder.root.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                   Intent i = new Intent(context, SingleForexActivity.class);\r\n                   // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    i.putExtra(&quot;bureau_id&quot;, BureauId);\r\n                    i.putExtra(&quot;bureau_name&quot;,BureauName);\r\n                    context.startActivity(i);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n\r\n\r\nand this is the error which comes :\r\n\r\n    android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\r\n                          at android.app.ContextImpl.startActivity(ContextImpl.java:677)\r\n                          at android.app.ContextImpl.startActivity(ContextImpl.java:664)\r\n                          at android.content.ContextWrapper.startActivity(ContextWrapper.java:331)\r\n                          at Adapters.CurrencySelectorAdapter$1.onClick(CurrencySelectorAdapter.java:64)\r\n                          at android.view.View.performClick(View.java:5265)\r\n                          at android.view.View$PerformClick.run(View.java:21534)\r\n                          at android.os.Handler.handleCallback(Handler.java:815)\r\n                          at android.os.Handler.dispatchMessage(Handler.java:104)\r\n                          at android.os.Looper.loop(Looper.java:207)\r\n                          at android.app.ActivityThread.main(ActivityThread.java:5728)\r\n                          at java.lang.reflect.Method.invoke(Native Method)\r\n                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\r\n\r\n\r\nI tried out this solution , but the Next Activity doesn&#39;t goes back to the previous Activity.\r\n\r\n**My solution :(But didn&#39;t work)**\r\n\r\n`i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);`\r\n\r\n***Below is the entire Adapter code:***\r\n\r\n\r\n        package Adapters;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.naavanito.eamobileforex2.R;\r\n    import com.example.naavanito.eamobileforex2.SingleForexActivity;\r\n    \r\n    import java.util.Currency;\r\n    import java.util.List;\r\n    \r\n    import Holders.CurrencyViewHolder;\r\n    import model.BureauRateObject;\r\n    \r\n    /**\r\n     * Created by Admin on 1/21/2017.\r\n     */\r\n    \r\n    public class CurrencySelectorAdapter extends RecyclerView.Adapter&lt;CurrencyViewHolder&gt; {\r\n    \r\n        private List&lt;BureauRateObject&gt; itemList;\r\n        private Context context;\r\n    \r\n        public CurrencySelectorAdapter(List&lt;BureauRateObject&gt; itemList, Context context) {\r\n            this.itemList = itemList;\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public CurrencyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View layoutview = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_currency_rate,parent,false);\r\n            CurrencyViewHolder rcv = new CurrencyViewHolder(layoutview,context);\r\n            return rcv;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(CurrencyViewHolder holder, int position) {\r\n    \r\n    \r\n    \r\n            final  BureauRateObject br = itemList.get(position);\r\n            holder.bureauname.setText(br.getBureau_name());\r\n            holder.rates.setText(br.getBuysell());\r\n    \r\n            final String BureauId = br.getBureau_id();\r\n            final String BureauName = br.getBureau_name();\r\n    \r\n    \r\n    \r\n    \r\n            holder.root.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                   Intent i = new Intent(context, SingleForexActivity.class);\r\n                   // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    i.putExtra(&quot;bureau_id&quot;, BureauId);\r\n                    i.putExtra(&quot;bureau_name&quot;,BureauName);\r\n                    context.startActivity(i);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return itemList.size();\r\n        }\r\n    }\r\n\r\n","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>Am new in android,  trying to go to the next Activity through an Adapter, and i am using <code>onBindViewHolder()</code> with an <code>Intent</code> , below is the code :</p>\n\n<pre><code>@Override\n    public void onBindViewHolder(CurrencyViewHolder holder, int position) {\n\n\n\n        final  BureauRateObject br = itemList.get(position);\n        holder.bureauname.setText(br.getBureau_name());\n        holder.rates.setText(br.getBuysell());\n\n        final String BureauId = br.getBureau_id();\n        final String BureauName = br.getBureau_name();\n\n\n\n\n        holder.root.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n               Intent i = new Intent(context, SingleForexActivity.class);\n               // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.putExtra(\"bureau_id\", BureauId);\n                i.putExtra(\"bureau_name\",BureauName);\n                context.startActivity(i);\n\n            }\n        });\n\n\n\n    }\n</code></pre>\n\n<p>and this is the error which comes :</p>\n\n<pre><code>android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\n                      at android.app.ContextImpl.startActivity(ContextImpl.java:677)\n                      at android.app.ContextImpl.startActivity(ContextImpl.java:664)\n                      at android.content.ContextWrapper.startActivity(ContextWrapper.java:331)\n                      at Adapters.CurrencySelectorAdapter$1.onClick(CurrencySelectorAdapter.java:64)\n                      at android.view.View.performClick(View.java:5265)\n                      at android.view.View$PerformClick.run(View.java:21534)\n                      at android.os.Handler.handleCallback(Handler.java:815)\n                      at android.os.Handler.dispatchMessage(Handler.java:104)\n                      at android.os.Looper.loop(Looper.java:207)\n                      at android.app.ActivityThread.main(ActivityThread.java:5728)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n</code></pre>\n\n<p>I tried out this solution , but the Next Activity doesn't goes back to the previous Activity.</p>\n\n<p><strong>My solution :(But didn't work)</strong></p>\n\n<p><code>i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</code></p>\n\n<p><strong><em>Below is the entire Adapter code:</em></strong></p>\n\n<pre><code>    package Adapters;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport com.example.naavanito.eamobileforex2.R;\nimport com.example.naavanito.eamobileforex2.SingleForexActivity;\n\nimport java.util.Currency;\nimport java.util.List;\n\nimport Holders.CurrencyViewHolder;\nimport model.BureauRateObject;\n\n/**\n * Created by Admin on 1/21/2017.\n */\n\npublic class CurrencySelectorAdapter extends RecyclerView.Adapter&lt;CurrencyViewHolder&gt; {\n\n    private List&lt;BureauRateObject&gt; itemList;\n    private Context context;\n\n    public CurrencySelectorAdapter(List&lt;BureauRateObject&gt; itemList, Context context) {\n        this.itemList = itemList;\n        this.context = context;\n    }\n\n    @Override\n    public CurrencyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View layoutview = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_currency_rate,parent,false);\n        CurrencyViewHolder rcv = new CurrencyViewHolder(layoutview,context);\n        return rcv;\n    }\n\n    @Override\n    public void onBindViewHolder(CurrencyViewHolder holder, int position) {\n\n\n\n        final  BureauRateObject br = itemList.get(position);\n        holder.bureauname.setText(br.getBureau_name());\n        holder.rates.setText(br.getBuysell());\n\n        final String BureauId = br.getBureau_id();\n        final String BureauName = br.getBureau_name();\n\n\n\n\n        holder.root.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n               Intent i = new Intent(context, SingleForexActivity.class);\n               // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.putExtra(\"bureau_id\", BureauId);\n                i.putExtra(\"bureau_name\",BureauName);\n                context.startActivity(i);\n\n            }\n        });\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return itemList.size();\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9929,"page":205,"page_size":100}
