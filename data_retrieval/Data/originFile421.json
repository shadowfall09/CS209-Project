{"items":[{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1684534497,"post_id":76292575,"comment_id":134536549,"body_markdown":"does your IDE show a warningabout the duplication?","body":"does your IDE show a warningabout the duplication?"},{"owner":{"account_id":28515520,"reputation":15,"user_id":21824932,"display_name":"Oleksandr Zhytariuk"},"score":0,"creation_date":1684583785,"post_id":76292575,"comment_id":134540194,"body_markdown":"@eduyayo no my IDE doesnt show warning","body":"@eduyayo no my IDE doesnt show warning"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684606056,"creation_date":1684606056,"answer_id":76296695,"question_id":76292575,"body_markdown":"One solution is to group together multiple mapping annotations into a custom annotation. For example, you can create an annotation for ignoring audit mappings:\r\n```java\r\n@Target({ElementType.METHOD})\r\n@Retention(RUNTIME)\r\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n@Mapping(target = &quot;updatedAt&quot;, ignore = true)\r\n@Mapping(target = &quot;createdBy&quot;, ignore = true)\r\n@Mapping(target = &quot;modifiedBy&quot;, ignore = true)\r\npublic @interface IgnoreAuditMapping {}\r\n```\r\nThe annotation can be used in mappers to reduce duplication:\r\n```\r\n@Mapper(config = MapperConfiguration.class)\r\npublic interface CategoryMapper {\r\n    ...\r\n\r\n    @IgnoreAuditMapping\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\r\n    Category toCategory(final CategoryDto categoryDto);\r\n\r\n    ...\r\n}\r\n```\r\n","title":"Efficiently removing duplicate @Mapping annotations for audit fields in MapStruct Spring Core","body":"<p>One solution is to group together multiple mapping annotations into a custom annotation. For example, you can create an annotation for ignoring audit mappings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD})\n@Retention(RUNTIME)\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\n@Mapping(target = &quot;updatedAt&quot;, ignore = true)\n@Mapping(target = &quot;createdBy&quot;, ignore = true)\n@Mapping(target = &quot;modifiedBy&quot;, ignore = true)\npublic @interface IgnoreAuditMapping {}\n</code></pre>\n<p>The annotation can be used in mappers to reduce duplication:</p>\n<pre><code>@Mapper(config = MapperConfiguration.class)\npublic interface CategoryMapper {\n    ...\n\n    @IgnoreAuditMapping\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\n    Category toCategory(final CategoryDto categoryDto);\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":28515520,"reputation":15,"user_id":21824932,"display_name":"Oleksandr Zhytariuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76296695,"answer_count":1,"score":1,"last_activity_date":1684739239,"creation_date":1684532617,"question_id":76292575,"body_markdown":"There are ways how can I remove the same ignore mapping without reapeated @Mapping annotations on different methods, for example audit fields in one short annotation or interface like IgnoreMappingAuditionFields or other ways?\r\nSo what ways you can recommend for resolve this problem?\r\n\r\n\r\n\r\n\r\n\r\n```\r\n@Mapper(config = MapperConfiguration.class)\r\npublic interface CategoryMapper {\r\n    CategoryDto toDto(final Category category);\r\n\r\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\r\n    Category toCategory(final CategoryDto categoryDto);\r\n\r\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;id&quot;, ignore = true)\r\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\r\n    @Mapping(target = &quot;parentCategory&quot;, ignore = true)\r\n    @Mapping(target = &quot;childCategories&quot;, ignore = true)\r\n    Category toDomain(final CategoryCreationRequest categoryCreationRequest);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nRemove repeated fields","title":"Efficiently removing duplicate @Mapping annotations for audit fields in MapStruct Spring Core","body":"<p>There are ways how can I remove the same ignore mapping without reapeated @Mapping annotations on different methods, for example audit fields in one short annotation or interface like IgnoreMappingAuditionFields or other ways?\nSo what ways you can recommend for resolve this problem?</p>\n<pre><code>@Mapper(config = MapperConfiguration.class)\npublic interface CategoryMapper {\n    CategoryDto toDto(final Category category);\n\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\n    Category toCategory(final CategoryDto categoryDto);\n\n    @Mapping(target = &quot;createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    @Mapping(target = &quot;quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.updatedAt&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.createdBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.modifiedBy&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.id&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory.quizzes&quot;, ignore = true)\n    @Mapping(target = &quot;parentCategory&quot;, ignore = true)\n    @Mapping(target = &quot;childCategories&quot;, ignore = true)\n    Category toDomain(final CategoryCreationRequest categoryCreationRequest);\n}\n</code></pre>\n<p>Remove repeated fields</p>\n"},{"tags":["java","maven","intellij-idea","javafx","jpackage"],"answers":[{"comments":[{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1684592631,"post_id":76295676,"comment_id":134541264,"body_markdown":"Hi. That makes sense. I don&#39;t have the controlsfx.jmod, not sure it exists. I will try what you recommend when only having the .rar. Can you please add a little bit more information about the dependency part, not completely sure where to start :) I read that I don&#39;t have to pass any information about Controlsfx to JPackage?","body":"Hi. That makes sense. I don&#39;t have the controlsfx.jmod, not sure it exists. I will try what you recommend when only having the .rar. Can you please add a little bit more information about the dependency part, not completely sure where to start :) I read that I don&#39;t have to pass any information about Controlsfx to JPackage?"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":1,"creation_date":1684592998,"post_id":76295676,"comment_id":134541319,"body_markdown":"Edit: Its working now, using what you recommended. Thank you very much.","body":"Edit: Its working now, using what you recommended. Thank you very much."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1684620876,"post_id":76295676,"comment_id":134544435,"body_markdown":"`jlink` does not require JMOD files. As long as the JAR file has a `module-info` descriptor it will work just fine. You only need a JMOD file if you want to package things like native code and licenses along with your class files in a clean manner.","body":"<code>jlink</code> does not require JMOD files. As long as the JAR file has a <code>module-info</code> descriptor it will work just fine. You only need a JMOD file if you want to package things like native code and licenses along with your class files in a clean manner."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1684621115,"post_id":76295676,"comment_id":134544454,"body_markdown":"@droid You have `--add-modules javafx.controls,controlsfx` in your question, but the [module name](https://github.com/controlsfx/controlsfx/blob/0a8caa4ad2abb3dea48fecb10819ea540748e308/controlsfx/src/main/java/module-info.java#L31) for _ControlsFX_ is `org.controlsfx.controls`.","body":"@droid You have <code>--add-modules javafx.controls,controlsfx</code> in your question, but the <a href=\"https://github.com/controlsfx/controlsfx/blob/0a8caa4ad2abb3dea48fecb10819ea540748e308/controlsfx/src/main/java/module-info.java#L31\" rel=\"nofollow noreferrer\">module name</a> for <i>ControlsFX</i> is <code>org.controlsfx.controls</code>."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684654935,"post_id":76295676,"comment_id":134546356,"body_markdown":"@Slaw that is useful info about jmod files, I shall amend my answer.","body":"@Slaw that is useful info about jmod files, I shall amend my answer."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1684682245,"post_id":76295676,"comment_id":134549288,"body_markdown":"I just tried again with the correct package name and this time JPackage runs fine and the installed program also works fine. Thanks. I learned a lot.","body":"I just tried again with the correct package name and this time JPackage runs fine and the installed program also works fine. Thanks. I learned a lot."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684737603,"post_id":76295676,"comment_id":134554839,"body_markdown":"@droid Sorry to be pedantic, but you used the wrong **module** name, not the wrong _package_ name. Regardless, I&#39;m glad you got it to work :)","body":"@droid Sorry to be pedantic, but you used the wrong <b>module</b> name, not the wrong <i>package</i> name. Regardless, I&#39;m glad you got it to work :)"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684738866,"creation_date":1684592260,"answer_id":76295676,"question_id":76295523,"body_markdown":"As mentioned by @Slaw in comments below, you have used the wrong module name. You can confirm the module name of a jar by viewing the [module definition][1]. This tells you the name of the module to use with jpackage eg `org.controlsfx.controls` or will print `No module descriptor found.  Derived automatic module.` if a non module jar:\r\n\r\n    jar --file=controlsfx.jar --describe-module\r\n    org.controlsfx.controls@11.1.2 jar:file:///c:/dev/mods/controlsfx.jar!/module-info.class\r\n    ... plus details of exports\r\n\r\nThe `jpackage` command will use `jlink` internally to build a runtime image that contains all the modules listed:\r\n\r\n    jpackage --input myinput --add-modules javafx.controls,org.controlsfx.controls --module-path c:\\xyz...\\javafx-jmods-NN --module-path c:\\abc...\\controlsfx.jar  --dest myoutput {otherargs}\r\n\r\nAfter installation you can check which modules are in the installed runtime with:\r\n\r\n     C:\\Program Files\\XYZ\\runtime\\bin\\java --list-modules\r\n     ...\r\n     javafx.controls@somever\r\n     ...\r\n     org.controlsfx.controls@somever\r\n\r\n\r\nAlternatively you can use a jar (module or non module) with `jpackage` by copying the jar into your target release structure somewhere under the `--input` directory. Then it will be picked up as a classpath jar dependency (inside the release directories) rather than as a module dependency (inside the runtime image as above).\r\n\r\nYou can check if a jar was added as as classpath dependency by looking at the generated `{launcher}.cfg`, it should contain a line:\r\n\r\n     app.classpath=$APPDIR\\whateverplaceunder--input.dir\\controlsfx.jar\r\n\r\n  [1]: https://stackoverflow.com/questions/46616520/list-modules-in-jar-file/46617033#comment134547336_46617033","title":"Jpackage with ControlsFX","body":"<p>As mentioned by @Slaw in comments below, you have used the wrong module name. You can confirm the module name of a jar by viewing the <a href=\"https://stackoverflow.com/questions/46616520/list-modules-in-jar-file/46617033#comment134547336_46617033\">module definition</a>. This tells you the name of the module to use with jpackage eg <code>org.controlsfx.controls</code> or will print <code>No module descriptor found.  Derived automatic module.</code> if a non module jar:</p>\n<pre><code>jar --file=controlsfx.jar --describe-module\norg.controlsfx.controls@11.1.2 jar:file:///c:/dev/mods/controlsfx.jar!/module-info.class\n... plus details of exports\n</code></pre>\n<p>The <code>jpackage</code> command will use <code>jlink</code> internally to build a runtime image that contains all the modules listed:</p>\n<pre><code>jpackage --input myinput --add-modules javafx.controls,org.controlsfx.controls --module-path c:\\xyz...\\javafx-jmods-NN --module-path c:\\abc...\\controlsfx.jar  --dest myoutput {otherargs}\n</code></pre>\n<p>After installation you can check which modules are in the installed runtime with:</p>\n<pre><code> C:\\Program Files\\XYZ\\runtime\\bin\\java --list-modules\n ...\n javafx.controls@somever\n ...\n org.controlsfx.controls@somever\n</code></pre>\n<p>Alternatively you can use a jar (module or non module) with <code>jpackage</code> by copying the jar into your target release structure somewhere under the <code>--input</code> directory. Then it will be picked up as a classpath jar dependency (inside the release directories) rather than as a module dependency (inside the runtime image as above).</p>\n<p>You can check if a jar was added as as classpath dependency by looking at the generated <code>{launcher}.cfg</code>, it should contain a line:</p>\n<pre><code> app.classpath=$APPDIR\\whateverplaceunder--input.dir\\controlsfx.jar\n</code></pre>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76295676,"answer_count":1,"score":4,"last_activity_date":1684738866,"creation_date":1684589976,"question_id":76295523,"body_markdown":"I’m having some issues including Controlsfx when using Jpackage.\r\n\r\nI have set up a project in IntelliJ with JavaFX using a Archetype from Maven Central. Works fine with JavaFX in IntelliJ. I can package it with Maven (from IntelliJ) and use JPackage for making an exe-installer, that also works fine. I’m using this command with JPackage:\r\n\r\n    jpackage --input C:\\...\\target --add-modules javafx.controls --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path --win-console --dest c:\\outputs --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\r\n\r\nNow I want to incorporate ControlsFX so I download the ControlsFX .JAR from Maven: https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ \r\nIn IntelliJ I add it as a Module. All fine, I wan use ControlsFX in my project.\r\n\r\nNow I want to make an exe-installer (like above without ControlsFX) so I add ControlsFX to my JPackage command:\r\n\r\n    jpackage --input C:\\...\\target --add-modules javafx.controls,controlsfx --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path C:\\..\\controlsfx --win-console --dest c:\\test --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\r\n\r\nWhen running the command I get this:\r\n\r\njava.lang.module.FindException: Module controlsfx not found\r\n\r\nI know my issue is related to the command I pass to JPackage but cant figure out what is.\r\n\r\n","title":"Jpackage with ControlsFX","body":"<p>I’m having some issues including Controlsfx when using Jpackage.</p>\n<p>I have set up a project in IntelliJ with JavaFX using a Archetype from Maven Central. Works fine with JavaFX in IntelliJ. I can package it with Maven (from IntelliJ) and use JPackage for making an exe-installer, that also works fine. I’m using this command with JPackage:</p>\n<pre><code>jpackage --input C:\\...\\target --add-modules javafx.controls --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path --win-console --dest c:\\outputs --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\n</code></pre>\n<p>Now I want to incorporate ControlsFX so I download the ControlsFX .JAR from Maven: <a href=\"https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ</a>\nIn IntelliJ I add it as a Module. All fine, I wan use ControlsFX in my project.</p>\n<p>Now I want to make an exe-installer (like above without ControlsFX) so I add ControlsFX to my JPackage command:</p>\n<pre><code>jpackage --input C:\\...\\target --add-modules javafx.controls,controlsfx --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path C:\\..\\controlsfx --win-console --dest c:\\test --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\n</code></pre>\n<p>When running the command I get this:</p>\n<p>java.lang.module.FindException: Module controlsfx not found</p>\n<p>I know my issue is related to the command I pass to JPackage but cant figure out what is.</p>\n"},{"tags":["java","string","diacritics"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680032153,"post_id":75870129,"comment_id":133827016,"body_markdown":"Nice work! The code works, that&#39;s most important. The `public static void main(String[] args)` already is a method. But you can just rename it to whatever you want, remove the argument, and you&#39;ll have your method. It would probably be best as `public static String removeDiacritics(String textWithDiacritics)` that takes the input string as a parameter and returns the text without diacritics instead of printing it out. Then you can use that from your main method.","body":"Nice work! The code works, that&#39;s most important. The <code>public static void main(String[] args)</code> already is a method. But you can just rename it to whatever you want, remove the argument, and you&#39;ll have your method. It would probably be best as <code>public static String removeDiacritics(String textWithDiacritics)</code> that takes the input string as a parameter and returns the text without diacritics instead of printing it out. Then you can use that from your main method."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1684644055,"post_id":75870129,"comment_id":134545723,"body_markdown":"Just a comment on &quot;normal&quot; letters-  that isn&#39;t really how things work in all languages.  In some, they think of the letter with the diacritics as a different letter.  For example, &#252; in some languages is not a u with an attachment, they are different letters and the speakers do not think of the two as being related in any way.","body":"Just a comment on &quot;normal&quot; letters-  that isn&#39;t really how things work in all languages.  In some, they think of the letter with the diacritics as a different letter.  For example, &#252; in some languages is not a u with an attachment, they are different letters and the speakers do not think of the two as being related in any way."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1684644339,"post_id":75870129,"comment_id":134545733,"body_markdown":"Does this link help? https://www.baeldung.com/java-remove-accents-from-text. It uses `java.text.Normalizer` to split the composed characters and then removes the attached accents.","body":"Does this link help? <a href=\"https://www.baeldung.com/java-remove-accents-from-text\" rel=\"nofollow noreferrer\">baeldung.com/java-remove-accents-from-text</a>. It uses <code>java.text.Normalizer</code> to split the composed characters and then removes the attached accents."}],"answers":[{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680039176,"creation_date":1680039176,"answer_id":75871254,"question_id":75870129,"body_markdown":"There&#39;s still more to do, but the below code could give you a basic idea on how to create various methods.\r\n\r\nI separated two methods out of the original code. You could improve it still, first and foremost go ahead and create a `private static void printReversed()` method to contain the reverse-text printing code. Next, slightly more advanced and more involved would be making all the methods return something instead of directly printing out stuff (like `removeDiacritics()` does). In programming we generally frown upon methods with &quot;side-effects&quot; (like printing) and prefer pure methods that take something in, transform it and return something back, so that the calling code can do whatever it wants with it. Like printing :).\r\n\r\n```java\r\npublic class Main {\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString input = sc.nextLine();\r\n\t\tSystem.out.println(input);\r\n\t\tSystem.out.println();\r\n\r\n\t\tprintStatistics(input);\r\n\r\n\t\tchar[] reversedText = input.toCharArray();\r\n\t\tfor (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\r\n\t\t\tSystem.out.print(reversedText[i]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\r\n\t\tString normalized = removeDiacritics(input);\r\n\t\tSystem.out.println(normalized);\r\n\t}\r\n\r\n\tprivate static void printStatistics(String input) {\r\n\t\tString[] sentences = input.split(&quot;\\\\. &quot;);\r\n\r\n\t\tint sentenceCount = 0;\r\n\t\tint vowelCount = 0;\r\n\t\tint consonantCount = 0;\r\n\t\tfor (String sentence : sentences) {\r\n\t\t\tvowelCount = 0;\r\n\t\t\tconsonantCount = 0;\r\n\t\t\tsentenceCount++;\r\n\t\t\tSystem.out.println(sentence);\r\n\t\t\tString[] words = sentence.split(&quot; &quot;);\r\n\t\t\tSystem.out.println(&quot;Number of words is &quot; + words.length);\r\n\t\t\tString lowerCase = sentence.toLowerCase();\r\n\t\t\tchar[] chars = lowerCase.toCharArray();\r\n\t\t\tSystem.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n\t\t\tfor (char c : chars) {\r\n\t\t\t\tif (c == &#39;a&#39; || c == &#39;e&#39; || c == &#39;i&#39; || c == &#39;o&#39; || c == &#39;u&#39; || c == &#39;y&#39;) {\r\n\t\t\t\t\tvowelCount++;\r\n\t\t\t\t} else if (c == &#39;h&#39; || c == &#39;k&#39; || c == &#39;r&#39; || c == &#39;d&#39; || c == &#39;t&#39; || c == &#39;n&#39;) {\r\n\t\t\t\t\tconsonantCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Number of vowels is &quot; + vowelCount);\r\n\t\t\tSystem.out.println(&quot;Number of consonants is &quot; + consonantCount);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Number of sentences is &quot; + sentenceCount);\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n\tprivate static String removeDiacritics(String textWithDiacritics) {\r\n\t\tchar[] normalizedText = textWithDiacritics.toCharArray();\r\n\t\tchar[] diacritics = { &#39;ě&#39;, &#39;š&#39;, &#39;č&#39;, &#39;ř&#39;, &#39;ž&#39;, &#39;&#253;&#39;, &#39;&#225;&#39;, &#39;&#237;&#39;, &#39;&#233;&#39;, &#39;&#250;&#39;, &#39;ů&#39;, &#39;Ě&#39;, &#39;Š&#39;, &#39;Č&#39;, &#39;Ř&#39;, &#39;Ž&#39;, &#39;&#221;&#39;, &#39;&#193;&#39;, &#39;&#205;&#39;, &#39;&#201;&#39;, &#39;&#218;&#39;, &#39;Ů&#39; };\r\n\t\tchar[] normal = { &#39;e&#39;, &#39;s&#39;, &#39;c&#39;, &#39;r&#39;, &#39;z&#39;, &#39;y&#39;, &#39;a&#39;, &#39;i&#39;, &#39;e&#39;, &#39;u&#39;, &#39;u&#39;, &#39;E&#39;, &#39;S&#39;, &#39;C&#39;, &#39;R&#39;, &#39;Z&#39;, &#39;Y&#39;, &#39;A&#39;, &#39;I&#39;, &#39;E&#39;, &#39;U&#39;, &#39;U&#39; };\r\n\t\tfor (int i = 0; i &lt; normalizedText.length; i++) {\r\n\t\t\tchar c = normalizedText[i];\r\n\t\t\tint index = -1;\r\n\t\t\tfor (int j = 0; j &lt; diacritics.length; j++) {\r\n\t\t\t\tif (c == diacritics[j]) {\r\n\t\t\t\t\tindex = j;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (index != -1) {\r\n\t\t\t\tnormalizedText[i] = normal[index];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn String.valueOf(normalizedText);\r\n\t}\r\n}\r\n```","title":"Work with Strings, Java, Diacritic Method","body":"<p>There's still more to do, but the below code could give you a basic idea on how to create various methods.</p>\n<p>I separated two methods out of the original code. You could improve it still, first and foremost go ahead and create a <code>private static void printReversed()</code> method to contain the reverse-text printing code. Next, slightly more advanced and more involved would be making all the methods return something instead of directly printing out stuff (like <code>removeDiacritics()</code> does). In programming we generally frown upon methods with &quot;side-effects&quot; (like printing) and prefer pure methods that take something in, transform it and return something back, so that the calling code can do whatever it wants with it. Like printing :).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String... args) {\n        Scanner sc = new Scanner(System.in);\n        String input = sc.nextLine();\n        System.out.println(input);\n        System.out.println();\n\n        printStatistics(input);\n\n        char[] reversedText = input.toCharArray();\n        for (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\n            System.out.print(reversedText[i]);\n        }\n        System.out.println();\n\n        String normalized = removeDiacritics(input);\n        System.out.println(normalized);\n    }\n\n    private static void printStatistics(String input) {\n        String[] sentences = input.split(&quot;\\\\. &quot;);\n\n        int sentenceCount = 0;\n        int vowelCount = 0;\n        int consonantCount = 0;\n        for (String sentence : sentences) {\n            vowelCount = 0;\n            consonantCount = 0;\n            sentenceCount++;\n            System.out.println(sentence);\n            String[] words = sentence.split(&quot; &quot;);\n            System.out.println(&quot;Number of words is &quot; + words.length);\n            String lowerCase = sentence.toLowerCase();\n            char[] chars = lowerCase.toCharArray();\n            System.out.println(&quot;Number of characters is &quot; + sentence.length());\n            for (char c : chars) {\n                if (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u' || c == 'y') {\n                    vowelCount++;\n                } else if (c == 'h' || c == 'k' || c == 'r' || c == 'd' || c == 't' || c == 'n') {\n                    consonantCount++;\n                }\n            }\n            System.out.println(&quot;Number of vowels is &quot; + vowelCount);\n            System.out.println(&quot;Number of consonants is &quot; + consonantCount);\n        }\n        System.out.println();\n        System.out.println(&quot;Number of sentences is &quot; + sentenceCount);\n        System.out.println();\n    }\n\n    private static String removeDiacritics(String textWithDiacritics) {\n        char[] normalizedText = textWithDiacritics.toCharArray();\n        char[] diacritics = { 'ě', 'š', 'č', 'ř', 'ž', 'ý', 'á', 'í', 'é', 'ú', 'ů', 'Ě', 'Š', 'Č', 'Ř', 'Ž', 'Ý', 'Á', 'Í', 'É', 'Ú', 'Ů' };\n        char[] normal = { 'e', 's', 'c', 'r', 'z', 'y', 'a', 'i', 'e', 'u', 'u', 'E', 'S', 'C', 'R', 'Z', 'Y', 'A', 'I', 'E', 'U', 'U' };\n        for (int i = 0; i &lt; normalizedText.length; i++) {\n            char c = normalizedText[i];\n            int index = -1;\n            for (int j = 0; j &lt; diacritics.length; j++) {\n                if (c == diacritics[j]) {\n                    index = j;\n                    break;\n                }\n            }\n            if (index != -1) {\n                normalizedText[i] = normal[index];\n            }\n        }\n\n        return String.valueOf(normalizedText);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684644046,"creation_date":1684643128,"answer_id":76298295,"question_id":75870129,"body_markdown":"To replace all the diacritics with normal characters, you&#39;ll need a way to map one character to another.  \r\nIt appears you have this already, 2 separate arrays, where the index indicates the relationship.\r\n\r\nI was able to produce valid results with the following method.\r\n\r\n```java\r\nString replace(String string) {\r\n    char[] diacritics = { &#39;ě&#39;, &#39;š&#39;, &#39;č&#39;, &#39;ř&#39;, &#39;ž&#39;, &#39;&#253;&#39;, &#39;&#225;&#39;, &#39;&#237;&#39;, &#39;&#233;&#39;, &#39;&#250;&#39;, &#39;ů&#39;, &#39;Ě&#39;, &#39;Š&#39;, &#39;Č&#39;, &#39;Ř&#39;, &#39;Ž&#39;, &#39;&#221;&#39;, &#39;&#193;&#39;, &#39;&#205;&#39;, &#39;&#201;&#39;, &#39;&#218;&#39;, &#39;Ů&#39; };\r\n    char[] normal = { &#39;e&#39;, &#39;s&#39;, &#39;c&#39;, &#39;r&#39;, &#39;z&#39;, &#39;y&#39;, &#39;a&#39;, &#39;i&#39;, &#39;e&#39;, &#39;u&#39;, &#39;u&#39;, &#39;E&#39;, &#39;S&#39;, &#39;C&#39;, &#39;R&#39;, &#39;Z&#39;, &#39;Y&#39;, &#39;A&#39;, &#39;I&#39;, &#39;E&#39;, &#39;U&#39;, &#39;U&#39; };\r\n    int index = 0;\r\n    for (char character : diacritics)\r\n        string = string.replace(character, normal[index++]);\r\n    return string;\r\n}\r\n```\r\n\r\nExample output\r\n\r\n```none\r\nexpos&#233; = expose\r\nlam&#233; = lame\r\nmat&#233; = mate\r\nros&#233; = rose\r\nr&#233;sum&#233; = resume\r\n```\r\n\r\nI reviewed your code, and made a few changes as recommendations.  \r\nYou can replace the vowel and consonant counting procedures with regular expression pattern matching.\r\n\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString input = sc.nextLine();\r\nSystem.out.println(input);\r\nString[] sentences = input.split(&quot;\\\\. &quot;);\r\nchar[] reversedText = input.toCharArray();\r\nchar[] normalizedText;\r\nint sentenceCount = 0, vowelCount, consonantCount;\r\nfor (String sentence : sentences) {\r\n    vowelCount = consonantCount = 0;\r\n    sentenceCount++;\r\n    System.out.println(sentence);\r\n    String[] words = sentence.split(&quot; &quot;);\r\n    System.out.println(&quot;Number of words is &quot; + words.length);\r\n    String lowerCase = sentence.toLowerCase();\r\n    char[] chars = lowerCase.toCharArray();\r\n    System.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n    for (char c : chars) {\r\n        if (String.valueOf(c).matches(&quot;[aeiouy]&quot;)) vowelCount++;\r\n        else if (String.valueOf(c).matches(&quot;[hkrdtn]&quot;)) consonantCount++;\r\n    }\r\n    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\r\n    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\r\n}\r\nSystem.out.println(&quot; &quot;);\r\nSystem.out.println(&quot;Number of sentences is &quot; + sentenceCount);\r\nfor (int i = (reversedText.length) - 1; i &gt;= 0; i--)\r\n    System.out.print(reversedText[i]);\r\nSystem.out.println(&quot; &quot;);\r\nnormalizedText = replace(input).toCharArray();\r\nSystem.out.println(normalizedText);\r\n```","title":"Work with Strings, Java, Diacritic Method","body":"<p>To replace all the diacritics with normal characters, you'll need a way to map one character to another.<br />\nIt appears you have this already, 2 separate arrays, where the index indicates the relationship.</p>\n<p>I was able to produce valid results with the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String replace(String string) {\n    char[] diacritics = { 'ě', 'š', 'č', 'ř', 'ž', 'ý', 'á', 'í', 'é', 'ú', 'ů', 'Ě', 'Š', 'Č', 'Ř', 'Ž', 'Ý', 'Á', 'Í', 'É', 'Ú', 'Ů' };\n    char[] normal = { 'e', 's', 'c', 'r', 'z', 'y', 'a', 'i', 'e', 'u', 'u', 'E', 'S', 'C', 'R', 'Z', 'Y', 'A', 'I', 'E', 'U', 'U' };\n    int index = 0;\n    for (char character : diacritics)\n        string = string.replace(character, normal[index++]);\n    return string;\n}\n</code></pre>\n<p>Example output</p>\n<pre class=\"lang-none prettyprint-override\"><code>exposé = expose\nlamé = lame\nmaté = mate\nrosé = rose\nrésumé = resume\n</code></pre>\n<p>I reviewed your code, and made a few changes as recommendations.<br />\nYou can replace the vowel and consonant counting procedures with regular expression pattern matching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString input = sc.nextLine();\nSystem.out.println(input);\nString[] sentences = input.split(&quot;\\\\. &quot;);\nchar[] reversedText = input.toCharArray();\nchar[] normalizedText;\nint sentenceCount = 0, vowelCount, consonantCount;\nfor (String sentence : sentences) {\n    vowelCount = consonantCount = 0;\n    sentenceCount++;\n    System.out.println(sentence);\n    String[] words = sentence.split(&quot; &quot;);\n    System.out.println(&quot;Number of words is &quot; + words.length);\n    String lowerCase = sentence.toLowerCase();\n    char[] chars = lowerCase.toCharArray();\n    System.out.println(&quot;Number of characters is &quot; + sentence.length());\n    for (char c : chars) {\n        if (String.valueOf(c).matches(&quot;[aeiouy]&quot;)) vowelCount++;\n        else if (String.valueOf(c).matches(&quot;[hkrdtn]&quot;)) consonantCount++;\n    }\n    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\n    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\n}\nSystem.out.println(&quot; &quot;);\nSystem.out.println(&quot;Number of sentences is &quot; + sentenceCount);\nfor (int i = (reversedText.length) - 1; i &gt;= 0; i--)\n    System.out.print(reversedText[i]);\nSystem.out.println(&quot; &quot;);\nnormalizedText = replace(input).toCharArray();\nSystem.out.println(normalizedText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684738088,"creation_date":1684738088,"answer_id":76303616,"question_id":75870129,"body_markdown":"I would rewrite your code to break out each operation into its own, unit-testable and well named, method:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String input = sc.nextLine();\r\n        System.out.println(input);\r\n        String[] sentences = input.split(&quot; ?\\\\. ?&quot;);\r\n        for (String sentence : sentences) {\r\n            System.out.println(&quot;Number of words is &quot; + countWords(sentence));\r\n            System.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n            System.out.println(&quot;Reversed is &quot; + new StringBuilder(sentence).reverse());\r\n            System.out.println(&quot;Diacritics removed is &quot; + removeDiacritics(sentence));\r\n            System.out.println(&quot;Number of vowels is &quot; + countVowels(sentence));\r\n            System.out.println(&quot;Number of consonants is &quot; + countConsonants(sentence));\r\n        }\r\n    }\r\n\r\n    private static final Map&lt;String, String&gt; DIACRITIC_MAPPINGS = new HashMap&lt;&gt;() {{\r\n        put(&quot;ě&quot;, &quot;e&quot;);\r\n        put(&quot;š&quot;, &quot;s&quot;);\r\n        put(&quot;č&quot;, &quot;c&quot;);\r\n        put(&quot;ř&quot;, &quot;r&quot;);\r\n        put(&quot;ž&quot;, &quot;z&quot;);\r\n        put(&quot;&#253;&quot;, &quot;y&quot;);\r\n        put(&quot;&#225;&quot;, &quot;a&quot;);\r\n        put(&quot;&#237;&quot;, &quot;i&quot;);\r\n        put(&quot;&#233;&quot;, &quot;e&quot;);\r\n        put(&quot;&#250;&quot;, &quot;u&quot;);\r\n        put(&quot;ů&quot;, &quot;u&quot;);\r\n        put(&quot;Ě&quot;, &quot;E&quot;);\r\n        put(&quot;Š&quot;, &quot;S&quot;);\r\n        put(&quot;Č&quot;, &quot;C&quot;);\r\n        put(&quot;Ř&quot;, &quot;R&quot;);\r\n        put(&quot;Ž&quot;, &quot;Z&quot;);\r\n        put(&quot;&#221;&quot;, &quot;Y&quot;);\r\n        put(&quot;&#193;&quot;, &quot;A&quot;);\r\n        put(&quot;&#205;&quot;, &quot;I&quot;);\r\n        put(&quot;&#201;&quot;, &quot;E&quot;);\r\n        put(&quot;&#218;&quot;, &quot;U&quot;);\r\n        put(&quot;Ů&quot;, &quot;U&quot;);\r\n    }};\r\n\r\n    private static final Pattern DIACRITICS = Pattern.compile(&#39;[&#39; + String.join(&quot;&quot;, DIACRITIC_MAPPINGS.keySet()) + &#39;]&#39;);\r\n\r\n    public static int countWords(String str) {\r\n        return str.trim().split(&quot; +&quot;).length;\r\n    }\r\n\r\n    public static int countVowels(String str) {\r\n        return str.replaceAll(&quot;(?i)[^aeiou]&quot;, &quot;&quot;).length();\r\n    }\r\n\r\n    public static int countConsonants(String str) {\r\n        return str.replaceAll(&quot;(?i)[ .aeiou]&quot;, &quot;&quot;).length();\r\n    }\r\n\r\n    public static String removeDiacritics(String str) {\r\n        return DIACRITICS.matcher(str).replaceAll(mr -&gt; DIACRITIC_MAPPINGS.get(mr.group()));\r\n    }\r\n}\r\n```","title":"Work with Strings, Java, Diacritic Method","body":"<p>I would rewrite your code to break out each operation into its own, unit-testable and well named, method:</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String input = sc.nextLine();\n        System.out.println(input);\n        String[] sentences = input.split(&quot; ?\\\\. ?&quot;);\n        for (String sentence : sentences) {\n            System.out.println(&quot;Number of words is &quot; + countWords(sentence));\n            System.out.println(&quot;Number of characters is &quot; + sentence.length());\n            System.out.println(&quot;Reversed is &quot; + new StringBuilder(sentence).reverse());\n            System.out.println(&quot;Diacritics removed is &quot; + removeDiacritics(sentence));\n            System.out.println(&quot;Number of vowels is &quot; + countVowels(sentence));\n            System.out.println(&quot;Number of consonants is &quot; + countConsonants(sentence));\n        }\n    }\n\n    private static final Map&lt;String, String&gt; DIACRITIC_MAPPINGS = new HashMap&lt;&gt;() {{\n        put(&quot;ě&quot;, &quot;e&quot;);\n        put(&quot;š&quot;, &quot;s&quot;);\n        put(&quot;č&quot;, &quot;c&quot;);\n        put(&quot;ř&quot;, &quot;r&quot;);\n        put(&quot;ž&quot;, &quot;z&quot;);\n        put(&quot;ý&quot;, &quot;y&quot;);\n        put(&quot;á&quot;, &quot;a&quot;);\n        put(&quot;í&quot;, &quot;i&quot;);\n        put(&quot;é&quot;, &quot;e&quot;);\n        put(&quot;ú&quot;, &quot;u&quot;);\n        put(&quot;ů&quot;, &quot;u&quot;);\n        put(&quot;Ě&quot;, &quot;E&quot;);\n        put(&quot;Š&quot;, &quot;S&quot;);\n        put(&quot;Č&quot;, &quot;C&quot;);\n        put(&quot;Ř&quot;, &quot;R&quot;);\n        put(&quot;Ž&quot;, &quot;Z&quot;);\n        put(&quot;Ý&quot;, &quot;Y&quot;);\n        put(&quot;Á&quot;, &quot;A&quot;);\n        put(&quot;Í&quot;, &quot;I&quot;);\n        put(&quot;É&quot;, &quot;E&quot;);\n        put(&quot;Ú&quot;, &quot;U&quot;);\n        put(&quot;Ů&quot;, &quot;U&quot;);\n    }};\n\n    private static final Pattern DIACRITICS = Pattern.compile('[' + String.join(&quot;&quot;, DIACRITIC_MAPPINGS.keySet()) + ']');\n\n    public static int countWords(String str) {\n        return str.trim().split(&quot; +&quot;).length;\n    }\n\n    public static int countVowels(String str) {\n        return str.replaceAll(&quot;(?i)[^aeiou]&quot;, &quot;&quot;).length();\n    }\n\n    public static int countConsonants(String str) {\n        return str.replaceAll(&quot;(?i)[ .aeiou]&quot;, &quot;&quot;).length();\n    }\n\n    public static String removeDiacritics(String str) {\n        return DIACRITICS.matcher(str).replaceAll(mr -&gt; DIACRITIC_MAPPINGS.get(mr.group()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27545743,"reputation":21,"user_id":21021708,"display_name":"QuackGaming1220"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1684738088,"creation_date":1680030219,"question_id":75870129,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n            public static void main(String[] args) {\r\n                Scanner sc = new Scanner(System.in);\r\n                String input = sc.nextLine();\r\n                System.out.println(input);\r\n                String[] sentences = input.split(&quot;\\\\. &quot;);\r\n                char[] reversedText = input.toCharArray();\r\n                char[] normalizedText = input.toCharArray();\r\n                int sentenceCount = 0;\r\n                int vowelCount = 0;\r\n                int consonantCount = 0;\r\n                for (String sentence : sentences) {\r\n                    vowelCount = 0;\r\n                    consonantCount = 0;\r\n                    sentenceCount++;\r\n                    System.out.println(sentence);\r\n                    String[] words = sentence.split(&quot; &quot;);\r\n                    System.out.println(&quot;Number of words is &quot; + words.length);\r\n                    String lowerCase = sentence.toLowerCase();\r\n                    char[] chars = lowerCase.toCharArray();\r\n                    System.out.println(&quot;Number of characters is &quot; + sentence.length());\r\n                    for (char c : chars) {\r\n                        if (c == &#39;a&#39; || c == &#39;e&#39; || c == &#39;i&#39; || c == &#39;o&#39; || c == &#39;u&#39; || c == &#39;y&#39;) {\r\n                            vowelCount++;\r\n                        } else if (c == &#39;h&#39; || c == &#39;k&#39; || c == &#39;r&#39; || c == &#39;d&#39; || c == &#39;t&#39; || c == &#39;n&#39;) {\r\n                            consonantCount++;\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\r\n                    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n                System.out.println(&quot;Number of sentences is &quot; + sentenceCount);\r\n                for (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\r\n                    System.out.print(reversedText[i]);\r\n                }\r\n                System.out.println(&quot; &quot;);\r\n                char[] diacritics = {&#39;ě&#39;, &#39;š&#39;, &#39;č&#39;, &#39;ř&#39;, &#39;ž&#39;, &#39;&#253;&#39;, &#39;&#225;&#39;, &#39;&#237;&#39;, &#39;&#233;&#39;, &#39;&#250;&#39;, &#39;ů&#39;, &#39;Ě&#39;, &#39;Š&#39;, &#39;Č&#39;, &#39;Ř&#39;, &#39;Ž&#39;, &#39;&#221;&#39;, &#39;&#193;&#39;, &#39;&#205;&#39;, &#39;&#201;&#39;, &#39;&#218;&#39;, &#39;Ů&#39; };\r\n                char[] normal = {&#39;e&#39;, &#39;s&#39;, &#39;c&#39;, &#39;r&#39;, &#39;z&#39;, &#39;y&#39;, &#39;a&#39;, &#39;i&#39;, &#39;e&#39;, &#39;u&#39;, &#39;u&#39;, &#39;E&#39;, &#39;S&#39;, &#39;C&#39;, &#39;R&#39;, &#39;Z&#39;, &#39;Y&#39;, &#39;A&#39;, &#39;I&#39;, &#39;E&#39;, &#39;U&#39;, &#39;U&#39; };\r\n                for (int i = 0; i &lt; normalizedText.length; i++) {\r\n                    char c = normalizedText[i];\r\n                    int index = -1;\r\n                    for (int j = 0; j &lt; diacritics.length; j++) {\r\n                        if (c == diacritics[j]) {\r\n                            index = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (index != -1) {\r\n                        normalizedText[i] = normal[index];\r\n                    }\r\n                }\r\n\r\n                System.out.println(normalizedText);\r\n\r\n            }}\r\n```\r\nI was working with Strings.\r\nCan someone show me how to do this with a method? Also please point out things that are wrong with my code in general.\r\n\r\nI was trying to replace all of the diacritics, with &quot;normal&quot; text, this is what I came up with, but it&#180;s not a method but done manually.","title":"Work with Strings, Java, Diacritic Method","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n            public static void main(String[] args) {\n                Scanner sc = new Scanner(System.in);\n                String input = sc.nextLine();\n                System.out.println(input);\n                String[] sentences = input.split(&quot;\\\\. &quot;);\n                char[] reversedText = input.toCharArray();\n                char[] normalizedText = input.toCharArray();\n                int sentenceCount = 0;\n                int vowelCount = 0;\n                int consonantCount = 0;\n                for (String sentence : sentences) {\n                    vowelCount = 0;\n                    consonantCount = 0;\n                    sentenceCount++;\n                    System.out.println(sentence);\n                    String[] words = sentence.split(&quot; &quot;);\n                    System.out.println(&quot;Number of words is &quot; + words.length);\n                    String lowerCase = sentence.toLowerCase();\n                    char[] chars = lowerCase.toCharArray();\n                    System.out.println(&quot;Number of characters is &quot; + sentence.length());\n                    for (char c : chars) {\n                        if (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u' || c == 'y') {\n                            vowelCount++;\n                        } else if (c == 'h' || c == 'k' || c == 'r' || c == 'd' || c == 't' || c == 'n') {\n                            consonantCount++;\n                        }\n                    }\n                    System.out.println(&quot;Number of vowels is &quot; + vowelCount);\n                    System.out.println(&quot;Number of consonants is &quot; + consonantCount);\n                }\n                System.out.println(&quot; &quot;);\n                System.out.println(&quot;Number of sentences is &quot; + sentenceCount);\n                for (int i = (reversedText.length) - 1; i &gt;= 0; i--) {\n                    System.out.print(reversedText[i]);\n                }\n                System.out.println(&quot; &quot;);\n                char[] diacritics = {'ě', 'š', 'č', 'ř', 'ž', 'ý', 'á', 'í', 'é', 'ú', 'ů', 'Ě', 'Š', 'Č', 'Ř', 'Ž', 'Ý', 'Á', 'Í', 'É', 'Ú', 'Ů' };\n                char[] normal = {'e', 's', 'c', 'r', 'z', 'y', 'a', 'i', 'e', 'u', 'u', 'E', 'S', 'C', 'R', 'Z', 'Y', 'A', 'I', 'E', 'U', 'U' };\n                for (int i = 0; i &lt; normalizedText.length; i++) {\n                    char c = normalizedText[i];\n                    int index = -1;\n                    for (int j = 0; j &lt; diacritics.length; j++) {\n                        if (c == diacritics[j]) {\n                            index = j;\n                            break;\n                        }\n                    }\n                    if (index != -1) {\n                        normalizedText[i] = normal[index];\n                    }\n                }\n\n                System.out.println(normalizedText);\n\n            }}\n</code></pre>\n<p>I was working with Strings.\nCan someone show me how to do this with a method? Also please point out things that are wrong with my code in general.</p>\n<p>I was trying to replace all of the diacritics, with &quot;normal&quot; text, this is what I came up with, but it´s not a method but done manually.</p>\n"},{"tags":["java","maven","intellij-idea","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1684686650,"post_id":76300711,"comment_id":134549827,"body_markdown":"You need to attach the javadocs when building your artifact in its Pom.xml. Then they go together in the maven repository b","body":"You need to attach the javadocs when building your artifact in its Pom.xml. Then they go together in the maven repository b"},{"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"score":0,"creation_date":1684688257,"post_id":76300711,"comment_id":134550025,"body_markdown":"When I build my project, it produces two JAR files. How do I attach the javadocs JAR to the artifact?","body":"When I build my project, it produces two JAR files. How do I attach the javadocs JAR to the artifact?"}],"answers":[{"comments":[{"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"score":0,"creation_date":1684688850,"post_id":76301015,"comment_id":134550094,"body_markdown":"I don&#39;t think this would work in this situation because the library I need Javadocs for is a local one that I made in another project. I just tried this and it indicates that my library has not been resolved.","body":"I don&#39;t think this would work in this situation because the library I need Javadocs for is a local one that I made in another project. I just tried this and it indicates that my library has not been resolved."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1684688984,"post_id":76301015,"comment_id":134550111,"body_markdown":"what means &quot;local one&quot; ? (is it released to a maven repo? or `&lt;scope&gt;system&lt;/scope&gt;`!? ;(","body":"what means &quot;local one&quot; ? (is it released to a maven repo? or <code>&lt;scope&gt;system&lt;&#47;scope&gt;</code>!? ;("},{"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"score":0,"creation_date":1684689525,"post_id":76301015,"comment_id":134550180,"body_markdown":"It is `&lt;scope&gt;system&lt;/scope&gt;`, yes.","body":"It is <code>&lt;scope&gt;system&lt;&#47;scope&gt;</code>, yes."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684690352,"post_id":76301015,"comment_id":134550290,"body_markdown":"for long term: you have to &quot;mavenize&quot; this! (install/deploy it (with sources and javadoc!) to local/repo), to quickly work in ide..: see screenshot ;)","body":"for long term: you have to &quot;mavenize&quot; this! (install/deploy it (with sources and javadoc!) to local/repo), to quickly work in ide..: see screenshot ;)"},{"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"score":1,"creation_date":1684690859,"post_id":76301015,"comment_id":134550358,"body_markdown":"Thank you for pointing me in the right direction! I ended up &quot;mavenizing&quot; my library by deploying the library + javadoc to a local repository (.m2 directory), and adding that path into my `pom.xml` repositories. I also removed the `&lt;scope&gt;system&lt;/scope&gt;`. Javadocs are working now even after Maven reloads.","body":"Thank you for pointing me in the right direction! I ended up &quot;mavenizing&quot; my library by deploying the library + javadoc to a local repository (.m2 directory), and adding that path into my <code>pom.xml</code> repositories. I also removed the <code>&lt;scope&gt;system&lt;&#47;scope&gt;</code>. Javadocs are working now even after Maven reloads."}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684692626,"creation_date":1684688552,"answer_id":76301015,"question_id":76300711,"body_markdown":"Pure Maven (good IDEs should recognize these):\r\n```lang-bash\r\nmvn dependency:resolve -Dclassifier=javadoc\r\n```\r\n\r\nRef: https://maven.apache.org/plugins/maven-dependency-plugin/resolve-mojo.html\r\n\r\nNotes: It&#39;s rather unusual (unless explicitly ordered) to &quot;package&quot; (dependency) javadocs with the main artifact... In maven, &quot;we&quot; rather maintain (own!) artifacts for &quot;main&quot;/sources/and javadocs (See: https://maven.apache.org/repository/guide-central-repository-upload.html)\r\n\r\nAs mentioned, good IDEs should be capable of processing the &quot;local repository&quot; for javadoc (and source) artifacts of undrlying dependencies.\r\n\r\nTo &quot;download sources&quot; use:\r\n```lang-bash\r\nmvn dependency:sources\r\n```\r\n\r\nRef: https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html ;)\r\n\r\n\r\n----------\r\nWhen your (remote) Repository does not comply with &quot;central requirements&quot; (has no &quot;source&quot; and &quot;javadoc&quot; artifacts attached),\r\nalso to eliminate (any) `&lt;scope&gt;system&lt;/scope&gt;` dependency, I would strongly recommend (to &quot;mavenize&quot; the dependencies and) install/deploy sources and javadocs artifacts for this:\r\n- locally with: `mvn install:install ...`\r\n- to a &quot;repo&quot;: `mvn deploy:...`\r\n\r\nFor &quot;mavenize&quot; refer to:\r\n- locally: https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\r\n- for &quot;deployments&quot;: https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\r\n\r\nSpecifically for sources and javadocs artifacts (once you have/generate these):\r\n\r\n- deploy: https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html\r\n- accordingly with &quot;install-file&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nThe &quot;pure IDE&quot; way, would be to link to the (external!) sources/javadocs (in file system/zip/jar archive):\r\n... See screenshot:\r\n\r\n[![screenshot][1]][1]\r\n\r\n- `com.example:my-dep:0.0.1-SNAPSHOT` is my (fake) `system` scoped dependency.\r\n- After &quot;applying&quot; changes and confirming the warn dialog (iml vs pom, re-import...), IntelliJ should recoginze javadocs and sources.\r\n- According to the warning our &quot;modifications&quot; get lost in case of a &quot;maven re-import&quot;.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C7GsK.png","title":"How to add a Javadoc JAR file to a Maven project in IntelliJ IDEA?","body":"<p>Pure Maven (good IDEs should recognize these):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:resolve -Dclassifier=javadoc\n</code></pre>\n<p>Ref: <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/resolve-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/resolve-mojo.html</a></p>\n<p>Notes: It's rather unusual (unless explicitly ordered) to &quot;package&quot; (dependency) javadocs with the main artifact... In maven, &quot;we&quot; rather maintain (own!) artifacts for &quot;main&quot;/sources/and javadocs (See: <a href=\"https://maven.apache.org/repository/guide-central-repository-upload.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/repository/guide-central-repository-upload.html</a>)</p>\n<p>As mentioned, good IDEs should be capable of processing the &quot;local repository&quot; for javadoc (and source) artifacts of undrlying dependencies.</p>\n<p>To &quot;download sources&quot; use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:sources\n</code></pre>\n<p>Ref: <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html</a> ;)</p>\n<hr />\n<p>When your (remote) Repository does not comply with &quot;central requirements&quot; (has no &quot;source&quot; and &quot;javadoc&quot; artifacts attached),\nalso to eliminate (any) <code>&lt;scope&gt;system&lt;/scope&gt;</code> dependency, I would strongly recommend (to &quot;mavenize&quot; the dependencies and) install/deploy sources and javadocs artifacts for this:</p>\n<ul>\n<li>locally with: <code>mvn install:install ...</code></li>\n<li>to a &quot;repo&quot;: <code>mvn deploy:...</code></li>\n</ul>\n<p>For &quot;mavenize&quot; refer to:</p>\n<ul>\n<li>locally: <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></li>\n<li>for &quot;deployments&quot;: <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html</a></li>\n</ul>\n<p>Specifically for sources and javadocs artifacts (once you have/generate these):</p>\n<ul>\n<li>deploy: <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html</a></li>\n<li>accordingly with &quot;install-file&quot;</li>\n</ul>\n<hr />\n<p>The &quot;pure IDE&quot; way, would be to link to the (external!) sources/javadocs (in file system/zip/jar archive):\n... See screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/C7GsK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C7GsK.png\" alt=\"screenshot\" /></a></p>\n<ul>\n<li><code>com.example:my-dep:0.0.1-SNAPSHOT</code> is my (fake) <code>system</code> scoped dependency.</li>\n<li>After &quot;applying&quot; changes and confirming the warn dialog (iml vs pom, re-import...), IntelliJ should recoginze javadocs and sources.</li>\n<li>According to the warning our &quot;modifications&quot; get lost in case of a &quot;maven re-import&quot;.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684737896,"creation_date":1684691191,"answer_id":76301182,"question_id":76300711,"body_markdown":"There is a more general maven-style way and should be preferred over the &quot;IDE way&quot;. You can use a local &quot;fake&quot; repository inside your project. Add the jar files to your repo. The maven call depends on the type of the jar.\r\n\r\n**The jar:**\r\n\r\n    mvn deploy:deploy-file \\\r\n      -DgroupId=org.example \\\r\n      -DartifactId=mylib\\\r\n      -Dversion=1.1 \\\r\n      -Dfile=/path/to/mylib-1.1.jar \\\r\n      -Dpackaging=jar \\\r\n      -Durl=file://path/to/your-project/fake-repo\r\n\r\n**The sources:**\r\n\r\n    mvn deploy:deploy-file \\\r\n      -DgroupId=org.example \\\r\n      -DartifactId=mylib\\\r\n      -Dversion=1.1 \\\r\n      -Dfile=/path/to/mylib-1.1-sources.jar \\\r\n      -Dpackaging=jar \\\r\n      -Durl=file://path/to/your-project/fake-repo \\\r\n      -Dclassifier=sources\r\n\r\n**The javadoc:**\r\n\r\n    mvn deploy:deploy-file \\\r\n      -DgroupId=org.example \\\r\n      -DartifactId=mylib\\\r\n      -Dversion=1.1 \\\r\n      -Dfile=/path/to/mylib-1.1-javadoc.jar \\\r\n      -Dpackaging=jar \\\r\n      -Durl=file://path/to/your-project/fake-repo \\\r\n      -Dclassifier=javadoc\r\n\r\nThe next step is adding the repo and the dependency to your pom:\r\n\r\n    &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;fake-repo&lt;/id&gt;\r\n        &lt;name&gt;Just a fake repository.&lt;/name&gt;\r\n        &lt;url&gt;file://${project.basedir}/fake-repo&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mylib&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How to add a Javadoc JAR file to a Maven project in IntelliJ IDEA?","body":"<p>There is a more general maven-style way and should be preferred over the &quot;IDE way&quot;. You can use a local &quot;fake&quot; repository inside your project. Add the jar files to your repo. The maven call depends on the type of the jar.</p>\n<p><strong>The jar:</strong></p>\n<pre><code>mvn deploy:deploy-file \\\n  -DgroupId=org.example \\\n  -DartifactId=mylib\\\n  -Dversion=1.1 \\\n  -Dfile=/path/to/mylib-1.1.jar \\\n  -Dpackaging=jar \\\n  -Durl=file://path/to/your-project/fake-repo\n</code></pre>\n<p><strong>The sources:</strong></p>\n<pre><code>mvn deploy:deploy-file \\\n  -DgroupId=org.example \\\n  -DartifactId=mylib\\\n  -Dversion=1.1 \\\n  -Dfile=/path/to/mylib-1.1-sources.jar \\\n  -Dpackaging=jar \\\n  -Durl=file://path/to/your-project/fake-repo \\\n  -Dclassifier=sources\n</code></pre>\n<p><strong>The javadoc:</strong></p>\n<pre><code>mvn deploy:deploy-file \\\n  -DgroupId=org.example \\\n  -DartifactId=mylib\\\n  -Dversion=1.1 \\\n  -Dfile=/path/to/mylib-1.1-javadoc.jar \\\n  -Dpackaging=jar \\\n  -Durl=file://path/to/your-project/fake-repo \\\n  -Dclassifier=javadoc\n</code></pre>\n<p>The next step is adding the repo and the dependency to your pom:</p>\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;fake-repo&lt;/id&gt;\n    &lt;name&gt;Just a fake repository.&lt;/name&gt;\n    &lt;url&gt;file://${project.basedir}/fake-repo&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mylib&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":7221749,"reputation":175,"user_id":5511940,"accept_rate":75,"display_name":"Francis Rubio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76301182,"answer_count":2,"score":2,"last_activity_date":1684737896,"creation_date":1684684082,"question_id":76300711,"body_markdown":"I am making a local Java utility library and building it into a JAR file. I am also building a JAR file for the Javadocs. \r\n\r\nThese are the JAR files generated by Maven:\r\n\r\n[![inside target/ directory, JAR files called redacted-libraries-0.0.1.jar and redacted-libraries-0.0.1-javadocs.jar][1]][1]\r\n\r\nNow, I am trying to use the Javadocs JAR file with IntelliJ IDEA by importing it in File &gt; Project Structure, and it works. I get hints and documentation for code references in my IDE. But as soon as I reload my Maven project, the Javadocs are gone and I have to manually add it back.\r\n\r\nI am also getting this warning from IntelliJ everytime I add the Javadoc JAR file back.\r\n\r\n[![Library &#39;Maven:com.redacted-library.0.0.1&#39; is imported from Maven. Any changes made in its configuration might be lost after reimporting.][2]][2]\r\n\r\nWhat is the proper way of adding a Javadoc JAR file into a Maven project?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3hzP.png\r\n  [2]: https://i.stack.imgur.com/Ptmzo.png","title":"How to add a Javadoc JAR file to a Maven project in IntelliJ IDEA?","body":"<p>I am making a local Java utility library and building it into a JAR file. I am also building a JAR file for the Javadocs.</p>\n<p>These are the JAR files generated by Maven:</p>\n<p><a href=\"https://i.stack.imgur.com/G3hzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3hzP.png\" alt=\"inside target/ directory, JAR files called redacted-libraries-0.0.1.jar and redacted-libraries-0.0.1-javadocs.jar\" /></a></p>\n<p>Now, I am trying to use the Javadocs JAR file with IntelliJ IDEA by importing it in File &gt; Project Structure, and it works. I get hints and documentation for code references in my IDE. But as soon as I reload my Maven project, the Javadocs are gone and I have to manually add it back.</p>\n<p>I am also getting this warning from IntelliJ everytime I add the Javadoc JAR file back.</p>\n<p><a href=\"https://i.stack.imgur.com/Ptmzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ptmzo.png\" alt=\"Library 'Maven:com.redacted-library.0.0.1' is imported from Maven. Any changes made in its configuration might be lost after reimporting.\" /></a></p>\n<p>What is the proper way of adding a Javadoc JAR file into a Maven project?</p>\n"},{"tags":["java","stack-trace","systemexit"],"answers":[{"tags":[],"owner":{"account_id":28637891,"reputation":196,"user_id":21927668,"display_name":"Almaz Shakirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1684737862,"creation_date":1684524049,"answer_id":76291918,"question_id":76290683,"body_markdown":"How about using shutdown hook?\r\nIt could be like this:\r\n\r\n    Thread printStackTracesOnShutdownHook = new Thread(() -&gt; {\r\n        LOG.info(&quot;Shutdown hook called&quot;);\r\n        for (Map.Entry&lt;Thread, StackTraceElement[]&gt; pair : \r\n                 Thread.getAllStackTraces().entrySet()) {\r\n            LOG.info(pair.getKey() + &quot; : &quot; + Arrays.toString(pair.getValue()));\r\n        }\r\n    });\r\n\r\n    Runtime.getRuntime().addShutdownHook(printStackTracesOnShutdownHook);\r\n\r\nYou can add this code somewhere in your application (where it will be executed). Then on shutdown `printStackTracesOnShutdownHook` will write to logs all stackTraces. And you will be able to find from these stackTraces where `System.exit()` was called.","title":"Is there a way to log stacktrace which called System.exit in Java","body":"<p>How about using shutdown hook?\nIt could be like this:</p>\n<pre><code>Thread printStackTracesOnShutdownHook = new Thread(() -&gt; {\n    LOG.info(&quot;Shutdown hook called&quot;);\n    for (Map.Entry&lt;Thread, StackTraceElement[]&gt; pair : \n             Thread.getAllStackTraces().entrySet()) {\n        LOG.info(pair.getKey() + &quot; : &quot; + Arrays.toString(pair.getValue()));\n    }\n});\n\nRuntime.getRuntime().addShutdownHook(printStackTracesOnShutdownHook);\n</code></pre>\n<p>You can add this code somewhere in your application (where it will be executed). Then on shutdown <code>printStackTracesOnShutdownHook</code> will write to logs all stackTraces. And you will be able to find from these stackTraces where <code>System.exit()</code> was called.</p>\n"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76291918,"answer_count":1,"score":4,"last_activity_date":1684737862,"creation_date":1684511699,"question_id":76290683,"body_markdown":"I think there is a way to do this with `SecurityManager`, but I don&#39;t want to introduce it in an App just for this.\r\n\r\nIs there a way to catch and log stacktrace of what called exit() using some other solution?","title":"Is there a way to log stacktrace which called System.exit in Java","body":"<p>I think there is a way to do this with <code>SecurityManager</code>, but I don't want to introduce it in an App just for this.</p>\n<p>Is there a way to catch and log stacktrace of what called exit() using some other solution?</p>\n"},{"tags":["java","amazon-web-services","spring-3","aws-xray","jakarta-migration"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1669738900,"post_id":74616492,"comment_id":131708869,"body_markdown":"Sounds like a Spring lib issue vs an AWS issue.","body":"Sounds like a Spring lib issue vs an AWS issue."},{"owner":{"account_id":18773357,"reputation":11,"user_id":13689708,"display_name":"snnhbyb"},"score":0,"creation_date":1669875889,"post_id":74616492,"comment_id":131743512,"body_markdown":"@smac2020 thx for the comment. As I understand still there is no update for aws in spring. So just waiting for that","body":"@smac2020 thx for the comment. As I understand still there is no update for aws in spring. So just waiting for that"}],"answers":[{"tags":[],"owner":{"account_id":19339303,"reputation":36,"user_id":14139229,"display_name":"Adam Shaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670954478,"creation_date":1670953983,"answer_id":74789039,"question_id":74616492,"body_markdown":"Thanks for bringing this to our attention.\r\n\r\nThere is an issue with the latest version of Spring since it is using Jakarta instead of javax.\r\n\r\nI will add this as a work item for us.","title":"Cannot access javax.servlet.Filter class file for javax.servlet.Filter not found","body":"<p>Thanks for bringing this to our attention.</p>\n<p>There is an issue with the latest version of Spring since it is using Jakarta instead of javax.</p>\n<p>I will add this as a work item for us.</p>\n"},{"tags":[],"owner":{"account_id":17074189,"reputation":163,"user_id":12354182,"display_name":"cherish sham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684737800,"creation_date":1684737800,"answer_id":76303589,"question_id":74616492,"body_markdown":"This is fixed in latest upgrade.  \r\nYou need to import com.amazonaws:aws-xray-recorder-sdk-core:2.14.0 \r\nand other related libraries","title":"Cannot access javax.servlet.Filter class file for javax.servlet.Filter not found","body":"<p>This is fixed in latest upgrade.<br />\nYou need to import com.amazonaws:aws-xray-recorder-sdk-core:2.14.0\nand other related libraries</p>\n"}],"owner":{"account_id":18773357,"reputation":11,"user_id":13689708,"display_name":"snnhbyb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684737800,"creation_date":1669735982,"question_id":74616492,"body_markdown":"I&#39;m working in a project and right now I&#39;m migrating the project to Spring 3.0. So I made some changes in some classes. I can not share the classes because of the job rules but this class about the AwsXrayConfig class. And using filter. But when I try to build project I&#39;m getting this &quot;cannot access javax.servlet.Filter&quot; error. In the class I already updated javax to jakarta but AWSXRayServletFilter still using com.amazon.xray.javax.servlet.AWSXRayServletFilter library. So I&#39;m stuck here. Also I&#39;m not sure about looking the true place? Is that about jakarta or spring or aws libraries I&#39;&#39;m not sure. Any ideas? Thx\r\n\r\nI already removed import part about AWSXRayServletFilter but it&#39;s complaining. I changed javax.servlet.Filter to jakarta.servlet.Filter. Thats it","title":"Cannot access javax.servlet.Filter class file for javax.servlet.Filter not found","body":"<p>I'm working in a project and right now I'm migrating the project to Spring 3.0. So I made some changes in some classes. I can not share the classes because of the job rules but this class about the AwsXrayConfig class. And using filter. But when I try to build project I'm getting this &quot;cannot access javax.servlet.Filter&quot; error. In the class I already updated javax to jakarta but AWSXRayServletFilter still using com.amazon.xray.javax.servlet.AWSXRayServletFilter library. So I'm stuck here. Also I'm not sure about looking the true place? Is that about jakarta or spring or aws libraries I''m not sure. Any ideas? Thx</p>\n<p>I already removed import part about AWSXRayServletFilter but it's complaining. I changed javax.servlet.Filter to jakarta.servlet.Filter. Thats it</p>\n"},{"tags":["java","jakarta-ee","jvm","classloader","hotdeploy"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1521733897,"post_id":49432964,"comment_id":85867871,"body_markdown":"Have you tried ?","body":"Have you tried ?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1521733941,"post_id":49432964,"comment_id":85867891,"body_markdown":"You should not do this.  A better bet would be to use a JVM that allows hot redeploy.","body":"You should not do this.  A better bet would be to use a JVM that allows hot redeploy."},{"owner":{"account_id":2756352,"reputation":10990,"user_id":2374302,"accept_rate":86,"display_name":"Axel Amthor"},"score":1,"creation_date":1521734144,"post_id":49432964,"comment_id":85868039,"body_markdown":"An Idea would be an OSGI environment like Apache Felix or Equinox. These enable dynamic loading, starting and stopping of soocalled bundles etc.","body":"An Idea would be an OSGI environment like Apache Felix or Equinox. These enable dynamic loading, starting and stopping of soocalled bundles etc."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1521734179,"post_id":49432964,"comment_id":85868063,"body_markdown":"So people and/or automated testing runs 24/7?  There is no time slice to update the server?  Which is more important: deploy fixed defects or keep the environment up?","body":"So people and/or automated testing runs 24/7?  There is no time slice to update the server?  Which is more important: deploy fixed defects or keep the environment up?"},{"owner":{"account_id":12939056,"reputation":35,"user_id":9355458,"accept_rate":0,"display_name":"Ram"},"score":0,"creation_date":1521734311,"post_id":49432964,"comment_id":85868152,"body_markdown":"actually its a small teating environment and almost no scope for OSGI, Apache Flex.  seems the requirement is to write a java program to dovthe job ...         will that be possible ?","body":"actually its a small teating environment and almost no scope for OSGI, Apache Flex.  seems the requirement is to write a java program to dovthe job ...         will that be possible ?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1521735125,"post_id":49432964,"comment_id":85868753,"body_markdown":"Why would a deploy/restart of a small test environment be so disruptive?  How much time, 5 minutes?  Over lunch?  Scheduled at night?  Assuming it is possible, would it be acceptable to have the test environment not as close as the production environment?","body":"Why would a deploy/restart of a small test environment be so disruptive?  How much time, 5 minutes?  Over lunch?  Scheduled at night?  Assuming it is possible, would it be acceptable to have the test environment not as close as the production environment?"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1521924552,"post_id":49432964,"comment_id":85941980,"body_markdown":"consider multiple nodes + rolling restarts","body":"consider multiple nodes + rolling restarts"}],"answers":[{"tags":[],"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521734218,"creation_date":1521734218,"answer_id":49433170,"question_id":49432964,"body_markdown":"No you cannot, you would need to have the container on the server side. Although for your server like tomcat, jboss, websphere etc. you can configure them to hot deploy but the server side would still needs restart once new class file is placed. If you are trying to hot deploy a class file you can try using JRebel it will allow you to hot deploy the class file without actually restarting because it is managed within JRebel container. (also note that JRebel is not free)","title":"Java Program to load an changed class without server restart","body":"<p>No you cannot, you would need to have the container on the server side. Although for your server like tomcat, jboss, websphere etc. you can configure them to hot deploy but the server side would still needs restart once new class file is placed. If you are trying to hot deploy a class file you can try using JRebel it will allow you to hot deploy the class file without actually restarting because it is managed within JRebel container. (also note that JRebel is not free)</p>\n"},{"tags":[],"owner":{"account_id":5677340,"reputation":280,"user_id":4489994,"display_name":"Abhay Phougat"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684737139,"creation_date":1684734279,"answer_id":76303318,"question_id":49432964,"body_markdown":"There are quite a few solutions/plugins which help you with hot-deployment of java code saving you with complete build and server restart. I had used jRebel earlier available at https://www.jrebel.com/products/jrebel. There are other such solutions/tools that can help you with the hot deployment. ","title":"Java Program to load an changed class without server restart","body":"<p>There are quite a few solutions/plugins which help you with hot-deployment of java code saving you with complete build and server restart. I had used jRebel earlier available at <a href=\"https://www.jrebel.com/products/jrebel\" rel=\"nofollow noreferrer\">https://www.jrebel.com/products/jrebel</a>. There are other such solutions/tools that can help you with the hot deployment.</p>\n"}],"owner":{"account_id":12939056,"reputation":35,"user_id":9355458,"accept_rate":0,"display_name":"Ram"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1684737139,"creation_date":1521733629,"question_id":49432964,"body_markdown":"I need a java/j2ee program, that will load an updated class file when the server is still on. In our Web Application testing environment few classes(Java files) are being frequently changed to fix defects and need to load them in JVM fresh.\r\nWe can not restart the server to impact on going testing .\r\n\r\nCan we write a program to load it using class loader?","title":"Java Program to load an changed class without server restart","body":"<p>I need a java/j2ee program, that will load an updated class file when the server is still on. In our Web Application testing environment few classes(Java files) are being frequently changed to fix defects and need to load them in JVM fresh.\nWe can not restart the server to impact on going testing .</p>\n\n<p>Can we write a program to load it using class loader?</p>\n"},{"tags":["java","junit","mockito","junit4"],"answers":[{"comments":[{"owner":{"account_id":17968187,"reputation":79,"user_id":13057627,"display_name":"TheFastestTurtle"},"score":0,"creation_date":1684698042,"post_id":76301111,"comment_id":134551252,"body_markdown":"I have still the same error","body":"I have still the same error"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684699151,"post_id":76301111,"comment_id":134551372,"body_markdown":"Verify that the vinService dependency is used within the CarService class, check your dependencies in gradle/maven too.","body":"Verify that the vinService dependency is used within the CarService class, check your dependencies in gradle/maven too."},{"owner":{"account_id":17968187,"reputation":79,"user_id":13057627,"display_name":"TheFastestTurtle"},"score":0,"creation_date":1684736513,"post_id":76301111,"comment_id":134554641,"body_markdown":"I found possible reason. Inside test class I am initializing CarService in additional method: carService = new CarService(vinService) and vinService = new VinService(anotherService). So I have real object and @Mock. I suppose in this case it is not possible to use verify method because it can be probably used only on Mock.","body":"I found possible reason. Inside test class I am initializing CarService in additional method: carService = new CarService(vinService) and vinService = new VinService(anotherService). So I have real object and @Mock. I suppose in this case it is not possible to use verify method because it can be probably used only on Mock."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1684737002,"post_id":76301111,"comment_id":134554737,"body_markdown":"Updated my comment. Just mock Class inside the test. and your test will use this mock.","body":"Updated my comment. Just mock Class inside the test. and your test will use this mock."}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684736951,"creation_date":1684690040,"answer_id":76301111,"question_id":76300968,"body_markdown":"Actually, it`s very simple. You just need to use **@InjectMocks** instead **@Mock** for the service that you are testing:\r\n\r\n    @InjectMocks\r\n    private CarService carService;\r\n\r\nThis annotation says that Mockito will properly inject all mocks into your service(VinService into CarService).\r\n\r\n**Updated for comment**\r\nif you have somewhere initializing your service then you can easily add your mock inside test.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n        public class CarServiceTest {\r\n    \r\n            private static final String VIN = &quot;1G100000000000000&quot;\r\n    \r\n            @InjectMocks\r\n            private CarService carService;\r\n    \r\n            @Test\r\n            void vinShouldBeCheckedSuccessfully() {\r\n                VinService vinService = Mockito.mock(VinService.class);\r\n    \r\n                //when\r\n                carService.checkCar(VIN);\r\n    \r\n                //then\r\n                Mockito.verify(vinService, Mockito.times(1)).checkVIN(\r\n                    Mockito.anyList(),\r\n                    Mockito.anyString(),\r\n                    Mockito.any()); // Consumer parameter\r\n            }\r\n        }","title":"NotAMockException when trying to use verify method","body":"<p>Actually, it`s very simple. You just need to use <strong>@InjectMocks</strong> instead <strong>@Mock</strong> for the service that you are testing:</p>\n<pre><code>@InjectMocks\nprivate CarService carService;\n</code></pre>\n<p>This annotation says that Mockito will properly inject all mocks into your service(VinService into CarService).</p>\n<p><strong>Updated for comment</strong>\nif you have somewhere initializing your service then you can easily add your mock inside test.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n    public class CarServiceTest {\n\n        private static final String VIN = &quot;1G100000000000000&quot;\n\n        @InjectMocks\n        private CarService carService;\n\n        @Test\n        void vinShouldBeCheckedSuccessfully() {\n            VinService vinService = Mockito.mock(VinService.class);\n\n            //when\n            carService.checkCar(VIN);\n\n            //then\n            Mockito.verify(vinService, Mockito.times(1)).checkVIN(\n                Mockito.anyList(),\n                Mockito.anyString(),\n                Mockito.any()); // Consumer parameter\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17968187,"reputation":79,"user_id":13057627,"display_name":"TheFastestTurtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76301111,"answer_count":1,"score":0,"last_activity_date":1684736951,"creation_date":1684687780,"question_id":76300968,"body_markdown":"My first steps with unit tests and Mockito. I would like to use verify() method to check if it was called once.\r\n\r\n\r\n    public class CarService {\r\n    \r\n        private final VinService vinService;\r\n    \r\n        public void checkCar(String VIN) {\r\n            (here there is some business logic like:create list, pass the VIN, and add Consumer)\r\n    \r\n            vinService.checkVin(list, VIN, consumer); //checkVin inside VinService.class is also void\r\n        }\r\n    }\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class CarServiceTest {\r\n    \r\n        private static final String VIN = &quot;1G100000000000000&quot;\r\n    \r\n        @Mock\r\n        private CarService carService;\r\n    \r\n        @Mock\r\n        private VinService vinService;\r\n    \r\n        @Test\r\n        void vinShouldBeCheckedSuccessfully() {\r\n    \r\n            //when\r\n            carService.checkCar(VIN);\r\n    \r\n            //then\r\n            Mockito.verify(vinService, Mockito.times(1)).checkVIN(\r\n                    Mockito.anyList(),\r\n                    Mockito.anyString(),\r\n                    Mockito.any()); // Consumer parameter\r\n        }\r\n    }\r\n\r\nHowever I am getting the error:\r\n\r\n   \r\n\r\n     org.mockito.exceptions.misusing.NotAMockException: \r\n        Argument passed to verify() is of type VinService and is not a mock!\r\n        Make sure you place the parenthesis correctly!\r\n        See the examples of correct verifications:\r\n            verify(mock).someMethod();\r\n            verify(mock, times(10)).someMethod();\r\n            verify(mock, atLeastOnce()).someMethod();\r\n\r\nCould you help me to understand why?","title":"NotAMockException when trying to use verify method","body":"<p>My first steps with unit tests and Mockito. I would like to use verify() method to check if it was called once.</p>\n<pre><code>public class CarService {\n\n    private final VinService vinService;\n\n    public void checkCar(String VIN) {\n        (here there is some business logic like:create list, pass the VIN, and add Consumer)\n\n        vinService.checkVin(list, VIN, consumer); //checkVin inside VinService.class is also void\n    }\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class CarServiceTest {\n\n    private static final String VIN = &quot;1G100000000000000&quot;\n\n    @Mock\n    private CarService carService;\n\n    @Mock\n    private VinService vinService;\n\n    @Test\n    void vinShouldBeCheckedSuccessfully() {\n\n        //when\n        carService.checkCar(VIN);\n\n        //then\n        Mockito.verify(vinService, Mockito.times(1)).checkVIN(\n                Mockito.anyList(),\n                Mockito.anyString(),\n                Mockito.any()); // Consumer parameter\n    }\n}\n</code></pre>\n<p>However I am getting the error:</p>\n<pre><code> org.mockito.exceptions.misusing.NotAMockException: \n    Argument passed to verify() is of type VinService and is not a mock!\n    Make sure you place the parenthesis correctly!\n    See the examples of correct verifications:\n        verify(mock).someMethod();\n        verify(mock, times(10)).someMethod();\n        verify(mock, atLeastOnce()).someMethod();\n</code></pre>\n<p>Could you help me to understand why?</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1684736952,"post_id":76274261,"comment_id":134554724,"body_markdown":"So you are sure the player used with the method is the right one? Because I don&#39;t see issue myself","body":"So you are sure the player used with the method is the right one? Because I don&#39;t see issue myself"},{"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"score":0,"creation_date":1684742021,"post_id":76274261,"comment_id":134555625,"body_markdown":"Yeah im sure. I have no idea why its not working.","body":"Yeah im sure. I have no idea why its not working."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1684746898,"post_id":76274261,"comment_id":134556659,"body_markdown":"Can you show the first call of those method? Like part of event or command","body":"Can you show the first call of those method? Like part of event or command"},{"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"score":0,"creation_date":1684749862,"post_id":76274261,"comment_id":134557335,"body_markdown":"You mean like how it starts? it starts when you join the game or type /gui. It checks if you&#39;re a bedrock player thats joining first.","body":"You mean like how it starts? it starts when you join the game or type /gui. It checks if you&#39;re a bedrock player thats joining first."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1684754096,"post_id":76274261,"comment_id":134558124,"body_markdown":"Ok, and you&#39;re simply doing `CentoriUI23.getInstance().ui_screen_market(playerThatRanCommand)` ?","body":"Ok, and you&#39;re simply doing <code>CentoriUI23.getInstance().ui_screen_market(playerThatRanComm&zwnj;&#8203;and)</code> ?"},{"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"score":0,"creation_date":1684774322,"post_id":76274261,"comment_id":134562676,"body_markdown":"uh not really lol.","body":"uh not really lol."}],"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684736868,"creation_date":1684340804,"question_id":76274261,"body_markdown":"I&#39;m currently working on a plugin that includes a marketplace feature where players can open a GUI to browse and purchase items from other players. I have a method called `ui_screen_market` that displays a list of player names as buttons, and when a player clicks on a button, it should open a new GUI with the items that the corresponding player is selling. However, I&#39;m facing an issue where clicking on a username in the ui_screen_market GUI opens another person&#39;s screen instead of the expected player&#39;s shop GUI.\r\n\r\nI have tried debugging the code and verifying the values being passed to the methods, but I couldn&#39;t find any obvious mistakes. I suspect there might be an issue with how I&#39;m handling the button clicks or accessing the player&#39;s data.\r\n\r\nExpected behavior:\r\n\r\nClicking on a player&#39;s name in the ui_screen_market GUI should open a new GUI displaying the items that the corresponding player is selling.\r\n\r\nActual behavior:\r\n\r\nClicking on a player&#39;s name in the ui_screen_market GUI opens another person&#39;s shop GUI instead of the expected player&#39;s shop GUI.\r\n\r\nFull code: https://pastebin.com/3Vffumk3\r\n\r\nMethod with issue:\r\n\r\n    public void ui_screen_market_create(Player player) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            floodgatePlayer.sendForm(CustomForm.builder()\r\n                    .title(&quot;Centori UI / MARKET / CREATE&quot;)\r\n                    .input(&quot;Shop name&quot;)\r\n                    .toggle(&quot;Confirm shop creation&quot;)\r\n                    .validResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Shop creation in progress...&quot;);\r\n                        boolean toggleValue = response.asToggle(1);\r\n                        String inputValue = response.asInput(0);\r\n                        if (toggleValue) {\r\n                            Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\r\n                            assert plugin != null;\r\n                            File directory = new File(plugin.getDataFolder(), &quot;bdata/&quot; + floodgatePlayer.getUsername());\r\n                            boolean exists = directory.exists();\r\n\r\n                            if (exists) {\r\n                                player.sendMessage(&quot;An error occurred. Your shop might already exist.&quot;);\r\n                            } else {\r\n                                if (directory.mkdirs()) {\r\n                                    File file = new File(directory, &quot;shops.json&quot;);\r\n                                    try (FileWriter writer = new FileWriter(file)) {\r\n                                        writer.write(&quot;{\\n   &#39;shop-name&#39;: &#39;&quot; + inputValue + &quot;&#39; \\n }&quot;);\r\n                                        writer.flush();\r\n                                        player.sendMessage(&quot;Shop created with name: &quot; + inputValue);\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                        player.sendMessage(&quot;Something went wrong while creating the shop. Please open a ticket in Discord.&quot;);\r\n                                        System.err.println(&quot;Failed to write to file: &quot; + file.getAbsolutePath());\r\n                                    }\r\n                                } else {\r\n                                    player.sendMessage(&quot;Something went wrong while creating the directory. Please open a ticket in Discord.&quot;);\r\n                                    System.err.println(&quot;Failed to create the directory: &quot; + directory.getAbsolutePath());\r\n                                }\r\n                            }\r\n                        } else {\r\n                            player.sendMessage(&quot;Shop creation has been canceled&quot;);\r\n                        }\r\n                    })\r\n                    .closedOrInvalidResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Form closed or invalid&quot;);\r\n                    })\r\n                    .build());\r\n        }\r\n    }\r\n    public void ui_screen_market(Player player) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            List&lt;String&gt; shopNames = new ArrayList&lt;&gt;();\r\n\r\n            Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\r\n            assert plugin != null;\r\n            File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\r\n            File[] shopDirectories = bdataFolder.listFiles();\r\n\r\n            if (shopDirectories != null) {\r\n                for (File directory : shopDirectories) {\r\n                    if (directory.isDirectory()) {\r\n                        shopNames.add(directory.getName());\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!shopNames.isEmpty()) {\r\n                SimpleForm.Builder formBuilder = SimpleForm.builder()\r\n                        .title(&quot;Centori UI / MARKET TEST&quot;)\r\n                        .button(&quot;Go Back&quot;)\r\n                        .button(&quot;Create shop&quot;)\r\n                        .button(&quot;Delete shop&quot;)\r\n                        .button(&quot;Add item to your shop&quot;)\r\n                        .validResultHandler(response -&gt; {\r\n                            int clickedButtonId = response.getClickedButtonId();\r\n                            if (clickedButtonId == 0) {\r\n                                ui_screen_join_main(player);\r\n                            } else if (clickedButtonId == 1) {\r\n                                ui_screen_market_create(player);\r\n                            } else if (clickedButtonId &gt;= 3) {\r\n                                String clickedShopName = shopNames.get(clickedButtonId - 3);\r\n                                openPlayerItemsGUI(player, clickedShopName); // Updated method call\r\n                            }\r\n                        })\r\n                        .closedOrInvalidResultHandler(response -&gt; {\r\n                            player.sendMessage(&quot;Form closed or invalid&quot;);\r\n                        });\r\n\r\n                for (String shopName : shopNames) {\r\n                    formBuilder.button(shopName);\r\n                }\r\n\r\n                floodgatePlayer.sendForm(formBuilder.build());\r\n            } else {\r\n                player.sendMessage(&quot;No shops found.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void ui_screen_market_add(Player player) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            floodgatePlayer.sendForm(CustomForm.builder()\r\n                    .title(&quot;Centori UI / MARKET / ADD&quot;)\r\n                            .input(&quot;Enter Price&quot;)\r\n                            .slider(&quot;Amount to sell for price&quot;,1,64)\r\n                            .toggle(&quot;I confirm that the item in my possession will not be returned to me. (the item in your hand)&quot;)\r\n                    .validResultHandler(response -&gt; {\r\n                        ItemStack heldItem = player.getInventory().getItemInMainHand();\r\n\r\n                            if (heldItem.getType() != Material.AIR) {\r\n\r\n                                Material heldMaterial = heldItem.getType();\r\n                                String itemName = heldItem.getType().toString();\r\n                                int itemPrice = Integer.parseInt(Objects.requireNonNull(response.asInput(0)));\r\n                                int itemAmount = heldItem.getAmount();\r\n                                if (itemAmount &lt; response.asSlider(1)) {\r\n                                    player.sendMessage(&quot;You dont have enough of this item.&quot;);\r\n                                } else {\r\n                                    JsonObject itemObject = new JsonObject();\r\n                                    itemObject.addProperty(&quot;price&quot;, itemPrice);\r\n                                    itemObject.addProperty(&quot;amount&quot;, itemAmount);\r\n                                    String itemDetails = itemObject.toString();\r\n                                    Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;&quot;);\r\n                                    player.getInventory().setItemInMainHand(null);\r\n                                }\r\n\r\n                            } else {\r\n                                // The player is not holding any item or holding air\r\n                                player.sendMessage(&quot;You are not holding anything.&quot;);\r\n                            }\r\n                    })\r\n                    .closedOrInvalidResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;GUI closed, type /gui to reopen!&quot;);\r\n                    })\r\n                    .build());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void openPlayerItemsGUI(Player player, String playerName) {\r\n        FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\r\n        if (floodgatePlayer != null) {\r\n            SimpleForm.Builder formBuilder = SimpleForm.builder()\r\n                    .title(&quot;Items for Sale by: &quot; + playerName)\r\n                    .validResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Loading...&quot;);\r\n                        // Implement the click event handling for the item buttons\r\n                        // Add your desired logic here based on the clicked button\r\n                    })\r\n                    .closedOrInvalidResultHandler(response -&gt; {\r\n                        player.sendMessage(&quot;Form closed or invalid&quot;);\r\n                    });\r\n\r\n            Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\r\n            assert plugin != null;\r\n            File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\r\n            File playerDirectory = new File(bdataFolder, playerName); // Use playerName parameter directly\r\n            File itemsFile = new File(playerDirectory, &quot;items.json&quot;);\r\n            if (!playerDirectory.exists()) {\r\n                player.sendMessage(&quot;Player directory does not exist: &quot; + playerName);\r\n                return;\r\n            }\r\n\r\n            // Check if the items file exists\r\n            if (!itemsFile.exists()) {\r\n                player.sendMessage(&quot;Items file does not exist: &quot; + itemsFile.getAbsolutePath());\r\n                return;\r\n            }\r\n            if (itemsFile.exists()) {\r\n                try (FileReader reader = new FileReader(itemsFile)) {\r\n                    JsonParser parser = new JsonParser();\r\n                    JsonElement jsonElement = parser.parse(reader);\r\n                    JsonObject jsonObject = jsonElement.getAsJsonObject();\r\n\r\n                    for (Map.Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\r\n                        String itemName = entry.getKey();\r\n                        String itemDetails = entry.getValue().getAsString();\r\n\r\n                        // Extract price and amount from the item details\r\n                        String[] priceAmount = itemDetails.split(&quot;\\\\. amount &quot;);\r\n                        int itemPrice = Integer.parseInt(priceAmount[0].split(&quot;:&quot;)[1].trim());\r\n                        int itemAmount = Integer.parseInt(priceAmount[1].trim());\r\n\r\n                        // Add the item as a button to the form\r\n                        formBuilder.button(itemName + &quot; - Price: &quot; + itemPrice + &quot;, Amount: &quot; + itemAmount);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            floodgatePlayer.sendForm(formBuilder.build());\r\n        }\r\n    }\r\n","title":"Issue with opening correct player&#39;s shop GUI in ui_screen_market method","body":"<p>I'm currently working on a plugin that includes a marketplace feature where players can open a GUI to browse and purchase items from other players. I have a method called <code>ui_screen_market</code> that displays a list of player names as buttons, and when a player clicks on a button, it should open a new GUI with the items that the corresponding player is selling. However, I'm facing an issue where clicking on a username in the ui_screen_market GUI opens another person's screen instead of the expected player's shop GUI.</p>\n<p>I have tried debugging the code and verifying the values being passed to the methods, but I couldn't find any obvious mistakes. I suspect there might be an issue with how I'm handling the button clicks or accessing the player's data.</p>\n<p>Expected behavior:</p>\n<p>Clicking on a player's name in the ui_screen_market GUI should open a new GUI displaying the items that the corresponding player is selling.</p>\n<p>Actual behavior:</p>\n<p>Clicking on a player's name in the ui_screen_market GUI opens another person's shop GUI instead of the expected player's shop GUI.</p>\n<p>Full code: <a href=\"https://pastebin.com/3Vffumk3\" rel=\"nofollow noreferrer\">https://pastebin.com/3Vffumk3</a></p>\n<p>Method with issue:</p>\n<pre><code>public void ui_screen_market_create(Player player) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        floodgatePlayer.sendForm(CustomForm.builder()\n                .title(&quot;Centori UI / MARKET / CREATE&quot;)\n                .input(&quot;Shop name&quot;)\n                .toggle(&quot;Confirm shop creation&quot;)\n                .validResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Shop creation in progress...&quot;);\n                    boolean toggleValue = response.asToggle(1);\n                    String inputValue = response.asInput(0);\n                    if (toggleValue) {\n                        Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\n                        assert plugin != null;\n                        File directory = new File(plugin.getDataFolder(), &quot;bdata/&quot; + floodgatePlayer.getUsername());\n                        boolean exists = directory.exists();\n\n                        if (exists) {\n                            player.sendMessage(&quot;An error occurred. Your shop might already exist.&quot;);\n                        } else {\n                            if (directory.mkdirs()) {\n                                File file = new File(directory, &quot;shops.json&quot;);\n                                try (FileWriter writer = new FileWriter(file)) {\n                                    writer.write(&quot;{\\n   'shop-name': '&quot; + inputValue + &quot;' \\n }&quot;);\n                                    writer.flush();\n                                    player.sendMessage(&quot;Shop created with name: &quot; + inputValue);\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                    player.sendMessage(&quot;Something went wrong while creating the shop. Please open a ticket in Discord.&quot;);\n                                    System.err.println(&quot;Failed to write to file: &quot; + file.getAbsolutePath());\n                                }\n                            } else {\n                                player.sendMessage(&quot;Something went wrong while creating the directory. Please open a ticket in Discord.&quot;);\n                                System.err.println(&quot;Failed to create the directory: &quot; + directory.getAbsolutePath());\n                            }\n                        }\n                    } else {\n                        player.sendMessage(&quot;Shop creation has been canceled&quot;);\n                    }\n                })\n                .closedOrInvalidResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Form closed or invalid&quot;);\n                })\n                .build());\n    }\n}\npublic void ui_screen_market(Player player) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        List&lt;String&gt; shopNames = new ArrayList&lt;&gt;();\n\n        Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\n        assert plugin != null;\n        File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\n        File[] shopDirectories = bdataFolder.listFiles();\n\n        if (shopDirectories != null) {\n            for (File directory : shopDirectories) {\n                if (directory.isDirectory()) {\n                    shopNames.add(directory.getName());\n                }\n            }\n        }\n\n        if (!shopNames.isEmpty()) {\n            SimpleForm.Builder formBuilder = SimpleForm.builder()\n                    .title(&quot;Centori UI / MARKET TEST&quot;)\n                    .button(&quot;Go Back&quot;)\n                    .button(&quot;Create shop&quot;)\n                    .button(&quot;Delete shop&quot;)\n                    .button(&quot;Add item to your shop&quot;)\n                    .validResultHandler(response -&gt; {\n                        int clickedButtonId = response.getClickedButtonId();\n                        if (clickedButtonId == 0) {\n                            ui_screen_join_main(player);\n                        } else if (clickedButtonId == 1) {\n                            ui_screen_market_create(player);\n                        } else if (clickedButtonId &gt;= 3) {\n                            String clickedShopName = shopNames.get(clickedButtonId - 3);\n                            openPlayerItemsGUI(player, clickedShopName); // Updated method call\n                        }\n                    })\n                    .closedOrInvalidResultHandler(response -&gt; {\n                        player.sendMessage(&quot;Form closed or invalid&quot;);\n                    });\n\n            for (String shopName : shopNames) {\n                formBuilder.button(shopName);\n            }\n\n            floodgatePlayer.sendForm(formBuilder.build());\n        } else {\n            player.sendMessage(&quot;No shops found.&quot;);\n        }\n    }\n}\n\n\n\n\n\npublic void ui_screen_market_add(Player player) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        floodgatePlayer.sendForm(CustomForm.builder()\n                .title(&quot;Centori UI / MARKET / ADD&quot;)\n                        .input(&quot;Enter Price&quot;)\n                        .slider(&quot;Amount to sell for price&quot;,1,64)\n                        .toggle(&quot;I confirm that the item in my possession will not be returned to me. (the item in your hand)&quot;)\n                .validResultHandler(response -&gt; {\n                    ItemStack heldItem = player.getInventory().getItemInMainHand();\n\n                        if (heldItem.getType() != Material.AIR) {\n\n                            Material heldMaterial = heldItem.getType();\n                            String itemName = heldItem.getType().toString();\n                            int itemPrice = Integer.parseInt(Objects.requireNonNull(response.asInput(0)));\n                            int itemAmount = heldItem.getAmount();\n                            if (itemAmount &lt; response.asSlider(1)) {\n                                player.sendMessage(&quot;You dont have enough of this item.&quot;);\n                            } else {\n                                JsonObject itemObject = new JsonObject();\n                                itemObject.addProperty(&quot;price&quot;, itemPrice);\n                                itemObject.addProperty(&quot;amount&quot;, itemAmount);\n                                String itemDetails = itemObject.toString();\n                                Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;&quot;);\n                                player.getInventory().setItemInMainHand(null);\n                            }\n\n                        } else {\n                            // The player is not holding any item or holding air\n                            player.sendMessage(&quot;You are not holding anything.&quot;);\n                        }\n                })\n                .closedOrInvalidResultHandler(response -&gt; {\n                    player.sendMessage(&quot;GUI closed, type /gui to reopen!&quot;);\n                })\n                .build());\n    }\n}\n\n\n\n\n\n\nprivate void openPlayerItemsGUI(Player player, String playerName) {\n    FloodgatePlayer floodgatePlayer = floodgateApi.getPlayer(player.getUniqueId());\n    if (floodgatePlayer != null) {\n        SimpleForm.Builder formBuilder = SimpleForm.builder()\n                .title(&quot;Items for Sale by: &quot; + playerName)\n                .validResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Loading...&quot;);\n                    // Implement the click event handling for the item buttons\n                    // Add your desired logic here based on the clicked button\n                })\n                .closedOrInvalidResultHandler(response -&gt; {\n                    player.sendMessage(&quot;Form closed or invalid&quot;);\n                });\n\n        Plugin plugin = Bukkit.getPluginManager().getPlugin(&quot;CentoriUI23&quot;);\n        assert plugin != null;\n        File bdataFolder = new File(plugin.getDataFolder(), &quot;bdata&quot;);\n        File playerDirectory = new File(bdataFolder, playerName); // Use playerName parameter directly\n        File itemsFile = new File(playerDirectory, &quot;items.json&quot;);\n        if (!playerDirectory.exists()) {\n            player.sendMessage(&quot;Player directory does not exist: &quot; + playerName);\n            return;\n        }\n\n        // Check if the items file exists\n        if (!itemsFile.exists()) {\n            player.sendMessage(&quot;Items file does not exist: &quot; + itemsFile.getAbsolutePath());\n            return;\n        }\n        if (itemsFile.exists()) {\n            try (FileReader reader = new FileReader(itemsFile)) {\n                JsonParser parser = new JsonParser();\n                JsonElement jsonElement = parser.parse(reader);\n                JsonObject jsonObject = jsonElement.getAsJsonObject();\n\n                for (Map.Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\n                    String itemName = entry.getKey();\n                    String itemDetails = entry.getValue().getAsString();\n\n                    // Extract price and amount from the item details\n                    String[] priceAmount = itemDetails.split(&quot;\\\\. amount &quot;);\n                    int itemPrice = Integer.parseInt(priceAmount[0].split(&quot;:&quot;)[1].trim());\n                    int itemAmount = Integer.parseInt(priceAmount[1].trim());\n\n                    // Add the item as a button to the form\n                    formBuilder.button(itemName + &quot; - Price: &quot; + itemPrice + &quot;, Amount: &quot; + itemAmount);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        floodgatePlayer.sendForm(formBuilder.build());\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","ssl","tls1.2","nessus"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1663751582,"post_id":73797872,"comment_id":130310994,"body_markdown":"What does Nessus even scan? You show running openssl and nmap running against port 8443 - is this really what Nessus also does?","body":"What does Nessus even scan? You show running openssl and nmap running against port 8443 - is this really what Nessus also does?"},{"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"score":0,"creation_date":1663759984,"post_id":73797872,"comment_id":130314025,"body_markdown":"@SteffenUllrich..No, Nessus doesn&#39;t scan against port 8443. But it scans the entire server.","body":"@SteffenUllrich..No, Nessus doesn&#39;t scan against port 8443. But it scans the entire server."},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1663763473,"post_id":73797872,"comment_id":130315239,"body_markdown":"If the results from Nessus regarding TLS 1.0 are not from scanning port 8443 but a different port, then you need to look at the configuration of whatever is running on this port instead.","body":"If the results from Nessus regarding TLS 1.0 are not from scanning port 8443 but a different port, then you need to look at the configuration of whatever is running on this port instead."},{"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"score":0,"creation_date":1664889008,"post_id":73797872,"comment_id":130569318,"body_markdown":"@SteffenUllrich..Please find my edited details at the end of my question.","body":"@SteffenUllrich..Please find my edited details at the end of my question."}],"answers":[{"tags":[],"owner":{"account_id":2611193,"reputation":1067,"user_id":2261349,"display_name":"Znik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684736414,"creation_date":1684736414,"answer_id":76303469,"question_id":73797872,"body_markdown":"Nessus is only scanner. This situation tells you. default tools and system services are secured, but it is not tomcat run inside JVM.\r\nYou have two ways for resolve this one:\r\n1. Disable old crypto protocols globally in JVM or Tomcat. Usually it is in JVM. You can do int in mail JVM config for all java process, or by specyfing variable for JVM run. It is described here: https://stackoverflow.com/questions/41181696/disabling-tlsv1-0-in-java8\r\n2. Better way, is configuring apache as a proxy to tomcat, and completly disable tomcat for allowing TCP connection. You can do it by loopback netwok.","title":"How to fix &quot;TLS Version 1.0 Protocol Detection and TLS Version 1.1 Protocol Deprecated&quot; Nessus Scan Vulnerability","body":"<p>Nessus is only scanner. This situation tells you. default tools and system services are secured, but it is not tomcat run inside JVM.\nYou have two ways for resolve this one:</p>\n<ol>\n<li>Disable old crypto protocols globally in JVM or Tomcat. Usually it is in JVM. You can do int in mail JVM config for all java process, or by specyfing variable for JVM run. It is described here: <a href=\"https://stackoverflow.com/questions/41181696/disabling-tlsv1-0-in-java8\">Disabling TLSv1.0 in java8</a></li>\n<li>Better way, is configuring apache as a proxy to tomcat, and completly disable tomcat for allowing TCP connection. You can do it by loopback netwok.</li>\n</ol>\n"}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3880,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684736414,"creation_date":1663750100,"question_id":73797872,"body_markdown":"We are running our Java Application on RHEL 8.5 OS platform. In our Apache&#39;s ssl.conf file, we have enabled only TLSv1.2 protocol. And we are not using TLSv1 and TLSv1.1 protocols in our application. \r\n\r\nFrom the below details, it is confirmed that the above protocols are disabled from an OS perspective also.\r\n\r\n```\r\nupdate-crypto-policies --show\r\nDEFAULT\r\n```\r\n\r\nFrom RHEL, it is confirmed that &quot;The TLS versions TLS 1.0 and TLS 1.1 protocols are disabled in the DEFAULT system-wide cryptographic policy level. &quot;\r\n\r\nAnd from the below command results, it is confirmed that TLS 1.0 and TLS 1.1 is disabled from the Application Side.\r\n\r\n```\r\n[root@test ~]# openssl s_client -connect &lt;IP_ADDRESS&gt;:8443 -tls1\r\nCONNECTED(00000003)\r\n139679030896448:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\r\n---\r\nno peer certificate available\r\n---\r\nNo client certificate CA names sent\r\n---\r\nSSL handshake has read 7 bytes and written 104 bytes\r\nVerification: OK\r\n---\r\nNew, (NONE), Cipher is (NONE)\r\nSecure Renegotiation IS NOT supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1\r\n    Cipher    : 0000\r\n    Session-ID:\r\n    Session-ID-ctx:\r\n    Master-Key:\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    SRP username: None\r\n    Start Time: 1662128840\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 0 (ok)\r\n    Extended master secret: no\r\n-----------------------------------------\r\n\r\n[root@test ~]# nmap -sV --script ssl-enum-ciphers -p 8443 &lt;IP_ADDRESS&gt;\r\nStarting Nmap 7.70 ( https://nmap.org ) at 2022-09-20 20:02 IST\r\nmass_dns: warning: Unable to open /etc/resolv.conf. Try using --system-dns or specify valid servers with --dns-servers\r\nmass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers\r\nNmap scan report for XXXXX (IP_ADDRESS)\r\nHost is up (0.00067s latency).\r\n\r\nPORT     STATE SERVICE  VERSION\r\n8443/tcp open  ssl/http Apache httpd\r\n|_http-server-header: Apache\r\n| ssl-enum-ciphers:\r\n|   TLSv1.2:\r\n|     ciphers:\r\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\r\n|     compressors:\r\n|       NULL\r\n|     cipher preference: client\r\n|_  least strength: A\r\nMAC Address: 00:50:56:A7:92:7B (VMware)\r\n\r\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\r\nNmap done: 1 IP address (1 host up) scanned in 12.90 seconds\r\n\r\n-----------------------------------------\r\n```\r\n\r\nPlease find the configurations on &quot;ssl.conf&quot;,\r\n```\r\nSSLProtocol -ALL +TLSv1.2\r\nSSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:AES256-CCM:DHE-RSA-AES256-CCM\r\n```\r\n\r\nBut we are in confusion that why the Nessus scan vulnerability shows the TLS 1.0 and TLS 1.1 protocols even though those 2 protocols are disabled in all possibilities.\r\n\r\nVulnerability Details are listed below,\r\n\r\n 1. 104743 TLS Version 1.0 Protocol Detection\r\n 2. 157288 TLS Version 1.1 Protocol Deprecated\r\n\r\n\r\nFrom Nessus team, we came to know that port 4567 is using the below ciphers,\r\n```\r\nTLS1_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nTLS1_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nTLS1_CK_DHE_DSS_WITH_AES_128_CBC_SHA\r\nTLS1_CK_DHE_DSS_WITH_AES_256_CBC_SHA\r\nTLS1_CK_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\n```\r\n\r\nIn our application, we are using port 4567 as TRUSTSTORE_PORT where it is downloading the required certificates for the application to run.\r\n\r\nBut we enabled only the TLSv1.2 protocol. How the TLS1 ciphers are enabled?\r\n\r\nPlease let me know how to overcome these vulnerabilities.\r\n\r\nThanks in Advance.\r\n\r\n\r\n","title":"How to fix &quot;TLS Version 1.0 Protocol Detection and TLS Version 1.1 Protocol Deprecated&quot; Nessus Scan Vulnerability","body":"<p>We are running our Java Application on RHEL 8.5 OS platform. In our Apache's ssl.conf file, we have enabled only TLSv1.2 protocol. And we are not using TLSv1 and TLSv1.1 protocols in our application.</p>\n<p>From the below details, it is confirmed that the above protocols are disabled from an OS perspective also.</p>\n<pre><code>update-crypto-policies --show\nDEFAULT\n</code></pre>\n<p>From RHEL, it is confirmed that &quot;The TLS versions TLS 1.0 and TLS 1.1 protocols are disabled in the DEFAULT system-wide cryptographic policy level. &quot;</p>\n<p>And from the below command results, it is confirmed that TLS 1.0 and TLS 1.1 is disabled from the Application Side.</p>\n<pre><code>[root@test ~]# openssl s_client -connect &lt;IP_ADDRESS&gt;:8443 -tls1\nCONNECTED(00000003)\n139679030896448:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\n---\nno peer certificate available\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 7 bytes and written 104 bytes\nVerification: OK\n---\nNew, (NONE), Cipher is (NONE)\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : 0000\n    Session-ID:\n    Session-ID-ctx:\n    Master-Key:\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    Start Time: 1662128840\n    Timeout   : 7200 (sec)\n    Verify return code: 0 (ok)\n    Extended master secret: no\n-----------------------------------------\n\n[root@test ~]# nmap -sV --script ssl-enum-ciphers -p 8443 &lt;IP_ADDRESS&gt;\nStarting Nmap 7.70 ( https://nmap.org ) at 2022-09-20 20:02 IST\nmass_dns: warning: Unable to open /etc/resolv.conf. Try using --system-dns or specify valid servers with --dns-servers\nmass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers\nNmap scan report for XXXXX (IP_ADDRESS)\nHost is up (0.00067s latency).\n\nPORT     STATE SERVICE  VERSION\n8443/tcp open  ssl/http Apache httpd\n|_http-server-header: Apache\n| ssl-enum-ciphers:\n|   TLSv1.2:\n|     ciphers:\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|     compressors:\n|       NULL\n|     cipher preference: client\n|_  least strength: A\nMAC Address: 00:50:56:A7:92:7B (VMware)\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.90 seconds\n\n-----------------------------------------\n</code></pre>\n<p>Please find the configurations on &quot;ssl.conf&quot;,</p>\n<pre><code>SSLProtocol -ALL +TLSv1.2\nSSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:AES256-CCM:DHE-RSA-AES256-CCM\n</code></pre>\n<p>But we are in confusion that why the Nessus scan vulnerability shows the TLS 1.0 and TLS 1.1 protocols even though those 2 protocols are disabled in all possibilities.</p>\n<p>Vulnerability Details are listed below,</p>\n<ol>\n<li>104743 TLS Version 1.0 Protocol Detection</li>\n<li>157288 TLS Version 1.1 Protocol Deprecated</li>\n</ol>\n<p>From Nessus team, we came to know that port 4567 is using the below ciphers,</p>\n<pre><code>TLS1_DHE_DSS_WITH_AES_128_CBC_SHA256\nTLS1_DHE_DSS_WITH_AES_256_CBC_SHA256\nTLS1_CK_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS1_CK_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS1_CK_DHE_DSS_WITH_3DES_EDE_CBC_SHA\n</code></pre>\n<p>In our application, we are using port 4567 as TRUSTSTORE_PORT where it is downloading the required certificates for the application to run.</p>\n<p>But we enabled only the TLSv1.2 protocol. How the TLS1 ciphers are enabled?</p>\n<p>Please let me know how to overcome these vulnerabilities.</p>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"owner":{"account_id":22960907,"reputation":43,"user_id":17090789,"display_name":"Thomas124124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684736314,"creation_date":1684313793,"question_id":76270267,"body_markdown":"In the past while using DynamoDBMapper I was able to get information after batch put items about the error message. Right now doing the batch using EnchancedDynamoDBClient I can only get key of that item. Any way to get information why the batch for specific item didint work?\r\n\r\n```\r\nprivate void saveToDb(DynamoDbTable&lt;PartImportWarehouse&gt;partStockDataTable, List&lt;PartImportWarehouse&gt; modifiedImportaWrehouse, DynamoDbEnhancedClient dynamoDbEnhancedClient) {\r\n        WriteBatch.Builder&lt;PartImportWarehouse&gt; writeBatchBuilder = WriteBatch.builder(PartImportWarehouse.class)\r\n                .mappedTableResource(partStockDataTable);\r\n\r\n        modifiedImportaWrehouse.forEach(writeBatchBuilder::addPutItem);\r\n\r\n        BatchWriteItemEnhancedRequest batchRequestBuilder = BatchWriteItemEnhancedRequest.builder()\r\n                .addWriteBatch(writeBatchBuilder.build())\r\n                .build();\r\n\r\n        BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(batchRequestBuilder);\r\n\r\n        if (!CollectionUtils.isEmpty(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable))) {\r\n            log.warn(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable).stream()\r\n                    .map(i -&gt; &quot;issue with &quot; + i.getKey())\r\n                    .collect(Collectors.joining(&quot;, &quot;)));\r\n        }\r\n    }\r\n\r\n```\r\n\r\n@Edit\r\nIn past I was able to get partial response for failed part with code like:\r\n[![enter image description here][1]][1]\r\nDont mind the errors. I havent reloaded the project. But I was able to get errors for each part.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kRLCO.png","title":"DynamoDB enchanced client batch error response","body":"<p>In the past while using DynamoDBMapper I was able to get information after batch put items about the error message. Right now doing the batch using EnchancedDynamoDBClient I can only get key of that item. Any way to get information why the batch for specific item didint work?</p>\n<pre><code>private void saveToDb(DynamoDbTable&lt;PartImportWarehouse&gt;partStockDataTable, List&lt;PartImportWarehouse&gt; modifiedImportaWrehouse, DynamoDbEnhancedClient dynamoDbEnhancedClient) {\n        WriteBatch.Builder&lt;PartImportWarehouse&gt; writeBatchBuilder = WriteBatch.builder(PartImportWarehouse.class)\n                .mappedTableResource(partStockDataTable);\n\n        modifiedImportaWrehouse.forEach(writeBatchBuilder::addPutItem);\n\n        BatchWriteItemEnhancedRequest batchRequestBuilder = BatchWriteItemEnhancedRequest.builder()\n                .addWriteBatch(writeBatchBuilder.build())\n                .build();\n\n        BatchWriteResult batchWriteResult = dynamoDbEnhancedClient.batchWriteItem(batchRequestBuilder);\n\n        if (!CollectionUtils.isEmpty(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable))) {\n            log.warn(batchWriteResult.unprocessedPutItemsForTable(partStockDataTable).stream()\n                    .map(i -&gt; &quot;issue with &quot; + i.getKey())\n                    .collect(Collectors.joining(&quot;, &quot;)));\n        }\n    }\n\n</code></pre>\n<p>@Edit\nIn past I was able to get partial response for failed part with code like:\n<a href=\"https://i.stack.imgur.com/kRLCO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRLCO.png\" alt=\"enter image description here\" /></a>\nDont mind the errors. I havent reloaded the project. But I was able to get errors for each part.</p>\n"},{"tags":["java","apache-camel","camel-routes"],"owner":{"account_id":28651418,"reputation":1,"user_id":21938324,"display_name":"Pew Die"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684735877,"creation_date":1684735615,"question_id":76303408,"body_markdown":"I have multiple messages which should be sent to a MQ &#39;foo&#39;.\r\nAfter sending a message from &#39;route-1&#39;, the program should wait for a reply on MQ &#39;bar&#39;. \r\nOnly after getting a reply on queue &#39;bar&#39;, the next message should be sent.\r\n\r\n[Apache camel Documentation](https://camel.apache.org/manual/faq/how-can-i-stop-a-route-from-a-route.html)\r\n\r\nI have followed the steps given in the documentation. All the messages are getting routed and then the route is getting suspended.\r\n\r\ninput.txt\r\n`msg1,msg2,msg3,msg4,msg5`\r\n\r\nbeans.xml\r\n```\r\n    &lt;camelContext id=&quot;orc-1&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\r\n        &lt;route id=&quot;route-1&quot;&gt;\r\n            &lt;from uri=&quot;file://D://camelInput?fileName=input.txt&quot; /&gt;\r\n            &lt;split&gt;\r\n                &lt;tokenize token=&quot;,&quot; /&gt;\r\n                &lt;log message=&quot;${body}&quot; /&gt;\r\n                &lt;to uri=&quot;jms:queue:foo&quot; /&gt;\r\n                &lt;process ref=&quot;postProcessor&quot; /&gt;\r\n            &lt;/split&gt;\r\n        &lt;/route&gt;\r\n        &lt;route id=&quot;route-2&quot;&gt;\r\n            &lt;from uri=&quot;jms:queue:bar&quot; /&gt;\r\n\t\t&lt;!--restart route-1--&gt;\r\n        &lt;/route&gt;\r\n    &lt;/camelContext&gt;\r\n```\r\n\r\nPostProcessor.java\r\n```\r\npublic class PostProcessor implements Processor {\r\n\r\n    Thread stop;\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        // stop this route using a thread that will stop\r\n        // this route gracefully while we are still running\r\n        if (stop == null) {\r\n            stop = new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        exchange.getContext().getRouteController().suspendRoute(&quot;route-1&quot;);\r\n                    } catch (Exception e) {\r\n                        // ignore\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        // start the thread that stops this route\r\n        stop.start();\r\n    }\r\n}\r\n\r\n```\r\n\r\nlogs\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::               (v2.7.11)\r\n\r\n2023-05-22 11:01:52.812  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Starting CamelApplication using Java 14.0.2 on PSL-5Q47XM3 with PID 23484 (D:\\camel\\camel\\target\\classes started by shashank_mugatkar in D:\\camel\\camel)\r\n2023-05-22 11:01:52.815  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-22 11:01:54.951  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) is starting\r\n2023-05-22 11:01:55.146  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:3)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-1 (file://D://camelInput)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-2 (jms://queue:bar)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-3 (direct://suspendRoute1)\r\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) started in 453ms (build:64ms init:195ms start:194ms)\r\n2023-05-22 11:01:55.157  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Started CamelApplication in 2.742 seconds (JVM running for 3.157)\r\n2023-05-22 11:01:56.007  INFO 23484 --- [/D://camelInput] route-1                                  : msg0\r\n2023-05-22 11:01:56.035  INFO 23484 --- [/D://camelInput] route-1                                  : msg1\r\n2023-05-22 11:01:56.040  INFO 23484 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [route-1 = 2]\r\n2023-05-22 11:01:56.050 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000001 on ExchangeId: 23D21B5DF3A3295-0000000000000001). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539704\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.051  INFO 23484 --- [/D://camelInput] route-1                                  : msg2\r\n2023-05-22 11:01:56.061 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000002 on ExchangeId: 23D21B5DF3A3295-0000000000000002). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539720\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.062  INFO 23484 --- [/D://camelInput] route-1                                  : msg3\r\n2023-05-22 11:01:56.072 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000003 on ExchangeId: 23D21B5DF3A3295-0000000000000003). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539730\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.072  INFO 23484 --- [/D://camelInput] route-1                                  : msg4\r\n\r\n2023-05-22 11:01:56.083 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000004 on ExchangeId: 23D21B5DF3A3295-0000000000000004). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\r\n\r\nMessage History (source location and message history is disabled)\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\nSource                                   ID                             Processor                                          Elapsed (ms)\r\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539741\r\n\t...\r\n                                         route-1/process1               ref:postProcessor                                             0\r\n\r\nStacktrace\r\n---------------------------------------------------------------------------------------------------------------------------------------\r\n\r\njava.lang.IllegalThreadStateException: null\r\n\tat java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\r\n\tat com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\r\n\tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\n2023-05-22 11:01:56.083  WARN 23484 --- [/D://camelInput] o.a.c.c.file.GenericFileOnCompletion     : Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileRenameProcessStrategy@4436c7b8 for file: GenericFile[D:\\camelInput\\input.txt]\r\n2023-05-22 11:01:57.047  INFO 23484 --- [       Thread-3] o.a.c.impl.engine.AbstractCamelContext   : Suspended route-1 (file://D://camelInput)\r\n\r\n```\r\n\r\n\r\n","title":"Suspend and Resume Apache Camel routes","body":"<p>I have multiple messages which should be sent to a MQ 'foo'.\nAfter sending a message from 'route-1', the program should wait for a reply on MQ 'bar'.\nOnly after getting a reply on queue 'bar', the next message should be sent.</p>\n<p><a href=\"https://camel.apache.org/manual/faq/how-can-i-stop-a-route-from-a-route.html\" rel=\"nofollow noreferrer\">Apache camel Documentation</a></p>\n<p>I have followed the steps given in the documentation. All the messages are getting routed and then the route is getting suspended.</p>\n<p>input.txt\n<code>msg1,msg2,msg3,msg4,msg5</code></p>\n<p>beans.xml</p>\n<pre><code>    &lt;camelContext id=&quot;orc-1&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\n        &lt;route id=&quot;route-1&quot;&gt;\n            &lt;from uri=&quot;file://D://camelInput?fileName=input.txt&quot; /&gt;\n            &lt;split&gt;\n                &lt;tokenize token=&quot;,&quot; /&gt;\n                &lt;log message=&quot;${body}&quot; /&gt;\n                &lt;to uri=&quot;jms:queue:foo&quot; /&gt;\n                &lt;process ref=&quot;postProcessor&quot; /&gt;\n            &lt;/split&gt;\n        &lt;/route&gt;\n        &lt;route id=&quot;route-2&quot;&gt;\n            &lt;from uri=&quot;jms:queue:bar&quot; /&gt;\n        &lt;!--restart route-1--&gt;\n        &lt;/route&gt;\n    &lt;/camelContext&gt;\n</code></pre>\n<p>PostProcessor.java</p>\n<pre><code>public class PostProcessor implements Processor {\n\n    Thread stop;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        // stop this route using a thread that will stop\n        // this route gracefully while we are still running\n        if (stop == null) {\n            stop = new Thread() {\n                @Override\n                public void run() {\n                    try {\n                        exchange.getContext().getRouteController().suspendRoute(&quot;route-1&quot;);\n                    } catch (Exception e) {\n                        // ignore\n                    }\n                }\n            };\n        }\n        // start the thread that stops this route\n        stop.start();\n    }\n}\n\n</code></pre>\n<p>logs</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.11)\n\n2023-05-22 11:01:52.812  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Starting CamelApplication using Java 14.0.2 on PSL-5Q47XM3 with PID 23484 (D:\\camel\\camel\\target\\classes started by shashank_mugatkar in D:\\camel\\camel)\n2023-05-22 11:01:52.815  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-22 11:01:54.951  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) is starting\n2023-05-22 11:01:55.146  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Routes startup (started:3)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-1 (file://D://camelInput)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-2 (jms://queue:bar)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   :     Started route-3 (direct://suspendRoute1)\n2023-05-22 11:01:55.147  INFO 23484 --- [           main] o.a.c.impl.engine.AbstractCamelContext   : Apache Camel 3.20.3 (orc-1) started in 453ms (build:64ms init:195ms start:194ms)\n2023-05-22 11:01:55.157  INFO 23484 --- [           main] com.persistent.camel.CamelApplication    : Started CamelApplication in 2.742 seconds (JVM running for 3.157)\n2023-05-22 11:01:56.007  INFO 23484 --- [/D://camelInput] route-1                                  : msg0\n2023-05-22 11:01:56.035  INFO 23484 --- [/D://camelInput] route-1                                  : msg1\n2023-05-22 11:01:56.040  INFO 23484 --- [ - ShutdownTask] o.a.c.i.engine.DefaultShutdownStrategy   : Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 45 seconds. Inflights per route: [route-1 = 2]\n2023-05-22 11:01:56.050 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000001 on ExchangeId: 23D21B5DF3A3295-0000000000000001). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539704\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.051  INFO 23484 --- [/D://camelInput] route-1                                  : msg2\n2023-05-22 11:01:56.061 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000002 on ExchangeId: 23D21B5DF3A3295-0000000000000002). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539720\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.062  INFO 23484 --- [/D://camelInput] route-1                                  : msg3\n2023-05-22 11:01:56.072 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000003 on ExchangeId: 23D21B5DF3A3295-0000000000000003). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539730\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.072  INFO 23484 --- [/D://camelInput] route-1                                  : msg4\n\n2023-05-22 11:01:56.083 ERROR 23484 --- [/D://camelInput] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId: 23D21B5DF3A3295-0000000000000004 on ExchangeId: 23D21B5DF3A3295-0000000000000004). Exhausted after delivery attempt: 1 caught: java.lang.IllegalThreadStateException\n\nMessage History (source location and message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nSource                                   ID                             Processor                                          Elapsed (ms)\n                                         route-1/route-1                from[file://D://camelInput?fileName=input.txt]          2539741\n    ...\n                                         route-1/process1               ref:postProcessor                                             0\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:792) ~[na:na]\n    at com.persistent.camel.PostProcessor.process(PostProcessor.java:27) ~[classes/:na]\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.3.jar:3.20.3]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202) ~[camel-support-3.20.3.jar:3.20.3]\n    at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116) ~[camel-support-3.20.3.jar:3.20.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\n2023-05-22 11:01:56.083  WARN 23484 --- [/D://camelInput] o.a.c.c.file.GenericFileOnCompletion     : Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileRenameProcessStrategy@4436c7b8 for file: GenericFile[D:\\camelInput\\input.txt]\n2023-05-22 11:01:57.047  INFO 23484 --- [       Thread-3] o.a.c.impl.engine.AbstractCamelContext   : Suspended route-1 (file://D://camelInput)\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","jenkins","extentreports"],"owner":{"account_id":28555200,"reputation":1,"user_id":21859515,"display_name":"Vishva Nagaria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684735678,"creation_date":1684735678,"question_id":76303412,"body_markdown":"in jenkins when run the freestyle project it show the blank report.\r\n\r\n[enter image description here](https://i.stack.imgur.com/PDVbL.png)\r\n\r\n-- i need all the log which run in my local machine but does not generate in the jenkins. also it generated the html file but it show blank white page. ","title":"Is there a way to retrieve logs not generated in Jenkins for a freestyle project using ExtentReports, Selenium, and Java?","body":"<p>in jenkins when run the freestyle project it show the blank report.</p>\n<p><a href=\"https://i.stack.imgur.com/PDVbL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>-- i need all the log which run in my local machine but does not generate in the jenkins. also it generated the html file but it show blank white page.</p>\n"},{"tags":["java","rabbitmq","spring-rabbit"],"answers":[{"comments":[{"owner":{"account_id":13256005,"reputation":75,"user_id":9572083,"display_name":"Harry"},"score":0,"creation_date":1525727945,"post_id":50222513,"comment_id":87462659,"body_markdown":"I just added my missing config which starts up my containers upon another event, this way: \n`\n\t\tfor (final MessageListenerContainer listenerContainer : registry.getListenerContainers()) {\n\t\t\tlistenerContainer.start();\n\t\t}","body":"I just added my missing config which starts up my containers upon another event, this way:  ` \t\tfor (final MessageListenerContainer listenerContainer : registry.getListenerContainers()) { \t\t\tlistenerContainer.start(); \t\t}"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1525728852,"post_id":50222513,"comment_id":87463089,"body_markdown":"Right but that won&#39;t start the `messageListenerContainer` `@Bean` - that one is a bean rather than being created for a `@RabbitListener`. You have to add the post processors to the listener container factory, not that container bean, if you want them applied to annotated listeners. It looks like you might be confusing `DirectMessageListenerContainer` with `DirectRabbitListenerContainerFactory` which is what is used to create one of the former for each listener.","body":"Right but that won&#39;t start the <code>messageListenerContainer</code> <code>@Bean</code> - that one is a bean rather than being created for a <code>@RabbitListener</code>. You have to add the post processors to the listener container factory, not that container bean, if you want them applied to annotated listeners. It looks like you might be confusing <code>DirectMessageListenerContainer</code> with <code>DirectRabbitListenerContainerFactory</code> which is what is used to create one of the former for each listener."},{"owner":{"account_id":13256005,"reputation":75,"user_id":9572083,"display_name":"Harry"},"score":0,"creation_date":1525730622,"post_id":50222513,"comment_id":87463693,"body_markdown":"Fixed.   I am now using the DirectRabbitListenerContainerFactory and have set my post processors on it.  They&#39;re now being used.   Big thanks Gary.","body":"Fixed.   I am now using the DirectRabbitListenerContainerFactory and have set my post processors on it.  They&#39;re now being used.   Big thanks Gary."},{"owner":{"account_id":13256005,"reputation":75,"user_id":9572083,"display_name":"Harry"},"score":0,"creation_date":1525731537,"post_id":50222513,"comment_id":87463977,"body_markdown":"Gary, I got an exception:\n\n`Caused by: java.io.UnsupportedEncodingException: gzip:UTF-8`\n`\tat java.lang.StringCoding.decode(StringCoding.java:190) ~[?:1.8.0_152]`\n`\tat java.lang.String.&lt;init&gt;(String.java:426) ~[?:1.8.0_152]`\n`\tat java.lang.String.&lt;init&gt;(String.java:491) ~[?:1.8.0_152]`\n`\tat org.springframework.amqp.support.converter.Jackson2JsonMessageConverter.convertBytesToObject(Jackson2JsonMessageConverter.java:215)`\n`\tat org.springframework.amqp.support.converter.Jackson2JsonMessageConverter.fromMessage(Jackson2JsonMessageConverter.java:179) `","body":"Gary, I got an exception:  <code>Caused by: java.io.UnsupportedEncodingException: gzip:UTF-8</code> `\tat java.lang.StringCoding.decode(StringCoding.java:190) ~[?:1.8.0_152]` `\tat java.lang.String.&lt;init&gt;(String.java:426) ~[?:1.8.0_152]` `\tat java.lang.String.&lt;init&gt;(String.java:491) ~[?:1.8.0_152]` `\tat org.springframework.amqp.support.converter.Jackson2JsonMessa&zwnj;&#8203;geConverter.convertB&zwnj;&#8203;ytesToObject(Jackson&zwnj;&#8203;2JsonMessageConverte&zwnj;&#8203;r.java:215)` `\tat org.springframework.amqp.support.converter.Jackson2JsonMessa&zwnj;&#8203;geConverter.fromMess&zwnj;&#8203;age(Jackson2JsonMess&zwnj;&#8203;ageConverter.java:17&zwnj;&#8203;9) `"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1525732355,"post_id":50222513,"comment_id":87464214,"body_markdown":"Don&#39;t put stuff like that in comments; it&#39;s hard to read. I suggest you start a new question, showing your current code/configuration. It sounds like the uncompress MPP is not being applied. The Gzip MPP prefixes the `contentEncoding` message property with `gzip:` and the Unzip MPP strips the prefix off. The fact that the prefix is still there when the JSON converter is called indicates it was not unzipped.","body":"Don&#39;t put stuff like that in comments; it&#39;s hard to read. I suggest you start a new question, showing your current code/configuration. It sounds like the uncompress MPP is not being applied. The Gzip MPP prefixes the <code>contentEncoding</code> message property with <code>gzip:</code> and the Unzip MPP strips the prefix off. The fact that the prefix is still there when the JSON converter is called indicates it was not unzipped."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525727621,"creation_date":1525727621,"answer_id":50222513,"question_id":50222164,"body_markdown":"It doesn&#39;t work that way, you can&#39;t autowire containers for `@RabbitListener`s; they are not beans; they are created by the container factory and registered in the registry. Instead you have to retrieve them from the registry (by id).\r\n\r\nHowever, since you have `autoStartup` set to false, it shouldn&#39;t be &quot;stealing&quot; messages from your `@RabbitListener`.\r\n\r\nGenerally, DEBUG logging should help.","title":"Compressing and decompressing Spring RabbitMQ messages with a DirectMessageListenerContainer","body":"<p>It doesn't work that way, you can't autowire containers for <code>@RabbitListener</code>s; they are not beans; they are created by the container factory and registered in the registry. Instead you have to retrieve them from the registry (by id).</p>\n\n<p>However, since you have <code>autoStartup</code> set to false, it shouldn't be \"stealing\" messages from your <code>@RabbitListener</code>.</p>\n\n<p>Generally, DEBUG logging should help.</p>\n"},{"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684735455,"creation_date":1684735455,"answer_id":76303396,"question_id":50222164,"body_markdown":"The official guide explains it at [https://docs.spring.io/spring-amqp/reference/html/#post-processing][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-amqp/reference/html/#post-processing\r\n\r\nBasically there are couple of options i.e. \r\n\r\n 1. Configure Message convertor like below \r\n\r\n        public class CompressionMessageConverter {\r\n        public static MessageConverter messageConverter() {\r\n            final MessageConverter simpleMessageConverter = new SimpleMessageConverter();\r\n            return new MessageConverter() {\r\n                @Override\r\n                public Message toMessage(Object messagePayload, MessageProperties messageProperties)\r\n                        throws MessageConversionException {\r\n                    final Message m = simpleMessageConverter.toMessage(messagePayload, messageProperties);\r\n                    final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n                    try (GZIPOutputStream gz = new GZIPOutputStream(os)) {\r\n                        gz.write(m.getBody());\r\n                    } catch (IOException e) {\r\n                        throw new MessageConversionException(e.getMessage());\r\n                    }\r\n    \r\n                    return new Message(os.toByteArray(), messageProperties);\r\n                }\r\n    \r\n                @Override\r\n                public Object fromMessage(Message messagePayload) throws MessageConversionException {\r\n                    final ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n                    try (GZIPInputStream is = new GZIPInputStream(new ByteArrayInputStream(messagePayload.getBody()))) {\r\n                        byte[] b = new byte[2048];\r\n                        int r;\r\n                        while ((r = is.read(b)) != -1) {\r\n                            os.write(b, 0, r);\r\n                        }\r\n                    } catch (IOException ioException) {\r\n                        throw new RuntimeException(ioException);\r\n                    }\r\n    \r\n                    return simpleMessageConverter.fromMessage(new Message(os.toByteArray(), messagePayload.getMessageProperties()));\r\n                }\r\n            };\r\n        }\r\n   \r\n  Use it in RabbitTemplate as \r\n\r\n    rabbitTemplate.setMessageConverter(CompressionMessageConverter .messageConverter());\r\n\r\n \r\n2. Use post processors\r\n    \r\n    rabbitTemplate.setBeforePublishPostProcessors(new GZipPostProcessor());\r\n    rabbitTemplate.setAfterReceivePostProcessors(new GUnzipPostProcessor());\r\n\r\n","title":"Compressing and decompressing Spring RabbitMQ messages with a DirectMessageListenerContainer","body":"<p>The official guide explains it at <a href=\"https://docs.spring.io/spring-amqp/reference/html/#post-processing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#post-processing</a></p>\n<p>Basically there are couple of options i.e.</p>\n<ol>\n<li><p>Configure Message convertor like below</p>\n<pre><code>public class CompressionMessageConverter {\npublic static MessageConverter messageConverter() {\n    final MessageConverter simpleMessageConverter = new SimpleMessageConverter();\n    return new MessageConverter() {\n        @Override\n        public Message toMessage(Object messagePayload, MessageProperties messageProperties)\n                throws MessageConversionException {\n            final Message m = simpleMessageConverter.toMessage(messagePayload, messageProperties);\n            final ByteArrayOutputStream os = new ByteArrayOutputStream();\n            try (GZIPOutputStream gz = new GZIPOutputStream(os)) {\n                gz.write(m.getBody());\n            } catch (IOException e) {\n                throw new MessageConversionException(e.getMessage());\n            }\n\n            return new Message(os.toByteArray(), messageProperties);\n        }\n\n        @Override\n        public Object fromMessage(Message messagePayload) throws MessageConversionException {\n            final ByteArrayOutputStream os = new ByteArrayOutputStream();\n            try (GZIPInputStream is = new GZIPInputStream(new ByteArrayInputStream(messagePayload.getBody()))) {\n                byte[] b = new byte[2048];\n                int r;\n                while ((r = is.read(b)) != -1) {\n                    os.write(b, 0, r);\n                }\n            } catch (IOException ioException) {\n                throw new RuntimeException(ioException);\n            }\n\n            return simpleMessageConverter.fromMessage(new Message(os.toByteArray(), messagePayload.getMessageProperties()));\n        }\n    };\n}\n</code></pre>\n</li>\n</ol>\n<p>Use it in RabbitTemplate as</p>\n<pre><code>rabbitTemplate.setMessageConverter(CompressionMessageConverter .messageConverter());\n</code></pre>\n<ol start=\"2\">\n<li><p>Use post processors</p>\n<p>rabbitTemplate.setBeforePublishPostProcessors(new GZipPostProcessor());\nrabbitTemplate.setAfterReceivePostProcessors(new GUnzipPostProcessor());</p>\n</li>\n</ol>\n"}],"owner":{"account_id":13256005,"reputation":75,"user_id":9572083,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50222513,"answer_count":2,"score":2,"last_activity_date":1684735455,"creation_date":1525725868,"question_id":50222164,"body_markdown":"I have modified my RabbitMQ from a previous post (https://stackoverflow.com/questions/49566278/spring-rabbit-json-deserialization-for-arraylist-contents) to now use a DirectMessageListener with MessagePostProcessors to GZip and GUnzip the message payloads.\r\n\r\nHowever, it doesn&#39;t appear to be working as the breakpoints are not activated, but also because my `RabbitListener`s are no longer receiving messages, whereas they did with a `SimpleMessageFactoryListenerContainer`.\r\nAlso, it appears the SimpleMessageListenerContainer(?) is still being used.  On a side-note, I am autowiring the `DirectMessageListenerContainer` so I can dynamically set the queues I used.\r\n***\r\n***spring-rabbit: 2.0.3.RELEASE.***\r\n***spring-boot:  2.0.1.RELEASE.***\r\n***\r\n\r\n**RabbitMQ configuration:**\r\n\r\n    @Configuration\r\n    @EnableRabbit\r\n    public class MessagingConfiguration implements ShutdownListener {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate RabbitListenerEndpointRegistry registry;\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate DirectMessageListenerContainer container;\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic DirectMessageListenerContainer messageListenerContainer(final ConnectionFactory connectionFactory) {\r\n\t\t\tfinal DirectMessageListenerContainer listenerContainer = new DirectMessageListenerContainer();\r\n\t\t\tlistenerContainer.setConnectionFactory(connectionFactory);\r\n\t\t\tlistenerContainer.setMessageConverter(jsonConverter()); // i.e.@RabbitListener to use Jackson2JsonMessageConverter\r\n\t\t\tlistenerContainer.setAutoStartup(false);\r\n\t\t\t// container.setErrorHandler(errorHandler);\r\n\t\t\tfinal MessageListenerAdapter messageListener = new MessageListenerAdapter(new Object() {\r\n\t\t\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\t\t\tpublic String handleMessage(final String message) {\r\n\t\t\t\t\treturn message.toUpperCase();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tmessageListener.setBeforeSendReplyPostProcessors(new GZipPostProcessor());\r\n\t\t\tlistenerContainer.setMessageListener(messageListener);\r\n\t\t\tlistenerContainer.setAfterReceivePostProcessors(new GUnzipPostProcessor());\r\n\t\t\treturn listenerContainer;\r\n\t\t}\r\n\r\n\t\t@EventListener(ApplicationDatabaseReadyEvent.class)\r\n\t\tpublic void onApplicationDatabaseReadyEvent() {\r\n\t\t\tlog.info(&quot;Starting all RabbitMQ Listeners...&quot;); //$NON-NLS-1$\r\n\t\t\tfor (final MessageListenerContainer listenerContainer : registry.getListenerContainers()) {\r\n\t\t\t\tlistenerContainer.start();\r\n\t\t\t}\r\n\t\t\tlog.info(&quot;Register is running: {}&quot;, registry.isRunning()); //$NON-NLS-1$\r\n\t\t\tlog.info(&quot;Started all RabbitMQ Listeners.&quot;); //$NON-NLS-1$\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic List&lt;Declarable&gt; bindings() {\r\n\t\tfinal List&lt;Declarable&gt; declarations = new ArrayList&lt;&gt;();\r\n\t\t\tfinal FanoutExchange exchange = new FanoutExchange(&quot;fx&quot;, true, false);\r\n\t\t\tfinal Queue queue = QueueBuilder.durable(&quot;orders&quot;).build();\r\n\t\t\tdeclarations.add(exchange);\r\n\t\t\tdeclarations.add(queue);\r\n\t\t\tdeclarations.add(BindingBuilder.bind(queue).to(exchange));\r\n\t\t    List&lt;String&gt; q = new ArrayList&lt;&gt;();\r\n\t\t    q.add(queue.getName());\r\n\t\tcontainer.addQueueNames(q.toArray(new String[queues.size()]));\r\n\r\n\t\t\treturn declarations;\r\n\t\t}\r\n\t\r\n\t\t@Bean\r\n\t\tpublic Jackson2JsonMessageConverter jsonConverter() {\r\n\t\t\tfinal Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\r\n\t\t\tconverter.setClassMapper(classMapper());\r\n\t\t\treturn converter;\r\n\t\t}\r\n\r\n\t\tprivate static DefaultJackson2JavaTypeMapper classMapper() {\r\n\t\t\tfinal DefaultJackson2JavaTypeMapper classMapper = new DefaultJackson2JavaTypeMapper();\r\n\t\t\tclassMapper.setTrustedPackages(&quot;*&quot;); //$NON-NLS-1$  //TODO add trusted packages\r\n\t\t\treturn classMapper;\r\n\t\t}\r\n\r\n\t\t@ConditionalOnProperty(name = &quot;consumer&quot;, havingValue = &quot;true&quot;)\r\n\t\t@Bean\r\n\t\tpublic ConsumerListener listenerConsumer() {\r\n\t\t\treturn new ConsumerListener();\r\n\t\t}\r\n\t\r\n\t\t@ConditionalOnProperty(name = &quot;producer&quot;, havingValue = &quot;true&quot;)\r\n\t\t@Bean\r\n\t\tpublic ProducerListener listenerProducer() {\r\n\t\t\treturn new ProducerListener();\r\n\t\t}\r\n\t\r\n\t\t@Bean\r\n\t\tpublic RabbitAdmin rabbitAdmin(final CachingConnectionFactory connectionFactory) {\r\n\t\t\treturn new RabbitAdmin(connectionFactory);\r\n\t\t}\r\n\t\r\n\t\t@Bean\r\n\t\tpublic RabbitTemplate rabbitTemplate(final ConnectionFactory connectionFactory) {\r\n\t\t\tfinal RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n\t\t\trabbitTemplate.setMessageConverter(jsonConverter()); // convert all sent messages to JSON\r\n\t\t\trabbitTemplate.setReplyTimeout(TimeUnit.SECONDS.toMillis(3));\r\n\t\t\trabbitTemplate.setReceiveTimeout(TimeUnit.SECONDS.toMillis(3));\r\n\t\t\treturn rabbitTemplate;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void shutdownCompleted(final ShutdownSignalException arg0) {\r\n\t\t}\r\n\t}\r\n\r\n","title":"Compressing and decompressing Spring RabbitMQ messages with a DirectMessageListenerContainer","body":"<p>I have modified my RabbitMQ from a previous post (<a href=\"https://stackoverflow.com/questions/49566278/spring-rabbit-json-deserialization-for-arraylist-contents\">spring-rabbit JSON deserialization for ArrayList contents</a>) to now use a DirectMessageListener with MessagePostProcessors to GZip and GUnzip the message payloads.</p>\n\n<p>However, it doesn't appear to be working as the breakpoints are not activated, but also because my <code>RabbitListener</code>s are no longer receiving messages, whereas they did with a <code>SimpleMessageFactoryListenerContainer</code>.\nAlso, it appears the SimpleMessageListenerContainer(?) is still being used.  On a side-note, I am autowiring the <code>DirectMessageListenerContainer</code> so I can dynamically set the queues I used.</p>\n\n<hr>\n\n<p><strong><em>spring-rabbit: 2.0.3.RELEASE.</em></strong>\n<strong><em>spring-boot:  2.0.1.RELEASE.</em></strong></p>\n\n<hr>\n\n<p><strong>RabbitMQ configuration:</strong></p>\n\n<pre><code>@Configuration\n@EnableRabbit\npublic class MessagingConfiguration implements ShutdownListener {\n\n    @Autowired\n    private RabbitListenerEndpointRegistry registry;\n\n    @Autowired\n    private DirectMessageListenerContainer container;\n\n    @Bean\n    public DirectMessageListenerContainer messageListenerContainer(final ConnectionFactory connectionFactory) {\n        final DirectMessageListenerContainer listenerContainer = new DirectMessageListenerContainer();\n        listenerContainer.setConnectionFactory(connectionFactory);\n        listenerContainer.setMessageConverter(jsonConverter()); // i.e.@RabbitListener to use Jackson2JsonMessageConverter\n        listenerContainer.setAutoStartup(false);\n        // container.setErrorHandler(errorHandler);\n        final MessageListenerAdapter messageListener = new MessageListenerAdapter(new Object() {\n            @SuppressWarnings(\"unused\")\n            public String handleMessage(final String message) {\n                return message.toUpperCase();\n            }\n        });\n        messageListener.setBeforeSendReplyPostProcessors(new GZipPostProcessor());\n        listenerContainer.setMessageListener(messageListener);\n        listenerContainer.setAfterReceivePostProcessors(new GUnzipPostProcessor());\n        return listenerContainer;\n    }\n\n    @EventListener(ApplicationDatabaseReadyEvent.class)\n    public void onApplicationDatabaseReadyEvent() {\n        log.info(\"Starting all RabbitMQ Listeners...\"); //$NON-NLS-1$\n        for (final MessageListenerContainer listenerContainer : registry.getListenerContainers()) {\n            listenerContainer.start();\n        }\n        log.info(\"Register is running: {}\", registry.isRunning()); //$NON-NLS-1$\n        log.info(\"Started all RabbitMQ Listeners.\"); //$NON-NLS-1$\n    }\n\n    @Bean\n    public List&lt;Declarable&gt; bindings() {\n    final List&lt;Declarable&gt; declarations = new ArrayList&lt;&gt;();\n        final FanoutExchange exchange = new FanoutExchange(\"fx\", true, false);\n        final Queue queue = QueueBuilder.durable(\"orders\").build();\n        declarations.add(exchange);\n        declarations.add(queue);\n        declarations.add(BindingBuilder.bind(queue).to(exchange));\n        List&lt;String&gt; q = new ArrayList&lt;&gt;();\n        q.add(queue.getName());\n    container.addQueueNames(q.toArray(new String[queues.size()]));\n\n        return declarations;\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter jsonConverter() {\n        final Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\n        converter.setClassMapper(classMapper());\n        return converter;\n    }\n\n    private static DefaultJackson2JavaTypeMapper classMapper() {\n        final DefaultJackson2JavaTypeMapper classMapper = new DefaultJackson2JavaTypeMapper();\n        classMapper.setTrustedPackages(\"*\"); //$NON-NLS-1$  //TODO add trusted packages\n        return classMapper;\n    }\n\n    @ConditionalOnProperty(name = \"consumer\", havingValue = \"true\")\n    @Bean\n    public ConsumerListener listenerConsumer() {\n        return new ConsumerListener();\n    }\n\n    @ConditionalOnProperty(name = \"producer\", havingValue = \"true\")\n    @Bean\n    public ProducerListener listenerProducer() {\n        return new ProducerListener();\n    }\n\n    @Bean\n    public RabbitAdmin rabbitAdmin(final CachingConnectionFactory connectionFactory) {\n        return new RabbitAdmin(connectionFactory);\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory connectionFactory) {\n        final RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(jsonConverter()); // convert all sent messages to JSON\n        rabbitTemplate.setReplyTimeout(TimeUnit.SECONDS.toMillis(3));\n        rabbitTemplate.setReceiveTimeout(TimeUnit.SECONDS.toMillis(3));\n        return rabbitTemplate;\n    }\n\n    @Override\n    public void shutdownCompleted(final ShutdownSignalException arg0) {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684535524,"creation_date":1684535524,"answer_id":76292768,"question_id":76292553,"body_markdown":"You&#39;re attempting to map a json object to a json array (the json sample you provided starts and ends with curly braces `{}`)\r\n\r\nIf you&#39;re controlling the json, you should be able to switch the format to something like this if you want to map it directly to a json array of EstatePropertyCreatorDto&#39;s:\r\n\r\n```\r\n[\r\n        {\r\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\r\n            &quot;title&quot;: &quot;test title&quot;,\r\n            &quot;type&quot;: &quot;APARTMENT&quot;,\r\n            &quot;floor&quot;: &quot;5&quot;,\r\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\r\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\r\n            &quot;type&quot;: &quot;GARAGE&quot;,\r\n            &quot;alias&quot;: &quot;jamie garage&quot;,\r\n            &quot;floor&quot;: &quot;1&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\r\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\r\n            &quot;type&quot;: &quot;OFFICE&quot;,\r\n            &quot;floor&quot;: &quot;2&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\r\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\r\n        }\r\n    ]\r\n```\r\n\r\nIn which case it should be able to be mapped to the straight json array\r\n\r\n\r\nIf you&#39;re not controlling the json, you&#39;ll need an additional wrapper class along these lines:\r\n\r\n```\r\npublic class MappedObject {\r\n\r\n    public MappedObject() {\r\n    }\r\n\r\n    List&lt;EstatePropertyCreatorDto&gt; estateProperties;\r\n\r\n    public List&lt;EstatePropertyCreatorDto&gt; getEstateProperties() {\r\n        return estateProperties;\r\n    }\r\n\r\n    public void setEstateProperties(List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\r\n        this.estateProperties = estateProperties;\r\n    }\r\n}\r\n```\r\n\r\nwhich should allow the json object to be properly mapped and the list be filled/mapped with the estateProperties jsonArray","title":"JSON Parse Error com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>You're attempting to map a json object to a json array (the json sample you provided starts and ends with curly braces <code>{}</code>)</p>\n<p>If you're controlling the json, you should be able to switch the format to something like this if you want to map it directly to a json array of EstatePropertyCreatorDto's:</p>\n<pre><code>[\n        {\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\n            &quot;title&quot;: &quot;test title&quot;,\n            &quot;type&quot;: &quot;APARTMENT&quot;,\n            &quot;floor&quot;: &quot;5&quot;,\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\n        },\n        {\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\n            &quot;type&quot;: &quot;GARAGE&quot;,\n            &quot;alias&quot;: &quot;jamie garage&quot;,\n            &quot;floor&quot;: &quot;1&quot;,\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\n        },\n        {\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\n            &quot;type&quot;: &quot;OFFICE&quot;,\n            &quot;floor&quot;: &quot;2&quot;,\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\n        }\n    ]\n</code></pre>\n<p>In which case it should be able to be mapped to the straight json array</p>\n<p>If you're not controlling the json, you'll need an additional wrapper class along these lines:</p>\n<pre><code>public class MappedObject {\n\n    public MappedObject() {\n    }\n\n    List&lt;EstatePropertyCreatorDto&gt; estateProperties;\n\n    public List&lt;EstatePropertyCreatorDto&gt; getEstateProperties() {\n        return estateProperties;\n    }\n\n    public void setEstateProperties(List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\n        this.estateProperties = estateProperties;\n    }\n}\n</code></pre>\n<p>which should allow the json object to be properly mapped and the list be filled/mapped with the estateProperties jsonArray</p>\n"}],"owner":{"account_id":19763397,"reputation":13,"user_id":14471993,"display_name":"martoiliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76292768,"answer_count":1,"score":1,"last_activity_date":1684732995,"creation_date":1684532278,"question_id":76292553,"body_markdown":"POST Request with `@RequestBody` of `List&lt;T&gt;` -&gt; then I am getting the Json Parse Error Cannot deserialize value of type `java.util.ArrayList&lt;&quot;my path to the DTO class&quot;&gt;` from Object value `(token JsonToken.START_OBJECT); `\r\n\r\nnested exception is \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException\r\n\r\n\r\nHere is my DTO \r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class EstatePropertyCreatorDto {\r\n\r\n    private UUID id;\r\n    private String title;\r\n    @NotNull private PropertyTypes type;\r\n    @Null private String alias;\r\n    @NotNull private String floor;\r\n    @NotNull private String details;\r\n    @Null private String commonParts;\r\n}\r\n```\r\n\r\nAnd Here is my controller method: \r\n```\r\n\r\n    @PostMapping(&quot;/{buildingId}/properties&quot;)\r\n    public List&lt;EstatePropertyCreatorDto&gt; addPropertiesToBuilding(@PathVariable UUID buildingId, @RequestBody List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\r\n        buildingService.addPropertiesToBuilding(buildingId, estateProperties);\r\n\r\n        return List.of(&quot;Once I reach the method I will implement the return&quot;);\r\n    }\r\n```\r\n\r\nAnd here is my post request body: \r\n\r\n```\r\n  {\r\n    &quot;estateProperties&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\r\n            &quot;title&quot;: &quot;test title&quot;,\r\n            &quot;type&quot;: &quot;APARTMENT&quot;,\r\n            &quot;floor&quot;: &quot;5&quot;,\r\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\r\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\r\n            &quot;type&quot;: &quot;GARAGE&quot;,\r\n            &quot;alias&quot;: &quot;jamie garage&quot;,\r\n            &quot;floor&quot;: &quot;1&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\r\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\r\n            &quot;type&quot;: &quot;OFFICE&quot;,\r\n            &quot;floor&quot;: &quot;2&quot;,\r\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\r\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\r\n        }\r\n    ]\r\n  }\r\n```\r\n\r\nThen I am getting the following error: \r\n\r\n```\r\nCannot deserialize value of type `java.util.ArrayList&lt;&gt; from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException\r\n```","title":"JSON Parse Error com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>POST Request with <code>@RequestBody</code> of <code>List&lt;T&gt;</code> -&gt; then I am getting the Json Parse Error Cannot deserialize value of type <code>java.util.ArrayList&lt;&quot;my path to the DTO class&quot;&gt;</code> from Object value <code>(token JsonToken.START_OBJECT); </code></p>\n<p>nested exception is</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException</p>\n</blockquote>\n<p>Here is my DTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class EstatePropertyCreatorDto {\n\n    private UUID id;\n    private String title;\n    @NotNull private PropertyTypes type;\n    @Null private String alias;\n    @NotNull private String floor;\n    @NotNull private String details;\n    @Null private String commonParts;\n}\n</code></pre>\n<p>And Here is my controller method:</p>\n<pre><code>\n    @PostMapping(&quot;/{buildingId}/properties&quot;)\n    public List&lt;EstatePropertyCreatorDto&gt; addPropertiesToBuilding(@PathVariable UUID buildingId, @RequestBody List&lt;EstatePropertyCreatorDto&gt; estateProperties) {\n        buildingService.addPropertiesToBuilding(buildingId, estateProperties);\n\n        return List.of(&quot;Once I reach the method I will implement the return&quot;);\n    }\n</code></pre>\n<p>And here is my post request body:</p>\n<pre><code>  {\n    &quot;estateProperties&quot;: [\n        {\n            &quot;id&quot;: &quot;8bd050b0-6578-443a-8e22-bf48318734ce&quot;,\n            &quot;title&quot;: &quot;test title&quot;,\n            &quot;type&quot;: &quot;APARTMENT&quot;,\n            &quot;floor&quot;: &quot;5&quot;,\n            &quot;details&quot;: &quot;This details should be aware of!&quot;\n        },\n        {\n            &quot;id&quot;: &quot;69786c5f-e35a-476d-82de-1d5833a12818&quot;,\n            &quot;title&quot;: &quot;test title for 2nd&quot;,\n            &quot;type&quot;: &quot;GARAGE&quot;,\n            &quot;alias&quot;: &quot;jamie garage&quot;,\n            &quot;floor&quot;: &quot;1&quot;,\n            &quot;details&quot;: &quot;Details for Jamie Garage&quot;\n        },\n        {\n            &quot;id&quot;: &quot;c935f330-eebe-4d35-818d-d2248fc8ca9e&quot;,\n            &quot;title&quot;: &quot;test title for 3rd&quot;,\n            &quot;type&quot;: &quot;OFFICE&quot;,\n            &quot;floor&quot;: &quot;2&quot;,\n            &quot;details&quot;: &quot;Details for Jamie office&quot;,\n            &quot;commonParts&quot;: &quot;Office common parts&quot;\n        }\n    ]\n  }\n</code></pre>\n<p>Then I am getting the following error:</p>\n<pre><code>Cannot deserialize value of type `java.util.ArrayList&lt;&gt; from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1684732539,"post_id":76303173,"comment_id":134554161,"body_markdown":"Here is a similar question I answered, the links to tutorials might be helpful https://stackoverflow.com/a/76110117/217324. I&#39;m not a fan of the code posted here, using ID for equals is not the best idea and the ID generation is normally done with annotations on the entities, you don&#39;t use a repository for it. My preference would be not to use the abstract classes.","body":"Here is a similar question I answered, the links to tutorials might be helpful <a href=\"https://stackoverflow.com/a/76110117/217324\">stackoverflow.com/a/76110117/217324</a>. I&#39;m not a fan of the code posted here, using ID for equals is not the best idea and the ID generation is normally done with annotations on the entities, you don&#39;t use a repository for it. My preference would be not to use the abstract classes."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1684732708,"post_id":76303173,"comment_id":134554181,"body_markdown":"Hey ty for your response. But im still not understanding it :(","body":"Hey ty for your response. But im still not understanding it :("},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684732851,"post_id":76303173,"comment_id":134554194,"body_markdown":"If this code is a representative sample of what the book is like, you need to find a better book.","body":"If this code is a representative sample of what the book is like, you need to find a better book."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1684733139,"post_id":76303173,"comment_id":134554223,"body_markdown":"can you care to explain?","body":"can you care to explain?"},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1684733242,"post_id":76303173,"comment_id":134554232,"body_markdown":"Are you looking for `@jakarta.persistence.Id` and \n`@jakarta.persistence.GeneratedValue(strategy=jakarta.persistence.GenerationType.AUTO)` annotations? The column in the DB will also need to be configured to auto generate like so `id   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY`. You can find more [here](https://www.baeldung.com/jpa-get-auto-generated-id).","body":"Are you looking for <code>@jakarta.persistence.Id</code> and  <code>@jakarta.persistence.GeneratedValue(strategy=jakarta.persist&zwnj;&#8203;ence.GenerationType.&zwnj;&#8203;AUTO)</code> annotations? The column in the DB will also need to be configured to auto generate like so <code>id   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY</code>. You can find more <a href=\"https://www.baeldung.com/jpa-get-auto-generated-id\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1684733634,"post_id":76303173,"comment_id":134554263,"body_markdown":"@MirzaPrangon the book seemed to miss out on the implementation of generator.getNextUniqueId(). Idts its mentioned anywhere to annotate the id column. Im asking help for the implementation of the getNextUniqueId() method","body":"@MirzaPrangon the book seemed to miss out on the implementation of generator.getNextUniqueId(). Idts its mentioned anywhere to annotate the id column. Im asking help for the implementation of the getNextUniqueId() method"}],"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684732113,"creation_date":1684732113,"question_id":76303173,"body_markdown":"I am working on a CRUD application by referring to Practical Guide to Building API backend with Spring Boot by Wim Deblauwe. I&#39;m stuck in the part where they are telling to implement an unique id generator whenever we create an instance of the entity class to save to the database. Could someone please help with the implementation part of the id generator as I tried but failed miserably.\r\n\r\n```\r\nAbstractEntityId.java\r\npackage com.example.orm.jpa;\r\nimport com.example.util.ArtifactForFramework;\r\nimport javax.persistence.MappedSuperclass;\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\nimport static com.google.common.base.MoreObjects.toStringHelper;\r\n@MappedSuperclass\r\npublic abstract class AbstractEntityId&lt;T extends Serializable&gt; implements Serializable,\r\nEntityId&lt;T&gt; {\r\n  private T id;\r\n  @ArtifactForFramework\r\n  protected AbstractEntityId() {\r\n  }\r\n  protected AbstractEntityId(T id) {\r\n  this.id = Objects.requireNonNull(id);\r\n  }\r\n  @Override\r\n\r\n  public T getId() {\r\n  return id;\r\n  }\r\n  @Override\r\n  public String asString() {\r\n  return id.toString();\r\n  }\r\n  @Override\r\n  public boolean equals(Object o) {\r\n  boolean result = false;\r\n  if (this == o) {\r\n  result = true;\r\n  } else if (o instanceof AbstractEntityId) {\r\n  AbstractEntityId other = (AbstractEntityId) o;\r\n  result = Objects.equals(id, other.id);\r\n  }\r\n  return result;\r\n  }\r\n  @Override\r\n  public int hashCode() {\r\n  return Objects.hash(id);\r\n  }\r\n  @Override\r\n  public String toString() {\r\n  return toStringHelper(this)\r\n  .add(&quot;id&quot;, id)\r\n  .toString();\r\n  }\r\n}\r\n```\r\n```\r\nAbstractEntity.java\r\n\r\npackage com.example.orm.jpa;\r\nimport com.example.util.ArtifactForFramework;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.MappedSuperclass;\r\nimport java.util.Objects;\r\nimport static com.google.common.base.MoreObjects.toStringHelper;\r\nimport static com.google.common.base.Preconditions.checkNotNull;\r\n/**\r\n * Abstract super class for entities. We are assuming that early primary key\r\n * generation will be used.\r\n *\r\n\r\n * @param &lt;T&gt; the type of {@link EntityId} that will be used for this entity\r\n */\r\n@MappedSuperclass\r\npublic abstract class AbstractEntity&lt;T extends EntityId&gt; implements Entity&lt;T&gt; {\r\n  @EmbeddedId\r\n  private T id;\r\n  @ArtifactForFramework\r\n  protected AbstractEntity() {\r\n  }\r\n  public AbstractEntity(T id) {\r\n  this.id = checkNotNull(id);\r\n  }\r\n  @Override\r\n  public T getId() {\r\n  return id;\r\n  }\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n  boolean result = false;\r\n  if (this == obj) {\r\n  result = true;\r\n  } else if (obj instanceof AbstractEntity) {\r\n  AbstractEntity other = (AbstractEntity) obj;\r\n  result = Objects.equals(id, other.id);\r\n  }\r\n  return result;\r\n  }\r\n  @Override\r\n  public int hashCode() {\r\n  return Objects.hash(id);\r\n  }\r\n  @Override\r\n  public String toString() {\r\n  return toStringHelper(this)\r\n  .add(&quot;id&quot;, id)\r\n  .toString();\r\n\r\n  }\r\n}\r\n```\r\n\r\n```\r\nEntityId.java\r\npackage com.example.orm.jpa;\r\nimport java.io.Serializable;\r\n/**\r\n * Interface for primary keys of entities.\r\n *\r\n * @param &lt;T&gt; the underlying type of the entity id\r\n */\r\npublic interface EntityId&lt;T&gt; extends Serializable {\r\n  T getId();\r\n  String asString(); ①\r\n}\r\n```\r\n\r\n```\r\npackage com.example.copsboot.user;\r\npublic interface UserRepositoryCustom {\r\n  UserId nextId();\r\n}\r\n```\r\n```\r\npublic interface UserRepository extends CrudRepository&lt;User, UUID&gt;, UserRepositoryCustom\r\n{\r\n}\r\n```\r\n```\r\npackage com.example.copsboot.user;\r\nimport com.example.orm.jpa.UniqueIdGenerator;\r\nimport java.util.UUID;\r\npublic class UserRepositoryImpl implements UserRepositoryCustom {\r\n  private final UniqueIdGenerator&lt;UUID&gt; generator;\r\n  public UserRepositoryImpl(UniqueIdGenerator&lt;UUID&gt; generator) {\r\n  this.generator = generator;\r\n  }\r\n  @Override\r\n  public UserId nextId() {\r\n  return new UserId(generator.getNextUniqueId());\r\n  }\r\n}\r\n```\r\n\r\nThe last section of code is where they are asking for the generation(generator.getNextUniqueId()). All the above codes are for context. It could be really helpful if someone also explained why they are implementing these abstract entity classes for id generation. \r\n\r\nThanks in advance\r\n","title":"Dont know how to create an Unique Id Generator [Spring Boot]","body":"<p>I am working on a CRUD application by referring to Practical Guide to Building API backend with Spring Boot by Wim Deblauwe. I'm stuck in the part where they are telling to implement an unique id generator whenever we create an instance of the entity class to save to the database. Could someone please help with the implementation part of the id generator as I tried but failed miserably.</p>\n<pre><code>AbstractEntityId.java\npackage com.example.orm.jpa;\nimport com.example.util.ArtifactForFramework;\nimport javax.persistence.MappedSuperclass;\nimport java.io.Serializable;\nimport java.util.Objects;\nimport static com.google.common.base.MoreObjects.toStringHelper;\n@MappedSuperclass\npublic abstract class AbstractEntityId&lt;T extends Serializable&gt; implements Serializable,\nEntityId&lt;T&gt; {\n  private T id;\n  @ArtifactForFramework\n  protected AbstractEntityId() {\n  }\n  protected AbstractEntityId(T id) {\n  this.id = Objects.requireNonNull(id);\n  }\n  @Override\n\n  public T getId() {\n  return id;\n  }\n  @Override\n  public String asString() {\n  return id.toString();\n  }\n  @Override\n  public boolean equals(Object o) {\n  boolean result = false;\n  if (this == o) {\n  result = true;\n  } else if (o instanceof AbstractEntityId) {\n  AbstractEntityId other = (AbstractEntityId) o;\n  result = Objects.equals(id, other.id);\n  }\n  return result;\n  }\n  @Override\n  public int hashCode() {\n  return Objects.hash(id);\n  }\n  @Override\n  public String toString() {\n  return toStringHelper(this)\n  .add(&quot;id&quot;, id)\n  .toString();\n  }\n}\n</code></pre>\n<pre><code>AbstractEntity.java\n\npackage com.example.orm.jpa;\nimport com.example.util.ArtifactForFramework;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.MappedSuperclass;\nimport java.util.Objects;\nimport static com.google.common.base.MoreObjects.toStringHelper;\nimport static com.google.common.base.Preconditions.checkNotNull;\n/**\n * Abstract super class for entities. We are assuming that early primary key\n * generation will be used.\n *\n\n * @param &lt;T&gt; the type of {@link EntityId} that will be used for this entity\n */\n@MappedSuperclass\npublic abstract class AbstractEntity&lt;T extends EntityId&gt; implements Entity&lt;T&gt; {\n  @EmbeddedId\n  private T id;\n  @ArtifactForFramework\n  protected AbstractEntity() {\n  }\n  public AbstractEntity(T id) {\n  this.id = checkNotNull(id);\n  }\n  @Override\n  public T getId() {\n  return id;\n  }\n  @Override\n  public boolean equals(Object obj) {\n  boolean result = false;\n  if (this == obj) {\n  result = true;\n  } else if (obj instanceof AbstractEntity) {\n  AbstractEntity other = (AbstractEntity) obj;\n  result = Objects.equals(id, other.id);\n  }\n  return result;\n  }\n  @Override\n  public int hashCode() {\n  return Objects.hash(id);\n  }\n  @Override\n  public String toString() {\n  return toStringHelper(this)\n  .add(&quot;id&quot;, id)\n  .toString();\n\n  }\n}\n</code></pre>\n<pre><code>EntityId.java\npackage com.example.orm.jpa;\nimport java.io.Serializable;\n/**\n * Interface for primary keys of entities.\n *\n * @param &lt;T&gt; the underlying type of the entity id\n */\npublic interface EntityId&lt;T&gt; extends Serializable {\n  T getId();\n  String asString(); ①\n}\n</code></pre>\n<pre><code>package com.example.copsboot.user;\npublic interface UserRepositoryCustom {\n  UserId nextId();\n}\n</code></pre>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, UUID&gt;, UserRepositoryCustom\n{\n}\n</code></pre>\n<pre><code>package com.example.copsboot.user;\nimport com.example.orm.jpa.UniqueIdGenerator;\nimport java.util.UUID;\npublic class UserRepositoryImpl implements UserRepositoryCustom {\n  private final UniqueIdGenerator&lt;UUID&gt; generator;\n  public UserRepositoryImpl(UniqueIdGenerator&lt;UUID&gt; generator) {\n  this.generator = generator;\n  }\n  @Override\n  public UserId nextId() {\n  return new UserId(generator.getNextUniqueId());\n  }\n}\n</code></pre>\n<p>The last section of code is where they are asking for the generation(generator.getNextUniqueId()). All the above codes are for context. It could be really helpful if someone also explained why they are implementing these abstract entity classes for id generation.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684386356,"post_id":76277691,"comment_id":134511420,"body_markdown":"Can you provide the code for the `Person` class?  Or, at least an outline.","body":"Can you provide the code for the <code>Person</code> class?  Or, at least an outline."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684389603,"post_id":76277691,"comment_id":134511760,"body_markdown":"it would be better to not rely on Exceptions to check for `null`... this can eventually hide some errors, like something else being `null` (e.g. `a` or `b`)","body":"it would be better to not rely on Exceptions to check for <code>null</code>... this can eventually hide some errors, like something else being <code>null</code> (e.g. <code>a</code> or <code>b</code>)"}],"answers":[{"comments":[{"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"score":0,"creation_date":1684383974,"post_id":76277712,"comment_id":134511221,"body_markdown":"I have tried this, but then it will get &quot;The target type of this expression must be a functional interface&quot; error","body":"I have tried this, but then it will get &quot;The target type of this expression must be a functional interface&quot; error"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1684384169,"post_id":76277712,"comment_id":134511240,"body_markdown":"I just tested it, and it worked for me. Can you try copy and pasting my code exactly as is over your equivalent methods? And when it fails, show me the exact lines of code. You can edit your original question with the exact lines of code, then ping me here to let me know that you did so.","body":"I just tested it, and it worked for me. Can you try copy and pasting my code exactly as is over your equivalent methods? And when it fails, show me the exact lines of code. You can edit your original question with the exact lines of code, then ping me here to let me know that you did so."},{"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"score":1,"creation_date":1684384643,"post_id":76277712,"comment_id":134511282,"body_markdown":"Thank you. I just change the order of the parameters from  &#39;&#39;&#39;String message, RunnableExc r&#39;&#39;&#39; to &#39;&#39;&#39;RunnableExc r, String message&#39;&#39;&#39; and it works now!","body":"Thank you. I just change the order of the parameters from  &#39;&#39;&#39;String message, RunnableExc r&#39;&#39;&#39; to &#39;&#39;&#39;RunnableExc r, String message&#39;&#39;&#39; and it works now!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1684384672,"post_id":76277712,"comment_id":134511287,"body_markdown":"Glad to hear it. Let me know if any other issues come up","body":"Glad to hear it. Let me know if any other issues come up"}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684383720,"creation_date":1684383720,"answer_id":76277712,"question_id":76277691,"body_markdown":"You could pass in a `String` as well. This is common practice for some of the precondition tools in Java. Take a look at [`Objects#requireNonNull(T)`][1] vs [`Objects#requireNonNull(T,String)`][2].\r\n\r\nSo, like this.\r\n\r\n```java\r\n    private static void ignoringExc(RunnableExc r, String message) {\r\n        try {\r\n            r.run();\r\n        } catch (Exception e) {\r\n            log.error(message);\r\n        }\r\n    }\r\n\r\n    @FunctionalInterface\r\n    private interface RunnableExc {\r\n        void run() throws Exception;\r\n    }\r\n```\r\n\r\nWhich would then allow you to do this.\r\n\r\n```java\r\nignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)), &quot;address message&quot;);\r\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)),       &quot;name message&quot;);\r\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)),         &quot;age message&quot;);\r\n...\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)","title":"Passing variable to an exception","body":"<p>You could pass in a <code>String</code> as well. This is common practice for some of the precondition tools in Java. Take a look at <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>Objects#requireNonNull(T)</code></a> vs <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Objects#requireNonNull(T,String)</code></a>.</p>\n<p>So, like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void ignoringExc(RunnableExc r, String message) {\n        try {\n            r.run();\n        } catch (Exception e) {\n            log.error(message);\n        }\n    }\n\n    @FunctionalInterface\n    private interface RunnableExc {\n        void run() throws Exception;\n    }\n</code></pre>\n<p>Which would then allow you to do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)), &quot;address message&quot;);\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)),       &quot;name message&quot;);\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)),         &quot;age message&quot;);\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"score":0,"creation_date":1684722049,"post_id":76278201,"comment_id":134553298,"body_markdown":"I have tried this method but it still throws an exception error. For my case, my getter is like this b.getName().getString(&quot;surname&quot;). How can I handle this case? @tgdavies","body":"I have tried this method but it still throws an exception error. For my case, my getter is like this b.getName().getString(&quot;surname&quot;). How can I handle this case? @tgdavies"},{"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"score":0,"creation_date":1684722584,"post_id":76278201,"comment_id":134553333,"body_markdown":"the null error occurs in this getName, not getString. so when running the code, it directly skips calling the &quot;setIfNotNull&quot; method and throws the error from this line: setIfNotNull(b.getName(), a::setName); @tgdavies","body":"the null error occurs in this getName, not getString. so when running the code, it directly skips calling the &quot;setIfNotNull&quot; method and throws the error from this line: setIfNotNull(b.getName(), a::setName); @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684729932,"post_id":76278201,"comment_id":134553892,"body_markdown":"This is completely different to the scenario in your question, where the exception was being thrown by the setter.","body":"This is completely different to the scenario in your question, where the exception was being thrown by the setter."},{"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"score":0,"creation_date":1684736066,"post_id":76278201,"comment_id":134554563,"body_markdown":"if for this case, is using NullPointerException the suitable way to solve it? @tgdavies","body":"if for this case, is using NullPointerException the suitable way to solve it? @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684741607,"post_id":76278201,"comment_id":134555552,"body_markdown":"It&#39;s hard to say without seeing your actual code.","body":"It&#39;s hard to say without seeing your actual code."},{"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"score":0,"creation_date":1684744655,"post_id":76278201,"comment_id":134556213,"body_markdown":"My code is like this &#39;&#39;&#39;a.setAddress(b.getPerson(&quot;address&quot;).getString(&quot;Stress&quot;);\na.setAddress(b.getPerson(&quot;address&quot;).getString(&quot;Country&quot;);\na.setName(b.getPerson(&quot;name&quot;).getString(&quot;Surname&quot;);&#39;&#39;&#39;\ngetPerson with a specific value may get a null value, getString as well. So, how can i catch run these without using notpotinerexception","body":"My code is like this &#39;&#39;&#39;a.setAddress(b.getPerson(&quot;address&quot;).getString(&quot;Stress&quot;); a.setAddress(b.getPerson(&quot;address&quot;).getString(&quot;Country&quot;); a.setName(b.getPerson(&quot;name&quot;).getString(&quot;Surname&quot;);&#39;&#39;&#39; getPerson with a specific value may get a null value, getString as well. So, how can i catch run these without using notpotinerexception"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684731180,"creation_date":1684390594,"answer_id":76278201,"question_id":76277691,"body_markdown":"You shouldn&#39;t be using `NullPointerException` to do null checks. Throwing an exception is relatively expensive, as @user16320675 points out, other NPE&#39;s may occur, and you are also catching `Exception` which will ignore other problems.\r\n\r\nInstead, use a function like:\r\n```\r\n    static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; setter) {\r\n        if (value != null) {\r\n            setter.accept(value);\r\n        } else {\r\n            // logging if needed\r\n        }\r\n    }\r\n```\r\n\r\nand call it like this:\r\n```\r\n        setIfNotNull(b.getName(), a::setName);\r\n```\r\n\r\nOf course you could also consider making the setters on `A` silently ignore `null` instead of throwing an exception, but that depends on your requirements.\r\n\r\n","title":"Passing variable to an exception","body":"<p>You shouldn't be using <code>NullPointerException</code> to do null checks. Throwing an exception is relatively expensive, as @user16320675 points out, other NPE's may occur, and you are also catching <code>Exception</code> which will ignore other problems.</p>\n<p>Instead, use a function like:</p>\n<pre><code>    static &lt;T&gt; void setIfNotNull(T value, Consumer&lt;T&gt; setter) {\n        if (value != null) {\n            setter.accept(value);\n        } else {\n            // logging if needed\n        }\n    }\n</code></pre>\n<p>and call it like this:</p>\n<pre><code>        setIfNotNull(b.getName(), a::setName);\n</code></pre>\n<p>Of course you could also consider making the setters on <code>A</code> silently ignore <code>null</code> instead of throwing an exception, but that depends on your requirements.</p>\n"}],"owner":{"account_id":22913397,"reputation":19,"user_id":17050343,"display_name":"manyProblem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76277712,"answer_count":2,"score":0,"last_activity_date":1684731180,"creation_date":1684383259,"question_id":76277691,"body_markdown":"```\r\n\tprivate static void ignoringExc(RunnableExc r) {\r\n\t\ttry {\r\n\t\t\tr.run();\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@FunctionalInterface\r\n\tprivate interface RunnableExc {\r\n\t\tvoid run() throws Exception;\r\n\t}\r\n\r\n```\r\n\r\nI have multiple variables that need to be set into a Person a. However, some variables from Person b may be null. So I use the above function to avoid null pointer exception error. But  I want to customise the error message in log.error() in ignoringExc function, such as &quot;The age of Person B is null&quot;. How to do that?\r\n\r\n```\r\nignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)));\r\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)));\r\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)));\r\n...\r\n```","title":"Passing variable to an exception","body":"<pre><code>    private static void ignoringExc(RunnableExc r) {\n        try {\n            r.run();\n        } catch (Exception e) {\n            log.error(&quot;&quot;);\n        }\n    }\n\n    @FunctionalInterface\n    private interface RunnableExc {\n        void run() throws Exception;\n    }\n\n</code></pre>\n<p>I have multiple variables that need to be set into a Person a. However, some variables from Person b may be null. So I use the above function to avoid null pointer exception error. But  I want to customise the error message in log.error() in ignoringExc function, such as &quot;The age of Person B is null&quot;. How to do that?</p>\n<pre><code>ignoringExc(() -&gt; a.setAddress(b.getPerson(&quot;address&quot;)));\nignoringExc(() -&gt; a.setName(b.getPerson(&quot;name&quot;)));\nignoringExc(() -&gt; a.setAge(b.getPerson(&quot;age&quot;)));\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684722079,"post_id":76302694,"comment_id":134553305,"body_markdown":"Don&#39;t you need nested for loops to adequately and deeply copy the 2D array? Or a single for loop and arraycopy calls?","body":"Don&#39;t you need nested for loops to adequately and deeply copy the 2D array? Or a single for loop and arraycopy calls?"},{"owner":{"account_id":472765,"reputation":22587,"user_id":881441,"display_name":"Stephen Quan"},"score":1,"creation_date":1684722306,"post_id":76302694,"comment_id":134553319,"body_markdown":"Despite a copy being implied the line `int[][] copyArr = arr;` actually doesn&#39;t do a deep copy of `arr`. Both `copyArr` and `arr` are pointing to the same thing. So, any changes made to `copyArr` will change `arr`.  This question is possibly a duplicate of: https://stackoverflow.com/questions/1564832/how-do-i-do-a-deep-copy-of-a-2d-array-in-java","body":"Despite a copy being implied the line <code>int[][] copyArr = arr;</code> actually doesn&#39;t do a deep copy of <code>arr</code>. Both <code>copyArr</code> and <code>arr</code> are pointing to the same thing. So, any changes made to <code>copyArr</code> will change <code>arr</code>.  This question is possibly a duplicate of: <a href=\"https://stackoverflow.com/questions/1564832/how-do-i-do-a-deep-copy-of-a-2d-array-in-java\" title=\"how do i do a deep copy of a 2d array in java\">stackoverflow.com/questions/1564832/&hellip;</a>"},{"owner":{"account_id":28650617,"reputation":11,"user_id":21937652,"display_name":"Kian Power"},"score":0,"creation_date":1684722659,"post_id":76302694,"comment_id":134553340,"body_markdown":"Thank you, you were right about the copying confusion. I used a loop instead to iterate through and create a replica array and it works now.","body":"Thank you, you were right about the copying confusion. I used a loop instead to iterate through and create a replica array and it works now."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684722377,"creation_date":1684722377,"answer_id":76302720,"question_id":76302694,"body_markdown":"Assigning a variable to another variable in Java doesn&#39;t create a copy. It creates a second reference to the same object, or array in this case. You need to use a method to actually create a copy if that is your intention: https://www.baeldung.com/java-array-copy","title":"Method is changing the value of the 2d array but I don&#39;t want it to","body":"<p>Assigning a variable to another variable in Java doesn't create a copy. It creates a second reference to the same object, or array in this case. You need to use a method to actually create a copy if that is your intention: <a href=\"https://www.baeldung.com/java-array-copy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-array-copy</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684729176,"creation_date":1684724033,"answer_id":76302789,"question_id":76302694,"body_markdown":"You won&#39;t be able to just assign `copyArr` to `arr` to make a legitimate copy.  \r\nDoing so will cause any updates within `arr` to also happen in `copyArr`.\r\n\r\n_How that is useful, I&#39;m not sure._\r\n\r\nYou&#39;ll need to iterate over the values of `arr` and assign them to the corresponding indices of `copyArr`.\r\n\r\nIt&#39;s fairly simple, you can use the following code.\r\n\r\n```java\r\nint[][] copyArr = new int[arr.length][];\r\nfor (int index = 0; index &lt; arr.length; index++)\r\n    System.arraycopy(arr[i], 0, copyArr[i], 0, arr.length);\r\n```","title":"Method is changing the value of the 2d array but I don&#39;t want it to","body":"<p>You won't be able to just assign <code>copyArr</code> to <code>arr</code> to make a legitimate copy.<br />\nDoing so will cause any updates within <code>arr</code> to also happen in <code>copyArr</code>.</p>\n<p><em>How that is useful, I'm not sure.</em></p>\n<p>You'll need to iterate over the values of <code>arr</code> and assign them to the corresponding indices of <code>copyArr</code>.</p>\n<p>It's fairly simple, you can use the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] copyArr = new int[arr.length][];\nfor (int index = 0; index &lt; arr.length; index++)\n    System.arraycopy(arr[i], 0, copyArr[i], 0, arr.length);\n</code></pre>\n"}],"owner":{"account_id":28650617,"reputation":11,"user_id":21937652,"display_name":"Kian Power"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684729176,"creation_date":1684721881,"question_id":76302694,"body_markdown":"    public static int[][] submatrix(int[][] arr, int i, int j)\r\n    {\r\n        int[][] copyArr = arr;\r\n        int[][] newArr = new int[copyArr.length - 1][copyArr[0].length - 1];\r\n        \r\n        for(int k = 0; k &lt; copyArr[0].length; k++)\r\n        {\r\n            copyArr[j - 1][k] = 0;\r\n        }\r\n        \r\n        for(int x = 0; x &lt; copyArr.length; x++)\r\n        {\r\n            copyArr[x][i - 1] = 0;\r\n        }\r\n        printMatrix(copyArr);\r\n        System.out.println();\r\n        int row = 0;\r\n        int col = 0;\r\n        \r\n        for(int x = 0; x &lt; copyArr.length; x++)\r\n        {\r\n            for(int y = 0; y &lt; copyArr[0].length; y++)\r\n            {\r\n                if(copyArr[x][y] != 0)\r\n                {\r\n                    newArr[row][col] = copyArr[x][y];\r\n                    col += 1;\r\n                    if(col == newArr[0].length)\r\n                    {\r\n                        col -= newArr[0].length;\r\n                        row += 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return newArr;\r\n    }\r\n\r\nWhen I run this and use the 2d array: \r\n\r\nint[][] matrixI = new int[][]{{11, 12, 13, 14}, {21, 22, 23, 24}, {31, 32, 33, 34}, {41, 42, 43, 44}};\r\n\r\nIt correctly calculates the sub matrix, but when I call the method again on the same 2d array with different parameters(for the row and column I am getting rid of) it uses the array that was made when I called it the first time. I tried to use a copy of the array to avoid it changing the value of the inputted arr but it is still changing it. \r\n\r\nThe program is changing my value of arr when I dont want it to. ","title":"Method is changing the value of the 2d array but I don&#39;t want it to","body":"<pre><code>public static int[][] submatrix(int[][] arr, int i, int j)\n{\n    int[][] copyArr = arr;\n    int[][] newArr = new int[copyArr.length - 1][copyArr[0].length - 1];\n    \n    for(int k = 0; k &lt; copyArr[0].length; k++)\n    {\n        copyArr[j - 1][k] = 0;\n    }\n    \n    for(int x = 0; x &lt; copyArr.length; x++)\n    {\n        copyArr[x][i - 1] = 0;\n    }\n    printMatrix(copyArr);\n    System.out.println();\n    int row = 0;\n    int col = 0;\n    \n    for(int x = 0; x &lt; copyArr.length; x++)\n    {\n        for(int y = 0; y &lt; copyArr[0].length; y++)\n        {\n            if(copyArr[x][y] != 0)\n            {\n                newArr[row][col] = copyArr[x][y];\n                col += 1;\n                if(col == newArr[0].length)\n                {\n                    col -= newArr[0].length;\n                    row += 1;\n                }\n            }\n        }\n    }\n    return newArr;\n}\n</code></pre>\n<p>When I run this and use the 2d array:</p>\n<p>int[][] matrixI = new int[][]{{11, 12, 13, 14}, {21, 22, 23, 24}, {31, 32, 33, 34}, {41, 42, 43, 44}};</p>\n<p>It correctly calculates the sub matrix, but when I call the method again on the same 2d array with different parameters(for the row and column I am getting rid of) it uses the array that was made when I called it the first time. I tried to use a copy of the array to avoid it changing the value of the inputted arr but it is still changing it.</p>\n<p>The program is changing my value of arr when I dont want it to.</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":28651078,"reputation":1,"user_id":21938043,"display_name":"T&#226;n Nguy&#234;n Huy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684729053,"creation_date":1684729053,"question_id":76303014,"body_markdown":"When a new order arises, I want to update the number of products again and an error occurred.\r\nThe program reported an error in the command:productDao.updateProduct(product); \r\n```\r\n@RequestMapping(&quot;checkOut&quot;)\r\n    public String checkOut(HttpSession session, Model model) {\r\n        Orders orders = new Orders();\r\n        List&lt;OrderDetail&gt; orderDetailList = (List&lt;OrderDetail&gt;) session.getAttribute(&quot;orderDetailList&quot;);\r\n        User user = (User) session.getAttribute(&quot;user&quot;);\r\n        int totalPrice = 0;\r\n        for (OrderDetail orderDetail : orderDetailList) {\r\n            totalPrice = totalPrice + orderDetail.getUnitPrice() * orderDetail.getQuantity();\r\n        }\r\n        int shipPrice = 40000;\r\n        int totalPriceOrder = totalPrice + shipPrice;\r\n        if (orderDetailList.size() != 0) {\r\n            orders.setShipAddress(user.getAddress());\r\n            orders.setUser(user);\r\n            orders.setStatus(1);\r\n            orders.setTotalPrice(totalPriceOrder);\r\n            LocalDate currentDate = LocalDate.now();\r\n            orders.setOrderDate(java.sql.Date.valueOf(currentDate));\r\n        }\r\n        boolean bl = ordersDao.insertOrders(orders);\r\n        if (bl) {\r\n            int temp = 0;\r\n            for (OrderDetail orderDetail : orderDetailList) {\r\n                orderDetail.setOrders(orders);\r\n                orderDetailDao.insertOrderDetail(orderDetail);\r\n\r\n                Product product = orderDetail.getProduct();\r\n                int quantityToReduce = orderDetail.getQuantity();\r\n                int currentQuantity = product.getQuantity();\r\n                if (currentQuantity &gt;= quantityToReduce) {\r\n                    product.setQuantity(currentQuantity - quantityToReduce);\r\n                    productDao.updateProduct(product);\r\n                }\r\n\r\n                temp++;\r\n            }\r\n\r\n            if (temp == orderDetailList.size()) {\r\n                orderDetailList.clear();\r\n                session.setAttribute(&quot;orderDetailList&quot;, orderDetailList);\r\n            }\r\n        }\r\n        if (orderDetailList.size() == 0) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    sendMail(user.getEmail(), mailAutoDao.getMailById(2).getMailType(), mailAutoDao.getMailById(2).getMailContent());\r\n                }\r\n            });\r\n            thread.start();\r\n            return &quot;redirect:/home&quot;;\r\n        } else {\r\n            return &quot;redirect:/listCart&quot;;\r\n        }\r\n    }\r\n```\r\nMy program gives an error when trying to update a product\r\nMy DAO function: \r\n```\r\n@Override\r\n\tpublic boolean updateProduct(Product product) {\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tTransaction tx = session.beginTransaction();\r\n\t\ttry {\r\n\t\t\tsession.update(product);\r\n\t\t\ttx.commit();\r\n\t\t\treturn true;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\ttx.rollback();\r\n\t\t\t// TODO: handle exception\r\n\t\t}finally {\r\n\t\t\tsession.close();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\nWhen I go to the admin page to update the product, everything goes normally, the error only appears when the user makes a purchase\r\n\r\n\r\n\r\nI tried many ways to fix it but couldn&#39;t, hope you can help, thanks","title":"Illegal attempt to associate a collection with two open sessions. Collection","body":"<p>When a new order arises, I want to update the number of products again and an error occurred.\nThe program reported an error in the command:productDao.updateProduct(product);</p>\n<pre><code>@RequestMapping(&quot;checkOut&quot;)\n    public String checkOut(HttpSession session, Model model) {\n        Orders orders = new Orders();\n        List&lt;OrderDetail&gt; orderDetailList = (List&lt;OrderDetail&gt;) session.getAttribute(&quot;orderDetailList&quot;);\n        User user = (User) session.getAttribute(&quot;user&quot;);\n        int totalPrice = 0;\n        for (OrderDetail orderDetail : orderDetailList) {\n            totalPrice = totalPrice + orderDetail.getUnitPrice() * orderDetail.getQuantity();\n        }\n        int shipPrice = 40000;\n        int totalPriceOrder = totalPrice + shipPrice;\n        if (orderDetailList.size() != 0) {\n            orders.setShipAddress(user.getAddress());\n            orders.setUser(user);\n            orders.setStatus(1);\n            orders.setTotalPrice(totalPriceOrder);\n            LocalDate currentDate = LocalDate.now();\n            orders.setOrderDate(java.sql.Date.valueOf(currentDate));\n        }\n        boolean bl = ordersDao.insertOrders(orders);\n        if (bl) {\n            int temp = 0;\n            for (OrderDetail orderDetail : orderDetailList) {\n                orderDetail.setOrders(orders);\n                orderDetailDao.insertOrderDetail(orderDetail);\n\n                Product product = orderDetail.getProduct();\n                int quantityToReduce = orderDetail.getQuantity();\n                int currentQuantity = product.getQuantity();\n                if (currentQuantity &gt;= quantityToReduce) {\n                    product.setQuantity(currentQuantity - quantityToReduce);\n                    productDao.updateProduct(product);\n                }\n\n                temp++;\n            }\n\n            if (temp == orderDetailList.size()) {\n                orderDetailList.clear();\n                session.setAttribute(&quot;orderDetailList&quot;, orderDetailList);\n            }\n        }\n        if (orderDetailList.size() == 0) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    sendMail(user.getEmail(), mailAutoDao.getMailById(2).getMailType(), mailAutoDao.getMailById(2).getMailContent());\n                }\n            });\n            thread.start();\n            return &quot;redirect:/home&quot;;\n        } else {\n            return &quot;redirect:/listCart&quot;;\n        }\n    }\n</code></pre>\n<p>My program gives an error when trying to update a product\nMy DAO function:</p>\n<pre><code>@Override\n    public boolean updateProduct(Product product) {\n        Session session = sessionFactory.openSession();\n        Transaction tx = session.beginTransaction();\n        try {\n            session.update(product);\n            tx.commit();\n            return true;\n        } catch (Exception e) {\n            e.printStackTrace();\n            tx.rollback();\n            // TODO: handle exception\n        }finally {\n            session.close();\n        }\n        return false;\n    }\n</code></pre>\n<p>When I go to the admin page to update the product, everything goes normally, the error only appears when the user makes a purchase</p>\n<p>I tried many ways to fix it but couldn't, hope you can help, thanks</p>\n"},{"tags":["java","algorithm","performance","lambda"],"comments":[{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":3,"creation_date":1451887687,"post_id":34585444,"comment_id":56916252,"body_markdown":"Have you **repeatedly** run this method and measured time?","body":"Have you <b>repeatedly</b> run this method and measured time?"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":6,"creation_date":1451888072,"post_id":34585444,"comment_id":56916360,"body_markdown":"See http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"See <a href=\"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1451893505,"post_id":34585444,"comment_id":56918380,"body_markdown":"I don&#39;t have access to the test cases, so I can&#39;t exactly run it repeatedly. I don&#39;t know what LeetCode does to achieve this weird performance, so the question is this: what it _could_ be doing to make it that bad?","body":"I don&#39;t have access to the test cases, so I can&#39;t exactly run it repeatedly. I don&#39;t know what LeetCode does to achieve this weird performance, so the question is this: what it <i>could</i> be doing to make it that bad?"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":14,"creation_date":1451895203,"post_id":34585444,"comment_id":56919054,"body_markdown":"If the code is executed only once (for the examples on [leetcode](https://leetcode.com/problems/insert-interval/)) the decreasing execution time might be related due to the fact that the lambda bytecode is **generated at runtime**. Whereas your anonymous comparator class is created **at compile time**.","body":"If the code is executed only once (for the examples on <a href=\"https://leetcode.com/problems/insert-interval/\" rel=\"nofollow noreferrer\">leetcode</a>) the decreasing execution time might be related due to the fact that the lambda bytecode is <b>generated at runtime</b>. Whereas your anonymous comparator class is created <b>at compile time</b>."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1451902813,"post_id":34585444,"comment_id":56922721,"body_markdown":"I believe that should really be the answer, thank you! I had no idea. I thought that lambdas were something like syntactic sugar for anonymous classes.","body":"I believe that should really be the answer, thank you! I had no idea. I thought that lambdas were something like syntactic sugar for anonymous classes."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1452113634,"post_id":34585444,"comment_id":57031025,"body_markdown":"So far, my anecdotal experience (from my own use cases) is that lambdas are just slower than anonymous classes.  However, by like a few percent, not any 20x...","body":"So far, my anecdotal experience (from my own use cases) is that lambdas are just slower than anonymous classes.  However, by like a few percent, not any 20x..."}],"answers":[{"comments":[{"owner":{"account_id":4719664,"reputation":3937,"user_id":3817953,"accept_rate":80,"display_name":"yunandtidus"},"score":2,"creation_date":1452112049,"post_id":34642063,"comment_id":57030199,"body_markdown":"Any documentation to enforce your answer (and help us to convince sceptical) ?","body":"Any documentation to enforce your answer (and help us to convince sceptical) ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1452112684,"post_id":34642063,"comment_id":57030546,"body_markdown":"@yunandtidus: I added links to other questions (whose answers provide even more links). The fact, that ASM is used, is an implementation detail, that won’t appear in a specification, but can be seen by looking at the [source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/invoke/InnerClassLambdaMetafactory.java#249)","body":"@yunandtidus: I added links to other questions (whose answers provide even more links). The fact, that ASM is used, is an implementation detail, that won’t appear in a specification, but can be seen by looking at the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/invoke/InnerClassLambdaMetafactory.java#249\" rel=\"nofollow noreferrer\">source code</a>"},{"owner":{"account_id":4719664,"reputation":3937,"user_id":3817953,"accept_rate":80,"display_name":"yunandtidus"},"score":0,"creation_date":1452112951,"post_id":34642063,"comment_id":57030677,"body_markdown":"This is maybe more than initially expected by OP, but very interesting in my opinion. Thanks for pointing this out.","body":"This is maybe more than initially expected by OP, but very interesting in my opinion. Thanks for pointing this out."},{"owner":{"account_id":3337989,"reputation":404,"user_id":2804966,"display_name":"lalo"},"score":0,"creation_date":1548772711,"post_id":34642063,"comment_id":95656854,"body_markdown":"Has the first-time initialization overhead of lambda expressions improved in JDK 11?","body":"Has the first-time initialization overhead of lambda expressions improved in JDK 11?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1548775895,"post_id":34642063,"comment_id":95659060,"body_markdown":"@lalo a quick test on my machine suggests that the first time initialization has been improved by factor four between JDK&#160;8 and JDK&#160;11, though, it’s not clear whether this is the result of a dedicated lambda optimization or a general speedup. It’s still more than the initialization of a single inner class, but mind that we’re talking about a single-time overhead of ~10&#160;ms on my machine.  Also, you only notice it when no-one used them before; just specifying a `--module-path` on the command line make it disappear; apparently, the code handling application modules does use lambda expressions.","body":"@lalo a quick test on my machine suggests that the first time initialization has been improved by factor four between JDK 8 and JDK 11, though, it’s not clear whether this is the result of a dedicated lambda optimization or a general speedup. It’s still more than the initialization of a single inner class, but mind that we’re talking about a single-time overhead of ~10 ms on my machine.  Also, you only notice it when no-one used them before; just specifying a <code>--module-path</code> on the command line make it disappear; apparently, the code handling application modules does use lambda expressions."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1548794433,"post_id":34642063,"comment_id":95668578,"body_markdown":"@Holger this &quot;first-time&quot; slowness was part why my team abandoned `Nashhorn`; we have *lots* of code that relied on it, but because of `invokedynamic` used and being rather slow for the first runs (in our case in some cases it was 25-30 s) we dropped it a few years ago. Might be time to test this against java-11, but no idea if someone would want to re-write those portions of the code though","body":"@Holger this &quot;first-time&quot; slowness was part why my team abandoned <code>Nashhorn</code>; we have <i>lots</i> of code that relied on it, but because of <code>invokedynamic</code> used and being rather slow for the first runs (in our case in some cases it was 25-30 s) we dropped it a few years ago. Might be time to test this against java-11, but no idea if someone would want to re-write those portions of the code though"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1548833858,"post_id":34642063,"comment_id":95680267,"body_markdown":"@Eugene It’s “Nashorn” (German for rhinoceros) and it has been deprecated for removal with JDK&#160;11 ([JDK-8202786](https://bugs.openjdk.java.net/browse/JDK-8202786)). Honestly, I never understood why someone would want to have JavaScript in their application, unless when implementing a web browser…","body":"@Eugene It’s “Nashorn” (German for rhinoceros) and it has been deprecated for removal with JDK 11 (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8202786\" rel=\"nofollow noreferrer\">JDK-8202786</a>). Honestly, I never understood why someone would want to have JavaScript in their application, unless when implementing a web browser…"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1548838006,"post_id":34642063,"comment_id":95682220,"body_markdown":"@Holger as usual, it&#39;s some decision that was not really in developers control, anyway very useful info that it is removed! thank you","body":"@Holger as usual, it&#39;s some decision that was not really in developers control, anyway very useful info that it is removed! thank you"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1548838361,"post_id":34642063,"comment_id":95682448,"body_markdown":"@Eugene not “is” but “will be”","body":"@Eugene not “is” but “will be”"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1596791016,"post_id":34642063,"comment_id":111930214,"body_markdown":"@Holger I would suggest moving [this comment](https://stackoverflow.com/questions/34585444/java-lambdas-20-times-slower-than-anonymous-classes#comment95659060_34642063) as a part of an edit. It becomes relevant now that JDK-11 has been around for some time.","body":"@Holger I would suggest moving <a href=\"https://stackoverflow.com/questions/34585444/java-lambdas-20-times-slower-than-anonymous-classes#comment95659060_34642063\">this comment</a> as a part of an edit. It becomes relevant now that JDK-11 has been around for some time."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":10,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1597054216,"creation_date":1452111808,"answer_id":34642063,"question_id":34585444,"body_markdown":"You are obviously encountering the first-time initialization overhead of lambda expressions. As already mentioned in the comments, the classes for lambda expressions are generated at runtime rather than being loaded from your class path.\r\n\r\nHowever, being generated isn’t the cause for the slowdown. After all, generating a class having a simple structure can be even faster than loading the same bytes from an external source. And the inner class has to be loaded too. But when the application hasn’t used lambda expressions before&#185;, even the framework for generating the lambda classes has to be loaded (Oracle’s current implementation uses ASM under the hood). This is the actual cause of the slowdown, loading and initialization of a dozen internally used classes, not the lambda expression itself&#178;.\r\n\r\nYou can easily verify this. In your current code using lambda expressions, you have two identical expressions `(i1, i2) -&gt; Integer.compare(i1.start, i2.start)`. The current implementation doesn’t recognize this (actually, the compiler doesn’t provide a hint neither). So here, two lambda instances, having even different classes, are generated. You can refactor the code to have only one comparator, similar to your inner class variant:\r\n\r\n    final Comparator&lt;? super Interval&gt; comparator\r\n      = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    int start = Collections.binarySearch(intervals, newInterval, comparator);\r\n    int skip = start &gt;= 0 ? start : -start - 1;\r\n    int end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\r\n                                       new Interval(newInterval.end, 0),\r\n                                       comparator);\r\n\r\nYou won’t notice any significant performance difference, as it’s not the number of lambda expressions that matters, but just the class loading and initialization of the framework, which happens exactly once.\r\n\r\nYou can even max it out by inserting additional lambda expressions like\r\n\r\n    final Comparator&lt;? super Interval&gt; comparator1\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator2\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator3\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator4\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n    final Comparator&lt;? super Interval&gt; comparator5\r\n        = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\r\n\r\nwithout seeing any slowdown. It’s really the initial overhead of the very first lambda expression of the entire runtime you are noticing here. Since Leetcode itself apparently doesn’t use lambda expressions before entering your code, whose execution time gets measured, this overhead adds to your execution time here.\r\n\r\nSee also [“How will Java lambda functions be compiled?”](https://stackoverflow.com/questions/16827262/how-will-java-lambda-functions-be-compiled) and [“Does a lambda expression create an object on the heap every time it&#39;s executed?”](https://stackoverflow.com/questions/27524445/does-a-lambda-expression-create-an-object-on-the-heap-every-time-its-executed)\r\n\r\n&#185; This implies that JDK code that will be executed before handing control over to your application doesn’t use lambda expressions itself. Since this code stems from times before the introduction of lambda expressions, this is usually the case. With newer JDKs, modular software will be initialized by different, newer code, which seems to use lambda expressions, so the initialization of the runtime facility can’t be measured within the application anymore in these setups.\r\n\r\n&#178; The initialization time has been reduced significantly in newer JDKs. There are different possible causes, general performance improvements, dedicated lambda optimizations, or both. Improving initialization time in general, is an issue that the JDK developers did not forget.","title":"Java lambdas 20 times slower than anonymous classes","body":"<p>You are obviously encountering the first-time initialization overhead of lambda expressions. As already mentioned in the comments, the classes for lambda expressions are generated at runtime rather than being loaded from your class path.</p>\n<p>However, being generated isn’t the cause for the slowdown. After all, generating a class having a simple structure can be even faster than loading the same bytes from an external source. And the inner class has to be loaded too. But when the application hasn’t used lambda expressions before¹, even the framework for generating the lambda classes has to be loaded (Oracle’s current implementation uses ASM under the hood). This is the actual cause of the slowdown, loading and initialization of a dozen internally used classes, not the lambda expression itself².</p>\n<p>You can easily verify this. In your current code using lambda expressions, you have two identical expressions <code>(i1, i2) -&gt; Integer.compare(i1.start, i2.start)</code>. The current implementation doesn’t recognize this (actually, the compiler doesn’t provide a hint neither). So here, two lambda instances, having even different classes, are generated. You can refactor the code to have only one comparator, similar to your inner class variant:</p>\n<pre><code>final Comparator&lt;? super Interval&gt; comparator\n  = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nint start = Collections.binarySearch(intervals, newInterval, comparator);\nint skip = start &gt;= 0 ? start : -start - 1;\nint end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\n                                   new Interval(newInterval.end, 0),\n                                   comparator);\n</code></pre>\n<p>You won’t notice any significant performance difference, as it’s not the number of lambda expressions that matters, but just the class loading and initialization of the framework, which happens exactly once.</p>\n<p>You can even max it out by inserting additional lambda expressions like</p>\n<pre><code>final Comparator&lt;? super Interval&gt; comparator1\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator2\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator3\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator4\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\nfinal Comparator&lt;? super Interval&gt; comparator5\n    = (i1, i2) -&gt; Integer.compare(i1.start, i2.start);\n</code></pre>\n<p>without seeing any slowdown. It’s really the initial overhead of the very first lambda expression of the entire runtime you are noticing here. Since Leetcode itself apparently doesn’t use lambda expressions before entering your code, whose execution time gets measured, this overhead adds to your execution time here.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/16827262/how-will-java-lambda-functions-be-compiled\">“How will Java lambda functions be compiled?”</a> and <a href=\"https://stackoverflow.com/questions/27524445/does-a-lambda-expression-create-an-object-on-the-heap-every-time-its-executed\">“Does a lambda expression create an object on the heap every time it's executed?”</a></p>\n<p>¹ This implies that JDK code that will be executed before handing control over to your application doesn’t use lambda expressions itself. Since this code stems from times before the introduction of lambda expressions, this is usually the case. With newer JDKs, modular software will be initialized by different, newer code, which seems to use lambda expressions, so the initialization of the runtime facility can’t be measured within the application anymore in these setups.</p>\n<p>² The initialization time has been reduced significantly in newer JDKs. There are different possible causes, general performance improvements, dedicated lambda optimizations, or both. Improving initialization time in general, is an issue that the JDK developers did not forget.</p>\n"}],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24270,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":34642063,"answer_count":1,"score":50,"last_activity_date":1684726214,"creation_date":1451887086,"question_id":34585444,"body_markdown":"I&#39;ve seen a lot of questions here about Java lambdas performance, but most of them go like &quot;Lambdas are slightly faster, but become slower when using closures&quot; or &quot;Warm-up vs execution times are different&quot; or other such things.\r\n\r\nHowever, I hit a rather strange thing here. Consider [this LeetCode problem][1]:\r\n\r\n&gt; Given a set of non-overlapping intervals, insert a new interval into\r\n&gt; the intervals (merge if necessary).\r\n&gt; \r\n&gt; You may assume that the intervals were initially sorted according to\r\n&gt; their start times.\r\n\r\nThe problem was tagged hard, so I assumed that a linear approach is not what they want there. So I decided to come up with a clever way to combine binary search with modifications to the input list. Now the problem is not very clear on modifying the input list—it says &quot;insert&quot;, even though the signature requires to return a reference to list, but never mind that for now. Here&#39;s the full code, but only the first few lines are relevant to this question. I&#39;m keeping the rest here just so that anyone can try it:\r\n```\r\npublic List&lt;Interval&gt; insert(List&lt;Interval&gt; intervals, Interval newInterval) {\r\n    int start = Collections.binarySearch(intervals, newInterval,\r\n                                         (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\r\n    int skip = start &gt;= 0 ? start : -start - 1;\r\n    int end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\r\n                                       new Interval(newInterval.end, 0),\r\n                                       (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\r\n    if (end &gt;= 0) {\r\n        end += skip; // back to original indexes\r\n    } else {\r\n        end -= skip; // ditto\r\n    }\r\n    int newStart = newInterval.start;\r\n    int headEnd;\r\n    if (-start - 2 &gt;= 0) {\r\n        Interval prev = intervals.get(-start - 2);\r\n        if (prev.end &lt; newInterval.start) {\r\n            // the new interval doesn&#39;t overlap the one before the insertion point\r\n            headEnd = -start - 1;\r\n        } else {\r\n            newStart = prev.start;\r\n            headEnd = -start - 2;\r\n        }\r\n    } else if (start &gt;= 0) {\r\n        // merge the first interval\r\n        headEnd = start;\r\n    } else { // start == -1, insertion point = 0\r\n        headEnd = 0;\r\n    }\r\n    int newEnd = newInterval.end;\r\n    int tailStart;\r\n    if (-end - 2 &gt;= 0) {\r\n        // merge the end with the previous interval\r\n        newEnd = Math.max(newEnd, intervals.get(-end - 2).end);\r\n        tailStart = -end - 1;\r\n    } else if (end &gt;= 0) {\r\n        newEnd = intervals.get(end).end;\r\n        tailStart = end + 1;\r\n    } else { // end == -1, insertion point = 0\r\n        tailStart = 0;\r\n    }\r\n    intervals.subList(headEnd, tailStart).clear();\r\n    intervals.add(headEnd, new Interval(newStart, newEnd));\r\n    return intervals;\r\n}\r\n```\r\nThis worked fine and got accepted, but with 80 ms runtime, while most solutions were 4-5 ms and some 18-19 ms. When I looked them up, they were all linear and very primitive. Not something one would expect from a problem tagged &quot;hard&quot;.\r\n\r\nBut here comes the question: my solution is also linear at worst case (because add/clear operations are linear time). Why is it _that_ slower? And then I did this:\r\n```\r\nComparator&lt;Interval&gt; comparator = new Comparator&lt;Interval&gt;() {\r\n    @Override\r\n    public int compare(Interval i1, Interval i2) {\r\n        return Integer.compare(i1.start, i2.start);\r\n    }\r\n};\r\nint start = Collections.binarySearch(intervals, newInterval, comparator);\r\nint skip = start &gt;= 0 ? start : -start - 1;\r\nint end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\r\n                                   new Interval(newInterval.end, 0),\r\n                                   comparator);\r\n```\r\nFrom 80 ms down to 4 ms! What&#39;s going on here? Unfortunately I have no idea what kind of tests LeetCode runs or under what environment, but still, isn&#39;t 20 times too much?\r\n\r\n  [1]: https://leetcode.com/problems/insert-interval/","title":"Java lambdas 20 times slower than anonymous classes","body":"<p>I've seen a lot of questions here about Java lambdas performance, but most of them go like &quot;Lambdas are slightly faster, but become slower when using closures&quot; or &quot;Warm-up vs execution times are different&quot; or other such things.</p>\n<p>However, I hit a rather strange thing here. Consider <a href=\"https://leetcode.com/problems/insert-interval/\" rel=\"nofollow noreferrer\">this LeetCode problem</a>:</p>\n<blockquote>\n<p>Given a set of non-overlapping intervals, insert a new interval into\nthe intervals (merge if necessary).</p>\n<p>You may assume that the intervals were initially sorted according to\ntheir start times.</p>\n</blockquote>\n<p>The problem was tagged hard, so I assumed that a linear approach is not what they want there. So I decided to come up with a clever way to combine binary search with modifications to the input list. Now the problem is not very clear on modifying the input list—it says &quot;insert&quot;, even though the signature requires to return a reference to list, but never mind that for now. Here's the full code, but only the first few lines are relevant to this question. I'm keeping the rest here just so that anyone can try it:</p>\n<pre><code>public List&lt;Interval&gt; insert(List&lt;Interval&gt; intervals, Interval newInterval) {\n    int start = Collections.binarySearch(intervals, newInterval,\n                                         (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\n    int skip = start &gt;= 0 ? start : -start - 1;\n    int end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\n                                       new Interval(newInterval.end, 0),\n                                       (i1, i2) -&gt; Integer.compare(i1.start, i2.start));\n    if (end &gt;= 0) {\n        end += skip; // back to original indexes\n    } else {\n        end -= skip; // ditto\n    }\n    int newStart = newInterval.start;\n    int headEnd;\n    if (-start - 2 &gt;= 0) {\n        Interval prev = intervals.get(-start - 2);\n        if (prev.end &lt; newInterval.start) {\n            // the new interval doesn't overlap the one before the insertion point\n            headEnd = -start - 1;\n        } else {\n            newStart = prev.start;\n            headEnd = -start - 2;\n        }\n    } else if (start &gt;= 0) {\n        // merge the first interval\n        headEnd = start;\n    } else { // start == -1, insertion point = 0\n        headEnd = 0;\n    }\n    int newEnd = newInterval.end;\n    int tailStart;\n    if (-end - 2 &gt;= 0) {\n        // merge the end with the previous interval\n        newEnd = Math.max(newEnd, intervals.get(-end - 2).end);\n        tailStart = -end - 1;\n    } else if (end &gt;= 0) {\n        newEnd = intervals.get(end).end;\n        tailStart = end + 1;\n    } else { // end == -1, insertion point = 0\n        tailStart = 0;\n    }\n    intervals.subList(headEnd, tailStart).clear();\n    intervals.add(headEnd, new Interval(newStart, newEnd));\n    return intervals;\n}\n</code></pre>\n<p>This worked fine and got accepted, but with 80 ms runtime, while most solutions were 4-5 ms and some 18-19 ms. When I looked them up, they were all linear and very primitive. Not something one would expect from a problem tagged &quot;hard&quot;.</p>\n<p>But here comes the question: my solution is also linear at worst case (because add/clear operations are linear time). Why is it <em>that</em> slower? And then I did this:</p>\n<pre><code>Comparator&lt;Interval&gt; comparator = new Comparator&lt;Interval&gt;() {\n    @Override\n    public int compare(Interval i1, Interval i2) {\n        return Integer.compare(i1.start, i2.start);\n    }\n};\nint start = Collections.binarySearch(intervals, newInterval, comparator);\nint skip = start &gt;= 0 ? start : -start - 1;\nint end = Collections.binarySearch(intervals.subList(skip, intervals.size()),\n                                   new Interval(newInterval.end, 0),\n                                   comparator);\n</code></pre>\n<p>From 80 ms down to 4 ms! What's going on here? Unfortunately I have no idea what kind of tests LeetCode runs or under what environment, but still, isn't 20 times too much?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1556557,"reputation":1548,"user_id":1447477,"accept_rate":80,"display_name":"Matter Cat"},"score":0,"creation_date":1437450184,"post_id":31529908,"comment_id":51020849,"body_markdown":"Also you haven&#39;t used `setContentView` in your `onCreate`. Not related to the permission error but you need to fix that before it&#39;ll work.","body":"Also you haven&#39;t used <code>setContentView</code> in your <code>onCreate</code>. Not related to the permission error but you need to fix that before it&#39;ll work."},{"owner":{"account_id":4686941,"reputation":2426,"user_id":3794140,"accept_rate":67,"display_name":"Sheychan"},"score":0,"creation_date":1437450265,"post_id":31529908,"comment_id":51020871,"body_markdown":"@MatterCat it might be a service or a fragment","body":"@MatterCat it might be a service or a fragment"},{"owner":{"account_id":1556557,"reputation":1548,"user_id":1447477,"accept_rate":80,"display_name":"Matter Cat"},"score":0,"creation_date":1437450332,"post_id":31529908,"comment_id":51020878,"body_markdown":"If they&#39;re just starting out, it&#39;s most likely that it&#39;s an Activity. I suppose that&#39;s fair, though.","body":"If they&#39;re just starting out, it&#39;s most likely that it&#39;s an Activity. I suppose that&#39;s fair, though."},{"owner":{"account_id":4686941,"reputation":2426,"user_id":3794140,"accept_rate":67,"display_name":"Sheychan"},"score":0,"creation_date":1437451993,"post_id":31529908,"comment_id":51021242,"body_markdown":"@MatterCat hmmm yup true, but we should focus on his error, the permission error.","body":"@MatterCat hmmm yup true, but we should focus on his error, the permission error."},{"owner":{"account_id":5961850,"reputation":25,"user_id":4686783,"display_name":"snwflake"},"score":0,"creation_date":1438940921,"post_id":31529908,"comment_id":51667210,"body_markdown":"it is indeed a service, i may just started out with java, but i am familiar with service based architecture in software development.","body":"it is indeed a service, i may just started out with java, but i am familiar with service based architecture in software development."}],"answers":[{"comments":[{"owner":{"account_id":5961850,"reputation":25,"user_id":4686783,"display_name":"snwflake"},"score":0,"creation_date":1437451867,"post_id":31529976,"comment_id":51021210,"body_markdown":"that solved it for me, thanks. the completion of android studio made it fully upper case...","body":"that solved it for me, thanks. the completion of android studio made it fully upper case..."}],"tags":[],"owner":{"account_id":4686941,"reputation":2426,"user_id":3794140,"accept_rate":67,"display_name":"Sheychan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1437450141,"creation_date":1437450141,"answer_id":31529976,"question_id":31529908,"body_markdown":"Use small caps on ANDROID.PERMISSION\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;","title":"Permission Denied in order to load Image from Android Internal Storage","body":"<p>Use small caps on ANDROID.PERMISSION</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n"}],"owner":{"account_id":5961850,"reputation":25,"user_id":4686783,"display_name":"snwflake"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31529976,"answer_count":1,"score":1,"last_activity_date":1684725831,"creation_date":1437449721,"question_id":31529908,"body_markdown":"Started learning java and app development. I tried to display a single Picture with a hard-coded path. I got left with an Error telling me, that the necessary permissions are missing:\r\n\r\n***Unable to decode stream: java.io.FileNotFoundException: /storage/emulated/0/media/logo.jpg: open failed: EACCES (Permission denied)***\r\n\r\n***AndroidManifest.xml*:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.snwflake22.helloworld&quot; &gt;\r\n        &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;application\r\n        (...)\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nThe function itself looks like this:\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        File image = new File(Environment.getExternalStorageDirectory()+&quot;/media/&quot;, &quot;logo.jpg&quot;);\r\n        BitmapFactory.Options bmOptions = new BitmapFactory.Options();\r\n        Bitmap bitmap = BitmapFactory.decodeFile(image.getAbsolutePath(), bmOptions);\r\n        ImageView imageView = (ImageView) findViewById(R.id.imageView);\r\n        imageView.setImageBitmap(bitmap);\r\n    }\r\n\r\n\r\nAre there any other permissions I need to set to access the storage? or the media folder?\r\n","title":"Permission Denied in order to load Image from Android Internal Storage","body":"<p>Started learning java and app development. I tried to display a single Picture with a hard-coded path. I got left with an Error telling me, that the necessary permissions are missing:</p>\n<p><em><strong>Unable to decode stream: java.io.FileNotFoundException: /storage/emulated/0/media/logo.jpg: open failed: EACCES (Permission denied)</strong></em></p>\n<p><strong><em>AndroidManifest.xml</em>:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.snwflake22.helloworld&quot; &gt;\n    &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;ANDROID.PERMISSION.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n    (...)\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>The function itself looks like this:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    File image = new File(Environment.getExternalStorageDirectory()+&quot;/media/&quot;, &quot;logo.jpg&quot;);\n    BitmapFactory.Options bmOptions = new BitmapFactory.Options();\n    Bitmap bitmap = BitmapFactory.decodeFile(image.getAbsolutePath(), bmOptions);\n    ImageView imageView = (ImageView) findViewById(R.id.imageView);\n    imageView.setImageBitmap(bitmap);\n}\n</code></pre>\n<p>Are there any other permissions I need to set to access the storage? or the media folder?</p>\n"},{"tags":["java","json","arraylist","json-deserialization"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1684727688,"post_id":76301356,"comment_id":134553700,"body_markdown":"I found a few answers, [Jackson: is there a way to serialize POJOs directly to treemodel?](https://stackoverflow.com/questions/6967583/jackson-is-there-a-way-to-serialize-pojos-directly-to-treemodel), and [Convert Java Object to JsonNode in Jackson](https://stackoverflow.com/questions/11828368/convert-java-object-to-jsonnode-in-jackson)","body":"I found a few answers, <a href=\"https://stackoverflow.com/questions/6967583/jackson-is-there-a-way-to-serialize-pojos-directly-to-treemodel\">Jackson: is there a way to serialize POJOs directly to treemodel?</a>, and <a href=\"https://stackoverflow.com/questions/11828368/convert-java-object-to-jsonnode-in-jackson\">Convert Java Object to JsonNode in Jackson</a>"}],"owner":{"account_id":315708,"reputation":187,"user_id":631523,"accept_rate":0,"display_name":"Orgil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684725410,"creation_date":1684693736,"question_id":76301356,"body_markdown":"How to convert json to ArrayList&lt;ArrayList&lt;Object&gt;&gt; in java.\r\n&lt;br&gt;Corresponding c# code using NewtonJson is like:\r\n\r\n    JsonConvert.DeserializeObject&lt;List&lt;List&lt;Object&gt;&gt;&gt;(jsonstr)\r\n\r\nBut what would it be in Java? I could not find package for this.&lt;br&gt;If target type were some class then it would be easy using gson. But my problem is target type being double list ArrayList&lt;ArrayList&lt;Object&gt;&gt;.\r\n\r\nRegards Orgil.D","title":"how to convert json to ArrayList&lt;ArrayList&lt;String&gt;&gt; in java like JsonConvert.DeserializeObject&lt;List&lt;List&lt;object&gt;&gt;&gt;(jsonstr) in c#","body":"<p>How to convert json to ArrayList&lt;ArrayList&gt; in java.\n<br>Corresponding c# code using NewtonJson is like:</p>\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;List&lt;Object&gt;&gt;&gt;(jsonstr)\n</code></pre>\n<p>But what would it be in Java? I could not find package for this.<br>If target type were some class then it would be easy using gson. But my problem is target type being double list ArrayList&lt;ArrayList&gt;.</p>\n<p>Regards Orgil.D</p>\n"},{"tags":["java","package","file-structure"],"comments":[{"owner":{"account_id":7630,"reputation":22523,"user_id":13295,"accept_rate":92,"display_name":"Lance Roberts"},"score":1,"creation_date":1249580715,"post_id":1240387,"comment_id":1066532,"body_markdown":"What OS are you dealing with?","body":"What OS are you dealing with?"}],"answers":[{"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1249580726,"creation_date":1249580726,"answer_id":1240400,"question_id":1240387,"body_markdown":"You can try unzipping/unjarring rt.jar, which is usually available in `$JAVA_HOME/lib/rt.jar`.  The jar file should include the classfiles of all the `JDK`, if that is what you are asking about.","title":"Where are the Java System Packages stored?","body":"<p>You can try unzipping/unjarring rt.jar, which is usually available in <code>$JAVA_HOME/lib/rt.jar</code>.  The jar file should include the classfiles of all the <code>JDK</code>, if that is what you are asking about.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1249581309,"creation_date":1249580759,"answer_id":1240405,"question_id":1240387,"body_markdown":"If you want a list of packages in the standard installation, just go to the [Javadocs][1] and look in the upper left corner.\r\n\r\nIf you want to see the .class files, they&#39;re in `lib\\rt.jar` in the JRE directory (`.jar` is the same as `.zip`, so you can open it with anything that can open zip files).\r\n\r\nIf you want to see the source code, look in `src.zip` in the JDK directory. If it&#39;s not there, you probably elected not to install it when you installed the JDK.\r\n\r\nKeep in mind that packages are represented as folders on disk, so you might be a little disappointed by what you see.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/index.html","title":"Where are the Java System Packages stored?","body":"<p>If you want a list of packages in the standard installation, just go to the <a href=\"http://java.sun.com/javase/6/docs/api/index.html\" rel=\"noreferrer\">Javadocs</a> and look in the upper left corner.</p>\n\n<p>If you want to see the .class files, they're in <code>lib\\rt.jar</code> in the JRE directory (<code>.jar</code> is the same as <code>.zip</code>, so you can open it with anything that can open zip files).</p>\n\n<p>If you want to see the source code, look in <code>src.zip</code> in the JDK directory. If it's not there, you probably elected not to install it when you installed the JDK.</p>\n\n<p>Keep in mind that packages are represented as folders on disk, so you might be a little disappointed by what you see.</p>\n"},{"tags":[],"owner":{"account_id":20694,"reputation":24019,"user_id":49713,"accept_rate":80,"display_name":"lavinio"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1249581111,"creation_date":1249580798,"answer_id":1240407,"question_id":1240387,"body_markdown":"Assuming you mean the packages that include the class libraries like java.lang.* and java.util.*, these live in the &quot;lib&quot; directory under wherever your Java Runtime Environment (JRE) is installed.\r\n\r\nOn Windows, it would be something like this:\r\n\r\n    C:\\Program Files\\Java\\j2re1.4.2_12\\lib\r\n\r\nIn there, you should see files like `rt.jar` which contains the core Java classes and `charsets.jar` which contains many of the extended encoding support for EBCDIC and the CJK languages.\r\n\r\nIn a parallel `bin` directory are the executables for Java and related utilities.\r\n\r\nIf you&#39;ve installed the Java Development Kit (JDK), in the directory above where you find the libs you will probably find a `src.jar` file. This can be unpacked either with the `jar.exe` utility, or with a standard *zip*-style tool, and contains the Java sources to the standard class library.\r\n\r\nSome of Java, such as the virtual machine itself, is machine-specific, and will be part of some of the DLL&#39;s or EXE&#39;s present.\r\n\r\n","title":"Where are the Java System Packages stored?","body":"<p>Assuming you mean the packages that include the class libraries like java.lang.* and java.util.*, these live in the \"lib\" directory under wherever your Java Runtime Environment (JRE) is installed.</p>\n\n<p>On Windows, it would be something like this:</p>\n\n<pre><code>C:\\Program Files\\Java\\j2re1.4.2_12\\lib\n</code></pre>\n\n<p>In there, you should see files like <code>rt.jar</code> which contains the core Java classes and <code>charsets.jar</code> which contains many of the extended encoding support for EBCDIC and the CJK languages.</p>\n\n<p>In a parallel <code>bin</code> directory are the executables for Java and related utilities.</p>\n\n<p>If you've installed the Java Development Kit (JDK), in the directory above where you find the libs you will probably find a <code>src.jar</code> file. This can be unpacked either with the <code>jar.exe</code> utility, or with a standard <em>zip</em>-style tool, and contains the Java sources to the standard class library.</p>\n\n<p>Some of Java, such as the virtual machine itself, is machine-specific, and will be part of some of the DLL's or EXE's present.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249601681,"creation_date":1249601681,"answer_id":1242097,"question_id":1240387,"body_markdown":"My JDK 1.6.0_13 has a src.zip containing all the source code.  Give that a look.\r\n\r\n","title":"Where are the Java System Packages stored?","body":"<p>My JDK 1.6.0_13 has a src.zip containing all the source code.  Give that a look.</p>\n"},{"tags":[],"owner":{"account_id":3949260,"reputation":1019,"user_id":3260410,"display_name":"Venkataswamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391483389,"creation_date":1391483389,"answer_id":21542271,"question_id":1240387,"body_markdown":"**Windows:**\r\n\r\nFor compressed compiled java packages( Java Class Library, JCL): program files/java/jdk/jre/lib/rt.jar\r\n\r\nFor source of packages: program files/java/jdk/src.zip\r\n\r\nwe can use any unzipping software to look into them. ","title":"Where are the Java System Packages stored?","body":"<p><strong>Windows:</strong></p>\n\n<p>For compressed compiled java packages( Java Class Library, JCL): program files/java/jdk/jre/lib/rt.jar</p>\n\n<p>For source of packages: program files/java/jdk/src.zip</p>\n\n<p>we can use any unzipping software to look into them. </p>\n"},{"comments":[{"owner":{"account_id":14019908,"reputation":73,"user_id":10126356,"display_name":"Anuj Mittal"},"score":0,"creation_date":1653973502,"post_id":53897006,"comment_id":127974290,"body_markdown":"How to call this in python? , we have a python script where we used rt.jar, now after upgrading java we are facing errors","body":"How to call this in python? , we have a python script where we used rt.jar, now after upgrading java we are facing errors"}],"tags":[],"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1591892696,"creation_date":1545493002,"answer_id":53897006,"question_id":1240387,"body_markdown":"From Java 9 onwards `rt.jar` was [removed](http://openjdk.java.net/jeps/220)\r\n\r\n&gt; The class and resource files previously stored in `lib/rt.jar`, `lib/tools.jar`, `lib/dt.jar`, and various other internal JAR files are now stored in a more efficient format in implementation-specific files in the lib directory. The format of these files is not specified and is subject to change without notice.\r\n\r\nThe System class files can now be accessed as shown below\r\n\r\n    FileSystem fs = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;));\r\n\tPath objClassFilePath = fs.getPath(&quot;modules&quot;, &quot;java.base&quot;, &quot;java/lang/Object.class&quot;);","title":"Where are the Java System Packages stored?","body":"<p>From Java 9 onwards <code>rt.jar</code> was <a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">removed</a></p>\n\n<blockquote>\n  <p>The class and resource files previously stored in <code>lib/rt.jar</code>, <code>lib/tools.jar</code>, <code>lib/dt.jar</code>, and various other internal JAR files are now stored in a more efficient format in implementation-specific files in the lib directory. The format of these files is not specified and is subject to change without notice.</p>\n</blockquote>\n\n<p>The System class files can now be accessed as shown below</p>\n\n<pre><code>FileSystem fs = FileSystems.getFileSystem(URI.create(\"jrt:/\"));\nPath objClassFilePath = fs.getPath(\"modules\", \"java.base\", \"java/lang/Object.class\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11897465,"reputation":23,"user_id":8706420,"display_name":"Rahul Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565248724,"creation_date":1565248724,"answer_id":57407176,"question_id":1240387,"body_markdown":"As answered by @VenkataRaju i would like to put 2 more points that \r\n\r\n 1. we have ./bin, ./conf, ./include, ./jmods, ./legal, ./lib\r\n 2. we can see all the classlist in ./lib/classlist and ./lib/src.jar\r\n in java 11\r\n","title":"Where are the Java System Packages stored?","body":"<p>As answered by @VenkataRaju i would like to put 2 more points that </p>\n\n<ol>\n<li>we have ./bin, ./conf, ./include, ./jmods, ./legal, ./lib</li>\n<li>we can see all the classlist in ./lib/classlist and ./lib/src.jar\nin java 11</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15191583,"reputation":551,"user_id":10962180,"display_name":"Levon Minasian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657696963,"creation_date":1657696963,"answer_id":72962376,"question_id":1240387,"body_markdown":"`rt.jar` is removed since Java 9. So, to find sources of JCL you should:\r\n```\r\nsudo find / -name java.base\r\n```","title":"Where are the Java System Packages stored?","body":"<p><code>rt.jar</code> is removed since Java 9. So, to find sources of JCL you should:</p>\n<pre><code>sudo find / -name java.base\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28650798,"reputation":1,"user_id":21937801,"display_name":"Manoranjan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684725225,"creation_date":1684725225,"answer_id":76302834,"question_id":1240387,"body_markdown":"In a JDK version 18.0.1.1, all packages are present in the jrt-fs.jar file.\r\n\r\n\r\npath:- jdk-18.0.1.1\\lib\\jrt-fs.jar.\r\n\r\ninside this jrt-fs.jar file, all pre-defined classes are present in the package path like java\\io for java.io, java\\lang for java.lang, java\\util for java.util, java\\sql for java.sql etc..","title":"Where are the Java System Packages stored?","body":"<p>In a JDK version 18.0.1.1, all packages are present in the jrt-fs.jar file.</p>\n<p>path:- jdk-18.0.1.1\\lib\\jrt-fs.jar.</p>\n<p>inside this jrt-fs.jar file, all pre-defined classes are present in the package path like java\\io for java.io, java\\lang for java.lang, java\\util for java.util, java\\sql for java.sql etc..</p>\n"}],"owner":{"account_id":50331,"reputation":910,"user_id":150110,"accept_rate":36,"display_name":"asb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75093,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":9,"score":23,"last_activity_date":1684725225,"creation_date":1249580576,"question_id":1240387,"body_markdown":"I want to see all the java packages. Where are the packages stored in my machine? Can anyone help. I did search in jdk folder and found awt.dll and all. But its only a few. Can i see all of them?","title":"Where are the Java System Packages stored?","body":"<p>I want to see all the java packages. Where are the packages stored in my machine? Can anyone help. I did search in jdk folder and found awt.dll and all. But its only a few. Can i see all of them?</p>\n"},{"tags":["java","list","search","contains"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1379426772,"post_id":18852059,"comment_id":27815218,"body_markdown":"Your stated goal and your code example don&#39;t seem to match. Do you want to compare the objects only on the basis of one field value?","body":"Your stated goal and your code example don&#39;t seem to match. Do you want to compare the objects only on the basis of one field value?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":1,"creation_date":1379426779,"post_id":18852059,"comment_id":27815224,"body_markdown":"Override the `equals(Object)` method of your custom object?","body":"Override the <code>equals(Object)</code> method of your custom object?"},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1379431229,"post_id":18852059,"comment_id":27818186,"body_markdown":"`for(Person p:list) if (p.getName().equals(&quot;John&quot;) return true; return false;`\nYou won&#39;t find a more concise way in Java I&#39;m afraid.","body":"<code>for(Person p:list) if (p.getName().equals(&quot;John&quot;) return true; return false;</code> You won&#39;t find a more concise way in Java I&#39;m afraid."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1424793822,"post_id":18852059,"comment_id":45691150,"body_markdown":"@Rajdeep sorry, I don&#39;t understand your question. `p.equals(p)` _should_ always be true, so I&#39;m confused what you&#39;re trying to achieve. Hopefully if you [ask a new question](http://stackoverflow.com/questions/ask) you can get better help.","body":"@Rajdeep sorry, I don&#39;t understand your question. <code>p.equals(p)</code> <i>should</i> always be true, so I&#39;m confused what you&#39;re trying to achieve. Hopefully if you <a href=\"http://stackoverflow.com/questions/ask\">ask a new question</a> you can get better help."}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1379426969,"post_id":18852137,"comment_id":27815357,"body_markdown":"Unless the setter returns `this`.","body":"Unless the setter returns <code>this</code>."},{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1379427404,"post_id":18852137,"comment_id":27815669,"body_markdown":"So, if I override the equals method of the custom Objects being added to the list... can I get it to just return true if certain class variables are the same?","body":"So, if I override the equals method of the custom Objects being added to the list... can I get it to just return true if certain class variables are the same?"},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1379427509,"post_id":18852137,"comment_id":27815748,"body_markdown":"@RudiKershaw Yes that is the idea, you can return true on the basis of one/two/all fields. So if you believe it is logically correct to say that two objects with same name are equal objects then return true by just comapring the names.","body":"@RudiKershaw Yes that is the idea, you can return true on the basis of one/two/all fields. So if you believe it is logically correct to say that two objects with same name are equal objects then return true by just comapring the names."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":2,"creation_date":1379430357,"post_id":18852137,"comment_id":27817636,"body_markdown":"It&#39;s really not advisable to override `equals` for a single use case, unless it makes sense for the class in general. You&#39;d be much better off just writing the loop.","body":"It&#39;s really not advisable to override <code>equals</code> for a single use case, unless it makes sense for the class in general. You&#39;d be much better off just writing the loop."},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1379430942,"post_id":18852137,"comment_id":27818014,"body_markdown":"@MikeFHay agreed, thats why i mentioned in the comment &quot;So if you believe it is logically correct to say that two objects with same name are equal objects then return true&quot;","body":"@MikeFHay agreed, thats why i mentioned in the comment &quot;So if you believe it is logically correct to say that two objects with same name are equal objects then return true&quot;"}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":5,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1379426787,"creation_date":1379426787,"answer_id":18852137,"question_id":18852059,"body_markdown":"`contains` method uses `equals` internally. So you need to override the `equals` method for your class as per your need.\r\n\r\nBtw this does not look syntatically correct: \r\n\r\n    new Object().setName(&quot;John&quot;)","title":"Java List.contains(Object with field value equal to x)","body":"<p><code>contains</code> method uses <code>equals</code> internally. So you need to override the <code>equals</code> method for your class as per your need.</p>\n\n<p>Btw this does not look syntatically correct: </p>\n\n<pre><code>new Object().setName(\"John\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1379427148,"post_id":18852162,"comment_id":27815476,"body_markdown":"Alternatively you could use `Iterables.any(list, predicate)`, which is practically the same, and you may or may not prefer it stylistically.","body":"Alternatively you could use <code>Iterables.any(list, predicate)</code>, which is practically the same, and you may or may not prefer it stylistically."},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1379427384,"post_id":18852162,"comment_id":27815661,"body_markdown":"@EricJablow Yup. :) You could look at my solution.","body":"@EricJablow Yup. :) You could look at my solution."}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1453171211,"creation_date":1379426838,"answer_id":18852162,"question_id":18852059,"body_markdown":"# Google Guava\r\n\r\nIf you&#39;re using [Guava][1], you can take a functional approach and do the following\r\n\r\n    FluentIterable.from(list).find(new Predicate&lt;MyObject&gt;() {\r\n       public boolean apply(MyObject input) {\r\n          return &quot;John&quot;.equals(input.getName());\r\n       }\r\n    }).Any();\r\n\r\nwhich looks a little verbose. However the predicate is an object and you can provide different variants for different searches. Note how the library itself separates the iteration of the collection and the function you wish to apply. You don&#39;t have to override `equals()` for a particular behaviour.\r\n\r\nAs noted below, the [java.util.Stream](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) framework built into Java 8 and later provides something similar.\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Google Guava</h1>\n\n<p>If you're using <a href=\"http://code.google.com/p/guava-libraries/\">Guava</a>, you can take a functional approach and do the following</p>\n\n<pre><code>FluentIterable.from(list).find(new Predicate&lt;MyObject&gt;() {\n   public boolean apply(MyObject input) {\n      return \"John\".equals(input.getName());\n   }\n}).Any();\n</code></pre>\n\n<p>which looks a little verbose. However the predicate is an object and you can provide different variants for different searches. Note how the library itself separates the iteration of the collection and the function you wish to apply. You don't have to override <code>equals()</code> for a particular behaviour.</p>\n\n<p>As noted below, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\">java.util.Stream</a> framework built into Java 8 and later provides something similar.</p>\n"},{"comments":[{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1379427160,"post_id":18852245,"comment_id":27815486,"body_markdown":"So, if I override the equals method of the custom Objects being added to the list... can I get it to just return true if certain class variables are the same?","body":"So, if I override the equals method of the custom Objects being added to the list... can I get it to just return true if certain class variables are the same?"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1379427610,"post_id":18852245,"comment_id":27815815,"body_markdown":"No, the idea behind `equals()` is very limited. It means to check for &quot;object identity&quot; - whatever that might mean for some class of objects. If you added a flag which fields should be included, that could cause all kinds of trouble. I strongly advise against it.","body":"No, the idea behind <code>equals()</code> is very limited. It means to check for &quot;object identity&quot; - whatever that might mean for some class of objects. If you added a flag which fields should be included, that could cause all kinds of trouble. I strongly advise against it."},{"owner":{"account_id":2856333,"reputation":666,"user_id":2452531,"accept_rate":10,"display_name":"ken"},"score":0,"creation_date":1467982713,"post_id":18852245,"comment_id":63954010,"body_markdown":"Love groovy, so the &quot;new&quot; Java 8 Lambda really don&#39;t give us this coolness still?  `def result = list.find{ it.name == &#39;John&#39; }` Oracle/JCP should be sued for war crimes against programmers.","body":"Love groovy, so the &quot;new&quot; Java 8 Lambda really don&#39;t give us this coolness still?  <code>def result = list.find{ it.name == &#39;John&#39; }</code> Oracle/JCP should be sued for war crimes against programmers."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1467983788,"creation_date":1379427060,"answer_id":18852245,"question_id":18852059,"body_markdown":"`Collection.contains()` is implemented by calling `equals()` on each object until one returns `true`.\r\n\r\nSo one way to implement this is to override `equals()` but of course, you can only have one equals.\r\n\r\nFrameworks like [Guava][1] therefore use predicates for this. With `Iterables.find(list, predicate)`, you can search for arbitrary fields by putting the test into the predicate.\r\n\r\nOther languages built on top of the VM have this built in. In [Groovy][2], for example, you simply write:\r\n\r\n    def result = list.find{ it.name == &#39;John&#39; }\r\n\r\nJava 8 made all our lives easier, too:\r\n\r\n    List&lt;Foo&gt; result = list.stream()\r\n        .filter(it -&gt; &quot;John&quot;.equals(it.getName())\r\n        .collect(Collectors.toList());\r\n\r\nIf you care about things like this, I suggest the book &quot;Beyond Java&quot;. It contains many examples for the numerous shortcomings of Java and how other languages do better.\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/\r\n  [2]: http://groovy.codehaus.org/","title":"Java List.contains(Object with field value equal to x)","body":"<p><code>Collection.contains()</code> is implemented by calling <code>equals()</code> on each object until one returns <code>true</code>.</p>\n\n<p>So one way to implement this is to override <code>equals()</code> but of course, you can only have one equals.</p>\n\n<p>Frameworks like <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> therefore use predicates for this. With <code>Iterables.find(list, predicate)</code>, you can search for arbitrary fields by putting the test into the predicate.</p>\n\n<p>Other languages built on top of the VM have this built in. In <a href=\"http://groovy.codehaus.org/\" rel=\"noreferrer\">Groovy</a>, for example, you simply write:</p>\n\n<pre><code>def result = list.find{ it.name == 'John' }\n</code></pre>\n\n<p>Java 8 made all our lives easier, too:</p>\n\n<pre><code>List&lt;Foo&gt; result = list.stream()\n    .filter(it -&gt; \"John\".equals(it.getName())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>If you care about things like this, I suggest the book \"Beyond Java\". It contains many examples for the numerous shortcomings of Java and how other languages do better.</p>\n"},{"comments":[{"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"score":2,"creation_date":1379428120,"post_id":18852327,"comment_id":27816174,"body_markdown":"Then, the second example should be `public boolean`. Also, you might want to use `Objects.equals()` in case `o.getName()` can be `null`.","body":"Then, the second example should be <code>public boolean</code>. Also, you might want to use <code>Objects.equals()</code> in case <code>o.getName()</code> can be <code>null</code>."},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1379428467,"post_id":18852327,"comment_id":27816387,"body_markdown":"@EricJablow Right, I just copied and pasted after writing the `perform` method. Also, there&#39;s a fairly large chance that it will never be `null`. Have you noticed that no other answers perform a `null` check? Or are you just pointing it out to me?","body":"@EricJablow Right, I just copied and pasted after writing the <code>perform</code> method. Also, there&#39;s a fairly large chance that it will never be <code>null</code>. Have you noticed that no other answers perform a <code>null</code> check? Or are you just pointing it out to me?"},{"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"score":1,"creation_date":1379433797,"post_id":18852327,"comment_id":27819788,"body_markdown":"I&#39;m just a paranoid programmer.  I&#39;ve dealt with projects where people were fast and loose with nulls, so I tend to be defensive.  Far better to ensure items not be null, ever.","body":"I&#39;m just a paranoid programmer.  I&#39;ve dealt with projects where people were fast and loose with nulls, so I tend to be defensive.  Far better to ensure items not be null, ever."},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":5,"creation_date":1379451213,"post_id":18852327,"comment_id":27829315,"body_markdown":"@EricJablow Perhaps you should comment on **ALL** of the answers that don&#39;t perform `null` checks, as opposed to just one (mine).","body":"@EricJablow Perhaps you should comment on <b>ALL</b> of the answers that don&#39;t perform <code>null</code> checks, as opposed to just one (mine)."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1461693836,"post_id":18852327,"comment_id":61311612,"body_markdown":"The first one is more flexible. You can return the found object with the name if you replace `isPresent()` with `.orElse(null)`","body":"The first one is more flexible. You can return the found object with the name if you replace <code>isPresent()</code> with <code>.orElse(null)</code>"},{"owner":{"account_id":3040009,"reputation":311,"user_id":2577276,"display_name":"MK10"},"score":79,"creation_date":1474560641,"post_id":18852327,"comment_id":66591395,"body_markdown":"Even shorter and easier to understand:\n\n```return list.stream().anyMatch(o -&gt; o.getName().equals(name));```","body":"Even shorter and easier to understand:  <code>return list.stream().anyMatch(o -&gt; o.getName().equals(name));</code>"},{"owner":{"account_id":411443,"reputation":1215,"user_id":783887,"display_name":"tobijdc"},"score":4,"creation_date":1474894647,"post_id":18852327,"comment_id":66705061,"body_markdown":"I aggree with @MK10 but i would use `java.util.Objects` for nullsafe comparison\n`return list.stream().anyMatch(o -&gt; Objects.euqals(o.getName(), name);` If you want to check objects in stream for null, you can add a `.filter(Objects::nonNull)` before anyMatch.","body":"I aggree with @MK10 but i would use <code>java.util.Objects</code> for nullsafe comparison <code>return list.stream().anyMatch(o -&gt; Objects.euqals(o.getName(), name);</code> If you want to check objects in stream for null, you can add a <code>.filter(Objects::nonNull)</code> before anyMatch."},{"owner":{"account_id":2120368,"reputation":425,"user_id":5097395,"accept_rate":39,"display_name":"karlihnos"},"score":0,"creation_date":1512574504,"post_id":18852327,"comment_id":82314978,"body_markdown":"Can you pls explain me what type of magic in that :) ? How can the void method &quot;perfom&quot; return something?","body":"Can you pls explain me what type of magic in that :) ? How can the void method &quot;perfom&quot; return something?"},{"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"score":1,"creation_date":1540230426,"post_id":18852327,"comment_id":92779139,"body_markdown":"I can&#39;t believe this answer has so many points. Stream.anyMatch method does the work","body":"I can&#39;t believe this answer has so many points. Stream.anyMatch method does the work"},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":0,"creation_date":1581980315,"post_id":18852327,"comment_id":106611351,"body_markdown":"I copied this answer and even my static linter realized I should just replace it with `anyMatch`. I wonder if the correct answer will ever reach the top, given it has just 20 votes in 2020.","body":"I copied this answer and even my static linter realized I should just replace it with <code>anyMatch</code>. I wonder if the correct answer will ever reach the top, given it has just 20 votes in 2020."},{"owner":{"account_id":13210522,"reputation":414,"user_id":9540910,"display_name":"Collin"},"score":0,"creation_date":1645050687,"post_id":18852327,"comment_id":125771136,"body_markdown":"If you wanted to do &quot;contains()&quot; to see if an object is in a list, but wanted to skip checking one particular field (like the date modified of a file), how would you do that?","body":"If you wanted to do &quot;contains()&quot; to see if an object is in a list, but wanted to skip checking one particular field (like the date modified of a file), how would you do that?"},{"owner":{"account_id":9795789,"reputation":513,"user_id":7258885,"display_name":"qleoz12"},"score":0,"creation_date":1672091064,"post_id":18852327,"comment_id":132220259,"body_markdown":"@MK10 how check match for 2  conditions for objects stream, im just want to validate if stream contains 2 object tha each fill one of the 2 confitions, actually Im doing 2 stream validation, but its posible to do in just 1","body":"@MK10 how check match for 2  conditions for objects stream, im just want to validate if stream contains 2 object tha each fill one of the 2 confitions, actually Im doing 2 stream validation, but its posible to do in just 1"}],"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"comment_count":12,"down_vote_count":1,"up_vote_count":395,"is_accepted":true,"score":394,"last_activity_date":1662384460,"creation_date":1379427318,"answer_id":18852327,"question_id":18852059,"body_markdown":"# Streams\r\n\r\nIf you are using Java 8, perhaps you could try something like this:\r\n\r\n    public boolean containsName(final List&lt;MyObject&gt; list, final String name){\r\n        return list.stream().filter(o -&gt; o.getName().equals(name)).findFirst().isPresent();\r\n    }\r\n\r\nOr alternatively, you could try something like this:\r\n\r\n    public boolean containsName(final List&lt;MyObject&gt; list, final String name){\r\n        return list.stream().map(MyObject::getName).filter(name::equals).findFirst().isPresent();\r\n    }\r\n\r\nThis method will return `true` if the `List&lt;MyObject&gt;` contains a `MyObject` with the name `name`. If you want to perform an operation on each of the `MyObject`s that `getName().equals(name)`, then you could try something like this:\r\n\r\n    public void perform(final List&lt;MyObject&gt; list, final String name){\r\n        list.stream().filter(o -&gt; o.getName().equals(name)).forEach(\r\n                o -&gt; {\r\n                    //...\r\n                }\r\n        );\r\n    }\r\n\r\nWhere `o` represents a `MyObject` instance.\r\n\r\nAlternatively, as the comments suggest (Thanks MK10), you could use the `Stream#anyMatch` method:\r\n\r\n    public boolean containsName(final List&lt;MyObject&gt; list, final String name){\r\n        return list.stream().anyMatch(o -&gt; name.equals(o.getName()));\r\n    }","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Streams</h1>\n<p>If you are using Java 8, perhaps you could try something like this:</p>\n<pre><code>public boolean containsName(final List&lt;MyObject&gt; list, final String name){\n    return list.stream().filter(o -&gt; o.getName().equals(name)).findFirst().isPresent();\n}\n</code></pre>\n<p>Or alternatively, you could try something like this:</p>\n<pre><code>public boolean containsName(final List&lt;MyObject&gt; list, final String name){\n    return list.stream().map(MyObject::getName).filter(name::equals).findFirst().isPresent();\n}\n</code></pre>\n<p>This method will return <code>true</code> if the <code>List&lt;MyObject&gt;</code> contains a <code>MyObject</code> with the name <code>name</code>. If you want to perform an operation on each of the <code>MyObject</code>s that <code>getName().equals(name)</code>, then you could try something like this:</p>\n<pre><code>public void perform(final List&lt;MyObject&gt; list, final String name){\n    list.stream().filter(o -&gt; o.getName().equals(name)).forEach(\n            o -&gt; {\n                //...\n            }\n    );\n}\n</code></pre>\n<p>Where <code>o</code> represents a <code>MyObject</code> instance.</p>\n<p>Alternatively, as the comments suggest (Thanks MK10), you could use the <code>Stream#anyMatch</code> method:</p>\n<pre><code>public boolean containsName(final List&lt;MyObject&gt; list, final String name){\n    return list.stream().anyMatch(o -&gt; name.equals(o.getName()));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":0,"creation_date":1409840982,"post_id":18852332,"comment_id":40112205,"body_markdown":"This is a great solution for small projects that don&#39;t want to use guava. One question though, the docs on binarySearch state that: &quot;The list must be sorted into ascending order according to the specified comparator, prior to making this call. If it is not sorted, the results are undefined&quot;. But in seems in some cases, depending on what&#39;s being compared, this might not be the case?","body":"This is a great solution for small projects that don&#39;t want to use guava. One question though, the docs on binarySearch state that: &quot;The list must be sorted into ascending order according to the specified comparator, prior to making this call. If it is not sorted, the results are undefined&quot;. But in seems in some cases, depending on what&#39;s being compared, this might not be the case?"},{"owner":{"account_id":3323930,"reputation":967,"user_id":2794395,"display_name":"fiorentinoing"},"score":0,"creation_date":1479389705,"post_id":18852332,"comment_id":68543562,"body_markdown":"and the negative number represents where the object will be inserted if you add it and re-sort.","body":"and the negative number represents where the object will be inserted if you add it and re-sort."}],"tags":[],"owner":{"account_id":1712852,"reputation":10572,"user_id":1570523,"display_name":"Debojit Saikia"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1453170799,"creation_date":1379427348,"answer_id":18852332,"question_id":18852059,"body_markdown":"# Binary Search\r\n\r\nYou can use [Collections.binarySearch][1] to search an element in your list (assuming the list is sorted):\r\n\r\n    Collections.binarySearch(list, new YourObject(&quot;a1&quot;, &quot;b&quot;,\r\n    \t\t\t\t&quot;c&quot;), new Comparator&lt;YourObject&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(YourObject o1, YourObject o2) {\r\n    \t\t\t\treturn o1.getName().compareTo(o2.getName());\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nwhich will return a negative number if the object is not present in the collection or else it will return the `index` of the object. With this you can search for objects with different searching strategies.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T,%20java.util.Comparator)","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Binary Search</h1>\n\n<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch(java.util.List,%20T,%20java.util.Comparator)\" rel=\"noreferrer\">Collections.binarySearch</a> to search an element in your list (assuming the list is sorted):</p>\n\n<pre><code>Collections.binarySearch(list, new YourObject(\"a1\", \"b\",\n                \"c\"), new Comparator&lt;YourObject&gt;() {\n\n            @Override\n            public int compare(YourObject o1, YourObject o2) {\n                return o1.getName().compareTo(o2.getName());\n            }\n        });\n</code></pre>\n\n<p>which will return a negative number if the object is not present in the collection or else it will return the <code>index</code> of the object. With this you can search for objects with different searching strategies.</p>\n"},{"comments":[{"owner":{"account_id":5269973,"reputation":92,"user_id":4208564,"display_name":"op_"},"score":0,"creation_date":1580996024,"post_id":18852968,"comment_id":106287331,"body_markdown":"I think you forgot brackets for getter in  if(o != null &amp;&amp; o.getLocation.equals(location))","body":"I think you forgot brackets for getter in  if(o != null &amp;&amp; o.getLocation.equals(location))"}],"tags":[],"owner":{"account_id":1708399,"reputation":8104,"user_id":1566990,"accept_rate":67,"display_name":"James Dunn"},"comment_count":1,"down_vote_count":2,"up_vote_count":87,"is_accepted":false,"score":85,"last_activity_date":1379431216,"creation_date":1379429068,"answer_id":18852968,"question_id":18852059,"body_markdown":"&lt;p&gt;&lt;b&gt;You have two choices.&lt;/b&gt;&lt;/p&gt;\r\n&lt;p&gt;1.  The first choice, which is preferable, is to override the `equals()` method in your Object class.&lt;/p&gt;\r\n&lt;p&gt;Let&#39;s say, for example, you have this Object class:&lt;/p&gt;\r\n\r\n    public class MyObject {\r\n        private String name;\r\n        private String location;\r\n        //getters and setters\r\n    }\r\n&lt;p&gt;Now let&#39;s say you only care about the MyObject&#39;s name, that it should be unique so if two `MyObject`s have the same name they should be considered equal.  In that case, you would want to override the `equals()` method (and also the `hashcode()` method) so that it compares the names to determine equality.&lt;/p&gt;\r\n&lt;p&gt;Once you&#39;ve done this, you can check to see if a Collection contains a MyObject with the name &quot;foo&quot; by like so:&lt;/p&gt;\r\n\r\n    MyObject object = new MyObject();\r\n    object.setName(&quot;foo&quot;);\r\n    collection.contains(object);\r\n\r\n&lt;p&gt;However, this might not be an option for you if:&lt;/p&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;You are using both the name and location to check for equality, but you only want to check if a Collection has any `MyObject`s with a certain location.  In this case, you&#39;ve already overridden `equals()`.&lt;/li&gt;\r\n&lt;li&gt;`MyObject` is part of an API that you don&#39;t have liberty to change.&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;i&gt;If either of these are the case, you&#39;ll want option 2:&lt;/i&gt;\r\n&lt;p&gt;2.  Write your own utility method:&lt;/p&gt;\r\n\r\n    public static boolean containsLocation(Collection&lt;MyObject&gt; c, String location) {\r\n        for(MyObject o : c) {\r\n            if(o != null &amp;&amp; o.getLocation.equals(location)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n&lt;p&gt;Alternatively, you could extend ArrayList&lt;MyObject&gt; (or some other collection) and then add your own method to it:&lt;/p&gt;\r\n\r\n    public boolean containsLocation(String location) {\r\n        for(MyObject o : this) {\r\n            if(o != null &amp;&amp; o.getLocation.equals(location)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n            \r\n&lt;p&gt;Unfortunately there&#39;s not a better way around it.&lt;/p&gt;\r\n\r\n","title":"Java List.contains(Object with field value equal to x)","body":"<p><b>You have two choices.</b></p>\n\n<p>1.  The first choice, which is preferable, is to override the `equals()` method in your Object class.</p>\n\n<p>Let's say, for example, you have this Object class:</p>\n\n<pre><code>public class MyObject {\n    private String name;\n    private String location;\n    //getters and setters\n}\n</code></pre>\n\n<p>Now let's say you only care about the MyObject's name, that it should be unique so if two `MyObject`s have the same name they should be considered equal.  In that case, you would want to override the `equals()` method (and also the `hashcode()` method) so that it compares the names to determine equality.</p>\n\n<p>Once you've done this, you can check to see if a Collection contains a MyObject with the name \"foo\" by like so:</p>\n\n<pre><code>MyObject object = new MyObject();\nobject.setName(\"foo\");\ncollection.contains(object);\n</code></pre>\n\n<p>However, this might not be an option for you if:</p>\n\n<ul>\n<li>You are using both the name and location to check for equality, but you only want to check if a Collection has any `MyObject`s with a certain location.  In this case, you've already overridden `equals()`.</li>\n<li>`MyObject` is part of an API that you don't have liberty to change.</li>\n</ul>\n\n<p><i>If either of these are the case, you'll want option 2:</i></p>\n\n<p>2.  Write your own utility method:</p>\n\n<pre><code>public static boolean containsLocation(Collection&lt;MyObject&gt; c, String location) {\n    for(MyObject o : c) {\n        if(o != null &amp;&amp; o.getLocation.equals(location)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Alternatively, you could extend ArrayList (or some other collection) and then add your own method to it:</p>\n\n<pre><code>public boolean containsLocation(String location) {\n    for(MyObject o : this) {\n        if(o != null &amp;&amp; o.getLocation.equals(location)) {\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n\n<p>Unfortunately there's not a better way around it.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453208336,"creation_date":1379443982,"answer_id":18857682,"question_id":18852059,"body_markdown":"# Eclipse Collections\r\n\r\nIf you&#39;re using [Eclipse Collections][1], you can use the `anySatisfy()` method. Either adapt your `List` in a `ListAdapter` or change your `List` into a `ListIterable` if possible.\r\n\r\n    ListIterable&lt;MyObject&gt; list = ...;\r\n\r\n    boolean result =\r\n        list.anySatisfy(myObject -&gt; myObject.getName().equals(&quot;John&quot;));\r\n\r\nIf you&#39;ll do operations like this frequently, it&#39;s better to extract a method which answers whether the type has the attribute.\r\n\r\n    public class MyObject\r\n    {\r\n        private final String name;\r\n    \r\n        public MyObject(String name)\r\n        {\r\n            this.name = name;\r\n        }\r\n        \r\n        public boolean named(String name)\r\n        {\r\n            return Objects.equals(this.name, name);\r\n        }\r\n    }\r\n\r\nYou can use the alternate form `anySatisfyWith()` together with a method reference.\r\n\r\n    boolean result = list.anySatisfyWith(MyObject::named, &quot;John&quot;);\r\n\r\nIf you cannot change your `List` into a `ListIterable`, here&#39;s how you&#39;d use `ListAdapter`.\r\n\r\n    boolean result = \r\n        ListAdapter.adapt(list).anySatisfyWith(MyObject::named, &quot;John&quot;);\r\n\r\nNote: I am a committer for Eclipse ollections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Eclipse Collections</h1>\n\n<p>If you're using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow\">Eclipse Collections</a>, you can use the <code>anySatisfy()</code> method. Either adapt your <code>List</code> in a <code>ListAdapter</code> or change your <code>List</code> into a <code>ListIterable</code> if possible.</p>\n\n<pre><code>ListIterable&lt;MyObject&gt; list = ...;\n\nboolean result =\n    list.anySatisfy(myObject -&gt; myObject.getName().equals(\"John\"));\n</code></pre>\n\n<p>If you'll do operations like this frequently, it's better to extract a method which answers whether the type has the attribute.</p>\n\n<pre><code>public class MyObject\n{\n    private final String name;\n\n    public MyObject(String name)\n    {\n        this.name = name;\n    }\n\n    public boolean named(String name)\n    {\n        return Objects.equals(this.name, name);\n    }\n}\n</code></pre>\n\n<p>You can use the alternate form <code>anySatisfyWith()</code> together with a method reference.</p>\n\n<pre><code>boolean result = list.anySatisfyWith(MyObject::named, \"John\");\n</code></pre>\n\n<p>If you cannot change your <code>List</code> into a <code>ListIterable</code>, here's how you'd use <code>ListAdapter</code>.</p>\n\n<pre><code>boolean result = \n    ListAdapter.adapt(list).anySatisfyWith(MyObject::named, \"John\");\n</code></pre>\n\n<p>Note: I am a committer for Eclipse ollections.</p>\n"},{"tags":[],"owner":{"account_id":2141855,"reputation":211,"user_id":1900307,"display_name":"Magda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442406255,"creation_date":1442405199,"answer_id":32608149,"question_id":18852059,"body_markdown":"If you need to perform this `List.contains(Object with field value equal to x)` repeatedly, a simple and efficient workaround would be:\r\n\r\n    List&lt;field obj type&gt; fieldOfInterestValues = new ArrayList&lt;field obj type&gt;;\r\n    for(Object obj : List) {\r\n        fieldOfInterestValues.add(obj.getFieldOfInterest());\r\n    }\r\n\r\nThen the `List.contains(Object with field value equal to x)` would be have the same result as `fieldOfInterestValues.contains(x);`","title":"Java List.contains(Object with field value equal to x)","body":"<p>If you need to perform this <code>List.contains(Object with field value equal to x)</code> repeatedly, a simple and efficient workaround would be:</p>\n\n<pre><code>List&lt;field obj type&gt; fieldOfInterestValues = new ArrayList&lt;field obj type&gt;;\nfor(Object obj : List) {\n    fieldOfInterestValues.add(obj.getFieldOfInterest());\n}\n</code></pre>\n\n<p>Then the <code>List.contains(Object with field value equal to x)</code> would be have the same result as <code>fieldOfInterestValues.contains(x);</code></p>\n"},{"tags":[],"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453170763,"creation_date":1442406064,"answer_id":32608461,"question_id":18852059,"body_markdown":"# `Predicate`\r\n\r\nIf you dont use Java 8, or library which gives you more functionality for dealing with collections, you could implement something which can be more reusable than your solution.\r\n\r\n    interface Predicate&lt;T&gt;{\r\n    \t\tboolean contains(T item);\r\n    \t}\r\n    \t\r\n    \tstatic class CollectionUtil{\r\n    \t\t\r\n    \t\tpublic static &lt;T&gt; T find(final Collection&lt;T&gt; collection,final  Predicate&lt;T&gt; predicate){\r\n    \t\t\tfor (T item : collection){\r\n    \t\t\t\tif (predicate.contains(item)){\r\n    \t\t\t\t\treturn item;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t// and many more methods to deal with collection\t\r\n    \t}\r\n\r\ni&#39;m using something like that, i have predicate interface, and i&#39;m passing it implementation to my util class.\r\n\r\n What is advantage of doing this in my way? you have one method which deals with searching in any type collection. and you dont have to create separate methods if you want to search by different field. alll what you need to do is provide different predicate which can be destroyed as soon as it no longer usefull/\r\n\r\nif you want to use it, all what you need to do is call method and define tyour predicate\r\n\r\n    CollectionUtil.find(list, new Predicate&lt;MyObject&gt;{\r\n        public boolean contains(T item){\r\n            return &quot;John&quot;.equals(item.getName());\r\n         }\r\n    });","title":"Java List.contains(Object with field value equal to x)","body":"<h1><code>Predicate</code></h1>\n\n<p>If you dont use Java 8, or library which gives you more functionality for dealing with collections, you could implement something which can be more reusable than your solution.</p>\n\n<pre><code>interface Predicate&lt;T&gt;{\n        boolean contains(T item);\n    }\n\n    static class CollectionUtil{\n\n        public static &lt;T&gt; T find(final Collection&lt;T&gt; collection,final  Predicate&lt;T&gt; predicate){\n            for (T item : collection){\n                if (predicate.contains(item)){\n                    return item;\n                }\n            }\n            return null;\n        }\n    // and many more methods to deal with collection    \n    }\n</code></pre>\n\n<p>i'm using something like that, i have predicate interface, and i'm passing it implementation to my util class.</p>\n\n<p>What is advantage of doing this in my way? you have one method which deals with searching in any type collection. and you dont have to create separate methods if you want to search by different field. alll what you need to do is provide different predicate which can be destroyed as soon as it no longer usefull/</p>\n\n<p>if you want to use it, all what you need to do is call method and define tyour predicate</p>\n\n<pre><code>CollectionUtil.find(list, new Predicate&lt;MyObject&gt;{\n    public boolean contains(T item){\n        return \"John\".equals(item.getName());\n     }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1486732788,"post_id":42158130,"comment_id":71485711,"body_markdown":"+1 Although it means a little overhead in putting the details into the map in the first place you then get constant time lookup. I&#39;m surprised no one has suggested this until now.","body":"+1 Although it means a little overhead in putting the details into the map in the first place you then get constant time lookup. I&#39;m surprised no one has suggested this until now."}],"tags":[],"owner":{"display_name":"user7110558"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1486725598,"creation_date":1486725598,"answer_id":42158130,"question_id":18852059,"body_markdown":"# Map #\r\n\r\nYou could create a `Hashmap&lt;String, Object&gt;` using one of the values as a key, and then seeing if `yourHashMap.keySet().contains(yourValue)` returns true.","title":"Java List.contains(Object with field value equal to x)","body":"<h1>Map</h1>\n\n<p>You could create a <code>Hashmap&lt;String, Object&gt;</code> using one of the values as a key, and then seeing if <code>yourHashMap.keySet().contains(yourValue)</code> returns true.</p>\n"},{"tags":[],"owner":{"account_id":7957692,"reputation":1544,"user_id":6006402,"display_name":"Pasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503380067,"creation_date":1503380067,"answer_id":45809583,"question_id":18852059,"body_markdown":"Despite JAVA 8 SDK there is a lot of collection tools libraries can help you to work with, for instance:\r\n [http://commons.apache.org/proper/commons-collections/][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/\r\n\r\n\r\n    Predicate condition = new Predicate() {\r\n       boolean evaluate(Object obj) {\r\n            return ((Sample)obj).myField.equals(&quot;myVal&quot;);\r\n       }\r\n    };\r\n    List result = CollectionUtils.select( list, condition );","title":"Java List.contains(Object with field value equal to x)","body":"<p>Despite JAVA 8 SDK there is a lot of collection tools libraries can help you to work with, for instance:\n <a href=\"http://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-collections/</a></p>\n\n<pre><code>Predicate condition = new Predicate() {\n   boolean evaluate(Object obj) {\n        return ((Sample)obj).myField.equals(\"myVal\");\n   }\n};\nList result = CollectionUtils.select( list, condition );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58840,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511232933,"creation_date":1511232933,"answer_id":47404446,"question_id":18852059,"body_markdown":"Here is a solution using [Guava][1]\r\n\r\n    private boolean checkUserListContainName(List&lt;User&gt; userList, final String targetName){\r\n    \r\n        return FluentIterable.from(userList).anyMatch(new Predicate&lt;User&gt;() {\r\n            @Override\r\n            public boolean apply(@Nullable User input) {\r\n                return input.getName().equals(targetName);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"Java List.contains(Object with field value equal to x)","body":"<p>Here is a solution using <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a></p>\n\n<pre><code>private boolean checkUserListContainName(List&lt;User&gt; userList, final String targetName){\n\n    return FluentIterable.from(userList).anyMatch(new Predicate&lt;User&gt;() {\n        @Override\n        public boolean apply(@Nullable User input) {\n            return input.getName().equals(targetName);\n        }\n    });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1412551,"reputation":1225,"user_id":1338875,"display_name":"Thyag"},"score":4,"creation_date":1599670446,"post_id":52934936,"comment_id":112847489,"body_markdown":"Tried the filter based answer by Josh above, but Intellij also suggested your anyMatch answer. Great!","body":"Tried the filter based answer by Josh above, but Intellij also suggested your anyMatch answer. Great!"},{"owner":{"account_id":9092502,"reputation":189,"user_id":6767721,"display_name":"B Thuy"},"score":4,"creation_date":1637834629,"post_id":52934936,"comment_id":123933609,"body_markdown":"Please flip the string equality check to avoid a potential null pointer exception\n `&quot;John&quot;.equals(o.getName())`","body":"Please flip the string equality check to avoid a potential null pointer exception  <code>&quot;John&quot;.equals(o.getName())</code>"},{"owner":{"account_id":2722678,"reputation":2391,"user_id":2348614,"accept_rate":68,"display_name":"Starwave"},"score":0,"creation_date":1695282970,"post_id":52934936,"comment_id":136004362,"body_markdown":"Which one should come first in that equality check?","body":"Which one should come first in that equality check?"}],"tags":[],"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"comment_count":3,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1647193018,"creation_date":1540230309,"answer_id":52934936,"question_id":18852059,"body_markdown":"This is how to do it using Java 8+ :\r\n\r\n    boolean isJohnAlive = list.stream().anyMatch(o -&gt; &quot;John&quot;.equals(o.getName());","title":"Java List.contains(Object with field value equal to x)","body":"<p>This is how to do it using Java 8+ :</p>\n<pre><code>boolean isJohnAlive = list.stream().anyMatch(o -&gt; &quot;John&quot;.equals(o.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21876842,"reputation":1,"user_id":16165755,"display_name":"Amit Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684724955,"creation_date":1684621286,"answer_id":76297558,"question_id":18852059,"body_markdown":"Try this:\r\n\r\n    list.stream().filter(req -&gt; \r\n    req.getName().equals(&quot;John&quot;)).findFirst().isPresent()","title":"Java List.contains(Object with field value equal to x)","body":"<p>Try this:</p>\n<pre><code>list.stream().filter(req -&gt; \nreq.getName().equals(&quot;John&quot;)).findFirst().isPresent()\n</code></pre>\n"}],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610935,"favorite_count":0,"down_vote_count":1,"up_vote_count":292,"accepted_answer_id":18852327,"answer_count":14,"score":291,"last_activity_date":1684724955,"creation_date":1379426557,"question_id":18852059,"body_markdown":"I want to check whether a `List` contains an object that has a field with a certain value. Now, I could use a loop to go through and check, but I was curious if there was anything more code efficient. \r\n\r\nSomething like;\r\n\r\n    if(list.contains(new Object().setName(&quot;John&quot;))){\r\n        //Do some stuff\r\n    }\r\n\r\nI know the above code doesn&#39;t do anything, it&#39;s just to demonstrate roughly what I am trying to achieve.\r\n\r\nAlso, just to clarify, the reason I don&#39;t want to use a simple loop is because this code will currently go inside a loop that is inside a loop which is inside a loop. For readability I don&#39;t want to keep adding loops to these loops. So I wondered if there were any simple(ish) alternatives.","title":"Java List.contains(Object with field value equal to x)","body":"<p>I want to check whether a <code>List</code> contains an object that has a field with a certain value. Now, I could use a loop to go through and check, but I was curious if there was anything more code efficient. </p>\n\n<p>Something like;</p>\n\n<pre><code>if(list.contains(new Object().setName(\"John\"))){\n    //Do some stuff\n}\n</code></pre>\n\n<p>I know the above code doesn't do anything, it's just to demonstrate roughly what I am trying to achieve.</p>\n\n<p>Also, just to clarify, the reason I don't want to use a simple loop is because this code will currently go inside a loop that is inside a loop which is inside a loop. For readability I don't want to keep adding loops to these loops. So I wondered if there were any simple(ish) alternatives.</p>\n"},{"tags":["java","azure","azure-active-directory","azure-functions","azure-appservice"],"answers":[{"tags":[],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684724506,"creation_date":1684724506,"answer_id":76302809,"question_id":76301186,"body_markdown":"In my case, I didn&#39;t have Managed Identity turned on for the Api Function (and App Service which will inherit Api Function&#39;s Managed Identity)\r\n\r\n 1. To turn this on you need to navigate through the sidebar to Identity\r\n\r\n    &lt;img src=&quot;https://i.stack.imgur.com/YUfAo.png&quot; height=&quot;400&quot; /&gt;\r\n 2. Then you need to turn System Assigned status On\r\n    &lt;img src=&quot;https://i.stack.imgur.com/6bDRX.png&quot; height=&quot;300&quot; /&gt;\r\n 3. Then you need to assign the required role which was &quot;Storage Blob Data Contributor&quot;\r\n    &lt;img src=&quot;https://i.stack.imgur.com/5G3qy.png&quot; height=&quot;300&quot; /&gt;\r\n\r\nCaution: I added &quot;Contributor&quot; role instead of &quot;Storage Blob Data Contributor&quot; which didn&#39;t worked and gave me 403. My thinking here was it will be more superior role but didn&#39;t work that way.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9HwVb.png","title":"How to save a file to Azure Storage Account through App Service?","body":"<p>In my case, I didn't have Managed Identity turned on for the Api Function (and App Service which will inherit Api Function's Managed Identity)</p>\n<ol>\n<li><p>To turn this on you need to navigate through the sidebar to Identity</p>\n<img src=\"https://i.stack.imgur.com/YUfAo.png\" height=\"400\" />\n</li>\n<li><p>Then you need to turn System Assigned status On\n<img src=\"https://i.stack.imgur.com/6bDRX.png\" height=\"300\" /></p>\n</li>\n<li><p>Then you need to assign the required role which was &quot;Storage Blob Data Contributor&quot;\n<img src=\"https://i.stack.imgur.com/5G3qy.png\" height=\"300\" /></p>\n</li>\n</ol>\n<p>Caution: I added &quot;Contributor&quot; role instead of &quot;Storage Blob Data Contributor&quot; which didn't worked and gave me 403. My thinking here was it will be more superior role but didn't work that way.\n<a href=\"https://i.stack.imgur.com/9HwVb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HwVb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684724506,"creation_date":1684691262,"question_id":76301186,"body_markdown":"I am new to Azure. What I am **trying to do is upload a file to Azure Storage Account** from  a **spring boot** application running inside a **Azure App Function** (using **Azure App Service**)?\r\n\r\nThe **code** I am using **to get the Azure Credentials**\r\n```java\r\nDefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n```\r\n\r\nbut this code throws **exception**:\r\n\r\n```text\r\nResult: Failure Exception: CredentialUnavailableException: EnvironmentCredential authentication unavailable. \r\nEnvironment variables are not fully configured.To mitigate this issue, please refer to the troubleshooting \r\nguidelines here at https://aka.ms/azsdk/java/identity/environmentcredential/troubleshoot Managed Identity \r\nauthentication is not available. SharedTokenCacheCredential authentication unavailable. No accounts were \r\nfound in the cache. IntelliJ Authentication not available. Please log in with Azure Tools for IntelliJ plugin \r\nin the IDE. AzureCliCredential authentication unavailable. Azure CLI not installed.To mitigate this issue, \r\nplease refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/azclicredential/troubleshoot \r\nAzure PowerShell authentication failed using defaultpowershell(pwsh) with following error: Unable to execute \r\nPowerShell. Please make sure that it is installed in your system. Azure PowerShell authentication failed using powershell-core(powershell) with following error: Encountered error when deserializing response from Azure Power Shell.To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azure-identity-java-default-azure-credential-troubleshoot Stack: java.lang.reflect.InvocationTargetException at\r\n```\r\n\r\nIf I try to run this **locally then there is no problem**, but **in the Azure App Service it throws this error**. \r\n\r\nCan anybody help me regarding adding the right code to get the credentials?","title":"How to save a file to Azure Storage Account through App Service?","body":"<p>I am new to Azure. What I am <strong>trying to do is upload a file to Azure Storage Account</strong> from  a <strong>spring boot</strong> application running inside a <strong>Azure App Function</strong> (using <strong>Azure App Service</strong>)?</p>\n<p>The <strong>code</strong> I am using <strong>to get the Azure Credentials</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\n</code></pre>\n<p>but this code throws <strong>exception</strong>:</p>\n<pre><code>Result: Failure Exception: CredentialUnavailableException: EnvironmentCredential authentication unavailable. \nEnvironment variables are not fully configured.To mitigate this issue, please refer to the troubleshooting \nguidelines here at https://aka.ms/azsdk/java/identity/environmentcredential/troubleshoot Managed Identity \nauthentication is not available. SharedTokenCacheCredential authentication unavailable. No accounts were \nfound in the cache. IntelliJ Authentication not available. Please log in with Azure Tools for IntelliJ plugin \nin the IDE. AzureCliCredential authentication unavailable. Azure CLI not installed.To mitigate this issue, \nplease refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/azclicredential/troubleshoot \nAzure PowerShell authentication failed using defaultpowershell(pwsh) with following error: Unable to execute \nPowerShell. Please make sure that it is installed in your system. Azure PowerShell authentication failed using powershell-core(powershell) with following error: Encountered error when deserializing response from Azure Power Shell.To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azure-identity-java-default-azure-credential-troubleshoot Stack: java.lang.reflect.InvocationTargetException at\n</code></pre>\n<p>If I try to run this <strong>locally then there is no problem</strong>, but <strong>in the Azure App Service it throws this error</strong>.</p>\n<p>Can anybody help me regarding adding the right code to get the credentials?</p>\n"},{"tags":["java","maven","karate","cucumber-java","web-api-testing"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1684735651,"post_id":76302750,"comment_id":134554496,"body_markdown":"we don&#39;t support old versions of karate so please upgrade. the linked Q&amp;A shows someone successfully running karate on maven + eclipse","body":"we don&#39;t support old versions of karate so please upgrade. the linked Q&amp;A shows someone successfully running karate on maven + eclipse"}],"owner":{"account_id":1472673,"reputation":33,"user_id":1383816,"accept_rate":20,"display_name":"sampath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684729493,"answer_count":0,"score":1,"last_activity_date":1684723239,"creation_date":1684723239,"question_id":76302750,"body_markdown":"Am unable to execute Karate Feature file. What am missing?\r\nAm using Eclipse IDE and trying to execute the feature file as &quot;Run As&quot; &gt;&gt; &quot;Cucumber Feature&quot;\r\n\r\nI have followed below methods but nothing is able to resolve the below error:\r\n\r\n**Method 1:**\r\nGo to Project Properties &gt;&gt; Java compiler &gt;&gt; Compiler &gt;&gt; JDK compliance level and modify to Java SE - 1.8\r\nModify to 1.7, 1.8, 14, 15 and checked\r\n\r\n**Method 2:**\r\nGo to Preferences &gt;&gt; Java &gt;&gt; Installed JREs and Preferences &gt;&gt; Java &gt;&gt; Installed JREs &gt;&gt; Execution Environments\r\nModify to JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15\r\n\r\n**Method 3:**\r\nGo to Run Configurations &gt;&gt; Runtime JRE &gt;&gt; Execution environment &gt;&gt; JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15.\r\n\r\n\r\nI have tried above 3 methods but still am receiving error as &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror\r\n\r\n\r\n**pom.xml:**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n \r\n    &lt;groupId&gt;org.sam.kdsl.pract&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n        &lt;!--&lt;maven.surefire.version&gt;2.22.2&lt;/maven.surefire.version&gt;--&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M1&lt;/maven.surefire.version&gt;      \r\n        &lt;karate.version&gt;0.9.5&lt;/karate.version&gt;\r\n    &lt;/properties&gt;    \r\n\r\n    &lt;dependencies&gt;         \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${karate.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${karate.version}&lt;/version&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    &lt;version&gt;7.12.0&lt;/version&gt;\r\n  &lt;/dependency&gt;     \t\t\r\n        \t\t\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;          \r\n        &lt;/plugins&gt;        \r\n    &lt;/build&gt;       \r\n    \r\n&lt;/project&gt;\r\n```\r\n\r\n**Java version**\r\n```\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;echo %JAVA_HOME%\r\nC:\\Program Files\\Java\\jdk1.8.0_261\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\r\n```\r\n\r\n**Maven version**\r\n\r\n```\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;mvn --version\r\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\nMaven home: C:\\maven\\apache-maven-3.6.3\\bin\\..\r\nJava version: 1.8.0_261, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_261\\jre\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\r\n```\r\n\r\n**Error captured from Eclipse IDE Console**\r\n```\r\n\r\ncommand: J:/My Drive/API/Karate-DSL/kdsl/myproject/src/test/java/examples/users/users.feature --glue classpath: --plugin pretty --monochrome\r\n21:01:45.065 [main] INFO  com.intuit.karate.Runner - waiting for parallel features to complete ...\r\nKarate version: 0.9.5\r\n======================================================\r\nelapsed:   0.03 | threads:    1 | thread time: 0.00 \r\nfeatures:     0 | ignored:    0 | efficiency: 0.00\r\nscenarios:    0 | passed:     0 | failed: 0\r\n======================================================\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror\r\n\tat com.intuit.karate.JsonUtils.&lt;clinit&gt;(JsonUtils.java:108)\r\n\tat com.intuit.karate.core.Engine.saveStatsJson(Engine.java:439)\r\n\tat com.intuit.karate.Runner.parallel(Runner.java:356)\r\n\tat com.intuit.karate.Runner$Builder.parallel(Runner.java:181)\r\n\tat com.intuit.karate.cli.Main.main(Main.java:66)\r\n\tat cucumber.api.cli.Main.main(Main.java:34)\r\nCaused by: java.lang.ClassNotFoundException: jdk.nashorn.api.scripting.ScriptObjectMirror\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 6 more\r\n```\r\n\r\n**Feature file**\r\n```\r\nFeature: sample karate test script\r\n  for help, see: https://github.com/karatelabs/karate/wiki/IDE-Support\r\n\r\n  Background:\r\n    * url &#39;https://jsonplaceholder.typicode.com&#39;\r\n\r\n  Scenario: get all users and then get the first user by id\r\n    Given path &#39;users&#39;\r\n    When method get\r\n    Then status 200\r\n\r\n    * def first = response[0]\r\n\r\n    Given path &#39;users&#39;, first.id\r\n    When method get\r\n    Then status 200\r\n\r\n  Scenario: create a user and then get it by id\r\n    * def user =\r\n      &quot;&quot;&quot;\r\n      {\r\n        &quot;name&quot;: &quot;Test User&quot;,\r\n        &quot;username&quot;: &quot;testuser&quot;,\r\n        &quot;email&quot;: &quot;test@user.com&quot;,\r\n        &quot;address&quot;: {\r\n          &quot;street&quot;: &quot;Has No Name&quot;,\r\n          &quot;suite&quot;: &quot;Apt. 123&quot;,\r\n          &quot;city&quot;: &quot;Electri&quot;,\r\n          &quot;zipcode&quot;: &quot;54321-6789&quot;\r\n        }\r\n      }\r\n      &quot;&quot;&quot;\r\n\r\n    Given url &#39;https://jsonplaceholder.typicode.com/users&#39;\r\n    And request user\r\n    When method post\r\n    Then status 201\r\n\r\n    * def id = response.id\r\n    * print &#39;created id is: &#39;, id\r\n\r\n    Given path id\r\n    # When method get\r\n    # Then status 200\r\n    # And match response contains user\r\n  \r\n```","title":"Not able to execute Karate Feature file on windows 10","body":"<p>Am unable to execute Karate Feature file. What am missing?\nAm using Eclipse IDE and trying to execute the feature file as &quot;Run As&quot; &gt;&gt; &quot;Cucumber Feature&quot;</p>\n<p>I have followed below methods but nothing is able to resolve the below error:</p>\n<p><strong>Method 1:</strong>\nGo to Project Properties &gt;&gt; Java compiler &gt;&gt; Compiler &gt;&gt; JDK compliance level and modify to Java SE - 1.8\nModify to 1.7, 1.8, 14, 15 and checked</p>\n<p><strong>Method 2:</strong>\nGo to Preferences &gt;&gt; Java &gt;&gt; Installed JREs and Preferences &gt;&gt; Java &gt;&gt; Installed JREs &gt;&gt; Execution Environments\nModify to JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15</p>\n<p><strong>Method 3:</strong>\nGo to Run Configurations &gt;&gt; Runtime JRE &gt;&gt; Execution environment &gt;&gt; JAVASE-1.7, JAVASE-1.8, JAVASE-14, JAVASE-15.</p>\n<p>I have tried above 3 methods but still am receiving error as &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n    &lt;groupId&gt;org.sam.kdsl.pract&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n        &lt;!--&lt;maven.surefire.version&gt;2.22.2&lt;/maven.surefire.version&gt;--&gt;\n        &lt;maven.surefire.version&gt;3.0.0-M1&lt;/maven.surefire.version&gt;      \n        &lt;karate.version&gt;0.9.5&lt;/karate.version&gt;\n    &lt;/properties&gt;    \n\n    &lt;dependencies&gt;         \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${karate.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n        &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\n        &lt;version&gt;${karate.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n   &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;7.12.0&lt;/version&gt;\n  &lt;/dependency&gt;             \n                \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Werror&lt;/compilerArgument&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;          \n        &lt;/plugins&gt;        \n    &lt;/build&gt;       \n    \n&lt;/project&gt;\n</code></pre>\n<p><strong>Java version</strong></p>\n<pre><code>J:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.8.0_261\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\n</code></pre>\n<p><strong>Maven version</strong></p>\n<pre><code>J:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;mvn --version\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: C:\\maven\\apache-maven-3.6.3\\bin\\..\nJava version: 1.8.0_261, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_261\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n\nJ:\\My Drive\\API\\Karate-DSL\\karate-dsl1&gt;\n</code></pre>\n<p><strong>Error captured from Eclipse IDE Console</strong></p>\n<pre><code>\ncommand: J:/My Drive/API/Karate-DSL/kdsl/myproject/src/test/java/examples/users/users.feature --glue classpath: --plugin pretty --monochrome\n21:01:45.065 [main] INFO  com.intuit.karate.Runner - waiting for parallel features to complete ...\nKarate version: 0.9.5\n======================================================\nelapsed:   0.03 | threads:    1 | thread time: 0.00 \nfeatures:     0 | ignored:    0 | efficiency: 0.00\nscenarios:    0 | passed:     0 | failed: 0\n======================================================\n\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/ScriptObjectMirror\n    at com.intuit.karate.JsonUtils.&lt;clinit&gt;(JsonUtils.java:108)\n    at com.intuit.karate.core.Engine.saveStatsJson(Engine.java:439)\n    at com.intuit.karate.Runner.parallel(Runner.java:356)\n    at com.intuit.karate.Runner$Builder.parallel(Runner.java:181)\n    at com.intuit.karate.cli.Main.main(Main.java:66)\n    at cucumber.api.cli.Main.main(Main.java:34)\nCaused by: java.lang.ClassNotFoundException: jdk.nashorn.api.scripting.ScriptObjectMirror\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 6 more\n</code></pre>\n<p><strong>Feature file</strong></p>\n<pre><code>Feature: sample karate test script\n  for help, see: https://github.com/karatelabs/karate/wiki/IDE-Support\n\n  Background:\n    * url 'https://jsonplaceholder.typicode.com'\n\n  Scenario: get all users and then get the first user by id\n    Given path 'users'\n    When method get\n    Then status 200\n\n    * def first = response[0]\n\n    Given path 'users', first.id\n    When method get\n    Then status 200\n\n  Scenario: create a user and then get it by id\n    * def user =\n      &quot;&quot;&quot;\n      {\n        &quot;name&quot;: &quot;Test User&quot;,\n        &quot;username&quot;: &quot;testuser&quot;,\n        &quot;email&quot;: &quot;test@user.com&quot;,\n        &quot;address&quot;: {\n          &quot;street&quot;: &quot;Has No Name&quot;,\n          &quot;suite&quot;: &quot;Apt. 123&quot;,\n          &quot;city&quot;: &quot;Electri&quot;,\n          &quot;zipcode&quot;: &quot;54321-6789&quot;\n        }\n      }\n      &quot;&quot;&quot;\n\n    Given url 'https://jsonplaceholder.typicode.com/users'\n    And request user\n    When method post\n    Then status 201\n\n    * def id = response.id\n    * print 'created id is: ', id\n\n    Given path id\n    # When method get\n    # Then status 200\n    # And match response contains user\n  \n</code></pre>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"score":0,"creation_date":1491196398,"post_id":43171988,"comment_id":73427294,"body_markdown":"Can you please explain why won&#39;t use your driver as static?","body":"Can you please explain why won&#39;t use your driver as static?"}],"answers":[{"comments":[{"owner":{"account_id":4417825,"reputation":1,"user_id":3598844,"display_name":"user3598844"},"score":0,"creation_date":1491160855,"post_id":43172323,"comment_id":73419024,"body_markdown":"I need to initialize it without declaring it as **Static** . Thanks","body":"I need to initialize it without declaring it as <b>Static</b> . Thanks"},{"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"score":0,"creation_date":1491185265,"post_id":43172323,"comment_id":73424922,"body_markdown":"Updated my answer by removing static keyword of driver object, please verify and let me know if you have any queries","body":"Updated my answer by removing static keyword of driver object, please verify and let me know if you have any queries"},{"owner":{"account_id":4417825,"reputation":1,"user_id":3598844,"display_name":"user3598844"},"score":0,"creation_date":1491243461,"post_id":43172323,"comment_id":73456185,"body_markdown":"-Thanks.It work in this way but is it good practice to write the whole logic for initializing the webdriver instance inside constructor of Base class . How can i use annotation or if i need to perform some more action after initializing the driver.","body":"-Thanks.It work in this way but is it good practice to write the whole logic for initializing the webdriver instance inside constructor of Base class . How can i use annotation or if i need to perform some more action after initializing the driver."}],"tags":[],"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491185207,"creation_date":1491159703,"answer_id":43172323,"question_id":43171988,"body_markdown":"Initialize web driver in base class constructor and extend Base class in Test class then assign driver to Base.driver.\r\n\r\nTry below code\r\n\r\n**Base Class:**\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class Base \r\n    {\r\n    public WebDriver driver;\r\n\r\n    public Base(){\r\n    \tdriver = new ChromeDriver();\r\n    }\r\n    }\r\n\r\n\r\n**UseFunction class:**\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    public class useFunction\r\n     {\r\n\t     WebDriver driver;\r\n\r\n      public useFunction(WebDriver driver)\r\n      {\r\n        this.driver = driver;\r\n      }\r\n\r\n      public void func1()\r\n      {\r\n        driver.findElement(By.id(&quot;id of the element&quot;)).click(); \r\n      }\r\n      }\r\n**Test1 class:**\r\n\r\n    import org.testng.annotations.Test;\r\n\r\n    public class Test1{\r\n\r\n\t@Test\r\n\tpublic void testMethod1()\r\n\t{\r\n\t\tBase base = new Base();\r\n\t\tuseFunction funObj = new useFunction(base.driver);\r\n\t\tfunObj.func1(); \r\n\r\n\t}\r\n    }\r\n\r\nTry it and let me know if it works for you\r\n","title":"How to use the initialized Webdriver instance from Base class to child class java","body":"<p>Initialize web driver in base class constructor and extend Base class in Test class then assign driver to Base.driver.</p>\n\n<p>Try below code</p>\n\n<p><strong>Base Class:</strong></p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Base \n{\npublic WebDriver driver;\n\npublic Base(){\n    driver = new ChromeDriver();\n}\n}\n</code></pre>\n\n<p><strong>UseFunction class:</strong></p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class useFunction\n {\n     WebDriver driver;\n\n  public useFunction(WebDriver driver)\n  {\n    this.driver = driver;\n  }\n\n  public void func1()\n  {\n    driver.findElement(By.id(\"id of the element\")).click(); \n  }\n  }\n</code></pre>\n\n<p><strong>Test1 class:</strong></p>\n\n<pre><code>import org.testng.annotations.Test;\n\npublic class Test1{\n\n@Test\npublic void testMethod1()\n{\n    Base base = new Base();\n    useFunction funObj = new useFunction(base.driver);\n    funObj.func1(); \n\n}\n}\n</code></pre>\n\n<p>Try it and let me know if it works for you</p>\n"},{"tags":[],"owner":{"account_id":26153184,"reputation":1,"user_id":19840815,"display_name":"Nitin Navadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684720973,"creation_date":1684439274,"answer_id":76284009,"question_id":43171988,"body_markdown":"\r\n```\r\npublic WebDriver Base() {\r\n\r\n  WebDriverManager.edgedriver().setup(); //Change for Chrome.\r\n\r\n\tEdgeOptions options = new EdgeOptions();\r\n\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\r\n\tWebDriver ed = new EdgeDriver(options);\r\n\ted.manage().window().maximize();\r\n\ted.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\r\n\treturn ed;\r\n}\r\n```\r\n\r\nTest1:\r\n\r\n```\r\npublic class Test1 extends Base {\r\n\r\n\tpublic void Test1_TestNG() throws InterruptedException {\r\n\r\n\t\tWebDriver ed = Base();\r\n\t\ted.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t}\t\r\n}\r\n```\r\nNow you can use &quot;ed&quot; WebDriver for any methods (OR) further Web Based automation, by simply calling &quot;ed&quot; WebDriver.","title":"How to use the initialized Webdriver instance from Base class to child class java","body":"<pre><code>public WebDriver Base() {\n\n  WebDriverManager.edgedriver().setup(); //Change for Chrome.\n\n    EdgeOptions options = new EdgeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\n\n    WebDriver ed = new EdgeDriver(options);\n    ed.manage().window().maximize();\n    ed.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n\n    return ed;\n}\n</code></pre>\n<p>Test1:</p>\n<pre><code>public class Test1 extends Base {\n\n    public void Test1_TestNG() throws InterruptedException {\n\n        WebDriver ed = Base();\n        ed.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n    }   \n}\n</code></pre>\n<p>Now you can use &quot;ed&quot; WebDriver for any methods (OR) further Web Based automation, by simply calling &quot;ed&quot; WebDriver.</p>\n"}],"owner":{"account_id":4417825,"reputation":1,"user_id":3598844,"display_name":"user3598844"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6867,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684720973,"creation_date":1491157645,"question_id":43171988,"body_markdown":"    public class Base \r\n    {\r\n        public WebDriver driver;\r\n        \r\n        @BeforeMethod \r\n        public void setUp()\r\n        {\r\n            driver = new FirefoxDriver();\r\n        }\r\n    \r\n    }\r\n    \r\n    public class useFunction extends Base\r\n    {\r\n       \r\n        public useFunction(WebDriver driver)\r\n        {\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public void func1()\r\n        {\r\n            driver.findElement().click();  //driver is null\r\n            --------\r\n            ---------\r\n        }\r\n    }\r\n    \r\n    Public class Test extends Base\r\n    {\r\n        useFunction funObj = new useFunction(driver);\r\n        @Test\r\n        public void testMethod1()\r\n       {\r\n           funObj.func1();\r\n           ----\r\n           ------ \r\n         \r\n      }\r\n    }\r\n\r\n**How can i use the initialized value of WebDriver instance in `UseFunction class` without declaring the Webdriver instance as static.** When i pass the driver in constructor of `UseFunction class` while creating its object inside `Test class`, getting Null Pointer Exception","title":"How to use the initialized Webdriver instance from Base class to child class java","body":"<pre><code>public class Base \n{\n    public WebDriver driver;\n\n    @BeforeMethod \n    public void setUp()\n    {\n        driver = new FirefoxDriver();\n    }\n\n}\n\npublic class useFunction extends Base\n{\n\n    public useFunction(WebDriver driver)\n    {\n        this.driver = driver;\n    }\n\n    public void func1()\n    {\n        driver.findElement().click();  //driver is null\n        --------\n        ---------\n    }\n}\n\nPublic class Test extends Base\n{\n    useFunction funObj = new useFunction(driver);\n    @Test\n    public void testMethod1()\n   {\n       funObj.func1();\n       ----\n       ------ \n\n  }\n}\n</code></pre>\n\n<p><strong>How can i use the initialized value of WebDriver instance in <code>UseFunction class</code> without declaring the Webdriver instance as static.</strong> When i pass the driver in constructor of <code>UseFunction class</code> while creating its object inside <code>Test class</code>, getting Null Pointer Exception</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","lazy-loading"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684740243,"post_id":76302636,"comment_id":134555276,"body_markdown":"server side rendering only applies to the HTML not the images. Those are still downloaded by the browser after is receives the HTML. But I would suggest to reconsider rendering a page with all your projects, instead use pages and render say 50 and include a search box to limit the ones you want to view.","body":"server side rendering only applies to the HTML not the images. Those are still downloaded by the browser after is receives the HTML. But I would suggest to reconsider rendering a page with all your projects, instead use pages and render say 50 and include a search box to limit the ones you want to view."}],"owner":{"account_id":15525089,"reputation":99,"user_id":11200149,"display_name":"NoobSailboat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684720541,"creation_date":1684720541,"question_id":76302636,"body_markdown":"**TLDR: I store *images* on a server with their *location* as a string on the *DB*. How can I *lazy* load these images in a *Thymeleaf* HTML page if I have a lot of images? How I access my images: `&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;`**\r\n\r\nI understand lazy loading when it comes to something like: `@OneToMany(fetch = FetchType.LAZY, mappedBy=&quot;...&quot;, cascade=...)`. If you have a Restaurant then you may want to lazy load Reviews. My question is a bit different.\r\n\r\nI have a model `Project(id, name, description, imagePath, ...)` with a MySQL table associated with it. Images are stored in the local directory/server directory and the location of the image is stored on the Project table as a string. I then use `&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;` in Thymeleaf to display the image in the browser.\r\n\r\nThese Projects are added as a `List&lt;Project&gt;` to the Model. `model.addAttribute(&quot;projects&quot;, projectRepository.findAll());` Then in Thymeleaf I loop over the `projects` object and display each `project`. \r\n\r\nBasic HTML/Thymeleaf:\r\n``` \r\n\t&lt;div th:each=&quot;project : ${projects}&quot; class=&quot;col&quot;&gt;\r\n\t\t&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;\t\r\n\t\t&lt;h1 th:text=&quot;${project.name}&quot;&gt;&lt;/h1&gt;\r\n\t\t&lt;p class=&quot;project-description-text&quot; th:text=&quot;${project.description}&quot;&gt;&lt;/p&gt;\t\t\t\t\t\r\n\t&lt;/div&gt; \r\n```\r\n\r\nIf I have 500+ **projects** with their own corresponding **images** that will take a lot of time to load the page and the user won&#39;t see the first images on their screen let alone the ones they have to scroll for without waiting too long. I know separate the projects by pages, but is there a way to just load the images as the user scrolls down. \r\n\r\nI&#39;ve read about [loading=&quot;lazy&quot;][1]. I could understand that may work if my &lt;img&gt; tag src was a link tag to another page, **but will *loading=&quot;lazy&quot;* work with *server-side rendering* as the one Thymeleaf does and *the way I store my images*?** What could be a possible solution for my case?\r\n\r\nThank you! &lt;3\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading","title":"Lazy Load Images using Spring Boot &amp; Thymeleaf","body":"<p><strong>TLDR: I store <em>images</em> on a server with their <em>location</em> as a string on the <em>DB</em>. How can I <em>lazy</em> load these images in a <em>Thymeleaf</em> HTML page if I have a lot of images? How I access my images: <code>&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;</code></strong></p>\n<p>I understand lazy loading when it comes to something like: <code>@OneToMany(fetch = FetchType.LAZY, mappedBy=&quot;...&quot;, cascade=...)</code>. If you have a Restaurant then you may want to lazy load Reviews. My question is a bit different.</p>\n<p>I have a model <code>Project(id, name, description, imagePath, ...)</code> with a MySQL table associated with it. Images are stored in the local directory/server directory and the location of the image is stored on the Project table as a string. I then use <code>&lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;</code> in Thymeleaf to display the image in the browser.</p>\n<p>These Projects are added as a <code>List&lt;Project&gt;</code> to the Model. <code>model.addAttribute(&quot;projects&quot;, projectRepository.findAll());</code> Then in Thymeleaf I loop over the <code>projects</code> object and display each <code>project</code>.</p>\n<p>Basic HTML/Thymeleaf:</p>\n<pre><code>    &lt;div th:each=&quot;project : ${projects}&quot; class=&quot;col&quot;&gt;\n        &lt;img th:src=&quot;@{${project.imagePath}}&quot;&gt;  \n        &lt;h1 th:text=&quot;${project.name}&quot;&gt;&lt;/h1&gt;\n        &lt;p class=&quot;project-description-text&quot; th:text=&quot;${project.description}&quot;&gt;&lt;/p&gt;                   \n    &lt;/div&gt; \n</code></pre>\n<p>If I have 500+ <strong>projects</strong> with their own corresponding <strong>images</strong> that will take a lot of time to load the page and the user won't see the first images on their screen let alone the ones they have to scroll for without waiting too long. I know separate the projects by pages, but is there a way to just load the images as the user scrolls down.</p>\n<p>I've read about <a href=\"https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading\" rel=\"nofollow noreferrer\">loading=&quot;lazy&quot;</a>. I could understand that may work if my  tag src was a link tag to another page, <strong>but will <em>loading=&quot;lazy&quot;</em> work with <em>server-side rendering</em> as the one Thymeleaf does and <em>the way I store my images</em>?</strong> What could be a possible solution for my case?</p>\n<p>Thank you! &lt;3</p>\n"},{"tags":["java","spring","unit-testing","spring-cloud-contract"],"answers":[{"comments":[{"owner":{"account_id":3775646,"reputation":133,"user_id":3136557,"display_name":"Roman Maksimenko"},"score":0,"creation_date":1649767114,"post_id":71830022,"comment_id":126954981,"body_markdown":"Thank&#39;s. spring.cloud.contract.verifier.assert.size works for check size but we have a problem with &quot;cross values&quot; when ckeck an arrays. The test in my example will pass also for {id:1, name:User2} and {id:2, name:User1}","body":"Thank&#39;s. spring.cloud.contract.verifier.assert.size works for check size but we have a problem with &quot;cross values&quot; when ckeck an arrays. The test in my example will pass also for {id:1, name:User2} and {id:2, name:User1}"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1649833950,"post_id":71830022,"comment_id":126972843,"body_markdown":"That&#39;s an experimental feature so if you have any feedback about things not working you can file an issue","body":"That&#39;s an experimental feature so if you have any feedback about things not working you can file an issue"}],"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649689068,"creation_date":1649689068,"answer_id":71830022,"question_id":71754132,"body_markdown":"You can turn on the array size check. Check the docs https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#contract-limitations . For your convenience I&#39;m copying the part of the docs\r\n\r\n&gt;  The support for verifying the size of JSON arrays is experimental. If you want to turn it on, set the value of the following system property to true: spring.cloud.contract.verifier.assert.size. By default, this feature is set to false. You can also set the assertJsonSize property in the plugin configuration. ","title":"Spring Cloud Contract generates weak tests using bodyFromFile in contract file","body":"<p>You can turn on the array size check. Check the docs <a href=\"https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#contract-limitations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-contract/docs/current/reference/html/project-features.html#contract-limitations</a> . For your convenience I'm copying the part of the docs</p>\n<blockquote>\n<p>The support for verifying the size of JSON arrays is experimental. If you want to turn it on, set the value of the following system property to true: spring.cloud.contract.verifier.assert.size. By default, this feature is set to false. You can also set the assertJsonSize property in the plugin configuration.</p>\n</blockquote>\n"}],"owner":{"account_id":3775646,"reputation":133,"user_id":3136557,"display_name":"Roman Maksimenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684719716,"creation_date":1649171056,"question_id":71754132,"body_markdown":"I try to implement simple contract for `get users` REST Endpoit. I expect that Spring Cloud Contract generates test whitch checks json response more strongly. Can anyone know how to configure test generator?  \r\nMy contract `yaml` file here:\r\n```description: |\r\n  Get Users contract\r\nrequest:\r\n  method: GET\r\n  url: /users\r\n  headers:\r\n    Content-Type: application/json\r\nresponse:\r\n  status: 200\r\n  bodyFromFile: get_users_response.json\r\n  headers:\r\n    Content-Type: application/json\r\n```\r\nand `get_users_response.json`:\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;User1&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;User2&quot;\r\n  }\r\n]\r\n```\r\nSpring Cloud Contract generates:\r\n```\r\n...\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;id&#39;]&quot;).isEqualTo(1);\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;name&#39;]&quot;).isEqualTo(&quot;User1&quot;);\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;id&#39;]&quot;).isEqualTo(2);\r\nassertThatJson(parsedJson).array().contains(&quot;[&#39;name&#39;]&quot;).isEqualTo(&quot;User2&quot;);\r\n...\r\n```\r\nBut I assumed something like this:\r\n```\r\n//check the correspondent element\r\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;[&#39;id&#39;]&quot;).isEqualTo(1);\r\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;[&#39;name&#39;]&quot;).isEqualTo(&quot;&quot;);\r\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;[&#39;id&#39;]&quot;).isEqualTo(2);\r\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;[name&#39;]&quot;).isEqualTo(1);\r\n//and check array size\r\nassertThatJson(parsedJson).array().hasSize(2);\r\n```\r\n","title":"Spring Cloud Contract generates weak tests using bodyFromFile in contract file","body":"<p>I try to implement simple contract for <code>get users</code> REST Endpoit. I expect that Spring Cloud Contract generates test whitch checks json response more strongly. Can anyone know how to configure test generator?<br />\nMy contract <code>yaml</code> file here:</p>\n<pre><code>  Get Users contract\nrequest:\n  method: GET\n  url: /users\n  headers:\n    Content-Type: application/json\nresponse:\n  status: 200\n  bodyFromFile: get_users_response.json\n  headers:\n    Content-Type: application/json\n</code></pre>\n<p>and <code>get_users_response.json</code>:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;User1&quot;\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;User2&quot;\n  }\n]\n</code></pre>\n<p>Spring Cloud Contract generates:</p>\n<pre><code>...\nassertThatJson(parsedJson).array().contains(&quot;['id']&quot;).isEqualTo(1);\nassertThatJson(parsedJson).array().contains(&quot;['name']&quot;).isEqualTo(&quot;User1&quot;);\nassertThatJson(parsedJson).array().contains(&quot;['id']&quot;).isEqualTo(2);\nassertThatJson(parsedJson).array().contains(&quot;['name']&quot;).isEqualTo(&quot;User2&quot;);\n...\n</code></pre>\n<p>But I assumed something like this:</p>\n<pre><code>//check the correspondent element\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;['id']&quot;).isEqualTo(1);\nassertThatJson(parsedJson).elementWithIndex(0).field(&quot;['name']&quot;).isEqualTo(&quot;&quot;);\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;['id']&quot;).isEqualTo(2);\nassertThatJson(parsedJson).elementWithIndex(1).field(&quot;[name']&quot;).isEqualTo(1);\n//and check array size\nassertThatJson(parsedJson).array().hasSize(2);\n</code></pre>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1684697976,"post_id":76301046,"comment_id":134551243,"body_markdown":"note: null layout (along with hard-coding sizes/locationsl is __wrong__","body":"note: null layout (along with hard-coding sizes/locationsl is <b>wrong</b>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1684704935,"post_id":76301046,"comment_id":134551928,"body_markdown":"Why?  So many questions.  How do you intend to display the selected item to the user?  I&#39;d consider starting with just a button and working up a custom solution from there","body":"Why?  So many questions.  How do you intend to display the selected item to the user?  I&#39;d consider starting with just a button and working up a custom solution from there"},{"owner":{"account_id":28648645,"reputation":3,"user_id":21936091,"display_name":"Bufflak"},"score":0,"creation_date":1684706075,"post_id":76301046,"comment_id":134552020,"body_markdown":"@MadProgrammer The selected item will be displayed to the user somewhere else. The reason i didn&#39;t want a custom solution is because i assumed there is an easy way to override either the size of the editor and set it to &quot;0&quot;, or disable it completely.\nI did try to set it&#39;s size by overriding the configureEditor method, but that didn&#39;t help.","body":"@MadProgrammer The selected item will be displayed to the user somewhere else. The reason i didn&#39;t want a custom solution is because i assumed there is an easy way to override either the size of the editor and set it to &quot;0&quot;, or disable it completely. I did try to set it&#39;s size by overriding the configureEditor method, but that didn&#39;t help."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1684706451,"post_id":76301046,"comment_id":134552061,"body_markdown":"Consider the intend of the component.  It&#39;s designed to be a compound component which shows the currently selected &quot;selected item&quot; and provide a means for the user to select a different item, all in a visually compact manner.  It&#39;s a self contained package, so, no I don&#39;t think there&#39;d be an easy way to simply break it - especially when you also add in the UI delegate, which could easily implement the functionality it&#39;s own way.  Personally, I&#39;d just start with a button `[...]` and go from there, but I&#39;d still have questions over it&#39;s usefulness and UX acceptability from the users perspective","body":"Consider the intend of the component.  It&#39;s designed to be a compound component which shows the currently selected &quot;selected item&quot; and provide a means for the user to select a different item, all in a visually compact manner.  It&#39;s a self contained package, so, no I don&#39;t think there&#39;d be an easy way to simply break it - especially when you also add in the UI delegate, which could easily implement the functionality it&#39;s own way.  Personally, I&#39;d just start with a button <code>[...]</code> and go from there, but I&#39;d still have questions over it&#39;s usefulness and UX acceptability from the users perspective"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1684714264,"post_id":76301046,"comment_id":134552699,"body_markdown":"One idea is to use a `JButton` and a [Popup](https://docs.oracle.com/javase/8/docs/api/javax/swing/Popup.html) together.","body":"One idea is to use a <code>JButton</code> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/Popup.html\" rel=\"nofollow noreferrer\">Popup</a> together."}],"answers":[{"comments":[{"owner":{"account_id":28648645,"reputation":3,"user_id":21936091,"display_name":"Bufflak"},"score":0,"creation_date":1684744383,"post_id":76302598,"comment_id":134556142,"body_markdown":"Thank you! I&#39;ll start from this and see if i can make it work almost like a JComboBox.","body":"Thank you! I&#39;ll start from this and see if i can make it work almost like a JComboBox."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1684855201,"post_id":76302598,"comment_id":134576723,"body_markdown":"hmm .. astonished that panel.getWidth returns anything useful before showing (but: too long ago that I really got my hands dirty with swing :). Anyway, instead of setting the pref once I would try to hook into the showing event of the popup and calc the size dynamically (as combo/ui does, afair)","body":"hmm .. astonished that panel.getWidth returns anything useful before showing (but: too long ago that I really got my hands dirty with swing :). Anyway, instead of setting the pref once I would try to hook into the showing event of the popup and calc the size dynamically (as combo/ui does, afair)"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1684879276,"post_id":76302598,"comment_id":134581459,"body_markdown":"@kleopatra: I generate the `Popup` after I show the GUI.  If I was really trying to create this button list component, I&#39;d probably look at the source for a `JComboBox` and see how that&#39;s done.","body":"@kleopatra: I generate the <code>Popup</code> after I show the GUI.  If I was really trying to create this button list component, I&#39;d probably look at the source for a <code>JComboBox</code> and see how that&#39;s done."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1684917948,"post_id":76302598,"comment_id":134586150,"body_markdown":"you are right, you do create it after showing - my bad ;)","body":"you are right, you do create it after showing - my bad ;)"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684719305,"creation_date":1684719305,"answer_id":76302598,"question_id":76301046,"body_markdown":"I created the following GUI using a `JButton` and a `Popup` from the `PopupFactory`.\r\n\r\n[![Example][1]][1]\r\n\r\nThere&#39;s a `JLabel` at the top to show the selection and a `JButton` to show the item options.  Unfortunately, I couldn&#39;t print the GUI when the item list is displayed.\r\n\r\nWhen you left-click the `JButton`, the list of items appear under the `JButton`.  When you select an item, the list disappears and the selected item is displayed.\r\n\r\nThis is a proof of concept.  You would need to add code to hide the list when the Esc key is pressed to cancel the list, as one example.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Point;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.Popup;\r\n    import javax.swing.PopupFactory;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ItemSelectorExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ItemSelectorExample());\r\n    \t}\r\n    \r\n    \tprivate int margin;\r\n    \r\n    \tprivate JButton button;\r\n    \r\n    \tprivate JFrame frame;\r\n    \r\n    \tprivate JLabel label;\r\n    \r\n    \tprivate JPanel buttonPanel;\r\n    \r\n    \tprivate Popup popup;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tthis.margin = 5;\r\n    \r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tthis.buttonPanel = createButtonPanel();\r\n    \t\tframe.add(buttonPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\r\n    \t\t\t\tmargin));\r\n    \r\n    \t\tlabel = new JLabel(&quot; &quot;);\r\n    \t\tpanel.add(label, BorderLayout.NORTH);\r\n    \r\n    \t\tbutton = new JButton(&quot;Items&quot;);\r\n    \t\tbutton.addActionListener(event -&gt; {\r\n    \t\t\tpopup = createItemSelectionPanel();\r\n    \t\t\tpopup.show();\r\n    \t\t});\r\n    \t\tpanel.add(button, BorderLayout.CENTER);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate Popup createItemSelectionPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\r\n    \t\t\t\tmargin));\r\n    \r\n    \t\tString[] items = new String[9];\r\n    \t\tfor (int index = 0; index &lt; items.length; index++) {\r\n    \t\t\titems[index] = &quot;Item &quot; + (index + 1);\r\n    \t\t}\r\n    \r\n    \t\tJList&lt;String&gt; list = new JList&lt;&gt;(items);\r\n    \t\tlist.setVisibleRowCount(4);\r\n    \t\tlist.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \t\tlist.addListSelectionListener(event -&gt; {\r\n    \t\t\tString item = (String) list.getSelectedValue();\r\n    \t\t\tlabel.setText(item);\r\n    \t\t\tpopup.hide();\r\n    \t\t});\r\n    \t\tJScrollPane scrollPane = new JScrollPane(list);\r\n    \t\tDimension sp = scrollPane.getPreferredSize();\r\n    \t\tDimension bp = buttonPanel.getSize();\r\n    \t\tDimension b = button.getPreferredSize();\r\n    \t\tPoint s = button.getLocationOnScreen();\r\n    \r\n    \t\tint width = bp.width - margin - margin;\r\n    \t\tscrollPane.setPreferredSize(new Dimension(width, sp.height));\r\n    \r\n    \t\tPopupFactory factory = PopupFactory.getSharedInstance();\r\n    \t\tPopup popup = factory.getPopup(panel, scrollPane, s.x, s.y + b.height);\r\n    \r\n    \t\treturn popup;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TYfVo.png\r\n","title":"JComboBox how to remove editor","body":"<p>I created the following GUI using a <code>JButton</code> and a <code>Popup</code> from the <code>PopupFactory</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/TYfVo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TYfVo.png\" alt=\"Example\" /></a></p>\n<p>There's a <code>JLabel</code> at the top to show the selection and a <code>JButton</code> to show the item options.  Unfortunately, I couldn't print the GUI when the item list is displayed.</p>\n<p>When you left-click the <code>JButton</code>, the list of items appear under the <code>JButton</code>.  When you select an item, the list disappears and the selected item is displayed.</p>\n<p>This is a proof of concept.  You would need to add code to hide the list when the Esc key is pressed to cancel the list, as one example.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Point;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.Popup;\nimport javax.swing.PopupFactory;\nimport javax.swing.SwingUtilities;\n\npublic class ItemSelectorExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ItemSelectorExample());\n    }\n\n    private int margin;\n\n    private JButton button;\n\n    private JFrame frame;\n\n    private JLabel label;\n\n    private JPanel buttonPanel;\n\n    private Popup popup;\n\n    @Override\n    public void run() {\n        this.margin = 5;\n\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.buttonPanel = createButtonPanel();\n        frame.add(buttonPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\n                margin));\n\n        label = new JLabel(&quot; &quot;);\n        panel.add(label, BorderLayout.NORTH);\n\n        button = new JButton(&quot;Items&quot;);\n        button.addActionListener(event -&gt; {\n            popup = createItemSelectionPanel();\n            popup.show();\n        });\n        panel.add(button, BorderLayout.CENTER);\n\n        return panel;\n    }\n\n    private Popup createItemSelectionPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(margin, margin, margin,\n                margin));\n\n        String[] items = new String[9];\n        for (int index = 0; index &lt; items.length; index++) {\n            items[index] = &quot;Item &quot; + (index + 1);\n        }\n\n        JList&lt;String&gt; list = new JList&lt;&gt;(items);\n        list.setVisibleRowCount(4);\n        list.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        list.addListSelectionListener(event -&gt; {\n            String item = (String) list.getSelectedValue();\n            label.setText(item);\n            popup.hide();\n        });\n        JScrollPane scrollPane = new JScrollPane(list);\n        Dimension sp = scrollPane.getPreferredSize();\n        Dimension bp = buttonPanel.getSize();\n        Dimension b = button.getPreferredSize();\n        Point s = button.getLocationOnScreen();\n\n        int width = bp.width - margin - margin;\n        scrollPane.setPreferredSize(new Dimension(width, sp.height));\n\n        PopupFactory factory = PopupFactory.getSharedInstance();\n        Popup popup = factory.getPopup(panel, scrollPane, s.x, s.y + b.height);\n\n        return popup;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28648645,"reputation":3,"user_id":21936091,"display_name":"Bufflak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76302598,"answer_count":1,"score":-1,"last_activity_date":1684719305,"creation_date":1684689005,"question_id":76301046,"body_markdown":"I want to remove the editor from a JComboBox to make the arrow button span \r\nthe entire width of the box.\r\n\r\nI tried to use a custom ComboBoxUI to set the size and color of the arrow button.\r\nThis partially works, but because i couldn&#39;t figure out how to remove the editor, \r\nthe button is only half the width of the entire box.\r\n\r\n**The main class:**\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\npublic class Box {\r\n\tpublic Box() {\r\n\r\n\t\tJFrame frame = new JFrame(&quot;frame&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(400,250);\r\n\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setLayout(null);\r\n\t\tframe.add(panel);\r\n\r\n\t\tString[] items = { &quot;&quot;, &quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;, &quot;item4&quot; };\r\n\t\tJComboBox&lt;String&gt; box = new JComboBox&lt;&gt;(items);\r\n\t\tbox.setBounds(100,20,200,50);\r\n\t\tUIManager.put(&quot;ComboBox.squareButton&quot;, Boolean.FALSE);\r\n\t\tbox.setUI(new ComboUI());\r\n\t\tbox.setBorder(BorderFactory.createMatteBorder(2,2,2,2, Color.BLACK));\r\n\t\tpanel.add(box);\r\n\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Box();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**And the custom ComboBoxUI:**\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.basic.BasicComboBoxUI;\r\nimport java.awt.*;\r\npublic class ComboUI extends BasicComboBoxUI {\r\n\t\t@Override\r\n\t\tprotected JButton createArrowButton() {\r\n\t\t\tfinal JButton button = new JButton(&quot;Items&quot;);\r\n\t\t\tbutton.setBackground(Color.GRAY);\r\n\t\t\tbutton.setForeground(Color.WHITE);\r\n\t\t\tbutton.setBounds(0,0, 200,40);\r\n\t\t\treturn button;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis code results in this:\r\n\r\nArrow button half the size of combo box&quot;\r\n\r\n[![https://i.stack.imgur.com/vxCd4.png][1]][1]\r\n\r\nWhat i would like instead is this:\r\n\r\nArrow button same size as combo box:\r\n\r\n[![https://i.stack.imgur.com/VsTGv.png][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vxCd4.png\r\n  [2]: https://i.stack.imgur.com/VsTGv.png","title":"JComboBox how to remove editor","body":"<p>I want to remove the editor from a JComboBox to make the arrow button span\nthe entire width of the box.</p>\n<p>I tried to use a custom ComboBoxUI to set the size and color of the arrow button.\nThis partially works, but because i couldn't figure out how to remove the editor,\nthe button is only half the width of the entire box.</p>\n<p><strong>The main class:</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\npublic class Box {\n    public Box() {\n\n        JFrame frame = new JFrame(&quot;frame&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400,250);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(null);\n        frame.add(panel);\n\n        String[] items = { &quot;&quot;, &quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;, &quot;item4&quot; };\n        JComboBox&lt;String&gt; box = new JComboBox&lt;&gt;(items);\n        box.setBounds(100,20,200,50);\n        UIManager.put(&quot;ComboBox.squareButton&quot;, Boolean.FALSE);\n        box.setUI(new ComboUI());\n        box.setBorder(BorderFactory.createMatteBorder(2,2,2,2, Color.BLACK));\n        panel.add(box);\n\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    public static void main(String[] args) {\n        new Box();\n    }\n}\n\n</code></pre>\n<p><strong>And the custom ComboBoxUI:</strong></p>\n<pre><code>import javax.swing.*;\nimport javax.swing.plaf.basic.BasicComboBoxUI;\nimport java.awt.*;\npublic class ComboUI extends BasicComboBoxUI {\n        @Override\n        protected JButton createArrowButton() {\n            final JButton button = new JButton(&quot;Items&quot;);\n            button.setBackground(Color.GRAY);\n            button.setForeground(Color.WHITE);\n            button.setBounds(0,0, 200,40);\n            return button;\n        }\n    }\n</code></pre>\n<p>This code results in this:</p>\n<p>Arrow button half the size of combo box&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/vxCd4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxCd4.png\" alt=\"https://i.stack.imgur.com/vxCd4.png\" /></a></p>\n<p>What i would like instead is this:</p>\n<p>Arrow button same size as combo box:</p>\n<p><a href=\"https://i.stack.imgur.com/VsTGv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VsTGv.png\" alt=\"https://i.stack.imgur.com/VsTGv.png\" /></a></p>\n"},{"tags":["java","swing","jpanel","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1684716332,"post_id":76302467,"comment_id":134552867,"body_markdown":"`JLayeredPane` doesn&#39;t have a layout manager applied by default, so none of the components will be give any kind of sizing (default `0x0`); `File directory = new File(&quot;src/bin/&quot;);` &lt;- Don&#39;t reference `src` in your code, it won&#39;t exist once you export the project.","body":"<code>JLayeredPane</code> doesn&#39;t have a layout manager applied by default, so none of the components will be give any kind of sizing (default <code>0x0</code>); <code>File directory = new File(&quot;src&#47;bin&#47;&quot;);</code> &lt;- Don&#39;t reference <code>src</code> in your code, it won&#39;t exist once you export the project."},{"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"score":0,"creation_date":1684716560,"post_id":76302467,"comment_id":134552886,"body_markdown":"@MadProgrammer when trying to apply a layout manager by doing e.g. `layeredPane.setLayout(new BorderLayout());` I get an error saying `cannot add to layout: constraint must be a string (or null)` which references the second parameter of `layeredPane.add(background, Integer.valueOf(0));`. can you pls explain what you mean by the `src` not existing once i export the project?","body":"@MadProgrammer when trying to apply a layout manager by doing e.g. <code>layeredPane.setLayout(new BorderLayout());</code> I get an error saying <code>cannot add to layout: constraint must be a string (or null)</code> which references the second parameter of <code>layeredPane.add(background, Integer.valueOf(0));</code>. can you pls explain what you mean by the <code>src</code> not existing once i export the project?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684716563,"post_id":76302467,"comment_id":134552887,"body_markdown":"No need to use a JLayeredPane. Just use your BackgroundImage component as the content pane (with a BorderLayout) and add your panel with the CardLayout to the content pane. Of course an component you add to the content pane must use `setOpaque(false)` so you can see the background image. Also the panels you add to the CardLayout must be non-opaque.","body":"No need to use a JLayeredPane. Just use your BackgroundImage component as the content pane (with a BorderLayout) and add your panel with the CardLayout to the content pane. Of course an component you add to the content pane must use <code>setOpaque(false)</code> so you can see the background image. Also the panels you add to the CardLayout must be non-opaque."},{"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"score":0,"creation_date":1684716758,"post_id":76302467,"comment_id":134552899,"body_markdown":"@camickr could you please show me how you would apply your solution in an answer? i tried applying what you wrote which made the background image show up but the JPanel cards are still not showing up. the JPanels still seem to be behind each other","body":"@camickr could you please show me how you would apply your solution in an answer? i tried applying what you wrote which made the background image show up but the JPanel cards are still not showing up. the JPanels still seem to be behind each other"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684716969,"post_id":76302467,"comment_id":134552913,"body_markdown":"@fullstacknoob Yes, then you&#39;d need to use `JLayeredPane#setLayer` instead","body":"@fullstacknoob Yes, then you&#39;d need to use <code>JLayeredPane#setLayer</code> instead"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684718020,"post_id":76302467,"comment_id":134553000,"body_markdown":"Sorry, I can&#39;t help with random lines of code posted. The issue may be in code not provided. Post a proper [mre] demonstrating the problem. We should be able to copy/paste/compile/test. That is why I suggested first getting the code to work without the image, just the background color so we can see if all the panels are added/displayed properly. Also note the &quot;navbar&quot; is not required for an MRE. The point of the MRE is to simplify the problem and get that working. Then you add more logic instead of trying to write all the logic at the start.","body":"Sorry, I can&#39;t help with random lines of code posted. The issue may be in code not provided. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile/test. That is why I suggested first getting the code to work without the image, just the background color so we can see if all the panels are added/displayed properly. Also note the &quot;navbar&quot; is not required for an MRE. The point of the MRE is to simplify the problem and get that working. Then you add more logic instead of trying to write all the logic at the start."}],"answers":[{"comments":[{"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"score":0,"creation_date":1684717643,"post_id":76302510,"comment_id":134552971,"body_markdown":"i edited my question and showed how I applied your solution. the problem unfortunately still persists","body":"i edited my question and showed how I applied your solution. the problem unfortunately still persists"}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684717407,"creation_date":1684716966,"answer_id":76302510,"question_id":76302467,"body_markdown":"Swing has a parent/child relationship. You would have a structure like:\r\n\r\n- frame\r\n    - BackgroundImage (using BorderLayout) as the content pane\r\n        - non opaque panel (using CardLayout)\r\n            - non opaque panel \r\n            - non opaque panel\r\n\r\nBasic solution is:\r\n\r\n    JPanel background = new BackgroundImage();\r\n    background.setBackground( Color.YELLOW );\r\n    background.setLayout( new BorderLayout() );\r\n    frame.setContentPane( background );\r\n    \r\n    JPanel cards = new JPanel( new CardLayout() );\r\n    cards.setOpaque( false );\r\n    background.add( cards );\r\n    \r\n    JPanel card1 = new JPanel();\r\n    card1.add( new JLabel(&quot;Label for first card&quot;) );\r\n    card1.setOpaque( false );\r\n    cards.add(card1, &quot;card1&quot;);\r\n    \r\n    JPanel card2 = new JPanel();\r\n    card2.add( new JLabel(&quot;Label for second card&quot;) );\r\n    card2.setOpaque( false );\r\n    cards.add(card2, &quot;card2&quot;);\r\n\r\nSo first get the above code working so you see the background color of your panel and one of the cards displaying. If you have problems then you can post your code showing exactly what you have done. Once that works, then you replace the basic components with your custom components. If it stops working you know what you just changed. ","title":"Java Swing JLayeredPane not showing CardLayout cards &amp; background image","body":"<p>Swing has a parent/child relationship. You would have a structure like:</p>\n<ul>\n<li>frame\n<ul>\n<li>BackgroundImage (using BorderLayout) as the content pane\n<ul>\n<li>non opaque panel (using CardLayout)\n<ul>\n<li>non opaque panel</li>\n<li>non opaque panel</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Basic solution is:</p>\n<pre><code>JPanel background = new BackgroundImage();\nbackground.setBackground( Color.YELLOW );\nbackground.setLayout( new BorderLayout() );\nframe.setContentPane( background );\n\nJPanel cards = new JPanel( new CardLayout() );\ncards.setOpaque( false );\nbackground.add( cards );\n\nJPanel card1 = new JPanel();\ncard1.add( new JLabel(&quot;Label for first card&quot;) );\ncard1.setOpaque( false );\ncards.add(card1, &quot;card1&quot;);\n\nJPanel card2 = new JPanel();\ncard2.add( new JLabel(&quot;Label for second card&quot;) );\ncard2.setOpaque( false );\ncards.add(card2, &quot;card2&quot;);\n</code></pre>\n<p>So first get the above code working so you see the background color of your panel and one of the cards displaying. If you have problems then you can post your code showing exactly what you have done. Once that works, then you replace the basic components with your custom components. If it stops working you know what you just changed.</p>\n"},{"comments":[{"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"score":0,"creation_date":1684744197,"post_id":76302531,"comment_id":134556096,"body_markdown":"thanks, i applied your second approach and it worked!","body":"thanks, i applied your second approach and it worked!"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684717431,"creation_date":1684717431,"answer_id":76302531,"question_id":76302467,"body_markdown":"If you want to use `JLayeredPane` this way, then you will need to apply a suitable layout manager to it, for example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JLayeredPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Navigatable {\r\n            enum View {\r\n                MENU, CONTENT;\r\n            }\r\n            public void show(View view);\r\n        }\r\n\r\n        public class MainPane extends JPanel implements Navigatable {\r\n\r\n            private JLayeredPane layeredPane;\r\n\r\n            private JPanel contentPane;\r\n            private CardLayout cardLayout;\r\n\r\n            private MenuPane menuPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                layeredPane = new JLayeredPane();\r\n                add(layeredPane);\r\n\r\n                layeredPane.setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                BackgroundPane backgroundPane = new BackgroundPane();\r\n                layeredPane.add(backgroundPane, gbc);\r\n                layeredPane.setLayer(backgroundPane, Integer.valueOf(0));\r\n\r\n                cardLayout = new CardLayout();\r\n                contentPane = new JPanel(cardLayout);\r\n                contentPane.setOpaque(false);\r\n\r\n                layeredPane.add(contentPane, gbc);\r\n                layeredPane.setLayer(contentPane, Integer.valueOf(1));\r\n\r\n                contentPane.add(new MenuPane(this), Navigatable.View.MENU.name());\r\n                JLabel label = new JLabel(&quot;This is the content&quot;);\r\n                label.setHorizontalAlignment(JLabel.CENTER);\r\n                contentPane.add(label, Navigatable.View.CONTENT.name());\r\n            }\r\n\r\n            @Override\r\n            public void show(View view) {\r\n                cardLayout.show(contentPane, view.name());\r\n            }\r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n            public MenuPane(Navigatable navigatable) {\r\n                setOpaque(false);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JButton btn = new JButton(&quot;Show me the content&quot;);\r\n                add(btn);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigatable.show(Navigatable.View.CONTENT);\r\n                    }\r\n                });\r\n            }       \r\n        }\r\n\r\n        public class BackgroundPane extends JPanel {\r\n\r\n            private BufferedImage bgImage;\r\n\r\n            public BackgroundPane() {\r\n                try {\r\n                    bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                if (bgImage != null) {\r\n                    return new Dimension(bgImage.getWidth(), bgImage.getHeight());\r\n                }\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (bgImage == null) {\r\n                    return;\r\n                }\r\n                int x = (getWidth() - bgImage.getWidth()) / 2;\r\n                int y = (getHeight() - bgImage.getHeight()) / 2;\r\n                g.drawImage(bgImage, x, y, this);\r\n            }\r\n        }\r\n    }\r\n\r\nBut, a generally better solution would probably be to make use of the background pane directly, for example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Navigatable {\r\n            enum View {\r\n                MENU, CONTENT;\r\n            }\r\n            public void show(View view);\r\n        }\r\n\r\n        public class MainPane extends JPanel implements Navigatable {\r\n\r\n            private BackgroundPane backgroundPane;\r\n            private CardLayout cardLayout;\r\n\r\n            private MenuPane menuPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                cardLayout = new CardLayout();\r\n                backgroundPane = new BackgroundPane();\r\n                backgroundPane.setLayout(cardLayout);\r\n                add(backgroundPane);\r\n\r\n                backgroundPane.add(new MenuPane(this), Navigatable.View.MENU.name());\r\n                JLabel label = new JLabel(&quot;This is the content&quot;);\r\n                label.setHorizontalAlignment(JLabel.CENTER);\r\n                backgroundPane.add(label, Navigatable.View.CONTENT.name());\r\n            }\r\n\r\n            @Override\r\n            public void show(View view) {\r\n                cardLayout.show(backgroundPane, view.name());\r\n            }\r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n            public MenuPane(Navigatable navigatable) {\r\n                setOpaque(false);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JButton btn = new JButton(&quot;Show me the content&quot;);\r\n                add(btn);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigatable.show(Navigatable.View.CONTENT);\r\n                    }\r\n                });\r\n            }       \r\n        }\r\n\r\n        public class BackgroundPane extends JPanel {\r\n\r\n            private BufferedImage bgImage;\r\n\r\n            public BackgroundPane() {\r\n                try {\r\n                    bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                if (bgImage != null) {\r\n                    return new Dimension(bgImage.getWidth(), bgImage.getHeight());\r\n                }\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (bgImage == null) {\r\n                    return;\r\n                }\r\n                int x = (getWidth() - bgImage.getWidth()) / 2;\r\n                int y = (getHeight() - bgImage.getHeight()) / 2;\r\n                g.drawImage(bgImage, x, y, this);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java Swing JLayeredPane not showing CardLayout cards &amp; background image","body":"<p>If you want to use <code>JLayeredPane</code> this way, then you will need to apply a suitable layout manager to it, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JLayeredPane;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Navigatable {\n        enum View {\n            MENU, CONTENT;\n        }\n        public void show(View view);\n    }\n\n    public class MainPane extends JPanel implements Navigatable {\n\n        private JLayeredPane layeredPane;\n\n        private JPanel contentPane;\n        private CardLayout cardLayout;\n\n        private MenuPane menuPane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            layeredPane = new JLayeredPane();\n            add(layeredPane);\n\n            layeredPane.setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            BackgroundPane backgroundPane = new BackgroundPane();\n            layeredPane.add(backgroundPane, gbc);\n            layeredPane.setLayer(backgroundPane, Integer.valueOf(0));\n\n            cardLayout = new CardLayout();\n            contentPane = new JPanel(cardLayout);\n            contentPane.setOpaque(false);\n\n            layeredPane.add(contentPane, gbc);\n            layeredPane.setLayer(contentPane, Integer.valueOf(1));\n\n            contentPane.add(new MenuPane(this), Navigatable.View.MENU.name());\n            JLabel label = new JLabel(&quot;This is the content&quot;);\n            label.setHorizontalAlignment(JLabel.CENTER);\n            contentPane.add(label, Navigatable.View.CONTENT.name());\n        }\n\n        @Override\n        public void show(View view) {\n            cardLayout.show(contentPane, view.name());\n        }\n    }\n\n    public class MenuPane extends JPanel {\n        public MenuPane(Navigatable navigatable) {\n            setOpaque(false);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JButton btn = new JButton(&quot;Show me the content&quot;);\n            add(btn);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigatable.show(Navigatable.View.CONTENT);\n                }\n            });\n        }       \n    }\n\n    public class BackgroundPane extends JPanel {\n\n        private BufferedImage bgImage;\n\n        public BackgroundPane() {\n            try {\n                bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            if (bgImage != null) {\n                return new Dimension(bgImage.getWidth(), bgImage.getHeight());\n            }\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (bgImage == null) {\n                return;\n            }\n            int x = (getWidth() - bgImage.getWidth()) / 2;\n            int y = (getHeight() - bgImage.getHeight()) / 2;\n            g.drawImage(bgImage, x, y, this);\n        }\n    }\n}\n</code></pre>\n<p>But, a generally better solution would probably be to make use of the background pane directly, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Navigatable {\n        enum View {\n            MENU, CONTENT;\n        }\n        public void show(View view);\n    }\n\n    public class MainPane extends JPanel implements Navigatable {\n\n        private BackgroundPane backgroundPane;\n        private CardLayout cardLayout;\n\n        private MenuPane menuPane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            cardLayout = new CardLayout();\n            backgroundPane = new BackgroundPane();\n            backgroundPane.setLayout(cardLayout);\n            add(backgroundPane);\n\n            backgroundPane.add(new MenuPane(this), Navigatable.View.MENU.name());\n            JLabel label = new JLabel(&quot;This is the content&quot;);\n            label.setHorizontalAlignment(JLabel.CENTER);\n            backgroundPane.add(label, Navigatable.View.CONTENT.name());\n        }\n\n        @Override\n        public void show(View view) {\n            cardLayout.show(backgroundPane, view.name());\n        }\n    }\n\n    public class MenuPane extends JPanel {\n        public MenuPane(Navigatable navigatable) {\n            setOpaque(false);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JButton btn = new JButton(&quot;Show me the content&quot;);\n            add(btn);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigatable.show(Navigatable.View.CONTENT);\n                }\n            });\n        }       \n    }\n\n    public class BackgroundPane extends JPanel {\n\n        private BufferedImage bgImage;\n\n        public BackgroundPane() {\n            try {\n                bgImage = ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;));\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            if (bgImage != null) {\n                return new Dimension(bgImage.getWidth(), bgImage.getHeight());\n            }\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (bgImage == null) {\n                return;\n            }\n            int x = (getWidth() - bgImage.getWidth()) / 2;\n            int y = (getHeight() - bgImage.getHeight()) / 2;\n            g.drawImage(bgImage, x, y, this);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25481264,"reputation":193,"user_id":19277574,"display_name":"fullstacknoob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76302531,"answer_count":2,"score":-1,"last_activity_date":1684717614,"creation_date":1684716144,"question_id":76302467,"body_markdown":"I&#39;m using Java 17 for a little project. I&#39;m doing the Layout with the AWT `CardLayout` and the graphical components with Swing.\r\n\r\nI want to change my currently active `JPanel` in `Window.java` whenever I click on one of the `JMenuBarItem`s inside my `Navbar.java` class but show my background image from my `BackgroundImage` class all the time by using a `JLayeredPane`.\r\n\r\nWindow.java:\r\n\r\n    public class Window extends JFrame {\r\n    JPanel cards;\r\n    JLayeredPane layeredPane;\r\n    \r\n    JPanel openPok&#233;dex = new OpenPok&#233;dexPanel();\r\n    \r\n    public Window() {\r\n\taddWindowListener(new WindowAdapter() {\r\n\t    public void windowClosing (WindowEvent e) {\r\n\t\tdispose();\r\n\t    }\r\n\t});\r\n\t\r\n\tthis.setSize(800, 600);\r\n\t\r\n\tlayeredPane = new JLayeredPane();\r\n\tthis.setContentPane(layeredPane);\r\n\t\r\n\tBackgroundImage background = new BackgroundImage();\r\n\tlayeredPane.add(background, Integer.valueOf(0));\r\n\t\r\n\tcards = new JPanel(new CardLayout());\r\n\tlayeredPane.add(cards, Integer.valueOf(1));\r\n\t\r\n\tcards.add(openPok&#233;dex, &quot;openPokedex&quot;);\r\n\t\r\n\tNavbar bar = new Navbar(cards, this);\r\n\tthis.setJMenuBar(bar);\r\n\t\r\n\tthis.setVisible(true);\r\n    }\r\n    \r\n    public void switchPanel(String panelName) {\r\n        CardLayout cardLayout = (CardLayout) cards.getLayout();\r\n        cardLayout.show(cards, panelName);\r\n        System.out.println(panelName);\r\n    }\r\n    }\r\n\r\nNavbar.java:\r\n\r\n    public class Navbar extends JMenuBar{\r\n    JPanel cards;\r\n    Window window;\r\n    \r\n    public Navbar(JPanel cards, Window window) {\r\n\tthis.cards = cards;\r\n\tthis.window = window;\r\n\t\r\n\tJMenu pokedex = new JMenu(&quot;Pok&#233;dex&quot;);\r\n\tJMenuItem openPokedex = new JMenuItem(&quot;Open&quot;);\r\n\tpokedex.add(openPokedex);\r\n\t\r\n\tthis.add(pokedex);\r\n\t\r\n\t// Events\r\n\topenPokedex.addActionListener(e -&gt; window.switchPanel(&quot;openPokedex&quot;));\r\n    }\r\n    }\r\n\r\nOpenPok&#233;dexPanel.java:\r\n\r\n    public class OpenPok&#233;dexPanel extends JPanel {\r\n    \r\n    OpenPok&#233;dexPanel() {\r\n\t// tried doing transparent background but made no difference\r\n\t//this.setOpaque(false);\r\n\t//this.setBackground(new Color(255, 255, 255, 0));\r\n\t\r\n    // pretty much irrelevant. just to see if the panel is actually there\r\n\tJButton pok&#233;monButton = new JButton(&quot;Pok&#233;mon&quot;);\r\n\tthis.add(pok&#233;monButton);\r\n    }\r\n    }\r\n\r\nBackgroundImage.java:\r\n\r\n    public class BackgroundImage extends JComponent {\r\n    BufferedImage image = null;\r\n    \r\n    public BackgroundImage() {\r\n\tFile bgimage = null;\r\n\t\r\n\tFile directory = new File(&quot;src/bin/&quot;);\r\n\t\r\n\tif (directory.isDirectory()) {\r\n\t    File[] files = directory.listFiles();\r\n\t    \r\n\t    if (files != null &amp;&amp; files.length &gt; 0) {\r\n\t\tRandom rng = new Random();\r\n\t\tFile randomFile = files[rng.nextInt(files.length)];\r\n\t\tbgimage = randomFile;\r\n\t\t\r\n\t    } else {\r\n\t\tSystem.out.println(&quot;No images!&quot;);\r\n\t    }\r\n\t} else {\r\n\t    System.out.println(&quot;Not a directory!&quot;);\r\n\t}\r\n\t\r\n\ttry {\r\n\t    image = ImageIO.read(bgimage);\r\n\t} catch (IOException e) {\r\n\t    e.printStackTrace();\r\n\t}\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n\tsuper.paintComponent(g);\r\n\tif (image != null) {\r\n\t    g.drawImage(image, 0, 0, getWidth(), getHeight(), this);\r\n\t}\r\n    }\r\n    }\r\n\r\nBefore trying to combine the `BackgroudImage` with the `CardLayout`, the background image worked fine but the `JPanel`s weren&#39;t showing up because they apparently spawned behind my background image. I want to have a permanent background with `JPanel` displaying content on top.\r\nAt the moment it only shows a white screen when starting the program\r\n\r\n\r\n**EDIT 1**\r\n\r\nI modified `OpenPok&#233;dexPanel` JPanel class:\r\n\r\n    public class OpenPok&#233;dexPanel extends JPanel {\r\n    \r\n    OpenPok&#233;dexPanel() {\r\n\t\r\n\tthis.setOpaque(false); // added this again\r\n\t//this.setBackground(new Color(255, 255, 255, 0));\r\n\t\r\n\tJButton pok&#233;monButton = new JButton(&quot;Pok&#233;mon&quot;);\r\n\tthis.add(pok&#233;monButton);\r\n    }\r\n    }\r\n\r\nand I modified the main `Window` class. I removed the `JLayeredPane` and added the following code as @camickr suggested:\r\n\t\r\n\tBackgroundImage background = new BackgroundImage();\r\n\tthis.setLayout(new BorderLayout());\r\n\tthis.setContentPane(background);\r\n\t\r\n\tcards = new JPanel(new CardLayout());\r\n\tcards.setOpaque(false);\r\n\tbackground.add(cards);\r\n\t\r\n\tcards.add(openPok&#233;dex, &quot;openPokedex&quot;);\r\n\r\nThe background image shows up but the `JPanel` card `openPok&#233;dex` won&#39;t show up as well on click.","title":"Java Swing JLayeredPane not showing CardLayout cards &amp; background image","body":"<p>I'm using Java 17 for a little project. I'm doing the Layout with the AWT <code>CardLayout</code> and the graphical components with Swing.</p>\n<p>I want to change my currently active <code>JPanel</code> in <code>Window.java</code> whenever I click on one of the <code>JMenuBarItem</code>s inside my <code>Navbar.java</code> class but show my background image from my <code>BackgroundImage</code> class all the time by using a <code>JLayeredPane</code>.</p>\n<p>Window.java:</p>\n<pre><code>public class Window extends JFrame {\nJPanel cards;\nJLayeredPane layeredPane;\n\nJPanel openPokédex = new OpenPokédexPanel();\n\npublic Window() {\naddWindowListener(new WindowAdapter() {\n    public void windowClosing (WindowEvent e) {\n    dispose();\n    }\n});\n\nthis.setSize(800, 600);\n\nlayeredPane = new JLayeredPane();\nthis.setContentPane(layeredPane);\n\nBackgroundImage background = new BackgroundImage();\nlayeredPane.add(background, Integer.valueOf(0));\n\ncards = new JPanel(new CardLayout());\nlayeredPane.add(cards, Integer.valueOf(1));\n\ncards.add(openPokédex, &quot;openPokedex&quot;);\n\nNavbar bar = new Navbar(cards, this);\nthis.setJMenuBar(bar);\n\nthis.setVisible(true);\n}\n\npublic void switchPanel(String panelName) {\n    CardLayout cardLayout = (CardLayout) cards.getLayout();\n    cardLayout.show(cards, panelName);\n    System.out.println(panelName);\n}\n}\n</code></pre>\n<p>Navbar.java:</p>\n<pre><code>public class Navbar extends JMenuBar{\nJPanel cards;\nWindow window;\n\npublic Navbar(JPanel cards, Window window) {\nthis.cards = cards;\nthis.window = window;\n\nJMenu pokedex = new JMenu(&quot;Pokédex&quot;);\nJMenuItem openPokedex = new JMenuItem(&quot;Open&quot;);\npokedex.add(openPokedex);\n\nthis.add(pokedex);\n\n// Events\nopenPokedex.addActionListener(e -&gt; window.switchPanel(&quot;openPokedex&quot;));\n}\n}\n</code></pre>\n<p>OpenPokédexPanel.java:</p>\n<pre><code>public class OpenPokédexPanel extends JPanel {\n\nOpenPokédexPanel() {\n// tried doing transparent background but made no difference\n//this.setOpaque(false);\n//this.setBackground(new Color(255, 255, 255, 0));\n\n// pretty much irrelevant. just to see if the panel is actually there\nJButton pokémonButton = new JButton(&quot;Pokémon&quot;);\nthis.add(pokémonButton);\n}\n}\n</code></pre>\n<p>BackgroundImage.java:</p>\n<pre><code>public class BackgroundImage extends JComponent {\nBufferedImage image = null;\n\npublic BackgroundImage() {\nFile bgimage = null;\n\nFile directory = new File(&quot;src/bin/&quot;);\n\nif (directory.isDirectory()) {\n    File[] files = directory.listFiles();\n    \n    if (files != null &amp;&amp; files.length &gt; 0) {\n    Random rng = new Random();\n    File randomFile = files[rng.nextInt(files.length)];\n    bgimage = randomFile;\n    \n    } else {\n    System.out.println(&quot;No images!&quot;);\n    }\n} else {\n    System.out.println(&quot;Not a directory!&quot;);\n}\n\ntry {\n    image = ImageIO.read(bgimage);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n}\n\n@Override\nprotected void paintComponent(Graphics g) {\nsuper.paintComponent(g);\nif (image != null) {\n    g.drawImage(image, 0, 0, getWidth(), getHeight(), this);\n}\n}\n}\n</code></pre>\n<p>Before trying to combine the <code>BackgroudImage</code> with the <code>CardLayout</code>, the background image worked fine but the <code>JPanel</code>s weren't showing up because they apparently spawned behind my background image. I want to have a permanent background with <code>JPanel</code> displaying content on top.\nAt the moment it only shows a white screen when starting the program</p>\n<p><strong>EDIT 1</strong></p>\n<p>I modified <code>OpenPokédexPanel</code> JPanel class:</p>\n<pre><code>public class OpenPokédexPanel extends JPanel {\n\nOpenPokédexPanel() {\n\nthis.setOpaque(false); // added this again\n//this.setBackground(new Color(255, 255, 255, 0));\n\nJButton pokémonButton = new JButton(&quot;Pokémon&quot;);\nthis.add(pokémonButton);\n}\n}\n</code></pre>\n<p>and I modified the main <code>Window</code> class. I removed the <code>JLayeredPane</code> and added the following code as @camickr suggested:</p>\n<pre><code>BackgroundImage background = new BackgroundImage();\nthis.setLayout(new BorderLayout());\nthis.setContentPane(background);\n\ncards = new JPanel(new CardLayout());\ncards.setOpaque(false);\nbackground.add(cards);\n\ncards.add(openPokédex, &quot;openPokedex&quot;);\n</code></pre>\n<p>The background image shows up but the <code>JPanel</code> card <code>openPokédex</code> won't show up as well on click.</p>\n"},{"tags":["java","sql","database","postgresql","sql-execution-plan"],"comments":[{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1683729552,"post_id":76219095,"comment_id":134411856,"body_markdown":"Unfortunately that solution is for a different use case. It seems the main answer there is hardcoding the parameter in the second call. That is not realistic for my use case. It can be a massive parameter or may not be rendered correctly as String (e.g. float value).","body":"Unfortunately that solution is for a different use case. It seems the main answer there is hardcoding the parameter in the second call. That is not realistic for my use case. It can be a massive parameter or may not be rendered correctly as String (e.g. float value)."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1683731699,"post_id":76219095,"comment_id":134412479,"body_markdown":"I don&#39;t use Java, but a little digging found this [Server prepare](https://jdbc.postgresql.org/documentation/server-prepare/) *Server Prepared Statements Motivation*. It seems you might need to do: `ps1 = conn.prepareStatement( &quot;select * from documents where content = ?&quot;);`","body":"I don&#39;t use Java, but a little digging found this <a href=\"https://jdbc.postgresql.org/documentation/server-prepare/\" rel=\"nofollow noreferrer\">Server prepare</a> <i>Server Prepared Statements Motivation</i>. It seems you might need to do: <code>ps1 = conn.prepareStatement( &quot;select * from documents where content = ?&quot;);</code>"},{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1683731923,"post_id":76219095,"comment_id":134412548,"body_markdown":"That&#39;s what I&#39;m doing (in the second call). The first one **must use $1** to create a PostgreSQL procedure. I don&#39;t understand why the question was closed. The related answer is for a different question.","body":"That&#39;s what I&#39;m doing (in the second call). The first one <b>must use $1</b> to create a PostgreSQL procedure. I don&#39;t understand why the question was closed. The related answer is for a different question."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1683732175,"post_id":76219095,"comment_id":134412607,"body_markdown":"1) I voted to reopen the question as it is different. 2) That is not what you are doing, you are using `prepare` and it&#39;s placeholder `$1` in your version of the query. If I understand the docs correctly that taken care of for you by `PreparedStatement`.","body":"1) I voted to reopen the question as it is different. 2) That is not what you are doing, you are using <code>prepare</code> and it&#39;s placeholder <code>$1</code> in your version of the query. If I understand the docs correctly that taken care of for you by <code>PreparedStatement</code>."}],"answers":[{"comments":[{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1683810866,"post_id":76226845,"comment_id":134425769,"body_markdown":"Thank you for your answer. I think I cannot do `explain execute x (42)` since that would require to render the parameter(s) as string(s) (`42` in this case) and concatenate them to the SQL query. In this case some parameters can be massive, or may not be easy to render as strings like floating point numbers. Plus, I don&#39;t like to open a window for SQL Injection.","body":"Thank you for your answer. I think I cannot do <code>explain execute x (42)</code> since that would require to render the parameter(s) as string(s) (<code>42</code> in this case) and concatenate them to the SQL query. In this case some parameters can be massive, or may not be easy to render as strings like floating point numbers. Plus, I don&#39;t like to open a window for SQL Injection."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1683816625,"post_id":76226845,"comment_id":134427391,"body_markdown":"Sorry to be confusing @JoeDiNottra, I&#39;m not saying you shoud do it this way, I&#39;m only showing how in works in `JDBC`. I also try to point you to the combination of `force_generic_plan` and passing `null` which I&#39;d try to investigate in your situation and check if it provides valuable results.","body":"Sorry to be confusing @JoeDiNottra, I&#39;m not saying you shoud do it this way, I&#39;m only showing how in works in <code>JDBC</code>. I also try to point you to the combination of <code>force_generic_plan</code> and passing <code>null</code> which I&#39;d try to investigate in your situation and check if it provides valuable results."},{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1683830667,"post_id":76226845,"comment_id":134430605,"body_markdown":"When you say &quot;or if you realy must pass representation sample value(s)&quot;, that got me thinking. Maybe instead of passing the &quot;very long string&quot;, I can just pass a hardcoded &quot;a&quot; value. Maybe that&#39;s enough to get a valid plan. If that&#39;s the case I just need to make sure I have one hardcoded value for every single PostgreSQL data type, and done!","body":"When you say &quot;or if you realy must pass representation sample value(s)&quot;, that got me thinking. Maybe instead of passing the &quot;very long string&quot;, I can just pass a hardcoded &quot;a&quot; value. Maybe that&#39;s enough to get a valid plan. If that&#39;s the case I just need to make sure I have one hardcoded value for every single PostgreSQL data type, and done!"}],"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683802440,"creation_date":1683802440,"answer_id":76226845,"question_id":76219095,"body_markdown":"You don&#39;t need to replace the `$1` with the *bind variable value*, but you can&#39;t apparently use the bind variable in the `explain execute` statement - here it must be stated.\r\n\r\nSo this sequence works fine (pseudocode)\r\n\r\n    prep = con.prepareStatement(&quot;prepare x(integer) as select id, pad from jdbn.document where id = $1&quot;)\r\n    prep.execute();\r\n    \r\n    stmt = con.prepareStatement(&quot;explain execute x (42)&quot;)\r\n    rs = stmt.executeQuery()\r\n\r\nAs described in the previously marked as duplicated [question][1] you get for first few execution a *custom plan* (i.e. you see the variable in the condition, here `id = 42`) and finaly a *generic plan* (i.e. with a predicate `id = $1`)\r\n\r\nYour *trick* with `null` fails as PostgreSql knows that  `id = null` returns nothing (I&#39;m using vague formulation to avoid to be neither *true* nor *false*) and makes a *dummy* plan e.g. `One-Time Filter: false`\r\n\r\n\r\nYou may force to produce a *generic plan* with the [`plan_cache_mode`][2] parameter\r\n\r\n    con.createStatement().execute(&quot;set plan_cache_mode = force_generic_plan&quot;)\r\n\r\nin which case the the first explained plan is generic. It seem that with this setting the `null` parameter does not lead to a dummy plan (but I&#39;m not sure if there are not other caveats).\r\n\r\nSo I&#39;d say you should always define the data type of the variable `prepare x(integer) ...`  but I&#39;m not sure and have no experience if you can get a meaningfull execution plan with the combination of `force_generic_plan`  and passing `null` (similar to Oracle functionality) or if you realy must pass representation sample value(s) or the parameter(s).\r\n\r\n**Final Note** all the discussion here is focused on *well designed prepared statements*, i.e. any possible value passed will lead to a single same excution plan. For *other* statements it is not meaningfull, as there is *no single execution plan*.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44899432/4808122\r\n  [2]: https://www.postgresql.org/docs/current/runtime-config-query.html","title":"How do I get a PostgreSQL execution plan with parameters?","body":"<p>You don't need to replace the <code>$1</code> with the <em>bind variable value</em>, but you can't apparently use the bind variable in the <code>explain execute</code> statement - here it must be stated.</p>\n<p>So this sequence works fine (pseudocode)</p>\n<pre><code>prep = con.prepareStatement(&quot;prepare x(integer) as select id, pad from jdbn.document where id = $1&quot;)\nprep.execute();\n\nstmt = con.prepareStatement(&quot;explain execute x (42)&quot;)\nrs = stmt.executeQuery()\n</code></pre>\n<p>As described in the previously marked as duplicated <a href=\"https://stackoverflow.com/a/44899432/4808122\">question</a> you get for first few execution a <em>custom plan</em> (i.e. you see the variable in the condition, here <code>id = 42</code>) and finaly a <em>generic plan</em> (i.e. with a predicate <code>id = $1</code>)</p>\n<p>Your <em>trick</em> with <code>null</code> fails as PostgreSql knows that  <code>id = null</code> returns nothing (I'm using vague formulation to avoid to be neither <em>true</em> nor <em>false</em>) and makes a <em>dummy</em> plan e.g. <code>One-Time Filter: false</code></p>\n<p>You may force to produce a <em>generic plan</em> with the <a href=\"https://www.postgresql.org/docs/current/runtime-config-query.html\" rel=\"nofollow noreferrer\"><code>plan_cache_mode</code></a> parameter</p>\n<pre><code>con.createStatement().execute(&quot;set plan_cache_mode = force_generic_plan&quot;)\n</code></pre>\n<p>in which case the the first explained plan is generic. It seem that with this setting the <code>null</code> parameter does not lead to a dummy plan (but I'm not sure if there are not other caveats).</p>\n<p>So I'd say you should always define the data type of the variable <code>prepare x(integer) ...</code>  but I'm not sure and have no experience if you can get a meaningfull execution plan with the combination of <code>force_generic_plan</code>  and passing <code>null</code> (similar to Oracle functionality) or if you realy must pass representation sample value(s) or the parameter(s).</p>\n<p><strong>Final Note</strong> all the discussion here is focused on <em>well designed prepared statements</em>, i.e. any possible value passed will lead to a single same excution plan. For <em>other</em> statements it is not meaningfull, as there is <em>no single execution plan</em>.</p>\n"},{"tags":[],"owner":{"account_id":16625247,"reputation":339,"user_id":12014524,"display_name":"Hacı Celal Aygar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684717061,"creation_date":1684717061,"answer_id":76302514,"question_id":76219095,"body_markdown":"you can try this line\r\n\r\n\r\n    PreparedStatement ps1 = conn.prepareStatement(\r\n      &quot;prepare x as select * from documents where content = &#39;&quot;+ 1 +&quot;&#39;&quot;);\r\n    ps1.execute();\r\n\r\ninstead of \r\n\r\n       PreparedStatement ps1 = conn.prepareStatement(\r\n          &quot;prepare x as select * from documents where content = $1&quot;);\r\n        ps1.execute();","title":"How do I get a PostgreSQL execution plan with parameters?","body":"<p>you can try this line</p>\n<pre><code>PreparedStatement ps1 = conn.prepareStatement(\n  &quot;prepare x as select * from documents where content = '&quot;+ 1 +&quot;'&quot;);\nps1.execute();\n</code></pre>\n<p>instead of</p>\n<pre><code>   PreparedStatement ps1 = conn.prepareStatement(\n      &quot;prepare x as select * from documents where content = $1&quot;);\n    ps1.execute();\n</code></pre>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684717061,"creation_date":1683725669,"question_id":76219095,"body_markdown":"My application has a myriad of queries and I wanted to get the execution plan of some of them. Most if not\r\nall of the queries have multiple parameters and I can&#39;t find how to get the execution plan for any non-trivial query in PostgreSQL.\r\n\r\nThe real cases are much more involved but here&#39;s a simple, representative case of a query (just one parameter for simplicity):\r\n\r\n```java\r\nConnection conn = DriverManager.getConnection(&quot;...&quot;, &quot;...&quot;, &quot;...&quot;);\r\n\r\nPreparedStatement ps1 = conn.prepareStatement(\r\n  &quot;prepare x as select * from documents where content = $1&quot;);\r\nps1.execute();\r\n\r\nPreparedStatement ps2 = conn.prepareStatement(\r\n  &quot;explain (format json) execute x (?)&quot;);\r\nps2.setString(1, &quot;Very long content here...&quot;); // Binds the parameter\r\nResultSet rs = ps2.executeQuery(); // Error here!\r\n\r\nwhile (rs.next()) {\r\n  System.out.println(rs.getString(1));\r\n}\r\n```\r\n    \r\nWhen I run this, I get the error:\r\n\r\n&gt; ERROR: there is no parameter $1\r\n&gt; Position: 34\r\n\r\nIf I **hardcode** the parameter (e.g. replacing `$1` with `&#39;a&#39;`) everything works well and I get a plan. However, if I try to use a JDBC parameter it doesn&#39;t work. Hardcoding the parameter is not realistic for my use case since it can be a massive parameter or may not be rendered correctly as String (e.g. float value).\r\n\r\nI also tried using `null` instead of `?` and it doesn&#39;t crash, but \r\nit returns an execution plan that is wrong; it seems it somehow short-circuits the logic and returns something totally off reality.\r\n\r\nWhat am I doing wrong?","title":"How do I get a PostgreSQL execution plan with parameters?","body":"<p>My application has a myriad of queries and I wanted to get the execution plan of some of them. Most if not\nall of the queries have multiple parameters and I can't find how to get the execution plan for any non-trivial query in PostgreSQL.</p>\n<p>The real cases are much more involved but here's a simple, representative case of a query (just one parameter for simplicity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection conn = DriverManager.getConnection(&quot;...&quot;, &quot;...&quot;, &quot;...&quot;);\n\nPreparedStatement ps1 = conn.prepareStatement(\n  &quot;prepare x as select * from documents where content = $1&quot;);\nps1.execute();\n\nPreparedStatement ps2 = conn.prepareStatement(\n  &quot;explain (format json) execute x (?)&quot;);\nps2.setString(1, &quot;Very long content here...&quot;); // Binds the parameter\nResultSet rs = ps2.executeQuery(); // Error here!\n\nwhile (rs.next()) {\n  System.out.println(rs.getString(1));\n}\n</code></pre>\n<p>When I run this, I get the error:</p>\n<blockquote>\n<p>ERROR: there is no parameter $1\nPosition: 34</p>\n</blockquote>\n<p>If I <strong>hardcode</strong> the parameter (e.g. replacing <code>$1</code> with <code>'a'</code>) everything works well and I get a plan. However, if I try to use a JDBC parameter it doesn't work. Hardcoding the parameter is not realistic for my use case since it can be a massive parameter or may not be rendered correctly as String (e.g. float value).</p>\n<p>I also tried using <code>null</code> instead of <code>?</code> and it doesn't crash, but\nit returns an execution plan that is wrong; it seems it somehow short-circuits the logic and returns something totally off reality.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","swing","timer","awt","timertask"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1684715582,"post_id":76302446,"comment_id":134552820,"body_markdown":"Use a Swing `Timer` instead of `java.util.Timer`. Don&#39;t start timer in `paint` - in fact, don&#39;t override `paint` and don&#39;t paint directly to the frame, use a `JPanel` instead - see [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) - for [example](https://stackoverflow.com/questions/23443503/changing-background-color-on-every-clock-tick/23443563#23443563)","body":"Use a Swing <code>Timer</code> instead of <code>java.util.Timer</code>. Don&#39;t start timer in <code>paint</code> - in fact, don&#39;t override <code>paint</code> and don&#39;t paint directly to the frame, use a <code>JPanel</code> instead - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> - for <a href=\"https://stackoverflow.com/questions/23443503/changing-background-color-on-every-clock-tick/23443563#23443563\">example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1684715741,"post_id":76302446,"comment_id":134552832,"body_markdown":"A painting method is for painting only. Don&#39;t have Timer logic in the painting method. Painting is done by using the Graphics object passed to the paintComponent() method of a JPanel. See: https://stackoverflow.com/a/54028681/131872 for an example of using a Swing Timer for animation.","body":"A painting method is for painting only. Don&#39;t have Timer logic in the painting method. Painting is done by using the Graphics object passed to the paintComponent() method of a JPanel. See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example of using a Swing Timer for animation."},{"owner":{"account_id":19616408,"reputation":1,"user_id":14357777,"display_name":"alex miranda"},"score":0,"creation_date":1684719601,"post_id":76302446,"comment_id":134553129,"body_markdown":"For additional code context, you can view the full file on my github [link](https://github.com/boxtop312/comp-sci-IntelliJ-IDEA/blob/main/src/Physics_Final.java)","body":"For additional code context, you can view the full file on my github <a href=\"https://github.com/boxtop312/comp-sci-IntelliJ-IDEA/blob/main/src/Physics_Final.java\" rel=\"nofollow noreferrer\">link</a>"}],"owner":{"account_id":19616408,"reputation":1,"user_id":14357777,"display_name":"alex miranda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684715528,"creation_date":1684715528,"question_id":76302446,"body_markdown":"When i use Timer and TimerTask to have it run the code every second it doesn&#39;t draw to the JFrame but still runs the code.\r\n\r\n```\r\npublic void drawObject(Graphics g, int scale){\r\n        g.setColor(colors[rand]);\r\n        g.fillOval(xPos,yPos,scale*size,scale*size);\r\n    }\r\n```\r\n\r\n\r\n```\r\n    public void paint(Graphics g) {\r\n        setBackground(Color.WHITE);\r\n\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask() {\r\n            boolean ting = false;\r\n            public void run() {\r\n                if(ting){\r\n                    g.setColor(Color.white);\r\n                    g.fillRect(0, 0, getWidth(), getHeight());\r\n                }\r\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++){\r\n                    jTP.physicsObjectArrayList.get(i).drawObject(g,scale);\r\n                    System.out.println(&quot;test&quot;);\r\n                }\r\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++) {\r\n                    jTP.physicsObjectArrayList.get(i).setxPos(jTP.physicsObjectArrayList.get(i).getxPos()+getForceX(i)+getVelocityX(i));\r\n                    jTP.physicsObjectArrayList.get(i).setyPos(jTP.physicsObjectArrayList.get(i).getyPos()+getForceY(i)+getVelocityY(i)+getGravity(i));\r\n                }\r\n                ting = true;\r\n            }\r\n        };\r\n\r\n        timer.scheduleAtFixedRate(task, new Date(System.currentTimeMillis()), (long) 1000.0);\r\n```\r\n\r\nI am expecting it to draw the circle but it doesn&#39;t but it does print test to the command line. when i comment out the timer stuff it does draw the circle but then it doesn&#39;t have the delays","title":"Redrawing the contents of a AWT JFrame every second","body":"<p>When i use Timer and TimerTask to have it run the code every second it doesn't draw to the JFrame but still runs the code.</p>\n<pre><code>public void drawObject(Graphics g, int scale){\n        g.setColor(colors[rand]);\n        g.fillOval(xPos,yPos,scale*size,scale*size);\n    }\n</code></pre>\n<pre><code>    public void paint(Graphics g) {\n        setBackground(Color.WHITE);\n\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {\n            boolean ting = false;\n            public void run() {\n                if(ting){\n                    g.setColor(Color.white);\n                    g.fillRect(0, 0, getWidth(), getHeight());\n                }\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++){\n                    jTP.physicsObjectArrayList.get(i).drawObject(g,scale);\n                    System.out.println(&quot;test&quot;);\n                }\n                for(int i=0;i&lt;jTP.physicsObjectArrayList.size();i++) {\n                    jTP.physicsObjectArrayList.get(i).setxPos(jTP.physicsObjectArrayList.get(i).getxPos()+getForceX(i)+getVelocityX(i));\n                    jTP.physicsObjectArrayList.get(i).setyPos(jTP.physicsObjectArrayList.get(i).getyPos()+getForceY(i)+getVelocityY(i)+getGravity(i));\n                }\n                ting = true;\n            }\n        };\n\n        timer.scheduleAtFixedRate(task, new Date(System.currentTimeMillis()), (long) 1000.0);\n</code></pre>\n<p>I am expecting it to draw the circle but it doesn't but it does print test to the command line. when i comment out the timer stuff it does draw the circle but then it doesn't have the delays</p>\n"},{"tags":["java","json","jackson","fasterxml"],"comments":[{"owner":{"account_id":17853137,"reputation":3,"user_id":12968431,"display_name":"Bala Ganesan"},"score":0,"creation_date":1684575067,"post_id":76294414,"comment_id":134539330,"body_markdown":"Please Note: My incoming JSON string is dynamic, can&#39;t fit into single POJO class","body":"Please Note: My incoming JSON string is dynamic, can&#39;t fit into single POJO class"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684590528,"creation_date":1684590528,"answer_id":76295556,"question_id":76294414,"body_markdown":"Try this.\r\n\r\n\tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;},\\&quot;key3\\&quot;:[{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}]}&quot;;\r\n\t\tSystem.out.println(inputJsonString);\r\n\t\tJsonNode jsonNode = mapper.readTree(inputJsonString);\r\n\r\n\t\ttruncateStringValues(jsonNode);\r\n\r\n\t\tSystem.out.println(jsonNode);\r\n\r\n\t}\r\n\r\n\tprivate static void truncateStringValues(JsonNode jsonNode) throws JsonMappingException, JsonProcessingException {\r\n\t\tif (jsonNode.isArray()) {\r\n\t\t\tfor (JsonNode arrayItem : jsonNode) {\r\n\t\t\t\ttruncateStringValues(arrayItem);\r\n\t\t\t}\r\n\r\n\t\t} else if (jsonNode.isObject()) {\r\n\t\t\tIterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = jsonNode.fields();\r\n\t\t\twhile (fields.hasNext()) {\r\n\t\t\t\tEntry&lt;String, JsonNode&gt; jsonField = fields.next();\r\n\t\t\t\tJsonNode jsonFieldValue = jsonField.getValue();\r\n\t\t\t\tif (!jsonFieldValue.isContainerNode()) {\r\n\t\t\t\t\t((ObjectNode) jsonNode).put(jsonField.getKey(), jsonFieldValue.asText().substring(0, 5));\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttruncateStringValues(jsonFieldValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"limit the size of the string value of all keys with Jackson","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    String inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;},\\&quot;key3\\&quot;:[{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}]}&quot;;\n    System.out.println(inputJsonString);\n    JsonNode jsonNode = mapper.readTree(inputJsonString);\n\n    truncateStringValues(jsonNode);\n\n    System.out.println(jsonNode);\n\n}\n\nprivate static void truncateStringValues(JsonNode jsonNode) throws JsonMappingException, JsonProcessingException {\n    if (jsonNode.isArray()) {\n        for (JsonNode arrayItem : jsonNode) {\n            truncateStringValues(arrayItem);\n        }\n\n    } else if (jsonNode.isObject()) {\n        Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = jsonNode.fields();\n        while (fields.hasNext()) {\n            Entry&lt;String, JsonNode&gt; jsonField = fields.next();\n            JsonNode jsonFieldValue = jsonField.getValue();\n            if (!jsonFieldValue.isContainerNode()) {\n                ((ObjectNode) jsonNode).put(jsonField.getKey(), jsonFieldValue.asText().substring(0, 5));\n            } else {\n                truncateStringValues(jsonFieldValue);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12440653,"reputation":3,"user_id":9059036,"display_name":"mukham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684711039,"creation_date":1684619978,"answer_id":76297510,"question_id":76294414,"body_markdown":"Nice answer, [@John Williams][1]!\r\n\r\nJust a quick note: If the string to be truncated is less than 5 characters, there&#39;s a chance of encountering `java.lang.StringIndexOutOfBoundsException`. To handle this, you can use `Math.min` with substring. Here&#39;s an example:\r\n\r\n    String text = jsonFieldValue.asText();\r\n    objectNode.put(entry.getKey(), text.substring(0, Math.min(text.length(), 5)));\r\n\r\nThis ensures safe truncation. Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8041003/john-williams","title":"limit the size of the string value of all keys with Jackson","body":"<p>Nice answer, <a href=\"https://stackoverflow.com/users/8041003/john-williams\">@John Williams</a>!</p>\n<p>Just a quick note: If the string to be truncated is less than 5 characters, there's a chance of encountering <code>java.lang.StringIndexOutOfBoundsException</code>. To handle this, you can use <code>Math.min</code> with substring. Here's an example:</p>\n<pre><code>String text = jsonFieldValue.asText();\nobjectNode.put(entry.getKey(), text.substring(0, Math.min(text.length(), 5)));\n</code></pre>\n<p>This ensures safe truncation. Thanks!</p>\n"}],"owner":{"account_id":17853137,"reputation":3,"user_id":12968431,"display_name":"Bala Ganesan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295556,"answer_count":2,"score":0,"last_activity_date":1684711039,"creation_date":1684574426,"question_id":76294414,"body_markdown":"I have a dynamic nested json string and I wanted to limit the string value of all keys to have max length of 5 chars.\r\n\r\nUsing: Java fasterxml.jackson\r\n\r\nFor Json String like below:\r\n\r\n```\r\nString inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\r\n```\r\n\r\nI wanted this result:\r\n\r\n```\r\nString outputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla b\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\r\n```\r\n\r\nFor Json String like this:\r\n\r\n```\r\nString inputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\r\n```\r\n\r\nI wanted this result:\r\n\r\n```\r\nString outputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla b\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\r\n```\r\n","title":"limit the size of the string value of all keys with Jackson","body":"<p>I have a dynamic nested json string and I wanted to limit the string value of all keys to have max length of 5 chars.</p>\n<p>Using: Java fasterxml.jackson</p>\n<p>For Json String like below:</p>\n<pre><code>String inputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\n</code></pre>\n<p>I wanted this result:</p>\n<pre><code>String outputJsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;bla b\\&quot;,\\&quot;key2\\&quot;:{\\&quot;key21\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\n</code></pre>\n<p>For Json String like this:</p>\n<pre><code>String inputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla bla bla bla\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla bla bla\\&quot;}}&quot;;\n</code></pre>\n<p>I wanted this result:</p>\n<pre><code>String outputJsonString = &quot;{\\&quot;fname\\&quot;:\\&quot;bla b\\&quot;,\\&quot;address\\&quot;:{\\&quot;street\\&quot;:\\&quot;bla b\\&quot;}}&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","docker","logging","newrelic"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684710691,"creation_date":1684585169,"answer_id":76295199,"question_id":76294341,"body_markdown":"It really depends on what your application is logging and at what log level. Increase the levels from debug and trace to at least info. Those are usually too verbose and show too many details. It depends on spring boot if it will show the actual information that you want. Else you need to add your own logger to the application.","title":"Logs with unwanted value","body":"<p>It really depends on what your application is logging and at what log level. Increase the levels from debug and trace to at least info. Those are usually too verbose and show too many details. It depends on spring boot if it will show the actual information that you want. Else you need to add your own logger to the application.</p>\n"}],"owner":{"account_id":9122040,"reputation":1213,"user_id":6787187,"accept_rate":71,"display_name":"Alpit Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684710691,"creation_date":1684573233,"question_id":76294341,"body_markdown":"I have been trying to do the logging part in My Springboot appication.\r\nMy logs are filled with unwanted stuff\r\n\r\n`&quot;\\u0006stdout\\u0010��������\\u0017\\u001a�\\u00012023-05-20 08:48:38.366 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA : GET /dg/public/course]\\u0000\\u0000\\u0000�\\u0000\\u0000\\u0000�&quot;`\r\n\r\nJust wanted the ` GET /dg/public/course`\r\n\r\nHow can i achieve that.\r\nThis is my logback.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n      &lt;property name=&quot;LOGS&quot; value=&quot;/tmp/logs&quot; /&gt;\r\n    \r\n      &lt;appender name=&quot;Console&quot;\r\n        class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n          &lt;Pattern&gt;\r\n            %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\r\n          &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;appender name=&quot;RollingFile&quot;\r\n        class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/spring-boot-logger.log&lt;/file&gt;\r\n        &lt;encoder\r\n          class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n          &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    \r\n        &lt;rollingPolicy\r\n          class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\r\n          &lt;fileNamePattern&gt;${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\r\n          &lt;/fileNamePattern&gt;\r\n          &lt;timeBasedFileNamingAndTriggeringPolicy\r\n            class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n          &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;!-- LOG everything at INFO level --&gt;\r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n      &lt;/root&gt;\r\n    \r\n      &lt;!-- LOG &quot;com.teaching.gradzee*&quot; at TRACE level --&gt;\r\n      &lt;logger name=&quot;com.teaching.gradzee&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;ERROR&quot; /&gt;\r\n      &lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;!--  &lt;logger name=&quot;org.zalando.logbook&quot; level=&quot;TRACE&quot; /&gt;--&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nUsing new relic for logging.\r\n\r\nAgent is running in ec2, my application is in Docker","title":"Logs with unwanted value","body":"<p>I have been trying to do the logging part in My Springboot appication.\nMy logs are filled with unwanted stuff</p>\n<p><code>&quot;\\u0006stdout\\u0010��������\\u0017\\u001a�\\u00012023-05-20 08:48:38.366 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA : GET /dg/public/course]\\u0000\\u0000\\u0000�\\u0000\\u0000\\u0000�&quot;</code></p>\n<p>Just wanted the <code> GET /dg/public/course</code></p>\n<p>How can i achieve that.\nThis is my logback.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;property name=&quot;LOGS&quot; value=&quot;/tmp/logs&quot; /&gt;\n\n  &lt;appender name=&quot;Console&quot;\n    class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n      &lt;Pattern&gt;\n        %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\n      &lt;/Pattern&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;RollingFile&quot;\n    class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/spring-boot-logger.log&lt;/file&gt;\n    &lt;encoder\n      class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n      &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n      class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\n      &lt;fileNamePattern&gt;${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\n      &lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy\n        class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n        &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n\n  &lt;!-- LOG everything at INFO level --&gt;\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n  &lt;/root&gt;\n\n  &lt;!-- LOG &quot;com.teaching.gradzee*&quot; at TRACE level --&gt;\n  &lt;logger name=&quot;com.teaching.gradzee&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n  &lt;/logger&gt;\n  &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;ERROR&quot; /&gt;\n  &lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot; level=&quot;DEBUG&quot;/&gt;\n&lt;!--  &lt;logger name=&quot;org.zalando.logbook&quot; level=&quot;TRACE&quot; /&gt;--&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Using new relic for logging.</p>\n<p>Agent is running in ec2, my application is in Docker</p>\n"},{"tags":["java","string","format","output","printf"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674141167,"post_id":75174341,"comment_id":132655292,"body_markdown":"You need to parse the string into separate variables. Ex: `000001BilboBagginsEsq.1020` -&gt; `int id = 1; String firstName = Bilbo; etc...` Is there a consistent format to the lines?","body":"You need to parse the string into separate variables. Ex: <code>000001BilboBagginsEsq.1020</code> -&gt; <code>int id = 1; String firstName = Bilbo; etc...</code> Is there a consistent format to the lines?"},{"owner":{"account_id":26416079,"reputation":31,"user_id":20064471,"display_name":"olearymw"},"score":0,"creation_date":1674141289,"post_id":75174341,"comment_id":132655338,"body_markdown":"The data points are in separate variables but they are entered via user input in a separate program in the same project and are stored in a CSV variable as CSVPersonData = ID + firstName + lastName + Title + YOB;  Is this the format you are referring to?","body":"The data points are in separate variables but they are entered via user input in a separate program in the same project and are stored in a CSV variable as CSVPersonData = ID + firstName + lastName + Title + YOB;  Is this the format you are referring to?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674141742,"post_id":75174341,"comment_id":132655526,"body_markdown":"Still a bit confused. Is `CSVPersonData` a `String`? Why does it not have commas separating the fields? `000001,Bilbo,Baggins,Esq.,1020`? That&#39;s what the `C` in `CSV` stands for.","body":"Still a bit confused. Is <code>CSVPersonData</code> a <code>String</code>? Why does it not have commas separating the fields? <code>000001,Bilbo,Baggins,Esq.,1020</code>? That&#39;s what the <code>C</code> in <code>CSV</code> stands for."},{"owner":{"account_id":26416079,"reputation":31,"user_id":20064471,"display_name":"olearymw"},"score":0,"creation_date":1674143416,"post_id":75174341,"comment_id":132656145,"body_markdown":"Sorry I know it is confusing, yes it is a string that contains ID, First Name, Last Name, Title, and YOB.  I realized I did not want the commas in the output but I haven&#39;t renamed the variable which I probably should.  I just want them to display with space in between.","body":"Sorry I know it is confusing, yes it is a string that contains ID, First Name, Last Name, Title, and YOB.  I realized I did not want the commas in the output but I haven&#39;t renamed the variable which I probably should.  I just want them to display with space in between."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1674144813,"post_id":75174341,"comment_id":132656672,"body_markdown":"When smash all the data together like that you need some way to unsmash it. There needs to be a pattern. Assuming the first and last fields are always numbers, and the inner 3 fields are capital letters followed by lower case letters, you can use regex: `&quot;(\\\\d+)([A-Z][a-z]+)([A-Z][a-z]+)([A-Z][a-z.]+)(\\\\d+)&quot;`","body":"When smash all the data together like that you need some way to unsmash it. There needs to be a pattern. Assuming the first and last fields are always numbers, and the inner 3 fields are capital letters followed by lower case letters, you can use regex: <code>&quot;(\\\\d+)([A-Z][a-z]+)([A-Z][a-z]+)([A-Z][a-z.]+)(\\\\d+)&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684710506,"creation_date":1684710506,"answer_id":76302274,"question_id":75174341,"body_markdown":"The fields have no delimiter, it appears.\r\n\r\nThe text `000001BilboBagginsEsq.1020` needs to be delimited somehow.\r\n\r\nFor the sake of argument, I&#39;m going to presume the first field is a number, and second is a word, starting with an uppercase letter, same with the third and forth field, and the fifth field is a number.\r\n\r\nThere are a few approaches you can take to accomplish this task.\r\n\r\nI recommend using a `Pattern` and `Matcher` to capture the values.  \r\nYou can then use a basic `class` structure to hold the data for each line.\r\n\r\nConsider the following class.\r\n\r\n```java\r\nclass Entry {\r\n    String fieldA, firstName, secondName, title, fieldE;\r\n\r\n    static Entry parse(String string) {\r\n        Entry entry = new Entry();\r\n        String regex = &quot;(\\\\d+)([A-Z][a-z._]+)([A-Z][a-z._]+)([A-Z][a-z._]+)(\\\\d+)&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(string);\r\n        if (matcher.find()) {\r\n            entry.fieldA = matcher.group(1);\r\n            entry.firstName = matcher.group(2);\r\n            entry.secondName = matcher.group(3);\r\n            entry.title = matcher.group(4);\r\n            entry.fieldE = matcher.group(5);\r\n        }\r\n        return entry;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String string;\r\n        string = &quot;%-15s&quot;.formatted(fieldA);\r\n        string += &quot;%-15s&quot;.formatted(firstName);\r\n        string += &quot;%-15s&quot;.formatted(secondName);\r\n        string += &quot;%-15s&quot;.formatted(title);\r\n        string += &quot;%s&quot;.formatted(fieldE);\r\n        return string;\r\n    }\r\n}\r\n```\r\n\r\nThe `parse` method is static, and can be used to return an instance of `Entry`, given the line.  \r\nThe `toString` method will be used to format the data into a `String`, which we can then print to the standard-out.\r\n\r\nYou can then use the following method to read a file, line-for-line, and print the data out.\r\n\r\n```java\r\nvoid print(String path) throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\r\n        Entry entry;\r\n        String line;\r\n        int count = 0;\r\n        while ((line = reader.readLine()) != null)\r\n            System.out.println(++count + &quot; &quot; + Entry.parse(line));\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1 000001         Bilbo          Baggins        Esq.           1020\r\n```","title":"Printing Spaces When Reading From a File","body":"<p>The fields have no delimiter, it appears.</p>\n<p>The text <code>000001BilboBagginsEsq.1020</code> needs to be delimited somehow.</p>\n<p>For the sake of argument, I'm going to presume the first field is a number, and second is a word, starting with an uppercase letter, same with the third and forth field, and the fifth field is a number.</p>\n<p>There are a few approaches you can take to accomplish this task.</p>\n<p>I recommend using a <code>Pattern</code> and <code>Matcher</code> to capture the values.<br />\nYou can then use a basic <code>class</code> structure to hold the data for each line.</p>\n<p>Consider the following class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Entry {\n    String fieldA, firstName, secondName, title, fieldE;\n\n    static Entry parse(String string) {\n        Entry entry = new Entry();\n        String regex = &quot;(\\\\d+)([A-Z][a-z._]+)([A-Z][a-z._]+)([A-Z][a-z._]+)(\\\\d+)&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(string);\n        if (matcher.find()) {\n            entry.fieldA = matcher.group(1);\n            entry.firstName = matcher.group(2);\n            entry.secondName = matcher.group(3);\n            entry.title = matcher.group(4);\n            entry.fieldE = matcher.group(5);\n        }\n        return entry;\n    }\n\n    @Override\n    public String toString() {\n        String string;\n        string = &quot;%-15s&quot;.formatted(fieldA);\n        string += &quot;%-15s&quot;.formatted(firstName);\n        string += &quot;%-15s&quot;.formatted(secondName);\n        string += &quot;%-15s&quot;.formatted(title);\n        string += &quot;%s&quot;.formatted(fieldE);\n        return string;\n    }\n}\n</code></pre>\n<p>The <code>parse</code> method is static, and can be used to return an instance of <code>Entry</code>, given the line.<br />\nThe <code>toString</code> method will be used to format the data into a <code>String</code>, which we can then print to the standard-out.</p>\n<p>You can then use the following method to read a file, line-for-line, and print the data out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void print(String path) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n        Entry entry;\n        String line;\n        int count = 0;\n        while ((line = reader.readLine()) != null)\n            System.out.println(++count + &quot; &quot; + Entry.parse(line));\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 000001         Bilbo          Baggins        Esq.           1020\n</code></pre>\n"}],"owner":{"account_id":26416079,"reputation":31,"user_id":20064471,"display_name":"olearymw"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684710506,"creation_date":1674140942,"question_id":75174341,"body_markdown":"I am trying to print the contents of a file that is read using a while loop after the user selects it from the JChooser prompt window.  The file is written in a program and contains an ID, first name, last name, title, and year of birth that is stored in a written data file as &quot;000001BilboBagginsEsq.1020&quot;  I am trying to use another program to choose the data file print the contents to the console such that it displays as:\r\n\r\n\r\n    000001          Bilbo              Baggins           Esq.          1020\r\n\r\n\r\nI want to use the printf statement to format the data that is read and stored in the &quot;rec&quot; variable in this manner, but when I pass in the data from the file it seems to ignore the printf format and prints the data like this in the console:\r\n\r\n    1 000001BilboBagginsEsq.1020\r\n\r\n \r\n\r\n\r\nMy program uses the JChooser to pick a file and print its contents using a while loop:\r\n\r\n                    \r\n```\r\nwhile(reader.ready())\r\n                {\r\n                    rec = reader.readLine();\r\n                    line++;                    \r\n                    System.out.printf(&quot;\\n%4d %-60s &quot;, line, rec);\r\n                }\r\n                    reader.close();\r\nSystem.out.println(&quot;\\n\\nData file read!&quot;); \r\n```\r\n\r\n\r\nAny help on this would be appreciated.\r\n\r\n\r\n\r\n\r\nI tried formatting the rec using printf, expecting the output to display:\r\n\r\n    000001          Bilbo              Baggins           Esq.          1020\r\n\r\nBut instead it still prints:\r\n\r\n    1 000001BilboBagginsEsq.1020","title":"Printing Spaces When Reading From a File","body":"<p>I am trying to print the contents of a file that is read using a while loop after the user selects it from the JChooser prompt window.  The file is written in a program and contains an ID, first name, last name, title, and year of birth that is stored in a written data file as &quot;000001BilboBagginsEsq.1020&quot;  I am trying to use another program to choose the data file print the contents to the console such that it displays as:</p>\n<pre><code>000001          Bilbo              Baggins           Esq.          1020\n</code></pre>\n<p>I want to use the printf statement to format the data that is read and stored in the &quot;rec&quot; variable in this manner, but when I pass in the data from the file it seems to ignore the printf format and prints the data like this in the console:</p>\n<pre><code>1 000001BilboBagginsEsq.1020\n</code></pre>\n<p>My program uses the JChooser to pick a file and print its contents using a while loop:</p>\n<pre><code>while(reader.ready())\n                {\n                    rec = reader.readLine();\n                    line++;                    \n                    System.out.printf(&quot;\\n%4d %-60s &quot;, line, rec);\n                }\n                    reader.close();\nSystem.out.println(&quot;\\n\\nData file read!&quot;); \n</code></pre>\n<p>Any help on this would be appreciated.</p>\n<p>I tried formatting the rec using printf, expecting the output to display:</p>\n<pre><code>000001          Bilbo              Baggins           Esq.          1020\n</code></pre>\n<p>But instead it still prints:</p>\n<pre><code>1 000001BilboBagginsEsq.1020\n</code></pre>\n"},{"tags":["java","python","interface","interaction"],"comments":[{"owner":{"account_id":2045,"reputation":2940,"user_id":2815,"accept_rate":82,"display_name":"Petriborg"},"score":0,"creation_date":1262274195,"post_id":1984445,"comment_id":1902295,"body_markdown":"How does the python program take input? This doesn&#39;t make a lot of sense, does it read from a directory every X minutes, or from STDIO? Do you exec the code yourself or what?","body":"How does the python program take input? This doesn&#39;t make a lot of sense, does it read from a directory every X minutes, or from STDIO? Do you exec the code yourself or what?"}],"answers":[{"comments":[{"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"score":0,"creation_date":1262249408,"post_id":1984453,"comment_id":1900679,"body_markdown":"You should be able to make Jython work even without changing your python code.","body":"You should be able to make Jython work even without changing your python code."},{"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"score":0,"creation_date":1262251073,"post_id":1984453,"comment_id":1900771,"body_markdown":"I want to treat the Python as a black closed box. More as a server. \nHow Python well python work with sockets?","body":"I want to treat the Python as a black closed box. More as a server.  How Python well python work with sockets?"},{"owner":{"account_id":81115,"reputation":33441,"user_id":228936,"display_name":"Tor Valamo"},"score":0,"creation_date":1262251585,"post_id":1984453,"comment_id":1900798,"body_markdown":"@Rod: Jython is python running on JVM, and it&#39;s still a &quot;black box&quot;. It&#39;s just that Java can call it without using sockets and all that. And since you&#39;re using Java, this is the best way.","body":"@Rod: Jython is python running on JVM, and it&#39;s still a &quot;black box&quot;. It&#39;s just that Java can call it without using sockets and all that. And since you&#39;re using Java, this is the best way."},{"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"score":0,"creation_date":1262251751,"post_id":1984453,"comment_id":1900806,"body_markdown":"Do I have to embed the Python app code in my the Java app? Or is it can be used as an intermediate technology?","body":"Do I have to embed the Python app code in my the Java app? Or is it can be used as an intermediate technology?"},{"owner":{"account_id":30389,"reputation":15634,"user_id":82872,"display_name":"John Paulett"},"score":1,"creation_date":1262287348,"post_id":1984453,"comment_id":1903363,"body_markdown":"Jython will not work if the Python code relies upon any C extensions (for example numpy).  Additionally, not all Python features exist in Jython, leading to bugs such as this one (http://bugs.jython.org/issue1398) in NLTK.  It would not hurt to try running on Jython, but I would personally use one of the solutions that launches a separate process.","body":"Jython will not work if the Python code relies upon any C extensions (for example numpy).  Additionally, not all Python features exist in Jython, leading to bugs such as this one (<a href=\"http://bugs.jython.org/issue1398\" rel=\"nofollow noreferrer\">bugs.jython.org/issue1398</a>) in NLTK.  It would not hurt to try running on Jython, but I would personally use one of the solutions that launches a separate process."}],"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262246232,"creation_date":1262246232,"answer_id":1984453,"question_id":1984445,"body_markdown":"Look into [Jython][1] - you can run Python programs directly from Java code, and interact seamlessly back and forth.\r\n\r\n\r\n  [1]: http://www.jython.org/","title":"Interaction between Java App and Python App","body":"<p>Look into <a href=\"http://www.jython.org/\" rel=\"nofollow noreferrer\">Jython</a> - you can run Python programs directly from Java code, and interact seamlessly back and forth.</p>\n"},{"tags":[],"owner":{"account_id":16963,"reputation":13521,"user_id":37494,"accept_rate":95,"display_name":"Perpetualcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262246312,"creation_date":1262246312,"answer_id":1984457,"question_id":1984445,"body_markdown":"Expose one of the two as a service of some kind, web service maybe. Another option is to port the python code to Jython","title":"Interaction between Java App and Python App","body":"<p>Expose one of the two as a service of some kind, web service maybe. Another option is to port the python code to Jython</p>\n"},{"tags":[],"owner":{"account_id":71337,"reputation":26066,"user_id":206417,"accept_rate":71,"display_name":"Dave Kirby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262250101,"creation_date":1262250101,"answer_id":1984611,"question_id":1984445,"body_markdown":"One possible solution is [jpype][1].  This allows you to launch a JVM from Python and pass data back and forth between them.\r\n\r\nAnother solution may be to write the Python program as a filter (reading data from stdin and writing result to stdout) then run it as a pipe.  However I do not know how well Java supports this - according to the Sun docs their concept of pipes only supports communication between threads on the same JVM.  \r\n\r\n\r\n  [1]: http://jpype.sourceforge.net/","title":"Interaction between Java App and Python App","body":"<p>One possible solution is <a href=\"http://jpype.sourceforge.net/\" rel=\"nofollow noreferrer\">jpype</a>.  This allows you to launch a JVM from Python and pass data back and forth between them.</p>\n\n<p>Another solution may be to write the Python program as a filter (reading data from stdin and writing result to stdout) then run it as a pipe.  However I do not know how well Java supports this - according to the Sun docs their concept of pipes only supports communication between threads on the same JVM.  </p>\n"},{"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1262251381,"post_id":1984649,"comment_id":1900788,"body_markdown":"Of course it means the python app must read from the stdin and write to the stdout. Good luck!","body":"Of course it means the python app must read from the stdin and write to the stdout. Good luck!"},{"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"score":0,"creation_date":1262251639,"post_id":1984649,"comment_id":1900799,"body_markdown":"Wont it just return the exit code of the python process? \nIf not, what would be considered as available from the inputStream?","body":"Wont it just return the exit code of the python process?  If not, what would be considered as available from the inputStream?"},{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1262253779,"post_id":1984649,"comment_id":1900928,"body_markdown":"Nop. From the invoked (python) process you have an STDIN and a STDOUT (and a STDERR also :). Java can hook them, write in one and read the other. When you do printf(&quot;...&quot;) (sorry, I don&#39;t know about Python) you are writing to stdout. When you do something like &quot;dir | more&quot; in the Windows command line or &quot;ls | nl&quot; in Linux you are redirecting STDOUT of the first program to the STDIN of the second. If you want the return code of the process you have to call pythonProc.waitFor(). That returns an int.","body":"Nop. From the invoked (python) process you have an STDIN and a STDOUT (and a STDERR also :). Java can hook them, write in one and read the other. When you do printf(&quot;...&quot;) (sorry, I don&#39;t know about Python) you are writing to stdout. When you do something like &quot;dir | more&quot; in the Windows command line or &quot;ls | nl&quot; in Linux you are redirecting STDOUT of the first program to the STDIN of the second. If you want the return code of the process you have to call pythonProc.waitFor(). That returns an int."}],"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1262251348,"creation_date":1262251348,"answer_id":1984649,"question_id":1984445,"body_markdown":"I don&#39;t know nothing about Jython and the like. I guess it&#39;s the best solution if you can execute two programs without executing a new process each time the Java app needs to transform text. Anyway a simple proof of concept is to execute a separate process from the Java App to make it work. Next you can enhance the execution with all that tools.\r\n\r\n**Executing a separate process from Java**\r\n\r\n    String[] envprops = new String[] {&quot;PROP1=VAL1&quot;, &quot;PROP2=VAL2&quot; };\r\n    Process pythonProc = Runtime.getRuntime().exec(\r\n       &quot;the command to execute the python app&quot;, \r\n        envprops, \r\n        new File(&quot;/workingdirectory&quot;));\r\n    \r\n    // get an outputstream to write into the standard input of python\r\n    OutputStream toPython = pythonProc.getOutputStream();\r\n    \r\n    // get an inputstream to read from the standard output of python\r\n    InputStream fromPython = pythonProc.getInputStream();\r\n    \r\n    // send something\r\n    toPython.write(.....);\r\n    // receive something\r\n    fromPython.read(....);\r\n\r\n**Important: chars are NOT bytes**\r\n\r\nA lot of people understimate this.\r\n\r\nBe careful with char to byte conversions (remember Writers/Readers are for chars, Input/OutputStreams are for bytes, encoding is necesary for convertir one to another, you can use `OuputStreamWriter` to convert string to bytes and send, `InputStreamReader` to convert bytes to chars and read them).\r\n","title":"Interaction between Java App and Python App","body":"<p>I don't know nothing about Jython and the like. I guess it's the best solution if you can execute two programs without executing a new process each time the Java app needs to transform text. Anyway a simple proof of concept is to execute a separate process from the Java App to make it work. Next you can enhance the execution with all that tools.</p>\n\n<p><strong>Executing a separate process from Java</strong></p>\n\n<pre><code>String[] envprops = new String[] {\"PROP1=VAL1\", \"PROP2=VAL2\" };\nProcess pythonProc = Runtime.getRuntime().exec(\n   \"the command to execute the python app\", \n    envprops, \n    new File(\"/workingdirectory\"));\n\n// get an outputstream to write into the standard input of python\nOutputStream toPython = pythonProc.getOutputStream();\n\n// get an inputstream to read from the standard output of python\nInputStream fromPython = pythonProc.getInputStream();\n\n// send something\ntoPython.write(.....);\n// receive something\nfromPython.read(....);\n</code></pre>\n\n<p><strong>Important: chars are NOT bytes</strong></p>\n\n<p>A lot of people understimate this.</p>\n\n<p>Be careful with char to byte conversions (remember Writers/Readers are for chars, Input/OutputStreams are for bytes, encoding is necesary for convertir one to another, you can use <code>OuputStreamWriter</code> to convert string to bytes and send, <code>InputStreamReader</code> to convert bytes to chars and read them).</p>\n"},{"tags":[],"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262251350,"creation_date":1262251350,"answer_id":1984650,"question_id":1984445,"body_markdown":"An option is making the python application work as a server, listens for request via sockets (TCP).","title":"Interaction between Java App and Python App","body":"<p>An option is making the python application work as a server, listens for request via sockets (TCP).</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684710219,"creation_date":1262266974,"answer_id":1985463,"question_id":1984445,"body_markdown":"Use [ProcessBuilder](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html) to  execute your [Python](https://docs.python.org/3/) code as a filter:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class PBTest {\r\n    \r\n        public static void main(String[] args) {\r\n            ProcessBuilder pb = new ProcessBuilder(\r\n                &quot;python3&quot;, &quot;-c&quot;, &quot;print(42)&quot;);\r\n            pb.redirectErrorStream(true);\r\n            try {\r\n                Process p = pb.start();\r\n                String s;\r\n                BufferedReader stdout = new BufferedReader(\r\n                    new InputStreamReader(p.getInputStream()));\r\n                while ((s = stdout.readLine()) != null) {\r\n                    System.out.println(s);\r\n                }\r\n                System.out.println(&quot;Exit value: &quot; + p.waitFor());\r\n                p.getInputStream().close();\r\n                p.getOutputStream().close();\r\n                p.getErrorStream().close();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Interaction between Java App and Python App","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> to  execute your <a href=\"https://docs.python.org/3/\" rel=\"nofollow noreferrer\">Python</a> code as a filter:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class PBTest {\n\n    public static void main(String[] args) {\n        ProcessBuilder pb = new ProcessBuilder(\n            &quot;python3&quot;, &quot;-c&quot;, &quot;print(42)&quot;);\n        pb.redirectErrorStream(true);\n        try {\n            Process p = pb.start();\n            String s;\n            BufferedReader stdout = new BufferedReader(\n                new InputStreamReader(p.getInputStream()));\n            while ((s = stdout.readLine()) != null) {\n                System.out.println(s);\n            }\n            System.out.println(&quot;Exit value: &quot; + p.waitFor());\n            p.getInputStream().close();\n            p.getOutputStream().close();\n            p.getErrorStream().close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":44313,"reputation":2180,"user_id":129994,"accept_rate":65,"display_name":"Rod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6713,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":6,"score":3,"last_activity_date":1684710219,"creation_date":1262245962,"question_id":1984445,"body_markdown":"I have a python application which I cant edit its a black box from my point of view. The python application knows how to process text and return processed text.\r\nI have another application written in Java which knows how to collect non processed texts.\r\n\r\nCurrent state, the python app works in batch mode every x minutes.\r\n\r\nI want to make the python \r\n\r\nprocessing part of the process: Java app collects text and request the python app to process and return processed text as part of a flow.\r\n\r\nWhat do you think is the simplest solution for this?\r\n\r\nThanks,\r\nRod","title":"Interaction between Java App and Python App","body":"<p>I have a python application which I cant edit its a black box from my point of view. The python application knows how to process text and return processed text.\nI have another application written in Java which knows how to collect non processed texts.</p>\n\n<p>Current state, the python app works in batch mode every x minutes.</p>\n\n<p>I want to make the python </p>\n\n<p>processing part of the process: Java app collects text and request the python app to process and return processed text as part of a flow.</p>\n\n<p>What do you think is the simplest solution for this?</p>\n\n<p>Thanks,\nRod</p>\n"},{"tags":["java","jpa","jparepository"],"answers":[{"comments":[{"owner":{"account_id":21257039,"reputation":3,"user_id":15638373,"display_name":"Jo&#227;o Hass"},"score":0,"creation_date":1684713871,"post_id":76302120,"comment_id":134552663,"body_markdown":"Oh, I didn&#39;t know about it. I changed my `setName()` to private `computeName()` and I&#39;m calling it from the `setDateOfBirth()` method. I also found the [PostLoad](https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc_callbacks.html) annotation in the docs you linked, which I&#39;m also using on my `computeAge()` method, so it gets called every time an entity is instantiated. Thank you for the fast response :)","body":"Oh, I didn&#39;t know about it. I changed my <code>setName()</code> to private <code>computeName()</code> and I&#39;m calling it from the <code>setDateOfBirth()</code> method. I also found the <a href=\"https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc_callbacks.html\" rel=\"nofollow noreferrer\">PostLoad</a> annotation in the docs you linked, which I&#39;m also using on my <code>computeAge()</code> method, so it gets called every time an entity is instantiated. Thank you for the fast response :)"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685035385,"post_id":76302120,"comment_id":134608594,"body_markdown":"I prefer, when possible, not using that kind of annotation. Using the setter or getter technique allows my code to have the same behavior outside jpa context. It makes unit tests simpler.","body":"I prefer, when possible, not using that kind of annotation. Using the setter or getter technique allows my code to have the same behavior outside jpa context. It makes unit tests simpler."}],"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684707454,"creation_date":1684706929,"answer_id":76302120,"question_id":76302053,"body_markdown":"JPA does not use your constructor. JPA specification requires no-arg constructor. You JPA implementation can create one for you if you don&#39;t provide one no-arg constructor (For example openjpa does it, see https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc.html#jpa_overview_pc_no_arg).\r\n\r\nThat&#39;s why your code works when you change the getter to compute the age value.\r\n\r\nIf you don&#39;t want to recompute the age every time the getter is called you can :\r\n\r\n - compute the age when the birth date is set, in the setDateOfBirth() method.\r\n - lazily compute and store the age in the getAge() method. Something like :\r\n\r\n```\r\n\r\n    public Integer getAge() {\r\n      if (age == null &amp;&amp; dateOfBirth != null) {\r\n        age = Period.between(dateOfBirth, LocalDate.now()).getYears();\r\n       }\r\n       return age;\r\n    }\r\n\r\n```\r\n","title":"Class entity returned from method findAll of JpaRepository has field value of null on field calculated inside the constructor","body":"<p>JPA does not use your constructor. JPA specification requires no-arg constructor. You JPA implementation can create one for you if you don't provide one no-arg constructor (For example openjpa does it, see <a href=\"https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc.html#jpa_overview_pc_no_arg\" rel=\"nofollow noreferrer\">https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_overview_pc.html#jpa_overview_pc_no_arg</a>).</p>\n<p>That's why your code works when you change the getter to compute the age value.</p>\n<p>If you don't want to recompute the age every time the getter is called you can :</p>\n<ul>\n<li>compute the age when the birth date is set, in the setDateOfBirth() method.</li>\n<li>lazily compute and store the age in the getAge() method. Something like :</li>\n</ul>\n<pre><code>\n    public Integer getAge() {\n      if (age == null &amp;&amp; dateOfBirth != null) {\n        age = Period.between(dateOfBirth, LocalDate.now()).getYears();\n       }\n       return age;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":21257039,"reputation":3,"user_id":15638373,"display_name":"Jo&#227;o Hass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76302120,"answer_count":1,"score":0,"last_activity_date":1684707454,"creation_date":1684705760,"question_id":76302053,"body_markdown":"I have a Student class that has some fields, including &quot;age&quot; and &quot;dateOfBirth&quot;. The age value is calculated and attributed inside the constructor, based on the dateOfBirth, as following:\r\n\r\n\r\n```java\r\n//Student.java\r\n\r\nprivate Integer id;\r\nprivate String name;\r\nprivate String email;\r\nprivate LocalDate dateOfBirth;\r\n@Transient\r\nprivate Integer age;\r\n\r\npublic Student(String name, String email, LocalDate dateOfBirth) {\r\n    this.name = name; // ex: &quot;John Doe&quot;\r\n    this.email = email; // ex: &quot;johndoe@gmail.com&quot;\r\n    this.dateOfBirth = dateOfBirth; // ex: LocalDate.of(2002, Month.MAY, 1));\r\n    this.age = Period.between(dateOfBirth, LocalDate.now()).getYears(); // result: 21\r\n}\r\n```\r\n\r\nThe ``getAge()`` method inside the Student class returns the age field value\r\n\r\n\r\n```java\r\n//Student.java\r\n\r\npublic Integer getAge() {\r\n    return age; // Returns the expected value (21)\r\n}\r\n```\r\n\r\n*(getters for every other field have the same structure as the ``getAge()``: they return the field&#39;s value)*\r\n\r\nI also have a simple Repository, to query data from DB. It extends from the ``JpaRepository`` and has nothing inside it:\r\n\r\n```java\r\n//StudentRepository.java\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; { }\r\n```\r\n\r\nInside the StudentController class, I have a route to ``&quot;/&quot;``, which simply gets all the students from DB and return them:\r\n\r\n```java\r\n//StudentController.java\r\n\r\n@GetMapping(&quot;/&quot;)\r\npublic List&lt;Student&gt; getStudents() {\r\n     return studentService.getStudents();\r\n}\r\n```\r\n\r\nThe result I was expecting is the following, with the age field&#39;s value being 21:\r\n\r\n\r\n```json\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\r\n```\r\n\r\nInstead, I got a ``null`` value for the age field:\r\n\r\n\r\n```json\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:null}]\r\n```\r\n\r\nBut if I change the ``getAge()`` method implementation of the Student class to:\r\n\r\n\r\n```java\r\n// Student.java\r\n\r\n public Integer getAge() {\r\n    return Period.between(dateOfBirth, LocalDate.now()).getYears();\r\n}\r\n```\r\n\r\nI get the ``21`` as expected, not ``null``. \r\n\r\n\r\n```json\r\n[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\r\n```","title":"Class entity returned from method findAll of JpaRepository has field value of null on field calculated inside the constructor","body":"<p>I have a Student class that has some fields, including &quot;age&quot; and &quot;dateOfBirth&quot;. The age value is calculated and attributed inside the constructor, based on the dateOfBirth, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Student.java\n\nprivate Integer id;\nprivate String name;\nprivate String email;\nprivate LocalDate dateOfBirth;\n@Transient\nprivate Integer age;\n\npublic Student(String name, String email, LocalDate dateOfBirth) {\n    this.name = name; // ex: &quot;John Doe&quot;\n    this.email = email; // ex: &quot;johndoe@gmail.com&quot;\n    this.dateOfBirth = dateOfBirth; // ex: LocalDate.of(2002, Month.MAY, 1));\n    this.age = Period.between(dateOfBirth, LocalDate.now()).getYears(); // result: 21\n}\n</code></pre>\n<p>The <code>getAge()</code> method inside the Student class returns the age field value</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Student.java\n\npublic Integer getAge() {\n    return age; // Returns the expected value (21)\n}\n</code></pre>\n<p><em>(getters for every other field have the same structure as the <code>getAge()</code>: they return the field's value)</em></p>\n<p>I also have a simple Repository, to query data from DB. It extends from the <code>JpaRepository</code> and has nothing inside it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//StudentRepository.java\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; { }\n</code></pre>\n<p>Inside the StudentController class, I have a route to <code>&quot;/&quot;</code>, which simply gets all the students from DB and return them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//StudentController.java\n\n@GetMapping(&quot;/&quot;)\npublic List&lt;Student&gt; getStudents() {\n     return studentService.getStudents();\n}\n</code></pre>\n<p>The result I was expecting is the following, with the age field's value being 21:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\n</code></pre>\n<p>Instead, I got a <code>null</code> value for the age field:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:null}]\n</code></pre>\n<p>But if I change the <code>getAge()</code> method implementation of the Student class to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Student.java\n\n public Integer getAge() {\n    return Period.between(dateOfBirth, LocalDate.now()).getYears();\n}\n</code></pre>\n<p>I get the <code>21</code> as expected, not <code>null</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;id&quot;:1,&quot;name&quot;:&quot;John Doe&quot;,&quot;email&quot;:&quot;johndoe@gmail.com&quot;,&quot;dateOfBirth&quot;:&quot;2002-05-01&quot;,&quot;age&quot;:21}]\n</code></pre>\n"},{"tags":["java","json","spring-data-jpa","jackson"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1684398153,"post_id":76220447,"comment_id":134513023,"body_markdown":"could you post the code that about your use case","body":"could you post the code that about your use case"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1684505611,"post_id":76220447,"comment_id":134531449,"body_markdown":"@similieis2333 which code? I mean code about what? I thought my example was code","body":"@similieis2333 which code? I mean code about what? I thought my example was code"}],"answers":[{"comments":[{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1684778241,"post_id":76302143,"comment_id":134563463,"body_markdown":"&#39;I suggest that you accept the permanent addition of entityType in the superclass&#39; - The problem is that the json is returned by an external API and I cannot modify it.","body":"&#39;I suggest that you accept the permanent addition of entityType in the superclass&#39; - The problem is that the json is returned by an external API and I cannot modify it."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1684803827,"post_id":76302143,"comment_id":134567094,"body_markdown":"OK, so how can you/the machine distinguish a `Employee` from a `Contractor`?  Can provide some specimen JSON for both?  There is another way...","body":"OK, so how can you/the machine distinguish a <code>Employee</code> from a <code>Contractor</code>?  Can provide some specimen JSON for both?  There is another way..."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1684804417,"post_id":76302143,"comment_id":134567141,"body_markdown":"OR to you always know at the point you invoke the deserialization what the content is: Employee or Contractor?","body":"OR to you always know at the point you invoke the deserialization what the content is: Employee or Contractor?"},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1684851940,"post_id":76302143,"comment_id":134575775,"body_markdown":"Yes I do know at the point of de-serialization what content it is, because the generic class gets the class type of the expected json as well. I can remove entityType, but then the openAPI doesn&#39;t generate the class hierarchy without the discriminator. I guess I can keep the BaseClass outside the OpenAPI somehow.","body":"Yes I do know at the point of de-serialization what content it is, because the generic class gets the class type of the expected json as well. I can remove entityType, but then the openAPI doesn&#39;t generate the class hierarchy without the discriminator. I guess I can keep the BaseClass outside the OpenAPI somehow."},{"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"score":0,"creation_date":1684881273,"post_id":76302143,"comment_id":134581718,"body_markdown":"&#39;then you can invoke the mapper passing the Employee class. -&gt; how to do that? I tired          TypeReference&lt;List&lt;Employee&gt;&gt; typeReference= new TypeReference&lt;&gt;(){};\nobjectMapper.readValue(new File(...), typeReference);","body":"&#39;then you can invoke the mapper passing the Employee class. -&gt; how to do that? I tired          TypeReference&lt;List&lt;Employee&gt;&gt; typeReference= new TypeReference&lt;&gt;(){}; objectMapper.readValue(new File(...), typeReference);"}],"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684707332,"creation_date":1684707332,"answer_id":76302143,"question_id":76220447,"body_markdown":"&gt; How would this deserializing work if I know that I&#39;m de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all?\r\n\r\nIf *you* know that the JSON represents an `Employee` and not a `Contractor` (e.g. based on the source) then you can invoke the mapper passing the `Employee` class.  But if you are using this in a general case where you want the deserialization to return either `Employee` or `Contractor` then there needs to be a _discriminator_ so the deserializer can choose the correct concrete class itself.  (Consider the case where two subclasses have identical fields, but nevertheless are being modelled as different classes - there would be no way for the serializer to guess which class it should instantiate.)\r\n\r\n(1) I suggest that you accept the permanent addition of `entityType` in the superclass - and in particular you should serialize it so that the JSON then carries the type info.  And (2) you should remove the `@JsonIgnoreProperties...` so that the type info *is* available to the deserializer.\r\n\r\nTo enforce the correct type automatically here&#39;s what you can do: (3) `BaseClass` should require `entityType` in its constructor and you can code the correct type in `Employee` and `Contractor` constructors so they pass the type to `BaseClass`.\r\n\r\nAs you are now managing the `entityType` yourself, I think (4) the `@JsonTypeInfo` should be:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;entityType&quot;, visible = true)\r\n                                                                    ^^^^^^^^^\r\n```\r\n\r\nThis approach is compatible with JPA.  I am using Jackson, Spring Data and Mongo as my backing store.  In the case of Mongo, Spring adds a `_class` field as its own different way to handle the de/serialisation.  The `_class` field occurs in the database but is not in the java object.  So this approach is using two parallel methods of type management and they do not collide; in fact this allows finer-grain control should you need slightly different external (JSON) models compared to the backing store.","title":"JPA and Jackson with Inheritance - How to get this to work?","body":"<blockquote>\n<p>How would this deserializing work if I know that I'm de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all?</p>\n</blockquote>\n<p>If <em>you</em> know that the JSON represents an <code>Employee</code> and not a <code>Contractor</code> (e.g. based on the source) then you can invoke the mapper passing the <code>Employee</code> class.  But if you are using this in a general case where you want the deserialization to return either <code>Employee</code> or <code>Contractor</code> then there needs to be a <em>discriminator</em> so the deserializer can choose the correct concrete class itself.  (Consider the case where two subclasses have identical fields, but nevertheless are being modelled as different classes - there would be no way for the serializer to guess which class it should instantiate.)</p>\n<p>(1) I suggest that you accept the permanent addition of <code>entityType</code> in the superclass - and in particular you should serialize it so that the JSON then carries the type info.  And (2) you should remove the <code>@JsonIgnoreProperties...</code> so that the type info <em>is</em> available to the deserializer.</p>\n<p>To enforce the correct type automatically here's what you can do: (3) <code>BaseClass</code> should require <code>entityType</code> in its constructor and you can code the correct type in <code>Employee</code> and <code>Contractor</code> constructors so they pass the type to <code>BaseClass</code>.</p>\n<p>As you are now managing the <code>entityType</code> yourself, I think (4) the <code>@JsonTypeInfo</code> should be:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;entityType&quot;, visible = true)\n                                                                    ^^^^^^^^^\n</code></pre>\n<p>This approach is compatible with JPA.  I am using Jackson, Spring Data and Mongo as my backing store.  In the case of Mongo, Spring adds a <code>_class</code> field as its own different way to handle the de/serialisation.  The <code>_class</code> field occurs in the database but is not in the java object.  So this approach is using two parallel methods of type management and they do not collide; in fact this allows finer-grain control should you need slightly different external (JSON) models compared to the backing store.</p>\n"}],"owner":{"account_id":2842013,"reputation":1289,"user_id":2441441,"accept_rate":65,"display_name":"user2441441"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684707332,"creation_date":1683733909,"question_id":76220447,"body_markdown":"I think this can be better explained with an example(code is below). Suppose I have BaseClass and some sub-classes like Employee, Contractor etc. I do not want a database table for BaseClass(Hence using @MappedSuperClass).\r\nBaseClass has some common fields, but entityType is not a valid database field in any subclass like Employee, Contrator (Hence I denoted it as @Transient).\r\nNow I get back a json that has all the Employee values, it does not have endDate value that is in the BaseClass. I want to set the BaseClass&#39;s common fields like endDate in the Employee class and save it to the Employee table.\r\n\r\nWhen retrieving I want to retrieve all Employees that have an endDate as some value. This should be possible because I did save the endDate when saving my Employee records.\r\n\r\nAdditional Info: I&#39;m having trouble getting this to work. I&#39;m using openAPI and I understood that I need this discriminator column to have a super class-sub class relationship generated - https://stackoverflow.com/questions/76105116/inheritance-from-empty-abstract-class-using-openapi-3-0/76105322?noredirect=1#comment134400499_76105322. \r\n\r\n\r\n          @JsonIgnoreProperties(\r\n      value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\r\n      allowSetters = true // allows the entityType to be set during deserialization\r\n    )\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;, visible = true)\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = Employee.class, name = &quot;Employee&quot;)\r\n       @JsonSubTypes.Type(value = Contractor.class, name = &quot;Contractor&quot;)\r\n    }) \r\n      @jakarta.persistence.MappedSuperclass\r\n      public abstract BaseClass{\r\n       //common to all sub-classes\r\n       LocalDate endDate;\r\n\r\n       /**\r\n        Gets or Sets entityType\r\n       */\r\n       public enum EntityTypeEnum {\r\n        Employee(&quot;Employee&quot;);\r\n        Contractor(&quot;Contractor&quot;);\r\n    \r\n        private String value;\r\n    \r\n        EntityTypeEnum(String value) {\r\n          this.value = value;\r\n        }\r\n    \r\n        @JsonValue\r\n        public String getValue() {\r\n          return value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return String.valueOf(value);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static EntityTypeEnum fromValue(String value) {\r\n          for (EntityTypeEnum b : EntityTypeEnum.values()) {\r\n            if (b.value.equals(value)) {\r\n              return b;\r\n            }\r\n          }\r\n          throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n      }\r\n    \r\n         @JsonProperty(&quot;entityType&quot;)\r\n         @jakarta.persistence.Transient\r\n         private EntityTypeEnum entityType;\r\n    \r\n        }\r\n    \r\n        public Employee extends BaseClass {...}\r\n    \r\n        public Contractor extends BaseClass{...}\r\n\r\nHow would this deserializing work if I know that I&#39;m de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all? Currently I get &#39;missing type id property &#39;entityType&#39;&#39;\r\nI want to de-serialize a json of Employees to List&lt;Employee&gt; class. The Json does not have entityType or any superclass(i.e. BaseClass from the above example) fields. \r\n\r\nSo to summarize, I want Jackson and JPA to play nicely with each other. \r\n 1. I want to Jackson to correctly read a json, where the json has only the Employee related values(no superclass values yet) (At runtime I will know that I have Employee.class).\r\n 2. I want to save this to the Employees table after setting my own values like endDate(which are in the BaseClass).\r\n 3. I want to retrive this later, from the Employees table, knowing taht I have the endDate and Employee.class value at runtime.\r\n\r\nHope this makes sense. If not let me rephrase my questions:\r\nOpenAPI requires me to use the discriminator, in this case we call it entityType, for the inheritance to work when the classes are generated. But when I do that, Jackson complains that it cannot find the property id entityType when serializing a json. The json obviously does not have a field called entityType because we created this field.\r\nI tired variaous apporached including using :\r\n1.  \r\n\r\n     objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n2.\r\n   \r\n\r\n    objectMapper.enable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE);\r\n\r\n3.\r\nAdding the following to the top of the BaseClass:\r\n\r\n    @JsonIgnoreProperties(\r\n      value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\r\n      allowSetters = true // allows the entityType to be set during deserialization\r\n    )\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;)\r\n\r\nand I still get this error com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class Employee]: missing type id property &#39;entityType&#39;\r\n","title":"JPA and Jackson with Inheritance - How to get this to work?","body":"<p>I think this can be better explained with an example(code is below). Suppose I have BaseClass and some sub-classes like Employee, Contractor etc. I do not want a database table for BaseClass(Hence using @MappedSuperClass).\nBaseClass has some common fields, but entityType is not a valid database field in any subclass like Employee, Contrator (Hence I denoted it as @Transient).\nNow I get back a json that has all the Employee values, it does not have endDate value that is in the BaseClass. I want to set the BaseClass's common fields like endDate in the Employee class and save it to the Employee table.</p>\n<p>When retrieving I want to retrieve all Employees that have an endDate as some value. This should be possible because I did save the endDate when saving my Employee records.</p>\n<p>Additional Info: I'm having trouble getting this to work. I'm using openAPI and I understood that I need this discriminator column to have a super class-sub class relationship generated - <a href=\"https://stackoverflow.com/questions/76105116/inheritance-from-empty-abstract-class-using-openapi-3-0/76105322?noredirect=1#comment134400499_76105322\">Inheritance from empty abstract class using openapi 3.0</a>.</p>\n<pre><code>      @JsonIgnoreProperties(\n  value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the entityType to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = Employee.class, name = &quot;Employee&quot;)\n   @JsonSubTypes.Type(value = Contractor.class, name = &quot;Contractor&quot;)\n}) \n  @jakarta.persistence.MappedSuperclass\n  public abstract BaseClass{\n   //common to all sub-classes\n   LocalDate endDate;\n\n   /**\n    Gets or Sets entityType\n   */\n   public enum EntityTypeEnum {\n    Employee(&quot;Employee&quot;);\n    Contractor(&quot;Contractor&quot;);\n\n    private String value;\n\n    EntityTypeEnum(String value) {\n      this.value = value;\n    }\n\n    @JsonValue\n    public String getValue() {\n      return value;\n    }\n\n    @Override\n    public String toString() {\n      return String.valueOf(value);\n    }\n\n    @JsonCreator\n    public static EntityTypeEnum fromValue(String value) {\n      for (EntityTypeEnum b : EntityTypeEnum.values()) {\n        if (b.value.equals(value)) {\n          return b;\n        }\n      }\n      throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n    }\n  }\n\n     @JsonProperty(&quot;entityType&quot;)\n     @jakarta.persistence.Transient\n     private EntityTypeEnum entityType;\n\n    }\n\n    public Employee extends BaseClass {...}\n\n    public Contractor extends BaseClass{...}\n</code></pre>\n<p>How would this deserializing work if I know that I'm de-serializing Employee.class, but the Json for employees that I receive does not have the entityType as a property at all? Currently I get 'missing type id property 'entityType''\nI want to de-serialize a json of Employees to List class. The Json does not have entityType or any superclass(i.e. BaseClass from the above example) fields.</p>\n<p>So to summarize, I want Jackson and JPA to play nicely with each other.</p>\n<ol>\n<li>I want to Jackson to correctly read a json, where the json has only the Employee related values(no superclass values yet) (At runtime I will know that I have Employee.class).</li>\n<li>I want to save this to the Employees table after setting my own values like endDate(which are in the BaseClass).</li>\n<li>I want to retrive this later, from the Employees table, knowing taht I have the endDate and Employee.class value at runtime.</li>\n</ol>\n<p>Hope this makes sense. If not let me rephrase my questions:\nOpenAPI requires me to use the discriminator, in this case we call it entityType, for the inheritance to work when the classes are generated. But when I do that, Jackson complains that it cannot find the property id entityType when serializing a json. The json obviously does not have a field called entityType because we created this field.\nI tired variaous apporached including using :\n1.</p>\n<pre><code> objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>objectMapper.enable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE);\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p>Adding the following to the top of the BaseClass:</p>\n<pre><code>@JsonIgnoreProperties(\n  value = &quot;entityType&quot;, // ignore manually set entityType, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the entityType to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;entityType&quot;)\n</code></pre>\n<p>and I still get this error com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class Employee]: missing type id property 'entityType'</p>\n"},{"tags":["java","spring-boot","openstreetmap","graphhopper"],"owner":{"account_id":28620230,"reputation":1,"user_id":21913423,"display_name":"SVG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684707268,"creation_date":1684707268,"question_id":76302141,"body_markdown":"I have a local instance of graphhopper running on the back-end using java spring boot.\r\nthis is the code: \r\n\r\n\r\n\r\n```\r\npackage com.example.greenpathsbe.Services;\r\n\r\nimport com.graphhopper.GraphHopper;\r\nimport com.graphhopper.GraphHopperConfig;\r\nimport com.graphhopper.ResponsePath;\r\nimport com.graphhopper.reader.osm.GraphHopperOSM;\r\nimport com.graphhopper.config.Profile;\r\nimport com.graphhopper.util.Instruction;\r\nimport com.graphhopper.util.PointList;\r\nimport com.graphhopper.util.shapes.GHPoint;\r\nimport org.apache.commons.csv.CSVFormat;\r\nimport org.apache.commons.csv.CSVRecord;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\n@Service\r\npublic class GraphHopperService {\r\n\r\n    @Value(&quot;${graphhopper.data.path}&quot;)\r\n    private String dataPath;\r\n\r\n    @Value(&quot;${graphhopper.data.pathToCsv}&quot;)\r\n    private String path;\r\n    private String graphFolder = &quot;./graphFolder&quot;;\r\n\r\n    private List&lt;Profile&gt; profiles;\r\n    private GraphHopper graphHopper;\r\n\r\n\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        Profile profile = new Profile(&quot;my_profile&quot;)\r\n                .setVehicle(&quot;foot&quot;)\r\n                \r\n                .setWeighting(&quot;shortest&quot;);\r\n        profile.getHints().put(&quot;instructions&quot;, &quot;true&quot;);\r\n        profiles = new ArrayList&lt;&gt;();\r\n        profiles.add(profile);\r\n        graphHopper = new GraphHopperOSM();\r\n        graphHopper.setOSMFile(dataPath + &quot;eindhoven.osm.pbf&quot;);\r\n        graphHopper.init(new GraphHopperConfig().setProfiles(profiles));\r\n        graphHopper.setGraphHopperLocation(graphFolder);\r\n        graphHopper.getCHPreparationHandler();\r\n        graphHopper.importOrLoad();\r\n    }\r\n\r\n    public GraphHopper getGraphHopper() {\r\n        return graphHopper;\r\n    }\r\n    public List&lt;CustomPath&gt; createCustomPaths(List&lt;ResponsePath&gt; responsePaths) {\r\n        List&lt;CustomPath&gt; customPaths = new ArrayList&lt;&gt;();\r\n        for (ResponsePath responsePath : responsePaths) {\r\n            CustomPath customPath = new CustomPath();\r\n            List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\r\n            for (GHPoint point : responsePath.getPoints()) {\r\n                Coordinate coordinate = new Coordinate();\r\n                coordinate.setLatitude(point.getLat());\r\n                coordinate.setLongitude(point.getLon());\r\n                coordinates.add(coordinate);\r\n            }\r\n            customPath.setNodes(coordinates.size());\r\n            customPath.setCoordinates(coordinates);\r\n            List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\r\n            for (Instruction instruction : responsePath.getInstructions()) {\r\n                PathSegment pathSegment = new PathSegment();\r\n                pathSegment.setId(instruction.getSign());\r\n                pathSegment.setName(instruction.getName());\r\n                pathSegment.setDistance(instruction.getDistance());\r\n                pathSegment.setTime(instruction.getTime());\r\n                pathSegments.add(pathSegment);\r\n            }\r\n            customPath.setPathSegments(pathSegments);\r\n            customPaths.add(customPath);\r\n        }\r\n        return customPaths;\r\n    }\r\n    public CustomPath createCustomPath(ResponsePath responsePath) {\r\n        CustomPath customPath = new CustomPath();\r\n        List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\r\n        for (GHPoint point : responsePath.getPoints()) {\r\n            Coordinate coordinate = new Coordinate();\r\n            coordinate.setLatitude(point.getLat());\r\n            coordinate.setLongitude(point.getLon());\r\n            coordinates.add(coordinate);\r\n        }\r\n        customPath.setNodes(coordinates.size());\r\n        customPath.setCoordinates(coordinates);\r\n        List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\r\n        for (Instruction instruction : responsePath.getInstructions()) {\r\n            PathSegment pathSegment = new PathSegment();\r\n            pathSegment.setId(instruction.getSign());\r\n            pathSegment.setName(instruction.getName());\r\n            pathSegment.setDistance(instruction.getDistance());\r\n            pathSegment.setTime(instruction.getTime());\r\n            pathSegments.add(pathSegment);\r\n        }\r\n        customPath.setPathSegments(pathSegments);\r\n        return customPath;\r\n    }\r\n}\r\n\r\n\r\n```\r\nThis is the controller which I call in the front-end: \r\n\r\n\r\n```\r\npackage com.example.greenpathsbe.controller;\r\n\r\nimport com.example.greenpathsbe.Services.CustomPath;\r\nimport com.example.greenpathsbe.Services.ExtendedResponsePath;\r\nimport com.example.greenpathsbe.Services.GraphHopperService;\r\nimport com.graphhopper.GHRequest;\r\nimport com.graphhopper.GHResponse;\r\nimport com.graphhopper.ResponsePath;\r\nimport com.graphhopper.util.Parameters;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.converter.HttpMessageNotWritableException;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport com.graphhopper.routing.Path;\r\n\r\nimport java.lang.reflect.Parameter;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/routes&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\r\npublic class RouteController {\r\n    @Autowired\r\n    private GraphHopperService graphHopperService;\r\n\r\n    @GetMapping\r\n    public List&lt;CustomPath&gt; getRoute(\r\n            @RequestParam(&quot;fromLat&quot;) double fromLat,\r\n            @RequestParam(&quot;fromLng&quot;) double fromLng,\r\n            @RequestParam(&quot;toLat&quot;) double toLat,\r\n            @RequestParam(&quot;toLng&quot;) double toLng) {\r\n\r\n            System.out.println(&quot;fromLat: &quot; + fromLat);\r\n            System.out.println(&quot;fromLng: &quot; + fromLng);\r\n            System.out.println(&quot;toLat: &quot; + toLat);\r\n            System.out.println(&quot;toLng: &quot; + toLng);\r\n            GHRequest request = new GHRequest(fromLat, fromLng, toLat, toLng).setProfile(&quot;my_profile&quot;).setAlgorithm(Parameters.Algorithms.ALT_ROUTE);\r\n            request.getHints().put(&quot;instructions&quot;, &quot;true&quot;);  // Might be useless\r\n            GHResponse response = graphHopperService.getGraphHopper().route(request);\r\n            List&lt;ResponsePath&gt; responsePaths = response.getAll();\r\n            System.out.println(&quot;response: &quot; + response);\r\n\r\n          //  return graphHopperService.createCustomPath(response.getBest());\r\n            return graphHopperService.createCustomPaths(responsePaths);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am trying to make it so it will return multiple routes between point A and B. Right now I get a maximum of 2 routes which is not sufficient for my needs. Any ideas what can I do?","title":"Return multiple routes using Graphhopper","body":"<p>I have a local instance of graphhopper running on the back-end using java spring boot.\nthis is the code:</p>\n<pre><code>package com.example.greenpathsbe.Services;\n\nimport com.graphhopper.GraphHopper;\nimport com.graphhopper.GraphHopperConfig;\nimport com.graphhopper.ResponsePath;\nimport com.graphhopper.reader.osm.GraphHopperOSM;\nimport com.graphhopper.config.Profile;\nimport com.graphhopper.util.Instruction;\nimport com.graphhopper.util.PointList;\nimport com.graphhopper.util.shapes.GHPoint;\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVRecord;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.io.*;\nimport java.util.*;\n\n@Service\npublic class GraphHopperService {\n\n    @Value(&quot;${graphhopper.data.path}&quot;)\n    private String dataPath;\n\n    @Value(&quot;${graphhopper.data.pathToCsv}&quot;)\n    private String path;\n    private String graphFolder = &quot;./graphFolder&quot;;\n\n    private List&lt;Profile&gt; profiles;\n    private GraphHopper graphHopper;\n\n\n\n    @PostConstruct\n    public void init() {\n        Profile profile = new Profile(&quot;my_profile&quot;)\n                .setVehicle(&quot;foot&quot;)\n                \n                .setWeighting(&quot;shortest&quot;);\n        profile.getHints().put(&quot;instructions&quot;, &quot;true&quot;);\n        profiles = new ArrayList&lt;&gt;();\n        profiles.add(profile);\n        graphHopper = new GraphHopperOSM();\n        graphHopper.setOSMFile(dataPath + &quot;eindhoven.osm.pbf&quot;);\n        graphHopper.init(new GraphHopperConfig().setProfiles(profiles));\n        graphHopper.setGraphHopperLocation(graphFolder);\n        graphHopper.getCHPreparationHandler();\n        graphHopper.importOrLoad();\n    }\n\n    public GraphHopper getGraphHopper() {\n        return graphHopper;\n    }\n    public List&lt;CustomPath&gt; createCustomPaths(List&lt;ResponsePath&gt; responsePaths) {\n        List&lt;CustomPath&gt; customPaths = new ArrayList&lt;&gt;();\n        for (ResponsePath responsePath : responsePaths) {\n            CustomPath customPath = new CustomPath();\n            List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\n            for (GHPoint point : responsePath.getPoints()) {\n                Coordinate coordinate = new Coordinate();\n                coordinate.setLatitude(point.getLat());\n                coordinate.setLongitude(point.getLon());\n                coordinates.add(coordinate);\n            }\n            customPath.setNodes(coordinates.size());\n            customPath.setCoordinates(coordinates);\n            List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\n            for (Instruction instruction : responsePath.getInstructions()) {\n                PathSegment pathSegment = new PathSegment();\n                pathSegment.setId(instruction.getSign());\n                pathSegment.setName(instruction.getName());\n                pathSegment.setDistance(instruction.getDistance());\n                pathSegment.setTime(instruction.getTime());\n                pathSegments.add(pathSegment);\n            }\n            customPath.setPathSegments(pathSegments);\n            customPaths.add(customPath);\n        }\n        return customPaths;\n    }\n    public CustomPath createCustomPath(ResponsePath responsePath) {\n        CustomPath customPath = new CustomPath();\n        List&lt;Coordinate&gt; coordinates = new ArrayList&lt;&gt;();\n        for (GHPoint point : responsePath.getPoints()) {\n            Coordinate coordinate = new Coordinate();\n            coordinate.setLatitude(point.getLat());\n            coordinate.setLongitude(point.getLon());\n            coordinates.add(coordinate);\n        }\n        customPath.setNodes(coordinates.size());\n        customPath.setCoordinates(coordinates);\n        List&lt;PathSegment&gt; pathSegments = new ArrayList&lt;&gt;();\n        for (Instruction instruction : responsePath.getInstructions()) {\n            PathSegment pathSegment = new PathSegment();\n            pathSegment.setId(instruction.getSign());\n            pathSegment.setName(instruction.getName());\n            pathSegment.setDistance(instruction.getDistance());\n            pathSegment.setTime(instruction.getTime());\n            pathSegments.add(pathSegment);\n        }\n        customPath.setPathSegments(pathSegments);\n        return customPath;\n    }\n}\n\n\n</code></pre>\n<p>This is the controller which I call in the front-end:</p>\n<pre><code>package com.example.greenpathsbe.controller;\n\nimport com.example.greenpathsbe.Services.CustomPath;\nimport com.example.greenpathsbe.Services.ExtendedResponsePath;\nimport com.example.greenpathsbe.Services.GraphHopperService;\nimport com.graphhopper.GHRequest;\nimport com.graphhopper.GHResponse;\nimport com.graphhopper.ResponsePath;\nimport com.graphhopper.util.Parameters;\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.converter.HttpMessageNotWritableException;\nimport org.springframework.web.bind.annotation.*;\nimport com.graphhopper.routing.Path;\n\nimport java.lang.reflect.Parameter;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/routes&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:3000/&quot;)\npublic class RouteController {\n    @Autowired\n    private GraphHopperService graphHopperService;\n\n    @GetMapping\n    public List&lt;CustomPath&gt; getRoute(\n            @RequestParam(&quot;fromLat&quot;) double fromLat,\n            @RequestParam(&quot;fromLng&quot;) double fromLng,\n            @RequestParam(&quot;toLat&quot;) double toLat,\n            @RequestParam(&quot;toLng&quot;) double toLng) {\n\n            System.out.println(&quot;fromLat: &quot; + fromLat);\n            System.out.println(&quot;fromLng: &quot; + fromLng);\n            System.out.println(&quot;toLat: &quot; + toLat);\n            System.out.println(&quot;toLng: &quot; + toLng);\n            GHRequest request = new GHRequest(fromLat, fromLng, toLat, toLng).setProfile(&quot;my_profile&quot;).setAlgorithm(Parameters.Algorithms.ALT_ROUTE);\n            request.getHints().put(&quot;instructions&quot;, &quot;true&quot;);  // Might be useless\n            GHResponse response = graphHopperService.getGraphHopper().route(request);\n            List&lt;ResponsePath&gt; responsePaths = response.getAll();\n            System.out.println(&quot;response: &quot; + response);\n\n          //  return graphHopperService.createCustomPath(response.getBest());\n            return graphHopperService.createCustomPaths(responsePaths);\n\n    }\n\n\n}\n</code></pre>\n<p>I am trying to make it so it will return multiple routes between point A and B. Right now I get a maximum of 2 routes which is not sufficient for my needs. Any ideas what can I do?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","factory-pattern"],"answers":[{"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1684705772,"post_id":76301927,"comment_id":134551998,"body_markdown":"No problem :) Please have a look at my edited answer, I think there is a better solution than using the ApplicationContext.","body":"No problem :) Please have a look at my edited answer, I think there is a better solution than using the ApplicationContext."}],"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1684707227,"creation_date":1684703301,"answer_id":76301927,"question_id":76301832,"body_markdown":"Some details that could be important are missing in your question (packages of the classes involved in your problem, for example) but I guess that, for any reason, the ApplicationContext you instantiate in your ProcessFileFactory does not discover the DoctorRepository class.\r\n\r\nI suggest to change your factory this way :\r\n\r\n```\r\n    @Component\r\n    public class ProcessFileFactory implements org.springframework.context.ApplicationContextAware {\r\n\r\n        private static ApplicationContext applicationContext;\r\n\r\n        public static ProcessImportFiles getInstance(String fileType) {\r\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n                return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\r\n            }\r\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n                return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n    \tpublic void setApplicationContext(ApplicationContext context)\r\n\t\t\tthrows BeansException {\r\n\t\t    this.applicationContext = context;\r\n\t    }\r\n    }\r\n```\r\n\r\nWhen you implement ApplicationContextAware interface, you ask Spring to inject into your class the existing application context.\r\n\r\nBut, to be honest, there is a solution that, I think, would be cleaner as it would just use Dependency Injection instead of getting beans from the application context.\r\n\r\nChange your `ProcessImportFiles` this way :\r\n\r\n```\r\n    public interface ProcessImportFiles {\r\n\r\n      String getManagedFileType();\r\n\r\n      void processImportFile(String fileName, Sheet sheet);\r\n\r\n    }\r\n```\r\n\r\nImplementation example of the interface for `ProcessPatientFile`:\r\n\r\n```\r\n@Service\r\npublic class ProcessPatientFile implements ProcessImportFiles {\r\n\r\n    @Override\r\n    public String getManagedFileType() {\r\n        return ImportTypes.PATIENTS.toString();\r\n    }\r\n\r\n    @Override\r\n    public void processImportFile(String fileName, Sheet sheet) {\r\n\r\n        System.out.println(&quot;I&#39;m processing a PATIENTS file&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nThen change your `ProcessFileFactory` class this way :\r\n\r\n```\r\n    @Component\r\n    public class ProcessFileFactory {\r\n\r\n      private Map&lt;String, ProcessImportFiles&gt; importFileProcessorsByType;\r\n\r\n      public ProcessFileFactory(Collection&lt;ProcessImportFiles&gt; importFileProcessors) {\r\n\r\n        importFileProcessorsByType = importFileProcessors.stream().collect(Collectors.toMap(\r\n            ProcessImportFiles::getManagedFileType,\r\n            processor -&gt; processor\r\n        ));\r\n\r\n      }\r\n\r\n      public ProcessImportFiles getInstance(String fileType) {\r\n        return importFileProcessorsByType.get(fileType);\r\n      }\r\n\r\n    }\r\n```\r\n\r\nSpring will automatically inject all beans implementing your interface into your factory. The internal map of your factory will retrieve the expected implementation according to the fileType.\r\n\r\nBy the way, if one day, you need to code new implementations of the `ProcessImportFiles` interface, your factory will work without any change.","title":"Repository not injected in service class when initialized through a factory class","body":"<p>Some details that could be important are missing in your question (packages of the classes involved in your problem, for example) but I guess that, for any reason, the ApplicationContext you instantiate in your ProcessFileFactory does not discover the DoctorRepository class.</p>\n<p>I suggest to change your factory this way :</p>\n<pre><code>    @Component\n    public class ProcessFileFactory implements org.springframework.context.ApplicationContextAware {\n\n        private static ApplicationContext applicationContext;\n\n        public static ProcessImportFiles getInstance(String fileType) {\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n                return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\n            }\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n                return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\n            }\n\n            return null;\n        }\n\n        @Override\n        public void setApplicationContext(ApplicationContext context)\n            throws BeansException {\n            this.applicationContext = context;\n        }\n    }\n</code></pre>\n<p>When you implement ApplicationContextAware interface, you ask Spring to inject into your class the existing application context.</p>\n<p>But, to be honest, there is a solution that, I think, would be cleaner as it would just use Dependency Injection instead of getting beans from the application context.</p>\n<p>Change your <code>ProcessImportFiles</code> this way :</p>\n<pre><code>    public interface ProcessImportFiles {\n\n      String getManagedFileType();\n\n      void processImportFile(String fileName, Sheet sheet);\n\n    }\n</code></pre>\n<p>Implementation example of the interface for <code>ProcessPatientFile</code>:</p>\n<pre><code>@Service\npublic class ProcessPatientFile implements ProcessImportFiles {\n\n    @Override\n    public String getManagedFileType() {\n        return ImportTypes.PATIENTS.toString();\n    }\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n\n        System.out.println(&quot;I'm processing a PATIENTS file&quot;);\n\n    }\n}\n</code></pre>\n<p>Then change your <code>ProcessFileFactory</code> class this way :</p>\n<pre><code>    @Component\n    public class ProcessFileFactory {\n\n      private Map&lt;String, ProcessImportFiles&gt; importFileProcessorsByType;\n\n      public ProcessFileFactory(Collection&lt;ProcessImportFiles&gt; importFileProcessors) {\n\n        importFileProcessorsByType = importFileProcessors.stream().collect(Collectors.toMap(\n            ProcessImportFiles::getManagedFileType,\n            processor -&gt; processor\n        ));\n\n      }\n\n      public ProcessImportFiles getInstance(String fileType) {\n        return importFileProcessorsByType.get(fileType);\n      }\n\n    }\n</code></pre>\n<p>Spring will automatically inject all beans implementing your interface into your factory. The internal map of your factory will retrieve the expected implementation according to the fileType.</p>\n<p>By the way, if one day, you need to code new implementations of the <code>ProcessImportFiles</code> interface, your factory will work without any change.</p>\n"},{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684705903,"creation_date":1684705903,"answer_id":76302063,"question_id":76301832,"body_markdown":"I rewrote your code and struct it again to look more readable, this is how I proceeded: \r\n\r\nFirst, this is the structure: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAssuming this is your ProcessDoctorFile service:\r\n\r\n    @Service\r\n    public class ProcessDoctorFileService implements ProcessImportFiles {\r\n        @Autowired\r\n        private DoctorRepository doctorRepository;\r\n    \r\n        @Override\r\n        public void processImportFile(String fileName, Sheet sheet) {\r\n            System.out.println(fileName + &quot; &gt; ProcessDoctorFileService&quot;);\r\n        }\r\n    }\r\n\r\nsame thing for the patient service:\r\n\r\n    @Service\r\n    public class ProcessPatientFileService implements ProcessImportFiles {\r\n        @Autowired\r\n        private PatientRepository doctorRepository;\r\n    \r\n        @Override\r\n        public void processImportFile(String fileName, Sheet sheet) {\r\n            System.out.println(fileName + &quot; &gt; ProcessPatientFileService&quot;);\r\n        }\r\n    }\r\n\r\nNow the factory: \r\n\r\n    public class ProcessFileFactory   {\r\n        public static ProcessImportFiles getInstance(String fileType) {\r\n            if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n                return ApplicationContextProvider.getApplicationContext().getBean(&quot;processDoctorFileService&quot;, ProcessImportFiles.class);\r\n            }\r\n            if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n                return ApplicationContextProvider.getApplicationContext().getBean(&quot;processPatientFileService&quot;, ProcessImportFiles.class);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    }\r\n\r\nTo be sure that you don&#39;t get a null application context, you should get it in another class and then inject it into your factory, use ApplicationContextAware interface to make spring boot provide the application context for you:\r\n\r\n\r\n    @Component\r\n    public class ApplicationContextProvider implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) {\r\n            ApplicationContextProvider.applicationContext = applicationContext;\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            return applicationContext;\r\n        }\r\n    }\r\n\r\n\r\nlet&#39;s test what we did until now using a CommandLineRunner:\r\n\r\n    @SpringBootApplication\r\n    public class StackoverflowApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StackoverflowApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        CommandLineRunner commandLineRunner(){\r\n            return args -&gt; {\r\n                Sheet sheet = new Sheet();\r\n                ProcessFileFactory.getInstance(ImportTypes.DOCTORS.name()).processImportFile(&quot;file name for doctors&quot;,sheet);\r\n                ProcessFileFactory.getInstance(ImportTypes.PATIENTS.name()).processImportFile(&quot;file name for patients&quot;,sheet);\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\n \r\nResult in the console:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lb9gs.png\r\n  [2]: https://i.stack.imgur.com/Vm58Y.png","title":"Repository not injected in service class when initialized through a factory class","body":"<p>I rewrote your code and struct it again to look more readable, this is how I proceeded:</p>\n<p>First, this is the structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Lb9gs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lb9gs.png\" alt=\"enter image description here\" /></a></p>\n<p>Assuming this is your ProcessDoctorFile service:</p>\n<pre><code>@Service\npublic class ProcessDoctorFileService implements ProcessImportFiles {\n    @Autowired\n    private DoctorRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(fileName + &quot; &gt; ProcessDoctorFileService&quot;);\n    }\n}\n</code></pre>\n<p>same thing for the patient service:</p>\n<pre><code>@Service\npublic class ProcessPatientFileService implements ProcessImportFiles {\n    @Autowired\n    private PatientRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(fileName + &quot; &gt; ProcessPatientFileService&quot;);\n    }\n}\n</code></pre>\n<p>Now the factory:</p>\n<pre><code>public class ProcessFileFactory   {\n    public static ProcessImportFiles getInstance(String fileType) {\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n            return ApplicationContextProvider.getApplicationContext().getBean(&quot;processDoctorFileService&quot;, ProcessImportFiles.class);\n        }\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n            return ApplicationContextProvider.getApplicationContext().getBean(&quot;processPatientFileService&quot;, ProcessImportFiles.class);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>To be sure that you don't get a null application context, you should get it in another class and then inject it into your factory, use ApplicationContextAware interface to make spring boot provide the application context for you:</p>\n<pre><code>@Component\npublic class ApplicationContextProvider implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        ApplicationContextProvider.applicationContext = applicationContext;\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        return applicationContext;\n    }\n}\n</code></pre>\n<p>let's test what we did until now using a CommandLineRunner:</p>\n<pre><code>@SpringBootApplication\npublic class StackoverflowApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StackoverflowApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner commandLineRunner(){\n        return args -&gt; {\n            Sheet sheet = new Sheet();\n            ProcessFileFactory.getInstance(ImportTypes.DOCTORS.name()).processImportFile(&quot;file name for doctors&quot;,sheet);\n            ProcessFileFactory.getInstance(ImportTypes.PATIENTS.name()).processImportFile(&quot;file name for patients&quot;,sheet);\n        };\n    }\n\n}\n</code></pre>\n<p>Result in the console:\n<a href=\"https://i.stack.imgur.com/Vm58Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm58Y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28649523,"reputation":13,"user_id":21936783,"display_name":"Bubbles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76301927,"answer_count":2,"score":1,"last_activity_date":1684707227,"creation_date":1684701466,"question_id":76301832,"body_markdown":"I have multiple implementations for a method, so I decided to use Factory design pattern for it. Here is the implementation for factory class:\r\n\r\n```\r\n@Component\r\npublic class ProcessFileFactory {\r\n\r\n    private static ApplicationContext applicationContext;\r\n\r\n    public ProcessFileFactory() {\r\n        applicationContext = new AnnotationConfigApplicationContext(\r\n                ProcessDoctorFile.class,\r\n                ProcessPatientFile.class\r\n        );\r\n    }\r\n\r\n    public static ProcessImportFiles getInstance(String fileType) {\r\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\r\n            return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\r\n        }\r\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\r\n            return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nProcessImportFiles is the interface where I defined the method which has to be implemented differently. And here is one implementation of the method from the interface:\r\n\r\n\r\n```\r\n@Service\r\npublic class ProcessDoctorFile implements ProcessImportFiles {\r\n    @Autowired\r\n    private DoctorRepository doctorRepository;\r\n\r\n    @Override\r\n    public void processImportFile(String fileName, Sheet sheet) {\r\n        System.out.println(&quot;doctors&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAlso, this is how I call the the method in the rest controller:\r\n\r\n```\r\n ProcessFileFactory.getInstance(fileType).processImportFile(file.getName(), sheet);\r\n```\r\n\r\nBut I receive this error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;processFileFactory&#39; defined in file [C:\\Workspace\\MedicalStatistics\\target\\classes\\app\\one\\MedicalStatistics\\importService\\ProcessFileFactory.class]: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat app.one.MedicalStatistics.MedicalStatisticsApplication.main(MedicalStatisticsApplication.java:16) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 17 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;processDoctorFile&#39;: Unsatisfied dependency expressed through field &#39;doctorRepository&#39;: No qualifying bean of type &#39;app.one.MedicalStatistics.repository.DoctorRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat app.one.MedicalStatistics.importService.ProcessFileFactory.&lt;init&gt;(ProcessFileFactory.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;app.one.MedicalStatistics.repository.DoctorRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 38 common frames omitted\r\n```\r\n\r\n\r\n\r\n\r\nIf I comment the declaration for DoctorRepository the application starts and design pattern works as expected. The problem appeared when I defined a repo in my service for updating data in DB. I tried to create a constructor to initialize the repository, also multiple annotations, but nothing works. Any idea how to fix it?","title":"Repository not injected in service class when initialized through a factory class","body":"<p>I have multiple implementations for a method, so I decided to use Factory design pattern for it. Here is the implementation for factory class:</p>\n<pre><code>@Component\npublic class ProcessFileFactory {\n\n    private static ApplicationContext applicationContext;\n\n    public ProcessFileFactory() {\n        applicationContext = new AnnotationConfigApplicationContext(\n                ProcessDoctorFile.class,\n                ProcessPatientFile.class\n        );\n    }\n\n    public static ProcessImportFiles getInstance(String fileType) {\n        if (ImportTypes.DOCTORS.toString().equals(fileType)) {\n            return applicationContext.getBean(&quot;processDoctorFile&quot;, ProcessImportFiles.class);\n        }\n        if (ImportTypes.PATIENTS.toString().equals(fileType)) {\n            return applicationContext.getBean(&quot;processPatientFile&quot;, ProcessImportFiles.class);\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>ProcessImportFiles is the interface where I defined the method which has to be implemented differently. And here is one implementation of the method from the interface:</p>\n<pre><code>@Service\npublic class ProcessDoctorFile implements ProcessImportFiles {\n    @Autowired\n    private DoctorRepository doctorRepository;\n\n    @Override\n    public void processImportFile(String fileName, Sheet sheet) {\n        System.out.println(&quot;doctors&quot;);\n    }\n}\n</code></pre>\n<p>Also, this is how I call the the method in the rest controller:</p>\n<pre><code> ProcessFileFactory.getInstance(fileType).processImportFile(file.getName(), sheet);\n</code></pre>\n<p>But I receive this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'processFileFactory' defined in file [C:\\Workspace\\MedicalStatistics\\target\\classes\\app\\one\\MedicalStatistics\\importService\\ProcessFileFactory.class]: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1306) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1198) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at app.one.MedicalStatistics.MedicalStatisticsApplication.main(MedicalStatisticsApplication.java:16) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [app.one.MedicalStatistics.importService.ProcessFileFactory]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1300) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'processDoctorFile': Unsatisfied dependency expressed through field 'doctorRepository': No qualifying bean of type 'app.one.MedicalStatistics.repository.DoctorRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1408) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93) ~[spring-context-6.0.6.jar:6.0.6]\n    at app.one.MedicalStatistics.importService.ProcessFileFactory.&lt;init&gt;(ProcessFileFactory.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'app.one.MedicalStatistics.repository.DoctorRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 38 common frames omitted\n</code></pre>\n<p>If I comment the declaration for DoctorRepository the application starts and design pattern works as expected. The problem appeared when I defined a repo in my service for updating data in DB. I tried to create a constructor to initialize the repository, also multiple annotations, but nothing works. Any idea how to fix it?</p>\n"},{"tags":["java","google-kubernetes-engine","hashicorp-vault","vault","gke-networking"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633945350,"post_id":69523940,"comment_id":122886306,"body_markdown":"Can you `ping` host `vault.example.com` port 443 from that client host?","body":"Can you <code>ping</code> host <code>vault.example.com</code> port 443 from that client host?"},{"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"score":0,"creation_date":1633945965,"post_id":69523940,"comment_id":122886555,"body_markdown":"@user207421 ping has nothing to do with tcp port 443. telnet &amp; curl works ok :) As I&#39;ve mentioned vault works ok &amp; most part of request from same pod go through without any problems at all so it&#39;s not a firewall issue or smth like that otherwise it wouldn&#39;t work at all.","body":"@user207421 ping has nothing to do with tcp port 443. telnet &amp; curl works ok :) As I&#39;ve mentioned vault works ok &amp; most part of request from same pod go through without any problems at all so it&#39;s not a firewall issue or smth like that otherwise it wouldn&#39;t work at all."}],"answers":[{"comments":[{"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"score":1,"creation_date":1684794307,"post_id":76302068,"comment_id":134566178,"body_markdown":"As you can see in my question had a 3 node HA cluster, not in dev mode. Unfortunately I don&#39;t know if the issue was resolved.","body":"As you can see in my question had a 3 node HA cluster, not in dev mode. Unfortunately I don&#39;t know if the issue was resolved."}],"tags":[],"owner":{"account_id":16628169,"reputation":21,"user_id":12016712,"display_name":"aaronhughes"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684706056,"creation_date":1684706056,"answer_id":76302068,"question_id":69523940,"body_markdown":"I ran into a similar (maybe even identical issue) of intermittent timeouts on requests to my vault server container irrespective of route (ingress, service, directly to pod).\r\n\r\n\r\nI believe in truth my issue was running Vault in dev mode, HA (high availability) mode saw the issue subside:\r\n\r\nhttps://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors\r\n\r\nBut I would love to know if you have found a more creative solution as it feels terribly wasteful running such a heavy instance of vault for each development bundle when it is pretty much entirely used for app startup in my organisation.","title":"Hashicorp Vault + &quot;java.net.SocketTimeoutException: connect timed out&quot; on GKE","body":"<p>I ran into a similar (maybe even identical issue) of intermittent timeouts on requests to my vault server container irrespective of route (ingress, service, directly to pod).</p>\n<p>I believe in truth my issue was running Vault in dev mode, HA (high availability) mode saw the issue subside:</p>\n<p><a href=\"https://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors\" rel=\"nofollow noreferrer\">https://support.hashicorp.com/hc/en-us/articles/4406662733587-HCP-Vault-Development-tier-intermittent-request-timeout-IO-errors</a></p>\n<p>But I would love to know if you have found a more creative solution as it feels terribly wasteful running such a heavy instance of vault for each development bundle when it is pretty much entirely used for app startup in my organisation.</p>\n"}],"owner":{"account_id":2529794,"reputation":286,"user_id":7778447,"accept_rate":0,"display_name":"GTXBxaKgCANmT9D9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684706056,"creation_date":1633944496,"question_id":69523940,"body_markdown":"I have a 3 node HA Hashicorp Vault deployed to GKE (tried both with Raft &amp; Consul backends).\r\n\r\nA pod with java app is also running in GKE.\r\n\r\nIntermittently I see `java.net.SocketTimeoutException: connect timed out` but mostly it works ok.\r\n\r\nI&#39;ve checked the Vault config, no resource quotas are configured, I&#39;ve tried using just internal service instead of ingress + google lb &amp; it&#39;s still the same.\r\n\r\nFull log entry looks like this:\r\n```\r\nmessage:Failed executing getCredentials using address https://vault.example.com:443, open timeout 30, read timeout 30 and credentials Credentials(id=0, tenantId=1, vendorName=fortinet, values={}) @timestamp:Oct 11, 2021 @ 12:02:29.386 @version:1 logger_name:com.example.secret.service.impl.SecretStoreServiceImpl thread_name:http-nio-8080-exec-24 level:ERROR level_value:40,000 stack_trace:com.bettercloud.vault.VaultException: com.bettercloud.vault.rest.RestException: java.net.SocketTimeoutException: connect timed out at com.bettercloud.vault.api.Logical.read(Logical.java:118) at com.bettercloud.vault.api.Logical.read(Logical.java:74) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:49) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:77) at com.example.secret.controller.SecretStoreController.getCredentials(SecretStoreController.java:32) at jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source) at\r\n```\r\n\r\nWhat could be the problem?\r\n\r\nI&#39;ve enabled metrics &amp; see no problems with resources &amp; etc &amp; no errors in audit logs (even though there&#39;re lots of logs in audit &amp; I may have missed smth)...","title":"Hashicorp Vault + &quot;java.net.SocketTimeoutException: connect timed out&quot; on GKE","body":"<p>I have a 3 node HA Hashicorp Vault deployed to GKE (tried both with Raft &amp; Consul backends).</p>\n<p>A pod with java app is also running in GKE.</p>\n<p>Intermittently I see <code>java.net.SocketTimeoutException: connect timed out</code> but mostly it works ok.</p>\n<p>I've checked the Vault config, no resource quotas are configured, I've tried using just internal service instead of ingress + google lb &amp; it's still the same.</p>\n<p>Full log entry looks like this:</p>\n<pre><code>message:Failed executing getCredentials using address https://vault.example.com:443, open timeout 30, read timeout 30 and credentials Credentials(id=0, tenantId=1, vendorName=fortinet, values={}) @timestamp:Oct 11, 2021 @ 12:02:29.386 @version:1 logger_name:com.example.secret.service.impl.SecretStoreServiceImpl thread_name:http-nio-8080-exec-24 level:ERROR level_value:40,000 stack_trace:com.bettercloud.vault.VaultException: com.bettercloud.vault.rest.RestException: java.net.SocketTimeoutException: connect timed out at com.bettercloud.vault.api.Logical.read(Logical.java:118) at com.bettercloud.vault.api.Logical.read(Logical.java:74) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:49) at com.example.secret.service.impl.SecretStoreServiceImpl.getCredentials(SecretStoreServiceImpl.java:77) at com.example.secret.controller.SecretStoreController.getCredentials(SecretStoreController.java:32) at jdk.internal.reflect.GeneratedMethodAccessor46.invoke(Unknown Source) at\n</code></pre>\n<p>What could be the problem?</p>\n<p>I've enabled metrics &amp; see no problems with resources &amp; etc &amp; no errors in audit logs (even though there're lots of logs in audit &amp; I may have missed smth)...</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-edu"],"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1684705552,"creation_date":1681479446,"question_id":76015698,"body_markdown":"I&#39;m trying to send feedback on a submission in my java application. \r\nIn teams I would submit it in the feedback box here: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the request I&#39;m sending with `GraphClient`: \r\n\r\n```\r\n_userClient.education()\r\n  .classes(classId)\r\n  .assignments(assignmentsId)\r\n  .submissions(submissionID)\r\n  .outcomes()\r\n  .buildRequest()\r\n  .post(outcome);\r\n```\r\n\r\nAnd this is how I get the outcome:\r\n\r\n```\r\nEducationItemBody body = new EducationItemBody();\r\nbody.content = message;\r\nbody.contentType = BodyType.TEXT;\r\n\r\nEducationFeedback feedback = new EducationFeedback();\r\nfeedback.text = body;\r\n\r\nEducationFeedbackOutcome outcome = new EducationFeedbackOutcome();\r\noutcome.feedback = feedback;\r\noutcome.publishedFeedback = feedback;\r\n```\r\n\r\nI know that there are different types of `EducationOutcomes` as described in [the documentation][2]. I&#39;ve based my Graph request on [the request for posting an education outcome with a file-based resource][3], however I just want a text-based feedback, so I&#39;ve used the `EducationFeedbackOutcome` model. I tried using the `EducationFeedbackResourceOutcome` model as described in the example, but it doesn&#39;t exist in the Graph SDK\r\n\r\nNow when I send the request I get an error: \r\n\r\n```json\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;code&quot;: &quot;20243&quot;,\r\n    &quot;message&quot;: &quot;Invalid request body. Resource cannot be null.&quot;,\r\n    &quot;innerError&quot;: {\r\n      &quot;date&quot;: &quot;2023-04-14T13:24:55&quot;,\r\n      &quot;request-id&quot;: &quot;6fdd2196-6d77-4414-93ae-b7d2ef92d14a&quot;,\r\n      &quot;client-request-id&quot;: &quot;3cf86b17-59b9-4c9e-9687-49af6e25626d&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt seems that it expects a resource, but that is neither what I want, nor what I can give. I&#39;ve filled out all the fields in the EducationOutcome. There is no &quot;resource&quot;  field.\r\n\r\nHow can I submit feedback to an assignment using java? Maybe I need to use a different edpoint?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rkId1.png\r\n  [2]: https://learn.microsoft.com/en-us/graph/api/resources/educationoutcome?view=graph-rest-1.0\r\n  [3]: https://learn.microsoft.com/en-us/graph/api/educationfeedbackresourceoutcome-post-outcomes?view=graph-rest-1.0&amp;tabs=http","title":"How can I send feedback on a submitted assginment in java?","body":"<p>I'm trying to send feedback on a submission in my java application.\nIn teams I would submit it in the feedback box here:</p>\n<p><a href=\"https://i.stack.imgur.com/rkId1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkId1.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the request I'm sending with <code>GraphClient</code>:</p>\n<pre><code>_userClient.education()\n  .classes(classId)\n  .assignments(assignmentsId)\n  .submissions(submissionID)\n  .outcomes()\n  .buildRequest()\n  .post(outcome);\n</code></pre>\n<p>And this is how I get the outcome:</p>\n<pre><code>EducationItemBody body = new EducationItemBody();\nbody.content = message;\nbody.contentType = BodyType.TEXT;\n\nEducationFeedback feedback = new EducationFeedback();\nfeedback.text = body;\n\nEducationFeedbackOutcome outcome = new EducationFeedbackOutcome();\noutcome.feedback = feedback;\noutcome.publishedFeedback = feedback;\n</code></pre>\n<p>I know that there are different types of <code>EducationOutcomes</code> as described in <a href=\"https://learn.microsoft.com/en-us/graph/api/resources/educationoutcome?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">the documentation</a>. I've based my Graph request on <a href=\"https://learn.microsoft.com/en-us/graph/api/educationfeedbackresourceoutcome-post-outcomes?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">the request for posting an education outcome with a file-based resource</a>, however I just want a text-based feedback, so I've used the <code>EducationFeedbackOutcome</code> model. I tried using the <code>EducationFeedbackResourceOutcome</code> model as described in the example, but it doesn't exist in the Graph SDK</p>\n<p>Now when I send the request I get an error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;20243&quot;,\n    &quot;message&quot;: &quot;Invalid request body. Resource cannot be null.&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2023-04-14T13:24:55&quot;,\n      &quot;request-id&quot;: &quot;6fdd2196-6d77-4414-93ae-b7d2ef92d14a&quot;,\n      &quot;client-request-id&quot;: &quot;3cf86b17-59b9-4c9e-9687-49af6e25626d&quot;\n    }\n  }\n}\n</code></pre>\n<p>It seems that it expects a resource, but that is neither what I want, nor what I can give. I've filled out all the fields in the EducationOutcome. There is no &quot;resource&quot;  field.</p>\n<p>How can I submit feedback to an assignment using java? Maybe I need to use a different edpoint?</p>\n"},{"tags":["java","synchronization","symmetricds"],"answers":[{"comments":[{"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"score":0,"creation_date":1291696156,"post_id":4368277,"comment_id":4762769,"body_markdown":"David, I&#39;ve already seen the reviews and the forums. What I&#39;m looking for example is something like this: [Customer stories of Bamboo, from Codehaus.org http://blogs.atlassian.com/news/2009/04/bamboo_customer.html ]","body":"David, I&#39;ve already seen the reviews and the forums. What I&#39;m looking for example is something like this: [Customer stories of Bamboo, from Codehaus.org <a href=\"http://blogs.atlassian.com/news/2009/04/bamboo_customer.html\" rel=\"nofollow noreferrer\">blogs.atlassian.com/news/2009/04/bamboo_customer.html</a> ]"}],"tags":[],"owner":{"account_id":41432,"reputation":6901,"user_id":120398,"accept_rate":80,"display_name":"David Fraser"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291651189,"creation_date":1291651189,"answer_id":4368277,"question_id":4264569,"body_markdown":"Look at the [Project Reviews on sourceforge][2]: for example, [Miguel Angel Rasero Peral][1] reported using it in production between 30 Postgresql databases on the project reviews page but [later reported some foreign key issues][3]\r\n\r\n  [1]: https://sourceforge.net/users/skuda\r\n  [2]: https://sourceforge.net/projects/symmetricds/reviews/\r\n  [3]: https://sourceforge.net/projects/symmetricds/forums/forum/739235/topic/3760220?message=8525305","title":"SymmetricDS in the wild (production)?","body":"<p>Look at the <a href=\"https://sourceforge.net/projects/symmetricds/reviews/\" rel=\"nofollow\">Project Reviews on sourceforge</a>: for example, <a href=\"https://sourceforge.net/users/skuda\" rel=\"nofollow\">Miguel Angel Rasero Peral</a> reported using it in production between 30 Postgresql databases on the project reviews page but <a href=\"https://sourceforge.net/projects/symmetricds/forums/forum/739235/topic/3760220?message=8525305\" rel=\"nofollow\">later reported some foreign key issues</a></p>\n"},{"comments":[{"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"score":1,"creation_date":1291967136,"post_id":4403544,"comment_id":4805349,"body_markdown":"Well, the post doesn&#39;t really say anything specific about a  rebranding to include case studies, but if you are THE chenson of symmetricds.org, I will take your word for it :). THANKS!!","body":"Well, the post doesn&#39;t really say anything specific about a  rebranding to include case studies, but if you are THE chenson of symmetricds.org, I will take your word for it :). THANKS!!"}],"tags":[],"owner":{"account_id":89490,"reputation":1108,"user_id":246873,"display_name":"chenson42"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1344242128,"creation_date":1291931855,"answer_id":4403544,"question_id":4264569,"body_markdown":"Here is a [blog article][1] about SymmetricDS.  JumpMind is working on re-branding their website which will include case studies for SymmetricDS.  It should be live by the first of the year.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/retail/entry/data_replication_for_stores","title":"SymmetricDS in the wild (production)?","body":"<p>Here is a <a href=\"https://blogs.oracle.com/retail/entry/data_replication_for_stores\" rel=\"nofollow\">blog article</a> about SymmetricDS.  JumpMind is working on re-branding their website which will include case studies for SymmetricDS.  It should be live by the first of the year.</p>\n"},{"comments":[{"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"score":3,"creation_date":1313983873,"post_id":7119841,"comment_id":8566626,"body_markdown":"Appreciate this post on your experience.","body":"Appreciate this post on your experience."}],"tags":[],"owner":{"account_id":145430,"reputation":5284,"user_id":355232,"accept_rate":62,"display_name":"sbrattla"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1554843329,"creation_date":1313747438,"answer_id":7119841,"question_id":4264569,"body_markdown":"I ended up choosing SymmetricDS for my company after having investigated database replication/synchronization for quite some time. My main issue was that i have a database table which represents physical files that needs to be replicated along with the database. SymmetricDS even takes care of this.\r\n\r\nThe software is highly configurable, and the fact that you can plug in extension points (to take care of, for instance, file replication) makes it a powerful tool.\r\n\r\nI haven&#39;t had it up and running very long, but it appears to be working very well. Even though the learning curve is steep in the beginning (with regard to configuration), i&#39;d say that it is worth the time it takes to learn it!\r\n\r\nUPDATE : I&#39;ve had SymmetricDS running for almost 4 years now, and it has not failed a single time. It seems to be the [Toyota Hilux][1] of replication software : it just works. I&#39;m replicating a local internal database to a remote external database. We&#39;re not talking about a huge amount of data to be replicated, but still there&#39;s a fair amount of activity going on. Replication is fast (seconds). Also, if for some reason you&#39;d like to &quot;populate&quot; the external node from scratch, you can easily do this with SymmetricDS as well. Thus, you can use SymmetricDS from start and have it to first populate the external node from scratch as well as take care of continuous replication. \r\n\r\nI&#39;ve got replication set up both ways (for different tables, never tried same table), and this works very well as well.\r\n\nUPDATE 2 : 8 years later and it&#39;s still running stable. I have not made much changes to the setup it is replicating, but it is certainly doing its job\n\r\n\r\n  [1]: http://www.topgear.com/uk/tv-show/series-3/episode-5","title":"SymmetricDS in the wild (production)?","body":"<p>I ended up choosing SymmetricDS for my company after having investigated database replication/synchronization for quite some time. My main issue was that i have a database table which represents physical files that needs to be replicated along with the database. SymmetricDS even takes care of this.</p>\n\n<p>The software is highly configurable, and the fact that you can plug in extension points (to take care of, for instance, file replication) makes it a powerful tool.</p>\n\n<p>I haven't had it up and running very long, but it appears to be working very well. Even though the learning curve is steep in the beginning (with regard to configuration), i'd say that it is worth the time it takes to learn it!</p>\n\n<p>UPDATE : I've had SymmetricDS running for almost 4 years now, and it has not failed a single time. It seems to be the <a href=\"http://www.topgear.com/uk/tv-show/series-3/episode-5\" rel=\"noreferrer\">Toyota Hilux</a> of replication software : it just works. I'm replicating a local internal database to a remote external database. We're not talking about a huge amount of data to be replicated, but still there's a fair amount of activity going on. Replication is fast (seconds). Also, if for some reason you'd like to \"populate\" the external node from scratch, you can easily do this with SymmetricDS as well. Thus, you can use SymmetricDS from start and have it to first populate the external node from scratch as well as take care of continuous replication. </p>\n\n<p>I've got replication set up both ways (for different tables, never tried same table), and this works very well as well.</p>\n\n<p>UPDATE 2 : 8 years later and it's still running stable. I have not made much changes to the setup it is replicating, but it is certainly doing its job</p>\n"},{"tags":[],"owner":{"account_id":336475,"reputation":654,"user_id":664146,"display_name":"syserr0r"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425944214,"creation_date":1425944214,"answer_id":28953694,"question_id":4264569,"body_markdown":"We are using SymmetricDS between a MySQL server and 2 PostgreSQL servers (one of which is on a poor [&lt;1Mbit] ADSL connection) fairly successfully on a small-ish database (pg_dump was 1.2G last week, ~15k rows INSERT/UPDATE&#39;ed a day) .\r\n\r\nConfiguration can be hard to wrap your head around and we have/have-had some foreign key issues (which *may* not be due to the way we apply schema updates for this application).\r\n\r\nPersonally I found the few issues we had non-trivial and somewhat frustrating to debug, but we have had significantly fewer issues since upgrading to the 3.x releases (of which the remainder could be attributed to operator error rather than faults in the application).\r\n\r\nMy main missing feature is sync of the PostgreSQL sequences, but we work around that by setting the increment to 10 on all servers and offsetting each server to a different value (the MySQL server is primarily read-only, so ymmv there)","title":"SymmetricDS in the wild (production)?","body":"<p>We are using SymmetricDS between a MySQL server and 2 PostgreSQL servers (one of which is on a poor [&lt;1Mbit] ADSL connection) fairly successfully on a small-ish database (pg_dump was 1.2G last week, ~15k rows INSERT/UPDATE'ed a day) .</p>\n\n<p>Configuration can be hard to wrap your head around and we have/have-had some foreign key issues (which <em>may</em> not be due to the way we apply schema updates for this application).</p>\n\n<p>Personally I found the few issues we had non-trivial and somewhat frustrating to debug, but we have had significantly fewer issues since upgrading to the 3.x releases (of which the remainder could be attributed to operator error rather than faults in the application).</p>\n\n<p>My main missing feature is sync of the PostgreSQL sequences, but we work around that by setting the increment to 10 on all servers and offsetting each server to a different value (the MySQL server is primarily read-only, so ymmv there)</p>\n"}],"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6391,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":4403544,"answer_count":4,"score":10,"last_activity_date":1684704994,"creation_date":1290585717,"question_id":4264569,"body_markdown":"I&#39;ve been looking at some options to synchronize data between a few POS (Point of Sales) devices and the server.\r\n\r\n[SymmetricDS][1] seems to be one of the options with a business friendly license.\r\nBeing a Codehaus project does guarantee a certain degree of quality, so I&#39;m ok with that.\r\n\r\nThey seem to have &#39;been there, done that, got the [T-Shirt][2]&#39;...but\r\nit would be nice if they had a &quot;who&#39;s using SymmetricDS&quot; page on their site.\r\n\r\nDoes anyone know of a production grade implementation of SymmetricDS?\r\n\r\n*I&#39;d be even happier to hear if a fellow Stacker has implemented SymmetricDS.*\r\n\r\n  [1]: http://symmetricds.codehaus.org/\r\n  [2]: http://www.cafepress.com/symmetricds","title":"SymmetricDS in the wild (production)?","body":"<p>I've been looking at some options to synchronize data between a few POS (Point of Sales) devices and the server.</p>\n\n<p><a href=\"http://symmetricds.codehaus.org/\" rel=\"noreferrer\">SymmetricDS</a> seems to be one of the options with a business friendly license.\nBeing a Codehaus project does guarantee a certain degree of quality, so I'm ok with that.</p>\n\n<p>They seem to have 'been there, done that, got the <a href=\"http://www.cafepress.com/symmetricds\" rel=\"noreferrer\">T-Shirt</a>'...but\nit would be nice if they had a \"who's using SymmetricDS\" page on their site.</p>\n\n<p>Does anyone know of a production grade implementation of SymmetricDS?</p>\n\n<p><em>I'd be even happier to hear if a fellow Stacker has implemented SymmetricDS.</em></p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1684694313,"post_id":76301358,"comment_id":134550795,"body_markdown":"If your method is declared to return something, you must return something (or throw an exception; a special kind of &quot;return value&quot;). `peek` without returning anything doesn&#39;t make sense (because then you are not peeking)","body":"If your method is declared to return something, you must return something (or throw an exception; a special kind of &quot;return value&quot;). <code>peek</code> without returning anything doesn&#39;t make sense (because then you are not peeking)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1684697412,"post_id":76301358,"comment_id":134551186,"body_markdown":"Within the exception code block: `System.out.println(&quot;Stack is empty&quot;); return top;`. Remove the `return Integer.MIN_VALUE;` line.","body":"Within the exception code block: <code>System.out.println(&quot;Stack is empty&quot;); return top;</code>. Remove the <code>return Integer.MIN_VALUE;</code> line."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1684712589,"post_id":76301358,"comment_id":134552577,"body_markdown":"It would be better to let it throw the exception. The caller needs to know there was nothing there, as opposed to Integer.MIN_VALUE which could be a real value on the stack. But actually if the application calls `peek()` when there is nothing on the stack, that is an application bug.","body":"It would be better to let it throw the exception. The caller needs to know there was nothing there, as opposed to Integer.MIN_VALUE which could be a real value on the stack. But actually if the application calls <code>peek()</code> when there is nothing on the stack, that is an application bug."}],"answers":[{"comments":[{"owner":{"account_id":28648977,"reputation":35,"user_id":21936341,"display_name":"paneer_curry"},"score":0,"creation_date":1684694864,"post_id":76301395,"comment_id":134550857,"body_markdown":"I tried as you said\n```\npublic int peek() throws ArrayIndexOutOfBoundsException{\n        // try {\n        //     return arr[top];\n        // } catch (ArrayIndexOutOfBoundsException e) {\n        //     System.out.println(&quot;Stack is empty&quot;);\n        // }\n        // return Integer.MIN_VALUE;\n        return arr[top];\n    }\n```\nBut I get\n```\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\n\tat Stack.peek(Stack.java:33)\n\tat Stack.main(Stack.java:62)\n```","body":"I tried as you said ``` public int peek() throws ArrayIndexOutOfBoundsException{         // try {         //     return arr[top];         // } catch (ArrayIndexOutOfBoundsException e) {         //     System.out.println(&quot;Stack is empty&quot;);         // }         // return Integer.MIN_VALUE;         return arr[top];     } ``` But I get ``` Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10 \tat Stack.peek(Stack.java:33) \tat Stack.main(Stack.java:62) ```"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1684695051,"post_id":76301395,"comment_id":134550876,"body_markdown":"@paneer_curry Yes. If you aren&#39;t returning `Integer.MIN_VALUE` and instead throw an `Exception` then the caller must handle that `Exception` (or it will bubble up to the user). There was no value. An alternative approach is to implement `isEmpty()` or `size()` and then test for `0` before calling the method.","body":"@paneer_curry Yes. If you aren&#39;t returning <code>Integer.MIN_VALUE</code> and instead throw an <code>Exception</code> then the caller must handle that <code>Exception</code> (or it will bubble up to the user). There was no value. An alternative approach is to implement <code>isEmpty()</code> or <code>size()</code> and then test for <code>0</code> before calling the method."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1684701039,"post_id":76301395,"comment_id":134551572,"body_markdown":"`OptionalInt` would be more adequate than `Optional&lt;Integer&gt;` IMO","body":"<code>OptionalInt</code> would be more adequate than <code>Optional&lt;Integer&gt;</code> IMO"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684701365,"post_id":76301395,"comment_id":134551604,"body_markdown":"@user16320675 Perhaps in this example. But really OP should have a generic `Stack`, or call it an `IntStack` or just use `ArrayDeque`.","body":"@user16320675 Perhaps in this example. But really OP should have a generic <code>Stack</code>, or call it an <code>IntStack</code> or just use <code>ArrayDeque</code>."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684694312,"creation_date":1684694312,"answer_id":76301395,"question_id":76301358,"body_markdown":"Yes. Throw an `Exception`. You could simply throw the one you are currently catching.\r\n\r\n    public int peek() throws ArrayIndexOutOfBoundsException {\r\n        return arr[top];\r\n    }\r\n\r\nYou could return an `Optional&lt;Integer&gt;` like\r\n\r\n\tpublic Optional&lt;Integer&gt; peek() {\r\n\t\ttry {\r\n\t\t\treturn Optional.of(arr[top]);\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;Stack is empty&quot;);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\nOr you could return an `Integer` and make it `null`. Warning, this is possibly a **billion dollar mistake**&lt;sup&gt;1&lt;/sup&gt;. Like,\r\n\r\n\tpublic Integer peek() {\r\n\t\ttry {\r\n\t\t\treturn arr[top];\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;Stack is empty&quot;);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;&lt;sub&gt;[Null References The Billion Dollar Mistake](https://youtu.be/ybrQvs4x0Ps)&lt;/sub&gt;","title":"Any alternate way to implement the peek method?","body":"<p>Yes. Throw an <code>Exception</code>. You could simply throw the one you are currently catching.</p>\n<pre><code>public int peek() throws ArrayIndexOutOfBoundsException {\n    return arr[top];\n}\n</code></pre>\n<p>You could return an <code>Optional&lt;Integer&gt;</code> like</p>\n<pre><code>public Optional&lt;Integer&gt; peek() {\n    try {\n        return Optional.of(arr[top]);\n    } catch (ArrayIndexOutOfBoundsException e) {\n        System.out.println(&quot;Stack is empty&quot;);\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>Or you could return an <code>Integer</code> and make it <code>null</code>. Warning, this is possibly a <strong>billion dollar mistake</strong><sup>1</sup>. Like,</p>\n<pre><code>public Integer peek() {\n    try {\n        return arr[top];\n    } catch (ArrayIndexOutOfBoundsException e) {\n        System.out.println(&quot;Stack is empty&quot;);\n    }\n    return null;\n}\n</code></pre>\n<p><sup>1</sup><sub><a href=\"https://youtu.be/ybrQvs4x0Ps\" rel=\"nofollow noreferrer\">Null References The Billion Dollar Mistake</a></sub></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684704121,"creation_date":1684704121,"answer_id":76301973,"question_id":76301358,"body_markdown":"I see what you&#39;re saying; only return a value if there is one, otherwise print a message.\r\n\r\nThis is where exceptions are actually useful.\r\n\r\nHave your method throw an exception, and catch it wherever you are calling the `peek` method.\r\n\r\n```java\r\npublic int peek() throws ArrayIndexOutOfBoundsException {\r\n    return arr[top];\r\n}\r\n```\r\n\r\n```java\r\nvoid example() {\r\n    int value;\r\n    try {\r\n        value = stack.peek();\r\n    } catch (ArrayIndexOutOfBoundsException exception) {\r\n        System.out.println(&quot;stack is empty&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s a matter of re-ordering and re-thinking your control-flow.  \r\nWhich for a situation like this, is typically at ground-level, and easy to implement.","title":"Any alternate way to implement the peek method?","body":"<p>I see what you're saying; only return a value if there is one, otherwise print a message.</p>\n<p>This is where exceptions are actually useful.</p>\n<p>Have your method throw an exception, and catch it wherever you are calling the <code>peek</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int peek() throws ArrayIndexOutOfBoundsException {\n    return arr[top];\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void example() {\n    int value;\n    try {\n        value = stack.peek();\n    } catch (ArrayIndexOutOfBoundsException exception) {\n        System.out.println(&quot;stack is empty&quot;);\n    }\n}\n</code></pre>\n<p>It's a matter of re-ordering and re-thinking your control-flow.<br />\nWhich for a situation like this, is typically at ground-level, and easy to implement.</p>\n"}],"owner":{"account_id":28648977,"reputation":35,"user_id":21936341,"display_name":"paneer_curry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76301395,"answer_count":2,"score":2,"last_activity_date":1684704121,"creation_date":1684693749,"question_id":76301358,"body_markdown":"I am learning data structures on my own and have been trying to implement them using Java. Currently I am attempting to implement a array based stack. In the `peek` method when the stack is empty I am currently catching `ArrayIndexOutOfBoundsException` and then returning `Integer.MIN_VALUE` to stop the program from quitting and getting it ready for further push operations. Is there any other way to implement the `peek` method so that it just prints the message inside the `catch` block without returning the Integer.MIN_VALUE.\r\n\r\n```\r\npublic class Stack {\r\n    int[] arr;\r\n    int top = -1;\r\n    int currSize = 10;\r\n\r\n    /* Constructor */\r\n    public Stack() {\r\n        arr = new int[10];\r\n    }\r\n\r\n    public void push(int data) {\r\n        if (top ==  arr.length - 1) {\r\n            resize();\r\n        }\r\n        top++;\r\n        arr[top] = data;\r\n    }\r\n\r\n    /*\r\n    public void pop() {\r\n        arr[top] = 0;\r\n        top--;\r\n    }\r\n    */\r\n\r\n    public int peek() {\r\n        try {\r\n            return arr[top];\r\n        } catch (ArrayIndexOutOfBoundsException e) {\r\n            System.out.println(&quot;Stack is empty&quot;);\r\n        }\r\n        return Integer.MIN_VALUE;\r\n    }\r\n\r\n    /* Resizes the array when space runs out */\r\n    public void resize() {\r\n        int[] newArr = new int[2 * currSize];\r\n        currSize = 2 * currSize;\r\n        for (int i = 0; i &lt; newArr.length / 2; i++) {\r\n            newArr[i] = arr[i];\r\n        }\r\n        arr = newArr;\r\n        newArr = null;\r\n    }\r\n\r\n    /* Show elements in stack */\r\n    public void show() {\r\n        for (int i = 0; i &lt;= top; i++) {\r\n            System.out.print(arr[i] + &quot; -&gt; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    /* Rturn the no of elements in stack */\r\n    public int getSize() {\r\n        return top + 1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Stack st = new Stack();\r\n        System.out.println(st.peek());\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried omitting the `Integer.MIN_VALUE` return statement but the program wouldn&#39;t compile.\r\n\r\nI was expecting that after the message in `catch` block had been printed the control would return from the `peek` method to the `main` method and resume executing the other statements in main method (probably any push operations).\r\n\r\nA solution which occurs to me is the I change the `peek` method return type to void, print the top most value and the return `null` but I don&#39;t want to take this path because I may want to store the return value and use it in some other parts of program.","title":"Any alternate way to implement the peek method?","body":"<p>I am learning data structures on my own and have been trying to implement them using Java. Currently I am attempting to implement a array based stack. In the <code>peek</code> method when the stack is empty I am currently catching <code>ArrayIndexOutOfBoundsException</code> and then returning <code>Integer.MIN_VALUE</code> to stop the program from quitting and getting it ready for further push operations. Is there any other way to implement the <code>peek</code> method so that it just prints the message inside the <code>catch</code> block without returning the Integer.MIN_VALUE.</p>\n<pre><code>public class Stack {\n    int[] arr;\n    int top = -1;\n    int currSize = 10;\n\n    /* Constructor */\n    public Stack() {\n        arr = new int[10];\n    }\n\n    public void push(int data) {\n        if (top ==  arr.length - 1) {\n            resize();\n        }\n        top++;\n        arr[top] = data;\n    }\n\n    /*\n    public void pop() {\n        arr[top] = 0;\n        top--;\n    }\n    */\n\n    public int peek() {\n        try {\n            return arr[top];\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(&quot;Stack is empty&quot;);\n        }\n        return Integer.MIN_VALUE;\n    }\n\n    /* Resizes the array when space runs out */\n    public void resize() {\n        int[] newArr = new int[2 * currSize];\n        currSize = 2 * currSize;\n        for (int i = 0; i &lt; newArr.length / 2; i++) {\n            newArr[i] = arr[i];\n        }\n        arr = newArr;\n        newArr = null;\n    }\n\n    /* Show elements in stack */\n    public void show() {\n        for (int i = 0; i &lt;= top; i++) {\n            System.out.print(arr[i] + &quot; -&gt; &quot;);\n        }\n        System.out.println();\n    }\n\n    /* Rturn the no of elements in stack */\n    public int getSize() {\n        return top + 1;\n    }\n\n    public static void main(String[] args) {\n        Stack st = new Stack();\n        System.out.println(st.peek());\n    }\n}\n</code></pre>\n<p>I tried omitting the <code>Integer.MIN_VALUE</code> return statement but the program wouldn't compile.</p>\n<p>I was expecting that after the message in <code>catch</code> block had been printed the control would return from the <code>peek</code> method to the <code>main</code> method and resume executing the other statements in main method (probably any push operations).</p>\n<p>A solution which occurs to me is the I change the <code>peek</code> method return type to void, print the top most value and the return <code>null</code> but I don't want to take this path because I may want to store the return value and use it in some other parts of program.</p>\n"},{"tags":["java","regex","string","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684703550,"creation_date":1684703235,"answer_id":76301922,"question_id":75183769,"body_markdown":"First off, the timestamp and file extension is always going to be the same amount of characters, so you don&#39;t need a character class.\r\n\r\nSo, given `File_[TimeStamp:yyyyMMdd_HHmm].csv`.\r\n\r\nThe pattern `\\[TimeStamp(:[^\\[\\]]+)?\\]` can be reduced to the following.\r\n\r\n```regex\r\n\\[TimeStamp(.{14}).{5}\r\n```\r\n\r\nNow, you&#39;re saying that you&#39;d like to be able to match not only the text &quot;TimeStamp&quot;, but also other values.\r\n\r\nYou can place the text `TimeStamp` within a non-capturing group, and use the `|` specifier, to delimit a set of possible values.\r\n\r\n```regex\r\n\\[(?:TimeStamp|Asia/Tokyo)(.{14}).{5}\r\n```\r\n\r\nSo now, both of the following values will match.\r\n\r\n```none\r\nFile_[TimeStamp:yyyyMMdd_HHmm].csv\r\nFile_[Asia/Tokyo:yyyyMMdd_HHmm].csv\r\n```\r\n\r\nFurthermore, you&#39;re saying that you want it to match a ZoneId which is provided at runtime.\r\n\r\nYou can use the `String.format` for this, using the `%s` specifier to interpolate a `String` value into a `String`.\r\n\r\nConsider the following.  \r\nI&#39;ve excluded the ZoneId value, as I&#39;m not sure what your variable name will be.\r\n\r\n```java\r\nString regex = &quot;\\\\[(?:TimeStamp|%s)(.{14}).{5}&quot;;\r\nString zoneId = Pattern.quote(/* zoneId */);\r\nregex = regex.formatted(zoneId);\r\n```\r\n\r\nIf I used `America/Phoenix` as a ZoneId value, and we output the value of `regex`, we&#39;ll get the following.\r\n\r\n```none\r\n\\[(?:TimeStamp|\\QAmerica/Phoenix\\E)(.{14}).{5}\r\n```\r\n\r\nIn conclusion, you can re-factor you code, as follows.\r\n\r\n```java\r\nprivate static final String DEFAULT_FORMAT = &quot;yyyyMMddHHmmss&quot;;\r\nprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(.{14}).{5}&quot;;\r\n\r\npublic static String processFileName(String value, String regex) {\r\n    LocalDateTime dateTime = LocalDateTime.now();\r\n    Matcher matcher = Pattern.compile(regex).matcher(value);\r\n    while (matcher.find()) {\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\r\n        if (matcher.group(1) != null)\r\n            dtf = DateTimeFormatter.ofPattern(matcher.group(1).substring(1));\r\n        value = value.replace(matcher.group(0), dtf.format(dateTime));\r\n    }\r\n    return value;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nFile_20230521_1711\r\n```","title":"Correct Regex for Passing Time Zone in Java","body":"<p>First off, the timestamp and file extension is always going to be the same amount of characters, so you don't need a character class.</p>\n<p>So, given <code>File_[TimeStamp:yyyyMMdd_HHmm].csv</code>.</p>\n<p>The pattern <code>\\[TimeStamp(:[^\\[\\]]+)?\\]</code> can be reduced to the following.</p>\n<pre><code>\\[TimeStamp(.{14}).{5}\n</code></pre>\n<p>Now, you're saying that you'd like to be able to match not only the text &quot;TimeStamp&quot;, but also other values.</p>\n<p>You can place the text <code>TimeStamp</code> within a non-capturing group, and use the <code>|</code> specifier, to delimit a set of possible values.</p>\n<pre><code>\\[(?:TimeStamp|Asia/Tokyo)(.{14}).{5}\n</code></pre>\n<p>So now, both of the following values will match.</p>\n<pre class=\"lang-none prettyprint-override\"><code>File_[TimeStamp:yyyyMMdd_HHmm].csv\nFile_[Asia/Tokyo:yyyyMMdd_HHmm].csv\n</code></pre>\n<p>Furthermore, you're saying that you want it to match a ZoneId which is provided at runtime.</p>\n<p>You can use the <code>String.format</code> for this, using the <code>%s</code> specifier to interpolate a <code>String</code> value into a <code>String</code>.</p>\n<p>Consider the following.<br />\nI've excluded the ZoneId value, as I'm not sure what your variable name will be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;\\\\[(?:TimeStamp|%s)(.{14}).{5}&quot;;\nString zoneId = Pattern.quote(/* zoneId */);\nregex = regex.formatted(zoneId);\n</code></pre>\n<p>If I used <code>America/Phoenix</code> as a ZoneId value, and we output the value of <code>regex</code>, we'll get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\[(?:TimeStamp|\\QAmerica/Phoenix\\E)(.{14}).{5}\n</code></pre>\n<p>In conclusion, you can re-factor you code, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String DEFAULT_FORMAT = &quot;yyyyMMddHHmmss&quot;;\nprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(.{14}).{5}&quot;;\n\npublic static String processFileName(String value, String regex) {\n    LocalDateTime dateTime = LocalDateTime.now();\n    Matcher matcher = Pattern.compile(regex).matcher(value);\n    while (matcher.find()) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\n        if (matcher.group(1) != null)\n            dtf = DateTimeFormatter.ofPattern(matcher.group(1).substring(1));\n        value = value.replace(matcher.group(0), dtf.format(dateTime));\n    }\n    return value;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>File_20230521_1711\n</code></pre>\n"}],"owner":{"account_id":19090376,"reputation":15,"user_id":13940769,"display_name":"Biswajit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684703550,"creation_date":1674216212,"question_id":75183769,"body_markdown":"I am currently using a regex to interprete the below format.\r\n\r\nFile Name : File_[TimeStamp:yyyyMMdd_HHmm].csv and regex for interpreting the format is : &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot; .\r\nit will return a String with timestamp value : File_20230120_1716.csv\r\n\r\n\r\nThe sample code which support interpreting the timestamp format in the filename:\r\n```\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Test {\r\n\tprivate static final String DEFAULT_FORMAT= &quot;yyyyMMddHHmmss&quot;;\r\n\tprivate static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot;;\r\n\tpublic  static String processFileName(String value, String regex ) {\r\n\t\tLocalDateTime dateTime=LocalDateTime.now();\r\n\t\tMatcher matcher=Pattern.compile(regex, Pattern.DOTALL).matcher(value);\r\n\t\twhile(matcher.find()) {\r\n\t\t\tDateTimeFormatter dtf=DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\r\n\t\t\tif(matcher.group(1)!=null) {\r\n\t\t\t\tdtf=DateTimeFormatter.ofPattern(matcher.group(1).replaceFirst(&quot;:&quot;, &quot;&quot;));\r\n\t\t\t}\r\n\t\t\tvalue=value.replace(matcher.group(0), dtf.format(dateTime));\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tString str=processFileName(&quot;File_[TimeStamp:yyyyMMdd_HHmm].csv&quot;, TIMESTAMP_REGEX);\r\n\t\tSystem.out.println(str);\r\n\t   }\r\n}\r\n```\r\nOutput: File_20230120_1716.csv\r\nCurrently I can use File_[TimeStamp:yyyyMMdd_HHmm].csv or File_[TimeStamp].csv formats to interprete with above regex.\r\n\r\n\r\nBut I wanted to modify the above &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot; sothat it can interpret ZonId also in this format : File_[TimeStam|Asia\\Tokyo:yyyyMMdd_HHmm].csv.\r\nBased upon ZoneId from the input I will modify the LocalDateTime value.","title":"Correct Regex for Passing Time Zone in Java","body":"<p>I am currently using a regex to interprete the below format.</p>\n<p>File Name : File_[TimeStamp:yyyyMMdd_HHmm].csv and regex for interpreting the format is : &quot;\\[TimeStamp(:[^\\[\\]]+)?\\]&quot; .\nit will return a String with timestamp value : File_20230120_1716.csv</p>\n<p>The sample code which support interpreting the timestamp format in the filename:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Test {\n    private static final String DEFAULT_FORMAT= &quot;yyyyMMddHHmmss&quot;;\n    private static final String TIMESTAMP_REGEX = &quot;\\\\[TimeStamp(:[^\\\\[\\\\]]+)?\\\\]&quot;;\n    public  static String processFileName(String value, String regex ) {\n        LocalDateTime dateTime=LocalDateTime.now();\n        Matcher matcher=Pattern.compile(regex, Pattern.DOTALL).matcher(value);\n        while(matcher.find()) {\n            DateTimeFormatter dtf=DateTimeFormatter.ofPattern(DEFAULT_FORMAT);\n            if(matcher.group(1)!=null) {\n                dtf=DateTimeFormatter.ofPattern(matcher.group(1).replaceFirst(&quot;:&quot;, &quot;&quot;));\n            }\n            value=value.replace(matcher.group(0), dtf.format(dateTime));\n        }\n        return value;\n    }\n    public static void main(String args[]) {\n        \n        String str=processFileName(&quot;File_[TimeStamp:yyyyMMdd_HHmm].csv&quot;, TIMESTAMP_REGEX);\n        System.out.println(str);\n       }\n}\n</code></pre>\n<p>Output: File_20230120_1716.csv\nCurrently I can use File_[TimeStamp:yyyyMMdd_HHmm].csv or File_[TimeStamp].csv formats to interprete with above regex.</p>\n<p>But I wanted to modify the above &quot;\\[TimeStamp(:[^\\[\\]]+)?\\]&quot; sothat it can interpret ZonId also in this format : File_[TimeStam|Asia\\Tokyo:yyyyMMdd_HHmm].csv.\nBased upon ZoneId from the input I will modify the LocalDateTime value.</p>\n"},{"tags":["java","android","xml","button","android-activity"],"comments":[{"owner":{"account_id":1558119,"reputation":1333,"user_id":1448637,"accept_rate":67,"display_name":"DmitryK"},"score":1,"creation_date":1357616154,"post_id":14207392,"comment_id":19701967,"body_markdown":"Find your answer here: http://stackoverflow.com/questions/736571/using-intent-in-an-android-application-to-show-another-activity","body":"Find your answer here: <a href=\"http://stackoverflow.com/questions/736571/using-intent-in-an-android-application-to-show-another-activity\" title=\"using intent in an android application to show another activity\">stackoverflow.com/questions/736571/&hellip;</a>"},{"owner":{"account_id":1857124,"reputation":391,"user_id":1682454,"accept_rate":92,"display_name":"Androyds"},"score":2,"creation_date":1357616873,"post_id":14207392,"comment_id":19702119,"body_markdown":"please research more on tutorial regarding this. there are bunch on the web..","body":"please research more on tutorial regarding this. there are bunch on the web.."},{"owner":{"account_id":1980300,"reputation":28633,"user_id":1777090,"accept_rate":89,"display_name":"MysticMagicϡ"},"score":1,"creation_date":1357621117,"post_id":14207392,"comment_id":19703029,"body_markdown":"Have you given android:onClick=&quot;click1&quot; property for button in activity_main.xml?","body":"Have you given android:onClick=&quot;click1&quot; property for button in activity_main.xml?"},{"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"score":0,"creation_date":1357649568,"post_id":14207392,"comment_id":19714540,"body_markdown":"@user1956735 Please see my answer, it will solve your problem.","body":"@user1956735 Please see my answer, it will solve your problem."},{"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"score":0,"creation_date":1357659545,"post_id":14207392,"comment_id":19720439,"body_markdown":"There is more than one way to do this.","body":"There is more than one way to do this."},{"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"score":0,"creation_date":1357660017,"post_id":14207392,"comment_id":19720739,"body_markdown":"FYI before you post a very simple and juvenile question on Stackoverflow, make sure to see if the question hasn&#39;t already been answered and to do some research before posting. A lack of research is frowned upon. Trust me, been there, done that.","body":"FYI before you post a very simple and juvenile question on Stackoverflow, make sure to see if the question hasn&#39;t already been answered and to do some research before posting. A lack of research is frowned upon. Trust me, been there, done that."}],"answers":[{"tags":[],"owner":{"account_id":1272135,"reputation":25812,"user_id":1228170,"display_name":"Bhavesh Patadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357620907,"creation_date":1357620907,"answer_id":14208420,"question_id":14207392,"body_markdown":"Change your FirstyActivity to: \r\n \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button btn_go=(Button)findViewById(R.id.YOUR_BUTTON_ID);\r\n            \tbtn_go.setOnClickListener(new OnClickListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t  Log.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n                  Intent i=new Intent(\r\n                         MainActivity.this,\r\n                         MainActivity2.class);\r\n                  startActivity(i);\r\n                }\r\n    \t\t}\r\n    \t});\r\n     \r\n    }\r\n\r\nHope it will help you.","title":"Android Button click go to another xml page","body":"<p>Change your FirstyActivity to: </p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn_go=(Button)findViewById(R.id.YOUR_BUTTON_ID);\n            btn_go.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n                  Log.i(\"clicks\",\"You Clicked B1\");\n              Intent i=new Intent(\n                     MainActivity.this,\n                     MainActivity2.class);\n              startActivity(i);\n            }\n        }\n    });\n\n}\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"comments":[{"owner":{"account_id":2216229,"reputation":79,"user_id":1956735,"display_name":"Dmitry"},"score":0,"creation_date":1357656336,"post_id":14208509,"comment_id":19718374,"body_markdown":"in which Androidmanifest.xml do i need to add                                                                         &lt;activity\n    android:name=&quot;.MainActivity2&quot;\n    android:label=&quot;@string/title_activity_main&quot;&gt;\n&lt;/activity&gt;","body":"in which Androidmanifest.xml do i need to add                                                                         &lt;activity     android:name=&quot;.MainActivity2&quot;     android:label=&quot;@string/title_activity_main&quot;&gt; &lt;/activity&gt;"},{"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"score":0,"creation_date":1357706684,"post_id":14208509,"comment_id":19738020,"body_markdown":"There is only 1 Androidmanifest.xml file in your application, please see this link for detail about Androidmanifest.xml file http://developer.android.com/guide/topics/manifest/manifest-intro.html","body":"There is only 1 Androidmanifest.xml file in your application, please see this link for detail about Androidmanifest.xml file <a href=\"http://developer.android.com/guide/topics/manifest/manifest-intro.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/manifest/manifest-intro.h&zwnj;&#8203;tml</a>"}],"tags":[],"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1357621589,"creation_date":1357621589,"answer_id":14208509,"question_id":14207392,"body_markdown":"Write below code in your MainActivity.java file instead of your code.\r\n\r\n    public class MainActivity extends Activity implements OnClickListener {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            Button mBtn1 = (Button) findViewById(R.id.mBtn1);\r\n            mBtn1.setOnClickListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v) {\r\n            Log.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n            Intent i=new Intent(MainActivity.this, MainActivity2.class);\r\n            startActivity(i);\r\n        }\r\n    }\r\n\r\nAnd Declare MainActivity2 into your Androidmanifest.xml file using below code.\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity2&quot;\r\n        android:label=&quot;@string/title_activity_main&quot;&gt;\r\n    &lt;/activity&gt;","title":"Android Button click go to another xml page","body":"<p>Write below code in your MainActivity.java file instead of your code.</p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button mBtn1 = (Button) findViewById(R.id.mBtn1);\n        mBtn1.setOnClickListener(this);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    @Override\n    public void onClick(View v) {\n        Log.i(\"clicks\",\"You Clicked B1\");\n        Intent i=new Intent(MainActivity.this, MainActivity2.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>And Declare MainActivity2 into your Androidmanifest.xml file using below code.</p>\n\n<pre><code>&lt;activity\n    android:name=\".MainActivity2\"\n    android:label=\"@string/title_activity_main\"&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user6796473"},"score":0,"creation_date":1501771914,"post_id":14218738,"comment_id":77936519,"body_markdown":"Right! learning the whole topic is better than finding just an answer","body":"Right! learning the whole topic is better than finding just an answer"}],"tags":[],"owner":{"account_id":1444109,"reputation":3612,"user_id":1363270,"accept_rate":60,"display_name":"Rob Avery IV"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357659953,"creation_date":1357659953,"answer_id":14218738,"question_id":14207392,"body_markdown":"There is more than one way to do this.\r\n\r\nHere is a good resource straight from Google:\r\nhttp://developer.android.com/training/basics/firstapp/starting-activity.html\r\n\r\nAt developer.android.com, they have numerous tutorials explaining just about everything you need to know about android. They even provide detailed API for each class.\r\n\r\nIf that doesn&#39;t help, there are NUMEROUS different resources that can help you with this question and other android questions.","title":"Android Button click go to another xml page","body":"<p>There is more than one way to do this.</p>\n\n<p>Here is a good resource straight from Google:\n<a href=\"http://developer.android.com/training/basics/firstapp/starting-activity.html\" rel=\"nofollow\">http://developer.android.com/training/basics/firstapp/starting-activity.html</a></p>\n\n<p>At developer.android.com, they have numerous tutorials explaining just about everything you need to know about android. They even provide detailed API for each class.</p>\n\n<p>If that doesn't help, there are NUMEROUS different resources that can help you with this question and other android questions.</p>\n"}],"owner":{"account_id":2216229,"reputation":79,"user_id":1956735,"display_name":"Dmitry"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104831,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":14208509,"answer_count":3,"score":2,"last_activity_date":1684702416,"creation_date":1357612604,"question_id":14207392,"body_markdown":"So what I&#39;ve done in Eclipse, in layouts I have: activity_main.xml  and activity_main2.xml. What I tried is to create a button in activity_main.xml and on click to go on screen of activity_main2.xml\r\n\r\nso in `com.example.myfirstapp` I have\r\n\r\nMainActivity.Java:\r\n\r\n    package com.example.myfirstapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n        \r\n        public void click1(View v) {\r\n        \tLog.i(&quot;clicks&quot;,&quot;You Clicked B1&quot;);\r\n          \tIntent i=new Intent(\r\n        \t             MainActivity.this,\r\n        \t             MainActivity2.class);\r\n        \tstartActivity(i);\r\n        }\r\n    }\r\n\r\nMainActivity2.java\r\n\r\n\r\n\r\n    package com.example.myfirstapp;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.app.Activity;\r\n    \r\n    public class MainActivity2 extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.activity_main, menu);\r\n            return true;\r\n        }\r\n    }","title":"Android Button click go to another xml page","body":"<p>So what I've done in Eclipse, in layouts I have: activity_main.xml  and activity_main2.xml. What I tried is to create a button in activity_main.xml and on click to go on screen of activity_main2.xml</p>\n\n<p>so in <code>com.example.myfirstapp</code> I have</p>\n\n<p>MainActivity.Java:</p>\n\n<pre><code>package com.example.myfirstapp;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.View;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    public void click1(View v) {\n        Log.i(\"clicks\",\"You Clicked B1\");\n        Intent i=new Intent(\n                     MainActivity.this,\n                     MainActivity2.class);\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>MainActivity2.java</p>\n\n<pre><code>package com.example.myfirstapp;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.app.Activity;\n\npublic class MainActivity2 extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.activity_main, menu);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","replace","character"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1674392559,"post_id":75200481,"comment_id":132700697,"body_markdown":"`expression = expression.replace(character, &#39; &#39;);` will replace *all* `character` occurances. So `&quot;11+&quot;.replace(&#39;1&#39;,&#39; &#39;)` will become `&quot;  +&quot;`. To replace *first* occurrence of that character you may want to use `replaceFirst`. Since it uses regex, you want to generate regex which represents that character (in case such character is regex metacharacter like `+`). To do that you can use `Pattern.quote` but it expects String. So you also need to convert your `character` to String first. Final version could look like `expression = expression.replaceFirst(Pattern.quote(&quot;&quot;+character), &quot;&quot;);`.","body":"<code>expression = expression.replace(character, &#39; &#39;);</code> will replace <i>all</i> <code>character</code> occurances. So <code>&quot;11+&quot;.replace(&#39;1&#39;,&#39; &#39;)</code> will become <code>&quot;  +&quot;</code>. To replace <i>first</i> occurrence of that character you may want to use <code>replaceFirst</code>. Since it uses regex, you want to generate regex which represents that character (in case such character is regex metacharacter like <code>+</code>). To do that you can use <code>Pattern.quote</code> but it expects String. So you also need to convert your <code>character</code> to String first. Final version could look like <code>expression = expression.replaceFirst(Pattern.quote(&quot;&quot;+character), &quot;&quot;);</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1674392679,"post_id":75200481,"comment_id":132700723,"body_markdown":"Same for player inventory. BTW replacing character with `&quot;&quot;` (empty string) instead of `&#39; &#39;` (space) also lets you avoid `inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);` since you are not adding any spaces now.","body":"Same for player inventory. BTW replacing character with <code>&quot;&quot;</code> (empty string) instead of <code>&#39; &#39;</code> (space) also lets you avoid <code>inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);</code> since you are not adding any spaces now."},{"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"score":0,"creation_date":1674393237,"post_id":75200481,"comment_id":132700805,"body_markdown":"Thank you! I don&#39;t understand how to implement this still. But I will try to figure it out. Just replacing this &quot;expression = expression.replaceFirst...&quot; doesn&#39;t work. So I&#39;ll just see how you meant it and hopefully I&#39;ll get it. Thanks for your help","body":"Thank you! I don&#39;t understand how to implement this still. But I will try to figure it out. Just replacing this &quot;expression = expression.replaceFirst...&quot; doesn&#39;t work. So I&#39;ll just see how you meant it and hopefully I&#39;ll get it. Thanks for your help"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674396175,"post_id":75200481,"comment_id":132701296,"body_markdown":"You are welcome. BTW if instead of String you can use other structures like List then you could use `yourList.remove(element)` which would remove *first* occurrence of that element from your list.","body":"You are welcome. BTW if instead of String you can use other structures like List then you could use <code>yourList.remove(element)</code> which would remove <i>first</i> occurrence of that element from your list."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701623,"creation_date":1684701623,"answer_id":76301839,"question_id":75200481,"body_markdown":"It looks like you&#39;re trying to remove any repeated characters.\r\n\r\nThe following regular expression pattern will match any character that is immediately followed by the same character.\r\n\r\n```regex\r\n(.)\\1\r\n```\r\n\r\nYou can use this within a `String.replaceAll` method.\r\n\r\n```java\r\nString string = &quot;111234++&quot;\r\nwhile (string.matches(&quot;.*(.)\\\\1.*&quot;))\r\n    string = string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot;);\r\n```\r\n\r\nThe `string.matches` call is asserting that `string` contains at least 1 repeated set.  \r\nAnd, the `string.replaceAll` call is replacing the double-occurrence with a single occurrence.","title":"Trying to remove unknown and specific characters once from a string","body":"<p>It looks like you're trying to remove any repeated characters.</p>\n<p>The following regular expression pattern will match any character that is immediately followed by the same character.</p>\n<pre><code>(.)\\1\n</code></pre>\n<p>You can use this within a <code>String.replaceAll</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;111234++&quot;\nwhile (string.matches(&quot;.*(.)\\\\1.*&quot;))\n    string = string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot;);\n</code></pre>\n<p>The <code>string.matches</code> call is asserting that <code>string</code> contains at least 1 repeated set.<br />\nAnd, the <code>string.replaceAll</code> call is replacing the double-occurrence with a single occurrence.</p>\n"}],"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684701623,"creation_date":1674391257,"question_id":75200481,"body_markdown":"I have a command line argument that looks like this:\r\n`&quot;111234++&quot;`. It is not hard-coded, so it could vary. Just for the sake of example, I&#39;ll stick to that specific input though.  \r\nThen there is going to be another expression, like this one: &quot;11+&quot;. My ultimate goal is the removal of these occurrences from the input string. This means, the following string: &quot;111234++&quot; should get converted into this the smaller one right here: &quot;1234+&quot;. For some reason I can&#39;t get this to work. Here is what I tried:\r\n\r\n    if (isExpressionInInventory(expression, inventoryPlayer1)) {\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            char character  = expression.charAt(i);\r\n            for (int j = 0; j &lt; inventoryPlayer1.length(); j++) {\r\n                if (inventoryPlayer1.charAt(j) == character) {\r\n                    inventoryPlayer1 = inventoryPlayer1.replace(character, &#39; &#39;);\r\n                    expression = expression.replace(character, &#39; &#39;);\r\n                }\r\n            }\r\n        }\r\n        inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    }\r\n\r\n___\r\nI tried iterating over the string-expression and store the character consecutively. My first character should be &quot;1&quot; then.. The nested for loop iterates through the inventory &quot;111234++&quot; and replaces each occurrence of the character with an empty character. This is the moment where my program has its flaw. I only want to replace one occurrence of that character. Sadly, I have no idea how to tackle this issue.. \r\nThanks for any help in advance!\r\n","title":"Trying to remove unknown and specific characters once from a string","body":"<p>I have a command line argument that looks like this:\n<code>&quot;111234++&quot;</code>. It is not hard-coded, so it could vary. Just for the sake of example, I'll stick to that specific input though.<br />\nThen there is going to be another expression, like this one: &quot;11+&quot;. My ultimate goal is the removal of these occurrences from the input string. This means, the following string: &quot;111234++&quot; should get converted into this the smaller one right here: &quot;1234+&quot;. For some reason I can't get this to work. Here is what I tried:</p>\n<pre><code>if (isExpressionInInventory(expression, inventoryPlayer1)) {\n    for (int i = 0; i &lt; expression.length(); i++) {\n        char character  = expression.charAt(i);\n        for (int j = 0; j &lt; inventoryPlayer1.length(); j++) {\n            if (inventoryPlayer1.charAt(j) == character) {\n                inventoryPlayer1 = inventoryPlayer1.replace(character, ' ');\n                expression = expression.replace(character, ' ');\n            }\n        }\n    }\n    inventoryPlayer1 = inventoryPlayer1.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n}\n</code></pre>\n<hr />\n<p>I tried iterating over the string-expression and store the character consecutively. My first character should be &quot;1&quot; then.. The nested for loop iterates through the inventory &quot;111234++&quot; and replaces each occurrence of the character with an empty character. This is the moment where my program has its flaw. I only want to replace one occurrence of that character. Sadly, I have no idea how to tackle this issue..\nThanks for any help in advance!</p>\n"},{"tags":["java","eclipse","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":3347567,"reputation":407,"user_id":2812410,"accept_rate":33,"display_name":"Prajyod Kumar"},"score":0,"creation_date":1407760746,"post_id":25243438,"comment_id":39326411,"body_markdown":"the dependencies are listed in my project , but when I open http://repo1.maven.org there was a message &quot;Browsing for this directory has been disabled.&quot;..so how can I fix this then?","body":"the dependencies are listed in my project , but when I open <a href=\"http://repo1.maven.org\" rel=\"nofollow noreferrer\">repo1.maven.org</a> there was a message &quot;Browsing for this directory has been disabled.&quot;..so how can I fix this then?"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1407763421,"post_id":25243438,"comment_id":39328029,"body_markdown":"@PrajyodKumar: Read the rest of the text.","body":"@PrajyodKumar: Read the rest of the text."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1407763518,"post_id":25243438,"comment_id":39328082,"body_markdown":"To fix the problem with Gradle, you need to configure it to use the same proxy settings as your web browser.","body":"To fix the problem with Gradle, you need to configure it to use the same proxy settings as your web browser."},{"owner":{"account_id":920093,"reputation":1000,"user_id":951917,"accept_rate":62,"display_name":"CATALEYA"},"score":0,"creation_date":1437722116,"post_id":25243438,"comment_id":51159195,"body_markdown":"I have same problem. I can access google.com normally but can not access repo1.maven.org.\nNot meaning can not access. The message is \n&quot;Browsing for this directory has been disabled....&quot;","body":"I have same problem. I can access google.com normally but can not access repo1.maven.org. Not meaning can not access. The message is  &quot;Browsing for this directory has been disabled....&quot;"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1437735978,"post_id":25243438,"comment_id":51167531,"body_markdown":"@KouTokyo: Maven Central doesn&#39;t allow to access this URL with a browser. But when you get the error page, that means your browser could connect to Maven Central - so the firewall is OK.","body":"@KouTokyo: Maven Central doesn&#39;t allow to access this URL with a browser. But when you get the error page, that means your browser could connect to Maven Central - so the firewall is OK."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1437736239,"creation_date":1407760481,"answer_id":25243438,"question_id":25243342,"body_markdown":"The real error is this:\r\n\r\n    Connection to http://repo1.maven.org refused\r\n\r\nGradle needs to download the dependencies listed in the error message to be able to compile the project.\r\n\r\nYou&#39;re probably behind a firewall or your Internet connection isn&#39;t working. You need to make sure Gradle can access `http://repo1.maven.org`.\r\n\r\nNote: Maven Central (http://repo1.maven.org) can be accessed with a browser. If you see the message &quot;Browsing for this directory has been disabled&quot; that means your browser could connect to the server (the error is a special message my Maven Central, not a standard HTTP error message).\r\n\r\nIf you see this but Maven or Gradle fail, then you need to check your browser&#39;s/OS&#39;s proxy settings and configure your tool accordingly.\r\n\r\nRelated:\r\n\r\n* https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\r\n* https://stackoverflow.com/questions/5991194/gradle-proxy-configuration","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>The real error is this:</p>\n\n<pre><code>Connection to http://repo1.maven.org refused\n</code></pre>\n\n<p>Gradle needs to download the dependencies listed in the error message to be able to compile the project.</p>\n\n<p>You're probably behind a firewall or your Internet connection isn't working. You need to make sure Gradle can access <code>http://repo1.maven.org</code>.</p>\n\n<p>Note: Maven Central (<a href=\"http://repo1.maven.org\">http://repo1.maven.org</a>) can be accessed with a browser. If you see the message \"Browsing for this directory has been disabled\" that means your browser could connect to the server (the error is a special message my Maven Central, not a standard HTTP error message).</p>\n\n<p>If you see this but Maven or Gradle fail, then you need to check your browser's/OS's proxy settings and configure your tool accordingly.</p>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\">How do I use Maven through a proxy?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\">Gradle proxy configuration</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3101610,"reputation":488,"user_id":2625592,"display_name":"deveth0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407760713,"creation_date":1407760713,"answer_id":25243517,"question_id":25243342,"body_markdown":"It looks like you don&#39;t have a working internet connection or haven&#39;t configured your proxy/firewall. \r\nPlease check if you can access repo1.maven.org from commandline or a browser.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>It looks like you don't have a working internet connection or haven't configured your proxy/firewall. \nPlease check if you can access repo1.maven.org from commandline or a browser.</p>\n"},{"tags":[],"owner":{"account_id":2315367,"reputation":8964,"user_id":2032561,"accept_rate":64,"display_name":"Bharatesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429867782,"creation_date":1429867782,"answer_id":29843753,"question_id":25243342,"body_markdown":"@Aaron Digulla said I have firewall problem.  \r\n\r\nI was having problem with __GSON dependency__, (hope it will solve other dependecy problems also) and this answer solved the problem. Stack Overflow [Could not resolve all dependencies for configuration &#39;:classpath&#39;](https://stackoverflow.com/a/26671662/2032561)\r\n\r\n@Kangars post :\r\nThis is what i have in my __gradle.build__ for build script and allprojects\r\n\r\n    buildscript {\r\n    repositories {\r\n        jcenter {\r\n            url &quot;http://jcenter.bintray.com/&quot;\r\n        }\r\n      }\r\n    }\r\n    \r\n    allprojects {\r\n    repositories {\r\n        jcenter {\r\n            url &quot;http://jcenter.bintray.com/&quot;\r\n        }\r\n      }\r\n    }\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>@Aaron Digulla said I have firewall problem.  </p>\n\n<p>I was having problem with <strong>GSON dependency</strong>, (hope it will solve other dependecy problems also) and this answer solved the problem. Stack Overflow <a href=\"https://stackoverflow.com/a/26671662/2032561\">Could not resolve all dependencies for configuration ':classpath'</a></p>\n\n<p>@Kangars post :\nThis is what i have in my <strong>gradle.build</strong> for build script and allprojects</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter {\n        url \"http://jcenter.bintray.com/\"\n    }\n  }\n}\n\nallprojects {\nrepositories {\n    jcenter {\n        url \"http://jcenter.bintray.com/\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110362,"reputation":1148,"user_id":292049,"accept_rate":45,"display_name":"user292049"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556218197,"creation_date":1448453073,"answer_id":33916077,"question_id":25243342,"body_markdown":"I used the steps below to fix it.\r\n\r\n1. Go to command prompt and set the java opts.\r\n\r\n        SET JAVA_OPTS=-Dhttp.proxyHost=your_proxy_server_name -Dhttp.proxyPort=your_proxy_port -Dhttp.nonProxyHosts=127.0.0.1\r\n\r\n2. Then build your Gradle application and all the connection refused errors no longer appear.\r\n\r\n `gradle clean build distZip`\r\n\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>I used the steps below to fix it.</p>\n\n<ol>\n<li><p>Go to command prompt and set the java opts.</p>\n\n<pre><code>SET JAVA_OPTS=-Dhttp.proxyHost=your_proxy_server_name -Dhttp.proxyPort=your_proxy_port -Dhttp.nonProxyHosts=127.0.0.1\n</code></pre></li>\n<li><p>Then build your Gradle application and all the connection refused errors no longer appear.</p>\n\n<p><code>gradle clean build distZip</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2398173,"reputation":607,"user_id":2096566,"accept_rate":83,"display_name":"phoenix"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1453398181,"creation_date":1453398181,"answer_id":34930698,"question_id":25243342,"body_markdown":"Using --refresh-dependencies switch with gradle, helped me to resolve this issue.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>Using --refresh-dependencies switch with gradle, helped me to resolve this issue.</p>\n"},{"tags":[],"owner":{"account_id":7066261,"reputation":41,"user_id":5409502,"display_name":"george"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456141192,"creation_date":1456141192,"answer_id":35552666,"question_id":25243342,"body_markdown":"This is because of slow internet connection or you haven&#39;t configure proxy settings correctly. Gradle needs to download some dependencies , if it cant access the repository it fires this error. All you have to do is check your internet connection and make sure gradle can access the maven repository.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>This is because of slow internet connection or you haven't configure proxy settings correctly. Gradle needs to download some dependencies , if it cant access the repository it fires this error. All you have to do is check your internet connection and make sure gradle can access the maven repository.</p>\n"},{"tags":[],"owner":{"account_id":93940,"reputation":5106,"user_id":256770,"accept_rate":31,"display_name":"Farrukh Najmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532713451,"creation_date":1532713451,"answer_id":51563062,"question_id":25243342,"body_markdown":"In my case the problem was resolved when I changed my gradle version from 4.6 to 4.7.","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>In my case the problem was resolved when I changed my gradle version from 4.6 to 4.7.</p>\n"},{"tags":[],"owner":{"account_id":8218074,"reputation":784,"user_id":6183652,"display_name":"noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571908890,"creation_date":1538915622,"answer_id":52688524,"question_id":25243342,"body_markdown":"The root cause\r\n`Connection to http://repo1.maven.org refused`\r\nindicates that the build is failing as gradle is not able to fetch some dependencies from the repository.\r\n\r\n\r\nHere is a list of causes and corresponding resolutions you might want to try:\r\n\r\n1. Internet connectivity issues - Have a good internet speed and connectivity\r\n2. Firewall (system or third party) - Ensure firewall is not blocking access to the repository\r\n3. Working behind a proxy - https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\r\n4. Firewall or some random application meddling with proxy application&lt;sup&gt;1&lt;/sup&gt; - Kill the process meddling with the proxy application\r\n5. The proxy application causes certificate problems&lt;sup&gt;2&lt;/sup&gt; - Import proxy application&#39;s certificate\r\n\r\n*References:*\r\n\r\n1. [Telerik forum&#39;s answer on how to fix internet connectivity issue while using Fiddler](https://www.telerik.com/forums/fiddler-causes-my-internet-access-to-stop-working#2Q_DSu6nmE66fQo3ZYUiOw)\r\n2. [Telerik forum&#39;s answer on secure connection issue while using Fiddler](https://www.telerik.com/forums/your-connection-is-not-private-whenever-i-start-fiddler#Z6f4xKmGN0C-1SizhehzAw)","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>The root cause\n<code>Connection to http://repo1.maven.org refused</code>\nindicates that the build is failing as gradle is not able to fetch some dependencies from the repository.</p>\n\n<p>Here is a list of causes and corresponding resolutions you might want to try:</p>\n\n<ol>\n<li>Internet connectivity issues - Have a good internet speed and connectivity</li>\n<li>Firewall (system or third party) - Ensure firewall is not blocking access to the repository</li>\n<li>Working behind a proxy - <a href=\"https://stackoverflow.com/questions/5991194/gradle-proxy-configuration\">Gradle proxy configuration</a></li>\n<li>Firewall or some random application meddling with proxy application<sup>1</sup> - Kill the process meddling with the proxy application</li>\n<li>The proxy application causes certificate problems<sup>2</sup> - Import proxy application's certificate</li>\n</ol>\n\n<p><em>References:</em></p>\n\n<ol>\n<li><a href=\"https://www.telerik.com/forums/fiddler-causes-my-internet-access-to-stop-working#2Q_DSu6nmE66fQo3ZYUiOw\" rel=\"nofollow noreferrer\">Telerik forum's answer on how to fix internet connectivity issue while using Fiddler</a></li>\n<li><a href=\"https://www.telerik.com/forums/your-connection-is-not-private-whenever-i-start-fiddler#Z6f4xKmGN0C-1SizhehzAw\" rel=\"nofollow noreferrer\">Telerik forum's answer on secure connection issue while using Fiddler</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6696284,"reputation":332,"user_id":5164200,"display_name":"Fred"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661750645,"creation_date":1661750645,"answer_id":73524407,"question_id":25243342,"body_markdown":"For my case it was a poor connection issue so the IDE couldn&#39;t get resources online","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>For my case it was a poor connection issue so the IDE couldn't get resources online</p>\n"},{"tags":[],"owner":{"account_id":21579625,"reputation":11,"user_id":15911029,"display_name":"Vy Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701478,"creation_date":1684701478,"answer_id":76301833,"question_id":25243342,"body_markdown":"Mine worked after turning on the VPN. Although the build seems to take a long time and seems to stall at 85%, the service is actually building and I&#39;m able to load it","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>Mine worked after turning on the VPN. Although the build seems to take a long time and seems to stall at 85%, the service is actually building and I'm able to load it</p>\n"}],"owner":{"account_id":3347567,"reputation":407,"user_id":2812410,"accept_rate":33,"display_name":"Prajyod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158916,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":10,"score":18,"last_activity_date":1684701478,"creation_date":1407760180,"question_id":25243342,"body_markdown":"I am trying for so many days to resolve this exception , followed many blogs and couldn&#39;t find  solution. when I run a bundle.gradle by giving jettyRun as command ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5E2OC.jpg\r\n\r\n    I am getting an exception \r\n    \r\n    \r\n       \r\n        **FAILURE: Build failed with an exception.\r\n        \r\n            * What went wrong:\r\n            Could not resolve all dependencies for configuration &#39;:compile&#39;.\r\n            &gt; Could not resolve javax.servlet:servlet-api:2.5.\r\n              Required by:\r\n                  :1-SimpleServlet:unspecified\r\n               &gt; Could not GET &#39;http://repo1.maven.org/maven2/javax/servlet/servlet-api/2.5/servlet-api-2.5.pom&#39;.\r\n                  &gt; Connection to http://repo1.maven.org refused\r\n            &gt; Could not resolve org.apache.commons:commons-io:1.3.2.\r\n              Required by:\r\n                  :1-SimpleServlet:unspecified\r\n               &gt; Could not GET &#39;http://repo1.maven.org/maven2/org/apache/commons/commons-io/1.3.2/commons-io-1.3.2.pom&#39;.\r\n                  &gt; Connection to http://repo1.maven.org refused**\r\n        \r\n      \r\n\r\n","title":"Gradle build is failing [Could not resolve all dependencies for configuration &#39;:compile&#39;.]","body":"<p>I am trying for so many days to resolve this exception , followed many blogs and couldn't find  solution. when I run a bundle.gradle by giving jettyRun as command <img src=\"https://i.stack.imgur.com/5E2OC.jpg\" alt=\"enter image description here\"></p>\n\n<pre><code>I am getting an exception \n\n\n\n    **FAILURE: Build failed with an exception.\n\n        * What went wrong:\n        Could not resolve all dependencies for configuration ':compile'.\n        &gt; Could not resolve javax.servlet:servlet-api:2.5.\n          Required by:\n              :1-SimpleServlet:unspecified\n           &gt; Could not GET 'http://repo1.maven.org/maven2/javax/servlet/servlet-api/2.5/servlet-api-2.5.pom'.\n              &gt; Connection to http://repo1.maven.org refused\n        &gt; Could not resolve org.apache.commons:commons-io:1.3.2.\n          Required by:\n              :1-SimpleServlet:unspecified\n           &gt; Could not GET 'http://repo1.maven.org/maven2/org/apache/commons/commons-io/1.3.2/commons-io-1.3.2.pom'.\n              &gt; Connection to http://repo1.maven.org refused**\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","dependency-injection"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":5,"creation_date":1381781326,"post_id":19368378,"comment_id":28700772,"body_markdown":"You should certainly read this article - http://martinfowler.com/articles/injection.html","body":"You should certainly read this article - <a href=\"http://martinfowler.com/articles/injection.html\" rel=\"nofollow noreferrer\">martinfowler.com/articles/injection.html</a>"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1381781429,"post_id":19368378,"comment_id":28700825,"body_markdown":"Looks like you have read an old Spring in Action Book. Since Spring 3.0, there is not so much bean definition left in the xml.","body":"Looks like you have read an old Spring in Action Book. Since Spring 3.0, there is not so much bean definition left in the xml."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381789999,"post_id":19368378,"comment_id":28704448,"body_markdown":"I did read Spring 3. You gotta help me by explaining how little xml configuration = inversion of control. How can that be?","body":"I did read Spring 3. You gotta help me by explaining how little xml configuration = inversion of control. How can that be?"},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381848013,"post_id":19368378,"comment_id":28727310,"body_markdown":"Ralph, could you explain? How the xml has decreased in spring 3. How does autowiring allow decoupling?","body":"Ralph, could you explain? How the xml has decreased in spring 3. How does autowiring allow decoupling?"}],"answers":[{"tags":[],"owner":{"account_id":1266527,"reputation":2643,"user_id":1223719,"accept_rate":95,"display_name":"aglassman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381781599,"creation_date":1381781599,"answer_id":19368496,"question_id":19368378,"body_markdown":"You don&#39;t truly appreciate Spring until you&#39;ve had to do things the hard way.  The hard way being maintaining multiple large projects without a coherent framework.  If you have 4 big enterprise wide applications that all have their own way of starting themselves, and managing resources, you&#39;re in for a headache.  If you know that each application uses spring, then just look for the application context xml!  This also makes it incredibly easy to setup a new context for different environments, and test cases, all without mucking up your code base.","title":"What is the point of dependency injection as used in Spring?","body":"<p>You don't truly appreciate Spring until you've had to do things the hard way.  The hard way being maintaining multiple large projects without a coherent framework.  If you have 4 big enterprise wide applications that all have their own way of starting themselves, and managing resources, you're in for a headache.  If you know that each application uses spring, then just look for the application context xml!  This also makes it incredibly easy to setup a new context for different environments, and test cases, all without mucking up your code base.</p>\n"},{"comments":[{"owner":{"account_id":536809,"reputation":1366,"user_id":905628,"accept_rate":50,"display_name":"Selvam Rajendran"},"score":0,"creation_date":1467368581,"post_id":19368689,"comment_id":63715560,"body_markdown":"Well said. If we use the anotation, Again we have to search in IDE and find the interface and It has to be change. I am not convinced. what is your view?","body":"Well said. If we use the anotation, Again we have to search in IDE and find the interface and It has to be change. I am not convinced. what is your view?"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1506107264,"post_id":19368689,"comment_id":79702807,"body_markdown":"Is another more minor benefit this?:  Explicitly calling constructors in the &quot;Good old way&quot; prone to refactor even when the same implementation is used, but has and update to its constructor params?  If the constructor gets an added param, and DI is used, then that constructor&#39;s class just needs to autowire the new param, and no explicit constructor call refactor needed?  (reference: &quot;Changing the signature of the Person constructor&quot; at http://www.javacreed.com/why-should-we-use-dependency-injection/)","body":"Is another more minor benefit this?:  Explicitly calling constructors in the &quot;Good old way&quot; prone to refactor even when the same implementation is used, but has and update to its constructor params?  If the constructor gets an added param, and DI is used, then that constructor&#39;s class just needs to autowire the new param, and no explicit constructor call refactor needed?  (reference: &quot;Changing the signature of the Person constructor&quot; at <a href=\"http://www.javacreed.com/why-should-we-use-dependency-injection/\" rel=\"nofollow noreferrer\">javacreed.com/why-should-we-use-dependency-injection</a>)"},{"owner":{"account_id":7054874,"reputation":14072,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"score":0,"creation_date":1581087595,"post_id":19368689,"comment_id":106323846,"body_markdown":"In the case of switching InMemoryLayer with SuperSecretRemoteCloudLayer, I can simply instantiate the storage layer once at put its reference as a public static member in certain. If I do it, I will have to change it only once in the place where the storage layer is instantiated.","body":"In the case of switching InMemoryLayer with SuperSecretRemoteCloudLayer, I can simply instantiate the storage layer once at put its reference as a public static member in certain. If I do it, I will have to change it only once in the place where the storage layer is instantiated."}],"tags":[],"owner":{"account_id":445968,"reputation":4827,"user_id":838733,"accept_rate":83,"display_name":"nietonfir"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1684701185,"creation_date":1381782386,"answer_id":19368689,"question_id":19368378,"body_markdown":"Three Words: **INVERSION OF CONTROL**\r\n\r\nIn a nutshell:\r\nAs soon as you instantiate &quot;the good old way&quot; you create tight coupling, e.g.: your controller depends on a specific template engine, your entities on a concrete database layer, etc. And that&#39;s something you want to prevent and where the dependency injection container (DIC) comes in very handy. It manages your services and you don&#39;t really have to care anymore about specific implementations as long as those implement the same interface.\r\n\r\nImagine a simple storage layer class called `InMemoryLayer` that gets instantiated by you when you need it. Now you want to switch it for an awesome new open-source GitHub solution called `SuperSecretRemoteCloudLayer`. Normally you would now hit &quot;Search and Replace&quot; in your IDE of choice and replace all occurrences of `InMemoryLayer` with the `SuperSecretRemoteCloudLayer`. But that&#39;s not handy and quite error-prone, why would you want to do all that hard work by hand? The DIC can do that for you and all *you* need to take care of, is that both `*Layer` implement the same interface (so your application won&#39;t break).","title":"What is the point of dependency injection as used in Spring?","body":"<p>Three Words: <strong>INVERSION OF CONTROL</strong></p>\n<p>In a nutshell:\nAs soon as you instantiate &quot;the good old way&quot; you create tight coupling, e.g.: your controller depends on a specific template engine, your entities on a concrete database layer, etc. And that's something you want to prevent and where the dependency injection container (DIC) comes in very handy. It manages your services and you don't really have to care anymore about specific implementations as long as those implement the same interface.</p>\n<p>Imagine a simple storage layer class called <code>InMemoryLayer</code> that gets instantiated by you when you need it. Now you want to switch it for an awesome new open-source GitHub solution called <code>SuperSecretRemoteCloudLayer</code>. Normally you would now hit &quot;Search and Replace&quot; in your IDE of choice and replace all occurrences of <code>InMemoryLayer</code> with the <code>SuperSecretRemoteCloudLayer</code>. But that's not handy and quite error-prone, why would you want to do all that hard work by hand? The DIC can do that for you and all <em>you</em> need to take care of, is that both <code>*Layer</code> implement the same interface (so your application won't break).</p>\n"},{"tags":[],"owner":{"display_name":"user41871"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1381787471,"creation_date":1381787471,"answer_id":19369886,"question_id":19368378,"body_markdown":"Spring&#39;s big deal is more about dependency injection, not XML-based configuration. As others have noted, Spring has been moving away from XML-based configuration. But DI is core to Spring.\r\n\r\nThe a-ha is that DI offers a different model for linking components together. Instead of components creating each other directly (and thus being tightly coupled), the components stop doing that, and you inject the linkages from a central location. It turns out that this helps with testing and transaction management in particular.\r\n","title":"What is the point of dependency injection as used in Spring?","body":"<p>Spring's big deal is more about dependency injection, not XML-based configuration. As others have noted, Spring has been moving away from XML-based configuration. But DI is core to Spring.</p>\n\n<p>The a-ha is that DI offers a different model for linking components together. Instead of components creating each other directly (and thus being tightly coupled), the components stop doing that, and you inject the linkages from a central location. It turns out that this helps with testing and transaction management in particular.</p>\n"}],"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5300,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":19368689,"answer_count":3,"score":14,"last_activity_date":1684701185,"creation_date":1381781174,"question_id":19368378,"body_markdown":"I have been reading the book Spring in Action for a few weeks now to learn about the spring framework. I have about 2 years of programming experience mostly in java with some distractions here and there in Ruby and Python.\r\n\r\nAfter reading the first few chapters, I didn&#39;t quite get what the big deal is about dependency injection in spring. I was expecting a AHAAA moment but didn&#39;t quite experience that yet. I&#39;m sure I&#39;m missing something important.\r\n\r\nWhy would I want to wire my beans in xml rather than instantiating them the good old way with the `= new myclass();`\r\n\r\nI understand I can wire beans in the xml via constructor args and properties as well as configure datasources in spring so that I can hide away connection details in an xml file. But  why? There is more to this especially when it comes to good software design. Can some one explain the big deal?","title":"What is the point of dependency injection as used in Spring?","body":"<p>I have been reading the book Spring in Action for a few weeks now to learn about the spring framework. I have about 2 years of programming experience mostly in java with some distractions here and there in Ruby and Python.</p>\n\n<p>After reading the first few chapters, I didn't quite get what the big deal is about dependency injection in spring. I was expecting a AHAAA moment but didn't quite experience that yet. I'm sure I'm missing something important.</p>\n\n<p>Why would I want to wire my beans in xml rather than instantiating them the good old way with the <code>= new myclass();</code></p>\n\n<p>I understand I can wire beans in the xml via constructor args and properties as well as configure datasources in spring so that I can hide away connection details in an xml file. But  why? There is more to this especially when it comes to good software design. Can some one explain the big deal?</p>\n"},{"tags":["java","string","file","file-handling"],"comments":[{"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"score":1,"creation_date":1674575041,"post_id":75223726,"comment_id":132740611,"body_markdown":"isn&#39;t this just: itemID[1] ? based on your stated desired output, no matter the split limit","body":"isn&#39;t this just: itemID[1] ? based on your stated desired output, no matter the split limit"},{"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"score":0,"creation_date":1674575310,"post_id":75223726,"comment_id":132740720,"body_markdown":"@JohnnyMopp I overthought the output! This worked perfectly, thanks for simplifying it!","body":"@JohnnyMopp I overthought the output! This worked perfectly, thanks for simplifying it!"},{"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"score":0,"creation_date":1674575382,"post_id":75223726,"comment_id":132740749,"body_markdown":"@FlavianIuga Yes it is, I overthought the output! Thank you!","body":"@FlavianIuga Yes it is, I overthought the output! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":398248,"reputation":942,"user_id":762826,"accept_rate":80,"display_name":"Jako"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674575569,"creation_date":1674574940,"answer_id":75223829,"question_id":75223726,"body_markdown":"What about something using String.indexOf and String.substring functions (https://docs.oracle.com/javase/7/docs/api/java/lang/String.html)\r\n\r\n    int indexSecondOccurence = line.indexOf(&quot;,&quot;, line.indexOf(&quot;,&quot;) + 1);\r\n    System.out.println(line.substring(0, indexSecondOccurence + 1));\r\n\r\n","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>What about something using String.indexOf and String.substring functions (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/String.html</a>)</p>\n<pre><code>int indexSecondOccurence = line.indexOf(&quot;,&quot;, line.indexOf(&quot;,&quot;) + 1);\nSystem.out.println(line.substring(0, indexSecondOccurence + 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19290314,"reputation":1,"user_id":14100502,"display_name":"ToniKdao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674576209,"creation_date":1674576037,"answer_id":75224079,"question_id":75223726,"body_markdown":"I&#39;d suggest to modify your code as follows.\r\n```\r\n...\r\n        String[] itemID = line.split(&quot;,&quot;, 3); //attempt to use a regex limit\r\n        if(itemID[0].equals(test)) {\r\n            System.out.println(String.join (&quot;,&quot;, itemID[0],itemID[1]));\r\n        }\r\n...\r\n\r\n```\r\nThe split() call will produce an array with maximum 3 elements. First two will be the string pieces that you need. The last element is the remaining &quot;tail&quot; of the original string.\r\nNow we only need to merge the pieces back with the join() method.\r\nHope this helps.","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>I'd suggest to modify your code as follows.</p>\n<pre><code>...\n        String[] itemID = line.split(&quot;,&quot;, 3); //attempt to use a regex limit\n        if(itemID[0].equals(test)) {\n            System.out.println(String.join (&quot;,&quot;, itemID[0],itemID[1]));\n        }\n...\n\n</code></pre>\n<p>The split() call will produce an array with maximum 3 elements. First two will be the string pieces that you need. The last element is the remaining &quot;tail&quot; of the original string.\nNow we only need to merge the pieces back with the join() method.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684701016,"creation_date":1684700568,"answer_id":76301787,"question_id":75223726,"body_markdown":"With `String.split`, the limit parameter is going to be the maximum number of `String` array values you want returned.  \r\nFor example, `&quot;A,B,C,D&quot;`, with a limit of 2 will return `[&quot;A&quot;, &quot;B,C,D&quot;]`.\r\n\r\nIn terms of the use of `String.split` on the data.  \r\nIf the quoted text item, in this case, &quot;Stanley #2 Philips Screwdriver&quot;, is guaranteed not to contain a `,`, then `split` is the method to go with.\r\nFrom there, your `0` index will contain `&quot;14&quot;`, and your `1` index will contain `&quot;Stanley #2 Philips Screwdriver&quot;`.\r\n\r\nIn regard to printing your data, just concatenate the values.\r\n\r\n```java\r\nString itemID[] = line.split(&quot;,&quot;, 5);\r\nSystem.out.println(itemID[0] + &quot;, &quot; + itemID[1]);\r\n```\r\n\r\nSo, in conclusion, you can do the following with the given data\r\n`14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95`.\r\n\r\n```java\r\nString string = &quot;14, \\&quot;Stanley #2 Philips Screwdriver\\&quot;, true, 6.95&quot;;\r\nString[] strings = string.split(&quot;, &quot;);\r\nString id = strings[0];\r\nString description = strings[1];\r\nSystem.out.println(id);\r\nSystem.out.println(description);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n14\r\n&quot;Stanley #2 Philips Screwdriver&quot;\r\n```","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>With <code>String.split</code>, the limit parameter is going to be the maximum number of <code>String</code> array values you want returned.<br />\nFor example, <code>&quot;A,B,C,D&quot;</code>, with a limit of 2 will return <code>[&quot;A&quot;, &quot;B,C,D&quot;]</code>.</p>\n<p>In terms of the use of <code>String.split</code> on the data.<br />\nIf the quoted text item, in this case, &quot;Stanley #2 Philips Screwdriver&quot;, is guaranteed not to contain a <code>,</code>, then <code>split</code> is the method to go with.\nFrom there, your <code>0</code> index will contain <code>&quot;14&quot;</code>, and your <code>1</code> index will contain <code>&quot;Stanley #2 Philips Screwdriver&quot;</code>.</p>\n<p>In regard to printing your data, just concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String itemID[] = line.split(&quot;,&quot;, 5);\nSystem.out.println(itemID[0] + &quot;, &quot; + itemID[1]);\n</code></pre>\n<p>So, in conclusion, you can do the following with the given data\n<code>14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;14, \\&quot;Stanley #2 Philips Screwdriver\\&quot;, true, 6.95&quot;;\nString[] strings = string.split(&quot;, &quot;);\nString id = strings[0];\nString description = strings[1];\nSystem.out.println(id);\nSystem.out.println(description);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>14\n&quot;Stanley #2 Philips Screwdriver&quot;\n</code></pre>\n"}],"owner":{"account_id":18340378,"reputation":45,"user_id":13356804,"display_name":"Y3LLZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684701016,"creation_date":1674574408,"question_id":75223726,"body_markdown":"I am currently trying to stop printing a line of text after a ```,``` character is read on that line a second time from a text file. Example; ```14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95```. Stop reading and print out the text after the ```,``` character is read a second time. So the output text should look like ```14, &quot;Stanley #2 Philips Screwdriver&quot;```. I tried to use a limit on the regex to achieve this but, it just omits all the commas and prints out the entire text. This is what my code looks like so far; \r\n```\t\r\npublic static void fileReader() throws FileNotFoundException {\r\n\t\tFile file = new File(&quot;/Users/14077/Downloads/inventory.txt&quot;);\r\n\t\tScanner scan = new Scanner(file);\r\n\t\tString test = &quot;4452&quot;;\r\n\t\t\r\n\t\twhile (scan.hasNext()) {\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\tString[] itemID = line.split(&quot;,&quot;, 5); //attempt to use a regex limit\r\n\t\t\tif(itemID[0].equals(test)) {\r\n\t\t\t\tfor(String a : itemID)\r\n                System.out.println(a);\r\n\t\t\t}//end if \r\n\t\t\t\r\n\t\t}//end while \t\r\n\t\t\r\n\t}//end fileReader\r\n```\r\n\r\nI also tried to print just part of the text up until the first comma like;\r\n```\r\nString itemID[] = line.split(&quot;,&quot;, 5);\r\n       System.out.println(itemID[0]);\r\n``` \r\nBut no luck, it just prints 14. Please any help will be appreciated. ","title":"Stop printing line of text from a file after a character appears a second time","body":"<p>I am currently trying to stop printing a line of text after a <code>,</code> character is read on that line a second time from a text file. Example; <code>14, &quot;Stanley #2 Philips Screwdriver&quot;, true, 6.95</code>. Stop reading and print out the text after the <code>,</code> character is read a second time. So the output text should look like <code>14, &quot;Stanley #2 Philips Screwdriver&quot;</code>. I tried to use a limit on the regex to achieve this but, it just omits all the commas and prints out the entire text. This is what my code looks like so far;</p>\n<pre><code>public static void fileReader() throws FileNotFoundException {\n        File file = new File(&quot;/Users/14077/Downloads/inventory.txt&quot;);\n        Scanner scan = new Scanner(file);\n        String test = &quot;4452&quot;;\n        \n        while (scan.hasNext()) {\n            String line = scan.nextLine();\n            String[] itemID = line.split(&quot;,&quot;, 5); //attempt to use a regex limit\n            if(itemID[0].equals(test)) {\n                for(String a : itemID)\n                System.out.println(a);\n            }//end if \n            \n        }//end while    \n        \n    }//end fileReader\n</code></pre>\n<p>I also tried to print just part of the text up until the first comma like;</p>\n<pre><code>String itemID[] = line.split(&quot;,&quot;, 5);\n       System.out.println(itemID[0]);\n</code></pre>\n<p>But no luck, it just prints 14. Please any help will be appreciated.</p>\n"},{"tags":["java","jenkins","groovy","continuous-integration","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":14305614,"reputation":72,"user_id":10333632,"display_name":"sagstetterC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684700724,"creation_date":1684700724,"answer_id":76301797,"question_id":76298736,"body_markdown":"you can use the `when` block for this see [Pipeline Syntax][1].\r\n\r\nexample:\r\n\r\n    stage(&#39;FC&#39;) {\r\n       when { expression { return params.Build_type == &#39;FC&#39; } }\r\n       steps {\r\n          echo &quot;D6-EPS EXECUTED&quot;}\r\n       }\r\n    }\r\n\r\n  [1]: https://www.jenkins.io/doc/book/pipeline/syntax/#when","title":"Implementing conditional execution of Jenkins pipeline stages based on the &#39;choice&#39; parameter","body":"<p>you can use the <code>when</code> block for this see <a href=\"https://www.jenkins.io/doc/book/pipeline/syntax/#when\" rel=\"nofollow noreferrer\">Pipeline Syntax</a>.</p>\n<p>example:</p>\n<pre><code>stage('FC') {\n   when { expression { return params.Build_type == 'FC' } }\n   steps {\n      echo &quot;D6-EPS EXECUTED&quot;}\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":28646123,"reputation":3,"user_id":21934074,"display_name":"Nikil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76301797,"answer_count":1,"score":0,"last_activity_date":1684700724,"creation_date":1684653743,"question_id":76298736,"body_markdown":"     pipeline {\r\n      parameters {\r\n    choice choices: [&#39;ME&#39;, &#39;FC&#39;, &#39;ME_and_FC&#39;], description: &#39;Pick Something&#39;, name: &#39;Build_type&#39;\r\n     }\r\n      agent {\r\n        node{\r\n            label &#39;Slave_APP_Train_32&#39;\r\n            customWorkspace &#39;App_WS&#39;\r\n        }\r\n     }\r\n    stages {\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n        stage(&#39;FC&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n          stage(&#39;parallel&#39;){\r\n              parallel {\r\n                \r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;D6 SRA&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;D6 EPS&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n                stage(&#39;ME&#39;) {\r\n                    stages {\r\n                        stage(&#39;C3 EPS&#39;) { steps {echo &quot;D6-EPS EXECUTED&quot;}}\r\n                       \r\n                    }\r\n                }\r\n            }\r\n          }\r\n        \r\n        }\r\n      }`\r\n\r\n\r\n\r\n Need some conditional statement to call the ME and FC stages ,so that it runs based on the choices given in the choice parameter  \r\n\r\n This my script, i am not sure how to call the choice parameter with if condition \r\n    Say for FC all the FC stages should run , for ME all the ME stages should run \r\n\r\n\r\n    I tried by calling with this command if(${params.Build_type==&#39;ME&#39;}||${params.Build_type==&#39;ME_and_FC&#39;})\r\n     [ERROR](https://i.stack.imgur.com/x0BWA.png) it shows like not a valid syntax \r\n\r\n    Can someone help me to figure it out`","title":"Implementing conditional execution of Jenkins pipeline stages based on the &#39;choice&#39; parameter","body":"<pre><code> pipeline {\n  parameters {\nchoice choices: ['ME', 'FC', 'ME_and_FC'], description: 'Pick Something', name: 'Build_type'\n }\n  agent {\n    node{\n        label 'Slave_APP_Train_32'\n        customWorkspace 'App_WS'\n    }\n }\nstages {\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n    stage('FC') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n      stage('parallel'){\n          parallel {\n            \n            stage('ME') {\n                stages {\n                    stage('D6 SRA') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n            stage('ME') {\n                stages {\n                    stage('D6 EPS') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n            stage('ME') {\n                stages {\n                    stage('C3 EPS') { steps {echo &quot;D6-EPS EXECUTED&quot;}}\n                   \n                }\n            }\n        }\n      }\n    \n    }\n  }`\n</code></pre>\n<p>Need some conditional statement to call the ME and FC stages ,so that it runs based on the choices given in the choice parameter</p>\n<p>This my script, i am not sure how to call the choice parameter with if condition\nSay for FC all the FC stages should run , for ME all the ME stages should run</p>\n<pre><code>I tried by calling with this command if(${params.Build_type=='ME'}||${params.Build_type=='ME_and_FC'})\n [ERROR](https://i.stack.imgur.com/x0BWA.png) it shows like not a valid syntax \n\nCan someone help me to figure it out`\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","embedded-mongodb"],"comments":[{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1684705916,"post_id":76301758,"comment_id":134552007,"body_markdown":"Have you tried to Mock the UserRepository?","body":"Have you tried to Mock the UserRepository?"},{"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"score":0,"creation_date":1684710330,"post_id":76301758,"comment_id":134552416,"body_markdown":"I haven&#39;t wanted to Mock so far. My reasoning is that if my tests are failing because an embedded MongoDB instance can&#39;t be started, then even if I mock UserRepository, I might still run into the same problem with other parts of my application that interact with MongoDB. Why do you think I should Mock as opposed to using an embedded version of MongoDB?","body":"I haven&#39;t wanted to Mock so far. My reasoning is that if my tests are failing because an embedded MongoDB instance can&#39;t be started, then even if I mock UserRepository, I might still run into the same problem with other parts of my application that interact with MongoDB. Why do you think I should Mock as opposed to using an embedded version of MongoDB?"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684700527,"creation_date":1684700045,"question_id":76301758,"body_markdown":"I have an experimental Spring Boot Service that uses MongoDB. I&#39;ve tried to write some unit tests with the `&#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo&#39;` dependency. However, the tests are generating an error:\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext. \r\n```\r\nWhen running debug level logging the only additional info I see is\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedMongoServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\r\n```\r\nHere is the unit test class:\r\n## UserRepositoryTest\r\n```java\r\npackage com.gitgrub.userservice.repository;\r\n\r\nimport com.gitgrub.userservice.model.User;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@DataMongoTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass UserRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void findByUsername() {\r\n        String testUsername = &quot;testUser&quot;;\r\n        User user = new User(testUsername, &quot;test@example.com&quot;, &quot;password&quot;);\r\n        userRepository.save(user);\r\n\r\n        User foundUser = userRepository.findByUsername(testUsername);\r\n        assertNotNull(foundUser);\r\n        assertEquals(testUsername, foundUser.getUsername());\r\n    }\r\n\r\n    @Test\r\n    void findByEmail() {\r\n        String testEmail = &quot;test@example.com&quot;;\r\n        User user = new User(&quot;testUser&quot;, testEmail, &quot;password&quot;);\r\n        userRepository.save(user);\r\n\r\n        User foundUser = userRepository.findByEmail(testEmail);\r\n        assertNotNull(foundUser);\r\n        assertEquals(testEmail, foundUser.getEmail());\r\n    }\r\n\r\n    @Test\r\n    void findByUsernameOrEmail() {\r\n        String testUsername = &quot;testUser&quot;;\r\n        String testEmail = &quot;test@example.com&quot;;\r\n        User user1 = new User(testUsername, &quot;user1@example.com&quot;, &quot;password&quot;);\r\n        User user2 = new User(&quot;user2&quot;, testEmail, &quot;password&quot;);\r\n\r\n        userRepository.save(user1);\r\n        userRepository.save(user2);\r\n\r\n        User foundUser1 = userRepository.findByUsernameOrEmail(testUsername, &quot;&quot;);\r\n        assertNotNull(foundUser1);\r\n        assertEquals(testUsername, foundUser1.getUsername());\r\n\r\n        User foundUser2 = userRepository.findByUsernameOrEmail(&quot;&quot;, testEmail);\r\n        assertNotNull(foundUser2);\r\n        assertEquals(testEmail, foundUser2.getEmail());\r\n    }\r\n}\r\n```\r\n\r\nHere is the main project interface that&#39;s being tested:\r\n## UserRepository\r\n```java\r\n/**\r\n * UserRepository is an interface for a data access object (DAO) that handles User data.\r\n * It extends MongoRepository to leverage Spring Data MongoDB&#39;s functionality,\r\n * including CRUD operations and database queries.\r\n *\r\n * This repository provides methods for finding a user by username, by email,\r\n * or by either username or email.\r\n *\r\n * The repository is used by other components of the application (like services and controllers)\r\n * to interact with the User data in the database.\r\n *\r\n */\r\n\r\npackage com.gitgrub.userservice.repository;\r\n\r\nimport com.gitgrub.userservice.model.User;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n    User findByUsername(String username);\r\n\r\n    User findByEmail(String email);\r\n\r\n    User findByUsernameOrEmail(String username, String email);\r\n\r\n}\r\n```","title":"Error creating bean with name &#39;embeddedMongoServer&#39;","body":"<p>I have an experimental Spring Boot Service that uses MongoDB. I've tried to write some unit tests with the <code>'de.flapdoodle.embed:de.flapdoodle.embed.mongo'</code> dependency. However, the tests are generating an error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext. \n</code></pre>\n<p>When running debug level logging the only additional info I see is</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMongoServer' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Could not start process: &lt;EOF&gt;\n</code></pre>\n<p>Here is the unit test class:</p>\n<h2>UserRepositoryTest</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.gitgrub.userservice.repository;\n\nimport com.gitgrub.userservice.model.User;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;\nimport org.springframework.test.context.ActiveProfiles;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@DataMongoTest\n@ActiveProfiles(&quot;test&quot;)\nclass UserRepositoryTest {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void findByUsername() {\n        String testUsername = &quot;testUser&quot;;\n        User user = new User(testUsername, &quot;test@example.com&quot;, &quot;password&quot;);\n        userRepository.save(user);\n\n        User foundUser = userRepository.findByUsername(testUsername);\n        assertNotNull(foundUser);\n        assertEquals(testUsername, foundUser.getUsername());\n    }\n\n    @Test\n    void findByEmail() {\n        String testEmail = &quot;test@example.com&quot;;\n        User user = new User(&quot;testUser&quot;, testEmail, &quot;password&quot;);\n        userRepository.save(user);\n\n        User foundUser = userRepository.findByEmail(testEmail);\n        assertNotNull(foundUser);\n        assertEquals(testEmail, foundUser.getEmail());\n    }\n\n    @Test\n    void findByUsernameOrEmail() {\n        String testUsername = &quot;testUser&quot;;\n        String testEmail = &quot;test@example.com&quot;;\n        User user1 = new User(testUsername, &quot;user1@example.com&quot;, &quot;password&quot;);\n        User user2 = new User(&quot;user2&quot;, testEmail, &quot;password&quot;);\n\n        userRepository.save(user1);\n        userRepository.save(user2);\n\n        User foundUser1 = userRepository.findByUsernameOrEmail(testUsername, &quot;&quot;);\n        assertNotNull(foundUser1);\n        assertEquals(testUsername, foundUser1.getUsername());\n\n        User foundUser2 = userRepository.findByUsernameOrEmail(&quot;&quot;, testEmail);\n        assertNotNull(foundUser2);\n        assertEquals(testEmail, foundUser2.getEmail());\n    }\n}\n</code></pre>\n<p>Here is the main project interface that's being tested:</p>\n<h2>UserRepository</h2>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * UserRepository is an interface for a data access object (DAO) that handles User data.\n * It extends MongoRepository to leverage Spring Data MongoDB's functionality,\n * including CRUD operations and database queries.\n *\n * This repository provides methods for finding a user by username, by email,\n * or by either username or email.\n *\n * The repository is used by other components of the application (like services and controllers)\n * to interact with the User data in the database.\n *\n */\n\npackage com.gitgrub.userservice.repository;\n\nimport com.gitgrub.userservice.model.User;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    User findByUsername(String username);\n\n    User findByEmail(String email);\n\n    User findByUsernameOrEmail(String username, String email);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","webserver"],"comments":[{"owner":{"account_id":2408344,"reputation":375,"user_id":2104151,"accept_rate":50,"display_name":"techprat"},"score":0,"creation_date":1684641352,"post_id":76297913,"comment_id":134545611,"body_markdown":"if you want to serve only static content why do you need a web application, you can deploy your static content in a http server. you dont need a servlet container.\nLook at this simple tutorial: https://dev.to/tikam02/deploying-static-website-in-apache24-1k63","body":"if you want to serve only static content why do you need a web application, you can deploy your static content in a http server. you dont need a servlet container. Look at this simple tutorial: <a href=\"https://dev.to/tikam02/deploying-static-website-in-apache24-1k63\" rel=\"nofollow noreferrer\">dev.to/tikam02/deploying-static-website-in-apache24-1k63</a>"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1684651230,"post_id":76297913,"comment_id":134546142,"body_markdown":"why dont u try creating your won embedded tomcat app to understand better how it works? https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat","body":"why dont u try creating your won embedded tomcat app to understand better how it works? <a href=\"https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684673843,"post_id":76297913,"comment_id":134548312,"body_markdown":"@techprat I am aware I don&#39;t need a web application, but I am interested in the ease it provides. All I need to do is hit package and spring-boot tooling will produce a web archive that can be immediately deployed anywhere with a JVM from a single file, serving my whole website. The concern for thinning out the dependencies is only because I know spring-boot will run other components automatically, and just a simple desire for a slightly more optimal solution. In short, I am using a servlet container because its easier to setup (spring-boot also provides default settings that work)","body":"@techprat I am aware I don&#39;t need a web application, but I am interested in the ease it provides. All I need to do is hit package and spring-boot tooling will produce a web archive that can be immediately deployed anywhere with a JVM from a single file, serving my whole website. The concern for thinning out the dependencies is only because I know spring-boot will run other components automatically, and just a simple desire for a slightly more optimal solution. In short, I am using a servlet container because its easier to setup (spring-boot also provides default settings that work)"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684673924,"post_id":76297913,"comment_id":134548320,"body_markdown":"@JAsgarov I could create my own tomcat app, I even considered that. But as I mentioned in my other comment, I am interested in the help spring-boot provides to package everything as a simple web archive that can be deployed immediately anywhere with java, not setup or settings required","body":"@JAsgarov I could create my own tomcat app, I even considered that. But as I mentioned in my other comment, I am interested in the help spring-boot provides to package everything as a simple web archive that can be deployed immediately anywhere with java, not setup or settings required"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684679087,"post_id":76297913,"comment_id":134548917,"body_markdown":"Tomcat can be embedded in a Java JAR-based project (no WAR is needed). Is that the piece of the jigsaw you are missing? Tomcat [provides](https://mvnrepository.com/search?q=tomcat-embed) `embed-core`, `embed-jasper`, `embed-websocket`, etc. to support this. You can instantiate the embedded Tomcat process in your own code: `Tomcat tomcat = new Tomcat();` and so on. I don&#39;t know the specific details - but I assume Spring uses these Tomcat classes in its Spring-Boot-Starter-Web (for example).","body":"Tomcat can be embedded in a Java JAR-based project (no WAR is needed). Is that the piece of the jigsaw you are missing? Tomcat <a href=\"https://mvnrepository.com/search?q=tomcat-embed\" rel=\"nofollow noreferrer\">provides</a> <code>embed-core</code>, <code>embed-jasper</code>, <code>embed-websocket</code>, etc. to support this. You can instantiate the embedded Tomcat process in your own code: <code>Tomcat tomcat = new Tomcat();</code> and so on. I don&#39;t know the specific details - but I assume Spring uses these Tomcat classes in its Spring-Boot-Starter-Web (for example)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684679202,"post_id":76297913,"comment_id":134548932,"body_markdown":"&quot;_I am trying to create a war archive_&quot; - in other words, you don&#39;t create a WAR - you create a JAR to do this. See also frameworks such as [Javalin](https://javalin.io/), which do something similar. Javalin uses embedded Jetty, not embedded Tomcat. Maybe I have missed the point of your question?","body":"&quot;<i>I am trying to create a war archive</i>&quot; - in other words, you don&#39;t create a WAR - you create a JAR to do this. See also frameworks such as <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a>, which do something similar. Javalin uses embedded Jetty, not embedded Tomcat. Maybe I have missed the point of your question?"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684694196,"post_id":76297913,"comment_id":134550779,"body_markdown":"@andrewJames Perhaps I haven&#39;t explained myself, spring-boot automatically creates a WAR archive that includes all dependencies, a custom class loader, alongside the build output, such that the archive is effectively a runnable java application. I am unsure why spring-boot packages as war and not jar, but in essence it&#39;s not different. Although I should perhaps look deeper into the Tomcat classes, since you make it sound like it would require little effort to create a similar setup with Tomcat alone","body":"@andrewJames Perhaps I haven&#39;t explained myself, spring-boot automatically creates a WAR archive that includes all dependencies, a custom class loader, alongside the build output, such that the archive is effectively a runnable java application. I am unsure why spring-boot packages as war and not jar, but in essence it&#39;s not different. Although I should perhaps look deeper into the Tomcat classes, since you make it sound like it would require little effort to create a similar setup with Tomcat alone"},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":0,"creation_date":1684694376,"post_id":76297913,"comment_id":134550809,"body_markdown":"@andrewJames As per my other comments, the WAR is to all effects and purposes identical to a JAR, I am unsure why spring-boot packages the application as a war, but I can run it all the same through `java -jar archive.war`. In short, I was just wondering how does Spring achieve this behavior, in hopes of being able to just trim out the fat instead of having to replicate the behavior","body":"@andrewJames As per my other comments, the WAR is to all effects and purposes identical to a JAR, I am unsure why spring-boot packages the application as a war, but I can run it all the same through <code>java -jar archive.war</code>. In short, I was just wondering how does Spring achieve this behavior, in hopes of being able to just trim out the fat instead of having to replicate the behavior"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684695040,"post_id":76297913,"comment_id":134550875,"body_markdown":"This is what confuses me: &quot;_spring-boot automatically creates a WAR_&quot;. Can you show how you are doing this? Maybe by editing your question? Spring Boot (for me) automatically creates a JAR, not a WAR, unless [I explicitly tell it to create a WAR](https://www.baeldung.com/spring-boot-war-tomcat-deploy).","body":"This is what confuses me: &quot;<i>spring-boot automatically creates a WAR</i>&quot;. Can you show how you are doing this? Maybe by editing your question? Spring Boot (for me) automatically creates a JAR, not a WAR, unless <a href=\"https://www.baeldung.com/spring-boot-war-tomcat-deploy\" rel=\"nofollow noreferrer\">I explicitly tell it to create a WAR</a>."},{"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"score":1,"creation_date":1684699828,"post_id":76297913,"comment_id":134551437,"body_markdown":"@andrewJames I actually just checked, funnily enough, I got confused reading the documentation and copied from the example for the war, under the impression that the jar option would produce a shaded jar, however, I just rechecked to source my claim and found out I completely misunderstood the article and both JAR and WAR can be used. However, the resulting archive is identical except for the folder containing compiled sources is BOOT-INF or WEB-INF depending on the packaging so jar or war shouldn&#39;t matter","body":"@andrewJames I actually just checked, funnily enough, I got confused reading the documentation and copied from the example for the war, under the impression that the jar option would produce a shaded jar, however, I just rechecked to source my claim and found out I completely misunderstood the article and both JAR and WAR can be used. However, the resulting archive is identical except for the folder containing compiled sources is BOOT-INF or WEB-INF depending on the packaging so jar or war shouldn&#39;t matter"}],"owner":{"account_id":24679262,"reputation":43,"user_id":18573229,"display_name":"Ieris19"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684700118,"creation_date":1684631421,"question_id":76297913,"body_markdown":"As the title states, I wonder how is spring-boot internally using Tomcat to serve requests, specifically, static files located in certain folders.\r\n\r\nI am trying to create a war* archive that contains a deployable website and trying to get it to be as small as possible, since I only want it to serve static files, and I have managed the exact desired output with spring-boot-starter-web, but would like to rid myself of all unnecessary dependencies.\r\n\r\n\\* (EDIT: as a side note, I have found out that making it a war archive is irrelevant since spring-boot is able to produce a jar under the exact same mechanism, but otherwise, they should function all the same)\r\n\r\nHowever, I have been unable to find much (or really any) documentation on how this is achieved by spring-boot, not even by looking at the sources although I admit I am unfamiliar with spring-boot sources or non-boot spring projects in general.\r\n\r\nI haven&#39;t found a way to actually start the same sort of behavior without the web starter\r\n\r\n\r\nEDIT: For those wondering how the archive is created, here&#39;s a link to Spring&#39;s documentation on it: [&quot;The Executable Jar Format&quot;][1]\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html","title":"How is the embedded Tomcat behaviour in spring-boot-starter-web achieved?","body":"<p>As the title states, I wonder how is spring-boot internally using Tomcat to serve requests, specifically, static files located in certain folders.</p>\n<p>I am trying to create a war* archive that contains a deployable website and trying to get it to be as small as possible, since I only want it to serve static files, and I have managed the exact desired output with spring-boot-starter-web, but would like to rid myself of all unnecessary dependencies.</p>\n<p>* (EDIT: as a side note, I have found out that making it a war archive is irrelevant since spring-boot is able to produce a jar under the exact same mechanism, but otherwise, they should function all the same)</p>\n<p>However, I have been unable to find much (or really any) documentation on how this is achieved by spring-boot, not even by looking at the sources although I admit I am unfamiliar with spring-boot sources or non-boot spring projects in general.</p>\n<p>I haven't found a way to actually start the same sort of behavior without the web starter</p>\n<p>EDIT: For those wondering how the archive is created, here's a link to Spring's documentation on it: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">&quot;The Executable Jar Format&quot;</a></p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1674868517,"post_id":75264144,"comment_id":132812144,"body_markdown":"Idk why you included recursion in the title, this does not require it. All you have to do is iterate over each character in the string, cut it when you hit the start point letter, take the tail. Then iterate over the tail until you reach the end point letter, cut the string and fetch the head.","body":"Idk why you included recursion in the title, this does not require it. All you have to do is iterate over each character in the string, cut it when you hit the start point letter, take the tail. Then iterate over the tail until you reach the end point letter, cut the string and fetch the head."},{"owner":{"account_id":27639273,"reputation":11,"user_id":21096553,"display_name":"Anh Nghi&#234;m"},"score":0,"creation_date":1674870761,"post_id":75264144,"comment_id":132812398,"body_markdown":"I figured we could do it the easier way but the assisngment require me to do with recursion","body":"I figured we could do it the easier way but the assisngment require me to do with recursion"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1674871484,"post_id":75264144,"comment_id":132812477,"body_markdown":"Any iteration can be refactored into being a recursion.","body":"Any iteration can be refactored into being a recursion."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674923367,"creation_date":1674923367,"answer_id":75269144,"question_id":75264144,"body_markdown":"Try this:\r\n\r\npublic static String getmiddle(String s, char start, char end) {\r\n\r\n\tif (s.charAt(0) != start &amp;&amp; s.charAt(s.length() - 1) != end) {\r\n\r\n\t\treturn getmiddle(s.substring(1, s.length() - 2), start, end);\r\n\r\n\t} else if (s.charAt(0) != start) {\r\n\t\treturn getmiddle(s.substring(1), start, end);\r\n\t} else if (s.charAt(s.length() - 1) != end) {\r\n\t\treturn getmiddle(s.substring(0, s.length() - 2), start, end);\r\n\r\n\t} else {\r\n\t\treturn s.substring(1, s.length() - 1);\r\n\t}\r\n\r\n}\r\n\r\n","title":"Recursion of a string with 2 specific start and end point","body":"<p>Try this:</p>\n<p>public static String getmiddle(String s, char start, char end) {</p>\n<pre><code>if (s.charAt(0) != start &amp;&amp; s.charAt(s.length() - 1) != end) {\n\n    return getmiddle(s.substring(1, s.length() - 2), start, end);\n\n} else if (s.charAt(0) != start) {\n    return getmiddle(s.substring(1), start, end);\n} else if (s.charAt(s.length() - 1) != end) {\n    return getmiddle(s.substring(0, s.length() - 2), start, end);\n\n} else {\n    return s.substring(1, s.length() - 1);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684699686,"creation_date":1684699686,"answer_id":76301729,"question_id":75264144,"body_markdown":"Recursion is confusing, since there is not necessarily one way to derive the data.\r\n\r\nOne approach is to write your control-flow, as though all conditions have already been met.  \r\nWhich is the complete opposite of just basic control-flow.\r\n\r\nThe following method will return `ascr` for `javascript`, using `v` and `i`.\r\n\r\n```java\r\npublic static String getmiddle(String s, char start, char end) {\r\n    if (s.charAt(0) == start &amp;&amp; s.charAt(s.length() - 1) == end)\r\n        return s.substring(1, s.length() - 1);\r\n    else if (s.charAt(0) != start)\r\n        s = getmiddle(s.substring(1), start, end);\r\n    else if (s.charAt(s.length() - 1) != end)\r\n        s = getmiddle(s.substring(0, s.length() - 1), start, end);\r\n    return s;\r\n}\r\n```\r\n\r\nYour code deviated at the following conditional-statement, `if (str.charAt(0) != end)`.\r\n\r\nYou would want to be checking the last character, here, `s.length() - 1`, as opposed to the first, at `0`.","title":"Recursion of a string with 2 specific start and end point","body":"<p>Recursion is confusing, since there is not necessarily one way to derive the data.</p>\n<p>One approach is to write your control-flow, as though all conditions have already been met.<br />\nWhich is the complete opposite of just basic control-flow.</p>\n<p>The following method will return <code>ascr</code> for <code>javascript</code>, using <code>v</code> and <code>i</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getmiddle(String s, char start, char end) {\n    if (s.charAt(0) == start &amp;&amp; s.charAt(s.length() - 1) == end)\n        return s.substring(1, s.length() - 1);\n    else if (s.charAt(0) != start)\n        s = getmiddle(s.substring(1), start, end);\n    else if (s.charAt(s.length() - 1) != end)\n        s = getmiddle(s.substring(0, s.length() - 1), start, end);\n    return s;\n}\n</code></pre>\n<p>Your code deviated at the following conditional-statement, <code>if (str.charAt(0) != end)</code>.</p>\n<p>You would want to be checking the last character, here, <code>s.length() - 1</code>, as opposed to the first, at <code>0</code>.</p>\n"}],"owner":{"account_id":27639273,"reputation":11,"user_id":21096553,"display_name":"Anh Nghi&#234;m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684699686,"creation_date":1674860432,"question_id":75264144,"body_markdown":"I am stuck on the assignment which require to write a recursion method to return everything between 2 specific points.\r\nFor example, if the input is &quot;javascript&quot; with &quot;v&quot; as start point and &quot;i&quot; as end point, we have to return &quot;ascr&quot;\r\n\r\n\r\n    public static String getmiddle(String s, char start, char end) {\r\n        if (s.charAt(0)!=start) {\r\n            getmiddle(s.substring(1), start, end);  \r\n        }\r\n\r\n        str = str.substring(1);\r\n\r\n        if (str.charAt(0) != end) {\r\n            return s.substring(0,1) + getmiddle(s.substring(1), start, end);\r\n        } else {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nThis is what I did. The first if method I try to remove the first part before the start point, but I couldn&#39;t figure out my 2nd part.","title":"Recursion of a string with 2 specific start and end point","body":"<p>I am stuck on the assignment which require to write a recursion method to return everything between 2 specific points.\nFor example, if the input is &quot;javascript&quot; with &quot;v&quot; as start point and &quot;i&quot; as end point, we have to return &quot;ascr&quot;</p>\n<pre><code>public static String getmiddle(String s, char start, char end) {\n    if (s.charAt(0)!=start) {\n        getmiddle(s.substring(1), start, end);  \n    }\n\n    str = str.substring(1);\n\n    if (str.charAt(0) != end) {\n        return s.substring(0,1) + getmiddle(s.substring(1), start, end);\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>This is what I did. The first if method I try to remove the first part before the start point, but I couldn't figure out my 2nd part.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"score":0,"creation_date":1684699091,"post_id":76301581,"comment_id":134551365,"body_markdown":"Refer this https://stackoverflow.com/questions/1795649/jpa-persisting-a-one-to-many-relationship","body":"Refer this <a href=\"https://stackoverflow.com/questions/1795649/jpa-persisting-a-one-to-many-relationship\" title=\"jpa persisting a one to many relationship\">stackoverflow.com/questions/1795649/&hellip;</a>"}],"owner":{"account_id":7544112,"reputation":565,"user_id":5727808,"display_name":"TrollBearPig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684699575,"creation_date":1684697286,"question_id":76301581,"body_markdown":"**Context:**\r\n\r\nLets say I have 3 entities. Entity A (Portfolio) which contains a list of Entity B (Categories) which contains a list of Entity C (CategoryItems)\r\n\r\nLet&#39;s say I already have a Portfolio with some categories and category items persisted.\r\n\r\n**Problem**: \r\n\r\nIf I have a list of Categories and nested CategoryItems. Some of which have ID&#39;s as they have already been persisted, and some which are new objects and have null ID&#39;s. And maybe some of the category items have been updated and are now nested under a different category. \r\n\r\nIs their any easy way to persist this using Hibernate? \r\n\r\nOr do we need to manually handle the merge by iterating through the new updated Categories and Items and handle the updates / create the new items. \r\n\r\n\r\n","title":"Spring JPA how to persist a nested object","body":"<p><strong>Context:</strong></p>\n<p>Lets say I have 3 entities. Entity A (Portfolio) which contains a list of Entity B (Categories) which contains a list of Entity C (CategoryItems)</p>\n<p>Let's say I already have a Portfolio with some categories and category items persisted.</p>\n<p><strong>Problem</strong>:</p>\n<p>If I have a list of Categories and nested CategoryItems. Some of which have ID's as they have already been persisted, and some which are new objects and have null ID's. And maybe some of the category items have been updated and are now nested under a different category.</p>\n<p>Is their any easy way to persist this using Hibernate?</p>\n<p>Or do we need to manually handle the merge by iterating through the new updated Categories and Items and handle the updates / create the new items.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1674909476,"post_id":75267477,"comment_id":132816881,"body_markdown":"Welcome to SO.  Let&#39;s clarify your question before writing any code.  Are you taking a list of words and filtering them, separating them in two groups?  Or are you modifying the words?","body":"Welcome to SO.  Let&#39;s clarify your question before writing any code.  Are you taking a list of words and filtering them, separating them in two groups?  Or are you modifying the words?"}],"answers":[{"tags":[],"owner":{"account_id":25516174,"reputation":36,"user_id":19306998,"display_name":"Aditya Punetha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674907812,"creation_date":1674907812,"answer_id":75267538,"question_id":75267477,"body_markdown":"```\r\n\r\n    String[] words = {&quot;Ants&quot;, &quot;Bears&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Falcons&quot;};\r\n\r\n    System.out.println(&quot;Without plurals\\tWith plurals&quot;);\r\n    for (String word : words) {\r\n        String withoutS = word.replaceAll(&quot;s$&quot;, &quot;&quot;);\r\n        System.out.println(withoutS + &quot;\\t\\t\\t&quot; + word);\r\n    }\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nWithout plurals\tWith plurals\r\nAnt\t\t\tAnts\r\nBear\t\t\tBears\r\nCat\t\t\tCats\r\nDog\t\t\tDogs\r\nFalcon\t\t\tFalcons\r\n```","title":"How to separate this into 2 separate columns?","body":"<pre><code>\n    String[] words = {&quot;Ants&quot;, &quot;Bears&quot;, &quot;Cats&quot;, &quot;Dogs&quot;, &quot;Falcons&quot;};\n\n    System.out.println(&quot;Without plurals\\tWith plurals&quot;);\n    for (String word : words) {\n        String withoutS = word.replaceAll(&quot;s$&quot;, &quot;&quot;);\n        System.out.println(withoutS + &quot;\\t\\t\\t&quot; + word);\n    }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>Without plurals With plurals\nAnt         Ants\nBear            Bears\nCat         Cats\nDog         Dogs\nFalcon          Falcons\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684698941,"creation_date":1684698357,"answer_id":76301643,"question_id":75267477,"body_markdown":"Here is a basic implementation, to generate 2 columns of `String` values.\r\n\r\n```java\r\nString columns(String string) {\r\n    String[] strings = string.split(&quot; &quot;);\r\n    int widthA = 0;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        if (strings[index].length() &gt; widthA)\r\n            widthA = strings[index].length();\r\n    }\r\n    int widthB = 0;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        if (strings[index + 1].length() &gt; widthB)\r\n            widthB = strings[index + 1].length();\r\n    }\r\n    StringBuilder columns = new StringBuilder();\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        columns.append((&quot;%-&quot; + widthB + &quot;s &quot;).formatted(strings[index + 1]));\r\n        columns.append((&quot;%-&quot; + widthA + &quot;s%n&quot;).formatted(strings[index]));\r\n    }\r\n    return columns.toString();\r\n}\r\n```\r\n\r\nOutput using the data you provided, is as follows.\r\n\r\n```none\r\nAnt    AntS   \r\nBear   BearS  \r\nCat    CatS   \r\nDog    DogS   \r\nFalcon FalconS\r\n```\r\n\r\nAlternately, if you are looking for two arrays, as opposed to two text columns, you can use the following method.\r\n\r\n```java\r\nString[][] columns(String string) {\r\n    String[] strings = string.split(&quot; &quot;);\r\n    String[][] columns = new String[2][strings.length / 2];\r\n    for (int indexA = 0, indexB = 0; indexA &lt; strings.length; indexA += 2, indexB++) {\r\n        columns[0][indexB] = strings[indexA + 1];\r\n        columns[1][indexB] = strings[indexA];\r\n    }\r\n    return columns;\r\n}\r\n```\r\n\r\nIf we printed the data, we&#39;d get the following output.\r\n\r\n```none\r\n[Ant, Bear, Cat, Dog, Falcon]\r\n[AntS, BearS, CatS, DogS, FalconS]\r\n```","title":"How to separate this into 2 separate columns?","body":"<p>Here is a basic implementation, to generate 2 columns of <code>String</code> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String columns(String string) {\n    String[] strings = string.split(&quot; &quot;);\n    int widthA = 0;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        if (strings[index].length() &gt; widthA)\n            widthA = strings[index].length();\n    }\n    int widthB = 0;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        if (strings[index + 1].length() &gt; widthB)\n            widthB = strings[index + 1].length();\n    }\n    StringBuilder columns = new StringBuilder();\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        columns.append((&quot;%-&quot; + widthB + &quot;s &quot;).formatted(strings[index + 1]));\n        columns.append((&quot;%-&quot; + widthA + &quot;s%n&quot;).formatted(strings[index]));\n    }\n    return columns.toString();\n}\n</code></pre>\n<p>Output using the data you provided, is as follows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Ant    AntS   \nBear   BearS  \nCat    CatS   \nDog    DogS   \nFalcon FalconS\n</code></pre>\n<p>Alternately, if you are looking for two arrays, as opposed to two text columns, you can use the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[][] columns(String string) {\n    String[] strings = string.split(&quot; &quot;);\n    String[][] columns = new String[2][strings.length / 2];\n    for (int indexA = 0, indexB = 0; indexA &lt; strings.length; indexA += 2, indexB++) {\n        columns[0][indexB] = strings[indexA + 1];\n        columns[1][indexB] = strings[indexA];\n    }\n    return columns;\n}\n</code></pre>\n<p>If we printed the data, we'd get the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Ant, Bear, Cat, Dog, Falcon]\n[AntS, BearS, CatS, DogS, FalconS]\n</code></pre>\n"}],"owner":{"account_id":27642511,"reputation":11,"user_id":21099176,"display_name":"mightyboshy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684698941,"creation_date":1674907225,"question_id":75267477,"body_markdown":"AntS\r\nAnt \r\nBearS\r\nBear \r\nCatS\r\nCat \r\nDogS\r\nDog \r\nFalconS\r\nFalcon \r\n\r\n    String five = word;\r\n    String Sremove = five.replace(&quot;s&quot;, &quot;S&quot;);\r\n                \r\n    System.out.println(Sremove);\r\n        \r\n            \r\n    //Display without plurals\r\n    String remove = word;\r\n    String withoutS = remove.replace(&quot;s&quot;,&quot; &quot;);\r\n      \r\n    System.out.println(withoutS);\r\n\r\nWhat I want is the 1st column are the words without plurals, and the 2nd column are the one with plurals.\r\n\r\nI can&#39;t find solutions so I went here","title":"How to separate this into 2 separate columns?","body":"<p>AntS\nAnt\nBearS\nBear\nCatS\nCat\nDogS\nDog\nFalconS\nFalcon</p>\n<pre><code>String five = word;\nString Sremove = five.replace(&quot;s&quot;, &quot;S&quot;);\n            \nSystem.out.println(Sremove);\n    \n        \n//Display without plurals\nString remove = word;\nString withoutS = remove.replace(&quot;s&quot;,&quot; &quot;);\n  \nSystem.out.println(withoutS);\n</code></pre>\n<p>What I want is the 1st column are the words without plurals, and the 2nd column are the one with plurals.</p>\n<p>I can't find solutions so I went here</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684633205,"post_id":76295701,"comment_id":134545203,"body_markdown":"Perhaps something is calling `DataSource.getDataSource()` before junit calls `setup()`. You can add some logging to check this. It isn&#39;t clear why you have written the `init` method. Why do you think that `init` will have any effect? Do you understand how your `DataSource.getDataSource()` method works? That `ds` is `static` and that it will only call `initdatabase()` once?","body":"Perhaps something is calling <code>DataSource.getDataSource()</code> before junit calls <code>setup()</code>. You can add some logging to check this. It isn&#39;t clear why you have written the <code>init</code> method. Why do you think that <code>init</code> will have any effect? Do you understand how your <code>DataSource.getDataSource()</code> method works? That <code>ds</code> is <code>static</code> and that it will only call <code>initdatabase()</code> once?"}],"answers":[{"comments":[{"owner":{"account_id":19575528,"reputation":25,"user_id":14325679,"display_name":"Alex"},"score":0,"creation_date":1684593756,"post_id":76295772,"comment_id":134541416,"body_markdown":"Never did anything like that. Could you show with an example?","body":"Never did anything like that. Could you show with an example?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684594180,"post_id":76295772,"comment_id":134541455,"body_markdown":"This exceeds a Stackoverlow answer. You can search for Java Singleton Testing and find lots of articles. For example https://www.baeldung.com/java-singleton","body":"This exceeds a Stackoverlow answer. You can search for Java Singleton Testing and find lots of articles. For example <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">baeldung.com/java-singleton</a>"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684593592,"creation_date":1684593592,"answer_id":76295772,"question_id":76295701,"body_markdown":"Instead of using system properties to configure the database make your classore easily configurable and testable. You could implement a singleton pattern and an initializing method for example.\r\n\r\nHaving said that, using a different database for production than for testing may not reproduce the exact behavior.","title":"Implementation of BeforeEach within a single method","body":"<p>Instead of using system properties to configure the database make your classore easily configurable and testable. You could implement a singleton pattern and an initializing method for example.</p>\n<p>Having said that, using a different database for production than for testing may not reproduce the exact behavior.</p>\n"},{"comments":[{"owner":{"account_id":19575528,"reputation":25,"user_id":14325679,"display_name":"Alex"},"score":0,"creation_date":1684595548,"post_id":76295831,"comment_id":134541593,"body_markdown":"According to the condition of the assignment, implementation is required in one method, without the use application.properties.\n\nThat is, from these two methods to make one.\n`    @BeforeAll\n    static void setup() {...}\n \n    @BeforeEach\n    void init() {...}`","body":"According to the condition of the assignment, implementation is required in one method, without the use application.properties.  That is, from these two methods to make one. `    @BeforeAll     static void setup() {...}       @BeforeEach     void init() {...}`"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684594417,"creation_date":1684594417,"answer_id":76295831,"question_id":76295701,"body_markdown":"I understand that you want to configure a different datasource for tests. This can be done without any code just by providing a different `application.properties` file.\r\n\r\nAssuming your `application.properties` are in the `src/main/resources`. Make a copy of it and put it in the folder `src/test/resources`. In this file you can modify the properties for the tests. They will be found only by the tests. Application will still use the original file.","title":"Implementation of BeforeEach within a single method","body":"<p>I understand that you want to configure a different datasource for tests. This can be done without any code just by providing a different <code>application.properties</code> file.</p>\n<p>Assuming your <code>application.properties</code> are in the <code>src/main/resources</code>. Make a copy of it and put it in the folder <code>src/test/resources</code>. In this file you can modify the properties for the tests. They will be found only by the tests. Application will still use the original file.</p>\n"}],"owner":{"account_id":19575528,"reputation":25,"user_id":14325679,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295772,"answer_count":2,"score":0,"last_activity_date":1684698037,"creation_date":1684592603,"question_id":76295701,"body_markdown":"My project has a DataSource class that implements the database connection parameters, as well as the initialization of the database connection:\r\n\r\n    public class DataSource {\r\n        private static HikariConfig config = new HikariConfig();\r\n        private static HikariDataSource ds;\r\n     \r\n        public static HikariDataSource getDataSource() {\r\n            if (ds == null) {\r\n                config.setJdbcUrl(System.getProperty(&quot;jdbcUrl&quot;,&quot;jdbc:postgresql://localhost:5433/postgres&quot;));\r\n                config.setUsername(System.getProperty(&quot;jdbcUser&quot;,&quot;postgres&quot;));\r\n                config.setPassword(System.getProperty(&quot;jdbcPassword&quot;,&quot;postgres&quot;));\r\n                ds = new HikariDataSource(config);\r\n     \r\n                initDatabase();\r\n            }\r\n            return ds;\r\n        }\r\n     \r\n        private static void initDatabase() {\r\n            try {\r\n                DatabaseConnection connection = new JdbcConnection(ds.getConnection());\r\n                Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);\r\n                Liquibase liquibase = new Liquibase(\r\n                        System.getProperty(&quot;liquibaseFile&quot;,&quot;liquibase.xml&quot;),\r\n                        new ClassLoaderResourceAccessor(),\r\n                        database);\r\n                liquibase.update(new Contexts());\r\n            } catch (SQLException | LiquibaseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n        public static Connection getConnection() throws SQLException {\r\n            return ds.getConnection();\r\n        }\r\n    }\r\n\r\nThe JUnit library is used to develop unit tests for project dao methods. A base class has been created with the help of which the parameters for connecting to the database are redefined (in this case, to H2):\r\n\r\n    public class Base {\r\n     \r\n        @BeforeAll\r\n        static void setup() {\r\n            System.setProperty(&quot;jdbcUrl&quot;, &quot;jdbc:h2:mem:test_&quot; + UUID.randomUUID());\r\n            System.setProperty(&quot;jdbcUser&quot;, &quot;sa&quot;);\r\n            System.setProperty(&quot;jdbcPassword&quot;, &quot;&quot;);\r\n            System.setProperty(&quot;liquibaseFile&quot;, &quot;liquibase_test.xml&quot;);\r\n        }\r\n     \r\n        @BeforeEach\r\n        void init() {\r\n            setup();\r\n        }\r\n    }\r\n\r\nHow can I make sure that System.setProperty properties are redefined within a single method? It is important that the behavior of the method is similar to that of @BeforeEach instead of the @BeforeAll annotation.\r\nI tried to put @BeforeEach instead of @BeforeAll, removing static, but when the test is executed, the postgress database is accessed, and not H2, as required by the condition.\r\n","title":"Implementation of BeforeEach within a single method","body":"<p>My project has a DataSource class that implements the database connection parameters, as well as the initialization of the database connection:</p>\n<pre><code>public class DataSource {\n    private static HikariConfig config = new HikariConfig();\n    private static HikariDataSource ds;\n \n    public static HikariDataSource getDataSource() {\n        if (ds == null) {\n            config.setJdbcUrl(System.getProperty(&quot;jdbcUrl&quot;,&quot;jdbc:postgresql://localhost:5433/postgres&quot;));\n            config.setUsername(System.getProperty(&quot;jdbcUser&quot;,&quot;postgres&quot;));\n            config.setPassword(System.getProperty(&quot;jdbcPassword&quot;,&quot;postgres&quot;));\n            ds = new HikariDataSource(config);\n \n            initDatabase();\n        }\n        return ds;\n    }\n \n    private static void initDatabase() {\n        try {\n            DatabaseConnection connection = new JdbcConnection(ds.getConnection());\n            Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(connection);\n            Liquibase liquibase = new Liquibase(\n                    System.getProperty(&quot;liquibaseFile&quot;,&quot;liquibase.xml&quot;),\n                    new ClassLoaderResourceAccessor(),\n                    database);\n            liquibase.update(new Contexts());\n        } catch (SQLException | LiquibaseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n \n    public static Connection getConnection() throws SQLException {\n        return ds.getConnection();\n    }\n}\n</code></pre>\n<p>The JUnit library is used to develop unit tests for project dao methods. A base class has been created with the help of which the parameters for connecting to the database are redefined (in this case, to H2):</p>\n<pre><code>public class Base {\n \n    @BeforeAll\n    static void setup() {\n        System.setProperty(&quot;jdbcUrl&quot;, &quot;jdbc:h2:mem:test_&quot; + UUID.randomUUID());\n        System.setProperty(&quot;jdbcUser&quot;, &quot;sa&quot;);\n        System.setProperty(&quot;jdbcPassword&quot;, &quot;&quot;);\n        System.setProperty(&quot;liquibaseFile&quot;, &quot;liquibase_test.xml&quot;);\n    }\n \n    @BeforeEach\n    void init() {\n        setup();\n    }\n}\n</code></pre>\n<p>How can I make sure that System.setProperty properties are redefined within a single method? It is important that the behavior of the method is similar to that of @BeforeEach instead of the @BeforeAll annotation.\nI tried to put @BeforeEach instead of @BeforeAll, removing static, but when the test is executed, the postgress database is accessed, and not H2, as required by the condition.</p>\n"},{"tags":["java","docker","selenium"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1606901796,"post_id":65105218,"comment_id":115100761,"body_markdown":"You say you have verified the file is available. Have you verified the file is available **inside the docker container**?","body":"You say you have verified the file is available. Have you verified the file is available <b>inside the docker container</b>?"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606902430,"post_id":65105218,"comment_id":115101022,"body_markdown":"I printed the files that are available in that specific location. And from logs verified the file is available but the driver is unable to upload.","body":"I printed the files that are available in that specific location. And from logs verified the file is available but the driver is unable to upload."},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1606906230,"post_id":65105218,"comment_id":115102790,"body_markdown":"What you mean by run it on a docker container ? Docker container as the hub ?","body":"What you mean by run it on a docker container ? Docker container as the hub ?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1606907709,"post_id":65105218,"comment_id":115103511,"body_markdown":"Docker container file system is isolated from host system. So you cannot just run your script in docker and expect it will access anything you have at your host. You need to mount a folder on your host to a folder inside the container or copy the file to container file system (both options are taken when build an image to run).","body":"Docker container file system is isolated from host system. So you cannot just run your script in docker and expect it will access anything you have at your host. You need to mount a folder on your host to a folder inside the container or copy the file to container file system (both options are taken when build an image to run)."},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606911065,"post_id":65105218,"comment_id":115104952,"body_markdown":"@PDHide, I ran in docker using the selenium stand alone chrome you can find the related info here https://github.com/SeleniumHQ/docker-selenium#standalone","body":"@PDHide, I ran in docker using the selenium stand alone chrome you can find the related info here <a href=\"https://github.com/SeleniumHQ/docker-selenium#standalone\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/docker-selenium#standalone</a>"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606911331,"post_id":65105218,"comment_id":115105063,"body_markdown":"@AlexeyR. you are correct and yes I also did a volume mapping where I have mapped my required folder to the container, and to check if all the files are available I have printed the files that are in folders into logs and verified the required files are available and I am sure this issue is more related to selenium.","body":"@AlexeyR. you are correct and yes I also did a volume mapping where I have mapped my required folder to the container, and to check if all the files are available I have printed the files that are in folders into logs and verified the required files are available and I am sure this issue is more related to selenium."}],"answers":[{"comments":[{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606912915,"post_id":65106461,"comment_id":115105757,"body_markdown":"No, Iam not using Selenoid, and iam using windows in my host so and in the docker container using the chrome standalone server to run so, not sure about the volume mapping","body":"No, Iam not using Selenoid, and iam using windows in my host so and in the docker container using the chrome standalone server to run so, not sure about the volume mapping"}],"tags":[],"owner":{"account_id":12888464,"reputation":155,"user_id":9321181,"display_name":"Karen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684697940,"creation_date":1606905675,"answer_id":65106461,"question_id":65105218,"body_markdown":"You need to add a path configuration. \r\nCreate a file browsers.json\r\nadd this script there\r\n```json\r\n{\r\n  &quot;chrome&quot;: {\r\n        &quot;default&quot;: &quot;85.0&quot;,\r\n        &quot;versions&quot;: {\r\n            &quot;85.0&quot;: {\r\n                &quot;image&quot;: &quot;selenoid/vnc:chrome_85.0&quot;,\r\n                &quot;port&quot;: &quot;4444&quot;,\r\n                &quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand run with this `--browsers-json browsers.json` argument\r\n\r\nthis example is for selenoid, but if you don&#39;t use selenoid, just add `&quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]` to your selenium grid config. ","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>You need to add a path configuration.\nCreate a file browsers.json\nadd this script there</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;chrome&quot;: {\n        &quot;default&quot;: &quot;85.0&quot;,\n        &quot;versions&quot;: {\n            &quot;85.0&quot;: {\n                &quot;image&quot;: &quot;selenoid/vnc:chrome_85.0&quot;,\n                &quot;port&quot;: &quot;4444&quot;,\n                &quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]\n            }\n        }\n    }\n}\n</code></pre>\n<p>and run with this <code>--browsers-json browsers.json</code> argument</p>\n<p>this example is for selenoid, but if you don't use selenoid, just add <code>&quot;volumes&quot;: [&quot;/home/ubuntu/your-project:/opt/docker&quot;]</code> to your selenium grid config.</p>\n"},{"comments":[{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606912689,"post_id":65108101,"comment_id":115105666,"body_markdown":"the browser is launched by the container using the selenium grid and as you can see above I have mapped my test script folder to the selenium container, All other tests are running except of the uploading a file so i&#39;m thinking this is more of a selenium issue than of docker","body":"the browser is launched by the container using the selenium grid and as you can see above I have mapped my test script folder to the selenium container, All other tests are running except of the uploading a file so i&#39;m thinking this is more of a selenium issue than of docker"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1606913490,"post_id":65108101,"comment_id":115106017,"body_markdown":"No you didn&#39;t map. You mapped it to `container_name : Maven-Java`. Not to `container_name : selenium`.","body":"No you didn&#39;t map. You mapped it to <code>container_name : Maven-Java</code>. Not to <code>container_name : selenium</code>."},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606914591,"post_id":65108101,"comment_id":115106520,"body_markdown":"Ok Got your point now, But will I be able to map the same folder to multiple containers @Alexey R.","body":"Ok Got your point now, But will I be able to map the same folder to multiple containers @Alexey R."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1606914628,"post_id":65108101,"comment_id":115106534,"body_markdown":"I believe you will","body":"I believe you will"},{"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"score":0,"creation_date":1606915331,"post_id":65108101,"comment_id":115106862,"body_markdown":"Thanks @Alexey R, You are right it worked for me, Also found an alternative with out mapping the volumes","body":"Thanks @Alexey R, You are right it worked for me, Also found an alternative with out mapping the volumes"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606912104,"creation_date":1606912104,"answer_id":65108101,"question_id":65105218,"body_markdown":"You mounted the volume to container where your test code is running. However you need to mount the volume to the container where the browser is running.\r\n\r\nThe thing is that when your code says to the web app &quot;hey, this is the file that you need to upload&quot;, the test code sends not a file itself but a path that is passed to the browser. Then browser tries to look up that file and build appropriate request to the server.\r\n\r\nSo the file hast to be within the container where the browser is running.","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>You mounted the volume to container where your test code is running. However you need to mount the volume to the container where the browser is running.</p>\n<p>The thing is that when your code says to the web app &quot;hey, this is the file that you need to upload&quot;, the test code sends not a file itself but a path that is passed to the browser. Then browser tries to look up that file and build appropriate request to the server.</p>\n<p>So the file hast to be within the container where the browser is running.</p>\n"},{"tags":[],"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606916064,"creation_date":1606916064,"answer_id":65109139,"question_id":65105218,"body_markdown":"thank you all for the answer&#39;s so the working solution I found are two one is as @Alexey mentioned I should also volume map my script folder to the selenium container as well as below:\r\n\r\n    selenium:\r\n       volumes :\r\n         - .:/workspace\r\n\r\nAbove is a docker oriented solution,  the other one I found is with selenium grid where the grid can detect the files using a file detector, it can be done by adding the following snipet.\r\n\r\n    remoteDriver.setFileDetector(new LocalFileDetector());\r\n\r\nBoth the solutions are working and have solved my problem.\r\n\r\n\r\n","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>thank you all for the answer's so the working solution I found are two one is as @Alexey mentioned I should also volume map my script folder to the selenium container as well as below:</p>\n<pre><code>selenium:\n   volumes :\n     - .:/workspace\n</code></pre>\n<p>Above is a docker oriented solution,  the other one I found is with selenium grid where the grid can detect the files using a file detector, it can be done by adding the following snipet.</p>\n<pre><code>remoteDriver.setFileDetector(new LocalFileDetector());\n</code></pre>\n<p>Both the solutions are working and have solved my problem.</p>\n"}],"owner":{"account_id":16127083,"reputation":143,"user_id":11641612,"display_name":"Farhaan Shaik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65108101,"answer_count":3,"score":1,"last_activity_date":1684697940,"creation_date":1606900776,"question_id":65105218,"body_markdown":"I have a selenium script that to upload an attachment runs on maven and java and is working fine when run from Local.\r\n\r\nWhen I run it on docker container using selenium standalone server receiving the following exception\r\n\r\n    org.openqa.selenium.InvalidArgumentException: invalid argument: File not found :\r\n\r\nNot sure how to resolve it inside the container, I have verified the file is available\r\n\r\nThe docker compose file Iam using is as follows:\r\n\r\n        version : &#39;3&#39;\r\n    services :\r\n      maven:\r\n        container_name : Maven-Java\r\n        image : maven:3.5.3-jdk-8-alpine\r\n        volumes :\r\n          - .:/workspace\r\n          - ~/.m2:/root/.m2\r\n        depends_on :\r\n          - selenium\r\n        command : mvn -f /workspace test\r\n      selenium:\r\n        container_name : selenium\r\n        image : selenium/standalone-chrome:latest\r\n        volumes:\r\n          - /dev/shm:/dev/shm\r\n        ports :\r\n          - 4444:4444\r\n\r\n","title":"Docker Selenium standalone server is Unable to upload a file to the grid browser in the container","body":"<p>I have a selenium script that to upload an attachment runs on maven and java and is working fine when run from Local.</p>\n<p>When I run it on docker container using selenium standalone server receiving the following exception</p>\n<pre><code>org.openqa.selenium.InvalidArgumentException: invalid argument: File not found :\n</code></pre>\n<p>Not sure how to resolve it inside the container, I have verified the file is available</p>\n<p>The docker compose file Iam using is as follows:</p>\n<pre><code>    version : '3'\nservices :\n  maven:\n    container_name : Maven-Java\n    image : maven:3.5.3-jdk-8-alpine\n    volumes :\n      - .:/workspace\n      - ~/.m2:/root/.m2\n    depends_on :\n      - selenium\n    command : mvn -f /workspace test\n  selenium:\n    container_name : selenium\n    image : selenium/standalone-chrome:latest\n    volumes:\n      - /dev/shm:/dev/shm\n    ports :\n      - 4444:4444\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684549204,"post_id":76293171,"comment_id":134537572,"body_markdown":"Debug with `mvn -X ...` and confirm your theory first.","body":"Debug with <code>mvn -X ...</code> and confirm your theory first."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684549216,"post_id":76293171,"comment_id":134537574,"body_markdown":"Have you tried `mvn -U clean install ` ?","body":"Have you tried <code>mvn -U clean install </code> ?"},{"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"score":0,"creation_date":1684550156,"post_id":76293171,"comment_id":134537630,"body_markdown":"you know that mvn clean install -o work in offline assuming you build the other project has -SNAPSHOT if not you can always do the ugly way build the Jar and define in dependency the systemPath to the jar himself","body":"you know that mvn clean install -o work in offline assuming you build the other project has -SNAPSHOT if not you can always do the ugly way build the Jar and define in dependency the systemPath to the jar himself"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684572266,"post_id":76293171,"comment_id":134539091,"body_markdown":"I would recommend to take a deep look into https://maven.apache.org/resolver/remote-repository-filtering.html","body":"I would recommend to take a deep look into <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"nofollow noreferrer\">maven.apache.org/resolver/remote-repository-filtering.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1684576396,"post_id":76293429,"comment_id":134539455,"body_markdown":"systemPath is nearly always a bad idea.","body":"systemPath is nearly always a bad idea."}],"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684594269,"creation_date":1684554257,"answer_id":76293429,"question_id":76293171,"body_markdown":"    &lt;dependency&gt;\r\n      &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n      &lt;version&gt;version&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;file path/jar-file.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can Add this into your `pom.xml` file then update your project. ","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;groupId&lt;/groupId&gt;\n  &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n  &lt;version&gt;version&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;file path/jar-file.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can Add this into your <code>pom.xml</code> file then update your project.</p>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684576633,"creation_date":1684576633,"answer_id":76294563,"question_id":76293171,"body_markdown":"First of all: Version ranges like `(0,0),` are evil.\r\n\r\nSure, they are allowed in Maven, but they cause all kind of pain, and they are considered deprecated by many.\r\n\r\nSo, what should you do?\r\n\r\nIf your project Y and project X are so tightly coupled that project Y always needs the latest version of project X, you usually set up a multi-module project with both of them. Then you always build both together, problem solved.\r\n\r\nIf this is not the way for you to go, you can use a `-SNAPSHOT` version of project X in project Y while developing. This allows for easier updates because you do not always need to change the version of the dependency when you rebuild X. Beware, though, that if you build the same SNAPSHOT versions locally and on the build server, it might be confusing which one actually &quot;wins&quot; and is drawn, depending on the specified update policy.","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<p>First of all: Version ranges like <code>(0,0),</code> are evil.</p>\n<p>Sure, they are allowed in Maven, but they cause all kind of pain, and they are considered deprecated by many.</p>\n<p>So, what should you do?</p>\n<p>If your project Y and project X are so tightly coupled that project Y always needs the latest version of project X, you usually set up a multi-module project with both of them. Then you always build both together, problem solved.</p>\n<p>If this is not the way for you to go, you can use a <code>-SNAPSHOT</code> version of project X in project Y while developing. This allows for easier updates because you do not always need to change the version of the dependency when you rebuild X. Beware, though, that if you build the same SNAPSHOT versions locally and on the build server, it might be confusing which one actually &quot;wins&quot; and is drawn, depending on the specified update policy.</p>\n"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684697837,"creation_date":1684544691,"question_id":76293171,"body_markdown":"Might be best explained with an example:\r\n\r\n- I have 2 custom maven projects (let&#39;s call them projectX and projectY).\r\n- projectY is dependent on projectX. projectX has been added to projectY via\r\n\r\n  ```\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;com.projectx.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectx.core&lt;/artifactId&gt;\r\n      &lt;version&gt;(0.0),&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ```\r\n- In projectX, I made some changes to Constants.java and added a new public constant.\r\n- I&#39;m trying to access this new constant in projectY, but it&#39;s not working. I&#39;m getting this error =&gt; &quot;cannot find symbol: insert-constant-name-here&quot;\r\n- It seems to me that projectY is still referencing an older version of projectX. I believe projectY is still referencing whatever the latest version of projectX is that&#39;s available in our remote mvn repo.\r\n- I have a feeling that if I build projectX and push it to the remote mvn repo, everything will work fine. I cannot do this yet as I need to make more changes to projectX.\r\n","title":"Java/maven: how to force my project to use the local version of a dependency?","body":"<p>Might be best explained with an example:</p>\n<ul>\n<li><p>I have 2 custom maven projects (let's call them projectX and projectY).</p>\n</li>\n<li><p>projectY is dependent on projectX. projectX has been added to projectY via</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.projectx.core&lt;/groupId&gt;\n    &lt;artifactId&gt;projectx.core&lt;/artifactId&gt;\n    &lt;version&gt;(0.0),&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>In projectX, I made some changes to Constants.java and added a new public constant.</p>\n</li>\n<li><p>I'm trying to access this new constant in projectY, but it's not working. I'm getting this error =&gt; &quot;cannot find symbol: insert-constant-name-here&quot;</p>\n</li>\n<li><p>It seems to me that projectY is still referencing an older version of projectX. I believe projectY is still referencing whatever the latest version of projectX is that's available in our remote mvn repo.</p>\n</li>\n<li><p>I have a feeling that if I build projectX and push it to the remote mvn repo, everything will work fine. I cannot do this yet as I need to make more changes to projectX.</p>\n</li>\n</ul>\n"},{"tags":["java","string","sorting"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":3,"creation_date":1674949222,"post_id":75271649,"comment_id":132823777,"body_markdown":"You should create a class and put the id and value in the class.  Add each instance of the class to a list and sort the list as required.","body":"You should create a class and put the id and value in the class.  Add each instance of the class to a list and sort the list as required."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":1,"creation_date":1674965258,"post_id":75271649,"comment_id":132825342,"body_markdown":"other options to consider: Records instead of classes to cut out on boiler plate code, or you could use Tuples (Pair)","body":"other options to consider: Records instead of classes to cut out on boiler plate code, or you could use Tuples (Pair)"}],"answers":[{"comments":[{"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"score":0,"creation_date":1674953575,"post_id":75271808,"comment_id":132824293,"body_markdown":"```people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));``` p1.score and p2.score is not defined - do you mean the score in the player class?","body":"<code>people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));</code> p1.score and p2.score is not defined - do you mean the score in the player class?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1674956950,"post_id":75271808,"comment_id":132824646,"body_markdown":"Assuming the class has getters, `People.sort(Comparator.comparingInt(Person::getScore));`","body":"Assuming the class has getters, <code>People.sort(Comparator.comparingInt(Person::getScore));</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1674957037,"post_id":75271808,"comment_id":132824658,"body_markdown":"If the instance fields are declared private then you will need getters to access the fields.","body":"If the instance fields are declared private then you will need getters to access the fields."}],"tags":[],"owner":{"account_id":16236257,"reputation":11,"user_id":11723691,"display_name":"Gudi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674951521,"creation_date":1674951521,"answer_id":75271808,"question_id":75271649,"body_markdown":"Here is the full [snippet][2], but as WJS [commented][1], create a class:\r\n\r\n    public class Person {\r\n        private String id;\r\n        private int score;\r\n        ...\r\n    }\r\n\r\nThen add these to a List:\r\n\r\n    ...\r\n    String[] parts = s.split(&quot; &quot;);\r\n        \r\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; parts.length; i += 2) {\r\n        String id = parts[i];\r\n        int score = Integer.parseInt(parts[i+1]);\r\n        people.add(new Person(id, score));\r\n    }\r\n\r\nThen you sort the list by passing a comparator which compares `scores` and if you need it back in a String, join the list with spaces:\r\n\r\n    people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));    \r\n    String result = people.stream().map(Person::toString).collect(Collectors.joining(&quot;,&quot;));\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75271649/sort-specific-parts-in-string#comment132823777_75271649\r\n  [2]:  http://tpcg.io/_K8FBFS ","title":"Sort specific parts in String","body":"<p>Here is the full <a href=\"http://tpcg.io/_K8FBFS\" rel=\"nofollow noreferrer\">snippet</a>, but as WJS <a href=\"https://stackoverflow.com/questions/75271649/sort-specific-parts-in-string#comment132823777_75271649\">commented</a>, create a class:</p>\n<pre><code>public class Person {\n    private String id;\n    private int score;\n    ...\n}\n</code></pre>\n<p>Then add these to a List:</p>\n<pre><code>...\nString[] parts = s.split(&quot; &quot;);\n    \nList&lt;Person&gt; people = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; parts.length; i += 2) {\n    String id = parts[i];\n    int score = Integer.parseInt(parts[i+1]);\n    people.add(new Person(id, score));\n}\n</code></pre>\n<p>Then you sort the list by passing a comparator which compares <code>scores</code> and if you need it back in a String, join the list with spaces:</p>\n<pre><code>people.sort((p1, p2) -&gt; Integer.compare(p1.score, p2.score));    \nString result = people.stream().map(Person::toString).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674960868,"creation_date":1674960868,"answer_id":75272336,"question_id":75271649,"body_markdown":"Ok, here is how I did it. I used a record instead of a class as it creates the getters implicitly.  No setters since a record is immutable.\r\n\r\nrecord and data string\r\n```\r\nrecord Data (int id, int score) {\r\n  @Override\r\n  public String toString() {\r\n      return&quot;id=%d, score=%d&quot;.formatted(id, score);\r\n  }\r\n}\r\nString data = &quot;1 456 2 100 3 600 1 400&quot;;\r\n```\r\n- create the list to hold the data\r\n- split on one or more white space characters\r\n- then for each `(id, score) pair`, create an instance of `Data` (I converted both to ints)\r\n- add the instance to the list\r\n- and sort the list\r\n```\r\nList&lt;Data&gt; list = new ArrayList&lt;&gt;();\r\nString[] items = data.split(&quot;\\\\s+&quot;);\r\nfor(int i = 0; i &lt; items.length; i+=2) {\r\n    list.add(new Data(Integer.parseInt(items[i]), Integer.parseInt(items[i+1])));\r\n}\r\nlist.sort(Comparator.comparingInt(Data::value));\r\nfor (Data d : list) {\r\n    System.out.println(d);\r\n}\r\n```\r\nprints\r\n```\r\nid=2, score=100\r\nid=1, score=400\r\nid=1, score=456\r\nid=3, score=600\r\n\r\n\r\n","title":"Sort specific parts in String","body":"<p>Ok, here is how I did it. I used a record instead of a class as it creates the getters implicitly.  No setters since a record is immutable.</p>\n<p>record and data string</p>\n<pre><code>record Data (int id, int score) {\n  @Override\n  public String toString() {\n      return&quot;id=%d, score=%d&quot;.formatted(id, score);\n  }\n}\nString data = &quot;1 456 2 100 3 600 1 400&quot;;\n</code></pre>\n<ul>\n<li>create the list to hold the data</li>\n<li>split on one or more white space characters</li>\n<li>then for each <code>(id, score) pair</code>, create an instance of <code>Data</code> (I converted both to ints)</li>\n<li>add the instance to the list</li>\n<li>and sort the list</li>\n</ul>\n<pre><code>List&lt;Data&gt; list = new ArrayList&lt;&gt;();\nString[] items = data.split(&quot;\\\\s+&quot;);\nfor(int i = 0; i &lt; items.length; i+=2) {\n    list.add(new Data(Integer.parseInt(items[i]), Integer.parseInt(items[i+1])));\n}\nlist.sort(Comparator.comparingInt(Data::value));\nfor (Data d : list) {\n    System.out.println(d);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>id=2, score=100\nid=1, score=400\nid=1, score=456\nid=3, score=600\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684697284,"creation_date":1684696905,"answer_id":76301555,"question_id":75271649,"body_markdown":"Great question.\r\n\r\nWhat you can do is use the score as the `key`, and use a list of id&#39;s at the `value`.\r\n\r\nConsider the following.\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Integer&gt;&gt; parse(String string) {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\r\n    String[] strings = string.split(&quot; &quot;);\r\n    int id, score;\r\n    for (int index = 0; index &lt; strings.length; index += 2) {\r\n        id = Integer.parseInt(strings[index]);\r\n        score = Integer.parseInt(strings[index + 1]);\r\n        if (map.containsKey(score)) map.get(score).add(id);\r\n        else map.put(score, new ArrayList(Arrays.asList(id)));\r\n    }\r\n    return map;\r\n}\r\n```\r\n\r\nIf we parsed a value of `&quot;1 456 2 100 3 600 1 400&quot;`, we get the following.\r\n\r\n```none\r\n{100=[2], 400=[1], 456=[1], 600=[3]}\r\n```\r\n\r\nAnd, as demonstration, if parsed a value of `&quot;1 456 2 100 3 600 1 400 5 456 6 600&quot;`, we would get this.\r\n\r\n```none\r\n{100=[2], 400=[1], 456=[1, 5], 600=[3, 6]}\r\n```\r\n\r\nThen, for access, you can implement a method similar to the following.\r\n\r\n```java\r\n/** @return null if not found */\r\nList&lt;Integer&gt; scores(int id, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\r\n    List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\r\n    for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\r\n        if (entry.getValue().contains(id))\r\n            scores.add(entry.getKey());\r\n    }\r\n    if (scores.isEmpty()) scores = null;\r\n    return scores;\r\n}\r\n```\r\n\r\nOutput for `scores(1, parse(&quot;1 456 2 100 3 600 1 400&quot;))` is the following.\r\n\r\n```none\r\n[400, 456]\r\n```","title":"Sort specific parts in String","body":"<p>Great question.</p>\n<p>What you can do is use the score as the <code>key</code>, and use a list of id's at the <code>value</code>.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Integer&gt;&gt; parse(String string) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\n    String[] strings = string.split(&quot; &quot;);\n    int id, score;\n    for (int index = 0; index &lt; strings.length; index += 2) {\n        id = Integer.parseInt(strings[index]);\n        score = Integer.parseInt(strings[index + 1]);\n        if (map.containsKey(score)) map.get(score).add(id);\n        else map.put(score, new ArrayList(Arrays.asList(id)));\n    }\n    return map;\n}\n</code></pre>\n<p>If we parsed a value of <code>&quot;1 456 2 100 3 600 1 400&quot;</code>, we get the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>{100=[2], 400=[1], 456=[1], 600=[3]}\n</code></pre>\n<p>And, as demonstration, if parsed a value of <code>&quot;1 456 2 100 3 600 1 400 5 456 6 600&quot;</code>, we would get this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>{100=[2], 400=[1], 456=[1, 5], 600=[3, 6]}\n</code></pre>\n<p>Then, for access, you can implement a method similar to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @return null if not found */\nList&lt;Integer&gt; scores(int id, Map&lt;Integer, List&lt;Integer&gt;&gt; map) {\n    List&lt;Integer&gt; scores = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : map.entrySet()) {\n        if (entry.getValue().contains(id))\n            scores.add(entry.getKey());\n    }\n    if (scores.isEmpty()) scores = null;\n    return scores;\n}\n</code></pre>\n<p>Output for <code>scores(1, parse(&quot;1 456 2 100 3 600 1 400&quot;))</code> is the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[400, 456]\n</code></pre>\n"}],"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684697284,"creation_date":1674948978,"question_id":75271649,"body_markdown":"Alright so, I have a String which contains:\r\n```1 456 2 100 3 600 1 400```\r\n\r\nThe 1 is the Id of a person which got a score of 456 and 400.\r\n2 is the Id of a person which got a score of 100 etc.\r\n\r\nI need the String to sort by **values** and not by **id&#39;s**. It should look like this: ```2 100 1 400 1 456 3 600```\r\n\r\nI already tried putting it into a hashmap and sorting it, but since a hashmap doesn&#39;t take identical keys, this is not an option.","title":"Sort specific parts in String","body":"<p>Alright so, I have a String which contains:\n<code>1 456 2 100 3 600 1 400</code></p>\n<p>The 1 is the Id of a person which got a score of 456 and 400.\n2 is the Id of a person which got a score of 100 etc.</p>\n<p>I need the String to sort by <strong>values</strong> and not by <strong>id's</strong>. It should look like this: <code>2 100 1 400 1 456 3 600</code></p>\n<p>I already tried putting it into a hashmap and sorting it, but since a hashmap doesn't take identical keys, this is not an option.</p>\n"},{"tags":["java","spring-boot","jwt","cryptography","oauth2resourceserver"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684697146,"creation_date":1684697146,"question_id":76301568,"body_markdown":"I was going through **Symmetric and Assymetric Signatures for JWT** in Spring Security. I came accross this video by **Dan Vega**- https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega  \r\nHere, in the **SecurityConfig.java**, **Jwt Encoder** and Jwt Decoder are created.\r\n```\r\n @Bean\r\n    public JwtEncoder jwtEncoder() {\r\n        return new NimbusJwtEncoder(new ImmutableSecret&lt;&gt;(jwtKey.getBytes()));\r\n    }\r\n    //Decoder\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        byte[] bytes = jwtKey.getBytes();\r\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\r\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\r\n    }\r\n```\r\n**Generating token-**  \r\n```\r\npackage com.ayushsingh.jwtsymmetric_keydemo.service;\r\n\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\r\nimport org.springframework.security.oauth2.jwt.JwsHeader;\r\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class TokenService {\r\n\r\n    @Autowired\r\n    private JwtEncoder jwtEncoder;\r\n\r\n    // Method to generate the token\r\n    public String generateToken(Authentication authentication) {\r\n        Instant now = Instant.now(); \r\n        String scope = authentication.getAuthorities().stream()\r\n     \r\n                .map(GrantedAuthority::getAuthority)\r\n              \r\n                .filter(authority -&gt; !authority.startsWith(&quot;ROLE&quot;))\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;) \r\n                .issuedAt(now) \r\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot;, scope)\r\n                .build();\r\n        var encodedParameters = JwtEncoderParameters.from(JwsHeader.with(MacAlgorithm.HS512).build(), claims); \r\n        return this.jwtEncoder.encode(encodedParameters).getTokenValue(); \r\n\r\n    }\r\n}\r\n\r\n```\r\n**My queries-**  \r\nI understand that we are using the same symmetric key for encryption here as explained in the video and here- https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:~:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key.  \r\nBut, I am not able to understand why we require a **SecretKeySpec** in the **decoder-**  \r\n```\r\n @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        byte[] bytes = jwtKey.getBytes();\r\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\r\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\r\n    }\r\n```\r\nWhat does SecretKeySpec exactly do and why we use RSA here? Here, **jwtKey** 9faa372517ac1d389758d3750fc07acf00f542277f26fec1ce4593e93f64e338. The output for \r\n```\r\nlogger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\r\n```\r\nis- \r\n```\r\n Original Key: [57, 102, 97, 97, 51, 55, 50, 53, 49, 55, 97, 99, 49, 100, 51, 56, 57, 55, 53, 56, 100, 51, 55, 53, 48, 102, 99, 48, 55, 97, 99, 102, 48, 48, 102, 53, 52, 50, 50, 55, 55, 102, 50, 54, 102, 101, 99, 49, 99, 101, 52, 53, 57, 51, 101, 57, 51, 102, 54, 52, 101, 51, 51, 56]\r\n\r\n```\r\nWhy are we using **RSA** in the decoder! It is not used anywhere else in the implementation. Please help me understand!","title":"Role of SecretKeySpec in NimbusJwtDecoder: Spring Security and JWT","body":"<p>I was going through <strong>Symmetric and Assymetric Signatures for JWT</strong> in Spring Security. I came accross this video by <strong>Dan Vega</strong>- <a href=\"https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega\" rel=\"nofollow noreferrer\">https://www.youtube.com/watchv=66DtzkhBlSA&amp;list=PLZV0a2jwt22s5NCKOwSmHVagoDW8nflaC&amp;index=6&amp;ab_channel=DanVega</a><br />\nHere, in the <strong>SecurityConfig.java</strong>, <strong>Jwt Encoder</strong> and Jwt Decoder are created.</p>\n<pre><code> @Bean\n    public JwtEncoder jwtEncoder() {\n        return new NimbusJwtEncoder(new ImmutableSecret&lt;&gt;(jwtKey.getBytes()));\n    }\n    //Decoder\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        byte[] bytes = jwtKey.getBytes();\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\n    }\n</code></pre>\n<p><strong>Generating token-</strong></p>\n<pre><code>package com.ayushsingh.jwtsymmetric_keydemo.service;\n\nimport java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.oauth2.jose.jws.MacAlgorithm;\nimport org.springframework.security.oauth2.jwt.JwsHeader;\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TokenService {\n\n    @Autowired\n    private JwtEncoder jwtEncoder;\n\n    // Method to generate the token\n    public String generateToken(Authentication authentication) {\n        Instant now = Instant.now(); \n        String scope = authentication.getAuthorities().stream()\n     \n                .map(GrantedAuthority::getAuthority)\n              \n                .filter(authority -&gt; !authority.startsWith(&quot;ROLE&quot;))\n                .collect(Collectors.joining(&quot; &quot;));\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;) \n                .issuedAt(now) \n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot;, scope)\n                .build();\n        var encodedParameters = JwtEncoderParameters.from(JwsHeader.with(MacAlgorithm.HS512).build(), claims); \n        return this.jwtEncoder.encode(encodedParameters).getTokenValue(); \n\n    }\n}\n\n</code></pre>\n<p><strong>My queries-</strong><br />\nI understand that we are using the same symmetric key for encryption here as explained in the video and here- <a href=\"https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:%7E:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key\" rel=\"nofollow noreferrer\">https://www.pingidentity.com/en/resources/blog/post/jwt-security-nobody-talks-about.html#:~:text=using%20asymmetric%20signatures.-,Asymmetric%20JWT%20Signatures,verified%20with%20the%20public%20key</a>.<br />\nBut, I am not able to understand why we require a <strong>SecretKeySpec</strong> in the <strong>decoder-</strong></p>\n<pre><code> @Bean\n    public JwtDecoder jwtDecoder() {\n        byte[] bytes = jwtKey.getBytes();\n        SecretKeySpec originalKey = new SecretKeySpec(bytes, 0, bytes.length, &quot;RSA&quot;);\n        logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n        return NimbusJwtDecoder.withSecretKey(originalKey).macAlgorithm(MacAlgorithm.HS512).build();\n    }\n</code></pre>\n<p>What does SecretKeySpec exactly do and why we use RSA here? Here, <strong>jwtKey</strong> 9faa372517ac1d389758d3750fc07acf00f542277f26fec1ce4593e93f64e338. The output for</p>\n<pre><code>logger.info(&quot;Original Key: {}&quot;, originalKey.getEncoded());\n</code></pre>\n<p>is-</p>\n<pre><code> Original Key: [57, 102, 97, 97, 51, 55, 50, 53, 49, 55, 97, 99, 49, 100, 51, 56, 57, 55, 53, 56, 100, 51, 55, 53, 48, 102, 99, 48, 55, 97, 99, 102, 48, 48, 102, 53, 52, 50, 50, 55, 55, 102, 50, 54, 102, 101, 99, 49, 99, 101, 52, 53, 57, 51, 101, 57, 51, 102, 54, 52, 101, 51, 51, 56]\n\n</code></pre>\n<p>Why are we using <strong>RSA</strong> in the decoder! It is not used anywhere else in the implementation. Please help me understand!</p>\n"},{"tags":["java","sorting","linked-list","insert","duplicates"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1506586519,"post_id":46464179,"comment_id":79883108,"body_markdown":"Why not just use a `Set`?","body":"Why not just use a <code>Set</code>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":5,"creation_date":1506586526,"post_id":46464179,"comment_id":79883112,"body_markdown":"Just use `LinkedHashSet`.","body":"Just use <code>LinkedHashSet</code>."},{"owner":{"account_id":7334154,"reputation":873,"user_id":5586115,"display_name":"Frank"},"score":0,"creation_date":1506586578,"post_id":46464179,"comment_id":79883152,"body_markdown":"with set or other data structure don&#39;t forget to implement hashcode and equals for not primitive types","body":"with set or other data structure don&#39;t forget to implement hashcode and equals for not primitive types"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586618,"post_id":46464179,"comment_id":79883178,"body_markdown":"Where is `insertWord` defined?","body":"Where is <code>insertWord</code> defined?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586683,"post_id":46464179,"comment_id":79883227,"body_markdown":"Your logic fails if it duplicates the last element. You should `return` instead of `break`, and insert unconditionally at the end.","body":"Your logic fails if it duplicates the last element. You should <code>return</code> instead of <code>break</code>, and insert unconditionally at the end."},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506586721,"post_id":46464179,"comment_id":79883251,"body_markdown":"@shmosel In another main class.","body":"@shmosel In another main class."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1506586768,"post_id":46464179,"comment_id":79883291,"body_markdown":"What&#39;s the logic of scanning for `insertWord` when trying to insert `word`?","body":"What&#39;s the logic of scanning for <code>insertWord</code> when trying to insert <code>word</code>?"},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506587774,"post_id":46464179,"comment_id":79883938,"body_markdown":"@shmosel see edit, meant `insertWord` to be inserted.","body":"@shmosel see edit, meant <code>insertWord</code> to be inserted."},{"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"score":0,"creation_date":1506588303,"post_id":46464179,"comment_id":79884318,"body_markdown":"Any specific reason not using set.What I am seeing you need a collection which will contain unique word","body":"Any specific reason not using set.What I am seeing you need a collection which will contain unique word"},{"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"score":0,"creation_date":1506597222,"post_id":46464179,"comment_id":79890234,"body_markdown":"I used the `list.size()` method to see how large it was after the last time I used it during execution. Then I created a array with that size. Then the time reduced by 15 seconds! Memory ain&#39;t a concern for me.","body":"I used the <code>list.size()</code> method to see how large it was after the last time I used it during execution. Then I created a array with that size. Then the time reduced by 15 seconds! Memory ain&#39;t a concern for me."}],"answers":[{"tags":[],"owner":{"account_id":3245001,"reputation":1589,"user_id":2736843,"accept_rate":75,"display_name":"aUserHimself"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506589350,"creation_date":1506587918,"answer_id":46464644,"question_id":46464179,"body_markdown":"If you would still like to use a `LinkedList` data structure (not a `Set`) and do this with `Java8`, here it is an easy and faster solution:\r\n   \r\n    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\r\n    \r\n    public void insert (WordInDocument insertWord) {\r\n        // try to find any matching element\r\n        Optional&lt;WordInDocument&gt; optionalExistingWord =\r\n            list\r\n            .stream()\r\n            .parallel()\r\n            .filter(element -&gt; element.word.equalsIgnoreCase(insertWord.word))\r\n            .findAny();\r\n        // if none is found, add the new element to the list\r\n        if(!optionalExistingWord.isPresent()) {\r\n            list.add(insertWord);\r\n        }\r\n    }\r\n    ","title":"No duplicates after insertion","body":"<p>If you would still like to use a <code>LinkedList</code> data structure (not a <code>Set</code>) and do this with <code>Java8</code>, here it is an easy and faster solution:</p>\n\n<pre><code>LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\n\npublic void insert (WordInDocument insertWord) {\n    // try to find any matching element\n    Optional&lt;WordInDocument&gt; optionalExistingWord =\n        list\n        .stream()\n        .parallel()\n        .filter(element -&gt; element.word.equalsIgnoreCase(insertWord.word))\n        .findAny();\n    // if none is found, add the new element to the list\n    if(!optionalExistingWord.isPresent()) {\n        list.add(insertWord);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506588759,"creation_date":1506588759,"answer_id":46464955,"question_id":46464179,"body_markdown":"You can remove duplicates via TreeSet:\r\n\r\n\t\tLinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\r\n\t\tTreeSet&lt;WordInDocument&gt; set = new TreeSet&lt;&gt;(\r\n\t\t\t\tnew Comparator&lt;WordInDocument&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic int compare(WordInDocument d1, WordInDocument d2) {\r\n\t\t\t\t\t\treturn d1.word.compareToIgnoreCase(d2.word);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\tset.addAll(list);\r\n\t\tlist = new LinkedList&lt;WordInDocument&gt;(set);\r\n\r\nthis should be faster","title":"No duplicates after insertion","body":"<p>You can remove duplicates via TreeSet:</p>\n\n<pre><code>    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;&gt;();\n    TreeSet&lt;WordInDocument&gt; set = new TreeSet&lt;&gt;(\n            new Comparator&lt;WordInDocument&gt;() {\n                @Override\n                public int compare(WordInDocument d1, WordInDocument d2) {\n                    return d1.word.compareToIgnoreCase(d2.word);\n                }\n            });\n    set.addAll(list);\n    list = new LinkedList&lt;WordInDocument&gt;(set);\n</code></pre>\n\n<p>this should be faster</p>\n"}],"owner":{"account_id":11240701,"reputation":83,"user_id":8245121,"display_name":"William &#197;kerman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684696690,"creation_date":1506586455,"question_id":46464179,"body_markdown":"I&#39;m (was) trying to make a LinkedList that removes duplicates during the insertion. This is my code:\r\n \r\n    LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;WordInDocument&gt;();\r\n    /**\r\n     * Insert a word.\r\n\t * \r\n\t * @param insertWord The word that&#39;ll be inserted for, the word and it&#39;s Part Of Speech. \r\n     * If you print &quot;insertWord.word&quot; you&#39;ll get the String of the word.\r\n\t */\r\n\tpublic void insert (Word insertWord) {\r\n\t\tListIterator&lt;WordInDocument&gt; listIt = list.listIterator();\r\n\t\tWordInDocument entry = new WordInDocument(insertWord);\r\n\t\tif (list.isEmpty()) {\r\n\t\t\tlistIt.add(entry);\r\n\t\t}\r\n\t\telse {\r\n\t\t\twhile (listIt.hasNext()) {\r\n                //the iterator iterate with this if-statement, \r\n                //if the iterator finds a equal word, then break\r\n\t\t\t\tif (listIt.next().wordInEntry.word.equalsIgnoreCase(insertWord.word)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//only true if an equal word wasn&#39;t found, then ad the word at the end\r\n\t\t\tif (!listIt.hasNext()) {\r\n\t\t\t\tlistIt.add (entry);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBut if it&#39;s a lot of inputs then it takes a long time to execute this (around 1 minute). Is their any better way of removing duplicate values during insertion?\r\n\r\nEDIT:  \r\nThanks for the help. I solved it by using &quot;binary insertion&quot; as I call it. That way it also is sorted after every insertion which I intended to do after the last insertion. Here is my code:\r\n\r\n    WordInDocument[] list = new WordInDocument[MAX_INDEX];\r\n    int currentMaxIndex = 0;\r\n\t/**\r\n\t * Insert a word, it uses binary search to find where to put it, if the\r\n     * current word doesn&#39;t exists, then insert it, this can bee called &quot;Binary insert&quot;.\r\n\t * If the current word already exists, then ignore.\r\n\t * \r\n\t * @param insertword The word that&#39;ll be inserted for, the word and it&#39;s Part Of Speech. \r\n     * If you print &quot;insertWord.word&quot; you&#39;ll get the String of the word.\r\n\t */\r\n\tpublic void insert(Word insertword) { // put element into array\r\n\t\tWordInDocument entry = new WordInDocument(insertword);\r\n        //First element\r\n\t\tif (list[0] == null) {\r\n\t\t\tlist[0] = entry;\r\n\t\t\tcurrentMaxIndex++;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tint inputIndex = binaryInsert(insertword);\r\n\t\t//It&#39;s at the end\r\n\t\tif (list[inputIndex] == null) {\r\n\t\t\tlist[inputIndex] = entry;\r\n\t\t\tcurrentMaxIndex++; \r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//It&#39;s equal to another word\r\n\t\tif (list[inputIndex].wordInEntry.word.equalsIgnoreCase(word.word)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//It&#39;s between two entries\r\n\t\tfor (int i = currentMaxIndex; i &gt; inputIndex; i--) { // move bigger ones one up.\r\n\t\t\tlist[i] = list[i - 1];\r\n\t\t}\r\n\t\tlist[inputIndex] = entry;\r\n\t\tcurrentMaxIndex++;\r\n\t}\r\n\t\r\n\t private int binaryInsert(Word word) {\r\n\t\tint lowerBound = 0;\r\n\t\tint upperBound = currentMaxIndex - 1;\r\n        int compareStrings = list[mid].wordInEntry.word.compareToIgnoreCase(word.word);\r\n\t\twhile (true) {\r\n\t\t\tint mid = (upperBound + lowerBound) / 2;\r\n\t\t\tif (lowerBound == mid) {\r\n\t\t\t\tif (compareStrings &gt; 0) {\r\n\t\t\t\t\treturn mid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (compareStrings &lt; 0) {\r\n\t\t\t\tlowerBound = mid + 1; // its in the upper\r\n\t\t\t\tif (lowerBound &gt; upperBound) {\r\n\t\t\t\t\treturn mid += 1;\r\n\t\t\t\t}\r\n\t\t\t} else if (lowerBound &gt; upperBound) {\r\n\t\t\t\treturn mid;\r\n\t\t\t} else {\r\n\t\t\t\tupperBound = mid - 1; // its in the lower\r\n\t\t\t}\r\n\t\t}\r\n\t }\r\n\r\nNow it takes 2 seconds instead of 45 seconds.","title":"No duplicates after insertion","body":"<p>I'm (was) trying to make a LinkedList that removes duplicates during the insertion. This is my code:</p>\n<pre><code>LinkedList&lt;WordInDocument&gt; list = new LinkedList&lt;WordInDocument&gt;();\n/**\n * Insert a word.\n * \n * @param insertWord The word that'll be inserted for, the word and it's Part Of Speech. \n * If you print &quot;insertWord.word&quot; you'll get the String of the word.\n */\npublic void insert (Word insertWord) {\n    ListIterator&lt;WordInDocument&gt; listIt = list.listIterator();\n    WordInDocument entry = new WordInDocument(insertWord);\n    if (list.isEmpty()) {\n        listIt.add(entry);\n    }\n    else {\n        while (listIt.hasNext()) {\n            //the iterator iterate with this if-statement, \n            //if the iterator finds a equal word, then break\n            if (listIt.next().wordInEntry.word.equalsIgnoreCase(insertWord.word)) {\n                break;\n            }\n        }\n        //only true if an equal word wasn't found, then ad the word at the end\n        if (!listIt.hasNext()) {\n            listIt.add (entry);\n        }\n    }\n}\n</code></pre>\n<p>But if it's a lot of inputs then it takes a long time to execute this (around 1 minute). Is their any better way of removing duplicate values during insertion?</p>\n<p>EDIT:<br />\nThanks for the help. I solved it by using &quot;binary insertion&quot; as I call it. That way it also is sorted after every insertion which I intended to do after the last insertion. Here is my code:</p>\n<pre><code>WordInDocument[] list = new WordInDocument[MAX_INDEX];\nint currentMaxIndex = 0;\n/**\n * Insert a word, it uses binary search to find where to put it, if the\n * current word doesn't exists, then insert it, this can bee called &quot;Binary insert&quot;.\n * If the current word already exists, then ignore.\n * \n * @param insertword The word that'll be inserted for, the word and it's Part Of Speech. \n * If you print &quot;insertWord.word&quot; you'll get the String of the word.\n */\npublic void insert(Word insertword) { // put element into array\n    WordInDocument entry = new WordInDocument(insertword);\n    //First element\n    if (list[0] == null) {\n        list[0] = entry;\n        currentMaxIndex++;\n        return;\n    }\n    int inputIndex = binaryInsert(insertword);\n    //It's at the end\n    if (list[inputIndex] == null) {\n        list[inputIndex] = entry;\n        currentMaxIndex++; \n        return;\n    }\n    //It's equal to another word\n    if (list[inputIndex].wordInEntry.word.equalsIgnoreCase(word.word)) {\n        return;\n    }\n    //It's between two entries\n    for (int i = currentMaxIndex; i &gt; inputIndex; i--) { // move bigger ones one up.\n        list[i] = list[i - 1];\n    }\n    list[inputIndex] = entry;\n    currentMaxIndex++;\n}\n\n private int binaryInsert(Word word) {\n    int lowerBound = 0;\n    int upperBound = currentMaxIndex - 1;\n    int compareStrings = list[mid].wordInEntry.word.compareToIgnoreCase(word.word);\n    while (true) {\n        int mid = (upperBound + lowerBound) / 2;\n        if (lowerBound == mid) {\n            if (compareStrings &gt; 0) {\n                return mid;\n            }\n        }\n        if (compareStrings &lt; 0) {\n            lowerBound = mid + 1; // its in the upper\n            if (lowerBound &gt; upperBound) {\n                return mid += 1;\n            }\n        } else if (lowerBound &gt; upperBound) {\n            return mid;\n        } else {\n            upperBound = mid - 1; // its in the lower\n        }\n    }\n }\n</code></pre>\n<p>Now it takes 2 seconds instead of 45 seconds.</p>\n"},{"tags":["javascript","java","string","object","properties"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1675064706,"post_id":75281407,"comment_id":132840036,"body_markdown":"There is, if you&#39;re prepared to go down the dark road of [Java reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html).","body":"There is, if you&#39;re prepared to go down the dark road of <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">Java reflection</a>."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675064972,"post_id":75281407,"comment_id":132840092,"body_markdown":"For simple use cases though, you generally don&#39;t want to","body":"For simple use cases though, you generally don&#39;t want to"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684695215,"post_id":75281407,"comment_id":134550896,"body_markdown":"@RobbyCornelissen, lol, I agree to an extent.  There are some complexities with reflection, although the fundamentals aren&#39;t too extraneous.  It&#39;s incredibly abstract, in terms of how it&#39;s structured, in relation to the general portion of the JDK.","body":"@RobbyCornelissen, lol, I agree to an extent.  There are some complexities with reflection, although the fundamentals aren&#39;t too extraneous.  It&#39;s incredibly abstract, in terms of how it&#39;s structured, in relation to the general portion of the JDK."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675066379,"creation_date":1675066379,"answer_id":75281680,"question_id":75281407,"body_markdown":"You could use the [Apache OGNL language](https://commons.apache.org/proper/commons-ognl/language-guide.html), it is an external dependency that allows you to access properties with names in strings. \r\n\r\nIt has many more features, but you cannot expect that it simply expands your Java syntax - you will have to evaluate a String that contains an expression in that language.\r\n\r\nIn some cases you can embed it, like in Apache Camel, where it is &quot;just another expression language&quot;.","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>You could use the <a href=\"https://commons.apache.org/proper/commons-ognl/language-guide.html\" rel=\"nofollow noreferrer\">Apache OGNL language</a>, it is an external dependency that allows you to access properties with names in strings.</p>\n<p>It has many more features, but you cannot expect that it simply expands your Java syntax - you will have to evaluate a String that contains an expression in that language.</p>\n<p>In some cases you can embed it, like in Apache Camel, where it is &quot;just another expression language&quot;.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684695251,"creation_date":1684685591,"answer_id":76300816,"question_id":75281407,"body_markdown":"No, it&#39;s not part of the syntax.\r\n\r\n[Oracle, Chapter 18 - Syntax](https://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html)\r\n\r\nYou could use reflection, if that suits your needs.  \r\nJava reflection offers the ability to access objects, fields, and methods via `String` values, and other methods, if need be.\r\n\r\nConsider the following class.\r\n\r\n```java\r\nclass Example {\r\n    String string = &quot;stack overflow&quot;;\r\n\r\n    int method(int valueA, int valueB) {\r\n        return valueA + valueB;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to access the field `string`, you can use the following.\r\n\r\n```java\r\nExample example = new Example();\r\nField field = example.getClass().getDeclaredField(&quot;string&quot;);\r\nString string = field.get(example);\r\n```\r\n\r\nIf you want to call `method`, you can use the following.\r\n\r\n```java\r\nExample example = new Example();\r\nMethod method = example.getClass().getDeclaredMethod(&quot;method&quot;, int.class, int.class);\r\nint value = (int) method.invoke(example, 1, 2);\r\n```","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>No, it's not part of the syntax.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html\" rel=\"nofollow noreferrer\">Oracle, Chapter 18 - Syntax</a></p>\n<p>You could use reflection, if that suits your needs.<br />\nJava reflection offers the ability to access objects, fields, and methods via <code>String</code> values, and other methods, if need be.</p>\n<p>Consider the following class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Example {\n    String string = &quot;stack overflow&quot;;\n\n    int method(int valueA, int valueB) {\n        return valueA + valueB;\n    }\n}\n</code></pre>\n<p>If you want to access the field <code>string</code>, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nField field = example.getClass().getDeclaredField(&quot;string&quot;);\nString string = field.get(example);\n</code></pre>\n<p>If you want to call <code>method</code>, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nMethod method = example.getClass().getDeclaredMethod(&quot;method&quot;, int.class, int.class);\nint value = (int) method.invoke(example, 1, 2);\n</code></pre>\n"}],"owner":{"account_id":14357818,"reputation":213,"user_id":10371141,"display_name":"Dark Rebellion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1684695251,"creation_date":1675064474,"question_id":75281407,"body_markdown":"In JavaScript you can access a property of an object in two ways:\r\n```\r\nobject.property\r\nobject[&quot;property&quot;]\r\n```\r\nIn Java, I am only aware of the first way. Is there a way to access a Java object&#39;s properties by using a string as well?","title":"Is there a way of accessing the properties of an object in java by using a string to represent the property&#39;s name, just like in JavaScript?","body":"<p>In JavaScript you can access a property of an object in two ways:</p>\n<pre><code>object.property\nobject[&quot;property&quot;]\n</code></pre>\n<p>In Java, I am only aware of the first way. Is there a way to access a Java object's properties by using a string as well?</p>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1684679557,"post_id":76300384,"comment_id":134548973,"body_markdown":"Duplicate words or duplicate characters?","body":"Duplicate words or duplicate characters?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1684679633,"post_id":76300384,"comment_id":134548978,"body_markdown":"We can&#39;t run debugger on code which *doesn&#39;t compile*. Note that there is no *declaration of `i`* variable in your example. There is `idx`.","body":"We can&#39;t run debugger on code which <i>doesn&#39;t compile</i>. Note that there is no <i>declaration of <code>i</code></i> variable in your example. There is <code>idx</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1684679900,"post_id":76300384,"comment_id":134549010,"body_markdown":"Anyway as already mentioned in previous (now deleted) comment, at `DeDupe(s,idx++,s1);` the `idx++` returns original value of `idx`, not incremented one. You need `idx+1` or `++idx` instead.","body":"Anyway as already mentioned in previous (now deleted) comment, at <code>DeDupe(s,idx++,s1);</code> the <code>idx++</code> returns original value of <code>idx</code>, not incremented one. You need <code>idx+1</code> or <code>++idx</code> instead."},{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1684679989,"post_id":76300384,"comment_id":134549023,"body_markdown":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring","body":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684680350,"creation_date":1684680350,"answer_id":76300461,"question_id":76300384,"body_markdown":"You are use the &quot;postfix&quot; unary operator on your recursive call to `DeDupe`.\r\n\r\n```java\r\nDeDupe(s,i++,s1);\r\n```\r\n\r\nSo, essentially, `i` stays at `0`, and loops indefinitely.\r\n\r\nChange it to a &quot;prefix&quot; operator, or just `i + 1`, to get a result.","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<p>You are use the &quot;postfix&quot; unary operator on your recursive call to <code>DeDupe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeDupe(s,i++,s1);\n</code></pre>\n<p>So, essentially, <code>i</code> stays at <code>0</code>, and loops indefinitely.</p>\n<p>Change it to a &quot;prefix&quot; operator, or just <code>i + 1</code>, to get a result.</p>\n"},{"comments":[{"owner":{"account_id":20645978,"reputation":11,"user_id":15157488,"display_name":"Yukta Jaiswal"},"score":0,"creation_date":1684694003,"post_id":76300610,"comment_id":134550756,"body_markdown":"I am not sure if i got the point correctly but i am not trying to return any value to main","body":"I am not sure if i got the point correctly but i am not trying to return any value to main"}],"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682422,"creation_date":1684682422,"answer_id":76300610,"question_id":76300384,"body_markdown":"I see that &quot;DeDupe&quot; method of yours is void,&lt;br&gt;\r\nbut even the String is an object in java,&lt;br&gt;\r\nit is not passed by a reference but as a value,&lt;br&gt;\r\nbecause String is immutable.&lt;br&gt;\r\nAnd after all the processing, no result is produced anyway.","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<p>I see that &quot;DeDupe&quot; method of yours is void,<br>\nbut even the String is an object in java,<br>\nit is not passed by a reference but as a value,<br>\nbecause String is immutable.<br>\nAnd after all the processing, no result is produced anyway.</p>\n"}],"owner":{"account_id":20645978,"reputation":11,"user_id":15157488,"display_name":"Yukta Jaiswal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684693906,"creation_date":1684679134,"question_id":76300384,"body_markdown":"\r\n````\r\nimport java.util.Scanner;\r\n\r\npublic class RemoveDuplicates {\r\n\tpublic static boolean ar[]=new boolean[26];\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tString s=sc.nextLine();\r\n\t\tDeDupe(s,0,&quot;&quot;);\r\n\r\n\t}\r\n\tpublic static void DeDupe(String s,int idx,String s1)\r\n\t{\r\n\t\tif(idx==s.length())\r\n\t\t{\r\n\t\t\tSystem.out.println(s1);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(ar[s.charAt(idx)-&#39;a&#39;]==false)\r\n\t\t{\r\n\t\t\ts1+=s.charAt(idx);\r\n\t\t\t//System.out.print(s1);\r\n\t\t\tar[s.charAt(idx)-&#39;a&#39;]=true;\r\n\t\t}\r\n\t\tDeDupe(s,idx++,s1);\r\n\t}\r\n\r\n}\r\n````\r\n\r\n\r\n\r\n\r\nTrying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing","title":"I am getting stack overflow error in the following code ... not sure what am i missing here?","body":"<pre><code>import java.util.Scanner;\n\npublic class RemoveDuplicates {\n    public static boolean ar[]=new boolean[26];\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        String s=sc.nextLine();\n        DeDupe(s,0,&quot;&quot;);\n\n    }\n    public static void DeDupe(String s,int idx,String s1)\n    {\n        if(idx==s.length())\n        {\n            System.out.println(s1);\n            return;\n        }\n        if(ar[s.charAt(idx)-'a']==false)\n        {\n            s1+=s.charAt(idx);\n            //System.out.print(s1);\n            ar[s.charAt(idx)-'a']=true;\n        }\n        DeDupe(s,idx++,s1);\n    }\n\n}\n</code></pre>\n<p>Trying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing</p>\n"},{"tags":["java","sql","ms-access-2016","callable-statement","dynamic-queries"],"owner":{"account_id":24662153,"reputation":21,"user_id":18558259,"display_name":"AvivAvocado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684693070,"creation_date":1684693070,"question_id":76301311,"body_markdown":"I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\r\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.\r\n\r\nThe following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:\r\n\r\n```\r\npackage entity;\r\n\r\nimport java.net.URLDecoder;\r\n\r\n///**\r\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\r\n //*/\r\npublic final class Consts {\r\n\tprivate Consts() {\r\n\t\tthrow new AssertionError();\r\n\t}\r\n\r\n\tprotected static final String DB_FILEPATH = getDBPath();\r\n\tpublic static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\r\n\t\r\n\t\r\n\t//----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\r\n\tpublic static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\r\n\tpublic static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\r\n\tpublic static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\r\n\tpublic static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\r\n\tpublic static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\r\n\tpublic static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\r\n\t\r\n\r\n\t/**\r\n\t * find the correct path of the DB file\r\n     * @return the path of the DB file (from eclipse or with runnable file)\r\n\t */\r\n\tprivate static String getDBPath() {\r\n\t\ttry {\r\n\t\t\tString path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n\t\t\tString decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n\t\t\t// System.out.println(decoded) - Can help to check the returned path\r\n\t\t\tif (decoded.contains(&quot;.jar&quot;)) {\r\n\t\t\t\tdecoded = decoded.substring(0, decoded.lastIndexOf(&#39;/&#39;));\r\n\t\t\t\treturn decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tdecoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\r\n\t\t\t\tSystem.out.println(decoded);\r\n\t\t\t\treturn decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nNext, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.\r\n \r\n```\r\npackage control;\r\nimport entity.Participant;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport entity.Consts;\r\n\r\npublic class ParticipantLogic {\r\n\tprivate static ParticipantLogic _instance;\r\n\r\n\tprivate ParticipantLogic() {\r\n\t}\r\n\r\n\tpublic static ParticipantLogic getInstance() {\r\n\t\tif (_instance == null)\r\n\t\t\t_instance = new ParticipantLogic();\r\n\t\treturn _instance;\r\n\t}\r\n\t// select all approved participant\r\n\t\r\n\tpublic ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\r\n\t\tArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\tPreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\tstmt.setLong(1, firstPhone);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tResultSet rs = stmt.executeQuery();\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\tint i = 1;\r\n\t\t\t\t\tresults.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\t// select all waiting participant\r\n\t\r\n\tpublic ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\r\n\t\t\tArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\tPreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\r\n\t\t\t\t\t\t\t\t{\t\t\t\t\t\t\r\n\t\t\t\t\t\tstmt.setLong(1, phone);\r\n\t\t\t\t\t\tResultSet rs = stmt.executeQuery(); \r\n\t\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\tresults.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t}\r\n\t\t//delete friend \r\n\t\t\r\n\t\tpublic boolean removeFriend(long firstPhone,long secondphone) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstmt.setLong(1, firstPhone);\r\n\t\t\t\t\t\t\tstmt.setLong(2, secondphone);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t// new friend request\r\n\t\tpublic boolean addFriend(long firstPhone,long secondphone) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSystem.out.println(&quot;test1&quot;);\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;test2&quot;);\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;test3&quot;);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t//accept friend \r\n\t\tpublic boolean acceptFriend(long firstPhone,long secondphone ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setString(i++, &quot;APPROVED&quot;);\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t//decline friend \r\n\t\tpublic boolean declineFriend(long firstPhone,long secondphone ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\t\t\t\ttry (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\r\n\t\t\t\t\t\t\t\tCallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tint i = 1;\r\n\t\t\t\t\t\t\tstmt.setLong(i++, firstPhone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setLong(i++, secondphone); // can&#39;t be null\r\n\t\t\t\t\t\t\tstmt.setString(i++, &quot;DENIED&quot;);\r\n\t\t\t\t\t\t\tstmt.executeUpdate();\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\t\r\n\r\n}\r\n```\r\nAlso, I don&#39;t know if this helps but here are the SQL for the queries:\r\nqryInsNewFriend:\r\n\r\n```\r\nINSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\r\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\r\n\r\n```\r\nqryDelFriend:\r\n\r\n```\r\nDELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\r\nFROM TblFriends\r\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\r\n\r\n```\r\nI tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn&#39;t work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can&#39;t find a reason for this code to not work.\r\nAlso, I didn&#39;t test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.\r\n\r\nThanks from advance.","title":"UCAExc:::3.0.7 user lacks privilege or object not found, when trying to execute specifically update/delete/append queries","body":"<p>I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.</p>\n<p>The following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:</p>\n<pre><code>package entity;\n\nimport java.net.URLDecoder;\n\n///**\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\n //*/\npublic final class Consts {\n    private Consts() {\n        throw new AssertionError();\n    }\n\n    protected static final String DB_FILEPATH = getDBPath();\n    public static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\n    \n    \n    //----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\n    public static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\n    public static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\n    public static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\n    public static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\n    public static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\n    public static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\n    \n\n    /**\n     * find the correct path of the DB file\n     * @return the path of the DB file (from eclipse or with runnable file)\n     */\n    private static String getDBPath() {\n        try {\n            String path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n            String decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\n            // System.out.println(decoded) - Can help to check the returned path\n            if (decoded.contains(&quot;.jar&quot;)) {\n                decoded = decoded.substring(0, decoded.lastIndexOf('/'));\n                return decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\n            } else {\n                decoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\n                System.out.println(decoded);\n                return decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Next, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.</p>\n<pre><code>package control;\nimport entity.Participant;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport entity.Consts;\n\npublic class ParticipantLogic {\n    private static ParticipantLogic _instance;\n\n    private ParticipantLogic() {\n    }\n\n    public static ParticipantLogic getInstance() {\n        if (_instance == null)\n            _instance = new ParticipantLogic();\n        return _instance;\n    }\n    // select all approved participant\n    \n    public ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\n        ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n            try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                    PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\n                            {\n                    stmt.setLong(1, firstPhone);\n                    \n                    \n                    ResultSet rs = stmt.executeQuery();\n                while (rs.next()) {\n                    int i = 1;\n                    results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return results;\n    }\n    \n    // select all waiting participant\n    \n    public ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\n            ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n            try {\n                Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                        PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\n                                {                       \n                        stmt.setLong(1, phone);\n                        ResultSet rs = stmt.executeQuery(); \n                    while (rs.next()) {\n                        int i = 1;\n                        results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return results;\n        }\n        //delete friend \n        \n        public boolean removeFriend(long firstPhone,long secondphone) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\n                            \n                            stmt.setLong(1, firstPhone);\n                            stmt.setLong(2, secondphone);\n                        \n                            stmt.executeUpdate();\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        // new friend request\n        public boolean addFriend(long firstPhone,long secondphone) {\n                    try {\n                        System.out.println(&quot;test1&quot;);\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\n                            System.out.println(&quot;test2&quot;);\n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.executeUpdate();\n                            System.out.println(&quot;test3&quot;);\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n                \n                \n                \n        //accept friend \n        public boolean acceptFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;APPROVED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        //decline friend \n        public boolean declineFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;DENIED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }   \n\n}\n</code></pre>\n<p>Also, I don't know if this helps but here are the SQL for the queries:\nqryInsNewFriend:</p>\n<pre><code>INSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\n\n</code></pre>\n<p>qryDelFriend:</p>\n<pre><code>DELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\nFROM TblFriends\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\n\n</code></pre>\n<p>I tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn't work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can't find a reason for this code to not work.\nAlso, I didn't test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.</p>\n<p>Thanks from advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":106337,"reputation":30941,"user_id":283311,"accept_rate":76,"display_name":"Ken"},"score":0,"creation_date":1315544233,"post_id":1407442,"comment_id":8877149,"body_markdown":"&quot;what options do we have in querying and displaying tens of thousands of rows of data in Android?&quot; --&gt; eh? I can&#39;t even think why you might want to do that.","body":"&quot;what options do we have in querying and displaying tens of thousands of rows of data in Android?&quot; --&gt; eh? I can&#39;t even think why you might want to do that."},{"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"score":1,"creation_date":1315578827,"post_id":1407442,"comment_id":8885308,"body_markdown":"@SK9 This was for porting a medical reference app from iPhone to Android. They literally had tens of thousands of records in these SQLite databases. Any sane person would start entering a search term to narrow down the list but the iPhone app supported manually scrolling through all of the data perfectly fine too. Thus they expected the Android app to behave the same way.","body":"@SK9 This was for porting a medical reference app from iPhone to Android. They literally had tens of thousands of records in these SQLite databases. Any sane person would start entering a search term to narrow down the list but the iPhone app supported manually scrolling through all of the data perfectly fine too. Thus they expected the Android app to behave the same way."},{"owner":{"account_id":99023,"reputation":7906,"user_id":267702,"accept_rate":61,"display_name":"gonzobrains"},"score":0,"creation_date":1405092216,"post_id":1407442,"comment_id":38305170,"body_markdown":"I have a similar requirement.  One would be amazed at how many organizations use specialized apps in this manner.","body":"I have a similar requirement.  One would be amazed at how many organizations use specialized apps in this manner."}],"answers":[{"comments":[{"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"score":0,"creation_date":1252628569,"post_id":1408132,"comment_id":1250437,"body_markdown":"Unfortunately, it works like a charm on the iPhone and the client is expecting comparable performance. In this instance, it&#39;s just flat out breaking and that&#39;s all bad. We&#39;re breaking the query out to load a few rows at a time. The issue is when they &quot;fling&quot; to the bottom and expect to get to the bottom of the list.","body":"Unfortunately, it works like a charm on the iPhone and the client is expecting comparable performance. In this instance, it&#39;s just flat out breaking and that&#39;s all bad. We&#39;re breaking the query out to load a few rows at a time. The issue is when they &quot;fling&quot; to the bottom and expect to get to the bottom of the list."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":5,"creation_date":1252632798,"post_id":1408132,"comment_id":1250636,"body_markdown":"*shrug* Find some way to keep your query results under 1MB. Request fewer columns. Pack your data better (e.g., don&#39;t use 8 INTEGER columns each for a boolean value -- use one INTEGER column and bitmasks). Come up with a UX that allows the user to consistently filter better, so you won&#39;t run into a 20K row result set. You can try to work around SQLiteCursor/SQLiteQuery using a CursorWindow, but I suspect your performance will be nasty.","body":"<i>shrug</i> Find some way to keep your query results under 1MB. Request fewer columns. Pack your data better (e.g., don&#39;t use 8 INTEGER columns each for a boolean value -- use one INTEGER column and bitmasks). Come up with a UX that allows the user to consistently filter better, so you won&#39;t run into a 20K row result set. You can try to work around SQLiteCursor/SQLiteQuery using a CursorWindow, but I suspect your performance will be nasty."},{"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"score":0,"creation_date":1252685228,"post_id":1408132,"comment_id":1254058,"body_markdown":"I guess I wonder then what is the best way to scroll through a list smoothly when you have a table with 42,000 items and you&#39;re loading 30-40 at a time. It works for smaller tables but using LIMIT and OFFSET in the query for this particular database still causes ANR&#39;s and hiccups in the scrolling.","body":"I guess I wonder then what is the best way to scroll through a list smoothly when you have a table with 42,000 items and you&#39;re loading 30-40 at a time. It works for smaller tables but using LIMIT and OFFSET in the query for this particular database still causes ANR&#39;s and hiccups in the scrolling."},{"owner":{"account_id":29456,"reputation":14617,"user_id":79595,"accept_rate":92,"display_name":"sooniln"},"score":0,"creation_date":1253140412,"post_id":1408132,"comment_id":1280761,"body_markdown":"Have you thought about adjusting your UI MattC? For instance if, rather than a scrollbar, you could use up and down arrows to move the cursor position. This forces the user to make more device interaction, but makes them more forgiving of delay. It&#39;s not the best solution, but it would get rid of the unresponsiveness.","body":"Have you thought about adjusting your UI MattC? For instance if, rather than a scrollbar, you could use up and down arrows to move the cursor position. This forces the user to make more device interaction, but makes them more forgiving of delay. It&#39;s not the best solution, but it would get rid of the unresponsiveness."},{"owner":{"account_id":29456,"reputation":14617,"user_id":79595,"accept_rate":92,"display_name":"sooniln"},"score":0,"creation_date":1253140477,"post_id":1408132,"comment_id":1280765,"body_markdown":"Another hack you could do: measure the rate of scrolling you can handle without uncomfortable pauses and artificially limit the users rate of scrolling to that.","body":"Another hack you could do: measure the rate of scrolling you can handle without uncomfortable pauses and artificially limit the users rate of scrolling to that."},{"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"score":0,"creation_date":1305696081,"post_id":1408132,"comment_id":6986906,"body_markdown":"It simple first get 100 rows using limit and when user scrolls down see at which number of row is currently and you can use re-query to load more data. If you are puting data in listview you can use managed cursor. Kindly see endless listview in android.","body":"It simple first get 100 rows using limit and when user scrolls down see at which number of row is currently and you can use re-query to load more data. If you are puting data in listview you can use managed cursor. Kindly see endless listview in android."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":6,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1252623059,"creation_date":1252623059,"answer_id":1408132,"question_id":1407442,"body_markdown":"&gt; what options do we have in querying\r\n&gt; and displaying tens of thousands of\r\n&gt; rows of data in Android?\r\n\r\nYou mean besides telling you that reading 20,000+ rows on a 3.5&quot; LCD is bat-guano crazy? ;-)\r\n\r\nIt looks like `CursorWindow`, which is used somewhere under the covers, is having issues managing &gt;17,000 rows. That could be one of two things:\r\n\r\n 1. You are out of heap space. With a 16MB non-compacting heap, and the fact that a `Cursor` holds the entire result set in the heap, that is not out of the question.\r\n 2. `CursorWindow` only supports 1MB of data, which is what the error message suggests more directly.\r\n\r\nIf there is a logical way to divide your queries into discrete chunks, you could do incremental queries and use `CursorJoiner` to stitch them together, and see if that helps.\r\n\r\nBut, in all seriousness, 20,000+ rows in a 3.5&quot; screen, on a device that most closely resembles a 12-year-old PC in horsepower, is really asking a lot.","title":"Android SQLite and huge data sets","body":"<blockquote>\n  <p>what options do we have in querying\n  and displaying tens of thousands of\n  rows of data in Android?</p>\n</blockquote>\n\n<p>You mean besides telling you that reading 20,000+ rows on a 3.5\" LCD is bat-guano crazy? ;-)</p>\n\n<p>It looks like <code>CursorWindow</code>, which is used somewhere under the covers, is having issues managing >17,000 rows. That could be one of two things:</p>\n\n<ol>\n<li>You are out of heap space. With a 16MB non-compacting heap, and the fact that a <code>Cursor</code> holds the entire result set in the heap, that is not out of the question.</li>\n<li><code>CursorWindow</code> only supports 1MB of data, which is what the error message suggests more directly.</li>\n</ol>\n\n<p>If there is a logical way to divide your queries into discrete chunks, you could do incremental queries and use <code>CursorJoiner</code> to stitch them together, and see if that helps.</p>\n\n<p>But, in all seriousness, 20,000+ rows in a 3.5\" screen, on a device that most closely resembles a 12-year-old PC in horsepower, is really asking a lot.</p>\n"},{"tags":[],"owner":{"account_id":454784,"reputation":3086,"user_id":852582,"accept_rate":91,"display_name":"Aurelian Cotuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1332832802,"creation_date":1332832802,"answer_id":9884965,"question_id":1407442,"body_markdown":"If you really need that you can also split your data and read chunks like this:\r\n\r\n       int limit = 0;\r\n       while (limit + 100 &lt; numberOfRows) {\r\n           //Compose the statement\r\n           String statement = &quot;SELECT * FROM Table ORDER someField LIMIT &#39;&quot;+ limit+&quot;&#39;, 100&quot;;\r\n           //Execute the query\r\n           Cursor cursor = myDataBase.rawQuery(statement, null);\r\n           while (cursor.moveToNext()) {\r\n               Product product = new Product();\r\n               product.setAllValuesFromCursor(cursor);\r\n               productsArrayList.add(product);\r\n          }\r\n          cursor.close();\r\n          limit += 100;\r\n     }\r\n                    \r\n     //Compose the statement\r\n     String statement = &quot;SELECT * FROM Table ORDER someField LIMIT &#39;&quot;+  (numberOfRows - limit)+&quot;&#39;, 100&quot;;\r\n     //Execute the query\r\n     Cursor cursor = myDataBase.rawQuery(statement, null);\r\n\r\n     while (cursor.moveToNext()) {\r\n         Product product = new Product();\r\n         product.setAllValuesFromCursor(cursor);\r\n         productsArrayList.add(product);\r\n     }\r\n     cursor.close();\r\n\r\nIt&#39;s working under 2 s for 5k rows if you have indexed table.\r\n\r\nThanks,\r\nArkde","title":"Android SQLite and huge data sets","body":"<p>If you really need that you can also split your data and read chunks like this:</p>\n\n<pre><code>   int limit = 0;\n   while (limit + 100 &lt; numberOfRows) {\n       //Compose the statement\n       String statement = \"SELECT * FROM Table ORDER someField LIMIT '\"+ limit+\"', 100\";\n       //Execute the query\n       Cursor cursor = myDataBase.rawQuery(statement, null);\n       while (cursor.moveToNext()) {\n           Product product = new Product();\n           product.setAllValuesFromCursor(cursor);\n           productsArrayList.add(product);\n      }\n      cursor.close();\n      limit += 100;\n }\n\n //Compose the statement\n String statement = \"SELECT * FROM Table ORDER someField LIMIT '\"+  (numberOfRows - limit)+\"', 100\";\n //Execute the query\n Cursor cursor = myDataBase.rawQuery(statement, null);\n\n while (cursor.moveToNext()) {\n     Product product = new Product();\n     product.setAllValuesFromCursor(cursor);\n     productsArrayList.add(product);\n }\n cursor.close();\n</code></pre>\n\n<p>It's working under 2 s for 5k rows if you have indexed table.</p>\n\n<p>Thanks,\nArkde</p>\n"},{"tags":[],"owner":{"account_id":2036295,"reputation":1106,"user_id":2476537,"accept_rate":41,"display_name":"John61590"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463437003,"creation_date":1374105344,"answer_id":17712265,"question_id":1407442,"body_markdown":"In my experience, limiting queries makes it take a lot longer to get results because starting new cursors is expensive for low limits. I tried doing 62k rows with 1k and even 10k limit just now and it is very slow and unusable since I have to start more than 6 cursors. I&#39;ll just stick with not supporting 2.3.3.... It is the latest build that I get CursorWindow ERROR instead of WARN.\r\n\r\nHere is what I did though. This is probably the best algorithm I think. Don&#39;t have to do queries twice etc. However, it can get pretty slow with big queries and small limits so you have to test out what works best a lot. In my case, it&#39;s not fast enough for my purposes since it doesn&#39;t handle 62k rows well.\r\n\r\n    int cursorCount = 0;\r\n    int limit = 1000; //whatever you want\r\n    while (true)\r\n    {\r\n        Cursor cursor = builder.query(mDatabaseHelper.getReadableDatabase(), columns, selection, selectionArgs, null, null, null, Integer.toString(limit));\r\n        if (cursor == null) {\r\n            return null;\r\n        } else if (!cursor.moveToFirst()) { //if it is empty, return null\r\n            return null;\r\n        }\r\n        cursorCount = cursor.getCount();\r\n        if (cursorCount % limit != 0)\r\n        {\r\n            return cursor;\r\n        }\r\n        limit+=1000; //same amount as the one above\r\n    } ","title":"Android SQLite and huge data sets","body":"<p>In my experience, limiting queries makes it take a lot longer to get results because starting new cursors is expensive for low limits. I tried doing 62k rows with 1k and even 10k limit just now and it is very slow and unusable since I have to start more than 6 cursors. I'll just stick with not supporting 2.3.3.... It is the latest build that I get CursorWindow ERROR instead of WARN.</p>\n\n<p>Here is what I did though. This is probably the best algorithm I think. Don't have to do queries twice etc. However, it can get pretty slow with big queries and small limits so you have to test out what works best a lot. In my case, it's not fast enough for my purposes since it doesn't handle 62k rows well.</p>\n\n<pre><code>int cursorCount = 0;\nint limit = 1000; //whatever you want\nwhile (true)\n{\n    Cursor cursor = builder.query(mDatabaseHelper.getReadableDatabase(), columns, selection, selectionArgs, null, null, null, Integer.toString(limit));\n    if (cursor == null) {\n        return null;\n    } else if (!cursor.moveToFirst()) { //if it is empty, return null\n        return null;\n    }\n    cursorCount = cursor.getCount();\n    if (cursorCount % limit != 0)\n    {\n        return cursor;\n    }\n    limit+=1000; //same amount as the one above\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28648910,"reputation":11,"user_id":21936289,"display_name":"Payman Hamrahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684692638,"creation_date":1684692638,"answer_id":76301279,"question_id":1407442,"body_markdown":"When cursor.getCount(); is an empty cursor, it will return 0 and the modulus operation `cursorCount % limit` will throw a `java.lang.ArithmeticException: divide by zero` error. Here are the updated codes:\r\n\r\n        int cursorCount = 0;\r\n        int limit = 1000; //whatever you want\r\n\r\n        while (true) {\r\n\r\n            //add codes for executing database query\r\n\r\n            cursorCount = cursor.getCount();\r\n            if (cursorCount &gt; 0 &amp;&amp; cursorCount % limit != 0) {\r\n                return cursor;\r\n            }\r\n            limit += 1000; //same amount as the one above\r\n\r\n            if (cursorCount == 0) {\r\n                cursor.close(); // close the cursor if it&#39;s empty\r\n                return null; // return null to indicate no suggestion found\r\n            }\r\n        }","title":"Android SQLite and huge data sets","body":"<p>When cursor.getCount(); is an empty cursor, it will return 0 and the modulus operation <code>cursorCount % limit</code> will throw a <code>java.lang.ArithmeticException: divide by zero</code> error. Here are the updated codes:</p>\n<pre><code>    int cursorCount = 0;\n    int limit = 1000; //whatever you want\n\n    while (true) {\n\n        //add codes for executing database query\n\n        cursorCount = cursor.getCount();\n        if (cursorCount &gt; 0 &amp;&amp; cursorCount % limit != 0) {\n            return cursor;\n        }\n        limit += 1000; //same amount as the one above\n\n        if (cursorCount == 0) {\n            cursor.close(); // close the cursor if it's empty\n            return null; // return null to indicate no suggestion found\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11037,"reputation":12285,"user_id":21126,"accept_rate":76,"display_name":"MattC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25477,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":1408132,"answer_count":4,"score":23,"last_activity_date":1684692638,"creation_date":1252613307,"question_id":1407442,"body_markdown":"We are creating an app for a client that has hundreds of megabytes of HTML in SQLite databases. We have implemented a way to query this data and scroll through it all in a reasonably fast manner. The issue is that some of the databases have very large queries (20,000+ rows) and we are seeing errors when we are growing the queries as the user is scrolling. So I guess the question is, what options do we have in querying and displaying tens of thousands of rows of data in Android?\r\n\r\nHere is the stacktrace we&#39;re seeing:\r\n\r\n    09-10 19:19:12.575: WARN/IInputConnectionWrapper(640): showStatusIcon on inactive InputConnection\r\n    09-10 19:19:18.226: DEBUG/dalvikvm(640): GC freed 446 objects / 16784 bytes in 330ms\r\n    09-10 19:19:32.886: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 36, freeSpace() = 30, numRows = 17717\r\n    09-10 19:19:32.896: ERROR/CursorWindow(19416): not growing since there are already 17717 row(s), max size 1048576\r\n    09-10 19:19:32.916: ERROR/CursorWindow(19416): The row failed, so back out the new row accounting from allocRowSlot 17716\r\n    09-10 19:19:33.005: ERROR/Cursor(19416): Failed allocating fieldDir at startPos 0 row 17716\r\n    09-10 19:19:35.596: DEBUG/Cursor(19416): finish_program_and_get_row_count row 24315\r\n    09-10 19:19:41.545: DEBUG/dalvikvm(698): GC freed 2288 objects / 126080 bytes in 260ms\r\n    09-10 19:19:43.705: WARN/KeyCharacterMap(19416): No keyboard for id 0\r\n    09-10 19:19:43.717: WARN/KeyCharacterMap(19416): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\r\n    09-10 19:20:04.705: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 17, freeSpace() = 3, numRows = 17094\r\n    09-10 19:20:04.716: ERROR/CursorWindow(19416): not growing since there are already 17094 row(s), max size 1048576\r\n    09-10 19:20:04.726: ERROR/Cursor(19416): Failed allocating 17 bytes for text/blob at 17093,2\r\n    09-10 19:20:05.656: DEBUG/Cursor(19416): finish_program_and_get_row_count row 5257\r\n    09-10 19:24:54.685: DEBUG/dalvikvm(637): GC freed 9297 objects / 524176 bytes in 247ms\r\n    09-10 19:32:07.656: DEBUG/dalvikvm(19416): GC freed 9035 objects / 495840 bytes in 199ms\r\n\r\nHere is our CursorAdapter code:\r\n\r\n        private class MyAdapter extends ResourceCursorAdapter {\r\n\r\n        public MyAdapter(Context context, Cursor cursor) {\r\n            super(context, R.layout.my_row, cursor);        \r\n        }\r\n\r\n        public void bindView(View view, Context context, Cursor cursor) {                \r\n            RowData data = new RowData();\r\n            data.setName(cursor.getInt(cursor.getColumnIndex(&quot;name&quot;)));\r\n\r\n            TextView tvItemText = (TextView)view.findViewById(R.id.tvItemText);\r\n            tvItemText.setText(data.getName());\r\n\r\n            view.setTag(data);\r\n        }\r\n\r\n        @Override\r\n        public Cursor runQueryOnBackgroundThread(CharSequence constraint) {\r\n            /* Display the progress indicator */\r\n            updateHandler.post(onFilterStart);\r\n\r\n            /* Run the actual query */               \r\n            if (constraint == null) {\r\n                return myDbObject.getData(null);                     \r\n            }\r\n\r\n            return myDbObject.getData(constraint.toString());                \r\n        }            \r\n    }\r\n\r\n","title":"Android SQLite and huge data sets","body":"<p>We are creating an app for a client that has hundreds of megabytes of HTML in SQLite databases. We have implemented a way to query this data and scroll through it all in a reasonably fast manner. The issue is that some of the databases have very large queries (20,000+ rows) and we are seeing errors when we are growing the queries as the user is scrolling. So I guess the question is, what options do we have in querying and displaying tens of thousands of rows of data in Android?</p>\n\n<p>Here is the stacktrace we're seeing:</p>\n\n<pre><code>09-10 19:19:12.575: WARN/IInputConnectionWrapper(640): showStatusIcon on inactive InputConnection\n09-10 19:19:18.226: DEBUG/dalvikvm(640): GC freed 446 objects / 16784 bytes in 330ms\n09-10 19:19:32.886: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 36, freeSpace() = 30, numRows = 17717\n09-10 19:19:32.896: ERROR/CursorWindow(19416): not growing since there are already 17717 row(s), max size 1048576\n09-10 19:19:32.916: ERROR/CursorWindow(19416): The row failed, so back out the new row accounting from allocRowSlot 17716\n09-10 19:19:33.005: ERROR/Cursor(19416): Failed allocating fieldDir at startPos 0 row 17716\n09-10 19:19:35.596: DEBUG/Cursor(19416): finish_program_and_get_row_count row 24315\n09-10 19:19:41.545: DEBUG/dalvikvm(698): GC freed 2288 objects / 126080 bytes in 260ms\n09-10 19:19:43.705: WARN/KeyCharacterMap(19416): No keyboard for id 0\n09-10 19:19:43.717: WARN/KeyCharacterMap(19416): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\n09-10 19:20:04.705: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 17, freeSpace() = 3, numRows = 17094\n09-10 19:20:04.716: ERROR/CursorWindow(19416): not growing since there are already 17094 row(s), max size 1048576\n09-10 19:20:04.726: ERROR/Cursor(19416): Failed allocating 17 bytes for text/blob at 17093,2\n09-10 19:20:05.656: DEBUG/Cursor(19416): finish_program_and_get_row_count row 5257\n09-10 19:24:54.685: DEBUG/dalvikvm(637): GC freed 9297 objects / 524176 bytes in 247ms\n09-10 19:32:07.656: DEBUG/dalvikvm(19416): GC freed 9035 objects / 495840 bytes in 199ms\n</code></pre>\n\n<p>Here is our CursorAdapter code:</p>\n\n<pre><code>    private class MyAdapter extends ResourceCursorAdapter {\n\n    public MyAdapter(Context context, Cursor cursor) {\n        super(context, R.layout.my_row, cursor);        \n    }\n\n    public void bindView(View view, Context context, Cursor cursor) {                \n        RowData data = new RowData();\n        data.setName(cursor.getInt(cursor.getColumnIndex(\"name\")));\n\n        TextView tvItemText = (TextView)view.findViewById(R.id.tvItemText);\n        tvItemText.setText(data.getName());\n\n        view.setTag(data);\n    }\n\n    @Override\n    public Cursor runQueryOnBackgroundThread(CharSequence constraint) {\n        /* Display the progress indicator */\n        updateHandler.post(onFilterStart);\n\n        /* Run the actual query */               \n        if (constraint == null) {\n            return myDbObject.getData(null);                     \n        }\n\n        return myDbObject.getData(constraint.toString());                \n    }            \n}\n</code></pre>\n"},{"tags":["java","spring","aop","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489230205,"post_id":42733826,"comment_id":72587022,"body_markdown":"`inTry()` always throws an exception. Does that make any sense?","body":"<code>inTry()</code> always throws an exception. Does that make any sense?"},{"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"score":0,"creation_date":1489231325,"post_id":42733826,"comment_id":72587294,"body_markdown":"It&#39;s just for example. I have real project, where it needed. In case when some external resource is unavailable need to implement &#39;retry&#39; functionality.","body":"It&#39;s just for example. I have real project, where it needed. In case when some external resource is unavailable need to implement &#39;retry&#39; functionality."}],"answers":[{"comments":[{"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"score":0,"creation_date":1489231653,"post_id":42734123,"comment_id":72587393,"body_markdown":"So, you thing, that problem in the missing aspectj-maven-plugin?","body":"So, you thing, that problem in the missing aspectj-maven-plugin?"},{"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"score":0,"creation_date":1489232903,"post_id":42734123,"comment_id":72587783,"body_markdown":"If I add aspectj-maven-plugin it work. Many thanks for your answer, but it&#39;s compile time weaving, I try to implement pure spring-aop - runtime weaving. https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-introduction-defn","body":"If I add aspectj-maven-plugin it work. Many thanks for your answer, but it&#39;s compile time weaving, I try to implement pure spring-aop - runtime weaving. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-introduction-defn\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489234627,"post_id":42734123,"comment_id":72588276,"body_markdown":"No, that is not the solution. AspectJ Maven Plugin is for full-blown AspectJ compile-time or subsequent load-time weaving. It is absolutely not necessary for proxy-based Spring AOP. If it helped in your case then just because you implicitly switched from Spring AOP to AspectJ, not solving but just avoiding your real problem.","body":"No, that is not the solution. AspectJ Maven Plugin is for full-blown AspectJ compile-time or subsequent load-time weaving. It is absolutely not necessary for proxy-based Spring AOP. If it helped in your case then just because you implicitly switched from Spring AOP to AspectJ, not solving but just avoiding your real problem."},{"owner":{"account_id":10344759,"reputation":672,"user_id":7630061,"display_name":"Matthias Danetzky"},"score":0,"creation_date":1489235441,"post_id":42734123,"comment_id":72588524,"body_markdown":"You could also try to write out the annotation&#39;s name with package in your pointcut: @Around(&quot;execution(* *(..)) &amp;&amp; @annotation(com.my.package.RetryOnFailure)&quot;)","body":"You could also try to write out the annotation&#39;s name with package in your pointcut: @Around(&quot;execution(* *(..)) &amp;&amp; @annotation(com.my.package.RetryOnFailure)&quot;)"},{"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"score":0,"creation_date":1489244559,"post_id":42734123,"comment_id":72591406,"body_markdown":"@MatthiasDanetzky, thank you so much. I decided, that I&#39;ll switch to compile time weaving due to application design. Thanks!","body":"@MatthiasDanetzky, thank you so much. I decided, that I&#39;ll switch to compile time weaving due to application design. Thanks!"}],"tags":[],"owner":{"account_id":10344759,"reputation":672,"user_id":7630061,"display_name":"Matthias Danetzky"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489228558,"creation_date":1489228558,"answer_id":42734123,"question_id":42733826,"body_markdown":"I&#39;ve had a similar problem and I managed to solve it using AspectJ:\r\n\r\nhttps://github.com/mdanetzky/tour-of-heroes-java\r\n\r\nAlso - it took me some time to find out, that my IDEA didn&#39;t rebuild aspects properly, so it might be worth trying to clean/rebuild the project before you try some more drastic measures.","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p>I've had a similar problem and I managed to solve it using AspectJ:</p>\n\n<p><a href=\"https://github.com/mdanetzky/tour-of-heroes-java\" rel=\"nofollow noreferrer\">https://github.com/mdanetzky/tour-of-heroes-java</a></p>\n\n<p>Also - it took me some time to find out, that my IDEA didn't rebuild aspects properly, so it might be worth trying to clean/rebuild the project before you try some more drastic measures.</p>\n"},{"comments":[{"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"score":1,"creation_date":1489244402,"post_id":42735463,"comment_id":72591344,"body_markdown":"Thanks so much for explanation. Yes, you&#39;re right. The question&#39;s point was &#39;WHY?!?&#39;, and you described it well. Cheers!","body":"Thanks so much for explanation. Yes, you&#39;re right. The question&#39;s point was &#39;WHY?!?&#39;, and you described it well. Cheers!"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1489246403,"creation_date":1489236904,"answer_id":42735463,"question_id":42733826,"body_markdown":"You made a typical Spring AOP beginners&#39; mistake: You forgot that proxy-based AOP only works if proxy methods are called from outside, not via `this` (avoiding the proxy). But the internal call `inTry()` is the same as `this.inTry()`. Thus, the aspect never triggers for `inTry` and you have to rearrange your code like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package spring.aop;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    @RestController(&quot;/&quot;)\r\n    public class HomeController {\r\n    \r\n        static int counter = 0;\r\n    \r\n        @RequestMapping\r\n        @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\r\n        public String index() {\r\n            throw new RuntimeException(&quot;Exception in try &quot; + ++counter);\r\n        }\r\n    }\r\n\r\nI also changed the aspect a little bit so as to\r\n\r\n* avoid reflection and bind the annotation to an advice parameter directly via `@annotation()`,\r\n* log the joinpoint when the advice is triggered and\r\n* return &quot;OK&quot; on try #3 (just for fun, not necessary).\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package spring.aop;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public final class MethodRepeater {\r\n    \r\n        @Around(&quot;execution(* spring.aop..*(..)) &amp;&amp; @annotation(retryOnFailure)&quot;)\r\n        public Object wrap(final ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\r\n            System.out.println(joinPoint);\r\n            return proceed(joinPoint, retryOnFailure);\r\n        }\r\n    \r\n        private Object proceed(ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\r\n            int attempt = 1;\r\n            while (true) {\r\n                try {\r\n                    return joinPoint.proceed();\r\n                } catch (final Throwable ex) {\r\n                    System.out.println(&quot;Try #&quot; + attempt + &quot; failed: &quot; + ex);\r\n                    if (++attempt &gt;= retryOnFailure.attempts())\r\n                        return &quot;OK&quot;;\r\n                    if (retryOnFailure.delay() &gt; 0L)\r\n                        retryOnFailure.unit().sleep(retryOnFailure.delay());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow it works and the console log says:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    execution(String spring.aop.HomeController.index())\r\n    Try #1 failed: java.lang.RuntimeException: Exception in try 1\r\n    Try #2 failed: java.lang.RuntimeException: Exception in try 2\r\n","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p>You made a typical Spring AOP beginners' mistake: You forgot that proxy-based AOP only works if proxy methods are called from outside, not via <code>this</code> (avoiding the proxy). But the internal call <code>inTry()</code> is the same as <code>this.inTry()</code>. Thus, the aspect never triggers for <code>inTry</code> and you have to rearrange your code like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package spring.aop;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.concurrent.TimeUnit;\n\n@RestController(\"/\")\npublic class HomeController {\n\n    static int counter = 0;\n\n    @RequestMapping\n    @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\n    public String index() {\n        throw new RuntimeException(\"Exception in try \" + ++counter);\n    }\n}\n</code></pre>\n\n<p>I also changed the aspect a little bit so as to</p>\n\n<ul>\n<li>avoid reflection and bind the annotation to an advice parameter directly via <code>@annotation()</code>,</li>\n<li>log the joinpoint when the advice is triggered and</li>\n<li>return \"OK\" on try #3 (just for fun, not necessary).</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>package spring.aop;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic final class MethodRepeater {\n\n    @Around(\"execution(* spring.aop..*(..)) &amp;&amp; @annotation(retryOnFailure)\")\n    public Object wrap(final ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\n        System.out.println(joinPoint);\n        return proceed(joinPoint, retryOnFailure);\n    }\n\n    private Object proceed(ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\n        int attempt = 1;\n        while (true) {\n            try {\n                return joinPoint.proceed();\n            } catch (final Throwable ex) {\n                System.out.println(\"Try #\" + attempt + \" failed: \" + ex);\n                if (++attempt &gt;= retryOnFailure.attempts())\n                    return \"OK\";\n                if (retryOnFailure.delay() &gt; 0L)\n                    retryOnFailure.unit().sleep(retryOnFailure.delay());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now it works and the console log says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>execution(String spring.aop.HomeController.index())\nTry #1 failed: java.lang.RuntimeException: Exception in try 1\nTry #2 failed: java.lang.RuntimeException: Exception in try 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684691408,"creation_date":1684691408,"answer_id":76301195,"question_id":42733826,"body_markdown":"**5/2023** `for AspectJ`\r\n\r\n  MyApplication.java\r\n    \r\n\r\n    @SpringBootApplication\r\n    public class AopjApplication {\r\n\t  public static void main(String[] args) {\r\n\t\tConfigurableApplicationContext cntx = SpringApplication.run(AopjApplication.class, args);\r\n\t\tA a=cntx.getBean(A.class);\r\n\t\ta.chirp();\t\t\r\n\t  }\r\n    }\r\nadding AspectJ to *build.gradle*\r\n\r\n    \r\n    dependencies {\r\n\t  implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\t  implementation &#39;org.aspectj:aspectjweaver:1.9.19&#39;  //currently last version\r\n\t  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\nA.java :\r\n\r\n    public class A {\r\n      public void chirp() {\r\n\t    System.out.print(11111);\r\n      }\r\n    }\r\nMyConfig.java\r\n\r\n    \r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class MyConfig {\r\n      @Bean\r\n      public A a() {\r\n\t    return new A();\r\n      }\r\n      @Bean\r\n      public B b() {\r\n\t    return new B();\r\n      }\r\n    . . .\r\n      @Bean\r\n      public MyAspect myAspect() {\r\n\t    return new MyAspect();\r\n      }\r\n    }\r\nMyAspect.java\r\n\r\n    @Aspect\r\n    public class MyAspect {\r\n\t  @Before(&quot;execution(* mypackage.A.chirp())&quot;)\r\n\t  public void aa() {\r\n\t\tSystem.out.print(2222);\r\n\t\t}\t\r\n    }\r\n\r\nI ve run that and now  console shows : \r\n\r\n    2023-05-21T22:47:34.035+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Starting AopjApplication using Java 17.0.6 with PID 9332 (C:\\Users\\erics\\eclipse-workspace\\aopj\\bin\\main started by erics in C:\\Users\\erics\\eclipse-workspace\\aopj)\r\n    2023-05-21T22:47:34.045+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-05-21T22:47:35.566+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Started AopjApplication in 2.33 seconds (process running for 3.303)\r\n    2222\r\n    11111\r\n\r\n","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p><strong>5/2023</strong> <code>for AspectJ</code></p>\n<p>MyApplication.java</p>\n<pre><code>@SpringBootApplication\npublic class AopjApplication {\n  public static void main(String[] args) {\n    ConfigurableApplicationContext cntx = SpringApplication.run(AopjApplication.class, args);\n    A a=cntx.getBean(A.class);\n    a.chirp();      \n  }\n}\n</code></pre>\n<p>adding AspectJ to <em>build.gradle</em></p>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter'\n  implementation 'org.aspectj:aspectjweaver:1.9.19'  //currently last version\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>A.java :</p>\n<pre><code>public class A {\n  public void chirp() {\n    System.out.print(11111);\n  }\n}\n</code></pre>\n<p>MyConfig.java</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class MyConfig {\n  @Bean\n  public A a() {\n    return new A();\n  }\n  @Bean\n  public B b() {\n    return new B();\n  }\n. . .\n  @Bean\n  public MyAspect myAspect() {\n    return new MyAspect();\n  }\n}\n</code></pre>\n<p>MyAspect.java</p>\n<pre><code>@Aspect\npublic class MyAspect {\n  @Before(&quot;execution(* mypackage.A.chirp())&quot;)\n  public void aa() {\n    System.out.print(2222);\n    }   \n}\n</code></pre>\n<p>I ve run that and now  console shows :</p>\n<pre><code>2023-05-21T22:47:34.035+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Starting AopjApplication using Java 17.0.6 with PID 9332 (C:\\Users\\erics\\eclipse-workspace\\aopj\\bin\\main started by erics in C:\\Users\\erics\\eclipse-workspace\\aopj)\n2023-05-21T22:47:34.045+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-21T22:47:35.566+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Started AopjApplication in 2.33 seconds (process running for 3.303)\n2222\n11111\n</code></pre>\n"}],"owner":{"account_id":1133457,"reputation":85,"user_id":1119003,"display_name":"George Zalizko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8374,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42735463,"answer_count":3,"score":6,"last_activity_date":1684691408,"creation_date":1489226496,"question_id":42733826,"body_markdown":"I&#39;ve made a simple web application using Spring Boot and Spring Initializr and tried to write **@Aspect** with **@Around** advice.\r\n\r\nWhen I add my custom annotation **@RetryOnFailure** to the controllers&#39; endpoint method - it works, but when I add this annotation to the controllers&#39; method, that executed by controllers endpoint - it doesn&#39;t work. I spend a lot of time for understanding the reason for such behavior, but without any result. So please help.\r\n\r\nProject located here: https://github.com/zalizko/spring-aop-playground\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Aspect\r\n    @Component\r\n    public final class MethodRepeater {\r\n\r\n        @Around(&quot;execution(* *(..)) &amp;&amp; @annotation(RetryOnFailure)&quot;)\r\n        public Object wrap(final ProceedingJoinPoint joinPoint) throws Throwable {\r\n            // code is here\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nSo, my goal is that:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RequestMapping\r\n    public String index() {\r\n        inTry();\r\n        return &quot;OK&quot;;\r\n    }\r\n\r\n\r\n    @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\r\n    public void inTry() {\r\n        throw new RuntimeException(&quot;Exception in try &quot; + ++counter);\r\n    }\r\n\r\n  \r\n","title":"Spring AOP: aspect @Around doesn&#39;t work","body":"<p>I've made a simple web application using Spring Boot and Spring Initializr and tried to write <strong>@Aspect</strong> with <strong>@Around</strong> advice.</p>\n\n<p>When I add my custom annotation <strong>@RetryOnFailure</strong> to the controllers' endpoint method - it works, but when I add this annotation to the controllers' method, that executed by controllers endpoint - it doesn't work. I spend a lot of time for understanding the reason for such behavior, but without any result. So please help.</p>\n\n<p>Project located here: <a href=\"https://github.com/zalizko/spring-aop-playground\" rel=\"nofollow noreferrer\">https://github.com/zalizko/spring-aop-playground</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic final class MethodRepeater {\n\n    @Around(\"execution(* *(..)) &amp;&amp; @annotation(RetryOnFailure)\")\n    public Object wrap(final ProceedingJoinPoint joinPoint) throws Throwable {\n        // code is here\n    }\n}\n</code></pre>\n\n<p>So, my goal is that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping\npublic String index() {\n    inTry();\n    return \"OK\";\n}\n\n\n@RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\npublic void inTry() {\n    throw new RuntimeException(\"Exception in try \" + ++counter);\n}\n</code></pre>\n"},{"tags":["java","filter","java-8","spring-data-jpa","java-stream"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577348087,"post_id":59483996,"comment_id":105146428,"body_markdown":"Can you add sample input with the corresponding expected output? It&#39;s hard to understand your description.","body":"Can you add sample input with the corresponding expected output? It&#39;s hard to understand your description."},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577349294,"post_id":59483996,"comment_id":105146773,"body_markdown":"@Eran added a sample i/p -&gt; o/p. right now this code only returns the first teamId for each employee. including the manager ID is optional. But is the filter and map combo format is correct? I am having issues with that. Filtering based on one column and taking a different column into the array.","body":"@Eran added a sample i/p -&gt; o/p. right now this code only returns the first teamId for each employee. including the manager ID is optional. But is the filter and map combo format is correct? I am having issues with that. Filtering based on one column and taking a different column into the array."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577349494,"post_id":59483996,"comment_id":105146836,"body_markdown":"What should the type of the output be?","body":"What should the type of the output be?"},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577350325,"post_id":59483996,"comment_id":105147095,"body_markdown":"@Eran need it as `String[]`","body":"@Eran need it as <code>String[]</code>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577350465,"post_id":59483996,"comment_id":105147130,"body_markdown":"How can you store in a single String array the list of team IDs for each employee ID? It sounds like you need a `Map&lt;String,List&lt;String&gt;&gt;` or `Map&lt;String,String[]&gt;`.","body":"How can you store in a single String array the list of team IDs for each employee ID? It sounds like you need a <code>Map&lt;String,List&lt;String&gt;&gt;</code> or <code>Map&lt;String,String[]&gt;</code>."},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577351200,"post_id":59483996,"comment_id":105147359,"body_markdown":"@Eran each employeeid has a seperate `String[]`. So for a table with two distinct employees there would be three string arrays. One for list of employees and then two array of team member Ids for each employee Id.","body":"@Eran each employeeid has a seperate <code>String[]</code>. So for a table with two distinct employees there would be three string arrays. One for list of employees and then two array of team member Ids for each employee Id."},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577351294,"post_id":59483996,"comment_id":105147388,"body_markdown":"need to invoke a different function by passing a `String[]` as argument. for each employee I would invoke the function with their `team member Id` array","body":"need to invoke a different function by passing a <code>String[]</code> as argument. for each employee I would invoke the function with their <code>team member Id</code> array"}],"answers":[{"comments":[{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577353043,"post_id":59486158,"comment_id":105147980,"body_markdown":"did the `teamIds.length-1` after getting a `outofbounds` exception. but the proper value isn&#39;t being filtered and mapped in either of the `list.streams.filter.map`\n\n`.filter(obj -&gt; obj.getId().equals(id)).map(ViewData::getManagerId)` is what I was using but this is storing the first matching value into the string[] over and over. So applying distinct returns a array of size 1. So `alex` gets `1101` and `bran` gets `1301`. That is why I thought it was a logic issue with `map` part.","body":"did the <code>teamIds.length-1</code> after getting a <code>outofbounds</code> exception. but the proper value isn&#39;t being filtered and mapped in either of the <code>list.streams.filter.map</code>  <code>.filter(obj -&gt; obj.getId().equals(id)).map(ViewData::getManagerId)</code> is what I was using but this is storing the first matching value into the string[] over and over. So applying distinct returns a array of size 1. So <code>alex</code> gets <code>1101</code> and <code>bran</code> gets <code>1301</code>. That is why I thought it was a logic issue with <code>map</code> part."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577353242,"post_id":59486158,"comment_id":105148053,"body_markdown":"@BharathYes Are you sure that your input contains multiple distinct team Ids for the same emp Ids? If so, it shouldn&#39;t return a single value. What happens if you remove the `distinct()`?","body":"@BharathYes Are you sure that your input contains multiple distinct team Ids for the same emp Ids? If so, it shouldn&#39;t return a single value. What happens if you remove the <code>distinct()</code>?"},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577353639,"post_id":59486158,"comment_id":105148197,"body_markdown":"Yes. without distinct it returns the first value repeated the right amount of time. So `alex` gets `1101` four times and `bran` gets `1301` five times. I am trying to split this into two. Filter and create a `List` and then map the values of of that new `List`","body":"Yes. without distinct it returns the first value repeated the right amount of time. So <code>alex</code> gets <code>1101</code> four times and <code>bran</code> gets <code>1301</code> five times. I am trying to split this into two. Filter and create a <code>List</code> and then map the values of of that new <code>List</code>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1577353806,"post_id":59486158,"comment_id":105148258,"body_markdown":"@BharathYes it doesn&#39;t make sense. Perhaps your input list (returned by `getDataList()`) doesn&#39;t contain what you think it does. Did you try to print that `List` (assuming `ViewData` overrides `toString()`)?","body":"@BharathYes it doesn&#39;t make sense. Perhaps your input list (returned by <code>getDataList()</code>) doesn&#39;t contain what you think it does. Did you try to print that <code>List</code> (assuming <code>ViewData</code> overrides <code>toString()</code>)?"},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1577368045,"post_id":59486158,"comment_id":105153018,"body_markdown":"You are right. Sorry. My data after fetching is incorrect","body":"You are right. Sorry. My data after fetching is incorrect"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577351315,"creation_date":1577351315,"answer_id":59486158,"question_id":59483996,"body_markdown":"Based on the question and comments, what you need is:\r\n\r\n    for (String id : allIds) {\r\n        String[] teamIds = list.parallelStream()\r\n                               .filter(row -&gt; row.getId().equals(id))\r\n                               .map(ViewData::getTeamId).distinct()\r\n                               .toArray(String[]::new);\r\n    \r\n        teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\r\n        teamIds[teamIds.length - 1] = list.parallelStream()\r\n                                          .filter(obj -&gt; obj.getId().equals(id))\r\n                                          .map(ViewData::getManagerId)\r\n                                          .findFirst()\r\n                                          .orElse(null);\r\n    \r\n        System.out.println(teamIds.length + &quot;\\n&quot;);\r\n    }","title":"Extracting db column data with filter and map in Java8","body":"<p>Based on the question and comments, what you need is:</p>\n\n<pre><code>for (String id : allIds) {\n    String[] teamIds = list.parallelStream()\n                           .filter(row -&gt; row.getId().equals(id))\n                           .map(ViewData::getTeamId).distinct()\n                           .toArray(String[]::new);\n\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\n    teamIds[teamIds.length - 1] = list.parallelStream()\n                                      .filter(obj -&gt; obj.getId().equals(id))\n                                      .map(ViewData::getManagerId)\n                                      .findFirst()\n                                      .orElse(null);\n\n    System.out.println(teamIds.length + \"\\n\");\n}\n</code></pre>\n"}],"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59486158,"answer_count":1,"score":1,"last_activity_date":1684691303,"creation_date":1577336238,"question_id":59483996,"body_markdown":"A table about employees has following data: employee Id, employee name, their manager&#39;s Id and their team members&#39; Id. Each employee would have multiple entries based on their team size. Say an employee with 5 other members in their team would have five rows with the employee and manager id repeated each with one team member&#39;s id.\r\n\r\nSample table:\r\n```\r\nemployeeId | employeeName | managerId | teamEmployeeId |\r\n-------------------------------------------------------\r\n1000 \t   | Alex         | 4000      | 1101           |\r\n1200 \t   | Bran         | 4100      | 1301           |\r\n1200 \t   | Bran         | 4100      | 1302           |\r\n1000 \t   | Alex         | 4000      | 1102           |\r\n1200 \t   | Bran         | 4100      | 1303           |\r\n1000 \t   | Alex         | 4000      | 1103           |\r\n1200 \t   | Bran         | 4100      | 1304           |\r\n1200 \t   | Bran         | 4100      | 1305           |\r\n1000 \t   | Alex         | 4000      | 1104           |\r\n```\r\n\r\nThe goal is to split each employees&#39; team IDs (with the manager id too) into a separate array to be used later.\r\n\r\n\r\nExpected result:\r\n```\r\nallIds:\r\n1000\r\n1200\r\n\r\nteamIds for &quot;Alex&quot; :\r\n1101\r\n1102\r\n1103\r\n1104\r\n4000\r\n\r\nteamIds for &quot;Bran&quot; :\r\n1301\r\n1302\r\n1303\r\n1304\r\n1305\r\n4100\r\n```\r\n\r\nThe first part of getting unique employee ids is working (based on this [answer](https://stackoverflow.com/questions/59470049/create-an-array-of-string-with-an-element-from-a-list/59470099)). But trying to split the team members by using the employee id returns the first value, but the correct number of times. Say: a team with 5 returns an array of five with the first member&#39;s id in all. Manager&#39;s id isn&#39;t being added.\r\n\r\nThe code I am using:\r\n\r\n```java\r\nList&lt;ViewData&gt; list = getDataList();\r\n        \r\nString[] allIds = list.parallelStream()\r\n    .map(ViewData::getId).distinct().toArray(String[]::new);\r\n        \r\nSystem.out.println(allIds.length + &quot;\\n&quot;);\r\n        \r\nfor (String id : allIds) {\r\n            \r\n    String[] teamIds = list.parallelStream()\r\n        .filter(row -&gt; row.getId().equals(id))\r\n        .map(ViewData::getTeamId).distinct()\r\n        .toArray(String[]::new);\r\n            \r\n    teamIds = Arrays.copyOf(teamIds, teamIds.length+1 );\r\n    teamIds[teamIds.length] = list.parallelStream()\r\n        .filter(obj -&gt; obj.getId().equals(id))\r\n        .map(ViewData::getManagerId).toString();\r\n    System.out.println(teamIds.length + &quot;\\n&quot;);\r\n}\r\n```\r\n\r\nI understand this is a logical error. All the docs I have referred for filter() shows the syntax is correct. My understanding is the filter() returns the entire row whose id matches with the one I am looping through and the map() takes out the team member&#39;s id from that row and finally everything is returned as a string array.\r\n\r\nWhere have I gone wrong? Writing the code or understanding how these functions work?\r\n\r\n----\r\n\r\nedit:\r\n\r\n&gt; if a table like this causes duplicates/repeat rows(particularly the exact number of time it is supposed to be present):\r\n\r\na view without a primary key (i.e., no guaranteed unique column ) needs a composite primary key derived by combining two columns that would then be unique.\r\n\r\n* Create a separate `@Embeddable` class for composite key combo\r\n\r\n* Add it to main model class: \r\n`@EmbeddedId private UniqueId uniqueId;`\r\n\r\n* Proceed with the exisiting logic as in the answer:\r\n\r\n```java\r\nfor (String id : allIds) {\r\n    String[] teamIds = list.stream()\r\n        .filter(row -&gt; row.getUniqueId().getId().equals(id))\r\n        .map(obj -&gt; obj.getUniqueId().getTeamEmployeeId())\r\n        .toArray(String[]::new);\r\n\r\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\r\n    teamIds[teamIds.length - 1] = list.stream()\r\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\r\n        .map(ViewData::getManagerId).findFirst().orElse(&quot;&quot;);            \r\n    \r\n    String empName = list.stream()\r\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\r\n        .map(ViewData::getName).findFirst().orElse(&quot;&quot;);\r\n}\r\n```\r\n\r\n___ \r\n\r\nUpdate: \r\n\r\nThis was a terribly complicated solution from a limited understanding of data structures. A simpler (slightly redundant) solution using Set&#39;s auto de-duplication:\r\n```java\r\nMap&lt;Integer, Set&lt;Integer&gt;&gt; res = new HashMap&lt;&gt;();\r\nemployeeDetails.forEach(o-&gt; {\r\n    Integer empId = o.empId;\r\n    if(!res.containsKey(empId)) res.put(empId, new HashSet&lt;&gt;());\r\n        res.get(empId).addAll(Set.of(o.teamMemberId, o.managerId));\r\n});\r\nreturn res;\r\n```\r\n\r\nEven this isn&#39;t a very optimal solution. It makes a lot of access and modification to the `res` map and its values. But in contrast to the previous approach this only goes through the list of records once. Some basic bench marking on both solutions shows the newer approach is 3-4 times faster for record of 1000 size and 10x for size in 100s.\r\n\r\nBut going 5000+ brings both closer as they both get bogged down by the number of objects created to store the results and their access.","title":"Extracting db column data with filter and map in Java8","body":"<p>A table about employees has following data: employee Id, employee name, their manager's Id and their team members' Id. Each employee would have multiple entries based on their team size. Say an employee with 5 other members in their team would have five rows with the employee and manager id repeated each with one team member's id.</p>\n<p>Sample table:</p>\n<pre><code>employeeId | employeeName | managerId | teamEmployeeId |\n-------------------------------------------------------\n1000       | Alex         | 4000      | 1101           |\n1200       | Bran         | 4100      | 1301           |\n1200       | Bran         | 4100      | 1302           |\n1000       | Alex         | 4000      | 1102           |\n1200       | Bran         | 4100      | 1303           |\n1000       | Alex         | 4000      | 1103           |\n1200       | Bran         | 4100      | 1304           |\n1200       | Bran         | 4100      | 1305           |\n1000       | Alex         | 4000      | 1104           |\n</code></pre>\n<p>The goal is to split each employees' team IDs (with the manager id too) into a separate array to be used later.</p>\n<p>Expected result:</p>\n<pre><code>allIds:\n1000\n1200\n\nteamIds for &quot;Alex&quot; :\n1101\n1102\n1103\n1104\n4000\n\nteamIds for &quot;Bran&quot; :\n1301\n1302\n1303\n1304\n1305\n4100\n</code></pre>\n<p>The first part of getting unique employee ids is working (based on this <a href=\"https://stackoverflow.com/questions/59470049/create-an-array-of-string-with-an-element-from-a-list/59470099\">answer</a>). But trying to split the team members by using the employee id returns the first value, but the correct number of times. Say: a team with 5 returns an array of five with the first member's id in all. Manager's id isn't being added.</p>\n<p>The code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ViewData&gt; list = getDataList();\n        \nString[] allIds = list.parallelStream()\n    .map(ViewData::getId).distinct().toArray(String[]::new);\n        \nSystem.out.println(allIds.length + &quot;\\n&quot;);\n        \nfor (String id : allIds) {\n            \n    String[] teamIds = list.parallelStream()\n        .filter(row -&gt; row.getId().equals(id))\n        .map(ViewData::getTeamId).distinct()\n        .toArray(String[]::new);\n            \n    teamIds = Arrays.copyOf(teamIds, teamIds.length+1 );\n    teamIds[teamIds.length] = list.parallelStream()\n        .filter(obj -&gt; obj.getId().equals(id))\n        .map(ViewData::getManagerId).toString();\n    System.out.println(teamIds.length + &quot;\\n&quot;);\n}\n</code></pre>\n<p>I understand this is a logical error. All the docs I have referred for filter() shows the syntax is correct. My understanding is the filter() returns the entire row whose id matches with the one I am looping through and the map() takes out the team member's id from that row and finally everything is returned as a string array.</p>\n<p>Where have I gone wrong? Writing the code or understanding how these functions work?</p>\n<hr />\n<p>edit:</p>\n<blockquote>\n<p>if a table like this causes duplicates/repeat rows(particularly the exact number of time it is supposed to be present):</p>\n</blockquote>\n<p>a view without a primary key (i.e., no guaranteed unique column ) needs a composite primary key derived by combining two columns that would then be unique.</p>\n<ul>\n<li><p>Create a separate <code>@Embeddable</code> class for composite key combo</p>\n</li>\n<li><p>Add it to main model class:\n<code>@EmbeddedId private UniqueId uniqueId;</code></p>\n</li>\n<li><p>Proceed with the exisiting logic as in the answer:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>for (String id : allIds) {\n    String[] teamIds = list.stream()\n        .filter(row -&gt; row.getUniqueId().getId().equals(id))\n        .map(obj -&gt; obj.getUniqueId().getTeamEmployeeId())\n        .toArray(String[]::new);\n\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\n    teamIds[teamIds.length - 1] = list.stream()\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\n        .map(ViewData::getManagerId).findFirst().orElse(&quot;&quot;);            \n    \n    String empName = list.stream()\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\n        .map(ViewData::getName).findFirst().orElse(&quot;&quot;);\n}\n</code></pre>\n<hr />\n<p>Update:</p>\n<p>This was a terribly complicated solution from a limited understanding of data structures. A simpler (slightly redundant) solution using Set's auto de-duplication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Set&lt;Integer&gt;&gt; res = new HashMap&lt;&gt;();\nemployeeDetails.forEach(o-&gt; {\n    Integer empId = o.empId;\n    if(!res.containsKey(empId)) res.put(empId, new HashSet&lt;&gt;());\n        res.get(empId).addAll(Set.of(o.teamMemberId, o.managerId));\n});\nreturn res;\n</code></pre>\n<p>Even this isn't a very optimal solution. It makes a lot of access and modification to the <code>res</code> map and its values. But in contrast to the previous approach this only goes through the list of records once. Some basic bench marking on both solutions shows the newer approach is 3-4 times faster for record of 1000 size and 10x for size in 100s.</p>\n<p>But going 5000+ brings both closer as they both get bogged down by the number of objects created to store the results and their access.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"score":4,"creation_date":1684689311,"post_id":76301050,"comment_id":134550148,"body_markdown":"Did you check in the default maven dependency download location? .m2 folder?","body":"Did you check in the default maven dependency download location? .m2 folder?"},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":1,"creation_date":1684689596,"post_id":76301050,"comment_id":134550190,"body_markdown":"OMG you&#39;re right ! they are there ! We should probably search for a duplicate to close this question","body":"OMG you&#39;re right ! they are there ! We should probably search for a duplicate to close this question"},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":3,"creation_date":1684689734,"post_id":76301050,"comment_id":134550212,"body_markdown":"I voted to close my question as a duplicate","body":"I voted to close my question as a duplicate"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684692934,"post_id":76301050,"comment_id":134550604,"body_markdown":"Aside: If you want to copy a project&#39;s JARs to a specific directory (e.g. so they are all in one place), you can use Maven&#39;s [copy-dependencies](https://stackoverflow.com/q/97640/12567365).","body":"Aside: If you want to copy a project&#39;s JARs to a specific directory (e.g. so they are all in one place), you can use Maven&#39;s <a href=\"https://stackoverflow.com/q/97640/12567365\">copy-dependencies</a>."}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684691190,"answer_count":0,"score":0,"last_activity_date":1684689135,"creation_date":1684689135,"question_id":76301050,"body_markdown":"When I use `mvn install`, it hides my downloaded files ! `[[mystery music]]`\r\n```java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    Logger logger = LoggerFactory.getLogger(Main.class);\r\n    logger.info(&quot;Example log from {}&quot;, Main.class.getSimpleName());\r\n  }\r\n}\r\n```\r\nI can manually download the relevant jars, and everything is fine:\r\n```bash\r\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar\r\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\r\n$ java -cp slf4j-api-2.0.7.jar:slf4j-simple-2.0.7.jar Main.java\r\n[main] INFO Main - Example log from Main\r\n```\r\nWhen I try using `pom.xml`, it doesn&#39;t work:\r\n```\r\n&lt;project&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nI *do* see the `*.jar` files get downloaded, but I have no idea where they end up\r\n```\r\n$ mvn install\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\r\n[INFO] Building my-app 1\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom (1.1 kB at 2.4 kB/s)\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar (16 kB at 139 kB/s)\r\n```","title":"Using maven as a dependency tool","body":"<p>When I use <code>mvn install</code>, it hides my downloaded files ! <code>[[mystery music]]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Logger logger = LoggerFactory.getLogger(Main.class);\n    logger.info(&quot;Example log from {}&quot;, Main.class.getSimpleName());\n  }\n}\n</code></pre>\n<p>I can manually download the relevant jars, and everything is fine:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\n$ java -cp slf4j-api-2.0.7.jar:slf4j-simple-2.0.7.jar Main.java\n[main] INFO Main - Example log from Main\n</code></pre>\n<p>When I try using <code>pom.xml</code>, it doesn't work:</p>\n<pre><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I <em>do</em> see the <code>*.jar</code> files get downloaded, but I have no idea where they end up</p>\n<pre><code>$ mvn install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\n[INFO] Building my-app 1\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom (1.1 kB at 2.4 kB/s)\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar (16 kB at 139 kB/s)\n</code></pre>\n"},{"tags":["java","ubuntu","elasticsearch","jupyter-notebook"],"owner":{"account_id":15248249,"reputation":400,"user_id":11002498,"display_name":"Skapis9999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684688350,"creation_date":1684688350,"question_id":76301006,"body_markdown":"I am trying to run [this](https://haystack.deepset.ai/tutorials/03_scalable_qa_system) google Colab example in a Jupyter notebook in visual code studio. (System: Ubuntu). When I try to Initialize the ElasticsearchDocumentStore, step 2 in the linked tutorial, I am getting the following error: `could not find java in bundled jdk at /home/user/Downloads/elasticsearch-7.9.2/jdk/bin/java`. \r\n\r\n\r\nI tried to implement the top (and accepted) reply on [this](https://stackoverflow.com/questions/64069739/elasticsearch-could-not-find-java-in-bundled-jdk-at-jdk-bin-java) question. Right now the `$JAVA_HOME` variable path is set correctly, `/usr/lib/jvm/java-11-openjdk-amd64`. When I am running a Java file with `/usr/lib/jvm/java-11-openjdk-amd64/bin/java` it runs perfectly. \r\n\r\n`/usr/lib/jvm/java-11-openjdk-amd64/bin` is shown in `PATH` when I run `printenv` **BUT** when I run `echo $JAVA_PATH` I get nothing back. \r\n\r\nWhen I run `java -version` I am getting this:\r\n\r\n`openjdk version &quot;11.0.19&quot; 2023-04-18\r\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)`\r\n","title":"Could not find java in bundled jdk running elastic search daemon","body":"<p>I am trying to run <a href=\"https://haystack.deepset.ai/tutorials/03_scalable_qa_system\" rel=\"nofollow noreferrer\">this</a> google Colab example in a Jupyter notebook in visual code studio. (System: Ubuntu). When I try to Initialize the ElasticsearchDocumentStore, step 2 in the linked tutorial, I am getting the following error: <code>could not find java in bundled jdk at /home/user/Downloads/elasticsearch-7.9.2/jdk/bin/java</code>.</p>\n<p>I tried to implement the top (and accepted) reply on <a href=\"https://stackoverflow.com/questions/64069739/elasticsearch-could-not-find-java-in-bundled-jdk-at-jdk-bin-java\">this</a> question. Right now the <code>$JAVA_HOME</code> variable path is set correctly, <code>/usr/lib/jvm/java-11-openjdk-amd64</code>. When I am running a Java file with <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code> it runs perfectly.</p>\n<p><code>/usr/lib/jvm/java-11-openjdk-amd64/bin</code> is shown in <code>PATH</code> when I run <code>printenv</code> <strong>BUT</strong> when I run <code>echo $JAVA_PATH</code> I get nothing back.</p>\n<p>When I run <code>java -version</code> I am getting this:</p>\n<p><code>openjdk version &quot;11.0.19&quot; 2023-04-18 OpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1) OpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)</code></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684693906,"post_id":76300934,"comment_id":134550736,"body_markdown":"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","body":"<a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684693996,"post_id":76300934,"comment_id":134550752,"body_markdown":"Ideas from MVC used @ https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730","body":"Ideas from MVC used @ <a href=\"https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730\" title=\"javafx 2 independent windows at once\">stackoverflow.com/questions/55668795/&hellip;</a>"}],"owner":{"account_id":28648588,"reputation":1,"user_id":21936048,"display_name":"Raghav Pottabathini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684703093,"answer_count":0,"score":0,"last_activity_date":1684687347,"creation_date":1684687347,"question_id":76300934,"body_markdown":"I making a productivity app for school. So I basically got a Scene switcher and it is reloading the .fxml file each time. So whatever values were stored in `taskListView` are now gone. I am new to java fx, and can someone help me fix this? \r\n\r\nHelloApplication.java:\r\n```\r\npackage com.example.newapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;scene2.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n        String cssFile = Objects.requireNonNull(getClass().getResource(&quot;style.css&quot;)).toExternalForm();\r\n        root.getStylesheets().add(cssFile);\r\n\r\n        Pane pane = new Pane(root);\r\n\r\n        // Create a circle\r\n        Circle circle = new Circle(8, Color.BLACK);\r\n        circle.setMouseTransparent(true);\r\n        pane.getChildren().add(circle);\r\n\r\n        // Update the circle&#39;s position based on mouse movement\r\n        pane.setOnMouseMoved(event -&gt; {\r\n            circle.setCenterX(event.getX());\r\n            circle.setCenterY(event.getY());\r\n        });\r\n\r\n        primaryStage.setTitle(&quot;To-Do List&quot;);\r\n        primaryStage.setScene(new Scene(pane));\r\n        primaryStage.setResizable(false);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nHelloController.java code:\r\n```\r\npackage com.example.newapp;\r\n\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class HelloController {\r\n\r\n    private Stage primaryStage;\r\n    private Scene scene;\r\n    private Parent scene1Root;\r\n    private Parent scene2Root;\r\n\r\n    @FXML\r\n    private ListView&lt;String&gt; taskListView;\r\n\r\n    @FXML\r\n    private TextField taskTextField;\r\n\r\n    @FXML\r\n    private void addTask() {\r\n        String task = taskTextField.getText();\r\n        if (!task.isEmpty()) {\r\n            taskListView.getItems().add(task);\r\n            taskTextField.clear();\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    private void removeTask() {\r\n        ObservableList&lt;String&gt; selectedTasks = taskListView.getSelectionModel().getSelectedItems();\r\n        taskListView.getItems().removeAll(selectedTasks);\r\n    }\r\n\r\n    public void switchToScene1(ActionEvent event) throws IOException {\r\n        if (scene1Root == null) {\r\n            scene1Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene1.fxml&quot;)));\r\n        }\r\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        scene = new Scene(scene1Root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public void switchToScene2(ActionEvent event) throws IOException {\r\n        if (scene2Root == null) {\r\n            scene2Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene2.fxml&quot;)));\r\n        }\r\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        scene = new Scene(scene2Root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried to load the .fxml separately, but it was not working for me it still kept clearing all the data in the `taskListView`.","title":"How to prevent reloading .fxml from clearing JavaFX taskListView values?","body":"<p>I making a productivity app for school. So I basically got a Scene switcher and it is reloading the .fxml file each time. So whatever values were stored in <code>taskListView</code> are now gone. I am new to java fx, and can someone help me fix this?</p>\n<p>HelloApplication.java:</p>\n<pre><code>package com.example.newapp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;scene2.fxml&quot;));\n        Parent root = loader.load();\n\n        String cssFile = Objects.requireNonNull(getClass().getResource(&quot;style.css&quot;)).toExternalForm();\n        root.getStylesheets().add(cssFile);\n\n        Pane pane = new Pane(root);\n\n        // Create a circle\n        Circle circle = new Circle(8, Color.BLACK);\n        circle.setMouseTransparent(true);\n        pane.getChildren().add(circle);\n\n        // Update the circle's position based on mouse movement\n        pane.setOnMouseMoved(event -&gt; {\n            circle.setCenterX(event.getX());\n            circle.setCenterY(event.getY());\n        });\n\n        primaryStage.setTitle(&quot;To-Do List&quot;);\n        primaryStage.setScene(new Scene(pane));\n        primaryStage.setResizable(false);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>HelloController.java code:</p>\n<pre><code>package com.example.newapp;\n\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class HelloController {\n\n    private Stage primaryStage;\n    private Scene scene;\n    private Parent scene1Root;\n    private Parent scene2Root;\n\n    @FXML\n    private ListView&lt;String&gt; taskListView;\n\n    @FXML\n    private TextField taskTextField;\n\n    @FXML\n    private void addTask() {\n        String task = taskTextField.getText();\n        if (!task.isEmpty()) {\n            taskListView.getItems().add(task);\n            taskTextField.clear();\n        }\n    }\n\n    @FXML\n    private void removeTask() {\n        ObservableList&lt;String&gt; selectedTasks = taskListView.getSelectionModel().getSelectedItems();\n        taskListView.getItems().removeAll(selectedTasks);\n    }\n\n    public void switchToScene1(ActionEvent event) throws IOException {\n        if (scene1Root == null) {\n            scene1Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene1.fxml&quot;)));\n        }\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(scene1Root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public void switchToScene2(ActionEvent event) throws IOException {\n        if (scene2Root == null) {\n            scene2Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene2.fxml&quot;)));\n        }\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(scene2Root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>I have tried to load the .fxml separately, but it was not working for me it still kept clearing all the data in the <code>taskListView</code>.</p>\n"},{"tags":["java","string","replace","replaceall"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1675058044,"post_id":75280607,"comment_id":132838805,"body_markdown":"You can use ```replaceAll()``` instead of ```replace()```.","body":"You can use <code>replaceAll()</code> instead of <code>replace()</code>."}],"answers":[{"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1675062021,"post_id":75280687,"comment_id":132839490,"body_markdown":"As long as you realize that it also replaces all non-alphanumerical characters (except white-space) like +, -, (, ), {, }, [, }, @, #, $, %, ^, &amp;, *, _, /, \\\\, |, etc.","body":"As long as you realize that it also replaces all non-alphanumerical characters (except white-space) like +, -, (, ), {, }, [, }, @, #, $, %, ^, &amp;, *, _, /, \\\\, |, etc."}],"tags":[],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675058131,"creation_date":1675058131,"answer_id":75280687,"question_id":75280607,"body_markdown":"Ok I find helpful and nice solution.\r\n\r\n    String line11 = line.replaceAll(&quot;[\\\\p{Punct}]&quot;, &quot;&quot;);","title":"Changing a few char for one the same","body":"<p>Ok I find helpful and nice solution.</p>\n<pre><code>String line11 = line.replaceAll(&quot;[\\\\p{Punct}]&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675058756,"creation_date":1675058756,"answer_id":75280762,"question_id":75280607,"body_markdown":"use replaceAll, and reg `[]`\r\n\r\n    String str = &quot;hellol,lol/,=o/l.o?ll\\no,llol&quot;;\r\n    str = str.replaceAll(&quot;[,=/\\\\n\\\\?\\\\.]&quot;, &quot;&quot;);\r\n    System.out.println(str);","title":"Changing a few char for one the same","body":"<p>use replaceAll, and reg <code>[]</code></p>\n<pre><code>String str = &quot;hellol,lol/,=o/l.o?ll\\no,llol&quot;;\nstr = str.replaceAll(&quot;[,=/\\\\n\\\\?\\\\.]&quot;, &quot;&quot;);\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27543947,"reputation":36,"user_id":21020237,"display_name":"Kavya Sree"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675061903,"creation_date":1675061903,"answer_id":75281072,"question_id":75280607,"body_markdown":"If we want to replace every punctuation mark then we can use the replaceAll() method in java to achieve that. replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)), This line makes a java compiler to understand every character other than alphabets(both lowercase and uppercase) to be replaced by &quot;&quot; i.e,empty. with this we can replace every punctuation marks in a particular string.\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            String line=&quot;Th@#is i*s a Ex()ample St!@ing!@&quot;;\r\n            System.out.println(line.replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;));\r\n\r\n        }\r\n    }","title":"Changing a few char for one the same","body":"<p>If we want to replace every punctuation mark then we can use the replaceAll() method in java to achieve that. replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)), This line makes a java compiler to understand every character other than alphabets(both lowercase and uppercase) to be replaced by &quot;&quot; i.e,empty. with this we can replace every punctuation marks in a particular string.</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        String line=&quot;Th@#is i*s a Ex()ample St!@ing!@&quot;;\n        System.out.println(line.replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684686480,"creation_date":1684686480,"answer_id":76300889,"question_id":75280607,"body_markdown":"`String.replace` is a builder method, so you can chain those calls.\r\n\r\n```java\r\nString line1 = line.replace(&quot;.&quot;, &quot;&quot;).replace(&quot;?&quot;, &quot;&quot;).replace(&quot;!&quot;, &quot;&quot;).replace(&quot;\\n&quot;, &quot;&quot;);\r\n```\r\n\r\nAlthough, using the `String.replaceAll` method is a better approach, if you know regular-expressions.\r\n\r\n```java\r\nString line1 = line.replaceAll(Pattern.quote(&quot;.?!&quot;) + &quot;\\\\n&quot;, &quot;&quot;);\r\n```","title":"Changing a few char for one the same","body":"<p><code>String.replace</code> is a builder method, so you can chain those calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line1 = line.replace(&quot;.&quot;, &quot;&quot;).replace(&quot;?&quot;, &quot;&quot;).replace(&quot;!&quot;, &quot;&quot;).replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Although, using the <code>String.replaceAll</code> method is a better approach, if you know regular-expressions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line1 = line.replaceAll(Pattern.quote(&quot;.?!&quot;) + &quot;\\\\n&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1684686480,"creation_date":1675057316,"question_id":75280607,"body_markdown":"I have question about String class in Java.\r\n\r\nI want remove every punctuation marks. To be exact I use replace() method and replace all marks for: &quot;&quot;;\r\n\r\nBut my question is can I do it more smoothly? Becouse now I replace every sign separately\r\n\r\n```\r\nString line1 = line.replace(&quot;.&quot;, &quot;&quot;);\r\nString line2 = line1.replace(&quot;?&quot;, &quot;&quot;);\r\nString line3 = line2.replace(&quot;!&quot;, &quot;&quot;);\r\nString line4 = line3.replace(&quot;\\n&quot;, &quot;&quot;);\r\n```","title":"Changing a few char for one the same","body":"<p>I have question about String class in Java.</p>\n<p>I want remove every punctuation marks. To be exact I use replace() method and replace all marks for: &quot;&quot;;</p>\n<p>But my question is can I do it more smoothly? Becouse now I replace every sign separately</p>\n<pre><code>String line1 = line.replace(&quot;.&quot;, &quot;&quot;);\nString line2 = line1.replace(&quot;?&quot;, &quot;&quot;);\nString line3 = line2.replace(&quot;!&quot;, &quot;&quot;);\nString line4 = line3.replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":["java","variables","initialization"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1684658753,"post_id":76299007,"comment_id":134546656,"body_markdown":"Can you share the complete method?","body":"Can you share the complete method?"},{"owner":{"account_id":28050289,"reputation":41,"user_id":21426307,"display_name":"efx"},"score":0,"creation_date":1684659060,"post_id":76299007,"comment_id":134546681,"body_markdown":"@Mureinik yup put it in just now.","body":"@Mureinik yup put it in just now."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1684659404,"post_id":76299007,"comment_id":134546715,"body_markdown":"&quot;Ongoing&quot; /&quot;Completed&quot; would definitely be improved by making them `enum`s.  You need to check your expectations, and/or do `if (projectProvince.getStage().equalsIgnoreCase(&quot;Ongoing&quot;))`","body":"&quot;Ongoing&quot; /&quot;Completed&quot; would definitely be improved by making them <code>enum</code>s.  You need to check your expectations, and/or do <code>if (projectProvince.getStage().equalsIgnoreCase(&quot;Ongoing&quot;))</code>"},{"owner":{"account_id":28050289,"reputation":41,"user_id":21426307,"display_name":"efx"},"score":0,"creation_date":1684659768,"post_id":76299007,"comment_id":134546750,"body_markdown":"@g00se I looked them up and they do look effective, but since we haven&#39;t covered them in our uni course just yet, we aren&#39;t allowed to use them for this assignment.","body":"@g00se I looked them up and they do look effective, but since we haven&#39;t covered them in our uni course just yet, we aren&#39;t allowed to use them for this assignment."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1684660750,"post_id":76299007,"comment_id":134546848,"body_markdown":"@efx, if they are staying at `0`, then the `if` conditional-statements are not evaluating as `true`.  Are you positive the return value of either is that exact text; `equals` is case-sensative.","body":"@efx, if they are staying at <code>0</code>, then the <code>if</code> conditional-statements are not evaluating as <code>true</code>.  Are you positive the return value of either is that exact text; <code>equals</code> is case-sensative."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684660921,"post_id":76299007,"comment_id":134546862,"body_markdown":"@efx, I recommend placing a breakpoint on the first `if` statement, and using a debugging process to derive the value from the `getStage` method.","body":"@efx, I recommend placing a breakpoint on the first <code>if</code> statement, and using a debugging process to derive the value from the <code>getStage</code> method."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684663648,"post_id":76299007,"comment_id":134547124,"body_markdown":"btw I note the field `PROJECT_STAGE_EN` is missing even from one of the sample data lines you&#39;ve already posted in your other question","body":"btw I note the field <code>PROJECT_STAGE_EN</code> is missing even from one of the sample data lines you&#39;ve already posted in your other question"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684681495,"post_id":76299007,"comment_id":134549197,"body_markdown":"https://en.wikipedia.org/wiki/Debugger","body":"<a href=\"https://en.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Debugger</a>"}],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684685484,"creation_date":1684685484,"answer_id":76300812,"question_id":76299007,"body_markdown":"There is nothing wrong with the increment of yours,&lt;br&gt;\r\nbut many other places can be improved.&lt;br&gt;\r\nYou can split a method into multiple ones,&lt;br&gt;\r\nand polish them, to decrease code complexity,&lt;br&gt;\r\nand improve maintainability. Like this way:\r\n\r\n    void printHelp() {\r\n      final var help = &quot;&quot;&quot;\r\n          1 &gt; Number of projects\r\n          2 &gt; Percentage of all projects located in this province/territory\r\n          3 &gt; Total number and percentage of ongoing projects\r\n          4 &gt; Total number and percentage of completed projects\r\n          5 &gt; All of the above statistics\r\n          0 &gt; Return to main menu\r\n          &quot;&quot;&quot;;\r\n      System.out.println(help);\r\n    }\r\n\r\n    void interactWithRegions(String projectRegion) {\r\n      Scanner input = new Scanner(System.in);\r\n      showProjectDetails(input);\r\n      input.close();\r\n    }\r\n\r\n\r\nAnd if you need to return two numbers from a method,&lt;br&gt;\r\nyou can either use List&lt;Integer&gt; or an array: int[].&lt;br&gt;\r\nAnd don&#39;t hesitate to use whole names for your variables,&lt;br&gt;\r\n&#39;userChoice&#39; is better than &#39;userCh&#39;.","title":"How to properly increment initialized variables in Java?","body":"<p>There is nothing wrong with the increment of yours,<br>\nbut many other places can be improved.<br>\nYou can split a method into multiple ones,<br>\nand polish them, to decrease code complexity,<br>\nand improve maintainability. Like this way:</p>\n<pre><code>void printHelp() {\n  final var help = &quot;&quot;&quot;\n      1 &gt; Number of projects\n      2 &gt; Percentage of all projects located in this province/territory\n      3 &gt; Total number and percentage of ongoing projects\n      4 &gt; Total number and percentage of completed projects\n      5 &gt; All of the above statistics\n      0 &gt; Return to main menu\n      &quot;&quot;&quot;;\n  System.out.println(help);\n}\n\nvoid interactWithRegions(String projectRegion) {\n  Scanner input = new Scanner(System.in);\n  showProjectDetails(input);\n  input.close();\n}\n</code></pre>\n<p>And if you need to return two numbers from a method,<br>\nyou can either use List or an array: int[].<br>\nAnd don't hesitate to use whole names for your variables,<br>\n'userChoice' is better than 'userCh'.</p>\n"}],"owner":{"account_id":28050289,"reputation":41,"user_id":21426307,"display_name":"efx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684685484,"creation_date":1684658639,"question_id":76299007,"body_markdown":"In my dataset, I&#39;ve got a mixture of ongoing and completed projects. I want to make it so that each time &quot;Ongoing&quot; is found, the variable &quot;ongoing&quot; increases by 1, and the same for &quot;Completed&quot;. However, I had to initialize these variables, so I made them 0. Now, they stay zero, even though they&#39;re supposed to increase by 1. \r\n\r\n\r\n```\r\npublic static void regions(String pRegion) { // variable region is out of scope; passed into variable pRegion \r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\tint userCh;\r\n\tProject projectProvince = new Project();\r\n\tSystem.out.println(&quot;Please make a choice from the statistics below for &quot;+pRegion+&quot;.&quot;);\r\n\t\r\n\tSystem.out.println(&quot;1 &gt; Number of projects\\n2 &gt; Percentage of all projects located in this province/territory\\n3 &gt; Total number and percentage of ongoing projects\\n&quot;\r\n\t\t\t+ &quot;4 Total number and percentage of completed projects\\n5 &gt; All of the above statistics\\n00 &gt; Return to main menu\\n&quot;);\r\n\tuserCh = input.nextInt();\r\n\t\r\n\tint howManyProvince = countItemsForProvince(pRegion);\r\n\tdouble percentageProvince = ((double)howManyProvince/(double)linesInFileCount)*100;\r\n\t\r\n\tint ongoing = 0;\r\n\tint completed = 0;\r\n\tif (projectProvince.getStage().equals(&quot;Ongoing&quot;)) {\t\t\r\n\t\tongoing++;\r\n\t}\r\n\telse if (projectProvince.getStage().equals(&quot;Completed&quot;)) {\r\n\t\tcompleted++;\r\n\t}\r\n\t\r\n\tswitch (userCh) {\r\n\tcase 1:\t\r\n\t    System.out.println(&quot;Number of projects: &quot;+howManyProvince);\r\n\t    break;\r\n\tcase 2:\t\t\r\n\t\tSystem.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%&quot;);\r\n\t\tbreak;\r\n\tcase 3:\r\n\t\tSystem.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince);\r\n\t\tbreak;\r\n\tcase 4:\r\n\t\tSystem.out.println(&quot;Number of ongoing projects: &quot;+completed);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince);\r\n\t\tbreak;\r\n\tcase 5:\r\n\t    System.out.println(&quot;Number of projects: &quot;+howManyProvince+&quot;\\n&quot;);\r\n\t    System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%\\n&quot;);\r\n\t    System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince+&quot;\\n&quot;);\r\n\t\tSystem.out.println(&quot;Number of ongoing projects: &quot;+completed);\r\n\t\tSystem.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince+&quot;\\n&quot;);\r\n\t\tbreak;\r\n\t}\r\n\t\r\n\t\r\n//\tint ongoingCountForRegion = countItemsForProvinceAtStage(pRegion,&quot;Ongoing&quot;);\r\n//\t\r\n//    int howManyProvince = countItemsForProvince(pRegion);\r\n//    System.out.println(howManyProvince);\r\n//    \r\n\tinput.close();\r\n}\r\n```\r\n\r\n\r\nI tried to &#39;return&#39; the variables, but I couldn&#39;t, because the method is void. I also tried to place the initialized variables within the if-else block itself, but it didn&#39;t work, because I use these variables in a switch case immediately after\r\n\r\n\r\n\r\n\r\n","title":"How to properly increment initialized variables in Java?","body":"<p>In my dataset, I've got a mixture of ongoing and completed projects. I want to make it so that each time &quot;Ongoing&quot; is found, the variable &quot;ongoing&quot; increases by 1, and the same for &quot;Completed&quot;. However, I had to initialize these variables, so I made them 0. Now, they stay zero, even though they're supposed to increase by 1.</p>\n<pre><code>public static void regions(String pRegion) { // variable region is out of scope; passed into variable pRegion \n    \n    Scanner input = new Scanner(System.in);\n    int userCh;\n    Project projectProvince = new Project();\n    System.out.println(&quot;Please make a choice from the statistics below for &quot;+pRegion+&quot;.&quot;);\n    \n    System.out.println(&quot;1 &gt; Number of projects\\n2 &gt; Percentage of all projects located in this province/territory\\n3 &gt; Total number and percentage of ongoing projects\\n&quot;\n            + &quot;4 Total number and percentage of completed projects\\n5 &gt; All of the above statistics\\n00 &gt; Return to main menu\\n&quot;);\n    userCh = input.nextInt();\n    \n    int howManyProvince = countItemsForProvince(pRegion);\n    double percentageProvince = ((double)howManyProvince/(double)linesInFileCount)*100;\n    \n    int ongoing = 0;\n    int completed = 0;\n    if (projectProvince.getStage().equals(&quot;Ongoing&quot;)) {     \n        ongoing++;\n    }\n    else if (projectProvince.getStage().equals(&quot;Completed&quot;)) {\n        completed++;\n    }\n    \n    switch (userCh) {\n    case 1: \n        System.out.println(&quot;Number of projects: &quot;+howManyProvince);\n        break;\n    case 2:     \n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%&quot;);\n        break;\n    case 3:\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince);\n        break;\n    case 4:\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince);\n        break;\n    case 5:\n        System.out.println(&quot;Number of projects: &quot;+howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince+&quot;\\n&quot;);\n        break;\n    }\n    \n    \n//  int ongoingCountForRegion = countItemsForProvinceAtStage(pRegion,&quot;Ongoing&quot;);\n//  \n//    int howManyProvince = countItemsForProvince(pRegion);\n//    System.out.println(howManyProvince);\n//    \n    input.close();\n}\n</code></pre>\n<p>I tried to 'return' the variables, but I couldn't, because the method is void. I also tried to place the initialized variables within the if-else block itself, but it didn't work, because I use these variables in a switch case immediately after</p>\n"},{"tags":["java","jvm","oolong"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1340264602,"post_id":11132377,"comment_id":14592086,"body_markdown":"See the [Java Virtual Machine Specification](http://docs.oracle.com/javase/specs/jvms/se7/html/index.html) - it specifies the Java bytecode instructions.","body":"See the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/index.html\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a> - it specifies the Java bytecode instructions."},{"owner":{"account_id":97325,"reputation":62295,"user_id":264052,"accept_rate":66,"display_name":"smwikipedia"},"score":0,"creation_date":1436257103,"post_id":11132377,"comment_id":50521717,"body_markdown":"@Sergey I am looking for the book `Programming for Java Virtual Machine`, do you have a pdf? Thx.","body":"@Sergey I am looking for the book <code>Programming for Java Virtual Machine</code>, do you have a pdf? Thx."}],"answers":[{"comments":[{"owner":{"account_id":74547,"reputation":14635,"user_id":214149,"accept_rate":93,"display_name":"Mac"},"score":0,"creation_date":1340357760,"post_id":11132811,"comment_id":14624946,"body_markdown":"I don&#39;t recall the OP asking about the origin of the name, how the Java language is compiled is largely irrelevant to the question, and Java bytecode is *not* &quot;assembly language to the JVM&quot;.","body":"I don&#39;t recall the OP asking about the origin of the name, how the Java language is compiled is largely irrelevant to the question, and Java bytecode is <i>not</i> &quot;assembly language to the JVM&quot;."}],"tags":[],"owner":{"account_id":1587150,"reputation":7,"user_id":1471217,"display_name":"Kenny Ho"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1340260723,"creation_date":1340260723,"answer_id":11132811,"question_id":11132377,"body_markdown":"Oolong is chinese tea and the name is not important.\r\nRemember that Java language is compiled by java compiler.\r\nJava Bytecode is not an assembly language but you can regard it as assembly language to (JVM)Java Virtual Machine.","title":"What is Oolong in terms of JVM?","body":"<p>Oolong is chinese tea and the name is not important.\nRemember that Java language is compiled by java compiler.\nJava Bytecode is not an assembly language but you can regard it as assembly language to (JVM)Java Virtual Machine.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1684685398,"creation_date":1340261620,"answer_id":11132993,"question_id":11132377,"body_markdown":"Joshua Engel&#39;s Oolong&lt;sup&gt;1&lt;/sup&gt; is an assembly language for the JVM.  \r\n\r\n&gt; ... why is it called assembly language?\r\n\r\nYou are best off looking up what &quot;assembly language&quot; means in (for example) [Wikipedia][1].  It is essentially a language that has a direct one-to-one mapping&lt;sup&gt;2&lt;/sup&gt; between &quot;statements&quot; and machine instructions for the target machine.  OOlong matches this description, if you view the JVM as the target machine.  (There is a one-to-one mapping between Oolong statements and JVM bytecode instructions.)\r\n\r\n&gt; The syntax of Jasmin files(which also have .j extension) looks like Oolong&#39;s syntax. Is it used there?\r\n\r\nI&#39;ve seen sources that say that Oolong&#39;s syntax is &quot;based on Jasmin&quot;, but I can&#39;t find any stand-alone documents describing the syntax in any detail.\r\n\r\nIf you are interested in looking at Oolong, this SO question has details on where to download it from: \r\n\r\n  * https://stackoverflow.com/questions/4505808/where-is-the-source-code-for-oolong-and-gnoloo\r\n\r\n-----------\r\n\r\n&lt;sup&gt;1 - There is another unrelated Oolong programming language; see https://github.com/thesquaregroot/oolong.  And then there is Castegren\r\n&amp; Wrigstad&#39;s [OOlong: An Extensible Concurrent Object Calculus](https://uu.diva-portal.org/smash/get/diva2:1161805/FULLTEXT01.pdf).&lt;br&gt;\r\n2 - I am oversimplifying.  Some assembly languages support &quot;macros&quot; where a single source statement can map to multiple target instructions.  Read the Wikipedia reference.&lt;/sup&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Assembly_language","title":"What is Oolong in terms of JVM?","body":"<p>Joshua Engel's Oolong<sup>1</sup> is an assembly language for the JVM.</p>\n<blockquote>\n<p>... why is it called assembly language?</p>\n</blockquote>\n<p>You are best off looking up what &quot;assembly language&quot; means in (for example) <a href=\"https://en.wikipedia.org/wiki/Assembly_language\" rel=\"nofollow noreferrer\">Wikipedia</a>.  It is essentially a language that has a direct one-to-one mapping<sup>2</sup> between &quot;statements&quot; and machine instructions for the target machine.  OOlong matches this description, if you view the JVM as the target machine.  (There is a one-to-one mapping between Oolong statements and JVM bytecode instructions.)</p>\n<blockquote>\n<p>The syntax of Jasmin files(which also have .j extension) looks like Oolong's syntax. Is it used there?</p>\n</blockquote>\n<p>I've seen sources that say that Oolong's syntax is &quot;based on Jasmin&quot;, but I can't find any stand-alone documents describing the syntax in any detail.</p>\n<p>If you are interested in looking at Oolong, this SO question has details on where to download it from:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4505808/where-is-the-source-code-for-oolong-and-gnoloo\">where is the source code for Oolong and Gnoloo?</a></li>\n</ul>\n<hr />\n<p><sup>1 - There is another unrelated Oolong programming language; see <a href=\"https://github.com/thesquaregroot/oolong\" rel=\"nofollow noreferrer\">https://github.com/thesquaregroot/oolong</a>.  And then there is Castegren\n&amp; Wrigstad's <a href=\"https://uu.diva-portal.org/smash/get/diva2:1161805/FULLTEXT01.pdf\" rel=\"nofollow noreferrer\">OOlong: An Extensible Concurrent Object Calculus</a>.<br>\n2 - I am oversimplifying.  Some assembly languages support &quot;macros&quot; where a single source statement can map to multiple target instructions.  Read the Wikipedia reference.</sup></p>\n"},{"tags":[],"owner":{"account_id":3263887,"reputation":1,"user_id":2748794,"display_name":"Mike Shapiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378338517,"creation_date":1378338517,"answer_id":18625610,"question_id":11132377,"body_markdown":"It uses a stack, stack frame, and has bytecodes that  correspond to real assembly language.  It also has higher level instructions that will retrieve fields from memory, but not directly.  You have to use getfield, putfield, invokespecial etc. Since JVM does not run in a true hardware environment(like the Unix Kernel) it does not do any of the heavy lifting that a real OS does like crafting processes, worrying about time slices and servicing interrupts, communicating with device drivers and on and on.  I would have to say JVM is middleware between Java and the native OS.  It is exactly what they call it .... a Virtual machine.","title":"What is Oolong in terms of JVM?","body":"<p>It uses a stack, stack frame, and has bytecodes that  correspond to real assembly language.  It also has higher level instructions that will retrieve fields from memory, but not directly.  You have to use getfield, putfield, invokespecial etc. Since JVM does not run in a true hardware environment(like the Unix Kernel) it does not do any of the heavy lifting that a real OS does like crafting processes, worrying about time slices and servicing interrupts, communicating with device drivers and on and on.  I would have to say JVM is middleware between Java and the native OS.  It is exactly what they call it .... a Virtual machine.</p>\n"}],"owner":{"account_id":286506,"reputation":11608,"user_id":585795,"accept_rate":89,"display_name":"Sergey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1797,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11132993,"answer_count":3,"score":4,"last_activity_date":1684685398,"creation_date":1340258512,"question_id":11132377,"body_markdown":"I&#39;m reading &quot;Programming for Java Virtual Machine&quot; by Joshua Engel book where the author offers &quot;an assembly language for JVM&quot; called Oolong.\r\n\r\nAs far as I understand this is the language which is compiled into java bytecode and which is really similar to the original java bytecode(big number of bytecode opcodes are used there). If it&#39;s so then why is it called assembly language? Is that because it&#39;s low-level language and looks like a bytecode?\r\n\r\nAnother question is about Jasmin. As Wikipedia says it&#39;s &quot;a free open source assembler to create class files from human readable assembler-like syntax using the Java Virtual Machine instruction sets&quot;. The syntax of Jasmin files(which also have .j extension) looks like Oolong&#39;s syntax. Is it used there?","title":"What is Oolong in terms of JVM?","body":"<p>I'm reading \"Programming for Java Virtual Machine\" by Joshua Engel book where the author offers \"an assembly language for JVM\" called Oolong.</p>\n\n<p>As far as I understand this is the language which is compiled into java bytecode and which is really similar to the original java bytecode(big number of bytecode opcodes are used there). If it's so then why is it called assembly language? Is that because it's low-level language and looks like a bytecode?</p>\n\n<p>Another question is about Jasmin. As Wikipedia says it's \"a free open source assembler to create class files from human readable assembler-like syntax using the Java Virtual Machine instruction sets\". The syntax of Jasmin files(which also have .j extension) looks like Oolong's syntax. Is it used there?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1675149614,"post_id":75293489,"comment_id":132860970,"body_markdown":"I added this condition to the filter of pattern matching,seemed to be working can anyone verify if its accurate:\nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);","body":"I added this condition to the filter of pattern matching,seemed to be working can anyone verify if its accurate: Pattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675150712,"post_id":75293489,"comment_id":132861231,"body_markdown":"that does look accurate.","body":"that does look accurate."}],"answers":[{"comments":[{"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"score":0,"creation_date":1675149668,"post_id":75293753,"comment_id":132860983,"body_markdown":"Yes you got it right,managed to add another pattern just like this \n(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);","body":"Yes you got it right,managed to add another pattern just like this  (&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);"}],"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675149273,"creation_date":1675149273,"answer_id":75293753,"question_id":75293489,"body_markdown":"The way the question is phrased makes it hard to see what the requirements are. Are you just looking for help with creating another pattern which matches your second set of files? If so, you could use `Pattern.compile(&quot;S.{4}&quot;)`.","title":"Pattern matching in java with different pattern sets","body":"<p>The way the question is phrased makes it hard to see what the requirements are. Are you just looking for help with creating another pattern which matches your second set of files? If so, you could use <code>Pattern.compile(&quot;S.{4}&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684685149,"creation_date":1684685149,"answer_id":76300784,"question_id":75293489,"body_markdown":"You can add the following pattern, to your current pattern using the `|` specifier.  \r\nThe `|` is equivalent to implying an &quot;or&quot; condition; e.g., `A|B` = A or B.\r\n\r\n```regex\r\nS.{4}\r\n```\r\n\r\nSo the full pattern will be the following.\r\n\r\n```regex\r\n[12]PR[K-Z]\\d{5}|S.{4}\r\n```\r\n\r\nFurthermore, you can simplify your code to a `String.matches` call, which is equivalent to your current code, it does the same thing.\r\n\r\n```java\r\nboolean matchFound = inputfield.matches(&quot;[12]PR[K-Z]\\\\d{5}|S.{4}&quot;);\r\n```","title":"Pattern matching in java with different pattern sets","body":"<p>You can add the following pattern, to your current pattern using the <code>|</code> specifier.<br />\nThe <code>|</code> is equivalent to implying an &quot;or&quot; condition; e.g., <code>A|B</code> = A or B.</p>\n<pre><code>S.{4}\n</code></pre>\n<p>So the full pattern will be the following.</p>\n<pre><code>[12]PR[K-Z]\\d{5}|S.{4}\n</code></pre>\n<p>Furthermore, you can simplify your code to a <code>String.matches</code> call, which is equivalent to your current code, it does the same thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean matchFound = inputfield.matches(&quot;[12]PR[K-Z]\\\\d{5}|S.{4}&quot;);\n</code></pre>\n"}],"owner":{"account_id":26613510,"reputation":23,"user_id":20233333,"display_name":"Emilia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684685149,"creation_date":1675147371,"question_id":75293489,"body_markdown":"I am trying to specify a pattern matching criteria in java for 2 set of filenames.One that begins like 1PRW12345 or 2PRZ32145 and other  set with SCA1W or SB1FC or any variant that starts with S and has a 5 character limit size\r\n\r\nEssentially one of them has been handled like below,how do i open up for other set of files that starts with S alphabet and has 5 characters in them like mentioned above to the existing pattern matching string\r\n\r\nIf the matchfound is true,i will perform a set of operations.But now i want to include S series with 5 characters limit to the existing pattern match,please advise\r\n\r\n```\r\nString inputfield=&quot;1PRW12345&quot;;\t\r\nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \r\n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\r\n         \t    boolean matchFound = matcher.find();\r\n```\r\n\r\n```\r\nString inputfield=&quot;1PRW12345&quot;;\t\r\nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \r\n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\r\n         \t    boolean matchFound = matcher.find();\r\n```","title":"Pattern matching in java with different pattern sets","body":"<p>I am trying to specify a pattern matching criteria in java for 2 set of filenames.One that begins like 1PRW12345 or 2PRZ32145 and other  set with SCA1W or SB1FC or any variant that starts with S and has a 5 character limit size</p>\n<p>Essentially one of them has been handled like below,how do i open up for other set of files that starts with S alphabet and has 5 characters in them like mentioned above to the existing pattern matching string</p>\n<p>If the matchfound is true,i will perform a set of operations.But now i want to include S series with 5 characters limit to the existing pattern match,please advise</p>\n<pre><code>String inputfield=&quot;1PRW12345&quot;;  \nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\n                boolean matchFound = matcher.find();\n</code></pre>\n<pre><code>String inputfield=&quot;1PRW12345&quot;;  \nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\n                boolean matchFound = matcher.find();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1684673936,"post_id":76299997,"comment_id":134548322,"body_markdown":"You have to call `http://localhost:8080/api/heroes/buscar/Pisicola` to hit the mentioned endpoint","body":"You have to call <code>http:&#47;&#47;localhost:8080&#47;api&#47;heroes&#47;buscar&#47;Pisicola</code> to hit the mentioned endpoint"}],"answers":[{"comments":[{"owner":{"account_id":18779514,"reputation":99,"user_id":13694486,"display_name":"Dox"},"score":0,"creation_date":1684675726,"post_id":76300079,"comment_id":134548518,"body_markdown":"I tried it before posting the problem, and none of both works :(\nThe same error message appears","body":"I tried it before posting the problem, and none of both works :( The same error message appears"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684684494,"creation_date":1684674874,"answer_id":76300079,"question_id":76299997,"body_markdown":"In your controller you are mixing the URL syntax for `PathVariable` and `RequestParameter`.\r\n\r\nFor `RequestParameter` should be:\r\n\r\n    @GetMapping(&quot;/buscar&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n\r\nAnd URL:\r\n\r\n    http://localhost:8080/api/heroes/buscar?name=Pisicola\r\n\r\nFor `PathVariable` should be:\r\n\r\n    @GetMapping(&quot;/buscar/{name}&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@PathVariable String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n\r\nAnd URL:\r\n\r\n    http://localhost:8080/api/heroes/buscar/Pisicola\r\n\r\nEDIT: the above examples are valid but won&#39;t fix the issue. You are using the `spring-boot-starter-data-rest` and your repository is annotated with `@RepositoryRestResource`. This cause some endpoints to be generated automatically by Spring. One of them is `/api/heroes/{id}` which takes a long as a path variable. This cause the issue when you are calling it with a string: `/api/heroes/buscar` You should avoid ambiguity when defining endpoints on top of the generated ones. \r\n","title":"Problem trying to get information using Spring boot","body":"<p>In your controller you are mixing the URL syntax for <code>PathVariable</code> and <code>RequestParameter</code>.</p>\n<p>For <code>RequestParameter</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>For <code>PathVariable</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@PathVariable String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar/Pisicola\n</code></pre>\n<p>EDIT: the above examples are valid but won't fix the issue. You are using the <code>spring-boot-starter-data-rest</code> and your repository is annotated with <code>@RepositoryRestResource</code>. This cause some endpoints to be generated automatically by Spring. One of them is <code>/api/heroes/{id}</code> which takes a long as a path variable. This cause the issue when you are calling it with a string: <code>/api/heroes/buscar</code> You should avoid ambiguity when defining endpoints on top of the generated ones.</p>\n"},{"tags":[],"owner":{"account_id":18779514,"reputation":99,"user_id":13694486,"display_name":"Dox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684683779,"creation_date":1684683779,"answer_id":76300690,"question_id":76299997,"body_markdown":"I actually solved the error.\r\nThe problem was that I was declaring that the RequestMapping was &quot;/api/heroes/&quot;, but I was declaring in the application.properties file that the context.path is &quot;api&quot;.\r\n\r\n```\r\nserver.servlet.context-path=/api\r\n```\r\n\r\nSo the change is from:\r\n```\r\n@RequestMapping(&quot;/api/heroes/&quot;)\r\n```\r\n\r\nto\r\n\r\n```\r\n@RequestMapping(&quot;/heroes/&quot;)\r\n```\r\n\r\n","title":"Problem trying to get information using Spring boot","body":"<p>I actually solved the error.\nThe problem was that I was declaring that the RequestMapping was &quot;/api/heroes/&quot;, but I was declaring in the application.properties file that the context.path is &quot;api&quot;.</p>\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n<p>So the change is from:</p>\n<pre><code>@RequestMapping(&quot;/api/heroes/&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>@RequestMapping(&quot;/heroes/&quot;)\n</code></pre>\n"}],"owner":{"account_id":18779514,"reputation":99,"user_id":13694486,"display_name":"Dox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1684684494,"creation_date":1684673535,"question_id":76299997,"body_markdown":"I&#39;m trying to get a hero by his name with the next method in the controller:\r\n\r\n```\r\n@GetMapping(&quot;/buscar/{name}&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n```\r\n\r\nBut when I use POSTMAN to get the information with the next line:\r\n```\r\nhttp://localhost:8080/api/heroes/buscar?name=Pisicola\r\n```\r\n\r\nIt shows me this:\r\n\r\n```\r\n{\r\n    &quot;cause&quot;: {\r\n        &quot;cause&quot;: null,\r\n        &quot;message&quot;: &quot;For input string: \\&quot;buscar\\&quot;&quot;\r\n    },\r\n    &quot;message&quot;: &quot;Failed to convert from type [java.lang.String] to type [java.lang.Long] for value [buscar]&quot;\r\n}\r\n```\r\n\r\nInstead of the information of the Hero.\r\n\r\nThis is all the code I have related to the problem:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/heroes&quot;)\r\npublic class HeroController {\r\n\r\n    @Autowired\r\n    private HeroesRepository heroesRepository;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Heroe&gt; createHeroe(@RequestBody Heroe heroe) {\r\n        Heroe savedHeroe = heroesRepository.save(heroe);\r\n        return new ResponseEntity&lt;&gt;(savedHeroe, HttpStatus.CREATED);\r\n    }\r\n\r\n    public ResponseEntity&lt;Heroe&gt; getHeroeById(long id) {\r\n        Heroe heroe = heroesRepository.findById(id).orElseThrow();\r\n        return new ResponseEntity&lt;&gt;(heroe, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/buscar/{name}&quot;)\r\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\r\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\r\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\r\n    }\r\n\r\n    public ResponseEntity&lt;Heroe&gt; updateHeroe(long id, Heroe heroe) {\r\n        Heroe updatedHeroe = heroesRepository.save(heroe);\r\n        return new ResponseEntity&lt;&gt;(updatedHeroe, HttpStatus.OK);\r\n    }\r\n\r\n    public ResponseEntity&lt;Heroe&gt; deleteHeroe(long id) {\r\n        heroesRepository.deleteById(id);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@RepositoryRestResource\r\npublic interface HeroesRepository extends JpaRepository&lt;Heroe, Long&gt; {\r\n\r\n    List&lt;Heroe&gt; findByName(String name);\r\n\r\n}\r\n```","title":"Problem trying to get information using Spring boot","body":"<p>I'm trying to get a hero by his name with the next method in the controller:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n</code></pre>\n<p>But when I use POSTMAN to get the information with the next line:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>It shows me this:</p>\n<pre><code>{\n    &quot;cause&quot;: {\n        &quot;cause&quot;: null,\n        &quot;message&quot;: &quot;For input string: \\&quot;buscar\\&quot;&quot;\n    },\n    &quot;message&quot;: &quot;Failed to convert from type [java.lang.String] to type [java.lang.Long] for value [buscar]&quot;\n}\n</code></pre>\n<p>Instead of the information of the Hero.</p>\n<p>This is all the code I have related to the problem:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/heroes&quot;)\npublic class HeroController {\n\n    @Autowired\n    private HeroesRepository heroesRepository;\n\n    @PostMapping\n    public ResponseEntity&lt;Heroe&gt; createHeroe(@RequestBody Heroe heroe) {\n        Heroe savedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(savedHeroe, HttpStatus.CREATED);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; getHeroeById(long id) {\n        Heroe heroe = heroesRepository.findById(id).orElseThrow();\n        return new ResponseEntity&lt;&gt;(heroe, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; updateHeroe(long id, Heroe heroe) {\n        Heroe updatedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(updatedHeroe, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; deleteHeroe(long id) {\n        heroesRepository.deleteById(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n}\n\n</code></pre>\n<pre><code>@RepositoryRestResource\npublic interface HeroesRepository extends JpaRepository&lt;Heroe, Long&gt; {\n\n    List&lt;Heroe&gt; findByName(String name);\n\n}\n</code></pre>\n"},{"tags":["java","c#","arrays","string","object"],"comments":[{"owner":{"account_id":6902424,"reputation":1394,"user_id":5301606,"display_name":"C. Helling"},"score":2,"creation_date":1675271475,"post_id":75313631,"comment_id":132894171,"body_markdown":"Looks like a homework help question, but the quickest (not cleanest) way to modify your code is to move the new Person() inside your loop, and instead of incrementing the array by one each time, increment it by `i += 3`, i.e. create your entire Person in one loop.","body":"Looks like a homework help question, but the quickest (not cleanest) way to modify your code is to move the new Person() inside your loop, and instead of incrementing the array by one each time, increment it by <code>i += 3</code>, i.e. create your entire Person in one loop."},{"owner":{"account_id":407442,"reputation":1240,"user_id":777522,"accept_rate":67,"display_name":"Ralf"},"score":1,"creation_date":1675271849,"post_id":75313631,"comment_id":132894309,"body_markdown":"Since you are asking for best. Start with not using a Flat Array to store object data in memory.","body":"Since you are asking for best. Start with not using a Flat Array to store object data in memory."},{"owner":{"account_id":15938416,"reputation":45,"user_id":11500927,"display_name":"Jesus Hamdi"},"score":0,"creation_date":1675272053,"post_id":75313631,"comment_id":132894381,"body_markdown":"@Ralf there are other restrictions, can&#39;t change the array type here","body":"@Ralf there are other restrictions, can&#39;t change the array type here"},{"owner":{"account_id":15938416,"reputation":45,"user_id":11500927,"display_name":"Jesus Hamdi"},"score":0,"creation_date":1675272122,"post_id":75313631,"comment_id":132894403,"body_markdown":"@C.Helling thanks for your suggestion. Still not sure how to go on after creating the first object tho.","body":"@C.Helling thanks for your suggestion. Still not sure how to go on after creating the first object tho."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675272151,"post_id":75313631,"comment_id":132894413,"body_markdown":"@C.Helling Actually your suggestion is the **cleanest**, considering the input(i assume it can&#39;t be changed, since it looks like homework). Incrementing the index by one, as it is now, would require a very awkward initialization of each new person.","body":"@C.Helling Actually your suggestion is the <b>cleanest</b>, considering the input(i assume it can&#39;t be changed, since it looks like homework). Incrementing the index by one, as it is now, would require a very awkward initialization of each new person."}],"answers":[{"tags":[],"owner":{"account_id":8719672,"reputation":32,"user_id":6523219,"display_name":"Nilesh Dhande"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675272093,"creation_date":1675272093,"answer_id":75313910,"question_id":75313631,"body_markdown":"try below code this is worked you expected\r\n\r\n    for (int i = 0; i &lt;= myArray.Length; i++)\r\n    {\r\n    if (i == 0) p.ID = myArray[i];\r\n    if (i == 1) p.Name = myArray[i];\r\n    if (i == 2) p.Age = myArray[i];\r\n    if (i!=0 &amp;&amp; i % 2 == 0)\r\n    {\r\n        if (myArray.Length &gt; 0)\r\n        {\r\n            myArray = myArray.Skip(3).ToArray();\r\n        }\r\n        i = 0;\r\n    }\r\n    }","title":"How to create an object dynamically from a string array?","body":"<p>try below code this is worked you expected</p>\n<pre><code>for (int i = 0; i &lt;= myArray.Length; i++)\n{\nif (i == 0) p.ID = myArray[i];\nif (i == 1) p.Name = myArray[i];\nif (i == 2) p.Age = myArray[i];\nif (i!=0 &amp;&amp; i % 2 == 0)\n{\n    if (myArray.Length &gt; 0)\n    {\n        myArray = myArray.Skip(3).ToArray();\n    }\n    i = 0;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24220628,"reputation":65,"user_id":18175860,"display_name":"ThatGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675493395,"creation_date":1675493395,"answer_id":75343468,"question_id":75313631,"body_markdown":"You only take the first three values to create a Person object and then call `AddNewRecord` every 3rd iteration. Instead, every 3rd iteration you will need to set `p` to a new Person in order to prevent mutating the existing Person object already used to invoke `AddNewRecord`. To avoid only using the 3 first array elements, you want to % 3 on them too. 0 % 3 = 0, 1 % 3 = 1, 2 % 3 = 2, 3 % 3 = 0. Any number % 3 will tell you whether you&#39;re on the ID, Name or Age.\r\n\r\nI think it&#39;s worth asking why you have an array of strings containing object data. Why not create the Person before putting all of their info in an array to avoid this problem?","title":"How to create an object dynamically from a string array?","body":"<p>You only take the first three values to create a Person object and then call <code>AddNewRecord</code> every 3rd iteration. Instead, every 3rd iteration you will need to set <code>p</code> to a new Person in order to prevent mutating the existing Person object already used to invoke <code>AddNewRecord</code>. To avoid only using the 3 first array elements, you want to % 3 on them too. 0 % 3 = 0, 1 % 3 = 1, 2 % 3 = 2, 3 % 3 = 0. Any number % 3 will tell you whether you're on the ID, Name or Age.</p>\n<p>I think it's worth asking why you have an array of strings containing object data. Why not create the Person before putting all of their info in an array to avoid this problem?</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684684415,"creation_date":1684684415,"answer_id":76300741,"question_id":75313631,"body_markdown":"Here is a Java solution.\r\n\r\nYou can use a `record` to hold the values.  \r\nThen, use a for-loop which increments by 3 on each iteration, to create a `List`.\r\n\r\n```java\r\nrecord Person(String id, String name, String age) { }\r\n```\r\n\r\n```java\r\nList&lt;Person&gt; parse(String[] strings) {\r\n    List&lt;Person&gt; list = new ArrayList&lt;&gt;();\r\n    for (int index = 0; index &lt; strings.length; index += 3)\r\n        list.add(new Person(strings[index], strings[index + 1], strings[index + 2]));\r\n    return list;\r\n}\r\n```\r\n\r\nOutput\r\n```java\r\n[Person[id=1, name=Jack, age=18], Person[id=2, name=John, age=22], Person[id=3, name=Mark, age=29]]\r\n```","title":"How to create an object dynamically from a string array?","body":"<p>Here is a Java solution.</p>\n<p>You can use a <code>record</code> to hold the values.<br />\nThen, use a for-loop which increments by 3 on each iteration, to create a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person(String id, String name, String age) { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; parse(String[] strings) {\n    List&lt;Person&gt; list = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; strings.length; index += 3)\n        list.add(new Person(strings[index], strings[index + 1], strings[index + 2]));\n    return list;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-java prettyprint-override\"><code>[Person[id=1, name=Jack, age=18], Person[id=2, name=John, age=22], Person[id=3, name=Mark, age=29]]\n</code></pre>\n"}],"owner":{"account_id":15938416,"reputation":45,"user_id":11500927,"display_name":"Jesus Hamdi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1684684415,"creation_date":1675270690,"question_id":75313631,"body_markdown":"I have a String array in C# like below:\r\n\r\n    String[] myArray = {&quot;1&quot;,&quot;Jack&quot;,&quot;18&quot;,&quot;2&quot;,&quot;John&quot;,&quot;22&quot;,&quot;3&quot;,&quot;Mark&quot;,&quot;29&quot;}\r\n\r\nActually there are 3 objects in my array, first column is ID, second is Name and third is Age. So I need to insert 3 rows into my SQL table, each represents one person.\r\n\r\nWhat is the best way to handle it?\r\n\r\nI try:\r\n\r\n    Person p = new Person();\r\n    for (int i = 0; i &lt;= myArray.Length; i++)\r\n    {\r\n        if (i==0) p.Id = myArray[i];\r\n        if (i==1) p.Name = myArray[i];\r\n        if (i==2) p.Age = myArray[i];\r\n        if (i%3==0) AddNewRecord(p);\r\n    }\r\n\r\nBut then how can I remove the first object from my array and start from 0 again?\r\n\r\nThanks.\r\n\r\nPS. Couldn&#39;t find a proper title for my issue, sorry, appreciate if you may edit.\r\n\r\nEdit: Java or C# answer, both fine by me","title":"How to create an object dynamically from a string array?","body":"<p>I have a String array in C# like below:</p>\n<pre><code>String[] myArray = {&quot;1&quot;,&quot;Jack&quot;,&quot;18&quot;,&quot;2&quot;,&quot;John&quot;,&quot;22&quot;,&quot;3&quot;,&quot;Mark&quot;,&quot;29&quot;}\n</code></pre>\n<p>Actually there are 3 objects in my array, first column is ID, second is Name and third is Age. So I need to insert 3 rows into my SQL table, each represents one person.</p>\n<p>What is the best way to handle it?</p>\n<p>I try:</p>\n<pre><code>Person p = new Person();\nfor (int i = 0; i &lt;= myArray.Length; i++)\n{\n    if (i==0) p.Id = myArray[i];\n    if (i==1) p.Name = myArray[i];\n    if (i==2) p.Age = myArray[i];\n    if (i%3==0) AddNewRecord(p);\n}\n</code></pre>\n<p>But then how can I remove the first object from my array and start from 0 again?</p>\n<p>Thanks.</p>\n<p>PS. Couldn't find a proper title for my issue, sorry, appreciate if you may edit.</p>\n<p>Edit: Java or C# answer, both fine by me</p>\n"},{"tags":["java","heap","priority-queue"],"comments":[{"owner":{"account_id":17731032,"reputation":407,"user_id":12873636,"display_name":"sgtcortez"},"score":2,"creation_date":1618262015,"post_id":67058645,"comment_id":118544680,"body_markdown":"Does this answer your question? [Java. Is it possible to use a pair in a priority queue and then return a value using the key as a priority](https://stackoverflow.com/questions/61702224/java-is-it-possible-to-use-a-pair-in-a-priority-queue-and-then-return-a-value-u)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61702224/java-is-it-possible-to-use-a-pair-in-a-priority-queue-and-then-return-a-value-u\">Java. Is it possible to use a pair in a priority queue and then return a value using the key as a priority</a>"},{"owner":{"account_id":17731032,"reputation":407,"user_id":12873636,"display_name":"sgtcortez"},"score":0,"creation_date":1618262202,"post_id":67058645,"comment_id":118544735,"body_markdown":"You can not use the [Priority Key](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html) with a pair.\n\nIf you want so, will need to write some code.","body":"You can not use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">Priority Key</a> with a pair.  If you want so, will need to write some code."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1684674524,"post_id":67058645,"comment_id":134548390,"body_markdown":"Note that answers suggesting PriorityQueue do not address your question since you are asking for a heap implementation. That behind the scenes this priority queue is implemented using a binary heap is just a technical detail.","body":"Note that answers suggesting PriorityQueue do not address your question since you are asking for a heap implementation. That behind the scenes this priority queue is implemented using a binary heap is just a technical detail."}],"answers":[{"comments":[{"owner":{"account_id":17731032,"reputation":407,"user_id":12873636,"display_name":"sgtcortez"},"score":0,"creation_date":1618261990,"post_id":67065381,"comment_id":118544663,"body_markdown":"There is no method like `poll` in hash map. You will need to know the key in order to get an element.","body":"There is no method like <code>poll</code> in hash map. You will need to know the key in order to get an element."},{"owner":{"account_id":20545235,"reputation":19,"user_id":15079261,"display_name":"SUCHITRA GIRI"},"score":0,"creation_date":1618296352,"post_id":67065381,"comment_id":118551707,"body_markdown":"I am sorry, actually I have found this type of code but couldn&#39;t understand properly. It will be very grateful if you explain these as well!","body":"I am sorry, actually I have found this type of code but couldn&#39;t understand properly. It will be very grateful if you explain these as well!"},{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1684678607,"post_id":67065381,"comment_id":134548852,"body_markdown":"Sorry, I couldn&#39;t understand. Is Pair a hashmap, it is different right? Please correct me if I am wrong here.","body":"Sorry, I couldn&#39;t understand. Is Pair a hashmap, it is different right? Please correct me if I am wrong here."}],"tags":[],"owner":{"account_id":16323583,"reputation":3284,"user_id":11788715,"display_name":"Ole Pannier"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618262492,"creation_date":1618259928,"answer_id":67065381,"question_id":67058645,"body_markdown":"In `Java` you can use a `HashMap` for that:\r\n\r\n    import javafx.util.Pair;\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class YourClass{\r\n\r\n        public static void main (String[] args){\r\n\r\n            int n = 3;\r\n\r\n    PriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq = new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\r\n\r\n      /*Adding elements to HashMap*/\r\n      pq.add(new Pair &lt;&gt; (10, 200));\r\n      pq.add(new Pair &lt;&gt; (20, 100));\r\n      pq.add(new Pair &lt;&gt; (15, 400));\r\n\r\n     System.out.println(l.poll().getValue()); \r\n        }\r\n    }\r\n     ","title":"How to implement max heap with pair using priority queue in java?","body":"<p>In <code>Java</code> you can use a <code>HashMap</code> for that:</p>\n<pre><code>import javafx.util.Pair;\nimport java.util.PriorityQueue;\n\npublic class YourClass{\n\n    public static void main (String[] args){\n\n        int n = 3;\n\nPriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq = new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\n\n  /*Adding elements to HashMap*/\n  pq.add(new Pair &lt;&gt; (10, 200));\n  pq.add(new Pair &lt;&gt; (20, 100));\n  pq.add(new Pair &lt;&gt; (15, 400));\n\n System.out.println(l.poll().getValue()); \n    }\n}\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28647404,"reputation":21,"user_id":21935105,"display_name":"Rakhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684674659,"creation_date":1684670229,"answer_id":76299793,"question_id":67058645,"body_markdown":"There is a discussion with examples [here][1].\r\n\r\nBriefly, you can set up the queue by providing key value pairs and specifying how pairs should be compared:\r\n\r\n``` \r\nPriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt; pq = \r\n    new PriorityQueue&lt;&gt;((a,b)-&gt; b.getValue() - a.getValue());\r\n```\r\n\r\n  [1]: https://www.geeksforgeeks.org/priority-queue-of-pair-in-java-with-examples/","title":"How to implement max heap with pair using priority queue in java?","body":"<p>There is a discussion with examples <a href=\"https://www.geeksforgeeks.org/priority-queue-of-pair-in-java-with-examples/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Briefly, you can set up the queue by providing key value pairs and specifying how pairs should be compared:</p>\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt; pq = \n    new PriorityQueue&lt;&gt;((a,b)-&gt; b.getValue() - a.getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684684093,"creation_date":1684678406,"answer_id":76300328,"question_id":67058645,"body_markdown":"The Pair can be used for this use case which is from the `javafx.util` package.\r\n\r\nIf we need to sort it based on the value.\r\n\r\n```java\r\nimport javafx.util.Pair;\r\nimport java.util.*;\r\n\r\npublic class ExampleClass {\r\n    public static void main(String [] args) {\r\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getValue(), num1.getValue()));\r\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\r\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\r\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\r\n    }\r\n}\r\n```\r\n\r\nIf we need to sort it based on the key.\r\n\r\n```java\r\nimport javafx.util.Pair;\r\nimport java.util.*;\r\n\r\npublic class ExampleClass {\r\n    public static void main(String [] args) {\r\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getKey(), num1.getKey()));\r\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\r\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\r\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\r\n    }\r\n}\r\n```\r\n\r\nHere we are creating an instance of the priority queue by passing a simple [lambda][1] expression as a constructor parameter.\r\n\r\nWe can print the result using a while loop to check whether the `maxHeap` is empty or non-empty.\r\n\r\n```java\r\nwhile (!maxHeap.isEmpty()) {\r\n     Pair&lt;Integer, Integer&gt; topOfHeap = maxHeap.poll();\r\n     System.out.println(topOfHeap.getValue());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"How to implement max heap with pair using priority queue in java?","body":"<p>The Pair can be used for this use case which is from the <code>javafx.util</code> package.</p>\n<p>If we need to sort it based on the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.*;\n\npublic class ExampleClass {\n    public static void main(String [] args) {\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getValue(), num1.getValue()));\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\n    }\n}\n</code></pre>\n<p>If we need to sort it based on the key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.*;\n\npublic class ExampleClass {\n    public static void main(String [] args) {\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getKey(), num1.getKey()));\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\n    }\n}\n</code></pre>\n<p>Here we are creating an instance of the priority queue by passing a simple <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda</a> expression as a constructor parameter.</p>\n<p>We can print the result using a while loop to check whether the <code>maxHeap</code> is empty or non-empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!maxHeap.isEmpty()) {\n     Pair&lt;Integer, Integer&gt; topOfHeap = maxHeap.poll();\n     System.out.println(topOfHeap.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":20545235,"reputation":19,"user_id":15079261,"display_name":"SUCHITRA GIRI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1684684093,"creation_date":1618231575,"question_id":67058645,"body_markdown":"I am trying to implement Max heap with key value pair in java. As we know in C++ we can do that in this way..\r\n\r\n``` \r\n    priority_queue&lt;pair&lt;int, int&gt; &gt; pq;\r\n    pq.push(make_pair(10, 200));\r\n    pq.push(make_pair(20, 100));\r\n    pq.push(make_pair(15, 400));\r\n```\r\nBut I am unable to do this in java, please help me to do so.","title":"How to implement max heap with pair using priority queue in java?","body":"<p>I am trying to implement Max heap with key value pair in java. As we know in C++ we can do that in this way..</p>\n<pre><code>    priority_queue&lt;pair&lt;int, int&gt; &gt; pq;\n    pq.push(make_pair(10, 200));\n    pq.push(make_pair(20, 100));\n    pq.push(make_pair(15, 400));\n</code></pre>\n<p>But I am unable to do this in java, please help me to do so.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1681294484,"post_id":75988239,"comment_id":134032206,"body_markdown":"Shouldn&#39;t those properties have `value=&quot;true&quot;`/`value=&quot;false&quot;` instead of `value=&quot;Boolean.TRUE&quot;`/`value=&quot;Boolean.FALSE&quot;`?","body":"Shouldn&#39;t those properties have <code>value=&quot;true&quot;</code>/<code>value=&quot;false&quot;</code> instead of <code>value=&quot;Boolean.TRUE&quot;</code>/<code>value=&quot;Boolean.FALSE&quot;</code>?"},{"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"score":0,"creation_date":1681404944,"post_id":75988239,"comment_id":134054707,"body_markdown":"also tried like you said, and same result, anyway both should work, this format is used throughout our reports for other parameters in other report and seem to work with this format...","body":"also tried like you said, and same result, anyway both should work, this format is used throughout our reports for other parameters in other report and seem to work with this format..."}],"answers":[{"tags":[],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684684061,"creation_date":1681915193,"answer_id":76055806,"question_id":75988239,"body_markdown":"I found this Jasper Reports spec :\r\n\r\nhttps://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html\r\n\r\nTalking about most ot the available parameters for wraping text , and added  the property :\r\n\r\n    &lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\r\n\r\nbased on what I could understand from the specs this tell jasper not to break at caracters, but only a words... And the issue is solved !\r\n\r\nfull Text field is now like this :\r\n\r\n\t\t\t\r\n\r\n    &lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot; height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot; uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;false&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.export.pdf.force.linebreak.policy&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\r\n    \t\t\t\t\t&lt;font pdfFontName=&quot;Helvetica&quot; size=&quot;136&quot; isBold=&quot;true&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t&lt;/textField&gt;\r\n\r\nHope this will help anyone with a similar issue !\r\n\r\n\r\nEDIT : This configuration solved the issue in some but not all situations, if the text fits on 2 lines by wrapping one carater of the first word Jasper will still prefer to do that than to slightly reduce the font, but now, at least, if the  one caracter wrapping was occuring on a second or third line the behaviour is now as expected and jasper will rather slighlty reduce font size than wrapping one single digit to a new line... I guess the &quot;ScaleFont&quot; algorithm and the &quot;Truncate&quot; policy are just having having  difficulties working together. So if anyone finds a better solution working always, I am still interested in a better answer than the one I found.\r\n\r\nEDIT 2 : Final Solution found, the issue was a font issue, adding : pdfFontName=&quot;Helvetica&quot; in the text element works so far. I think that without specifying a font Jasper sets the scaling required based on its default font, and then the if the pdf has the liberty to choose a slightly different font, the scaling defined by Jasper might not give the expected effect. Well just asuming this part...","title":"Jasper Report Java : Avoid breaking words when wrapping","body":"<p>I found this Jasper Reports spec :</p>\n<p><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html\" rel=\"nofollow noreferrer\">https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html</a></p>\n<p>Talking about most ot the available parameters for wraping text , and added  the property :</p>\n<pre><code>&lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>based on what I could understand from the specs this tell jasper not to break at caracters, but only a words... And the issue is solved !</p>\n<p>full Text field is now like this :</p>\n<pre><code>&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\n                &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot; height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot; uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;false&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.export.pdf.force.linebreak.policy&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\n                    &lt;font pdfFontName=&quot;Helvetica&quot; size=&quot;136&quot; isBold=&quot;true&quot; isPdfEmbedded=&quot;true&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\n    &lt;/textField&gt;\n</code></pre>\n<p>Hope this will help anyone with a similar issue !</p>\n<p>EDIT : This configuration solved the issue in some but not all situations, if the text fits on 2 lines by wrapping one carater of the first word Jasper will still prefer to do that than to slightly reduce the font, but now, at least, if the  one caracter wrapping was occuring on a second or third line the behaviour is now as expected and jasper will rather slighlty reduce font size than wrapping one single digit to a new line... I guess the &quot;ScaleFont&quot; algorithm and the &quot;Truncate&quot; policy are just having having  difficulties working together. So if anyone finds a better solution working always, I am still interested in a better answer than the one I found.</p>\n<p>EDIT 2 : Final Solution found, the issue was a font issue, adding : pdfFontName=&quot;Helvetica&quot; in the text element works so far. I think that without specifying a font Jasper sets the scaling required based on its default font, and then the if the pdf has the liberty to choose a slightly different font, the scaling defined by Jasper might not give the expected effect. Well just asuming this part...</p>\n"}],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76055806,"answer_count":1,"score":0,"last_activity_date":1684684061,"creation_date":1681231045,"question_id":75988239,"body_markdown":"I have a Java project that compiles a Jasper XML on the fly and then exports to PDF.\r\n\r\nIn one of the text field I need JasperReports not to cut the words, and rather to adapt the font size. The font size change works fine, when text is large Jasper reduces the font and wraps the text, but the &quot;do not cut words&quot; part does not work, many times, the PDF will end up with the text over several lines, but the wrapping will cut words in very illogical part, even sometime just leaving one letter of a word on the next line. Can you tell me what I am doing wrong?\r\n\r\nI have added and tested all the parameters I found in the Jasper documentation and with Google about breaking words, but none, or any combination of them changes the results.\r\n\r\nThe text field culprit is here:\r\n\t\r\n```xml\r\n&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot;\r\n     height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot;\r\n     uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\r\n    \t&lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;Boolean.TRUE&quot;/&gt;\r\n    \t&lt;property name=&quot;net.sf.jasperreports.print.html.wrap.break.word&quot; value=&quot;Boolean.FALSE&quot;/&gt;\r\n    \t&lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;Boolean.FALSE&quot;/&gt;\r\n    &lt;/reportElement&gt;\r\n    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\r\n    \t&lt;font size=&quot;140&quot; isBold=&quot;true&quot;/&gt;\r\n    &lt;/textElement&gt;\r\n    &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\r\n&lt;/textField&gt;\r\n```\r\n\r\nThe Java part that generate the report is here:\r\n\r\n```java\r\ntry {\r\n    parameters.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER, entityManager);\r\n    JasperReport report = JasperCompileManager.compileReport(Util.getFileInClassPathAsInputStream(&quot;/web/report/name-sign.jrxml&quot;));\r\n    \r\n    JasperPrint print = JasperFillManager.fillReport(report, parameters, new JREmptyDataSource());\r\n    \r\n    return JasperExportManager.exportReportToPdf(print);\r\n} catch (JRException ex) {\r\n    ex.printStackTrace();\r\n    logger.error( ex.getMessage());\r\n}\r\nreturn null;\r\n```","title":"Jasper Report Java : Avoid breaking words when wrapping","body":"<p>I have a Java project that compiles a Jasper XML on the fly and then exports to PDF.</p>\n<p>In one of the text field I need JasperReports not to cut the words, and rather to adapt the font size. The font size change works fine, when text is large Jasper reduces the font and wraps the text, but the &quot;do not cut words&quot; part does not work, many times, the PDF will end up with the text over several lines, but the wrapping will cut words in very illogical part, even sometime just leaving one letter of a word on the next line. Can you tell me what I am doing wrong?</p>\n<p>I have added and tested all the parameters I found in the Jasper documentation and with Google about breaking words, but none, or any combination of them changes the results.</p>\n<p>The text field culprit is here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\n    &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot;\n     height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot;\n     uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\n        &lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;Boolean.TRUE&quot;/&gt;\n        &lt;property name=&quot;net.sf.jasperreports.print.html.wrap.break.word&quot; value=&quot;Boolean.FALSE&quot;/&gt;\n        &lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;Boolean.FALSE&quot;/&gt;\n    &lt;/reportElement&gt;\n    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\n        &lt;font size=&quot;140&quot; isBold=&quot;true&quot;/&gt;\n    &lt;/textElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n<p>The Java part that generate the report is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    parameters.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER, entityManager);\n    JasperReport report = JasperCompileManager.compileReport(Util.getFileInClassPathAsInputStream(&quot;/web/report/name-sign.jrxml&quot;));\n    \n    JasperPrint print = JasperFillManager.fillReport(report, parameters, new JREmptyDataSource());\n    \n    return JasperExportManager.exportReportToPdf(print);\n} catch (JRException ex) {\n    ex.printStackTrace();\n    logger.error( ex.getMessage());\n}\nreturn null;\n</code></pre>\n"},{"tags":["java","arrays","string","stdin"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1675306846,"post_id":75318214,"comment_id":132902419,"body_markdown":"The `split` method creates and returns a `String[]` from a `String`.","body":"The <code>split</code> method creates and returns a <code>String[]</code> from a <code>String</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1675306997,"post_id":75318214,"comment_id":132902436,"body_markdown":"*&quot;Googling stdin for the last hour trying to find any documentation that helps me&quot;* - Try looking at the javadocs for the `String` class.  And look at what is says about `split`.   This is not a problem with &quot;stdin&quot; *per se* ... or even with `Scanner`.  It is about what you are doing with the line **after** you read it.  But if all you are doing is reading `size` strings separated by whitespace, you should be using `Scanner.next()` rather than `Scanner.nextLine()`.  (Again ... read the javadocs for `Scanner`.)","body":"<i>&quot;Googling stdin for the last hour trying to find any documentation that helps me&quot;</i> - Try looking at the javadocs for the <code>String</code> class.  And look at what is says about <code>split</code>.   This is not a problem with &quot;stdin&quot; <i>per se</i> ... or even with <code>Scanner</code>.  It is about what you are doing with the line <b>after</b> you read it.  But if all you are doing is reading <code>size</code> strings separated by whitespace, you should be using <code>Scanner.next()</code> rather than <code>Scanner.nextLine()</code>.  (Again ... read the javadocs for <code>Scanner</code>.)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675314570,"post_id":75318214,"comment_id":132903381,"body_markdown":"If each input is on its own line, you don&#39;t need `split`.","body":"If each input is on its own line, you don&#39;t need <code>split</code>."}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675346117,"creation_date":1675346117,"answer_id":75324194,"question_id":75318214,"body_markdown":"If you are using eclipse arguments separated by enter then your logic is wrong:\r\n\r\naccording to your logic get 1st element from the eclipse argument like **args[0]**\r\n\r\nanother Input is taken from the console.\r\n\r\nif you need to take all elements from the eclipse argument follow the below code:\r\n\r\n    public class A2P1 {\r\n        public static void main(String[] args) {\r\n            int size = Integer.parseInt(args[0]);\r\n            String[] str = new String[size];\r\n            int length=0;\r\n            String loggestString=&quot;&quot;;\r\n            \r\n            for (int i=1; i &lt; size; i++) {\r\n                str[i] = args[i];      \r\n                int strLen = str[i].length();\r\n                if(strLen&gt;length) {\r\n                \tlength=strLen;\r\n                \tloggestString=str[i];\r\n                }\r\n            }\r\n            System.out.println(loggestString);\r\n        } \r\n    }\r\n\r\n","title":"Java Stdin Cannot convert from String[] to String, but inputs are String?","body":"<p>If you are using eclipse arguments separated by enter then your logic is wrong:</p>\n<p>according to your logic get 1st element from the eclipse argument like <strong>args[0]</strong></p>\n<p>another Input is taken from the console.</p>\n<p>if you need to take all elements from the eclipse argument follow the below code:</p>\n<pre><code>public class A2P1 {\n    public static void main(String[] args) {\n        int size = Integer.parseInt(args[0]);\n        String[] str = new String[size];\n        int length=0;\n        String loggestString=&quot;&quot;;\n        \n        for (int i=1; i &lt; size; i++) {\n            str[i] = args[i];      \n            int strLen = str[i].length();\n            if(strLen&gt;length) {\n                length=strLen;\n                loggestString=str[i];\n            }\n        }\n        System.out.println(loggestString);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684683948,"creation_date":1684683461,"answer_id":76300677,"question_id":75318214,"body_markdown":"Your assignment is incorrect, use the following.\r\n\r\n```java\r\nstr = sc.nextLine().split(&quot; &quot;);\r\n```\r\n\r\nYou were attempting to place the `String[]` within the `i` index.\r\n\r\n- `str[i]` is a `String`.\r\n- `split` returns a `String[]`\r\n\r\nI&#39;ve refactored your code, for reference, have it look.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nString[] str = sc.nextLine().split(&quot; &quot;);\r\nint maximum = 0;\r\nfor (String string : str) {\r\n    if (string.length() &gt; maximum)\r\n        maximum = string.length();\r\n}\r\nSystem.out.println(&quot;The longest input strings are:&quot;);\r\nfor (String string : str) {\r\n    if (string.length() == maximum)\r\n        System.out.println(string);\r\n}\r\n```\r\n\r\nOutput for &quot;3 a2 b3c 7&quot;.\r\n\r\n```none\r\nThe longest input strings are:\r\nb3c\r\n```","title":"Java Stdin Cannot convert from String[] to String, but inputs are String?","body":"<p>Your assignment is incorrect, use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str = sc.nextLine().split(&quot; &quot;);\n</code></pre>\n<p>You were attempting to place the <code>String[]</code> within the <code>i</code> index.</p>\n<ul>\n<li><code>str[i]</code> is a <code>String</code>.</li>\n<li><code>split</code> returns a <code>String[]</code></li>\n</ul>\n<p>I've refactored your code, for reference, have it look.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString[] str = sc.nextLine().split(&quot; &quot;);\nint maximum = 0;\nfor (String string : str) {\n    if (string.length() &gt; maximum)\n        maximum = string.length();\n}\nSystem.out.println(&quot;The longest input strings are:&quot;);\nfor (String string : str) {\n    if (string.length() == maximum)\n        System.out.println(string);\n}\n</code></pre>\n<p>Output for &quot;3 a2 b3c 7&quot;.</p>\n<pre class=\"lang-none prettyprint-override\"><code>The longest input strings are:\nb3c\n</code></pre>\n"}],"owner":{"account_id":27065744,"reputation":11,"user_id":20617134,"display_name":"Gynzie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684683948,"creation_date":1675306487,"question_id":75318214,"body_markdown":"I am doing a programming assignment that takes all of its input from stdin. The first input is an int n to tell you how many strings will follow, and the next n inputs are strings of varying lengths. The goal is to find the longest string(s) and print them. \r\n\r\nI thought this was easy, but for the life of me, I cannot get the stdin to work with me. The eclipse arguments entered are (separated by enter):\r\n\r\n - 3 \r\n - a2 \r\n - b3c \r\n - 7\r\n\r\nYet I run the program, and it tells me it cannot convert from String[] to String. I do not understand how any of the above are String[]. The code is below:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class A2P1 {\r\n\tpublic static void main(String[] args) {\r\n\t\tint size = Integer.parseInt(args[0]);\r\n\t\t\r\n\t\tString[] str = new String[size];\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\r\n\t\tfor (int i=0; i &lt; size; i++) {\r\n\t\t\tstr[i] = sc.nextLine().split(&quot; &quot;);              // The error\r\n\t\t\t//str[i] = sc.next();                         This line and the line below throw\r\n\t\t\t//str[i] = sc.nextLine();                    no errors, but also gives no output.\r\n\t\t}\r\n\t\t\r\n\t\tString[] longest = new String[size];\r\n\t\tString[] temp = new String[size];\r\n\t\tlongest[0] = str[0];\r\n\t\tint numToBeat = str[0].length();\r\n\t\tint k = 0;\r\n\t\tfor (int i=0; i &lt; size; i++) {\r\n\t\t\tif (str[i].length() &gt; numToBeat) {\r\n\t\t\t\tnumToBeat = str[i].length();\r\n\t\t\t\tk = 0;\r\n\t\t\t\tlongest = temp;\r\n\t\t\t\t\r\n\t\t\t\tlongest[k] = str[i];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\telse if (str[i].length() == numToBeat) {\r\n\t\t\t\tlongest[k] = str[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;The longest input strings are:&quot;);\r\n\t\tfor (int i=0; i &lt; k; i++) {\r\n\t\t\tSystem.out.println(longest[i]);\r\n\t\t}\r\n\t\tsc.close();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTried:\r\n- Changing str[i] = sc.nextLine().split(&quot; &quot;); to its other variations in the code\r\n- Changing input values\r\n- Googling stdin for the last hour trying to find any documentation that helps me\r\n","title":"Java Stdin Cannot convert from String[] to String, but inputs are String?","body":"<p>I am doing a programming assignment that takes all of its input from stdin. The first input is an int n to tell you how many strings will follow, and the next n inputs are strings of varying lengths. The goal is to find the longest string(s) and print them.</p>\n<p>I thought this was easy, but for the life of me, I cannot get the stdin to work with me. The eclipse arguments entered are (separated by enter):</p>\n<ul>\n<li>3</li>\n<li>a2</li>\n<li>b3c</li>\n<li>7</li>\n</ul>\n<p>Yet I run the program, and it tells me it cannot convert from String[] to String. I do not understand how any of the above are String[]. The code is below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class A2P1 {\n    public static void main(String[] args) {\n        int size = Integer.parseInt(args[0]);\n        \n        String[] str = new String[size];\n        Scanner sc = new Scanner(System.in);\n        \n\n        for (int i=0; i &lt; size; i++) {\n            str[i] = sc.nextLine().split(&quot; &quot;);              // The error\n            //str[i] = sc.next();                         This line and the line below throw\n            //str[i] = sc.nextLine();                    no errors, but also gives no output.\n        }\n        \n        String[] longest = new String[size];\n        String[] temp = new String[size];\n        longest[0] = str[0];\n        int numToBeat = str[0].length();\n        int k = 0;\n        for (int i=0; i &lt; size; i++) {\n            if (str[i].length() &gt; numToBeat) {\n                numToBeat = str[i].length();\n                k = 0;\n                longest = temp;\n                \n                longest[k] = str[i];\n                k++;\n            }\n            else if (str[i].length() == numToBeat) {\n                longest[k] = str[i];\n            }\n        }\n            \n        System.out.println(&quot;The longest input strings are:&quot;);\n        for (int i=0; i &lt; k; i++) {\n            System.out.println(longest[i]);\n        }\n        sc.close();\n    }\n}\n\n</code></pre>\n<p>Tried:</p>\n<ul>\n<li>Changing str[i] = sc.nextLine().split(&quot; &quot;); to its other variations in the code</li>\n<li>Changing input values</li>\n<li>Googling stdin for the last hour trying to find any documentation that helps me</li>\n</ul>\n"},{"tags":["java","jvm","heap-dump"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1567946404,"creation_date":1567943877,"answer_id":57841733,"question_id":57841372,"body_markdown":"If you can&#39;t run MAT on that server, then you might want to run a `jhat` utility.\r\n\r\nIt will run the web server on a port (that you can override) and will provide a web console and query language called OQL (object query language) that you can use to analyze the heap dump. It looks somewhat like SQL.\r\n\r\nHere is an example:\r\n\r\n    jhat -J-Xmx32g -port 7000 &lt;PATH_TO_HEAPDUMP&gt;\r\n\r\nAnd then access in browser:\r\n\r\n    http://&lt;IP&gt;:7000\r\n\r\nThere are many tutorials about OQL, [here][1] is one of them\r\n\r\n\r\n  [1]: https://blogs.oracle.com/sundararajan/querying-java-heap-with-oql","title":"Analyze remote large heap dump","body":"<p>If you can't run MAT on that server, then you might want to run a <code>jhat</code> utility.</p>\n\n<p>It will run the web server on a port (that you can override) and will provide a web console and query language called OQL (object query language) that you can use to analyze the heap dump. It looks somewhat like SQL.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>jhat -J-Xmx32g -port 7000 &lt;PATH_TO_HEAPDUMP&gt;\n</code></pre>\n\n<p>And then access in browser:</p>\n\n<pre><code>http://&lt;IP&gt;:7000\n</code></pre>\n\n<p>There are many tutorials about OQL, <a href=\"https://blogs.oracle.com/sundararajan/querying-java-heap-with-oql\" rel=\"nofollow noreferrer\">here</a> is one of them</p>\n"},{"tags":[],"owner":{"account_id":6662080,"reputation":103,"user_id":5140851,"display_name":"Vishy Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684683085,"creation_date":1684683085,"answer_id":76300653,"question_id":57841372,"body_markdown":"you can use headless MAT analyzer script to check top component ( using org.eclipse.mat.api:top_components ), that may help.\r\n\r\nIf Leak suspect doesn&#39;t tell enough then top components can give insight that which bean is occupying more space. So you can check the methods associated with that.\r\n\r\nhttps://stackoverflow.com/a/76298700/5140851","title":"Analyze remote large heap dump","body":"<p>you can use headless MAT analyzer script to check top component ( using org.eclipse.mat.api:top_components ), that may help.</p>\n<p>If Leak suspect doesn't tell enough then top components can give insight that which bean is occupying more space. So you can check the methods associated with that.</p>\n<p><a href=\"https://stackoverflow.com/a/76298700/5140851\">https://stackoverflow.com/a/76298700/5140851</a></p>\n"}],"owner":{"account_id":4012630,"reputation":1227,"user_id":3305603,"accept_rate":44,"display_name":"Aladdin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57841733,"answer_count":2,"score":3,"last_activity_date":1684683085,"creation_date":1567940900,"question_id":57841372,"body_markdown":"I&#39;m having Java heap dump with about 70 GB in remote Debian machine, I can&#39;t analyse it in my local machine using MAT, although I can get an overview and suspicious leak reports as HTML pages, but they are brief and there are href for the objects there that don&#39;t point to anything (maybe MAT doesn&#39;t mean to create actual links there but just for styling purposes).\r\n\r\nHowever, is there anyway to fully analyze a heap dump of that size? ","title":"Analyze remote large heap dump","body":"<p>I'm having Java heap dump with about 70 GB in remote Debian machine, I can't analyse it in my local machine using MAT, although I can get an overview and suspicious leak reports as HTML pages, but they are brief and there are href for the objects there that don't point to anything (maybe MAT doesn't mean to create actual links there but just for styling purposes).</p>\n\n<p>However, is there anyway to fully analyze a heap dump of that size? </p>\n"},{"tags":["java","string","performance","replace","palindrome"],"comments":[{"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":0,"creation_date":1675399399,"post_id":75331596,"comment_id":132925099,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551). Also, please make sure the question is self-contained; auxiliary links are welcome, but the question should be understandable even if the rest of the internet disappears.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>. Also, please make sure the question is self-contained; auxiliary links are welcome, but the question should be understandable even if the rest of the internet disappears."},{"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"score":0,"creation_date":1675400756,"post_id":75331596,"comment_id":132925282,"body_markdown":"@Amadan Thanks!!. Just a Question: I dont know if put the entire question is correct or not because belongs to Codility.  I just add it but please confirme me if that ts ok or not to be tranquil with that.","body":"@Amadan Thanks!!. Just a Question: I dont know if put the entire question is correct or not because belongs to Codility.  I just add it but please confirme me if that ts ok or not to be tranquil with that."}],"answers":[{"comments":[{"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"score":0,"creation_date":1675403164,"post_id":75331877,"comment_id":132925620,"body_markdown":"Thank u so much for your help, I didnt think that the issue was so easy, perhaps because i was thinking how to obtain a huge palindrome and never think to use an small one to do the debug. Very good explanation and sorry for do not voting but i need 15 of reputation.","body":"Thank u so much for your help, I didnt think that the issue was so easy, perhaps because i was thinking how to obtain a huge palindrome and never think to use an small one to do the debug. Very good explanation and sorry for do not voting but i need 15 of reputation."}],"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402456,"creation_date":1675402456,"answer_id":75331877,"question_id":75331596,"body_markdown":"You should reset `notAA`, `notBB` and `notCC` inside your loop.\r\n\r\nConsider, for example, `ABCCBA`.  In your first pass, `notAA` and `notBB` are set to true, leaving `ABBA`.  In the second pass, `notAA` and `notCC` are set to true, leaving `AA`.  Your program would then break out with an available pair because all three conditions are set to true.","title":"Big palindrome of even length - Wrong Answer","body":"<p>You should reset <code>notAA</code>, <code>notBB</code> and <code>notCC</code> inside your loop.</p>\n<p>Consider, for example, <code>ABCCBA</code>.  In your first pass, <code>notAA</code> and <code>notBB</code> are set to true, leaving <code>ABBA</code>.  In the second pass, <code>notAA</code> and <code>notCC</code> are set to true, leaving <code>AA</code>.  Your program would then break out with an available pair because all three conditions are set to true.</p>\n"},{"comments":[{"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"score":0,"creation_date":1675403347,"post_id":75331885,"comment_id":132925649,"body_markdown":"Thank u really so much for your explanation and for your improvement. I was thinking on that improvemt until i watch your message and its so cool!!!. I will add it right now . This helps me to inprove the way to see everything before coding so thank u so much for that too!!","body":"Thank u really so much for your explanation and for your improvement. I was thinking on that improvemt until i watch your message and its so cool!!!. I will add it right now . This helps me to inprove the way to see everything before coding so thank u so much for that too!!"}],"tags":[],"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402551,"creation_date":1675402551,"answer_id":75331885,"question_id":75331596,"body_markdown":"You have to set `notAA`, `notBB` and `notCC` to `false` inside the loop, not before it. The way you are doing it, you find all three, you end the loop.\r\n\r\n* Say `S` is `ABCCBA`.\r\n* You set `notAA` and `notBB` to `true`, because `AA` and `BB` cannot be found; then you replace `CC`, giving you `ABBA`.\r\n* Next loop, you set `notAA` to `true` again, remove `BB`, producing `AA`, and set `notCC` to `true`. Now all three are `true` (since `notBB` remained `true` since the first iteration), and you break the loop.\r\n* The result is `AA`, which should have reduced further; but because the program thought there was no `AA`, but it appeared after `notAA` was set, you get the wrong value.\r\n\r\nIn fact, this can be simplified: you just need a single flag `changed`, which starts before the loop as `true`; then use `while (changed)`. At the top of the loop, set it to `false`, and set it to true every time you successfully replace a substring. You do not need three separate ones, since they all do effectively the same job.","title":"Big palindrome of even length - Wrong Answer","body":"<p>You have to set <code>notAA</code>, <code>notBB</code> and <code>notCC</code> to <code>false</code> inside the loop, not before it. The way you are doing it, you find all three, you end the loop.</p>\n<ul>\n<li>Say <code>S</code> is <code>ABCCBA</code>.</li>\n<li>You set <code>notAA</code> and <code>notBB</code> to <code>true</code>, because <code>AA</code> and <code>BB</code> cannot be found; then you replace <code>CC</code>, giving you <code>ABBA</code>.</li>\n<li>Next loop, you set <code>notAA</code> to <code>true</code> again, remove <code>BB</code>, producing <code>AA</code>, and set <code>notCC</code> to <code>true</code>. Now all three are <code>true</code> (since <code>notBB</code> remained <code>true</code> since the first iteration), and you break the loop.</li>\n<li>The result is <code>AA</code>, which should have reduced further; but because the program thought there was no <code>AA</code>, but it appeared after <code>notAA</code> was set, you get the wrong value.</li>\n</ul>\n<p>In fact, this can be simplified: you just need a single flag <code>changed</code>, which starts before the loop as <code>true</code>; then use <code>while (changed)</code>. At the top of the loop, set it to <code>false</code>, and set it to true every time you successfully replace a substring. You do not need three separate ones, since they all do effectively the same job.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682983,"creation_date":1684682983,"answer_id":76300647,"question_id":75331596,"body_markdown":"You almost had it, great approach.\r\n\r\nThe error was, setting the boolean values to `true`.  \r\nInstead, you want to set them to whatever the inverted result of `S.contains` is.\r\n\r\nA few things I would fix.\r\n\r\nFirst, your while-loop condition includes a `|| true`, which will negate any need for `S.length()==0`.\r\n\r\nAdditionally, you can reduce the text of your control-flow by using an assignment and a conditional, as follows.\r\n\r\n```java\r\nnotAA = !S.contains(&quot;AA&quot;);\r\nif (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\r\n```\r\n\r\nFurthermore, since the final statement within the loop is a conditional-statement that will break the loop, you can, instead, use a do-while loop, and place the conditional there.\r\n\r\n```java\r\npublic String solution(String S) {\r\n    boolean notAA, notBB, notCC;\r\n    do {\r\n        notAA = !S.contains(&quot;AA&quot;);\r\n        if (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\r\n        notBB = !S.contains(&quot;BB&quot;);\r\n        if (!notBB) S = S.replace(&quot;BB&quot;, &quot;&quot;);\r\n        notCC = !S.contains(&quot;CC&quot;);\r\n        if (!notCC) S = S.replace(&quot;CC&quot;, &quot;&quot;);\r\n    } while (!notAA || !notBB || !notCC);\r\n    return S;\r\n}\r\n```\r\n\r\nIf you&#39;re familiar with regular expressions, you can reduce your code even further.\r\n\r\n```java\r\nString solution(String S) {\r\n    while (S.matches(&quot;.*?([ABC])\\\\1.*&quot;))\r\n        S = S.replaceAll(&quot;([ABC])\\\\1&quot;, &quot;&quot;);\r\n    return S;\r\n}\r\n```","title":"Big palindrome of even length - Wrong Answer","body":"<p>You almost had it, great approach.</p>\n<p>The error was, setting the boolean values to <code>true</code>.<br />\nInstead, you want to set them to whatever the inverted result of <code>S.contains</code> is.</p>\n<p>A few things I would fix.</p>\n<p>First, your while-loop condition includes a <code>|| true</code>, which will negate any need for <code>S.length()==0</code>.</p>\n<p>Additionally, you can reduce the text of your control-flow by using an assignment and a conditional, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>notAA = !S.contains(&quot;AA&quot;);\nif (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\n</code></pre>\n<p>Furthermore, since the final statement within the loop is a conditional-statement that will break the loop, you can, instead, use a do-while loop, and place the conditional there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String solution(String S) {\n    boolean notAA, notBB, notCC;\n    do {\n        notAA = !S.contains(&quot;AA&quot;);\n        if (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\n        notBB = !S.contains(&quot;BB&quot;);\n        if (!notBB) S = S.replace(&quot;BB&quot;, &quot;&quot;);\n        notCC = !S.contains(&quot;CC&quot;);\n        if (!notCC) S = S.replace(&quot;CC&quot;, &quot;&quot;);\n    } while (!notAA || !notBB || !notCC);\n    return S;\n}\n</code></pre>\n<p>If you're familiar with regular expressions, you can reduce your code even further.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String solution(String S) {\n    while (S.matches(&quot;.*?([ABC])\\\\1.*&quot;))\n        S = S.replaceAll(&quot;([ABC])\\\\1&quot;, &quot;&quot;);\n    return S;\n}\n</code></pre>\n"}],"owner":{"account_id":10588861,"reputation":13,"user_id":7800204,"display_name":"Cristian Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75331885,"answer_count":3,"score":0,"last_activity_date":1684682983,"creation_date":1675399260,"question_id":75331596,"body_markdown":"I have been taking the test on Codility, and trying this exercise: \r\n\r\nhttps://app.codility.com/programmers/trainings/4/disappearing_pairs/\r\n\r\nA string S containing only the letters &quot;A&quot;, &quot;B&quot; and &quot;C&quot; is given. The string can be transformed by removing one occurrence of &quot;AA&quot;, &quot;BB&quot; or &quot;CC&quot;.\r\n\r\nTransformation of the string is the process of removing letters from it, based on the rules described above. As long as at least one rule can be applied, the process should be repeated. If more than one rule can be used, any one of them could be chosen.\r\n\r\nWrite a function:\r\n\r\nclass Solution { public String solution(String S); }\r\n\r\nthat, given a string S consisting of N characters, returns any string that can result from a sequence of transformations as described above.\r\n\r\nFor example, given string S = &quot;ACCAABBC&quot; the function may return &quot;AC&quot;, because one of the possible sequences of transformations is as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, given string S = &quot;ABCBBCBA&quot; the function may return &quot;&quot;, because one possible sequence of transformations is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFinally, for string S = &quot;BABABA&quot; the function must return &quot;BABABA&quot;, because no rules can be applied to string S.\r\n\r\nWrite an efficient algorithm for the following assumptions:\r\n\r\nthe length of string S is within the range [0..50,000];\r\nstring S is made only of the following characters: &quot;A&quot;, &quot;B&quot; and/or &quot;C&quot;.\r\n\r\nHere is the code that I tried with a score of 83:\r\n\r\n    public String solution(String S) {\r\n        \r\n        boolean notAA = false;\r\n        boolean notBB = false;\r\n        boolean notCC = false;\r\n\r\n        while(S.length()==0 || true){\r\n            if (S.contains(&quot;AA&quot;)){\r\n                S = S.replace(&quot;AA&quot;, &quot;&quot;);\r\n            } else {\r\n               notAA = true;\r\n            }\r\n\r\n            if(S.contains(&quot;BB&quot;)){\r\n                S = S.replace(&quot;BB&quot;, &quot;&quot;);\r\n            } else {\r\n                notBB = true;\r\n            }\r\n\r\n            if(S.contains(&quot;CC&quot;)){\r\n                S = S.replace(&quot;CC&quot;, &quot;&quot;);\r\n            } else {\r\n                notCC = true;\r\n            }\r\n\r\n            if(notAA &amp;&amp; notBB &amp;&amp; notCC){\r\n                break;\r\n            }\r\n        }\r\n        return S;\r\n    }\r\n\r\n    \r\nI could not obtain the 100% score because of this:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xqOFk.png)](https://i.stack.imgur.com/xqOFk.png)\r\n\r\neven_palindrome1   big palindrome of even length\r\n\r\n✘WRONG ANSWER got CACABACABABCBACBACBA.. expected &quot;&quot;\r\n\r\nCodility doesn&#39;t show me the string example or any other information.\r\n\r\nI was reading and reviewing but I still do not understand why I am not getting the right output. My assumption is when I delete the first combination of letters, the string needs to be in a specific state or a specific combination of letters to work correctly and the problem is the palindrome even string.\r\n\r\nBut, if my assumption is correct, I don&#39;t really understand the real cause or root reason for this.\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VJz6E.png\r\n  [2]: https://i.stack.imgur.com/NoKTJ.png","title":"Big palindrome of even length - Wrong Answer","body":"<p>I have been taking the test on Codility, and trying this exercise:</p>\n<p><a href=\"https://app.codility.com/programmers/trainings/4/disappearing_pairs/\" rel=\"nofollow noreferrer\">https://app.codility.com/programmers/trainings/4/disappearing_pairs/</a></p>\n<p>A string S containing only the letters &quot;A&quot;, &quot;B&quot; and &quot;C&quot; is given. The string can be transformed by removing one occurrence of &quot;AA&quot;, &quot;BB&quot; or &quot;CC&quot;.</p>\n<p>Transformation of the string is the process of removing letters from it, based on the rules described above. As long as at least one rule can be applied, the process should be repeated. If more than one rule can be used, any one of them could be chosen.</p>\n<p>Write a function:</p>\n<p>class Solution { public String solution(String S); }</p>\n<p>that, given a string S consisting of N characters, returns any string that can result from a sequence of transformations as described above.</p>\n<p>For example, given string S = &quot;ACCAABBC&quot; the function may return &quot;AC&quot;, because one of the possible sequences of transformations is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/VJz6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJz6E.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, given string S = &quot;ABCBBCBA&quot; the function may return &quot;&quot;, because one possible sequence of transformations is:</p>\n<p><a href=\"https://i.stack.imgur.com/NoKTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoKTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, for string S = &quot;BABABA&quot; the function must return &quot;BABABA&quot;, because no rules can be applied to string S.</p>\n<p>Write an efficient algorithm for the following assumptions:</p>\n<p>the length of string S is within the range [0..50,000];\nstring S is made only of the following characters: &quot;A&quot;, &quot;B&quot; and/or &quot;C&quot;.</p>\n<p>Here is the code that I tried with a score of 83:</p>\n<pre><code>public String solution(String S) {\n    \n    boolean notAA = false;\n    boolean notBB = false;\n    boolean notCC = false;\n\n    while(S.length()==0 || true){\n        if (S.contains(&quot;AA&quot;)){\n            S = S.replace(&quot;AA&quot;, &quot;&quot;);\n        } else {\n           notAA = true;\n        }\n\n        if(S.contains(&quot;BB&quot;)){\n            S = S.replace(&quot;BB&quot;, &quot;&quot;);\n        } else {\n            notBB = true;\n        }\n\n        if(S.contains(&quot;CC&quot;)){\n            S = S.replace(&quot;CC&quot;, &quot;&quot;);\n        } else {\n            notCC = true;\n        }\n\n        if(notAA &amp;&amp; notBB &amp;&amp; notCC){\n            break;\n        }\n    }\n    return S;\n}\n</code></pre>\n<p>I could not obtain the 100% score because of this:</p>\n<p><a href=\"https://i.stack.imgur.com/xqOFk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqOFk.png\" alt=\"enter image description here\" /></a></p>\n<p>even_palindrome1   big palindrome of even length</p>\n<p>✘WRONG ANSWER got CACABACABABCBACBACBA.. expected &quot;&quot;</p>\n<p>Codility doesn't show me the string example or any other information.</p>\n<p>I was reading and reviewing but I still do not understand why I am not getting the right output. My assumption is when I delete the first combination of letters, the string needs to be in a specific state or a specific combination of letters to work correctly and the problem is the palindrome even string.</p>\n<p>But, if my assumption is correct, I don't really understand the real cause or root reason for this.</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","design-patterns","static","software-design"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684661185,"post_id":76299162,"comment_id":134546890,"body_markdown":"Just &quot;a static map&quot; isn&#39;t a bad practice, there is a lot of cases where this is useful and the gool solution.","body":"Just &quot;a static map&quot; isn&#39;t a bad practice, there is a lot of cases where this is useful and the gool solution."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1684661495,"post_id":76299162,"comment_id":134546915,"body_markdown":"I see a caveat in your example, as this is static, do not put the initialization into a public constructor.","body":"I see a caveat in your example, as this is static, do not put the initialization into a public constructor."},{"owner":{"account_id":3733623,"reputation":71,"user_id":3105186,"display_name":"gabrielsalvador"},"score":0,"creation_date":1684663361,"post_id":76299162,"comment_id":134547098,"body_markdown":"@PeterMmm why ?","body":"@PeterMmm why ?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1684665353,"post_id":76299162,"comment_id":134547299,"body_markdown":"Without knowing the rest of your code, to use  _globals (with values), you must instantiate an object of MainClass. Can be fine in your case. But in general, constructor are for constructing objects and their members, statics are bind to the class.","body":"Without knowing the rest of your code, to use  _globals (with values), you must instantiate an object of MainClass. Can be fine in your case. But in general, constructor are for constructing objects and their members, statics are bind to the class."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1684678478,"post_id":76299162,"comment_id":134548838,"body_markdown":"**Congratulations!** You have independently reinvented the little discussed [multiton pattern](https://en.wikipedia.org/wiki/Multiton_pattern). Personally, I think it has its uses. But be careful. One major disadvantage of global state is debugging and testing become more difficult.","body":"<b>Congratulations!</b> You have independently reinvented the little discussed <a href=\"https://en.wikipedia.org/wiki/Multiton_pattern\" rel=\"nofollow noreferrer\">multiton pattern</a>. Personally, I think it has its uses. But be careful. One major disadvantage of global state is debugging and testing become more difficult."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1684796443,"post_id":76299162,"comment_id":134566389,"body_markdown":"This is clearly not a _multiton_: the Map holds only one instance per class. It is the [Service Locator](https://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/) anti-pattern... not because the field is static, but because of all the dependencies throughout a codebase that it hides. Dependency Injection is the modern solution to this problem.","body":"This is clearly not a <i>multiton</i>: the Map holds only one instance per class. It is the <a href=\"https://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/\" rel=\"nofollow noreferrer\">Service Locator</a> anti-pattern... not because the field is static, but because of all the dependencies throughout a codebase that it hides. Dependency Injection is the modern solution to this problem."}],"answers":[{"comments":[{"owner":{"account_id":3733623,"reputation":71,"user_id":3105186,"display_name":"gabrielsalvador"},"score":0,"creation_date":1684664785,"post_id":76299183,"comment_id":134547235,"body_markdown":"If I make sure the map is set on initialisation and remains the same always, it seems that all of the 5 points you made are solved, no?\nfactory pattern might still be a better solution, though","body":"If I make sure the map is set on initialisation and remains the same always, it seems that all of the 5 points you made are solved, no? factory pattern might still be a better solution, though"},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":0,"creation_date":1684665846,"post_id":76299183,"comment_id":134547371,"body_markdown":"I still would advise against utilizing static variables for achieving your goals","body":"I still would advise against utilizing static variables for achieving your goals"}],"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684661974,"creation_date":1684661381,"answer_id":76299183,"question_id":76299162,"body_markdown":"Static variables, while not inherently problematic, can be classified as a code smell for a few significant reasons:\r\n\r\n**Global State:** Static variables are essentially global state in disguise. Their state is preserved across the application&#39;s lifetime and can be accessed or mutated from any portion of the code, making it difficult to reason about behavior, leading to side effects and bugs.\r\n\r\n**Concurrency Issues:** In multithreaded programming, static variables are shared among all threads. This can lead to race conditions and other synchronization problems unless handled carefully with locks, semaphores, etc.\r\n\r\n**Coupling:** Static variables increase the coupling between components in your code. Changing the state of a static variable affects all the code that accesses it, making it harder to understand, maintain, and evolve the software.\r\n\r\n**Testing:** Unit testing becomes more complicated when static variables are involved, as the shared state can persist between tests and cause tests to fail or pass unexpectedly. It can also make tests order-dependent.\r\n\r\n**OOP Principles:** Static variables, particularly public ones, violate the principles of encapsulation and instantiation in Object-Oriented Programming (OOP). They contradict the idea of each object carrying its own state.\r\n\r\nAs for \r\n&gt; The main purpose of _globals if to have it available for example in the class TextFieldController without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.\r\n\r\nIt seems like you&#39;re intending to replace the IoC (Inversion of Control) container and establish singletons through the use of static variables. This approach, however, is not generally recommended as a best practice. If you&#39;re not interested in using IoC frameworks, I recommend exploring the factory pattern as a lightweight option.","title":"Is having a Static Map like this a bad practice?","body":"<p>Static variables, while not inherently problematic, can be classified as a code smell for a few significant reasons:</p>\n<p><strong>Global State:</strong> Static variables are essentially global state in disguise. Their state is preserved across the application's lifetime and can be accessed or mutated from any portion of the code, making it difficult to reason about behavior, leading to side effects and bugs.</p>\n<p><strong>Concurrency Issues:</strong> In multithreaded programming, static variables are shared among all threads. This can lead to race conditions and other synchronization problems unless handled carefully with locks, semaphores, etc.</p>\n<p><strong>Coupling:</strong> Static variables increase the coupling between components in your code. Changing the state of a static variable affects all the code that accesses it, making it harder to understand, maintain, and evolve the software.</p>\n<p><strong>Testing:</strong> Unit testing becomes more complicated when static variables are involved, as the shared state can persist between tests and cause tests to fail or pass unexpectedly. It can also make tests order-dependent.</p>\n<p><strong>OOP Principles:</strong> Static variables, particularly public ones, violate the principles of encapsulation and instantiation in Object-Oriented Programming (OOP). They contradict the idea of each object carrying its own state.</p>\n<p>As for</p>\n<blockquote>\n<p>The main purpose of _globals if to have it available for example in the class TextFieldController without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n</blockquote>\n<p>It seems like you're intending to replace the IoC (Inversion of Control) container and establish singletons through the use of static variables. This approach, however, is not generally recommended as a best practice. If you're not interested in using IoC frameworks, I recommend exploring the factory pattern as a lightweight option.</p>\n"},{"tags":[],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684682657,"creation_date":1684682657,"answer_id":76300627,"question_id":76299162,"body_markdown":"IMO it would be totally ok, if this constant will provide immutability, e.g. \r\n I would use immutable map to avoid this constant modification after creation, for instance using Map.of() method since java 9.","title":"Is having a Static Map like this a bad practice?","body":"<p>IMO it would be totally ok, if this constant will provide immutability, e.g.\nI would use immutable map to avoid this constant modification after creation, for instance using Map.of() method since java 9.</p>\n"}],"owner":{"account_id":3733623,"reputation":71,"user_id":3105186,"display_name":"gabrielsalvador"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684682657,"creation_date":1684660962,"question_id":76299162,"body_markdown":"I want to have some important classes available through out the app, like so:\r\n\r\n```\r\nprivate static final HashMap&lt;Class&lt;?&gt;, Object&gt; _globals = new HashMap&lt;&gt;();\r\n\r\npublic MainClass(){\r\n     _stateManager = new StateManager();\r\n     _inputManager = new InputManager();\r\n     _toolManager = new ToolManager();\r\n     _viewManager = new ViewManager();\r\n     _globals.put(StateManager.class, _stateManager);\r\n     _globals.put(InputManager.class, _inputManager);\r\n     _globals.put(ToolManager.class, _toolManager);\r\n     _globals.put(ViewManager.class, _viewManager);\r\n}\r\n```\r\n\r\n\r\nFrom what I&#39;ve been researching, static vars are always discouraged, but I feel like this might be ok, because I&#39;m not actually keeping any static state. The main purpose of _globals if to have it available for example in the class `TextFieldController` without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.\r\n\r\nIs this ok or is there any problems i&#39;m not seeing ?","title":"Is having a Static Map like this a bad practice?","body":"<p>I want to have some important classes available through out the app, like so:</p>\n<pre><code>private static final HashMap&lt;Class&lt;?&gt;, Object&gt; _globals = new HashMap&lt;&gt;();\n\npublic MainClass(){\n     _stateManager = new StateManager();\n     _inputManager = new InputManager();\n     _toolManager = new ToolManager();\n     _viewManager = new ViewManager();\n     _globals.put(StateManager.class, _stateManager);\n     _globals.put(InputManager.class, _inputManager);\n     _globals.put(ToolManager.class, _toolManager);\n     _globals.put(ViewManager.class, _viewManager);\n}\n</code></pre>\n<p>From what I've been researching, static vars are always discouraged, but I feel like this might be ok, because I'm not actually keeping any static state. The main purpose of _globals if to have it available for example in the class <code>TextFieldController</code> without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n<p>Is this ok or is there any problems i'm not seeing ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1684683385,"post_id":76300618,"comment_id":134549418,"body_markdown":"It looks like this method was [added in Java 20](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups()). Is your project configured to use Java 20?","body":"It looks like this method was <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups()\" rel=\"nofollow noreferrer\">added in Java 20</a>. Is your project configured to use Java 20?"}],"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684682526,"creation_date":1684682526,"question_id":76300618,"body_markdown":"I have a pattern with named groups. \r\n\r\n```java\r\nimport java.util.regex.*;\r\n\r\nString regexp = &quot;(?&lt;test&gt;[a-z0-9]+)&quot;;\r\nPattern pattern = Pattern.compile(regexp);\r\nMatcher matcher = pattern.matcher(&quot;foobar&quot;);\r\nMap&lt;String, Integer&gt; groups = matcher.namedGroups();\r\n```\r\n\r\nBut when I try to get the groups with matcher.namedGroups(), I get the following error.\r\n\r\n```bash\r\njava: cannot find symbol\r\n    symbol:   method namedGroups()\r\n    location: variable matcher of type java.util.regex.Matcher\r\n```\r\n\r\nIf I remove the line with matcher.namedGroups() and check in Intellij with Evaluate, the function is available. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone have an idea what the problem is?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nUbwf.png","title":"matcher.namedGroups(): Cannot find symbol","body":"<p>I have a pattern with named groups.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*;\n\nString regexp = &quot;(?&lt;test&gt;[a-z0-9]+)&quot;;\nPattern pattern = Pattern.compile(regexp);\nMatcher matcher = pattern.matcher(&quot;foobar&quot;);\nMap&lt;String, Integer&gt; groups = matcher.namedGroups();\n</code></pre>\n<p>But when I try to get the groups with matcher.namedGroups(), I get the following error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java: cannot find symbol\n    symbol:   method namedGroups()\n    location: variable matcher of type java.util.regex.Matcher\n</code></pre>\n<p>If I remove the line with matcher.namedGroups() and check in Intellij with Evaluate, the function is available.</p>\n<p><a href=\"https://i.stack.imgur.com/nUbwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUbwf.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have an idea what the problem is?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":408395,"reputation":1613,"user_id":779027,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1352807671,"post_id":13360021,"comment_id":18237849,"body_markdown":"So what is your problem/question with that code?","body":"So what is your problem/question with that code?"},{"owner":{"account_id":3052161,"reputation":200,"user_id":2586488,"accept_rate":60,"display_name":"user2586488"},"score":0,"creation_date":1374580693,"post_id":13360021,"comment_id":25985936,"body_markdown":"hey. were you able to solve the problem. I am facing a similar problem","body":"hey. were you able to solve the problem. I am facing a similar problem"}],"answers":[{"comments":[{"owner":{"account_id":3052161,"reputation":200,"user_id":2586488,"accept_rate":60,"display_name":"user2586488"},"score":0,"creation_date":1374581026,"post_id":13360105,"comment_id":25986146,"body_markdown":"Hi , lenik can you tell me how to know if a user has clicked on a circle after drawing it.","body":"Hi , lenik can you tell me how to know if a user has clicked on a circle after drawing it."}],"tags":[],"owner":{"account_id":1400403,"reputation":23304,"user_id":1329296,"display_name":"lenik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684681565,"creation_date":1352806753,"answer_id":13360105,"question_id":13360021,"body_markdown":"you have to change this part:\r\n\r\n      private int centerX;\r\n      private int centerY;\r\n      private int speedX = 50;\r\n      private int speedY = 40;\r\n\r\nand convert it to the\r\n\r\n    class Circle {\r\n      private int centerX;\r\n      private int centerY;\r\n      private int speedX = 50;\r\n      private int speedY = 40;\r\n      // add constructor here and other things\r\n    };\r\n\r\nthen make a collection of your circles: `ArrayList&lt;Circle&gt; circles`, and then instead of\r\n\r\n    centerX += speedX;\r\n    centerY += speedY;\r\n    int rightLimit = w - RADIUS;\r\n    int bottomLimit = h - RADIUS;\r\n\r\n    if (centerX &gt;= rightLimit) {\r\n      centerX = rightLimit;\r\n      speedX *= -1;\r\n    }\r\n    if (centerX &lt;= RADIUS) {\r\n      centerX = RADIUS;\r\n      speedX *= -1;\r\n    }\r\n    if (centerY &gt;= bottomLimit) {\r\n      centerY = bottomLimit;\r\n      speedY *= -1;\r\n    }\r\n    if (centerY &lt;= RADIUS) {\r\n      centerY = RADIUS;\r\n      speedY *= -1;\r\n    }\r\n\r\nyou have to do it for every circle, like\r\n\r\n    for( i=0; i&lt;circles.size(); i++) {\r\n        circles[i].centerX += circles[i].speedX;\r\n        circles[i].centerY += circles[i].speedY;\r\n\r\n        // и так далее...\r\n     }","title":"Moving circles in android","body":"<p>you have to change this part:</p>\n<pre><code>  private int centerX;\n  private int centerY;\n  private int speedX = 50;\n  private int speedY = 40;\n</code></pre>\n<p>and convert it to the</p>\n<pre><code>class Circle {\n  private int centerX;\n  private int centerY;\n  private int speedX = 50;\n  private int speedY = 40;\n  // add constructor here and other things\n};\n</code></pre>\n<p>then make a collection of your circles: <code>ArrayList&lt;Circle&gt; circles</code>, and then instead of</p>\n<pre><code>centerX += speedX;\ncenterY += speedY;\nint rightLimit = w - RADIUS;\nint bottomLimit = h - RADIUS;\n\nif (centerX &gt;= rightLimit) {\n  centerX = rightLimit;\n  speedX *= -1;\n}\nif (centerX &lt;= RADIUS) {\n  centerX = RADIUS;\n  speedX *= -1;\n}\nif (centerY &gt;= bottomLimit) {\n  centerY = bottomLimit;\n  speedY *= -1;\n}\nif (centerY &lt;= RADIUS) {\n  centerY = RADIUS;\n  speedY *= -1;\n}\n</code></pre>\n<p>you have to do it for every circle, like</p>\n<pre><code>for( i=0; i&lt;circles.size(); i++) {\n    circles[i].centerX += circles[i].speedX;\n    circles[i].centerY += circles[i].speedY;\n\n    // и так далее...\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2037280,"reputation":15,"user_id":1819332,"display_name":"Ss Ela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352806808,"creation_date":1352806808,"answer_id":13360118,"question_id":13360021,"body_markdown":"You will need to call draw circle 5 times with different centerx ,centerY ,Radius and p","title":"Moving circles in android","body":"<p>You will need to call draw circle 5 times with different centerx ,centerY ,Radius and p</p>\n"}],"owner":{"account_id":2033610,"reputation":19,"user_id":1816563,"display_name":"Igroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4430,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1684681565,"creation_date":1352806374,"question_id":13360021,"body_markdown":"I have a task. It&#39;s to draw some (more than one) circles moving around the screen. They must start moving after click on them. I have the code only for one circle. Give me the way how to do this task, for example, 5 circles. Thanks in advance!\r\n\r\n    public class MainActivity extends Activity {\r\n\t\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(new MyView(this));\r\n        }\r\n\r\n        class MyView extends View {\r\n            //public\tPaint c;\r\n            public\tPaint p;\r\n       \r\n            private static final int RADIUS = 46;\r\n\t\r\n            private int centerX;\r\n            private int centerY;\r\n            private int speedX = 50;\r\n            private int speedY = 40;\r\n            //private Paint paint; // Создай его где-нибудь там в конструкторе\r\n        \t\r\n                  \r\n            public MyView(Context context) {\r\n                super(context);\r\n                p = new Paint();\r\n                p.setColor(Color.GREEN);\r\n            }\r\n        \r\n            @Override\r\n            protected void onSizeChanged(int w, int h, int oldW, int oldH) {\r\n                centerX = w / 2;\r\n                centerY = h / 2;\r\n            }\r\n       \r\n            protected void onDraw(Canvas c) {\r\n                int w = getWidth();\r\n                int h = getHeight();\r\n                centerX += speedX;\r\n                centerY += speedY;\r\n                int rightLimit = w - RADIUS;\r\n                int bottomLimit = h - RADIUS;\r\n        \r\n                if (centerX &gt;= rightLimit) {\r\n                    centerX = rightLimit;\r\n                    speedX *= -1;\r\n                }\r\n                if (centerX &lt;= RADIUS) {\r\n                    centerX = RADIUS;\r\n                    speedX *= -1;\r\n                }\r\n                if (centerY &gt;= bottomLimit) {\r\n                    centerY = bottomLimit;\r\n                    speedY *= -1;\r\n                }\r\n                if (centerY &lt;= RADIUS) {\r\n                    centerY = RADIUS;\r\n                    speedY *= -1;\r\n                }\r\n        \r\n                c.drawCircle(centerX, centerY, RADIUS, p);\r\n                postInvalidateDelayed(200);  \r\n            }\r\n        }\r\n    }","title":"Moving circles in android","body":"<p>I have a task. It's to draw some (more than one) circles moving around the screen. They must start moving after click on them. I have the code only for one circle. Give me the way how to do this task, for example, 5 circles. Thanks in advance!</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyView(this));\n    }\n\n    class MyView extends View {\n        //public    Paint c;\n        public  Paint p;\n\n        private static final int RADIUS = 46;\n\n        private int centerX;\n        private int centerY;\n        private int speedX = 50;\n        private int speedY = 40;\n        //private Paint paint; // Создай его где-нибудь там в конструкторе\n\n\n        public MyView(Context context) {\n            super(context);\n            p = new Paint();\n            p.setColor(Color.GREEN);\n        }\n\n        @Override\n        protected void onSizeChanged(int w, int h, int oldW, int oldH) {\n            centerX = w / 2;\n            centerY = h / 2;\n        }\n\n        protected void onDraw(Canvas c) {\n            int w = getWidth();\n            int h = getHeight();\n            centerX += speedX;\n            centerY += speedY;\n            int rightLimit = w - RADIUS;\n            int bottomLimit = h - RADIUS;\n\n            if (centerX &gt;= rightLimit) {\n                centerX = rightLimit;\n                speedX *= -1;\n            }\n            if (centerX &lt;= RADIUS) {\n                centerX = RADIUS;\n                speedX *= -1;\n            }\n            if (centerY &gt;= bottomLimit) {\n                centerY = bottomLimit;\n                speedY *= -1;\n            }\n            if (centerY &lt;= RADIUS) {\n                centerY = RADIUS;\n                speedY *= -1;\n            }\n\n            c.drawCircle(centerX, centerY, RADIUS, p);\n            postInvalidateDelayed(200);  \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","string","parsing"],"comments":[{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":2,"creation_date":1676302456,"post_id":75429359,"comment_id":133105055,"body_markdown":"I don&#39;t do much Java, but why can&#39;t you just iterate over the location of each space, checking whether the before and after are both valid? (Pseudocode: `while (matcher.find()) { if (is_ident(s.substring(0, matcher.start())) &amp;&amp; is_ident(s.substring(matcher.end())) {...} }`)","body":"I don&#39;t do much Java, but why can&#39;t you just iterate over the location of each space, checking whether the before and after are both valid? (Pseudocode: <code>while (matcher.find()) { if (is_ident(s.substring(0, matcher.start())) &amp;&amp; is_ident(s.substring(matcher.end())) {...} }</code>)"},{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1676302953,"post_id":75429359,"comment_id":133105223,"body_markdown":"Although if the separators are always single space characters, using a regex to find them is overkill. You could just use String.indexOf.","body":"Although if the separators are always single space characters, using a regex to find them is overkill. You could just use String.indexOf."},{"owner":{"account_id":8466844,"reputation":941,"user_id":6350762,"display_name":"EagleRainbow"},"score":0,"creation_date":1676322040,"post_id":75429359,"comment_id":133110594,"body_markdown":"Would definitively be worth a SO answer :)\nExtension of the question: I have also further cases, where I have three (or more) identifiers to parse. Your approach definitively would work for two (so, it&#39;s a valid answer for the question here), but for three, it&#39;ll get more complicated.","body":"Would definitively be worth a SO answer :) Extension of the question: I have also further cases, where I have three (or more) identifiers to parse. Your approach definitively would work for two (so, it&#39;s a valid answer for the question here), but for three, it&#39;ll get more complicated."}],"answers":[{"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1684681320,"post_id":75455972,"comment_id":134549172,"body_markdown":"See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java and the repeated `Arrays.copyOfRange(...).join(&quot; &quot;)` should be a variable.","body":"See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a> and the repeated <code>Arrays.copyOfRange(...).join(&quot; &quot;)</code> should be a variable."}],"tags":[],"owner":{"account_id":24639919,"reputation":58,"user_id":18538182,"display_name":"jojo2357"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676440578,"creation_date":1676440578,"answer_id":75455972,"question_id":75429359,"body_markdown":"Why not [`String.split(String)`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String))?\r\n\r\nIf you split your input, you can then scan through looking for which combinations of words is the identifier.\r\n\r\n```java\r\nString stringin; // value from somewhere\r\nString theWord; // the starting identifier\r\n\r\nString[] words = stringin.split(&quot; &quot;);\r\n\r\nfor (int width = 1; width &lt; words.length; width++) {\r\n    for (int start = 0; start + width - 1 &lt; words.length; start++) {\r\n        if (Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;) == theWord)\r\n            return Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;);\r\n    }\r\n}\r\n```","title":"How to parse multiple identifier within in a string using Java (Pattern), if the separator character is ambiguous? Return all variants","body":"<p>Why not <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split(String)</code></a>?</p>\n<p>If you split your input, you can then scan through looking for which combinations of words is the identifier.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringin; // value from somewhere\nString theWord; // the starting identifier\n\nString[] words = stringin.split(&quot; &quot;);\n\nfor (int width = 1; width &lt; words.length; width++) {\n    for (int start = 0; start + width - 1 &lt; words.length; start++) {\n        if (Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;) == theWord)\n            return Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684681456,"creation_date":1684681011,"answer_id":76300509,"question_id":75429359,"body_markdown":"There is no need for a `Pattern` object.\r\n\r\nYou can use the following code to derive a list of ids for a specified `String`.\r\n\r\n```java\r\nList&lt;String&gt; ids(String string) {\r\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n    int indexOf, offset = -1;\r\n    while ((indexOf = string.indexOf(&#39; &#39;, offset + 1)) != -1)\r\n        ids.add(string.substring(0, offset = indexOf));\r\n    return ids;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[abc, abc def, abc def uvw]\r\n```\r\n\r\nIn response to your inquery of regular-expression greediness.  \r\nIt&#39;s one or the other, it will either consume all matches, or the least possible matches.\r\n\r\nThe reason for this being that a regular-expression evaluation works at a minimum, simply reading left to right, attempting to match the parameters; there is no increment adjustment, or evaluation.\r\n\r\nI highly recommend reviewing the source code for `Matcher`.  \r\nIf you can&#39;t view it from your IDE, you can view it online, at GitHub.\r\n\r\nHere is the link.  \r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java","title":"How to parse multiple identifier within in a string using Java (Pattern), if the separator character is ambiguous? Return all variants","body":"<p>There is no need for a <code>Pattern</code> object.</p>\n<p>You can use the following code to derive a list of ids for a specified <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; ids(String string) {\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;();\n    int indexOf, offset = -1;\n    while ((indexOf = string.indexOf(' ', offset + 1)) != -1)\n        ids.add(string.substring(0, offset = indexOf));\n    return ids;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[abc, abc def, abc def uvw]\n</code></pre>\n<p>In response to your inquery of regular-expression greediness.<br />\nIt's one or the other, it will either consume all matches, or the least possible matches.</p>\n<p>The reason for this being that a regular-expression evaluation works at a minimum, simply reading left to right, attempting to match the parameters; there is no increment adjustment, or evaluation.</p>\n<p>I highly recommend reviewing the source code for <code>Matcher</code>.<br />\nIf you can't view it from your IDE, you can view it online, at GitHub.</p>\n<p>Here is the link.<br />\n<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java</a></p>\n"}],"owner":{"account_id":8466844,"reputation":941,"user_id":6350762,"display_name":"EagleRainbow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684681456,"creation_date":1676227732,"question_id":75429359,"body_markdown":"In a Java application (running JVM version 17), I have a communication protocol where each line has the following structure:\r\n```\r\n&lt;identifier&gt; &lt;space&gt; &lt;identifer&gt;\r\n```\r\nThe problem is that the identifiers themselves may contain (besides upper- and lowercase latin characters) (single) spaces so that it is unclear what purpose the space symbols have. Example:\r\n\r\nLet the communication on the wire be:\r\n```\r\nabc def uvw xyz\r\n```\r\nNow, the separating space could have three different positions:\r\n\r\n1. First identifier: `abc`, second identifier: `def uvw xyz`.\r\n2. First identifier: `abc def`, second identifer: `uvw xyz`.\r\n3. First identifier: `abc def uvw`, second identifier: `xyz`.\r\n\r\nIn the given case, technically this is not a problem: *After parsing* it is possible to verify each identifier, if it is valid (note that the set of identifier values is both &quot;huge&quot; - and hence you would not want to put it into a regular expression - and partially also unknown, but verifiable after the fact).\r\n\r\n[Background for the ambiguous protocol: At the other end, a human being is sitting - and based on his/her role and situation, that person isn&#39;t able to think about ambiguity of what they are sending. Moreover, if a human mind reads the text, due to semantics and the meaning of the identifiers, it is obvious where to make the cut.]\r\n\r\nThe challenge to solve is to create an algorithm which creates all these possible combinations based on an arbitrary input.\r\n\r\nFor brevity, it may be assumed that there is no &quot;prefix/suffix problem&quot; between the identifiers, i.e. the identifiers are cut in such a way that a suffix of the first identifier isn&#39;t a prefix of the second identifier.\r\n\r\n\r\nI already tried to start with a Java Pattern Regular Expression like \r\n```\r\n([A-Za-z ]+) ([A-Za-z ]+)\r\n``` \r\nbut here greediness always returns you the &quot;last&quot; variant from above, e.g.\r\n\r\n```\r\ngroup 1: abc def uvw\r\ngroup 2: xyz\r\n```\r\nI also looked around at the various Regex modifiers, including also those not supported by Java (e. g. &quot;Ungreedy&quot;). So I played around with making the quantifier lazy or possessive, but no avail. I also looked at the [JavaDoc API](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html), playing around with `.find()` and `.results()`, but apparently backtracking has terminated and I cannot reinitiate it.\r\n\r\nDue to some additional factors, it would be preferrable to have this parsing done using `java.util.regex.Pattern`, but this is not mandatory.","title":"How to parse multiple identifier within in a string using Java (Pattern), if the separator character is ambiguous? Return all variants","body":"<p>In a Java application (running JVM version 17), I have a communication protocol where each line has the following structure:</p>\n<pre><code>&lt;identifier&gt; &lt;space&gt; &lt;identifer&gt;\n</code></pre>\n<p>The problem is that the identifiers themselves may contain (besides upper- and lowercase latin characters) (single) spaces so that it is unclear what purpose the space symbols have. Example:</p>\n<p>Let the communication on the wire be:</p>\n<pre><code>abc def uvw xyz\n</code></pre>\n<p>Now, the separating space could have three different positions:</p>\n<ol>\n<li>First identifier: <code>abc</code>, second identifier: <code>def uvw xyz</code>.</li>\n<li>First identifier: <code>abc def</code>, second identifer: <code>uvw xyz</code>.</li>\n<li>First identifier: <code>abc def uvw</code>, second identifier: <code>xyz</code>.</li>\n</ol>\n<p>In the given case, technically this is not a problem: <em>After parsing</em> it is possible to verify each identifier, if it is valid (note that the set of identifier values is both &quot;huge&quot; - and hence you would not want to put it into a regular expression - and partially also unknown, but verifiable after the fact).</p>\n<p>[Background for the ambiguous protocol: At the other end, a human being is sitting - and based on his/her role and situation, that person isn't able to think about ambiguity of what they are sending. Moreover, if a human mind reads the text, due to semantics and the meaning of the identifiers, it is obvious where to make the cut.]</p>\n<p>The challenge to solve is to create an algorithm which creates all these possible combinations based on an arbitrary input.</p>\n<p>For brevity, it may be assumed that there is no &quot;prefix/suffix problem&quot; between the identifiers, i.e. the identifiers are cut in such a way that a suffix of the first identifier isn't a prefix of the second identifier.</p>\n<p>I already tried to start with a Java Pattern Regular Expression like</p>\n<pre><code>([A-Za-z ]+) ([A-Za-z ]+)\n</code></pre>\n<p>but here greediness always returns you the &quot;last&quot; variant from above, e.g.</p>\n<pre><code>group 1: abc def uvw\ngroup 2: xyz\n</code></pre>\n<p>I also looked around at the various Regex modifiers, including also those not supported by Java (e. g. &quot;Ungreedy&quot;). So I played around with making the quantifier lazy or possessive, but no avail. I also looked at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">JavaDoc API</a>, playing around with <code>.find()</code> and <code>.results()</code>, but apparently backtracking has terminated and I cannot reinitiate it.</p>\n<p>Due to some additional factors, it would be preferrable to have this parsing done using <code>java.util.regex.Pattern</code>, but this is not mandatory.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1684680894,"post_id":76300476,"comment_id":134549112,"body_markdown":"Do you know the first-level ID (`krZF9...`)?","body":"Do you know the first-level ID (<code>krZF9...</code>)?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684681064,"creation_date":1684681064,"answer_id":76300514,"question_id":76300476,"body_markdown":"If you know the first level ID (`krZF9...`), you can read all data under that node, and loop over the children with:\r\n\r\n```\r\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1&quot;);\r\nref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot secondSnapshot: dataSnapshot.getChildren()) {\r\n            String key = secondSnapshot.getKey(); // x0PTLSiX61MGNfkfVVnjsn9VsZy1\r\n            String status = secondSnapshot.child(&quot;status&quot;).getValue(String.clasS);\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n});\r\n\r\n\r\n```","title":"How to extract the second ID from a Firebase Realtime Database path using Java?","body":"<p>If you know the first level ID (<code>krZF9...</code>), you can read all data under that node, and loop over the children with:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1&quot;);\nref.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot secondSnapshot: dataSnapshot.getChildren()) {\n            String key = secondSnapshot.getKey(); // x0PTLSiX61MGNfkfVVnjsn9VsZy1\n            String status = secondSnapshot.child(&quot;status&quot;).getValue(String.clasS);\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n});\n\n\n</code></pre>\n"}],"owner":{"account_id":28548187,"reputation":5,"user_id":21853369,"display_name":"UserName"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76300514,"answer_count":1,"score":0,"last_activity_date":1684681064,"creation_date":1684680574,"question_id":76300476,"body_markdown":"Getting data from FireBase RealTime Database\r\n\r\nHow can I get the second id from the following path: `/Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1/x0PTLSiX61MGNfkfVVnjsn9VsZy1`? if the first id is the user who sent the request and the second one should get it and output data from it. The first and second id were chosen as an example they may differ.\r\n\r\n![How it looks in RealTime Database](https://i.stack.imgur.com/kGUvl.png)","title":"How to extract the second ID from a Firebase Realtime Database path using Java?","body":"<p>Getting data from FireBase RealTime Database</p>\n<p>How can I get the second id from the following path: <code>/Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1/x0PTLSiX61MGNfkfVVnjsn9VsZy1</code>? if the first id is the user who sent the request and the second one should get it and output data from it. The first and second id were chosen as an example they may differ.</p>\n<p><img src=\"https://i.stack.imgur.com/kGUvl.png\" alt=\"How it looks in RealTime Database\" /></p>\n"},{"tags":["java","executorservice","completable-future"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651775072,"post_id":72131633,"comment_id":127449565,"body_markdown":"Or use *less* than all cores, as the JVM, OS, utilities, monitoring apps, file system, etc. need cores for their execution.","body":"Or use <i>less</i> than all cores, as the JVM, OS, utilities, monitoring apps, file system, etc. need cores for their execution."},{"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"score":0,"creation_date":1651775460,"post_id":72131633,"comment_id":127449698,"body_markdown":"Ok, but which the best choice for IO tasks. fixedThreadPool or cachedThreadPool. My sugestion is:\n\n fixedThreadPool - is preffer choice for large number of IO task. We neead to restrict our load.\n\n cachedThreadPool - is preffer for apps where that IO tasks can apper rarely(but still nead get result as faster as we can). And we don&#39;t nead to keep many not used thread.\n\nAm I right or am I mistaken somewhere?","body":"Ok, but which the best choice for IO tasks. fixedThreadPool or cachedThreadPool. My sugestion is:   fixedThreadPool - is preffer choice for large number of IO task. We neead to restrict our load.   cachedThreadPool - is preffer for apps where that IO tasks can apper rarely(but still nead get result as faster as we can). And we don&#39;t nead to keep many not used thread.  Am I right or am I mistaken somewhere?"},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":1,"creation_date":1651780352,"post_id":72131633,"comment_id":127451261,"body_markdown":"cachedThreadPool is perfectly fine as long as you aware of behavior of your IO code.","body":"cachedThreadPool is perfectly fine as long as you aware of behavior of your IO code."},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1651780884,"post_id":72131633,"comment_id":127451447,"body_markdown":"Sometimes system is more parallel in IO than in CPU. Like having a large DB and small java server in front. In those systems you can increase your throughput while being completely CPU limited. Like running one more query while server CPU is at 100%. The price you pay is prolonged latency at server. It is not going to be responsive, but the system overall will continue to increase throughput with additional queries. So the &quot;right&quot; option is mostly about what you got and what you want to achieve. Often parallelization of code is memory constrained. More tasks require more memory.","body":"Sometimes system is more parallel in IO than in CPU. Like having a large DB and small java server in front. In those systems you can increase your throughput while being completely CPU limited. Like running one more query while server CPU is at 100%. The price you pay is prolonged latency at server. It is not going to be responsive, but the system overall will continue to increase throughput with additional queries. So the &quot;right&quot; option is mostly about what you got and what you want to achieve. Often parallelization of code is memory constrained. More tasks require more memory."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651808586,"post_id":72131633,"comment_id":127456438,"body_markdown":"Now I notice that your Answer focuses on CPU-bound tasks. But that is not the case in the Question. The Question clearly states that these tasks are *not* CPU-bound, they are making REST calls to web services.","body":"Now I notice that your Answer focuses on CPU-bound tasks. But that is not the case in the Question. The Question clearly states that these tasks are <i>not</i> CPU-bound, they are making REST calls to web services."},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1651817924,"post_id":72131633,"comment_id":127458132,"body_markdown":"Post does not focuses on CPU bounded task. It focuses on bounded tasks. All unconstrained perfectly scaling IO (implied in question) will be eventually CPU bounded even if IO itself is perfectly scalable and instantaneous. As CPU overhead of parallelism is &quot;serial part&quot; of task and eventually ends up limiting you. And that is why you can&#39;t ignore it.","body":"Post does not focuses on CPU bounded task. It focuses on bounded tasks. All unconstrained perfectly scaling IO (implied in question) will be eventually CPU bounded even if IO itself is perfectly scalable and instantaneous. As CPU overhead of parallelism is &quot;serial part&quot; of task and eventually ends up limiting you. And that is why you can&#39;t ignore it."}],"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651773209,"creation_date":1651773209,"answer_id":72131633,"question_id":72131438,"body_markdown":"On completely CPU bound tasks you do not get additional performances by going with more threads than CPU cores. So in this scenario, 8 core / 8 thread CPU needs only 8 thread to maximize performances, and loses performance by going with more. IO tasks usually do gain performances by going with larger number of threads than CPU cores, as CPU time is available to do other stuff while waiting for IO. But even when CPU overhead of each thread is low there are limits to scaling as each thread eats into memory, and incurs caching/context switches..\r\n\r\nGiven that your task is IO limited, and you didn&#39;t provide any other constraints, you should probably just run different thread for each of your IO tasks. You can achieve this by either using fixed or cached thread pool.\r\n\r\nIf the number of your IO tasks is very large (thousands+), you should limit the maximum size of your thread pool, as you can have such thing as too many of threads. \r\n\r\nIf your task are CPU bound, you should again limit thread pool to even smaller size. Number of cores can be dynamically fetched by using:\r\n\r\n    int cores = Runtime.getRuntime().availableProcessors();\r\n\r\nAlso, just as your CPU has scaling limit, your IO device usually has a scaling limit too. You should not exceed that limit, but without measuring it is hard to say where limit is.","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>On completely CPU bound tasks you do not get additional performances by going with more threads than CPU cores. So in this scenario, 8 core / 8 thread CPU needs only 8 thread to maximize performances, and loses performance by going with more. IO tasks usually do gain performances by going with larger number of threads than CPU cores, as CPU time is available to do other stuff while waiting for IO. But even when CPU overhead of each thread is low there are limits to scaling as each thread eats into memory, and incurs caching/context switches..</p>\n<p>Given that your task is IO limited, and you didn't provide any other constraints, you should probably just run different thread for each of your IO tasks. You can achieve this by either using fixed or cached thread pool.</p>\n<p>If the number of your IO tasks is very large (thousands+), you should limit the maximum size of your thread pool, as you can have such thing as too many of threads.</p>\n<p>If your task are CPU bound, you should again limit thread pool to even smaller size. Number of cores can be dynamically fetched by using:</p>\n<pre><code>int cores = Runtime.getRuntime().availableProcessors();\n</code></pre>\n<p>Also, just as your CPU has scaling limit, your IO device usually has a scaling limit too. You should not exceed that limit, but without measuring it is hard to say where limit is.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651774149,"creation_date":1651774149,"answer_id":72131823,"question_id":72131438,"body_markdown":"If I understand your question properly, for above behaviour, irrespective of selection of  `executorService`, it is more important how you are calling your `executorService`.\r\n\r\nE.g.\r\n\r\n    ExecutorService executorService=Executors.newCachedThreadPool();\r\n    executorService.invokeAll(..);\r\n\r\nNow here, `invokeAll(..)` will block until all supplied tasks inside are completed.\r\nSo I feel selecting any ExecutorService &amp; calling `invokeAll(..)` will be suitable for your requirement.\r\n\r\nAlso please have a look at this [SE Question][1] which discusses new Java 8 introduction of [ExecutorCompletionService][2] &amp; `invokeAll`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11872520/executorcompletionservice-why-do-need-one-if-we-have-invokeall\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>If I understand your question properly, for above behaviour, irrespective of selection of  <code>executorService</code>, it is more important how you are calling your <code>executorService</code>.</p>\n<p>E.g.</p>\n<pre><code>ExecutorService executorService=Executors.newCachedThreadPool();\nexecutorService.invokeAll(..);\n</code></pre>\n<p>Now here, <code>invokeAll(..)</code> will block until all supplied tasks inside are completed.\nSo I feel selecting any ExecutorService &amp; calling <code>invokeAll(..)</code> will be suitable for your requirement.</p>\n<p>Also please have a look at this <a href=\"https://stackoverflow.com/questions/11872520/executorcompletionservice-why-do-need-one-if-we-have-invokeall\">SE Question</a> which discusses new Java 8 introduction of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a> &amp; <code>invokeAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684680658,"creation_date":1651776423,"answer_id":72132236,"question_id":72131438,"body_markdown":"# Project Loom\r\n\r\nYour situation is suited to using the new features being proposed for future versions of Java: [virtual threads][1] and [structured concurrency][2]. These are part of [*Project Loom*][3].\r\n\r\nToday’s Java threads are mapped one-to-one onto host operating system threads. When Java code blocks, the host thread blocks. The host OS threads sits idle, waiting for execution to resume. Host OS threads are heavyweight, costly in terms of both CPU and memory. So this idling is not optimal. \r\n\r\nIn contrast, virtual threads in Project Loom are mapped many to one onto the host OS thread. When code in a virtual thread blocks, that task is “parked”, set aside to allow another virtual thread’s task some execution time. This parking of virtual threads is managed within the JVM, so it is highly optimized, very fast, very efficient both in CPU and in memory. As a result, Java apps running on common hardware can support thousands, even millions, of virtual threads at a time.\r\n\r\nThe `ExecutorService` is [`AutoCloseable`][4] in Loom. So we can use try-with-resources to contain your entire batch of tasks in a `try ( ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ) { … submit tasks … }`. Once completed, the flow of control exits from the try-with-resources block, and you know your tasks are done. Access the `Future` object returned for each task you submitted. No need for `CompletableFuture`. \r\n\r\nLoom features are now being previewed and incubated in Java 19 and 20. The virtual threads feature is [planned for release in Java 21][5]. \r\n\r\nFor more info, see the several articles, presentations, and interviews with members of the Project Loom team. These include Ron Pressler and Alan Bateman. And see relevant episodes of [JEP Caf&#233;](https://m.youtube.com/playlist?list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87). \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/425\r\n  [2]: https://openjdk.java.net/jeps/8277129\r\n  [3]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [5]: https://openjdk.org/jeps/444","title":"Which ExecutorService is best for blocking IO tasks","body":"<h1>Project Loom</h1>\n<p>Your situation is suited to using the new features being proposed for future versions of Java: <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> and <a href=\"https://openjdk.java.net/jeps/8277129\" rel=\"nofollow noreferrer\">structured concurrency</a>. These are part of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a>.</p>\n<p>Today’s Java threads are mapped one-to-one onto host operating system threads. When Java code blocks, the host thread blocks. The host OS threads sits idle, waiting for execution to resume. Host OS threads are heavyweight, costly in terms of both CPU and memory. So this idling is not optimal.</p>\n<p>In contrast, virtual threads in Project Loom are mapped many to one onto the host OS thread. When code in a virtual thread blocks, that task is “parked”, set aside to allow another virtual thread’s task some execution time. This parking of virtual threads is managed within the JVM, so it is highly optimized, very fast, very efficient both in CPU and in memory. As a result, Java apps running on common hardware can support thousands, even millions, of virtual threads at a time.</p>\n<p>The <code>ExecutorService</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> in Loom. So we can use try-with-resources to contain your entire batch of tasks in a <code>try ( ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ) { … submit tasks … }</code>. Once completed, the flow of control exits from the try-with-resources block, and you know your tasks are done. Access the <code>Future</code> object returned for each task you submitted. No need for <code>CompletableFuture</code>.</p>\n<p>Loom features are now being previewed and incubated in Java 19 and 20. The virtual threads feature is <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">planned for release in Java 21</a>.</p>\n<p>For more info, see the several articles, presentations, and interviews with members of the Project Loom team. These include Ron Pressler and Alan Bateman. And see relevant episodes of <a href=\"https://m.youtube.com/playlist?list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87\" rel=\"nofollow noreferrer\">JEP Café</a>.</p>\n"},{"tags":[],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681573763,"creation_date":1681573763,"answer_id":76023298,"question_id":72131438,"body_markdown":"I found the optimal solution for this kind of task. All I nead to find the solution is to look at implementation of Executors.newCachedThreadPool() or Executors.newFixedThreadPool(30)\r\n```\r\n   public static ExecutorService newCachedThreadPool() {\r\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\r\n                                      60L, TimeUnit.SECONDS,\r\n                                      new SynchronousQueue&lt;Runnable&gt;());\r\n    }\r\n```\r\n\r\nMy decision is to instantiate ThreadPoolExecutor directly and set upper bound of threads that can be created by thread pool. And set timeout after unused threads can be terminated\r\n```java\r\nint nThread = 90;\r\nlong timeoutSec = 120;\r\nThreadFactory threadFactory = new ThreadFactoryBuilder()\r\n                .setNameFormat(&quot;Executor-Worker-%d&quot;)\r\n                .setDaemon(true)\r\n                .build();\r\nExecutor delegate = new ThreadPoolExecutor(\r\n    0,  // min number of thread in pool\r\n    nThread, // max number of thread in pool\r\n    timeoutSec, // terminate idle thread after\r\n    TimeUnit.SECONDS,\r\n    new SynchronousQueue&lt;Runnable&gt;(),\r\n    threadFactory\r\n);\r\n```","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>I found the optimal solution for this kind of task. All I nead to find the solution is to look at implementation of Executors.newCachedThreadPool() or Executors.newFixedThreadPool(30)</p>\n<pre><code>   public static ExecutorService newCachedThreadPool() {\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\n                                      60L, TimeUnit.SECONDS,\n                                      new SynchronousQueue&lt;Runnable&gt;());\n    }\n</code></pre>\n<p>My decision is to instantiate ThreadPoolExecutor directly and set upper bound of threads that can be created by thread pool. And set timeout after unused threads can be terminated</p>\n<pre class=\"lang-java prettyprint-override\"><code>int nThread = 90;\nlong timeoutSec = 120;\nThreadFactory threadFactory = new ThreadFactoryBuilder()\n                .setNameFormat(&quot;Executor-Worker-%d&quot;)\n                .setDaemon(true)\n                .build();\nExecutor delegate = new ThreadPoolExecutor(\n    0,  // min number of thread in pool\n    nThread, // max number of thread in pool\n    timeoutSec, // terminate idle thread after\n    TimeUnit.SECONDS,\n    new SynchronousQueue&lt;Runnable&gt;(),\n    threadFactory\n);\n</code></pre>\n"}],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1684680658,"creation_date":1651772195,"question_id":72131438,"body_markdown":"Let&#39;s imagine that we have n independent blocking IO tasks e.g. tasks for rest-call to another server. Then all answer we need to combine. Every task can be processing over 10 second. \r\n1.  We can process it sequentially and spent ~n*10 second at the end:\r\n    ```\r\n    Task1Ans task1 = service1.doSomething();\r\n    Task2Ans task2 = service2.doSomething()\r\n    ...\r\n    return result;\r\n    ```\r\n\r\n2. Another strategy is to process it in parallel manner using CompletableFuture and spent ~ 10 second on all task:\r\n    ```\r\n    CompletableFuture&lt;Task1Ans&gt; task1Cs = CompletableFuture.supplyAsync(() -&gt; service1.doSomething(), bestExecutor);\r\n    CompletableFuture&lt;Task2Ans&gt; task2Cs = CompletableFuture.supplyAsync(() -&gt; service2.doSomething(), bestExecutor);\r\n    return CompletableFuture.allOf(task1Cs, task2Cs)\r\n       .thenApply(nothing -&gt; {\r\n           ...\r\n           // combine task1, task2 into result object\r\n           return result;\r\n       }).join();\r\n    ```\r\n\r\nThe second approach has benefits, but I can&#39;t understand which type of thread pool is the best for this kind of task:\r\n\r\n```\r\nExecutorService bestExecutor = Executors.newFixedThreadPool(30)   /// or Executors.newCachedThreadPool() or Executors.newWorkStealingPool()\r\n```\r\n\r\nMy question is which ExecutorService is best for process n-parallel blocking IO tasks.\r\n","title":"Which ExecutorService is best for blocking IO tasks","body":"<p>Let's imagine that we have n independent blocking IO tasks e.g. tasks for rest-call to another server. Then all answer we need to combine. Every task can be processing over 10 second.</p>\n<ol>\n<li><p>We can process it sequentially and spent ~n*10 second at the end:</p>\n<pre><code>Task1Ans task1 = service1.doSomething();\nTask2Ans task2 = service2.doSomething()\n...\nreturn result;\n</code></pre>\n</li>\n<li><p>Another strategy is to process it in parallel manner using CompletableFuture and spent ~ 10 second on all task:</p>\n<pre><code>CompletableFuture&lt;Task1Ans&gt; task1Cs = CompletableFuture.supplyAsync(() -&gt; service1.doSomething(), bestExecutor);\nCompletableFuture&lt;Task2Ans&gt; task2Cs = CompletableFuture.supplyAsync(() -&gt; service2.doSomething(), bestExecutor);\nreturn CompletableFuture.allOf(task1Cs, task2Cs)\n   .thenApply(nothing -&gt; {\n       ...\n       // combine task1, task2 into result object\n       return result;\n   }).join();\n</code></pre>\n</li>\n</ol>\n<p>The second approach has benefits, but I can't understand which type of thread pool is the best for this kind of task:</p>\n<pre><code>ExecutorService bestExecutor = Executors.newFixedThreadPool(30)   /// or Executors.newCachedThreadPool() or Executors.newWorkStealingPool()\n</code></pre>\n<p>My question is which ExecutorService is best for process n-parallel blocking IO tasks.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684670002,"post_id":76299652,"comment_id":134547861,"body_markdown":"what does `here i tried use native entitymanager...` mean? it does not work either?","body":"what does <code>here i tried use native entitymanager...</code> mean? it does not work either?"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1684675367,"post_id":76299652,"comment_id":134548477,"body_markdown":"@AndreyB.Panfilov that’s means I injected EntityManager into service (I thought that’s bug of spring data jpa, and tried that with EM)","body":"@AndreyB.Panfilov that’s means I injected EntityManager into service (I thought that’s bug of spring data jpa, and tried that with EM)"},{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":0,"creation_date":1684678333,"post_id":76299652,"comment_id":134548822,"body_markdown":"@AndreyB.Panfilov upd: and yes, does not work either","body":"@AndreyB.Panfilov upd: and yes, does not work either"}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1684679414,"post_id":76300385,"comment_id":134548959,"body_markdown":"btw, in your case that would be better (faster) to mark `clicks_count` field/column and non-updatable (`@Column(... updatable = false ...)`) and update/increment it&#39;s value via direct update, i.e. `update link_info set clicks_count = clicks_count + :inc where id = :id`","body":"btw, in your case that would be better (faster) to mark <code>clicks_count</code> field/column and non-updatable (<code>@Column(... updatable = false ...)</code>) and update/increment it&#39;s value via direct update, i.e. <code>update link_info set clicks_count = clicks_count + :inc where id = :id</code>"}],"tags":[],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684679150,"creation_date":1684679150,"answer_id":76300385,"question_id":76299652,"body_markdown":"Fixed by changing version of hibernate. I had 6.2.1, migrated to 6.2.3.\r\nAnd now i have query:\r\n```\r\n    select\r\n        l1_0.id,\r\n        l1_0.clicks_count,\r\n        l1_0.created,\r\n        l1_0.owner_id,\r\n        l1_0.url\r\n    from\r\n        link_info.link l1_0\r\n    where\r\n        l1_0.id=? for no key update\r\n```","title":"Hibernate: select for update after select entity","body":"<p>Fixed by changing version of hibernate. I had 6.2.1, migrated to 6.2.3.\nAnd now i have query:</p>\n<pre><code>    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=? for no key update\n</code></pre>\n"}],"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76300385,"answer_count":1,"score":1,"last_activity_date":1684679150,"creation_date":1684668026,"question_id":76299652,"body_markdown":"Situation: the database stores URLs, and information on how many times they were clicked. Correspondingly, if there is a large load (for example, 100 requests at the same time), there is a great chance for a race condition, and we will, in fact, record a non-actual number of &quot;clicks&quot;.\r\nThe solution was the following: pessimistic blocking:\r\n```\r\n// entity\r\n@NamedQuery(\r\n    name = &quot;Link.findByIdForIncressClicks&quot;,\r\n    query = &quot;SELECT l FROM Link l WHERE l.id = :id&quot;,\r\n    lockMode = LockModeType.PESSIMISTIC_WRITE\r\n)\r\n\r\n// spring data jpa repository\r\n@Query(name = &quot;Link.findByIdForIncressClicks&quot;)\r\nOptional&lt;Link&gt; findByIdForIncressClicks(@Param(&quot;id&quot;) Long id);\r\n\r\n// service layer\r\n@Override\r\n@Transactional\r\npublic Link getLinkByShortCutURL(String shortUrl) {\r\n    Long id = encoder.decode(shortUrl);\r\n    // here i tried use native entitymanager...\r\n    // Link link = em.find(Link.class, id, PESSIMISTIC_WRITE);\r\n    Link link = linkRepository.findByIdForIncressClicks(id).get();\r\n    link.incressClicks();\r\n    return linkRepository.save(link);\r\n}\r\n```\r\n\r\nEverything seems to be ok. READ_COMMITTED level. But the wrong value is still being written to the database (tests via JMeter: 40 clicks, 35 saved)\r\nThe select of hibernate in console:\r\n```\r\nHibernate:\r\n    select\r\n        l1_0.id,\r\n        l1_0.clicks_count,\r\n        l1_0.created,\r\n        l1_0.owner_id,\r\n        l1_0.url\r\n    from\r\n        link_info.link l1_0\r\n    where\r\n        l1_0.id=?\r\nHibernate:\r\n    select\r\n        id\r\n    from\r\n        link_info.link\r\n    where\r\n        id=? for update\r\nHibernate:\r\n    update\r\n        link_info.link\r\n    set\r\n        clicks_count=?,\r\n        created=?,\r\n        owner_id=?\r\n    where\r\n        id=?\r\n```\r\nIdk, but hibernate doing first ```select entity```, \r\ninstead of ```select for update``` on ```id```.\r\n\r\nHow i can fix that? Maybe i have wrong using pessimistic locks in JPA?\r\n\r\nUPD. some details: spring-boot v3.1 (hibernate - 6.2.1.Final)","title":"Hibernate: select for update after select entity","body":"<p>Situation: the database stores URLs, and information on how many times they were clicked. Correspondingly, if there is a large load (for example, 100 requests at the same time), there is a great chance for a race condition, and we will, in fact, record a non-actual number of &quot;clicks&quot;.\nThe solution was the following: pessimistic blocking:</p>\n<pre><code>// entity\n@NamedQuery(\n    name = &quot;Link.findByIdForIncressClicks&quot;,\n    query = &quot;SELECT l FROM Link l WHERE l.id = :id&quot;,\n    lockMode = LockModeType.PESSIMISTIC_WRITE\n)\n\n// spring data jpa repository\n@Query(name = &quot;Link.findByIdForIncressClicks&quot;)\nOptional&lt;Link&gt; findByIdForIncressClicks(@Param(&quot;id&quot;) Long id);\n\n// service layer\n@Override\n@Transactional\npublic Link getLinkByShortCutURL(String shortUrl) {\n    Long id = encoder.decode(shortUrl);\n    // here i tried use native entitymanager...\n    // Link link = em.find(Link.class, id, PESSIMISTIC_WRITE);\n    Link link = linkRepository.findByIdForIncressClicks(id).get();\n    link.incressClicks();\n    return linkRepository.save(link);\n}\n</code></pre>\n<p>Everything seems to be ok. READ_COMMITTED level. But the wrong value is still being written to the database (tests via JMeter: 40 clicks, 35 saved)\nThe select of hibernate in console:</p>\n<pre><code>Hibernate:\n    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=?\nHibernate:\n    select\n        id\n    from\n        link_info.link\n    where\n        id=? for update\nHibernate:\n    update\n        link_info.link\n    set\n        clicks_count=?,\n        created=?,\n        owner_id=?\n    where\n        id=?\n</code></pre>\n<p>Idk, but hibernate doing first <code>select entity</code>,\ninstead of <code>select for update</code> on <code>id</code>.</p>\n<p>How i can fix that? Maybe i have wrong using pessimistic locks in JPA?</p>\n<p>UPD. some details: spring-boot v3.1 (hibernate - 6.2.1.Final)</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-security"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684444424,"post_id":76284526,"comment_id":134522632,"body_markdown":"Please give your complete pom file. Also add your security config.","body":"Please give your complete pom file. Also add your security config."},{"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"score":0,"creation_date":1684482950,"post_id":76284526,"comment_id":134526830,"body_markdown":"@ch4mp Thanks for your comment. I added the requested files.","body":"@ch4mp Thanks for your comment. I added the requested files."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1684487404,"post_id":76284526,"comment_id":134527693,"body_markdown":"why are you building your own JWT handling when spring security already has full support for handling JWTs? whats the point of using a security framework if you not intend to use its features?","body":"why are you building your own JWT handling when spring security already has full support for handling JWTs? whats the point of using a security framework if you not intend to use its features?"}],"answers":[{"comments":[{"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"score":0,"creation_date":1684494829,"post_id":76287904,"comment_id":134529133,"body_markdown":"I currently cannot change the security configuration itself. Can you elaborate on the second option. I also added some clarification in regards for it in the original post.","body":"I currently cannot change the security configuration itself. Can you elaborate on the second option. I also added some clarification in regards for it in the original post."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684507128,"post_id":76287904,"comment_id":134531815,"body_markdown":"It&#39;s already elaborated: remove `.with(SecurityMockMvcRequestPostProcessors.jwt())`, add `@WithMockUser`  next to `@Test`","body":"It&#39;s already elaborated: remove <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code>, add <code>@WithMockUser</code>  next to <code>@Test</code>"},{"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"score":0,"creation_date":1684672837,"post_id":76287904,"comment_id":134548178,"body_markdown":"I updated the post and added the **EDIT** section. As you said, I removed `.with(SecurityMockMvcRequestPostProcessors.jwt())` and added `@WithMockUser` as method annotation. When this didn&#39;t work I tried to add a user with `.with(user(&quot;user&quot;))` but it also did not work. I also posted the error message I get when added the annotation in the **EDIT** section. Is there another way to test the controller without simply skipping SpringSecurity with `@AutoConfigureMockMvc(addFilters = false)`?\nThans for your input!","body":"I updated the post and added the <b>EDIT</b> section. As you said, I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and added <code>@WithMockUser</code> as method annotation. When this didn&#39;t work I tried to add a user with <code>.with(user(&quot;user&quot;))</code> but it also did not work. I also posted the error message I get when added the annotation in the <b>EDIT</b> section. Is there another way to test the controller without simply skipping SpringSecurity with <code>@AutoConfigureMockMvc(addFilters = false)</code>? Thans for your input!"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684677411,"post_id":76287904,"comment_id":134548697,"body_markdown":"What is your `@Controller` code? It looks like the exception is not in security anymore.","body":"What is your <code>@Controller</code> code? It looks like the exception is not in security anymore."},{"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"score":0,"creation_date":1684679175,"post_id":76287904,"comment_id":134548925,"body_markdown":"I added the controller I am testing. Also I don&#39;t think that the MyService-Class is an issue because I am mocking the method call. Normally I use a similar testing setup with `.with(user(&quot;user&quot;))` where the same service-method mocking works mostly flawlessly. (but it&#39;s not with a custom JWT-Token)","body":"I added the controller I am testing. Also I don&#39;t think that the MyService-Class is an issue because I am mocking the method call. Normally I use a similar testing setup with <code>.with(user(&quot;user&quot;))</code> where the same service-method mocking works mostly flawlessly. (but it&#39;s not with a custom JWT-Token)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684689595,"post_id":76287904,"comment_id":134550188,"body_markdown":"Would you also add the `authenticationManager` bean referenced in the security configuration?","body":"Would you also add the <code>authenticationManager</code> bean referenced in the security configuration?"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684489665,"creation_date":1684489665,"answer_id":76287904,"question_id":76284526,"body_markdown":"I designed the `jwt()` request post-processor for MockMvc that you are using in your test, to populate the test security context with a `JwtAuthenticationToken` instance.\r\n\r\nThis adapted when configuring your web-security with `http.resourceServer().jwt()`, and requires to have `spring-security-oauth2-resource-server` as dependency (which is a transient dependency of `spring-boot-starter-oauth2-resource-server`, not `spring-boot-starter-security`).\r\n\r\nTwo options for you:\r\n- change your security configuration to use spring-security for resource servers to validate access-tokens and populate the security context with `JwtAuthenticationToken` instances: this will require to replace what you did arround `io.jsonwebtoken` with `spring-security-oauth2-reource-server` standard configuration\r\n- use something else than the `jwt()` post-processor to populate your test security context. If the Authentication type at runtime is `UsernamePasswordAuthenticationToken`, maybe the `@WithMockUser` annotation?\r\n\r\nI would favor the first option. ","title":"SpringBoot Controller Test with JWT Token gets NoClassDefFoundError for JwtGrantedAuthoritiesConverter","body":"<p>I designed the <code>jwt()</code> request post-processor for MockMvc that you are using in your test, to populate the test security context with a <code>JwtAuthenticationToken</code> instance.</p>\n<p>This adapted when configuring your web-security with <code>http.resourceServer().jwt()</code>, and requires to have <code>spring-security-oauth2-resource-server</code> as dependency (which is a transient dependency of <code>spring-boot-starter-oauth2-resource-server</code>, not <code>spring-boot-starter-security</code>).</p>\n<p>Two options for you:</p>\n<ul>\n<li>change your security configuration to use spring-security for resource servers to validate access-tokens and populate the security context with <code>JwtAuthenticationToken</code> instances: this will require to replace what you did arround <code>io.jsonwebtoken</code> with <code>spring-security-oauth2-reource-server</code> standard configuration</li>\n<li>use something else than the <code>jwt()</code> post-processor to populate your test security context. If the Authentication type at runtime is <code>UsernamePasswordAuthenticationToken</code>, maybe the <code>@WithMockUser</code> annotation?</li>\n</ul>\n<p>I would favor the first option.</p>\n"}],"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684678782,"creation_date":1684444262,"question_id":76284526,"body_markdown":"I&#39;m trying to write tests for controller methods. The application is secured with spring security and jwt-Token authentication. For the test I want to use requests to the controllers url and check if I get the responses I expect.\r\n\r\nThis is my current setup:\r\n\r\n```\r\n@WebMvcTest(MyController.class)\r\n@Import({ MyWebSecurityConfig.class })\r\nclass MyControllerTest\r\n{\r\n    @Autowired\r\n    private MockMvc                 mockMvc;\r\n\r\n    // Autowired in JWTAuthorizationFilter\r\n    // Throws &#39;FailedToLoadContext&#39; if its not mocked\r\n    @MockBean\r\n    JWTTokenUtils                   jwtTokenUtils;\r\n \r\n    // implementation of OncePerRequestFilter\r\n    @MockBean\r\n    JWTAuthorizationFilter          jwtAuthorizationFilter; \r\n\r\n    @MockBean\r\n    private MyService myService;\r\n\r\n    private final String            BASE_URL = &quot;/v1/endpoint&quot;;\r\n\r\n    @Test\r\n    void testGetByIdShouldReturnStatus200() throws Throwable\r\n    {\r\n\r\n        when(this.myService.getById(ArgumentMatchers.anyInt())).thenReturn(new TestBean());\r\n\r\n        ResultActions response = this.mockMvc.perform(\r\n             get(this.BASE_URL + &quot;/1&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .with(csrf())\r\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\r\n                    /* .authorities(List.of(new SimpleGrantedAuthority(&quot;test&quot;))) */\r\n                )\r\n             );\r\n\r\n        response.andExpect(status().is2xxSuccessful()).andDo(print());\r\n\r\n    }\r\n```\r\nMy controller:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/v1/endpoint&quot;)\r\npublic class MyController\r\n{\r\n    @Autowired\r\n    MyService     myService;\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public BlumeResultBean getById(@PathVariable int id, HttpServletResponse response)\r\n    {\r\n\r\n        logger.info(&quot;MyController.getById started&quot;);\r\n        try\r\n        {\r\n            return this.myService.getById(id);\r\n        } catch (UnknownBlumeException e)\r\n        {\r\n            response.setStatus(HttpServletResponse.SC_NOT_FOUND);\r\n        } catch (Exception e)\r\n        {\r\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n        } finally\r\n        {\r\n            logger.info(&quot;MyController.getById ended&quot;);\r\n            MDC.clear();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nMy pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mkhbrn.blume&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Blume&lt;/artifactId&gt;\r\n\t&lt;version&gt;develop&lt;/version&gt;\r\n\t&lt;name&gt;Blume&lt;/name&gt;\r\n\t&lt;description&gt;Blume - Analyze the flower growthcycle&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-archiver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.5.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.26&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t    &lt;dependencies&gt;\r\n\t      &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t        &lt;type&gt;pom&lt;/type&gt;\r\n\t        &lt;scope&gt;import&lt;/scope&gt;\r\n\t      &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n  \t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t        &lt;executable&gt;true&lt;/executable&gt;\r\n\t\t\t    &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nMy SecurityConfiguration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MyWebSecurityConfig extends WebSecurityConfigurerAdapter\r\n{\r\n    @Bean\r\n    public JWTAuthorizationFilter authorizationJwtTokenFilter()\r\n    {\r\n        return new JWTAuthorizationFilter();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .authorizeRequests()\r\n                    .anyRequest().permitAll();\r\n        http.addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also tried adding authorities to `jwt()` but I get the following error message in SpringToolSuite.\r\n\r\n&gt; The type org.springframework.security.oauth2.jwt.Jwt cannot be\r\n&gt; resolved.  It is indirectly referenced from required .class files\r\n\r\nWith the same setup and the authorities I get the following in IntelliJ:\r\n\r\n&gt; java: cannot access org.springframework.security.oauth2.jwt.Jwt  \r\n&gt; class file for org.springframework.security.oauth2.jwt.Jwt not found\r\n\r\n**EDIT**\r\n\r\nAs per the first answer from @ch4amp I removed `.with(SecurityMockMvcRequestPostProcessors.jwt())` and tried adding `@WithMockUser` at class and method level but I did not work. I also tried to add a user to the request itself with `.with(user(&quot;user&quot;))` but that also did not work.\r\nEach time I get the following error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Attribute name must not be null\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.mock.web.MockHttpServletRequest.setAttribute(MockHttpServletRequest.java:762)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)\r\n\tat com.mkhbrn.blume.controller.MyControllerTest.testGetByIdShouldReturnStatus200(MyControllerTest.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n```","title":"SpringBoot Controller Test with JWT Token gets NoClassDefFoundError for JwtGrantedAuthoritiesConverter","body":"<p>I'm trying to write tests for controller methods. The application is secured with spring security and jwt-Token authentication. For the test I want to use requests to the controllers url and check if I get the responses I expect.</p>\n<p>This is my current setup:</p>\n<pre><code>@WebMvcTest(MyController.class)\n@Import({ MyWebSecurityConfig.class })\nclass MyControllerTest\n{\n    @Autowired\n    private MockMvc                 mockMvc;\n\n    // Autowired in JWTAuthorizationFilter\n    // Throws 'FailedToLoadContext' if its not mocked\n    @MockBean\n    JWTTokenUtils                   jwtTokenUtils;\n \n    // implementation of OncePerRequestFilter\n    @MockBean\n    JWTAuthorizationFilter          jwtAuthorizationFilter; \n\n    @MockBean\n    private MyService myService;\n\n    private final String            BASE_URL = &quot;/v1/endpoint&quot;;\n\n    @Test\n    void testGetByIdShouldReturnStatus200() throws Throwable\n    {\n\n        when(this.myService.getById(ArgumentMatchers.anyInt())).thenReturn(new TestBean());\n\n        ResultActions response = this.mockMvc.perform(\n             get(this.BASE_URL + &quot;/1&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .with(csrf())\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\n                    /* .authorities(List.of(new SimpleGrantedAuthority(&quot;test&quot;))) */\n                )\n             );\n\n        response.andExpect(status().is2xxSuccessful()).andDo(print());\n\n    }\n</code></pre>\n<p>My controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/v1/endpoint&quot;)\npublic class MyController\n{\n    @Autowired\n    MyService     myService;\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public BlumeResultBean getById(@PathVariable int id, HttpServletResponse response)\n    {\n\n        logger.info(&quot;MyController.getById started&quot;);\n        try\n        {\n            return this.myService.getById(id);\n        } catch (UnknownBlumeException e)\n        {\n            response.setStatus(HttpServletResponse.SC_NOT_FOUND);\n        } catch (Exception e)\n        {\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        } finally\n        {\n            logger.info(&quot;MyController.getById ended&quot;);\n            MDC.clear();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mkhbrn.blume&lt;/groupId&gt;\n    &lt;artifactId&gt;Blume&lt;/artifactId&gt;\n    &lt;version&gt;develop&lt;/version&gt;\n    &lt;name&gt;Blume&lt;/name&gt;\n    &lt;description&gt;Blume - Analyze the flower growthcycle&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-archiver&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My SecurityConfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyWebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Bean\n    public JWTAuthorizationFilter authorizationJwtTokenFilter()\n    {\n        return new JWTAuthorizationFilter();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .authorizeRequests()\n                    .anyRequest().permitAll();\n        http.addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager()));\n    }\n\n}\n</code></pre>\n<p>I also tried adding authorities to <code>jwt()</code> but I get the following error message in SpringToolSuite.</p>\n<blockquote>\n<p>The type org.springframework.security.oauth2.jwt.Jwt cannot be\nresolved.  It is indirectly referenced from required .class files</p>\n</blockquote>\n<p>With the same setup and the authorities I get the following in IntelliJ:</p>\n<blockquote>\n<p>java: cannot access org.springframework.security.oauth2.jwt.Jwt<br />\nclass file for org.springframework.security.oauth2.jwt.Jwt not found</p>\n</blockquote>\n<p><strong>EDIT</strong></p>\n<p>As per the first answer from @ch4amp I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and tried adding <code>@WithMockUser</code> at class and method level but I did not work. I also tried to add a user to the request itself with <code>.with(user(&quot;user&quot;))</code> but that also did not work.\nEach time I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Attribute name must not be null\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.springframework.mock.web.MockHttpServletRequest.setAttribute(MockHttpServletRequest.java:762)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)\n    at com.mkhbrn.blume.controller.MyControllerTest.testGetByIdShouldReturnStatus200(MyControllerTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":9063694,"reputation":399,"user_id":6749368,"display_name":"Kazuki Shimizu"},"score":0,"creation_date":1572364550,"post_id":58522647,"comment_id":103532542,"body_markdown":"If you use spring(spring-boot), I propose to use the `SqlSessionFactoryBean` provided by mybatis-spring.","body":"If you use spring(spring-boot), I propose to use the <code>SqlSessionFactoryBean</code> provided by mybatis-spring."},{"owner":{"account_id":1046317,"reputation":996,"user_id":1051228,"accept_rate":44,"display_name":"sandeep"},"score":0,"creation_date":1588677094,"post_id":58522647,"comment_id":108983886,"body_markdown":"@Chris did you got any solution?","body":"@Chris did you got any solution?"}],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571839237,"creation_date":1571839237,"answer_id":58524622,"question_id":58522647,"body_markdown":"This is not provided out of the box in mybatis. The actual relation between mapper interface and mapper xml file is [hardcoded](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java#L169) in `MapperAnnotationBuilder` class:\r\n\r\n```\r\nString xmlResource = type.getName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;.xml&quot;;\r\n```\r\n\r\nAnd there is no built-in way to override this. In order to change this you need to implement your own equivalent of the `MapperAnnotationBuilder` (you can inherit most of its functionality but would need to override `parse` method in order to change call the method that would replace `loadXmlResource`):\r\n\r\n```\r\nclass MyMapperAnnotationBuilder extends MapperAnnotationBuilder {\r\n  public void parse() {\r\n    String resource = type.toString();\r\n    if (!configuration.isResourceLoaded(resource)) {\r\n      loadXmlResourceFromCustomPlace();\r\n      // ... continue as MapperAnnotationBuilder.parse method\r\n    }\r\n  }\r\n  void private loadXmlResourceFromCustomPlace() {\r\n    // this should be similar to MapperAnnotationBuilder.loadXmlResource\r\n    // but load resource from some other place\r\n  }\r\n}\r\n```\r\n\r\nNow you need to make use of `MyMapperAnnotationBuilder` in your own implementation of the class similar to `org.apache.ibatis.binding.MapperRegistry` (let&#39;s say you call it `MyMapperRegister`). You need to inherit from it and override `addMapper(Class&lt;T&gt; type)` method to use `MyMapperAnnotationBuilder`.\r\n\r\nAnd the final step is to use your mapper registry implementation in the `Configuration`. There is no way to set it externally so you would need to inherit from `Configuration` and use you mapper registry:\r\n\r\n```\r\nclass MyConfiguration extends Configuration {\r\n  public MyConfiguration{Environment environment) {\r\n    super(environment);\r\n    this.mapperRegistry = new MyMapperRegister(this);\r\n  }\r\n```\r\n\r\nAfter this you use `MyConfiguration` the same way you use `Configuration` to configure mybatis and it will load xml mappers from the place defined by the logic implemented in `MyMapperAnnotationBuilder.loadXmlResourceFromCustomPlace`.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Add xml mapper to the configuration of myBatis in the java code with path different than the interface one","body":"<p>This is not provided out of the box in mybatis. The actual relation between mapper interface and mapper xml file is <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java#L169\" rel=\"nofollow noreferrer\">hardcoded</a> in <code>MapperAnnotationBuilder</code> class:</p>\n\n<pre><code>String xmlResource = type.getName().replace('.', '/') + \".xml\";\n</code></pre>\n\n<p>And there is no built-in way to override this. In order to change this you need to implement your own equivalent of the <code>MapperAnnotationBuilder</code> (you can inherit most of its functionality but would need to override <code>parse</code> method in order to change call the method that would replace <code>loadXmlResource</code>):</p>\n\n<pre><code>class MyMapperAnnotationBuilder extends MapperAnnotationBuilder {\n  public void parse() {\n    String resource = type.toString();\n    if (!configuration.isResourceLoaded(resource)) {\n      loadXmlResourceFromCustomPlace();\n      // ... continue as MapperAnnotationBuilder.parse method\n    }\n  }\n  void private loadXmlResourceFromCustomPlace() {\n    // this should be similar to MapperAnnotationBuilder.loadXmlResource\n    // but load resource from some other place\n  }\n}\n</code></pre>\n\n<p>Now you need to make use of <code>MyMapperAnnotationBuilder</code> in your own implementation of the class similar to <code>org.apache.ibatis.binding.MapperRegistry</code> (let's say you call it <code>MyMapperRegister</code>). You need to inherit from it and override <code>addMapper(Class&lt;T&gt; type)</code> method to use <code>MyMapperAnnotationBuilder</code>.</p>\n\n<p>And the final step is to use your mapper registry implementation in the <code>Configuration</code>. There is no way to set it externally so you would need to inherit from <code>Configuration</code> and use you mapper registry:</p>\n\n<pre><code>class MyConfiguration extends Configuration {\n  public MyConfiguration{Environment environment) {\n    super(environment);\n    this.mapperRegistry = new MyMapperRegister(this);\n  }\n</code></pre>\n\n<p>After this you use <code>MyConfiguration</code> the same way you use <code>Configuration</code> to configure mybatis and it will load xml mappers from the place defined by the logic implemented in <code>MyMapperAnnotationBuilder.loadXmlResourceFromCustomPlace</code>.</p>\n"},{"tags":[],"owner":{"account_id":28647884,"reputation":1,"user_id":21935499,"display_name":"bayisehat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684678533,"creation_date":1684678533,"answer_id":76300337,"question_id":58522647,"body_markdown":"[MyBatis-spring](http://mybatis.org/spring/factorybean.html) supports mapper interface and mapper xml have different name. In this example, mapper interface `IMapper.java` is in package `com.example.myproject` and mapper xml is in `resources/mapper/mapper.xml`. An option is to use the `mapperLocations` property of the factory bean.\r\n\r\n    private DataSource dataSource(String driver, String url, String userName, String password) {\r\n        return new PooledDataSource(driver, url, userName, password);\r\n    }\r\n\r\n    public SqlSessionFactory createSqlSessionFactory(String driver, String url, String userName, String password) throws Exception {\r\n        SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\r\n        factoryBean.setTransactionFactory(new JdbcTransactionFactory());\r\n        factoryBean.setDataSource(dataSource(driver, url, userName, password));\r\n        factoryBean.setMapperLocations(\r\n                new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:mapper/*.xml&quot;)\r\n        );\r\n\r\n        return factoryBean.getObject();\r\n    }\r\nNotice the method `setMapperLocations` accepts `Resource` as a parameter, and here the path (using pattern) is `mapper/*.xml`.\r\nYou can using mapper interface like this:\r\n\r\n     try (SqlSession session = sqlSessionFactory.openSession()) {\r\n            IMapper mapper = session.getMapper(IMapper.class);\r\n            //execute query here\r\n        }","title":"Add xml mapper to the configuration of myBatis in the java code with path different than the interface one","body":"<p><a href=\"http://mybatis.org/spring/factorybean.html\" rel=\"nofollow noreferrer\">MyBatis-spring</a> supports mapper interface and mapper xml have different name. In this example, mapper interface <code>IMapper.java</code> is in package <code>com.example.myproject</code> and mapper xml is in <code>resources/mapper/mapper.xml</code>. An option is to use the <code>mapperLocations</code> property of the factory bean.</p>\n<pre><code>private DataSource dataSource(String driver, String url, String userName, String password) {\n    return new PooledDataSource(driver, url, userName, password);\n}\n\npublic SqlSessionFactory createSqlSessionFactory(String driver, String url, String userName, String password) throws Exception {\n    SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n    factoryBean.setTransactionFactory(new JdbcTransactionFactory());\n    factoryBean.setDataSource(dataSource(driver, url, userName, password));\n    factoryBean.setMapperLocations(\n            new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:mapper/*.xml&quot;)\n    );\n\n    return factoryBean.getObject();\n}\n</code></pre>\n<p>Notice the method <code>setMapperLocations</code> accepts <code>Resource</code> as a parameter, and here the path (using pattern) is <code>mapper/*.xml</code>.\nYou can using mapper interface like this:</p>\n<pre><code> try (SqlSession session = sqlSessionFactory.openSession()) {\n        IMapper mapper = session.getMapper(IMapper.class);\n        //execute query here\n    }\n</code></pre>\n"}],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1749,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684678533,"creation_date":1571832896,"question_id":58522647,"body_markdown":"I initialized my SqlSessionFactory in java code using an environment and datasource defined within the java code as below:\r\n\r\n    TransactionFactory trxFactory = new JdbcTransactionFactory();\r\n    Environment env = new Environment(&quot;development&quot;, trxFactory, dataSource);\r\n    Configuration config = new Configuration(env);\r\n    config.setJdbcTypeForNull(JdbcType.NULL);\r\n    TypeAliasRegistry aliases = config.getTypeAliasRegistry();\r\n    aliases.registerAlias(&quot;XXXAttempt&quot;, XXXAttemptDao.class);\r\n    config.addMapper(XXXAttemptMapper.class);\r\n    SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(config);\r\n\r\nmy problem is that I need to add my xml mappers here but I couldn&#39;t:\r\nI tried to use:\r\n\r\n    config.addMappers(&quot;config/mybatis/xxx/*.xml&quot;);\r\nand\r\n\r\n    config.addMappers(&quot;config/mybatis/xxx/*.xml&quot;);\r\nwith no luck. note that config.addMapper accepts only java class\r\n\r\nThe only way that worked is to move the xml file to the same package like the interface example to ([REFERENCE][1]):\r\n\r\n    config/com/example/mappers/XXXAttemptMapper.xml\r\n\r\nbut what I need is to be consistent with other projects and put the xml file in the below path:\r\n\r\n    config/myBatis/myDb/XXXAttemptMapper.xml\r\n\r\nhow to add the path for my xml file in the above location?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25152281/mybatis-adding-mapper-xml-file-to-java-created-configuration","title":"Add xml mapper to the configuration of myBatis in the java code with path different than the interface one","body":"<p>I initialized my SqlSessionFactory in java code using an environment and datasource defined within the java code as below:</p>\n\n<pre><code>TransactionFactory trxFactory = new JdbcTransactionFactory();\nEnvironment env = new Environment(\"development\", trxFactory, dataSource);\nConfiguration config = new Configuration(env);\nconfig.setJdbcTypeForNull(JdbcType.NULL);\nTypeAliasRegistry aliases = config.getTypeAliasRegistry();\naliases.registerAlias(\"XXXAttempt\", XXXAttemptDao.class);\nconfig.addMapper(XXXAttemptMapper.class);\nSqlSessionFactory factory = new SqlSessionFactoryBuilder().build(config);\n</code></pre>\n\n<p>my problem is that I need to add my xml mappers here but I couldn't:\nI tried to use:</p>\n\n<pre><code>config.addMappers(\"config/mybatis/xxx/*.xml\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>config.addMappers(\"config/mybatis/xxx/*.xml\");\n</code></pre>\n\n<p>with no luck. note that config.addMapper accepts only java class</p>\n\n<p>The only way that worked is to move the xml file to the same package like the interface example to (<a href=\"https://stackoverflow.com/questions/25152281/mybatis-adding-mapper-xml-file-to-java-created-configuration\">REFERENCE</a>):</p>\n\n<pre><code>config/com/example/mappers/XXXAttemptMapper.xml\n</code></pre>\n\n<p>but what I need is to be consistent with other projects and put the xml file in the below path:</p>\n\n<pre><code>config/myBatis/myDb/XXXAttemptMapper.xml\n</code></pre>\n\n<p>how to add the path for my xml file in the above location?</p>\n"},{"tags":["java","dynamic-programming","knapsack-problem"],"answers":[{"tags":[],"owner":{"account_id":5730246,"reputation":2931,"user_id":4526012,"accept_rate":44,"display_name":"SomeStudent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437162342,"creation_date":1437160630,"answer_id":31483162,"question_id":31482546,"body_markdown":"If all you need is to select the item with the lowest weight, then why not have it loop through the options and compare the weight of an `object[i]` with the weight of an object at `[i + 1]` if it is lower then just compare it to the next one, otherwise, `object[i] = object[i + 1]`, and so on. Did I understand the question correctly? ","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>If all you need is to select the item with the lowest weight, then why not have it loop through the options and compare the weight of an <code>object[i]</code> with the weight of an object at <code>[i + 1]</code> if it is lower then just compare it to the next one, otherwise, <code>object[i] = object[i + 1]</code>, and so on. Did I understand the question correctly? </p>\n"},{"comments":[{"owner":{"account_id":1622101,"reputation":197,"user_id":1498436,"accept_rate":50,"display_name":"Ankita"},"score":0,"creation_date":1437211037,"post_id":31488418,"comment_id":50943229,"body_markdown":"No, its not like i have to minimize weight all over.I have edited the question with problem statement. and if I remove items with same value with greater weight the DP won&#39;t maximize the value","body":"No, its not like i have to minimize weight all over.I have edited the question with problem statement. and if I remove items with same value with greater weight the DP won&#39;t maximize the value"},{"owner":{"account_id":5707064,"reputation":809,"user_id":4510219,"accept_rate":89,"display_name":"Shubham Sharma"},"score":1,"creation_date":1437216833,"post_id":31488418,"comment_id":50944646,"body_markdown":"@Ankita Did you see the complete Answer!! I have also answered the whole problem you mentioned as the other one was way more trivial!\nMorover this problem is same as Party Schedule on Spoj(Online Judge) and I have solved it using the same Logic as described in my answer! Please Do see and accept to promote the effort in case the answer is correct!","body":"@Ankita Did you see the complete Answer!! I have also answered the whole problem you mentioned as the other one was way more trivial! Morover this problem is same as Party Schedule on Spoj(Online Judge) and I have solved it using the same Logic as described in my answer! Please Do see and accept to promote the effort in case the answer is correct!"},{"owner":{"account_id":1622101,"reputation":197,"user_id":1498436,"accept_rate":50,"display_name":"Ankita"},"score":0,"creation_date":1437235376,"post_id":31488418,"comment_id":50949337,"body_markdown":"I am accepting this answer as it solves  maximise value with minimising Weight , however I followed a different approach now to first sort the items in their ascending order of weight.","body":"I am accepting this answer as it solves  maximise value with minimising Weight , however I followed a different approach now to first sort the items in their ascending order of weight."},{"owner":{"account_id":5707064,"reputation":809,"user_id":4510219,"accept_rate":89,"display_name":"Shubham Sharma"},"score":0,"creation_date":1437236698,"post_id":31488418,"comment_id":50949787,"body_markdown":"Sorting on the basis of weight would not ensure optimal cost that will have an issue!","body":"Sorting on the basis of weight would not ensure optimal cost that will have an issue!"},{"owner":{"account_id":2631510,"reputation":321,"user_id":2277343,"accept_rate":58,"display_name":"Abhay Hegde"},"score":0,"creation_date":1486839983,"post_id":31488418,"comment_id":71523022,"body_markdown":"@ShubhamSharma , do we need to use an additional array for weights? weight[][]","body":"@ShubhamSharma , do we need to use an additional array for weights? weight[][]"}],"tags":[],"owner":{"account_id":5707064,"reputation":809,"user_id":4510219,"accept_rate":89,"display_name":"Shubham Sharma"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1437216845,"creation_date":1437200320,"answer_id":31488418,"question_id":31482546,"body_markdown":"If you mean to **maximise value** with minimising **Weight** . You can check that\r\n\r\nLet DP[i][j] be the maximal value that can be obtained! \r\n\r\nAnd W[i][j] the minimal weight that is to be used!!\r\n\r\nThen,\r\n\r\n    if(Current Weight &gt; Element&#39;s Weight)\r\n    {\r\n          if(DP[i-1][j-Weight[i]]+Value[i]&gt;DP[i-1][j]){\r\n                 DP[i][j]=DP[i-1][j-Weight[i]]+Value[i];\r\n                 Weight[i][j]= Weight[i-1][j-Weight[i]]+Value[i]\r\n          }\r\n          else if(DP[i-1][j-Weight[i]]+Value[i] &lt;  DP[i-1][j] ){\r\n                 DP[i][j]=DP[i-1][j];\r\n                 Weight[i][j]=Weight[i-1][j];\r\n          } \r\n          else{                   //Note this is the tricky part elsewise the \r\n                                  //Above conditions are simple Knapsack conditions\r\n\r\n                 DP[i][j]=DP[i-1][j];   //Both of them are equal We will get same Value . Thus we cannot maximise it in any other way!!\r\n                 Weight[i][j]=minimum ( Weight[i-1][j] ,Weight[i-1][j-Weight[i]]+A[i]);\r\n\r\n          }\r\n    }\r\n    else\r\n    {\r\n                 DP[i][j]=DP[i-1][j];\r\n                 Weight[i][j]=Weight[i-1][j];\r\n    }\r\n\r\n**Note** the solution is trivial unless the third condition in first if!\r\nWe need to maximise the fun at any cost! So we aren&#39;t Messing with it !\r\nBut when the fun from both cases is same , We need to pick the  one with lesser weight elsewise We will end up having more weight for same value of knapsack!\r\n\r\nI have assumed you know knapsack 0/1 problem that is why I haven&#39;t explained first and second conditions !!\r\n","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>If you mean to <strong>maximise value</strong> with minimising <strong>Weight</strong> . You can check that</p>\n\n<p>Let DP[i][j] be the maximal value that can be obtained! </p>\n\n<p>And W[i][j] the minimal weight that is to be used!!</p>\n\n<p>Then,</p>\n\n<pre><code>if(Current Weight &gt; Element's Weight)\n{\n      if(DP[i-1][j-Weight[i]]+Value[i]&gt;DP[i-1][j]){\n             DP[i][j]=DP[i-1][j-Weight[i]]+Value[i];\n             Weight[i][j]= Weight[i-1][j-Weight[i]]+Value[i]\n      }\n      else if(DP[i-1][j-Weight[i]]+Value[i] &lt;  DP[i-1][j] ){\n             DP[i][j]=DP[i-1][j];\n             Weight[i][j]=Weight[i-1][j];\n      } \n      else{                   //Note this is the tricky part elsewise the \n                              //Above conditions are simple Knapsack conditions\n\n             DP[i][j]=DP[i-1][j];   //Both of them are equal We will get same Value . Thus we cannot maximise it in any other way!!\n             Weight[i][j]=minimum ( Weight[i-1][j] ,Weight[i-1][j-Weight[i]]+A[i]);\n\n      }\n}\nelse\n{\n             DP[i][j]=DP[i-1][j];\n             Weight[i][j]=Weight[i-1][j];\n}\n</code></pre>\n\n<p><strong>Note</strong> the solution is trivial unless the third condition in first if!\nWe need to maximise the fun at any cost! So we aren't Messing with it !\nBut when the fun from both cases is same , We need to pick the  one with lesser weight elsewise We will end up having more weight for same value of knapsack!</p>\n\n<p>I have assumed you know knapsack 0/1 problem that is why I haven't explained first and second conditions !!</p>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684678484,"creation_date":1684678484,"answer_id":76300334,"question_id":31482546,"body_markdown":"You can use `Branch and Bound Algorithm` for it.\r\n\r\nSample code-\r\n\r\nConsidering Item is your POJO with weight and price.\r\nIntroduce a method `byRatio()` as follows-\r\n\r\n     public static Comparator&lt;Item&gt; byRatio() {\r\n            return (i1, i2) -&gt; Double.compare(i2.calculateRatio(), i1.calculateRatio());\r\n        }\r\n\r\n    public double calculateRatio() {\r\n            return price / weight;\r\n        }\r\n\r\nThis will help in sorting the list of items by ratio.\r\n\r\nLet&#39;s write the core logic now -\r\n\r\n     public List&lt;Item&gt; buildOptimalPackageWithBBAlgo(List&lt;Item&gt; items, double maxWeight) {\r\n            items.sort(Item.byRatio());\r\n            Node optimal = fetchOptimalNode(items, maxWeight);\r\n            return optimal.items;\r\n        }\r\n\r\n     /**\r\n         * This method used Branch and bound algorithm to search for the\r\n         * optimal node.\r\n         *\r\n         * @param  items  sorted items by ratio of price to weight\r\n         * @param  maxWeight maximum weight the package is allowed to hold\r\n         * @return optimal node\r\n         */\r\n    private Node fetchOptimalNode(List&lt;Item&gt; items, double maxWeight) {\r\n        Node optimal = new Node();\r\n        Node root = new Node();\r\n        root.calculateBound(items, maxWeight);\r\n\r\n        PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;&gt;();\r\n        queue.offer(root);\r\n\r\n        while (!queue.isEmpty()) {\r\n            Node node = queue.poll();\r\n\r\n            if (node.bound &gt; optimal.price &amp;&amp; node.height &lt; items.size() - 1) {\r\n\r\n                Node edgeNode = new Node(node);\r\n                Item item = items.get(node.height);\r\n                edgeNode.weight += item.getWeight();\r\n\r\n                if (edgeNode.weight &lt;= maxWeight) {\r\n\r\n                    edgeNode.items.add(items.get(node.height));\r\n                    edgeNode.price += item.getPrice();\r\n                    edgeNode.calculateBound(items, maxWeight);\r\n\r\n                    if (edgeNode.price &gt; optimal.price) {\r\n                        optimal = edgeNode;\r\n                    }\r\n                    if (edgeNode.bound &gt; optimal.price) {\r\n                        queue.offer(edgeNode);\r\n                    }\r\n                }\r\n\r\n                Node leafNode = new Node(node);\r\n                leafNode.calculateBound(items, maxWeight);\r\n\r\n                if (leafNode.bound &gt; optimal.price) {\r\n                    queue.offer(leafNode);\r\n                }\r\n            }\r\n        }\r\n        return optimal;\r\n    }\r\n\r\n    private class Node implements Comparable&lt;Node&gt; {\r\n\r\n        public int height;\r\n        List&lt;Item&gt; items;\r\n        public double bound;\r\n        public double price;\r\n        public double weight;\r\n\r\n        public Node() {\r\n            items = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        public Node(Node parent) {\r\n            height = parent.height + 1;\r\n            items = new ArrayList&lt;&gt;(parent.items);\r\n            bound = parent.bound;\r\n            price = parent.price;\r\n            weight = parent.weight;\r\n        }\r\n\r\n        public int compareTo(Node other) {\r\n            return (int) (other.bound - bound);\r\n        }\r\n\r\n        private void calculateBound(List&lt;Item&gt; items, double maxWeight) {\r\n            int i = height;\r\n            double w = weight;\r\n            bound = price;\r\n            Item item;\r\n            do {\r\n                item = items.get(i);\r\n                if (w + item.getWeight() &gt; maxWeight) break;\r\n                w += item.getWeight();\r\n                bound += item.getPrice();\r\n                i++;\r\n            } while (i &lt; items.size());\r\n            bound += (maxWeight - w) * (item.getPrice() / item.getWeight());\r\n        }\r\n    }\r\n\r\n**Limitations** - This logic works only for items more than 2.\r\nFor less than 2 items, this is over engineering with respect to Time complexity.\r\n\r\nJust use greedy algorithm approach for it.","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>You can use <code>Branch and Bound Algorithm</code> for it.</p>\n<p>Sample code-</p>\n<p>Considering Item is your POJO with weight and price.\nIntroduce a method <code>byRatio()</code> as follows-</p>\n<pre><code> public static Comparator&lt;Item&gt; byRatio() {\n        return (i1, i2) -&gt; Double.compare(i2.calculateRatio(), i1.calculateRatio());\n    }\n\npublic double calculateRatio() {\n        return price / weight;\n    }\n</code></pre>\n<p>This will help in sorting the list of items by ratio.</p>\n<p>Let's write the core logic now -</p>\n<pre><code> public List&lt;Item&gt; buildOptimalPackageWithBBAlgo(List&lt;Item&gt; items, double maxWeight) {\n        items.sort(Item.byRatio());\n        Node optimal = fetchOptimalNode(items, maxWeight);\n        return optimal.items;\n    }\n\n /**\n     * This method used Branch and bound algorithm to search for the\n     * optimal node.\n     *\n     * @param  items  sorted items by ratio of price to weight\n     * @param  maxWeight maximum weight the package is allowed to hold\n     * @return optimal node\n     */\nprivate Node fetchOptimalNode(List&lt;Item&gt; items, double maxWeight) {\n    Node optimal = new Node();\n    Node root = new Node();\n    root.calculateBound(items, maxWeight);\n\n    PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;&gt;();\n    queue.offer(root);\n\n    while (!queue.isEmpty()) {\n        Node node = queue.poll();\n\n        if (node.bound &gt; optimal.price &amp;&amp; node.height &lt; items.size() - 1) {\n\n            Node edgeNode = new Node(node);\n            Item item = items.get(node.height);\n            edgeNode.weight += item.getWeight();\n\n            if (edgeNode.weight &lt;= maxWeight) {\n\n                edgeNode.items.add(items.get(node.height));\n                edgeNode.price += item.getPrice();\n                edgeNode.calculateBound(items, maxWeight);\n\n                if (edgeNode.price &gt; optimal.price) {\n                    optimal = edgeNode;\n                }\n                if (edgeNode.bound &gt; optimal.price) {\n                    queue.offer(edgeNode);\n                }\n            }\n\n            Node leafNode = new Node(node);\n            leafNode.calculateBound(items, maxWeight);\n\n            if (leafNode.bound &gt; optimal.price) {\n                queue.offer(leafNode);\n            }\n        }\n    }\n    return optimal;\n}\n\nprivate class Node implements Comparable&lt;Node&gt; {\n\n    public int height;\n    List&lt;Item&gt; items;\n    public double bound;\n    public double price;\n    public double weight;\n\n    public Node() {\n        items = new ArrayList&lt;&gt;();\n    }\n\n    public Node(Node parent) {\n        height = parent.height + 1;\n        items = new ArrayList&lt;&gt;(parent.items);\n        bound = parent.bound;\n        price = parent.price;\n        weight = parent.weight;\n    }\n\n    public int compareTo(Node other) {\n        return (int) (other.bound - bound);\n    }\n\n    private void calculateBound(List&lt;Item&gt; items, double maxWeight) {\n        int i = height;\n        double w = weight;\n        bound = price;\n        Item item;\n        do {\n            item = items.get(i);\n            if (w + item.getWeight() &gt; maxWeight) break;\n            w += item.getWeight();\n            bound += item.getPrice();\n            i++;\n        } while (i &lt; items.size());\n        bound += (maxWeight - w) * (item.getPrice() / item.getWeight());\n    }\n}\n</code></pre>\n<p><strong>Limitations</strong> - This logic works only for items more than 2.\nFor less than 2 items, this is over engineering with respect to Time complexity.</p>\n<p>Just use greedy algorithm approach for it.</p>\n"}],"owner":{"account_id":1622101,"reputation":197,"user_id":1498436,"accept_rate":50,"display_name":"Ankita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":31488418,"answer_count":3,"score":4,"last_activity_date":1684678484,"creation_date":1437158325,"question_id":31482546,"body_markdown":"In 0/1 knapsack problem, how do I select items, if two items have same value. The value with the lesser weight should be selected , how do I check that condition? I have the following function using Dynamic programming.\r\n\r\n\r\n    static int[] knapsack(int maxWeight, double[] weight, double[] value, int n) {\r\n    \t//n = no. if items\r\n        int i, w;\r\n     \r\n        double array[][] = new double[n + 1][maxWeight + 1];\r\n        for (i = 0; i &lt;= n; i++) {\r\n            for (w = 0; w &lt;= maxWeight; w++) {\r\n                if (i == 0 || w == 0)\r\n            \t\tarray[i][w] = 0;\r\n            \telse if (weight[i - 1] &lt;= w)\r\n                    array[i][w] = max(value[i - 1] + array[i - 1][(w -(int) weight[i - 1])], array[i - 1][w]);\r\n                else\r\n                    array[i][w] = array[i - 1][w];\r\n            \tif (i != 0 || w != 0)\r\n            \t    System.out.print(array[i][w] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n            \t\r\n    \tint[] selected = new int[n + 1];\r\n    \tfor (int j = n, wt = maxWeight; j &gt; 0; j--) {\t\r\n    \t    if (array[j][wt] != array[j - 1][wt]) {\r\n    \t        if (array[j][wt] == array[j][wt - 1]) {\r\n    \t            selected[j] = 0;\r\n    \t            break;\r\n    \t        }\r\n    \t        selected[j] = 1;\r\n    \t        wt = wt - (int) weight[j - 1];\r\n    \t    }\r\n    \t    else\r\n    \t        selected[j] = 0;\r\n    \t}\r\n    \t/** Print finally selected items **/\r\n    \tSystem.out.println(&quot;\\nItems selected : &quot;);\r\n    \tfor (int k = 1; k &lt; n + 1; k++)\r\n    \t    if (selected[k] == 1)\r\n    \t        System.out.print(k +&quot; &quot;);\r\n    \t    System.out.println();\r\n    \t    \r\n    \t\treturn selected;\r\n    }\r\n\r\n\r\n\r\nFor this type of case : (i,v): (4,45)(3,20)(5,30)(2,45) ,maxWeight = 5;\r\n where item 1 and 4 have same value, it should select the item with lesser weight that is 4th. how do I implement this condition in above code.\r\nProblem statement :\r\n\r\n&gt;  Your goal is to determine which things to put into the\r\n&gt; package so that the total weight is less than or equal to the package\r\n&gt; limit and the total cost is as large as possible. You would prefer to\r\n&gt; send a package which weights less in case there is more than one\r\n&gt; package with the same price.","title":"Select items in 0/1 knapsack ,where two items have same benefits |maximize value and minimize weight","body":"<p>In 0/1 knapsack problem, how do I select items, if two items have same value. The value with the lesser weight should be selected , how do I check that condition? I have the following function using Dynamic programming.</p>\n\n<pre><code>static int[] knapsack(int maxWeight, double[] weight, double[] value, int n) {\n    //n = no. if items\n    int i, w;\n\n    double array[][] = new double[n + 1][maxWeight + 1];\n    for (i = 0; i &lt;= n; i++) {\n        for (w = 0; w &lt;= maxWeight; w++) {\n            if (i == 0 || w == 0)\n                array[i][w] = 0;\n            else if (weight[i - 1] &lt;= w)\n                array[i][w] = max(value[i - 1] + array[i - 1][(w -(int) weight[i - 1])], array[i - 1][w]);\n            else\n                array[i][w] = array[i - 1][w];\n            if (i != 0 || w != 0)\n                System.out.print(array[i][w] + \"\\t\");\n        }\n        System.out.println();\n    }\n\n    int[] selected = new int[n + 1];\n    for (int j = n, wt = maxWeight; j &gt; 0; j--) {   \n        if (array[j][wt] != array[j - 1][wt]) {\n            if (array[j][wt] == array[j][wt - 1]) {\n                selected[j] = 0;\n                break;\n            }\n            selected[j] = 1;\n            wt = wt - (int) weight[j - 1];\n        }\n        else\n            selected[j] = 0;\n    }\n    /** Print finally selected items **/\n    System.out.println(\"\\nItems selected : \");\n    for (int k = 1; k &lt; n + 1; k++)\n        if (selected[k] == 1)\n            System.out.print(k +\" \");\n        System.out.println();\n\n        return selected;\n}\n</code></pre>\n\n<p>For this type of case : (i,v): (4,45)(3,20)(5,30)(2,45) ,maxWeight = 5;\n where item 1 and 4 have same value, it should select the item with lesser weight that is 4th. how do I implement this condition in above code.\nProblem statement :</p>\n\n<blockquote>\n  <p>Your goal is to determine which things to put into the\n  package so that the total weight is less than or equal to the package\n  limit and the total cost is as large as possible. You would prefer to\n  send a package which weights less in case there is more than one\n  package with the same price.</p>\n</blockquote>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1684678052,"post_id":76300287,"comment_id":134548785,"body_markdown":"you probably would be better off with a `Map` where the key is the value in the original list and the value is it&#39;s frequency. Then you can loop over the `Map.entrySet()` and print each key and value from there.","body":"you probably would be better off with a <code>Map</code> where the key is the value in the original list and the value is it&#39;s frequency. Then you can loop over the <code>Map.entrySet()</code> and print each key and value from there."},{"owner":{"account_id":28647783,"reputation":11,"user_id":21935423,"display_name":"Alex "},"score":0,"creation_date":1684694367,"post_id":76300287,"comment_id":134550804,"body_markdown":"Oh yeah, I guess a map is better than a class whose the function is just the same. Thanks!","body":"Oh yeah, I guess a map is better than a class whose the function is just the same. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":28647783,"reputation":11,"user_id":21935423,"display_name":"Alex "},"score":1,"creation_date":1684694779,"post_id":76300303,"comment_id":134550848,"body_markdown":"It worked like a charm, I don&#39;t understand all the method calls but I&#39;ll just read the documentation, thank you very much!","body":"It worked like a charm, I don&#39;t understand all the method calls but I&#39;ll just read the documentation, thank you very much!"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684678079,"creation_date":1684678079,"answer_id":76300303,"question_id":76300287,"body_markdown":"Using a list to represent the result sounds a bit strange to be. The textbook solution would be to create a frequency map, where the key is the sample and the value is its frequency:\r\n\r\n```java\r\nLinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\r\nMap&lt;Double, Long&gt; frequencies = \r\n    sampleList.stream()\r\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting());\r\n```","title":"How to create a list with frequency from an existing list","body":"<p>Using a list to represent the result sounds a bit strange to be. The textbook solution would be to create a frequency map, where the key is the sample and the value is its frequency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\nMap&lt;Double, Long&gt; frequencies = \n    sampleList.stream()\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting());\n</code></pre>\n"}],"owner":{"account_id":28647783,"reputation":11,"user_id":21935423,"display_name":"Alex "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684678079,"creation_date":1684677785,"question_id":76300287,"body_markdown":"I just started working on a project, its purpose is to be a tool for my statistics class, I&#39;m currently working on a console based so once I&#39;m done with it I can move on and use UI. But I&#39;m stuck in this problem, I want to create a new list based on my existing list.\r\n\r\n```\r\npublic class Main {\r\n\r\n\tclass ModifiedSample {\r\n\t\tdouble item;\r\n\t\tint frequency;\r\n\r\n\t\tModifiedSample(Double item, int frequency) {\r\n\t\t\tthis.item = item;\r\n\t\t\tthis.frequency = frequency;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tLinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\r\n\t\tLinkedList&lt;ModifiedSample&gt; modifiedSampleList = new LinkedList&lt;ModifiedSample&gt;();\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThis is my simplified version of the class, I do have scanners and all that jazz.\r\n\r\nIf my sampleList = {2, 2, 3, 4, 5, 5, 5, 5, 6},\r\nhow can I make a modifiedSampleList = {sample1, sample2, sample3, sample4, sample5}\r\nso that if create a method like:\r\n\r\n```\r\nstatic void printSampleSpace(LinkedList&lt;ModifiedSample&gt; modifiedSampleList) {\r\n\tfor(ModifiedSample ms : modifiedSampleList) {\r\n\t\tSystem.out.println(&quot;item: &quot; + ms.item);\r\n\t\tSystem.out.println(&quot;frequency: &quot; + ms.frequency);\r\n\t}\r\n}\r\n```\r\n\r\nI can get\r\n\r\n```\r\nitem: 2                                                                          \r\nfrequency: 2                                                                     \r\nitem: 3                                                                   \r\nfrequency: 1                                                                          \r\nitem: 4                                                                               \r\nfrequency: 1                                                                          \r\nitem: 5                                                                       \r\nfrequency: 4                                                                          \r\nitem: 6                                                                               \r\nfrequency: 1  \r\n```\r\n\r\nSo I&#39;m stuck in finding a solution for this problem.","title":"How to create a list with frequency from an existing list","body":"<p>I just started working on a project, its purpose is to be a tool for my statistics class, I'm currently working on a console based so once I'm done with it I can move on and use UI. But I'm stuck in this problem, I want to create a new list based on my existing list.</p>\n<pre><code>public class Main {\n\n    class ModifiedSample {\n        double item;\n        int frequency;\n\n        ModifiedSample(Double item, int frequency) {\n            this.item = item;\n            this.frequency = frequency;\n        }\n    }\n\n    public static void main(String[] args) {\n        LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\n        LinkedList&lt;ModifiedSample&gt; modifiedSampleList = new LinkedList&lt;ModifiedSample&gt;();\n\n    }\n    \n}\n</code></pre>\n<p>This is my simplified version of the class, I do have scanners and all that jazz.</p>\n<p>If my sampleList = {2, 2, 3, 4, 5, 5, 5, 5, 6},\nhow can I make a modifiedSampleList = {sample1, sample2, sample3, sample4, sample5}\nso that if create a method like:</p>\n<pre><code>static void printSampleSpace(LinkedList&lt;ModifiedSample&gt; modifiedSampleList) {\n    for(ModifiedSample ms : modifiedSampleList) {\n        System.out.println(&quot;item: &quot; + ms.item);\n        System.out.println(&quot;frequency: &quot; + ms.frequency);\n    }\n}\n</code></pre>\n<p>I can get</p>\n<pre><code>item: 2                                                                          \nfrequency: 2                                                                     \nitem: 3                                                                   \nfrequency: 1                                                                          \nitem: 4                                                                               \nfrequency: 1                                                                          \nitem: 5                                                                       \nfrequency: 4                                                                          \nitem: 6                                                                               \nfrequency: 1  \n</code></pre>\n<p>So I'm stuck in finding a solution for this problem.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":380765,"reputation":1466,"user_id":735007,"accept_rate":83,"display_name":"idanakav"},"score":1,"creation_date":1361718005,"post_id":15052238,"comment_id":21161857,"body_markdown":"getX() should do the job..  did you try to move it and check ?","body":"getX() should do the job..  did you try to move it and check ?"}],"answers":[{"comments":[{"owner":{"account_id":484389,"reputation":1888,"user_id":900026,"display_name":"Vitaliy Polchuk"},"score":0,"creation_date":1481285789,"post_id":15056534,"comment_id":69326879,"body_markdown":"It&#39;s necessary to create Vector2 with zero coordinates (Vector2 coords = new Vector2(0, 0); )","body":"It&#39;s necessary to create Vector2 with zero coordinates (Vector2 coords = new Vector2(0, 0); )"}],"tags":[],"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1361739224,"creation_date":1361739224,"answer_id":15056534,"question_id":15052238,"body_markdown":"I believe `getX()` and `getY()` on an `Actor` are relative to their parent container, so you&#39;ll need to convert the coordinates to &quot;stage&quot; coordinates, and then from there to &quot;screen&quot; coordinates.  (I think there is an easier way to do this, so there may be a better answer out there).\r\n\r\n    Image myImage = ...;\r\n    Vector2 coords = new Vector2(myImage.getX(), myImage.getY());\r\n    myImage.localToStageCoordinates(/*in/out*/coords);\r\n    myImage.getStage().stageToScreenCoordinates(/*in/out*/coords);\r\n\r\n    System.out.println(&quot;Image X &quot; +myImage.get()+ &quot; maps to screen &quot; +coords.x);\r\n\r\n","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>I believe <code>getX()</code> and <code>getY()</code> on an <code>Actor</code> are relative to their parent container, so you'll need to convert the coordinates to \"stage\" coordinates, and then from there to \"screen\" coordinates.  (I think there is an easier way to do this, so there may be a better answer out there).</p>\n\n<pre><code>Image myImage = ...;\nVector2 coords = new Vector2(myImage.getX(), myImage.getY());\nmyImage.localToStageCoordinates(/*in/out*/coords);\nmyImage.getStage().stageToScreenCoordinates(/*in/out*/coords);\n\nSystem.out.println(\"Image X \" +myImage.get()+ \" maps to screen \" +coords.x);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2010539"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371639913,"creation_date":1371639913,"answer_id":17189565,"question_id":15052238,"body_markdown":"Just a guess!!! - Moving the image &amp; checking for position but getX() returning 0.0 might be because its the camera which moves &amp; produces the movement effect, image may havenot been moved at all &amp; tsayed at the initial position of 0.0 (i think this might be the thing you are missing) ","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>Just a guess!!! - Moving the image &amp; checking for position but getX() returning 0.0 might be because its the camera which moves &amp; produces the movement effect, image may havenot been moved at all &amp; tsayed at the initial position of 0.0 (i think this might be the thing you are missing) </p>\n"},{"tags":[],"owner":{"account_id":1363964,"reputation":703,"user_id":1300794,"display_name":"Emperor Orionii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684677434,"creation_date":1684677434,"answer_id":76300254,"question_id":15052238,"body_markdown":"Now `Actor`s have `localToScreenCoordinates` to get what you need in one call:\r\n\r\n    Vector2 screenPosition = myImage.localToScreenCoordinates(new Vector2(0f, 0f))","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>Now <code>Actor</code>s have <code>localToScreenCoordinates</code> to get what you need in one call:</p>\n<pre><code>Vector2 screenPosition = myImage.localToScreenCoordinates(new Vector2(0f, 0f))\n</code></pre>\n"}],"owner":{"account_id":1734517,"reputation":1285,"user_id":1587395,"accept_rate":85,"display_name":"Alf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15056534,"answer_count":3,"score":4,"last_activity_date":1684677434,"creation_date":1361712841,"question_id":15052238,"body_markdown":"I have this piece of code:\r\n\r\n    Image myImage = new Image(new Texture(&quot;data/file.png&quot;));\r\n\r\nHow to get `myImage` position on a screen?  I tried `myImage.getX()` and `myImage.getImageX()` both always return 0.0. What&#39;s wrong?","title":"Get screen position of Image (or actor) in Libgdx Stage","body":"<p>I have this piece of code:</p>\n\n<pre><code>Image myImage = new Image(new Texture(\"data/file.png\"));\n</code></pre>\n\n<p>How to get <code>myImage</code> position on a screen?  I tried <code>myImage.getX()</code> and <code>myImage.getImageX()</code> both always return 0.0. What's wrong?</p>\n"},{"tags":["java","http","servlets","post"],"comments":[{"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"score":0,"creation_date":1359131316,"post_id":14525982,"comment_id":20254416,"body_markdown":"you need to specify which parameter e.g. if you have keyword in the body use String keyword = request.getParameter(&quot;keyword&quot;);","body":"you need to specify which parameter e.g. if you have keyword in the body use String keyword = request.getParameter(&quot;keyword&quot;);"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1359131443,"post_id":14525982,"comment_id":20254496,"body_markdown":"It&#39;d be interesting to see the JavaScript code sending the request. It&#39;s apparently composing the request parameters in a wrong way.","body":"It&#39;d be interesting to see the JavaScript code sending the request. It&#39;s apparently composing the request parameters in a wrong way."},{"owner":{"account_id":1059184,"reputation":1901,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"score":0,"creation_date":1359131590,"post_id":14525982,"comment_id":20254578,"body_markdown":"@Razh well yes I know, I was just specifying which methods I was trying.\nBalusC I am using the resumable.js library to handle split file uploads","body":"@Razh well yes I know, I was just specifying which methods I was trying. BalusC I am using the resumable.js library to handle split file uploads"},{"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"score":4,"creation_date":1367358748,"post_id":14525982,"comment_id":23352043,"body_markdown":"If I&#39;m not mistaking, it&#39;s important that you do NOT use request.getParameter() prior to reading from the input stream otherwise no data will be available (already read).","body":"If I&#39;m not mistaking, it&#39;s important that you do NOT use request.getParameter() prior to reading from the input stream otherwise no data will be available (already read)."}],"answers":[{"comments":[{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":4,"creation_date":1359132389,"post_id":14526070,"comment_id":20255116,"body_markdown":"No problems, it&#39;s a bit hidden that one","body":"No problems, it&#39;s a bit hidden that one"},{"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"score":30,"creation_date":1406715458,"post_id":14526070,"comment_id":38934436,"body_markdown":"This post may be useful if you&#39;ve just used this in a filter and then discovered nothing else can read the body again!  http://natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.html","body":"This post may be useful if you&#39;ve just used this in a filter and then discovered nothing else can read the body again!  <a href=\"http://natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.html\" rel=\"nofollow noreferrer\">natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":3,"creation_date":1557931800,"post_id":14526070,"comment_id":98933756,"body_markdown":"@SgtPooki feel free to add some reasoning for that comment, my good sir!","body":"@SgtPooki feel free to add some reasoning for that comment, my good sir!"},{"owner":{"account_id":290929,"reputation":11181,"user_id":592760,"accept_rate":100,"display_name":"SgtPooki"},"score":0,"creation_date":1557946345,"post_id":14526070,"comment_id":98940927,"body_markdown":"@davidfrancis I&#39;m not trying to judge you personally here, but: you have provided no context.. no link to documentation, no example. Your reply to my comment seems to have required more effort than the answer itself.","body":"@davidfrancis I&#39;m not trying to judge you personally here, but: you have provided no context.. no link to documentation, no example. Your reply to my comment seems to have required more effort than the answer itself."},{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1557954426,"post_id":14526070,"comment_id":98944235,"body_markdown":"@SgtPooki Correct, as none of those things are needed. IMHO the name of the method needed is somewhat obscure, hence the method name is the answer to this question. Simple as that I thought. Feel free to submit a longer answer if you think it would be useful.","body":"@SgtPooki Correct, as none of those things are needed. IMHO the name of the method needed is somewhat obscure, hence the method name is the answer to this question. Simple as that I thought. Feel free to submit a longer answer if you think it would be useful."},{"owner":{"account_id":290929,"reputation":11181,"user_id":592760,"accept_rate":100,"display_name":"SgtPooki"},"score":0,"creation_date":1557955454,"post_id":14526070,"comment_id":98944594,"body_markdown":"@davidfrancis, you&#39;re missing the point. The actual question is &quot;How do I get data from the request&quot;. Now try, with your answer as it stands, to get data by writing req.getReader(). Does that give you the data in the request payload, or does it give you the reader, which facilitates getting the body of the request?","body":"@davidfrancis, you&#39;re missing the point. The actual question is &quot;How do I get data from the request&quot;. Now try, with your answer as it stands, to get data by writing req.getReader(). Does that give you the data in the request payload, or does it give you the reader, which facilitates getting the body of the request?"},{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1558047161,"post_id":14526070,"comment_id":98981402,"body_markdown":"@sgtPooki Your answer is more detailed, but it has extraneous detail that may not be useful. Many people using this API will not be interested in reading the body line by line at all, they will be parsing the body using a library e.g. as JSON. IMHO you should really have submitted it as a new answer because it&#39;s no longer my text.","body":"@sgtPooki Your answer is more detailed, but it has extraneous detail that may not be useful. Many people using this API will not be interested in reading the body line by line at all, they will be parsing the body using a library e.g. as JSON. IMHO you should really have submitted it as a new answer because it&#39;s no longer my text."},{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1558357506,"post_id":14526070,"comment_id":99063618,"body_markdown":"Likewise, I hope if your day job you don&#39;t overwrite code without discussion first, if you don&#39;t like it - even if 93 previous people happened to like it. I read around about the etiquette of editing answers so am fully up to date with the various opinions 8=}. Thanks for your input to the answer.","body":"Likewise, I hope if your day job you don&#39;t overwrite code without discussion first, if you don&#39;t like it - even if 93 previous people happened to like it. I read around about the etiquette of editing answers so am fully up to date with the various opinions 8=}. Thanks for your input to the answer."}],"tags":[],"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"comment_count":8,"down_vote_count":5,"up_vote_count":133,"is_accepted":true,"score":128,"last_activity_date":1558297326,"creation_date":1359131313,"answer_id":14526070,"question_id":14525982,"body_markdown":"Simple answer:  \r\nUse getReader() to read the body of the request\r\n\r\nMore info:  \r\nThere are two methods for reading the data in the body:\r\n\r\n1. [`getReader()`][1] returns a [BufferedReader][2] that will allow you to read the body of the request. \r\n\r\n1. [`getInputStream()`][3] returns a [ServletInputStream][4] if you need to read binary data. \r\n\r\nNote from the docs: &quot;[Either method] may be called to read the body, not both.&quot;\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getReader--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true\r\n  [3]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getInputStream--\r\n  [4]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletInputStream.html","title":"Getting request payload from POST request in Java servlet","body":"<p>Simple answer:<br>\nUse getReader() to read the body of the request</p>\n\n<p>More info:<br>\nThere are two methods for reading the data in the body:</p>\n\n<ol>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getReader--\" rel=\"noreferrer\"><code>getReader()</code></a> returns a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true\" rel=\"noreferrer\">BufferedReader</a> that will allow you to read the body of the request. </p></li>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getInputStream--\" rel=\"noreferrer\"><code>getInputStream()</code></a> returns a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletInputStream.html\" rel=\"noreferrer\">ServletInputStream</a> if you need to read binary data. </p></li>\n</ol>\n\n<p>Note from the docs: \"[Either method] may be called to read the body, not both.\"</p>\n"},{"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":7,"creation_date":1398702411,"post_id":14885950,"comment_id":35752728,"body_markdown":"Take into account that `request.getInputStream()` doesn&#39;t honor request character encoding as `request.getReader()` does. So this example uses default system charset.","body":"Take into account that <code>request.getInputStream()</code> doesn&#39;t honor request character encoding as <code>request.getReader()</code> does. So this example uses default system charset."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":14,"creation_date":1398702611,"post_id":14885950,"comment_id":35752832,"body_markdown":"`new BufferedReader(new InputStreamReader(request.getInputStream()))` could be simplified to just `request.getReader()` that is already buffered and also preserves request encoding.","body":"<code>new BufferedReader(new InputStreamReader(request.getInputStream()))</code> could be simplified to just <code>request.getReader()</code> that is already buffered and also preserves request encoding."},{"owner":{"account_id":6222434,"reputation":511,"user_id":4841710,"display_name":"Benjamin Slabbert"},"score":3,"creation_date":1501169934,"post_id":14885950,"comment_id":77671961,"body_markdown":"I found this solution helpful as an exception was thrown: `javax.servlet.ServletException: java.lang.IllegalStateException: getInputStream() has already been called for this request` when I called getReader() as a result of the reader already being open.","body":"I found this solution helpful as an exception was thrown: <code>javax.servlet.ServletException: java.lang.IllegalStateException: getInputStream() has already been called for this request</code> when I called getReader() as a result of the reader already being open."},{"owner":{"account_id":9618075,"reputation":141,"user_id":7140167,"accept_rate":0,"display_name":"obayral"},"score":0,"creation_date":1610473776,"post_id":14885950,"comment_id":116142760,"body_markdown":"Thanks sir, this is a clean and concise solution!","body":"Thanks sir, this is a clean and concise solution!"},{"owner":{"account_id":1260830,"reputation":1847,"user_id":1219163,"accept_rate":89,"display_name":"Li3ro"},"score":1,"creation_date":1625814697,"post_id":14885950,"comment_id":120732626,"body_markdown":"why do you append empty string to the SB?","body":"why do you append empty string to the SB?"},{"owner":{"account_id":280719,"reputation":111,"user_id":923285,"display_name":"Ilya"},"score":0,"creation_date":1645883826,"post_id":14885950,"comment_id":125990343,"body_markdown":"public static String getBody(HttpServletRequest request){\n    return new String(request.getInputStream().readAllBytes());\n}","body":"public static String getBody(HttpServletRequest request){     return new String(request.getInputStream().readAllBytes()); }"},{"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"score":0,"creation_date":1651755720,"post_id":14885950,"comment_id":127441801,"body_markdown":"else {stringBuilder.append(&quot;&quot;);}  is redundant!","body":"else {stringBuilder.append(&quot;&quot;);}  is redundant!"}],"tags":[],"owner":{"account_id":2368756,"reputation":867,"user_id":2073894,"display_name":"Adrian Ayala Torres"},"comment_count":7,"down_vote_count":2,"up_vote_count":87,"is_accepted":false,"score":85,"last_activity_date":1526994963,"creation_date":1360884474,"answer_id":14885950,"question_id":14525982,"body_markdown":"    String payloadRequest = getBody(request);\r\n\r\nUsing this method \r\n\r\n\tpublic static String getBody(HttpServletRequest request) throws IOException {\r\n\r\n\t\tString body = null;\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\tBufferedReader bufferedReader = null;\r\n\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = request.getInputStream();\r\n\t\t\tif (inputStream != null) {\r\n\t\t\t\tbufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\t\t\t\tchar[] charBuffer = new char[128];\r\n\t\t\t\tint bytesRead = -1;\r\n\t\t\t\twhile ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n\t\t\t\t\tstringBuilder.append(charBuffer, 0, bytesRead);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tstringBuilder.append(&quot;&quot;);\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tthrow ex;\r\n\t\t} finally {\r\n\t\t\tif (bufferedReader != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbufferedReader.close();\r\n\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\tthrow ex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody = stringBuilder.toString();\r\n\t\treturn body;\r\n\t}","title":"Getting request payload from POST request in Java servlet","body":"<pre><code>String payloadRequest = getBody(request);\n</code></pre>\n\n<p>Using this method </p>\n\n<pre><code>public static String getBody(HttpServletRequest request) throws IOException {\n\n    String body = null;\n    StringBuilder stringBuilder = new StringBuilder();\n    BufferedReader bufferedReader = null;\n\n    try {\n        InputStream inputStream = request.getInputStream();\n        if (inputStream != null) {\n            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n            char[] charBuffer = new char[128];\n            int bytesRead = -1;\n            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                stringBuilder.append(charBuffer, 0, bytesRead);\n            }\n        } else {\n            stringBuilder.append(\"\");\n        }\n    } catch (IOException ex) {\n        throw ex;\n    } finally {\n        if (bufferedReader != null) {\n            try {\n                bufferedReader.close();\n            } catch (IOException ex) {\n                throw ex;\n            }\n        }\n    }\n\n    body = stringBuilder.toString();\n    return body;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1178999,"reputation":89297,"user_id":1154350,"accept_rate":66,"display_name":"Fizer Khan"},"comment_count":0,"down_vote_count":3,"up_vote_count":61,"is_accepted":false,"score":58,"last_activity_date":1602051079,"creation_date":1409640244,"answer_id":25617320,"question_id":14525982,"body_markdown":"You can use Buffer Reader from request to read \r\n\r\n        // Read from request\r\n        StringBuilder buffer = new StringBuilder();\r\n        BufferedReader reader = request.getReader();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            buffer.append(line);\r\n            buffer.append(System.lineSeparator());\r\n        }\r\n        String data = buffer.toString()","title":"Getting request payload from POST request in Java servlet","body":"<p>You can use Buffer Reader from request to read</p>\n<pre><code>    // Read from request\n    StringBuilder buffer = new StringBuilder();\n    BufferedReader reader = request.getReader();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        buffer.append(line);\n        buffer.append(System.lineSeparator());\n    }\n    String data = buffer.toString()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1471276050,"post_id":28377010,"comment_id":65270996,"body_markdown":"This is interesting, but looks quite inefficient in terms of string concatenation! Any way this can be improved?","body":"This is interesting, but looks quite inefficient in terms of string concatenation! Any way this can be improved?"},{"owner":{"account_id":104680,"reputation":772,"user_id":279720,"accept_rate":89,"display_name":"Oliver Kohll"},"score":13,"creation_date":1472576237,"post_id":28377010,"comment_id":65803399,"body_markdown":"String body = request.getReader().lines().collect(Collectors.joining());\n\nmay also work. Collectors.joining uses a StringBuilder under the hood apparently.","body":"String body = request.getReader().lines().collect(Collectors.joining());  may also work. Collectors.joining uses a StringBuilder under the hood apparently."},{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":3,"creation_date":1486570644,"post_id":28377010,"comment_id":71404868,"body_markdown":"I think it should request.getReader().lines().collect(joining(&quot;\\n&quot;)) to preserve the newlines.","body":"I think it should request.getReader().lines().collect(joining(&quot;\\n&quot;)) to preserve the newlines."},{"owner":{"account_id":1904182,"reputation":1425,"user_id":1776857,"accept_rate":42,"display_name":"Jatin Bodarya"},"score":0,"creation_date":1519884604,"post_id":28377010,"comment_id":85092090,"body_markdown":"In java 8,stream will be processed parallely so need to add sequential method otherwise it will merge wrong portion of data - String body = request.getReader().lines().sequential().reduce(System.lineSeparator(), (accumulator, actual) -&gt; accumulator + actual)","body":"In java 8,stream will be processed parallely so need to add sequential method otherwise it will merge wrong portion of data - String body = request.getReader().lines().sequential().reduce(System.lineS&zwnj;&#8203;eparator(), (accumulator, actual) -&gt; accumulator + actual)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1530214440,"post_id":28377010,"comment_id":89168506,"body_markdown":"You can replace `(accumulator, actual) -&gt; accumulator + actual` with `String::concat`.","body":"You can replace <code>(accumulator, actual) -&gt; accumulator + actual</code> with <code>String::concat</code>."}],"tags":[],"owner":{"account_id":1442344,"reputation":641,"user_id":1362074,"display_name":"bbviana"},"comment_count":5,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1423268453,"creation_date":1423268453,"answer_id":28377010,"question_id":14525982,"body_markdown":"Java 8 streams\r\n\r\n    String body = request.getReader().lines()\r\n        .reduce(&quot;&quot;, (accumulator, actual) -&gt; accumulator + actual);","title":"Getting request payload from POST request in Java servlet","body":"<p>Java 8 streams</p>\n\n<pre><code>String body = request.getReader().lines()\n    .reduce(\"\", (accumulator, actual) -&gt; accumulator + actual);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046905,"reputation":502,"user_id":1051709,"display_name":"Diji Adeyemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1475240667,"creation_date":1475240667,"answer_id":39792253,"question_id":14525982,"body_markdown":"With [Apache Commons IO][1] you can do this in one line.\r\n\r\n    IOUtils.toString(request.getReader())\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/","title":"Getting request payload from POST request in Java servlet","body":"<p>With <a href=\"https://commons.apache.org/proper/commons-io/\">Apache Commons IO</a> you can do this in one line.</p>\n\n<pre><code>IOUtils.toString(request.getReader())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1247393,"reputation":551,"user_id":1208554,"display_name":"twonkeys"},"score":5,"creation_date":1508921327,"post_id":40587416,"comment_id":80802570,"body_markdown":"Beware: The parameters are only available if you use the encoding `application/x-www-form-urlencoded`; for `multipart/form-data`, you apparently need to access the body part through `request.getReader()` and parse it manually.","body":"Beware: The parameters are only available if you use the encoding <code>application&#47;x-www-form-urlencoded</code>; for <code>multipart&#47;form-data</code>, you apparently need to access the body part through <code>request.getReader()</code> and parse it manually."}],"tags":[],"owner":{"account_id":9069495,"reputation":62,"user_id":6753251,"display_name":"Arol"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1508921870,"creation_date":1479121994,"answer_id":40587416,"question_id":14525982,"body_markdown":"You only need \r\n\r\n&gt; request.getParameterMap()\r\n\r\nfor getting the POST and GET - Parameters.\r\n\r\nThe Method returns a `Map&lt;String,String[]&gt;`.\r\n\r\nYou can read the parameters in the Map by\r\n\r\n\tMap&lt;String, String[]&gt; map = request.getParameterMap();\r\n\t//Reading the Map\r\n\t//Works for GET &amp;&amp; POST Method\r\n\tfor(String paramName:map.keySet()) {\r\n\t\tString[] paramValues = map.get(paramName);\r\n\t\t\r\n\t\t//Get Values of Param Name\r\n\t\tfor(String valueOfParam:paramValues) {\r\n\t\t\t//Output the Values\r\n\t\t\tSystem.out.println(&quot;Value of Param with Name &quot;+paramName+&quot;: &quot;+valueOfParam);\r\n\t\t}\r\n\t}","title":"Getting request payload from POST request in Java servlet","body":"<p>You only need </p>\n\n<blockquote>\n  <p>request.getParameterMap()</p>\n</blockquote>\n\n<p>for getting the POST and GET - Parameters.</p>\n\n<p>The Method returns a <code>Map&lt;String,String[]&gt;</code>.</p>\n\n<p>You can read the parameters in the Map by</p>\n\n<pre><code>Map&lt;String, String[]&gt; map = request.getParameterMap();\n//Reading the Map\n//Works for GET &amp;&amp; POST Method\nfor(String paramName:map.keySet()) {\n    String[] paramValues = map.get(paramName);\n\n    //Get Values of Param Name\n    for(String valueOfParam:paramValues) {\n        //Output the Values\n        System.out.println(\"Value of Param with Name \"+paramName+\": \"+valueOfParam);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6076633,"reputation":91,"user_id":4743787,"display_name":"Timothy Heider"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501526580,"creation_date":1501526580,"answer_id":45423137,"question_id":14525982,"body_markdown":"Using Java 8 try with resources:\r\n\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        try(BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(request.getInputStream()))) {\r\n            char[] charBuffer = new char[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n                stringBuilder.append(charBuffer, 0, bytesRead);\r\n            }\r\n        }\r\n","title":"Getting request payload from POST request in Java servlet","body":"<p>Using Java 8 try with resources:</p>\n\n<pre><code>    StringBuilder stringBuilder = new StringBuilder();\n    try(BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(request.getInputStream()))) {\n        char[] charBuffer = new char[1024];\n        int bytesRead;\n        while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n            stringBuilder.append(charBuffer, 0, bytesRead);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461801,"reputation":689,"user_id":5005311,"display_name":"Lloyd Rochester"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1508920721,"creation_date":1502455908,"answer_id":45635715,"question_id":14525982,"body_markdown":"If the contents of the body are a string in Java 8 you can do:\r\n\r\n```String body = request.getReader().lines().collect(Collectors.joining());\r\n```","title":"Getting request payload from POST request in Java servlet","body":"<p>If the contents of the body are a string in Java 8 you can do:</p>\n\n<p><code>String body = request.getReader().lines().collect(Collectors.joining());\n</code></p>\n"},{"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1620291571,"post_id":48450880,"comment_id":119159093,"body_markdown":"This worked in my case where I had to implement JWT authentication. I was sending JSON payload with username and password, then mapped that to my custom Auth Token class.","body":"This worked in my case where I had to implement JWT authentication. I was sending JSON payload with username and password, then mapped that to my custom Auth Token class."}],"tags":[],"owner":{"account_id":8866868,"reputation":280,"user_id":6621774,"accept_rate":60,"display_name":"Harry Developer"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516910093,"creation_date":1516910093,"answer_id":48450880,"question_id":14525982,"body_markdown":"If you are able to send the payload in JSON, this is a most convenient way to read the playload:\r\n\r\nExample data class:\r\n\r\n    public class Person {\r\n        String firstName;\r\n        String lastName;\r\n        // Getters and setters ...\r\n    }\r\n\r\nExample payload (request body):\r\n\r\n    { &quot;firstName&quot; : &quot;John&quot;, &quot;lastName&quot; : &quot;Doe&quot; }\r\n\r\nCode to read payload in servlet (requires com.google.gson.*):\r\n\r\n    Person person = new Gson().fromJson(request.getReader(), Person.class);\r\n\r\nThat&#39;s all. Nice, easy and clean. Don&#39;t forget to set the content-type header to application/json. \r\n\r\n","title":"Getting request payload from POST request in Java servlet","body":"<p>If you are able to send the payload in JSON, this is a most convenient way to read the playload:</p>\n\n<p>Example data class:</p>\n\n<pre><code>public class Person {\n    String firstName;\n    String lastName;\n    // Getters and setters ...\n}\n</code></pre>\n\n<p>Example payload (request body):</p>\n\n<pre><code>{ \"firstName\" : \"John\", \"lastName\" : \"Doe\" }\n</code></pre>\n\n<p>Code to read payload in servlet (requires com.google.gson.*):</p>\n\n<pre><code>Person person = new Gson().fromJson(request.getReader(), Person.class);\n</code></pre>\n\n<p>That's all. Nice, easy and clean. Don't forget to set the content-type header to application/json. </p>\n"}],"owner":{"account_id":1059184,"reputation":1901,"user_id":1061177,"accept_rate":86,"display_name":"Fasih Awan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373119,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":14526070,"answer_count":9,"score":135,"last_activity_date":1684674113,"creation_date":1359131070,"question_id":14525982,"body_markdown":"I have a javascript library that is sending a POST request to my Java servlet, but in the `doPost` method, I can&#39;t seem to get the contents of the request payload. In chrome Developer Tools, all the content is in the Request Payload section in the headers tab, and the content is there, and I know that the POST is being received by the doPost method, but it just comes up blank.\r\n\r\nFor the `HttpServletRequest`\r\nobject, what way can I get the data in the request payload?\r\n\r\npublic class TestFilter implements Filter {\r\n\r\n\r\n\r\n\r\n","title":"Getting request payload from POST request in Java servlet","body":"<p>I have a javascript library that is sending a POST request to my Java servlet, but in the <code>doPost</code> method, I can't seem to get the contents of the request payload. In chrome Developer Tools, all the content is in the Request Payload section in the headers tab, and the content is there, and I know that the POST is being received by the doPost method, but it just comes up blank.</p>\n<p>For the <code>HttpServletRequest</code>\nobject, what way can I get the data in the request payload?</p>\n<p>public class TestFilter implements Filter {</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":1,"creation_date":1493279511,"post_id":43650443,"comment_id":74350935,"body_markdown":"You should  follow @LukeJanyga&#39;s advice and make use of java.time framework. Stop using raw java.util.Date objects and start using LocalDateTime, LocalDate, LocalTime, and so on.","body":"You should  follow @LukeJanyga&#39;s advice and make use of java.time framework. Stop using raw java.util.Date objects and start using LocalDateTime, LocalDate, LocalTime, and so on."},{"owner":{"account_id":10358227,"reputation":280,"user_id":7639458,"accept_rate":50,"display_name":"deepak rawat"},"score":0,"creation_date":1493284574,"post_id":43650443,"comment_id":74354465,"body_markdown":"could you tell me where is the mistake in my code why its not giving correct month difference and time difference?","body":"could you tell me where is the mistake in my code why its not giving correct month difference and time difference?"},{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":1,"creation_date":1493289633,"post_id":43650443,"comment_id":74358020,"body_markdown":"I haven&#39;t got spare time to take a look to your code right now. The best approach for you is to switch to java time: as you&#39;ll get it working faster resulting in lesser quantity of lines of code.","body":"I haven&#39;t got spare time to take a look to your code right now. The best approach for you is to switch to java time: as you&#39;ll get it working faster resulting in lesser quantity of lines of code."},{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":1,"creation_date":1493289739,"post_id":43650443,"comment_id":74358102,"body_markdown":"Take a look to the [java time javadoc](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) and to [this article](http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html).","body":"Take a look to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java time javadoc</a> and to <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">this article</a>."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684620796,"post_id":43650573,"comment_id":134544430,"body_markdown":"Update: These terribly flawed date-time classes were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Update: These terribly flawed date-time classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"tags":[],"owner":{"account_id":8834508,"reputation":400,"user_id":6599346,"accept_rate":50,"display_name":"Vignesh VRT"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493275932,"creation_date":1493275932,"answer_id":43650573,"question_id":43650443,"body_markdown":"    String calculateTime(String strDate) throws ParseException {\r\n\r\n        String result = &quot;&quot;;\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;ddMMHHmm&quot;);\r\n        Date currDate = new Date();\r\n        String date = dateFormat.format(currDate);\r\n\r\n        currDate = dateFormat.parse(date);\r\n        Date postDate = dateFormat.parse(strDate);\r\n\r\n        //calculate day diff\r\n        long timeDiff = currDate.getTime() - postDate.getTime();\r\n        long daysDiff = TimeUnit.MILLISECONDS.toDays(timeDiff);\r\n        Calendar calendar = GregorianCalendar.getInstance();\r\n        calendar.setTime(postDate);\r\n\r\n        if (daysDiff == 1) {\r\n\r\n\r\n            result = &quot;yesterday&quot;;\r\n            result = result + &quot; at &quot; + getHour(calendar.get(Calendar.HOUR)) + &quot;:&quot;\r\n                    + setPrefix(calendar.get(Calendar.MINUTE))+ &quot; &quot; + getAM_PM(calendar.get(Calendar.AM_PM));\r\n\r\n        } else if (daysDiff &gt; 1) {\r\n\r\n            result = calendar.get(Calendar.DATE) + &quot; &quot; + getMonthForInt(calendar.get(Calendar.MONTH));\r\n            result = result + &quot; at &quot; + getHour(calendar.get(Calendar.HOUR)) + &quot;:&quot;\r\n                    + setPrefix(calendar.get(Calendar.MINUTE)) + &quot; &quot; + getAM_PM(calendar.get(Calendar.AM_PM));\r\n\r\n        } else {\r\n\r\n             long minDiff = TimeUnit.MILLISECONDS.toMinutes(timeDiff);\r\n\r\n\r\n            if (minDiff == 0) {\r\n\r\n                result = &quot;just now&quot;;\r\n            } else if (minDiff &lt; 60) {\r\n\r\n                if (minDiff == 1) {\r\n\r\n                    result = minDiff + &quot; min ago&quot;;\r\n                } else if(minDiff &gt; 1)  {\r\n                    result = minDiff + &quot; mins ago&quot;;\r\n                }\r\n\r\n            } else {\r\n\r\n                long hourDiff = TimeUnit.MILLISECONDS.toHours(timeDiff);\r\n\r\n                if (hourDiff == 1) {\r\n\r\n                    result = hourDiff + &quot; hr ago&quot;;\r\n                } else if(hourDiff &gt; 1){\r\n\r\n                    result = hourDiff + &quot; hrs ago&quot;;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return result;\r\n    }","title":"Calculate month and time difference in java?","body":"<pre><code>String calculateTime(String strDate) throws ParseException {\n\n    String result = \"\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"ddMMHHmm\");\n    Date currDate = new Date();\n    String date = dateFormat.format(currDate);\n\n    currDate = dateFormat.parse(date);\n    Date postDate = dateFormat.parse(strDate);\n\n    //calculate day diff\n    long timeDiff = currDate.getTime() - postDate.getTime();\n    long daysDiff = TimeUnit.MILLISECONDS.toDays(timeDiff);\n    Calendar calendar = GregorianCalendar.getInstance();\n    calendar.setTime(postDate);\n\n    if (daysDiff == 1) {\n\n\n        result = \"yesterday\";\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE))+ \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else if (daysDiff &gt; 1) {\n\n        result = calendar.get(Calendar.DATE) + \" \" + getMonthForInt(calendar.get(Calendar.MONTH));\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE)) + \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else {\n\n         long minDiff = TimeUnit.MILLISECONDS.toMinutes(timeDiff);\n\n\n        if (minDiff == 0) {\n\n            result = \"just now\";\n        } else if (minDiff &lt; 60) {\n\n            if (minDiff == 1) {\n\n                result = minDiff + \" min ago\";\n            } else if(minDiff &gt; 1)  {\n                result = minDiff + \" mins ago\";\n            }\n\n        } else {\n\n            long hourDiff = TimeUnit.MILLISECONDS.toHours(timeDiff);\n\n            if (hourDiff == 1) {\n\n                result = hourDiff + \" hr ago\";\n            } else if(hourDiff &gt; 1){\n\n                result = hourDiff + \" hrs ago\";\n\n            }\n\n        }\n\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3419934,"reputation":1115,"user_id":2867886,"display_name":"LukeJanyga"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493279273,"creation_date":1493279273,"answer_id":43651657,"question_id":43650443,"body_markdown":"Please use JSR-310 (known as ThreeTen) which is currently the standard for Java. It provides classes like `Duration` or `ChronoUnit` that contain all necessary tools.\r\n\r\nE.g. `ChronoUnit.MONTHS.between()` will calculate span between 2 dates in months","title":"Calculate month and time difference in java?","body":"<p>Please use JSR-310 (known as ThreeTen) which is currently the standard for Java. It provides classes like <code>Duration</code> or <code>ChronoUnit</code> that contain all necessary tools.</p>\n\n<p>E.g. <code>ChronoUnit.MONTHS.between()</code> will calculate span between 2 dates in months</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684644248,"creation_date":1684620978,"answer_id":76297551,"question_id":43650443,"body_markdown":"# tl;dr\r\n\r\n    Duration.between(\r\n        ZonedDateTime.of( \r\n            LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ) ,\r\n            LocalTime.of( 15 , 45 , 0 ) ,\r\n            ZoneId.of( &quot;Africa/Casablanca&quot; ) \r\n        ) ,\r\n        ZonedDateTime.now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )  \r\n    )\r\n\r\n\r\n# *java.time*\r\n\r\nYou have posted way too much code for me to parse thoroughly. But if I get the gist of it, this might help you…\r\n\r\nUse only *java.time* classes, never the terribly flawed legacy classes such as `Date`, `Calendar`, and `SimpleDateFormat`.\r\n\r\nUse `DateTimeFormatter` to define a formatting pattern matching your input.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\r\n\r\nParse as a `LocalDate`.\r\n\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n\r\nGenerate text representing that value, in standard ISO 8601 format.\r\n\r\n    String output = ld.toString() ;\r\n\r\nGenerate text representing that value, in your custom format.\r\n\r\n    String output = ld.format( f ) ;\r\n\r\nAdd your time-of-day and a time zone to determine a moment, a specific point on the timeline.\r\n\r\n    LocalTime lt = LocalTime.of( 12 , 30 , 0 ) ;\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\r\n\r\nCalculate elapsed time on a scale of hours-minutes-seconds.\r\n\r\n    Duration duration = Duration.between( zdt , ZonedDateTime.now( z ) ) ;\r\n\r\n","title":"Calculate month and time difference in java?","body":"<h1>tl;dr</h1>\n<pre><code>Duration.between(\n    ZonedDateTime.of( \n        LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ) ,\n        LocalTime.of( 15 , 45 , 0 ) ,\n        ZoneId.of( &quot;Africa/Casablanca&quot; ) \n    ) ,\n    ZonedDateTime.now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )  \n)\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>You have posted way too much code for me to parse thoroughly. But if I get the gist of it, this might help you…</p>\n<p>Use only <em>java.time</em> classes, never the terribly flawed legacy classes such as <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>.</p>\n<p>Use <code>DateTimeFormatter</code> to define a formatting pattern matching your input.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\n</code></pre>\n<p>Parse as a <code>LocalDate</code>.</p>\n<pre><code>LocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>Generate text representing that value, in standard ISO 8601 format.</p>\n<pre><code>String output = ld.toString() ;\n</code></pre>\n<p>Generate text representing that value, in your custom format.</p>\n<pre><code>String output = ld.format( f ) ;\n</code></pre>\n<p>Add your time-of-day and a time zone to determine a moment, a specific point on the timeline.</p>\n<pre><code>LocalTime lt = LocalTime.of( 12 , 30 , 0 ) ;\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n<p>Calculate elapsed time on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration duration = Duration.between( zdt , ZonedDateTime.now( z ) ) ;\n</code></pre>\n"}],"owner":{"account_id":10358227,"reputation":280,"user_id":7639458,"accept_rate":50,"display_name":"deepak rawat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43651657,"answer_count":3,"score":0,"last_activity_date":1684673652,"creation_date":1493275545,"question_id":43650443,"body_markdown":"  i have this code for calculate month and time difference but this code is giving wrong output \r\nits calculating 3 month even actual month difference is 1 when i test this code and same in time case please help where is the issue in this code....\r\n\r\n\r\n  \r\n        public static void updateLinkDownTimeDate(ObjectId TimeDateId, TimeDatePojo TimeDatePojo) {\r\n                try {\r\n                    List&lt;DBObject&gt; array = new ArrayList&lt;&gt;();\r\n                    BasicDBObject match = new BasicDBObject();\r\n                    match.put(&quot;_id&quot;, TimeDateId);\r\n                    DBCollection collection = new MongoSetup().getDBCollection(&quot;TimeDate&quot;);\r\n                    DBObject obj = TimeDatePojo.bsomFromPojo();\r\n                    String newId = (String) obj.get(&quot;linkId&quot;);\r\n                    SimpleDateFormat dates = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                    String startDate = dates.format(obj.get(&quot;startDate&quot;));\r\n                    String endDate = dates.format(obj.get(&quot;endDate&quot;));\r\n                    Date SD = dates.parse(startDate);\r\n                    Date ED = dates.parse(endDate);\r\n                    Calendar cal = Calendar.getInstance();\r\n                    cal.setTime(SD);\r\n                    int month = cal.get(Calendar.MONTH);\r\n                    int year = cal.get(Calendar.YEAR);\r\n        \r\n                    String startTime = (String) obj.get(&quot;startTime&quot;); //present start time\r\n                    SimpleDateFormat forms = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                    SimpleDateFormat form = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                    Calendar currentStartDateCalendar = Calendar.getInstance();\r\n                    currentStartDateCalendar.setTime(SD);\r\n                    int currentSDate = currentStartDateCalendar.get(Calendar.DATE);\r\n                    int currentStartMonth = currentStartDateCalendar.get(Calendar.MONTH);\r\n                    int currentStartYear = currentStartDateCalendar.get(Calendar.YEAR);\r\n                    Date STs = form.parse(startTime);\r\n                    Calendar presentStartTime = Calendar.getInstance();\r\n                    presentStartTime.setTime(STs);\r\n                    int currentHour = presentStartTime.get(Calendar.HOUR);\r\n                    int currentMin = presentStartTime.get(Calendar.MINUTE);\r\n                    int currentSec = presentStartTime.get(Calendar.SECOND);\r\n                    currentStartDateCalendar.set(currentStartYear, currentStartMonth, currentSDate, currentHour, currentMin, currentSec);\r\n                    Date PSDate = currentStartDateCalendar.getTime();\r\n        \r\n                    String endTime = (String) obj.get(&quot;endTime&quot;);  //present end time\r\n                    Date ETs = form.parse(endTime);\r\n                    Calendar currentEndDateCalender = Calendar.getInstance();\r\n                    currentEndDateCalender.setTime(ED);\r\n                    int currentEDate = currentEndDateCalender.get(Calendar.DATE);\r\n                    int currentEndMonth = currentEndDateCalender.get(Calendar.MONTH);\r\n                    int currentEYear = currentEndDateCalender.get(Calendar.YEAR);\r\n                    Calendar presentEndTime = Calendar.getInstance();\r\n                    presentEndTime.setTime(ETs);\r\n                    int currentEndHour = presentEndTime.get(Calendar.HOUR);\r\n                    int currentEndMin = presentEndTime.get(Calendar.MINUTE);\r\n                    int currentEndSec = presentEndTime.get(Calendar.SECOND);\r\n                    currentEndDateCalender.set(currentEYear, currentEndMonth, currentEDate, currentEndHour, currentEndMin, currentEndSec);\r\n                    Date PEDate = currentEndDateCalender.getTime();\r\n                    BasicDBObject getSavedDate = new BasicDBObject();\r\n                    getSavedDate.append(&quot;_id&quot;, linkDownTimeDateId);\r\n                    getSavedDate.append(&quot;linkId&quot;, newId);\r\n                    DBObject seeSaved = collection.findOne(getSavedDate);\r\n                    Date savedSDate = (Date) seeSaved.get(&quot;startDate&quot;);\r\n                    Date savedEDate = (Date) seeSaved.get(&quot;endDate&quot;);\r\n                    String savedStartTime = (String) seeSaved.get(&quot;startTime&quot;);\r\n                    String savedEndTime = (String) seeSaved.get(&quot;endTime&quot;);\r\n                    Date SSD = null;\r\n                    Date SED = null;\r\n                    if (savedSDate.compareTo(SD) == 0 &amp;&amp; savedEDate.compareTo(ED) == 0) {\r\n                        Calendar saveStartTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(savedSDate);\r\n                        int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\r\n                        int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\r\n                        int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\r\n                        Date SSTs = form.parse(savedStartTime);\r\n                        Calendar savedStartTimeCal = Calendar.getInstance();\r\n                        savedStartTimeCal.setTime(SSTs);\r\n                        int hour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int mins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int secs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\r\n                        SSD = saveStartTimeCalendar.getTime();\r\n                        Calendar saveEndTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(savedEDate);\r\n                        int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\r\n                        int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\r\n                        int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\r\n                        Date ESTs = form.parse(savedEndTime);\r\n                        Calendar savedEndTimeCal = Calendar.getInstance();\r\n                        savedEndTimeCal.setTime(ESTs);\r\n                        int endhour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int endmins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int endsecs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\r\n                        SED = saveEndTimeCalendar.getTime();\r\n                    } else if (savedSDate.compareTo(SD) == -1 || savedEDate.compareTo(ED) == -1) {\r\n                        Calendar saveStartTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(SD);\r\n                        int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\r\n                        int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\r\n                        int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\r\n                        Date SSTs = form.parse(savedStartTime);\r\n                        Calendar savedStartTimeCal = Calendar.getInstance();\r\n                        savedStartTimeCal.setTime(SSTs);\r\n                        int hour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int mins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int secs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\r\n                        SSD = saveStartTimeCalendar.getTime();\r\n                        Calendar saveEndTimeCalendar = Calendar.getInstance();\r\n                        saveStartTimeCalendar.setTime(ED);\r\n                        int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\r\n                        int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\r\n                        int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\r\n                        Date ESTs = form.parse(savedEndTime);\r\n                        Calendar savedEndTimeCal = Calendar.getInstance();\r\n                        savedEndTimeCal.setTime(ESTs);\r\n                        int endhour = savedStartTimeCal.get(Calendar.HOUR);\r\n                        int endmins = savedStartTimeCal.get(Calendar.MINUTE);\r\n                        int endsecs = savedStartTimeCal.get(Calendar.SECOND);\r\n                        saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\r\n                        SED = saveEndTimeCalendar.getTime();\r\n                    }\r\n                    List&lt;DBObject&gt; lists = (List&lt;DBObject&gt;) seeSaved.get(&quot;linkDownTime&quot;);\r\n                    int down = 0;\r\n                    for (DBObject dating : lists) {\r\n                        down = (int) dating.get(&quot;downTime&quot;); //saved down time\r\n                    }\r\n                    String startHour = &quot;00:00:00&quot;;\r\n                    String endHour = &quot;24:00:00&quot;;\r\n                    long minutesInOneDay = 1440;\r\n                    int numberOfDays = 0;\r\n                    long dateDifference = 0l;\r\n                    int totalCalculatedMins = 0;\r\n                    try {\r\n                        dateDifference = ED.getTime() - SD.getTime();\r\n                        long days = dateDifference / (24 * 60 * 60 * 1000);\r\n                        numberOfDays = (int) days;\r\n                        if (numberOfDays == 0) {\r\n                            int min = (int) minutesInOneDay;\r\n                            SimpleDateFormat format2 = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                            Date parsedStartTime = format2.parse(startTime);\r\n                            Date parsedEndTime = format2.parse(endTime);\r\n                            Date parsedOriginalStartHour = format2.parse(startHour);\r\n                            Date parsedOriginalEndHour = format2.parse(endHour);\r\n                            long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\r\n                            long excludedStartMins = minutesInOneDay - (excludeStartTime / (60 * 1000));\r\n                            int excludedMins = (int) excludedStartMins;\r\n                            long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\r\n                            long excludeEndMins = 1440 - (excludeEndTime / (60 * 1000));\r\n                            int excludeMins2 = (int) excludeEndMins;\r\n                            long calculation = min - excludedMins - excludeMins2;\r\n                            totalCalculatedMins = (int) calculation;\r\n                        } else {\r\n                            long minuetes = (minutesInOneDay * numberOfDays);\r\n                            int min = (int) minuetes;\r\n                            SimpleDateFormat format2 = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                            Date parsedStartTime = format2.parse(startTime);\r\n                            Date parsedEndTime = format2.parse(endTime);\r\n                            Date parsedOriginalStartHour = format2.parse(startHour);\r\n                            Date parsedOriginalEndHour = format2.parse(endHour);\r\n                            long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\r\n                            long excludedStartMins = excludeStartTime / (60 * 1000);\r\n                            int excludedMins = (int) excludedStartMins;\r\n                            long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\r\n                            long excludeEndMins = 1440 + (-(excludeEndTime / (60 * 1000)));\r\n                            int excludeMins2 = (int) excludeEndMins;\r\n                            long calculation = min + excludedMins - excludeMins2;\r\n                            totalCalculatedMins = (int) calculation;\r\n                        }\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Exception being :-&quot; + e);\r\n                    }\r\n                    DBObject sub = new BasicDBObject();\r\n                    sub.put(&quot;linkId&quot;, newId);\r\n                    sub.put(&quot;year&quot;, year);\r\n                    sub.put(&quot;month&quot;, month);\r\n                    sub.put(&quot;downTime&quot;, totalCalculatedMins);\r\n                    array.add(sub);\r\n                    obj.put(&quot;linkDownTime&quot;, array);\r\n                    BasicDBObject update = new BasicDBObject();\r\n                    update.put(&quot;$set&quot;, obj);\r\n                    collection.update(match, update, true, false);\r\n                    BasicDBObject newQuery = new BasicDBObject(&quot;linkId&quot;, obj.get(&quot;linkId&quot;))\r\n                            .append(&quot;startDate&quot;, obj.get(&quot;startDate&quot;))\r\n                            .append(&quot;endDate&quot;, obj.get(&quot;endDate&quot;));\r\n                    DBObject findNewQuery = collection.findOne(newQuery);\r\n                    DBCollection collection2 = new MongoSetup().getDBCollection(&quot;linkTotalDownTime&quot;);\r\n                    List&lt;DBObject&gt; list = (List&lt;DBObject&gt;) findNewQuery.get(&quot;linkDownTime&quot;);\r\n                    for (DBObject data : list) {\r\n                        String linkId = (String) data.get(&quot;linkId&quot;);\r\n                        int years = (int) data.get(&quot;year&quot;);\r\n                        int months = (int) data.get(&quot;month&quot;);\r\n                        int downTime = (int) data.get(&quot;downTime&quot;); // current downTime \r\n        \r\n                        BasicDBObject look = new BasicDBObject();\r\n                        look.append(&quot;linkID&quot;, linkId).append(&quot;Year&quot;, year).append(&quot;month&quot;, month);\r\n                        DBObject findData = collection2.findOne(look);\r\n                        int dataget = (int) findData.get(&quot;totaldownTime&quot;); //totaldowntime \r\n                        int finalValue = 0;\r\n                        int finalTotalValue = 0;\r\n                        if (collection2.count() == 1) {\r\n                            if (PSDate.compareTo(SSD) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            } else if (PSDate.compareTo(SSD) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            }\r\n                        } else if (collection2.count() &gt; 1) {\r\n                            if (PSDate.compareTo(SSD) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            } else if (PSDate.compareTo(SSD) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == 1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget + finalValue);\r\n                                }\r\n                            } else if (PEDate.compareTo(SED) == -1) {\r\n                                if (downTime &gt; down) {\r\n                                    finalValue = downTime - down;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                } else if (down &gt; downTime) {\r\n                                    finalValue = down - downTime;\r\n                                    finalTotalValue = (int) (dataget - finalValue);\r\n                                }\r\n                            }\r\n                        }\r\n                        BasicDBObject update_two = new BasicDBObject();\r\n                        update_two.put(&quot;linkID&quot;, linkId);\r\n                        update_two.put(&quot;Year&quot;, years);\r\n                        update_two.put(&quot;month&quot;, months);\r\n                        update_two.put(&quot;totaldownTime&quot;, finalTotalValue);\r\n                        collection2.update(findData, update_two, true, false);\r\n                    }\r\n                    System.out.println(&quot;Updated Successfully ...&quot;);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n","title":"Calculate month and time difference in java?","body":"<p>i have this code for calculate month and time difference but this code is giving wrong output \nits calculating 3 month even actual month difference is 1 when i test this code and same in time case please help where is the issue in this code....</p>\n\n<pre><code>    public static void updateLinkDownTimeDate(ObjectId TimeDateId, TimeDatePojo TimeDatePojo) {\n            try {\n                List&lt;DBObject&gt; array = new ArrayList&lt;&gt;();\n                BasicDBObject match = new BasicDBObject();\n                match.put(\"_id\", TimeDateId);\n                DBCollection collection = new MongoSetup().getDBCollection(\"TimeDate\");\n                DBObject obj = TimeDatePojo.bsomFromPojo();\n                String newId = (String) obj.get(\"linkId\");\n                SimpleDateFormat dates = new SimpleDateFormat(\"dd-MM-yyyy\");\n                String startDate = dates.format(obj.get(\"startDate\"));\n                String endDate = dates.format(obj.get(\"endDate\"));\n                Date SD = dates.parse(startDate);\n                Date ED = dates.parse(endDate);\n                Calendar cal = Calendar.getInstance();\n                cal.setTime(SD);\n                int month = cal.get(Calendar.MONTH);\n                int year = cal.get(Calendar.YEAR);\n\n                String startTime = (String) obj.get(\"startTime\"); //present start time\n                SimpleDateFormat forms = new SimpleDateFormat(\"dd-MM-yyyy\");\n                SimpleDateFormat form = new SimpleDateFormat(\"HH:mm:ss\");\n                Calendar currentStartDateCalendar = Calendar.getInstance();\n                currentStartDateCalendar.setTime(SD);\n                int currentSDate = currentStartDateCalendar.get(Calendar.DATE);\n                int currentStartMonth = currentStartDateCalendar.get(Calendar.MONTH);\n                int currentStartYear = currentStartDateCalendar.get(Calendar.YEAR);\n                Date STs = form.parse(startTime);\n                Calendar presentStartTime = Calendar.getInstance();\n                presentStartTime.setTime(STs);\n                int currentHour = presentStartTime.get(Calendar.HOUR);\n                int currentMin = presentStartTime.get(Calendar.MINUTE);\n                int currentSec = presentStartTime.get(Calendar.SECOND);\n                currentStartDateCalendar.set(currentStartYear, currentStartMonth, currentSDate, currentHour, currentMin, currentSec);\n                Date PSDate = currentStartDateCalendar.getTime();\n\n                String endTime = (String) obj.get(\"endTime\");  //present end time\n                Date ETs = form.parse(endTime);\n                Calendar currentEndDateCalender = Calendar.getInstance();\n                currentEndDateCalender.setTime(ED);\n                int currentEDate = currentEndDateCalender.get(Calendar.DATE);\n                int currentEndMonth = currentEndDateCalender.get(Calendar.MONTH);\n                int currentEYear = currentEndDateCalender.get(Calendar.YEAR);\n                Calendar presentEndTime = Calendar.getInstance();\n                presentEndTime.setTime(ETs);\n                int currentEndHour = presentEndTime.get(Calendar.HOUR);\n                int currentEndMin = presentEndTime.get(Calendar.MINUTE);\n                int currentEndSec = presentEndTime.get(Calendar.SECOND);\n                currentEndDateCalender.set(currentEYear, currentEndMonth, currentEDate, currentEndHour, currentEndMin, currentEndSec);\n                Date PEDate = currentEndDateCalender.getTime();\n                BasicDBObject getSavedDate = new BasicDBObject();\n                getSavedDate.append(\"_id\", linkDownTimeDateId);\n                getSavedDate.append(\"linkId\", newId);\n                DBObject seeSaved = collection.findOne(getSavedDate);\n                Date savedSDate = (Date) seeSaved.get(\"startDate\");\n                Date savedEDate = (Date) seeSaved.get(\"endDate\");\n                String savedStartTime = (String) seeSaved.get(\"startTime\");\n                String savedEndTime = (String) seeSaved.get(\"endTime\");\n                Date SSD = null;\n                Date SED = null;\n                if (savedSDate.compareTo(SD) == 0 &amp;&amp; savedEDate.compareTo(ED) == 0) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedSDate);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedEDate);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                } else if (savedSDate.compareTo(SD) == -1 || savedEDate.compareTo(ED) == -1) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(SD);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(ED);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                }\n                List&lt;DBObject&gt; lists = (List&lt;DBObject&gt;) seeSaved.get(\"linkDownTime\");\n                int down = 0;\n                for (DBObject dating : lists) {\n                    down = (int) dating.get(\"downTime\"); //saved down time\n                }\n                String startHour = \"00:00:00\";\n                String endHour = \"24:00:00\";\n                long minutesInOneDay = 1440;\n                int numberOfDays = 0;\n                long dateDifference = 0l;\n                int totalCalculatedMins = 0;\n                try {\n                    dateDifference = ED.getTime() - SD.getTime();\n                    long days = dateDifference / (24 * 60 * 60 * 1000);\n                    numberOfDays = (int) days;\n                    if (numberOfDays == 0) {\n                        int min = (int) minutesInOneDay;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = minutesInOneDay - (excludeStartTime / (60 * 1000));\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 - (excludeEndTime / (60 * 1000));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min - excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    } else {\n                        long minuetes = (minutesInOneDay * numberOfDays);\n                        int min = (int) minuetes;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = excludeStartTime / (60 * 1000);\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 + (-(excludeEndTime / (60 * 1000)));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min + excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    }\n                } catch (Exception e) {\n                    System.out.println(\"Exception being :-\" + e);\n                }\n                DBObject sub = new BasicDBObject();\n                sub.put(\"linkId\", newId);\n                sub.put(\"year\", year);\n                sub.put(\"month\", month);\n                sub.put(\"downTime\", totalCalculatedMins);\n                array.add(sub);\n                obj.put(\"linkDownTime\", array);\n                BasicDBObject update = new BasicDBObject();\n                update.put(\"$set\", obj);\n                collection.update(match, update, true, false);\n                BasicDBObject newQuery = new BasicDBObject(\"linkId\", obj.get(\"linkId\"))\n                        .append(\"startDate\", obj.get(\"startDate\"))\n                        .append(\"endDate\", obj.get(\"endDate\"));\n                DBObject findNewQuery = collection.findOne(newQuery);\n                DBCollection collection2 = new MongoSetup().getDBCollection(\"linkTotalDownTime\");\n                List&lt;DBObject&gt; list = (List&lt;DBObject&gt;) findNewQuery.get(\"linkDownTime\");\n                for (DBObject data : list) {\n                    String linkId = (String) data.get(\"linkId\");\n                    int years = (int) data.get(\"year\");\n                    int months = (int) data.get(\"month\");\n                    int downTime = (int) data.get(\"downTime\"); // current downTime \n\n                    BasicDBObject look = new BasicDBObject();\n                    look.append(\"linkID\", linkId).append(\"Year\", year).append(\"month\", month);\n                    DBObject findData = collection2.findOne(look);\n                    int dataget = (int) findData.get(\"totaldownTime\"); //totaldowntime \n                    int finalValue = 0;\n                    int finalTotalValue = 0;\n                    if (collection2.count() == 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    } else if (collection2.count() &gt; 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    }\n                    BasicDBObject update_two = new BasicDBObject();\n                    update_two.put(\"linkID\", linkId);\n                    update_two.put(\"Year\", years);\n                    update_two.put(\"month\", months);\n                    update_two.put(\"totaldownTime\", finalTotalValue);\n                    collection2.update(findData, update_two, true, false);\n                }\n                System.out.println(\"Updated Successfully ...\");\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":["java","comparator","binary-search"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1541846402,"post_id":53238038,"comment_id":93362265,"body_markdown":"Just for the record: you understand that a prerequisite for binary search is that your array/list is already sorted? Is that the case here?","body":"Just for the record: you understand that a prerequisite for binary search is that your array/list is already sorted? Is that the case here?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1541846610,"post_id":53238038,"comment_id":93362298,"body_markdown":"&quot;I was too lazy&quot; you are supremely lazy if you can&#39;t be bothered to do s/eihcle/ehicle/g.","body":"&quot;I was too lazy&quot; you are supremely lazy if you can&#39;t be bothered to do s/eihcle/ehicle/g."},{"owner":{"display_name":"user10516751"},"score":0,"creation_date":1541847009,"post_id":53238038,"comment_id":93362382,"body_markdown":"@AndyTurner yes :)","body":"@AndyTurner yes :)"},{"owner":{"display_name":"user10516751"},"score":0,"creation_date":1541847026,"post_id":53238038,"comment_id":93362389,"body_markdown":"@GhostCat apologies, see the edited question.","body":"@GhostCat apologies, see the edited question."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684673205,"creation_date":1541846357,"answer_id":53238111,"question_id":53238038,"body_markdown":"[`Collections#binarySearch`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-) searches a `List` for the same type of value that the list holds. Here, you&#39;re trying to search a list of vehicles with a string, and thus getting the error your shared.&lt;br/&gt;\r\nOne approach is to create a fake vehicle just so its model can be searched:\r\n\r\n    Vehicle modelDummy = new Vehicle();\r\n    modelDummy.setModel(search);\r\n    int index = Collections.binarySearch(vehicles, modelDummy, comp);\r\n\r\nNote that in order to use `binarySearch` like that the list must be sorted according to the `Comparator` you provide (i.e., sorted according to the model in this case). If this assumption is not true, you&#39;ll have to use an O(n) search. E.g.:\r\n\r\n    Vehicle vehicle = vehicles.stream().filter(v -&gt; v.getModel().eqauls(search)).findFirst();","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Collections#binarySearch</code></a> searches a <code>List</code> for the same type of value that the list holds. Here, you're trying to search a list of vehicles with a string, and thus getting the error your shared.<br/>\nOne approach is to create a fake vehicle just so its model can be searched:</p>\n<pre><code>Vehicle modelDummy = new Vehicle();\nmodelDummy.setModel(search);\nint index = Collections.binarySearch(vehicles, modelDummy, comp);\n</code></pre>\n<p>Note that in order to use <code>binarySearch</code> like that the list must be sorted according to the <code>Comparator</code> you provide (i.e., sorted according to the model in this case). If this assumption is not true, you'll have to use an O(n) search. E.g.:</p>\n<pre><code>Vehicle vehicle = vehicles.stream().filter(v -&gt; v.getModel().eqauls(search)).findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541847226,"creation_date":1541847226,"answer_id":53238223,"question_id":53238038,"body_markdown":"Create a view of the list:\n\n    List&lt;String&gt; view = new AbstractList&lt;String&gt;() {\n      @Override public int size() {\n        return vehicles.size();\n      }\n\n      @Override public String get(int i) {\n        return vehicles.get(i).getModel();\n      }\n    };\n\nThen apply binary search to the view.\n\n    int index = Collections.binarySearch(view, search);\n\nNote that whilst it would work using an anonymous class, like this, it would be better to define a named class (e.g. a nested class, or even a local class), in order that it can both `extend AbstractList` and `implement RandomAccess`, so that the binary search knows it can access efficiently by index.","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p>Create a view of the list:</p>\n\n<pre><code>List&lt;String&gt; view = new AbstractList&lt;String&gt;() {\n  @Override public int size() {\n    return vehicles.size();\n  }\n\n  @Override public String get(int i) {\n    return vehicles.get(i).getModel();\n  }\n};\n</code></pre>\n\n<p>Then apply binary search to the view.</p>\n\n<pre><code>int index = Collections.binarySearch(view, search);\n</code></pre>\n\n<p>Note that whilst it would work using an anonymous class, like this, it would be better to define a named class (e.g. a nested class, or even a local class), in order that it can both <code>extend AbstractList</code> and <code>implement RandomAccess</code>, so that the binary search knows it can access efficiently by index.</p>\n"},{"comments":[{"owner":{"account_id":28644032,"reputation":23,"user_id":21932511,"display_name":"rekki"},"score":0,"creation_date":1684752589,"post_id":76299961,"comment_id":134557853,"body_markdown":"OR one more - consider search value in sorting (output them always on top, for example),  without binarySearch().","body":"OR one more - consider search value in sorting (output them always on top, for example),  without binarySearch()."}],"tags":[],"owner":{"account_id":28644032,"reputation":23,"user_id":21932511,"display_name":"rekki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684673177,"creation_date":1684672982,"answer_id":76299961,"question_id":53238038,"body_markdown":"Since this branch contains both correct solutions and it is both forbidden to use in my task, I will write my own, at the same time I will ask people to evaluate whether it is correct (the decision was made, tests passed)?\r\nIf you looking for vehicles by model(String model):\r\n\r\n    int index = Collections.binarySearch(vehicles, model, new Comparator&lt;Object&gt;(){\r\n            @Override\r\n            public int compare(Object o1, Object o2) {\r\n                Vehicle veh = (Vehicle)o1;\r\n                String str = (String) o2;\r\n                return veh.getModel().compareTo(str);\r\n            }\r\n        });\r\nWhat do you think?","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p>Since this branch contains both correct solutions and it is both forbidden to use in my task, I will write my own, at the same time I will ask people to evaluate whether it is correct (the decision was made, tests passed)?\nIf you looking for vehicles by model(String model):</p>\n<pre><code>int index = Collections.binarySearch(vehicles, model, new Comparator&lt;Object&gt;(){\n        @Override\n        public int compare(Object o1, Object o2) {\n            Vehicle veh = (Vehicle)o1;\n            String str = (String) o2;\n            return veh.getModel().compareTo(str);\n        }\n    });\n</code></pre>\n<p>What do you think?</p>\n"}],"owner":{"display_name":"user10516751"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53238111,"answer_count":3,"score":2,"last_activity_date":1684673205,"creation_date":1541845708,"question_id":53238038,"body_markdown":"I have tried all the answers from the related questions, like following:\r\n\r\nhttps://stackoverflow.com/questions/40196002/implement-binary-search-using-the-collections-binarysearch-signature\r\n\r\nhttps://stackoverflow.com/questions/30743531/cant-use-binary-search-with-object-arraylist\r\n\r\nBut none of them have worked for me.\r\n\r\nThe thing is that I want to do `binarySearch()` to find an object with a particular attribute in an `ArrayList`.\r\n\r\nI am using the following code for this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n\r\n    public class SearchingThread extends Thread {\r\n\r\n    \tprivate String search;\r\n    \tprivate ArrayList&lt;Vehicle&gt; vehicles;\r\n    \t\r\n    \tpublic SearchingThread(String search, ArrayList&lt;Vehicle&gt; vehicles) {\r\n    \t\tthis.search = search;\r\n    \t\tthis.vehicles = vehicles;\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \t\t\r\n    \t\tComparator&lt;Vehicle&gt; comp = new Comparator&lt;Vehicle&gt;() {\r\n\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Vehicle o1, Vehicle o2) {\r\n    \t\t\t\treturn o1.getModel().compareTo(o2.getModel());\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\t};\r\n    \t\t\r\n    \t\tint index = Collections.binarySearch(vehicles, search, comp);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere `search` is the variable with the `model` that I want to search in the ArrayList `vehicles`.\r\n\r\nI am getting the following error for this:\r\n\r\n&gt;The method binarySearch(List&lt;? extends T&gt;, T, Comparator&lt;? super T&gt;) in the type Collections is not applicable for the arguments (ArrayList&lt;Vehicle&gt;, String, Comparator&lt;Vehicle&gt;)\r\n\r\nI am not able to use it, can anyone help me understand the cause and solution to the error.\r\n\r\n**Edit:**\r\n\r\nSorry for not posting this before, sorting is not an issue. I have sorted the array list accordingly beforehand.","title":"How to use `Collections.binarySearch()` to do a binary search though an ArrayList of objects?","body":"<p>I have tried all the answers from the related questions, like following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40196002/implement-binary-search-using-the-collections-binarysearch-signature\">Implement binary search using the `Collections.binarySearch` signature</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30743531/cant-use-binary-search-with-object-arraylist\">Can&#39;t use binary search with Object Arraylist?</a></p>\n\n<p>But none of them have worked for me.</p>\n\n<p>The thing is that I want to do <code>binarySearch()</code> to find an object with a particular attribute in an <code>ArrayList</code>.</p>\n\n<p>I am using the following code for this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class SearchingThread extends Thread {\n\n    private String search;\n    private ArrayList&lt;Vehicle&gt; vehicles;\n\n    public SearchingThread(String search, ArrayList&lt;Vehicle&gt; vehicles) {\n        this.search = search;\n        this.vehicles = vehicles;\n    }\n\n    public void run() {\n\n        Comparator&lt;Vehicle&gt; comp = new Comparator&lt;Vehicle&gt;() {\n\n            @Override\n            public int compare(Vehicle o1, Vehicle o2) {\n                return o1.getModel().compareTo(o2.getModel());\n            }\n\n        };\n\n        int index = Collections.binarySearch(vehicles, search, comp);\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>Here <code>search</code> is the variable with the <code>model</code> that I want to search in the ArrayList <code>vehicles</code>.</p>\n\n<p>I am getting the following error for this:</p>\n\n<blockquote>\n  <p>The method binarySearch(List, T, Comparator) in the type Collections is not applicable for the arguments (ArrayList, String, Comparator)</p>\n</blockquote>\n\n<p>I am not able to use it, can anyone help me understand the cause and solution to the error.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Sorry for not posting this before, sorting is not an issue. I have sorted the array list accordingly beforehand.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684672810,"creation_date":1684672810,"answer_id":76299948,"question_id":76299822,"body_markdown":"Wrong spelling of of the entity field `userName`.\r\n\r\n    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n\r\nShould be:\r\n\r\n    &lt;td th:text=&quot;${user.userName}&quot;&gt;&lt;/td&gt;","title":"html page can&#39;t read from model spring boot thymeleaf","body":"<p>Wrong spelling of of the entity field <code>userName</code>.</p>\n<pre><code>&lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>Should be:</p>\n<pre><code>&lt;td th:text=&quot;${user.userName}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684672810,"creation_date":1684670670,"question_id":76299822,"body_markdown":"I have the following controller\r\n\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\n@Controller\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public String index(Model model) {\r\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\r\n        return &quot;users&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand a users.html file \r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;Manager Site&lt;/title&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\r\n        &lt;h1&gt;ljk&#241;afs&#241;jafnjdfbhj&#241;sdbfj&#241;sdfvhjsdf&lt;/h1&gt;\r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;ID&lt;/th&gt;\r\n                    &lt;th&gt;Email&lt;/th&gt;\r\n                    &lt;th&gt;Name&lt;/th&gt;\r\n                    &lt;th&gt;Username&lt;/th&gt;\r\n                    &lt;th&gt;Password&lt;/th&gt;\r\n                    &lt;th&gt;&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\r\n                    &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\nBut whenever I run my application and navigate to /users I get the following error\r\n\r\n\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nAn error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\r\n```\r\n\r\nIf I comment out the tbody the page loads as expected \r\nI also know that I have a connection with my database because I made a test class that is a RestController and it returns the json I expected\r\n\r\n\r\n\r\n### My service class\r\n\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserService {\r\n    \r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\n### My Model class\r\n\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@Table(name = &quot;user&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;isAdmin&quot;)\r\n    private boolean isAdmin;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String userName;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n}\r\n\r\n```\r\n\r\n### My repository\r\n\r\n```\r\npackage com.website.school;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"html page can&#39;t read from model spring boot thymeleaf","body":"<p>I have the following controller</p>\n<pre><code>package com.website.school;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users&quot;)\n    public String index(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n}\n\n</code></pre>\n<p>and a users.html file</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;h1&gt;ljkñafsñjafnjdfbhjñsdbfjñsdfvhjsdf&lt;/h1&gt;\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Username&lt;/th&gt;\n                    &lt;th&gt;Password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                    &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I run my application and navigate to /users I get the following error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\n</code></pre>\n<p>If I comment out the tbody the page loads as expected\nI also know that I have a connection with my database because I made a test class that is a RestController and it returns the json I expected</p>\n<h3>My service class</h3>\n<pre><code>package com.website.school;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n}\n\n</code></pre>\n<h3>My Model class</h3>\n<pre><code>package com.website.school;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n<h3>My repository</h3>\n<pre><code>package com.website.school;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","cucumber"],"answers":[{"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1636277548,"post_id":69870148,"comment_id":123509384,"body_markdown":"You got the right idea, the webdriver wasn&#39;t instantiated, but you missed the reason why.","body":"You got the right idea, the webdriver wasn&#39;t instantiated, but you missed the reason why."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1636368267,"post_id":69870148,"comment_id":123528924,"body_markdown":"Thats great thank you so much.","body":"Thats great thank you so much."}],"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636264764,"creation_date":1636264764,"answer_id":69870148,"question_id":69868702,"body_markdown":"The casting of the Webdriver interface with Chromedriver has only been declared in your @Before step (where it is not used), the other steps are unaware. Amend to the following:\r\n```\r\npublic class hotelBookingFormPage {\r\n\r\n    public WebDriver driver = new ChromeDriver();\r\n\r\n    @Before\r\n    public void startBrowser() {\r\n        WebDriverManager.chromedriver().setup();\r\n    }\r\n\r\n    @After\r\n    public void closeBrowser() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\r\n    public void iNavigateToTheHotelBookingFormPage() {\r\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\r\n    }\r\n```\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<p>The casting of the Webdriver interface with Chromedriver has only been declared in your @Before step (where it is not used), the other steps are unaware. Amend to the following:</p>\n<pre><code>public class hotelBookingFormPage {\n\n    public WebDriver driver = new ChromeDriver();\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1636368285,"post_id":69871192,"comment_id":123528931,"body_markdown":"Thats great thank you so much.","body":"Thats great thank you so much."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636277423,"creation_date":1636277423,"answer_id":69871192,"question_id":69868702,"body_markdown":"```\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\n```\r\n\r\nWith this you&#39;re importing the JUnit hook annotations, not the Cucumber ones. So Cucumber doesn&#39;t know you want to run the annotated methods before and after each scenario.\r\n\r\nCucumbers annotations are in a different package:\r\n\r\n```\r\nimport io.cucumber.java.en.Before;\r\nimport io.cucumber.java.en.After;\r\n```\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<pre><code>import org.junit.After;\nimport org.junit.Before;\n</code></pre>\n<p>With this you're importing the JUnit hook annotations, not the Cucumber ones. So Cucumber doesn't know you want to run the annotated methods before and after each scenario.</p>\n<p>Cucumbers annotations are in a different package:</p>\n<pre><code>import io.cucumber.java.en.Before;\nimport io.cucumber.java.en.After;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"score":1,"creation_date":1684697873,"post_id":76299942,"comment_id":134551232,"body_markdown":"Please adjust code block, so it looks correctly (the first string and the end bracket)","body":"Please adjust code block, so it looks correctly (the first string and the end bracket)"}],"tags":[],"owner":{"account_id":28437065,"reputation":1,"user_id":21756998,"display_name":"Rutuja Mohite"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684672729,"creation_date":1684672729,"answer_id":76299942,"question_id":69868702,"body_markdown":"public class BaseClass {\r\n\r\n\t//every time we need to open url and browser so we need to create variable for url an dbrowser \r\n\t//we have to read url and browser so in base class create object of ReadConfigue class\r\n\t\r\n\tReadConfigue readconfigue=new ReadConfigue();\r\n\t String url=readconfigue.getbaseurl();   //store getbaseurl and getbrowser in string \r\n\t String browser=readconfigue.getbrowser();\r\n\t public static WebDriver driver;\r\n\t public static Logger logger;\r\n\t \r\n\t \r\n\t //create method of launch broswer \r\n\t @BeforeClass\r\n\t public void setup() \r\n\t {\r\n\t\t String  browser=&quot;Chrome&quot;;\r\n\t\t switch(browser.toLowerCase())\r\n\t\t {\r\n\t\t case &quot;Chrome&quot;:\r\n\t\t\t WebDriverManager.chromedriver().setup();\r\n\t\t\t driver=new ChromeDriver();\r\n\t\t\t break;\r\n\t\t\t \r\n\t/*\t case &quot;msedge&quot;:\r\n\t\t\t WebDriverManager.edgedriver().setup();\r\n\t\t\t driver=new EdgeDriver();\r\n\t\t\t break;\r\n\r\n\t\t case &quot;firefox&quot;:\r\n\t\t\t WebDriverManager.firefoxdriver().setup();\r\n\t\t\t driver=new FirefoxDriver();\r\n\t\t\t break; */\r\n\t\t\t default:\r\n\t\t     driver=null;\r\n\t\t     break;\r\n\t\t     \r\n\t\t }\r\n\t     driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n        \r\n\t     // for logging create object of logger\r\n\t     //create static varible of logger  outside class and intitize here\r\n\t     logger =LogManager.getLogger(&quot;AutomationFramework&quot;);\r\n\t     \r\n\t }\r\n\r\n\t @AfterClass\r\n\t public void tearDown() \r\n\t {\r\n\t\t driver.close();\r\n\t\t driver.quit();\r\n\t }\r\n\t\r\n\t\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<p>public class BaseClass {</p>\n<pre><code>//every time we need to open url and browser so we need to create variable for url an dbrowser \n//we have to read url and browser so in base class create object of ReadConfigue class\n\nReadConfigue readconfigue=new ReadConfigue();\n String url=readconfigue.getbaseurl();   //store getbaseurl and getbrowser in string \n String browser=readconfigue.getbrowser();\n public static WebDriver driver;\n public static Logger logger;\n \n \n //create method of launch broswer \n @BeforeClass\n public void setup() \n {\n     String  browser=&quot;Chrome&quot;;\n     switch(browser.toLowerCase())\n     {\n     case &quot;Chrome&quot;:\n         WebDriverManager.chromedriver().setup();\n         driver=new ChromeDriver();\n         break;\n         \n/*   case &quot;msedge&quot;:\n         WebDriverManager.edgedriver().setup();\n         driver=new EdgeDriver();\n         break;\n\n     case &quot;firefox&quot;:\n         WebDriverManager.firefoxdriver().setup();\n         driver=new FirefoxDriver();\n         break; */\n         default:\n         driver=null;\n         break;\n         \n     }\n     driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    \n     // for logging create object of logger\n     //create static varible of logger  outside class and intitize here\n     logger =LogManager.getLogger(&quot;AutomationFramework&quot;);\n     \n }\n\n @AfterClass\n public void tearDown() \n {\n     driver.close();\n     driver.quit();\n }\n</code></pre>\n"}],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10944,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684672729,"creation_date":1636241141,"question_id":69868702,"body_markdown":"I am getting the error below. I am new to Java and thus any help would be appreciated.\r\n\r\n```Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null```\r\n\r\nPlease see the code below:\r\n```\r\npackage steps;\r\n\r\nimport io.cucumber.java.en.Given;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class hotelBookingFormPage {\r\n\r\n    public WebDriver driver;\r\n\r\n    @Before\r\n    public void startBrowser() {\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    @After\r\n    public void closeBrowser() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\r\n    public void iNavigateToTheHotelBookingFormPage() {\r\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\r\n    }\r\n```\r\n\r\nAny help would be appreciated.","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null","body":"<p>I am getting the error below. I am new to Java and thus any help would be appreciated.</p>\n<p><code>Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null</code></p>\n<p>Please see the code below:</p>\n<pre><code>package steps;\n\nimport io.cucumber.java.en.Given;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class hotelBookingFormPage {\n\n    public WebDriver driver;\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9804,"page":421,"page_size":100}
