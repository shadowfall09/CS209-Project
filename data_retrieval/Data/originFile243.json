{"items":[{"tags":["java","html","spring","jsoup"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1692197308,"post_id":76914670,"comment_id":135591532,"body_markdown":"why do you want to do this? why not write the html how you want it in the first place?","body":"why do you want to do this? why not write the html how you want it in the first place?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1692197331,"post_id":76914670,"comment_id":135591537,"body_markdown":"If there is only single `&lt;p&gt;` element, do you also want to surround it in `&lt;div class=&quot;test&quot;&gt;`?","body":"If there is only single <code>&lt;p&gt;</code> element, do you also want to surround it in <code>&lt;div class=&quot;test&quot;&gt;</code>?"},{"owner":{"account_id":22864720,"reputation":33,"user_id":17008258,"display_name":"Jake Morgan"},"score":0,"creation_date":1692197464,"post_id":76914670,"comment_id":135591573,"body_markdown":"@Pshemo Yes, that&#39;s right","body":"@Pshemo Yes, that&#39;s right"},{"owner":{"account_id":22864720,"reputation":33,"user_id":17008258,"display_name":"Jake Morgan"},"score":0,"creation_date":1692197574,"post_id":76914670,"comment_id":135591598,"body_markdown":"@lance-java I need to process the html, not write it myself.","body":"@lance-java I need to process the html, not write it myself."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1692197717,"post_id":76914670,"comment_id":135591634,"body_markdown":"Then your title is misleading since it claims you want to surround only *identical* elements. If there is only one `&lt;p&gt;` there is no *other* identical element so according to this rule it shouldn&#39;t be surrounded (just like `&lt;img&gt;` element is not surrounded in posted example).","body":"Then your title is misleading since it claims you want to surround only <i>identical</i> elements. If there is only one <code>&lt;p&gt;</code> there is no <i>other</i> identical element so according to this rule it shouldn&#39;t be surrounded (just like <code>&lt;img&gt;</code> element is not surrounded in posted example)."},{"owner":{"account_id":22864720,"reputation":33,"user_id":17008258,"display_name":"Jake Morgan"},"score":0,"creation_date":1692198121,"post_id":76914670,"comment_id":135591724,"body_markdown":"@Pshemo I have edited the example and the result for a better understanding","body":"@Pshemo I have edited the example and the result for a better understanding"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692238384,"creation_date":1692238384,"answer_id":76918063,"question_id":76914670,"body_markdown":"&gt; _&quot;... find identical tag elements that are not separated by other tags ...&quot;_\r\n\r\nYou can use a _[ListIterator](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html)_ to mutate an _[Elements](https://jsoup.org/apidocs/org/jsoup/select/Elements.html)_ collection.  \r\nAdditionally, you can utilize the _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#next())_ and _[previous](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous())_ methods to adjust the iterator&#39;s cursor.\r\n\r\nHere, the _element_ and _next_ variables hold the current and following elements, respectively.\r\n\r\nThe concept is to add all _p_ elements to the new _div_ element.  \r\nThe _div_ is only added when the _next_ element is _null_ or not a _p_ element.\r\n\r\n```java\r\nString string\r\n  = &quot;&lt;body&gt;\\n&quot; +\r\n    &quot;    &lt;p&gt;123124&lt;/p&gt;\\n&quot; +\r\n    &quot;    &lt;p&gt;214565&lt;/p&gt;\\n&quot; +\r\n    &quot;    &lt;p&gt;123333&lt;/p&gt;\\n&quot; +\r\n    &quot;    &lt;img src = \\&quot;aboba\\&quot;/&gt;\\n&quot; +\r\n    &quot;    &lt;p&gt;faaaa&lt;/p&gt;\\n&quot; +\r\n    &quot;    &lt;p&gt;aaaaa&lt;/p&gt;\\n&quot; +\r\n    &quot;    &lt;a href=\\&quot;src\\&quot;&gt;&lt;/a&gt;\\n&quot; +\r\n    &quot;    &lt;p&gt;1111&lt;/p&gt;\\n&quot; +\r\n    &quot;&lt;/body&gt;&quot;;\r\nDocument document = Jsoup.parse(string);\r\nElements body = document.select(&quot;body&quot;).first().children();\r\nListIterator&lt;Element&gt; iterator = body.listIterator();\r\nElement element, next, div = new Element(&quot;div&quot;).attr(&quot;class&quot;, &quot;test&quot;);\r\nwhile (iterator.hasNext()) {\r\n    element = iterator.next();\r\n    if (element.tagName().equalsIgnoreCase(&quot;p&quot;)) {\r\n        div.appendChild(element);\r\n        iterator.remove();\r\n    }\r\n    if (iterator.hasNext()) {\r\n        next = iterator.next();\r\n        iterator.previous();\r\n        if (!next.tagName().equalsIgnoreCase(&quot;p&quot;)) {\r\n            iterator.add(div);\r\n            div = new Element(&quot;div&quot;).attr(&quot;class&quot;, &quot;test&quot;);\r\n        }\r\n    } else {\r\n        iterator.add(div);\r\n    }\r\n}\r\n```\r\n\r\nHere is the output for _body_.\r\n\r\n```html\r\n&lt;div class=&quot;test&quot;&gt;\r\n &lt;p&gt;123124&lt;/p&gt;\r\n &lt;p&gt;214565&lt;/p&gt;\r\n &lt;p&gt;123333&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;img src=&quot;aboba&quot;&gt;\r\n&lt;div class=&quot;test&quot;&gt;\r\n &lt;p&gt;faaaa&lt;/p&gt;\r\n &lt;p&gt;aaaaa&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;a href=&quot;src&quot;&gt;&lt;/a&gt;\r\n&lt;div class=&quot;test&quot;&gt;\r\n &lt;p&gt;1111&lt;/p&gt;\r\n&lt;/div&gt;\r\n```","title":"JSOUP find identical tag elements that are not separated by other tags","body":"<blockquote>\n<p><em>&quot;... find identical tag elements that are not separated by other tags ...&quot;</em></p>\n</blockquote>\n<p>You can use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a></em> to mutate an <em><a href=\"https://jsoup.org/apidocs/org/jsoup/select/Elements.html\" rel=\"nofollow noreferrer\">Elements</a></em> collection.<br />\nAdditionally, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#next()\" rel=\"nofollow noreferrer\">next</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html#previous()\" rel=\"nofollow noreferrer\">previous</a></em> methods to adjust the iterator's cursor.</p>\n<p>Here, the <em>element</em> and <em>next</em> variables hold the current and following elements, respectively.</p>\n<p>The concept is to add all <em>p</em> elements to the new <em>div</em> element.<br />\nThe <em>div</em> is only added when the <em>next</em> element is <em>null</em> or not a <em>p</em> element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string\n  = &quot;&lt;body&gt;\\n&quot; +\n    &quot;    &lt;p&gt;123124&lt;/p&gt;\\n&quot; +\n    &quot;    &lt;p&gt;214565&lt;/p&gt;\\n&quot; +\n    &quot;    &lt;p&gt;123333&lt;/p&gt;\\n&quot; +\n    &quot;    &lt;img src = \\&quot;aboba\\&quot;/&gt;\\n&quot; +\n    &quot;    &lt;p&gt;faaaa&lt;/p&gt;\\n&quot; +\n    &quot;    &lt;p&gt;aaaaa&lt;/p&gt;\\n&quot; +\n    &quot;    &lt;a href=\\&quot;src\\&quot;&gt;&lt;/a&gt;\\n&quot; +\n    &quot;    &lt;p&gt;1111&lt;/p&gt;\\n&quot; +\n    &quot;&lt;/body&gt;&quot;;\nDocument document = Jsoup.parse(string);\nElements body = document.select(&quot;body&quot;).first().children();\nListIterator&lt;Element&gt; iterator = body.listIterator();\nElement element, next, div = new Element(&quot;div&quot;).attr(&quot;class&quot;, &quot;test&quot;);\nwhile (iterator.hasNext()) {\n    element = iterator.next();\n    if (element.tagName().equalsIgnoreCase(&quot;p&quot;)) {\n        div.appendChild(element);\n        iterator.remove();\n    }\n    if (iterator.hasNext()) {\n        next = iterator.next();\n        iterator.previous();\n        if (!next.tagName().equalsIgnoreCase(&quot;p&quot;)) {\n            iterator.add(div);\n            div = new Element(&quot;div&quot;).attr(&quot;class&quot;, &quot;test&quot;);\n        }\n    } else {\n        iterator.add(div);\n    }\n}\n</code></pre>\n<p>Here is the output for <em>body</em>.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;test&quot;&gt;\n &lt;p&gt;123124&lt;/p&gt;\n &lt;p&gt;214565&lt;/p&gt;\n &lt;p&gt;123333&lt;/p&gt;\n&lt;/div&gt;\n&lt;img src=&quot;aboba&quot;&gt;\n&lt;div class=&quot;test&quot;&gt;\n &lt;p&gt;faaaa&lt;/p&gt;\n &lt;p&gt;aaaaa&lt;/p&gt;\n&lt;/div&gt;\n&lt;a href=&quot;src&quot;&gt;&lt;/a&gt;\n&lt;div class=&quot;test&quot;&gt;\n &lt;p&gt;1111&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":22864720,"reputation":33,"user_id":17008258,"display_name":"Jake Morgan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692238384,"creation_date":1692196923,"question_id":76914670,"body_markdown":"Code example:\r\n\r\n    &lt;body&gt;\r\n\t\t&lt;p&gt;123124&lt;/p&gt;\r\n\t\t&lt;p&gt;214565&lt;/p&gt;\r\n\t\t&lt;p&gt;123333&lt;/p&gt;\r\n\t\t&lt;img src = &quot;aboba&quot;/&gt;\r\n\t\t&lt;p&gt;faaaa&lt;/p&gt;\r\n\t\t&lt;p&gt;aaaaa&lt;/p&gt;\r\n\t\t&lt;a href=&quot;src&quot;&gt;&lt;/a&gt;\r\n\t\t&lt;p&gt;1111&lt;/p&gt;\r\n\t&lt;/body&gt;\r\n\r\nUsing jsoup to wrap in `&lt;div class=&quot;test&quot;&gt;&lt;/div&gt;`\r\n\r\nI expect that it will turn out something like that\r\n\r\nResult:\r\n\r\n    &lt;div class=&quot;test&quot;&gt;\r\n\t\t&lt;p&gt;123124&lt;/p&gt;\r\n\t\t&lt;p&gt;214565&lt;/p&gt;\r\n\t\t&lt;p&gt;123333&lt;/p&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;img src = &quot;aboba&quot;/&gt;\r\n\t&lt;div class=&quot;test&quot;&gt;\r\n\t\t&lt;p&gt;faaaa&lt;/p&gt;\r\n\t\t&lt;p&gt;aaaaa&lt;/p&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;a href=&quot;src&quot;&gt;&lt;/a&gt;\r\n\t&lt;div class=&quot;test&quot;&gt;\r\n\t\t&lt;p&gt;1111&lt;/p&gt;\r\n\t&lt;/div&gt;\r\n\r\nUPDATE: correction of the expected result","title":"JSOUP find identical tag elements that are not separated by other tags","body":"<p>Code example:</p>\n<pre><code>&lt;body&gt;\n    &lt;p&gt;123124&lt;/p&gt;\n    &lt;p&gt;214565&lt;/p&gt;\n    &lt;p&gt;123333&lt;/p&gt;\n    &lt;img src = &quot;aboba&quot;/&gt;\n    &lt;p&gt;faaaa&lt;/p&gt;\n    &lt;p&gt;aaaaa&lt;/p&gt;\n    &lt;a href=&quot;src&quot;&gt;&lt;/a&gt;\n    &lt;p&gt;1111&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n<p>Using jsoup to wrap in <code>&lt;div class=&quot;test&quot;&gt;&lt;/div&gt;</code></p>\n<p>I expect that it will turn out something like that</p>\n<p>Result:</p>\n<pre><code>&lt;div class=&quot;test&quot;&gt;\n    &lt;p&gt;123124&lt;/p&gt;\n    &lt;p&gt;214565&lt;/p&gt;\n    &lt;p&gt;123333&lt;/p&gt;\n&lt;/div&gt;\n&lt;img src = &quot;aboba&quot;/&gt;\n&lt;div class=&quot;test&quot;&gt;\n    &lt;p&gt;faaaa&lt;/p&gt;\n    &lt;p&gt;aaaaa&lt;/p&gt;\n&lt;/div&gt;\n&lt;a href=&quot;src&quot;&gt;&lt;/a&gt;\n&lt;div class=&quot;test&quot;&gt;\n    &lt;p&gt;1111&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>UPDATE: correction of the expected result</p>\n"},{"tags":["java","caching","key-value-store","distributed-caching","infinispan-10"],"owner":{"account_id":1617839,"reputation":324,"user_id":1495021,"accept_rate":75,"display_name":"YS_NE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692238160,"creation_date":1692198806,"question_id":76914929,"body_markdown":" I would like to understand in which scenario when a key not found in cache it throws NullPointerException and in which scenario it just silently return null. We observed sometime no issue when keys are not there, but sometime it just ends up in exception. Why there are two different outcome? Not having a key in cache, is very common and it is just counted towards cache-miss.\r\nA cache name &#39;user-mapping-cahce&#39; is \r\n```\r\n      &lt;invalidation-cache name=&quot;user-mapping-cache&quot; mode=&quot;ASYNC&quot; statistics=&quot;true&quot; configuration=&quot;invalidation-template&quot;&gt;\r\n        &lt;persistence passivation=&quot;false&quot;&gt;\r\n            &lt;remote:remote-store cache=&quot;user-mapping-cache&quot; preload=&quot;false&quot; shared=&quot;true&quot; raw-values=&quot;false&quot;&gt;\r\n               &lt;remote:connection-pool max-active=&quot;-1&quot; min-idle=&quot;1&quot; exhausted-action=&quot;WAIT&quot; min-evictable-idle-time=&quot;300000&quot; /&gt;\r\n\t\t\t   &lt;remote:async-executor factory=&quot;org.infinispan.client.hotrod.impl.async.DefaultAsyncExecutorFactory&quot; /&gt;\r\n               &lt;remote:write-behind fail-silently=&quot;false&quot; /&gt;\r\n               &lt;remote:property name=&quot;infinispan.client.hotrod.server_list&quot;&gt;{list of 3 servers }&lt;/remote:property&gt;\r\n            &lt;/remote:remote-store&gt;\r\n         &lt;/persistence&gt;\r\n\t\t&lt;expiration lifespan=&quot;900000&quot; /&gt;\r\n\t\t&lt;memory&gt;\r\n\t\t\t&lt;object size=&quot;10000&quot; strategy=&quot;REMOVE&quot; /&gt;\r\n\t\t&lt;/memory&gt;\r\n      &lt;/invalidation-cache&gt;\r\n```\r\nThis is the error : \r\n\r\n\r\n\r\n\r\n```\r\nError occured while getting cached data with cacheName: user-mapping-cache, key: 77491845&gt;\r\norg.infinispan.commons.CacheException: java.lang.NullPointerException\r\nat org.infinispan.interceptors.impl.InvocationContextInterceptor.rethrowException(InvocationContextInterceptor.java:134)\r\nat org.infinispan.interceptors.impl.InvocationContextInterceptor.lambda$new$0(InvocationContextInterceptor.java:62)\r\nat org.infinispan.interceptors.ExceptionSyncInvocationStage.andExceptionally(ExceptionSyncInvocationStage.java:40)\r\nat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:133)\r\nat org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)\r\nat org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244)\r\nat org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:533)\r\nat org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:526)\r\nat org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:440)\r\nat org.infinispan.cache.impl.EncoderCache.get(EncoderCache.java:713)\r\nat com.companyName.commons.caching.CompanyInfinispanCacheProvider.get(CompanyInfinispanCacheProvider.java:35)\r\nat com.companyName.commons.caching.CompanyCacheService.get(CompanyCacheService.java:60)\r\nat com.companyName.core.branding.CompanyCacheService.get(CompanyCacheService.java:40)\r\nat com.companyName.app.filters.CompanyServletFilter.setBrandingForChannel(CompanyServletFilter.java:170)\r\n```\r\n\r\nAlso once it starts, it just keep going. It never stops until the server restarts.\r\n","title":"A key not found in infinispan cache resulting in NullPointerException, sometime","body":"<p>I would like to understand in which scenario when a key not found in cache it throws NullPointerException and in which scenario it just silently return null. We observed sometime no issue when keys are not there, but sometime it just ends up in exception. Why there are two different outcome? Not having a key in cache, is very common and it is just counted towards cache-miss.\nA cache name 'user-mapping-cahce' is</p>\n<pre><code>      &lt;invalidation-cache name=&quot;user-mapping-cache&quot; mode=&quot;ASYNC&quot; statistics=&quot;true&quot; configuration=&quot;invalidation-template&quot;&gt;\n        &lt;persistence passivation=&quot;false&quot;&gt;\n            &lt;remote:remote-store cache=&quot;user-mapping-cache&quot; preload=&quot;false&quot; shared=&quot;true&quot; raw-values=&quot;false&quot;&gt;\n               &lt;remote:connection-pool max-active=&quot;-1&quot; min-idle=&quot;1&quot; exhausted-action=&quot;WAIT&quot; min-evictable-idle-time=&quot;300000&quot; /&gt;\n               &lt;remote:async-executor factory=&quot;org.infinispan.client.hotrod.impl.async.DefaultAsyncExecutorFactory&quot; /&gt;\n               &lt;remote:write-behind fail-silently=&quot;false&quot; /&gt;\n               &lt;remote:property name=&quot;infinispan.client.hotrod.server_list&quot;&gt;{list of 3 servers }&lt;/remote:property&gt;\n            &lt;/remote:remote-store&gt;\n         &lt;/persistence&gt;\n        &lt;expiration lifespan=&quot;900000&quot; /&gt;\n        &lt;memory&gt;\n            &lt;object size=&quot;10000&quot; strategy=&quot;REMOVE&quot; /&gt;\n        &lt;/memory&gt;\n      &lt;/invalidation-cache&gt;\n</code></pre>\n<p>This is the error :</p>\n<pre><code>Error occured while getting cached data with cacheName: user-mapping-cache, key: 77491845&gt;\norg.infinispan.commons.CacheException: java.lang.NullPointerException\nat org.infinispan.interceptors.impl.InvocationContextInterceptor.rethrowException(InvocationContextInterceptor.java:134)\nat org.infinispan.interceptors.impl.InvocationContextInterceptor.lambda$new$0(InvocationContextInterceptor.java:62)\nat org.infinispan.interceptors.ExceptionSyncInvocationStage.andExceptionally(ExceptionSyncInvocationStage.java:40)\nat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:133)\nat org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90)\nat org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244)\nat org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:533)\nat org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:526)\nat org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:440)\nat org.infinispan.cache.impl.EncoderCache.get(EncoderCache.java:713)\nat com.companyName.commons.caching.CompanyInfinispanCacheProvider.get(CompanyInfinispanCacheProvider.java:35)\nat com.companyName.commons.caching.CompanyCacheService.get(CompanyCacheService.java:60)\nat com.companyName.core.branding.CompanyCacheService.get(CompanyCacheService.java:40)\nat com.companyName.app.filters.CompanyServletFilter.setBrandingForChannel(CompanyServletFilter.java:170)\n</code></pre>\n<p>Also once it starts, it just keep going. It never stops until the server restarts.</p>\n"},{"tags":["java","input","knapsack-problem"],"comments":[{"owner":{"account_id":4941598,"reputation":3927,"user_id":7946807,"accept_rate":100,"display_name":"Schidu Luca"},"score":0,"creation_date":1507724683,"post_id":46688113,"comment_id":80323747,"body_markdown":"You are splitting the ``input`` in ``String[] sar`` but you are not even using it.  You end up parsing the line, of course ``Integer`` can&#39;t parse such a string with spaces.","body":"You are splitting the <code>input</code> in <code>String[] sar</code> but you are not even using it.  You end up parsing the line, of course <code>Integer</code> can&#39;t parse such a string with spaces."},{"owner":{"account_id":11723177,"reputation":19,"user_id":8581463,"display_name":"user8581463"},"score":0,"creation_date":1507725157,"post_id":46688113,"comment_id":80324068,"body_markdown":"@SchiduLuca Is there a way to fix this? The conversion from String to integer, does not work properly. So if I dont parse the string with spaces, that should resolve it?","body":"@SchiduLuca Is there a way to fix this? The conversion from String to integer, does not work properly. So if I dont parse the string with spaces, that should resolve it?"}],"answers":[{"tags":[],"owner":{"account_id":11764737,"reputation":740,"user_id":8609718,"display_name":"Overleaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507725102,"creation_date":1507725102,"answer_id":46688304,"question_id":46688113,"body_markdown":"You are calling the `parseInt` method with the String `18 7 4 6`. Since this isn&#39;t a valid Integer, the NumberFormatException is thrown.\r\n\r\nYou are already splitting the input into the `String[] sar`. In the `for` loop you already call `parseInt` on each value in `sar`, which are valid Integers. Seems like you have everything in place; just remove the `int target = Integer.parseInt(input);` line.","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string:","body":"<p>You are calling the <code>parseInt</code> method with the String <code>18 7 4 6</code>. Since this isn't a valid Integer, the NumberFormatException is thrown.</p>\n\n<p>You are already splitting the input into the <code>String[] sar</code>. In the <code>for</code> loop you already call <code>parseInt</code> on each value in <code>sar</code>, which are valid Integers. Seems like you have everything in place; just remove the <code>int target = Integer.parseInt(input);</code> line.</p>\n"},{"tags":[],"owner":{"account_id":10190067,"reputation":1,"user_id":7523797,"display_name":"Kevin Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678951472,"creation_date":1678951472,"answer_id":75753167,"question_id":46688113,"body_markdown":"maybe this could be helpful\r\n\r\n```\r\n\r\n        //your input\r\n        String input = &quot;18 7 4 6&quot;;\r\n        //split into string array by space\r\n        String[] split = input.split(&quot; &quot;);\r\n        int[] nums = new int[split.length];\r\n        //parse each string into number\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            nums[i] = Integer.parseInt(split[i]);\r\n        }\r\n        System.out.println(Arrays.toString(nums));\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string:","body":"<p>maybe this could be helpful</p>\n<pre><code>\n        //your input\n        String input = &quot;18 7 4 6&quot;;\n        //split into string array by space\n        String[] split = input.split(&quot; &quot;);\n        int[] nums = new int[split.length];\n        //parse each string into number\n        for (int i = 0; i &lt; split.length; i++) {\n            nums[i] = Integer.parseInt(split[i]);\n        }\n        System.out.println(Arrays.toString(nums));\n</code></pre>\n"}],"owner":{"account_id":11723177,"reputation":19,"user_id":8581463,"display_name":"user8581463"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692238050,"creation_date":1507724516,"question_id":46688113,"body_markdown":"I am working on the knapsack problem, I am new to Java. I am able to add numbers manually like this in the main: \r\n\r\n     // Fill the bag of weights. \r\n     //myWeights.bagOfWeights.add(18);\r\n     //myWeights.bagOfWeights.add(2);\r\n     //System.out.println(&quot;Possible answers: &quot;);\r\n     //myWeights.fillKnapSack(20);\r\n\r\nHowever, I am not able to allow the user to input the numbers. &lt;br&gt;The first number should be the target followed by the weights. &lt;br&gt;So I have tried to take the user input as a string and split it up with whitespace, and then convert it to an integer.&lt;br&gt; Next, I tried to do the parseInt 2 ways, but I was unsuccessful both way.&lt;br&gt; Here is the code: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.util.*;\r\n     \r\n      public class KnapSackWeights{\r\n     \r\n        private Sack bagOfWeights = new Sack();\r\n        private Sack knapSack = new Sack();\r\n     \r\n        public static void main(String[] args){\r\n            KnapSackWeights myWeights = new KnapSackWeights();\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the input:&quot;);\r\n            String input = in.nextLine();\r\n            String[] sar = input.split(&quot; &quot;);\r\n            //System.out.println(inp);\r\n            int target = Integer.parseInt(input);\r\n            System.out.println(target);\r\n            \r\n            int[] weights_array = new int[26];\r\n            \r\n            int n = input.length()-1;\r\n            for(int i=1; i&lt;=n; i++)\r\n            {\r\n               weights_array[i - 1] = Integer.parseInt(sar[i]);\r\n            }\r\n            int k = weights_array[0];\r\n            myWeights.bagOfWeights.add(target);\r\n            //System.out.println(target);\r\n            System.out.println(&quot;Possible answers: &quot;);\r\n            myWeights.fillKnapSack(k);\r\n            //myWeights.fillKnapSack(Integer.parseInt(sar[0]));\r\n\r\n            // Fill the bag of weights. \r\n            //myWeights.bagOfWeights.add(11);\r\n            //myWeights.bagOfWeights.add(8);\r\n            //myWeights.bagOfWeights.add(7);\r\n            //myWeights.bagOfWeights.add(6);\r\n            //myWeights.bagOfWeights.add(5);\r\n            //myWeights.bagOfWeights.add(4);\r\n            \r\n            //System.out.println(&quot;Possible answers: &quot;);\r\n            //myWeights.fillKnapSack(20);\r\n        }\r\n        \r\n        \r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere is the error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input\r\n&gt; string: &quot;18 7 4 6&quot; \tat\r\n&gt; java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n&gt; \tat java.lang.Integer.parseInt(Integer.java:580) \tat\r\n&gt; java.lang.Integer.parseInt(Integer.java:615) \tat\r\n&gt; KnapSackWeights.main(KnapSackWeights.java:18)\r\n\r\nThanks for your help. \r\n","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string:","body":"<p>I am working on the knapsack problem, I am new to Java. I am able to add numbers manually like this in the main: </p>\n\n<pre><code> // Fill the bag of weights. \n //myWeights.bagOfWeights.add(18);\n //myWeights.bagOfWeights.add(2);\n //System.out.println(\"Possible answers: \");\n //myWeights.fillKnapSack(20);\n</code></pre>\n\n<p>However, I am not able to allow the user to input the numbers. <br>The first number should be the target followed by the weights. <br>So I have tried to take the user input as a string and split it up with whitespace, and then convert it to an integer.<br> Next, I tried to do the parseInt 2 ways, but I was unsuccessful both way.<br> Here is the code: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.util.*;\r\n \r\n  public class KnapSackWeights{\r\n \r\n    private Sack bagOfWeights = new Sack();\r\n    private Sack knapSack = new Sack();\r\n \r\n    public static void main(String[] args){\r\n        KnapSackWeights myWeights = new KnapSackWeights();\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(\"Enter the input:\");\r\n        String input = in.nextLine();\r\n        String[] sar = input.split(\" \");\r\n        //System.out.println(inp);\r\n        int target = Integer.parseInt(input);\r\n        System.out.println(target);\r\n        \r\n        int[] weights_array = new int[26];\r\n        \r\n        int n = input.length()-1;\r\n        for(int i=1; i&lt;=n; i++)\r\n        {\r\n           weights_array[i - 1] = Integer.parseInt(sar[i]);\r\n        }\r\n        int k = weights_array[0];\r\n        myWeights.bagOfWeights.add(target);\r\n        //System.out.println(target);\r\n        System.out.println(\"Possible answers: \");\r\n        myWeights.fillKnapSack(k);\r\n        //myWeights.fillKnapSack(Integer.parseInt(sar[0]));\r\n\r\n        // Fill the bag of weights. \r\n        //myWeights.bagOfWeights.add(11);\r\n        //myWeights.bagOfWeights.add(8);\r\n        //myWeights.bagOfWeights.add(7);\r\n        //myWeights.bagOfWeights.add(6);\r\n        //myWeights.bagOfWeights.add(5);\r\n        //myWeights.bagOfWeights.add(4);\r\n        \r\n        //System.out.println(\"Possible answers: \");\r\n        //myWeights.fillKnapSack(20);\r\n    }\r\n    \r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NumberFormatException: For input\n  string: \"18 7 4 6\"    at\n  java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:580)     at\n  java.lang.Integer.parseInt(Integer.java:615)  at\n  KnapSackWeights.main(KnapSackWeights.java:18)</p>\n</blockquote>\n\n<p>Thanks for your help. </p>\n"},{"tags":["java","jersey-2.0"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1502274197,"post_id":45585665,"comment_id":78134635,"body_markdown":"Probably because Jersey reads the stream before calling the resource method. You might want to look into using a [Filter](https://jersey.github.io/documentation/latest/filters-and-interceptors.html) instead, which is called before the resource method.","body":"Probably because Jersey reads the stream before calling the resource method. You might want to look into using a <a href=\"https://jersey.github.io/documentation/latest/filters-and-interceptors.html\" rel=\"nofollow noreferrer\">Filter</a> instead, which is called before the resource method."},{"owner":{"account_id":5725404,"reputation":2915,"user_id":4522512,"accept_rate":43,"display_name":"Shivkumar Mallesappa"},"score":0,"creation_date":1502274344,"post_id":45585665,"comment_id":78134752,"body_markdown":"Probably because Jersey reads the stream before calling the resource method.\nSir , could you please explain a bit more, I want to understand this behavior , and you are absolutely right , earlier I have used this method in my filter , there I did not faced this issue. In my new project I moved this section of code to my controller level.","body":"Probably because Jersey reads the stream before calling the resource method. Sir , could you please explain a bit more, I want to understand this behavior , and you are absolutely right , earlier I have used this method in my filter , there I did not faced this issue. In my new project I moved this section of code to my controller level."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1502274635,"post_id":45585665,"comment_id":78134943,"body_markdown":"Because before Jersey can call your resource method, it needs to read the stream so that it can pass the entity to your method when it calls it. Even if you don&#39;t have an entity parameter, it appears Jersey still reads the stream.","body":"Because before Jersey can call your resource method, it needs to read the stream so that it can pass the entity to your method when it calls it. Even if you don&#39;t have an entity parameter, it appears Jersey still reads the stream."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1502274765,"post_id":45585665,"comment_id":78135040,"body_markdown":"Also you are using a GET. Is there even a body for this request?","body":"Also you are using a GET. Is there even a body for this request?"},{"owner":{"account_id":5725404,"reputation":2915,"user_id":4522512,"accept_rate":43,"display_name":"Shivkumar Mallesappa"},"score":0,"creation_date":1502276184,"post_id":45585665,"comment_id":78136120,"body_markdown":"Sir I am getting this exception for all the methods , GET ,PUT,POST.","body":"Sir I am getting this exception for all the methods , GET ,PUT,POST."}],"answers":[{"tags":[],"owner":{"account_id":2091874,"reputation":36,"user_id":1861514,"display_name":"Eduardo Ponzoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529277375,"creation_date":1529277375,"answer_id":50901197,"question_id":45585665,"body_markdown":"I have had a similar requirement and the way I&#39;ve worked around this issue was by kind of &quot;cloning&quot; the request entity, with a help of Apache Commons&#39; IOUtils  like the code snippet below:\r\n\r\n    //--- Create a new InputStream with the original entity ---//\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    IOUtils.copy(requestContext.getEntityStream(), baos);\r\n    InputStream originalEntity = new ByteArrayInputStream(baos.toByteArray()));\r\n    \r\n    //--- Reasign the original entity to Request Context ---//\r\n    requestContext.setEntityStream(new ByteArrayInputStream(baos.toByteArray()));\r\n    \r\n    //--- From this point onwards, you can do whatever you want with the original request entity ---//\r\n\r\n    . . .\r\n\r\n    //--- In my case, I am working with JsonObject as below (try/catch ommited for brevity) ---//\r\n    JsonReader jsonReader = Json.createReader(originalEntity);\r\n    JsonObject requestEntity = jsonReader.readObject();\r\n\r\n    . . .\r\n","title":"JERSEY : Error Trace : java.lang.IllegalStateException: Entity input stream has already been closed","body":"<p>I have had a similar requirement and the way I've worked around this issue was by kind of \"cloning\" the request entity, with a help of Apache Commons' IOUtils  like the code snippet below:</p>\n\n<pre><code>//--- Create a new InputStream with the original entity ---//\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nIOUtils.copy(requestContext.getEntityStream(), baos);\nInputStream originalEntity = new ByteArrayInputStream(baos.toByteArray()));\n\n//--- Reasign the original entity to Request Context ---//\nrequestContext.setEntityStream(new ByteArrayInputStream(baos.toByteArray()));\n\n//--- From this point onwards, you can do whatever you want with the original request entity ---//\n\n. . .\n\n//--- In my case, I am working with JsonObject as below (try/catch ommited for brevity) ---//\nJsonReader jsonReader = Json.createReader(originalEntity);\nJsonObject requestEntity = jsonReader.readObject();\n\n. . .\n</code></pre>\n"}],"owner":{"account_id":5725404,"reputation":2915,"user_id":4522512,"accept_rate":43,"display_name":"Shivkumar Mallesappa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692238050,"creation_date":1502267994,"question_id":45585665,"body_markdown":"I am working with Jersey 2.x.\r\n\r\nFollowing is my controller\r\n\r\n    @GET\r\n    @Path(&quot;{id}&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public Response getUser(@PathParam(&quot;id&quot;) int userId, @Context ContainerRequestContext containerRequestContext) {\r\n    \r\n            \r\n            ContainerRequestContext requestContext = logRequest(containerRequestContext);\r\n            \r\n            //To further operations using requestContext\r\n    \r\n    }\r\n\r\nFollowing is my method inside the same controller class to record request\r\n\r\n    private ContainerRequestContext logRequest(ContainerRequestContext requestContext) {\r\n    \r\n            JSONObject requestData = new JSONObject();\r\n            try {\r\n    \r\n                Map bm = null;\r\n                ContainerRequest cr = (ContainerRequest) requestContext;\r\n    \r\n                cr.bufferEntity();\r\n    \r\n                bm = cr.readEntity(Map.class);\r\n    \r\n                if (!String.valueOf(bm).equalsIgnoreCase(&quot;null&quot;)) {\r\n                    requestData.put(&quot;parameters&quot;, bm.toString());\r\n                }\r\n    \r\n                requestData.put(&quot;uri&quot;, requestContext.getUriInfo().getRequestUri());\r\n                requestData.put(&quot;ClientIp&quot;, requestContext.getProperty(&quot;requesterIp&quot;));\r\n                requestContext.setProperty(&quot;requestData&quot;, requestData);\r\n    \r\n            } catch (IOException | NumberFormatException | ProcessingException ex) {\r\n                //Logging\r\n    \r\n            } catch (Exception ex) {\r\n                //Logging\r\n            }\r\n            return requestContext;\r\n        }\r\n\r\nAs you can see I am using `bufferEntity()` to read ContainerRequestContext multiple times.\r\n\r\nStill when I deploy my API on my server.\r\n\r\nI am facing this error :\r\n\r\n    Error Trace : java.lang.IllegalStateException: Entity input stream has already been closed.\r\n    \r\nWhat I am doing wrong here.\r\nI will be thankful if somebody could explain me this behavior. ","title":"JERSEY : Error Trace : java.lang.IllegalStateException: Entity input stream has already been closed","body":"<p>I am working with Jersey 2.x.</p>\n\n<p>Following is my controller</p>\n\n<pre><code>@GET\n@Path(\"{id}\")\n@Produces(\"application/json\")\npublic Response getUser(@PathParam(\"id\") int userId, @Context ContainerRequestContext containerRequestContext) {\n\n\n        ContainerRequestContext requestContext = logRequest(containerRequestContext);\n\n        //To further operations using requestContext\n\n}\n</code></pre>\n\n<p>Following is my method inside the same controller class to record request</p>\n\n<pre><code>private ContainerRequestContext logRequest(ContainerRequestContext requestContext) {\n\n        JSONObject requestData = new JSONObject();\n        try {\n\n            Map bm = null;\n            ContainerRequest cr = (ContainerRequest) requestContext;\n\n            cr.bufferEntity();\n\n            bm = cr.readEntity(Map.class);\n\n            if (!String.valueOf(bm).equalsIgnoreCase(\"null\")) {\n                requestData.put(\"parameters\", bm.toString());\n            }\n\n            requestData.put(\"uri\", requestContext.getUriInfo().getRequestUri());\n            requestData.put(\"ClientIp\", requestContext.getProperty(\"requesterIp\"));\n            requestContext.setProperty(\"requestData\", requestData);\n\n        } catch (IOException | NumberFormatException | ProcessingException ex) {\n            //Logging\n\n        } catch (Exception ex) {\n            //Logging\n        }\n        return requestContext;\n    }\n</code></pre>\n\n<p>As you can see I am using <code>bufferEntity()</code> to read ContainerRequestContext multiple times.</p>\n\n<p>Still when I deploy my API on my server.</p>\n\n<p>I am facing this error :</p>\n\n<pre><code>Error Trace : java.lang.IllegalStateException: Entity input stream has already been closed.\n</code></pre>\n\n<p>What I am doing wrong here.\nI will be thankful if somebody could explain me this behavior. </p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"score":0,"creation_date":1527965250,"post_id":50659414,"comment_id":88330240,"body_markdown":"Updated the question. added userService code. \nI serialized the model for resolving this issue only. Because I read this as a solution.","body":"Updated the question. added userService code.  I serialized the model for resolving this issue only. Because I read this as a solution."},{"owner":{"account_id":11098274,"reputation":835,"user_id":8147680,"display_name":"Nitin Nanda"},"score":0,"creation_date":1583091307,"post_id":50659414,"comment_id":106991037,"body_markdown":"let me know if you have found an answer to this","body":"let me know if you have found an answer to this"}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527966015,"creation_date":1527966015,"answer_id":50660201,"question_id":50659414,"body_markdown":"OK, I think that the issue arises from the lazy loading of the user collection within the Role object. When you attempt to load the `User` object you also eagerly load the list of Roles associated to this object. By doing so, you also load the list users for each role. Problem is that this action is lazy, meaning that Jackson  will attempt to serialize the object before the nested ones have been loaded. You can attempt the set this `@ManyToMany(mappedBy = &quot;roles&quot;)` to `Eager` and try again. But as mentioned in this: https://stackoverflow.com/questions/24994440/no-serializer-found-for-class-org-hibernate-proxy-pojo-javassist-javassist this is only masking the problem.","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException for some REST operations on User entity","body":"<p>OK, I think that the issue arises from the lazy loading of the user collection within the Role object. When you attempt to load the <code>User</code> object you also eagerly load the list of Roles associated to this object. By doing so, you also load the list users for each role. Problem is that this action is lazy, meaning that Jackson  will attempt to serialize the object before the nested ones have been loaded. You can attempt the set this <code>@ManyToMany(mappedBy = \"roles\")</code> to <code>Eager</code> and try again. But as mentioned in this: <a href=\"https://stackoverflow.com/questions/24994440/no-serializer-found-for-class-org-hibernate-proxy-pojo-javassist-javassist\">No serializer found for class org.hibernate.proxy.pojo.javassist.Javassist?</a> this is only masking the problem.</p>\n"}],"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692230640,"creation_date":1527960245,"question_id":50659414,"body_markdown":"I have a few entities: `User`, `Role`, `Privilege`. And for all three entities, I have three operations which are then exposed as REST api. `findOne()`, `findAll()`, and `create()`. Issue is:    \r\n`Role` : all three operations working.    \r\n`Privilege` : all three operations working.    \r\n`User` : findOne() and create() giving `com.fasterxml.jackson.databind.exc.InvalidDefinitionException`. However `findAll()` is working without exception. Below is my code\r\n     \r\n**User.java**    \r\n\r\n    @Entity\r\n    // @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class User implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;USER_ID&quot;)\r\n    \tprivate Long userId;\r\n    \r\n    \t@EmailWithTld\r\n    \t@Column(nullable = false, unique = true)\r\n    \tprivate String email;\r\n    \r\n    \t@NotNull\r\n    \t@Size(min = 2, max = 255)\r\n    \tprivate String name;\r\n    \r\n    \tprivate Boolean locked;\r\n    \r\n    \t@NotNull\r\n    \t@Size(max = 255)\r\n    \tprivate String password;\r\n    \r\n    \t@ManyToMany(fetch = FetchType.EAGER)\r\n    \t@JoinTable(name = &quot;user_role&quot;, joinColumns = { @JoinColumn(name = &quot;USER_ID&quot;) }, inverseJoinColumns = {\r\n    \t\t\t@JoinColumn(name = &quot;ROLE_ID&quot;) })\r\n    \tprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();    \r\n    \r\n        // constructor &amp; getters/setters    \r\n    }    \r\n**Role.java**    \r\n\r\n    @Entity\r\n    public class Role implements Serializable {\r\n\r\n\t  @Id\r\n\t  @GeneratedValue(strategy = GenerationType.AUTO)\r\n\t  @Column(name = &quot;ROLE_ID&quot;)\r\n\t  public Long roleId;\r\n \r\n\t  @NotNull\r\n\t  @Size(max = 255)\r\n\t  public String name;\r\n\r\n\t  @JsonIgnore\r\n\t  @ManyToMany(mappedBy = &quot;roles&quot;)\r\n\t  private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n\t\r\n\t  @ManyToMany(cascade=CascadeType.ALL,fetch=FetchType.EAGER)\r\n\t  @JoinTable(name=&quot;role_privilege&quot;, \r\n\t  \t\t\tjoinColumns= {@JoinColumn(name=&quot;ROLE_ID&quot;)},\r\n\t\t\t\tinverseJoinColumns = {@JoinColumn(name=&quot;PRIV_ID&quot;)}\t\t\t\r\n\t  )\r\n\t  private Set&lt;Privilege&gt; privileges = new HashSet&lt;&gt;();    \r\n\r\n        // constructor &amp; getters/setters     \r\n    }    \r\n**User Controller**    \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \r\n    \t@RequestMapping(method = RequestMethod.GET)\r\n    \tpublic List&lt;User&gt; findAll() {\r\n    \t\tSystem.out.println(userService);\r\n    \t\tList&lt;User&gt; users = userService.findAll();\t\r\n    \t\treturn users;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET)\r\n    \tpublic User findOne(@PathVariable(&quot;id&quot;) final Long userId) {\r\n    \t\treturn userService.findOne(userId);\r\n    \t}\r\n    \r\n    \t@RequestMapping(method = RequestMethod.POST)\r\n    \t@ResponseStatus(code = HttpStatus.CREATED)\r\n    \tpublic void create( @RequestBody @Valid final User user) {\r\n    \t\tuserService.create(user);\r\n    \t}\r\n    }   \r\n**User Service**:    \r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserJpaRepository userJpaRepository;\r\n    \t\r\n    \tpublic List&lt;User&gt; findAll(){\r\n    \t\treturn userJpaRepository.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic User findOne(Long userId) {\r\n    \t\tUser user = userJpaRepository.getOne(userId);\r\n    \t\tif(user.getName() != null) {}\r\n    \t\treturn user;\r\n    \t}\r\n    \t\r\n    \tpublic void create(User user) {\r\n    \t\tuserJpaRepository.save(user);\r\n    \t}\r\n    \t\r\n    \t\r\n    }  \r\n\r\n  \r\n \r\nI looked many StackOverFlow threads and found a solution of using `@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})` which works for me as well. But here are my questions:    \r\n1. What is causing this issue only for findOne() and create() operations of only the User entity.   \r\n2. Why other entities are safe from this error, even they have exactly similar operations.    \r\n3. Is `@JsonIgnoreProperties` safe to use?    \r\n\r\nComplete stack trace when I try to use `create()` or `findOne()` using REST client:    \r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.learn.persistence.model.User_$$_jvstdd2_3[&quot;handler&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:312) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1396) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:913) ~[jackson-databind-2.9.5.jar:2.9.5]\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:286) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:102) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:272) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:119) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException for some REST operations on User entity","body":"<p>I have a few entities: <code>User</code>, <code>Role</code>, <code>Privilege</code>. And for all three entities, I have three operations which are then exposed as REST api. <code>findOne()</code>, <code>findAll()</code>, and <code>create()</code>. Issue is:<br>\n<code>Role</code> : all three operations working.<br>\n<code>Privilege</code> : all three operations working.<br>\n<code>User</code> : findOne() and create() giving <code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException</code>. However <code>findAll()</code> is working without exception. Below is my code</p>\n\n<p><strong>User.java</strong>    </p>\n\n<pre><code>@Entity\n// @JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\npublic class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"USER_ID\")\n    private Long userId;\n\n    @EmailWithTld\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @NotNull\n    @Size(min = 2, max = 255)\n    private String name;\n\n    private Boolean locked;\n\n    @NotNull\n    @Size(max = 255)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = \"user_role\", joinColumns = { @JoinColumn(name = \"USER_ID\") }, inverseJoinColumns = {\n            @JoinColumn(name = \"ROLE_ID\") })\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();    \n\n    // constructor &amp; getters/setters    \n}    \n</code></pre>\n\n<p><strong>Role.java</strong>    </p>\n\n<pre><code>@Entity\npublic class Role implements Serializable {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = \"ROLE_ID\")\n  public Long roleId;\n\n  @NotNull\n  @Size(max = 255)\n  public String name;\n\n  @JsonIgnore\n  @ManyToMany(mappedBy = \"roles\")\n  private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\n  @ManyToMany(cascade=CascadeType.ALL,fetch=FetchType.EAGER)\n  @JoinTable(name=\"role_privilege\", \n            joinColumns= {@JoinColumn(name=\"ROLE_ID\")},\n            inverseJoinColumns = {@JoinColumn(name=\"PRIV_ID\")}          \n  )\n  private Set&lt;Privilege&gt; privileges = new HashSet&lt;&gt;();    \n\n    // constructor &amp; getters/setters     \n}    \n</code></pre>\n\n<p><strong>User Controller</strong>    </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/users\")\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @RequestMapping(method = RequestMethod.GET)\n    public List&lt;User&gt; findAll() {\n        System.out.println(userService);\n        List&lt;User&gt; users = userService.findAll();   \n        return users;\n    }\n\n    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET)\n    public User findOne(@PathVariable(\"id\") final Long userId) {\n        return userService.findOne(userId);\n    }\n\n    @RequestMapping(method = RequestMethod.POST)\n    @ResponseStatus(code = HttpStatus.CREATED)\n    public void create( @RequestBody @Valid final User user) {\n        userService.create(user);\n    }\n}   \n</code></pre>\n\n<p><strong>User Service</strong>:    </p>\n\n<pre><code>@Service\n@Transactional\npublic class UserService {\n\n    @Autowired\n    private UserJpaRepository userJpaRepository;\n\n    public List&lt;User&gt; findAll(){\n        return userJpaRepository.findAll();\n    }\n\n    public User findOne(Long userId) {\n        User user = userJpaRepository.getOne(userId);\n        if(user.getName() != null) {}\n        return user;\n    }\n\n    public void create(User user) {\n        userJpaRepository.save(user);\n    }\n\n\n}  \n</code></pre>\n\n<p>I looked many StackOverFlow threads and found a solution of using <code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})</code> which works for me as well. But here are my questions:<br>\n1. What is causing this issue only for findOne() and create() operations of only the User entity.<br>\n2. Why other entities are safe from this error, even they have exactly similar operations.<br>\n3. Is <code>@JsonIgnoreProperties</code> safe to use?    </p>\n\n<p>Complete stack trace when I try to use <code>create()</code> or <code>findOne()</code> using REST client:    </p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.learn.persistence.model.User_$$_jvstdd2_3[\"handler\"])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:312) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:719) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1396) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:913) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:286) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:102) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:272) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:180) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:119) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:866) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.31.jar:8.5.31]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\n</code></pre>\n"},{"tags":["java","prometheus","optaplanner","micrometer","timefold"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692230393,"creation_date":1692230393,"answer_id":76917708,"question_id":76825608,"body_markdown":"It seems you have inconsistencies within your tags across your time series:\r\ne.g.:\r\n\r\n```\r\ntimefold_solver_solve_duration_seconds{tagA=&quot;a&quot;} 5\r\ntimefold_solver_solve_duration_seconds{tagB=&quot;b&quot;} 5\r\n```\r\n\r\nThis is unsupported by the Prometheus Java client and discouraged by the Prometheus server. When you add tags, you make sure all the keys are always present, if you don&#39;t have a value, you can use `none` or `unknown`, e.g.:\r\n\r\n```\r\ntimefold_solver_solve_duration_seconds{tagA=&quot;a&quot;,tagB=&quot;none&quot;} 5\r\ntimefold_solver_solve_duration_seconds{tagA=&quot;none&quot;,tagB=&quot;b&quot;} 5\r\n```","title":"optaplanner,timefold solver start failed","body":"<p>It seems you have inconsistencies within your tags across your time series:\ne.g.:</p>\n<pre><code>timefold_solver_solve_duration_seconds{tagA=&quot;a&quot;} 5\ntimefold_solver_solve_duration_seconds{tagB=&quot;b&quot;} 5\n</code></pre>\n<p>This is unsupported by the Prometheus Java client and discouraged by the Prometheus server. When you add tags, you make sure all the keys are always present, if you don't have a value, you can use <code>none</code> or <code>unknown</code>, e.g.:</p>\n<pre><code>timefold_solver_solve_duration_seconds{tagA=&quot;a&quot;,tagB=&quot;none&quot;} 5\ntimefold_solver_solve_duration_seconds{tagA=&quot;none&quot;,tagB=&quot;b&quot;} 5\n</code></pre>\n"}],"owner":{"account_id":14496895,"reputation":3,"user_id":10471177,"display_name":"naokeziteng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692230393,"creation_date":1691046052,"question_id":76825608,"body_markdown":"I encountered an error while using timefold, and it seems to be related to registering the Collector.\r\nBelow is my code and the error message.\r\n\r\n```\r\n @Test\r\n    public void testOptaPlanner() {\r\n        List&lt;Shift&gt; shifts = Mock.generateShift();\r\n        List&lt;Employee&gt; employees = scheduleForecastService.extractEmployees(1684765798377332736L, 11111, LocalDate.of(2023, 8, 7), LocalDate.of(2023, 8, 7));\r\n        SolverConfig solverConfig = new SolverConfig()\r\n                .withSolutionClass(TimeTable.class)\r\n                .withEntityClasses(Shift.class)\r\n                .withConstraintProviderClass(TimeTableConstraintProvider.class)\r\n                .withTerminationConfig(new TerminationConfig()\r\n                        .withBestScoreLimit(&quot;0hard/-2147483648soft&quot;)\r\n                        .withSecondsSpentLimit(300L)\r\n                )\r\n                .withEnvironmentMode(EnvironmentMode.FAST_ASSERT);\r\n        //\r\n//        solverConfig.setMoveThreadCount(&quot;16&quot;);\r\n//        solverConfig.setThreadFactoryClass(Mock.MyThreadFactory.class);\r\n        //\r\n        solverConfig.setRandomType(RandomType.MERSENNE_TWISTER);\r\n        solverConfig.setRandomSeed(RandomUtils.nextLong(new Random(), 2147483647L));\r\n\r\n        SolverFactory&lt;TimeTable&gt; solverFactory = SolverFactory\r\n                .create(solverConfig);\r\n        // Load the problem\r\n        TimeTable problem = new TimeTable(shifts, employees);\r\n        // Solve the problem\r\n        Solver&lt;TimeTable&gt; solver = solverFactory.buildSolver();\r\n        TimeTable solution = solver.solve(problem);\r\n        // Display the result\r\n        Mock.printTimetable(solution);\r\n    }\r\n```\r\n\r\n```\r\njava.lang.IllegalArgumentException: Failed to register Collector of type MicrometerCollector: The Collector exposes the same name multiple times: timefold_solver_solve_duration_seconds\r\n\r\n\tat io.prometheus.client.CollectorRegistry.assertNoDuplicateNames(CollectorRegistry.java:71)\r\n\tat io.prometheus.client.CollectorRegistry.register(CollectorRegistry.java:51)\r\n\tat io.prometheus.client.Collector.register(Collector.java:308)\r\n\tat io.micrometer.prometheus.PrometheusMeterRegistry.lambda$applyToCollector$16(PrometheusMeterRegistry.java:479)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1916)\r\n\tat io.micrometer.prometheus.PrometheusMeterRegistry.applyToCollector(PrometheusMeterRegistry.java:475)\r\n\tat io.micrometer.prometheus.PrometheusMeterRegistry.newLongTaskTimer(PrometheusMeterRegistry.java:288)\r\n\tat io.micrometer.core.instrument.MeterRegistry$More.lambda$longTaskTimer$0(MeterRegistry.java:883)\r\n\tat io.micrometer.core.instrument.MeterRegistry.getOrCreateMeter(MeterRegistry.java:618)\r\n\tat io.micrometer.core.instrument.MeterRegistry.registerMeterIfNecessary(MeterRegistry.java:570)\r\n\tat io.micrometer.core.instrument.MeterRegistry.access$600(MeterRegistry.java:60)\r\n\tat io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:880)\r\n\tat io.micrometer.core.instrument.LongTaskTimer$Builder.register(LongTaskTimer.java:421)\r\n\tat io.micrometer.core.instrument.composite.CompositeLongTaskTimer.registerNewMeter(CompositeLongTaskTimer.java:102)\r\n\tat io.micrometer.core.instrument.composite.CompositeLongTaskTimer.registerNewMeter(CompositeLongTaskTimer.java:30)\r\n\tat io.micrometer.core.instrument.composite.AbstractCompositeMeter.add(AbstractCompositeMeter.java:68)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat java.base/java.util.Collections$SetFromMap.forEach(Collections.java:5700)\r\n\tat io.micrometer.core.instrument.composite.CompositeMeterRegistry.lambda$new$0(CompositeMeterRegistry.java:67)\r\n\tat io.micrometer.core.instrument.composite.CompositeMeterRegistry.lock(CompositeMeterRegistry.java:189)\r\n\tat io.micrometer.core.instrument.composite.CompositeMeterRegistry.lambda$new$1(CompositeMeterRegistry.java:67)\r\n\tat io.micrometer.core.instrument.MeterRegistry.getOrCreateMeter(MeterRegistry.java:627)\r\n\tat io.micrometer.core.instrument.MeterRegistry.registerMeterIfNecessary(MeterRegistry.java:570)\r\n\tat io.micrometer.core.instrument.MeterRegistry.access$600(MeterRegistry.java:60)\r\n\tat io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:880)\r\n\tat io.micrometer.core.instrument.LongTaskTimer$Builder.register(LongTaskTimer.java:421)\r\n\tat io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:871)\r\n\tat io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:861)\r\n\tat io.micrometer.core.instrument.Metrics$More.longTaskTimer(Metrics.java:246)\r\n\tat ai.timefold.solver.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:178)\r\n```\r\nspringboot version: 2.6.13, timefold version: 1.0.0\r\n\r\n\r\nI tried excluding the micrometer-core dependency in timefold and also attempted to use filters to exclude metric measurements, but it didn&#39;t take effect.\r\n\r\n```\r\n@Bean\r\n    public MeterFilter customMeterFilter() {\r\n        return new MeterFilter() {\r\n            @Override\r\n            public Meter.Id map(Meter.Id id) {\r\n                // \r\n                // nullid\r\n                String name = id.getName();\r\n                if (name.startsWith(&quot;optaplanner.solver.&quot;)) {\r\n                    return id.withName(&quot;&quot;); //  &quot;optaplanner_solver_&quot; \r\n                }\r\n                return id; // \r\n            }\r\n        };\r\n    }\r\n```\r\nI also tried switching back to OptaPlanner 9.41.0 version, but the same error still occurs.\r\n","title":"optaplanner,timefold solver start failed","body":"<p>I encountered an error while using timefold, and it seems to be related to registering the Collector.\nBelow is my code and the error message.</p>\n<pre><code> @Test\n    public void testOptaPlanner() {\n        List&lt;Shift&gt; shifts = Mock.generateShift();\n        List&lt;Employee&gt; employees = scheduleForecastService.extractEmployees(1684765798377332736L, 11111, LocalDate.of(2023, 8, 7), LocalDate.of(2023, 8, 7));\n        SolverConfig solverConfig = new SolverConfig()\n                .withSolutionClass(TimeTable.class)\n                .withEntityClasses(Shift.class)\n                .withConstraintProviderClass(TimeTableConstraintProvider.class)\n                .withTerminationConfig(new TerminationConfig()\n                        .withBestScoreLimit(&quot;0hard/-2147483648soft&quot;)\n                        .withSecondsSpentLimit(300L)\n                )\n                .withEnvironmentMode(EnvironmentMode.FAST_ASSERT);\n        //\n//        solverConfig.setMoveThreadCount(&quot;16&quot;);\n//        solverConfig.setThreadFactoryClass(Mock.MyThreadFactory.class);\n        //\n        solverConfig.setRandomType(RandomType.MERSENNE_TWISTER);\n        solverConfig.setRandomSeed(RandomUtils.nextLong(new Random(), 2147483647L));\n\n        SolverFactory&lt;TimeTable&gt; solverFactory = SolverFactory\n                .create(solverConfig);\n        // Load the problem\n        TimeTable problem = new TimeTable(shifts, employees);\n        // Solve the problem\n        Solver&lt;TimeTable&gt; solver = solverFactory.buildSolver();\n        TimeTable solution = solver.solve(problem);\n        // Display the result\n        Mock.printTimetable(solution);\n    }\n</code></pre>\n<pre><code>java.lang.IllegalArgumentException: Failed to register Collector of type MicrometerCollector: The Collector exposes the same name multiple times: timefold_solver_solve_duration_seconds\n\n    at io.prometheus.client.CollectorRegistry.assertNoDuplicateNames(CollectorRegistry.java:71)\n    at io.prometheus.client.CollectorRegistry.register(CollectorRegistry.java:51)\n    at io.prometheus.client.Collector.register(Collector.java:308)\n    at io.micrometer.prometheus.PrometheusMeterRegistry.lambda$applyToCollector$16(PrometheusMeterRegistry.java:479)\n    at java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1916)\n    at io.micrometer.prometheus.PrometheusMeterRegistry.applyToCollector(PrometheusMeterRegistry.java:475)\n    at io.micrometer.prometheus.PrometheusMeterRegistry.newLongTaskTimer(PrometheusMeterRegistry.java:288)\n    at io.micrometer.core.instrument.MeterRegistry$More.lambda$longTaskTimer$0(MeterRegistry.java:883)\n    at io.micrometer.core.instrument.MeterRegistry.getOrCreateMeter(MeterRegistry.java:618)\n    at io.micrometer.core.instrument.MeterRegistry.registerMeterIfNecessary(MeterRegistry.java:570)\n    at io.micrometer.core.instrument.MeterRegistry.access$600(MeterRegistry.java:60)\n    at io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:880)\n    at io.micrometer.core.instrument.LongTaskTimer$Builder.register(LongTaskTimer.java:421)\n    at io.micrometer.core.instrument.composite.CompositeLongTaskTimer.registerNewMeter(CompositeLongTaskTimer.java:102)\n    at io.micrometer.core.instrument.composite.CompositeLongTaskTimer.registerNewMeter(CompositeLongTaskTimer.java:30)\n    at io.micrometer.core.instrument.composite.AbstractCompositeMeter.add(AbstractCompositeMeter.java:68)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at java.base/java.util.Collections$SetFromMap.forEach(Collections.java:5700)\n    at io.micrometer.core.instrument.composite.CompositeMeterRegistry.lambda$new$0(CompositeMeterRegistry.java:67)\n    at io.micrometer.core.instrument.composite.CompositeMeterRegistry.lock(CompositeMeterRegistry.java:189)\n    at io.micrometer.core.instrument.composite.CompositeMeterRegistry.lambda$new$1(CompositeMeterRegistry.java:67)\n    at io.micrometer.core.instrument.MeterRegistry.getOrCreateMeter(MeterRegistry.java:627)\n    at io.micrometer.core.instrument.MeterRegistry.registerMeterIfNecessary(MeterRegistry.java:570)\n    at io.micrometer.core.instrument.MeterRegistry.access$600(MeterRegistry.java:60)\n    at io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:880)\n    at io.micrometer.core.instrument.LongTaskTimer$Builder.register(LongTaskTimer.java:421)\n    at io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:871)\n    at io.micrometer.core.instrument.MeterRegistry$More.longTaskTimer(MeterRegistry.java:861)\n    at io.micrometer.core.instrument.Metrics$More.longTaskTimer(Metrics.java:246)\n    at ai.timefold.solver.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:178)\n</code></pre>\n<p>springboot version: 2.6.13, timefold version: 1.0.0</p>\n<p>I tried excluding the micrometer-core dependency in timefold and also attempted to use filters to exclude metric measurements, but it didn't take effect.</p>\n<pre><code>@Bean\n    public MeterFilter customMeterFilter() {\n        return new MeterFilter() {\n            @Override\n            public Meter.Id map(Meter.Id id) {\n                // \n                // nullid\n                String name = id.getName();\n                if (name.startsWith(&quot;optaplanner.solver.&quot;)) {\n                    return id.withName(&quot;&quot;); //  &quot;optaplanner_solver_&quot; \n                }\n                return id; // \n            }\n        };\n    }\n</code></pre>\n<p>I also tried switching back to OptaPlanner 9.41.0 version, but the same error still occurs.</p>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1692221432,"post_id":76917170,"comment_id":135595960,"body_markdown":"What is `document1`?","body":"What is <code>document1</code>?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1692221499,"post_id":76917170,"comment_id":135595967,"body_markdown":"Can you [edit] and improve the question, including providing more detail about the problem and the code, and strive to improve the code&#39;s formatting and readability? The [ask] link can help guide you in this.","body":"Can you <a href=\"https://stackoverflow.com/posts/76917170/edit\">edit</a> and improve the question, including providing more detail about the problem and the code, and strive to improve the code&#39;s formatting and readability? The <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link can help guide you in this."},{"owner":{"account_id":210406,"reputation":10453,"user_id":462006,"display_name":"scrappedcola"},"score":0,"creation_date":1692221579,"post_id":76917170,"comment_id":135595981,"body_markdown":"How are you parsing the string? Are you using Jsoup or HTMLEditorKit or something else?","body":"How are you parsing the string? Are you using Jsoup or HTMLEditorKit or something else?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1692221728,"post_id":76917170,"comment_id":135596006,"body_markdown":"I&#39;m not familiar with the library you&#39;re using (it&#39;s been a while since I did HTML parsing), but `aria-label` isn&#39;t on the div, it&#39;s on the `&lt;a&gt;` _within_ the div. Do you need to do something like `document.select(&quot;div.tertiary a&quot;).attr(&quot;aria-label&quot;)`? (And if so, I don&#39;t know how to say in your library &quot;the second `&lt;a&gt;`&quot; instead of the first, or if you need to.)","body":"I&#39;m not familiar with the library you&#39;re using (it&#39;s been a while since I did HTML parsing), but <code>aria-label</code> isn&#39;t on the div, it&#39;s on the <code>&lt;a&gt;</code> <i>within</i> the div. Do you need to do something like <code>document.select(&quot;div.tertiary a&quot;).attr(&quot;aria-label&quot;)</code>? (And if so, I don&#39;t know how to say in your library &quot;the second <code>&lt;a&gt;</code>&quot; instead of the first, or if you need to.)"},{"owner":{"account_id":29239936,"reputation":1,"user_id":22401709,"display_name":"ire_A"},"score":1,"creation_date":1692221894,"post_id":76917170,"comment_id":135596041,"body_markdown":"I am using Jsuop. Thanks yshavit this is working. Now I am getting Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670","body":"I am using Jsuop. Thanks yshavit this is working. Now I am getting Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1692222756,"post_id":76917170,"comment_id":135596146,"body_markdown":"Glad to hear it! :-)","body":"Glad to hear it! :-)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1692225801,"post_id":76917170,"comment_id":135596472,"body_markdown":"`String result = document.split(&quot;aria\\\\-label=\\&quot;&quot;)[1].split(&quot;\\&quot; class=\\&quot;&quot;)[0];`","body":"<code>String result = document.split(&quot;aria\\\\-label=\\&quot;&quot;)[1].split(&quot;\\&quot; class=\\&quot;&quot;)[0];</code>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692230164,"creation_date":1692230164,"answer_id":76917697,"question_id":76917170,"body_markdown":"Here are some relevant documents regarding the _Jsoup_ _selector-syntax_.\r\n\r\n- _[Use selector-syntax to find elements: jsoup Java HTML parser](https://jsoup.org/cookbook/extracting-data/selector-syntax)_  \r\n- _[Selector (jsoup Java HTML Parser 1.16.1 API)](https://jsoup.org/apidocs/org/jsoup/select/Selector.html)_\r\n\r\nYou can use the following to return the first anchor within _div tertiary_ that contains the _aria-label_ attribute.\r\n\r\n```java\r\nDocument document1 = Jsoup.parse(document);\r\nElements elements = document1.select(&quot;div.tertiary a&quot;);\r\nString div = elements.attr(&quot;aria-label&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nCompare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670\r\n```","title":"How to extract aria-label value using java?","body":"<p>Here are some relevant documents regarding the <em>Jsoup</em> <em>selector-syntax</em>.</p>\n<ul>\n<li><em><a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">Use selector-syntax to find elements: jsoup Java HTML parser</a></em></li>\n<li><em><a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow noreferrer\">Selector (jsoup Java HTML Parser 1.16.1 API)</a></em></li>\n</ul>\n<p>You can use the following to return the first anchor within <em>div tertiary</em> that contains the <em>aria-label</em> attribute.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document document1 = Jsoup.parse(document);\nElements elements = document1.select(&quot;div.tertiary a&quot;);\nString div = elements.attr(&quot;aria-label&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670\n</code></pre>\n"}],"owner":{"account_id":29239936,"reputation":1,"user_id":22401709,"display_name":"ire_A"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1692230164,"creation_date":1692221250,"question_id":76917170,"body_markdown":"This is example :\r\n\r\n    String document = &quot;&lt;div class=\\&quot;tertiary\\&quot; if=\\&quot;tertiaryHyperlinks.length\\&quot;&gt; \\n&quot; +\r\n                    &quot; &lt;a rel=\\&quot;nofollow\\&quot; data-vehicleid=\\&quot;5651083350\\&quot; data-saved=\\&quot;false\\&quot; data-action=\\&quot;save\\&quot; role=\\&quot;button\\&quot; aria-pressed=\\&quot;false\\&quot; merchandising-savelink=\\&quot;currVehicleId: 5651083350; isSaved: false; saveLabel: Save; savedLabel:Saved\\&quot; class=\\&quot;vehicle-save\\&quot; repeat=\\&quot;tertiaryHyperlinks\\&quot; name=\\&quot;a55ec147-0c31-45ff-bb61-0c56e7214967\\&quot; href data-linkid=\\&quot;a55ec147-0c31-45ff-bb61-0c56e7214967\\&quot; title=\\&quot;SAVE\\&quot; target&gt;Save&lt;/a&gt; \\n&quot; +\r\n                    &quot; &lt;a rel=\\&quot;nofollow\\&quot; aria-disabled=\\&quot;false\\&quot; role=\\&quot;button\\&quot; aria-pressed=\\&quot;false\\&quot; merchandising-comparevehicle data-vehicleid=\\&quot;5651083350\\&quot; data-action=\\&quot;compare\\&quot; data-saved=\\&quot;false\\&quot; href=\\&quot;#vehicle-compare-cart\\&quot; aria-label=\\&quot;Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670\\&quot; class=\\&quot;vehicle-compare\\&quot; repeat=\\&quot;tertiaryHyperlinks\\&quot; name=\\&quot;7534c28e-3ab6-45ab-bf5d-091698d4c5e0\\&quot; data-linkid=\\&quot;7534c28e-3ab6-45ab-bf5d-091698d4c5e0\\&quot; title=\\&quot;COMPARE\\&quot; target&gt;COMPARE&lt;/a&gt; \\n&quot; +\r\n                    &quot;&lt;/div&gt;&quot;;\r\n\r\nI tried with\r\n```\r\nDocument document1 = Jsoup.parse(document);\r\nString div = document1.select(&quot;div.tertiary&quot;).attr(&quot;aria-label&quot;).text();\r\n```\r\nBut I am getting empty response instead of &quot;Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670&quot;.","title":"How to extract aria-label value using java?","body":"<p>This is example :</p>\n<pre><code>String document = &quot;&lt;div class=\\&quot;tertiary\\&quot; if=\\&quot;tertiaryHyperlinks.length\\&quot;&gt; \\n&quot; +\n                &quot; &lt;a rel=\\&quot;nofollow\\&quot; data-vehicleid=\\&quot;5651083350\\&quot; data-saved=\\&quot;false\\&quot; data-action=\\&quot;save\\&quot; role=\\&quot;button\\&quot; aria-pressed=\\&quot;false\\&quot; merchandising-savelink=\\&quot;currVehicleId: 5651083350; isSaved: false; saveLabel: Save; savedLabel:Saved\\&quot; class=\\&quot;vehicle-save\\&quot; repeat=\\&quot;tertiaryHyperlinks\\&quot; name=\\&quot;a55ec147-0c31-45ff-bb61-0c56e7214967\\&quot; href data-linkid=\\&quot;a55ec147-0c31-45ff-bb61-0c56e7214967\\&quot; title=\\&quot;SAVE\\&quot; target&gt;Save&lt;/a&gt; \\n&quot; +\n                &quot; &lt;a rel=\\&quot;nofollow\\&quot; aria-disabled=\\&quot;false\\&quot; role=\\&quot;button\\&quot; aria-pressed=\\&quot;false\\&quot; merchandising-comparevehicle data-vehicleid=\\&quot;5651083350\\&quot; data-action=\\&quot;compare\\&quot; data-saved=\\&quot;false\\&quot; href=\\&quot;#vehicle-compare-cart\\&quot; aria-label=\\&quot;Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670\\&quot; class=\\&quot;vehicle-compare\\&quot; repeat=\\&quot;tertiaryHyperlinks\\&quot; name=\\&quot;7534c28e-3ab6-45ab-bf5d-091698d4c5e0\\&quot; data-linkid=\\&quot;7534c28e-3ab6-45ab-bf5d-091698d4c5e0\\&quot; title=\\&quot;COMPARE\\&quot; target&gt;COMPARE&lt;/a&gt; \\n&quot; +\n                &quot;&lt;/div&gt;&quot;;\n</code></pre>\n<p>I tried with</p>\n<pre><code>Document document1 = Jsoup.parse(document);\nString div = document1.select(&quot;div.tertiary&quot;).attr(&quot;aria-label&quot;).text();\n</code></pre>\n<p>But I am getting empty response instead of &quot;Compare new 2024 BMW 228i 228i Gran Coupe VIN WBA53AK02R7N16670&quot;.</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":8,"creation_date":1575190158,"post_id":59123861,"comment_id":104476779,"body_markdown":"I guess you could transform to double, then transform back the double to BigDecimal, and see if you obtain the same value. Not sure what&#39;s the use case is though. If you use doubles, you already accept to have non-exact values. If you want exact values, then stay with BigDecimal.","body":"I guess you could transform to double, then transform back the double to BigDecimal, and see if you obtain the same value. Not sure what&#39;s the use case is though. If you use doubles, you already accept to have non-exact values. If you want exact values, then stay with BigDecimal."}],"answers":[{"tags":[],"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1593030493,"creation_date":1575190505,"answer_id":59124029,"question_id":59123861,"body_markdown":"From [reading][1] [the][2] [docs][3], all it does with the `numTypeValueExact` variants is to check for existence of a fraction part or if the value is too big for the numeric type and throw exceptions.\r\n\r\nAs for [**`floatValue()`**][4] and [**`doubleValue()`**][5], a similar overflow check is being done, but instead of throwing an exception, instead it returns `Double.POSITIVE_INFINITY` or `Double.NEGATIVE_INFINITY` for doubles and `Float.POSITIVE_INFINITY` or `Float.NEGATIVE_INFINITY` for floats. \r\n\r\nTherefore the most reasonable (and simplest) implementation of the `exact` methods for float and double, should simply check if the conversion returns `POSITIVE_INFINITY` or `NEGATIVE_INFINITY`.\r\n\r\n---\r\n\r\n*Furthermore*, remember that `BigDecimal` was designed to handle the lack of precision that comes from using `float` or `double` for large irrationals, therefore as [@JB Nizet][6] [*commented*][7], another check you can add to the above would be to convert the `double` or `float` back to `BigDecimal` to see if you still get the same value. This should prove the conversion was correct.\r\n\r\n\r\nHere is what such a method would look like for `floatValueExact()`:\r\n\r\n```\r\npublic static float floatValueExact(BigDecimal decimal) {\r\n    float result = decimal.floatValue();\r\n    if (!(Float.isNaN(result) || Float.isInfinite(result))) {\r\n        if (new BigDecimal(String.valueOf(result)).compareTo(decimal) == 0) {\r\n            return result;\r\n        }\r\n    }\r\n    throw new ArithmeticException(String.format(&quot;%s: Cannot be represented as float&quot;, decimal));\r\n}\r\n```\r\n---\r\n\r\n*The use of [`compareTo`][8] instead of [`equals`][9] above is intentional so as to not become too strict with the checks. `equals` will only evaluate to true when the two `BigDecimal` objects have the same value and scale (size of the fraction part of the decimal), whereas `compareTo` will overlook this difference when it does not matter. For example `2.0` vs `2.00`.*\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#intValueExact--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#longValueExact--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#shortValueExact--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#floatValue--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#doubleValue--\r\n  [6]: https://stackoverflow.com/users/571407/jb-nizet\r\n  [7]: https://stackoverflow.com/questions/59123861/how-to-know-if-a-bigdecimal-can-exactly-convert-to-float-or-double/59124029#comment104476779_59123861\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#equals-java.lang.Object-","title":"How to know if a BigDecimal can exactly convert to float or double?","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#intValueExact--\" rel=\"nofollow noreferrer\">reading</a> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#longValueExact--\" rel=\"nofollow noreferrer\">the</a> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#shortValueExact--\" rel=\"nofollow noreferrer\">docs</a>, all it does with the <code>numTypeValueExact</code> variants is to check for existence of a fraction part or if the value is too big for the numeric type and throw exceptions.</p>\n<p>As for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#floatValue--\" rel=\"nofollow noreferrer\"><strong><code>floatValue()</code></strong></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#doubleValue--\" rel=\"nofollow noreferrer\"><strong><code>doubleValue()</code></strong></a>, a similar overflow check is being done, but instead of throwing an exception, instead it returns <code>Double.POSITIVE_INFINITY</code> or <code>Double.NEGATIVE_INFINITY</code> for doubles and <code>Float.POSITIVE_INFINITY</code> or <code>Float.NEGATIVE_INFINITY</code> for floats.</p>\n<p>Therefore the most reasonable (and simplest) implementation of the <code>exact</code> methods for float and double, should simply check if the conversion returns <code>POSITIVE_INFINITY</code> or <code>NEGATIVE_INFINITY</code>.</p>\n<hr />\n<p><em>Furthermore</em>, remember that <code>BigDecimal</code> was designed to handle the lack of precision that comes from using <code>float</code> or <code>double</code> for large irrationals, therefore as <a href=\"https://stackoverflow.com/users/571407/jb-nizet\">@JB Nizet</a> <a href=\"https://stackoverflow.com/questions/59123861/how-to-know-if-a-bigdecimal-can-exactly-convert-to-float-or-double/59124029#comment104476779_59123861\"><em>commented</em></a>, another check you can add to the above would be to convert the <code>double</code> or <code>float</code> back to <code>BigDecimal</code> to see if you still get the same value. This should prove the conversion was correct.</p>\n<p>Here is what such a method would look like for <code>floatValueExact()</code>:</p>\n<pre><code>public static float floatValueExact(BigDecimal decimal) {\n    float result = decimal.floatValue();\n    if (!(Float.isNaN(result) || Float.isInfinite(result))) {\n        if (new BigDecimal(String.valueOf(result)).compareTo(decimal) == 0) {\n            return result;\n        }\n    }\n    throw new ArithmeticException(String.format(&quot;%s: Cannot be represented as float&quot;, decimal));\n}\n</code></pre>\n<hr />\n<p><em>The use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#compareTo-java.math.BigDecimal-\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>equals</code></a> above is intentional so as to not become too strict with the checks. <code>equals</code> will only evaluate to true when the two <code>BigDecimal</code> objects have the same value and scale (size of the fraction part of the decimal), whereas <code>compareTo</code> will overlook this difference when it does not matter. For example <code>2.0</code> vs <code>2.00</code>.</em></p>\n"},{"tags":[],"owner":{"account_id":4807436,"reputation":334,"user_id":3881993,"display_name":"Burak G&#246;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692229358,"creation_date":1692229358,"answer_id":76917653,"question_id":59123861,"body_markdown":"Improvements on [this answer](https://stackoverflow.com/a/59124029/3881993):\r\n\r\n1. `BigDecimal.floatValue()` is not expected to return `Float.NaN` since there is no `BigDecimal.NaN`.\r\n2. `String.valueOf(float)` or `Float.toString(float)` to be precise switches to scientific notation if _number_ &lt; 10&lt;sup&gt;-3&lt;/sup&gt; or _number_ &amp;geq; 10&lt;sup&gt;7&lt;/sup&gt;, which causes `new BigDecimal(String)` to fail.\r\n```java\r\npublic static float floatValueExact(BigDecimal decimal) {\r\n    float result = decimal.floatValue();\r\n    if (Float.isInfinite(result) || new BigDecimal(result).compareTo(decimal) != 0) {\r\n        throw new ArithmeticException(decimal + &quot; cannot be represented as float&quot;);\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to know if a BigDecimal can exactly convert to float or double?","body":"<p>Improvements on <a href=\"https://stackoverflow.com/a/59124029/3881993\">this answer</a>:</p>\n<ol>\n<li><code>BigDecimal.floatValue()</code> is not expected to return <code>Float.NaN</code> since there is no <code>BigDecimal.NaN</code>.</li>\n<li><code>String.valueOf(float)</code> or <code>Float.toString(float)</code> to be precise switches to scientific notation if <em>number</em> &lt; 10<sup>-3</sup> or <em>number</em>  10<sup>7</sup>, which causes <code>new BigDecimal(String)</code> to fail.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static float floatValueExact(BigDecimal decimal) {\n    float result = decimal.floatValue();\n    if (Float.isInfinite(result) || new BigDecimal(result).compareTo(decimal) != 0) {\n        throw new ArithmeticException(decimal + &quot; cannot be represented as float&quot;);\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2092,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":59124029,"answer_count":2,"score":12,"last_activity_date":1692229358,"creation_date":1575189052,"question_id":59123861,"body_markdown":"Class `BigDecimal` has some useful methods to guarantee lossless conversion:\r\n\r\n * `byteValueExact()`\r\n * `shortValueExact()`\r\n * `intValueExact()`\r\n * `longValueExact()`\r\n\r\nHowever, methods `floatValueExact()` and `doubleValueExact()` do not exist.\r\n\r\nI read the OpenJDK source code for methods `floatValue()` and `doubleValue()`.  Both appear to fallback to `Float.parseFloat()` and `Double.parseDouble()`, respectively, which may return positive or negative infinity.  For example, parsing a string of 10,000 9s will return positive infinity.  As I understand, `BigDecimal` does not have an internal concept of infinity.  Further, parsing a string of 100 9s as `double` gives `1.0E100`, which is not infinity, but loses precision.\r\n\r\nWhat is a reasonable implementation `floatValueExact()` and `doubleValueExact()`?\r\n\r\nI thought about a `double` solution by combining `BigDecimal.doubleValue()`, `BigDecial.toString()`, `Double.parseDouble(String)` and `Double.toString(double)`, but it looks messy.  I want to ask here because there may (must!) be a simpler solution.\r\n\r\nTo be clear, I don&#39;t need a high performance solution.","title":"How to know if a BigDecimal can exactly convert to float or double?","body":"<p>Class <code>BigDecimal</code> has some useful methods to guarantee lossless conversion:</p>\n\n<ul>\n<li><code>byteValueExact()</code></li>\n<li><code>shortValueExact()</code></li>\n<li><code>intValueExact()</code></li>\n<li><code>longValueExact()</code></li>\n</ul>\n\n<p>However, methods <code>floatValueExact()</code> and <code>doubleValueExact()</code> do not exist.</p>\n\n<p>I read the OpenJDK source code for methods <code>floatValue()</code> and <code>doubleValue()</code>.  Both appear to fallback to <code>Float.parseFloat()</code> and <code>Double.parseDouble()</code>, respectively, which may return positive or negative infinity.  For example, parsing a string of 10,000 9s will return positive infinity.  As I understand, <code>BigDecimal</code> does not have an internal concept of infinity.  Further, parsing a string of 100 9s as <code>double</code> gives <code>1.0E100</code>, which is not infinity, but loses precision.</p>\n\n<p>What is a reasonable implementation <code>floatValueExact()</code> and <code>doubleValueExact()</code>?</p>\n\n<p>I thought about a <code>double</code> solution by combining <code>BigDecimal.doubleValue()</code>, <code>BigDecial.toString()</code>, <code>Double.parseDouble(String)</code> and <code>Double.toString(double)</code>, but it looks messy.  I want to ask here because there may (must!) be a simpler solution.</p>\n\n<p>To be clear, I don't need a high performance solution.</p>\n"},{"tags":["java","terminal","libgdx"],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692229342,"creation_date":1692229342,"question_id":76917652,"body_markdown":"Running maven command on terminal to execute my Libgdx application, I get the error: `GLFW may only\r\n be used on the main thread. This check may be disabled with Configuration.GLFW_CHECK_THREAD0.` The command that I am using to run is `mvn exec:java -Dexec.mainClass=net.game.Main`.\r\n\r\nMany answers on the internet told me to use `-XstartOnFirstThread`, but I already added it by doing `export MAVEN_OPTS=&quot;-XstartOnFirstThread`. I also tried using `StartupHelper`, but it did not recognize main class.","title":"Libgdx: GLFW may only be used on the main thread. This check may be disabled with Configuration.GLFW_CHECK_THREAD0","body":"<p>Running maven command on terminal to execute my Libgdx application, I get the error: <code>GLFW may only be used on the main thread. This check may be disabled with Configuration.GLFW_CHECK_THREAD0.</code> The command that I am using to run is <code>mvn exec:java -Dexec.mainClass=net.game.Main</code>.</p>\n<p>Many answers on the internet told me to use <code>-XstartOnFirstThread</code>, but I already added it by doing <code>export MAVEN_OPTS=&quot;-XstartOnFirstThread</code>. I also tried using <code>StartupHelper</code>, but it did not recognize main class.</p>\n"},{"tags":["java","android","flutter","arch"],"answers":[{"tags":[],"owner":{"account_id":18421197,"reputation":3,"user_id":18466189,"display_name":"Niall Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692229264,"creation_date":1692229103,"answer_id":76917641,"question_id":76917439,"body_markdown":"Self solved,\r\n\r\nI removed all instances of setting JAVA_HOME in my fish and bash config files, \\\r\nI `unset JAVA_OPTS` (bash) and `set -eU JAVA_OPTS` (fish) \\\r\nI switched to java-17-openjdk \\\r\nI rebooted.\r\n\r\nThen it worked perfectly!","title":"sdkmanager / flutter on arch unable to run","body":"<p>Self solved,</p>\n<p>I removed all instances of setting JAVA_HOME in my fish and bash config files, <br />\nI <code>unset JAVA_OPTS</code> (bash) and <code>set -eU JAVA_OPTS</code> (fish) <br />\nI switched to java-17-openjdk <br />\nI rebooted.</p>\n<p>Then it worked perfectly!</p>\n"}],"owner":{"account_id":18421197,"reputation":3,"user_id":18466189,"display_name":"Niall Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692229264,"creation_date":1692224760,"question_id":76917439,"body_markdown":"# Goal\r\n\r\nI&#39;m currently trying to install Flutter on Arch.\r\n\r\nI have decided to go the easy route and just install Android Studio for the SDK and other related software.\r\n\r\nI have `flutter doctor`\r\n```\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n[] Flutter (Channel stable, 3.10.6, on Arch Linux 6.1.45-1-lts, locale en_GB.UTF-8)\r\n[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\r\n     Android license status unknown.\r\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\r\n      See https://flutter.dev/docs/get-started/install/linux#android-setup for more details.\r\n[] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\r\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\r\n[] Linux toolchain - develop for Linux desktop\r\n[] Android Studio (version 2022.3)\r\n[] Connected device (1 available)\r\n[] Network resources\r\n```\r\n\r\n# Problem\r\n\r\n`flutter doctor --android-licenses`.\r\n\r\nWhenever I run it, I recieve;\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module java.se.ee not found\r\nAndroid sdkmanager tool was found, but failed to run (/home/ryann62/Android/Sdk/cmdline-tools/latest/bin/sdkmanager): &quot;exited code 1&quot;.\r\nTry re-installing or updating your Android SDK,\r\nvisit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions.\r\n```\r\n\r\nAdditionally, trying `./sdkmanager --list` either gives me;\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module java.se.ee not found\r\n```\r\nwith java-17-openjdk\r\nor\r\n```\r\nError: Could not find or load main class java.se.ee\r\n```\r\nwith java-8-openjdk\r\n\r\nAlso, i&#39;m using Flutter v3.10, and Android-Studio Giraffe.\r\n\r\n# What have I tried?\r\n\r\nI have tried reinstalling Android-Studio, \\\r\nI have tried reinstalling my Android SDK  \\\r\nI have tried setting and unsetting JAVA_OPTS to JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39; \\\r\nI have tried java-8-openjdk, java-17-openjdk, java-20-openjdk, ensuring I only have one version installed at a time and setting JAVA_HOME correctly.\r\n\r\n**I have also followed all similar-ish issues on stack overflow to no avail.**\r\n\r\nI&#39;m just lost and beyond frustrated at this point, could anyone point me in the right direction?\r\nAny help would be more than appreciated!","title":"sdkmanager / flutter on arch unable to run","body":"<h1>Goal</h1>\n<p>I'm currently trying to install Flutter on Arch.</p>\n<p>I have decided to go the easy route and just install Android Studio for the SDK and other related software.</p>\n<p>I have <code>flutter doctor</code></p>\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[] Flutter (Channel stable, 3.10.6, on Arch Linux 6.1.45-1-lts, locale en_GB.UTF-8)\n[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n     Android license status unknown.\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\n      See https://flutter.dev/docs/get-started/install/linux#android-setup for more details.\n[] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n[] Linux toolchain - develop for Linux desktop\n[] Android Studio (version 2022.3)\n[] Connected device (1 available)\n[] Network resources\n</code></pre>\n<h1>Problem</h1>\n<p><code>flutter doctor --android-licenses</code>.</p>\n<p>Whenever I run it, I recieve;</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found\nAndroid sdkmanager tool was found, but failed to run (/home/ryann62/Android/Sdk/cmdline-tools/latest/bin/sdkmanager): &quot;exited code 1&quot;.\nTry re-installing or updating your Android SDK,\nvisit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions.\n</code></pre>\n<p>Additionally, trying <code>./sdkmanager --list</code> either gives me;</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found\n</code></pre>\n<p>with java-17-openjdk\nor</p>\n<pre><code>Error: Could not find or load main class java.se.ee\n</code></pre>\n<p>with java-8-openjdk</p>\n<p>Also, i'm using Flutter v3.10, and Android-Studio Giraffe.</p>\n<h1>What have I tried?</h1>\n<p>I have tried reinstalling Android-Studio, <br />\nI have tried reinstalling my Android SDK  <br />\nI have tried setting and unsetting JAVA_OPTS to JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee' <br />\nI have tried java-8-openjdk, java-17-openjdk, java-20-openjdk, ensuring I only have one version installed at a time and setting JAVA_HOME correctly.</p>\n<p><strong>I have also followed all similar-ish issues on stack overflow to no avail.</strong></p>\n<p>I'm just lost and beyond frustrated at this point, could anyone point me in the right direction?\nAny help would be more than appreciated!</p>\n"},{"tags":["java","iterator","default-method"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692216378,"post_id":76916414,"comment_id":135595088,"body_markdown":"What version of javac are you compiling it with? btw, always use `@Override` when overriding methods","body":"What version of javac are you compiling it with? btw, always use <code>@Override</code> when overriding methods"},{"owner":{"account_id":19679938,"reputation":3,"user_id":14407271,"display_name":"Aleksandar Zizovic"},"score":0,"creation_date":1692226032,"post_id":76916414,"comment_id":135596496,"body_markdown":"Version 17.0.7. Eclipse removed annotations actually because it&#39;s rather an implementation than &#39;overriding&#39;, but I agree, it&#39;s more obvious if the @Override annotation is there","body":"Version 17.0.7. Eclipse removed annotations actually because it&#39;s rather an implementation than &#39;overriding&#39;, but I agree, it&#39;s more obvious if the @Override annotation is there"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692226724,"post_id":76916414,"comment_id":135596564,"body_markdown":"I know what you&#39;re saying. Yes it *is* an implementation but the annotation will show errors and won&#39;t let you believe you&#39;ve overridden a method when you haven&#39;t","body":"I know what you&#39;re saying. Yes it <i>is</i> an implementation but the annotation will show errors and won&#39;t let you believe you&#39;ve overridden a method when you haven&#39;t"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692228056,"creation_date":1692228056,"answer_id":76917601,"question_id":76916414,"body_markdown":"The `remove()` method in `java.util.Iterator` has a `default` implementation _now_, but it didn&#39;t in older versions. Specifically, it gained this in java8 (because java8 introduced `default` methods - but Iterator&#39;s `remove` is older than that).\r\n\r\nYou have configured your intellij that your source code is versioned at 7 or lower, and/or have told intellij to compile and run it all on a JDK at version 7 or below.\r\n\r\nThese versions are very very obsolete/unmaintained/outdated; the lowest java version still in common use is java 8; there is very little reason to write libraries such that they run on even that very very low version.\r\n\r\nIf you truly want to support that version, you _have to_ write `remove()` by hand - that same version (java7 or below) _did not have_ a `forEachRemaining` method at all, hence why you get no errors about it not being in your implementation: Either it wasn&#39;t there at all, _or_ it has a default impl. Unlike `remove()`, which pre-8 was there and had no `default` (because the feature didn&#39;t exist), and post-8 was still there but now with a `default`.\r\n\r\nExactly how you&#39;ve set up your project so that you ended up with something configured at 7 or below is not clear from your question. If you have issues fixing it, you should find a tutorial or ask a separate question from this one.\r\n","title":"Java 17: MenuIterator is not abstract and does not override abstract method remove() in java.util.Iterator","body":"<p>The <code>remove()</code> method in <code>java.util.Iterator</code> has a <code>default</code> implementation <em>now</em>, but it didn't in older versions. Specifically, it gained this in java8 (because java8 introduced <code>default</code> methods - but Iterator's <code>remove</code> is older than that).</p>\n<p>You have configured your intellij that your source code is versioned at 7 or lower, and/or have told intellij to compile and run it all on a JDK at version 7 or below.</p>\n<p>These versions are very very obsolete/unmaintained/outdated; the lowest java version still in common use is java 8; there is very little reason to write libraries such that they run on even that very very low version.</p>\n<p>If you truly want to support that version, you <em>have to</em> write <code>remove()</code> by hand - that same version (java7 or below) <em>did not have</em> a <code>forEachRemaining</code> method at all, hence why you get no errors about it not being in your implementation: Either it wasn't there at all, <em>or</em> it has a default impl. Unlike <code>remove()</code>, which pre-8 was there and had no <code>default</code> (because the feature didn't exist), and post-8 was still there but now with a <code>default</code>.</p>\n<p>Exactly how you've set up your project so that you ended up with something configured at 7 or below is not clear from your question. If you have issues fixing it, you should find a tutorial or ask a separate question from this one.</p>\n"}],"owner":{"account_id":19679938,"reputation":3,"user_id":14407271,"display_name":"Aleksandar Zizovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76917601,"answer_count":1,"score":0,"last_activity_date":1692228056,"creation_date":1692212883,"question_id":76916414,"body_markdown":"I&#39;m getting the following error while implementing the java.util.Iterator interface in my class:\r\n\r\n**java: MenuIterator is not abstract and does not override abstract method remove() in java.util.Iterator.**\r\n\r\n```\r\nimport java.util.Iterator;\r\n\r\npublic class MenuIterator implements Iterator&lt;MenuItem&gt; {\r\n    private final MenuItem[] items;\r\n    private int position = 0;\r\n\r\n    public MenuIterator(MenuItem[] menuItems) {\r\n        this.items = menuItems;\r\n    }\r\n\r\n    public boolean hasNext() {\r\n        return position &lt; items.length &amp;&amp; items[position] != null;\r\n    }\r\n\r\n    public MenuItem next() {\r\n        return items[position++];\r\n    }\r\n}\r\n```\r\n\r\nremove() method is a default method in the Iterator interface, as well as forEachRemaing() method.\r\n\r\n```\r\n    default void remove() {\r\n        throw new UnsupportedOperationException(&quot;remove&quot;);\r\n    }\r\n\r\n    default void forEachRemaining(Consumer&lt;? super E&gt; action) {\r\n        Objects.requireNonNull(action);\r\n        while (hasNext())\r\n            action.accept(next());\r\n    }\r\n```\r\n\r\nHowever, I am not forced to implement forEachRemaing(), but I do have to implement remove(). Also, the code works without implementing remove() if I run it from Eclipse, but gives an error in IntelliJ IDEA.\r\n\r\nDoes anyone know why I would need to provide an implementation for the default remove() method? Why should I provide it for one method and not for another? And why does it work without implementation in one IDE and not in another?","title":"Java 17: MenuIterator is not abstract and does not override abstract method remove() in java.util.Iterator","body":"<p>I'm getting the following error while implementing the java.util.Iterator interface in my class:</p>\n<p><strong>java: MenuIterator is not abstract and does not override abstract method remove() in java.util.Iterator.</strong></p>\n<pre><code>import java.util.Iterator;\n\npublic class MenuIterator implements Iterator&lt;MenuItem&gt; {\n    private final MenuItem[] items;\n    private int position = 0;\n\n    public MenuIterator(MenuItem[] menuItems) {\n        this.items = menuItems;\n    }\n\n    public boolean hasNext() {\n        return position &lt; items.length &amp;&amp; items[position] != null;\n    }\n\n    public MenuItem next() {\n        return items[position++];\n    }\n}\n</code></pre>\n<p>remove() method is a default method in the Iterator interface, as well as forEachRemaing() method.</p>\n<pre><code>    default void remove() {\n        throw new UnsupportedOperationException(&quot;remove&quot;);\n    }\n\n    default void forEachRemaining(Consumer&lt;? super E&gt; action) {\n        Objects.requireNonNull(action);\n        while (hasNext())\n            action.accept(next());\n    }\n</code></pre>\n<p>However, I am not forced to implement forEachRemaing(), but I do have to implement remove(). Also, the code works without implementing remove() if I run it from Eclipse, but gives an error in IntelliJ IDEA.</p>\n<p>Does anyone know why I would need to provide an implementation for the default remove() method? Why should I provide it for one method and not for another? And why does it work without implementation in one IDE and not in another?</p>\n"},{"tags":["java","spring","spring-boot","networking"],"comments":[{"owner":{"account_id":51954,"reputation":7402,"user_id":155248,"accept_rate":61,"display_name":"Onema"},"score":0,"creation_date":1692227216,"post_id":65800778,"comment_id":135596605,"body_markdown":"What you are doing won&#39;t work because your network router still needs to figure out where to send incoming requests. Opening a port won&#39;t &quot;just work&quot;. Check this article out: https://hackaday.com/2022/03/15/run-your-own-server-for-fun-and-zero-profit/ Is not spring boot but it may point you in the right direction.","body":"What you are doing won&#39;t work because your network router still needs to figure out where to send incoming requests. Opening a port won&#39;t &quot;just work&quot;. Check this article out: <a href=\"https://hackaday.com/2022/03/15/run-your-own-server-for-fun-and-zero-profit/\" rel=\"nofollow noreferrer\">hackaday.com/2022/03/15/&hellip;</a> Is not spring boot but it may point you in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":6396609,"reputation":392,"user_id":4960751,"display_name":"Ja&#39;afar Naddaf"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1692226900,"creation_date":1611097630,"answer_id":65800848,"question_id":65800778,"body_markdown":"This is a network-related question. You will need to set up a few things first: \r\n\r\n - Get a static IP provided by your Internet Service Provider (ISP) \r\n - You need to configure your network gateway to forward requests to the server hosting your application","title":"How can I properly self-host my Spring Boot app on my computer?","body":"<p>This is a network-related question. You will need to set up a few things first:</p>\n<ul>\n<li>Get a static IP provided by your Internet Service Provider (ISP)</li>\n<li>You need to configure your network gateway to forward requests to the server hosting your application</li>\n</ul>\n"}],"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65800848,"answer_count":1,"score":0,"last_activity_date":1692226900,"creation_date":1611097214,"question_id":65800778,"body_markdown":"I can&#39;t connect remotely to my SB app that I want to self-host\r\n\r\n**Introduction**\r\n\r\nI made a Spring Boot app with a &#39;my-sql&#39; container that I want to share outside my home network to test it with some friends. The app works locally but I want to use it outside my network.\r\n\r\nI have never, ever, deployed an app and I have little knowledge on this matter and I want to do it properly to avoid problems that I won&#39;t be able to handle myself. \r\n\r\n\r\n**What have I done so far**\r\n\r\n- I tried opening the 8080 port on the firewall for any connection\r\n- I added my public ip in the application.properties with port 8080\r\n- Used 0.0.0.0 to listen to any connection to 8080 as in [this solution][1]\r\n- Load the app to Heroku (success) and self-host the &#39;my-sql&#39; (that one is another question)\r\n\r\n**Problem**\r\n\r\nNone of these solutions above worked for me\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23946369/how-to-configure-embedded-tomcat-integrated-with-spring-to-listen-requests-to-ip","title":"How can I properly self-host my Spring Boot app on my computer?","body":"<p>I can't connect remotely to my SB app that I want to self-host</p>\n<p><strong>Introduction</strong></p>\n<p>I made a Spring Boot app with a 'my-sql' container that I want to share outside my home network to test it with some friends. The app works locally but I want to use it outside my network.</p>\n<p>I have never, ever, deployed an app and I have little knowledge on this matter and I want to do it properly to avoid problems that I won't be able to handle myself.</p>\n<p><strong>What have I done so far</strong></p>\n<ul>\n<li>I tried opening the 8080 port on the firewall for any connection</li>\n<li>I added my public ip in the application.properties with port 8080</li>\n<li>Used 0.0.0.0 to listen to any connection to 8080 as in <a href=\"https://stackoverflow.com/questions/23946369/how-to-configure-embedded-tomcat-integrated-with-spring-to-listen-requests-to-ip\">this solution</a></li>\n<li>Load the app to Heroku (success) and self-host the 'my-sql' (that one is another question)</li>\n</ul>\n<p><strong>Problem</strong></p>\n<p>None of these solutions above worked for me</p>\n"},{"tags":["java","android","android-studio","jetbrains-ide"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692078595,"post_id":76895727,"comment_id":135572698,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29219183,"reputation":1,"user_id":22385272,"display_name":"Kristen Waterford"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692226593,"creation_date":1691973458,"question_id":76895727,"body_markdown":"Kindly check below the exception that I am facing.\r\n\r\njava.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext (in unnamed module @0x4442bba4) cannot access class com.sun.tools.javac.util.Context (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.util to unnamed module @0x4442bba4\r\n\tat org.jetbrains.kotlin.kapt3.base.KaptContext.&lt;init&gt;(KaptContext.kt:29)\r\n\tat org.jetbrains.kotlin.kapt3.KaptContextForStubGeneration.&lt;init&gt;(KaptContextForStubGeneration.kt:40)\r\n\tat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.contextForStubGeneration(Kapt3Extension.kt:287)\r\n\tat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\r\n\tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:102)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$invokeExtensionsOnAnalysisComplete(TopDownAnalyzerFacadeForJVM.kt:112)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:122)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:86)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:540)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:531)\r\n\tat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:113)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:531)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:188)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli$default(KotlinToJVMBytecodeCompiler.kt:154)\r\n\tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:169)\r\n\tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\r\n\tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:90)\r\n\tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\r\n\tat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:386)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:110)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:303)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl$rebuild(IncrementalCompilerRunner.kt:99)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl(IncrementalCompilerRunner.kt:124)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:74)\r\n\tat org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:607)\r\n\tat org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:96)\r\n\tat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1659)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n\r\nIf anyone has any advice, it would be very much appreciated.\r\n\r\nSaw that others were having a similar problem on github but their solutions did not work for me. I am very new to this, so apologies if its a simple problem.","title":"Attempting to load virtual app yet Java.lang.IllegalAccessError pops up for Android Studio","body":"<p>Kindly check below the exception that I am facing.</p>\n<p>java.lang.IllegalAccessError: class org.jetbrains.kotlin.kapt3.base.KaptContext (in unnamed module @0x4442bba4) cannot access class com.sun.tools.javac.util.Context (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.util to unnamed module @0x4442bba4\nat org.jetbrains.kotlin.kapt3.base.KaptContext.(KaptContext.kt:29)\nat org.jetbrains.kotlin.kapt3.KaptContextForStubGeneration.(KaptContextForStubGeneration.kt:40)\nat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.contextForStubGeneration(Kapt3Extension.kt:287)\nat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\nat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:102)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$invokeExtensionsOnAnalysisComplete(TopDownAnalyzerFacadeForJVM.kt:112)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:122)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:86)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:540)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:531)\nat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:113)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:531)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:188)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli$default(KotlinToJVMBytecodeCompiler.kt:154)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:169)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:90)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\nat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:386)\nat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:110)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:303)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl$rebuild(IncrementalCompilerRunner.kt:99)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileImpl(IncrementalCompilerRunner.kt:124)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:74)\nat org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:607)\nat org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:96)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1659)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\nat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\nat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\nat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\nat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\nat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>If anyone has any advice, it would be very much appreciated.</p>\n<p>Saw that others were having a similar problem on github but their solutions did not work for me. I am very new to this, so apologies if its a simple problem.</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1692231208,"post_id":76917515,"comment_id":135596964,"body_markdown":"The class is missing a [`package` declaration](https://docs.oracle.com/javase/tutorial/java/package/createpkgs.html) that matches the directory structure","body":"The class is missing a <a href=\"https://docs.oracle.com/javase/tutorial/java/package/createpkgs.html\" rel=\"nofollow noreferrer\"><code>package</code> declaration</a> that matches the directory structure"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692226245,"creation_date":1692226245,"question_id":76917515,"body_markdown":"Following this stackoverflow [link][1]. I have a test class at \r\n`~/IdeaProjects/mavenproject1/src/test/java/FirstPackage/EmployeeTest.java` which looks like below\r\n\r\n```\r\n\r\nimport junit.framework.TestCase;\r\nimport org.junit.Test;\r\n\r\npublic class EmployeeTest extends TestCase{\r\n    Employee e = new Employee();\r\n\r\n    @Test\r\n    public void testSayNothing() {\r\n        assertEquals(&quot;hello&quot;,e.getEmployee(&quot;hello&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow do I run all tests in this package `FirstPackage`\r\nThe below command fails\r\n`mvn &#39;-Dtest=FirstPackage.*&#39; test` with the error:\r\n```\r\nINFO] --- surefire:3.1.2:test (default-test) @ codebase1 ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.971 s\r\n[INFO] Finished at: 2023-08-16T15:49:43-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project codebase1: No tests matching pattern &quot;FirstPackage.*&quot; were executed! (Set -Dsurefire.failIfNoSpecifiedTests=false to ignore this error.) -&gt; [Help 1]\r\n[ERROR]\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/6819888/how-to-run-all-tests-in-a-particular-package-with-maven","title":"Trying to run tests in a java package using Maven","body":"<p>Following this stackoverflow <a href=\"https://stackoverflow.com/questions/6819888/how-to-run-all-tests-in-a-particular-package-with-maven\">link</a>. I have a test class at\n<code>~/IdeaProjects/mavenproject1/src/test/java/FirstPackage/EmployeeTest.java</code> which looks like below</p>\n<pre><code>\nimport junit.framework.TestCase;\nimport org.junit.Test;\n\npublic class EmployeeTest extends TestCase{\n    Employee e = new Employee();\n\n    @Test\n    public void testSayNothing() {\n        assertEquals(&quot;hello&quot;,e.getEmployee(&quot;hello&quot;));\n    }\n}\n\n</code></pre>\n<p>How do I run all tests in this package <code>FirstPackage</code>\nThe below command fails\n<code>mvn '-Dtest=FirstPackage.*' test</code> with the error:</p>\n<pre><code>INFO] --- surefire:3.1.2:test (default-test) @ codebase1 ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.971 s\n[INFO] Finished at: 2023-08-16T15:49:43-07:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project codebase1: No tests matching pattern &quot;FirstPackage.*&quot; were executed! (Set -Dsurefire.failIfNoSpecifiedTests=false to ignore this error.) -&gt; [Help 1]\n[ERROR]\n</code></pre>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1692232683,"post_id":76917496,"comment_id":135597076,"body_markdown":"Sometimes applications encounter this error even though there is an abundance of primary disk space because the error occurs when writing into temporary disk files on a system where temporary files are stored on a separate partition with much less space that the primary disk.","body":"Sometimes applications encounter this error even though there is an abundance of primary disk space because the error occurs when writing into temporary disk files on a system where temporary files are stored on a separate partition with much less space that the primary disk."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1692232726,"post_id":76917496,"comment_id":135597079,"body_markdown":"Also see this answer, https://stackoverflow.com/a/46012432/2310289 and think about doing a vacuum","body":"Also see this answer, <a href=\"https://stackoverflow.com/a/46012432/2310289\">stackoverflow.com/a/46012432/2310289</a> and think about doing a vacuum"},{"owner":{"account_id":71085,"reputation":105190,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"score":0,"creation_date":1692356906,"post_id":76917496,"comment_id":135615182,"body_markdown":"I bet you a cup of Java that your database&#39;s filename is `/tmp/something_or_other.sqlite` and that you are running your program on a Linux / FreeBSD / some other UNIX-alike operating system. The `/tmp` file systems on such systems are sometimes size-constrained RAMdisks. If my guess is correct, try `/usr/tmp` instead.","body":"I bet you a cup of Java that your database&#39;s filename is <code>&#47;tmp&#47;something_or_other.sqlite</code> and that you are running your program on a Linux / FreeBSD / some other UNIX-alike operating system. The <code>&#47;tmp</code> file systems on such systems are sometimes size-constrained RAMdisks. If my guess is correct, try <code>&#47;usr&#47;tmp</code> instead."}],"owner":{"account_id":11316261,"reputation":1,"user_id":8297934,"display_name":"WhoolieShop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692226039,"creation_date":1692225931,"question_id":76917496,"body_markdown":"I have a small sqlite database, which currently is ~149 mb. I am using java to run a query on the database and sometimes I get the following error message:\r\n```\r\n[18:28:50 ERROR]: [MegaLogger] Couldn&#39;t execute MySQL statement: \r\norg.sqlite.SQLiteException: [SQLITE_FULL]  Insertion failed because database is full (database or disk is full)\r\n```\r\n\r\nThe Query is as follows: \r\n```\r\nSELECT *, data FROM death_log INNER JOIN items ON items.deathDate = death_log.deathDate WHERE killerUUID != &#39;N/A&#39; AND diedUUID == &#39;00000000-0000-0000-0009-01ffde9ec682&#39; GROUP BY death_log.deathDate ORDER BY death_log.deathDate ASC LIMIT 30;\r\n```\r\n\r\nRunning this same query on my local machine with DB Browser yields the following:\r\n```\r\nExecution finished without errors.\r\nResult: 1 rows returned in 3838ms\r\n```\r\nI read in another thread a user was getting a similar error and it was suggested they remove the Group By / Order By clauses, I have tried removing them and still get the same error.\r\n\r\nAny help would be appreciated, If I need to I can set up a mysql database if this is a sqlite issue but it seems silly for something that will not end up being a large database.\r\n\r\nTried removing the Order By and Group By clauses.","title":"Sqlite Issue SQLITE_FULL (database or disk is full)","body":"<p>I have a small sqlite database, which currently is ~149 mb. I am using java to run a query on the database and sometimes I get the following error message:</p>\n<pre><code>[18:28:50 ERROR]: [MegaLogger] Couldn't execute MySQL statement: \norg.sqlite.SQLiteException: [SQLITE_FULL]  Insertion failed because database is full (database or disk is full)\n</code></pre>\n<p>The Query is as follows:</p>\n<pre><code>SELECT *, data FROM death_log INNER JOIN items ON items.deathDate = death_log.deathDate WHERE killerUUID != 'N/A' AND diedUUID == '00000000-0000-0000-0009-01ffde9ec682' GROUP BY death_log.deathDate ORDER BY death_log.deathDate ASC LIMIT 30;\n</code></pre>\n<p>Running this same query on my local machine with DB Browser yields the following:</p>\n<pre><code>Execution finished without errors.\nResult: 1 rows returned in 3838ms\n</code></pre>\n<p>I read in another thread a user was getting a similar error and it was suggested they remove the Group By / Order By clauses, I have tried removing them and still get the same error.</p>\n<p>Any help would be appreciated, If I need to I can set up a mysql database if this is a sqlite issue but it seems silly for something that will not end up being a large database.</p>\n<p>Tried removing the Order By and Group By clauses.</p>\n"},{"tags":["java","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692225283,"creation_date":1692225283,"answer_id":76917462,"question_id":76911367,"body_markdown":"I believe that your issue is that the `getData` method is dependant upon the `saveWorkRecord` method (as this appears to create the database and then save to a non existent table) and that the saveWorkRecord method is dependant upon the getData method (as this appears to require that the database exists).\r\n\r\nI would suggest that you consider the following demo that utilises the `SQLiteOpenHelper` class that helps you to open the database and passes control, when the database is first opened, to the `onCreate` method.\r\n\r\nThe demo also uses a singleton for the database.\r\n\r\n\r\n**Working Demo**\r\n\r\nFirst the `DBOpenHelper` class that is an extension of the `SQLiteOpenHelper` class:-\r\n\r\n    class DBOpenHelper extends SQLiteOpenHelper {\r\n    \r\n       public static final String DATABASE_NAME = &quot;workifyDatabase&quot;;\r\n       public static final int DATABASE_VERSION = 1;\r\n    \r\n       /* Constructor  for the DBOpenHelper class, private to force use of singleton */\r\n       private DBOpenHelper(Context context) {\r\n          super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n       }\r\n    \r\n       /* Singleton approach (i.e. only 1 instance of DBOpenHelper exists)*/\r\n       private static volatile DBOpenHelper instance;\r\n       public static DBOpenHelper getInstance(Context context) {\r\n          if (instance==null) {\r\n             instance = new DBOpenHelper(context);\r\n          }\r\n          return instance;\r\n       }\r\n    \r\n       /* If the database does not exist, then this method will be called */\r\n       /* ideal place to create the table(s) */\r\n       @Override\r\n       public void onCreate(SQLiteDatabase db) {\r\n          db.execSQL(&quot;CREATE TABLE IF NOT EXISTS workifydatabase(id INTEGER PRIMARY KEY,workname VARCHAR,logoid INTEGER,year VARCHAR,workinghours INTEGER) &quot;);\r\n       }\r\n    \r\n       /* If the database version is increased, then this method will be invoked */\r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n       }\r\n    \r\n       /* Method to insert a row, using the convenience insert method */\r\n       /* this generates the underlying SQL and furthermore returns the id of the inserted row or -1 if the row was not inserted */\r\n       public long saveWorkRecord(String workname,int logoid, String year,int workinghours) {\r\n          ContentValues cv = new ContentValues();\r\n          cv.put(&quot;workname&quot;,workname);\r\n          cv.put(&quot;logoid&quot;,logoid);\r\n          cv.put(&quot;year&quot;,year);\r\n          cv.put(&quot;workinghours&quot;,workinghours);\r\n          return this.getWritableDatabase().insert(&quot;workifydatabase&quot;,null,cv);\r\n       }\r\n    \r\n       /* Example of retrieving data (might want to adapt this to return a TaskArrayList rather than a Cursor) */\r\n       public Cursor getAllDataAsCursor() {\r\n          return this.getWritableDatabase().query(&quot;workifydatabase&quot;,null /* all columns */,null /* all rows*/,null /* no selection args */, null,null,null);\r\n       }\r\n    }\r\n\r\n- Note the two methods for accessing the database, `saveWorkRecord` for saving a row of data (returning the id of the row or -1 if the row could not be inserted and `getAllData` to return a Cursor (note the comment adapting to return a TaskArrayList). *i.e. the demo is more about circumventing the table not found issue than handling the display of the list*\r\n\r\nTo actually demonstrate some activity code that will save two records and then extract them from the database into a Cursor and then using the `DatabaseUtils` dumpCursor method to write the data in the cursor to the log:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DBOpenHelper db;\r\n        /*NOTE BAD IDEA TO STORE DATES in dd-mm-yyyy format\r\n        * 1) date is only sortable indirectly\r\n        * 2) the date, not being an SQLite recognised format, excludes simple use of SQLite&#39;s build in date functions\r\n        *  */\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault());\r\n        SimpleDateFormat beterDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;,Locale.getDefault());\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = DBOpenHelper.getInstance(this); /* get an instance of the DBOpenHelper*/\r\n            /* Note that the database will not have been opened/created at this stage */\r\n    \r\n            /* Try to get data from the database (noting no data has been added) */\r\n            /* This will result in the database being created (opened if it exists) and therefore\r\n                the onCreate method of the DBOpenHelper instance being called, thus creating the table */\r\n            Cursor csr = db.getAllDataAsCursor();\r\n            DatabaseUtils.dumpCursor(csr); /* Dumpy the cursor (will be empty first time the app is run) */\r\n    \r\n            /* Add two records */\r\n            db.saveWorkRecord(&quot;My First Work Record&quot;,1,dateFormat.format(new Date()),0);\r\n            db.saveWorkRecord(&quot;My Other First Work Record&quot;,2,beterDateFormat.format(new Date()),10);\r\n    \r\n            /* Extract the data and dump the cursor to the log */\r\n            csr = db.getAllDataAsCursor();\r\n            DatabaseUtils.dumpCursor(csr);\r\n        }\r\n    }\r\n\r\n\r\nWhen run for the first time then the log includes:-\r\n\r\n    2023-08-17 08:19:59.993 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@98fd0f5\r\n    2023-08-17 08:19:59.993 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n    \r\n    \r\n    \r\n    2023-08-17 08:19:59.995 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@664ce8a\r\n    2023-08-17 08:19:59.996 I/System.out: 0 {\r\n    2023-08-17 08:19:59.996 I/System.out:    id=1\r\n    2023-08-17 08:19:59.996 I/System.out:    workname=My First Work Record\r\n    2023-08-17 08:19:59.996 I/System.out:    logoid=1\r\n    2023-08-17 08:19:59.996 I/System.out:    year=17-08-2023\r\n    2023-08-17 08:19:59.996 I/System.out:    workinghours=0\r\n    2023-08-17 08:19:59.996 I/System.out: }\r\n    2023-08-17 08:19:59.996 I/System.out: 1 {\r\n    2023-08-17 08:19:59.996 I/System.out:    id=2\r\n    2023-08-17 08:19:59.996 I/System.out:    workname=My Other First Work Record\r\n    2023-08-17 08:19:59.996 I/System.out:    logoid=2\r\n    2023-08-17 08:19:59.996 I/System.out:    year=2023-08-17\r\n    2023-08-17 08:19:59.997 I/System.out:    workinghours=10\r\n    2023-08-17 08:19:59.997 I/System.out: }\r\n    2023-08-17 08:19:59.997 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n\r\n- the first dump (first few lines) shows that there is no data in the cursor.\r\n- the second dump confirms that the data has been inserted and successfully extracted.\r\n\r\nUsing Android Studio&#39;s `App Inspection` :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MT6kx.png","title":"Android Stuido sqlite database no such table error","body":"<p>I believe that your issue is that the <code>getData</code> method is dependant upon the <code>saveWorkRecord</code> method (as this appears to create the database and then save to a non existent table) and that the saveWorkRecord method is dependant upon the getData method (as this appears to require that the database exists).</p>\n<p>I would suggest that you consider the following demo that utilises the <code>SQLiteOpenHelper</code> class that helps you to open the database and passes control, when the database is first opened, to the <code>onCreate</code> method.</p>\n<p>The demo also uses a singleton for the database.</p>\n<p><strong>Working Demo</strong></p>\n<p>First the <code>DBOpenHelper</code> class that is an extension of the <code>SQLiteOpenHelper</code> class:-</p>\n<pre><code>class DBOpenHelper extends SQLiteOpenHelper {\n\n   public static final String DATABASE_NAME = &quot;workifyDatabase&quot;;\n   public static final int DATABASE_VERSION = 1;\n\n   /* Constructor  for the DBOpenHelper class, private to force use of singleton */\n   private DBOpenHelper(Context context) {\n      super(context,DATABASE_NAME,null,DATABASE_VERSION);\n   }\n\n   /* Singleton approach (i.e. only 1 instance of DBOpenHelper exists)*/\n   private static volatile DBOpenHelper instance;\n   public static DBOpenHelper getInstance(Context context) {\n      if (instance==null) {\n         instance = new DBOpenHelper(context);\n      }\n      return instance;\n   }\n\n   /* If the database does not exist, then this method will be called */\n   /* ideal place to create the table(s) */\n   @Override\n   public void onCreate(SQLiteDatabase db) {\n      db.execSQL(&quot;CREATE TABLE IF NOT EXISTS workifydatabase(id INTEGER PRIMARY KEY,workname VARCHAR,logoid INTEGER,year VARCHAR,workinghours INTEGER) &quot;);\n   }\n\n   /* If the database version is increased, then this method will be invoked */\n   @Override\n   public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n   }\n\n   /* Method to insert a row, using the convenience insert method */\n   /* this generates the underlying SQL and furthermore returns the id of the inserted row or -1 if the row was not inserted */\n   public long saveWorkRecord(String workname,int logoid, String year,int workinghours) {\n      ContentValues cv = new ContentValues();\n      cv.put(&quot;workname&quot;,workname);\n      cv.put(&quot;logoid&quot;,logoid);\n      cv.put(&quot;year&quot;,year);\n      cv.put(&quot;workinghours&quot;,workinghours);\n      return this.getWritableDatabase().insert(&quot;workifydatabase&quot;,null,cv);\n   }\n\n   /* Example of retrieving data (might want to adapt this to return a TaskArrayList rather than a Cursor) */\n   public Cursor getAllDataAsCursor() {\n      return this.getWritableDatabase().query(&quot;workifydatabase&quot;,null /* all columns */,null /* all rows*/,null /* no selection args */, null,null,null);\n   }\n}\n</code></pre>\n<ul>\n<li>Note the two methods for accessing the database, <code>saveWorkRecord</code> for saving a row of data (returning the id of the row or -1 if the row could not be inserted and <code>getAllData</code> to return a Cursor (note the comment adapting to return a TaskArrayList). <em>i.e. the demo is more about circumventing the table not found issue than handling the display of the list</em></li>\n</ul>\n<p>To actually demonstrate some activity code that will save two records and then extract them from the database into a Cursor and then using the <code>DatabaseUtils</code> dumpCursor method to write the data in the cursor to the log:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DBOpenHelper db;\n    /*NOTE BAD IDEA TO STORE DATES in dd-mm-yyyy format\n    * 1) date is only sortable indirectly\n    * 2) the date, not being an SQLite recognised format, excludes simple use of SQLite's build in date functions\n    *  */\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault());\n    SimpleDateFormat beterDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;,Locale.getDefault());\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = DBOpenHelper.getInstance(this); /* get an instance of the DBOpenHelper*/\n        /* Note that the database will not have been opened/created at this stage */\n\n        /* Try to get data from the database (noting no data has been added) */\n        /* This will result in the database being created (opened if it exists) and therefore\n            the onCreate method of the DBOpenHelper instance being called, thus creating the table */\n        Cursor csr = db.getAllDataAsCursor();\n        DatabaseUtils.dumpCursor(csr); /* Dumpy the cursor (will be empty first time the app is run) */\n\n        /* Add two records */\n        db.saveWorkRecord(&quot;My First Work Record&quot;,1,dateFormat.format(new Date()),0);\n        db.saveWorkRecord(&quot;My Other First Work Record&quot;,2,beterDateFormat.format(new Date()),10);\n\n        /* Extract the data and dump the cursor to the log */\n        csr = db.getAllDataAsCursor();\n        DatabaseUtils.dumpCursor(csr);\n    }\n}\n</code></pre>\n<p>When run for the first time then the log includes:-</p>\n<pre><code>2023-08-17 08:19:59.993 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@98fd0f5\n2023-08-17 08:19:59.993 I/System.out: &lt;&lt;&lt;&lt;&lt;\n\n\n\n2023-08-17 08:19:59.995 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@664ce8a\n2023-08-17 08:19:59.996 I/System.out: 0 {\n2023-08-17 08:19:59.996 I/System.out:    id=1\n2023-08-17 08:19:59.996 I/System.out:    workname=My First Work Record\n2023-08-17 08:19:59.996 I/System.out:    logoid=1\n2023-08-17 08:19:59.996 I/System.out:    year=17-08-2023\n2023-08-17 08:19:59.996 I/System.out:    workinghours=0\n2023-08-17 08:19:59.996 I/System.out: }\n2023-08-17 08:19:59.996 I/System.out: 1 {\n2023-08-17 08:19:59.996 I/System.out:    id=2\n2023-08-17 08:19:59.996 I/System.out:    workname=My Other First Work Record\n2023-08-17 08:19:59.996 I/System.out:    logoid=2\n2023-08-17 08:19:59.996 I/System.out:    year=2023-08-17\n2023-08-17 08:19:59.997 I/System.out:    workinghours=10\n2023-08-17 08:19:59.997 I/System.out: }\n2023-08-17 08:19:59.997 I/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<ul>\n<li>the first dump (first few lines) shows that there is no data in the cursor.</li>\n<li>the second dump confirms that the data has been inserted and successfully extracted.</li>\n</ul>\n<p>Using Android Studio's <code>App Inspection</code> :-</p>\n<p><a href=\"https://i.stack.imgur.com/MT6kx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MT6kx.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28835794,"reputation":13,"user_id":22085231,"display_name":"Yasin G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76917462,"answer_count":1,"score":1,"last_activity_date":1692225283,"creation_date":1692170749,"question_id":76911367,"body_markdown":"I&#39;m trying to use sq lite database in android studio, but I get no such table error\r\n\r\nI created an sqlite database and I was waiting for the database I created to assign data to the recycler view and for the tasks I created to appear in the recycler view. but I got no such table error and nothing showed up in the recycler view\r\n\r\n    private void saveWorkRecord() {\r\n        \r\n        String workName = editTextTaskName.getText().toString();\r\n        int workingHours = 0; \r\n        int logoId = selectedLogoResourceId; \r\n        Date date = new Date(); \r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault());\r\n        String formattedDate = dateFormat.format(date); \r\n\r\n        try {\r\n            database.execSQL(&quot;CREATE TABLE IF NOT EXISTS workifydatabase(id INTEGER PRIMARY KEY,workname VARCHAR,logoid INTEGER,year VARCHAR,workinghours INTEGER) &quot;);\r\n            String sqlString = &quot;INSERT INTO workifydatabase(workname, logoid, year, workinghours) VALUES(?,?,?,?)&quot;;\r\n            SQLiteStatement sqLiteStatement = database.compileStatement(sqlString);\r\n            sqLiteStatement.bindString(1, workName);\r\n            sqLiteStatement.bindLong(2, logoId); \r\n            sqLiteStatement.bindString(3, formattedDate);\r\n            sqLiteStatement.bindLong(4, workingHours); \r\n            sqLiteStatement.executeInsert();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        database.close();\r\n        finish();\r\n    }\r\n\r\nand this is the usage part:\r\n\r\n    private void getData() {\r\n\r\n        try {\r\n            SQLiteDatabase sqLiteDatabase = requireContext().openOrCreateDatabase(&quot;workifyDatabase&quot;,MODE_PRIVATE,null);\r\n            Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM workifydatabase&quot;,null);\r\n            int nameIx = cursor.getColumnIndex(&quot;workname&quot;);\r\n            int idIx = cursor.getColumnIndex(&quot;id&quot;);\r\n            int hourIx = cursor.getColumnIndex(&quot;workinghours&quot;);\r\n            int yearIx = cursor.getColumnIndex(&quot;year&quot;);\r\n\r\n            while (cursor.moveToNext()){\r\n                String name = cursor.getString(nameIx);\r\n                int id= cursor.getInt(idIx);\r\n                String year = cursor.getString(yearIx);\r\n                int hour = cursor.getInt(hourIx);\r\n                Task task = new Task(name,id,hour,year);\r\n                TaskArrayList.add(task);\r\n            }\r\n\r\n            taskAdapter.notifyDataSetChanged();\r\n            cursor.close();\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Android Stuido sqlite database no such table error","body":"<p>I'm trying to use sq lite database in android studio, but I get no such table error</p>\n<p>I created an sqlite database and I was waiting for the database I created to assign data to the recycler view and for the tasks I created to appear in the recycler view. but I got no such table error and nothing showed up in the recycler view</p>\n<pre><code>private void saveWorkRecord() {\n    \n    String workName = editTextTaskName.getText().toString();\n    int workingHours = 0; \n    int logoId = selectedLogoResourceId; \n    Date date = new Date(); \n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault());\n    String formattedDate = dateFormat.format(date); \n\n    try {\n        database.execSQL(&quot;CREATE TABLE IF NOT EXISTS workifydatabase(id INTEGER PRIMARY KEY,workname VARCHAR,logoid INTEGER,year VARCHAR,workinghours INTEGER) &quot;);\n        String sqlString = &quot;INSERT INTO workifydatabase(workname, logoid, year, workinghours) VALUES(?,?,?,?)&quot;;\n        SQLiteStatement sqLiteStatement = database.compileStatement(sqlString);\n        sqLiteStatement.bindString(1, workName);\n        sqLiteStatement.bindLong(2, logoId); \n        sqLiteStatement.bindString(3, formattedDate);\n        sqLiteStatement.bindLong(4, workingHours); \n        sqLiteStatement.executeInsert();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    database.close();\n    finish();\n}\n</code></pre>\n<p>and this is the usage part:</p>\n<pre><code>private void getData() {\n\n    try {\n        SQLiteDatabase sqLiteDatabase = requireContext().openOrCreateDatabase(&quot;workifyDatabase&quot;,MODE_PRIVATE,null);\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM workifydatabase&quot;,null);\n        int nameIx = cursor.getColumnIndex(&quot;workname&quot;);\n        int idIx = cursor.getColumnIndex(&quot;id&quot;);\n        int hourIx = cursor.getColumnIndex(&quot;workinghours&quot;);\n        int yearIx = cursor.getColumnIndex(&quot;year&quot;);\n\n        while (cursor.moveToNext()){\n            String name = cursor.getString(nameIx);\n            int id= cursor.getInt(idIx);\n            String year = cursor.getString(yearIx);\n            int hour = cursor.getInt(hourIx);\n            Task task = new Task(name,id,hour,year);\n            TaskArrayList.add(task);\n        }\n\n        taskAdapter.notifyDataSetChanged();\n        cursor.close();\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","jar","dependencies","noclassdeffounderror"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692225008,"post_id":76917432,"comment_id":135596387,"body_markdown":"You&#39;d need to use something like [shadow](https://github.com/johnrengelman/shadow) but I think in the case of JavaFX, the smarter money would be on using `jpackage`","body":"You&#39;d need to use something like <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">shadow</a> but I think in the case of JavaFX, the smarter money would be on using <code>jpackage</code>"},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1692338944,"post_id":76917432,"comment_id":135612095,"body_markdown":"How do you exactly try to run the jar? Depending on the version of Java you use, you may have to add module path and javafx modules.","body":"How do you exactly try to run the jar? Depending on the version of Java you use, you may have to add module path and javafx modules."},{"owner":{"account_id":26693238,"reputation":23,"user_id":20301502,"display_name":"jamal1aarab"},"score":0,"creation_date":1692377964,"post_id":76917432,"comment_id":135619629,"body_markdown":"@CjY i run it normally using java -jar name.jar because i dont have javafx localy i add it using gradle","body":"@CjY i run it normally using java -jar name.jar because i dont have javafx localy i add it using gradle"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692378441,"post_id":76917432,"comment_id":135619724,"body_markdown":"That is ... confusing. If you don&#39;t have it &quot;locally&quot; then I don&#39;t see how you run it at all as it&#39;s sure not in your jar (as your error shows)","body":"That is ... confusing. If you don&#39;t have it &quot;locally&quot; then I don&#39;t see how you run it at all as it&#39;s sure not in your jar (as your error shows)"},{"owner":{"account_id":26693238,"reputation":23,"user_id":20301502,"display_name":"jamal1aarab"},"score":0,"creation_date":1692384270,"post_id":76917432,"comment_id":135620666,"body_markdown":"@g00se thank you for the suggestion earlier\nwhat confuse me is that gradle run the app successfully but when it comes to the jar file it dosent work","body":"@g00se thank you for the suggestion earlier what confuse me is that gradle run the app successfully but when it comes to the jar file it dosent work"},{"owner":{"account_id":26693238,"reputation":23,"user_id":20301502,"display_name":"jamal1aarab"},"score":0,"creation_date":1692387389,"post_id":76917432,"comment_id":135621147,"body_markdown":"@CjY I tried using this but still no result :\njava --module-path C:\\programming\\javafx-sdk-20.0.2\\lib --add-modules javafx.controls,javafx.fxml -jar systemGestionConges.jar","body":"@CjY I tried using this but still no result : java --module-path C:\\programming\\javafx-sdk-20.0.2\\lib --add-modules javafx.controls,javafx.fxml -jar systemGestionConges.jar"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692389706,"post_id":76917432,"comment_id":135621504,"body_markdown":"*I tried using this...* You can&#39;t mix in `-jar`. That parameter is a stand-alone means of running a *self-sufficient* packaged jar. Yours is **not** self-sufficient as your default runtime doesn&#39;t have JavaFx. Therefore you either have to make it so, or run it specifying the main class and all its modules and or/classpaths","body":"<i>I tried using this...</i> You can&#39;t mix in <code>-jar</code>. That parameter is a stand-alone means of running a <i>self-sufficient</i> packaged jar. Yours is <b>not</b> self-sufficient as your default runtime doesn&#39;t have JavaFx. Therefore you either have to make it so, or run it specifying the main class and all its modules and or/classpaths"},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1692548933,"post_id":76917432,"comment_id":135635495,"body_markdown":"You still got the same error after adding the modules and path?","body":"You still got the same error after adding the modules and path?"},{"owner":{"account_id":26693238,"reputation":23,"user_id":20301502,"display_name":"jamal1aarab"},"score":0,"creation_date":1692559164,"post_id":76917432,"comment_id":135636594,"body_markdown":"@cjy yes \nError: Could not find or load main class com.jamal1aarab.Main","body":"@cjy yes  Error: Could not find or load main class com.jamal1aarab.Main"}],"owner":{"account_id":26693238,"reputation":23,"user_id":20301502,"display_name":"jamal1aarab"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692224959,"creation_date":1692224659,"question_id":76917432,"body_markdown":"Facing &quot;NoClassDefFoundError&quot; when running Gradle-generated JAR for JavaFX app. Gradle build succeeds, but JAR execution fails due to missing &quot;javafx/application/Application&quot; class. Need help including JavaFX in JAR build.\r\n\r\nHere is the error:\r\n\r\n&gt; Error: Could not find or load main class com.jamal1aarab.Main\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n\r\nHere is part of my build file where I think the problem is:\r\n\r\n```\r\nmainClassName = &#39;com.jamal1aarab.Main&#39;\r\n\r\njar {\r\n  manifest {\r\n    attributes(\r\n      &#39;Main-Class&#39;: &#39;com.jamal1aarab.Main&#39;\r\n    )\r\n  }\r\n}\r\n```\r\n\r\nThe directory is correct at `src\\main\\java\\com\\jamal1aarab`\r\n\r\nI configured my Gradle build with the main class and manifest attributes. Gradle build and run work fine, but when I try running the JAR, the &quot;NoClassDefFoundError&quot; pops up. I expected my JavaFX app to run smoothly from the JAR, just like it does through Gradle. However, the missing &quot;javafx/application/Application&quot; class caused the JAR execution to fail.\r\n\r\nAlso, I&#39;ve come across numerous Stack Overflow posts discussing similar issues. However, most solutions seem to involve fixing the path, which I&#39;ve already ensured is correct in my case.\r\n","title":"Troubleshooting JavaFX NoClassDefFoundError When Running JAR File: How to Include JavaFX in Gradle-built JAR?","body":"<p>Facing &quot;NoClassDefFoundError&quot; when running Gradle-generated JAR for JavaFX app. Gradle build succeeds, but JAR execution fails due to missing &quot;javafx/application/Application&quot; class. Need help including JavaFX in JAR build.</p>\n<p>Here is the error:</p>\n<blockquote>\n<p>Error: Could not find or load main class com.jamal1aarab.Main\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application</p>\n</blockquote>\n<p>Here is part of my build file where I think the problem is:</p>\n<pre><code>mainClassName = 'com.jamal1aarab.Main'\n\njar {\n  manifest {\n    attributes(\n      'Main-Class': 'com.jamal1aarab.Main'\n    )\n  }\n}\n</code></pre>\n<p>The directory is correct at <code>src\\main\\java\\com\\jamal1aarab</code></p>\n<p>I configured my Gradle build with the main class and manifest attributes. Gradle build and run work fine, but when I try running the JAR, the &quot;NoClassDefFoundError&quot; pops up. I expected my JavaFX app to run smoothly from the JAR, just like it does through Gradle. However, the missing &quot;javafx/application/Application&quot; class caused the JAR execution to fail.</p>\n<p>Also, I've come across numerous Stack Overflow posts discussing similar issues. However, most solutions seem to involve fixing the path, which I've already ensured is correct in my case.</p>\n"},{"tags":["java","memory","compiler-construction","jvm"],"comments":[{"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":2,"creation_date":1347806953,"post_id":12447819,"comment_id":16738573,"body_markdown":"Read the source for the `String` class.","body":"Read the source for the <code>String</code> class."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347807607,"post_id":12447819,"comment_id":16738698,"body_markdown":"If you read the source for the String class you will see it stores the length which is how it knows how long the string is. BTW &quot;abc&quot; uses about 48 bytes of memory.","body":"If you read the source for the String class you will see it stores the length which is how it knows how long the string is. BTW &quot;abc&quot; uses about 48 bytes of memory."}],"answers":[{"tags":[],"owner":{"account_id":344696,"reputation":7076,"user_id":677139,"accept_rate":97,"display_name":"Dreen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1347806938,"creation_date":1347806938,"answer_id":12447856,"question_id":12447819,"body_markdown":"It takes more than 3 bytes, read on for full explanation from [this page][1]\r\n\r\n&gt; For reasons we&#39;ll explore below, the minimum memory usage of a Java\r\n&gt; String (in the Hotspot Java 6 VM) is generally as follows:\r\n&gt; \r\n&gt;     Minimum String memory usage (bytes) = 8 * (int) ((((no chars) * 2) + 45) / 8)\r\n&gt; \r\n&gt; Or, put another way:\r\n&gt; \r\n&gt;  - multiply the number of characters of the String by two;\r\n&gt;  - add 38;\r\n&gt;  - if the result is not a multiple of 8, round up to the next multiple    of 8;\r\n&gt;  - the result is generally the minimum number of bytes taken up on the    heap by the String.\r\n\r\n[This page][2] from the same website also details ways in which you can save memory using classes different than `String`\r\n\r\n\r\n  [1]: http://www.javamex.com/tutorials/memory/string_memory_usage.shtml\r\n  [2]: http://www.javamex.com/tutorials/memory/string_saving_memory.shtml","title":"Does s take 3 bytes in Java? when : String s = &quot;abc&quot;; Java","body":"<p>It takes more than 3 bytes, read on for full explanation from <a href=\"http://www.javamex.com/tutorials/memory/string_memory_usage.shtml\" rel=\"noreferrer\">this page</a></p>\n\n<blockquote>\n  <p>For reasons we'll explore below, the minimum memory usage of a Java\n  String (in the Hotspot Java 6 VM) is generally as follows:</p>\n\n<pre><code>Minimum String memory usage (bytes) = 8 * (int) ((((no chars) * 2) + 45) / 8)\n</code></pre>\n  \n  <p>Or, put another way:</p>\n  \n  <ul>\n  <li>multiply the number of characters of the String by two;</li>\n  <li>add 38;</li>\n  <li>if the result is not a multiple of 8, round up to the next multiple    of 8;</li>\n  <li>the result is generally the minimum number of bytes taken up on the    heap by the String.</li>\n  </ul>\n</blockquote>\n\n<p><a href=\"http://www.javamex.com/tutorials/memory/string_saving_memory.shtml\" rel=\"noreferrer\">This page</a> from the same website also details ways in which you can save memory using classes different than <code>String</code></p>\n"},{"tags":[],"owner":{"account_id":1038150,"reputation":2733,"user_id":1044799,"accept_rate":80,"display_name":"awm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347807029,"creation_date":1347807029,"answer_id":12447867,"question_id":12447819,"body_markdown":"Minimum String memory usage (bytes) = 8 * (int) ((((num of chars) * 2) + 45) / 8) \r\n","title":"Does s take 3 bytes in Java? when : String s = &quot;abc&quot;; Java","body":"<p>Minimum String memory usage (bytes) = 8 * (int) ((((num of chars) * 2) + 45) / 8) </p>\n"},{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692224895,"creation_date":1347807205,"answer_id":12447891,"question_id":12447819,"body_markdown":"Short answer: no, not by a long shot.  JVM strings are well-known for being quite heavy; the object contains not only a pointer to the character array but also its length.  And the internal storage use UTF-16 codepoints, so your question could have been &quot;does it take 6 bytes?&quot; :-)\r\n\r\nA technical reference to the JVM will give you the exact size of string objects.  You can also find some interesting blog posts [such as this one](https://web.archive.org/web/20120702032839/http://lingpipe-blog.com/2010/06/22/the-unbearable-heaviness-jav-strings/) and technical articles.\r\n\r\nThere is a good deal more to the question of the exact size of string objects.  We can get in to compression of object pointers, string interning, etc.  There is also the fact that since strings are immutable, we often have sharing of string memory, as happens when you call `substring` for example.\r\n\r\nHowever, what is always true is: it&#39;s more than 3 bytes.\r\n","title":"Does s take 3 bytes in Java? when : String s = &quot;abc&quot;; Java","body":"<p>Short answer: no, not by a long shot.  JVM strings are well-known for being quite heavy; the object contains not only a pointer to the character array but also its length.  And the internal storage use UTF-16 codepoints, so your question could have been &quot;does it take 6 bytes?&quot; :-)</p>\n<p>A technical reference to the JVM will give you the exact size of string objects.  You can also find some interesting blog posts <a href=\"https://web.archive.org/web/20120702032839/http://lingpipe-blog.com/2010/06/22/the-unbearable-heaviness-jav-strings/\" rel=\"nofollow noreferrer\">such as this one</a> and technical articles.</p>\n<p>There is a good deal more to the question of the exact size of string objects.  We can get in to compression of object pointers, string interning, etc.  There is also the fact that since strings are immutable, we often have sharing of string memory, as happens when you call <code>substring</code> for example.</p>\n<p>However, what is always true is: it's more than 3 bytes.</p>\n"}],"owner":{"account_id":1469221,"reputation":3113,"user_id":1381196,"accept_rate":87,"display_name":"Al2O3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1039,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12447856,"answer_count":3,"score":5,"last_activity_date":1692224895,"creation_date":1347806671,"question_id":12447819,"body_markdown":"If I write this in Java:  \r\n\r\n    String s = &quot;abc&quot;;  \r\n\r\nDoes s only occupy 3 bytes in the memory?  \r\nIf true, how JVM finds the end of the String object?  \r\nDoes this take more bytes in memory?","title":"Does s take 3 bytes in Java? when : String s = &quot;abc&quot;; Java","body":"<p>If I write this in Java:  </p>\n\n<pre><code>String s = \"abc\";  \n</code></pre>\n\n<p>Does s only occupy 3 bytes in the memory?<br>\nIf true, how JVM finds the end of the String object?<br>\nDoes this take more bytes in memory?</p>\n"},{"tags":["java","serialization","file-io"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692230253,"post_id":8640859,"comment_id":135596874,"body_markdown":"Add `static long serialVersionUID = ..;` to the class, with the value as shown for the stream classdesc.","body":"Add <code>static long serialVersionUID = ..;</code> to the class, with the value as shown for the stream classdesc."}],"answers":[{"tags":[],"owner":{"account_id":1128219,"reputation":58,"user_id":1114946,"accept_rate":50,"display_name":"j128"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1692224845,"creation_date":1324956488,"answer_id":8640877,"question_id":8640859,"body_markdown":"[This article](https://web.archive.org/web/20111104124500/http://lingpipe-blog.com/2010/05/04/upgrading-java-classes-backward-compatible-serialization/) may be helpful, by changing the class&#39;s method signatures, previous serialized forms are incompatible unless the classes have the same serialVersionUID.","title":"error: local class incompatible: stream classdec serialversionUID= ...., local class serialversionUID=","body":"<p><a href=\"https://web.archive.org/web/20111104124500/http://lingpipe-blog.com/2010/05/04/upgrading-java-classes-backward-compatible-serialization/\" rel=\"nofollow noreferrer\">This article</a> may be helpful, by changing the class's method signatures, previous serialized forms are incompatible unless the classes have the same serialVersionUID.</p>\n"},{"tags":[],"owner":{"account_id":958518,"reputation":2221,"user_id":983347,"accept_rate":87,"display_name":"Rajkumar Palani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1479054739,"creation_date":1324958208,"answer_id":8640986,"question_id":8640859,"body_markdown":"Even Though the serialVersionUID is same, some changes are incompatible to sync with the previous serialized form.\r\n\r\n[link is here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8640859/error-local-class-incompatible-stream-classdec-serialversionuid-local-c%22%3E%20Versioning%20of%20serialized%20forms","title":"error: local class incompatible: stream classdec serialversionUID= ...., local class serialversionUID=","body":"<p>Even Though the serialVersionUID is same, some changes are incompatible to sync with the previous serialized form.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8640859/error-local-class-incompatible-stream-classdec-serialversionuid-local-c%22%3E%20Versioning%20of%20serialized%20forms\">link is here</a></p>\n"},{"tags":[],"owner":{"account_id":9300759,"reputation":1,"user_id":6906316,"display_name":"PROCSIS Consultora"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496775513,"creation_date":1496775087,"answer_id":44397704,"question_id":8640859,"body_markdown":"I solved it by doing the following:\r\n\r\nWorking in Eclipse Neon.\r\n\r\n### On Tomcat Server \r\n\r\n- Clean Tomcat Work Directory...\r\n- Clean... (to do something, just in case)\r\n        \r\nthen\r\n        \r\n### Project\r\n\r\n- &#39;Clean...&#39; select your project and click &#39;Ok&#39;","title":"error: local class incompatible: stream classdec serialversionUID= ...., local class serialversionUID=","body":"<p>I solved it by doing the following:</p>\n\n<p>Working in Eclipse Neon.</p>\n\n<h3>On Tomcat Server</h3>\n\n<ul>\n<li>Clean Tomcat Work Directory...</li>\n<li>Clean... (to do something, just in case)</li>\n</ul>\n\n<p>then</p>\n\n<h3>Project</h3>\n\n<ul>\n<li>'Clean...' select your project and click 'Ok'</li>\n</ul>\n"}],"owner":{"account_id":277924,"reputation":2454,"user_id":572207,"accept_rate":65,"display_name":"trs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1692319438,"accepted_answer_id":8640877,"answer_count":3,"score":1,"last_activity_date":1692224845,"creation_date":1324956174,"question_id":8640859,"body_markdown":"I have a serializable java class and when I add either of the following methods. I get this error\r\n\r\n&quot; local class incompatible: stream classdec serialversionUID= ...., local class serialversionUID=...&quot;\r\n\r\n\r\nadded methods:\r\n\r\n    public HashMap&lt;Long, BookIndex&gt; getBookIndexMap() {\r\n\t\treturn bookIndexMap;\r\n\t}\r\n\r\n\tpublic String getDataFileName() {\r\n\t\treturn dataFileName;\r\n\t}\r\n\r\nwhat is causing this and how can I correct it?","title":"error: local class incompatible: stream classdec serialversionUID= ...., local class serialversionUID=","body":"<p>I have a serializable java class and when I add either of the following methods. I get this error</p>\n\n<p>\" local class incompatible: stream classdec serialversionUID= ...., local class serialversionUID=...\"</p>\n\n<p>added methods:</p>\n\n<pre><code>public HashMap&lt;Long, BookIndex&gt; getBookIndexMap() {\n    return bookIndexMap;\n}\n\npublic String getDataFileName() {\n    return dataFileName;\n}\n</code></pre>\n\n<p>what is causing this and how can I correct it?</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":16729,"reputation":2553,"user_id":36746,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692224562,"creation_date":1298893691,"answer_id":5141560,"question_id":5141293,"body_markdown":"The totalHits is the number of documents that matched the query. A hit is essentially a match for the query you entered.  However a hit may be a partial match or a full match\r\n\r\n\r\ne.g. If we use Lucene to index over a set of 3 texts: { hello world, hello sailor, goodnight moon }, then searching for: hello world\r\n\r\ntotal hits: 2\r\n\r\n1.078 hello world\r\n\r\n0.181 hello sailor\r\n\r\nThe float value indicates the score for the hit, which is the relevance to the query string.\r\n\r\nThe following post gives more details https://web.archive.org/web/20110228/http://lingpipe-blog.com/2009/02/18/lucene-24-in-60-seconds/\r\n","title":"Lucene: what are the hits for the query?","body":"<p>The totalHits is the number of documents that matched the query. A hit is essentially a match for the query you entered.  However a hit may be a partial match or a full match</p>\n<p>e.g. If we use Lucene to index over a set of 3 texts: { hello world, hello sailor, goodnight moon }, then searching for: hello world</p>\n<p>total hits: 2</p>\n<p>1.078 hello world</p>\n<p>0.181 hello sailor</p>\n<p>The float value indicates the score for the hit, which is the relevance to the query string.</p>\n<p>The following post gives more details <a href=\"https://web.archive.org/web/20110228/http://lingpipe-blog.com/2009/02/18/lucene-24-in-60-seconds/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20110228/http://lingpipe-blog.com/2009/02/18/lucene-24-in-60-seconds/</a></p>\n"}],"owner":{"account_id":94058,"reputation":63514,"user_id":257022,"accept_rate":98,"display_name":"aneuryzm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5141560,"answer_count":1,"score":3,"last_activity_date":1692224562,"creation_date":1298892034,"question_id":5141293,"body_markdown":"I&#39;ve just seen in [1] totalHits and scoreHits return the top and total number of hits for the query respectively. \r\n\r\nWhat does &quot;hit&quot; mean exactly ? Is it the position of the searched term in a document, or the documents in which the term is included... or what ?\r\n\r\nthanks\r\n\r\n  [1]: http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/TopDocs.html#scoreDocs","title":"Lucene: what are the hits for the query?","body":"<p>I've just seen in <a href=\"http://lucene.apache.org/java/3_0_1/api/core/org/apache/lucene/search/TopDocs.html#scoreDocs\" rel=\"nofollow\">1</a> totalHits and scoreHits return the top and total number of hits for the query respectively. </p>\n\n<p>What does \"hit\" mean exactly ? Is it the position of the searched term in a document, or the documents in which the term is included... or what ?</p>\n\n<p>thanks</p>\n"},{"tags":["c#","java","vb.net","serialization","proxy"],"answers":[{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304999458,"creation_date":1304998491,"answer_id":5944878,"question_id":5944805,"body_markdown":"Default serialization:\r\n\r\n- Creates multiple instances of classes supposed to be singletons on deserialization\r\n- Supposedly has issues with changed in-the-fly deserialized objects (huh?)\r\n\r\nSecond point is arguable. Who has changed the data of the bytestream? If it could happen we have a bigger issue than deserialization: security. Signed/encrypted streams would solve the serialization issue too.\r\n\r\nFirst one is real one. Serialize the same singleton a few time, deserialize on the other side, and oops! you have multiple singletons (multitones?). That problem though is IMHO easier solved by making a singleton out of Enum, then JVM will enforce the single instance itself.\r\n\r\n**UPDATE**\r\n\r\nAs was pointed out by Steve B, the blog poster perhaps misunderstood/misrepresented what did he read. Instead of &quot;serialize, tweak bytes, then deserialize&quot; one should read &quot;serialize, deploy new version of the class, deserialize&quot;. Yes, this is known problem, and Externalizable interface allows one to solve it neatly by taking a full control over the class serialization, so even the later version of the class can deserialize own data from a stream created by a previous versions (if it possible at all).","title":"what problem does the serialization proxy pattern solves that the serialization pattern doesn&#39;t solve?","body":"<p>Default serialization:</p>\n\n<ul>\n<li>Creates multiple instances of classes supposed to be singletons on deserialization</li>\n<li>Supposedly has issues with changed in-the-fly deserialized objects (huh?)</li>\n</ul>\n\n<p>Second point is arguable. Who has changed the data of the bytestream? If it could happen we have a bigger issue than deserialization: security. Signed/encrypted streams would solve the serialization issue too.</p>\n\n<p>First one is real one. Serialize the same singleton a few time, deserialize on the other side, and oops! you have multiple singletons (multitones?). That problem though is IMHO easier solved by making a singleton out of Enum, then JVM will enforce the single instance itself.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As was pointed out by Steve B, the blog poster perhaps misunderstood/misrepresented what did he read. Instead of \"serialize, tweak bytes, then deserialize\" one should read \"serialize, deploy new version of the class, deserialize\". Yes, this is known problem, and Externalizable interface allows one to solve it neatly by taking a full control over the class serialization, so even the later version of the class can deserialize own data from a stream created by a previous versions (if it possible at all).</p>\n"}],"owner":{"account_id":316665,"reputation":87001,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692224530,"creation_date":1304997645,"question_id":5944805,"body_markdown":"I need to be able to serialize a class into a string, and I know of 2 patterns:\r\n\r\n1) (normal) Serialization pattern\r\n2) Proxy Serialization pattern\r\n\r\nI&#39;ve read [this blog](https://web.archive.org/web/20110504033130/http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy/) (the only website in google that talks about the proxy-serialization pattern) and still cant find the **advantage** or **benefit** of using this pattern. Could someone explain what exactly is the proxy serialization pattern, or rather exactly what problem does the proxy-serialization pattern solves that the normal-serialization pattern doesn&#39;t solve?","title":"what problem does the serialization proxy pattern solves that the serialization pattern doesn&#39;t solve?","body":"<p>I need to be able to serialize a class into a string, and I know of 2 patterns:</p>\n<ol>\n<li>(normal) Serialization pattern</li>\n<li>Proxy Serialization pattern</li>\n</ol>\n<p>I've read <a href=\"https://web.archive.org/web/20110504033130/http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy/\" rel=\"nofollow noreferrer\">this blog</a> (the only website in google that talks about the proxy-serialization pattern) and still cant find the <strong>advantage</strong> or <strong>benefit</strong> of using this pattern. Could someone explain what exactly is the proxy serialization pattern, or rather exactly what problem does the proxy-serialization pattern solves that the normal-serialization pattern doesn't solve?</p>\n"},{"tags":["java","spring-boot","date"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692224498,"creation_date":1692224498,"answer_id":76917425,"question_id":76914265,"body_markdown":"This date `2021-08-31T01:03:34Z` represents the `ISO_INSTANT` [format][1]. So you can use the [Instant][2] instead of `OffsetDateTime`\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;, timezone = &quot;UTC&quot;)\r\n    private OffsetDateTime lastCommunicated;\r\n\r\nAnd also you jackson [@JsonFormat][3] with providing the format for serialization and deserialization.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html","title":"Date-time in openapi specification not working as expected with DateTimeFormat annotation","body":"<p>This date <code>2021-08-31T01:03:34Z</code> represents the <code>ISO_INSTANT</code> <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">format</a>. So you can use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\">Instant</a> instead of <code>OffsetDateTime</code></p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;, timezone = &quot;UTC&quot;)\nprivate OffsetDateTime lastCommunicated;\n</code></pre>\n<p>And also you jackson <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\">@JsonFormat</a> with providing the format for serialization and deserialization.</p>\n"}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692224513,"creation_date":1692193924,"question_id":76914265,"body_markdown":"I have open api specification in spring boot application which generates me, \r\n\r\nOpenAPI:\r\n\r\n     lastCommunicated:\r\n           type: string\r\n           format: date-time\r\n           example: &#39;2023-06-29T04:49:38Z&#39;\r\n\r\nEmployeeDTO.java\r\n     \r\n      private Long id;\r\n      \r\n      private String name;\r\n\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private OffsetDateTime lastCommunicated;\r\n\r\nRequest JSON:\r\n\r\n    {\r\n     &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;test&quot;,\r\n     &quot;lastCommunicated&quot;:&quot;2021-08-31T01:03:34Z&quot;\r\n    \r\n    }\r\n\r\nResponse:\r\n\r\n    {\r\n     &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;test&quot;,\r\n     &quot;lastCommunicated&quot;:1630371814.000000000\r\n    \r\n    }\r\n\r\nI need &quot;lastCommunicated&quot;:&quot;2021-08-31T01:03:34Z&quot; format.\r\n\r\n","title":"Date-time in openapi specification not working as expected with DateTimeFormat annotation","body":"<p>I have open api specification in spring boot application which generates me,</p>\n<p>OpenAPI:</p>\n<pre><code> lastCommunicated:\n       type: string\n       format: date-time\n       example: '2023-06-29T04:49:38Z'\n</code></pre>\n<p>EmployeeDTO.java</p>\n<pre><code>  private Long id;\n  \n  private String name;\n\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n  private OffsetDateTime lastCommunicated;\n</code></pre>\n<p>Request JSON:</p>\n<pre><code>{\n &quot;id&quot;: 1,\n&quot;name&quot;: &quot;test&quot;,\n &quot;lastCommunicated&quot;:&quot;2021-08-31T01:03:34Z&quot;\n\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n &quot;id&quot;: 1,\n&quot;name&quot;: &quot;test&quot;,\n &quot;lastCommunicated&quot;:1630371814.000000000\n\n}\n</code></pre>\n<p>I need &quot;lastCommunicated&quot;:&quot;2021-08-31T01:03:34Z&quot; format.</p>\n"},{"tags":["java","wildfly-15"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1692220448,"post_id":76916973,"comment_id":135595821,"body_markdown":"without more server details; I&#39;d be leaning towards the security context of execution preventing you from writing to /tmp; however you haven&#39;t given enough details of how you&#39;re running to determine what the issue might be. I&#39;d be firing up strace, or something like that to see if there is even an attempt to open up the log file","body":"without more server details; I&#39;d be leaning towards the security context of execution preventing you from writing to /tmp; however you haven&#39;t given enough details of how you&#39;re running to determine what the issue might be. I&#39;d be firing up strace, or something like that to see if there is even an attempt to open up the log file"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1692230751,"post_id":76916973,"comment_id":135596926,"body_markdown":"WildFly 15 is still rather old, however it doesn&#39;t ship with a log4j2 implementation. Are you including both the log4j 2 API and core libraries?","body":"WildFly 15 is still rather old, however it doesn&#39;t ship with a log4j2 implementation. Are you including both the log4j 2 API and core libraries?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692223913,"creation_date":1692223913,"answer_id":76917387,"question_id":76916973,"body_markdown":"Is logging part of your application or the container?\r\n\r\nWildfly 10 most likely contained a log4j 1 implementation, whereas newer versions of Wildfly come with log4j 2 installed. If you do not notice, your application might assume that log4j2 (what you see as being used) is it&#39;s private installation while in newer JBoss you&#39;d now have to decide which of the two log4j 2 implementations is getting configured and used.","title":"Logging to Log File Stopped With Java 11","body":"<p>Is logging part of your application or the container?</p>\n<p>Wildfly 10 most likely contained a log4j 1 implementation, whereas newer versions of Wildfly come with log4j 2 installed. If you do not notice, your application might assume that log4j2 (what you see as being used) is it's private installation while in newer JBoss you'd now have to decide which of the two log4j 2 implementations is getting configured and used.</p>\n"}],"owner":{"account_id":6397346,"reputation":107,"user_id":4961252,"display_name":"Pete Long"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692223913,"creation_date":1692218736,"question_id":76916973,"body_markdown":"I am migrating a java application which was compiled using Java 8 and deployed in \r\nWildfly 10 application server. This application deploys and runs successfully. \r\n\r\nThe logging in the application uses log4j2 configuration and the logging is\r\nconfigured to write to a log file specified in the RollingFileAppender. \r\n\r\nAll the logging works fine ie can set different LOG LEVELS, define different Loggers\r\nto control logging at package level etc. \r\n\r\nSo all fine with Java 8 and with the application running in Wildfly 10.\r\n\r\nThe application is than compiled with Java 11 and deployed in Wildfly 15 and \r\nagain deploys and runs successfully.\r\n\r\nHowever, the logging to the log file has stopped working with Java 11.\r\n\r\nThe application creates the log file as before and there are no errors reported.\r\nChanging the LOG LEVELS in the log4j2 file makes no difference.\r\nIn the move to build with Java 11 and to use WIldfly 15,\r\nthere are no chnages to the dependencies or to the log4j2 configuration file.\r\n\r\nNot able to share actual code but below is a good refection of the log4j2.xml \r\nand source code.\r\n\r\n**log4j2.xml** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5level - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n            \r\n            &lt;!-- Complete definiton not provided RollingFile --&gt;\r\n            &lt;RollingFile name=&quot;File&quot; fileName=&quot;/tmp/log4j2.log&quot; &gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;Pattern&gt;%d{HH:mm:ss.SSS} [%t] %-5level - %msg%n&lt;/Pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n            &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;com.sematext.blog&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;File&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nSimilar source code\r\n\r\n        package com.sematext.blog.logging;\r\n\r\n        import org.apache.logging.log4j.LogManager;\r\n        import org.apache.logging.log4j.Logger;\r\n\r\n        public class Log4JDefaultConfig {\r\n                \r\n                private static final Logger LOGGER = LogManager.getLogger(Log4JDefaultConfig.class);\r\n\r\n                public  void processMessage () { \r\n                    LOGGER.info(&quot;This is an INFO level log message!&quot;);\r\n                    LOGGER.debug(&quot;This is an DEBUG level log message!&quot;);\r\n                    LOGGER.error(&quot;This is an ERROR level log message!&quot;);\r\n            }\r\n        }\r\n\r\nI am able debug through the processMessage() method and still nothing gets logged to the log file.\r\n\r\nUnder Eclipse, I use the facility to open declaration of method for info(), debug() and error().\r\n\r\nThey all take me to log4j-api-2.17.1.jar \r\n\r\nI have also added the following to the application build.gradle file this made no difference. This is a suggestion I picked up from googling this issue.\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Multi-Release&#39;: &#39;true&#39;\r\n        }\r\n    }\r\n\r\nAny thoughts as to why logging to the log file has stopped please.\r\n\r\nThank you for all the help\r\n\r\nPete\r\n\r\n","title":"Logging to Log File Stopped With Java 11","body":"<p>I am migrating a java application which was compiled using Java 8 and deployed in\nWildfly 10 application server. This application deploys and runs successfully.</p>\n<p>The logging in the application uses log4j2 configuration and the logging is\nconfigured to write to a log file specified in the RollingFileAppender.</p>\n<p>All the logging works fine ie can set different LOG LEVELS, define different Loggers\nto control logging at package level etc.</p>\n<p>So all fine with Java 8 and with the application running in Wildfly 10.</p>\n<p>The application is than compiled with Java 11 and deployed in Wildfly 15 and\nagain deploys and runs successfully.</p>\n<p>However, the logging to the log file has stopped working with Java 11.</p>\n<p>The application creates the log file as before and there are no errors reported.\nChanging the LOG LEVELS in the log4j2 file makes no difference.\nIn the move to build with Java 11 and to use WIldfly 15,\nthere are no chnages to the dependencies or to the log4j2 configuration file.</p>\n<p>Not able to share actual code but below is a good refection of the log4j2.xml\nand source code.</p>\n<p><strong>log4j2.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5level - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n        \n        &lt;!-- Complete definiton not provided RollingFile --&gt;\n        &lt;RollingFile name=&quot;File&quot; fileName=&quot;/tmp/log4j2.log&quot; &gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d{HH:mm:ss.SSS} [%t] %-5level - %msg%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.sematext.blog&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;File&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Similar source code</p>\n<pre><code>    package com.sematext.blog.logging;\n\n    import org.apache.logging.log4j.LogManager;\n    import org.apache.logging.log4j.Logger;\n\n    public class Log4JDefaultConfig {\n            \n            private static final Logger LOGGER = LogManager.getLogger(Log4JDefaultConfig.class);\n\n            public  void processMessage () { \n                LOGGER.info(&quot;This is an INFO level log message!&quot;);\n                LOGGER.debug(&quot;This is an DEBUG level log message!&quot;);\n                LOGGER.error(&quot;This is an ERROR level log message!&quot;);\n        }\n    }\n</code></pre>\n<p>I am able debug through the processMessage() method and still nothing gets logged to the log file.</p>\n<p>Under Eclipse, I use the facility to open declaration of method for info(), debug() and error().</p>\n<p>They all take me to log4j-api-2.17.1.jar</p>\n<p>I have also added the following to the application build.gradle file this made no difference. This is a suggestion I picked up from googling this issue.</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Multi-Release': 'true'\n    }\n}\n</code></pre>\n<p>Any thoughts as to why logging to the log file has stopped please.</p>\n<p>Thank you for all the help</p>\n<p>Pete</p>\n"},{"tags":["java","nlp","opennlp","named-entity-recognition"],"comments":[{"owner":{"account_id":3672748,"reputation":3884,"user_id":3059517,"accept_rate":85,"display_name":"Mark Giaconia"},"score":0,"creation_date":1421617459,"post_id":28011129,"comment_id":44417538,"body_markdown":"have you tried just training for both? instead of nesting them, just maintain two different models.","body":"have you tried just training for both? instead of nesting them, just maintain two different models."}],"answers":[{"tags":[],"owner":{"account_id":1987254,"reputation":881,"user_id":1782133,"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692223689,"creation_date":1421639467,"answer_id":28017721,"question_id":28011129,"body_markdown":"The short answer is: \r\n\r\n1. This cannot be achieved using openNLP NER which is suitable only for continuous entities because it use a [BIO][1] tagging scheme.\r\n2. I don&#39;t know any library in any language capable of do this.\r\n\r\n\r\nI think you are extending too much the concept of entity, which is habitually associated with persons, places, organizations, gene names etc.\r\nBut not with the identification of complex structures within text.\r\n\r\nFor that purpose you need to think in a more elaborated solution, taking into account the grammatical structure of the sentence, which can be obtained using a parser like the one in [OpenNLP][2], and maybe combine this with the output of the NER process.\r\n\r\n  [1]: https://web.archive.org/web/20170805150451/https://lingpipe-blog.com/2009/10/14/coding-chunkers-as-taggers-io-bio-bmewo-and-bmewo/\r\n  [2]: http://opennlp.apache.org/documentation/manual/opennlp.html#tools.parser","title":"How to conduct nested named entity recognition in OpenNLP?","body":"<p>The short answer is:</p>\n<ol>\n<li>This cannot be achieved using openNLP NER which is suitable only for continuous entities because it use a <a href=\"https://web.archive.org/web/20170805150451/https://lingpipe-blog.com/2009/10/14/coding-chunkers-as-taggers-io-bio-bmewo-and-bmewo/\" rel=\"nofollow noreferrer\">BIO</a> tagging scheme.</li>\n<li>I don't know any library in any language capable of do this.</li>\n</ol>\n<p>I think you are extending too much the concept of entity, which is habitually associated with persons, places, organizations, gene names etc.\nBut not with the identification of complex structures within text.</p>\n<p>For that purpose you need to think in a more elaborated solution, taking into account the grammatical structure of the sentence, which can be obtained using a parser like the one in <a href=\"http://opennlp.apache.org/documentation/manual/opennlp.html#tools.parser\" rel=\"nofollow noreferrer\">OpenNLP</a>, and maybe combine this with the output of the NER process.</p>\n"},{"tags":[],"owner":{"account_id":8768854,"reputation":109,"user_id":6556369,"display_name":"Rishav Roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473670603,"creation_date":1473666741,"answer_id":39445649,"question_id":28011129,"body_markdown":"For the purpose of Name Entity Recognition (Java based) I use the following:\r\n\r\n 1. Apache UIMA\r\n 2. ClearTK\r\n\r\nhttps://github.com/merishav/cleartk-tutorials\r\n\r\nYou can train models for your use case, I have already trained for NER for person, places, date of birth, profession.\r\nClearTK gives you a wrapper on MalletCRFClassifier.","title":"How to conduct nested named entity recognition in OpenNLP?","body":"<p>For the purpose of Name Entity Recognition (Java based) I use the following:</p>\n\n<ol>\n<li>Apache UIMA</li>\n<li>ClearTK</li>\n</ol>\n\n<p><a href=\"https://github.com/merishav/cleartk-tutorials\" rel=\"nofollow\">https://github.com/merishav/cleartk-tutorials</a></p>\n\n<p>You can train models for your use case, I have already trained for NER for person, places, date of birth, profession.\nClearTK gives you a wrapper on MalletCRFClassifier.</p>\n"},{"tags":[],"owner":{"account_id":6437785,"reputation":5225,"user_id":5250620,"accept_rate":67,"display_name":"Haha TTpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532491278,"creation_date":1532491278,"answer_id":51510597,"question_id":28011129,"body_markdown":"Use this python source code (Python 3) https://gist.github.com/ttpro1995/cd8c60cfc72416a02713bb93dff9ae6f \r\n\r\nIt&#39;s create multiple un-nest version of nest data for you. \r\n\r\nFor input sentence below ( input data must be tokenized first, so there are space between &lt;END&gt; and thing around it) \r\n\r\n    Remind me to &lt;START:reminder&gt; give some presents to &lt;START:contact&gt; John &lt;END&gt; and &lt;START:contact&gt; Charlie &lt;END&gt; &lt;END&gt; .\r\n\r\nIt output multiple sentence with different nest level. \r\n\r\n    Remind me to give some presents to John and Charlie .\r\n    Remind me to &lt;START:reminder&gt; give some presents to John and Charlie &lt;END&gt; .\r\n    Remind me to give some presents to &lt;START:contact&gt; John &lt;END&gt; and &lt;START:contact&gt; Charlie &lt;END&gt; .\r\n\r\nFull source code here for quick copy-paste\r\n\r\n\r\n    import sys\r\n    \r\n    END_TAG = 0\r\n    START_TAG = 1\r\n    NOT_TAG = -1\r\n    \r\n    def detect_tag(in_token):\r\n        &quot;&quot;&quot;\r\n        detect tag in token\r\n        :param in_token:\r\n        :return:\r\n        &quot;&quot;&quot;\r\n        if &quot;&lt;START:&quot; in in_token:\r\n            return START_TAG\r\n        elif &quot;&lt;END&gt;&quot; == in_token:\r\n            return END_TAG\r\n    \r\n        return NOT_TAG\r\n    \r\n    def remove_nest_tag(in_str):\r\n        &quot;&quot;&quot;\r\n        vi &lt;START:ORGANIZATION&gt; S Cnh s&#225;t Ph&#242;ng ch&#225;y , cha ch&#225;y ( PCCC ) v&#224; cu nn , cu h &lt;START:LOCATION&gt; H&#224; Ni &lt;END&gt; &lt;END&gt;\r\n        :param in_str:\r\n        :return:\r\n        &quot;&quot;&quot;\r\n        state = 0\r\n        taglist = []\r\n        tag_dict = dict()\r\n        sentence_token = in_str.split()\r\n        ## detect token tag\r\n        max_nest = 0\r\n    \r\n        for index, token in enumerate(sentence_token):\r\n            # print(token + str(detect_tag(token)))\r\n            tag = detect_tag(token)\r\n            if tag &gt; 0:\r\n                state += 1\r\n                if max_nest &lt; state:\r\n                    max_nest = state\r\n                token_info = (index, state, token)\r\n                taglist.append(token_info)\r\n                tag_dict[index] = token_info\r\n            elif tag == 0:\r\n                token_info = (index, state, token)\r\n                taglist.append(token_info)\r\n                tag_dict[index] = token_info\r\n                state -= 1\r\n    \r\n    \r\n        generate_sentences = []\r\n        for state in range(max_nest+1):\r\n            generate_sentence_token = []\r\n            for index, token in enumerate(sentence_token):\r\n                if detect_tag(token) &gt;= 0: # is a tag\r\n                    token_info = tag_dict[index]\r\n                    if token_info[1] == state:\r\n                        generate_sentence_token.append(token)\r\n                elif detect_tag(token) == -1 : # not a tag\r\n                    generate_sentence_token.append(token)\r\n            sentence = &#39; &#39;.join(generate_sentence_token)\r\n            generate_sentences.append(sentence)\r\n        return generate_sentences\r\n    \r\n    \r\n        # generate sentence\r\n        print(taglist)\r\n    \r\n    def test():\r\n        tstr2 = &quot;Remind me to &lt;START:reminder&gt; give some presents to &lt;START:contact&gt; John &lt;END&gt; and &lt;START:contact&gt; Charlie &lt;END&gt; &lt;END&gt; .&quot;\r\n        result = remove_nest_tag(tstr2)\r\n        print(&quot;-----&quot;)\r\n        for sentence in result:\r\n            print(sentence)\r\n    \r\n    if __name__ == &quot;__main__&quot;:\r\n        &quot;&quot;&quot;\r\n        un-nest dataset for opennlp name\r\n        &quot;&quot;&quot;\r\n        # test()\r\n        # test()\r\n        if len(sys.argv) &gt; 1:\r\n            inpath = sys.argv[1]\r\n            infile = open(inpath, &#39;r&#39;)\r\n            outfile = open(inpath+&quot;.out&quot;, &#39;w&#39;)\r\n            for line in infile:\r\n                sentences = remove_nest_tag(line)\r\n                for sentence in sentences:\r\n                    outfile.write(sentence+&quot;\\n&quot;)\r\n            outfile.close()\r\n        else:\r\n            print(&quot;usage: python unnest_data.py input.txt&quot;)\r\n\r\n\r\n\r\n\r\n","title":"How to conduct nested named entity recognition in OpenNLP?","body":"<p>Use this python source code (Python 3) <a href=\"https://gist.github.com/ttpro1995/cd8c60cfc72416a02713bb93dff9ae6f\" rel=\"nofollow noreferrer\">https://gist.github.com/ttpro1995/cd8c60cfc72416a02713bb93dff9ae6f</a> </p>\n\n<p>It's create multiple un-nest version of nest data for you. </p>\n\n<p>For input sentence below ( input data must be tokenized first, so there are space between  and thing around it) </p>\n\n<pre><code>Remind me to &lt;START:reminder&gt; give some presents to &lt;START:contact&gt; John &lt;END&gt; and &lt;START:contact&gt; Charlie &lt;END&gt; &lt;END&gt; .\n</code></pre>\n\n<p>It output multiple sentence with different nest level. </p>\n\n<pre><code>Remind me to give some presents to John and Charlie .\nRemind me to &lt;START:reminder&gt; give some presents to John and Charlie &lt;END&gt; .\nRemind me to give some presents to &lt;START:contact&gt; John &lt;END&gt; and &lt;START:contact&gt; Charlie &lt;END&gt; .\n</code></pre>\n\n<p>Full source code here for quick copy-paste</p>\n\n<pre><code>import sys\n\nEND_TAG = 0\nSTART_TAG = 1\nNOT_TAG = -1\n\ndef detect_tag(in_token):\n    \"\"\"\n    detect tag in token\n    :param in_token:\n    :return:\n    \"\"\"\n    if \"&lt;START:\" in in_token:\n        return START_TAG\n    elif \"&lt;END&gt;\" == in_token:\n        return END_TAG\n\n    return NOT_TAG\n\ndef remove_nest_tag(in_str):\n    \"\"\"\n    vi &lt;START:ORGANIZATION&gt; S Cnh st Phng chy , cha chy ( PCCC ) v cu nn , cu h &lt;START:LOCATION&gt; H Ni &lt;END&gt; &lt;END&gt;\n    :param in_str:\n    :return:\n    \"\"\"\n    state = 0\n    taglist = []\n    tag_dict = dict()\n    sentence_token = in_str.split()\n    ## detect token tag\n    max_nest = 0\n\n    for index, token in enumerate(sentence_token):\n        # print(token + str(detect_tag(token)))\n        tag = detect_tag(token)\n        if tag &gt; 0:\n            state += 1\n            if max_nest &lt; state:\n                max_nest = state\n            token_info = (index, state, token)\n            taglist.append(token_info)\n            tag_dict[index] = token_info\n        elif tag == 0:\n            token_info = (index, state, token)\n            taglist.append(token_info)\n            tag_dict[index] = token_info\n            state -= 1\n\n\n    generate_sentences = []\n    for state in range(max_nest+1):\n        generate_sentence_token = []\n        for index, token in enumerate(sentence_token):\n            if detect_tag(token) &gt;= 0: # is a tag\n                token_info = tag_dict[index]\n                if token_info[1] == state:\n                    generate_sentence_token.append(token)\n            elif detect_tag(token) == -1 : # not a tag\n                generate_sentence_token.append(token)\n        sentence = ' '.join(generate_sentence_token)\n        generate_sentences.append(sentence)\n    return generate_sentences\n\n\n    # generate sentence\n    print(taglist)\n\ndef test():\n    tstr2 = \"Remind me to &lt;START:reminder&gt; give some presents to &lt;START:contact&gt; John &lt;END&gt; and &lt;START:contact&gt; Charlie &lt;END&gt; &lt;END&gt; .\"\n    result = remove_nest_tag(tstr2)\n    print(\"-----\")\n    for sentence in result:\n        print(sentence)\n\nif __name__ == \"__main__\":\n    \"\"\"\n    un-nest dataset for opennlp name\n    \"\"\"\n    # test()\n    # test()\n    if len(sys.argv) &gt; 1:\n        inpath = sys.argv[1]\n        infile = open(inpath, 'r')\n        outfile = open(inpath+\".out\", 'w')\n        for line in infile:\n            sentences = remove_nest_tag(line)\n            for sentence in sentences:\n                outfile.write(sentence+\"\\n\")\n        outfile.close()\n    else:\n        print(\"usage: python unnest_data.py input.txt\")\n</code></pre>\n"}],"owner":{"account_id":4545909,"reputation":440,"user_id":3692525,"accept_rate":0,"display_name":"user1414202"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692223689,"creation_date":1421593358,"question_id":28011129,"body_markdown":"I am currently working on a java web server project, that requires the use of Natural Language processing, specifically **Named Entity Recognition** (**NER**). \r\n\r\nI was using OpenNLP for java, since it was easy to add custom training data. It works perfectly. \r\n\r\nHowever, I need to also be able to extract entites inside of entities (**Nested named entity recognition**). I tried doing this in OpenNLP, but I got parsing errors. So my guess is that OpenNLP sadly does not support nested entities.\r\n\r\nHere is an example of what I need to parse:\r\n\r\nRemind me to **[START:reminder]** give some presents to **[START:contact]** John **[END]** and **[START:contact]** Charlie **[END][END]**.\r\n\r\nIf this cannot be achieved with OpenNLP, is there any other Java NLP Library that could do this. If there are no Java libraries at all, are there any NLP libraries in any other language that can do this?\r\n\r\nPlease help. Thanks!","title":"How to conduct nested named entity recognition in OpenNLP?","body":"<p>I am currently working on a java web server project, that requires the use of Natural Language processing, specifically <strong>Named Entity Recognition</strong> (<strong>NER</strong>). </p>\n\n<p>I was using OpenNLP for java, since it was easy to add custom training data. It works perfectly. </p>\n\n<p>However, I need to also be able to extract entites inside of entities (<strong>Nested named entity recognition</strong>). I tried doing this in OpenNLP, but I got parsing errors. So my guess is that OpenNLP sadly does not support nested entities.</p>\n\n<p>Here is an example of what I need to parse:</p>\n\n<p>Remind me to <strong>[START:reminder]</strong> give some presents to <strong>[START:contact]</strong> John <strong>[END]</strong> and <strong>[START:contact]</strong> Charlie <strong>[END][END]</strong>.</p>\n\n<p>If this cannot be achieved with OpenNLP, is there any other Java NLP Library that could do this. If there are no Java libraries at all, are there any NLP libraries in any other language that can do this?</p>\n\n<p>Please help. Thanks!</p>\n"},{"tags":["java","data-structures","minmax-heap"],"answers":[{"tags":[],"owner":{"account_id":876937,"reputation":9851,"user_id":99389,"display_name":"Nat"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1247061946,"creation_date":1247061820,"answer_id":1098286,"question_id":1098277,"body_markdown":"The [java.util.TreeSet][1] class.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html","title":"Java implementation for Min-Max Heap?","body":"<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">java.util.TreeSet</a> class.</p>\n"},{"tags":[],"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692223608,"creation_date":1247063144,"answer_id":1098449,"question_id":1098277,"body_markdown":"How about [com.aliasi.util.MinMaxHeap][1]? This is part of [LingPipe][2]; unfortunately, the [licensing][3] may be a problem.\r\n\r\nSee [this related paper][4].\r\n\r\nDoesn&#39;t implement decreaseKey or increaseKey, though.\r\n\r\n\r\n  [1]: http://alias-i.com/lingpipe/docs/api/com/aliasi/util/MinMaxHeap.html\r\n  [2]: http://alias-i.com/lingpipe/\r\n  [3]: http://alias-i.com/lingpipe/web/download.html\r\n  [4]: https://web.archive.org/web/20090303072137/http://lingpipe-blog.com/2009/02/27/atkinson-sack-santoro-and-strothotte-1986-min-max-heaps-and-generalized-priority-queues-cacm/","title":"Java implementation for Min-Max Heap?","body":"<p>How about <a href=\"http://alias-i.com/lingpipe/docs/api/com/aliasi/util/MinMaxHeap.html\" rel=\"nofollow noreferrer\">com.aliasi.util.MinMaxHeap</a>? This is part of <a href=\"http://alias-i.com/lingpipe/\" rel=\"nofollow noreferrer\">LingPipe</a>; unfortunately, the <a href=\"http://alias-i.com/lingpipe/web/download.html\" rel=\"nofollow noreferrer\">licensing</a> may be a problem.</p>\n<p>See <a href=\"https://web.archive.org/web/20090303072137/http://lingpipe-blog.com/2009/02/27/atkinson-sack-santoro-and-strothotte-1986-min-max-heaps-and-generalized-priority-queues-cacm/\" rel=\"nofollow noreferrer\">this related paper</a>.</p>\n<p>Doesn't implement decreaseKey or increaseKey, though.</p>\n"},{"tags":[],"owner":{"account_id":23164,"reputation":10784,"user_id":57827,"accept_rate":70,"display_name":"Il-Bhima"},"down_vote_count":5,"up_vote_count":33,"is_accepted":false,"score":28,"last_activity_date":1247063177,"creation_date":1247063177,"answer_id":1098454,"question_id":1098277,"body_markdown":"Instead of a max-min heap, could you use two instances of a [java.util.PriorityQueue&lt;E&gt;][1] containing the same elements?  The first instance would be passed a comparator which puts the maximum at the head, and the second instance would use a comparator which puts the minimum at the head.\r\n\r\nThe downside is that add, delete, etc would have to be performed on both structures, but it should satisfy your requirements.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/PriorityQueue.html\r\n\r\n","title":"Java implementation for Min-Max Heap?","body":"<p>Instead of a max-min heap, could you use two instances of a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">java.util.PriorityQueue</a> containing the same elements?  The first instance would be passed a comparator which puts the maximum at the head, and the second instance would use a comparator which puts the minimum at the head.</p>\n\n<p>The downside is that add, delete, etc would have to be performed on both structures, but it should satisfy your requirements.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1465342965,"creation_date":1328215554,"answer_id":9119753,"question_id":1098277,"body_markdown":"From Guava: [`MinMaxPriorityQueue`][1].\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/MinMaxPriorityQueue.html","title":"Java implementation for Min-Max Heap?","body":"<p>From Guava: <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/MinMaxPriorityQueue.html\" rel=\"noreferrer\"><code>MinMaxPriorityQueue</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"down_vote_count":4,"up_vote_count":43,"is_accepted":false,"score":39,"last_activity_date":1647192416,"creation_date":1474753866,"answer_id":39681285,"question_id":1098277,"body_markdown":"Java has good tools in order to implement min and max heaps. My suggestion is using the priority queue data structure in order to implement these heaps. For implementing the max heap with priority queue try this: \r\n\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class MaxHeapWithPriorityQueue {\r\n    \r\n        public static void main(String args[]) {\r\n        // create priority queue\r\n        PriorityQueue&lt;Integer&gt; prq = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\r\n\r\n        // insert values in the queue\r\n        prq.add(6);\r\n        prq.add(9);\r\n        prq.add(5);\r\n        prq.add(64);\r\n        prq.add(6);\r\n\r\n        //print values\r\n        while (!prq.isEmpty()) {\r\n            System.out.print(prq.poll()+&quot; &quot;);\r\n        }\r\n        }\r\n    \r\n    }\r\n\r\nFor implementing the min heap with priority queue, try this:\r\n\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class MinHeapWithPriorityQueue {\r\n    \r\n        public static void main(String args[]) {\r\n            // create priority queue\r\n            PriorityQueue&lt; Integer &gt; prq = new PriorityQueue &lt;&gt; ();\r\n    \r\n            // insert values in the queue\r\n            prq.add(6);\r\n            prq.add(9);\r\n            prq.add(5);\r\n            prq.add(64);\r\n            prq.add(6);\r\n    \r\n            //print values\r\n            while (!prq.isEmpty()) {\r\n                System.out.print(prq.poll()+&quot; &quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nFor more information, please visit:\r\n\r\n- [https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MaxHeapWithPriorityQueue.java][1]\r\n\r\n- [https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MinHeapWithPriorityQueue.java][2]\r\n\r\n\r\n  [1]: https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MaxHeapWithPriorityQueue.java\r\n  [2]: https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MinHeapWithPriorityQueue.java","title":"Java implementation for Min-Max Heap?","body":"<p>Java has good tools in order to implement min and max heaps. My suggestion is using the priority queue data structure in order to implement these heaps. For implementing the max heap with priority queue try this:</p>\n<pre><code>import java.util.PriorityQueue;\n\npublic class MaxHeapWithPriorityQueue {\n\n    public static void main(String args[]) {\n    // create priority queue\n    PriorityQueue&lt;Integer&gt; prq = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\n\n    // insert values in the queue\n    prq.add(6);\n    prq.add(9);\n    prq.add(5);\n    prq.add(64);\n    prq.add(6);\n\n    //print values\n    while (!prq.isEmpty()) {\n        System.out.print(prq.poll()+&quot; &quot;);\n    }\n    }\n\n}\n</code></pre>\n<p>For implementing the min heap with priority queue, try this:</p>\n<pre><code>import java.util.PriorityQueue;\n\npublic class MinHeapWithPriorityQueue {\n\n    public static void main(String args[]) {\n        // create priority queue\n        PriorityQueue&lt; Integer &gt; prq = new PriorityQueue &lt;&gt; ();\n\n        // insert values in the queue\n        prq.add(6);\n        prq.add(9);\n        prq.add(5);\n        prq.add(64);\n        prq.add(6);\n\n        //print values\n        while (!prq.isEmpty()) {\n            System.out.print(prq.poll()+&quot; &quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>For more information, please visit:</p>\n<ul>\n<li><p><a href=\"https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MaxHeapWithPriorityQueue.java\" rel=\"noreferrer\">https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MaxHeapWithPriorityQueue.java</a></p>\n</li>\n<li><p><a href=\"https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MinHeapWithPriorityQueue.java\" rel=\"noreferrer\">https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/MinHeapWithPriorityQueue.java</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7363675,"reputation":1478,"user_id":5606133,"accept_rate":50,"display_name":"Vip"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1610780117,"creation_date":1610780117,"answer_id":65747202,"question_id":1098277,"body_markdown":"**Min Heap:**\r\nPriorityQueue&lt;Integer&gt; minHeap= new PriorityQueue&lt;&gt;();\r\n\r\n\r\n**Max Heap**\r\nPriorityQueue&lt;Integer&gt; maxHeap= new PriorityQueue&lt;&gt;(Comparator.reverseOrder());","title":"Java implementation for Min-Max Heap?","body":"<p><strong>Min Heap:</strong>\nPriorityQueue minHeap= new PriorityQueue&lt;&gt;();</p>\n<p><strong>Max Heap</strong>\nPriorityQueue maxHeap= new PriorityQueue&lt;&gt;(Comparator.reverseOrder());</p>\n"},{"tags":[],"owner":{"account_id":12592909,"reputation":1061,"user_id":9158840,"display_name":"Fahad Israr"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1651783283,"creation_date":1651783283,"answer_id":72133418,"question_id":1098277,"body_markdown":"Well you can simply pass the comparator to be used to compare elements. This will become useful even when you want to sort objects based on some attributes. Look at the following examples: \r\n\r\n\r\n- ***Min Heap :***\r\n\r\n      PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a,b) -&gt; a - b);\r\n    ----------\r\n\r\n\r\n- ***Max Heap :***\r\n\r\n      PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a,b) -&gt; b - a);\r\n----------\r\n\r\n\r\n- ***Min Heap for Objects***\r\n\r\n      PriorityQueue&lt;MyObject&gt; pq = new PriorityQueue&lt;&gt;((obj1, obj2) -&gt; obj1.getId() - obj2.getId());\r\n----------\r\n\r\n\r\n- ***Max Heap for Objects***\r\n\r\n      PriorityQueue&lt;MyObject&gt; pq = new PriorityQueue&lt;&gt;((obj1, obj2) -&gt; obj2.getId() - obj1.getId());\r\n----------\r\n\r\n\r\n","title":"Java implementation for Min-Max Heap?","body":"<p>Well you can simply pass the comparator to be used to compare elements. This will become useful even when you want to sort objects based on some attributes. Look at the following examples:</p>\n<ul>\n<li><p><em><strong>Min Heap :</strong></em></p>\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a,b) -&gt; a - b);\n</code></pre>\n<hr />\n</li>\n<li><p><em><strong>Max Heap :</strong></em></p>\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a,b) -&gt; b - a);\n</code></pre>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><em><strong>Min Heap for Objects</strong></em></p>\n<pre><code>PriorityQueue&lt;MyObject&gt; pq = new PriorityQueue&lt;&gt;((obj1, obj2) -&gt; obj1.getId() - obj2.getId());\n</code></pre>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><em><strong>Max Heap for Objects</strong></em></p>\n<pre><code>PriorityQueue&lt;MyObject&gt; pq = new PriorityQueue&lt;&gt;((obj1, obj2) -&gt; obj2.getId() - obj1.getId());\n</code></pre>\n</li>\n</ul>\n<hr />\n"}],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105848,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":9119753,"answer_count":7,"score":48,"last_activity_date":1692223608,"creation_date":1247061726,"question_id":1098277,"body_markdown":"Do you know of a popular library (Apache, Google, etc, collections) which has a reliable Java implementation for a min-max heap, that is a heap which allows to peek its minimum and maximum value in `O(1)` and to remove an element in `O(log n)`?","title":"Java implementation for Min-Max Heap?","body":"<p>Do you know of a popular library (Apache, Google, etc, collections) which has a reliable Java implementation for a min-max heap, that is a heap which allows to peek its minimum and maximum value in <code>O(1)</code> and to remove an element in <code>O(log n)</code>?</p>\n"},{"tags":["java","performance","optimization","jvm-hotspot","bounds-check-elimination"],"comments":[{"owner":{"account_id":7351,"reputation":36092,"user_id":12748,"display_name":"ShuggyCoUk"},"score":0,"creation_date":1253013209,"post_id":1352422,"comment_id":1270189,"body_markdown":"some notes. you may want to create the cachedHashTable on construction (of the class if it is static) If this is per thread then this should be made clear in the api (I.E. the user is responsible for creating a specific instance of the compressor and that holds the cached table. The branch prediction will liekly get it right but you may get some benefit from this getting into the later generations faster as well as simplifying the code.","body":"some notes. you may want to create the cachedHashTable on construction (of the class if it is static) If this is per thread then this should be made clear in the api (I.E. the user is responsible for creating a specific instance of the compressor and that holds the cached table. The branch prediction will liekly get it right but you may get some benefit from this getting into the later generations faster as well as simplifying the code."},{"owner":{"account_id":7351,"reputation":36092,"user_id":12748,"display_name":"ShuggyCoUk"},"score":0,"creation_date":1253013443,"post_id":1352422,"comment_id":1270206,"body_markdown":"a nasty hack - but given that you&#39;re doing something nasty with it anyway. you don&#39;t need to decrement ref by 2 unless it is actually used, and it is only used ion one place after (within an if statement) so simply try: while (len &lt; maxLen &amp;&amp; in[ref + len - 2] and remove the ref -= 2","body":"a nasty hack - but given that you&#39;re doing something nasty with it anyway. you don&#39;t need to decrement ref by 2 unless it is actually used, and it is only used ion one place after (within an if statement) so simply try: while (len &lt; maxLen &amp;&amp; in[ref + len - 2] and remove the ref -= 2"},{"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"score":0,"creation_date":1253030517,"post_id":1352422,"comment_id":1271879,"body_markdown":"Yuck, yeah, that is kind of nasty. I&#39;ve got a couple other nasty hacks I can do too.  If you think the code is bad here, you should see the original, though!","body":"Yuck, yeah, that is kind of nasty. I&#39;ve got a couple other nasty hacks I can do too.  If you think the code is bad here, you should see the original, though!"},{"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"score":0,"creation_date":1253030805,"post_id":1352422,"comment_id":1271905,"body_markdown":"I&#39;ve got a version that pre-initializes the hashtable, and uses a range check on the possible backref.  But, with short in/out buffers (8192 kB is common, when compressing streams), there is a benefit to being able to quickly eliminate possible backrefs when the ref is 0.","body":"I&#39;ve got a version that pre-initializes the hashtable, and uses a range check on the possible backref.  But, with short in/out buffers (8192 kB is common, when compressing streams), there is a benefit to being able to quickly eliminate possible backrefs when the ref is 0."},{"owner":{"account_id":68904,"reputation":1177,"user_id":200802,"display_name":"charstar"},"score":0,"creation_date":1289435724,"post_id":1352422,"comment_id":4478623,"body_markdown":"+1 I have been scouring docs on several free JVMs and cannot find any clear mention of how and when SIMD (SSE etc) are used by the JVM/JIT. Only that they do indeed use them since 1.4.2. Compiler / JVM developers definitely gun down any idea of &quot;providing hints&quot; or &quot;optimizing for&quot; via code structure. There were some Snorcle JVM patches in 6u2 referencing &quot;SIMD optimizations&quot; in bug 6536652; if you follow the related bug links, it _appears_ that the JVM will do some rudimentary loop parallelization but details of the actual implementation and its use are scarce.","body":"+1 I have been scouring docs on several free JVMs and cannot find any clear mention of how and when SIMD (SSE etc) are used by the JVM/JIT. Only that they do indeed use them since 1.4.2. Compiler / JVM developers definitely gun down any idea of &quot;providing hints&quot; or &quot;optimizing for&quot; via code structure. There were some Snorcle JVM patches in 6u2 referencing &quot;SIMD optimizations&quot; in bug 6536652; if you follow the related bug links, it <i>appears</i> that the JVM will do some rudimentary loop parallelization but details of the actual implementation and its use are scarce."}],"answers":[{"tags":[],"owner":{"account_id":7351,"reputation":36092,"user_id":12748,"display_name":"ShuggyCoUk"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1371989437,"creation_date":1252706414,"answer_id":1413484,"question_id":1352422,"body_markdown":"Not a full answer, I simply don&#39;t have time to do the detailed benchmarks your question needs but hopefully useful.\r\n\r\n### Know your enemy\r\nYou are targeting a combination of the JVM (in essence the JIT) and the underlying CPU/Memory subsystem. Thus &quot;This is faster on JVM X&quot; is not likely to be valid in all cases as you move into more aggressive optimisations.\r\n\r\nIf your target market/application will largely run on a particular architecture you should consider investing in tools specific to it.\r\n  * If your performance on x86 is the critical factor then intel&#39;s [VTune](http://software.intel.com/en-us/intel-vtune/) is excellent for drilling down into the sort of [jit output analysis](http://software.intel.com/en-us/articles/identifying-jvm-vectorization-simd-usage-with-the-vtunetm-performance-analyzer/) you describe. \r\n * The differences between 64 bit and 32 bit JITs can be considerable, especially on x86 platforms where calling conventions can change and [enregistering](http://en.wikipedia.org/wiki/Register_allocation) opportunities are very different.\r\n\r\n### Get the right tools\r\nYou would likely want to get a sampling profiler. The overhead of instrumentation (and the associated knock on on things like inlining, cache pollution and code size inflation) for your specific needs would be far too great. The intel VTune analyser can actually be used for Java though the integration is not so tight as others.  \r\nIf you are using the sun JVM and are happy only knowing what the latest/greatest version is doing then the options available to [investigate the output of the JIT](https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly) are considerable if you know a bit of assembly.\r\nThis [article details some interesting analysis using this functionality](http://weblogs.java.net/blog/kohsuke/archive/2008/03/deep_dive_into.html)\r\n\r\n### Learn from other implementations\r\n[The Change history](http://oldhome.schmorp.de/marc/liblzf.html) change history indicates that previous inline assembly was in fact counter productive and that allowing the compiler to take total control of the output (with tweaks in *code* rather than directives in assembly) yielded better results.\r\n\r\n### Some specifics\r\n\r\nSince LZF is, in an efficient unmanaged implementation on modern desktop CPUS, largely memory bandwidth limited (hence it being compered to the speed of an unoptimised memcpy) you will need you code to remain entirely within level 1 cache.  \r\nAs such any static fields you cannot make into constants should be placed within the same class as these values will often be placed within the same area of memory devoted to the vtables and meta data associated with classes.\r\n\r\nObject allocations which cannot be trapped by [Escape Analysis]() (only in 1.6 onwards) will need to be avoided.\r\n\r\nThe [c code](http://cvs.schmorp.de/liblzf/lzf_c.c?revision=1.37&amp;view=markup) makes aggressive use of loop unrolling. However the performance of this on older (1.4 era) VM&#39;s is [heavily dependant on the mode the JVM is in](http://books.google.co.uk/books?id=iPHtCfZQyqQC&amp;pg=PA200&amp;lpg=PA200&amp;dq=java+jit+unrolling&amp;source=bl&amp;ots=tbluFR4gmP&amp;sig=rAxYqfzrChTmcxKD1gpbY5S05Po&amp;hl=en&amp;ei=xsCqSpiiJZzLjAfh6vDTBw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=2#v=onepage&amp;q=&amp;f=false). Apparently latter sun jvm versions are more aggressive at inlining and unrolling, especially in server mode.\r\n\r\nThe prefetch instrctions generated by the JIT can make all the difference on code like this which is near memory bound.\r\n\r\n### &quot;It&#39;s coming straight for us&quot;\r\nYour target is moving, and will continue to. Again Marc Lehmann&#39;s previous experience:\r\n\r\n&gt; default HLOG size is now 15 (cpu caches have increased)\r\n\r\nEven minor updates to the jvm can involve [significant compiler changes](http://java.sun.com/javase/6/webnotes/6u2.html)\r\n\r\n&gt; 6544668  Don&#39;t vecorized array operations that can&#39;t be aligned at runtime.\r\n&gt; 6536652  Implement some superword (SIMD) optimizations\r\n&gt; 6531696  don&#39;t use immediate 16-bits value store to memory on Intel cpus\r\n&gt; 6468290  Divide and allocate out of eden on a per cpu basis\r\n\r\n### Captain Obvious\r\n\r\nMeasure, Measure, Measure. IF you can get your library to include (in a separate dll) a simple and easy to execute benchmark that logs the relevant information (vm version, cpu, OS, command line switches etc) and makes this simple to send back to you you will increase your coverage, best of all you&#39;ll cover those people using it that care. ","title":"How can I code Java to allow SSE use and bounds-check elimination (or other advanced optimizations)?","body":"<p>Not a full answer, I simply don't have time to do the detailed benchmarks your question needs but hopefully useful.</p>\n\n<h3>Know your enemy</h3>\n\n<p>You are targeting a combination of the JVM (in essence the JIT) and the underlying CPU/Memory subsystem. Thus \"This is faster on JVM X\" is not likely to be valid in all cases as you move into more aggressive optimisations.</p>\n\n<p>If your target market/application will largely run on a particular architecture you should consider investing in tools specific to it.\n  * If your performance on x86 is the critical factor then intel's <a href=\"http://software.intel.com/en-us/intel-vtune/\" rel=\"noreferrer\">VTune</a> is excellent for drilling down into the sort of <a href=\"http://software.intel.com/en-us/articles/identifying-jvm-vectorization-simd-usage-with-the-vtunetm-performance-analyzer/\" rel=\"noreferrer\">jit output analysis</a> you describe. \n * The differences between 64 bit and 32 bit JITs can be considerable, especially on x86 platforms where calling conventions can change and <a href=\"http://en.wikipedia.org/wiki/Register_allocation\" rel=\"noreferrer\">enregistering</a> opportunities are very different.</p>\n\n<h3>Get the right tools</h3>\n\n<p>You would likely want to get a sampling profiler. The overhead of instrumentation (and the associated knock on on things like inlining, cache pollution and code size inflation) for your specific needs would be far too great. The intel VTune analyser can actually be used for Java though the integration is not so tight as others.<br>\nIf you are using the sun JVM and are happy only knowing what the latest/greatest version is doing then the options available to <a href=\"https://wikis.oracle.com/display/HotSpotInternals/PrintAssembly\" rel=\"noreferrer\">investigate the output of the JIT</a> are considerable if you know a bit of assembly.\nThis <a href=\"http://weblogs.java.net/blog/kohsuke/archive/2008/03/deep_dive_into.html\" rel=\"noreferrer\">article details some interesting analysis using this functionality</a></p>\n\n<h3>Learn from other implementations</h3>\n\n<p><a href=\"http://oldhome.schmorp.de/marc/liblzf.html\" rel=\"noreferrer\">The Change history</a> change history indicates that previous inline assembly was in fact counter productive and that allowing the compiler to take total control of the output (with tweaks in <em>code</em> rather than directives in assembly) yielded better results.</p>\n\n<h3>Some specifics</h3>\n\n<p>Since LZF is, in an efficient unmanaged implementation on modern desktop CPUS, largely memory bandwidth limited (hence it being compered to the speed of an unoptimised memcpy) you will need you code to remain entirely within level 1 cache.<br>\nAs such any static fields you cannot make into constants should be placed within the same class as these values will often be placed within the same area of memory devoted to the vtables and meta data associated with classes.</p>\n\n<p>Object allocations which cannot be trapped by Escape Analysis (only in 1.6 onwards) will need to be avoided.</p>\n\n<p>The <a href=\"http://cvs.schmorp.de/liblzf/lzf_c.c?revision=1.37&amp;view=markup\" rel=\"noreferrer\">c code</a> makes aggressive use of loop unrolling. However the performance of this on older (1.4 era) VM's is <a href=\"http://books.google.co.uk/books?id=iPHtCfZQyqQC&amp;pg=PA200&amp;lpg=PA200&amp;dq=java+jit+unrolling&amp;source=bl&amp;ots=tbluFR4gmP&amp;sig=rAxYqfzrChTmcxKD1gpbY5S05Po&amp;hl=en&amp;ei=xsCqSpiiJZzLjAfh6vDTBw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=2#v=onepage&amp;q=&amp;f=false\" rel=\"noreferrer\">heavily dependant on the mode the JVM is in</a>. Apparently latter sun jvm versions are more aggressive at inlining and unrolling, especially in server mode.</p>\n\n<p>The prefetch instrctions generated by the JIT can make all the difference on code like this which is near memory bound.</p>\n\n<h3>\"It's coming straight for us\"</h3>\n\n<p>Your target is moving, and will continue to. Again Marc Lehmann's previous experience:</p>\n\n<blockquote>\n  <p>default HLOG size is now 15 (cpu caches have increased)</p>\n</blockquote>\n\n<p>Even minor updates to the jvm can involve <a href=\"http://java.sun.com/javase/6/webnotes/6u2.html\" rel=\"noreferrer\">significant compiler changes</a></p>\n\n<blockquote>\n  <p>6544668  Don't vecorized array operations that can't be aligned at runtime.\n  6536652  Implement some superword (SIMD) optimizations\n  6531696  don't use immediate 16-bits value store to memory on Intel cpus\n  6468290  Divide and allocate out of eden on a per cpu basis</p>\n</blockquote>\n\n<h3>Captain Obvious</h3>\n\n<p>Measure, Measure, Measure. IF you can get your library to include (in a separate dll) a simple and easy to execute benchmark that logs the relevant information (vm version, cpu, OS, command line switches etc) and makes this simple to send back to you you will increase your coverage, best of all you'll cover those people using it that care. </p>\n"},{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1692223143,"creation_date":1252942550,"answer_id":1422330,"question_id":1352422,"body_markdown":"As far as **bounds check elimination** is concerned, I believe the new JDK will already include an improved algorithm that eliminates it, whenever it&#39;s possible. These are the two main papers on this subject:\r\n\r\n - V. Mikheev, S. Fedoseev, V. Sukharev, N. Lipsky. 2002\r\n**Effective Enhancement of Loop Versioning in Java**. [Link][1]. This paper is from the guys at Excelsior, who implemented the technique in their [Jet][2] JVM.\r\n - W&#252;rthinger, Thomas, Christian Wimmer, and Hanspeter M&#246;ssenb&#246;ck. 2007. **Array Bounds Check Elimination for the Java HotSpot Client Compiler**. PPPJ. [Link][3]. Slightly based on the above paper, this is the implementation that I believe will be included in the next [JDK][4]. The achieved *speedups* are also presented.\r\n\r\n\r\nThere is also [this][5] blog entry, which discusses one of the papers superficially, and also presents some benchmarking results, not only for arrays but also for arithmetic in the new JDK. The comments of the blog entry are also very interesting, since the authors of the above papers present some very interesting comments and discuss arguments. Also, there are some pointers to other similar blog posts on this subject.\r\n\r\n\r\n\r\n  [1]: http://www.excelsior-usa.com/ps/LoopVers.ps\r\n  [2]: http://www.excelsior-usa.com/jet.html\r\n  [3]: http://www.cs.umd.edu/~vibha/330/array-bounds.pdf\r\n  [4]: http://download.java.net/jdk7/binaries/\r\n  [5]: https://web.archive.org/web/20090828105328/http://lingpipe-blog.com/2009/03/30/jdk-7-twice-as-fast-as-jdk-6-for-arrays-and-arithmetic/","title":"How can I code Java to allow SSE use and bounds-check elimination (or other advanced optimizations)?","body":"<p>As far as <strong>bounds check elimination</strong> is concerned, I believe the new JDK will already include an improved algorithm that eliminates it, whenever it's possible. These are the two main papers on this subject:</p>\n<ul>\n<li>V. Mikheev, S. Fedoseev, V. Sukharev, N. Lipsky. 2002\n<strong>Effective Enhancement of Loop Versioning in Java</strong>. <a href=\"http://www.excelsior-usa.com/ps/LoopVers.ps\" rel=\"nofollow noreferrer\">Link</a>. This paper is from the guys at Excelsior, who implemented the technique in their <a href=\"http://www.excelsior-usa.com/jet.html\" rel=\"nofollow noreferrer\">Jet</a> JVM.</li>\n<li>Wrthinger, Thomas, Christian Wimmer, and Hanspeter Mssenbck. 2007. <strong>Array Bounds Check Elimination for the Java HotSpot Client Compiler</strong>. PPPJ. <a href=\"http://www.cs.umd.edu/%7Evibha/330/array-bounds.pdf\" rel=\"nofollow noreferrer\">Link</a>. Slightly based on the above paper, this is the implementation that I believe will be included in the next <a href=\"http://download.java.net/jdk7/binaries/\" rel=\"nofollow noreferrer\">JDK</a>. The achieved <em>speedups</em> are also presented.</li>\n</ul>\n<p>There is also <a href=\"https://web.archive.org/web/20090828105328/http://lingpipe-blog.com/2009/03/30/jdk-7-twice-as-fast-as-jdk-6-for-arrays-and-arithmetic/\" rel=\"nofollow noreferrer\">this</a> blog entry, which discusses one of the papers superficially, and also presents some benchmarking results, not only for arrays but also for arithmetic in the new JDK. The comments of the blog entry are also very interesting, since the authors of the above papers present some very interesting comments and discuss arguments. Also, there are some pointers to other similar blog posts on this subject.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1252959052,"creation_date":1252959052,"answer_id":1423650,"question_id":1352422,"body_markdown":"It&#39;s rather unlikely that you need to help the JIT compiler much with optimizing a straightforward number crunching algorithm like LZW. ShuggyCoUk mentioned this, but I think it deserves extra attention:\r\n\r\n**The cache-friendliness of your code will be a big factor.**\r\n\r\nYou have to reduce the size of your woking set and improve data access locality as much as possible. You mention &quot;packing bytes into ints for performance&quot;. This sounds like using ints to hold byte values in order to have them word-aligned. Don&#39;t do that! The increased data set size will outweigh any gains (I once converted some ECC number crunching code from int[] to byte[] and got a 2x speed-up).\r\n\r\nOn the off chance that you don&#39;t know this: if you need to treat some data as both bytes and ints, you don&#39;t have to shift and |-mask it - use [`ByteBuffer.asIntBuffer()`][1] and related methods.\r\n\r\n&gt; With current 1.6 JVM, how many\r\n&gt; elements must be copied before\r\n&gt; System.arraycopy beats a copying loop?\r\n\r\nBetter do the benchmark yourself. When I did it way back when in Java 1.3 times, it was somewhere around 2000 elements.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html#asIntBuffer()","title":"How can I code Java to allow SSE use and bounds-check elimination (or other advanced optimizations)?","body":"<p>It's rather unlikely that you need to help the JIT compiler much with optimizing a straightforward number crunching algorithm like LZW. ShuggyCoUk mentioned this, but I think it deserves extra attention:</p>\n\n<p><strong>The cache-friendliness of your code will be a big factor.</strong></p>\n\n<p>You have to reduce the size of your woking set and improve data access locality as much as possible. You mention \"packing bytes into ints for performance\". This sounds like using ints to hold byte values in order to have them word-aligned. Don't do that! The increased data set size will outweigh any gains (I once converted some ECC number crunching code from int[] to byte[] and got a 2x speed-up).</p>\n\n<p>On the off chance that you don't know this: if you need to treat some data as both bytes and ints, you don't have to shift and |-mask it - use <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/ByteBuffer.html#asIntBuffer()\" rel=\"nofollow noreferrer\"><code>ByteBuffer.asIntBuffer()</code></a> and related methods.</p>\n\n<blockquote>\n  <p>With current 1.6 JVM, how many\n  elements must be copied before\n  System.arraycopy beats a copying loop?</p>\n</blockquote>\n\n<p>Better do the benchmark yourself. When I did it way back when in Java 1.3 times, it was somewhere around 2000 elements.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260250730,"creation_date":1260250730,"answer_id":1864841,"question_id":1352422,"body_markdown":"Lots of answers so far, but couple of additional things:\r\n\r\n* Measure, measure, measure. As much as most Java developers warn against micro-benchmarking, make sure you compare performance between changes. Optimizations that do not result in measurable improvements are generally not worth keeping (of course, sometimes it&#39;s combination of things, and that gets trickier)\r\n* Tight loops matter as much with Java as with C (and ditto with variable allocations -- although you don&#39;t directly control it, HotSpot will eventually have to do it). I manage to practically double the speed of UTF-8 decoding by rearranging tight loop for handling single-byte case (7-bit ascii) as tight(er) inner loop, leaving other cases out.\r\n* Do not underestimate cost of allocating and/or clearing large arrays -- if you want lzf encoding/decoding to be faster for small/medium chunks too (not just megabyte sized), keep in mind that ALL allocations of byte[]/int[] are somewhat costly; not because of GC, but because JVM MUST clear the space.\r\n\r\nH2 implementation has also been optimized quite a bit (for example: it does not clear the hash array any more, this often makes sense); and I actually helped modify it for use in another Java project. My contribution was mostly just changing it do be more optimal for non-streaming case, but that did not touch the tight encode/decode loops.\r\n","title":"How can I code Java to allow SSE use and bounds-check elimination (or other advanced optimizations)?","body":"<p>Lots of answers so far, but couple of additional things:</p>\n\n<ul>\n<li>Measure, measure, measure. As much as most Java developers warn against micro-benchmarking, make sure you compare performance between changes. Optimizations that do not result in measurable improvements are generally not worth keeping (of course, sometimes it's combination of things, and that gets trickier)</li>\n<li>Tight loops matter as much with Java as with C (and ditto with variable allocations -- although you don't directly control it, HotSpot will eventually have to do it). I manage to practically double the speed of UTF-8 decoding by rearranging tight loop for handling single-byte case (7-bit ascii) as tight(er) inner loop, leaving other cases out.</li>\n<li>Do not underestimate cost of allocating and/or clearing large arrays -- if you want lzf encoding/decoding to be faster for small/medium chunks too (not just megabyte sized), keep in mind that ALL allocations of byte[]/int[] are somewhat costly; not because of GC, but because JVM MUST clear the space.</li>\n</ul>\n\n<p>H2 implementation has also been optimized quite a bit (for example: it does not clear the hash array any more, this often makes sense); and I actually helped modify it for use in another Java project. My contribution was mostly just changing it do be more optimal for non-streaming case, but that did not touch the tight encode/decode loops.</p>\n"}],"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11511,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":1413484,"answer_count":4,"score":41,"last_activity_date":1692223143,"creation_date":1251581293,"question_id":1352422,"body_markdown":"## The Situation: ##\nI&#39;m optimizing a pure-java implementation of the LZF compression algorithm, which involves a lot of byte[] access and basic int mathematics for hashing and comparison.  Performance really matters, because the goal of the compression is to reduce I/O requirements.  I am not posting code because it isn&#39;t cleaned up yet, and may be restructured heavily.\n\n## The Questions: ##\n\n -  How can I write my code to allow it to JIT-compile to a form using faster SSE operations?  \n - How can I structure it so the compiler can easily eliminate array bounds checks?\n - Are there any broad references about the relative speed of specific math operations (how many increments/decrements does it take to equal a normal add/subtract, how fast is shift-or vs. an array access)?\n - How can I work on optimizing branching -- is it better to have numerous conditional statements with short bodies, or a few long ones, or short ones with nested conditions?\n - With current 1.6 JVM, how many elements must be copied before System.arraycopy beats a copying loop?\n\n## What I&#39;ve already done: ##\nBefore I get attacked for premature optimization: the basic algorithm is already excellent, but the Java implementation is less than 2/3 the speed of equivalent C.    I&#39;ve already replaced copying loops with System.arraycopy, worked on optimizing loops and eliminated un-needed operations.  \n\nI make heavy use of bit twiddling and packing bytes into ints for performance, as well as shifting &amp; masking.\n\nFor legal reasons, I can&#39;t look at implementations in similar libraries, and existing libraries have too restrictive license terms to use.\n\n## Requirements for a GOOD (accepted) answer: #\n - **Unacceptable answers:** &quot;this is faster&quot; without an explanation of how much AND why, OR hasn&#39;t been tested with a JIT compiler.\n - **Borderline answers:** have not been tested with anything before Hotspot 1.4\n - **Basic answers:** will provide a general rule and explanation of why it is faster at the compiler level, and roughly how much faster\n - **Good answers:** include a couple of samples of code to demonstrate\n - **Excellent answers:** have benchmarks with both JRE 1.5 and 1.6\n - **PERFECT answer:** Is by someone who worked on the HotSpot compiler, and can fully explain or reference the conditions for an optimization to be used, and how much faster it typically is.  Might include java code and sample assembly code generated by HotSpot.\n\nAlso: if anyone has links detailing the guts of Hotspot optimization and branching performance, those are welcome.  I know enough about bytecode that a site analyzing performance at a bytecode rather than sourcecode level would be helpful.\n\n## (Edit) Partial Answer: Bounds-Check Ellimination: ##\nThis is taken from supplied link to the HotSpot internals wiki at: [https://wikis.oracle.com/display/HotSpotInternals/RangeCheckElimination][1]\n\nHotSpot will eliminate bounds checks in all for loops with the following conditions:\n\n  - Array is loop invariant (not reallocated within the loop)\n  - Index variable has a constant stride (increases/decreases by constant amount, in only one spot if possible)\n  - Array is indexed by a linear function of the variable.  \n\n**Example:** `int val = array[index*2 + 5]` \n\n***OR:*** `int val = array[index+9]`  \n\n**NOT:** `int val = array[Math.min(var,index)+7]`\n\n\n----------\n## Early version of code: ##\nThis is a sample version.  Do not steal it, because it is an unreleased version of code for the H2 database project.  The final version will be open source.  This is an optimization upon the code here: [H2 CompressLZF code][2]\n\nLogically, this is identical to the development version, but that one uses a for(...) loop to step through input, and an if/else loop for different logic between literal and backreference modes.  It reduces array access and checks between modes.\n\n    public int compressNewer(final byte[] in, final int inLen, final byte[] out, int outPos){\n            int inPos = 0;\n            // initialize the hash table\n            if (cachedHashTable == null) {\n                cachedHashTable = new int[HASH_SIZE];\n            } else {\n                System.arraycopy(EMPTY, 0, cachedHashTable, 0, HASH_SIZE);\n            }\n            int[] hashTab = cachedHashTable;\n            // number of literals in current run\n            int literals = 0;\n            int future = first(in, inPos);\n            final int endPos = inLen-4;\n    \n            // Loop through data until all of it has been compressed\n            while (inPos &lt; endPos) {\n                    future = (future &lt;&lt; 8) | in[inPos+2] &amp; 255;\n    //                hash = next(hash,in,inPos);\n                    int off = hash(future);\n                    // ref = possible index of matching group in data\n                    int ref = hashTab[off];\n                    hashTab[off] = inPos;\n                    off = inPos - ref - 1; //dropped for speed\n    \n                    // has match if bytes at ref match bytes in future, etc\n                    // note: using ref++ rather than ref+1, ref+2, etc is about 15% faster\n                    boolean hasMatch = (ref &gt; 0 &amp;&amp; off &lt;= MAX_OFF &amp;&amp; (in[ref++] == (byte) (future &gt;&gt; 16) &amp;&amp; in[ref++] == (byte)(future &gt;&gt; 8) &amp;&amp; in[ref] == (byte)future));\n    \n                    ref -=2; // ...EVEN when I have to recover it\n                    // write out literals, if max literals reached, OR has a match\n                    if ((hasMatch &amp;&amp; literals != 0) || (literals == MAX_LITERAL)) {\n                        out[outPos++] = (byte) (literals - 1);\n                        System.arraycopy(in, inPos - literals, out, outPos, literals);\n                        outPos += literals;\n                        literals = 0;\n                    }\n    \n                    //literal copying split because this improved performance by 5%\n    \n                    if (hasMatch) { // grow match as much as possible\n                        int maxLen = inLen - inPos - 2;\n                        maxLen = maxLen &gt; MAX_REF ? MAX_REF : maxLen;\n                        int len = 3;\n                        // grow match length as possible...\n                        while (len &lt; maxLen &amp;&amp; in[ref + len] == in[inPos + len]) {\n                            len++;\n                        }\n                        len -= 2;\n    \n                        // short matches write length to first byte, longer write to 2nd too\n                        if (len &lt; 7) {\n                            out[outPos++] = (byte) ((off &gt;&gt; 8) + (len &lt;&lt; 5));\n                        } else {\n                            out[outPos++] = (byte) ((off &gt;&gt; 8) + (7 &lt;&lt; 5));\n                            out[outPos++] = (byte) (len - 7);\n                        }\n                        out[outPos++] = (byte) off;\n                        inPos += len;\n    \n                        //OPTIMIZATION: don&#39;t store hashtable entry for last byte of match and next byte\n                        // rebuild neighborhood for hashing, but don&#39;t store location for this 3-byte group\n                        // improves compress performance by ~10% or more, sacrificing ~2% compression...\n                        future = ((in[inPos+1] &amp; 255) &lt;&lt; 16) | ((in[inPos + 2] &amp; 255) &lt;&lt; 8) | (in[inPos + 3] &amp; 255);\n                        inPos += 2;\n                    } else { //grow literals\n                        literals++;\n                        inPos++;\n                    } \n            }\n            \n            // write out remaining literals\n            literals += inLen-inPos;\n            inPos = inLen-literals;\n            if(literals &gt;= MAX_LITERAL){\n                out[outPos++] = (byte)(MAX_LITERAL-1);\n                System.arraycopy(in, inPos, out, outPos, MAX_LITERAL);\n                outPos += MAX_LITERAL;\n                inPos += MAX_LITERAL;\n                literals -= MAX_LITERAL;\n            }\n            if (literals != 0) {\n                out[outPos++] = (byte) (literals - 1);\n                System.arraycopy(in, inPos, out, outPos, literals);\n                outPos += literals;\n            }\n            return outPos; \n        }\n\n\n----------\n## Final edit: ##\n**I&#39;ve marked the best answer so far as accepted, since the deadline is nearly up.  Since I took so long before deciding to post code, I will continue to upvote and respond to comments where possible.**  Apologies if the code is messy: this represented code in development, not polished up for committing.\n\n  [1]: https://wikis.oracle.com/display/HotSpotInternals/RangeCheckElimination\n  [2]: http://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/compress/CompressLZF.java","title":"How can I code Java to allow SSE use and bounds-check elimination (or other advanced optimizations)?","body":"<h2>The Situation:</h2>\n<p>I'm optimizing a pure-java implementation of the LZF compression algorithm, which involves a lot of byte[] access and basic int mathematics for hashing and comparison.  Performance really matters, because the goal of the compression is to reduce I/O requirements.  I am not posting code because it isn't cleaned up yet, and may be restructured heavily.</p>\n<h2>The Questions:</h2>\n<ul>\n<li>How can I write my code to allow it to JIT-compile to a form using faster SSE operations?</li>\n<li>How can I structure it so the compiler can easily eliminate array bounds checks?</li>\n<li>Are there any broad references about the relative speed of specific math operations (how many increments/decrements does it take to equal a normal add/subtract, how fast is shift-or vs. an array access)?</li>\n<li>How can I work on optimizing branching -- is it better to have numerous conditional statements with short bodies, or a few long ones, or short ones with nested conditions?</li>\n<li>With current 1.6 JVM, how many elements must be copied before System.arraycopy beats a copying loop?</li>\n</ul>\n<h2>What I've already done:</h2>\n<p>Before I get attacked for premature optimization: the basic algorithm is already excellent, but the Java implementation is less than 2/3 the speed of equivalent C.    I've already replaced copying loops with System.arraycopy, worked on optimizing loops and eliminated un-needed operations.</p>\n<p>I make heavy use of bit twiddling and packing bytes into ints for performance, as well as shifting &amp; masking.</p>\n<p>For legal reasons, I can't look at implementations in similar libraries, and existing libraries have too restrictive license terms to use.</p>\n<h2>Requirements for a GOOD (accepted) answer:</h2>\n<ul>\n<li><strong>Unacceptable answers:</strong> &quot;this is faster&quot; without an explanation of how much AND why, OR hasn't been tested with a JIT compiler.</li>\n<li><strong>Borderline answers:</strong> have not been tested with anything before Hotspot 1.4</li>\n<li><strong>Basic answers:</strong> will provide a general rule and explanation of why it is faster at the compiler level, and roughly how much faster</li>\n<li><strong>Good answers:</strong> include a couple of samples of code to demonstrate</li>\n<li><strong>Excellent answers:</strong> have benchmarks with both JRE 1.5 and 1.6</li>\n<li><strong>PERFECT answer:</strong> Is by someone who worked on the HotSpot compiler, and can fully explain or reference the conditions for an optimization to be used, and how much faster it typically is.  Might include java code and sample assembly code generated by HotSpot.</li>\n</ul>\n<p>Also: if anyone has links detailing the guts of Hotspot optimization and branching performance, those are welcome.  I know enough about bytecode that a site analyzing performance at a bytecode rather than sourcecode level would be helpful.</p>\n<h2>(Edit) Partial Answer: Bounds-Check Ellimination:</h2>\n<p>This is taken from supplied link to the HotSpot internals wiki at: <a href=\"https://wikis.oracle.com/display/HotSpotInternals/RangeCheckElimination\" rel=\"noreferrer\">https://wikis.oracle.com/display/HotSpotInternals/RangeCheckElimination</a></p>\n<p>HotSpot will eliminate bounds checks in all for loops with the following conditions:</p>\n<ul>\n<li>Array is loop invariant (not reallocated within the loop)</li>\n<li>Index variable has a constant stride (increases/decreases by constant amount, in only one spot if possible)</li>\n<li>Array is indexed by a linear function of the variable.</li>\n</ul>\n<p><strong>Example:</strong> <code>int val = array[index*2 + 5]</code></p>\n<p><em><strong>OR:</strong></em> <code>int val = array[index+9]</code></p>\n<p><strong>NOT:</strong> <code>int val = array[Math.min(var,index)+7]</code></p>\n<hr />\n<h2>Early version of code:</h2>\n<p>This is a sample version.  Do not steal it, because it is an unreleased version of code for the H2 database project.  The final version will be open source.  This is an optimization upon the code here: <a href=\"http://code.google.com/p/h2database/source/browse/trunk/h2/src/main/org/h2/compress/CompressLZF.java\" rel=\"noreferrer\">H2 CompressLZF code</a></p>\n<p>Logically, this is identical to the development version, but that one uses a for(...) loop to step through input, and an if/else loop for different logic between literal and backreference modes.  It reduces array access and checks between modes.</p>\n<pre><code>public int compressNewer(final byte[] in, final int inLen, final byte[] out, int outPos){\n        int inPos = 0;\n        // initialize the hash table\n        if (cachedHashTable == null) {\n            cachedHashTable = new int[HASH_SIZE];\n        } else {\n            System.arraycopy(EMPTY, 0, cachedHashTable, 0, HASH_SIZE);\n        }\n        int[] hashTab = cachedHashTable;\n        // number of literals in current run\n        int literals = 0;\n        int future = first(in, inPos);\n        final int endPos = inLen-4;\n\n        // Loop through data until all of it has been compressed\n        while (inPos &lt; endPos) {\n                future = (future &lt;&lt; 8) | in[inPos+2] &amp; 255;\n//                hash = next(hash,in,inPos);\n                int off = hash(future);\n                // ref = possible index of matching group in data\n                int ref = hashTab[off];\n                hashTab[off] = inPos;\n                off = inPos - ref - 1; //dropped for speed\n\n                // has match if bytes at ref match bytes in future, etc\n                // note: using ref++ rather than ref+1, ref+2, etc is about 15% faster\n                boolean hasMatch = (ref &gt; 0 &amp;&amp; off &lt;= MAX_OFF &amp;&amp; (in[ref++] == (byte) (future &gt;&gt; 16) &amp;&amp; in[ref++] == (byte)(future &gt;&gt; 8) &amp;&amp; in[ref] == (byte)future));\n\n                ref -=2; // ...EVEN when I have to recover it\n                // write out literals, if max literals reached, OR has a match\n                if ((hasMatch &amp;&amp; literals != 0) || (literals == MAX_LITERAL)) {\n                    out[outPos++] = (byte) (literals - 1);\n                    System.arraycopy(in, inPos - literals, out, outPos, literals);\n                    outPos += literals;\n                    literals = 0;\n                }\n\n                //literal copying split because this improved performance by 5%\n\n                if (hasMatch) { // grow match as much as possible\n                    int maxLen = inLen - inPos - 2;\n                    maxLen = maxLen &gt; MAX_REF ? MAX_REF : maxLen;\n                    int len = 3;\n                    // grow match length as possible...\n                    while (len &lt; maxLen &amp;&amp; in[ref + len] == in[inPos + len]) {\n                        len++;\n                    }\n                    len -= 2;\n\n                    // short matches write length to first byte, longer write to 2nd too\n                    if (len &lt; 7) {\n                        out[outPos++] = (byte) ((off &gt;&gt; 8) + (len &lt;&lt; 5));\n                    } else {\n                        out[outPos++] = (byte) ((off &gt;&gt; 8) + (7 &lt;&lt; 5));\n                        out[outPos++] = (byte) (len - 7);\n                    }\n                    out[outPos++] = (byte) off;\n                    inPos += len;\n\n                    //OPTIMIZATION: don't store hashtable entry for last byte of match and next byte\n                    // rebuild neighborhood for hashing, but don't store location for this 3-byte group\n                    // improves compress performance by ~10% or more, sacrificing ~2% compression...\n                    future = ((in[inPos+1] &amp; 255) &lt;&lt; 16) | ((in[inPos + 2] &amp; 255) &lt;&lt; 8) | (in[inPos + 3] &amp; 255);\n                    inPos += 2;\n                } else { //grow literals\n                    literals++;\n                    inPos++;\n                } \n        }\n        \n        // write out remaining literals\n        literals += inLen-inPos;\n        inPos = inLen-literals;\n        if(literals &gt;= MAX_LITERAL){\n            out[outPos++] = (byte)(MAX_LITERAL-1);\n            System.arraycopy(in, inPos, out, outPos, MAX_LITERAL);\n            outPos += MAX_LITERAL;\n            inPos += MAX_LITERAL;\n            literals -= MAX_LITERAL;\n        }\n        if (literals != 0) {\n            out[outPos++] = (byte) (literals - 1);\n            System.arraycopy(in, inPos, out, outPos, literals);\n            outPos += literals;\n        }\n        return outPos; \n    }\n</code></pre>\n<hr />\n<h2>Final edit:</h2>\n<p><strong>I've marked the best answer so far as accepted, since the deadline is nearly up.  Since I took so long before deciding to post code, I will continue to upvote and respond to comments where possible.</strong>  Apologies if the code is messy: this represented code in development, not polished up for committing.</p>\n"},{"tags":["java","adobe","immutability","livecycle","lcds"],"answers":[{"tags":[],"owner":{"account_id":569647,"reputation":66,"user_id":202436,"display_name":"Graeme Harker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1257324687,"creation_date":1257324687,"answer_id":1672459,"question_id":1524326,"body_markdown":"Yes, it&#39;s a common problem. Adobe recommend that the Java type that has immutable properties implements Externalizable and the equivalent ActionScript type implements IExternalizable.","title":"Serializing immutable java classes to actionscript with LCDS","body":"<p>Yes, it's a common problem. Adobe recommend that the Java type that has immutable properties implements Externalizable and the equivalent ActionScript type implements IExternalizable.</p>\n"},{"tags":[],"owner":{"account_id":24292,"reputation":5311,"user_id":61679,"display_name":"Cornel Creanga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260104903,"creation_date":1260104903,"answer_id":1855354,"question_id":1524326,"body_markdown":"There is no plan to handle the writeReplace and readResolve, but you can ask for a feature request http://bugs.adobe.com/jira/browse/BLZ\r\n\r\nWhen implementing your custom serialization take care that you will lose some benefits like compressing numbers and identifying duplicate strings. One idea is to take a look on the actual serialization mechanism and to modify it accordingly. \r\n\r\nHowever, if you are interested just in serializing the read only properties this enhancement was implemented in the BlazeDS, take a look here: http://bugs.adobe.com/jira/browse/BLZ-427","title":"Serializing immutable java classes to actionscript with LCDS","body":"<p>There is no plan to handle the writeReplace and readResolve, but you can ask for a feature request <a href=\"http://bugs.adobe.com/jira/browse/BLZ\" rel=\"nofollow noreferrer\">http://bugs.adobe.com/jira/browse/BLZ</a></p>\n\n<p>When implementing your custom serialization take care that you will lose some benefits like compressing numbers and identifying duplicate strings. One idea is to take a look on the actual serialization mechanism and to modify it accordingly. </p>\n\n<p>However, if you are interested just in serializing the read only properties this enhancement was implemented in the BlazeDS, take a look here: <a href=\"http://bugs.adobe.com/jira/browse/BLZ-427\" rel=\"nofollow noreferrer\">http://bugs.adobe.com/jira/browse/BLZ-427</a></p>\n"},{"tags":[],"owner":{"display_name":"user1028723"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320359924,"creation_date":1320359924,"answer_id":8002807,"question_id":1524326,"body_markdown":"shortest and most comprehensive answer i found: http://expertdevelopers.blogspot.com/2010/07/serializable-vs-externalizable.html","title":"Serializing immutable java classes to actionscript with LCDS","body":"<p>shortest and most comprehensive answer i found: <a href=\"http://expertdevelopers.blogspot.com/2010/07/serializable-vs-externalizable.html\" rel=\"nofollow\">http://expertdevelopers.blogspot.com/2010/07/serializable-vs-externalizable.html</a></p>\n"}],"owner":{"account_id":18519,"reputation":4307,"user_id":42491,"accept_rate":67,"display_name":"Brett Hannah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2926,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1672459,"answer_count":3,"score":7,"last_activity_date":1692223071,"creation_date":1254818382,"question_id":1524326,"body_markdown":"I&#39;ve got a complex object which is being managed by the LCDS DataServices data management and being created/updated etc using custom assemblers. The vast majority of the object hierarchy is being serialized/deserialized correctly but I&#39;ve hit a stumbling block when it comes to serializing immutable java classes.\r\n\r\nIn a java only world I would use the java writeReplace and readResolve methods as this excellent blog describes: [http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy/][1]\r\n\r\nThis is how I originally wrote my java class, expecting livecycle to call the writeReplace method and duly replace the immutable class with a mutable one for serialization. However it would appear that lcds knows nothing of the writeReplace method and will only call readExternal/writeExternal ignoring readResolve and writeReplace.\r\n\r\nFirstly, have other people found this to be the case, or am I missing something?\r\n\r\nSecondly, has anyone come up with an appropriate method to deserialize actionscript classes into either immutable objects or singletons?\r\n\r\n[1]: https://web.archive.org/web/20091113072714/http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy","title":"Serializing immutable java classes to actionscript with LCDS","body":"<p>I've got a complex object which is being managed by the LCDS DataServices data management and being created/updated etc using custom assemblers. The vast majority of the object hierarchy is being serialized/deserialized correctly but I've hit a stumbling block when it comes to serializing immutable java classes.</p>\n<p>In a java only world I would use the java writeReplace and readResolve methods as this excellent blog describes: <a href=\"https://web.archive.org/web/20091113072714/http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy\" rel=\"nofollow noreferrer\">http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy/</a></p>\n<p>This is how I originally wrote my java class, expecting livecycle to call the writeReplace method and duly replace the immutable class with a mutable one for serialization. However it would appear that lcds knows nothing of the writeReplace method and will only call readExternal/writeExternal ignoring readResolve and writeReplace.</p>\n<p>Firstly, have other people found this to be the case, or am I missing something?</p>\n<p>Secondly, has anyone come up with an appropriate method to deserialize actionscript classes into either immutable objects or singletons?</p>\n"},{"tags":["java","javafx","icons"],"comments":[{"owner":{"account_id":6133141,"reputation":836,"user_id":4782751,"display_name":"Manoj Vadehra"},"score":0,"creation_date":1558070661,"post_id":56180012,"comment_id":98985895,"body_markdown":"Ideally resources should not be in src directory. Please try to move Icons and FXML to resources directory (if possible). Did you try &quot;/Icons/message.png&quot; path for the Image?","body":"Ideally resources should not be in src directory. Please try to move Icons and FXML to resources directory (if possible). Did you try &quot;/Icons/message.png&quot; path for the Image?"}],"answers":[{"tags":[],"owner":{"account_id":3983409,"reputation":167,"user_id":3284759,"display_name":"Balderk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558071732,"creation_date":1558071732,"answer_id":56180291,"question_id":56180012,"body_markdown":"You need to remove src from the path.","title":"Error trying to change JavaFX application icon","body":"<p>You need to remove src from the path.</p>\n"},{"tags":[],"owner":{"account_id":4182358,"reputation":136,"user_id":3426988,"accept_rate":71,"display_name":"Samer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558089155,"creation_date":1558089155,"answer_id":56184612,"question_id":56180012,"body_markdown":"try to do this \r\n\r\n    public static final String ICON_IMAGE_LOC = &quot;/icons/logo.png&quot;;\r\n    public static void setStageIcon(Stage stage) {\r\n        stage.getIcons().add(new javafx.scene.image.Image(ICON_IMAGE_LOC));\r\n        //import javafx.scene.image.Image;\r\n    }\r\nand than in the declaration of new stage add it like this \r\n\r\n     setStageIcon(stage);\r\n\r\n","title":"Error trying to change JavaFX application icon","body":"<p>try to do this </p>\n\n<pre><code>public static final String ICON_IMAGE_LOC = \"/icons/logo.png\";\npublic static void setStageIcon(Stage stage) {\n    stage.getIcons().add(new javafx.scene.image.Image(ICON_IMAGE_LOC));\n    //import javafx.scene.image.Image;\n}\n</code></pre>\n\n<p>and than in the declaration of new stage add it like this </p>\n\n<pre><code> setStageIcon(stage);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15573850,"reputation":1062,"user_id":11235449,"display_name":"NM Naufaldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558110034,"creation_date":1558110034,"answer_id":56190198,"question_id":56180012,"body_markdown":"Try using `File` class\r\n\r\n    String path = &quot;/src/Icons/message.png&quot;;\r\n    File fileIcon = new File(path);\r\n    Image applicationIcon = new Image(fileIcon.toURI().toString());\r\n    primaryStage.getIcons().add(applicationIcon);","title":"Error trying to change JavaFX application icon","body":"<p>Try using <code>File</code> class</p>\n\n<pre><code>String path = \"/src/Icons/message.png\";\nFile fileIcon = new File(path);\nImage applicationIcon = new Image(fileIcon.toURI().toString());\nprimaryStage.getIcons().add(applicationIcon);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25713606,"reputation":1,"user_id":20657469,"display_name":"hhlk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692222908,"creation_date":1692222908,"answer_id":76917308,"question_id":56180012,"body_markdown":"My solution is this\r\n\r\n    Path path = Paths.get(&quot;/src/Icons/message.png&quot;).toAbsolutePath();\r\n    stage.getIcons().add(new Image(path.toString()));\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Error trying to change JavaFX application icon","body":"<p>My solution is this</p>\n<pre><code>Path path = Paths.get(&quot;/src/Icons/message.png&quot;).toAbsolutePath();\nstage.getIcons().add(new Image(path.toString()));\n</code></pre>\n"}],"owner":{"account_id":15395920,"reputation":15,"user_id":11107058,"display_name":"Rodrigo Albuquerque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56184612,"answer_count":4,"score":0,"last_activity_date":1692222908,"creation_date":1558070023,"question_id":56180012,"body_markdown":"I am developing an application in `JavaFX` and I am trying to change the icon of my application, according to the code below:\r\n\r\n    public class Login extends Application \r\n    \r\n    {\r\n    \r\n    Image applicationIcon = new Image(&quot;/src/Icons/message.png&quot;);\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) \r\n    \r\n    {\r\n    \r\n    try \r\n    \r\n        {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;../FXML/Login.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            primaryStage.setTitle(&quot;Login&quot;);\r\n    \r\n            primaryStage.getIcons().add(new Image(Login.class.getResourceAsStream(&quot;src/Icons/message.png&quot;)));           \r\n            primaryStage.getIcons().add(applicationIcon);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n    \r\n    \r\n        } \r\n    \r\n    catch (IOException e) \r\n    \r\n        {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\nHowever, when running the script to change the application icon, the following error occurs:\r\n\r\n    Exception in Application constructor java.lang.reflect.InvocationTargetException \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) \r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389) \r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \r\n    \tat java.lang.reflect.Method.invoke(Unknown Source) \r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(Unknown Source) \r\n    Caused by: java.lang.RuntimeException: Unable to construct Application instance: class application.Login \r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:907)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$159(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Unknown Source) \r\n    Caused by: java.lang.reflect.InvocationTargetException \r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) \r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) \r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$165(LauncherImpl.java:819)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$179(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$177(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method) \r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$178(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method) \r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\r\n    \t... 1 more \r\n    Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found \r\n    \tat javafx.scene.image.Image.validateUrl(Image.java:1118) \r\n    \tat javafx.scene.image.Image.(Image.java:620) \r\n    \tat application.Login.(Login.java:24) \r\n    \t... 13 more \r\n    Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n    \tat javafx.scene.image.Image.validateUrl(Image.java:1110) \r\n    \t... 15 more\r\n    Exception running application application.Login\r\n\r\nThe files of the program that I am developing, are arranged as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone know why this error occurs? Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0FLUx.png","title":"Error trying to change JavaFX application icon","body":"<p>I am developing an application in <code>JavaFX</code> and I am trying to change the icon of my application, according to the code below:</p>\n\n<pre><code>public class Login extends Application \n\n{\n\nImage applicationIcon = new Image(\"/src/Icons/message.png\");\n\n@Override\npublic void start(Stage primaryStage) \n\n{\n\ntry \n\n    {\n        Parent root = FXMLLoader.load(getClass().getResource(\"../FXML/Login.fxml\"));\n        Scene scene = new Scene(root);\n        primaryStage.setTitle(\"Login\");\n\n        primaryStage.getIcons().add(new Image(Login.class.getResourceAsStream(\"src/Icons/message.png\")));           \n        primaryStage.getIcons().add(applicationIcon);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n\n    } \n\ncatch (IOException e) \n\n    {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n\npublic static void main(String[] args) {\n    launch(args);\n}\n</code></pre>\n\n<p>However, when running the script to change the application icon, the following error occurs:</p>\n\n<pre><code>Exception in Application constructor java.lang.reflect.InvocationTargetException \n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \n    at java.lang.reflect.Method.invoke(Unknown Source) \n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389) \n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \n    at java.lang.reflect.Method.invoke(Unknown Source) \n    at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source) \nCaused by: java.lang.RuntimeException: Unable to construct Application instance: class application.Login \n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:907)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$159(LauncherImpl.java:182)\n    at java.lang.Thread.run(Unknown Source) \nCaused by: java.lang.reflect.InvocationTargetException \n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) \n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) \n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$165(LauncherImpl.java:819)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$179(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$177(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method) \n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$178(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method) \n    at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\n    ... 1 more \nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found \n    at javafx.scene.image.Image.validateUrl(Image.java:1118) \n    at javafx.scene.image.Image.(Image.java:620) \n    at application.Login.(Login.java:24) \n    ... 13 more \nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n    at javafx.scene.image.Image.validateUrl(Image.java:1110) \n    ... 15 more\nException running application application.Login\n</code></pre>\n\n<p>The files of the program that I am developing, are arranged as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0FLUx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0FLUx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know why this error occurs? Thank you.</p>\n"},{"tags":["java","android","video","ffmpeg","android-ffmpeg"],"comments":[{"owner":{"account_id":1117539,"reputation":2100,"user_id":1106547,"accept_rate":63,"display_name":"mortalis"},"score":0,"creation_date":1692224152,"post_id":76831003,"comment_id":135596307,"body_markdown":"Youd should post the entire log of your async task execution. With return code you cannot tell much, just looking their github docs it seems there&#39;s no exact meaning for error codes.","body":"Youd should post the entire log of your async task execution. With return code you cannot tell much, just looking their github docs it seems there&#39;s no exact meaning for error codes."},{"owner":{"account_id":19816490,"reputation":7,"user_id":14514055,"display_name":"Akshit"},"score":0,"creation_date":1692254236,"post_id":76831003,"comment_id":135598900,"body_markdown":"Thanks for your response This is the only error I&#39;m getting. But I solved my problem in another way. Thank you for your time.","body":"Thanks for your response This is the only error I&#39;m getting. But I solved my problem in another way. Thank you for your time."},{"owner":{"account_id":1117539,"reputation":2100,"user_id":1106547,"accept_rate":63,"display_name":"mortalis"},"score":0,"creation_date":1692297326,"post_id":76831003,"comment_id":135607745,"body_markdown":"btw, possible duplicate for https://stackoverflow.com/questions/76650778/flutter-ffmpeg-exit-code-1","body":"btw, possible duplicate for <a href=\"https://stackoverflow.com/questions/76650778/flutter-ffmpeg-exit-code-1\" title=\"flutter ffmpeg exit code 1\">stackoverflow.com/questions/76650778/flutter-ffmpeg-exit-cod&zwnj;&#8203;e-1</a>"}],"owner":{"account_id":19816490,"reputation":7,"user_id":14514055,"display_name":"Akshit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692222169,"creation_date":1691089881,"question_id":76831003,"body_markdown":"I have the mp4 link of a video but don&#39;t have a link for the mp3 version of that mp4 video. So is there any way that I can convert that mp4 video to mp3 in Android? I saw some resources but nothing works for me. I have two ways in which I believe this can be achieved\r\n\r\n 1. Convert the mp4 link to mp3 directly. (Not Sure if this is achievable)\r\n 2. Download the mp4 on the device with the help of a link and then use some code to convert that mp4 to mp3.\r\n\r\nI also tried some solutions which are available online \r\n\r\n\r\n https://github.com/tanersener/mobile-ffmpeg\r\n\r\nI tried the above library to achieve the final goal. But got: `Async command execution failed with returnCode=1`.\r\n\r\nThis error in the code I am using is:\r\n\r\n    private class Mp4ToMp3ConverterTask extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            String mp4FilePath = params[0];\r\n            String mp3OutputPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/output.mp3&quot;;\r\n\r\n            String[] ffmpegCommand = {&quot;-i&quot;, mp4FilePath, &quot;-vn&quot;, &quot;-ar&quot;, &quot;44100&quot;, &quot;-ac&quot;, &quot;2&quot;, &quot;-b:a&quot;, &quot;192k&quot;, mp3OutputPath};\r\n\r\n\r\n            Config.enableStatisticsCallback(new StatisticsCallback() {\r\n                public void apply(Statistics newStatistics) {\r\n                    Log.d(&quot;Dekh&quot;, String.format(&quot;frame: %d, time: %d&quot;, newStatistics.getVideoFrameNumber(), newStatistics.getTime()));\r\n                }\r\n            });\r\n\r\n            long executionIdd = FFmpeg.executeAsync(ffmpegCommand, new ExecuteCallback() {\r\n                @Override\r\n                public void apply(final long executionId, final int returnCode) {\r\n                    if (returnCode == RETURN_CODE_SUCCESS) {\r\n                        Log.i(&quot;Dekh&quot;, &quot;Async command execution completed successfully.&quot;);\r\n                    } else if (returnCode == RETURN_CODE_CANCEL) {\r\n                        Log.i(&quot;Dekh&quot;, &quot;Async command execution cancelled by user.&quot;);\r\n                    } else {\r\n                        Log.i(&quot;Dekh&quot;, String.format(&quot;Async command execution failed with returnCode=%d.&quot;, returnCode));\r\n                    }\r\n                }\r\n            });\r\n\r\n            FFmpeg.cancel(executionIdd);\r\n\r\n            return mp3OutputPath;\r\n        }\r\n    }\r\n\r\nSolution number 2 which I used is:\r\n\r\nhttps://androidprogrammatically425516919.wordpress.com/2020/04/21/how-to-convert-video-to-audio-in-android-programmatically/\r\n\r\nBut I got an error here also: `Failed to instantiate extractor`.  \r\nAnd another error is: `java.io.FileNotFoundException: open failed: EISDIR (Is a directory)`\r\n\r\nI tried the online available solution to solve these errors but nothing worked. Such as granting write permission. Providing a valid location to save the output.\r\n\r\nBut nothing works so far. Please help me on this. Thank you.","title":"How to convert mp4 to mp3 in Android Java?","body":"<p>I have the mp4 link of a video but don't have a link for the mp3 version of that mp4 video. So is there any way that I can convert that mp4 video to mp3 in Android? I saw some resources but nothing works for me. I have two ways in which I believe this can be achieved</p>\n<ol>\n<li>Convert the mp4 link to mp3 directly. (Not Sure if this is achievable)</li>\n<li>Download the mp4 on the device with the help of a link and then use some code to convert that mp4 to mp3.</li>\n</ol>\n<p>I also tried some solutions which are available online</p>\n<p><a href=\"https://github.com/tanersener/mobile-ffmpeg\" rel=\"nofollow noreferrer\">https://github.com/tanersener/mobile-ffmpeg</a></p>\n<p>I tried the above library to achieve the final goal. But got: <code>Async command execution failed with returnCode=1</code>.</p>\n<p>This error in the code I am using is:</p>\n<pre><code>private class Mp4ToMp3ConverterTask extends AsyncTask&lt;String, Void, String&gt; {\n    @Override\n    protected String doInBackground(String... params) {\n        String mp4FilePath = params[0];\n        String mp3OutputPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/output.mp3&quot;;\n\n        String[] ffmpegCommand = {&quot;-i&quot;, mp4FilePath, &quot;-vn&quot;, &quot;-ar&quot;, &quot;44100&quot;, &quot;-ac&quot;, &quot;2&quot;, &quot;-b:a&quot;, &quot;192k&quot;, mp3OutputPath};\n\n\n        Config.enableStatisticsCallback(new StatisticsCallback() {\n            public void apply(Statistics newStatistics) {\n                Log.d(&quot;Dekh&quot;, String.format(&quot;frame: %d, time: %d&quot;, newStatistics.getVideoFrameNumber(), newStatistics.getTime()));\n            }\n        });\n\n        long executionIdd = FFmpeg.executeAsync(ffmpegCommand, new ExecuteCallback() {\n            @Override\n            public void apply(final long executionId, final int returnCode) {\n                if (returnCode == RETURN_CODE_SUCCESS) {\n                    Log.i(&quot;Dekh&quot;, &quot;Async command execution completed successfully.&quot;);\n                } else if (returnCode == RETURN_CODE_CANCEL) {\n                    Log.i(&quot;Dekh&quot;, &quot;Async command execution cancelled by user.&quot;);\n                } else {\n                    Log.i(&quot;Dekh&quot;, String.format(&quot;Async command execution failed with returnCode=%d.&quot;, returnCode));\n                }\n            }\n        });\n\n        FFmpeg.cancel(executionIdd);\n\n        return mp3OutputPath;\n    }\n}\n</code></pre>\n<p>Solution number 2 which I used is:</p>\n<p><a href=\"https://androidprogrammatically425516919.wordpress.com/2020/04/21/how-to-convert-video-to-audio-in-android-programmatically/\" rel=\"nofollow noreferrer\">https://androidprogrammatically425516919.wordpress.com/2020/04/21/how-to-convert-video-to-audio-in-android-programmatically/</a></p>\n<p>But I got an error here also: <code>Failed to instantiate extractor</code>.<br />\nAnd another error is: <code>java.io.FileNotFoundException: open failed: EISDIR (Is a directory)</code></p>\n<p>I tried the online available solution to solve these errors but nothing worked. Such as granting write permission. Providing a valid location to save the output.</p>\n<p>But nothing works so far. Please help me on this. Thank you.</p>\n"},{"tags":["java","c++","java-native-interface","metaclass"],"comments":[{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1692207724,"post_id":76915864,"comment_id":135593549,"body_markdown":"Reminder:  in C++, class names are not placed into the executable; they may be in a debug executable (or an associated debugging file).","body":"Reminder:  in C++, class names are not placed into the executable; they may be in a debug executable (or an associated debugging file)."},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":1,"creation_date":1692207866,"post_id":76915864,"comment_id":135593572,"body_markdown":"@ThomasMatthews I am trying to print all class names from a Java application from my C++ dll.","body":"@ThomasMatthews I am trying to print all class names from a Java application from my C++ dll."}],"answers":[{"tags":[],"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692208129,"creation_date":1692208129,"answer_id":76915939,"question_id":76915864,"body_markdown":"`&quot;ClassName: &quot; + *str` is the same as `&quot;ClassName: &quot; + str[0]`.\r\n\r\nI.e. it adds the numeric value of the first character of `str`, and adds it to the pointer that points to the string `&quot;ClassName&quot;`.\r\n\r\nEssentially it&#39;s equivalent to `&amp;((&quot;ClassName: &quot;)[str[0]])`. The resulting pointer will likely not be a valid string.\r\n\r\nC++ is not Java, you can&#39;t append strings like that. The pointer you pass to the `Log` function will be invalid and using it will lead to *undefined behavior*, and likely crashes.\r\n\r\nInstead of using a `const char *` for `str`, use `std::string`:\r\n```\r\nstd::string str = Env-&gt;GetStringUTFChars((jstring) classNameObj, 0);\r\nLogger::Log((&quot;ClassName: &quot; + str).c_str());  // or Logger::Log(&quot;ClassName: &quot; + str) if it accepts a std::string object\r\n```\r\n","title":"Printing class names of all loaded classes using JVMTI","body":"<p><code>&quot;ClassName: &quot; + *str</code> is the same as <code>&quot;ClassName: &quot; + str[0]</code>.</p>\n<p>I.e. it adds the numeric value of the first character of <code>str</code>, and adds it to the pointer that points to the string <code>&quot;ClassName&quot;</code>.</p>\n<p>Essentially it's equivalent to <code>&amp;((&quot;ClassName: &quot;)[str[0]])</code>. The resulting pointer will likely not be a valid string.</p>\n<p>C++ is not Java, you can't append strings like that. The pointer you pass to the <code>Log</code> function will be invalid and using it will lead to <em>undefined behavior</em>, and likely crashes.</p>\n<p>Instead of using a <code>const char *</code> for <code>str</code>, use <code>std::string</code>:</p>\n<pre><code>std::string str = Env-&gt;GetStringUTFChars((jstring) classNameObj, 0);\nLogger::Log((&quot;ClassName: &quot; + str).c_str());  // or Logger::Log(&quot;ClassName: &quot; + str) if it accepts a std::string object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692220747,"creation_date":1692220747,"answer_id":76917135,"question_id":76915864,"body_markdown":"Let us say for the sake of demonstration that `clazz` is the `Class` instance that corresponds to the `java.util.Vector` class. In Java parlance this would be a `Class&lt;Vector&gt;`.\r\n\r\nThus, this line\r\n```\r\njmethodID mid_getName = Env-&gt;GetMethodID(clazz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n```\r\ntries to look up the `getName` method in `java.util.Vector`. This fails because, indeed, `Vector`s do not have a `getName` method.\r\nIn the unlikely even that this would have returned a value for a given class C, you are only allowed to call that method on *instances* of class C. Yet you call it on the class C itself. That is why the JVM rightfully crashes.\r\n\r\nInstead, you want to look up the `getName` method of `Class` itself, or in Java parlance, `Class&lt;Class&gt;` (and everywhere else, a &quot;metaclass&quot;) and call that on all instances of `Class&lt;Class&gt;`, which are the  `Class` in your `classes_ptr`.\r\n\r\nThere are lots of ways to get at this, but the easiest is probably just the following:\r\n```\r\njclass cls_Class = Env-&gt;FindClass(&quot;java/lang/Class&quot;);\r\njmethodID mid_Class_getName = Env-&gt;GetMethodID(cls_Class, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n\r\nfor (int i = 0; i &lt; class_count; i++) {\r\n   jclass clazz = classes_ptr[i];\r\n   jstring classNameObj = (jstring) Env-&gt;CallObjectMethod(clazz, mid_Class_getName);\r\n   ...\r\n}\r\n```","title":"Printing class names of all loaded classes using JVMTI","body":"<p>Let us say for the sake of demonstration that <code>clazz</code> is the <code>Class</code> instance that corresponds to the <code>java.util.Vector</code> class. In Java parlance this would be a <code>Class&lt;Vector&gt;</code>.</p>\n<p>Thus, this line</p>\n<pre><code>jmethodID mid_getName = Env-&gt;GetMethodID(clazz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n</code></pre>\n<p>tries to look up the <code>getName</code> method in <code>java.util.Vector</code>. This fails because, indeed, <code>Vector</code>s do not have a <code>getName</code> method.\nIn the unlikely even that this would have returned a value for a given class C, you are only allowed to call that method on <em>instances</em> of class C. Yet you call it on the class C itself. That is why the JVM rightfully crashes.</p>\n<p>Instead, you want to look up the <code>getName</code> method of <code>Class</code> itself, or in Java parlance, <code>Class&lt;Class&gt;</code> (and everywhere else, a &quot;metaclass&quot;) and call that on all instances of <code>Class&lt;Class&gt;</code>, which are the  <code>Class</code> in your <code>classes_ptr</code>.</p>\n<p>There are lots of ways to get at this, but the easiest is probably just the following:</p>\n<pre><code>jclass cls_Class = Env-&gt;FindClass(&quot;java/lang/Class&quot;);\njmethodID mid_Class_getName = Env-&gt;GetMethodID(cls_Class, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n\nfor (int i = 0; i &lt; class_count; i++) {\n   jclass clazz = classes_ptr[i];\n   jstring classNameObj = (jstring) Env-&gt;CallObjectMethod(clazz, mid_Class_getName);\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76917135,"answer_count":2,"score":3,"last_activity_date":1692222142,"creation_date":1692207290,"question_id":76915864,"body_markdown":"I am using JNI and JVMTI with C++ with the goal of printing all class names of a target java application. The problem I am experiencing is that it crashes when trying to call the getName() method from inside each Java class. \r\n```\r\n\tstatic jvmtiEnv* jvmtiEnv;\r\n\tstatic JNIEnv* Env;\r\n\r\n    // The following code is located inside a method\r\n    jint class_count;\r\n    jclass* classes_ptr;\r\n    jvmtiEnv-&gt;GetLoadedClasses(&amp;class_count, &amp;classes_ptr);\r\n    Logger::Log(&quot;LoadedClassCount: &quot; + std::to_string(class_count));\r\n\r\n    for (int i = 0; i &lt; class_count; i++) {\r\n        jclass clazz = classes_ptr[i];\r\n\r\n        if (clazz) {\r\n            //Logger::Log(&quot;Class Number: &quot; + std::to_string(i));\r\n            jmethodID mid_getName = Env-&gt;GetMethodID(clazz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n            if (!mid_getName) continue; // This method is not always available.\r\n\r\n            Logger::Log(&quot;Pass 2&quot;);\r\n            jobject classNameObj = Env-&gt;CallObjectMethod(clazz, mid_getName); // Crashes here\r\n            if (!classNameObj) continue;\r\n            Logger::Log(&quot;Pass 3&quot;);\r\n\r\n            // Printing fix suggested by @Someprogrammerdude\r\n            std::string str = Env-&gt;GetStringUTFChars((jstring) classNameObj, 0);\r\n            Logger::Log((&quot;ClassName: &quot; + str).c_str());  // or Logger::Log(&quot;ClassName: &quot; + str)\r\n        }\r\n    }\r\n```\r\nAlso yes, the fields jvmtiEnv, and Env are initialized and work because I have been able to call other methods but cant seem to figure out how to print class names. The following is my logging method. I also print log method calls to console that is actively attached to the target java application but since my code crashes this part is useless, so I rely on also printing to a txt file. \r\n```\r\nvoid Logger::Log(std::string message)\r\n{\r\n\tif (!Logger::Initialized) Logger::Init();\r\n\tstd::cout &lt;&lt; &quot;[ LOG ] :: &quot; + message &lt;&lt; std::endl;\r\n\r\n\tstd::ofstream log(&quot;C:\\\\Users\\\\me\\\\debug.txt&quot;, std::ofstream::app | std::ofstream::out);\r\n\tlog &lt;&lt; message &lt;&lt; std::endl;\r\n}\r\n```","title":"Printing class names of all loaded classes using JVMTI","body":"<p>I am using JNI and JVMTI with C++ with the goal of printing all class names of a target java application. The problem I am experiencing is that it crashes when trying to call the getName() method from inside each Java class.</p>\n<pre><code>    static jvmtiEnv* jvmtiEnv;\n    static JNIEnv* Env;\n\n    // The following code is located inside a method\n    jint class_count;\n    jclass* classes_ptr;\n    jvmtiEnv-&gt;GetLoadedClasses(&amp;class_count, &amp;classes_ptr);\n    Logger::Log(&quot;LoadedClassCount: &quot; + std::to_string(class_count));\n\n    for (int i = 0; i &lt; class_count; i++) {\n        jclass clazz = classes_ptr[i];\n\n        if (clazz) {\n            //Logger::Log(&quot;Class Number: &quot; + std::to_string(i));\n            jmethodID mid_getName = Env-&gt;GetMethodID(clazz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n            if (!mid_getName) continue; // This method is not always available.\n\n            Logger::Log(&quot;Pass 2&quot;);\n            jobject classNameObj = Env-&gt;CallObjectMethod(clazz, mid_getName); // Crashes here\n            if (!classNameObj) continue;\n            Logger::Log(&quot;Pass 3&quot;);\n\n            // Printing fix suggested by @Someprogrammerdude\n            std::string str = Env-&gt;GetStringUTFChars((jstring) classNameObj, 0);\n            Logger::Log((&quot;ClassName: &quot; + str).c_str());  // or Logger::Log(&quot;ClassName: &quot; + str)\n        }\n    }\n</code></pre>\n<p>Also yes, the fields jvmtiEnv, and Env are initialized and work because I have been able to call other methods but cant seem to figure out how to print class names. The following is my logging method. I also print log method calls to console that is actively attached to the target java application but since my code crashes this part is useless, so I rely on also printing to a txt file.</p>\n<pre><code>void Logger::Log(std::string message)\n{\n    if (!Logger::Initialized) Logger::Init();\n    std::cout &lt;&lt; &quot;[ LOG ] :: &quot; + message &lt;&lt; std::endl;\n\n    std::ofstream log(&quot;C:\\\\Users\\\\me\\\\debug.txt&quot;, std::ofstream::app | std::ofstream::out);\n    log &lt;&lt; message &lt;&lt; std::endl;\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","java-11"],"answers":[{"tags":[],"owner":{"account_id":14804062,"reputation":2121,"user_id":10691560,"display_name":"Thomas_SO"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1689334241,"creation_date":1651738625,"answer_id":72124026,"question_id":72117858,"body_markdown":"I found the problem and solved it.\r\n\r\nI changed two lines defining the compatibility in the `build.gradle` file.\r\n\r\nFrom:\r\n```groovy\r\ncompileOptions {\r\n    sourceCompatibility 10\r\n    targetCompatibility 10\r\n}\r\n```\r\nTo:\r\n```groovy\r\ncompileOptions {\r\n    sourceCompatibility 11\r\n    targetCompatibility 11\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>I found the problem and solved it.</p>\n<p>I changed two lines defining the compatibility in the <code>build.gradle</code> file.</p>\n<p>From:</p>\n<pre><code>compileOptions {\n    sourceCompatibility 10\n    targetCompatibility 10\n}\n</code></pre>\n<p>To:</p>\n<pre><code>compileOptions {\n    sourceCompatibility 11\n    targetCompatibility 11\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11098590,"reputation":1075,"user_id":9290612,"display_name":"A.R.B.N"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670919002,"creation_date":1670919002,"answer_id":74781725,"question_id":72117858,"body_markdown":"in my case, it wasn&#39;t about Java Version. it still remain **1.8 (8)**.\r\nif you&#39;re using the latest version of Kotlin, you should update your **Gradle Version** to **6.7.1** or **higher** in **Project Structure**.\r\nI recommend changing **Gradle Plugin Version** to the latest **Staible Version**.","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>in my case, it wasn't about Java Version. it still remain <strong>1.8 (8)</strong>.\nif you're using the latest version of Kotlin, you should update your <strong>Gradle Version</strong> to <strong>6.7.1</strong> or <strong>higher</strong> in <strong>Project Structure</strong>.\nI recommend changing <strong>Gradle Plugin Version</strong> to the latest <strong>Staible Version</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5192739,"reputation":1114,"user_id":4155165,"display_name":"Karzan Kamal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671285111,"creation_date":1671285111,"answer_id":74834646,"question_id":72117858,"body_markdown":"it is works for me change the code in the app/build.gradle file to this:\r\n\r\n    android {\r\n        compileSdkVersion 33\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        ...\r\n    }\r\nor you can change it in the File/project structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7rhxL.png\r\n  [2]: https://i.stack.imgur.com/tZPVJ.png","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>it is works for me change the code in the app/build.gradle file to this:</p>\n<pre><code>android {\n    compileSdkVersion 33\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    ...\n}\n</code></pre>\n<p>or you can change it in the File/project structure</p>\n<p><a href=\"https://i.stack.imgur.com/7rhxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7rhxL.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tZPVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tZPVJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20628958,"reputation":23,"user_id":15144199,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673092706,"creation_date":1673092706,"answer_id":75040129,"question_id":72117858,"body_markdown":"Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 10\r\n\r\n**The meaning of this error is gradle wants to run at SDK 11 and SDK provided by your project structure is of version 10**\r\n\r\nI also faced the same issue while setting up the project in intelliJ, \r\n\r\n&quot;Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11&quot;\r\n\r\nSolution : I downloaded Java SE Development kit 17 and integrate JDK 17 with project structure. Its worked.","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 10</p>\n<p><strong>The meaning of this error is gradle wants to run at SDK 11 and SDK provided by your project structure is of version 10</strong></p>\n<p>I also faced the same issue while setting up the project in intelliJ,</p>\n<p>&quot;Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11&quot;</p>\n<p>Solution : I downloaded Java SE Development kit 17 and integrate JDK 17 with project structure. Its worked.</p>\n"},{"tags":[],"owner":{"account_id":3041402,"reputation":1466,"user_id":2578324,"display_name":"jndietz"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1675631667,"creation_date":1675631667,"answer_id":75355554,"question_id":72117858,"body_markdown":"With IntelliJ IDEA, I had to change which JDK Gradle used for running.  The original value was JDK 11, I changed it to JDK 17.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bS8ZC.png","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>With IntelliJ IDEA, I had to change which JDK Gradle used for running.  The original value was JDK 11, I changed it to JDK 17.</p>\n<p><a href=\"https://i.stack.imgur.com/bS8ZC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bS8ZC.png\" alt=\"Screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14972426,"reputation":261,"user_id":10808836,"display_name":"dong liu"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1677567099,"creation_date":1677567099,"answer_id":75588710,"question_id":72117858,"body_markdown":"Change the java version which gradle use. As the picture shown below, choose java 11.Then it is ok. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2rfUM.png","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>Change the java version which gradle use. As the picture shown below, choose java 11.Then it is ok.\n<a href=\"https://i.stack.imgur.com/2rfUM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2rfUM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8176903,"reputation":666,"user_id":6155363,"display_name":"johnnyasd12"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679451809,"creation_date":1679451809,"answer_id":75807953,"question_id":72117858,"body_markdown":"With IntelliJ IDEA, for me it worked with `file` -&gt; `invalidate caches` -&gt; `invalidate and restart` after correcting the version of Gradle JDK/JVM.","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>With IntelliJ IDEA, for me it worked with <code>file</code> -&gt; <code>invalidate caches</code> -&gt; <code>invalidate and restart</code> after correcting the version of Gradle JDK/JVM.</p>\n"},{"tags":[],"owner":{"account_id":10176602,"reputation":71,"user_id":7515031,"display_name":"lzy187"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682316905,"creation_date":1682316905,"answer_id":76089021,"question_id":72117858,"body_markdown":"The Java version of my JAVA_HOME configuration was 10 before. After changing to Java11, it will be fine.","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>The Java version of my JAVA_HOME configuration was 10 before. After changing to Java11, it will be fine.</p>\n"},{"tags":[],"owner":{"account_id":26524063,"reputation":11,"user_id":20157312,"display_name":"Josef Dula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684335298,"creation_date":1684335298,"answer_id":76273461,"question_id":72117858,"body_markdown":"create a file in root system.properties and add there\r\njava.runtime.version=17","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>create a file in root system.properties and add there\njava.runtime.version=17</p>\n"},{"tags":[],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686925467,"creation_date":1686925467,"answer_id":76491120,"question_id":72117858,"body_markdown":"Well, I faced a similar issue\r\n\r\n`Incompatible because this component declares a component for use during compile-time, compatible with Java 18 and the consumer needed a component for use during runtime, compatible with Java 17`\r\n\r\n**Context**: I imported my colleague&#39;s project which incorporates Gradle in the project.\r\n\r\nUpon opening it in VS code, I saw red squiggly lines. And although VS code&#39;s awesome awareness of detecting the build tool, the programming language and automatically suggesting the relevant plugins was a great help for a Gradle newbie like me, but some errors still persisted. And one of them was this.\r\n\r\nAfter skimming through basic concepts like Projects, Plugins, Tasks in the [official docs](https://docs.gradle.org/8.1.1/userguide/what_is_gradle.html), I could understand the error.\r\n\r\n**Fix**\r\nAnd the fix which worked for me was that in the Gradle Build script (`build.gradle`) in my main project, a property `sourceCompatibility` was set to 17. And I had build the project using jdk 18.\r\n\r\nThis property ensures to use a specific Java version when compiling Java source.\r\nWhen I change this to `18`, the project could be built.","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>Well, I faced a similar issue</p>\n<p><code>Incompatible because this component declares a component for use during compile-time, compatible with Java 18 and the consumer needed a component for use during runtime, compatible with Java 17</code></p>\n<p><strong>Context</strong>: I imported my colleague's project which incorporates Gradle in the project.</p>\n<p>Upon opening it in VS code, I saw red squiggly lines. And although VS code's awesome awareness of detecting the build tool, the programming language and automatically suggesting the relevant plugins was a great help for a Gradle newbie like me, but some errors still persisted. And one of them was this.</p>\n<p>After skimming through basic concepts like Projects, Plugins, Tasks in the <a href=\"https://docs.gradle.org/8.1.1/userguide/what_is_gradle.html\" rel=\"nofollow noreferrer\">official docs</a>, I could understand the error.</p>\n<p><strong>Fix</strong>\nAnd the fix which worked for me was that in the Gradle Build script (<code>build.gradle</code>) in my main project, a property <code>sourceCompatibility</code> was set to 17. And I had build the project using jdk 18.</p>\n<p>This property ensures to use a specific Java version when compiling Java source.\nWhen I change this to <code>18</code>, the project could be built.</p>\n"},{"tags":[],"owner":{"account_id":4839730,"reputation":134,"user_id":3905108,"display_name":"Payne Miller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692221583,"creation_date":1692221583,"answer_id":76917197,"question_id":72117858,"body_markdown":"For Kotlin programmers using IntelliJ IDEA: I encountered this error when setting up a new project in IntelliJ. I had to specify the Java version inside of `build.gradle`, like so: \r\n\r\nChange this\r\n\r\n```\r\nkotlin {\r\n    jvmToolchain(8) // The culprit is here. Targeting the wrong, older, Java version.\r\n}\r\n``` \r\n\r\nto this\r\n\r\n```\r\nkotlin {\r\n    jvmToolchain(17)\r\n}\r\n```","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>For Kotlin programmers using IntelliJ IDEA: I encountered this error when setting up a new project in IntelliJ. I had to specify the Java version inside of <code>build.gradle</code>, like so:</p>\n<p>Change this</p>\n<pre><code>kotlin {\n    jvmToolchain(8) // The culprit is here. Targeting the wrong, older, Java version.\n}\n</code></pre>\n<p>to this</p>\n<pre><code>kotlin {\n    jvmToolchain(17)\n}\n</code></pre>\n"}],"owner":{"account_id":14804062,"reputation":2121,"user_id":10691560,"display_name":"Thomas_SO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120971,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":72124026,"answer_count":11,"score":107,"last_activity_date":1692221583,"creation_date":1651689168,"question_id":72117858,"body_markdown":"In my build.gradle file I upgraded the version of one dependency (namely: com.db:microservice-commons).\r\nAfter loading the gradle changes, I get the following error message:\r\n\r\n```lang-none\r\n&gt; Build file &#39;C:\\Projects\\Container\\mschmidt\\mount\\booking-service\\standalone\\build.gradle&#39; line: 50\r\n\r\n   &gt; A problem occurred evaluating project &#39;:standalone&#39;.\r\n   &gt; Could not resolve all files for configuration &#39;:standalone:runtimeClasspath&#39;.\r\n   &gt; Could not resolve com.db:microservice-commons:2.4.1.\r\n     Required by:\r\n         project :standalone\r\n         project :standalone &gt; project :service\r\n      &gt; No matching variant of com.db:microservice-commons:2.4.1 was found. The consumer was configured to find a runtime of a library compatible with Java 10, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\r\n          - Variant &#39;apiElements&#39; capability com.db:microservice-commons:2.4.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 10\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about its target Java environment (preferred optimized for standard JVMs)\r\n          - Variant &#39;runtimeElements&#39; capability com.db:microservice-commons:2.4.1 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about its target Java environment (preferred optimized for standard JVMs)\r\n          - Variant &#39;samplessources&#39; capability com.db:microservice-commons:2.4.1:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about how its dependencies are found (required its dependencies declared externally)\r\n                  - Doesn&#39;t say anything about its target Java environment (preferred optimized for standard JVMs)\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 10)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about its usage (required a runtime)\r\n```\r\n\r\nLine 50+ of file &#39;C:\\Projects\\Container\\mschmidt\\mount\\booking-service\\standalone\\build.gradle&#39; looks as follows:\r\n\r\n```groovy\r\nmanifest {\r\n    def manifestClasspath = configurations.runtimeClasspath.collect { it.getName() }.join(&#39; &#39;)\r\n    attributes &#39;Archiver-Version&#39;: &#39;Plexus Archiver&#39;\r\n    attributes &#39;Build-Jdk&#39;: org.gradle.internal.jvm.Jvm.current()\r\n    attributes &#39;Main-Class&#39;: &#39;com.db.service.standalone.Standalone&#39;, &#39;Class-Path&#39;: manifestClasspath\r\n    }\r\n}\r\n```\r\n\r\nI have no clue what to make of this. Project JDK and Gradle JVM are set to Java 11.\r\nThis post here:\r\n    https://stackoverflow.com/questions/68087672/the-consumer-was-configured-to-find-a-runtime-of-a-library-compatible-with-java\r\n... pertains to the same problem but didn&#39;t help me.\r\n\r\nAny ideas what&#39;s going on here? ","title":"Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10","body":"<p>In my build.gradle file I upgraded the version of one dependency (namely: com.db:microservice-commons).\nAfter loading the gradle changes, I get the following error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Build file 'C:\\Projects\\Container\\mschmidt\\mount\\booking-service\\standalone\\build.gradle' line: 50\n\n   &gt; A problem occurred evaluating project ':standalone'.\n   &gt; Could not resolve all files for configuration ':standalone:runtimeClasspath'.\n   &gt; Could not resolve com.db:microservice-commons:2.4.1.\n     Required by:\n         project :standalone\n         project :standalone &gt; project :service\n      &gt; No matching variant of com.db:microservice-commons:2.4.1 was found. The consumer was configured to find a runtime of a library compatible with Java 10, packaged as a jar, preferably optimized for standard JVMs, and its dependencies declared externally but:\n          - Variant 'apiElements' capability com.db:microservice-commons:2.4.1 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 10\n              - Other compatible attribute:\n                  - Doesn't say anything about its target Java environment (preferred optimized for standard JVMs)\n          - Variant 'runtimeElements' capability com.db:microservice-commons:2.4.1 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 10\n              - Other compatible attribute:\n                  - Doesn't say anything about its target Java environment (preferred optimized for standard JVMs)\n          - Variant 'samplessources' capability com.db:microservice-commons:2.4.1:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about how its dependencies are found (required its dependencies declared externally)\n                  - Doesn't say anything about its target Java environment (preferred optimized for standard JVMs)\n                  - Doesn't say anything about its target Java version (required compatibility with Java 10)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about its usage (required a runtime)\n</code></pre>\n<p>Line 50+ of file 'C:\\Projects\\Container\\mschmidt\\mount\\booking-service\\standalone\\build.gradle' looks as follows:</p>\n<pre><code>manifest {\n    def manifestClasspath = configurations.runtimeClasspath.collect { it.getName() }.join(' ')\n    attributes 'Archiver-Version': 'Plexus Archiver'\n    attributes 'Build-Jdk': org.gradle.internal.jvm.Jvm.current()\n    attributes 'Main-Class': 'com.db.service.standalone.Standalone', 'Class-Path': manifestClasspath\n    }\n}\n</code></pre>\n<p>I have no clue what to make of this. Project JDK and Gradle JVM are set to Java 11.\nThis post here:\n<a href=\"https://stackoverflow.com/questions/68087672/the-consumer-was-configured-to-find-a-runtime-of-a-library-compatible-with-java\">The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally but:</a>\n... pertains to the same problem but didn't help me.</p>\n<p>Any ideas what's going on here?</p>\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"score":0,"creation_date":1692174177,"post_id":76911701,"comment_id":135586536,"body_markdown":"are you sure this is working outside the test? in order for jackson to be able to deserialize the request body, the DTO object must have no args constructor (I see you work with lombok so @NoArgsConstructor)","body":"are you sure this is working outside the test? in order for jackson to be able to deserialize the request body, the DTO object must have no args constructor (I see you work with lombok so @NoArgsConstructor)"},{"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"score":0,"creation_date":1692176085,"post_id":76911701,"comment_id":135586934,"body_markdown":"@LiorDerei yes, when I run `curl -X PUT -i -H &quot;Content-Type: application/json&quot; -d &#39;{&quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.com&quot;}&#39; http://localhost:8080/user`, I do get 200 ok response. Then I run `curl http://localhost:8080/users` and the name and the email did appear.","body":"@LiorDerei yes, when I run <code>curl -X PUT -i -H &quot;Content-Type: application&#47;json&quot; -d &#39;{&quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.com&quot;}&#39; http:&#47;&#47;localhost:8080&#47;user</code>, I do get 200 ok response. Then I run <code>curl http:&#47;&#47;localhost:8080&#47;users</code> and the name and the email did appear."}],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692176007,"creation_date":1692176007,"answer_id":76911988,"question_id":76911701,"body_markdown":"Your class `CreditCard` contains a field having the same name as a reserved keyword *user*.\r\n\r\n```\r\npublic class CreditCard {\r\n...\r\n\r\n    private int user; // the id of the user\r\n}\r\n```\r\n\r\nYou should change to `userId` for example.\r\n\r\n```\r\npublic class CreditCard {\r\n...\r\n\r\n    private int userId; // the id of the user\r\n}\r\n```","title":"String Boot test failed","body":"<p>Your class <code>CreditCard</code> contains a field having the same name as a reserved keyword <em>user</em>.</p>\n<pre><code>public class CreditCard {\n...\n\n    private int user; // the id of the user\n}\n</code></pre>\n<p>You should change to <code>userId</code> for example.</p>\n<pre><code>public class CreditCard {\n...\n\n    private int userId; // the id of the user\n}\n</code></pre>\n"}],"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692220958,"creation_date":1692173756,"question_id":76911701,"body_markdown":"Here is the GitHub repo of my Spring Boot application that I have trouble with: [click me](https://github.com/HanYuanHsu/shepherd-money/tree/master). \r\n\r\nI want to test the `createUser` method:\r\n```\r\n    /**\r\n     * creates a user entity with information given in the payload, stores the user entity in the database, and\r\n     * return 200 ok response with the id of the saved user\r\n     *\r\n     * @param payload user&#39;s information\r\n     * @return 200 ok response with the id of the saved user\r\n     */\r\n    @PutMapping(&quot;/user&quot;) // handles PUT requests\r\n    public ResponseEntity&lt;Integer&gt; createUser(@RequestBody CreateUserPayload payload) {\r\n        // create a user entity with information given in the payload\r\n        User newUser = new User(payload.getName(), payload.getEmail());\r\n\r\n        // store the user entity in the database\r\n        User savedUser = this.userRepository.save(newUser);\r\n\r\n        // create a ResponseEntity with http status &#39;ok&#39;\r\n        // and return it with the id of the saved user\r\n        return ResponseEntity.ok(savedUser.getId());\r\n    }\r\n```\r\nThe payload class looks like:\r\n```\r\n@Data\r\npublic class CreateUserPayload {\r\n\r\n    private String name;\r\n\r\n    private String email;\r\n}\r\n```\r\n\r\nThe `User` class looks like:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@Table(name = &quot;MyUser&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    private String name;\r\n\r\n    private String email;\r\n\r\n    // TODO: User&#39;s credit card\r\n    // HINT: A user can have one or more, or none at all. We want to be able to query credit cards by user\r\n    //       and user by a credit card.\r\n    private Set&lt;Integer&gt; creditCards = new HashSet&lt;Integer&gt;();\r\n\r\n    /**\r\n     * adds a credit card to this user\r\n     * @param cardId\r\n     */\r\n    public void addCreditCard(int cardId) {\r\n        creditCards.add(cardId);\r\n    }\r\n\r\n\r\n    public User(String name, String email) {\r\n        this.name = name;\r\n        this.email = email;\r\n    }\r\n\r\n    /*\r\n    public int getId() {\r\n        return this.id;\r\n    }\r\n\r\n     */\r\n}\r\n```\r\n\r\nHere is the test code. The user repository `ur` should call the save method and receive the name &quot;John&quot; and the email &quot;john@example.org&quot;:\r\n```\r\n @Test\r\n    public void shouldCreateUser() throws Exception {\r\n        mockMvc.perform(put(&quot;/user&quot;)\r\n                        .content(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;, \\&quot;email\\&quot;: \\&quot;john@example.org\\&quot;}&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                        .andExpect(status().isOk()\r\n                );\r\n\r\n        verify(ur).save(argThat(user -&gt; user.getName().equals(&quot;John&quot;) &amp;&amp;\r\n                user.getEmail().equals(&quot;john@example.org&quot;)));\r\n    }\r\n```\r\n\r\nHowever, this test didn&#39;t pass, and I got the following test result:\r\n```\r\n00:09:12.363 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [InterviewProjectApplicationTests]: using SpringBootContextLoader\r\n00:09:12.403 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.shepherdmoney.interviewproject.InterviewProjectApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n00:09:12.408 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.shepherdmoney.interviewproject.InterviewProjectApplicationTests]: InterviewProjectApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n00:09:12.768 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [InterviewProjectApplicationTests]: [DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer]\r\n00:09:13.353 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/mnt/c/Users/a0306/shepherd-money/build/classes/java/main/com/shepherdmoney/interviewproject/InterviewProjectApplication.class]\r\n00:09:13.364 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.shepherdmoney.interviewproject.InterviewProjectApplication for test class com.shepherdmoney.interviewproject.InterviewProjectApplicationTests\r\n00:09:14.623 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners for test class [InterviewProjectApplicationTests]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, EventPublishingTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\r\n00:09:14.637 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: class [InterviewProjectApplicationTests], class annotated with @DirtiesContext [false] with mode [null]\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.2)\r\n\r\n00:09:17.460 INFO  --- [    Test worker]   c.s.i.InterviewProjectApplicationTests:51  : Starting InterviewProjectApplicationTests using Java 17.0.8 with PID 1255 (started by hankevin in /mnt/c/Users/a0306/shepherd-money)\r\n00:09:17.472 INFO  --- [    Test worker]   c.s.i.InterviewProjectApplicationTests:630 : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n00:09:21.482 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:291 : Multiple Spring Data modules found, entering strict repository configuration mode\r\n00:09:21.483 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:138 : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n00:09:21.925 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:208 : Finished Spring Data repository scanning in 380 ms. Found 2 JPA repository interfaces.\r\n00:09:23.328 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:291 : Multiple Spring Data modules found, entering strict repository configuration mode\r\n00:09:23.328 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:138 : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n00:09:23.474 INFO  --- [    Test worker] .RepositoryConfigurationExtensionSupport:320 : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.shepherdmoney.interviewproject.repository.CreditCardRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n00:09:23.475 INFO  --- [    Test worker] .RepositoryConfigurationExtensionSupport:320 : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.shepherdmoney.interviewproject.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n00:09:23.475 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:208 : Finished Spring Data repository scanning in 146 ms. Found 0 JDBC repository interfaces.\r\n00:09:26.214 INFO  --- [    Test worker] trationDelegate$BeanPostProcessorChecker:409 : Bean &#39;org.springframework.ws.config.annotation.DelegatingWsConfiguration&#39; of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n00:09:26.373 INFO  --- [    Test worker] .w.s.a.s.AnnotationActionEndpointMapping:239 : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\r\n00:09:27.589 INFO  --- [    Test worker]  o.hibernate.jpa.internal.util.LogHelper:31  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n00:09:28.269 INFO  --- [    Test worker]                    org.hibernate.Version:44  : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n00:09:30.776 WARN  --- [    Test worker]            org.hibernate.orm.deprecation:626 : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n00:09:32.569 INFO  --- [    Test worker]       com.zaxxer.hikari.HikariDataSource:110 : HikariPool-1 - Starting...\r\n00:09:35.043 INFO  --- [    Test worker]        com.zaxxer.hikari.pool.HikariPool:565 : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:~/database user=SA\r\n00:09:35.059 INFO  --- [    Test worker]       com.zaxxer.hikari.HikariDataSource:123 : HikariPool-1 - Start completed.\r\n00:09:35.303 INFO  --- [    Test worker]                              SQL dialect:66  : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n00:09:43.571 WARN  --- [    Test worker]     o.h.t.s.i.ExceptionHandlerLoggedImpl:27  : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table if exists credit_card add column user integer not null&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table if exists credit_card add column user integer not null&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:608)\r\n\tat \r\n\t... common frames omitted\r\n00:09:43.701 INFO  --- [    Test worker]       o.h.e.t.j.p.i.JtaPlatformInitiator:51  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n00:09:43.842 INFO  --- [    Test worker] j.LocalContainerEntityManagerFactoryBean:437 : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n00:09:46.523 WARN  --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration:227 : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n00:09:50.524 INFO  --- [    Test worker]    o.s.b.a.h2.H2ConsoleAutoConfiguration:88  : H2 console available at &#39;/h2-ui&#39;. Database available at &#39;jdbc:h2:file:~/database&#39;\r\n00:09:50.862 INFO  --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext:435 : Initializing Spring TestDispatcherServlet &#39;&#39;\r\n00:09:50.862 INFO  --- [    Test worker]  o.s.t.web.servlet.TestDispatcherServlet:532 : Initializing Servlet &#39;&#39;\r\n00:09:50.865 INFO  --- [    Test worker]  o.s.t.web.servlet.TestDispatcherServlet:554 : Completed initialization in 0 ms\r\n00:09:50.926 INFO  --- [    Test worker]   c.s.i.InterviewProjectApplicationTests:57  : Started InterviewProjectApplicationTests in 35.689 seconds (process running for 43.199)\r\n\r\nMockHttpServletRequest:\r\n      HTTP Method = PUT\r\n      Request URI = /user\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;45&quot;]\r\n             Body = {&quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.org&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.shepherdmoney.interviewproject.controller.UserController\r\n           Method = com.shepherdmoney.interviewproject.controller.UserController#createUser(CreateUserPayload)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = [Content-Type:&quot;application/json&quot;]\r\n     Content type = application/json\r\n             Body = 302\r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n```\r\n\r\nCan somebody interpret this result? I do not know where the problem is. Much appreciated.\r\n\r\nUpdate: actually, when I start the server by running `./gradlew bootRun`, I get the following error message:\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table if exists credit_card add column user integer not null&quot; via JDBC Statement\r\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587)\r\n        at ... omitted\r\n```\r\nAccording to the phrase &quot;alter table if exists credit_card add column user integer not null&quot;, I am guessing this is a problem related to the database. But I don&#39;t know anything further...\r\n\r\nUpdate 2: according to @WLefever, I changed `user` to `userId`. But the method still didn&#39;t pass the test. The report I got was shorter though. It looks like:\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = PUT\r\n      Request URI = /user\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;45&quot;]\r\n             Body = {&quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.org&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.shepherdmoney.interviewproject.controller.UserController\r\n           Method = com.shepherdmoney.interviewproject.controller.UserController#createUser(CreateUserPayload)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = [Content-Type:&quot;application/json&quot;]\r\n     Content type = application/json\r\n             Body = 452\r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n```\r\n","title":"String Boot test failed","body":"<p>Here is the GitHub repo of my Spring Boot application that I have trouble with: <a href=\"https://github.com/HanYuanHsu/shepherd-money/tree/master\" rel=\"nofollow noreferrer\">click me</a>.</p>\n<p>I want to test the <code>createUser</code> method:</p>\n<pre><code>    /**\n     * creates a user entity with information given in the payload, stores the user entity in the database, and\n     * return 200 ok response with the id of the saved user\n     *\n     * @param payload user's information\n     * @return 200 ok response with the id of the saved user\n     */\n    @PutMapping(&quot;/user&quot;) // handles PUT requests\n    public ResponseEntity&lt;Integer&gt; createUser(@RequestBody CreateUserPayload payload) {\n        // create a user entity with information given in the payload\n        User newUser = new User(payload.getName(), payload.getEmail());\n\n        // store the user entity in the database\n        User savedUser = this.userRepository.save(newUser);\n\n        // create a ResponseEntity with http status 'ok'\n        // and return it with the id of the saved user\n        return ResponseEntity.ok(savedUser.getId());\n    }\n</code></pre>\n<p>The payload class looks like:</p>\n<pre><code>@Data\npublic class CreateUserPayload {\n\n    private String name;\n\n    private String email;\n}\n</code></pre>\n<p>The <code>User</code> class looks like:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@Table(name = &quot;MyUser&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n\n    private String email;\n\n    // TODO: User's credit card\n    // HINT: A user can have one or more, or none at all. We want to be able to query credit cards by user\n    //       and user by a credit card.\n    private Set&lt;Integer&gt; creditCards = new HashSet&lt;Integer&gt;();\n\n    /**\n     * adds a credit card to this user\n     * @param cardId\n     */\n    public void addCreditCard(int cardId) {\n        creditCards.add(cardId);\n    }\n\n\n    public User(String name, String email) {\n        this.name = name;\n        this.email = email;\n    }\n\n    /*\n    public int getId() {\n        return this.id;\n    }\n\n     */\n}\n</code></pre>\n<p>Here is the test code. The user repository <code>ur</code> should call the save method and receive the name &quot;John&quot; and the email &quot;john@example.org&quot;:</p>\n<pre><code> @Test\n    public void shouldCreateUser() throws Exception {\n        mockMvc.perform(put(&quot;/user&quot;)\n                        .content(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;, \\&quot;email\\&quot;: \\&quot;john@example.org\\&quot;}&quot;)\n                        .contentType(MediaType.APPLICATION_JSON))\n                        .andExpect(status().isOk()\n                );\n\n        verify(ur).save(argThat(user -&gt; user.getName().equals(&quot;John&quot;) &amp;&amp;\n                user.getEmail().equals(&quot;john@example.org&quot;)));\n    }\n</code></pre>\n<p>However, this test didn't pass, and I got the following test result:</p>\n<pre><code>00:09:12.363 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [InterviewProjectApplicationTests]: using SpringBootContextLoader\n00:09:12.403 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.shepherdmoney.interviewproject.InterviewProjectApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n00:09:12.408 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.shepherdmoney.interviewproject.InterviewProjectApplicationTests]: InterviewProjectApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n00:09:12.768 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [InterviewProjectApplicationTests]: [DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer, ImportsContextCustomizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer]\n00:09:13.353 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/mnt/c/Users/a0306/shepherd-money/build/classes/java/main/com/shepherdmoney/interviewproject/InterviewProjectApplication.class]\n00:09:13.364 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.shepherdmoney.interviewproject.InterviewProjectApplication for test class com.shepherdmoney.interviewproject.InterviewProjectApplicationTests\n00:09:14.623 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners for test class [InterviewProjectApplicationTests]: [ServletTestExecutionListener, DirtiesContextBeforeModesTestExecutionListener, ApplicationEventsTestExecutionListener, MockitoTestExecutionListener, DependencyInjectionTestExecutionListener, DirtiesContextTestExecutionListener, TransactionalTestExecutionListener, SqlScriptsTestExecutionListener, EventPublishingTestExecutionListener, RestDocsTestExecutionListener, MockRestServiceServerResetTestExecutionListener, MockMvcPrintOnlyOnFailureTestExecutionListener, WebDriverTestExecutionListener, MockWebServiceServerTestExecutionListener, ResetMocksTestExecutionListener]\n00:09:14.637 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: class [InterviewProjectApplicationTests], class annotated with @DirtiesContext [false] with mode [null]\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.2)\n\n00:09:17.460 INFO  --- [    Test worker]   c.s.i.InterviewProjectApplicationTests:51  : Starting InterviewProjectApplicationTests using Java 17.0.8 with PID 1255 (started by hankevin in /mnt/c/Users/a0306/shepherd-money)\n00:09:17.472 INFO  --- [    Test worker]   c.s.i.InterviewProjectApplicationTests:630 : No active profile set, falling back to 1 default profile: &quot;default&quot;\n00:09:21.482 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:291 : Multiple Spring Data modules found, entering strict repository configuration mode\n00:09:21.483 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:138 : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n00:09:21.925 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:208 : Finished Spring Data repository scanning in 380 ms. Found 2 JPA repository interfaces.\n00:09:23.328 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:291 : Multiple Spring Data modules found, entering strict repository configuration mode\n00:09:23.328 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:138 : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n00:09:23.474 INFO  --- [    Test worker] .RepositoryConfigurationExtensionSupport:320 : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.shepherdmoney.interviewproject.repository.CreditCardRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n00:09:23.475 INFO  --- [    Test worker] .RepositoryConfigurationExtensionSupport:320 : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.shepherdmoney.interviewproject.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n00:09:23.475 INFO  --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate:208 : Finished Spring Data repository scanning in 146 ms. Found 0 JDBC repository interfaces.\n00:09:26.214 INFO  --- [    Test worker] trationDelegate$BeanPostProcessorChecker:409 : Bean 'org.springframework.ws.config.annotation.DelegatingWsConfiguration' of type [org.springframework.ws.config.annotation.DelegatingWsConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n00:09:26.373 INFO  --- [    Test worker] .w.s.a.s.AnnotationActionEndpointMapping:239 : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]\n00:09:27.589 INFO  --- [    Test worker]  o.hibernate.jpa.internal.util.LogHelper:31  : HHH000204: Processing PersistenceUnitInfo [name: default]\n00:09:28.269 INFO  --- [    Test worker]                    org.hibernate.Version:44  : HHH000412: Hibernate ORM core version 6.1.6.Final\n00:09:30.776 WARN  --- [    Test worker]            org.hibernate.orm.deprecation:626 : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n00:09:32.569 INFO  --- [    Test worker]       com.zaxxer.hikari.HikariDataSource:110 : HikariPool-1 - Starting...\n00:09:35.043 INFO  --- [    Test worker]        com.zaxxer.hikari.pool.HikariPool:565 : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:~/database user=SA\n00:09:35.059 INFO  --- [    Test worker]       com.zaxxer.hikari.HikariDataSource:123 : HikariPool-1 - Start completed.\n00:09:35.303 INFO  --- [    Test worker]                              SQL dialect:66  : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n00:09:43.571 WARN  --- [    Test worker]     o.h.t.s.i.ExceptionHandlerLoggedImpl:27  : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table if exists credit_card add column user integer not null&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table if exists credit_card add column user integer not null&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:608)\n    at \n    ... common frames omitted\n00:09:43.701 INFO  --- [    Test worker]       o.h.e.t.j.p.i.JtaPlatformInitiator:51  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n00:09:43.842 INFO  --- [    Test worker] j.LocalContainerEntityManagerFactoryBean:437 : Initialized JPA EntityManagerFactory for persistence unit 'default'\n00:09:46.523 WARN  --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration:227 : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n00:09:50.524 INFO  --- [    Test worker]    o.s.b.a.h2.H2ConsoleAutoConfiguration:88  : H2 console available at '/h2-ui'. Database available at 'jdbc:h2:file:~/database'\n00:09:50.862 INFO  --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext:435 : Initializing Spring TestDispatcherServlet ''\n00:09:50.862 INFO  --- [    Test worker]  o.s.t.web.servlet.TestDispatcherServlet:532 : Initializing Servlet ''\n00:09:50.865 INFO  --- [    Test worker]  o.s.t.web.servlet.TestDispatcherServlet:554 : Completed initialization in 0 ms\n00:09:50.926 INFO  --- [    Test worker]   c.s.i.InterviewProjectApplicationTests:57  : Started InterviewProjectApplicationTests in 35.689 seconds (process running for 43.199)\n\nMockHttpServletRequest:\n      HTTP Method = PUT\n      Request URI = /user\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;45&quot;]\n             Body = {&quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.org&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.shepherdmoney.interviewproject.controller.UserController\n           Method = com.shepherdmoney.interviewproject.controller.UserController#createUser(CreateUserPayload)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = 302\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>Can somebody interpret this result? I do not know where the problem is. Much appreciated.</p>\n<p>Update: actually, when I start the server by running <code>./gradlew bootRun</code>, I get the following error message:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table if exists credit_card add column user integer not null&quot; via JDBC Statement\n        at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n        at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587)\n        at ... omitted\n</code></pre>\n<p>According to the phrase &quot;alter table if exists credit_card add column user integer not null&quot;, I am guessing this is a problem related to the database. But I don't know anything further...</p>\n<p>Update 2: according to @WLefever, I changed <code>user</code> to <code>userId</code>. But the method still didn't pass the test. The report I got was shorter though. It looks like:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = PUT\n      Request URI = /user\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;45&quot;]\n             Body = {&quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.org&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.shepherdmoney.interviewproject.controller.UserController\n           Method = com.shepherdmoney.interviewproject.controller.UserController#createUser(CreateUserPayload)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = 452\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce","hive"],"answers":[{"tags":[],"owner":{"account_id":6840333,"reputation":279,"user_id":5260951,"display_name":"seneque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440752316,"creation_date":1440752316,"answer_id":32267156,"question_id":32266961,"body_markdown":"It is a classpath problem\r\nRoot cause is java.lang.ClassNotFoundException: Class com.cloudera.hive.serde.JSONSerDe\r\n\r\nyou can have a look here to add hive-serdes: https://github.com/cloudera/cdh-twitter-example","title":"Hive Error : FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask","body":"<p>It is a classpath problem\nRoot cause is java.lang.ClassNotFoundException: Class com.cloudera.hive.serde.JSONSerDe</p>\n\n<p>you can have a look here to add hive-serdes: <a href=\"https://github.com/cloudera/cdh-twitter-example\" rel=\"nofollow\">https://github.com/cloudera/cdh-twitter-example</a></p>\n"}],"owner":{"account_id":6420919,"reputation":3,"user_id":4977685,"display_name":"Ankit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692219800,"creation_date":1440751694,"question_id":32266961,"body_markdown":"I have got twitter data using flume on HDFS. Have 3 node cluster and MySQL Metastore for hive.\r\n\r\nWhen i execute below query\r\n\r\n    select user_name.screen_name, user_name.followers_count from BBMP_election_tweets limit 10;\r\n\r\nIt is giving proper results.\r\n\r\nBut if i run below query\r\n\r\n    select user_name.screen_name, user_name.followers_count c from BBMP_election_tweets order by c desc;\r\n\r\nIt throws below error\r\n\r\n&gt; Query ID = hduser_20150827102628_15a405ae-59a4-4c90-aa47-045d58c62f02\r\n&gt; Total jobs = 1 Launching Job 1 out of 1 Number of reduce tasks\r\n&gt; determined at compile time: 1 In order to change the average load for\r\n&gt; a reducer (in bytes):   set\r\n&gt; hive.exec.reducers.bytes.per.reducer=&lt;number&gt; In order to limit the\r\n&gt; maximum number of reducers:   set hive.exec.reducers.max=&lt;number&gt; In\r\n&gt; order to set a constant number of reducers:   set\r\n&gt; mapreduce.job.reduces=&lt;number&gt; Starting Job = job_1439458788229_0016,\r\n&gt; Tracking URL =\r\n&gt; http://hdmaster:8088/proxy/application_1439458788229_0016/ Kill\r\n&gt; Command = /usr/local/hadoop/bin/hadoop job  -kill\r\n&gt; job_1439458788229_0016 Hadoop job information for Stage-1: number of\r\n&gt; mappers: 2; number of reducers: 1 2015-08-27 10:27:33,567 Stage-1 map\r\n&gt; = 0%,  reduce = 0% 2015-08-27 10:27:43,908 Stage-1 map = 50%,  reduce = 0% 2015-08-27 10:27:45,015 Stage-1 map = 0%,  reduce = 0% 2015-08-27 10:28:31,011 Stage-1 map = 100%,  reduce = 100% Ended Job =\r\n&gt; job_1439458788229_0016 with errors Error during job, obtaining\r\n&gt; debugging information... Examining task ID:\r\n&gt; task_1439458788229_0016_m_000001 (and more) from job\r\n&gt; job_1439458788229_0016\r\n&gt; \r\n&gt; Task with the most failures(4):\r\n&gt; ----- Task ID:   task_1439458788229_0016_m_000001\r\n&gt; \r\n&gt; URL:  \r\n&gt; http://hdmaster:8088/taskdetails.jsp?jobid=job_1439458788229_0016&amp;tipid=task_1439458788229_0016_m_000001\r\n&gt; ----- Diagnostic Messages for this Task: Error: java.lang.RuntimeException: Error in configuring object\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\r\n&gt;         at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:446)\r\n&gt;         at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\r\n&gt;         at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)\r\n&gt;         at java.security.AccessController.doPrivileged(Native Method)\r\n&gt;         at javax.security.auth.Subject.doAs(Subject.java:415)\r\n&gt;         at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\r\n&gt;         at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158) Caused by: java.lang.reflect.InvocationTargetException\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt;         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         at java.lang.reflect.Method.invoke(Method.java:606)\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\r\n&gt;         ... 9 more Caused by: java.lang.RuntimeException: Error in configuring object\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\r\n&gt;         at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\r\n&gt;         ... 14 more Caused by: java.lang.reflect.InvocationTargetException\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt;         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         at java.lang.reflect.Method.invoke(Method.java:606)\r\n&gt;         at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\r\n&gt;         ... 17 more Caused by: java.lang.RuntimeException: Map operator initialization failed\r\n&gt;         at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:140)\r\n&gt;         ... 22 more Caused by: org.apache.hadoop.hive.ql.metadata.HiveException:\r\n&gt; java.lang.ClassNotFoundException: Class\r\n&gt; com.cloudera.hive.serde.JSONSerDe not found\r\n&gt;         at org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:328)\r\n&gt;         at org.apache.hadoop.hive.ql.exec.MapOperator.setChildren(MapOperator.java:338)\r\n&gt;         at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:109)\r\n&gt;         ... 22 more Caused by: java.lang.ClassNotFoundException: Class com.cloudera.hive.serde.JSONSerDe not found\r\n&gt;         at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\r\n&gt;         at org.apache.hadoop.hive.ql.plan.PartitionDesc.getDeserializer(PartitionDesc.java:141)\r\n&gt;         at org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:302)\r\n&gt;         ... 24 more\r\n&gt; \r\n&gt; \r\n&gt; FAILED: Execution Error, return code 2 from\r\n&gt; org.apache.hadoop.hive.ql.exec.mr.MapRedTask MapReduce Jobs Launched:\r\n&gt; Stage-Stage-1: Map: 2  Reduce: 1   HDFS Read: 0 HDFS Write: 0 FAIL\r\n&gt; Total MapReduce CPU Time Spent: 0 msec\r\n\r\n\r\n**When checked the logs created. It gives below message**\r\n\r\n&gt; 2015-08-27 10:28:48,852 INFO [main]\r\n&gt; org.apache.hadoop.mapred.YarnChild: Kind: mapreduce.job, Service:\r\n&gt; job_1439458788229_0016, Ident:\r\n&gt; (org.apache.hadoop.mapreduce.security.token.JobTokenIdentifier@988145f)\r\n&gt; 2015-08-27 10:28:49,023 INFO [main]\r\n&gt; org.apache.hadoop.mapred.YarnChild: Sleeping for 0ms before retrying\r\n&gt; again. Got null now. 2015-08-27 10:28:49,627 INFO [main]\r\n&gt; org.apache.hadoop.mapred.YarnChild: mapreduce.cluster.local.dir for\r\n&gt; child:\r\n&gt; /tmp/hadoop-hduser/nm-local-dir/usercache/hduser/appcache/application_1439458788229_0016\r\n&gt; 2015-08-27 10:28:50,363 INFO [main]\r\n&gt; org.apache.hadoop.conf.Configuration.deprecation: session.id is\r\n&gt; deprecated. Instead, use dfs.metrics.session-id 2015-08-27\r\n&gt; 10:28:51,186 INFO [main] org.apache.hadoop.mapred.Task:  Using\r\n&gt; ResourceCalculatorProcessTree : [ ] 2015-08-27 10:28:51,534 INFO\r\n&gt; [main] org.apache.hadoop.mapred.MapTask: Processing split:\r\n&gt; Paths:/user/flume/tweets/BBMP_elections/2015/08/25/11/FlumeData.1440484157685:0+52974,/user/flume/tweets/BBMP_elections/2015/08/25/11/FlumeData.1440484188899:0+20119InputFormatClass:\r\n&gt; org.apache.hadoop.mapred.TextInputFormat\r\n&gt; \r\n&gt; 2015-08-27 10:28:51,701 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.Utilities: PLAN PATH =\r\n&gt; hdfs://hdmaster:8020/tmp/hive/hduser/55daf291-b44e-414b-b3a5-e326134f9f24/hive_2015-08-27_10-26-28_312_5076847637673296334-1/-mr-10004/6e310852-ea63-4789-93f1-754147923e7f/map.xml\r\n&gt; 2015-08-27 10:28:51,701 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.Utilities: ***************non-local\r\n&gt; mode*************** 2015-08-27 10:28:51,701 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.Utilities: local path =\r\n&gt; hdfs://hdmaster:8020/tmp/hive/hduser/55daf291-b44e-414b-b3a5-e326134f9f24/hive_2015-08-27_10-26-28_312_5076847637673296334-1/-mr-10004/6e310852-ea63-4789-93f1-754147923e7f/map.xml\r\n&gt; 2015-08-27 10:28:51,701 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.Utilities: Open file to read in plan:\r\n&gt; hdfs://hdmaster:8020/tmp/hive/hduser/55daf291-b44e-414b-b3a5-e326134f9f24/hive_2015-08-27_10-26-28_312_5076847637673296334-1/-mr-10004/6e310852-ea63-4789-93f1-754147923e7f/map.xml\r\n&gt; 2015-08-27 10:28:51,719 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.log.PerfLogger: &lt;PERFLOG\r\n&gt; method=deserializePlan from=org.apache.hadoop.hive.ql.exec.Utilities&gt;\r\n&gt; 2015-08-27 10:28:51,720 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.Utilities: Deserializing MapWork via\r\n&gt; kryo 2015-08-27 10:28:52,043 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.log.PerfLogger: &lt;/PERFLOG\r\n&gt; method=deserializePlan start=1440651531719 end=1440651532043\r\n&gt; duration=324 from=org.apache.hadoop.hive.ql.exec.Utilities&gt; 2015-08-27\r\n&gt; 10:28:52,080 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing\r\n&gt; file\r\n&gt; hdfs://hdmaster:8020/user/flume/tweets/BBMP_elections/2015/08/25/11/FlumeData.1440484157685\r\n&gt; 2015-08-27 10:28:52,080 INFO [main]\r\n&gt; org.apache.hadoop.conf.Configuration.deprecation: map.input.file is\r\n&gt; deprecated. Instead, use mapreduce.map.input.file 2015-08-27\r\n&gt; 10:28:52,080 INFO [main]\r\n&gt; org.apache.hadoop.conf.Configuration.deprecation: map.input.start is\r\n&gt; deprecated. Instead, use mapreduce.map.input.start 2015-08-27\r\n&gt; 10:28:52,080 INFO [main]\r\n&gt; org.apache.hadoop.conf.Configuration.deprecation: map.input.length is\r\n&gt; deprecated. Instead, use mapreduce.map.input.length 2015-08-27\r\n&gt; 10:28:52,080 INFO [main] org.apache.hadoop.mapred.MapTask:\r\n&gt; numReduceTasks: 1 2015-08-27 10:28:52,228 INFO [main]\r\n&gt; org.apache.hadoop.mapred.MapTask: (EQUATOR) 0 kvi 26214396(104857584)\r\n&gt; 2015-08-27 10:28:52,228 INFO [main] org.apache.hadoop.mapred.MapTask:\r\n&gt; mapreduce.task.io.sort.mb: 100 2015-08-27 10:28:52,228 INFO [main]\r\n&gt; org.apache.hadoop.mapred.MapTask: soft limit at 83886080 2015-08-27\r\n&gt; 10:28:52,228 INFO [main] org.apache.hadoop.mapred.MapTask: bufstart =\r\n&gt; 0; bufvoid = 104857600 2015-08-27 10:28:52,228 INFO [main]\r\n&gt; org.apache.hadoop.mapred.MapTask: kvstart = 26214396; length = 6553600\r\n&gt; \r\n&gt; \r\n&gt; 2015-08-27 10:28:52,243 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.MapOperator: Initializing operator\r\n&gt; MAP[3] 2015-08-27 10:28:52,243 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.MapOperator: Initialization Done 3 MAP\r\n&gt; 2015-08-27 10:28:52,243 INFO [main]\r\n&gt; org.apache.hadoop.hive.ql.exec.MapOperator: Operator 3 MAP initialized\r\n&gt; 2015-08-27 10:28:52,262 WARN [main]\r\n&gt; org.apache.hadoop.mapred.YarnChild: Exception running child :\r\n&gt; java.lang.RuntimeException: Error in configuring object \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\r\n&gt; \tat org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:446)\r\n&gt; \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:343) \tat\r\n&gt; org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; javax.security.auth.Subject.doAs(Subject.java:415) \tat\r\n&gt; org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\r\n&gt; \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158) Caused\r\n&gt; by: java.lang.reflect.InvocationTargetException \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:606) \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\r\n&gt; \t... 9 more Caused by: java.lang.RuntimeException: Error in\r\n&gt; configuring object \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\r\n&gt; \tat org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\r\n&gt; \t... 14 more Caused by: java.lang.reflect.InvocationTargetException\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:606) \tat\r\n&gt; org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\r\n&gt; \t... 17 more Caused by: java.lang.RuntimeException: Map operator\r\n&gt; initialization failed \tat\r\n&gt; org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:140)\r\n&gt; \t... 22 more Caused by:\r\n&gt; org.apache.hadoop.hive.ql.metadata.HiveException:\r\n&gt; java.lang.ClassNotFoundException: Class\r\n&gt; com.cloudera.hive.serde.JSONSerDe not found \tat\r\n&gt; org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:328)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.hive.ql.exec.MapOperator.setChildren(MapOperator.java:338)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:109)\r\n&gt; \t... 22 more Caused by: java.lang.ClassNotFoundException: Class\r\n&gt; com.cloudera.hive.serde.JSONSerDe not found \tat\r\n&gt; org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.hive.ql.plan.PartitionDesc.getDeserializer(PartitionDesc.java:141)\r\n&gt; \tat\r\n&gt; org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:302)\r\n&gt; \t... 24 more\r\n&gt; \r\n&gt; 2015-08-27 10:28:52,269 INFO [main] org.apache.hadoop.mapred.Task:\r\n&gt; Runnning cleanup for the task 2015-08-27 10:28:52,278 INFO [main]\r\n&gt; org.apache.hadoop.metrics2.impl.MetricsSystemImpl: Stopping MapTask\r\n&gt; metrics system... 2015-08-27 10:28:52,278 INFO [main]\r\n&gt; org.apache.hadoop.metrics2.impl.MetricsSystemImpl: MapTask metrics\r\n&gt; system stopped. 2015-08-27 10:28:52,279 INFO [main]\r\n&gt; org.apache.hadoop.metrics2.impl.MetricsSystemImpl: MapTask metrics\r\n&gt; system shutdown complete.\r\n\r\n\r\n\r\nPlease suggest. How can this issue be resolved. and why is it occuring.\r\n\r\nThanks","title":"Hive Error : FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask","body":"<p>I have got twitter data using flume on HDFS. Have 3 node cluster and MySQL Metastore for hive.</p>\n\n<p>When i execute below query</p>\n\n<pre><code>select user_name.screen_name, user_name.followers_count from BBMP_election_tweets limit 10;\n</code></pre>\n\n<p>It is giving proper results.</p>\n\n<p>But if i run below query</p>\n\n<pre><code>select user_name.screen_name, user_name.followers_count c from BBMP_election_tweets order by c desc;\n</code></pre>\n\n<p>It throws below error</p>\n\n<blockquote>\n  <p>Query ID = hduser_20150827102628_15a405ae-59a4-4c90-aa47-045d58c62f02\n  Total jobs = 1 Launching Job 1 out of 1 Number of reduce tasks\n  determined at compile time: 1 In order to change the average load for\n  a reducer (in bytes):   set\n  hive.exec.reducers.bytes.per.reducer= In order to limit the\n  maximum number of reducers:   set hive.exec.reducers.max= In\n  order to set a constant number of reducers:   set\n  mapreduce.job.reduces= Starting Job = job_1439458788229_0016,\n  Tracking URL =\n  <a href=\"http://hdmaster:8088/proxy/application_1439458788229_0016/\" rel=\"nofollow\">http://hdmaster:8088/proxy/application_1439458788229_0016/</a> Kill\n  Command = /usr/local/hadoop/bin/hadoop job  -kill\n  job_1439458788229_0016 Hadoop job information for Stage-1: number of\n  mappers: 2; number of reducers: 1 2015-08-27 10:27:33,567 Stage-1 map\n  = 0%,  reduce = 0% 2015-08-27 10:27:43,908 Stage-1 map = 50%,  reduce = 0% 2015-08-27 10:27:45,015 Stage-1 map = 0%,  reduce = 0% 2015-08-27 10:28:31,011 Stage-1 map = 100%,  reduce = 100% Ended Job =\n  job_1439458788229_0016 with errors Error during job, obtaining\n  debugging information... Examining task ID:\n  task_1439458788229_0016_m_000001 (and more) from job\n  job_1439458788229_0016</p>\n  \n  <p>Task with the most failures(4):\n  ----- Task ID:   task_1439458788229_0016_m_000001</p>\n  \n  <p>URL:<br>\n  <a href=\"http://hdmaster:8088/taskdetails.jsp?jobid=job_1439458788229_0016&amp;tipid=task_1439458788229_0016_m_000001\" rel=\"nofollow\">http://hdmaster:8088/taskdetails.jsp?jobid=job_1439458788229_0016&amp;tipid=task_1439458788229_0016_m_000001</a>\n  ----- Diagnostic Messages for this Task: Error: java.lang.RuntimeException: Error in configuring object\n          at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n          at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n          at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n          at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:446)\n          at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)\n          at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)\n          at java.security.AccessController.doPrivileged(Native Method)\n          at javax.security.auth.Subject.doAs(Subject.java:415)\n          at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\n          at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158) Caused by: java.lang.reflect.InvocationTargetException\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n          at java.lang.reflect.Method.invoke(Method.java:606)\n          at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n          ... 9 more Caused by: java.lang.RuntimeException: Error in configuring object\n          at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n          at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n          at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n          at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n          ... 14 more Caused by: java.lang.reflect.InvocationTargetException\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n          at java.lang.reflect.Method.invoke(Method.java:606)\n          at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n          ... 17 more Caused by: java.lang.RuntimeException: Map operator initialization failed\n          at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:140)\n          ... 22 more Caused by: org.apache.hadoop.hive.ql.metadata.HiveException:\n  java.lang.ClassNotFoundException: Class\n  com.cloudera.hive.serde.JSONSerDe not found\n          at org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:328)\n          at org.apache.hadoop.hive.ql.exec.MapOperator.setChildren(MapOperator.java:338)\n          at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:109)\n          ... 22 more Caused by: java.lang.ClassNotFoundException: Class com.cloudera.hive.serde.JSONSerDe not found\n          at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\n          at org.apache.hadoop.hive.ql.plan.PartitionDesc.getDeserializer(PartitionDesc.java:141)\n          at org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:302)\n          ... 24 more</p>\n  \n  <p>FAILED: Execution Error, return code 2 from\n  org.apache.hadoop.hive.ql.exec.mr.MapRedTask MapReduce Jobs Launched:\n  Stage-Stage-1: Map: 2  Reduce: 1   HDFS Read: 0 HDFS Write: 0 FAIL\n  Total MapReduce CPU Time Spent: 0 msec</p>\n</blockquote>\n\n<p><strong>When checked the logs created. It gives below message</strong></p>\n\n<blockquote>\n  <p>2015-08-27 10:28:48,852 INFO [main]\n  org.apache.hadoop.mapred.YarnChild: Kind: mapreduce.job, Service:\n  job_1439458788229_0016, Ident:\n  (org.apache.hadoop.mapreduce.security.token.JobTokenIdentifier@988145f)\n  2015-08-27 10:28:49,023 INFO [main]\n  org.apache.hadoop.mapred.YarnChild: Sleeping for 0ms before retrying\n  again. Got null now. 2015-08-27 10:28:49,627 INFO [main]\n  org.apache.hadoop.mapred.YarnChild: mapreduce.cluster.local.dir for\n  child:\n  /tmp/hadoop-hduser/nm-local-dir/usercache/hduser/appcache/application_1439458788229_0016\n  2015-08-27 10:28:50,363 INFO [main]\n  org.apache.hadoop.conf.Configuration.deprecation: session.id is\n  deprecated. Instead, use dfs.metrics.session-id 2015-08-27\n  10:28:51,186 INFO [main] org.apache.hadoop.mapred.Task:  Using\n  ResourceCalculatorProcessTree : [ ] 2015-08-27 10:28:51,534 INFO\n  [main] org.apache.hadoop.mapred.MapTask: Processing split:\n  Paths:/user/flume/tweets/BBMP_elections/2015/08/25/11/FlumeData.1440484157685:0+52974,/user/flume/tweets/BBMP_elections/2015/08/25/11/FlumeData.1440484188899:0+20119InputFormatClass:\n  org.apache.hadoop.mapred.TextInputFormat</p>\n  \n  <p>2015-08-27 10:28:51,701 INFO [main]\n  org.apache.hadoop.hive.ql.exec.Utilities: PLAN PATH =\n  hdfs://hdmaster:8020/tmp/hive/hduser/55daf291-b44e-414b-b3a5-e326134f9f24/hive_2015-08-27_10-26-28_312_5076847637673296334-1/-mr-10004/6e310852-ea63-4789-93f1-754147923e7f/map.xml\n  2015-08-27 10:28:51,701 INFO [main]\n  org.apache.hadoop.hive.ql.exec.Utilities: ***************non-local\n  mode*************** 2015-08-27 10:28:51,701 INFO [main]\n  org.apache.hadoop.hive.ql.exec.Utilities: local path =\n  hdfs://hdmaster:8020/tmp/hive/hduser/55daf291-b44e-414b-b3a5-e326134f9f24/hive_2015-08-27_10-26-28_312_5076847637673296334-1/-mr-10004/6e310852-ea63-4789-93f1-754147923e7f/map.xml\n  2015-08-27 10:28:51,701 INFO [main]\n  org.apache.hadoop.hive.ql.exec.Utilities: Open file to read in plan:\n  hdfs://hdmaster:8020/tmp/hive/hduser/55daf291-b44e-414b-b3a5-e326134f9f24/hive_2015-08-27_10-26-28_312_5076847637673296334-1/-mr-10004/6e310852-ea63-4789-93f1-754147923e7f/map.xml\n  2015-08-27 10:28:51,719 INFO [main]\n  org.apache.hadoop.hive.ql.log.PerfLogger: \n  2015-08-27 10:28:51,720 INFO [main]\n  org.apache.hadoop.hive.ql.exec.Utilities: Deserializing MapWork via\n  kryo 2015-08-27 10:28:52,043 INFO [main]\n  org.apache.hadoop.hive.ql.log.PerfLogger:  2015-08-27\n  10:28:52,080 INFO [main]\n  org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing\n  file\n  hdfs://hdmaster:8020/user/flume/tweets/BBMP_elections/2015/08/25/11/FlumeData.1440484157685\n  2015-08-27 10:28:52,080 INFO [main]\n  org.apache.hadoop.conf.Configuration.deprecation: map.input.file is\n  deprecated. Instead, use mapreduce.map.input.file 2015-08-27\n  10:28:52,080 INFO [main]\n  org.apache.hadoop.conf.Configuration.deprecation: map.input.start is\n  deprecated. Instead, use mapreduce.map.input.start 2015-08-27\n  10:28:52,080 INFO [main]\n  org.apache.hadoop.conf.Configuration.deprecation: map.input.length is\n  deprecated. Instead, use mapreduce.map.input.length 2015-08-27\n  10:28:52,080 INFO [main] org.apache.hadoop.mapred.MapTask:\n  numReduceTasks: 1 2015-08-27 10:28:52,228 INFO [main]\n  org.apache.hadoop.mapred.MapTask: (EQUATOR) 0 kvi 26214396(104857584)\n  2015-08-27 10:28:52,228 INFO [main] org.apache.hadoop.mapred.MapTask:\n  mapreduce.task.io.sort.mb: 100 2015-08-27 10:28:52,228 INFO [main]\n  org.apache.hadoop.mapred.MapTask: soft limit at 83886080 2015-08-27\n  10:28:52,228 INFO [main] org.apache.hadoop.mapred.MapTask: bufstart =\n  0; bufvoid = 104857600 2015-08-27 10:28:52,228 INFO [main]\n  org.apache.hadoop.mapred.MapTask: kvstart = 26214396; length = 6553600</p>\n  \n  <p>2015-08-27 10:28:52,243 INFO [main]\n  org.apache.hadoop.hive.ql.exec.MapOperator: Initializing operator\n  MAP[3] 2015-08-27 10:28:52,243 INFO [main]\n  org.apache.hadoop.hive.ql.exec.MapOperator: Initialization Done 3 MAP\n  2015-08-27 10:28:52,243 INFO [main]\n  org.apache.hadoop.hive.ql.exec.MapOperator: Operator 3 MAP initialized\n  2015-08-27 10:28:52,262 WARN [main]\n  org.apache.hadoop.mapred.YarnChild: Exception running child :\n  java.lang.RuntimeException: Error in configuring object   at\n  org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n    at\n  org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n    at\n  org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n    at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:446)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)   at\n  org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:163)  at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  javax.security.auth.Subject.doAs(Subject.java:415)    at\n  org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:158) Caused\n  by: java.lang.reflect.InvocationTargetException   at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)     at\n  org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n    ... 9 more Caused by: java.lang.RuntimeException: Error in\n  configuring object    at\n  org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n    at\n  org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n    at\n  org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n    at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n    ... 14 more Caused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)     at\n  org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n    ... 17 more Caused by: java.lang.RuntimeException: Map operator\n  initialization failed     at\n  org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:140)\n    ... 22 more Caused by:\n  org.apache.hadoop.hive.ql.metadata.HiveException:\n  java.lang.ClassNotFoundException: Class\n  com.cloudera.hive.serde.JSONSerDe not found   at\n  org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:328)\n    at\n  org.apache.hadoop.hive.ql.exec.MapOperator.setChildren(MapOperator.java:338)\n    at\n  org.apache.hadoop.hive.ql.exec.mr.ExecMapper.configure(ExecMapper.java:109)\n    ... 22 more Caused by: java.lang.ClassNotFoundException: Class\n  com.cloudera.hive.serde.JSONSerDe not found   at\n  org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\n    at\n  org.apache.hadoop.hive.ql.plan.PartitionDesc.getDeserializer(PartitionDesc.java:141)\n    at\n  org.apache.hadoop.hive.ql.exec.MapOperator.getConvertedOI(MapOperator.java:302)\n    ... 24 more</p>\n  \n  <p>2015-08-27 10:28:52,269 INFO [main] org.apache.hadoop.mapred.Task:\n  Runnning cleanup for the task 2015-08-27 10:28:52,278 INFO [main]\n  org.apache.hadoop.metrics2.impl.MetricsSystemImpl: Stopping MapTask\n  metrics system... 2015-08-27 10:28:52,278 INFO [main]\n  org.apache.hadoop.metrics2.impl.MetricsSystemImpl: MapTask metrics\n  system stopped. 2015-08-27 10:28:52,279 INFO [main]\n  org.apache.hadoop.metrics2.impl.MetricsSystemImpl: MapTask metrics\n  system shutdown complete.</p>\n</blockquote>\n\n<p>Please suggest. How can this issue be resolved. and why is it occuring.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1692130792,"post_id":76902675,"comment_id":135581937,"body_markdown":"Can the `switch_mgmt` value be any JSON value, such as boolean or maybe even a non-empty string? If so, what parsed value do you expect in these cases? Or will it only ever be either an empty JSON string or a JSON object? Also, can&#39;t the user just fix the payload they are sending? If you are the one who provides this service which consumes the data, you should be the one who defines the structure of the JSON data, and if the user provides malformed JSON it would normally be their fault and not something you have to account for.","body":"Can the <code>switch_mgmt</code> value be any JSON value, such as boolean or maybe even a non-empty string? If so, what parsed value do you expect in these cases? Or will it only ever be either an empty JSON string or a JSON object? Also, can&#39;t the user just fix the payload they are sending? If you are the one who provides this service which consumes the data, you should be the one who defines the structure of the JSON data, and if the user provides malformed JSON it would normally be their fault and not something you have to account for."},{"owner":{"account_id":3824966,"reputation":426,"user_id":3171992,"accept_rate":71,"display_name":"Jay Nirgudkar"},"score":0,"creation_date":1692217339,"post_id":76902675,"comment_id":135595276,"body_markdown":"switch_mgmt is used throughout the code only as a map. Example:(Updated the ticket with a sample value). But the user is able to pass a &quot;&quot; when performing a PUT using the API(directly Via postman). Yes, we have given sample examples for the users to view and use and have also mentioned its type but the users rarely see documentations.","body":"switch_mgmt is used throughout the code only as a map. Example:(Updated the ticket with a sample value). But the user is able to pass a &quot;&quot; when performing a PUT using the API(directly Via postman). Yes, we have given sample examples for the users to view and use and have also mentioned its type but the users rarely see documentations."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692219746,"creation_date":1692219746,"answer_id":76917058,"question_id":76902675,"body_markdown":"This can be solved with a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) which obtains the default adapter for the type of the field, but wraps it and first checks the JSON data to detect invalid values, such as an empty string in your example.\r\nFor example:\r\n```java\r\nclass SwitchMgmtAdapterFactory implements TypeAdapterFactory {\r\n    // Constructor called by Gson using reflection\r\n    public SwitchMgmtAdapterFactory() {\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Obtain the default adapter for the type of the field\r\n        // Uses getAdapter instead of getDelegateAdapter due to https://github.com/google/gson/issues/1028\r\n        TypeAdapter&lt;T&gt; delegate = gson.getAdapter(type);\r\n\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.BEGIN_OBJECT) {\r\n                    return delegate.read(in);\r\n                }\r\n\r\n                // Otherwise handle malformed value\r\n                // In this example here the value is skipped and `null` is returned,\r\n                // but could instead also inspect the JSON value and use it in some way\r\n                in.skipValue();\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                delegate.write(out, value);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\nYou can then register that adapter factory on the field using [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html):\r\n```java\r\npublic class Site \r\n{\r\n    @JsonAdapter(SwitchMgmtAdapterFactory.class)\r\n    @SerializedName(&quot;switch_mgmt&quot;)\r\n    Map&lt;String, Object&gt; switchMgmt;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nHowever, as mentioned in the comments personally I think it would be better to require that the client provides valid data. That makes it easier for you to maintain the code, and also easier for the client to notice that the data they are sending is malformed. Otherwise they might waste hours trying to understand why the value they provided is ignored.\r\nThough also note that Gson currently [does not detect unknown fields](https://github.com/google/gson/issues/188) and [missing fields](https://github.com/google/gson/issues/61).","title":"How to ignore type mismatch when using gson to parse input payload","body":"<p>This can be solved with a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> which obtains the default adapter for the type of the field, but wraps it and first checks the JSON data to detect invalid values, such as an empty string in your example.\nFor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SwitchMgmtAdapterFactory implements TypeAdapterFactory {\n    // Constructor called by Gson using reflection\n    public SwitchMgmtAdapterFactory() {\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Obtain the default adapter for the type of the field\n        // Uses getAdapter instead of getDelegateAdapter due to https://github.com/google/gson/issues/1028\n        TypeAdapter&lt;T&gt; delegate = gson.getAdapter(type);\n\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public T read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.BEGIN_OBJECT) {\n                    return delegate.read(in);\n                }\n\n                // Otherwise handle malformed value\n                // In this example here the value is skipped and `null` is returned,\n                // but could instead also inspect the JSON value and use it in some way\n                in.skipValue();\n                return null;\n            }\n\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                delegate.write(out, value);\n            }\n        };\n    }\n}\n</code></pre>\n<p>You can then register that adapter factory on the field using <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Site \n{\n    @JsonAdapter(SwitchMgmtAdapterFactory.class)\n    @SerializedName(&quot;switch_mgmt&quot;)\n    Map&lt;String, Object&gt; switchMgmt;\n\n    ...\n}\n</code></pre>\n<p>However, as mentioned in the comments personally I think it would be better to require that the client provides valid data. That makes it easier for you to maintain the code, and also easier for the client to notice that the data they are sending is malformed. Otherwise they might waste hours trying to understand why the value they provided is ignored.\nThough also note that Gson currently <a href=\"https://github.com/google/gson/issues/188\" rel=\"nofollow noreferrer\">does not detect unknown fields</a> and <a href=\"https://github.com/google/gson/issues/61\" rel=\"nofollow noreferrer\">missing fields</a>.</p>\n"}],"owner":{"account_id":3824966,"reputation":426,"user_id":3171992,"accept_rate":71,"display_name":"Jay Nirgudkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692219746,"creation_date":1692055385,"question_id":76902675,"body_markdown":"Class:\r\n\r\n    public class Site \r\n    {\r\n\r\n        @JsonProperty(&quot;id&quot;)\r\n        String id;\r\n\r\n        @JsonProperty(&quot;name&quot;)\r\n        String name;\r\n\r\n        @SerializedName(&quot;switch_mgmt&quot;)\r\n        Map&lt;String, Object&gt; switchMgmt;\r\n    \r\n    }\r\n\r\n    String = &quot;{&quot; +\r\n            &quot; \\&quot;switch_mgmt\\&quot;: \\&quot;\\&quot;,\\&quot;id\\&quot;: \\&quot;16fc48fa-5a5f-4b0b-882c-5347ef5e3969\\&quot;\r\n            &quot;}&quot;;\r\n\r\nHere I am trying to use gson to parse the string above in the following way:\r\n\r\n    Site data = gson.fromJson(jsonString, new Site().getClass());\r\n\r\nBut I keep getting the exception: \r\n\r\n    [redis] get /internal/sites redis exception: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 18 path $.switch_mgmt\r\n\r\n\r\nI understand that there is a type mismatch which is why it&#39;s looking for a BEGIN_OBJECT but encountered a String. This payload is being set by the user through postman API and I have no control over the input given by the user.\r\n\r\nIs there a way that gson can ignore this type mismatch?\r\n\r\n\r\nSample(ideal) example for switch_mgmt:\r\n\r\n    &quot;switch_mgmt&quot;: {\r\n        &quot;proxy&quot;: false,\r\n        &quot;port&quot;: &quot;2222&quot;,\r\n        &quot;root_password&quot;: &quot;abc&quot;\r\n    },","title":"How to ignore type mismatch when using gson to parse input payload","body":"<p>Class:</p>\n<pre><code>public class Site \n{\n\n    @JsonProperty(&quot;id&quot;)\n    String id;\n\n    @JsonProperty(&quot;name&quot;)\n    String name;\n\n    @SerializedName(&quot;switch_mgmt&quot;)\n    Map&lt;String, Object&gt; switchMgmt;\n\n}\n\nString = &quot;{&quot; +\n        &quot; \\&quot;switch_mgmt\\&quot;: \\&quot;\\&quot;,\\&quot;id\\&quot;: \\&quot;16fc48fa-5a5f-4b0b-882c-5347ef5e3969\\&quot;\n        &quot;}&quot;;\n</code></pre>\n<p>Here I am trying to use gson to parse the string above in the following way:</p>\n<pre><code>Site data = gson.fromJson(jsonString, new Site().getClass());\n</code></pre>\n<p>But I keep getting the exception:</p>\n<pre><code>[redis] get /internal/sites redis exception: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 18 path $.switch_mgmt\n</code></pre>\n<p>I understand that there is a type mismatch which is why it's looking for a BEGIN_OBJECT but encountered a String. This payload is being set by the user through postman API and I have no control over the input given by the user.</p>\n<p>Is there a way that gson can ignore this type mismatch?</p>\n<p>Sample(ideal) example for switch_mgmt:</p>\n<pre><code>&quot;switch_mgmt&quot;: {\n    &quot;proxy&quot;: false,\n    &quot;port&quot;: &quot;2222&quot;,\n    &quot;root_password&quot;: &quot;abc&quot;\n},\n</code></pre>\n"},{"tags":["java","rest","rest-assured"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1595848756,"post_id":63114006,"comment_id":111606525,"body_markdown":"See https://github.com/rest-assured/rest-assured/issues/805 for examples, you are dealing with an array and need to select a specific instance or do the assert for all instances.","body":"See <a href=\"https://github.com/rest-assured/rest-assured/issues/805\" rel=\"nofollow noreferrer\">github.com/rest-assured/rest-assured/issues/805</a> for examples, you are dealing with an array and need to select a specific instance or do the assert for all instances."},{"owner":{"account_id":18116982,"reputation":33,"user_id":13173513,"display_name":"bioinformatic98"},"score":0,"creation_date":1595849741,"post_id":63114006,"comment_id":111606999,"body_markdown":"I have tried: find body(&quot; find {it.id==&#39;346&#39;}.personDependencies.name&quot;, hasItems(&quot;json&quot;, &quot;jackson&quot;)) but this returns a null","body":"I have tried: find body(&quot; find {it.id==&#39;346&#39;}.personDependencies.name&quot;, hasItems(&quot;json&quot;, &quot;jackson&quot;)) but this returns a null"},{"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"score":0,"creation_date":1595852944,"post_id":63114006,"comment_id":111608636,"body_markdown":"What exactly is your requirement ?","body":"What exactly is your requirement ?"},{"owner":{"account_id":18116982,"reputation":33,"user_id":13173513,"display_name":"bioinformatic98"},"score":0,"creation_date":1595853134,"post_id":63114006,"comment_id":111608744,"body_markdown":"As you can see, it is only one id in the output JSON file, but what I want to achieve is to be able to select one of the objects with for example id=400 and make assertion if that object has certain values in personDependencies. I have tried: find body(&quot; find {it.id==&#39;346&#39;}.personDependencies.name&quot;, hasItems(&quot;json&quot;, &quot;jackson&quot;)) but this returns a null","body":"As you can see, it is only one id in the output JSON file, but what I want to achieve is to be able to select one of the objects with for example id=400 and make assertion if that object has certain values in personDependencies. I have tried: find body(&quot; find {it.id==&#39;346&#39;}.personDependencies.name&quot;, hasItems(&quot;json&quot;, &quot;jackson&quot;)) but this returns a null"}],"answers":[{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595854654,"creation_date":1595849170,"answer_id":63114311,"question_id":63114006,"body_markdown":"The first problem you don&#39;t need to check the presence of an item with `hasItems`, you should use `hasItem`\r\n\r\n \r\n\r\n    when().\r\n           get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\r\n           then().\r\n           statusCode(200).\r\n           body(&quot;personDependencies.name&quot;, hasItem(&quot;json&quot;));\r\n\r\nThen if you need to add more message to the assertion when the test fails you can do such way:\r\n\r\n     when().\r\n            get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\r\n            then().\r\n            statusCode(200).\r\n            body(&quot;personDependencies.name&quot;,  describedAs(&quot;Array not containing the provided item&quot;,hasItem(&quot;json&quot;)));\r\n\r\nIn your case you can validate such a way:\r\n\r\n    when().\r\n           get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\r\n           then().\r\n           statusCode(200).\r\n           body(&quot;personDependencies[*].name&quot;, hasItem(&quot;json&quot;));","title":"Problem with checking values of JSON array using Rest Assured","body":"<p>The first problem you don't need to check the presence of an item with <code>hasItems</code>, you should use <code>hasItem</code></p>\n<pre><code>when().\n       get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\n       then().\n       statusCode(200).\n       body(&quot;personDependencies.name&quot;, hasItem(&quot;json&quot;));\n</code></pre>\n<p>Then if you need to add more message to the assertion when the test fails you can do such way:</p>\n<pre><code> when().\n        get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\n        then().\n        statusCode(200).\n        body(&quot;personDependencies.name&quot;,  describedAs(&quot;Array not containing the provided item&quot;,hasItem(&quot;json&quot;)));\n</code></pre>\n<p>In your case you can validate such a way:</p>\n<pre><code>when().\n       get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\n       then().\n       statusCode(200).\n       body(&quot;personDependencies[*].name&quot;, hasItem(&quot;json&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595856469,"creation_date":1595856469,"answer_id":63116371,"question_id":63114006,"body_markdown":"If I am reading your question right you need to check if a certain values are present in a list that is returned for a particular ID\r\n\r\nThe below should work for you\r\n\r\n    given().when().get().then().body(&quot;find {it.id == 346}.personDependencies.name&quot;, hasItems(&quot;json&quot;, &quot;jackson&quot;));","title":"Problem with checking values of JSON array using Rest Assured","body":"<p>If I am reading your question right you need to check if a certain values are present in a list that is returned for a particular ID</p>\n<p>The below should work for you</p>\n<pre><code>given().when().get().then().body(&quot;find {it.id == 346}.personDependencies.name&quot;, hasItems(&quot;json&quot;, &quot;jackson&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6084504,"reputation":2356,"user_id":4749074,"display_name":"Rib47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692219676,"creation_date":1692219676,"answer_id":76917051,"question_id":63114006,"body_markdown":"Wilfred Clement&#39;s answer is great. Just want to add 1 more example for better understanding concept and syntax.\r\nUse next syntax if you have to make similar search in some array which is not on &#39;root&#39; level of JSON:\r\n\r\n    .body(&quot;problems.find {it.property == &#39;boardUrl&#39;}.details&quot;, is(&quot;size must be between 1 and 256&quot;))\r\n\r\nThis path is created for the JSON structure below:\r\n\r\n    {\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;problems&quot;: [\r\n        {\r\n            &quot;property&quot;: &quot;tag&quot;,\r\n            &quot;value&quot;: &quot;too-big-tag-value&quot;,\r\n            &quot;details&quot;: &quot;size must be between 1 and 10&quot;\r\n        },\r\n        {\r\n            &quot;property&quot;: &quot;name&quot;,\r\n            &quot;value&quot;: &quot;Very big name for testing purposes&quot;,\r\n            &quot;details&quot;: &quot;size must be between 1 and 20&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n","title":"Problem with checking values of JSON array using Rest Assured","body":"<p>Wilfred Clement's answer is great. Just want to add 1 more example for better understanding concept and syntax.\nUse next syntax if you have to make similar search in some array which is not on 'root' level of JSON:</p>\n<pre><code>.body(&quot;problems.find {it.property == 'boardUrl'}.details&quot;, is(&quot;size must be between 1 and 256&quot;))\n</code></pre>\n<p>This path is created for the JSON structure below:</p>\n<pre><code>{\n&quot;title&quot;: &quot;Bad Request&quot;,\n&quot;status&quot;: 400,\n&quot;problems&quot;: [\n    {\n        &quot;property&quot;: &quot;tag&quot;,\n        &quot;value&quot;: &quot;too-big-tag-value&quot;,\n        &quot;details&quot;: &quot;size must be between 1 and 10&quot;\n    },\n    {\n        &quot;property&quot;: &quot;name&quot;,\n        &quot;value&quot;: &quot;Very big name for testing purposes&quot;,\n        &quot;details&quot;: &quot;size must be between 1 and 20&quot;\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":18116982,"reputation":33,"user_id":13173513,"display_name":"bioinformatic98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1466,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63116371,"answer_count":3,"score":3,"last_activity_date":1692219676,"creation_date":1595847942,"question_id":63114006,"body_markdown":"I&#39;m trying to add some tests with Rest-Assured to my application, but I can&#39;t figure out how to assert some nested values. The error message is :\r\n&gt;Expected: (a collection containing &quot;json&quot;)\r\n  Actual: [[json, spring, gulp, path etc...]]\r\n\r\nHere is the code :\r\n```\r\n when().\r\n       get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\r\n       then().\r\n       statusCode(200).\r\n       body(&quot;personDependencies.name&quot;, hasItems(&quot;json&quot;));\r\n```\r\nAnd here is the JSON file that is returned by rest controller:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 346,\r\n        &quot;verified&quot;: true,\r\n        &quot;displayName&quot;: &quot;eda656a2c3cb59ae840e40a28ba4ab50bfb9de0185abcb901c6af6dc59d6668f&quot;,\r\n        &quot;emails&quot;: [\r\n            {\r\n                &quot;email&quot;: &quot;16a23f2e5477df0bbcad718c3abc235b2cb8a1b6648d14f58d42a7be13df2b6e&quot;\r\n            }\r\n        ],\r\n        &quot;personDependencies&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;json&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;spring&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;gulp&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;path&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;junit&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;activemq&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;hibernate&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;jstl&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;phantomjs&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;activiti&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;commons&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;h2&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;joda&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;log4j&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;exec&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;admin&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;coveralls&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;cxf&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;cglib&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;camel&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;sugaronrest&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;tslint&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;httpclient&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;guava&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;inventory&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;jackson&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;gson&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;event&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;OTRS&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;maven&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;karma&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;slf4j&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;postgresql&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;typescript&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;jasmine&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;spa&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;javax.servlet&quot;\r\n            }\r\n        ],\r\n        &quot;countries&quot;: [],\r\n        &quot;member_of&quot;: [],\r\n        &quot;projects&quot;: [],\r\n        &quot;employee_type&quot;: [],\r\n        &quot;languages&quot;: [\r\n            {\r\n                &quot;language&quot;: &quot;reStructuredText&quot;,\r\n                &quot;sum&quot;: 575\r\n            },\r\n            {\r\n                &quot;language&quot;: &quot;JSON&quot;,\r\n                &quot;sum&quot;: 21\r\n            },\r\n            {\r\n                &quot;language&quot;: &quot;JavaScript&quot;,\r\n                &quot;sum&quot;: 4467\r\n            },\r\n            {\r\n                &quot;language&quot;: &quot;Java&quot;,\r\n                &quot;sum&quot;: 7958\r\n            },\r\n            {\r\n                &quot;language&quot;: &quot;Python&quot;,\r\n                &quot;sum&quot;: 2\r\n            },\r\n            {\r\n                &quot;language&quot;: &quot;XML&quot;,\r\n                &quot;sum&quot;: 477\r\n            },\r\n            {\r\n                &quot;language&quot;: &quot;Plain Text&quot;,\r\n                &quot;sum&quot;: 41\r\n            }\r\n        ],\r\n        &quot;distance&quot;: 0.6028837702084446\r\n    }\r\n]\r\n```\r\nI have no idea how to make proper assertions, any help would be great. Thanks!","title":"Problem with checking values of JSON array using Rest Assured","body":"<p>I'm trying to add some tests with Rest-Assured to my application, but I can't figure out how to assert some nested values. The error message is :</p>\n<blockquote>\n<p>Expected: (a collection containing &quot;json&quot;)\nActual: [[json, spring, gulp, path etc...]]</p>\n</blockquote>\n<p>Here is the code :</p>\n<pre><code> when().\n       get(&quot;/api/personsByID/{id}/{count}&quot;, 262, 2).\n       then().\n       statusCode(200).\n       body(&quot;personDependencies.name&quot;, hasItems(&quot;json&quot;));\n</code></pre>\n<p>And here is the JSON file that is returned by rest controller:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 346,\n        &quot;verified&quot;: true,\n        &quot;displayName&quot;: &quot;eda656a2c3cb59ae840e40a28ba4ab50bfb9de0185abcb901c6af6dc59d6668f&quot;,\n        &quot;emails&quot;: [\n            {\n                &quot;email&quot;: &quot;16a23f2e5477df0bbcad718c3abc235b2cb8a1b6648d14f58d42a7be13df2b6e&quot;\n            }\n        ],\n        &quot;personDependencies&quot;: [\n            {\n                &quot;name&quot;: &quot;json&quot;\n            },\n            {\n                &quot;name&quot;: &quot;spring&quot;\n            },\n            {\n                &quot;name&quot;: &quot;gulp&quot;\n            },\n            {\n                &quot;name&quot;: &quot;path&quot;\n            },\n            {\n                &quot;name&quot;: &quot;junit&quot;\n            },\n            {\n                &quot;name&quot;: &quot;activemq&quot;\n            },\n            {\n                &quot;name&quot;: &quot;hibernate&quot;\n            },\n            {\n                &quot;name&quot;: &quot;jstl&quot;\n            },\n            {\n                &quot;name&quot;: &quot;phantomjs&quot;\n            },\n            {\n                &quot;name&quot;: &quot;activiti&quot;\n            },\n            {\n                &quot;name&quot;: &quot;commons&quot;\n            },\n            {\n                &quot;name&quot;: &quot;h2&quot;\n            },\n            {\n                &quot;name&quot;: &quot;joda&quot;\n            },\n            {\n                &quot;name&quot;: &quot;log4j&quot;\n            },\n            {\n                &quot;name&quot;: &quot;exec&quot;\n            },\n            {\n                &quot;name&quot;: &quot;admin&quot;\n            },\n            {\n                &quot;name&quot;: &quot;coveralls&quot;\n            },\n            {\n                &quot;name&quot;: &quot;cxf&quot;\n            },\n            {\n                &quot;name&quot;: &quot;cglib&quot;\n            },\n            {\n                &quot;name&quot;: &quot;camel&quot;\n            },\n            {\n                &quot;name&quot;: &quot;sugaronrest&quot;\n            },\n            {\n                &quot;name&quot;: &quot;tslint&quot;\n            },\n            {\n                &quot;name&quot;: &quot;httpclient&quot;\n            },\n            {\n                &quot;name&quot;: &quot;guava&quot;\n            },\n            {\n                &quot;name&quot;: &quot;inventory&quot;\n            },\n            {\n                &quot;name&quot;: &quot;jackson&quot;\n            },\n            {\n                &quot;name&quot;: &quot;gson&quot;\n            },\n            {\n                &quot;name&quot;: &quot;event&quot;\n            },\n            {\n                &quot;name&quot;: &quot;OTRS&quot;\n            },\n            {\n                &quot;name&quot;: &quot;maven&quot;\n            },\n            {\n                &quot;name&quot;: &quot;karma&quot;\n            },\n            {\n                &quot;name&quot;: &quot;slf4j&quot;\n            },\n            {\n                &quot;name&quot;: &quot;postgresql&quot;\n            },\n            {\n                &quot;name&quot;: &quot;typescript&quot;\n            },\n            {\n                &quot;name&quot;: &quot;jasmine&quot;\n            },\n            {\n                &quot;name&quot;: &quot;spa&quot;\n            },\n            {\n                &quot;name&quot;: &quot;javax.servlet&quot;\n            }\n        ],\n        &quot;countries&quot;: [],\n        &quot;member_of&quot;: [],\n        &quot;projects&quot;: [],\n        &quot;employee_type&quot;: [],\n        &quot;languages&quot;: [\n            {\n                &quot;language&quot;: &quot;reStructuredText&quot;,\n                &quot;sum&quot;: 575\n            },\n            {\n                &quot;language&quot;: &quot;JSON&quot;,\n                &quot;sum&quot;: 21\n            },\n            {\n                &quot;language&quot;: &quot;JavaScript&quot;,\n                &quot;sum&quot;: 4467\n            },\n            {\n                &quot;language&quot;: &quot;Java&quot;,\n                &quot;sum&quot;: 7958\n            },\n            {\n                &quot;language&quot;: &quot;Python&quot;,\n                &quot;sum&quot;: 2\n            },\n            {\n                &quot;language&quot;: &quot;XML&quot;,\n                &quot;sum&quot;: 477\n            },\n            {\n                &quot;language&quot;: &quot;Plain Text&quot;,\n                &quot;sum&quot;: 41\n            }\n        ],\n        &quot;distance&quot;: 0.6028837702084446\n    }\n]\n</code></pre>\n<p>I have no idea how to make proper assertions, any help would be great. Thanks!</p>\n"},{"tags":["java","android","video","android-videoview"],"answers":[{"tags":[],"owner":{"account_id":14739732,"reputation":184,"user_id":10644658,"display_name":"Deepak J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545973692,"creation_date":1545973310,"answer_id":53953865,"question_id":34173439,"body_markdown":"You can use a counter and increment the value of it as soon as the first video has stopped playing. This can be achieved by using the `MediaPlayer.OnCompletionListener`.\r\n\r\nBelow worked for me:\r\n\r\n    private static int currentVideo = 0;\r\n    private List&lt;String&gt; fileData = new ArrayList&lt;String&gt;();\r\n    \r\n    videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n        @Override\r\n        public void onCompletion(MediaPlayer mp) {\r\n            if(!(currentPosition &lt; fileData.size())) {\r\n                return;\r\n            }\r\n            Uri nextUri = Uri.parse(fileData.get(currentPosition++));\r\n            videoView.setVideoURI(nextUri);\r\n            videoView.start();\r\n            //to keep looping into the list, reset the counter to 0.\r\n            //in case you need to stop playing after the list is completed remove the code.\r\n            if(currentPosition == fileData.size()) {\r\n                currentPosition = 0;\r\n            }\r\n        }\r\n    });\r\n\r\nThough the post is too old to answer, the beginner developers who end up here will get as much help as I did.","title":"VideoView Add a multiple videos and play","body":"<p>You can use a counter and increment the value of it as soon as the first video has stopped playing. This can be achieved by using the <code>MediaPlayer.OnCompletionListener</code>.</p>\n\n<p>Below worked for me:</p>\n\n<pre><code>private static int currentVideo = 0;\nprivate List&lt;String&gt; fileData = new ArrayList&lt;String&gt;();\n\nvideoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n        if(!(currentPosition &lt; fileData.size())) {\n            return;\n        }\n        Uri nextUri = Uri.parse(fileData.get(currentPosition++));\n        videoView.setVideoURI(nextUri);\n        videoView.start();\n        //to keep looping into the list, reset the counter to 0.\n        //in case you need to stop playing after the list is completed remove the code.\n        if(currentPosition == fileData.size()) {\n            currentPosition = 0;\n        }\n    }\n});\n</code></pre>\n\n<p>Though the post is too old to answer, the beginner developers who end up here will get as much help as I did.</p>\n"}],"owner":{"account_id":6999884,"reputation":160,"user_id":5366239,"accept_rate":83,"display_name":"Jude Bautista"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692219423,"creation_date":1449647616,"question_id":34173439,"body_markdown":"Lets pretend that a 5 videos in sdcard or internal storage.  \r\nnow I already get the file path, my problem is how can i insert a multiple videos in VIDEO VIEW ?\r\n\r\n**The next or previous button is not functioning**\r\n\r\nhere is my code \r\n\r\n     public void getFile()\r\n    {\r\n\r\n        urls = getIntent().getStringArrayListExtra(&quot;url_videoAll&quot;);\r\n        keys = getIntent().getStringArrayListExtra(&quot;key_videoAll&quot;);\r\n\r\n        for(int i = 0; i&lt;urls.size();i++) {\r\n            String FileName = URLUtil.guessFileName(urls.get(0), null, MimeTypeMap.getFileExtensionFromUrl(urls.get(0)));\r\n            String yourFilePath = getBaseContext().getFilesDir() + &quot;/&quot; + FileName;\r\n            fileList.add(new File(yourFilePath));\r\n\r\n        }\r\n        playallvideo(fileList);\r\n    }\r\n in this CODE ARE WORKING IN SINGLE VIDEO how about if i have 5 videos ? \r\n          \r\n    private void playallvideo(final List&lt;File&gt; file)\r\n        {\r\n        mediaController = new MediaController(this);\r\n\r\n        video.setMediaController(mediaController);\r\n        video.setVideoPath(file.get(0).toString());\r\n        video.start();\r\n\r\n        mediaController.setPrevNextListeners(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                video.setMediaController(mediaController);\r\n                video.setVideoPath(file.get(1).toString());\r\n                video.requestFocus();\r\n                video.start();\r\n                // code for next\r\n            }\r\n        }, new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                video.setMediaController(mediaController);\r\n                video.setVideoPath(file.get(1).toString());\r\n                video.requestFocus();\r\n                video.start();\r\n                // code for previous\r\n            }\r\n        });\r\n    }\r\n**I need this because I will use MediaController and press the next video**\r\n\r\n","title":"VideoView Add a multiple videos and play","body":"<p>Lets pretend that a 5 videos in sdcard or internal storage.<br>\nnow I already get the file path, my problem is how can i insert a multiple videos in VIDEO VIEW ?</p>\n\n<p><strong>The next or previous button is not functioning</strong></p>\n\n<p>here is my code </p>\n\n<pre><code> public void getFile()\n{\n\n    urls = getIntent().getStringArrayListExtra(\"url_videoAll\");\n    keys = getIntent().getStringArrayListExtra(\"key_videoAll\");\n\n    for(int i = 0; i&lt;urls.size();i++) {\n        String FileName = URLUtil.guessFileName(urls.get(0), null, MimeTypeMap.getFileExtensionFromUrl(urls.get(0)));\n        String yourFilePath = getBaseContext().getFilesDir() + \"/\" + FileName;\n        fileList.add(new File(yourFilePath));\n\n    }\n    playallvideo(fileList);\n}\n</code></pre>\n\n<p>in this CODE ARE WORKING IN SINGLE VIDEO how about if i have 5 videos ? </p>\n\n<pre><code>private void playallvideo(final List&lt;File&gt; file)\n    {\n    mediaController = new MediaController(this);\n\n    video.setMediaController(mediaController);\n    video.setVideoPath(file.get(0).toString());\n    video.start();\n\n    mediaController.setPrevNextListeners(new View.OnClickListener() {\n        public void onClick(View v) {\n            video.setMediaController(mediaController);\n            video.setVideoPath(file.get(1).toString());\n            video.requestFocus();\n            video.start();\n            // code for next\n        }\n    }, new View.OnClickListener() {\n        public void onClick(View v) {\n            video.setMediaController(mediaController);\n            video.setVideoPath(file.get(1).toString());\n            video.requestFocus();\n            video.start();\n            // code for previous\n        }\n    });\n}\n</code></pre>\n\n<p><strong>I need this because I will use MediaController and press the next video</strong></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513930304,"creation_date":1513930304,"answer_id":47937968,"question_id":47937873,"body_markdown":"To iterate in each node, do this:\r\n\r\n    DatabaseReference ref=FirebaseDatabase.getInstance().getReference().child(&quot;kos_putra&quot;);\r\n    ref.addValueEventListener(new ValueEventListener(){\r\n      @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot){\r\n      for(DataSnapshot data: dataSnapshot.getChildren()){\r\n           String deskripsi=data.child(&quot;deskripsi&quot;).getValue().toString();\r\n           String nama=data.child(&quot;nama&quot;).getValue().toString();\r\n        }\r\n      }\r\n          @Override\r\n       public void onCancelled(FirebaseError firebaseError) {\r\n\r\n            }\r\n       });\r\n\r\nHere your datasnapshot is on `kos_putra`, add a listener on that location will iterate on all nodes(1,2,3,4) and with the for loop it will get the values that are inside all nodes also.","title":"How to iterate a node in Firebase database?","body":"<p>To iterate in each node, do this:</p>\n\n<pre><code>DatabaseReference ref=FirebaseDatabase.getInstance().getReference().child(\"kos_putra\");\nref.addValueEventListener(new ValueEventListener(){\n  @Override\npublic void onDataChange(DataSnapshot dataSnapshot){\n  for(DataSnapshot data: dataSnapshot.getChildren()){\n       String deskripsi=data.child(\"deskripsi\").getValue().toString();\n       String nama=data.child(\"nama\").getValue().toString();\n    }\n  }\n      @Override\n   public void onCancelled(FirebaseError firebaseError) {\n\n        }\n   });\n</code></pre>\n\n<p>Here your datasnapshot is on <code>kos_putra</code>, add a listener on that location will iterate on all nodes(1,2,3,4) and with the for loop it will get the values that are inside all nodes also.</p>\n"},{"tags":[],"owner":{"account_id":20076809,"reputation":11,"user_id":14720383,"display_name":"MOHAMMED SHAHBAZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660061963,"creation_date":1660061963,"answer_id":73295068,"question_id":47937873,"body_markdown":"myRef.child(&quot;users&quot;).child(firebaseAuth.uid.toString()).addValueEventListener(object:ValueEventListener{\r\n                    override fun onDataChange(snapshot: DataSnapshot) {\r\n\r\n                        try {\r\n                            var td=snapshot.value as HashMap&lt;String,Any&gt;\r\n                            for(key in td.keys){\r\n                                var userInfo=td[key] as String\r\n                                if(key.equals(&quot;imageUrl&quot;)){\r\n                                    Picasso.get().load(userInfo).into(myView.imageProfilePhoto);\r\n                                }else if(key.equals(&quot;name&quot;)){\r\n                                    myView.username.setText(userInfo)\r\n                                }\r\n\r\n                            }\r\n\r\n\r\n                        }catch (ex:Exception){}\r\n                    }\r\n\r\n                    override fun onCancelled(error: DatabaseError) {\r\n\r\n                    }\r\n                })","title":"How to iterate a node in Firebase database?","body":"<p>myRef.child(&quot;users&quot;).child(firebaseAuth.uid.toString()).addValueEventListener(object:ValueEventListener{\noverride fun onDataChange(snapshot: DataSnapshot) {</p>\n<pre><code>                    try {\n                        var td=snapshot.value as HashMap&lt;String,Any&gt;\n                        for(key in td.keys){\n                            var userInfo=td[key] as String\n                            if(key.equals(&quot;imageUrl&quot;)){\n                                Picasso.get().load(userInfo).into(myView.imageProfilePhoto);\n                            }else if(key.equals(&quot;name&quot;)){\n                                myView.username.setText(userInfo)\n                            }\n\n                        }\n\n\n                    }catch (ex:Exception){}\n                }\n\n                override fun onCancelled(error: DatabaseError) {\n\n                }\n            })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20076809,"reputation":11,"user_id":14720383,"display_name":"MOHAMMED SHAHBAZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692218751,"creation_date":1692218751,"answer_id":76916975,"question_id":47937873,"body_markdown":"    fun iterateFirebaseNodes() {\r\n        val database = FirebaseDatabase.getInstance()\r\n        val ref = database.reference.child(&quot;your-node-path&quot;)\r\n        ref.addListenerForSingleValueEvent(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                for (childSnapshot in snapshot.children) {\r\n                    // This gives you the value of the child node\r\n                    val childData = childSnapshot.value \r\n                    println(childData)\r\n                }\r\n            }\r\n            override fun onCancelled(error: DatabaseError) {\r\n                println(&quot;Failed to read value: ${error.toException()}&quot;)\r\n            }\r\n        })`\r\n    } \r\n","title":"How to iterate a node in Firebase database?","body":"<pre><code>fun iterateFirebaseNodes() {\n    val database = FirebaseDatabase.getInstance()\n    val ref = database.reference.child(&quot;your-node-path&quot;)\n    ref.addListenerForSingleValueEvent(object : ValueEventListener {\n        override fun onDataChange(snapshot: DataSnapshot) {\n            for (childSnapshot in snapshot.children) {\n                // This gives you the value of the child node\n                val childData = childSnapshot.value \n                println(childData)\n            }\n        }\n        override fun onCancelled(error: DatabaseError) {\n            println(&quot;Failed to read value: ${error.toException()}&quot;)\n        }\n    })`\n} \n</code></pre>\n"}],"owner":{"account_id":44937,"reputation":6553,"user_id":132127,"accept_rate":33,"display_name":"anta40"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47937968,"answer_count":3,"score":0,"last_activity_date":1692218751,"creation_date":1513929869,"question_id":47937873,"body_markdown":"I&#39;ve a simple database in Firebase like this:\r\n[![enter image description here][1]][1]\r\n\r\nThe following code currently reads a resource fill and render each item read to a RecyclerView.\r\n\r\n    public class kos_putra extends Fragment {\r\n    \r\n        ArrayList&lt;Kost&gt; mList = new ArrayList&lt;&gt;();\r\n        KostAdapter mAdapter;\r\n        DatabaseReference mFirebaseDatabase;\r\n        FirebaseDatabase mFirebaseInstance;\r\n    \r\n        public kos_putra() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.kos_putra, container, false);\r\n    \r\n            RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recyclerView);\r\n            LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\r\n            recyclerView.setLayoutManager(layoutManager);\r\n            mAdapter = new KostAdapter(mList);\r\n            recyclerView.setAdapter(mAdapter);\r\n    \r\n            fillData();\r\n            return view;\r\n        }\r\n    \r\n    \r\n        private void fillData() {\r\n            Resources resources = getResources();\r\n            String[] arJudul = resources.getStringArray(R.array.places);\r\n            String[] arDeskripsi = resources.getStringArray(R.array.place_desc);\r\n            String[] arLokasi = resources.getStringArray(R.array.place_locations);\r\n            TypedArray a = resources.obtainTypedArray(R.array.places_picture);\r\n            Drawable[] arFoto = new Drawable[a.length()];\r\n            for (int i = 0; i &lt; arFoto.length; i++) {\r\n                BitmapDrawable bd = (BitmapDrawable) a.getDrawable(i);\r\n                RoundedBitmapDrawable rbd =\r\n                        RoundedBitmapDrawableFactory.create(getResources(), bd.getBitmap());\r\n                rbd.setCircular(true);\r\n                arFoto[i] = rbd;\r\n            }\r\n            a.recycle();\r\n    \r\n            for (int i = 0; i &lt; arJudul.length; i++) {\r\n                mList.add(new Kost(arJudul[i], arDeskripsi[i], arLokasi[i], arFoto[i]));\r\n            }\r\n            mAdapter.notifyDataSetChanged();\r\n        }\r\n    \r\n        private void fetchDataFromFirebase(){\r\n            mFirebaseInstance = FirebaseDatabase.getInstance();\r\n            mFirebaseDatabase = mFirebaseInstance.getReference(&quot;kos_putra&quot;);\r\n        }\r\n    }\r\n\r\nNow instead of reading from a file, I want to read from Firebase instead. How do I iterate each node under **kos_putra**? In the picture below, there are 4 objects. Logically, I&#39;m thinking of getting the data count first, then do a for-loop. Still not clear how to do it, though.\r\n\r\n  [1]: https://i.stack.imgur.com/nK0gF.jpg\r\n","title":"How to iterate a node in Firebase database?","body":"<p>I've a simple database in Firebase like this:\n<a href=\"https://i.stack.imgur.com/nK0gF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nK0gF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The following code currently reads a resource fill and render each item read to a RecyclerView.</p>\n\n<pre><code>public class kos_putra extends Fragment {\n\n    ArrayList&lt;Kost&gt; mList = new ArrayList&lt;&gt;();\n    KostAdapter mAdapter;\n    DatabaseReference mFirebaseDatabase;\n    FirebaseDatabase mFirebaseInstance;\n\n    public kos_putra() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.kos_putra, container, false);\n\n        RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recyclerView);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());\n        recyclerView.setLayoutManager(layoutManager);\n        mAdapter = new KostAdapter(mList);\n        recyclerView.setAdapter(mAdapter);\n\n        fillData();\n        return view;\n    }\n\n\n    private void fillData() {\n        Resources resources = getResources();\n        String[] arJudul = resources.getStringArray(R.array.places);\n        String[] arDeskripsi = resources.getStringArray(R.array.place_desc);\n        String[] arLokasi = resources.getStringArray(R.array.place_locations);\n        TypedArray a = resources.obtainTypedArray(R.array.places_picture);\n        Drawable[] arFoto = new Drawable[a.length()];\n        for (int i = 0; i &lt; arFoto.length; i++) {\n            BitmapDrawable bd = (BitmapDrawable) a.getDrawable(i);\n            RoundedBitmapDrawable rbd =\n                    RoundedBitmapDrawableFactory.create(getResources(), bd.getBitmap());\n            rbd.setCircular(true);\n            arFoto[i] = rbd;\n        }\n        a.recycle();\n\n        for (int i = 0; i &lt; arJudul.length; i++) {\n            mList.add(new Kost(arJudul[i], arDeskripsi[i], arLokasi[i], arFoto[i]));\n        }\n        mAdapter.notifyDataSetChanged();\n    }\n\n    private void fetchDataFromFirebase(){\n        mFirebaseInstance = FirebaseDatabase.getInstance();\n        mFirebaseDatabase = mFirebaseInstance.getReference(\"kos_putra\");\n    }\n}\n</code></pre>\n\n<p>Now instead of reading from a file, I want to read from Firebase instead. How do I iterate each node under <strong>kos_putra</strong>? In the picture below, there are 4 objects. Logically, I'm thinking of getting the data count first, then do a for-loop. Still not clear how to do it, though.</p>\n"},{"tags":["java","java-time","datetime-parsing","datetimeformatter"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692217378,"creation_date":1692217020,"answer_id":76916806,"question_id":76916757,"body_markdown":"You do not need any `DateTimeFormatter` because both of your date-time strings are in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format which is the default format used by `java.time` types.\r\n\r\n    public static void main(String[] args) {\r\n        for (var input : inputArray) {\r\n            var ignore = LocalDateTime.parse(input);\r\n        }\r\n        System.out.println(&quot;No exception occured!&quot;);\r\n    }\r\n**Output:**\r\n\r\n    No exception occurred!\r\n\r\nIn case, you want to use your `DateTimeFormatter`, change it to make just the fraction-of-second part optional.\r\n\r\n    DateTimeFormatter dateTimeFormats = DateTimeFormatter.ofPattern(\r\n                        &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.[SSSSSS][SSS]]&quot;);\r\n\r\n[Online Demo](https://ideone.com/orxQNG)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"DateTimeFormatter with multiple pattern not working","body":"<p>You do not need any <code>DateTimeFormatter</code> because both of your date-time strings are in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format which is the default format used by <code>java.time</code> types.</p>\n<pre><code>public static void main(String[] args) {\n    for (var input : inputArray) {\n        var ignore = LocalDateTime.parse(input);\n    }\n    System.out.println(&quot;No exception occured!&quot;);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>No exception occurred!\n</code></pre>\n<p>In case, you want to use your <code>DateTimeFormatter</code>, change it to make just the fraction-of-second part optional.</p>\n<pre><code>DateTimeFormatter dateTimeFormats = DateTimeFormatter.ofPattern(\n                    &quot;yyyy-MM-dd'T'HH:mm:ss[.[SSSSSS][SSS]]&quot;);\n</code></pre>\n<p><a href=\"https://ideone.com/orxQNG\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":1656564,"reputation":31,"user_id":1525969,"display_name":"Ch.K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692217316,"creation_date":1692217316,"answer_id":76916839,"question_id":76916757,"body_markdown":"If you change the order of the pattern to \r\n\r\n&gt; private static final DateTimeFormatter dateTimeFormats =\r\n&gt; DateTimeFormatter.ofPattern(\r\n&gt;             &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS]&quot; + //: Year, month, day, &#39;T&#39; separator, hour, minute, second, and microseconds (e.g.,\r\n&gt; 2023-05-21T12:34:56.123456)\r\n&gt;             &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS]&quot;  //: Year, month, day, &#39;T&#39; separator, hour, minute, second, and milliseconds (e.g.,\r\n&gt; 2023-05-21T12:34:56.789)\r\n&gt;     );\r\n\r\nthis should do the trick.\r\n\r\nSo the timestamp with microseconds will be handled first with the parser for microseconds. In our example the microsecond timestamp is handled first by the millisecond parser, which complaints about the microsecond part he cannot handle.","title":"DateTimeFormatter with multiple pattern not working","body":"<p>If you change the order of the pattern to</p>\n<blockquote>\n<p>private static final DateTimeFormatter dateTimeFormats =\nDateTimeFormatter.ofPattern(\n&quot;[yyyy-MM-dd'T'HH:mm:ss.SSSSSS]&quot; + //: Year, month, day, 'T' separator, hour, minute, second, and microseconds (e.g.,\n2023-05-21T12:34:56.123456)\n&quot;[yyyy-MM-dd'T'HH:mm:ss.SSS]&quot;  //: Year, month, day, 'T' separator, hour, minute, second, and milliseconds (e.g.,\n2023-05-21T12:34:56.789)\n);</p>\n</blockquote>\n<p>this should do the trick.</p>\n<p>So the timestamp with microseconds will be handled first with the parser for microseconds. In our example the microsecond timestamp is handled first by the millisecond parser, which complaints about the microsecond part he cannot handle.</p>\n"}],"owner":{"account_id":3529693,"reputation":1020,"user_id":2949645,"display_name":"Sahib Yar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76916806,"answer_count":2,"score":1,"last_activity_date":1692217818,"creation_date":1692216519,"question_id":76916757,"body_markdown":"Both of these patterns working fine when tested separately but they are not working together in a single `ofPattern { &quot;[]&quot; + &quot;[]&quot;}` statement. \r\n\r\nPlease guide what am I missing here\r\n```java\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeFormatterBuilder;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.LocalTime;\r\n\r\npublic class SampleProgram {\r\n    \r\n    private static final DateTimeFormatter dateTimeFormats = DateTimeFormatter.ofPattern(\r\n            &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS]&quot; + //: Year, month, day, &#39;T&#39; separator, hour, minute, second, and milliseconds (e.g., 2023-05-21T12:34:56.789)\r\n            &quot;[yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS]&quot;  //: Year, month, day, &#39;T&#39; separator, hour, minute, second, and microseconds (e.g., 2023-05-21T12:34:56.123456)\r\n    );\r\n\r\n    private static final String[] inputArray = new String[]{\r\n        &quot;2021-01-30T23:45:00.123&quot;,\r\n        &quot;2023-08-15T12:34:56.789123&quot;,\r\n    };\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        for (var input : inputArray) {\r\n            var ignore = LocalDateTime.parse(input, dateTimeFormats);\r\n        }\r\n        System.out.println(&quot;No exception occured!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2023-08-15T12:34:56.789123&#39; could not be parsed, unparsed text found at index 23\r\nat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2049)\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n\tat SampleProgram.main(SampleProgram.java:25)\r\n```","title":"DateTimeFormatter with multiple pattern not working","body":"<p>Both of these patterns working fine when tested separately but they are not working together in a single <code>ofPattern { &quot;[]&quot; + &quot;[]&quot;}</code> statement.</p>\n<p>Please guide what am I missing here</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\n\npublic class SampleProgram {\n    \n    private static final DateTimeFormatter dateTimeFormats = DateTimeFormatter.ofPattern(\n            &quot;[yyyy-MM-dd'T'HH:mm:ss.SSS]&quot; + //: Year, month, day, 'T' separator, hour, minute, second, and milliseconds (e.g., 2023-05-21T12:34:56.789)\n            &quot;[yyyy-MM-dd'T'HH:mm:ss.SSSSSS]&quot;  //: Year, month, day, 'T' separator, hour, minute, second, and microseconds (e.g., 2023-05-21T12:34:56.123456)\n    );\n\n    private static final String[] inputArray = new String[]{\n        &quot;2021-01-30T23:45:00.123&quot;,\n        &quot;2023-08-15T12:34:56.789123&quot;,\n    };\n\n    \n    public static void main(String[] args) {\n        \n        for (var input : inputArray) {\n            var ignore = LocalDateTime.parse(input, dateTimeFormats);\n        }\n        System.out.println(&quot;No exception occured!&quot;);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2023-08-15T12:34:56.789123' could not be parsed, unparsed text found at index 23\nat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2049)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948)at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492)\n    at SampleProgram.main(SampleProgram.java:25)\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1692253388,"post_id":76913421,"comment_id":135598767,"body_markdown":"You need to rewrite `Client clientFrom(ParcelDto parcel)` adding `@Context` parameter so mapstruct is able to match call","body":"You need to rewrite <code>Client clientFrom(ParcelDto parcel)</code> adding <code>@Context</code> parameter so mapstruct is able to match call"}],"owner":{"account_id":27195162,"reputation":33,"user_id":20728182,"display_name":"JsbDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692217766,"creation_date":1692187817,"question_id":76913421,"body_markdown":"I&#39;m using MapStruct version 1.4.2, Java 17 and Spring-boot 3.1.0.\r\nHere I&#39;m trying to use some fields in the source to get a value from a cache which is passed using @Context.\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {UrlMapper.class, UserDataCache.class})\r\n    public interface PackageMapper { \r\n        PackageMapper INSTANCE = Mappers.getMapper(PackageMapper.class);\r\n\t\r\n\t\t@Mapping(target = &quot;childClientId&quot;, source = &quot;childClientId&quot;, defaultValue = &quot;0&quot;)\r\n\t\t@Mapping(target = &quot;userData&quot;, source = &quot;parcel&quot;, qualifiedByName = &quot;userDataTestMapping&quot;)\r\n\t\tClient clientFrom(ParcelDto parcel);\r\n\r\n\t\t@Named(&quot;userDataTestMapping&quot;)\r\n\t\tdefault UserData clientDataFrom(ParcelDto parcel, @Context UserDataCache userDataCache) {\r\n\t\t\treturn userDataCache.getUserDetails(parcel.getClientId(), parcel.getChildClientId());\r\n\t\t}\r\n\t\r\n    }\r\n\r\n    public class UserDataCache {\r\n      private final Cache&lt;String, UserData&gt; userDataCache;\r\n\t\r\n\t  public UserData getUserDetails(Integer clientId, Integer childClientId) {\r\n        String key = String.format(&quot;%d_%d&quot;, clientId, childClientId);\r\n        return clientsDataCache.getIfPresent(key);\r\n      }\r\n\t\r\n    }\r\n\r\n    public class ParcelDto { \r\n\t\t@JsonProperty(&quot;clientId&quot;)\r\n        private String clientId;\r\n\t\t\r\n\t\t@JsonProperty(&quot;childClientId&quot;)\r\n        private String childClientId;\r\n\t}\r\n\t\r\n    public class PackageProgress { \r\n\t    private Sender sender;\r\n    }\r\n\t\r\n    public class Sender {\r\n        private Client client;\r\n    }\r\n\r\n    public class Client {\r\n        private Integer childClientId;\r\n        private UserData userData;\r\n    }\r\n\r\nBut end up having below error where it cant resolve the `@Named` method. If I remove the `@Context` parameter I no longer have the error. What could be the reason not being able to use `@Context` here?\r\nIs there an alternative to do this?\r\n\r\nThanks.","title":"MapStruct cant find method annotated with @Named#value when @Context is used","body":"<p>I'm using MapStruct version 1.4.2, Java 17 and Spring-boot 3.1.0.\nHere I'm trying to use some fields in the source to get a value from a cache which is passed using @Context.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = {UrlMapper.class, UserDataCache.class})\npublic interface PackageMapper { \n    PackageMapper INSTANCE = Mappers.getMapper(PackageMapper.class);\n\n    @Mapping(target = &quot;childClientId&quot;, source = &quot;childClientId&quot;, defaultValue = &quot;0&quot;)\n    @Mapping(target = &quot;userData&quot;, source = &quot;parcel&quot;, qualifiedByName = &quot;userDataTestMapping&quot;)\n    Client clientFrom(ParcelDto parcel);\n\n    @Named(&quot;userDataTestMapping&quot;)\n    default UserData clientDataFrom(ParcelDto parcel, @Context UserDataCache userDataCache) {\n        return userDataCache.getUserDetails(parcel.getClientId(), parcel.getChildClientId());\n    }\n\n}\n\npublic class UserDataCache {\n  private final Cache&lt;String, UserData&gt; userDataCache;\n\n  public UserData getUserDetails(Integer clientId, Integer childClientId) {\n    String key = String.format(&quot;%d_%d&quot;, clientId, childClientId);\n    return clientsDataCache.getIfPresent(key);\n  }\n\n}\n\npublic class ParcelDto { \n    @JsonProperty(&quot;clientId&quot;)\n    private String clientId;\n    \n    @JsonProperty(&quot;childClientId&quot;)\n    private String childClientId;\n}\n\npublic class PackageProgress { \n    private Sender sender;\n}\n\npublic class Sender {\n    private Client client;\n}\n\npublic class Client {\n    private Integer childClientId;\n    private UserData userData;\n}\n</code></pre>\n<p>But end up having below error where it cant resolve the <code>@Named</code> method. If I remove the <code>@Context</code> parameter I no longer have the error. What could be the reason not being able to use <code>@Context</code> here?\nIs there an alternative to do this?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":27195162,"reputation":33,"user_id":20728182,"display_name":"JsbDev"},"score":0,"creation_date":1692217729,"post_id":76916812,"comment_id":135595347,"body_markdown":"@S&#246;ren my mistake, yes.","body":"@S&#246;ren my mistake, yes."}],"owner":{"account_id":27195162,"reputation":33,"user_id":20728182,"display_name":"JsbDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692217687,"creation_date":1692217058,"question_id":76916812,"body_markdown":"I&#39;m using MapStruct version 1.4.2, Java 17 and Spring-boot 3.1.0.\r\nHere I&#39;m trying to map into a nested object by passing source to the mapper method as below. \r\n\r\n    public class PackageProgress { \r\n\t    private Sender sender;\r\n    }\r\n\t\r\n    public class Sender {\r\n        private Client client;\r\n    }\r\n\r\n    public class Client {\r\n        private Integer childClientId;\r\n        private ClientCacheData clientCacheData;\r\n    }\r\n\r\n    public class ClientCacheData {\r\n        private String clientName;\r\n        private String clientAddress;\r\n    }\r\n\r\n    public class ClientData {\r\n        private String clientName;\r\n        private String clientAddress;\r\n    }\r\n\r\n    public class PackageGateway {\r\n\r\n        private final ClientDataCache clientDataCache;\r\n        private final ParcelConnector connector;\r\n        private final PackageMapper packageMapper;\r\n        public Mono&lt;PackageProgress&gt; getUserById(ResolvedPackageId uid) {\r\n            return connector.getById(uid)\r\n               .map(parcel -&gt; {\r\n                   ClientData clientData = clientDataCache.getClientDetails(parcel.getClientId(), parcel.getChildClientId());\r\n                   PackageProgress packageProgress = packageMapper.from(parcel, uid, clientData);\r\n                   return packageProgress;\r\n              });\r\n        }\r\n\t\r\n    }\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = UrlMapper.class)\r\n    public interface PackageMapper {\r\n\r\n        PackageMapper INSTANCE = Mappers.getMapper(PackageMapper.class);\r\n\r\n        @Mapping(target = &quot;sender&quot;, source = &quot;parcel&quot;)\r\n        @Mapping(target = &quot;sender.client.clientCacheData&quot;, source = &quot;clientData&quot;)\r\n        PackageProgress from(ParcelDto parcel, ResolvedPackageId uid, ClientData clientData);\r\n\t\r\n\t    @Mapping(target = &quot;childClientId&quot;, source = &quot;childClientId&quot;, defaultValue = &quot;0&quot;)\r\n        Client clientFrom(ParcelDto parcel);\r\n\r\n        @Mapping(target = &quot;client&quot;, source = &quot;parcel&quot;)\r\n        Sender senderFrom(ParcelDto parcel);\r\n\t\r\n    }\r\n\r\nBut when I introduced new mapping `@Mapping(target = &quot;sender.client.clientCacheData&quot;, source = &quot;clientData&quot;)` end up having below errors. \r\n\r\n    java: No read accessor found for property &quot;sender&quot; in target type.\r\n    java: No target bean properties found: can&#39;t map property &quot;ParcelDto parcel&quot; to &quot;Sender sender&quot;. Consider to declare/implement a mapping method: &quot;Sender map(ParcelDto value)&quot;.\r\n    java: Unknown property &quot;client&quot; in type Sender for target name &quot;sender.client.clientCacheData&quot;. Did you mean &quot;sender.client&quot;?\r\n\r\nIs this nested mapping scenario not possible using `@Mapping`?\r\nWhat could be missing here?","title":"Mapstruct is unable to map into multiple levels of nested objects","body":"<p>I'm using MapStruct version 1.4.2, Java 17 and Spring-boot 3.1.0.\nHere I'm trying to map into a nested object by passing source to the mapper method as below.</p>\n<pre><code>public class PackageProgress { \n    private Sender sender;\n}\n\npublic class Sender {\n    private Client client;\n}\n\npublic class Client {\n    private Integer childClientId;\n    private ClientCacheData clientCacheData;\n}\n\npublic class ClientCacheData {\n    private String clientName;\n    private String clientAddress;\n}\n\npublic class ClientData {\n    private String clientName;\n    private String clientAddress;\n}\n\npublic class PackageGateway {\n\n    private final ClientDataCache clientDataCache;\n    private final ParcelConnector connector;\n    private final PackageMapper packageMapper;\n    public Mono&lt;PackageProgress&gt; getUserById(ResolvedPackageId uid) {\n        return connector.getById(uid)\n           .map(parcel -&gt; {\n               ClientData clientData = clientDataCache.getClientDetails(parcel.getClientId(), parcel.getChildClientId());\n               PackageProgress packageProgress = packageMapper.from(parcel, uid, clientData);\n               return packageProgress;\n          });\n    }\n\n}\n\n@Mapper(componentModel = &quot;spring&quot;, uses = UrlMapper.class)\npublic interface PackageMapper {\n\n    PackageMapper INSTANCE = Mappers.getMapper(PackageMapper.class);\n\n    @Mapping(target = &quot;sender&quot;, source = &quot;parcel&quot;)\n    @Mapping(target = &quot;sender.client.clientCacheData&quot;, source = &quot;clientData&quot;)\n    PackageProgress from(ParcelDto parcel, ResolvedPackageId uid, ClientData clientData);\n\n    @Mapping(target = &quot;childClientId&quot;, source = &quot;childClientId&quot;, defaultValue = &quot;0&quot;)\n    Client clientFrom(ParcelDto parcel);\n\n    @Mapping(target = &quot;client&quot;, source = &quot;parcel&quot;)\n    Sender senderFrom(ParcelDto parcel);\n\n}\n</code></pre>\n<p>But when I introduced new mapping <code>@Mapping(target = &quot;sender.client.clientCacheData&quot;, source = &quot;clientData&quot;)</code> end up having below errors.</p>\n<pre><code>java: No read accessor found for property &quot;sender&quot; in target type.\njava: No target bean properties found: can't map property &quot;ParcelDto parcel&quot; to &quot;Sender sender&quot;. Consider to declare/implement a mapping method: &quot;Sender map(ParcelDto value)&quot;.\njava: Unknown property &quot;client&quot; in type Sender for target name &quot;sender.client.clientCacheData&quot;. Did you mean &quot;sender.client&quot;?\n</code></pre>\n<p>Is this nested mapping scenario not possible using <code>@Mapping</code>?\nWhat could be missing here?</p>\n"},{"tags":["java","maven","jpa","datasource","helidon"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1692636273,"post_id":76916860,"comment_id":135647595,"body_markdown":"At root, this is a `DataSource` discovery problem and you should be able to isolate it without reference to all the JPA stuff. Specifically, to me it looks like project B has no `META-INF/beans.xml` classpath resource, and is thus not a CDI bean archive, and so CDI cannot &quot;see&quot; the `DataSource` that you know to be in it. See also https://github.com/helidon-io/helidon/wiki/FAQ#how-do-i-make-a-class-a-cdi-bean","body":"At root, this is a <code>DataSource</code> discovery problem and you should be able to isolate it without reference to all the JPA stuff. Specifically, to me it looks like project B has no <code>META-INF&#47;beans.xml</code> classpath resource, and is thus not a CDI bean archive, and so CDI cannot &quot;see&quot; the <code>DataSource</code> that you know to be in it. See also <a href=\"https://github.com/helidon-io/helidon/wiki/FAQ#how-do-i-make-a-class-a-cdi-bean\" rel=\"nofollow noreferrer\">github.com/helidon-io/helidon/wiki/&hellip;</a>"}],"owner":{"account_id":7352110,"reputation":253,"user_id":8728919,"accept_rate":50,"display_name":"swing1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692217532,"creation_date":1692217532,"question_id":76916860,"body_markdown":"I have a basic database JPA setup with the following structure in project A:\r\n\r\n```\r\n src\r\n     main\r\n    &#160;&#160;  java\r\n    &#160;&#160; &#160;&#160;  com\r\n    &#160;&#160; &#160;&#160;      my\r\n    &#160;&#160; &#160;&#160;          apps\r\n    &#160;&#160; &#160;&#160;              org\r\n    &#160;&#160; &#160;&#160;                  helidonapp\r\n    &#160;&#160; &#160;&#160;                      Application.java\r\n    &#160;&#160; &#160;&#160;                      application\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;  Employee\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160; &#160;&#160;  EmployeeController.java\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160; &#160;&#160;  EmployeeRepository.java\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;  MyDataSource.java\r\n    &#160;&#160; &#160;&#160;                      domain\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;  model\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;      Employee.java\r\n    &#160;&#160;  resources\r\n    &#160;&#160;      META-INF\r\n    &#160;&#160;     &#160;&#160;  beans.xml\r\n    &#160;&#160;     &#160;&#160;  microprofile-config-local.properties\r\n    &#160;&#160;     &#160;&#160;  microprofile-config.properties\r\n    &#160;&#160;     &#160;&#160;  persistence.xml\r\n    &#160;&#160;      log4j2.xml\r\n```\r\n\r\nWhich, when I compile and run project A, it connects to the database and I can make REST calls to the API without any issues.\r\n\r\nHowever, I want to shift the database configuration to an external maven library (let&#39;s call this project B).\r\n\r\nProject B now has the following structure:\r\n\r\n```\r\ndatabase-utils\r\n    pom.xml\r\n    src\r\n        main\r\n           java\r\n              com\r\n                  my\r\n                      apps\r\n                          ic\r\n                              Entity\r\n      &#160; &#160;&#160; |                   &#160;&#160;  &#160;&#160;  GenericController.java\r\n    &#160;&#160;  &#160;&#160; |                    &#160;&#160;  &#160;&#160;  GenericRepository.java\r\n            |                     domain\r\n    &#160;&#160;  &#160;&#160; |                    &#160;&#160;  model\r\n    &#160;&#160;  &#160;&#160; |                    &#160;&#160;      AbstractEntity.java\r\n                             \r\n                              persistence\r\n                                  jpa\r\n                                      MyDataSource.java\r\n           resources\r\n               META-INF\r\n                   persistence.xml\r\n                   \r\n```\r\n\r\nAnd my child project (Project A) now has this structure:\r\n\r\n```\r\nsrc\r\n     main\r\n    &#160;&#160;  java\r\n    &#160;&#160; &#160;&#160;  com\r\n    &#160;&#160; &#160;&#160;       my\r\n    &#160;&#160; &#160;&#160;          apps\r\n    &#160;&#160; &#160;&#160;              org\r\n    &#160;&#160; &#160;&#160;                  helidon\r\n    &#160;&#160; &#160;&#160;                      Application.java\r\n    &#160;&#160; &#160;&#160;                      application\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;  Employee\r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;      EmployeeController.java \r\n    &#160;&#160; &#160;&#160;                     &#160;&#160;      EmployeeRepository.java\r\n                                 domain\r\n    &#160;&#160;  &#160;&#160;                     &#160;&#160;  model\r\n    &#160;&#160;  &#160;&#160;                     &#160;&#160;      Employee.java\r\n    &#160;&#160;  resources\r\n    &#160;&#160;      META-INF\r\n    &#160;&#160;     &#160;&#160;  beans.xml\r\n    &#160;&#160;     &#160;&#160;  microprofile-config-local.properties\r\n    &#160;&#160;     &#160;&#160;  microprofile-config.properties\r\n\r\n```\r\n\r\n(Note: EmployeeController and EmployeeRepository both extend their Generic equivalents from project B)\r\n\r\nHowever, when I compile and run newly configured Project A I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 3.0.3.v202208191135): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\nException Description: Predeployment of PersistenceUnit [myPu] failed.\r\nInternal Exception: org.jboss.weld.exceptions.UnsatisfiedResolutionException: WELD-001334: Unsatisfied dependencies for type DataSource with qualifiers @Default @Named\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.createPredeployFailedPersistenceException(EntityManagerSetupImpl.java:2153)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2129)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactoryImpl(PersistenceProvider.java:350)\r\n```\r\n\r\nI am unsure why the above error is happening, I looked up possible causes but could not find anything regarding having a db setup on an external library. \r\n\r\nMy theory is the persistence.xml cannot find the DataSource class, but I checked to see that my project B&#39;s module .jar file is included under target/libs in project A. I also looked inside the .jar file and did see the DataSource, persistence.xml, and other controller/repository class files are available. I double checked that the @Named annotation value in my datasource class matches the &lt;jta-data-source&gt; tag in persistence.xml\r\n\r\n\r\n","title":"Helidon MP 3.2.1: Predeployment of PersistenceUnit fails when DataSource class and persistence.xml are in an external library","body":"<p>I have a basic database JPA setup with the following structure in project A:</p>\n<pre><code> src\n     main\n      java\n       com\n           my\n               apps\n                   org\n                       helidonapp\n                           Application.java\n                           application\n                            Employee\n                             EmployeeController.java\n                             EmployeeRepository.java\n                            MyDataSource.java\n                           domain\n                            model\n                                Employee.java\n      resources\n          META-INF\n           beans.xml\n           microprofile-config-local.properties\n           microprofile-config.properties\n           persistence.xml\n          log4j2.xml\n</code></pre>\n<p>Which, when I compile and run project A, it connects to the database and I can make REST calls to the API without any issues.</p>\n<p>However, I want to shift the database configuration to an external maven library (let's call this project B).</p>\n<p>Project B now has the following structure:</p>\n<pre><code>database-utils\n    pom.xml\n    src\n        main\n           java\n              com\n                  my\n                      apps\n                          ic\n                              Entity\n        |                       GenericController.java\n       |                        GenericRepository.java\n            |                     domain\n       |                      model\n       |                          AbstractEntity.java\n                             \n                              persistence\n                                  jpa\n                                      MyDataSource.java\n           resources\n               META-INF\n                   persistence.xml\n                   \n</code></pre>\n<p>And my child project (Project A) now has this structure:</p>\n<pre><code>src\n     main\n      java\n       com\n            my\n               apps\n                   org\n                       helidon\n                           Application.java\n                           application\n                            Employee\n                                EmployeeController.java \n                                EmployeeRepository.java\n                                 domain\n                             model\n                                 Employee.java\n      resources\n          META-INF\n           beans.xml\n           microprofile-config-local.properties\n           microprofile-config.properties\n\n</code></pre>\n<p>(Note: EmployeeController and EmployeeRepository both extend their Generic equivalents from project B)</p>\n<p>However, when I compile and run newly configured Project A I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 3.0.3.v202208191135): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Predeployment of PersistenceUnit [myPu] failed.\nInternal Exception: org.jboss.weld.exceptions.UnsatisfiedResolutionException: WELD-001334: Unsatisfied dependencies for type DataSource with qualifiers @Default @Named\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.createPredeployFailedPersistenceException(EntityManagerSetupImpl.java:2153)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2129)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactoryImpl(PersistenceProvider.java:350)\n</code></pre>\n<p>I am unsure why the above error is happening, I looked up possible causes but could not find anything regarding having a db setup on an external library.</p>\n<p>My theory is the persistence.xml cannot find the DataSource class, but I checked to see that my project B's module .jar file is included under target/libs in project A. I also looked inside the .jar file and did see the DataSource, persistence.xml, and other controller/repository class files are available. I double checked that the @Named annotation value in my datasource class matches the  tag in persistence.xml</p>\n"},{"tags":["java","hibernate","jpa","identifying-relationship"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692217517,"creation_date":1692217517,"answer_id":76916858,"question_id":75769991,"body_markdown":"Use this model:\r\n\r\n```java\r\n@Entity(name = &quot;parent&quot;)\r\n@Table(schema = &quot;XXX&quot;, name = &quot;PARENT&quot;)\r\npublic class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;ID_PARENT&quot;, nullable = false)\r\n    private int idParent;\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Child&gt; childList = new ArrayList&lt;&gt;();\r\n\r\n}\r\n\r\n@Entity(name = &quot;child&quot;)\r\n@Table(schema = &quot;XXX&quot;, name = &quot;CHILD&quot;)\r\n@IdClass(ChildPrimaryKey.class)\r\npublic class Child {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID_CHILD&quot;, nullable = false)\r\n    private int idChild;\r\n \r\n    @Id\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ID_PARENT&quot;)\r\n    private Parent parent;\r\n}\r\npublic class ChildPrimaryKey implements Serializable {\r\n\r\n    private static final long serialVersionUID = XXXL;\r\n   \r\n    private int idChild;\r\n    private int parent;\r\n}\r\n```","title":"JPA : initializing simultaneously both entities in a parent/child relations","body":"<p>Use this model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;parent&quot;)\n@Table(schema = &quot;XXX&quot;, name = &quot;PARENT&quot;)\npublic class Parent {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;ID_PARENT&quot;, nullable = false)\n    private int idParent;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Child&gt; childList = new ArrayList&lt;&gt;();\n\n}\n\n@Entity(name = &quot;child&quot;)\n@Table(schema = &quot;XXX&quot;, name = &quot;CHILD&quot;)\n@IdClass(ChildPrimaryKey.class)\npublic class Child {\n\n    @Id\n    @Column(name = &quot;ID_CHILD&quot;, nullable = false)\n    private int idChild;\n \n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_PARENT&quot;)\n    private Parent parent;\n}\npublic class ChildPrimaryKey implements Serializable {\n\n    private static final long serialVersionUID = XXXL;\n   \n    private int idChild;\n    private int parent;\n}\n</code></pre>\n"}],"owner":{"account_id":23989262,"reputation":1,"user_id":17975656,"display_name":"MatthiasN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692217517,"creation_date":1679070482,"question_id":75769991,"body_markdown":"I&#39;m new to JPA and I can&#39;t find a way to correctly initialize a set of child entities when saving the parent using its own repository. \r\n\r\nI have this Parent entity which contains a list of child that I want to instantiate when creating the parent such as :\r\n\r\n```\r\n@Entity(name = &quot;parent&quot;)\r\n@Table(schema = &quot;XXX&quot;, name = &quot;PARENT&quot;)\r\npublic class Parent {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;ID_PARENT&quot;, nullable = false)\r\n    private int idParent;\r\n\r\n    @OneToMany(targetEntity = Child.class, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;ID_PARENT&quot;, referencedColumnName = &quot;ID_PARENT&quot;)\r\n    private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\r\n\r\n    // Constructor + getters/setters...\r\n```\r\n\r\nThe child class (the key of the table is composed of a parent id + its own id, don&#39;t ask why) : \r\n\r\n```\r\n@Entity(name = &quot;child&quot;)\r\n@Table(schema = &quot;XXX&quot;, name = &quot;CHILD&quot;)\r\n@IdClass(ChildPrimaryKey.class)\r\npublic class Child{\r\n\r\n    @Id\r\n    @Column(name = &quot;ID_CHILD&quot;, nullable = false)\r\n    private int idChild;\r\n\r\n    @Id\r\n    @Column(name = &quot;ID_PARENT&quot;, nullable = false)\r\n    private int idParent;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, targetEntity = Parent.class)\r\n    @JoinColumn(name = &quot;ID_PARENT&quot;, nullable = false, insertable = false, updatable = false)\r\n    private Parent parent;\r\n\r\n    // Constructor + getters/setters...\r\n```\r\n\r\nAnd finally the ChildPrimaryKey class :\r\n\r\n```\r\npublic class ChildPrimaryKey implements Serializable {\r\n\r\n    private static final long serialVersionUID = XXXL;\r\n   \r\n    private int idChild;\r\n\r\n    private int idParent;\r\n\r\n    // Constructors + getters/setters\r\n    \r\n```\r\n\r\nThe problem I&#39;m facing is that there isn&#39;t a direct link between the parentId field of the Child class and its parent field. So when I save a Parent entity (with a list of Child initialized inside the childList field) using its repository (basic CrudRepository with some custom queries), then the Parent is correctly saved with its ID getting a generated value, as wanted. But then the Child entities are saved but without the correct ID generated for the parent (by default 0 since it&#39;s an int I guess ?), resulting in a constraint violation exception since the column ID_PARENT should refer to an actual Parent id.\r\n\r\nI&#39;ve tried using @PrimaryKeyJoinColumn like this : \r\n\r\n```\r\n@Entity(name = &quot;child&quot;)\r\n@Table(schema = &quot;XXX&quot;, name = &quot;CHILD&quot;)\r\n@IdClass(ChildPrimaryKey.class)\r\npublic class Child{\r\n\r\n    @Id\r\n    @Column(name = &quot;ID_CHILD&quot;, nullable = false)\r\n    private int idChild;\r\n \r\n    @Id\r\n    @ManyToOne(fetch = FetchType.LAZY, targetEntity = Parent.class)\r\n    @PrimaryKeyJoinColumn(name = &quot;ID_PARENT&quot;, referencedColumnName = &quot;ID_PARENT&quot;)\r\n    private Parent parent;\r\n\r\n   // Constructor + getters/setters...\r\n```\r\n\r\nIn this case, since the field idParent doesn&#39;t exist in the Child class, I get a compilation error because the ChildPrimaryKey class expects the field to be present, plus I need it for my repository queries. (I&#39;ve also tried adding a int field as before but it still doesn&#39;t get any value)\r\n\r\nCan anyone explain me what am I doing wrong ? How can I correctly transfer the generated id of the parent when the children are created ?\r\n\r\nI would like to avoid having to create the parent first, then getting it&#39;s ID to then create the children individually giving them the correct one.\r\n\r\n\r\n","title":"JPA : initializing simultaneously both entities in a parent/child relations","body":"<p>I'm new to JPA and I can't find a way to correctly initialize a set of child entities when saving the parent using its own repository.</p>\n<p>I have this Parent entity which contains a list of child that I want to instantiate when creating the parent such as :</p>\n<pre><code>@Entity(name = &quot;parent&quot;)\n@Table(schema = &quot;XXX&quot;, name = &quot;PARENT&quot;)\npublic class Parent {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;ID_PARENT&quot;, nullable = false)\n    private int idParent;\n\n    @OneToMany(targetEntity = Child.class, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;ID_PARENT&quot;, referencedColumnName = &quot;ID_PARENT&quot;)\n    private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\n\n    // Constructor + getters/setters...\n</code></pre>\n<p>The child class (the key of the table is composed of a parent id + its own id, don't ask why) :</p>\n<pre><code>@Entity(name = &quot;child&quot;)\n@Table(schema = &quot;XXX&quot;, name = &quot;CHILD&quot;)\n@IdClass(ChildPrimaryKey.class)\npublic class Child{\n\n    @Id\n    @Column(name = &quot;ID_CHILD&quot;, nullable = false)\n    private int idChild;\n\n    @Id\n    @Column(name = &quot;ID_PARENT&quot;, nullable = false)\n    private int idParent;\n\n\n    @ManyToOne(fetch = FetchType.LAZY, targetEntity = Parent.class)\n    @JoinColumn(name = &quot;ID_PARENT&quot;, nullable = false, insertable = false, updatable = false)\n    private Parent parent;\n\n    // Constructor + getters/setters...\n</code></pre>\n<p>And finally the ChildPrimaryKey class :</p>\n<pre><code>public class ChildPrimaryKey implements Serializable {\n\n    private static final long serialVersionUID = XXXL;\n   \n    private int idChild;\n\n    private int idParent;\n\n    // Constructors + getters/setters\n    \n</code></pre>\n<p>The problem I'm facing is that there isn't a direct link between the parentId field of the Child class and its parent field. So when I save a Parent entity (with a list of Child initialized inside the childList field) using its repository (basic CrudRepository with some custom queries), then the Parent is correctly saved with its ID getting a generated value, as wanted. But then the Child entities are saved but without the correct ID generated for the parent (by default 0 since it's an int I guess ?), resulting in a constraint violation exception since the column ID_PARENT should refer to an actual Parent id.</p>\n<p>I've tried using @PrimaryKeyJoinColumn like this :</p>\n<pre><code>@Entity(name = &quot;child&quot;)\n@Table(schema = &quot;XXX&quot;, name = &quot;CHILD&quot;)\n@IdClass(ChildPrimaryKey.class)\npublic class Child{\n\n    @Id\n    @Column(name = &quot;ID_CHILD&quot;, nullable = false)\n    private int idChild;\n \n    @Id\n    @ManyToOne(fetch = FetchType.LAZY, targetEntity = Parent.class)\n    @PrimaryKeyJoinColumn(name = &quot;ID_PARENT&quot;, referencedColumnName = &quot;ID_PARENT&quot;)\n    private Parent parent;\n\n   // Constructor + getters/setters...\n</code></pre>\n<p>In this case, since the field idParent doesn't exist in the Child class, I get a compilation error because the ChildPrimaryKey class expects the field to be present, plus I need it for my repository queries. (I've also tried adding a int field as before but it still doesn't get any value)</p>\n<p>Can anyone explain me what am I doing wrong ? How can I correctly transfer the generated id of the parent when the children are created ?</p>\n<p>I would like to avoid having to create the parent first, then getting it's ID to then create the children individually giving them the correct one.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1679092558,"post_id":75771518,"comment_id":133665454,"body_markdown":"This question has a few possibilities for you: https://stackoverflow.com/questions/851758/java-enums-jpa-and-postgres-enums-how-do-i-make-them-work-together","body":"This question has a few possibilities for you: <a href=\"https://stackoverflow.com/questions/851758/java-enums-jpa-and-postgres-enums-how-do-i-make-them-work-together\" title=\"java enums jpa and postgres enums how do i make them work together\">stackoverflow.com/questions/851758/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27536973,"reputation":1,"user_id":21014430,"display_name":"AndOliver46"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679085672,"creation_date":1679083601,"answer_id":75771801,"question_id":75771518,"body_markdown":"I think you should try to force convert the status enum like this:\r\n\r\n    public int updateUser(UserStatus status, UserStatus[] statuses) {\r\n            Query query = entityManager.createQuery(&quot;UPDATE UserAccount u SET u.status = :status WHERE u.userId = :userId AND (u.status IN (:statuses))&quot;);\r\n            query.setParameter(&quot;status&quot;, (UserStatus)Enum.Parse(typeof(UserStatus), status));\r\n            query.setParameter(&quot;userId&quot;, userId);\r\n            query.setParameter(&quot;statuses&quot;, Arrays.asList(statuses));\r\n            return query.executeUpdate();\r\n        }\r\n    \r\n\r\nYou&#39;re comparing u.status(VARCHAR) with :status(UserStatus).","title":"Java Enum to Postgres Enum Conversation","body":"<p>I think you should try to force convert the status enum like this:</p>\n<pre><code>public int updateUser(UserStatus status, UserStatus[] statuses) {\n        Query query = entityManager.createQuery(&quot;UPDATE UserAccount u SET u.status = :status WHERE u.userId = :userId AND (u.status IN (:statuses))&quot;);\n        query.setParameter(&quot;status&quot;, (UserStatus)Enum.Parse(typeof(UserStatus), status));\n        query.setParameter(&quot;userId&quot;, userId);\n        query.setParameter(&quot;statuses&quot;, Arrays.asList(statuses));\n        return query.executeUpdate();\n    }\n</code></pre>\n<p>You're comparing u.status(VARCHAR) with :status(UserStatus).</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692216920,"creation_date":1692216920,"answer_id":76916792,"question_id":75771518,"body_markdown":"The easiest way forward would be to upgrade to Hibernate 6.2, as that supports database native enum types out of the box.","title":"Java Enum to Postgres Enum Conversation","body":"<p>The easiest way forward would be to upgrade to Hibernate 6.2, as that supports database native enum types out of the box.</p>\n"}],"owner":{"account_id":28045447,"reputation":11,"user_id":21422318,"display_name":"Mayank Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692216920,"creation_date":1679081427,"question_id":75771518,"body_markdown":"Below is my query\r\n\r\n```\r\npublic int updateUser(UserStatus status, UserStatus[] statuses) {\r\n        Query query = entityManager.createQuery(&quot;UPDATE UserAccount u SET u.status = :status WHERE u.userId = :userId AND (u.status IN (:statuses))&quot;);\r\n        query.setParameter(&quot;status&quot;, status);\r\n        query.setParameter(&quot;userId&quot;, userId);\r\n        query.setParameter(&quot;statuses&quot;, Arrays.asList(statuses));\r\n        return query.executeUpdate();\r\n    }\r\n```\r\n\r\nI am passing status as `UserStatus` type but still I am getting error\r\n\r\noperator does not exist: user_status = character varying\r\n\r\n\r\nI have column in my entity as \r\n\r\n```\r\n@Column(name = &quot;status&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private UserStatus status;   // tried using columnTransformer\r\n\r\n```\r\n\r\n@ColumnTransformer also I tried its not working for update query. Its working in case of insert.\r\n\r\nHow can I update enum column.\r\n\r\nThank you.\r\n\r\n","title":"Java Enum to Postgres Enum Conversation","body":"<p>Below is my query</p>\n<pre><code>public int updateUser(UserStatus status, UserStatus[] statuses) {\n        Query query = entityManager.createQuery(&quot;UPDATE UserAccount u SET u.status = :status WHERE u.userId = :userId AND (u.status IN (:statuses))&quot;);\n        query.setParameter(&quot;status&quot;, status);\n        query.setParameter(&quot;userId&quot;, userId);\n        query.setParameter(&quot;statuses&quot;, Arrays.asList(statuses));\n        return query.executeUpdate();\n    }\n</code></pre>\n<p>I am passing status as <code>UserStatus</code> type but still I am getting error</p>\n<p>operator does not exist: user_status = character varying</p>\n<p>I have column in my entity as</p>\n<pre><code>@Column(name = &quot;status&quot;)\n    @Enumerated(EnumType.STRING)\n    private UserStatus status;   // tried using columnTransformer\n\n</code></pre>\n<p>@ColumnTransformer also I tried its not working for update query. Its working in case of insert.</p>\n<p>How can I update enum column.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","calendar"],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692215964,"creation_date":1669027147,"question_id":74517596,"body_markdown":"I want to integrate my web application with calendar provider like **Google-Calendar**, **Microsoft-Outlook** and **Apple-Calendar**.\r\nI could to integrate my web application with Google and Microsoft. Steps for each of them is:\r\n\r\n1. Create an App in Provider console/portal and get Client-Id and Client-Secret.\r\n2. Config my web application for connecting to Provider in OAuth2 standard.\r\n3. User authenticate with own username (email) and password and return `refresh_token` and `access_token` to my web application.\r\n4. Use the `access_token` and `refresh_token` for get Calendar events.\r\n\r\nBut for Apple Calendar I am confused. I could not find Apple OAuth2 or any API for get Calendar Events.\r\n\r\nCan anyone help me? \r\n\r\n:(\r\n\r\nOf course read an article about Apple app-specific-password but I don&#39;t know how it&#39;s working and could not find any example with this option.","title":"How to integrate a java web application with Apple Calendar","body":"<p>I want to integrate my web application with calendar provider like <strong>Google-Calendar</strong>, <strong>Microsoft-Outlook</strong> and <strong>Apple-Calendar</strong>.\nI could to integrate my web application with Google and Microsoft. Steps for each of them is:</p>\n<ol>\n<li>Create an App in Provider console/portal and get Client-Id and Client-Secret.</li>\n<li>Config my web application for connecting to Provider in OAuth2 standard.</li>\n<li>User authenticate with own username (email) and password and return <code>refresh_token</code> and <code>access_token</code> to my web application.</li>\n<li>Use the <code>access_token</code> and <code>refresh_token</code> for get Calendar events.</li>\n</ol>\n<p>But for Apple Calendar I am confused. I could not find Apple OAuth2 or any API for get Calendar Events.</p>\n<p>Can anyone help me?</p>\n<p>:(</p>\n<p>Of course read an article about Apple app-specific-password but I don't know how it's working and could not find any example with this option.</p>\n"},{"tags":["java","rest","url"],"answers":[{"tags":[],"owner":{"account_id":17553626,"reputation":35,"user_id":12733532,"display_name":"Maksym Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692202584,"creation_date":1692202584,"answer_id":76915386,"question_id":76915178,"body_markdown":"Try http://localhost:8080/rest/getuser instead of \r\nhttp://localhost:8080/ProvaMaven-0.0.1-SNAPSHOT/rest/getuser\r\nDon&#39;t need ProvaMaven-0.0.1-SNAPSHOT","title":"Error not found when i call my rest service","body":"<p>Try http://localhost:8080/rest/getuser instead of\nhttp://localhost:8080/ProvaMaven-0.0.1-SNAPSHOT/rest/getuser\nDon't need ProvaMaven-0.0.1-SNAPSHOT</p>\n"},{"tags":[],"owner":{"account_id":29239600,"reputation":1,"user_id":22401444,"display_name":"Junior Mendez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692215886,"creation_date":1692215886,"answer_id":76916698,"question_id":76915178,"body_markdown":"I see you have an additional /rest try this http://localhost:8080/rest/rest/getuser","title":"Error not found when i call my rest service","body":"<p>I see you have an additional /rest try this http://localhost:8080/rest/rest/getuser</p>\n"}],"owner":{"display_name":"user22253296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692215886,"creation_date":1692200725,"question_id":76915178,"body_markdown":"I&#39;m trying to call a rest service specifically get but when I type the URL it gives me not found, I have already set up a web service soap in this maven project and it works for me by any chance am I missing some dependency or error in the web file?\r\n\r\nMy url: http://localhost:8080/ProvaMaven-0.0.1-SNAPSHOT/rest/getuser\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;MavenRest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ProvaMaven&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n            \r\n      &lt;dependencies&gt;    \t  \r\n    \t  \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.jws/jakarta.jws-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n            \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.containers/jersey-container-servlet-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t  &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;    \r\n    \t  \r\n      &lt;/dependencies&gt;\r\n           \r\n        &lt;build&gt;\r\n    \t  \r\n    \t  &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                \r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                \r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;    \r\n    \r\n      &lt;/build&gt;\r\n                  \r\n    &lt;/project&gt;\r\n\r\nHere is my web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;5.0&quot;&gt;\r\n      &lt;display-name&gt;ProvaMaven&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      \r\n         &lt;servlet&gt;\r\n            &lt;servlet-name&gt;jersey-servlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;org.glassfish.jersey.config.property.packages&lt;/param-name&gt;\r\n                &lt;param-value&gt;com&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;org.glassfish.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\r\n                &lt;param-value&gt;true&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;  \r\n                  \r\n    &lt;/web-app&gt;\r\n\r\nHere is my class:\r\n\r\n    package com;\r\n    \r\n    import jakarta.ws.rs.GET; \r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/rest&quot;)\r\n    public class Rest\r\n    {\r\n    \t@GET\r\n    \t@Path(&quot;/getuser&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic User getUser()\r\n    \t{\r\n    \t\tUser u = new User();\r\n    \t\tu.setName(&quot;carmine&quot;);\r\n    \t\tu.setSurname(&quot;armenante&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;sono dentro&quot;);\r\n    \t\treturn u;\r\n    \t}\r\n    }\r\n\r\n","title":"Error not found when i call my rest service","body":"<p>I'm trying to call a rest service specifically get but when I type the URL it gives me not found, I have already set up a web service soap in this maven project and it works for me by any chance am I missing some dependency or error in the web file?</p>\n<p>My url: http://localhost:8080/ProvaMaven-0.0.1-SNAPSHOT/rest/getuser</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;MavenRest&lt;/groupId&gt;\n  &lt;artifactId&gt;ProvaMaven&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n        \n  &lt;dependencies&gt;          \n      \n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/jakarta.jws/jakarta.jws-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.33&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.containers/jersey-container-servlet-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n      &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n&lt;/dependency&gt;    \n      \n  &lt;/dependencies&gt;\n       \n    &lt;build&gt;\n      \n      &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;19&lt;/source&gt;\n                &lt;target&gt;19&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;    \n\n  &lt;/build&gt;\n              \n&lt;/project&gt;\n</code></pre>\n<p>Here is my web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;5.0&quot;&gt;\n  &lt;display-name&gt;ProvaMaven&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n     &lt;servlet&gt;\n        &lt;servlet-name&gt;jersey-servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;org.glassfish.jersey.config.property.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;org.glassfish.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n              \n&lt;/web-app&gt;\n</code></pre>\n<p>Here is my class:</p>\n<pre><code>package com;\n\nimport jakarta.ws.rs.GET; \nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/rest&quot;)\npublic class Rest\n{\n    @GET\n    @Path(&quot;/getuser&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public User getUser()\n    {\n        User u = new User();\n        u.setName(&quot;carmine&quot;);\n        u.setSurname(&quot;armenante&quot;);\n        \n        System.out.println(&quot;sono dentro&quot;);\n        return u;\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","android-package-managers"],"owner":{"account_id":26502896,"reputation":1,"user_id":20139545,"display_name":"Selfi Dwi Syahrani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692215792,"creation_date":1692215792,"question_id":76916686,"body_markdown":"How can I suspend all apps on my fully managed device?\r\n\r\n\r\nI&#39;ve already tried using `ResolveInfo` and `queryIntentActivity`, but it only suspends some of the basic user apps (camera, gallery, calendar, etc.), and not apps like Spotify, YouTube, Netflix, Play Store, Gmail, etc. Is there a solution to this problem?\r\n\r\nHere is the code I&#39;ve been using to suspend apps except for some allowed ones:\r\n\r\n```\r\nprivate void suspendAllAppsExceptAllowedApps(DevicePolicyManager dpm, ComponentName adminComponent) {\r\n    PackageManager pm = getPackageManager();\r\n    List&lt;String&gt; exemptPackages = Arrays.asList(&quot;com.android.settings&quot;, &quot;com.example.MyAppsSuspend&quot;, &quot;com.android.contacts&quot;, &quot;com.android.phone&quot;);\r\n    Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);\r\n    mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n    List&lt;ResolveInfo&gt; packages = pm.queryIntentActivities(mainIntent, 0);\r\n\r\n    for (ResolveInfo resolveInfo : packages) {\r\n        try {\r\n            String package_name = resolveInfo.activityInfo.packageName;\r\n            if (!exemptPackages.contains(package_name)) {\r\n                String[] suspended = dpm.setPackagesSuspended(adminComponent, new String[]{package_name}, true);\r\n                if (suspended != null) {\r\n                    // Log.i(&quot;AppSuspend&quot;, &quot;Package suspended: &quot; + suspended);\r\n                } else {\r\n                    Log.i(&quot;AppSuspend&quot;, &quot;Failed to suspend package: &quot; + package_name);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;AppSuspend&quot;, &quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```","title":"Suspend Apps Using Package Manager Android Studio","body":"<p>How can I suspend all apps on my fully managed device?</p>\n<p>I've already tried using <code>ResolveInfo</code> and <code>queryIntentActivity</code>, but it only suspends some of the basic user apps (camera, gallery, calendar, etc.), and not apps like Spotify, YouTube, Netflix, Play Store, Gmail, etc. Is there a solution to this problem?</p>\n<p>Here is the code I've been using to suspend apps except for some allowed ones:</p>\n<pre><code>private void suspendAllAppsExceptAllowedApps(DevicePolicyManager dpm, ComponentName adminComponent) {\n    PackageManager pm = getPackageManager();\n    List&lt;String&gt; exemptPackages = Arrays.asList(&quot;com.android.settings&quot;, &quot;com.example.MyAppsSuspend&quot;, &quot;com.android.contacts&quot;, &quot;com.android.phone&quot;);\n    Intent mainIntent = new Intent(Intent.ACTION_MAIN, null);\n    mainIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n    List&lt;ResolveInfo&gt; packages = pm.queryIntentActivities(mainIntent, 0);\n\n    for (ResolveInfo resolveInfo : packages) {\n        try {\n            String package_name = resolveInfo.activityInfo.packageName;\n            if (!exemptPackages.contains(package_name)) {\n                String[] suspended = dpm.setPackagesSuspended(adminComponent, new String[]{package_name}, true);\n                if (suspended != null) {\n                    // Log.i(&quot;AppSuspend&quot;, &quot;Package suspended: &quot; + suspended);\n                } else {\n                    Log.i(&quot;AppSuspend&quot;, &quot;Failed to suspend package: &quot; + package_name);\n                }\n            }\n        } catch (Exception e) {\n            Log.e(&quot;AppSuspend&quot;, &quot;Error: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1692304813,"post_id":76914181,"comment_id":135608998,"body_markdown":"The default implementation of the basic auth filter validates the header if present. The filter doesn&#39;t know the authorisation rules. Authentication is always applied before authorisation. If you want to change it, you have to write your own basic auth filter.","body":"The default implementation of the basic auth filter validates the header if present. The filter doesn&#39;t know the authorisation rules. Authentication is always applied before authorisation. If you want to change it, you have to write your own basic auth filter."},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":1,"creation_date":1692777992,"post_id":76914181,"comment_id":135669152,"body_markdown":"I also thought so at the moment, in order to avoid it, I adopted a form with an ignored path.","body":"I also thought so at the moment, in order to avoid it, I adopted a form with an ignored path."}],"answers":[{"tags":[],"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692215536,"creation_date":1692194070,"answer_id":76914288,"question_id":76914181,"body_markdown":"You were close but this should work for your use case:\r\n\r\n```java\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ACTUATOR&quot;) \r\n                .anyRequest().permitAll()\r\n            .and()\r\n            .httpBasic()\r\n            .and()\r\n            .csrf().disable();\r\n    }\r\n```","title":"Spring security - check authentication only in 1 endpoint","body":"<p>You were close but this should work for your use case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ACTUATOR&quot;) \n                .anyRequest().permitAll()\n            .and()\n            .httpBasic()\n            .and()\n            .csrf().disable();\n    }\n</code></pre>\n"}],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692215536,"creation_date":1692193361,"question_id":76914181,"body_markdown":"I have to following configuration:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private ActuatorProperties actuatorProperties;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n            .passwordEncoder(new BCryptPasswordEncoder())\r\n            .withUser(actuatorProperties.getUser())\r\n            .password(actuatorProperties.getPassword())\r\n            .roles(&quot;ACTUATOR&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ACTUATOR&quot;)\r\n            .and().httpBasic();\r\n    }\r\n}\r\n```\r\n\r\nAs you can see I would like to secure only the actuators endpoint and make other application endpoints public. But when any Basic auth is passed it is also validated (401 returned when any other basic auth is provided that does not match to actuator). In my business case I will always have any basic auth header, and I would like to ignore it (simply pass) when it is not actuator.\r\n\r\nI also tried things like:\r\n```java\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ACTUATOR&quot;)\r\n            .antMatchers(&quot;/**&quot;).permitAll()\r\n            .and().httpBasic();\r\n    }\r\n```\r\n\r\nBut it also does not work.\r\n\r\nStack:\r\n- Java 17\r\n- Spring boot 2.7.12\r\n\r\nUpdate:\r\nI made a version that actually works as I want, but I&#39;m still looking for more &quot;elegant version&quot;\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n           .regexMatchers(&quot;^(?!/actuator).*$&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/actuator/**&quot;)\r\n            .hasRole(&quot;ACTUATOR&quot;)\r\n            .and()\r\n            .httpBasic();\r\n    }\r\n}\r\n```","title":"Spring security - check authentication only in 1 endpoint","body":"<p>I have to following configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private ActuatorProperties actuatorProperties;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n            .passwordEncoder(new BCryptPasswordEncoder())\n            .withUser(actuatorProperties.getUser())\n            .password(actuatorProperties.getPassword())\n            .roles(&quot;ACTUATOR&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ACTUATOR&quot;)\n            .and().httpBasic();\n    }\n}\n</code></pre>\n<p>As you can see I would like to secure only the actuators endpoint and make other application endpoints public. But when any Basic auth is passed it is also validated (401 returned when any other basic auth is provided that does not match to actuator). In my business case I will always have any basic auth header, and I would like to ignore it (simply pass) when it is not actuator.</p>\n<p>I also tried things like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ACTUATOR&quot;)\n            .antMatchers(&quot;/**&quot;).permitAll()\n            .and().httpBasic();\n    }\n</code></pre>\n<p>But it also does not work.</p>\n<p>Stack:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring boot 2.7.12</li>\n</ul>\n<p>Update:\nI made a version that actually works as I want, but I'm still looking for more &quot;elegant version&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n           .regexMatchers(&quot;^(?!/actuator).*$&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/actuator/**&quot;)\n            .hasRole(&quot;ACTUATOR&quot;)\n            .and()\n            .httpBasic();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","eclipse","android-layout","import"],"answers":[{"tags":[],"owner":{"account_id":351236,"reputation":10182,"user_id":687572,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394897000,"creation_date":1394897000,"answer_id":22425681,"question_id":22425310,"body_markdown":"getEditableText return an editable object, and you can&#39;t edit the object like that, so it is null.\r\n\r\nsimply use &quot;getText&quot; instead.\r\n\r\nI don&#39;t know about Cyrillic, but it shouldn&#39;t cause any problems.","title":"Can&#39;t get text from editText Android","body":"<p>getEditableText return an editable object, and you can't edit the object like that, so it is null.</p>\n\n<p>simply use \"getText\" instead.</p>\n\n<p>I don't know about Cyrillic, but it shouldn't cause any problems.</p>\n"},{"tags":[],"owner":{"account_id":3498627,"reputation":878,"user_id":2926158,"accept_rate":58,"display_name":"SeahawksRdaBest"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394949697,"creation_date":1394948831,"answer_id":22433450,"question_id":22425310,"body_markdown":"Can&#39;t really tell what your error is without a logCat.\n\nbut one thing that might fix your problem is replacing \n\n    textData = (EditText) findViewById(R.id.editText);\n    text = textData.getText().toString();\n\nwith \n\n    textData = (EditText)getActivity().findViewById(R.id.editText);\n    text = textData.getText().toString();\n    // Toast for debugging purposes\n    Toast.makeText(getActivity(),text,0).show();\n\nWhen using Fragments you should really read about [getView()](http://developer.android.com/reference/android/app/Fragment.html#getView()) &amp; [getActivity()](http://developer.android.com/reference/android/app/Fragment.html#getActivity()).\n\n\n## Update \nwhere in the xml have you set the text?\n\nyou need to set your text to something before you actually call the getText() command. \n\n     &lt;EditText\n        android:id=&quot;@+id/editText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_below=&quot;@+id/buttonSave&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;top&quot;\n        ----- add this line ------\n        android:text=&quot;whatever you want&quot;\n        --------------------------\n        android:inputType=&quot;textMultiLine&quot; &gt;\n\nGood Luck  ","title":"Can&#39;t get text from editText Android","body":"<p>Can't really tell what your error is without a logCat.</p>\n<p>but one thing that might fix your problem is replacing</p>\n<pre><code>textData = (EditText) findViewById(R.id.editText);\ntext = textData.getText().toString();\n</code></pre>\n<p>with</p>\n<pre><code>textData = (EditText)getActivity().findViewById(R.id.editText);\ntext = textData.getText().toString();\n// Toast for debugging purposes\nToast.makeText(getActivity(),text,0).show();\n</code></pre>\n<p>When using Fragments you should really read about <a href=\"http://developer.android.com/reference/android/app/Fragment.html#getView()\" rel=\"nofollow noreferrer\">getView()</a> &amp; <a href=\"http://developer.android.com/reference/android/app/Fragment.html#getActivity()\" rel=\"nofollow noreferrer\">getActivity()</a>.</p>\n<h2>Update</h2>\n<p>where in the xml have you set the text?</p>\n<p>you need to set your text to something before you actually call the getText() command.</p>\n<pre><code> &lt;EditText\n    android:id=&quot;@+id/editText&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_alignParentLeft=&quot;true&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_below=&quot;@+id/buttonSave&quot;\n    android:ems=&quot;10&quot;\n    android:gravity=&quot;top&quot;\n    ----- add this line ------\n    android:text=&quot;whatever you want&quot;\n    --------------------------\n    android:inputType=&quot;textMultiLine&quot; &gt;\n</code></pre>\n<p>Good Luck</p>\n"},{"tags":[],"owner":{"account_id":6412426,"reputation":593,"user_id":4971736,"display_name":"BenJaminSila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442606110,"creation_date":1442606110,"answer_id":32660046,"question_id":22425310,"body_markdown":"Adding a `getActivity()` did the trick before accessing the editText. \r\n\r\nFor example:\r\n    \r\n`EditText addressText = (EditText) getActivity().findViewById(R.id.location);`","title":"Can&#39;t get text from editText Android","body":"<p>Adding a <code>getActivity()</code> did the trick before accessing the editText. </p>\n\n<p>For example:</p>\n\n<p><code>EditText addressText = (EditText) getActivity().findViewById(R.id.location);</code></p>\n"},{"tags":[],"owner":{"account_id":19388646,"reputation":189,"user_id":14177859,"display_name":"Ensai Tankado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692214437,"creation_date":1692214437,"answer_id":76916553,"question_id":22425310,"body_markdown":"Try just this \r\n\r\nreplace yours:\r\n\r\n    textData = (EditText) findViewById(R.id.editText);\r\n    text = textData.getText().toString();\r\n\r\nwith:\r\n\r\n    textData = (EditText) this.findViewById(R.id.editText);\r\n    text = textData.getText().toString();\r\n\r\nhope it works.","title":"Can&#39;t get text from editText Android","body":"<p>Try just this</p>\n<p>replace yours:</p>\n<pre><code>textData = (EditText) findViewById(R.id.editText);\ntext = textData.getText().toString();\n</code></pre>\n<p>with:</p>\n<pre><code>textData = (EditText) this.findViewById(R.id.editText);\ntext = textData.getText().toString();\n</code></pre>\n<p>hope it works.</p>\n"}],"owner":{"account_id":3769836,"reputation":403,"user_id":3132352,"accept_rate":46,"display_name":"user3132352"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22433450,"answer_count":4,"score":0,"last_activity_date":1692214437,"creation_date":1394895242,"question_id":22425310,"body_markdown":"I&#39;m having some issues with my school project. I can&#39;t get the text from the textbox. I searched for a solution but nothing found.. I&#39;ll be grateful if somebody help me :) \r\n\r\nSo here is my **Java** code:\r\n\r\n    package com.src.vicnote;\r\n    \r\n    import android.support.v7.app.ActionBarActivity;\r\n    import android.support.v7.app.ActionBar;\r\n    import android.support.v4.app.Fragment;\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.os.Build;\r\n    \r\n    public class NewNoteActivity extends ActionBarActivity {\r\n    \r\n    \tButton saveButton;\r\n    \tEditText textData;\r\n    \tContext context;\r\n    \t\r\n    \tString text;\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_new_note);\r\n    \r\n    \t\tsaveButton = (Button) this.findViewById(R.id.buttonSave);\r\n    \t\tsaveButton.setOnClickListener(new View.OnClickListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t\ttextData = (EditText) findViewById(R.id.editText);\r\n    \t\t\t\ttext = textData.getText().toString();\r\n    \t\t\t\t//text = &quot;this is sparta!&quot;;\r\n    \t\t\t\tLog.d(&quot;ADebugTag&quot;, &quot;string: \\&quot;&quot; + text + &quot;\\&quot; end of note text&quot;);\r\n    \t\t\t\tnew SaveClass(text/*, context.getApplicationContext()*/);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tif (savedInstanceState == null) {\r\n    \t\t\tgetSupportFragmentManager().beginTransaction()\r\n    \t\t\t\t\t.add(R.id.container, new PlaceholderFragment()).commit();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \r\n    \t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n    \t\tgetMenuInflater().inflate(R.menu.new_note, menu);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n    \t\t// Handle action bar item clicks here. The action bar will\r\n    \t\t// automatically handle clicks on the Home/Up button, so long\r\n    \t\t// as you specify a parent activity in AndroidManifest.xml.\r\n    \t\tint id = item.getItemId();\r\n    \t\tif (id == R.id.action_settings) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn super.onOptionsItemSelected(item);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * A placeholder fragment containing a simple view.\r\n    \t */\r\n    \tpublic static class PlaceholderFragment extends Fragment {\r\n    \r\n    \t\tpublic PlaceholderFragment() {\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n    \t\t\t\tBundle savedInstanceState) {\r\n    \t\t\tView rootView = inflater.inflate(R.layout.fragment_new_note,\r\n    \t\t\t\t\tcontainer, false);\r\n    \t\t\treturn rootView;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd my **XML**\r\n\r\n    &lt;RelativeLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.src.vicnote.NewNoteActivity&quot;\r\n        tools:ignore=&quot;MergeRootFrame&quot; &gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonSave&quot;\r\n            style=&quot;?android:attr/buttonStyleSmall&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:text=&quot;Save&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/buttonSave&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;top&quot;\r\n            android:inputType=&quot;textMultiLine&quot; &gt;\r\n    \r\n            &lt;requestFocus /&gt;\r\n        &lt;/EditText&gt;\r\n    &lt;/RelativeLayout&gt;    \r\n\r\nAlso I want to ask you what will happen if the text is cyrillic? Will be there any problem?","title":"Can&#39;t get text from editText Android","body":"<p>I'm having some issues with my school project. I can't get the text from the textbox. I searched for a solution but nothing found.. I'll be grateful if somebody help me :) </p>\n\n<p>So here is my <strong>Java</strong> code:</p>\n\n<pre><code>package com.src.vicnote;\n\nimport android.support.v7.app.ActionBarActivity;\nimport android.support.v7.app.ActionBar;\nimport android.support.v4.app.Fragment;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.os.Build;\n\npublic class NewNoteActivity extends ActionBarActivity {\n\n    Button saveButton;\n    EditText textData;\n    Context context;\n\n    String text;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_note);\n\n        saveButton = (Button) this.findViewById(R.id.buttonSave);\n        saveButton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n\n                textData = (EditText) findViewById(R.id.editText);\n                text = textData.getText().toString();\n                //text = \"this is sparta!\";\n                Log.d(\"ADebugTag\", \"string: \\\"\" + text + \"\\\" end of note text\");\n                new SaveClass(text/*, context.getApplicationContext()*/);\n            }\n        });\n\n        if (savedInstanceState == null) {\n            getSupportFragmentManager().beginTransaction()\n                    .add(R.id.container, new PlaceholderFragment()).commit();\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.new_note, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n        if (id == R.id.action_settings) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    /**\n     * A placeholder fragment containing a simple view.\n     */\n    public static class PlaceholderFragment extends Fragment {\n\n        public PlaceholderFragment() {\n        }\n\n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                Bundle savedInstanceState) {\n            View rootView = inflater.inflate(R.layout.fragment_new_note,\n                    container, false);\n            return rootView;\n        }\n    }\n\n}\n</code></pre>\n\n<p>And my <strong>XML</strong></p>\n\n<pre><code>&lt;RelativeLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.src.vicnote.NewNoteActivity\"\n    tools:ignore=\"MergeRootFrame\" &gt;\n\n    &lt;Button\n        android:id=\"@+id/buttonSave\"\n        style=\"?android:attr/buttonStyleSmall\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:text=\"Save\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_below=\"@+id/buttonSave\"\n        android:ems=\"10\"\n        android:gravity=\"top\"\n        android:inputType=\"textMultiLine\" &gt;\n\n        &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n&lt;/RelativeLayout&gt;    \n</code></pre>\n\n<p>Also I want to ask you what will happen if the text is cyrillic? Will be there any problem?</p>\n"},{"tags":["java","logback","logback-classic"],"comments":[{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":0,"creation_date":1599807665,"post_id":63841905,"comment_id":112893773,"body_markdown":"You can find [here](https://stackoverflow.com/questions/46560939/logback-layout-pattern-in-logback-xml) the answer to a similar question. If you think that achieving what you want with Logback is cumbersome, you might want to have a look at Log4j2. [Here](https://www.baeldung.com/java-log-json-output) is some guidance.","body":"You can find <a href=\"https://stackoverflow.com/questions/46560939/logback-layout-pattern-in-logback-xml\">here</a> the answer to a similar question. If you think that achieving what you want with Logback is cumbersome, you might want to have a look at Log4j2. <a href=\"https://www.baeldung.com/java-log-json-output\" rel=\"nofollow noreferrer\">Here</a> is some guidance."},{"owner":{"account_id":18940353,"reputation":177,"user_id":13820546,"display_name":"Harshit Gupta"},"score":0,"creation_date":1599818916,"post_id":63841905,"comment_id":112898886,"body_markdown":"Migrating to log4j2 is not feasible. We will have to change the logs in the code as well.","body":"Migrating to log4j2 is not feasible. We will have to change the logs in the code as well."}],"answers":[{"tags":[],"owner":{"account_id":13789828,"reputation":187,"user_id":9952631,"display_name":"Parth Kansara"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1635786636,"creation_date":1635786636,"answer_id":69800326,"question_id":63841905,"body_markdown":"I have came across the same problem after implementing the `JsonLayout` in my `logback-spring.xml` I realized I cannot put in my own custom pattern.\r\n\r\nWell after googling a lot and wasting few hours I came across 1 more kind of logAppender which allows pattern and also print logs in Json format.\r\n\r\nYou need to use `net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder` encoder instead of `JsonLayout`\r\n\r\nThe sample implementation can be as follows:\r\n\r\n```\r\n&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n   &lt;providers&gt;\r\n     &lt;timestamp&gt;\r\n       &lt;fieldName&gt;timestamp&lt;/fieldName&gt;\r\n        &lt;pattern&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/pattern&gt;\r\n     &lt;/timestamp&gt;\r\n     &lt;pattern&gt; your desired pattern &lt;/pattern&gt;\r\n   &lt;/providers&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nEdit:\r\nFor in-details documentation you can also check the this [github link:][1] \r\n\r\n\r\n  [1]: https://github.com/logstash/logstash-logback-encoder#providers-for-loggingevents","title":"JSON Layout with Pattern in Logback Java","body":"<p>I have came across the same problem after implementing the <code>JsonLayout</code> in my <code>logback-spring.xml</code> I realized I cannot put in my own custom pattern.</p>\n<p>Well after googling a lot and wasting few hours I came across 1 more kind of logAppender which allows pattern and also print logs in Json format.</p>\n<p>You need to use <code>net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder</code> encoder instead of <code>JsonLayout</code></p>\n<p>The sample implementation can be as follows:</p>\n<pre><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n   &lt;providers&gt;\n     &lt;timestamp&gt;\n       &lt;fieldName&gt;timestamp&lt;/fieldName&gt;\n        &lt;pattern&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/pattern&gt;\n     &lt;/timestamp&gt;\n     &lt;pattern&gt; your desired pattern &lt;/pattern&gt;\n   &lt;/providers&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>Edit:\nFor in-details documentation you can also check the this <a href=\"https://github.com/logstash/logstash-logback-encoder#providers-for-loggingevents\" rel=\"noreferrer\">github link:</a></p>\n"},{"tags":[],"owner":{"account_id":24331617,"reputation":1,"user_id":18270378,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645460181,"creation_date":1645460181,"answer_id":71209614,"question_id":63841905,"body_markdown":"you lose the &lt;encoder&gt; between &lt;appender&gt; and &lt;layout&gt; in you lagback.xml\r\n \r\n\r\n    &lt;configuration debug=&quot;true&quot;&gt;\r\n    &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        ***&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;***\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZ&lt;/timestampFormat&gt;\r\n                &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\r\n\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n","title":"JSON Layout with Pattern in Logback Java","body":"<p>you lose the  between  and  in you lagback.xml</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n&lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    ***&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;***\n        &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n            &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSZZ&lt;/timestampFormat&gt;\n            &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\n\n            &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n            &lt;/jsonFormatter&gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692214359,"creation_date":1692214359,"answer_id":76916547,"question_id":63841905,"body_markdown":"As of logback 1.3.8/1.4.8 there is built in support for JSON https://logback.qos.ch/manual/encoders.html#JsonEncoder so you can just change the config\r\n\r\nSo you config file `logback-spring.xml` would look like\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.JsonEncoder&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root&gt;\r\n        &lt;level value=&quot;DEBUG&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\nThen you will get JSON output to the console","title":"JSON Layout with Pattern in Logback Java","body":"<p>As of logback 1.3.8/1.4.8 there is built in support for JSON <a href=\"https://logback.qos.ch/manual/encoders.html#JsonEncoder\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/encoders.html#JsonEncoder</a> so you can just change the config</p>\n<p>So you config file <code>logback-spring.xml</code> would look like</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.JsonEncoder&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;root&gt;\n        &lt;level value=&quot;DEBUG&quot;/&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Then you will get JSON output to the console</p>\n"}],"owner":{"account_id":18940353,"reputation":177,"user_id":13820546,"display_name":"Harshit Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15020,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1692214359,"creation_date":1599806038,"question_id":63841905,"body_markdown":"I am using logback for logging in my spring boot application and using the pattern as per:\r\n\r\n```\r\n&quot;%d [%thread] %-5p [%c] [%F:%L] [trace=%X{X-B3-TraceId:-},span=%X{X-B3-SpanId:-}]  - %msg%n&quot;\r\n```\r\nNow I want to move to the JSON layout for my logs. But I don&#39;t see a way to apply the pattern to my logs as a result many of the above information is lost. \r\n\r\n```\r\n&lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&lt;/timestampFormat&gt;\r\n                &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n            &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n```\r\n\r\nAny alternative way to achieve the same?","title":"JSON Layout with Pattern in Logback Java","body":"<p>I am using logback for logging in my spring boot application and using the pattern as per:</p>\n<pre><code>&quot;%d [%thread] %-5p [%c] [%F:%L] [trace=%X{X-B3-TraceId:-},span=%X{X-B3-SpanId:-}]  - %msg%n&quot;\n</code></pre>\n<p>Now I want to move to the JSON layout for my logs. But I don't see a way to apply the pattern to my logs as a result many of the above information is lost.</p>\n<pre><code>&lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n                &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n                &lt;/jsonFormatter&gt;\n            &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Any alternative way to achieve the same?</p>\n"},{"tags":["java","sql","oracle","hibernate","jdbc"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1678912723,"post_id":75749829,"comment_id":133627340,"body_markdown":"Please [edit] the question to include a [MRE] with: the SQL statement generated by hibernate; the SQL run in the SQL client; the explain plans for both queries. We cannot debug code we cannot see.","body":"Please <a href=\"https://stackoverflow.com/posts/75749829/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with: the SQL statement generated by hibernate; the SQL run in the SQL client; the explain plans for both queries. We cannot debug code we cannot see."},{"owner":{"account_id":5678413,"reputation":1497,"user_id":4490615,"accept_rate":59,"display_name":"JSNoob"},"score":0,"creation_date":1678917358,"post_id":75749829,"comment_id":133628387,"body_markdown":"@MT0 thanks for replying. The thing is, I can&#39;t even reproduce it myself. In the same code base, all other entities are working fine. With one entity, the query executed by hibernate is exceptionally slow. The generated query is like this `select dnbgpcusto0_.custno from apps.some_oracle_view fetch ? rows only`. If I take this generated sql and run it, it only take 1.5 second. That is the reason I want to ask. Because executing the JDBC statement(the sql) is DB&#39;s job, how can there be a difference when executing the same sql? Just looking for an idea of where to look for the root cause.","body":"@MT0 thanks for replying. The thing is, I can&#39;t even reproduce it myself. In the same code base, all other entities are working fine. With one entity, the query executed by hibernate is exceptionally slow. The generated query is like this <code>select dnbgpcusto0_.custno from apps.some_oracle_view fetch ? rows only</code>. If I take this generated sql and run it, it only take 1.5 second. That is the reason I want to ask. Because executing the JDBC statement(the sql) is DB&#39;s job, how can there be a difference when executing the same sql? Just looking for an idea of where to look for the root cause."},{"owner":{"account_id":5678413,"reputation":1497,"user_id":4490615,"accept_rate":59,"display_name":"JSNoob"},"score":0,"creation_date":1678917453,"post_id":75749829,"comment_id":133628406,"body_markdown":"It almost look like DB is treating hibernate differently by deliberately slowing the same query","body":"It almost look like DB is treating hibernate differently by deliberately slowing the same query"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1678917570,"post_id":75749829,"comment_id":133628439,"body_markdown":"What is the SQL client you are using to test it (and what is the `?` for the fetch size). If you test it in SQL developer then it will default to fetching only the first 500 rows and then when you scroll down it will fetch the next 500 rows (etc.) so if you are fetching 20k rows then 1.5 seconds for 500 rows and 60 seconds for 20k rows sounds about right.","body":"What is the SQL client you are using to test it (and what is the <code>?</code> for the fetch size). If you test it in SQL developer then it will default to fetching only the first 500 rows and then when you scroll down it will fetch the next 500 rows (etc.) so if you are fetching 20k rows then 1.5 seconds for 500 rows and 60 seconds for 20k rows sounds about right."},{"owner":{"account_id":5678413,"reputation":1497,"user_id":4490615,"accept_rate":59,"display_name":"JSNoob"},"score":0,"creation_date":1678917890,"post_id":75749829,"comment_id":133628494,"body_markdown":"I&#39;m setting the ? to 1, 10, 100 for comparison. just using the intellij database to connect to oracle. using the database tool run the query, even for 100 record, it takes less than 1.5 seconds. Setting the same size in the java service, it takes 1+ minute","body":"I&#39;m setting the ? to 1, 10, 100 for comparison. just using the intellij database to connect to oracle. using the database tool run the query, even for 100 record, it takes less than 1.5 seconds. Setting the same size in the java service, it takes 1+ minute"},{"owner":{"account_id":5678413,"reputation":1497,"user_id":4490615,"accept_rate":59,"display_name":"JSNoob"},"score":0,"creation_date":1678918372,"post_id":75749829,"comment_id":133628590,"body_markdown":"@MT0 I just ran the same sql in multiple places, oracle sql developer, vscode oracle extension, intellij db view. The result is consistent, no matter the size(number of rows), query return within 2 seconds. However, same query run by hibernate takes 1 - 3 minutes. Is it possible that oracle can discriminate certain jdbc connection?","body":"@MT0 I just ran the same sql in multiple places, oracle sql developer, vscode oracle extension, intellij db view. The result is consistent, no matter the size(number of rows), query return within 2 seconds. However, same query run by hibernate takes 1 - 3 minutes. Is it possible that oracle can discriminate certain jdbc connection?"},{"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"score":0,"creation_date":1678934560,"post_id":75749829,"comment_id":133630764,"body_markdown":"@JSNoob - In theory, sure, Oracle could probably get enough information to figure that you&#39;re using Hibernate to connect.  But it would be silly for them to use that information to intentionally slow your query down.  As others have asked, get the actual query plan from the session that Hibernate is using (and the actual query Hibernate is using).  It is conceivable that your Hibernate session has changed some session-level settings that have caused Oracle to pick a less efficient plan for this query but that is just speculation without a reproducible test case.","body":"@JSNoob - In theory, sure, Oracle could probably get enough information to figure that you&#39;re using Hibernate to connect.  But it would be silly for them to use that information to intentionally slow your query down.  As others have asked, get the actual query plan from the session that Hibernate is using (and the actual query Hibernate is using).  It is conceivable that your Hibernate session has changed some session-level settings that have caused Oracle to pick a less efficient plan for this query but that is just speculation without a reproducible test case."},{"owner":{"account_id":3024546,"reputation":18815,"user_id":2564847,"accept_rate":75,"display_name":"Robin Dijkhof"},"score":0,"creation_date":1682429063,"post_id":75749829,"comment_id":134211280,"body_markdown":"@JSNoob did you find anything yet?","body":"@JSNoob did you find anything yet?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692213208,"creation_date":1692213208,"answer_id":76916447,"question_id":75749829,"body_markdown":"One possible reason for such a behavior is that Hibernate actually fetches all the data and a SQL client might only fetch a few rows. Materializing all rows like Hibernate does obviously takes longer.\r\n\r\nAnother possible reason is that the optimizer treats the &quot;literate SQL&quot; which your SQL client most probably executes differently and performs better than the parameterized version that Hibernate uses. Hibernate uses `PreparedStatement` with parameter markers, so such statements are more generic and the optimizer might be pessimistic about its estimates when planning the query. A &quot;literate SQL&quot; i.e. without parameter markers doesn&#39;t have that problem. The optimizer will create a special query plan exactly for that SQL.\r\n\r\nTo do a fair comparison and rule out these pitfalls, write a JDBC program that uses `PreparedStatement` and parameter markers that reads all the data i.e. goes through the `ResultSet` to the end. Then you can compare the runtimes.\r\n\r\nIf you are affected by the second option, talk to your DB admin about this. I know Oracle has some option to peek for parameter values during optimization, so that might help.","title":"Hibernate execute JDBC statement much slower","body":"<p>One possible reason for such a behavior is that Hibernate actually fetches all the data and a SQL client might only fetch a few rows. Materializing all rows like Hibernate does obviously takes longer.</p>\n<p>Another possible reason is that the optimizer treats the &quot;literate SQL&quot; which your SQL client most probably executes differently and performs better than the parameterized version that Hibernate uses. Hibernate uses <code>PreparedStatement</code> with parameter markers, so such statements are more generic and the optimizer might be pessimistic about its estimates when planning the query. A &quot;literate SQL&quot; i.e. without parameter markers doesn't have that problem. The optimizer will create a special query plan exactly for that SQL.</p>\n<p>To do a fair comparison and rule out these pitfalls, write a JDBC program that uses <code>PreparedStatement</code> and parameter markers that reads all the data i.e. goes through the <code>ResultSet</code> to the end. Then you can compare the runtimes.</p>\n<p>If you are affected by the second option, talk to your DB admin about this. I know Oracle has some option to peek for parameter values during optimization, so that might help.</p>\n"}],"owner":{"account_id":5678413,"reputation":1497,"user_id":4490615,"accept_rate":59,"display_name":"JSNoob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692213208,"creation_date":1678912543,"question_id":75749829,"body_markdown":"TL;DR Same SQL query, when execute in hibernate, takes 70+ seconds, when execute using sql developer, takes only 1.5 second\r\n\r\nI discovered that when a particular query is executed by hibernate, it takes much longer than if I take the generated sql and run it in a sql client.\r\nfor example, after enabled hibernate statics, I can see in the log\r\n\r\n***67839913762 nanoseconds spent executing 2 JDBC statements***; which equals ***1.13 minutes***\r\n\r\nHowever, if I take the generated sql and run it, it only takes max of **1.5 seconds**.\r\n\r\nCan anybody points me to what are the possible cause of this difference?\r\nMy understanding is, the time for executing the JDBC statement is entirely up to the DB right?\r\nIf the SQL is the same, how come its so slow when its executed by hibernate?\r\n\r\nsamle entity class\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\npublic class GpCustomer {\r\n  @Id\r\n  @Column(name = &quot;CUSTNO&quot;)\r\n  private String custno;\r\n\r\n  @Column(name = &quot;COMPANY&quot;)\r\n  private String company;\r\n}\r\n```\r\n\r\nsample repository\r\n```java\r\n@Repository\r\npublic interface GpCustomerRepository extends JpaRepository&lt;GpCustomer, String&gt; {}\r\n```\r\n\r\nsample service\r\n```java\r\n public Page&lt;GpCustomer&gt; findAllCustomers() {\r\n    Pageable limit = PageRequest.of(0,10);\r\n    return GpCustomerRepository.findAll(limit);\r\n  }\r\n\r\n```\r\n\r\nUpdate:\r\nhibernate statistics\r\n```\r\nSession Metrics {\r\n    137214920 nanoseconds spent acquiring 1 JDBC connections;\r\n    0 nanoseconds spent releasing 0 JDBC connections;\r\n    18734658 nanoseconds spent preparing 2 JDBC statements;\r\n    67839913762 nanoseconds spent executing 2 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    0 nanoseconds spent performing 0 L2C puts;\r\n    0 nanoseconds spent performing 0 L2C hits;\r\n    0 nanoseconds spent performing 0 L2C misses;\r\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n    16386 nanoseconds spent executing 2 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n}\r\n```","title":"Hibernate execute JDBC statement much slower","body":"<p>TL;DR Same SQL query, when execute in hibernate, takes 70+ seconds, when execute using sql developer, takes only 1.5 second</p>\n<p>I discovered that when a particular query is executed by hibernate, it takes much longer than if I take the generated sql and run it in a sql client.\nfor example, after enabled hibernate statics, I can see in the log</p>\n<p><em><strong>67839913762 nanoseconds spent executing 2 JDBC statements</strong></em>; which equals <em><strong>1.13 minutes</strong></em></p>\n<p>However, if I take the generated sql and run it, it only takes max of <strong>1.5 seconds</strong>.</p>\n<p>Can anybody points me to what are the possible cause of this difference?\nMy understanding is, the time for executing the JDBC statement is entirely up to the DB right?\nIf the SQL is the same, how come its so slow when its executed by hibernate?</p>\n<p>samle entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@Builder\npublic class GpCustomer {\n  @Id\n  @Column(name = &quot;CUSTNO&quot;)\n  private String custno;\n\n  @Column(name = &quot;COMPANY&quot;)\n  private String company;\n}\n</code></pre>\n<p>sample repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface GpCustomerRepository extends JpaRepository&lt;GpCustomer, String&gt; {}\n</code></pre>\n<p>sample service</p>\n<pre class=\"lang-java prettyprint-override\"><code> public Page&lt;GpCustomer&gt; findAllCustomers() {\n    Pageable limit = PageRequest.of(0,10);\n    return GpCustomerRepository.findAll(limit);\n  }\n\n</code></pre>\n<p>Update:\nhibernate statistics</p>\n<pre><code>Session Metrics {\n    137214920 nanoseconds spent acquiring 1 JDBC connections;\n    0 nanoseconds spent releasing 0 JDBC connections;\n    18734658 nanoseconds spent preparing 2 JDBC statements;\n    67839913762 nanoseconds spent executing 2 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    0 nanoseconds spent performing 0 L2C puts;\n    0 nanoseconds spent performing 0 L2C hits;\n    0 nanoseconds spent performing 0 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    16386 nanoseconds spent executing 2 partial-flushes (flushing a total of 0 entities and 0 collections)\n}\n</code></pre>\n"},{"tags":["java","android-studio","retrofit2","chatbot"],"comments":[{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1651766868,"post_id":72119899,"comment_id":127446699,"body_markdown":"try this:\n\nWhile running the app on a device (or emulator?), I send a message but don&#39;t get reply from bot, and it doesn&#39;t show any error in my Android Studio logcat window. I am using Android Studio with Brain Shop API.","body":"try this:  While running the app on a device (or emulator?), I send a message but don&#39;t get reply from bot, and it doesn&#39;t show any error in my Android Studio logcat window. I am using Android Studio with Brain Shop API."},{"owner":{"account_id":8977428,"reputation":11,"user_id":6693747,"display_name":"groxx"},"score":0,"creation_date":1651819615,"post_id":72119899,"comment_id":127458598,"body_markdown":"on both device as well as emulator","body":"on both device as well as emulator"},{"owner":{"account_id":8977428,"reputation":11,"user_id":6693747,"display_name":"groxx"},"score":0,"creation_date":1651819663,"post_id":72119899,"comment_id":127458612,"body_markdown":"both device as well as emulatir","body":"both device as well as emulatir"}],"answers":[{"tags":[],"owner":{"account_id":25464163,"reputation":1,"user_id":19263470,"display_name":"Abderrahmene Haffaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654253017,"creation_date":1654252905,"answer_id":72488423,"question_id":72119899,"body_markdown":"me too i had this probleme you have just change the url from : \r\n`String url = &quot;http://api.brainshop.ai/get?bid=166135&amp;key=HutlT9ZgXWrPpz3o&amp;uid=[uid]&amp;msg=&quot;+message`\r\nto \r\n\r\n    String url = &quot;http://api.brainshop.ai/get?bid=166135&amp;key=HutlT9ZgXWrPpz3o&amp;uid=uid&amp;msg=&quot;+message\r\n\r\nremove [] from uid","title":"Not Getting reply From Bot while running the app on device -Using Brain Shop API Android Studio","body":"<p>me too i had this probleme you have just change the url from :\n<code>String url = &quot;http://api.brainshop.ai/get?bid=166135&amp;key=HutlT9ZgXWrPpz3o&amp;uid=[uid]&amp;msg=&quot;+message</code>\nto</p>\n<pre><code>String url = &quot;http://api.brainshop.ai/get?bid=166135&amp;key=HutlT9ZgXWrPpz3o&amp;uid=uid&amp;msg=&quot;+message\n</code></pre>\n<p>remove [] from uid</p>\n"},{"tags":[],"owner":{"account_id":21811161,"reputation":1,"user_id":16108703,"display_name":"Tamzid Israk Adol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660424777,"creation_date":1660424777,"answer_id":73347644,"question_id":72119899,"body_markdown":"add this line in the manifest file\r\n\r\n    &lt;application&gt;\r\n    android:usesCleartextTraffic=&quot;true&quot; \r\n    &lt;/application\r\n\r\n","title":"Not Getting reply From Bot while running the app on device -Using Brain Shop API Android Studio","body":"<p>add this line in the manifest file</p>\n<pre><code>&lt;application&gt;\nandroid:usesCleartextTraffic=&quot;true&quot; \n&lt;/application\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29224493,"reputation":1,"user_id":22389555,"display_name":"Latiful Bari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692213030,"creation_date":1692174776,"answer_id":76911830,"question_id":72119899,"body_markdown":"Change \r\n\r\n```java\r\ncall.equals(new Callback&lt;MsgModal&gt;()\r\n```\r\n\r\nTo:    \r\n\r\n```java\r\ncall.enqueue(new Callback&lt;MsgModal&gt;()\r\n```","title":"Not Getting reply From Bot while running the app on device -Using Brain Shop API Android Studio","body":"<p>Change</p>\n<pre class=\"lang-java prettyprint-override\"><code>call.equals(new Callback&lt;MsgModal&gt;()\n</code></pre>\n<p>To:</p>\n<pre class=\"lang-java prettyprint-override\"><code>call.enqueue(new Callback&lt;MsgModal&gt;()\n</code></pre>\n"}],"owner":{"account_id":8977428,"reputation":11,"user_id":6693747,"display_name":"groxx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692213030,"creation_date":1651701552,"question_id":72119899,"body_markdown":"[![enter image description here][1]][1] \r\n   \r\n**Why is my bot not responding**\r\n\r\n\r\n----------\r\n\r\n\r\nNot getting reply from bot while running the app on a device. I&#39;m using Brain Shop API Android Studio in my Android Studio. It doesn&#39;t show any error, but while I am running the app I send a message but didn&#39;t get reply from bot. \r\n\r\n\r\n----------\r\n\r\n\r\n \r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_chatbot);\r\n            chatsRV = findViewById(R.id.idRVChats);\r\n            userMsgEdt = findViewById(R.id.idEdtMessage);\r\n            sendMsgFAB = findViewById(R.id.idFABSend);\r\n            chatsModalArrayList = new ArrayList&lt;&gt;();\r\n            chatRVAdapter = new ChatRVAdapter(chatsModalArrayList,this);\r\n            LinearLayoutManager manager = new LinearLayoutManager(this);\r\n            chatsRV.setLayoutManager(manager);\r\n            chatsRV.setAdapter(chatRVAdapter);\r\n            sendMsgFAB.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (userMsgEdt.getText().toString().isEmpty()){\r\n                        Toast.makeText(chatbot.this, &quot;please enter your message&quot;,Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n\r\n                    getResponse(userMsgEdt.getText().toString());\r\n                    if(userMsgEdt.length()&gt;0) {\r\n                        userMsgEdt.setText(null);\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n\r\n        }\r\n        private void getResponse(String message){\r\n            chatsModalArrayList.add(new ChatsModal( message,USER_KEY));\r\n            chatRVAdapter.notifyDataSetChanged();\r\n            String url = &quot;http://api.brainshop.ai/get?bid=166135&amp;key=HutlT9ZgXWrPpz3o&amp;uid=[uid]&amp;msg=&quot;+message;\r\n            String BASE_URL = &quot;http://api.brainshop.ai/&quot;;\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n            RetrofitAPI retrofitAPI = retrofit.create(RetrofitAPI.class);\r\n            Call&lt;MsgModal&gt; call = retrofitAPI.getMessage(url);\r\n            call.equals(new Callback&lt;MsgModal&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;MsgModal&gt; call, Response&lt;MsgModal&gt; response) {\r\n                    if(response.isSuccessful()){\r\n                        MsgModal modal = response.body();\r\n                        chatsModalArrayList.add(new ChatsModal(modal.getCnt(),BOT_KEY));\r\n                        chatRVAdapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;MsgModal&gt; call, Throwable t) {\r\n                    chatsModalArrayList.add(new ChatsModal(&quot;please revert your question&quot;,BOT_KEY));\r\n                    chatRVAdapter.notifyDataSetChanged();\r\n\r\n                }\r\n            });\r\n\r\n\r\n\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZOIQg.jpg","title":"Not Getting reply From Bot while running the app on device -Using Brain Shop API Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/ZOIQg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZOIQg.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Why is my bot not responding</strong></p>\n<hr />\n<p>Not getting reply from bot while running the app on a device. I'm using Brain Shop API Android Studio in my Android Studio. It doesn't show any error, but while I am running the app I send a message but didn't get reply from bot.</p>\n<hr />\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_chatbot);\n        chatsRV = findViewById(R.id.idRVChats);\n        userMsgEdt = findViewById(R.id.idEdtMessage);\n        sendMsgFAB = findViewById(R.id.idFABSend);\n        chatsModalArrayList = new ArrayList&lt;&gt;();\n        chatRVAdapter = new ChatRVAdapter(chatsModalArrayList,this);\n        LinearLayoutManager manager = new LinearLayoutManager(this);\n        chatsRV.setLayoutManager(manager);\n        chatsRV.setAdapter(chatRVAdapter);\n        sendMsgFAB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (userMsgEdt.getText().toString().isEmpty()){\n                    Toast.makeText(chatbot.this, \"please enter your message\",Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                getResponse(userMsgEdt.getText().toString());\n                if(userMsgEdt.length()&gt;0) {\n                    userMsgEdt.setText(null);\n                }\n            }\n        });\n\n\n\n    }\n    private void getResponse(String message){\n        chatsModalArrayList.add(new ChatsModal( message,USER_KEY));\n        chatRVAdapter.notifyDataSetChanged();\n        String url = \"http://api.brainshop.ai/get?bid=166135&amp;key=HutlT9ZgXWrPpz3o&amp;uid=[uid]&amp;msg=\"+message;\n        String BASE_URL = \"http://api.brainshop.ai/\";\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n        RetrofitAPI retrofitAPI = retrofit.create(RetrofitAPI.class);\n        Call&lt;MsgModal&gt; call = retrofitAPI.getMessage(url);\n        call.equals(new Callback&lt;MsgModal&gt;() {\n            @Override\n            public void onResponse(Call&lt;MsgModal&gt; call, Response&lt;MsgModal&gt; response) {\n                if(response.isSuccessful()){\n                    MsgModal modal = response.body();\n                    chatsModalArrayList.add(new ChatsModal(modal.getCnt(),BOT_KEY));\n                    chatRVAdapter.notifyDataSetChanged();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;MsgModal&gt; call, Throwable t) {\n                chatsModalArrayList.add(new ChatsModal(\"please revert your question\",BOT_KEY));\n                chatRVAdapter.notifyDataSetChanged();\n\n            }\n        });\n\n\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","logstash","java-11"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692210613,"post_id":76916143,"comment_id":135594061,"body_markdown":"That looks like a &quot;warning&quot;, not an error. If you don&#39;t like it, do `set JAVA_HOME=;logstash -f ../test_cyrark_proxy.conf &quot;test&quot;`","body":"That looks like a &quot;warning&quot;, not an error. If you don&#39;t like it, do <code>set JAVA_HOME=;logstash -f ..&#47;test_cyrark_proxy.conf &quot;test&quot;</code>"},{"owner":{"account_id":5547720,"reputation":175,"user_id":4401862,"accept_rate":67,"display_name":"ella"},"score":0,"creation_date":1692213054,"post_id":76916143,"comment_id":135594505,"body_markdown":"@g00se The index is not created though. How can I see more detailed logs?","body":"@g00se The index is not created though. How can I see more detailed logs?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692215283,"post_id":76916143,"comment_id":135594909,"body_markdown":"That would be a different error. I don&#39;t know offhand but it&#39;s not what you asked your question about","body":"That would be a different error. I don&#39;t know offhand but it&#39;s not what you asked your question about"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1692220791,"post_id":76916143,"comment_id":135595879,"body_markdown":"The message &quot;was unexpected at this time&quot; is the sort of error reported by `cmd.exe` if it encounters an error parsing a batch script. Spaces in file paths are notorious for causing these kinds of problems. Does the username you have obscured using `xxx` contain a space, by any chance?","body":"The message &quot;was unexpected at this time&quot; is the sort of error reported by <code>cmd.exe</code> if it encounters an error parsing a batch script. Spaces in file paths are notorious for causing these kinds of problems. Does the username you have obscured using <code>xxx</code> contain a space, by any chance?"},{"owner":{"account_id":5547720,"reputation":175,"user_id":4401862,"accept_rate":67,"display_name":"ella"},"score":0,"creation_date":1692281402,"post_id":76916143,"comment_id":135604307,"body_markdown":"@LukeWoodward xxx was just added to replace my username. No space there. The solution provided by g00se did suppress the error. It&#39;s just that I still don&#39;t know why the data was not synced to logstash.","body":"@LukeWoodward xxx was just added to replace my username. No space there. The solution provided by g00se did suppress the error. It&#39;s just that I still don&#39;t know why the data was not synced to logstash."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1692308834,"post_id":76916143,"comment_id":135609645,"body_markdown":"Sorry, I don&#39;t know. I&#39;ve not used Logstash before. I only commented to say that the &#39;was unrecognised at this time&#39; message was likely something generated by `cmd.exe`.","body":"Sorry, I don&#39;t know. I&#39;ve not used Logstash before. I only commented to say that the &#39;was unrecognised at this time&#39; message was likely something generated by <code>cmd.exe</code>."}],"owner":{"account_id":5547720,"reputation":175,"user_id":4401862,"accept_rate":67,"display_name":"ella"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692212915,"creation_date":1692210142,"question_id":76916143,"body_markdown":"I&#39;m trying to start logstash on my machine, but got below error\r\n```\r\nC:\\Users\\xxx\\Tool\\logstash-7.13.3\\bin&gt;logstash -f ../test_cyrark_proxy.conf\r\n&quot;test&quot;\r\nUsing JAVA_HOME defined java:  &quot;C:\\Users\\xxx\\Tool\\logstash-7.13.3\\jdk\\bin\\java.exe&quot;\r\nWARNING, using JAVA_HOME while Logstash distribution comes with a bundled JDK\r\n\\IBM was unexpected at this time.\r\n```\r\nI checked my JAVA setup.\r\n\r\nMy `JAVA_HOME` value is:\r\n\r\n```\r\nC:\\Users\\xxx&gt;ECHO %JAVA_HOME%\r\nC:\\Users\\xxx\\AppData\\Local\\Software\\319576_JDK_11.0_19w64`\r\n```\r\n\r\nJAVA Version is:\r\n\r\n```\r\nC:\\Users\\xxx&gt;java --version\r\nopenjdk 11.0.12 2021-07-20\r\nOpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\r\nOpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)`\r\n```\r\n\r\nI tried to run with DEBUG mode too, but output is the same.\r\n\r\n```\r\nlogstash -f ../test_cyberark_proxy.conf --log.level DEBUG\r\n```\r\n\r\nHow can I solve this issue?","title":"error &#39;using JAVA_HOME while Logstash distribution comes with a bundled JDK \\IBM was unexpected at this time.&#39; when trying to start logstash on my pc","body":"<p>I'm trying to start logstash on my machine, but got below error</p>\n<pre><code>C:\\Users\\xxx\\Tool\\logstash-7.13.3\\bin&gt;logstash -f ../test_cyrark_proxy.conf\n&quot;test&quot;\nUsing JAVA_HOME defined java:  &quot;C:\\Users\\xxx\\Tool\\logstash-7.13.3\\jdk\\bin\\java.exe&quot;\nWARNING, using JAVA_HOME while Logstash distribution comes with a bundled JDK\n\\IBM was unexpected at this time.\n</code></pre>\n<p>I checked my JAVA setup.</p>\n<p>My <code>JAVA_HOME</code> value is:</p>\n<pre><code>C:\\Users\\xxx&gt;ECHO %JAVA_HOME%\nC:\\Users\\xxx\\AppData\\Local\\Software\\319576_JDK_11.0_19w64`\n</code></pre>\n<p>JAVA Version is:</p>\n<pre><code>C:\\Users\\xxx&gt;java --version\nopenjdk 11.0.12 2021-07-20\nOpenJDK Runtime Environment Microsoft-25199 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Microsoft-25199 (build 11.0.12+7, mixed mode)`\n</code></pre>\n<p>I tried to run with DEBUG mode too, but output is the same.</p>\n<pre><code>logstash -f ../test_cyberark_proxy.conf --log.level DEBUG\n</code></pre>\n<p>How can I solve this issue?</p>\n"},{"tags":["java","sftp","spring-integration","jsch","mainframe"],"comments":[{"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"score":0,"creation_date":1410928895,"post_id":25877027,"comment_id":40505779,"body_markdown":"On the mainframe, the first part of the HLQ (before the first .) must be defined as a valid HLQ. Also you will need access to write to the file. You need to make sure the user-id has access to write to the particular file","body":"On the mainframe, the first part of the HLQ (before the first .) must be defined as a valid HLQ. Also you will need access to write to the file. You need to make sure the user-id has access to write to the particular file"},{"owner":{"account_id":4715695,"reputation":856,"user_id":3814889,"display_name":"Andrey E"},"score":0,"creation_date":1465399990,"post_id":25877027,"comment_id":62887715,"body_markdown":"Have you solved the issue?","body":"Have you solved the issue?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689619723,"creation_date":1410898099,"answer_id":25877546,"question_id":25877027,"body_markdown":"&gt; Why am I getting Permission denied at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2297)\r\n\r\n&gt; We received this error because on some sftp servers / meant the root of the users home directory, but on others it literally meant the server root to which the user obviously did not have permissions to write. We also received this on some sftp servers when the directory to which the user was trying to write didnt exist.\r\n\r\nAnother quote:\r\n&gt;  I was having the problem also with SFTP and figured out that in the parameters for the File Writer FTP in the box to the right of the ftp server name or address you have to put the fully qualified path of the folder you are going to put files in. Otherwise the MIRTH SFTP tries to change directory to / and gets a permission denied.\r\neg. sftp:// 111.222.333.444 / foldera/folderb/folderc/\r\n\r\n&gt; To find out what foldera/folderb/folderc/ should be use some sort of SFTP client that works (not MIRTH) and when it connects you it should show the path of folders that you are in.\r\n\r\n&gt; This worked for me. \r\n\r\nSo, your issue that your SFTP path starts with `/`. The code from `ChannelSftp.put`:\r\n\r\n    dst=remoteAbsolutePath(dst);\r\n    ...\r\n    private String remoteAbsolutePath(String path) throws SftpException{\r\n       if(path.charAt(0)==&#39;/&#39;) return path;\r\n       String cwd=getCwd();\r\n       if(cwd.endsWith(&quot;/&quot;)) return cwd+path;\r\n       return cwd+&quot;/&quot;+path;\r\n    }\r\n\r\nTry to figure out how to avoid `/` in the beginning.","title":"spring integration sftp mainframe :failed to write file; nested exception is 3: Permission denied","body":"<blockquote>\n<p>Why am I getting Permission denied at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2297)</p>\n</blockquote>\n<blockquote>\n<p>We received this error because on some sftp servers / meant the root of the users home directory, but on others it literally meant the server root to which the user obviously did not have permissions to write. We also received this on some sftp servers when the directory to which the user was trying to write didnt exist.</p>\n</blockquote>\n<p>Another quote:</p>\n<blockquote>\n<p>I was having the problem also with SFTP and figured out that in the parameters for the File Writer FTP in the box to the right of the ftp server name or address you have to put the fully qualified path of the folder you are going to put files in. Otherwise the MIRTH SFTP tries to change directory to / and gets a permission denied.\neg. sftp:// 111.222.333.444 / foldera/folderb/folderc/</p>\n</blockquote>\n<blockquote>\n<p>To find out what foldera/folderb/folderc/ should be use some sort of SFTP client that works (not MIRTH) and when it connects you it should show the path of folders that you are in.</p>\n</blockquote>\n<blockquote>\n<p>This worked for me.</p>\n</blockquote>\n<p>So, your issue that your SFTP path starts with <code>/</code>. The code from <code>ChannelSftp.put</code>:</p>\n<pre><code>dst=remoteAbsolutePath(dst);\n...\nprivate String remoteAbsolutePath(String path) throws SftpException{\n   if(path.charAt(0)=='/') return path;\n   String cwd=getCwd();\n   if(cwd.endsWith(&quot;/&quot;)) return cwd+path;\n   return cwd+&quot;/&quot;+path;\n}\n</code></pre>\n<p>Try to figure out how to avoid <code>/</code> in the beginning.</p>\n"},{"tags":[],"owner":{"account_id":1312571,"reputation":321,"user_id":3724142,"accept_rate":44,"display_name":"Tim Schumacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584485467,"creation_date":1584485467,"answer_id":60731310,"question_id":25877027,"body_markdown":"To follow up on what Artem pointed out, when sFTPing to, for example, a cloud Axway sFTP server, where I was told that the current working directory was &quot;/&quot;\r\n\r\nFirst, I used a terminal sftp client:\r\n\r\n    $ sftp username@mft-xxx.axwaycloud.com\r\n    sftp&gt; pwd\r\n    Remote working directory: /\r\n\r\nThis isn&#39;t the root /, but the chrooted directory so that I have no way to determine what the absolute path is. The below code String ftpRemoteDestinationPath = &quot;/&quot; + tempFile.getName(); works though in this situation:\r\n\r\n    \r\n        if (tempFile.exists()) {\r\n\r\n            try {\r\n                axwaySftpRemoteFileTemplate.execute((SessionCallback&lt;ChannelSftp.LsEntry, Void&gt;) session -&gt; {\r\n\r\n                    String ftpRemoteDestinationPath = &quot;/&quot; + tempFile.getName();\r\n\r\n                    logger.info(&quot;FTP local file residing on server: [&quot; + tempFile.getAbsolutePath() + &quot;]&quot;);\r\n\r\n                    InputStream targetStream = new FileInputStream(tempFile);\r\n\r\n                    logger.debug(&quot;sftp uploading file: [&quot; + tempFile.getName() + &quot;] using channel connected to an sftp server :[&quot; + session.getClientInstance().toString() + &quot;]&quot;);\r\n                    session.write(targetStream, ftpRemoteDestinationPath);\r\n\r\n                    return null;\r\n                });\r\n\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Could not send file per SFTP: &quot; + e);\r\n\r\n                throw new SomeRuntimeSftpException(&quot;Error FTPing file &quot; + tempFile.getAbsolutePath() + &quot; &quot; + e.getMessage());\r\n            }\r\n            finally {\r\n                tempFile.delete();\r\n            }\r\n        }","title":"spring integration sftp mainframe :failed to write file; nested exception is 3: Permission denied","body":"<p>To follow up on what Artem pointed out, when sFTPing to, for example, a cloud Axway sFTP server, where I was told that the current working directory was \"/\"</p>\n\n<p>First, I used a terminal sftp client:</p>\n\n<pre><code>$ sftp username@mft-xxx.axwaycloud.com\nsftp&gt; pwd\nRemote working directory: /\n</code></pre>\n\n<p>This isn't the root /, but the chrooted directory so that I have no way to determine what the absolute path is. The below code String ftpRemoteDestinationPath = \"/\" + tempFile.getName(); works though in this situation:</p>\n\n<pre><code>    if (tempFile.exists()) {\n\n        try {\n            axwaySftpRemoteFileTemplate.execute((SessionCallback&lt;ChannelSftp.LsEntry, Void&gt;) session -&gt; {\n\n                String ftpRemoteDestinationPath = \"/\" + tempFile.getName();\n\n                logger.info(\"FTP local file residing on server: [\" + tempFile.getAbsolutePath() + \"]\");\n\n                InputStream targetStream = new FileInputStream(tempFile);\n\n                logger.debug(\"sftp uploading file: [\" + tempFile.getName() + \"] using channel connected to an sftp server :[\" + session.getClientInstance().toString() + \"]\");\n                session.write(targetStream, ftpRemoteDestinationPath);\n\n                return null;\n            });\n\n        } catch (Exception e) {\n            logger.error(\"Could not send file per SFTP: \" + e);\n\n            throw new SomeRuntimeSftpException(\"Error FTPing file \" + tempFile.getAbsolutePath() + \" \" + e.getMessage());\n        }\n        finally {\n            tempFile.delete();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":5039507,"reputation":21,"user_id":4047368,"display_name":"AnnaL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8201,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692212911,"creation_date":1410896175,"question_id":25877027,"body_markdown":"I am trying to sftp file to the mainframe using Spring integration sftp:outbound-gateway:\r\nthis is configuration:\r\n\r\n    &lt;sftp:outbound-gateway id=&quot;putGateway&quot;\r\n    \t\tsession-factory=&quot;sftpSessionFactory&quot;\r\n    \t\trequest-channel=&quot;sftpFileInputChannel&quot;\t\t\r\n    \t\tcommand=&quot;put&quot;\t\t\r\n    \t\texpression=&quot;payload&quot;\t\r\n    \t\tremote-directory=&quot;${remote.upload.directory}&quot;\t  \r\n    \t\tremote-filename-generator-expression=&quot;&#39;${remote.upload.filename}&#39;&quot;\t\t\r\n    \t\tuse-temporary-file-name=&quot;false&quot;\r\n    \t\treply-channel=&quot;replayFromPutSftpChannel&quot;/&gt;\r\n\r\nwhere\r\n\r\n    remote.upload.filename.credit.fmpl=/!DTS4.UP.G3TRF.S60304\r\n    remote.upload.directory=/\r\n\r\nI am getting exception like :\r\n\r\n    Caused by: org.springframework.integration.MessagingException: Failed to write to &#39;//!DTS4.UP.G3TRF.S60304&#39; while uploading the file\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:392)\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.access$500(RemoteFileTemplate.java:56)\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate$1.doInSession(RemoteFileTemplate.java:213)\r\n    \t... 46 more\r\n    Caused by: org.springframework.core.NestedIOException: failed to write file; nested exception is 3: Permission denied\r\n    \tat org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:158)\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:385)\r\n    \t... 48 more\r\n    Caused by: 3: Permission denied\r\n    \tat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2629)\r\n    \tat com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:545)\r\n    \tat com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:491)\r\n    \tat com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:454)\r\n    \tat org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:155)\r\n\r\nIf I am uploading from command line using sftp client, the following works :\r\n\r\n    put filename //!DTS4.UP.G3TRF.S60304\r\n\r\nbut via spring integration , it does not. \r\nThe server, I am trying to sftp to is : IBM z/OS mainframe .\r\n\r\nPlease help if you know how to resolve the issue.\r\n\r\nThank you,\r\nAnna\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"spring integration sftp mainframe :failed to write file; nested exception is 3: Permission denied","body":"<p>I am trying to sftp file to the mainframe using Spring integration sftp:outbound-gateway:\nthis is configuration:</p>\n<pre><code>&lt;sftp:outbound-gateway id=&quot;putGateway&quot;\n        session-factory=&quot;sftpSessionFactory&quot;\n        request-channel=&quot;sftpFileInputChannel&quot;      \n        command=&quot;put&quot;       \n        expression=&quot;payload&quot;    \n        remote-directory=&quot;${remote.upload.directory}&quot;     \n        remote-filename-generator-expression=&quot;'${remote.upload.filename}'&quot;      \n        use-temporary-file-name=&quot;false&quot;\n        reply-channel=&quot;replayFromPutSftpChannel&quot;/&gt;\n</code></pre>\n<p>where</p>\n<pre><code>remote.upload.filename.credit.fmpl=/!DTS4.UP.G3TRF.S60304\nremote.upload.directory=/\n</code></pre>\n<p>I am getting exception like :</p>\n<pre><code>Caused by: org.springframework.integration.MessagingException: Failed to write to '//!DTS4.UP.G3TRF.S60304' while uploading the file\n    at org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:392)\n    at org.springframework.integration.file.remote.RemoteFileTemplate.access$500(RemoteFileTemplate.java:56)\n    at org.springframework.integration.file.remote.RemoteFileTemplate$1.doInSession(RemoteFileTemplate.java:213)\n    ... 46 more\nCaused by: org.springframework.core.NestedIOException: failed to write file; nested exception is 3: Permission denied\n    at org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:158)\n    at org.springframework.integration.file.remote.RemoteFileTemplate.sendFileToRemoteDirectory(RemoteFileTemplate.java:385)\n    ... 48 more\nCaused by: 3: Permission denied\n    at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2629)\n    at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:545)\n    at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:491)\n    at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:454)\n    at org.springframework.integration.sftp.session.SftpSession.write(SftpSession.java:155)\n</code></pre>\n<p>If I am uploading from command line using sftp client, the following works :</p>\n<pre><code>put filename //!DTS4.UP.G3TRF.S60304\n</code></pre>\n<p>but via spring integration , it does not.\nThe server, I am trying to sftp to is : IBM z/OS mainframe .</p>\n<p>Please help if you know how to resolve the issue.</p>\n<p>Thank you,\nAnna</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1376126573,"post_id":18160394,"comment_id":26603196,"body_markdown":"Can you show us the entire method where this is happening?","body":"Can you show us the entire method where this is happening?"},{"owner":{"account_id":1382728,"reputation":7329,"user_id":1315397,"accept_rate":84,"display_name":"John Farrelly"},"score":1,"creation_date":1376817112,"post_id":18160394,"comment_id":26846331,"body_markdown":"You must have some `if` statements around the `query.setParameter` calls  that stop them being executed the first time.  Can you post the full method as @chrylis suggested?","body":"You must have some <code>if</code> statements around the <code>query.setParameter</code> calls  that stop them being executed the first time.  Can you post the full method as @chrylis suggested?"}],"answers":[{"tags":[],"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376816694,"creation_date":1376126822,"answer_id":18160533,"question_id":18160394,"body_markdown":"You could try this:\r\n\r\n    Query query=em.createQuery(&quot;SELECT e FROM Employee e WHERE e.empId = ? and  e.empDepartment = ?&quot;);\r\n    query.setParameter(1, employeId);\r\n    query.setParameter(2, empDepartment);\r\n\r\nIf this is not working either, than there can be a problem with your query content as well, not with the replacement of the parameters. Maybe the the types are not correct. The parameter type is inferred by the context.","title":"org.hibernate.QueryException: Not all named parameters have been set:[]","body":"<p>You could try this:</p>\n\n<pre><code>Query query=em.createQuery(\"SELECT e FROM Employee e WHERE e.empId = ? and  e.empDepartment = ?\");\nquery.setParameter(1, employeId);\nquery.setParameter(2, empDepartment);\n</code></pre>\n\n<p>If this is not working either, than there can be a problem with your query content as well, not with the replacement of the parameters. Maybe the the types are not correct. The parameter type is inferred by the context.</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489439252,"creation_date":1489439252,"answer_id":42773454,"question_id":18160394,"body_markdown":"    Query query=em.createQuery(&quot;SELECT e FROM Employee e WHERE e.empId=:empId and e.empDepartment=:empDepartment&quot;);\r\n    \r\n    query.setParameter(&quot;empId&quot; ,employeId);\r\n    query.setParameter(&quot;empDepartment&quot;,empDepartment);\r\n\r\n\r\nI don&#39;t know what was the reason, but it happened to me once. Try it like this. Just remove white spaces between =:empId and the other parameter.","title":"org.hibernate.QueryException: Not all named parameters have been set:[]","body":"<pre><code>Query query=em.createQuery(\"SELECT e FROM Employee e WHERE e.empId=:empId and e.empDepartment=:empDepartment\");\n\nquery.setParameter(\"empId\" ,employeId);\nquery.setParameter(\"empDepartment\",empDepartment);\n</code></pre>\n\n<p>I don't know what was the reason, but it happened to me once. Try it like this. Just remove white spaces between =:empId and the other parameter.</p>\n"}],"owner":{"account_id":3158257,"reputation":59,"user_id":2670113,"display_name":"user2670113"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21620,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1692212911,"creation_date":1376125717,"question_id":18160394,"body_markdown":"I&#39;m getting extremely strange behavior out of JPA 2.0 \r\n\r\nI&#39;m trying to build a query that looks likes, where employeId and empDepartment are long values passing through java arguments\r\n\r\n    Query query=em.createQuery(&quot;SELECT e FROM Employee e WHERE e.empId = :empId and e.empDepartment = :empDepartment&quot;);\r\n    query.setParameter(&quot;empId&quot; ,employeId);\r\n    query.setParameter(&quot;empDepartment&quot;,empDepartment);\r\n\r\nBut the above query doesnt work for first time, it generating the above error but when second time i trigged the same method again every thing went smoothly, this happens each and every time, what could be the reason for it?\r\n","title":"org.hibernate.QueryException: Not all named parameters have been set:[]","body":"<p>I'm getting extremely strange behavior out of JPA 2.0 </p>\n\n<p>I'm trying to build a query that looks likes, where employeId and empDepartment are long values passing through java arguments</p>\n\n<pre><code>Query query=em.createQuery(\"SELECT e FROM Employee e WHERE e.empId = :empId and e.empDepartment = :empDepartment\");\nquery.setParameter(\"empId\" ,employeId);\nquery.setParameter(\"empDepartment\",empDepartment);\n</code></pre>\n\n<p>But the above query doesnt work for first time, it generating the above error but when second time i trigged the same method again every thing went smoothly, this happens each and every time, what could be the reason for it?</p>\n"},{"tags":["java","android"],"owner":{"account_id":5147672,"reputation":161,"user_id":4123158,"accept_rate":0,"display_name":"SebSky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692211619,"creation_date":1692211619,"question_id":76916294,"body_markdown":"I am using retrofit for all my API calls, problem is that I want to read data from local network (ESP device) hosting http server. It turns out that while connected to desired network, and having mobile data turned on - the call fails . Once mobile data is disabled this works perfectly. How the wifi device registration should be handled properly?","title":"Android: Retrofit fails when trying to get data from local network","body":"<p>I am using retrofit for all my API calls, problem is that I want to read data from local network (ESP device) hosting http server. It turns out that while connected to desired network, and having mobile data turned on - the call fails . Once mobile data is disabled this works perfectly. How the wifi device registration should be handled properly?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":2,"creation_date":1565787365,"post_id":57495113,"comment_id":101459935,"body_markdown":"The `main` method exists in `TcsDigital` but seems you are running `Coor` class. What is the name of the `.java` file you saved? Do you have an individual `.java` file for each class?","body":"The <code>main</code> method exists in <code>TcsDigital</code> but seems you are running <code>Coor</code> class. What is the name of the <code>.java</code> file you saved? Do you have an individual <code>.java</code> file for each class?"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1565787491,"post_id":57495113,"comment_id":101459994,"body_markdown":"IIRC the file-name needs to reflect the &quot;main class&quot; in the source file. So if your &quot;main class&quot; is named `TcsDigital` then the source file needs to be named `TcsDigital.java`.","body":"IIRC the file-name needs to reflect the &quot;main class&quot; in the source file. So if your &quot;main class&quot; is named <code>TcsDigital</code> then the source file needs to be named <code>TcsDigital.java</code>."},{"owner":{"account_id":16507763,"reputation":13,"user_id":11927376,"display_name":"NATHEESHKUMAR R"},"score":3,"creation_date":1567493699,"post_id":57495113,"comment_id":101968205,"body_markdown":"I solved ,the real reson behind this is i should put Tcsdigital class at top of my program, eventhough my file name is Tcsdigital.java.","body":"I solved ,the real reson behind this is i should put Tcsdigital class at top of my program, eventhough my file name is Tcsdigital.java."},{"owner":{"account_id":8586782,"reputation":121,"user_id":6432732,"display_name":"andov"},"score":0,"creation_date":1635277086,"post_id":57495113,"comment_id":123253013,"body_markdown":"Indeed, I had a similar issue and your suggestion worked. Thanks for sharing ;)","body":"Indeed, I had a similar issue and your suggestion worked. Thanks for sharing ;)"}],"answers":[{"tags":[],"owner":{"account_id":16507910,"reputation":86,"user_id":11927491,"display_name":"UniqueHorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1565789416,"creation_date":1565789416,"answer_id":57495764,"question_id":57495113,"body_markdown":"Java is looking for the `main` method in the `classname.java` file you want to compile. The name of the file has to correspond with the class found in it. \r\n\r\nMy suggestion is, that your file is not named `TcsDigital.java`, therefore java is taking the first java class it finds, which is `Coor`. Since `Coor` does not contain a `main` method an error occurs. \r\nYou should try renaming your file to `TcsDigital.java`.\r\n\r\nI recommend to write every java class in a sepreate file and to import them as needed. An additional *Main* class containing only the `main` method is an option, too.","title":"can&#39;t find main(String[]) method in class","body":"<p>Java is looking for the <code>main</code> method in the <code>classname.java</code> file you want to compile. The name of the file has to correspond with the class found in it. </p>\n\n<p>My suggestion is, that your file is not named <code>TcsDigital.java</code>, therefore java is taking the first java class it finds, which is <code>Coor</code>. Since <code>Coor</code> does not contain a <code>main</code> method an error occurs. \nYou should try renaming your file to <code>TcsDigital.java</code>.</p>\n\n<p>I recommend to write every java class in a sepreate file and to import them as needed. An additional <em>Main</em> class containing only the <code>main</code> method is an option, too.</p>\n"},{"tags":[],"owner":{"account_id":17201545,"reputation":101,"user_id":12453161,"display_name":"Anmol Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657898747,"creation_date":1657898747,"answer_id":72996265,"question_id":57495113,"body_markdown":"I don&#39;t know the reason, but if we order out public class higher in the order it is executing without giving error.","title":"can&#39;t find main(String[]) method in class","body":"<p>I don't know the reason, but if we order out public class higher in the order it is executing without giving error.</p>\n"},{"tags":[],"owner":{"account_id":29159463,"reputation":1,"user_id":22338530,"display_name":"dinesh Sundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692211529,"creation_date":1692211529,"answer_id":76916282,"question_id":57495113,"body_markdown":"compile the java program and run java class file by using (java classname) instead of (java classname.java).","title":"can&#39;t find main(String[]) method in class","body":"<p>compile the java program and run java class file by using (java classname) instead of (java classname.java).</p>\n"}],"owner":{"account_id":16507763,"reputation":13,"user_id":11927376,"display_name":"NATHEESHKUMAR R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8399,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":57495764,"answer_count":3,"score":-1,"last_activity_date":1692211529,"creation_date":1565787144,"question_id":57495113,"body_markdown":"I am getting the following error :\r\n\r\n&gt;  can&#39;t find main(String[]) method in class\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass Coor {\r\n    int x, y, w;\r\n    Coor(int x, int y, int w) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.w = w;\r\n    }\r\n}\r\n\r\nclass Xc {\r\n    int c = 0;\r\n    int d = 10;\r\n    Xc(int c, int d) {\r\n        this.c = c;\r\n        this.d = d;\r\n    }\r\n\r\n}\r\n\r\npublic class TcsDigital {\r\n    int n = 4;\r\n    boolean visited = false;\r\n    boolean[][] varray = new boolean[n][n];\r\n    //int array[][]=new int[n][n];\r\n    int array[][] = {\r\n        {\r\n            1,\r\n            8,\r\n            21,\r\n            7\r\n        },\r\n        {\r\n            19,\r\n            17,\r\n            10,\r\n            20\r\n        },\r\n        {\r\n            2,\r\n            18,\r\n            23,\r\n            22\r\n        },\r\n        {\r\n            14,\r\n            25,\r\n            4,\r\n            13\r\n        }\r\n    };\r\n\r\n\r\n    public boolean check(int r, int c) {\r\n        if (r &gt;= 0 &amp;&amp; r &lt; n &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; n &amp;&amp; varray[r][c] == false)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    public void fun(int[][] a, int r, int c, int w) {\r\n        if (r == n - 1 &amp;&amp; c == n - 1) {\r\n            System.out.println(&quot;Reached&quot;);\r\n            return;\r\n        }\r\n\r\n        varray[r][c] = true;\r\n\r\n        if (check(r + 1, c) == true) {\r\n\r\n        }\r\n        if (check(r - 1, c) == true) {\r\n\r\n        }\r\n        if (check(r, c + 1) == true) {\r\n\r\n        }\r\n        if (check(r, c - 1) == true) {\r\n\r\n        }\r\n        varray[r][c] = false;\r\n    }\r\n    public static void main(String[] args) {\r\n        TcsDigital t = new TcsDigital();\r\n        t.fun(t.array, 0, 0, t.array[0][0]);\r\n        //Stack &lt;Coor&gt;stack=new Stack&lt;Coor&gt;();\r\n        Stack &lt; Xc &gt; stacks = new Stack &lt; Xc &gt; ();\r\n\r\n    }\r\n}\r\n```\r\n\r\nAn error occurs can&#39;t find main(String[]) method in class \r\nsays by java version 12.x\r\nwhat reason it says like that, but it compiles well in online compilers like `onlinegdb.com`, GeekforGeek- IDE, but not compile offline in java, I programmed with notepad++ and run directly at the command window\r\n\r\n&gt; can&#39;t find main(String[]) method in class:Coor","title":"can&#39;t find main(String[]) method in class","body":"<p>I am getting the following error :</p>\n\n<blockquote>\n  <p>can't find main(String[]) method in class</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Coor {\n    int x, y, w;\n    Coor(int x, int y, int w) {\n        this.x = x;\n        this.y = y;\n        this.w = w;\n    }\n}\n\nclass Xc {\n    int c = 0;\n    int d = 10;\n    Xc(int c, int d) {\n        this.c = c;\n        this.d = d;\n    }\n\n}\n\npublic class TcsDigital {\n    int n = 4;\n    boolean visited = false;\n    boolean[][] varray = new boolean[n][n];\n    //int array[][]=new int[n][n];\n    int array[][] = {\n        {\n            1,\n            8,\n            21,\n            7\n        },\n        {\n            19,\n            17,\n            10,\n            20\n        },\n        {\n            2,\n            18,\n            23,\n            22\n        },\n        {\n            14,\n            25,\n            4,\n            13\n        }\n    };\n\n\n    public boolean check(int r, int c) {\n        if (r &gt;= 0 &amp;&amp; r &lt; n &amp;&amp; c &gt;= 0 &amp;&amp; c &lt; n &amp;&amp; varray[r][c] == false)\n            return true;\n        return false;\n    }\n\n    public void fun(int[][] a, int r, int c, int w) {\n        if (r == n - 1 &amp;&amp; c == n - 1) {\n            System.out.println(\"Reached\");\n            return;\n        }\n\n        varray[r][c] = true;\n\n        if (check(r + 1, c) == true) {\n\n        }\n        if (check(r - 1, c) == true) {\n\n        }\n        if (check(r, c + 1) == true) {\n\n        }\n        if (check(r, c - 1) == true) {\n\n        }\n        varray[r][c] = false;\n    }\n    public static void main(String[] args) {\n        TcsDigital t = new TcsDigital();\n        t.fun(t.array, 0, 0, t.array[0][0]);\n        //Stack &lt;Coor&gt;stack=new Stack&lt;Coor&gt;();\n        Stack &lt; Xc &gt; stacks = new Stack &lt; Xc &gt; ();\n\n    }\n}\n</code></pre>\n\n<p>An error occurs can't find main(String[]) method in class \nsays by java version 12.x\nwhat reason it says like that, but it compiles well in online compilers like <code>onlinegdb.com</code>, GeekforGeek- IDE, but not compile offline in java, I programmed with notepad++ and run directly at the command window</p>\n\n<blockquote>\n  <p>can't find main(String[]) method in class:Coor</p>\n</blockquote>\n"},{"tags":["java","java.util.concurrent","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692211302,"creation_date":1692211302,"answer_id":76916261,"question_id":76916203,"body_markdown":"**BaseCount and CounterCells**\r\n\r\nThe CHM uses a scheme to approximate the count of elements (size) in the map without locking the whole structure. The primary mechanism is through CounterCells and baseCount.\r\n\r\nbaseCount is the foundational count, used when there&#39;s no contention (multiple threads trying to update the count simultaneously).\r\n\r\nCounterCells are a way to handle contention. Rather than continually contending over a single count value, CHM spreads contention across an array of counters. When a thread finds contention updating baseCount, it can move to update one of the counters in CounterCells array.\r\n\r\n    sumCount()\r\n\r\nThe `sumCount()` method&#39;s responsibility is to aggregate the count of all elements. It starts with the baseCount and then adds every counter in the CounterCells array to it.\r\n\r\nThe reason it uses both is that entries might have been added directly to the baseCount before contention was detected, and other entries might have been added to the CounterCells during contention.\r\n\r\n**Number of CounterCells vs Number of Bins**\r\n\r\nThe number of CounterCells is not the same as the number of bins. They serve different purposes:\r\n\r\nBins in CHM are the actual data structures holding the key-value pairs. The number of bins tends to expand (resize) when the map gets more entries to keep the access time acceptable.\r\n\r\nCounterCells are there just for counting purposes. Their number is more related to the number of concurrently updating threads than the number of entries in the map.\r\n\r\n**Documentation**\r\n\r\nThe primary source of information on these internals is the source code itself. The authors, especially Doug Lea, provide extensive comments in the source code to explain the design decisions and mechanisms.\r\n\r\nBooks by Doug Lea or Brian Goetz, like &quot;Java Concurrency in Practice&quot;, discuss high-level concurrent programming concepts and best practices but might not delve deep into the specifics of the ConcurrentHashMap internals.\r\n\r\nIf you really want to understand CHM and similar complex data structures, often the best approach is to combine reading the source code, referring to academic papers (if available), and running debug sessions or logging to see the behavior in real scenarios.","title":"j.u.c.ConcurrentHashMap - What is baseCount and sumCount?","body":"<p><strong>BaseCount and CounterCells</strong></p>\n<p>The CHM uses a scheme to approximate the count of elements (size) in the map without locking the whole structure. The primary mechanism is through CounterCells and baseCount.</p>\n<p>baseCount is the foundational count, used when there's no contention (multiple threads trying to update the count simultaneously).</p>\n<p>CounterCells are a way to handle contention. Rather than continually contending over a single count value, CHM spreads contention across an array of counters. When a thread finds contention updating baseCount, it can move to update one of the counters in CounterCells array.</p>\n<pre><code>sumCount()\n</code></pre>\n<p>The <code>sumCount()</code> method's responsibility is to aggregate the count of all elements. It starts with the baseCount and then adds every counter in the CounterCells array to it.</p>\n<p>The reason it uses both is that entries might have been added directly to the baseCount before contention was detected, and other entries might have been added to the CounterCells during contention.</p>\n<p><strong>Number of CounterCells vs Number of Bins</strong></p>\n<p>The number of CounterCells is not the same as the number of bins. They serve different purposes:</p>\n<p>Bins in CHM are the actual data structures holding the key-value pairs. The number of bins tends to expand (resize) when the map gets more entries to keep the access time acceptable.</p>\n<p>CounterCells are there just for counting purposes. Their number is more related to the number of concurrently updating threads than the number of entries in the map.</p>\n<p><strong>Documentation</strong></p>\n<p>The primary source of information on these internals is the source code itself. The authors, especially Doug Lea, provide extensive comments in the source code to explain the design decisions and mechanisms.</p>\n<p>Books by Doug Lea or Brian Goetz, like &quot;Java Concurrency in Practice&quot;, discuss high-level concurrent programming concepts and best practices but might not delve deep into the specifics of the ConcurrentHashMap internals.</p>\n<p>If you really want to understand CHM and similar complex data structures, often the best approach is to combine reading the source code, referring to academic papers (if available), and running debug sessions or logging to see the behavior in real scenarios.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692211302,"creation_date":1692210801,"question_id":76916203,"body_markdown":"I am trying to understand the implementation of CHM in Java.\r\n\r\nTwo fields are used when resizing operations are taking place:\r\n\r\n - [baseCount][1]\r\n - [sumCount()][2] function\r\n\r\n`baseCount` is described as :\r\n\r\n    /\r\n\r\n    **\r\n         * Base counter value, used mainly when there is no contention,\r\n         * but also as a fallback during table initialization\r\n         * races. Updated via CAS.\r\n         */\r\n\r\nThis seems like a cached value which can be read quickly for size operations, but then I see that `sumCount()` seems to be adding `baseCount` before computing it, which does not make much sense:\r\n\r\n     final long sumCount() {\r\n            CounterCell[] cs = counterCells;\r\n            long sum = baseCount; // it takes baseCount and then adds to it ?\r\n            if (cs != null) {\r\n                for (CounterCell c : cs)\r\n                    if (c != null)\r\n                        sum += c.value;\r\n            }\r\n            return sum;\r\n        }\r\n\r\n**Are the number of CounterCells the same as the number of bin ?**\r\n\r\nCan anyone help understand the basics I need to understand this ?\r\n\r\nI really could not find any docs regarding any of this, even in books by [Doug Lea][3] or [Brian Goetz][4].\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/af5bf81754072fa5879726cfacb7404892b553f0/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L790\r\n  [2]: https://github.com/openjdk/jdk/blob/af5bf81754072fa5879726cfacb7404892b553f0/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2572\r\n  [3]: https://leon-wtf.github.io/doc/concurrent%20programming%20in%20java%20design%20principles%20and%20pattern.pdf\r\n  [4]: https://leon-wtf.github.io/doc/java-concurrency-in-practice.pdf","title":"j.u.c.ConcurrentHashMap - What is baseCount and sumCount?","body":"<p>I am trying to understand the implementation of CHM in Java.</p>\n<p>Two fields are used when resizing operations are taking place:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/af5bf81754072fa5879726cfacb7404892b553f0/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L790\" rel=\"nofollow noreferrer\">baseCount</a></li>\n<li><a href=\"https://github.com/openjdk/jdk/blob/af5bf81754072fa5879726cfacb7404892b553f0/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L2572\" rel=\"nofollow noreferrer\">sumCount()</a> function</li>\n</ul>\n<p><code>baseCount</code> is described as :</p>\n<pre><code>/\n\n**\n     * Base counter value, used mainly when there is no contention,\n     * but also as a fallback during table initialization\n     * races. Updated via CAS.\n     */\n</code></pre>\n<p>This seems like a cached value which can be read quickly for size operations, but then I see that <code>sumCount()</code> seems to be adding <code>baseCount</code> before computing it, which does not make much sense:</p>\n<pre><code> final long sumCount() {\n        CounterCell[] cs = counterCells;\n        long sum = baseCount; // it takes baseCount and then adds to it ?\n        if (cs != null) {\n            for (CounterCell c : cs)\n                if (c != null)\n                    sum += c.value;\n        }\n        return sum;\n    }\n</code></pre>\n<p><strong>Are the number of CounterCells the same as the number of bin ?</strong></p>\n<p>Can anyone help understand the basics I need to understand this ?</p>\n<p>I really could not find any docs regarding any of this, even in books by <a href=\"https://leon-wtf.github.io/doc/concurrent%20programming%20in%20java%20design%20principles%20and%20pattern.pdf\" rel=\"nofollow noreferrer\">Doug Lea</a> or <a href=\"https://leon-wtf.github.io/doc/java-concurrency-in-practice.pdf\" rel=\"nofollow noreferrer\">Brian Goetz</a>.</p>\n"},{"tags":["java","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617568370,"creation_date":1617568370,"answer_id":66945614,"question_id":66945573,"body_markdown":"You have the [`@ApiParam`][1] annotation you can use, it has a property `required` which you can put to `true` or `false` depending on your needs\r\n\r\n```\r\n@ApiOperation(\r\n  value = &quot;Get all cars&quot;\r\n)\r\n@GetMapping(value = &quot;/cars&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic ResponseEntity&lt;ResponseDTO&lt;CarDTO&gt;&gt; getCars(\r\n  @ApiParam(required = true) @RequestParam(defaultValue = &quot;1&quot;) Integer page,\r\n  @ApiParam(required = false) @RequestParam(required = false) String status) {\r\n  ResponseDTO&lt;CarDTO&gt; response = service.getCars(page, status);\r\n  return ResponseEntity.ok(response);\r\n}\r\n```\r\n\r\nAs you can see in the [documentation][1], it has other properties like\r\n- `access`\r\n- `allowableValues`\r\n- `allowMultiple`\r\n- `defaultValue`\r\n- `name`\r\n- `value`\r\n\r\n\r\n  [1]: https://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiParam.html","title":"How Do I Mark A RequestParam As Optional In Swagger?","body":"<p>You have the <a href=\"https://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiParam.html\" rel=\"nofollow noreferrer\"><code>@ApiParam</code></a> annotation you can use, it has a property <code>required</code> which you can put to <code>true</code> or <code>false</code> depending on your needs</p>\n<pre><code>@ApiOperation(\n  value = &quot;Get all cars&quot;\n)\n@GetMapping(value = &quot;/cars&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;ResponseDTO&lt;CarDTO&gt;&gt; getCars(\n  @ApiParam(required = true) @RequestParam(defaultValue = &quot;1&quot;) Integer page,\n  @ApiParam(required = false) @RequestParam(required = false) String status) {\n  ResponseDTO&lt;CarDTO&gt; response = service.getCars(page, status);\n  return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>As you can see in the <a href=\"https://docs.swagger.io/swagger-core/v1.5.0/apidocs/io/swagger/annotations/ApiParam.html\" rel=\"nofollow noreferrer\">documentation</a>, it has other properties like</p>\n<ul>\n<li><code>access</code></li>\n<li><code>allowableValues</code></li>\n<li><code>allowMultiple</code></li>\n<li><code>defaultValue</code></li>\n<li><code>name</code></li>\n<li><code>value</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9027978,"reputation":47,"user_id":8485802,"display_name":"Heverton Silva Cruz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692211269,"creation_date":1692211269,"answer_id":76916251,"question_id":66945573,"body_markdown":"You have the **@ApiParam** annotation you can use, it has a property **hidden** which you can put to **true** or **false**.\r\n\r\nEx.:\r\n\r\n@ApiParam(value = &quot;.....&quot;, defaultValue = &quot;true&quot;, hidden = true) @QueryParam(&quot;restricao&quot;) boolean restricao","title":"How Do I Mark A RequestParam As Optional In Swagger?","body":"<p>You have the <strong>@ApiParam</strong> annotation you can use, it has a property <strong>hidden</strong> which you can put to <strong>true</strong> or <strong>false</strong>.</p>\n<p>Ex.:</p>\n<p>@ApiParam(value = &quot;.....&quot;, defaultValue = &quot;true&quot;, hidden = true) @QueryParam(&quot;restricao&quot;) boolean restricao</p>\n"}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692211269,"creation_date":1617568078,"question_id":66945573,"body_markdown":"I am generating the swagger docs for my REST API using SpringFox.\r\n\r\nI have added an optional parameter to my API now:\r\n\r\n\r\n    @ApiOperation(\r\n      value = &quot;Get all cars&quot;\r\n    )\r\n    @GetMapping(value = &quot;/cars&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;ResponseDTO&lt;CarDTO&gt;&gt; getCars(\r\n      @RequestParam(defaultValue = &quot;1&quot;) Integer page,\r\n      @RequestParam(required = false) String status) {\r\n      ResponseDTO&lt;CarDTO&gt; response = service.getCars(page, status);\r\n      return ResponseEntity.ok(response);\r\n    }\r\n\r\nHow do I highlight in the swagger docs that one is required and the other is optional?","title":"How Do I Mark A RequestParam As Optional In Swagger?","body":"<p>I am generating the swagger docs for my REST API using SpringFox.</p>\n<p>I have added an optional parameter to my API now:</p>\n<pre><code>@ApiOperation(\n  value = &quot;Get all cars&quot;\n)\n@GetMapping(value = &quot;/cars&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;ResponseDTO&lt;CarDTO&gt;&gt; getCars(\n  @RequestParam(defaultValue = &quot;1&quot;) Integer page,\n  @RequestParam(required = false) String status) {\n  ResponseDTO&lt;CarDTO&gt; response = service.getCars(page, status);\n  return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>How do I highlight in the swagger docs that one is required and the other is optional?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":118355,"reputation":6273,"user_id":309334,"accept_rate":88,"display_name":"Eponymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692211220,"creation_date":1692211220,"answer_id":76916245,"question_id":76916244,"body_markdown":"# TL;DR\r\nUse `new BigDecimal(double_value)` instead of `BigDecimal.valueOf(Double)` if you care about accuracy. The API note is not talking about you.\r\n\r\n# Details\r\n\r\n(I&#39;m answering my own question because I discovered the answer as I finished writing the question. But I didn&#39;t see a good answer on StackOverflow.)\r\n\r\nBecause the difference between the converted value and the original value is 192, that makes the value after passing through double -9223372036854776000. This implies that they are converting the string &quot;-9.223372036854776E18&quot; or something like it.\r\n\r\nThis is precisely what [the docs for `BigDecimal.valueOf(Double)` in Java 11 specify](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#valueOf(double))\r\n&gt; Translates a double into a `BigDecimal`, using the double&#39;s canonical string representation provided by the `Double.toString(double)` method.\r\n\r\nThe API note on `BigDecimal.valueOf(Double)` says\r\n&gt; This is generally the preferred way to convert a double (or float) into a `BigDecima`l, as the value returned is equal to that resulting from constructing a `BigDecimal` from the result of using `Double.toString(double)`.\r\n\r\nHowever, that conversion loses information. If you use `new BigDecimal(double_value)` instead, it will round-trip successfully. The following succeeds.\r\n\r\n```java\r\n  @Test\r\n  void checkThatMin64BitIntegerAsBigDecimalRoundTripsThroughDouble() {\r\n    final var min64BitIntegerAsBigDecimal = new BigDecimal(\r\n      &quot;-9223372036854775808&quot;\r\n    );\r\n    final var min64BitIntegerAsDouble = min64BitIntegerAsBigDecimal.doubleValue();\r\n    final var min64BitIntegerAsBigDecimalAgain = new BigDecimal(\r\n      min64BitIntegerAsDouble\r\n    );\r\n    assertEquals(\r\n      BigDecimal.ZERO,\r\n      min64BitIntegerAsBigDecimal.subtract(min64BitIntegerAsBigDecimalAgain)\r\n    );\r\n  }\r\n```","title":"Should the minimum signed 64-bit integer when represented as a BigDecimal round-trip cleanly through Double?","body":"<h1>TL;DR</h1>\n<p>Use <code>new BigDecimal(double_value)</code> instead of <code>BigDecimal.valueOf(Double)</code> if you care about accuracy. The API note is not talking about you.</p>\n<h1>Details</h1>\n<p>(I'm answering my own question because I discovered the answer as I finished writing the question. But I didn't see a good answer on StackOverflow.)</p>\n<p>Because the difference between the converted value and the original value is 192, that makes the value after passing through double -9223372036854776000. This implies that they are converting the string &quot;-9.223372036854776E18&quot; or something like it.</p>\n<p>This is precisely what <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#valueOf(double)\" rel=\"nofollow noreferrer\">the docs for <code>BigDecimal.valueOf(Double)</code> in Java 11 specify</a></p>\n<blockquote>\n<p>Translates a double into a <code>BigDecimal</code>, using the double's canonical string representation provided by the <code>Double.toString(double)</code> method.</p>\n</blockquote>\n<p>The API note on <code>BigDecimal.valueOf(Double)</code> says</p>\n<blockquote>\n<p>This is generally the preferred way to convert a double (or float) into a <code>BigDecima</code>l, as the value returned is equal to that resulting from constructing a <code>BigDecimal</code> from the result of using <code>Double.toString(double)</code>.</p>\n</blockquote>\n<p>However, that conversion loses information. If you use <code>new BigDecimal(double_value)</code> instead, it will round-trip successfully. The following succeeds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void checkThatMin64BitIntegerAsBigDecimalRoundTripsThroughDouble() {\n    final var min64BitIntegerAsBigDecimal = new BigDecimal(\n      &quot;-9223372036854775808&quot;\n    );\n    final var min64BitIntegerAsDouble = min64BitIntegerAsBigDecimal.doubleValue();\n    final var min64BitIntegerAsBigDecimalAgain = new BigDecimal(\n      min64BitIntegerAsDouble\n    );\n    assertEquals(\n      BigDecimal.ZERO,\n      min64BitIntegerAsBigDecimal.subtract(min64BitIntegerAsBigDecimalAgain)\n    );\n  }\n</code></pre>\n"}],"owner":{"account_id":118355,"reputation":6273,"user_id":309334,"accept_rate":88,"display_name":"Eponymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692211220,"creation_date":1692211220,"question_id":76916244,"body_markdown":"I have some code that expects that `BigDecimal` values that have an exact representation as a `Double` will round-trip cleanly. That is, if I take that `BigDecimal`, convert it to a `Double`, and convert the result back to a `BigDecimal`, the result will compare equal to the original.\r\n\r\nHowever, the following test case fails with the message `org.opentest4j.AssertionFailedError: expected: &lt;0&gt; but was: &lt;192&gt;` in openjdk 11.0.19 2023-04-18 LTS.\r\n```java\r\n  @Test\r\n  void checkThatMin64BitIntegerAsBigDecimalRoundTripsThroughDouble() {\r\n    final var min64BitIntegerAsBigDecimal = new BigDecimal(\r\n      &quot;-9223372036854775808&quot;\r\n    );\r\n    final var min64BitIntegerAsDouble = min64BitIntegerAsBigDecimal.doubleValue();\r\n    final var min64BitIntegerAsBigDecimalAgain = BigDecimal.valueOf(\r\n      min64BitIntegerAsDouble\r\n    );\r\n    assertEquals(\r\n      BigDecimal.ZERO,\r\n      min64BitIntegerAsBigDecimal.subtract(min64BitIntegerAsBigDecimalAgain)\r\n    );\r\n  }\r\n```\r\n\r\n![-2^63](https://chart.googleapis.com/chart?cht=tx&amp;chl=-2%5E%7B63%7D) is -1 times a power of 2 with a small enough exponent that [it has an exact representation as a double](https://float.exposed/0xc3e0000000000000). So, I&#39;d expect it to round-trip cleanly. What is happening?\r\n\r\n","title":"Should the minimum signed 64-bit integer when represented as a BigDecimal round-trip cleanly through Double?","body":"<p>I have some code that expects that <code>BigDecimal</code> values that have an exact representation as a <code>Double</code> will round-trip cleanly. That is, if I take that <code>BigDecimal</code>, convert it to a <code>Double</code>, and convert the result back to a <code>BigDecimal</code>, the result will compare equal to the original.</p>\n<p>However, the following test case fails with the message <code>org.opentest4j.AssertionFailedError: expected: &lt;0&gt; but was: &lt;192&gt;</code> in openjdk 11.0.19 2023-04-18 LTS.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void checkThatMin64BitIntegerAsBigDecimalRoundTripsThroughDouble() {\n    final var min64BitIntegerAsBigDecimal = new BigDecimal(\n      &quot;-9223372036854775808&quot;\n    );\n    final var min64BitIntegerAsDouble = min64BitIntegerAsBigDecimal.doubleValue();\n    final var min64BitIntegerAsBigDecimalAgain = BigDecimal.valueOf(\n      min64BitIntegerAsDouble\n    );\n    assertEquals(\n      BigDecimal.ZERO,\n      min64BitIntegerAsBigDecimal.subtract(min64BitIntegerAsBigDecimalAgain)\n    );\n  }\n</code></pre>\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=-2%5E%7B63%7D\" alt=\"-2^63\" /> is -1 times a power of 2 with a small enough exponent that <a href=\"https://float.exposed/0xc3e0000000000000\" rel=\"nofollow noreferrer\">it has an exact representation as a double</a>. So, I'd expect it to round-trip cleanly. What is happening?</p>\n"},{"tags":["java","amazon-dynamodb","aws-sdk","aws-java-sdk","aws-java-sdk-dynamodb"],"owner":{"account_id":22513494,"reputation":3,"user_id":16708080,"display_name":"StackoverflowNinja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692210186,"creation_date":1692207582,"question_id":76915890,"body_markdown":"Say currently I have a DDB that looks like this:\r\n\r\n```\r\nEMP_DATA {\r\n  empName: String,\r\n  empId: Number\r\n}\r\n```\r\n\r\nNow, I want to add a new `List` field to this table called `iceCreamFlavorsTried`. An employee can have tried multiple ice cream flavors. The schema of this field will look like this:\r\n\r\n```\r\niceCreamFlavorsTried {\r\n  [\r\n  flavor: String,\r\n  rating: Number,\r\n  lastTimeFlavorHasBeenTried: Long, //Long represents Millis timestamp\r\n  outdoorTemperatureWhenLastTried: Number\r\n  ]\r\n}\r\n```\r\n\r\nSo, I kind of want the schema to look like:\r\n\r\n```\r\nEMP_DATA {\r\n  empName: String,\r\n  empId: Number,\r\n  iceCreamFlavorsTried: List\r\n}\r\n```\r\n\r\nThings my Java code will need to do via AWS/DDB SDK are:\r\n\r\n1. Each time an employee tries a new ice cream flavor, they should be able to add that flavor to the `iceCreamFlavorsTried` list associated to their employee record in the DDB table.\r\n\r\n2. Every time an employee tries a flavor they have already previously tried (hence this flavor already exists in the `iceCreamFlavorsTried` list for that employee&#39;s record in the DDB table), the code needs to update that item in the list (instead of creating a new item in the list).\r\n\r\nFor example, suppose at t=1692204729004, Mike (`empId: 1234`) has tried his very first flavor of ice cream, which is `{flavor: &quot;Double Chocolate&quot;, rating: 8.5, lastTimeFlavorHasBeenTried: 1692204729004, outdoorTemperatureWhenLastTried: 64}`. This means his record in EMP_DATA should look like:\r\n\r\n```\r\n{empName: &quot;Mike&quot;, empId: 1234, iceCreamFlavorsTried: [{flavor: &quot;Double Chocolate&quot;, rating: 8.5, lastTimeFlavorHasBeenTried: 1692204729004, outdoorTemperatureWhenLastTried: 64}]} \r\n```\r\n\r\nNow, at t=1692204739004, he tries a new flavor. He tried the Strawberry flavor. He rated it 9.5 and it was 80 degrees when he tried it. Now, his record in the EMP_DATA table should look like:\r\n\r\n```\r\n{empName: &quot;Mike&quot;, empId: 1234, iceCreamFlavorsTried: [{flavor: &quot;Double Chocolate&quot;, rating: 8.5, lastTimeFlavorHasBeenTried: 1692204729004, outdoorTemperatureWhenLastTried: 64}, {flavor: &quot;Strawberry&quot;, rating: 9.5, lastTimeFlavorHasBeenTried: 1692204739004, outdoorTemperatureWhenLastTried: 80}]}\r\n```\r\n\r\nFinally, at t=1692204749004, he tries the Double Chocolate flavor again. He rated it a 9.1 and it was 97 degrees when he tried it. Now, his record in the EMP_DATA table should look like (notice how the `iceCreamFlavorsTried` list still only has two items in it, with one of them simply being updated - the Double Chocolate item was updated to reflect the new rating, time flavor was last tried, and the temperature when flavor was last tried):\r\n\r\n```\r\n{empName: &quot;Mike&quot;, empId: 1234, iceCreamFlavorsTried: [{flavor: &quot;Double Chocolate&quot;, rating: 9.1, lastTimeFlavorHasBeenTried: 1692204749004, outdoorTemperatureWhenLastTried: 97}, {flavor: &quot;Strawberry&quot;, rating: 9.5, lastTimeFlavorHasBeenTried: 1692204739004, outdoorTemperatureWhenLastTried: 80}]}\r\n```\r\n\r\nI want to understand how to most simply do this write/update to a DDB table via the DDB/AWS Java SDK. Assume I already have access to a DDB client `AmazonDynamoDB dynamoClient`. I want to understand how to write this new `IceCreamFlavorsTried: List` field to my existing table. Which operations of this client should I use? How do I pass these values in as `AttributeValue`&#39;s so that I can write them to DDB? I already have two Java classes called `IceCreamFlavorTried` and `IceCreamFlavorsTried`, which look like this:\r\n\r\n```\r\nIceCreamFlavorTried {\r\n  String flavor;\r\n  Integer rating;\r\n  Long lastTimeFlavorHasBeenTried; //Long represents Millis timestamp\r\n  Integer outdoorTemperatureWhenLastTried;\r\n}\r\n\r\nIceCreamFlavorsTried {\r\n  List&lt;IceCreamFlavorTried&gt; iceCreamFlavorsTried;\r\n}\r\n```\r\n\r\nI am assuming that `IceCreamFlavorTried` (for a single flavor) will end up being a `Map` in DDB. So I am guessing, as far as DDB is concerned, we would be writing a list of maps to DDB?\r\n\r\nAny help is appreciated. And if you have any clarifying questions, please do ask!","title":"How to write a list of maps in DDB via AWS/DDB Java SDK?","body":"<p>Say currently I have a DDB that looks like this:</p>\n<pre><code>EMP_DATA {\n  empName: String,\n  empId: Number\n}\n</code></pre>\n<p>Now, I want to add a new <code>List</code> field to this table called <code>iceCreamFlavorsTried</code>. An employee can have tried multiple ice cream flavors. The schema of this field will look like this:</p>\n<pre><code>iceCreamFlavorsTried {\n  [\n  flavor: String,\n  rating: Number,\n  lastTimeFlavorHasBeenTried: Long, //Long represents Millis timestamp\n  outdoorTemperatureWhenLastTried: Number\n  ]\n}\n</code></pre>\n<p>So, I kind of want the schema to look like:</p>\n<pre><code>EMP_DATA {\n  empName: String,\n  empId: Number,\n  iceCreamFlavorsTried: List\n}\n</code></pre>\n<p>Things my Java code will need to do via AWS/DDB SDK are:</p>\n<ol>\n<li><p>Each time an employee tries a new ice cream flavor, they should be able to add that flavor to the <code>iceCreamFlavorsTried</code> list associated to their employee record in the DDB table.</p>\n</li>\n<li><p>Every time an employee tries a flavor they have already previously tried (hence this flavor already exists in the <code>iceCreamFlavorsTried</code> list for that employee's record in the DDB table), the code needs to update that item in the list (instead of creating a new item in the list).</p>\n</li>\n</ol>\n<p>For example, suppose at t=1692204729004, Mike (<code>empId: 1234</code>) has tried his very first flavor of ice cream, which is <code>{flavor: &quot;Double Chocolate&quot;, rating: 8.5, lastTimeFlavorHasBeenTried: 1692204729004, outdoorTemperatureWhenLastTried: 64}</code>. This means his record in EMP_DATA should look like:</p>\n<pre><code>{empName: &quot;Mike&quot;, empId: 1234, iceCreamFlavorsTried: [{flavor: &quot;Double Chocolate&quot;, rating: 8.5, lastTimeFlavorHasBeenTried: 1692204729004, outdoorTemperatureWhenLastTried: 64}]} \n</code></pre>\n<p>Now, at t=1692204739004, he tries a new flavor. He tried the Strawberry flavor. He rated it 9.5 and it was 80 degrees when he tried it. Now, his record in the EMP_DATA table should look like:</p>\n<pre><code>{empName: &quot;Mike&quot;, empId: 1234, iceCreamFlavorsTried: [{flavor: &quot;Double Chocolate&quot;, rating: 8.5, lastTimeFlavorHasBeenTried: 1692204729004, outdoorTemperatureWhenLastTried: 64}, {flavor: &quot;Strawberry&quot;, rating: 9.5, lastTimeFlavorHasBeenTried: 1692204739004, outdoorTemperatureWhenLastTried: 80}]}\n</code></pre>\n<p>Finally, at t=1692204749004, he tries the Double Chocolate flavor again. He rated it a 9.1 and it was 97 degrees when he tried it. Now, his record in the EMP_DATA table should look like (notice how the <code>iceCreamFlavorsTried</code> list still only has two items in it, with one of them simply being updated - the Double Chocolate item was updated to reflect the new rating, time flavor was last tried, and the temperature when flavor was last tried):</p>\n<pre><code>{empName: &quot;Mike&quot;, empId: 1234, iceCreamFlavorsTried: [{flavor: &quot;Double Chocolate&quot;, rating: 9.1, lastTimeFlavorHasBeenTried: 1692204749004, outdoorTemperatureWhenLastTried: 97}, {flavor: &quot;Strawberry&quot;, rating: 9.5, lastTimeFlavorHasBeenTried: 1692204739004, outdoorTemperatureWhenLastTried: 80}]}\n</code></pre>\n<p>I want to understand how to most simply do this write/update to a DDB table via the DDB/AWS Java SDK. Assume I already have access to a DDB client <code>AmazonDynamoDB dynamoClient</code>. I want to understand how to write this new <code>IceCreamFlavorsTried: List</code> field to my existing table. Which operations of this client should I use? How do I pass these values in as <code>AttributeValue</code>'s so that I can write them to DDB? I already have two Java classes called <code>IceCreamFlavorTried</code> and <code>IceCreamFlavorsTried</code>, which look like this:</p>\n<pre><code>IceCreamFlavorTried {\n  String flavor;\n  Integer rating;\n  Long lastTimeFlavorHasBeenTried; //Long represents Millis timestamp\n  Integer outdoorTemperatureWhenLastTried;\n}\n\nIceCreamFlavorsTried {\n  List&lt;IceCreamFlavorTried&gt; iceCreamFlavorsTried;\n}\n</code></pre>\n<p>I am assuming that <code>IceCreamFlavorTried</code> (for a single flavor) will end up being a <code>Map</code> in DDB. So I am guessing, as far as DDB is concerned, we would be writing a list of maps to DDB?</p>\n<p>Any help is appreciated. And if you have any clarifying questions, please do ask!</p>\n"},{"tags":["java","dynamic","byte-buddy"],"owner":{"account_id":15125013,"reputation":133,"user_id":10914633,"display_name":"Y G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692209861,"creation_date":1692134374,"question_id":76909170,"body_markdown":"I&#39;m looking into creating a fixture system similar to that of PyTest&#39;s for Java. As such I&#39;m looking to have methods such as:\r\n\r\n```java\r\npublic Fixture&lt;Connection&gt; connection(){\r\n  return Fixtures.provide(()-&gt;{\r\n  //set up connection\r\n  return connection;\r\n  }).teardown(()-&gt;{//teardown logic});\r\n}\r\npublic Fixture&lt;Database&gt; database(Connection connection){\r\n  return Fixtures.provide(()-&gt;new Database(connection.getURL()));\r\n}\r\n```\r\n\r\nMy current design has a &quot;Fixture scanning phase&quot; before any tests. This loads all fixtures into memory, so reflection access of these methods only has to be called once. After being loaded, fixtures are managed with `enable` and `disable` when relevant.\r\n\r\nAs you may notice, **functionally** I don&#39;t need the connection object when *creating* the Database fixture by calling the method via reflection, since it is only used within the *setup* logic of the fixture (the lambda), not the *creation* logic (the method call). However, **practically** I do need the object during creation to give to the setup logic lambda.\r\n\r\nThe problem is that we run into a circle - we need the setup ```Connection``` to create the `Database`, but the `Connection` is not set up yet when looking for fixtures *before* testing. I have a few options to solve this, which I may adopt in the end. I am not sure if the last one is possible or not, which is why I am here. I will list the solutions I have at the moment:\r\n\r\n 1. Re-scan and reload all fixtures before every test, coupling the fixture creation logic &amp; setup logic together. This is obviously inefficient\r\n 2. Require a dependency to be requested with some wrapper, like:\r\n\r\n```java\r\npublic Fixture&lt;Database&gt; database(Dependency&lt;Connection&gt; connection){\r\n  return Fixtures.provide(()-&gt;new Database(connection.get().getURL());\r\n}\r\n```\r\nAnd then when running tests, set the value of the `Dependency` object when the relevant fixture is setup. This is probably the simplest solution in terms of complexity, but it&#39;s clunky.\r\n\r\n3. Dynamically create some proxy object as the dependency. When the fixtures are being loaded, that proxy points nowhere. When the fixtures are enabled, the proxy points to that fixture. In the above example, `connection` would be a dynamically created proxy that initially points to nothing, and then when the connection is set up the proxy would point to the loaded connection, calling `getURL()` on the actual connection. Such a setup seems to be possible with ByteBuddy.\r\n\r\nWhile solution #3 seems to provide the cleanest solution (even though it is a little more complex than the others), I have a problem with it - is there a way to delegate property calls, not just methods? For example, let&#39;s assume for some reason the `Connection` object above had a publically exposed `url` property instead of a getter; is it possible to create a dynamic proxy that forwards **property** access to another object? From my research I could not find a way, so I am asking here.\r\n\r\n(I have considered just forwarding methods, and then having a disclaimer that getters should always be used. It would just be a shame if arrays could not be used as fixtures, since they have a pretty standard property of array.length)\r\n\r\nThank you!\r\n\r\nUpdate: I thought about it more and #1 doesn&#39;t seem so bad. Using reflection is somewhat slower but JUnit uses reflection for setup/teardown anyhow. Would make for a cleaner design. Still, any thoughts on the above would be appreciated.\r\n\r\n","title":"Is there a way to use ByteBuddy to proxy both method calls &amp; property access?","body":"<p>I'm looking into creating a fixture system similar to that of PyTest's for Java. As such I'm looking to have methods such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Fixture&lt;Connection&gt; connection(){\n  return Fixtures.provide(()-&gt;{\n  //set up connection\n  return connection;\n  }).teardown(()-&gt;{//teardown logic});\n}\npublic Fixture&lt;Database&gt; database(Connection connection){\n  return Fixtures.provide(()-&gt;new Database(connection.getURL()));\n}\n</code></pre>\n<p>My current design has a &quot;Fixture scanning phase&quot; before any tests. This loads all fixtures into memory, so reflection access of these methods only has to be called once. After being loaded, fixtures are managed with <code>enable</code> and <code>disable</code> when relevant.</p>\n<p>As you may notice, <strong>functionally</strong> I don't need the connection object when <em>creating</em> the Database fixture by calling the method via reflection, since it is only used within the <em>setup</em> logic of the fixture (the lambda), not the <em>creation</em> logic (the method call). However, <strong>practically</strong> I do need the object during creation to give to the setup logic lambda.</p>\n<p>The problem is that we run into a circle - we need the setup <code>Connection</code> to create the <code>Database</code>, but the <code>Connection</code> is not set up yet when looking for fixtures <em>before</em> testing. I have a few options to solve this, which I may adopt in the end. I am not sure if the last one is possible or not, which is why I am here. I will list the solutions I have at the moment:</p>\n<ol>\n<li>Re-scan and reload all fixtures before every test, coupling the fixture creation logic &amp; setup logic together. This is obviously inefficient</li>\n<li>Require a dependency to be requested with some wrapper, like:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public Fixture&lt;Database&gt; database(Dependency&lt;Connection&gt; connection){\n  return Fixtures.provide(()-&gt;new Database(connection.get().getURL());\n}\n</code></pre>\n<p>And then when running tests, set the value of the <code>Dependency</code> object when the relevant fixture is setup. This is probably the simplest solution in terms of complexity, but it's clunky.</p>\n<ol start=\"3\">\n<li>Dynamically create some proxy object as the dependency. When the fixtures are being loaded, that proxy points nowhere. When the fixtures are enabled, the proxy points to that fixture. In the above example, <code>connection</code> would be a dynamically created proxy that initially points to nothing, and then when the connection is set up the proxy would point to the loaded connection, calling <code>getURL()</code> on the actual connection. Such a setup seems to be possible with ByteBuddy.</li>\n</ol>\n<p>While solution #3 seems to provide the cleanest solution (even though it is a little more complex than the others), I have a problem with it - is there a way to delegate property calls, not just methods? For example, let's assume for some reason the <code>Connection</code> object above had a publically exposed <code>url</code> property instead of a getter; is it possible to create a dynamic proxy that forwards <strong>property</strong> access to another object? From my research I could not find a way, so I am asking here.</p>\n<p>(I have considered just forwarding methods, and then having a disclaimer that getters should always be used. It would just be a shame if arrays could not be used as fixtures, since they have a pretty standard property of array.length)</p>\n<p>Thank you!</p>\n<p>Update: I thought about it more and #1 doesn't seem so bad. Using reflection is somewhat slower but JUnit uses reflection for setup/teardown anyhow. Would make for a cleaner design. Still, any thoughts on the above would be appreciated.</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1692210132,"post_id":76916095,"comment_id":135593970,"body_markdown":"There are several Java libraries that allow to generate random data matching some constraints. You should look in this direction IMHO. For instance https://github.com/datafaker-net/datafaker. There are others that I don&#39;t remember.","body":"There are several Java libraries that allow to generate random data matching some constraints. You should look in this direction IMHO. For instance <a href=\"https://github.com/datafaker-net/datafaker\" rel=\"nofollow noreferrer\">github.com/datafaker-net/datafaker</a>. There are others that I don&#39;t remember."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692210164,"post_id":76916095,"comment_id":135593977,"body_markdown":"If it&#39;s just test data, then why not &#39;patronymicize&#39; the first name of the same person?","body":"If it&#39;s just test data, then why not &#39;patronymicize&#39; the first name of the same person?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1692210779,"post_id":76916095,"comment_id":135594099,"body_markdown":"@g00se because it would be too silly (unrealistic) for all of the people to have patronymics that match their first names","body":"@g00se because it would be too silly (unrealistic) for all of the people to have patronymics that match their first names"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1692210967,"post_id":76916095,"comment_id":135594142,"body_markdown":"@Ga&#235;lJ thank you. But the problem is a randomly generated gender should match the name. It doesn&#39;t seem possible to achieve that with `Faker`","body":"@Ga&#235;lJ thank you. But the problem is a randomly generated gender should match the name. It doesn&#39;t seem possible to achieve that with <code>Faker</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692211578,"post_id":76916095,"comment_id":135594267,"body_markdown":"Right - point taken, but you could randomly choose from other users you&#39;ve already created maybe","body":"Right - point taken, but you could randomly choose from other users you&#39;ve already created maybe"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1692211897,"post_id":76916095,"comment_id":135594318,"body_markdown":"Is this for tests or not? For tests, I would question the relevancy to have realistic patronymic. What are you trying to test? Otherwise (if not for tests), you&#39;ll have to implement something yourself that match some &quot;rules&quot; for realistic patronymic then.","body":"Is this for tests or not? For tests, I would question the relevancy to have realistic patronymic. What are you trying to test? Otherwise (if not for tests), you&#39;ll have to implement something yourself that match some &quot;rules&quot; for realistic patronymic then."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692212187,"post_id":76916095,"comment_id":135594366,"body_markdown":"@Ga&#235;lJ, that&#39;s just what I was about to ask ;)","body":"@Ga&#235;lJ, that&#39;s just what I was about to ask ;)"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1692213558,"post_id":76916095,"comment_id":135594595,"body_markdown":"@Ga&#235;lJ it&#39;s part of an entry test for a job","body":"@Ga&#235;lJ it&#39;s part of an entry test for a job"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692215317,"post_id":76916095,"comment_id":135594919,"body_markdown":"Then it doesn&#39;t need to be realistic","body":"Then it doesn&#39;t need to be realistic"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1692289813,"post_id":76916095,"comment_id":135606294,"body_markdown":"@Ga&#235;lJ may I ask you where those random names are coming from? I can&#39;t believe they are all hard-coded. And if it makes some HTTP requests anyway, then how does it matter compared to my suggestion?","body":"@Ga&#235;lJ may I ask you where those random names are coming from? I can&#39;t believe they are all hard-coded. And if it makes some HTTP requests anyway, then how does it matter compared to my suggestion?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1692291883,"post_id":76916095,"comment_id":135606724,"body_markdown":"No idea, you can look at the code but 99% sure it doesn&#39;t call any service. It&#39;s probably a few hardcoded values + some strings generated randomly.","body":"No idea, you can look at the code but 99% sure it doesn&#39;t call any service. It&#39;s probably a few hardcoded values + some strings generated randomly."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1692296534,"post_id":76916095,"comment_id":135607609,"body_markdown":"But it is somewhat of an issue that names don&#39;t match genders if I choose to use `Faker`","body":"But it is somewhat of an issue that names don&#39;t match genders if I choose to use <code>Faker</code>"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692209676,"creation_date":1692209676,"question_id":76916095,"body_markdown":"Suppose, I have this simple entity\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String lastName;\r\n    private String patronymic;\r\n    private LocalDate dateOfBirth;\r\n    private Sex sex;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Person person = (Person) o;\r\n\r\n        return id.equals(person.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, Person.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                .add(&quot;id=&quot; + id)\r\n                .add(&quot;name=&#39;&quot; + name + &quot;&#39;&quot;)\r\n                .add(&quot;lastName=&#39;&quot; + lastName + &quot;&#39;&quot;)\r\n                .add(&quot;patronymic=&#39;&quot; + patronymic + &quot;&#39;&quot;)\r\n                .add(&quot;dateOfBirth=&quot; + dateOfBirth)\r\n                .add(&quot;sex=&quot; + sex)\r\n                .toString();\r\n    }\r\n}\r\n```\r\nI need to generate random persons. HTTP APIs, like `https://randomuser.me/api/`, seem to be a good way to go. But the thing is if I perform a GET request to that endpoint, I may receive something like\r\n```\r\n{\r\n  &quot;results&quot;: [\r\n    {\r\n      &quot;gender&quot;: &quot;male&quot;,\r\n      &quot;name&quot;: {\r\n        &quot;title&quot;: &quot;Mr&quot;,\r\n        &quot;first&quot;: &quot;Marius&quot;,\r\n        &quot;last&quot;: &quot;Lefebvre&quot;\r\n      },\r\n      &quot;location&quot;: {\r\n        &quot;street&quot;: {\r\n          &quot;number&quot;: 4993,\r\n          &quot;name&quot;: &quot;Rue Dugas-Montbel&quot;\r\n        },\r\n        &quot;city&quot;: &quot;Mulhouse&quot;,\r\n        &quot;state&quot;: &quot;Pyr&#233;n&#233;es-Orientales&quot;,\r\n        &quot;country&quot;: &quot;France&quot;,\r\n        &quot;postcode&quot;: 26699,\r\n        &quot;coordinates&quot;: {\r\n          &quot;latitude&quot;: &quot;-15.4130&quot;,\r\n          &quot;longitude&quot;: &quot;-53.1324&quot;\r\n        },\r\n        &quot;timezone&quot;: {\r\n          &quot;offset&quot;: &quot;-3:30&quot;,\r\n          &quot;description&quot;: &quot;Newfoundland&quot;\r\n        }\r\n      },\r\n      &quot;email&quot;: &quot;marius.lefebvre@example.com&quot;,\r\n      &quot;login&quot;: {\r\n        &quot;uuid&quot;: &quot;9847d8c2-aed9-4f16-8e7c-7a1134bb954f&quot;,\r\n        &quot;username&quot;: &quot;heavyrabbit505&quot;,\r\n        &quot;password&quot;: &quot;toonarmy&quot;,\r\n        &quot;salt&quot;: &quot;O42M0eyb&quot;,\r\n        &quot;md5&quot;: &quot;24da836fc005d5de28c02bba8eb71762&quot;,\r\n        &quot;sha1&quot;: &quot;ea42735cc6db2c9b7d6294522ab35b6d5a98d935&quot;,\r\n        &quot;sha256&quot;: &quot;a05ef824f11b544386834ab455424b92e583ee6c82dbc6b1dd7a7e812fc1bf74&quot;\r\n      },\r\n      &quot;dob&quot;: {\r\n        &quot;date&quot;: &quot;1983-05-07T23:19:24.773Z&quot;,\r\n        &quot;age&quot;: 40\r\n      },\r\n      &quot;registered&quot;: {\r\n        &quot;date&quot;: &quot;2004-03-16T02:14:38.456Z&quot;,\r\n        &quot;age&quot;: 19\r\n      },\r\n      &quot;phone&quot;: &quot;02-26-76-33-91&quot;,\r\n      &quot;cell&quot;: &quot;06-22-36-16-05&quot;,\r\n      &quot;id&quot;: {\r\n        &quot;name&quot;: &quot;INSEE&quot;,\r\n        &quot;value&quot;: &quot;1830497805013 11&quot;\r\n      },\r\n      &quot;picture&quot;: {\r\n        &quot;large&quot;: &quot;https://randomuser.me/api/portraits/men/6.jpg&quot;,\r\n        &quot;medium&quot;: &quot;https://randomuser.me/api/portraits/med/men/6.jpg&quot;,\r\n        &quot;thumbnail&quot;: &quot;https://randomuser.me/api/portraits/thumb/men/6.jpg&quot;\r\n      },\r\n      &quot;nat&quot;: &quot;FR&quot;\r\n    }\r\n  ],\r\n  &quot;info&quot;: {\r\n    &quot;seed&quot;: &quot;aac7138ecf098b1e&quot;,\r\n    &quot;results&quot;: 1,\r\n    &quot;page&quot;: 1,\r\n    &quot;version&quot;: &quot;1.4&quot;\r\n  }\r\n}\r\n```\r\nThis JSON contains a lot of data. But for my purposes I only need a name, a last name, a gender, and a date of birth. I may use a `RestTemplate`. But I don&#39;t feel like creating a whole separate class just so that Jackson have something to map that JSON to (and then, perhaps, use Mapstruct to map it to my original entity). It seems it&#39;s a lot of work for something that trivial\r\n\r\nThe issue number two is that I need a patronymic. It&#39;s not common for people&#39;s names to have a patronymics unless they live in Eastern Europe so the chances of finding an HTTP API that sends JSONs with patronymics are low. I may issue a separate request for each randomly fetched person to get a male, extract the first name, and use some custom function to turn it into a patronymic (for example, &quot;Joseph&quot;  &quot;Josephovych&quot;). That means if I need to generate a million random users, it would take two million HTTP requests which is a lot (twice as many)\r\n\r\nWhat approach would you recommend to achieve my goal?\r\n","title":"Generate random users with patronymic","body":"<p>Suppose, I have this simple entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String lastName;\n    private String patronymic;\n    private LocalDate dateOfBirth;\n    private Sex sex;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Person person = (Person) o;\n\n        return id.equals(person.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return id.hashCode();\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, Person.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;id=&quot; + id)\n                .add(&quot;name='&quot; + name + &quot;'&quot;)\n                .add(&quot;lastName='&quot; + lastName + &quot;'&quot;)\n                .add(&quot;patronymic='&quot; + patronymic + &quot;'&quot;)\n                .add(&quot;dateOfBirth=&quot; + dateOfBirth)\n                .add(&quot;sex=&quot; + sex)\n                .toString();\n    }\n}\n</code></pre>\n<p>I need to generate random persons. HTTP APIs, like <code>https://randomuser.me/api/</code>, seem to be a good way to go. But the thing is if I perform a GET request to that endpoint, I may receive something like</p>\n<pre><code>{\n  &quot;results&quot;: [\n    {\n      &quot;gender&quot;: &quot;male&quot;,\n      &quot;name&quot;: {\n        &quot;title&quot;: &quot;Mr&quot;,\n        &quot;first&quot;: &quot;Marius&quot;,\n        &quot;last&quot;: &quot;Lefebvre&quot;\n      },\n      &quot;location&quot;: {\n        &quot;street&quot;: {\n          &quot;number&quot;: 4993,\n          &quot;name&quot;: &quot;Rue Dugas-Montbel&quot;\n        },\n        &quot;city&quot;: &quot;Mulhouse&quot;,\n        &quot;state&quot;: &quot;Pyrnes-Orientales&quot;,\n        &quot;country&quot;: &quot;France&quot;,\n        &quot;postcode&quot;: 26699,\n        &quot;coordinates&quot;: {\n          &quot;latitude&quot;: &quot;-15.4130&quot;,\n          &quot;longitude&quot;: &quot;-53.1324&quot;\n        },\n        &quot;timezone&quot;: {\n          &quot;offset&quot;: &quot;-3:30&quot;,\n          &quot;description&quot;: &quot;Newfoundland&quot;\n        }\n      },\n      &quot;email&quot;: &quot;marius.lefebvre@example.com&quot;,\n      &quot;login&quot;: {\n        &quot;uuid&quot;: &quot;9847d8c2-aed9-4f16-8e7c-7a1134bb954f&quot;,\n        &quot;username&quot;: &quot;heavyrabbit505&quot;,\n        &quot;password&quot;: &quot;toonarmy&quot;,\n        &quot;salt&quot;: &quot;O42M0eyb&quot;,\n        &quot;md5&quot;: &quot;24da836fc005d5de28c02bba8eb71762&quot;,\n        &quot;sha1&quot;: &quot;ea42735cc6db2c9b7d6294522ab35b6d5a98d935&quot;,\n        &quot;sha256&quot;: &quot;a05ef824f11b544386834ab455424b92e583ee6c82dbc6b1dd7a7e812fc1bf74&quot;\n      },\n      &quot;dob&quot;: {\n        &quot;date&quot;: &quot;1983-05-07T23:19:24.773Z&quot;,\n        &quot;age&quot;: 40\n      },\n      &quot;registered&quot;: {\n        &quot;date&quot;: &quot;2004-03-16T02:14:38.456Z&quot;,\n        &quot;age&quot;: 19\n      },\n      &quot;phone&quot;: &quot;02-26-76-33-91&quot;,\n      &quot;cell&quot;: &quot;06-22-36-16-05&quot;,\n      &quot;id&quot;: {\n        &quot;name&quot;: &quot;INSEE&quot;,\n        &quot;value&quot;: &quot;1830497805013 11&quot;\n      },\n      &quot;picture&quot;: {\n        &quot;large&quot;: &quot;https://randomuser.me/api/portraits/men/6.jpg&quot;,\n        &quot;medium&quot;: &quot;https://randomuser.me/api/portraits/med/men/6.jpg&quot;,\n        &quot;thumbnail&quot;: &quot;https://randomuser.me/api/portraits/thumb/men/6.jpg&quot;\n      },\n      &quot;nat&quot;: &quot;FR&quot;\n    }\n  ],\n  &quot;info&quot;: {\n    &quot;seed&quot;: &quot;aac7138ecf098b1e&quot;,\n    &quot;results&quot;: 1,\n    &quot;page&quot;: 1,\n    &quot;version&quot;: &quot;1.4&quot;\n  }\n}\n</code></pre>\n<p>This JSON contains a lot of data. But for my purposes I only need a name, a last name, a gender, and a date of birth. I may use a <code>RestTemplate</code>. But I don't feel like creating a whole separate class just so that Jackson have something to map that JSON to (and then, perhaps, use Mapstruct to map it to my original entity). It seems it's a lot of work for something that trivial</p>\n<p>The issue number two is that I need a patronymic. It's not common for people's names to have a patronymics unless they live in Eastern Europe so the chances of finding an HTTP API that sends JSONs with patronymics are low. I may issue a separate request for each randomly fetched person to get a male, extract the first name, and use some custom function to turn it into a patronymic (for example, &quot;Joseph&quot;  &quot;Josephovych&quot;). That means if I need to generate a million random users, it would take two million HTTP requests which is a lot (twice as many)</p>\n<p>What approach would you recommend to achieve my goal?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692218499,"post_id":76915708,"comment_id":135595499,"body_markdown":"This seems like an IDE issue, not a real one.  Have you tried to run with this?  It is defined in the `catalina.jar` file.","body":"This seems like an IDE issue, not a real one.  Have you tried to run with this?  It is defined in the <code>catalina.jar</code> file."}],"owner":{"account_id":26179316,"reputation":11,"user_id":20468361,"display_name":"Charles W"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692209631,"creation_date":1692205872,"question_id":76915708,"body_markdown":"I am trying to follow https://enable-cors.org/server_tomcat.html to deal with my cors problem. \r\n\r\nHowever on this line\r\n&gt; &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\napache.catalina.filters.CorsFilter is red.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ESXQH.png)](https://i.stack.imgur.com/ESXQH.png)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy code\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nI have the code above on my web.xml file. How do properly import org.apache.catalina.filters.CorsFilter so that I can use the filter?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhMHd.png","title":"Import Java Tomcat CorsFilter","body":"<p>I am trying to follow <a href=\"https://enable-cors.org/server_tomcat.html\" rel=\"nofollow noreferrer\">https://enable-cors.org/server_tomcat.html</a> to deal with my cors problem.</p>\n<p>However on this line</p>\n<blockquote>\n<p>org.apache.catalina.filters.CorsFilter\napache.catalina.filters.CorsFilter is red.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ESXQH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESXQH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bhMHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhMHd.png\" alt=\"enter image description here\" /></a></p>\n<p>My code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>I have the code above on my web.xml file. How do properly import org.apache.catalina.filters.CorsFilter so that I can use the filter?</p>\n"},{"tags":["java","sql","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692287502,"post_id":76911011,"comment_id":135605813,"body_markdown":"How are you checking and having JPA create your constraints? I&#39;d guess this uka5g119gpie9h7ress63129nd3  is a left over from some previous run - drop your tables or try on a clean schema.","body":"How are you checking and having JPA create your constraints? I&#39;d guess this uka5g119gpie9h7ress63129nd3  is a left over from some previous run - drop your tables or try on a clean schema."},{"owner":{"account_id":22125383,"reputation":13,"user_id":16377851,"display_name":"Hareesh"},"score":0,"creation_date":1692296338,"post_id":76911011,"comment_id":135607561,"body_markdown":"I dropped the extra constraint from table, but when I run my application again, again 2 constraint are created","body":"I dropped the extra constraint from table, but when I run my application again, again 2 constraint are created"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692304756,"post_id":76911011,"comment_id":135608991,"body_markdown":"Nothing in what you&#39;ve shown explains it being added, so it&#39;ll be due to something you are not showing in the application. Check you haven&#39;t put this elsewhere in your application, say on another class using the &quot;country_user&quot; table. That is a strange table name for an entity - could you maybe also have a User and Country class with a ManyToMany between them, or something with roles?","body":"Nothing in what you&#39;ve shown explains it being added, so it&#39;ll be due to something you are not showing in the application. Check you haven&#39;t put this elsewhere in your application, say on another class using the &quot;country_user&quot; table. That is a strange table name for an entity - could you maybe also have a User and Country class with a ManyToMany between them, or something with roles?"}],"owner":{"account_id":22125383,"reputation":13,"user_id":16377851,"display_name":"Hareesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692209549,"creation_date":1692167366,"question_id":76911011,"body_markdown":"I have defined a entity using Entity and table annotations of JPA in my spring boot project and connected with postgres database.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;country_user&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = {&quot;user_name&quot;,&quot;role_name&quot;, &quot;adhar_number&quot;})\r\n})\r\npublic class UserModel implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name =&quot;user_name)\r\n    private String userName;\r\n\r\n   @Column(name=&quot;adhar_number)\r\n   private String adharNumber;\r\n\r\n  @Column(name=&quot;age&quot;)\r\n  private String age;\r\n  \r\n  @Column(name=&quot;role_name&quot;)\r\n  private String roleName;\r\n}\r\n```\r\nAfter running application, 2 unique constraints are being created for country_user table in postgres db\r\n```\r\nconstraintname                    columns\r\nukb5g170gsyd9h7pqfs34309lk3       user_name,role_name,adhar_number\r\nuka5g119gpie9h7ress63129nd3       user_name,role_name\r\n```\r\nbut there should be only 1 unique constraint as defined `@UniqueConstraint(columnNames = {&quot;user_name&quot;,&quot;role_name&quot;, &quot;adhar_number&quot;}`\r\n \r\nI want only 1 unique constraint in table, not the subset of roles I defined.","title":"Extra constraint are added by hibernate in postgres database","body":"<p>I have defined a entity using Entity and table annotations of JPA in my spring boot project and connected with postgres database.</p>\n<pre><code>@Entity\n@Table(name = &quot;country_user&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {&quot;user_name&quot;,&quot;role_name&quot;, &quot;adhar_number&quot;})\n})\npublic class UserModel implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name =&quot;user_name)\n    private String userName;\n\n   @Column(name=&quot;adhar_number)\n   private String adharNumber;\n\n  @Column(name=&quot;age&quot;)\n  private String age;\n  \n  @Column(name=&quot;role_name&quot;)\n  private String roleName;\n}\n</code></pre>\n<p>After running application, 2 unique constraints are being created for country_user table in postgres db</p>\n<pre><code>constraintname                    columns\nukb5g170gsyd9h7pqfs34309lk3       user_name,role_name,adhar_number\nuka5g119gpie9h7ress63129nd3       user_name,role_name\n</code></pre>\n<p>but there should be only 1 unique constraint as defined <code>@UniqueConstraint(columnNames = {&quot;user_name&quot;,&quot;role_name&quot;, &quot;adhar_number&quot;}</code></p>\n<p>I want only 1 unique constraint in table, not the subset of roles I defined.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1692208994,"post_id":76915801,"comment_id":135593762,"body_markdown":"You need to be consistent with your dependencies, if you are to upgrade something in spring do it completely or don&#39;t do it at all.","body":"You need to be consistent with your dependencies, if you are to upgrade something in spring do it completely or don&#39;t do it at all."}],"owner":{"account_id":3346265,"reputation":39,"user_id":2811373,"display_name":"john john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692209524,"creation_date":1692206730,"question_id":76915801,"body_markdown":"Good morning\r\nI want your help\r\nI have a batch with spring batch which contains the CVE-2022-22965 vulnerability and to fix this vulnerability I have to upgrade spring-core to version 5.2.20.RELEASE and when I upgrade the spring-core version the batch does not run I get the error\r\n\r\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.createBeanFactory(AbstractRefreshableApplicationContext.java:200) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\r\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:126) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:538) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\r\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\r\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\r\n        at org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:284) [spring-batch-core-2.2.7.RELEASE.jar:na]\r\n        at org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:577) [spring-batch-core-2.2.7.RELEASE.jar:na]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.ErrorCoded`\r\n\r\nthis maven tree\r\n\r\n    enter code here [INFO] |  |  |  +- org.springframework:spring-context:jar:4.1.8.RELEASE:provided\r\n[INFO] |  |  |  |  \\- org.springframework:spring-expression:jar:4.1.8.RELEASE:provided\r\n\r\n[INFO] |  |  +- org.springframework.data:spring-data-jpa:jar:1.4.3.RELEASE:compile\r\n\r\n[INFO] |  |  |  +- org.springframework:spring-orm:jar:4.1.8.RELEASE:provided\r\n\r\n[INFO] |  |  |  |  \\- org.springframework:spring-jdbc:jar:4.1.8.RELEASE:provided\r\n\r\n[INFO] |  |  |  +- org.springframework:spring-aop:jar:4.1.8.RELEASE:provided\r\n\r\n[INFO] |  |  |  +- org.springframework:spring-tx:jar:4.1.8.RELEASE:provided\r\n\r\n[INFO] |  \\- org.springframework.data:spring-data-commons:jar:1.6.3.RELEASE:compile\r\n\r\n[INFO] |     \\- org.springframework:spring-beans:jar:4.1.8.RELEASE:provided\r\n\r\n[INFO] +- org.springframework:spring-core:jar:5.2.20.RELEASE:provided\r\n\r\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.2.20.RELEASE:provided\r\n\r\n\r\n\r\nThank you","title":"error org.springframework.core.ErrorCoded when i update version of spring-core","body":"<p>Good morning\nI want your help\nI have a batch with spring batch which contains the CVE-2022-22965 vulnerability and to fix this vulnerability I have to upgrade spring-core to version 5.2.20.RELEASE and when I upgrade the spring-core version the batch does not run I get the error</p>\n<pre><code>at org.springframework.context.support.AbstractRefreshableApplicationContext.createBeanFactory(AbstractRefreshableApplicationContext.java:200) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:126) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:538) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83) ~[spring-context-4.1.8.RELEASE.jar:4.1.8.RELEASE]\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:284) [spring-batch-core-2.2.7.RELEASE.jar:na]\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:577) [spring-batch-core-2.2.7.RELEASE.jar:na]\n</code></pre>\n<p>Caused by: java.lang.ClassNotFoundException: org.springframework.core.ErrorCoded`</p>\n<p>this maven tree</p>\n<pre><code>enter code here [INFO] |  |  |  +- org.springframework:spring-context:jar:4.1.8.RELEASE:provided\n</code></pre>\n<p>[INFO] |  |  |  |  - org.springframework:spring-expression:jar:4.1.8.RELEASE:provided</p>\n<p>[INFO] |  |  +- org.springframework.data:spring-data-jpa:jar:1.4.3.RELEASE:compile</p>\n<p>[INFO] |  |  |  +- org.springframework:spring-orm:jar:4.1.8.RELEASE:provided</p>\n<p>[INFO] |  |  |  |  - org.springframework:spring-jdbc:jar:4.1.8.RELEASE:provided</p>\n<p>[INFO] |  |  |  +- org.springframework:spring-aop:jar:4.1.8.RELEASE:provided</p>\n<p>[INFO] |  |  |  +- org.springframework:spring-tx:jar:4.1.8.RELEASE:provided</p>\n<p>[INFO] |  - org.springframework.data:spring-data-commons:jar:1.6.3.RELEASE:compile</p>\n<p>[INFO] |     - org.springframework:spring-beans:jar:4.1.8.RELEASE:provided</p>\n<p>[INFO] +- org.springframework:spring-core:jar:5.2.20.RELEASE:provided</p>\n<p>[INFO] |  - org.springframework:spring-jcl:jar:5.2.20.RELEASE:provided</p>\n<p>Thank you</p>\n"},{"tags":["java","arrays","arraylist","collections"],"answers":[{"tags":[],"owner":{"account_id":14212647,"reputation":151,"user_id":10267387,"display_name":"Jessica Dionisio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535776201,"creation_date":1535776201,"answer_id":52124871,"question_id":52124778,"body_markdown":"Adding another issue:\r\n\r\nYou should remove:\r\n    \r\n\r\n`if (integer == -1)\r\n    break;`\r\n\r\nsince you have eliminated the negative numbers on the first loop \r\n","title":"Odd number Sequence Replaced by Count","body":"<p>Adding another issue:</p>\n\n<p>You should remove:</p>\n\n<p><code>if (integer == -1)\n    break;</code></p>\n\n<p>since you have eliminated the negative numbers on the first loop </p>\n"},{"tags":[],"owner":{"account_id":13858437,"reputation":316,"user_id":10004675,"display_name":"Usman Rafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535824990,"creation_date":1535824990,"answer_id":52130843,"question_id":52124778,"body_markdown":" - You should add another loop inside the processArray() that executes when an odd number is found and increments the count\n - Before the loop store the number as backup\n - Then before adding check the count if it&#39;s more than 1 then replace the number with the count otherwise, use the backup integer\n\n   You should also save the iterator position of the first odd number. \n\n","title":"Odd number Sequence Replaced by Count","body":"<ul>\n<li><p>You should add another loop inside the processArray() that executes when an odd number is found and increments the count</p>\n</li>\n<li><p>Before the loop store the number as backup</p>\n</li>\n<li><p>Then before adding check the count if it's more than 1 then replace the number with the count otherwise, use the backup integer</p>\n<p>You should also save the iterator position of the first odd number.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535828500,"creation_date":1535826290,"answer_id":52131030,"question_id":52124778,"body_markdown":"In `processArray` you need to move `int count=0;` to outside (before) the `while` loop.\r\n\r\nWithin the `while` loop your handling of the odd case is mostly correct. However, you need to add an `else` clause to handle the even case. It should look something like this (pseudocode):\r\n\r\n    if odd\r\n        count++;\r\n        remove current element\r\n    else\r\n        if count &gt; 0 \r\n            add count to the array\r\n            set count to zero\r\n        add current element\r\n\r\nEverything else within the `while` loop can be removed.\r\n\r\nYou also need to handle the case where the list ends with a sequence of odd numbers. You need to handle this after the while loop has ended, by checking if count &gt; 0.","title":"Odd number Sequence Replaced by Count","body":"<p>In <code>processArray</code> you need to move <code>int count=0;</code> to outside (before) the <code>while</code> loop.</p>\n\n<p>Within the <code>while</code> loop your handling of the odd case is mostly correct. However, you need to add an <code>else</code> clause to handle the even case. It should look something like this (pseudocode):</p>\n\n<pre><code>if odd\n    count++;\n    remove current element\nelse\n    if count &gt; 0 \n        add count to the array\n        set count to zero\n    add current element\n</code></pre>\n\n<p>Everything else within the <code>while</code> loop can be removed.</p>\n\n<p>You also need to handle the case where the list ends with a sequence of odd numbers. You need to handle this after the while loop has ended, by checking if count > 0.</p>\n"},{"tags":[],"owner":{"account_id":7861756,"reputation":11,"user_id":5941918,"display_name":"Vaibhav Kumbhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546067178,"creation_date":1546067178,"answer_id":53967472,"question_id":52124778,"body_markdown":"Try below Logic.\r\n    \r\n    public static int processArray(ArrayList&lt;Integer&gt; array) {\r\n        int count=0;\r\n        for(int i=0;i&lt;array.size();i++)\r\n        {\r\n            if((array.get(i)%2)!=0) //odd\r\n            {\r\n                count++;\r\n                if(count&gt;1)     //I had to replace length of  odd seq greater than or equal to 2\r\n                {\r\n                    array.set(i,count);     //set curren count to current odd no and remove previous odd number\r\n                    array.remove(i-1);\r\n                    if(i&gt;0)     //For handling change in indices\r\n                        i=i-1;\r\n                    else\r\n                        i=0;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                count=0;\r\n            }\r\n        }\r\n        return array.size();\r\n    }","title":"Odd number Sequence Replaced by Count","body":"<p>Try below Logic.</p>\n\n<pre><code>public static int processArray(ArrayList&lt;Integer&gt; array) {\n    int count=0;\n    for(int i=0;i&lt;array.size();i++)\n    {\n        if((array.get(i)%2)!=0) //odd\n        {\n            count++;\n            if(count&gt;1)     //I had to replace length of  odd seq greater than or equal to 2\n            {\n                array.set(i,count);     //set curren count to current odd no and remove previous odd number\n                array.remove(i-1);\n                if(i&gt;0)     //For handling change in indices\n                    i=i-1;\n                else\n                    i=0;\n            }\n        }\n        else\n        {\n            count=0;\n        }\n    }\n    return array.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14356084,"reputation":1,"user_id":10369919,"display_name":"Siddharth Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574526188,"creation_date":1574526188,"answer_id":59009697,"question_id":52124778,"body_markdown":"\r\n\r\n    lis=[]\r\n    \r\n    while True:\r\n        inp= int(input())\r\n        \r\n        if inp&lt;0:\r\n            break\r\n    \r\n        else:\r\n            lis.append(inp)\r\n    \r\n    \r\n    def processArray(lis):\r\n        count=0\r\n        for x in lis:\r\n            ind=lis.index(x)\r\n    \r\n            if x%2!=0:                             # if number = odd\r\n                if ind!=len(lis)-1:                #  if not last element\r\n                    count=count+1         #count of odd sequence\r\n                    y=x                   #storing x for later use as x is removed from list\r\n                    lis.remove(x)\r\n                    lis.insert(ind,-1)    #replacing x with -1 as removing x changes entire list index structure, messing with for loop iteration\r\n                    #print(&#39;odd &#39;,x, lis, count)  \r\n    \r\n                if ind==len(lis)-1 and count&gt;1:     # if last element and count of odd &gt; 1\r\n                    lis.remove(x)                   \r\n                    lis.append(count+1)            \r\n                    break\r\n    \r\n            elif x%2==0:            # if number = even\r\n               # print(&#39;even &#39;,x, lis, count)\r\n    \r\n                if count==1:        # if count of odd =1, keeping same number back from -1 to y \r\n                    lis.remove(-1)\r\n                    lis.insert(ind-1,y)\r\n                    count=0\r\n                   # print(&#39;even count=1 &#39;,x, lis, count)\r\n                \r\n                if count&gt;1 :        # if count of odd &gt;1, adding count element in list\r\n                     lis.insert(ind-1,count)\r\n                     count=0\r\n                    # print(&#39;even count&gt;1 &#39;,x, lis, count)\r\n    \r\n        while -1 in lis:            # removing all -1\r\n               lis.remove(-1)\r\n    \r\n        return len(lis)\r\n    \r\n    print(&#39;length of modified list &#39;,processArray(lis))\r\n    print(lis)\r\n\r\n","title":"Odd number Sequence Replaced by Count","body":"<pre><code>lis=[]\n\nwhile True:\n    inp= int(input())\n\n    if inp&lt;0:\n        break\n\n    else:\n        lis.append(inp)\n\n\ndef processArray(lis):\n    count=0\n    for x in lis:\n        ind=lis.index(x)\n\n        if x%2!=0:                             # if number = odd\n            if ind!=len(lis)-1:                #  if not last element\n                count=count+1         #count of odd sequence\n                y=x                   #storing x for later use as x is removed from list\n                lis.remove(x)\n                lis.insert(ind,-1)    #replacing x with -1 as removing x changes entire list index structure, messing with for loop iteration\n                #print('odd ',x, lis, count)  \n\n            if ind==len(lis)-1 and count&gt;1:     # if last element and count of odd &gt; 1\n                lis.remove(x)                   \n                lis.append(count+1)            \n                break\n\n        elif x%2==0:            # if number = even\n           # print('even ',x, lis, count)\n\n            if count==1:        # if count of odd =1, keeping same number back from -1 to y \n                lis.remove(-1)\n                lis.insert(ind-1,y)\n                count=0\n               # print('even count=1 ',x, lis, count)\n\n            if count&gt;1 :        # if count of odd &gt;1, adding count element in list\n                 lis.insert(ind-1,count)\n                 count=0\n                # print('even count&gt;1 ',x, lis, count)\n\n    while -1 in lis:            # removing all -1\n           lis.remove(-1)\n\n    return len(lis)\n\nprint('length of modified list ',processArray(lis))\nprint(lis)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14240139,"reputation":1,"user_id":10286762,"display_name":"Shiva Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626857880,"creation_date":1626855458,"answer_id":68466177,"question_id":52124778,"body_markdown":"Try below Python Code: First replace the last consecutive odd number with the count and then the preceding odd number with -1.\r\nFinally, remove all -1 from the list.\r\n\r\nReason: It would be convenient to traverse the whole list with replacing consecutive odd numbers with -1, else the structure and indices of numbers would change and makes it difficult to iterate.\r\n\r\n    l=[222,3,35,62,124,61,29,375,66,7,-1]\r\n    count = 0\r\n    for i in range(0,len(l)):\r\n        if l[i]%2!=0 and i!=len(l)-1:\r\n            count +=1\r\n        else:\r\n            if count &gt; 1:\r\n                l[i-1]=count\r\n                while count != 1:\r\n                    l[i-count]= -1\r\n                    count -= 1\r\n            count = 0\r\n    l = [i for i in l if i&gt;=0 ]\r\n    \r\n    print(l)\r\n\r\nOutput: [222, 2, 62, 124, 3, 66, 7]\r\n\r\n\r\n","title":"Odd number Sequence Replaced by Count","body":"<p>Try below Python Code: First replace the last consecutive odd number with the count and then the preceding odd number with -1.\nFinally, remove all -1 from the list.</p>\n<p>Reason: It would be convenient to traverse the whole list with replacing consecutive odd numbers with -1, else the structure and indices of numbers would change and makes it difficult to iterate.</p>\n<pre><code>l=[222,3,35,62,124,61,29,375,66,7,-1]\ncount = 0\nfor i in range(0,len(l)):\n    if l[i]%2!=0 and i!=len(l)-1:\n        count +=1\n    else:\n        if count &gt; 1:\n            l[i-1]=count\n            while count != 1:\n                l[i-count]= -1\n                count -= 1\n        count = 0\nl = [i for i in l if i&gt;=0 ]\n\nprint(l)\n</code></pre>\n<p>Output: [222, 2, 62, 124, 3, 66, 7]</p>\n"}],"owner":{"account_id":12356230,"reputation":29,"user_id":9012431,"display_name":"Rohit Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1692209045,"creation_date":1535774921,"question_id":52124778,"body_markdown":"I am working on java Program\r\n\r\nhere is program Question:\r\nConsider Java Program. \r\nIt reads integers from the standard input (until it gets a negative number) and \r\nputs them into an array. \r\nAfter that it calls processArray on the array, \r\nand then prints the contents of the array on standard output.\r\nin program any sequence of two or more consecutive \r\nodd numbers in the array are removed from the array and replaced by a single number representing the length of that sequence. The processArray function/method should modify the array in-place (preferably without creating a new array), and it should return the new length of the modified array.\r\n\r\nFor example, if these numbers were provided on the standard input:\r\n\r\n    222\r\n    3\r\n    35\r\n    62\r\n    124\r\n    61\r\n    29\r\n    375\r\n    66\r\n    7\r\n    -1\r\n\r\nThen the program should print:\r\n\r\n    222\r\n    2\r\n    62\r\n    124\r\n    3\r\n    66\r\n    7\r\n\r\nNote that the sequence 3, 35 has been replaced by 2 and the sequence 61, 29, 375 has been replaced by 3. \r\n\r\n**here is my code**:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class Main {\r\n    \tpublic static int processArray(ArrayList&lt;Integer&gt; array) {\r\n    \t\tListIterator&lt;Integer&gt;iterator=array.listIterator();\r\n    \t\twhile (iterator.hasNext()) {\r\n    \t\t\tInteger integer = (Integer) iterator.next();\r\n    \t\t\tint count=0;\r\n    \t\t\tif (integer%2!=0) {\r\n    \t\t\t\tcount=count++;\r\n    \t\t\t\titerator.remove();\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tif(integer==-1)\r\n    \t\t\t\tbreak;\r\n    \t\t\telse\r\n    \t\t\t\titerator.previous();\r\n    \t\t\titerator.add(count);\r\n    \t\t\titerator.next();\r\n    \r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn array.size();\r\n    \t}\r\n    \r\n    \tpublic static void main (String[] args) {\r\n    \t\tArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;Integer&gt;();\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\twhile(in.hasNextInt()) {\r\n    \t\t\tint num = in.nextInt();\r\n    \t\t\tif (num &lt; 0) \r\n    \t\t\t\tbreak;\r\n    \t\t\tarrayList.add(new Integer(num));\r\n    \t\t}\r\n    \t\tint new_length = processArray(arrayList);\r\n    \t\tfor(int i=0; i&lt;new_length; i++)\r\n    \t\t\tSystem.out.println(arrayList.get(i));\r\n    \t}\r\n    }\r\n\r\n\r\nMy Logic Not Working Properly help to improve logic","title":"Odd number Sequence Replaced by Count","body":"<p>I am working on java Program</p>\n\n<p>here is program Question:\nConsider Java Program. \nIt reads integers from the standard input (until it gets a negative number) and \nputs them into an array. \nAfter that it calls processArray on the array, \nand then prints the contents of the array on standard output.\nin program any sequence of two or more consecutive \nodd numbers in the array are removed from the array and replaced by a single number representing the length of that sequence. The processArray function/method should modify the array in-place (preferably without creating a new array), and it should return the new length of the modified array.</p>\n\n<p>For example, if these numbers were provided on the standard input:</p>\n\n<pre><code>222\n3\n35\n62\n124\n61\n29\n375\n66\n7\n-1\n</code></pre>\n\n<p>Then the program should print:</p>\n\n<pre><code>222\n2\n62\n124\n3\n66\n7\n</code></pre>\n\n<p>Note that the sequence 3, 35 has been replaced by 2 and the sequence 61, 29, 375 has been replaced by 3. </p>\n\n<p><strong>here is my code</strong>:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class Main {\n    public static int processArray(ArrayList&lt;Integer&gt; array) {\n        ListIterator&lt;Integer&gt;iterator=array.listIterator();\n        while (iterator.hasNext()) {\n            Integer integer = (Integer) iterator.next();\n            int count=0;\n            if (integer%2!=0) {\n                count=count++;\n                iterator.remove();\n                continue;\n            }\n            if(integer==-1)\n                break;\n            else\n                iterator.previous();\n            iterator.add(count);\n            iterator.next();\n\n\n        }\n\n        return array.size();\n    }\n\n    public static void main (String[] args) {\n        ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;Integer&gt;();\n        Scanner in = new Scanner(System.in);\n        while(in.hasNextInt()) {\n            int num = in.nextInt();\n            if (num &lt; 0) \n                break;\n            arrayList.add(new Integer(num));\n        }\n        int new_length = processArray(arrayList);\n        for(int i=0; i&lt;new_length; i++)\n            System.out.println(arrayList.get(i));\n    }\n}\n</code></pre>\n\n<p>My Logic Not Working Properly help to improve logic</p>\n"},{"tags":["java","maven","spring-mvc","spring-security","thymeleaf"],"comments":[{"owner":{"display_name":"user745733"},"score":0,"creation_date":1424787681,"post_id":28698031,"comment_id":45686465,"body_markdown":"Are you sure you are not confusing pages and templates?","body":"Are you sure you are not confusing pages and templates?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1424788308,"post_id":28698031,"comment_id":45686859,"body_markdown":"What happens if you name your page `login2`? There can be some surprising issues with the specific name `login`, since Spring Security provides the default form.","body":"What happens if you name your page <code>login2</code>? There can be some surprising issues with the specific name <code>login</code>, since Spring Security provides the default form."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1424788333,"post_id":28698031,"comment_id":45686880,"body_markdown":"@mylenereiners That&#39;s not the problem. Thymeleaf templates are HTML pages.","body":"@mylenereiners That&#39;s not the problem. Thymeleaf templates are HTML pages."},{"owner":{"account_id":99506,"reputation":557,"user_id":268734,"accept_rate":36,"display_name":"Zahanghir"},"score":0,"creation_date":1424788633,"post_id":28698031,"comment_id":45687098,"body_markdown":"I&#39;m still getting the same error if I name my page to login2","body":"I&#39;m still getting the same error if I name my page to login2"}],"answers":[{"tags":[],"owner":{"account_id":4464117,"reputation":21,"user_id":3632201,"display_name":"fjroa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424792829,"creation_date":1424792829,"answer_id":28700157,"question_id":28698031,"body_markdown":"Maybe you have a conflict with the resolvers of thymeleaf and springSecurity. You have set your loginPage configuration as &#39;login&#39; and thymeleaf is expecting &#39;login.html&#39;. Have you tried to change .loginPage(&quot;/login&quot;) for .loginPage(&quot;/login.html&quot;) ?","title":"Spring-mvc + Spring-Security + Thymeleaf - Error Resolving Template","body":"<p>Maybe you have a conflict with the resolvers of thymeleaf and springSecurity. You have set your loginPage configuration as 'login' and thymeleaf is expecting 'login.html'. Have you tried to change .loginPage(\"/login\") for .loginPage(\"/login.html\") ?</p>\n"},{"tags":[],"owner":{"account_id":273486,"reputation":138,"user_id":565129,"accept_rate":71,"display_name":"Atfcan Ergin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428419913,"creation_date":1428419913,"answer_id":29495128,"question_id":28698031,"body_markdown":"Just remove the suffix code from config. \r\n\r\n    resolver.setSuffix(&quot;.html&quot;);","title":"Spring-mvc + Spring-Security + Thymeleaf - Error Resolving Template","body":"<p>Just remove the suffix code from config. </p>\n\n<pre><code>resolver.setSuffix(\".html\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9631596,"reputation":1,"user_id":7149261,"display_name":"user7149261"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478946142,"creation_date":1478941974,"answer_id":40561327,"question_id":28698031,"body_markdown":"In the ThymeleafProperties class that the default prefix for views is `classpath:/templates/` and the default suffix is `.html`. So change your `html` to `src/main/resources/templates/login.html`, as shown in the following image \r\n\r\n![Image depicting the file naming notation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CH2wy.jpg","title":"Spring-mvc + Spring-Security + Thymeleaf - Error Resolving Template","body":"<p>In the ThymeleafProperties class that the default prefix for views is <code>classpath:/templates/</code> and the default suffix is <code>.html</code>. So change your <code>html</code> to <code>src/main/resources/templates/login.html</code>, as shown in the following image </p>\n\n<p><img src=\"https://i.stack.imgur.com/CH2wy.jpg\" alt=\"Image depicting the file naming notation\"></p>\n"}],"owner":{"account_id":99506,"reputation":557,"user_id":268734,"accept_rate":36,"display_name":"Zahanghir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692209045,"creation_date":1424787135,"question_id":28698031,"body_markdown":"I&#39;m following a simple online tutorial for building a Spring + Spring Security + Thymeleaf + Maven project and I&#39;m getting the following error:\r\n\r\n\t[ERROR] [tomcat-http--4 02:00:16] (TemplateEngine.java:process:1085) [THYMELEAF][tomcat-http--4] Exception processing template &quot;login&quot;: Error resolving template &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\tFeb 24, 2015 2:00:16 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n\tSEVERE: Servlet.service() for servlet [dispatcher] in context with path [/hub] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\r\n\torg.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;login&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\tat org.thymeleaf.TemplateRepository.getTemplate(TemplateRepository.java:246)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1104)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1060)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1011)\r\n\tat org.thymeleaf.spring4.view.ThymeleafView.renderFragment(ThymeleafView.java:335)\r\n\tat org.thymeleaf.spring4.view.ThymeleafView.render(ThymeleafView.java:190)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1228)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1011)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:955)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:85)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:537)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1085)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:146)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:279)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nIt looks like for some reason it is not resolving the login page but even though the login page is at the correct location. If I point to the users.html page that page loads and there are no errors. Must be something very simple I&#39;m missing out on. Can someone please assist?\r\n\r\nThe following are my config classes:\r\n\r\n    public class ApplicationInitializer implements WebApplicationInitializer {\r\n\r\n\t@Override\r\n\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\t//Load application context\r\n\t\tAnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();\r\n\t\trootContext.register(ApplicationContext.class);\r\n\t\trootContext.setDisplayName(&quot;hub&quot;);\r\n\t\t\r\n\t\t//Context loader listener \r\n\t\tservletContext.addListener(new ContextLoaderListener(rootContext));\r\n\t\t\r\n\t\t//Dispatcher servlet\r\n\t\tServletRegistration.Dynamic dispatcher = \r\n\t\t\t\tservletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(rootContext));\r\n\t\tdispatcher.setLoadOnStartup(1); \r\n\t\tdispatcher.addMapping(&quot;/&quot;);\r\n\t}\r\n\r\n    }\r\n\r\nApplicationContext class:\r\n\r\n    @Configuration \r\n    @ComponentScan(basePackages = {&quot;com.motodoc.hub.*&quot;})\r\n    @EnableWebMvc\r\n    @Import({SpringDataConfig.class, ThymeleafConfig.class, SecurityConfig.class})\r\n    @ImportResource(&quot;classpath:trace-context.xml&quot;)\r\n    @PropertySource(&quot;classpath:spring.properties&quot;)\r\n    public class ApplicationContext extends WebMvcConfigurerAdapter {\r\n\t\r\n\t// Maps resources path to webapp/resources\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n\t}\r\n\t\r\n\t// Only needed if we are using @Value and ${...} when referencing properties\r\n\t@Bean\r\n\tpublic static PropertySourcesPlaceholderConfigurer properties() {\r\n\t\tPropertySourcesPlaceholderConfigurer propertySources = new PropertySourcesPlaceholderConfigurer();\r\n\t\tResource[] resources = new ClassPathResource[] { \r\n\t\t\t\tnew ClassPathResource(&quot;spring.properties&quot;) };\r\n\t\tpropertySources.setLocations(resources);\r\n\t\tpropertySources.setIgnoreUnresolvablePlaceholders(true);\r\n\t\treturn propertySources;\r\n\t}\r\n\t\r\n\t// Provides internationalization of messages\r\n\t@Bean\r\n\tpublic ResourceBundleMessageSource messageSource() {\r\n\t\tResourceBundleMessageSource source = new ResourceBundleMessageSource();\r\n\t\tsource.setBasename(&quot;messages&quot;);\r\n\t\treturn source;\r\n\t}\r\n    }\r\n\r\nThymeleafConfig class:\r\n\r\n    @Configuration \r\n    public class ThymeleafConfig {\r\n\r\n\t@Bean \r\n\tpublic ServletContextTemplateResolver templateResolver() {\r\n\t\tServletContextTemplateResolver resolver = new ServletContextTemplateResolver();\r\n\t\tresolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n\t\tresolver.setSuffix(&quot;.html&quot;);\r\n\t\tresolver.setTemplateMode(&quot;HTML5&quot;);\r\n\t\tresolver.setOrder(1);\r\n\t\treturn resolver;\r\n\t}\r\n\t\r\n\t@Bean \r\n\tpublic SpringTemplateEngine templateEngine() {\r\n\t\tSpringTemplateEngine engine = new SpringTemplateEngine();\r\n\t\tengine.setTemplateResolver(templateResolver());\r\n\t\treturn engine;\r\n\t}\r\n\t\r\n\t@Bean \r\n\tpublic ThymeleafViewResolver thymeleafViewResolver() {\r\n\t\tThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n\t\tresolver.setTemplateEngine(templateEngine());\r\n\t\treturn resolver;\r\n\t}\t\r\n    }\r\n\r\nSpringSecurityConfig class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t  auth.inMemoryAuthentication().withUser(&quot;mkyong&quot;).password(&quot;123456&quot;).roles(&quot;USER&quot;);\r\n\t  auth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;123456&quot;).roles(&quot;ADMIN&quot;);\r\n\t  auth.inMemoryAuthentication().withUser(&quot;dba&quot;).password(&quot;123456&quot;).roles(&quot;DBA&quot;);\r\n\t}\r\n \t\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\tweb.ignoring().antMatchers(&quot;/resources/**&quot;);\r\n\t  }\r\n\r\n\t@Override\r\n    protected void configure( HttpSecurity http ) throws Exception\r\n    {\r\n\t\thttp\r\n\t\t\t.authorizeRequests()\r\n            .antMatchers(&quot;/**&quot;).authenticated()\r\n            .antMatchers(&quot;/resources/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .formLogin()\r\n            .loginPage(&quot;/login&quot;)\r\n            .permitAll()\r\n            .defaultSuccessUrl(&quot;/users&quot;)\r\n            //.failureUrl(&quot;/login.html?authfailed=true&quot;)\r\n            .and()\r\n        .logout()\r\n            .invalidateHttpSession(true)\r\n            .logoutUrl(&quot;/logout&quot;)\r\n            .deleteCookies(&quot;JSESSIONID&quot;)\r\n            .logoutSuccessUrl(&quot;/&quot;);\r\n    }\r\n    }\r\n\r\nSecurityInit class:\r\n\r\n    public class SecurityInit extends AbstractSecurityWebApplicationInitializer {\r\n\r\n    }\r\n\r\n![Screenshot of project folders and files][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/M5y50.png\r\n\r\n","title":"Spring-mvc + Spring-Security + Thymeleaf - Error Resolving Template","body":"<p>I'm following a simple online tutorial for building a Spring + Spring Security + Thymeleaf + Maven project and I'm getting the following error:</p>\n\n<pre><code>[ERROR] [tomcat-http--4 02:00:16] (TemplateEngine.java:process:1085) [THYMELEAF][tomcat-http--4] Exception processing template \"login\": Error resolving template \"login\", template might not exist or might not be accessible by any of the configured Template Resolvers\nFeb 24, 2015 2:00:16 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [dispatcher] in context with path [/hub] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template \"login\", template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template \"login\", template might not exist or might not be accessible by any of the configured Template Resolvers\nat org.thymeleaf.TemplateRepository.getTemplate(TemplateRepository.java:246)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1104)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1060)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1011)\nat org.thymeleaf.spring4.view.ThymeleafView.renderFragment(ThymeleafView.java:335)\nat org.thymeleaf.spring4.view.ThymeleafView.render(ThymeleafView.java:190)\nat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1228)\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1011)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:955)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:857)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:85)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:537)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1085)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\nat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:146)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:279)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>It looks like for some reason it is not resolving the login page but even though the login page is at the correct location. If I point to the users.html page that page loads and there are no errors. Must be something very simple I'm missing out on. Can someone please assist?</p>\n\n<p>The following are my config classes:</p>\n\n<pre><code>public class ApplicationInitializer implements WebApplicationInitializer {\n\n@Override\npublic void onStartup(ServletContext servletContext) throws ServletException {\n    //Load application context\n    AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();\n    rootContext.register(ApplicationContext.class);\n    rootContext.setDisplayName(\"hub\");\n\n    //Context loader listener \n    servletContext.addListener(new ContextLoaderListener(rootContext));\n\n    //Dispatcher servlet\n    ServletRegistration.Dynamic dispatcher = \n            servletContext.addServlet(\"dispatcher\", new DispatcherServlet(rootContext));\n    dispatcher.setLoadOnStartup(1); \n    dispatcher.addMapping(\"/\");\n}\n\n}\n</code></pre>\n\n<p>ApplicationContext class:</p>\n\n<pre><code>@Configuration \n@ComponentScan(basePackages = {\"com.motodoc.hub.*\"})\n@EnableWebMvc\n@Import({SpringDataConfig.class, ThymeleafConfig.class, SecurityConfig.class})\n@ImportResource(\"classpath:trace-context.xml\")\n@PropertySource(\"classpath:spring.properties\")\npublic class ApplicationContext extends WebMvcConfigurerAdapter {\n\n// Maps resources path to webapp/resources\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"/resources/**\").addResourceLocations(\"/resources/\");\n}\n\n// Only needed if we are using @Value and ${...} when referencing properties\n@Bean\npublic static PropertySourcesPlaceholderConfigurer properties() {\n    PropertySourcesPlaceholderConfigurer propertySources = new PropertySourcesPlaceholderConfigurer();\n    Resource[] resources = new ClassPathResource[] { \n            new ClassPathResource(\"spring.properties\") };\n    propertySources.setLocations(resources);\n    propertySources.setIgnoreUnresolvablePlaceholders(true);\n    return propertySources;\n}\n\n// Provides internationalization of messages\n@Bean\npublic ResourceBundleMessageSource messageSource() {\n    ResourceBundleMessageSource source = new ResourceBundleMessageSource();\n    source.setBasename(\"messages\");\n    return source;\n}\n}\n</code></pre>\n\n<p>ThymeleafConfig class:</p>\n\n<pre><code>@Configuration \npublic class ThymeleafConfig {\n\n@Bean \npublic ServletContextTemplateResolver templateResolver() {\n    ServletContextTemplateResolver resolver = new ServletContextTemplateResolver();\n    resolver.setPrefix(\"/WEB-INF/views/\");\n    resolver.setSuffix(\".html\");\n    resolver.setTemplateMode(\"HTML5\");\n    resolver.setOrder(1);\n    return resolver;\n}\n\n@Bean \npublic SpringTemplateEngine templateEngine() {\n    SpringTemplateEngine engine = new SpringTemplateEngine();\n    engine.setTemplateResolver(templateResolver());\n    return engine;\n}\n\n@Bean \npublic ThymeleafViewResolver thymeleafViewResolver() {\n    ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n    resolver.setTemplateEngine(templateEngine());\n    return resolver;\n}   \n}\n</code></pre>\n\n<p>SpringSecurityConfig class:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n  auth.inMemoryAuthentication().withUser(\"mkyong\").password(\"123456\").roles(\"USER\");\n  auth.inMemoryAuthentication().withUser(\"admin\").password(\"123456\").roles(\"ADMIN\");\n  auth.inMemoryAuthentication().withUser(\"dba\").password(\"123456\").roles(\"DBA\");\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(\"/resources/**\");\n  }\n\n@Override\nprotected void configure( HttpSecurity http ) throws Exception\n{\n    http\n        .authorizeRequests()\n        .antMatchers(\"/**\").authenticated()\n        .antMatchers(\"/resources/**\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .formLogin()\n        .loginPage(\"/login\")\n        .permitAll()\n        .defaultSuccessUrl(\"/users\")\n        //.failureUrl(\"/login.html?authfailed=true\")\n        .and()\n    .logout()\n        .invalidateHttpSession(true)\n        .logoutUrl(\"/logout\")\n        .deleteCookies(\"JSESSIONID\")\n        .logoutSuccessUrl(\"/\");\n}\n}\n</code></pre>\n\n<p>SecurityInit class:</p>\n\n<pre><code>public class SecurityInit extends AbstractSecurityWebApplicationInitializer {\n\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/M5y50.png\" alt=\"Screenshot of project folders and files\"></p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":29238916,"reputation":26,"user_id":22400909,"display_name":"Thanks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692207694,"creation_date":1692207694,"answer_id":76915897,"question_id":76908097,"body_markdown":"to solve the error related to &#39;id&#39; and &#39;layout&#39; you just have to remove `import static android.os.Build.VERSION_CODES.R;` this from your code","title":"Layout and id fonts are in red color indicating error(cannot resolve symbol &#39;id&#39;) when you hover on them in .java file,also there is error with gradle","body":"<p>to solve the error related to 'id' and 'layout' you just have to remove <code>import static android.os.Build.VERSION_CODES.R;</code> this from your code</p>\n"}],"owner":{"account_id":29088944,"reputation":55,"user_id":22283269,"display_name":"Keval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76915897,"answer_count":1,"score":1,"last_activity_date":1692207694,"creation_date":1692121624,"question_id":76908097,"body_markdown":"[![image of .java file showing layout and id in red fonts](https://i.stack.imgur.com/f6eIC.png)](https://i.stack.imgur.com/f6eIC.png)\r\n\r\nMainActivity.java\r\n```\r\npackage online.internship;\r\n\r\nimport static android.os.Build.VERSION_CODES.R;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.Bundle;\r\nimport android.text.method.PasswordTransformationMethod;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button login, signup;\r\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n\r\n    EditText email, password;\r\n    SQLiteDatabase db;\r\n\r\n    SharedPreferences sp;\r\n    CheckBox rememberMe;\r\n    ImageView passwordHide, passwordShow;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        sp = getSharedPreferences(ConstantSp.PREF, MODE_PRIVATE);\r\n\r\n        db = openOrCreateDatabase(&quot;Online_Internship&quot;, MODE_PRIVATE, null);\r\n        String tableQuery = &quot;CREATE TABLE IF NOT EXISTS USERS(USERID INTEGER PRIMARY KEY AUTOINCREMENT,NAME VARCHAR(100),EMAIL VARCHAR(100),CONTACT INT(10),PASSWORD VARCHAR(20),GENDER VARCHAR(6),CITY VARCHAR(50),DOB VARCHAR(10))&quot;;\r\n        db.execSQL(tableQuery);\r\n\r\n        email = findViewById(R.id.main_email);\r\n        password = findViewById(R.id.main_password);\r\n\r\n        passwordHide = findViewById(R.id.main_password_hide);\r\n        passwordShow = findViewById(R.id.main_password_show);\r\n\r\n        passwordHide.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                passwordHide.setVisibility(View.GONE);\r\n                passwordShow.setVisibility(View.VISIBLE);\r\n                password.setTransformationMethod(null);\r\n            }\r\n        });\r\n\r\n        passwordShow.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                passwordHide.setVisibility(View.VISIBLE);\r\n                passwordShow.setVisibility(View.GONE);\r\n\r\n                password.setTransformationMethod(new PasswordTransformationMethod());\r\n\r\n            }\r\n        });\r\n\r\n        rememberMe = findViewById(R.id.main_remeber);\r\n\r\n        signup = findViewById(R.id.main_signup);\r\n        signup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                /*Intent intent = new Intent(MainActivity.this, SignupActivity.class);\r\n                startActivity(intent);*/\r\n                new CommonMethod(MainActivity.this, SignupActivity.class);\r\n            }\r\n        });\r\n\r\n        login = findViewById(R.id.main_login);\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (email.getText().toString().trim().equals(&quot;&quot;)) {\r\n                    email.setError(&quot;Email Id Required&quot;);\r\n                } else if (!email.getText().toString().trim().matches(emailPattern)) {\r\n                    email.setError(&quot;Valid Email Id Required&quot;);\r\n                } else if (password.getText().toString().trim().equals(&quot;&quot;)) {\r\n                    password.setError(&quot;Password Required&quot;);\r\n                } else if (password.getText().toString().trim().length() &lt; 6) {\r\n                    password.setError(&quot;Min. 6 Char Password Required&quot;);\r\n                } else {\r\n\r\n                    String selectQuery = &quot;SELECT * FROM USERS WHERE EMAIL=&#39;&quot; + email.getText().toString() + &quot;&#39; AND PASSWORD=&#39;&quot; + password.getText().toString() + &quot;&#39;&quot;;\r\n                    Cursor cursor = db.rawQuery(selectQuery, null);\r\n                    //Log.d(&quot;CURSOR_COUNT&quot;, String.valueOf(cursor.getCount()));\r\n\r\n                    if (cursor.getCount() &gt; 0) {\r\n\r\n                        while (cursor.moveToNext()) {\r\n                            String sUserId = cursor.getString(0);\r\n                            String sName = cursor.getString(1);\r\n                            String sEmail = cursor.getString(2);\r\n                            String sContact = cursor.getString(3);\r\n                            String sPassword = cursor.getString(4);\r\n                            String sGender = cursor.getString(5);\r\n                            String sCity = cursor.getString(6);\r\n                            String sDob = cursor.getString(7);\r\n\r\n                            sp.edit().putString(ConstantSp.ID, sUserId).commit();\r\n                            sp.edit().putString(ConstantSp.NAME, sName).commit();\r\n                            sp.edit().putString(ConstantSp.EMAIL, sEmail).commit();\r\n                            sp.edit().putString(ConstantSp.CONTACT, sContact).commit();\r\n                            sp.edit().putString(ConstantSp.PASSWORD, sPassword).commit();\r\n                            sp.edit().putString(ConstantSp.GENDER, sGender).commit();\r\n                            sp.edit().putString(ConstantSp.CITY, sCity).commit();\r\n                            sp.edit().putString(ConstantSp.DOB, sDob).commit();\r\n                            if (rememberMe.isChecked()) {\r\n                                sp.edit().putString(ConstantSp.REMEMBER, &quot;Yes&quot;).commit();\r\n                            } else {\r\n                                sp.edit().putString(ConstantSp.REMEMBER, &quot;&quot;).commit();\r\n                            }\r\n\r\n                            Log.d(&quot;USER_DATA&quot;, sUserId + &quot;\\n&quot; + sName + &quot;\\n&quot; + sEmail + &quot;\\n&quot; + sContact + &quot;\\n&quot; + sPassword + &quot;\\n&quot; + sGender + &quot;\\n&quot; + sCity + &quot;\\n&quot; + sDob);\r\n                        }\r\n\r\n                        System.out.println(&quot;Login Successfully&quot;);\r\n                        //Toast.makeText(MainActivity.this, &quot;Login Successfully&quot;, Toast.LENGTH_LONG).show();\r\n                        new CommonMethod(MainActivity.this, &quot;Login Successfully&quot;);\r\n                        //Snackbar.make(view, &quot;Login Successfully&quot;, Snackbar.LENGTH_SHORT).show();\r\n                        new CommonMethod(view, &quot;Login Successfully&quot;);\r\n                        /*Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                        startActivity(intent);*/\r\n                        new CommonMethod(MainActivity.this, DashboardActivity.class);\r\n                    } else {\r\n                        new CommonMethod(MainActivity.this, &quot;Login Unsuccessfully&quot;);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        //super.onBackPressed();\r\n        finishAffinity();\r\n    }\r\n}\r\n```\r\n\r\nother than this i am also getting this error while running the app \r\n```\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ParseLibraryResourcesTask$ParseResourcesRunnable\r\n\r\n```\r\n\r\ndoes anyone know why is it happening?\r\n\r\n\r\nin some other answers they are telling to add `org.gradle.jvmargs=-Xmx2048m` in gradle.properties files in order to solve the error of gradle, i tried and it is not working in my case\r\n\r\ni also cleaned up, rebuild the project, restart android studio\r\n\r\nhope you can help me, thank you!","title":"Layout and id fonts are in red color indicating error(cannot resolve symbol &#39;id&#39;) when you hover on them in .java file,also there is error with gradle","body":"<p><a href=\"https://i.stack.imgur.com/f6eIC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6eIC.png\" alt=\"image of .java file showing layout and id in red fonts\" /></a></p>\n<p>MainActivity.java</p>\n<pre><code>package online.internship;\n\nimport static android.os.Build.VERSION_CODES.R;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.text.method.PasswordTransformationMethod;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.google.android.material.snackbar.Snackbar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button login, signup;\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\n\n    EditText email, password;\n    SQLiteDatabase db;\n\n    SharedPreferences sp;\n    CheckBox rememberMe;\n    ImageView passwordHide, passwordShow;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        sp = getSharedPreferences(ConstantSp.PREF, MODE_PRIVATE);\n\n        db = openOrCreateDatabase(&quot;Online_Internship&quot;, MODE_PRIVATE, null);\n        String tableQuery = &quot;CREATE TABLE IF NOT EXISTS USERS(USERID INTEGER PRIMARY KEY AUTOINCREMENT,NAME VARCHAR(100),EMAIL VARCHAR(100),CONTACT INT(10),PASSWORD VARCHAR(20),GENDER VARCHAR(6),CITY VARCHAR(50),DOB VARCHAR(10))&quot;;\n        db.execSQL(tableQuery);\n\n        email = findViewById(R.id.main_email);\n        password = findViewById(R.id.main_password);\n\n        passwordHide = findViewById(R.id.main_password_hide);\n        passwordShow = findViewById(R.id.main_password_show);\n\n        passwordHide.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                passwordHide.setVisibility(View.GONE);\n                passwordShow.setVisibility(View.VISIBLE);\n                password.setTransformationMethod(null);\n            }\n        });\n\n        passwordShow.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                passwordHide.setVisibility(View.VISIBLE);\n                passwordShow.setVisibility(View.GONE);\n\n                password.setTransformationMethod(new PasswordTransformationMethod());\n\n            }\n        });\n\n        rememberMe = findViewById(R.id.main_remeber);\n\n        signup = findViewById(R.id.main_signup);\n        signup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                /*Intent intent = new Intent(MainActivity.this, SignupActivity.class);\n                startActivity(intent);*/\n                new CommonMethod(MainActivity.this, SignupActivity.class);\n            }\n        });\n\n        login = findViewById(R.id.main_login);\n\n        login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (email.getText().toString().trim().equals(&quot;&quot;)) {\n                    email.setError(&quot;Email Id Required&quot;);\n                } else if (!email.getText().toString().trim().matches(emailPattern)) {\n                    email.setError(&quot;Valid Email Id Required&quot;);\n                } else if (password.getText().toString().trim().equals(&quot;&quot;)) {\n                    password.setError(&quot;Password Required&quot;);\n                } else if (password.getText().toString().trim().length() &lt; 6) {\n                    password.setError(&quot;Min. 6 Char Password Required&quot;);\n                } else {\n\n                    String selectQuery = &quot;SELECT * FROM USERS WHERE EMAIL='&quot; + email.getText().toString() + &quot;' AND PASSWORD='&quot; + password.getText().toString() + &quot;'&quot;;\n                    Cursor cursor = db.rawQuery(selectQuery, null);\n                    //Log.d(&quot;CURSOR_COUNT&quot;, String.valueOf(cursor.getCount()));\n\n                    if (cursor.getCount() &gt; 0) {\n\n                        while (cursor.moveToNext()) {\n                            String sUserId = cursor.getString(0);\n                            String sName = cursor.getString(1);\n                            String sEmail = cursor.getString(2);\n                            String sContact = cursor.getString(3);\n                            String sPassword = cursor.getString(4);\n                            String sGender = cursor.getString(5);\n                            String sCity = cursor.getString(6);\n                            String sDob = cursor.getString(7);\n\n                            sp.edit().putString(ConstantSp.ID, sUserId).commit();\n                            sp.edit().putString(ConstantSp.NAME, sName).commit();\n                            sp.edit().putString(ConstantSp.EMAIL, sEmail).commit();\n                            sp.edit().putString(ConstantSp.CONTACT, sContact).commit();\n                            sp.edit().putString(ConstantSp.PASSWORD, sPassword).commit();\n                            sp.edit().putString(ConstantSp.GENDER, sGender).commit();\n                            sp.edit().putString(ConstantSp.CITY, sCity).commit();\n                            sp.edit().putString(ConstantSp.DOB, sDob).commit();\n                            if (rememberMe.isChecked()) {\n                                sp.edit().putString(ConstantSp.REMEMBER, &quot;Yes&quot;).commit();\n                            } else {\n                                sp.edit().putString(ConstantSp.REMEMBER, &quot;&quot;).commit();\n                            }\n\n                            Log.d(&quot;USER_DATA&quot;, sUserId + &quot;\\n&quot; + sName + &quot;\\n&quot; + sEmail + &quot;\\n&quot; + sContact + &quot;\\n&quot; + sPassword + &quot;\\n&quot; + sGender + &quot;\\n&quot; + sCity + &quot;\\n&quot; + sDob);\n                        }\n\n                        System.out.println(&quot;Login Successfully&quot;);\n                        //Toast.makeText(MainActivity.this, &quot;Login Successfully&quot;, Toast.LENGTH_LONG).show();\n                        new CommonMethod(MainActivity.this, &quot;Login Successfully&quot;);\n                        //Snackbar.make(view, &quot;Login Successfully&quot;, Snackbar.LENGTH_SHORT).show();\n                        new CommonMethod(view, &quot;Login Successfully&quot;);\n                        /*Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                        startActivity(intent);*/\n                        new CommonMethod(MainActivity.this, DashboardActivity.class);\n                    } else {\n                        new CommonMethod(MainActivity.this, &quot;Login Unsuccessfully&quot;);\n                    }\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        //super.onBackPressed();\n        finishAffinity();\n    }\n}\n</code></pre>\n<p>other than this i am also getting this error while running the app</p>\n<pre><code>Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ParseLibraryResourcesTask$ParseResourcesRunnable\n\n</code></pre>\n<p>does anyone know why is it happening?</p>\n<p>in some other answers they are telling to add <code>org.gradle.jvmargs=-Xmx2048m</code> in gradle.properties files in order to solve the error of gradle, i tried and it is not working in my case</p>\n<p>i also cleaned up, rebuild the project, restart android studio</p>\n<p>hope you can help me, thank you!</p>\n"},{"tags":["java","spring","postman","jersey","jax-rs"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692194995,"post_id":76914359,"comment_id":135591001,"body_markdown":"This is JAX-RS (probably Jersey) and not Spring MVC.","body":"This is JAX-RS (probably Jersey) and not Spring MVC."}],"answers":[{"tags":[],"owner":{"account_id":26528740,"reputation":367,"user_id":20161294,"display_name":"v-g"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692206968,"creation_date":1692206320,"answer_id":76915752,"question_id":76914359,"body_markdown":"Supposing that you are using JAX-RS, and that `DetailsRequest` inherit from `HttpServletRequest`, if you want to follow security good practices, you might use servlet filters, as in https://stackoverflow.com/a/45224180/20161294 .\r\nthen use:\r\n\r\n`String headerValue = detailsRequest.getHeaders(&quot;RefId&quot;);`","title":"How to access header value passed while calling api in postman?","body":"<p>Supposing that you are using JAX-RS, and that <code>DetailsRequest</code> inherit from <code>HttpServletRequest</code>, if you want to follow security good practices, you might use servlet filters, as in <a href=\"https://stackoverflow.com/a/45224180/20161294\">https://stackoverflow.com/a/45224180/20161294</a> .\nthen use:</p>\n<p><code>String headerValue = detailsRequest.getHeaders(&quot;RefId&quot;);</code></p>\n"}],"owner":{"account_id":14896017,"reputation":79,"user_id":10756300,"display_name":"R M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692206968,"creation_date":1692194642,"question_id":76914359,"body_markdown":"\t@POST\r\n\t@Path(&quot;/id&quot;)\r\n\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response getDetails(DetailsRequest detailsRequest) {[![enter image description here][1]][1]\r\n\r\n\r\n[![ttps://i.stack.imgur.com/ywgtS.png][1]][1]\r\n\r\nhow to pull RedId from headers in POST call , need help on this \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pwJqp.png","title":"How to access header value passed while calling api in postman?","body":"<pre><code>@POST\n@Path(&quot;/id&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response getDetails(DetailsRequest detailsRequest) {[![enter image description here][1]][1]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pwJqp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pwJqp.png\" alt=\"ttps://i.stack.imgur.com/ywgtS.png\" /></a></p>\n<p>how to pull RedId from headers in POST call , need help on this</p>\n"},{"tags":["java","intellij-idea","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1692206491,"post_id":76915736,"comment_id":135593354,"body_markdown":"It&#39;s not throwing the exception because there&#39;s no need for parallelism when you&#39;re using `findAny()` with no filter. Changing it to `findFirst()` throws an exception but doesn&#39;t remove the warning, strangely.","body":"It&#39;s not throwing the exception because there&#39;s no need for parallelism when you&#39;re using <code>findAny()</code> with no filter. Changing it to <code>findFirst()</code> throws an exception but doesn&#39;t remove the warning, strangely."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692214712,"post_id":76915736,"comment_id":135594806,"body_markdown":"@shmosel Oops, my mistake, misread the code.","body":"@shmosel Oops, my mistake, misread the code."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1692639670,"post_id":76915736,"comment_id":135648192,"body_markdown":"@Holger Why is there no need to evaluate the mapping function?","body":"@Holger Why is there no need to evaluate the mapping function?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1692689697,"post_id":76915736,"comment_id":135654476,"body_markdown":"@shmosel my bad, I mixed it up with the logic of `isPresent()`","body":"@shmosel my bad, I mixed it up with the logic of <code>isPresent()</code>"}],"owner":{"account_id":4304129,"reputation":187,"user_id":3517035,"accept_rate":33,"display_name":"osseum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1692272002,"answer_count":0,"score":4,"last_activity_date":1692206196,"creation_date":1692206196,"question_id":76915736,"body_markdown":"I have written some code that I believe is likely to throw an exception. But an IDEA Ide #IC-231.8109.175 surprisingly show me warning `Condition &#39;id != Thread.currentThread().threadId()&#39; is always &#39;false&#39;`.\r\nI am doubtful about the accuracy of this warning and interested why it really always evaluates to false.\r\n\r\n```java\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        final long id = Thread.currentThread().threadId();\r\n        var g = IntStream.range(0, 100_000_000).boxed()\r\n                .parallel()\r\n                .map(k -&gt; {\r\n                    if (id != Thread.currentThread().threadId()) {\r\n                        throw new RuntimeException();\r\n                    }\r\n                    return k + 1;\r\n                }).findAny();\r\n\r\n        System.out.println(g);\r\n    }\r\n}\r\n```","title":"Why Java don&#39;t parallize this stream computation?","body":"<p>I have written some code that I believe is likely to throw an exception. But an IDEA Ide #IC-231.8109.175 surprisingly show me warning <code>Condition 'id != Thread.currentThread().threadId()' is always 'false'</code>.\nI am doubtful about the accuracy of this warning and interested why it really always evaluates to false.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.IntStream;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final long id = Thread.currentThread().threadId();\n        var g = IntStream.range(0, 100_000_000).boxed()\n                .parallel()\n                .map(k -&gt; {\n                    if (id != Thread.currentThread().threadId()) {\n                        throw new RuntimeException();\n                    }\n                    return k + 1;\n                }).findAny();\n\n        System.out.println(g);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692204817,"creation_date":1692204817,"answer_id":76915617,"question_id":76915480,"body_markdown":"The output of your expression is a (date) value. To use it as a predicate (WHERE clause in SQL) you somewhat have to create a boolean output (e.g. .isNotNull()).","title":"How to use CASE statement in Criteria JPA Java","body":"<p>The output of your expression is a (date) value. To use it as a predicate (WHERE clause in SQL) you somewhat have to create a boolean output (e.g. .isNotNull()).</p>\n"}],"owner":{"account_id":29238311,"reputation":3,"user_id":22400468,"display_name":"Yaser Rasheed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915617,"answer_count":1,"score":0,"last_activity_date":1692204817,"creation_date":1692203475,"question_id":76915480,"body_markdown":"I want to use CASE statement as Predicate in Criteria API.\r\n\r\n```\r\nPredicate isUpdateNotNull = criteriaBuilder.isNotNull(employee.get(&quot;updateDate&quot;));\r\ncriteriaBuilder.selectCase().when(isUpdateNotNull, root.get(&quot;updateDate&quot;)).otherwise(root.get(&quot;createdDate&quot;));\r\n```\r\n\r\nThe selectCase() is returing Expression, not Predicate. How to make it as Predicate.","title":"How to use CASE statement in Criteria JPA Java","body":"<p>I want to use CASE statement as Predicate in Criteria API.</p>\n<pre><code>Predicate isUpdateNotNull = criteriaBuilder.isNotNull(employee.get(&quot;updateDate&quot;));\ncriteriaBuilder.selectCase().when(isUpdateNotNull, root.get(&quot;updateDate&quot;)).otherwise(root.get(&quot;createdDate&quot;));\n</code></pre>\n<p>The selectCase() is returing Expression, not Predicate. How to make it as Predicate.</p>\n"},{"tags":["java","hibernate","jpa","jpa-2.0","criteriabuilder"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692204739,"creation_date":1692204739,"answer_id":76915608,"question_id":75702699,"body_markdown":"That&#39;s not possible yet, but is being discussed here: https://github.com/hibernate/hibernate-orm/discussions/5898\r\nSo if you want to be notified about progress on this topic, then you can watch that GitHub discussion.","title":"can do this with JPA / Hibernate criteriabuilder","body":"<p>That's not possible yet, but is being discussed here: <a href=\"https://github.com/hibernate/hibernate-orm/discussions/5898\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/discussions/5898</a>\nSo if you want to be notified about progress on this topic, then you can watch that GitHub discussion.</p>\n"}],"owner":{"account_id":14008954,"reputation":81,"user_id":10118195,"display_name":"Aurora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692204739,"creation_date":1678507231,"question_id":75702699,"body_markdown":"I am working with oracle and using JPA with Hibernate, can we do this with criteriabuilder?\r\n\r\n\r\n```sql\r\nSELECT col1,col2,col3\r\nFROM table(schema.fn_name(param1,param2,param3))\r\nORDER BY col1,col2;\r\n```\r\n\r\nthe query can display other additional field (xyz) as well, although there is no such column. I can do this with callable statement ","title":"can do this with JPA / Hibernate criteriabuilder","body":"<p>I am working with oracle and using JPA with Hibernate, can we do this with criteriabuilder?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT col1,col2,col3\nFROM table(schema.fn_name(param1,param2,param3))\nORDER BY col1,col2;\n</code></pre>\n<p>the query can display other additional field (xyz) as well, although there is no such column. I can do this with callable statement</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1381170270,"post_id":19231875,"comment_id":28464797,"body_markdown":"This kind of defeats the purpose of IoC and Dependency Injection.","body":"This kind of defeats the purpose of IoC and Dependency Injection."},{"owner":{"account_id":1138883,"reputation":423,"user_id":1123341,"display_name":"Todd Murray"},"score":0,"creation_date":1381171102,"post_id":19231875,"comment_id":28465237,"body_markdown":"Are you using XML configurations or component scanning?","body":"Are you using XML configurations or component scanning?"},{"owner":{"account_id":437059,"reputation":654,"user_id":824553,"accept_rate":100,"display_name":"kwh"},"score":0,"creation_date":1381171422,"post_id":19231875,"comment_id":28465427,"body_markdown":"@ToddMurray All annotation driven, no XML at all.","body":"@ToddMurray All annotation driven, no XML at all."},{"owner":{"account_id":2624772,"reputation":4478,"user_id":2272030,"accept_rate":85,"display_name":"Mike R"},"score":0,"creation_date":1381172571,"post_id":19231875,"comment_id":28466044,"body_markdown":"inject both at startup, then at runtime switch between implementations.","body":"inject both at startup, then at runtime switch between implementations."},{"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"score":2,"creation_date":1381172611,"post_id":19231875,"comment_id":28466066,"body_markdown":"You could use a factory pattern configured using spring and choose the implementation on runtime.","body":"You could use a factory pattern configured using spring and choose the implementation on runtime."}],"answers":[{"tags":[],"owner":{"account_id":427374,"reputation":1215,"user_id":809107,"accept_rate":88,"display_name":"acc15"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1381172825,"creation_date":1381172375,"answer_id":19232501,"question_id":19231875,"body_markdown":"Declare implementations with `@Component(&quot;implForRq1&quot;)` and `@Component(&quot;implForRq2&quot;)`\r\n\r\nThen inject them both and use:\r\n\r\n\tclass Runner {\r\n\r\n\t\t@Autowired @Qualifier(&quot;implForRq1&quot;)\r\n\t\tprivate MyInterface runnerOfRq1;\r\n\r\n\t\t@Autowired @Qualifier(&quot;implForRq2&quot;)\r\n\t\tprivate MyInterface runnerOfRq2;\r\n\r\n\t\tvoid run(int rq) {\r\n\t\t\tswitch (rq) {\r\n\t\t\t\tcase 1: runnerOfRq1.run();\r\n\t\t\t\tcase 2: runnerOfRq2.run();\r\n\t\t\t\t...\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t...\r\n\r\n\t@Autowired\r\n\tRunner runner;\r\n\r\n\tvoid run(int rq) {\r\n\t\trunner.run(rq);\r\n\t}\r\n","title":"Choose which implementation to inject at runtime spring","body":"<p>Declare implementations with <code>@Component(\"implForRq1\")</code> and <code>@Component(\"implForRq2\")</code></p>\n\n<p>Then inject them both and use:</p>\n\n<pre><code>class Runner {\n\n    @Autowired @Qualifier(\"implForRq1\")\n    private MyInterface runnerOfRq1;\n\n    @Autowired @Qualifier(\"implForRq2\")\n    private MyInterface runnerOfRq2;\n\n    void run(int rq) {\n        switch (rq) {\n            case 1: runnerOfRq1.run();\n            case 2: runnerOfRq2.run();\n            ...\n\n        }\n    }\n\n}\n\n...\n\n@Autowired\nRunner runner;\n\nvoid run(int rq) {\n    runner.run(rq);\n}\n</code></pre>\n"}],"owner":{"account_id":437059,"reputation":654,"user_id":824553,"accept_rate":100,"display_name":"kwh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15113,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19232501,"answer_count":1,"score":7,"last_activity_date":1692204529,"creation_date":1381170077,"question_id":19231875,"body_markdown":"I have the following classes:\r\n\r\n    public interface MyInterface{}\r\n    \r\n    public class MyImpl1 implements MyInterface{}\r\n    \r\n    public class MyImpl2 implements MyInterface{}\r\n    \r\n    public class Runner {\r\n            @Autowired private MyInterface myInterface;\r\n    }\r\n\r\nWhat I want to do is decide, whilst the app is already running (i.e. **not** at startup) which Implementation should be injected into `Runner`.\r\n\r\nSo ideally something like this:\r\n\r\n    ApplicationContext appContext = ...\r\n    Integer request = ...\r\n\r\n    Runner runner = null;\r\n    if (request == 1) {\r\n            //here the property &#39;myInterface&#39; of &#39;Runner&#39; would be injected with MyImpl1\r\n            runner = appContext.getBean(Runner.class) \r\n    }\r\n    else if (request == 2) {\r\n            //here the property &#39;myInterface&#39; of &#39;Runner&#39; would be injected with MyImpl2\r\n            runner = appContext.getBean(Runner.class)\r\n    }\r\n    runner.start();\r\n\r\nWhat is the best way to accomplish this?\r\n\r\n","title":"Choose which implementation to inject at runtime spring","body":"<p>I have the following classes:</p>\n\n<pre><code>public interface MyInterface{}\n\npublic class MyImpl1 implements MyInterface{}\n\npublic class MyImpl2 implements MyInterface{}\n\npublic class Runner {\n        @Autowired private MyInterface myInterface;\n}\n</code></pre>\n\n<p>What I want to do is decide, whilst the app is already running (i.e. <strong>not</strong> at startup) which Implementation should be injected into <code>Runner</code>.</p>\n\n<p>So ideally something like this:</p>\n\n<pre><code>ApplicationContext appContext = ...\nInteger request = ...\n\nRunner runner = null;\nif (request == 1) {\n        //here the property 'myInterface' of 'Runner' would be injected with MyImpl1\n        runner = appContext.getBean(Runner.class) \n}\nelse if (request == 2) {\n        //here the property 'myInterface' of 'Runner' would be injected with MyImpl2\n        runner = appContext.getBean(Runner.class)\n}\nrunner.start();\n</code></pre>\n\n<p>What is the best way to accomplish this?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692203699,"post_id":76913516,"comment_id":135592858,"body_markdown":"Why wouldn&#39;t you just have your Foo accept query.b (int) directly and have it call new bla.blub.Bar(query.b)?","body":"Why wouldn&#39;t you just have your Foo accept query.b (int) directly and have it call new bla.blub.Bar(query.b)?"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692204412,"creation_date":1692204412,"answer_id":76915579,"question_id":76913516,"body_markdown":"Seems like you could be using:\r\n\r\n    public class Foo {\r\n        String a;\r\n        Bar bar;\r\n        public Foo(String a, int b) {\r\n            this(a, new Bar(b));\r\n        }\r\n        public Foo(String a, final Bar bar) {\r\n            this.a = a;\r\n            this.bar = bar;\r\n        }\r\n    }\r\n\r\nand then for the query:\r\n\r\n    @Query(&quot;select new bla.blub.Foo(entity.a,entity.b) from Entity entity&quot;)","title":"Return nested custom object from JPA Query","body":"<p>Seems like you could be using:</p>\n<pre><code>public class Foo {\n    String a;\n    Bar bar;\n    public Foo(String a, int b) {\n        this(a, new Bar(b));\n    }\n    public Foo(String a, final Bar bar) {\n        this.a = a;\n        this.bar = bar;\n    }\n}\n</code></pre>\n<p>and then for the query:</p>\n<pre><code>@Query(&quot;select new bla.blub.Foo(entity.a,entity.b) from Entity entity&quot;)\n</code></pre>\n"}],"owner":{"account_id":18253860,"reputation":418,"user_id":13288265,"display_name":"jksevend"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692204412,"creation_date":1692188602,"question_id":76913516,"body_markdown":"I have big problem. Spring Boot JPA does not like me. I have simple requirements\r\n\r\nReturn List of object which contains object from query. \r\n\r\nObjects:\r\n\r\n```\r\npublic class Foo {\r\n\tString a;\r\n\tBar bar;\r\n\tpublic Foo(String a, final Bar bar) {\r\n\t\tthis.a = a;\r\n\t\tthis.bar = bar;\r\n\t}\r\n}\r\n\r\npublic class Bar {\r\n\tint b;\r\n\tBar(int b) {\r\n\t\tthis.b = b;\r\n\t}\r\n}\r\n```\r\n\r\nNow I have query in repository:\r\n```\r\n@Query(&quot;select new bla.blub.Foo(query.a, new bla.blub.Bar(query.b))&quot;)\r\n\tList&lt;Foo&gt; lol();\r\n```\r\n\r\nBut Spring Boot seems like stuped because I cannot nest the new calls to my object when another object needs this object in the constructor.\r\n\r\nWhat to do? Me try specifications and query and out of answer.\r\nthank you humans\r\n","title":"Return nested custom object from JPA Query","body":"<p>I have big problem. Spring Boot JPA does not like me. I have simple requirements</p>\n<p>Return List of object which contains object from query.</p>\n<p>Objects:</p>\n<pre><code>public class Foo {\n    String a;\n    Bar bar;\n    public Foo(String a, final Bar bar) {\n        this.a = a;\n        this.bar = bar;\n    }\n}\n\npublic class Bar {\n    int b;\n    Bar(int b) {\n        this.b = b;\n    }\n}\n</code></pre>\n<p>Now I have query in repository:</p>\n<pre><code>@Query(&quot;select new bla.blub.Foo(query.a, new bla.blub.Bar(query.b))&quot;)\n    List&lt;Foo&gt; lol();\n</code></pre>\n<p>But Spring Boot seems like stuped because I cannot nest the new calls to my object when another object needs this object in the constructor.</p>\n<p>What to do? Me try specifications and query and out of answer.\nthank you humans</p>\n"},{"tags":["java","sql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1678357126,"post_id":75683146,"comment_id":133518061,"body_markdown":"Please add more details like: source code or the entity, the code snippet where you are modifying and saving it, the error message you got.","body":"Please add more details like: source code or the entity, the code snippet where you are modifying and saving it, the error message you got."},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1678365399,"post_id":75683146,"comment_id":133520393,"body_markdown":"you modify pk.\n\njust add another one. And delete old.\n\nOr you can create modify query like:  Update someEntite set someDate = ? where pkColumns = ?","body":"you modify pk.  just add another one. And delete old.  Or you can create modify query like:  Update someEntite set someDate = ? where pkColumns = ?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692204360,"creation_date":1692204360,"answer_id":76915570,"question_id":75683146,"body_markdown":"You are not allowed to change a primary key, by definition. A primary key is something that should never change.\r\nYou&#39;ll have to run a native query for doing this, or create the entity with the new id and migrate associations to that new entity then.","title":"Identifier of an entity was altered from one one to another","body":"<p>You are not allowed to change a primary key, by definition. A primary key is something that should never change.\nYou'll have to run a native query for doing this, or create the entity with the new id and migrate associations to that new entity then.</p>\n"}],"owner":{"account_id":27933566,"reputation":3,"user_id":21331018,"display_name":"VIMALJITH K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915570,"answer_count":1,"score":0,"last_activity_date":1692204360,"creation_date":1678356697,"question_id":75683146,"body_markdown":"I have an entity in spring boot application having composite pk( long num, Date date, String typ)\r\nWhen I fetch one entity, change the date and save it again, getting this error:\r\n\r\n&gt; identifier of entity was altered from entityPk(num=1234567,\r\n&gt; date=2023-02-15 09:00:00, typ=&quot;12&quot;) to  entityPk(num=1356789,\r\n&gt; date=2023-02-15 09:00:00, typ=&quot;12&quot;)\r\n\r\nDidn&#39;t get an idea to get rid of rid error","title":"Identifier of an entity was altered from one one to another","body":"<p>I have an entity in spring boot application having composite pk( long num, Date date, String typ)\nWhen I fetch one entity, change the date and save it again, getting this error:</p>\n<blockquote>\n<p>identifier of entity was altered from entityPk(num=1234567,\ndate=2023-02-15 09:00:00, typ=&quot;12&quot;) to  entityPk(num=1356789,\ndate=2023-02-15 09:00:00, typ=&quot;12&quot;)</p>\n</blockquote>\n<p>Didn't get an idea to get rid of rid error</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692201645,"creation_date":1692201645,"answer_id":76915282,"question_id":76915121,"body_markdown":"There are two things going on here:\r\n\r\n1.  `getDeclaredFields()` returns the `Field` objects for only the fields declared by the target class.  The fields declared in inherited classes and interfaces are not included in the result.  If you want those you need to (recursively) scan the classes superclass (`getSuperclass()`) and its interfaces (`getInterfaces()`).  Read the javadocs for those methods carefully ... because there is a catch.\r\n\r\n2.  The field called `this$0` is a *synthetic* field.  You can tell if a field is synthetic by calling `isSynthetic()` on the `Field` object.  A synthetic field&#39;s name is platform dependent *in theory*, but not in practice (AFAIK).\r\n\r\nIn this case, `Contract` and `Summary` have been declared as innerclasses of `MyDocument`.  The &quot;this$0&quot; synthetic field is used when (say) an instance method of `Contract` needs to refer to the instance of `MyDocument` that (um) contains it.  If you don&#39;t need to be able to do that, you could declare `Contract` and `Summary` as nested classes instead; i.e. add the `static` keyword before the respective `class` keywords.","title":"Get all of the evaluated instance variables of an instance without the representation of the object itself","body":"<p>There are two things going on here:</p>\n<ol>\n<li><p><code>getDeclaredFields()</code> returns the <code>Field</code> objects for only the fields declared by the target class.  The fields declared in inherited classes and interfaces are not included in the result.  If you want those you need to (recursively) scan the classes superclass (<code>getSuperclass()</code>) and its interfaces (<code>getInterfaces()</code>).  Read the javadocs for those methods carefully ... because there is a catch.</p>\n</li>\n<li><p>The field called <code>this$0</code> is a <em>synthetic</em> field.  You can tell if a field is synthetic by calling <code>isSynthetic()</code> on the <code>Field</code> object.  A synthetic field's name is platform dependent <em>in theory</em>, but not in practice (AFAIK).</p>\n</li>\n</ol>\n<p>In this case, <code>Contract</code> and <code>Summary</code> have been declared as innerclasses of <code>MyDocument</code>.  The &quot;this$0&quot; synthetic field is used when (say) an instance method of <code>Contract</code> needs to refer to the instance of <code>MyDocument</code> that (um) contains it.  If you don't need to be able to do that, you could declare <code>Contract</code> and <code>Summary</code> as nested classes instead; i.e. add the <code>static</code> keyword before the respective <code>class</code> keywords.</p>\n"}],"owner":{"account_id":29158723,"reputation":1,"user_id":22337927,"display_name":"Fra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692204224,"creation_date":1692200291,"question_id":76915121,"body_markdown":"I have a class representing some kind of documents, defined by certain variables. Some of these variables are shared between all the document types, while some others are specific of a particular document type, and also some variables needs to be always evaluated, but some others don&#39;t (therefore, given a specific instance of a generic document, I never know in advance which variables are evaluated and which are not, except for the mandatory ones). \r\n\r\nThe final goal is to ah HashMap representing a document, which has to contain ONLY the evaluated attributes of the instance I&#39;m trying to represent (both &quot;general&quot; and specific). To do so, I tried the method shown, but it gives me only the specific variables and it always gives me something I don&#39;t want, which seems to be a representation of the instance itself\r\n\r\nMy question is: is there a way to improve that method in a way that given an object which will always be an instance of a MyDocument subclass, gives me back the HashMap I need?\r\n\r\nHere&#39;s the MyDocument class\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\nimport java.util.HashMap;\r\nimport java.util.Map.Entry;\r\n\r\nimport it.smi.json.JSONArray;\r\nimport it.smi.json.JSONObject;\r\n\r\npublic class MyDocument {\r\n\r\n\tString documentClass;\t\t\t\t// mandatory\r\n\tString name;\t\t\t\t\t\t// mandatory\r\n\tString notes;\t\t\t\t\t\t// NOT mandatory\r\n\t\r\n\tpublic class Contract extends MyDocument {\r\n\r\n\t\tString providerCode;\t\t\t\t// mandatory\r\n\t\tString providerName;\t\t\t\t// mandatory\r\n\t\tlong activationDate;\t\t\t\t// mandatory\r\n\t\tlong expirationDate;\t\t\t\t// mandatory\r\n\t\tString expirationNotifyUser;\t\t// NOT mandatory\r\n\t\tString expirationNotifyUserType;\t// NOT mandatory\r\n\t\t\r\n\t\tContract (String name, String notes, long activationDate, long expirationDate) {\r\n\t\t\t\r\n\t\t\tthis.documentClass = &quot;contract&quot;;\t// constant\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.notes = notes;\r\n\t\t\tthis.providerCode = null;\r\n\t\t\tthis.providerName = null;\r\n\t\t\tthis.activationDate = activationDate;\r\n\t\t\tthis.expirationDate = expirationDate;\r\n\t\t\tthis.expirationNotifyUser = null;\r\n\t\t\tthis.expirationNotifyUserType = null;\r\n\t\t\t\r\n\t\t} // init\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic class Summary extends MyDocument {\r\n\r\n\t\tString origin;\t\t\t\t\t\t// mandatory\r\n\t\tString providerCode;\t\t\t\t// NOT mandatory\r\n\t\tString providerName;\t\t\t\t// NOT mandatory\r\n\r\n\t\tSummary (String name, String notes) {\r\n\t\t\t\r\n\t\t\tthis.documentClass = &quot;summary&quot;;\r\n\t\t\tthis.origin = &quot;area&quot;;\t\t\t// constant\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.notes = notes;\r\n\t\t\tthis.providerCode = null;\r\n\t\t\tthis.providerName = null;\r\n\t\t\t\r\n\t\t} // init\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\tpublic HashMap&lt;String, Object&gt; getProperties () throws Exception {\r\n\t\tHashMap&lt;String, Object&gt; toReturn = new HashMap&lt;String, Object&gt;();\r\n\t\t\r\n\t\tField[] fields = this.getClass().getDeclaredFields();\r\n\t\tfor(Field f : fields) if (f.get(this) != null) toReturn.put(f.getName(), f.get(this)); \r\n\t\t\t// I tried to add \r\n\t\t\t//!f.getName().contains(&quot;this$&quot;) &amp;&amp; \r\n\t\t\t// to the if, which works on my machine, but I don&#39;t really like it because \r\n\t\t\t// I&#39;m not sure it will work the same way once deployed on server\r\n\t\treturn toReturn;\r\n\t} // getProperties\r\n\t\r\n}\r\n```\r\nand the result\r\n\r\n```\r\n\tpublic static void main(String args[]) throws Exception {\r\n\t\t\r\n\tSummary summ = new MyDocument().new Summary(&quot;SumName&quot;, &quot;SumNotes&quot;);\r\n\tContract cont = new MyDocument().new Contract(&quot;ContName&quot;, &quot;ContNotes&quot;, 12345, 67890);\r\n\t\t\r\n\t\tSystem.out.println(&quot;### Summary:\\n&quot; + summ.getProperties());\r\n\t\tSystem.out.println(&quot;### Contract:\\n&quot; + cont.getProperties());\r\n\t\t\r\n\t\t/*\r\n\t\t * gives me back:\r\n\t\t * \r\n\t\t\t### Summary:\r\n\t\t\t{origin=area, this$0=myName.test.generic.MyDocument@6d06d69c}\r\n\t\t\t### Contract:\r\n\t\t\t{this$0=myName.test.generic.MyDocument@4e25154f, activationDate=12345, expirationDate=67890}\r\n\t\t\r\n\t\t* while I need:\r\n\t\t* \r\n\t\t\t### Summary:\r\n\t\t\t{documentClass=summary, name=SumName, notes=SumNotes, origin=area}\r\n\t\t\t### Contract:\r\n\t\t\t{documentClass=contract, name=ContName, notes=ContNotes, activationDate=12345, expirationDate=67890}\r\n\t\t */\r\n\t\t\r\n\t}\r\n```","title":"Get all of the evaluated instance variables of an instance without the representation of the object itself","body":"<p>I have a class representing some kind of documents, defined by certain variables. Some of these variables are shared between all the document types, while some others are specific of a particular document type, and also some variables needs to be always evaluated, but some others don't (therefore, given a specific instance of a generic document, I never know in advance which variables are evaluated and which are not, except for the mandatory ones).</p>\n<p>The final goal is to ah HashMap representing a document, which has to contain ONLY the evaluated attributes of the instance I'm trying to represent (both &quot;general&quot; and specific). To do so, I tried the method shown, but it gives me only the specific variables and it always gives me something I don't want, which seems to be a representation of the instance itself</p>\n<p>My question is: is there a way to improve that method in a way that given an object which will always be an instance of a MyDocument subclass, gives me back the HashMap I need?</p>\n<p>Here's the MyDocument class</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.HashMap;\nimport java.util.Map.Entry;\n\nimport it.smi.json.JSONArray;\nimport it.smi.json.JSONObject;\n\npublic class MyDocument {\n\n    String documentClass;               // mandatory\n    String name;                        // mandatory\n    String notes;                       // NOT mandatory\n    \n    public class Contract extends MyDocument {\n\n        String providerCode;                // mandatory\n        String providerName;                // mandatory\n        long activationDate;                // mandatory\n        long expirationDate;                // mandatory\n        String expirationNotifyUser;        // NOT mandatory\n        String expirationNotifyUserType;    // NOT mandatory\n        \n        Contract (String name, String notes, long activationDate, long expirationDate) {\n            \n            this.documentClass = &quot;contract&quot;;    // constant\n            this.name = name;\n            this.notes = notes;\n            this.providerCode = null;\n            this.providerName = null;\n            this.activationDate = activationDate;\n            this.expirationDate = expirationDate;\n            this.expirationNotifyUser = null;\n            this.expirationNotifyUserType = null;\n            \n        } // init\n        \n    }\n    \n    public class Summary extends MyDocument {\n\n        String origin;                      // mandatory\n        String providerCode;                // NOT mandatory\n        String providerName;                // NOT mandatory\n\n        Summary (String name, String notes) {\n            \n            this.documentClass = &quot;summary&quot;;\n            this.origin = &quot;area&quot;;           // constant\n            this.name = name;\n            this.notes = notes;\n            this.providerCode = null;\n            this.providerName = null;\n            \n        } // init\n        \n    }\n\n    \n    public HashMap&lt;String, Object&gt; getProperties () throws Exception {\n        HashMap&lt;String, Object&gt; toReturn = new HashMap&lt;String, Object&gt;();\n        \n        Field[] fields = this.getClass().getDeclaredFields();\n        for(Field f : fields) if (f.get(this) != null) toReturn.put(f.getName(), f.get(this)); \n            // I tried to add \n            //!f.getName().contains(&quot;this$&quot;) &amp;&amp; \n            // to the if, which works on my machine, but I don't really like it because \n            // I'm not sure it will work the same way once deployed on server\n        return toReturn;\n    } // getProperties\n    \n}\n</code></pre>\n<p>and the result</p>\n<pre><code>    public static void main(String args[]) throws Exception {\n        \n    Summary summ = new MyDocument().new Summary(&quot;SumName&quot;, &quot;SumNotes&quot;);\n    Contract cont = new MyDocument().new Contract(&quot;ContName&quot;, &quot;ContNotes&quot;, 12345, 67890);\n        \n        System.out.println(&quot;### Summary:\\n&quot; + summ.getProperties());\n        System.out.println(&quot;### Contract:\\n&quot; + cont.getProperties());\n        \n        /*\n         * gives me back:\n         * \n            ### Summary:\n            {origin=area, this$0=myName.test.generic.MyDocument@6d06d69c}\n            ### Contract:\n            {this$0=myName.test.generic.MyDocument@4e25154f, activationDate=12345, expirationDate=67890}\n        \n        * while I need:\n        * \n            ### Summary:\n            {documentClass=summary, name=SumName, notes=SumNotes, origin=area}\n            ### Contract:\n            {documentClass=contract, name=ContName, notes=ContNotes, activationDate=12345, expirationDate=67890}\n         */\n        \n    }\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692204142,"creation_date":1692204142,"answer_id":76915550,"question_id":75672997,"body_markdown":"Are you sure it&#39;s that insert which is failing and not an insert for a different table/column? Configuring `insertable = false, updatable = false` is the right way to tell Hibernate to never include the column in DML.","title":"Getting ORA-54013: INSERT not allowed with virtual column exception with non-updatable entity column","body":"<p>Are you sure it's that insert which is failing and not an insert for a different table/column? Configuring <code>insertable = false, updatable = false</code> is the right way to tell Hibernate to never include the column in DML.</p>\n"}],"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692204142,"creation_date":1678278299,"question_id":75672997,"body_markdown":"I have an entity which has to handle a virtual database column.\r\nThe virtual column is calculated on the database side (out of other columns of the very same table) and must not be written in any way: it has to be absent from any INSERT, UPDATE, and DELETE statements on the JDBC level.\r\n\r\nIn my entity I declared the column `CONTACT_BROOM` to do so:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;DB_DUMBLEDORE&quot;)\r\npublic class DumbleEntity implements Serializable {\r\n\tprivate static final long serialVersionUID = -1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;)\r\n\tprivate Long id;\r\n\r\n    /* other columns */\r\n\r\n\t@Column(name = &quot;CONTACT_BROOM&quot;, insertable = false, updatable = false, nullable = false)\r\n\tprivate String contactBroom;\r\n\r\n    /* getters and setters */\r\n```\r\n\r\nI hoped this would keep this column from being part of any DML command (INSERT, UPDATE, DELETE).\r\n\r\nI am using Spring-boot-starter-data-jpa 2.6.14, Hibernate 5.6.14.Final, Org.apache.tomcat:tomcat-jdbc 9.0.69 and a Oracle 12g with Com.oracle.database.jdbc:ojdbc11 21.3.0.0.\r\n\r\nBut I recieve an exception indicating that JPA/Hibernate is not doing alike:\r\n\r\n    2023-03-06 16:38:23.276  WARN [harry@IGATE] --- [http-nio-8080-exec-27]  o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 54013, SQLState: 99999\r\n    2023-03-06 16:38:23.276 ERROR [harry@IGATE] --- [http-nio-8080-exec-27]  o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-54013: INSERT-Vorgang bei virt\r\n    uellen Spalten nicht zul&#228;ssig\r\n    2023-03-06 16:38:23.277  INFO [harry@IGATE] --- [http-nio-8080-exec-27]  o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it \r\n    still contained JDBC statements\r\n    2023-03-06 16:38:23.300 ERROR [] --- [http-nio-8080-exec-27]  o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/api/v\r\n    1/datas] due to exception [could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement]\r\n    org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\r\n            at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\r\n            at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n            at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n            at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n            at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n            at com.harry.potter.db.services.data.controller.DumbleResourceController$$EnhancerBySpringCGLIB$$f523f2eb.postContact(&lt;generated&gt;)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:142)\r\n            at com.harry.potter.portal.security.guard.GuardAuthenticationFilter.doFilter(GuardAuthenticationFilter.java:71)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at com.harry.potter.portal.security.filter.FakeGuardHeaderFilter.doFilter(FakeGuardHeaderFilter.java:124)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n            at psiprobe.Tomcat90AgentValve.invoke(Tomcat90AgentValve.java:38)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.base/java.lang.Thread.run(Thread.java:839)\r\n    Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement\r\n            at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n            at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n            at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\r\n            at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\r\n            at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3937)\r\n            at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n            at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n            at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n            at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n            at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n            at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n            at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n            at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n            at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n            at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n            at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\r\n            at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\r\n            at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n            at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n            at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n            at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n            at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n            at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n            ... 119 common frames omitted\r\n    Caused by: java.sql.SQLException: ORA-54013: INSERT-Vorgang bei virtuellen Spalten nicht zul&#228;ssig\r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:628)\r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:562)\r\n            at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1207)\r\n            at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:727)\r\n            at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:291)\r\n            at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\r\n            at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:155)\r\n            at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:155)\r\n            at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1196)\r\n            at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1747)\r\n            at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1432)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3743)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:4012)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3987)\r\n            at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:996)\r\n            at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:135)\r\n            at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:135)\r\n            at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n            ... 140 common frames omitted\r\n    Caused by: oracle.jdbc.OracleDatabaseException: ORA-54013: INSERT-Vorgang bei virtuellen Spalten nicht zul&#228;ssig\r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:632)\r\n            ... 156 common frames omitted\r\n\r\n*Unfortunately my DB folks have German language set within the database.\r\n \r\nWhat am I doing wrong?\r\n","title":"Getting ORA-54013: INSERT not allowed with virtual column exception with non-updatable entity column","body":"<p>I have an entity which has to handle a virtual database column.\nThe virtual column is calculated on the database side (out of other columns of the very same table) and must not be written in any way: it has to be absent from any INSERT, UPDATE, and DELETE statements on the JDBC level.</p>\n<p>In my entity I declared the column <code>CONTACT_BROOM</code> to do so:</p>\n<pre><code>@Entity\n@Table(name = &quot;DB_DUMBLEDORE&quot;)\npublic class DumbleEntity implements Serializable {\n    private static final long serialVersionUID = -1L;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    /* other columns */\n\n    @Column(name = &quot;CONTACT_BROOM&quot;, insertable = false, updatable = false, nullable = false)\n    private String contactBroom;\n\n    /* getters and setters */\n</code></pre>\n<p>I hoped this would keep this column from being part of any DML command (INSERT, UPDATE, DELETE).</p>\n<p>I am using Spring-boot-starter-data-jpa 2.6.14, Hibernate 5.6.14.Final, Org.apache.tomcat:tomcat-jdbc 9.0.69 and a Oracle 12g with Com.oracle.database.jdbc:ojdbc11 21.3.0.0.</p>\n<p>But I recieve an exception indicating that JPA/Hibernate is not doing alike:</p>\n<pre><code>2023-03-06 16:38:23.276  WARN [harry@IGATE] --- [http-nio-8080-exec-27]  o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 54013, SQLState: 99999\n2023-03-06 16:38:23.276 ERROR [harry@IGATE] --- [http-nio-8080-exec-27]  o.h.engine.jdbc.spi.SqlExceptionHelper   : ORA-54013: INSERT-Vorgang bei virt\nuellen Spalten nicht zulssig\n2023-03-06 16:38:23.277  INFO [harry@IGATE] --- [http-nio-8080-exec-27]  o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it \nstill contained JDBC statements\n2023-03-06 16:38:23.300 ERROR [] --- [http-nio-8080-exec-27]  o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/api/v\n1/datas] due to exception [could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement]\norg.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n        at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n        at com.harry.potter.db.services.data.controller.DumbleResourceController$$EnhancerBySpringCGLIB$$f523f2eb.postContact(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:142)\n        at com.harry.potter.portal.security.guard.GuardAuthenticationFilter.doFilter(GuardAuthenticationFilter.java:71)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at com.harry.potter.portal.security.filter.FakeGuardHeaderFilter.doFilter(FakeGuardHeaderFilter.java:124)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at psiprobe.Tomcat90AgentValve.invoke(Tomcat90AgentValve.java:38)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:839)\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n        at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3937)\n        at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n        at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n        ... 119 common frames omitted\nCaused by: java.sql.SQLException: ORA-54013: INSERT-Vorgang bei virtuellen Spalten nicht zulssig\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:628)\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:562)\n        at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1207)\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:727)\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:291)\n        at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\n        at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:155)\n        at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:155)\n        at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1196)\n        at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1747)\n        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1432)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3743)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:4012)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3987)\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:996)\n        at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:135)\n        at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:135)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n        ... 140 common frames omitted\nCaused by: oracle.jdbc.OracleDatabaseException: ORA-54013: INSERT-Vorgang bei virtuellen Spalten nicht zulssig\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:632)\n        ... 156 common frames omitted\n</code></pre>\n<p>*Unfortunately my DB folks have German language set within the database.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3831593,"reputation":812,"user_id":3177021,"accept_rate":50,"display_name":"EmeraldTablet"},"score":3,"creation_date":1507222097,"post_id":19583540,"comment_id":80134803,"body_markdown":"I ran into the same issue when I had named an embedded ID as *MyCompositePK* and tried writing *findByMyCompositePKUserId(Long userId)*. The point is, it needs to be camel case as well for the CRUD repository, so as to differentiate between the table properties when creating the query out of your method. So, it has to be *MyCompositePk* and *findByMyCompositePkUserId(Long userId)*","body":"I ran into the same issue when I had named an embedded ID as <i>MyCompositePK</i> and tried writing <i>findByMyCompositePKUserId(Long userId)</i>. The point is, it needs to be camel case as well for the CRUD repository, so as to differentiate between the table properties when creating the query out of your method. So, it has to be <i>MyCompositePk</i> and <i>findByMyCompositePkUserId(Long userId)</i>"},{"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"score":0,"creation_date":1678566180,"post_id":19583540,"comment_id":133559893,"body_markdown":"In my case the mistake was that I wrote &quot;by&quot; two time. \nfindByApropAndByBprop - mistake. \n\nWrite &quot;by&quot; once -\n\nfindByApropAndBprop - correct","body":"In my case the mistake was that I wrote &quot;by&quot; two time.  findByApropAndByBprop - mistake.   Write &quot;by&quot; once -  findByApropAndBprop - correct"}],"answers":[{"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382960133,"creation_date":1382960133,"answer_id":19633756,"question_id":19583540,"body_markdown":"In JPA a relationship has a single owner, and by using `mappedBy`in your `UserBoard` class you tell that `PinItem` is the owner of that bidirectional relationship, and that the property in `PinItem` of the relationship is named `board`.\r\n\r\n\r\nIn your `UserBoard` class you do not have any fields/properties with the name `board`, but it has a property `pinItemList`, so you might try to use that property instead.","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>In JPA a relationship has a single owner, and by using <code>mappedBy</code>in your <code>UserBoard</code> class you tell that <code>PinItem</code> is the owner of that bidirectional relationship, and that the property in <code>PinItem</code> of the relationship is named <code>board</code>.</p>\n\n<p>In your <code>UserBoard</code> class you do not have any fields/properties with the name <code>board</code>, but it has a property <code>pinItemList</code>, so you might try to use that property instead.</p>\n"},{"tags":[],"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1689890104,"creation_date":1385473953,"answer_id":20218948,"question_id":19583540,"body_markdown":"this error happens if you try access un-exists property\r\n\r\nmy guess is that sorting is done by spring by `property name` and not by `real column name`. \r\nand the error indicates that, in `&quot;UserBoard&quot;` there is no property named `&quot;boardId&quot;`.\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>this error happens if you try access un-exists property</p>\n<p>my guess is that sorting is done by spring by <code>property name</code> and not by <code>real column name</code>.\nand the error indicates that, in <code>&quot;UserBoard&quot;</code> there is no property named <code>&quot;boardId&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":452468,"reputation":5490,"user_id":848926,"accept_rate":80,"display_name":"Alan B. Dee"},"down_vote_count":1,"up_vote_count":183,"is_accepted":false,"score":182,"last_activity_date":1620832573,"creation_date":1414106348,"answer_id":26539097,"question_id":19583540,"body_markdown":"I ran into this same issue and found the solution here: https://dzone.com/articles/persistence-layer-spring-data\r\n\r\nI had renamed an entity property. But with Springs Automatic Custom Queries there was an interface defined for the old property name. \r\n\r\n    public interface IFooDAO extends JpaRepository&lt; Foo, Long &gt;{\r\n         Foo findByOldPropName( final String name );\r\n    }\r\n\r\nThe error indicated that it could no longer find `OldPropName` and threw the exception. \r\n\r\nTo quote the article on DZone: \r\n\r\n&gt; *When Spring Data creates a new Repository implementation, it analyzes all the methods defined by the interfaces and tries to automatically\r\n&gt; generate queries from the method name. While this has limitations, it\r\n&gt; is a very powerful and elegant way of defining new custom access\r\n&gt; methods with very little effort. For example, if the managed entity\r\n&gt; has a name field (and the Java Bean standard getter and setter for\r\n&gt; that field), defining the findByName method in the DAO interface will\r\n&gt; automatically generate the correct query:*\r\n&gt; \r\n&gt;     public interface IFooDAO extends JpaRepository&lt; Foo, Long &gt;{\r\n&gt;          Foo findByName( final String name );\r\n&gt;     }\r\n&gt; \r\n&gt; *This is a relatively simple example; a much larger set of keywords is supported by query creation mechanism.*\r\n&gt; \r\n&gt; *In the case that the parser cannot match the property with the domain object field, the following exception is thrown:*\r\n&gt; \r\n&gt;     java.lang.IllegalArgumentException: No property nam found for type class org.rest.model.Foo","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>I ran into this same issue and found the solution here: <a href=\"https://dzone.com/articles/persistence-layer-spring-data\" rel=\"noreferrer\">https://dzone.com/articles/persistence-layer-spring-data</a></p>\n<p>I had renamed an entity property. But with Springs Automatic Custom Queries there was an interface defined for the old property name.</p>\n<pre><code>public interface IFooDAO extends JpaRepository&lt; Foo, Long &gt;{\n     Foo findByOldPropName( final String name );\n}\n</code></pre>\n<p>The error indicated that it could no longer find <code>OldPropName</code> and threw the exception.</p>\n<p>To quote the article on DZone:</p>\n<blockquote>\n<p><em>When Spring Data creates a new Repository implementation, it analyzes all the methods defined by the interfaces and tries to automatically\ngenerate queries from the method name. While this has limitations, it\nis a very powerful and elegant way of defining new custom access\nmethods with very little effort. For example, if the managed entity\nhas a name field (and the Java Bean standard getter and setter for\nthat field), defining the findByName method in the DAO interface will\nautomatically generate the correct query:</em></p>\n<pre><code>public interface IFooDAO extends JpaRepository&lt; Foo, Long &gt;{\n     Foo findByName( final String name );\n}\n</code></pre>\n<p><em>This is a relatively simple example; a much larger set of keywords is supported by query creation mechanism.</em></p>\n<p><em>In the case that the parser cannot match the property with the domain object field, the following exception is thrown:</em></p>\n<pre><code>java.lang.IllegalArgumentException: No property nam found for type class org.rest.model.Foo\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1411744,"reputation":2751,"user_id":1338198,"display_name":"Zane XY"},"down_vote_count":5,"up_vote_count":117,"is_accepted":false,"score":112,"last_activity_date":1431170493,"creation_date":1431170493,"answer_id":30139286,"question_id":19583540,"body_markdown":"**Your naming is not correct**.\r\n\r\nAs per the [documentation][1], if your repository is `UserBoardRepository`, the implementation of your custom repository should be name as `UserBoardRepositoryImpl`, here you named it as `BoardServiceImpl`, that&#39;s why it throws the exception.\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#repositories.single-repository-behaviour","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p><strong>Your naming is not correct</strong>.</p>\n\n<p>As per the <a href=\"http://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#repositories.single-repository-behaviour\">documentation</a>, if your repository is <code>UserBoardRepository</code>, the implementation of your custom repository should be name as <code>UserBoardRepositoryImpl</code>, here you named it as <code>BoardServiceImpl</code>, that's why it throws the exception.</p>\n"},{"tags":[],"owner":{"account_id":6084213,"reputation":1143,"user_id":4748886,"display_name":"horizon7"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1481143358,"creation_date":1481143358,"answer_id":41026998,"question_id":19583540,"body_markdown":"In my case I had a typo (camel case) in my method name. I named it to &quot;findbyLastName&quot; and faced this exception. After I changed it to &quot;findByLastName&quot; exception was gone.","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>In my case I had a typo (camel case) in my method name. I named it to \"findbyLastName\" and faced this exception. After I changed it to \"findByLastName\" exception was gone.</p>\n"},{"tags":[],"owner":{"account_id":8753982,"reputation":761,"user_id":6546114,"display_name":"Abhilash"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1485095673,"creation_date":1485095673,"answer_id":41792151,"question_id":19583540,"body_markdown":"Since your JPA repository name is **UserBoardRepository**, your custom Interface name should be **UserBoardRepositoryCustom** (it should end with &#39;Custom&#39;) and your implementation class name should be **UserBoardRepositoryImpl** (should end with Impl; you can set it with a different postfix using the ***repository-impl-postfix*** property)\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Since your JPA repository name is <strong>UserBoardRepository</strong>, your custom Interface name should be <strong>UserBoardRepositoryCustom</strong> (it should end with 'Custom') and your implementation class name should be <strong>UserBoardRepositoryImpl</strong> (should end with Impl; you can set it with a different postfix using the <strong><em>repository-impl-postfix</em></strong> property)</p>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1490955985,"creation_date":1490955985,"answer_id":43138395,"question_id":19583540,"body_markdown":"Fixed, While using `CrudRepository` of Spring , we have to append the propertyname correctly after findBy otherwise it will give you exception \r\n**&quot;No Property Found for Type** \r\n\r\n\r\n\r\nI was getting this exception as. because property name and method name were not in sync.\r\n\r\nI have used below code for DB Access. \r\n\r\n    public interface UserDao extends CrudRepository&lt;User, Long&gt; {\r\n    \tUser findByUsername(String username);\r\n\r\nand my Domain User has property.\r\n\r\n\r\n    @Entity\r\n    public class User implements UserDetails {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;userId&quot;, nullable = false, updatable = false)\r\n    \tprivate Long userId;\r\n    \tprivate String username;","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Fixed, While using <code>CrudRepository</code> of Spring , we have to append the propertyname correctly after findBy otherwise it will give you exception \n<strong>\"No Property Found for Type</strong> </p>\n\n<p>I was getting this exception as. because property name and method name were not in sync.</p>\n\n<p>I have used below code for DB Access. </p>\n\n<pre><code>public interface UserDao extends CrudRepository&lt;User, Long&gt; {\n    User findByUsername(String username);\n</code></pre>\n\n<p>and my Domain User has property.</p>\n\n<pre><code>@Entity\npublic class User implements UserDetails {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"userId\", nullable = false, updatable = false)\n    private Long userId;\n    private String username;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11303553,"reputation":1,"user_id":8288809,"display_name":"JACK ZOU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499768017,"creation_date":1499768017,"answer_id":45031632,"question_id":19583540,"body_markdown":"If your project used Spring-Boot ,you can try to add this annotations at your \r\nApplication.java.\r\n\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass=CustomRepositoryFactoryBean.class)\r\n    @SpringBootApplication\r\n\r\n    public class Application {.....","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>If your project used Spring-Boot ,you can try to add this annotations at your \nApplication.java.</p>\n\n<pre><code>@EnableJpaRepositories(repositoryFactoryBeanClass=CustomRepositoryFactoryBean.class)\n@SpringBootApplication\n\npublic class Application {.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1501104750,"creation_date":1501104750,"answer_id":45337804,"question_id":19583540,"body_markdown":"Note here: the answers from Zane XY and Alan B. Dee are quite good. Yet for those of you who would use Spring Boot now, and Spring Data, here is what would be a more modern answer.\r\n\r\nSuppose you have a class such as:\r\n\r\n    @Entity\r\n    class MyClass {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        private String myClassName;\r\n    }\r\n\r\nNow a `JpaRepository` for this would look like\r\n\r\n    interface MyClassRepository extends JpaRepository {\r\n        Collection&lt;MyClass&gt; findByMyClassName(String myClassName);\r\n    }\r\n\r\nNow your &quot;custom&quot; _find by_ method must spelled `Collection&lt;MyClass&gt; findByMyClassName(String myClassName)` precisely because Spring needs to have some mechanism to map this method on `MyClass` property `myClassName`!\r\n\r\nI figured this out because, to me, it seemed natural to _find a class by its name_ **semantically**, whereas in fact, **synatxically** you _find by myClassName_\r\n\r\nCheers","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Note here: the answers from Zane XY and Alan B. Dee are quite good. Yet for those of you who would use Spring Boot now, and Spring Data, here is what would be a more modern answer.</p>\n\n<p>Suppose you have a class such as:</p>\n\n<pre><code>@Entity\nclass MyClass {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String myClassName;\n}\n</code></pre>\n\n<p>Now a <code>JpaRepository</code> for this would look like</p>\n\n<pre><code>interface MyClassRepository extends JpaRepository {\n    Collection&lt;MyClass&gt; findByMyClassName(String myClassName);\n}\n</code></pre>\n\n<p>Now your \"custom\" <em>find by</em> method must spelled <code>Collection&lt;MyClass&gt; findByMyClassName(String myClassName)</code> precisely because Spring needs to have some mechanism to map this method on <code>MyClass</code> property <code>myClassName</code>!</p>\n\n<p>I figured this out because, to me, it seemed natural to <em>find a class by its name</em> <strong>semantically</strong>, whereas in fact, <strong>synatxically</strong> you <em>find by myClassName</em></p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":14192476,"reputation":21,"user_id":10252664,"display_name":"marvin ma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558068805,"creation_date":1558068805,"answer_id":56179829,"question_id":19583540,"body_markdown":"you should receive use pagelike this\r\n\r\n     @Override\r\n    public Page&lt;UserBoard&gt; findLatestBoards() {\r\n        PageRequest request = new PageRequest(\r\n                     0, PresentationUtil.PAGE_SIZE, \r\n                     Sort.Direction.DESC, &quot;boardId&quot;\r\n        );\r\n        return boardRepository.findAll(request).getContent();\r\n    }\r\n\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>you should receive use pagelike this</p>\n\n<pre><code> @Override\npublic Page&lt;UserBoard&gt; findLatestBoards() {\n    PageRequest request = new PageRequest(\n                 0, PresentationUtil.PAGE_SIZE, \n                 Sort.Direction.DESC, \"boardId\"\n    );\n    return boardRepository.findAll(request).getContent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560488767,"creation_date":1560488767,"answer_id":56591665,"question_id":19583540,"body_markdown":"You should have that property defined in your model or entity class.","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>You should have that property defined in your model or entity class.</p>\n"},{"tags":[],"owner":{"account_id":7503534,"reputation":70,"user_id":5700950,"display_name":"mirisbowring"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568532894,"creation_date":1566976302,"answer_id":57686786,"question_id":19583540,"body_markdown":"I had a similiar problem that caused me some hours of headache.\r\n\r\nMy repository method was:\r\n\r\n    public List&lt;ResultClass&gt; findAllByTypeAndObjects(String type, List&lt;Object&gt; objects);\r\nI got the error, that the property type was not found for type ResultClass.\r\n\r\nThe solution was, that jpa/hibernate does not support plurals? Nevertheless, removing the &#39;s&#39; solved the problem:\r\n\r\n    public List&lt;ResultClass&gt; findAllByTypeAndObject(String type, List&lt;Object&gt;\r\n\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>I had a similiar problem that caused me some hours of headache.</p>\n\n<p>My repository method was:</p>\n\n<pre><code>public List&lt;ResultClass&gt; findAllByTypeAndObjects(String type, List&lt;Object&gt; objects);\n</code></pre>\n\n<p>I got the error, that the property type was not found for type ResultClass.</p>\n\n<p>The solution was, that jpa/hibernate does not support plurals? Nevertheless, removing the 's' solved the problem:</p>\n\n<pre><code>public List&lt;ResultClass&gt; findAllByTypeAndObject(String type, List&lt;Object&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573551648,"creation_date":1573551648,"answer_id":58815849,"question_id":19583540,"body_markdown":"I had this exception recently when moving to a newer spring-boot version (from 1.5.4 to 1.5.20). The problem was in the repository package structure.\r\n\r\nProblem:\r\nUnder the same package were packages: repository, repositoryCustom and repositoryImpl.\r\n\r\nSolution:\r\nRearrange repository packages so that repository package contains repositoryCustom package and repositoryCustom package contains repositoryImpl:\r\n\r\n&lt;pre&gt;\r\nrepository \r\n   |\r\n   ----- repositoryCustom\r\n             |\r\n             ----- repositoryImpl\r\n&lt;/pre&gt;","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>I had this exception recently when moving to a newer spring-boot version (from 1.5.4 to 1.5.20). The problem was in the repository package structure.</p>\n\n<p>Problem:\nUnder the same package were packages: repository, repositoryCustom and repositoryImpl.</p>\n\n<p>Solution:\nRearrange repository packages so that repository package contains repositoryCustom package and repositoryCustom package contains repositoryImpl:</p>\n\n<pre>\nrepository \n   |\n   ----- repositoryCustom\n             |\n             ----- repositoryImpl\n</pre>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574677517,"creation_date":1574677517,"answer_id":59029679,"question_id":19583540,"body_markdown":"Please Check property name in the defualt call of repo\r\ne.i\r\nrepository.findByUsername(username)","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Please Check property name in the defualt call of repo\ne.i\nrepository.findByUsername(username)</p>\n"},{"tags":[],"owner":{"account_id":18269749,"reputation":71,"user_id":13300743,"display_name":"bubingaa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594377942,"creation_date":1587924151,"answer_id":61445558,"question_id":19583540,"body_markdown":"it looks like your custom JpaRepository method name does not match any Variable in your entity classs. Make sure your method name matches a variable in your entity class \r\n\r\nfor example: you got a variable name called &quot;active&quot; and your custom JpaRepository method says &quot;findByActiveStatus&quot; and since there is no variable called &quot;activeStatus&quot; it will throw&quot;PropertyReferenceException&quot;","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>it looks like your custom JpaRepository method name does not match any Variable in your entity classs. Make sure your method name matches a variable in your entity class</p>\n<p>for example: you got a variable name called &quot;active&quot; and your custom JpaRepository method says &quot;findByActiveStatus&quot; and since there is no variable called &quot;activeStatus&quot; it will throw&quot;PropertyReferenceException&quot;</p>\n"},{"tags":[],"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1596033470,"creation_date":1596033470,"answer_id":63156100,"question_id":19583540,"body_markdown":"Another scenario, that was not yet mentioned here, that caused this error is an API that receives `Pageable` (or `Sort`) and passes it, as is, to the JPA repository when calling the API from Swagger.\r\n\r\nSwagger default value for the `Pageable` parameter is this:\r\n\r\n      {\r\n        &quot;page&quot;: 0,\r\n        &quot;size&quot;: 0,\r\n        &quot;sort&quot;: [\r\n          &quot;string&quot;\r\n        ]\r\n      }\r\n\r\n Notice the `&quot;string&quot;` there which is a property that does exist. Running the API without deleting or changing it will cause `org.springframework.data.mapping.PropertyReferenceException: No property string found for type ...`\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Another scenario, that was not yet mentioned here, that caused this error is an API that receives <code>Pageable</code> (or <code>Sort</code>) and passes it, as is, to the JPA repository when calling the API from Swagger.</p>\n<p>Swagger default value for the <code>Pageable</code> parameter is this:</p>\n<pre><code>  {\n    &quot;page&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;sort&quot;: [\n      &quot;string&quot;\n    ]\n  }\n</code></pre>\n<p>Notice the <code>&quot;string&quot;</code> there which is a property that does exist. Running the API without deleting or changing it will cause <code>org.springframework.data.mapping.PropertyReferenceException: No property string found for type ...</code></p>\n"},{"tags":[],"owner":{"account_id":5577577,"reputation":457,"user_id":4420549,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600522282,"creation_date":1600521417,"answer_id":63969251,"question_id":19583540,"body_markdown":"In Addition to the suggestions, I would also suggest annotating your Repository interface with **@Repository**.\r\n\r\nThe Spring IOC may not detect this as a repository and thus be unable to detect the entity and its corresponding property.","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>In Addition to the suggestions, I would also suggest annotating your Repository interface with <strong>@Repository</strong>.</p>\n<p>The Spring IOC may not detect this as a repository and thus be unable to detect the entity and its corresponding property.</p>\n"},{"tags":[],"owner":{"account_id":342332,"reputation":352,"user_id":673440,"display_name":"kuyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601897001,"creation_date":1601897001,"answer_id":64207666,"question_id":19583540,"body_markdown":"If you are using a composite key in your bean, your parameter will be an object. You need to adjust your findBy method according to the new combination. \r\n\r\n    @Embeddable\r\n    public class CombinationId implements Serializable {\r\n    \r\n      private String xId;\r\n      private String yId;\r\n    }\r\n\r\n    public class RealObject implements Serializable, Persistable&lt;CombinationId&gt; {\r\n    \r\n      @EmbeddedId private CombinationId id;\r\n    }\r\n\r\nIn that case, your repository findBy method should be as this\r\n\r\n    @Repository\r\n    public interface PaymentProfileRepository extends JpaRepository&lt;RealObject, String&gt; {\r\n    \r\n      List&lt;RealObject&gt; findById_XId(String someString);\r\n    }","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>If you are using a composite key in your bean, your parameter will be an object. You need to adjust your findBy method according to the new combination.</p>\n<pre><code>@Embeddable\npublic class CombinationId implements Serializable {\n\n  private String xId;\n  private String yId;\n}\n\npublic class RealObject implements Serializable, Persistable&lt;CombinationId&gt; {\n\n  @EmbeddedId private CombinationId id;\n}\n</code></pre>\n<p>In that case, your repository findBy method should be as this</p>\n<pre><code>@Repository\npublic interface PaymentProfileRepository extends JpaRepository&lt;RealObject, String&gt; {\n\n  List&lt;RealObject&gt; findById_XId(String someString);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601897403,"creation_date":1601897403,"answer_id":64207753,"question_id":19583540,"body_markdown":"If you are using ENUM like MessageStatus, you may need a converter. Just add this class:\r\n\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n\r\n    /**\r\n     * Convert ENUM type in JPA.\r\n     */\r\n    @Converter(autoApply = true)\r\n    public class MessageStatusConverter implements AttributeConverter&lt;MessageStatus, Integer&gt; {\r\n      @Override\r\n      public Integer convertToDatabaseColumn(MessageStatus messageStatus) {\r\n        return messageStatus.getValue();\r\n      }\r\n\r\n      @Override\r\n      public MessageStatus convertToEntityAttribute(Integer i) {\r\n        return MessageStatus.valueOf(i);\r\n      }\r\n    }","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>If you are using ENUM like MessageStatus, you may need a converter. Just add this class:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n/**\n * Convert ENUM type in JPA.\n */\n@Converter(autoApply = true)\npublic class MessageStatusConverter implements AttributeConverter&lt;MessageStatus, Integer&gt; {\n  @Override\n  public Integer convertToDatabaseColumn(MessageStatus messageStatus) {\n    return messageStatus.getValue();\n  }\n\n  @Override\n  public MessageStatus convertToEntityAttribute(Integer i) {\n    return MessageStatus.valueOf(i);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609492634,"creation_date":1609492634,"answer_id":65528523,"question_id":19583540,"body_markdown":"this might help someone who had similar issue like me , i followed all naming and interface standards., But i was still facing issue. \r\n\r\n    My param name was --&gt;  update_datetime \r\n\r\nI wanted to fetch my entities based on the update_datetime in the descending order, and i was getting the error  \r\n\r\n    org.springframework.data.mapping.PropertyReferenceException: No property update found for type Release!\r\n\r\n\r\nSomehow it was not reading the Underscore character --&gt; ( _ )\r\n\r\n\r\n    so for workaround i changed the property name as  --&gt; updateDatetime \r\n\r\nand then used the same for using JpaRepository methods.\r\n\r\nIt Worked !","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>this might help someone who had similar issue like me , i followed all naming and interface standards., But i was still facing issue.</p>\n<pre><code>My param name was --&gt;  update_datetime \n</code></pre>\n<p>I wanted to fetch my entities based on the update_datetime in the descending order, and i was getting the error</p>\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property update found for type Release!\n</code></pre>\n<p>Somehow it was not reading the Underscore character --&gt; ( _ )</p>\n<pre><code>so for workaround i changed the property name as  --&gt; updateDatetime \n</code></pre>\n<p>and then used the same for using JpaRepository methods.</p>\n<p>It Worked !</p>\n"},{"tags":[],"owner":{"account_id":14314832,"reputation":222,"user_id":10339903,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615003432,"creation_date":1615003432,"answer_id":66502245,"question_id":19583540,"body_markdown":"In my case I had used the wrong column name for sorting while creating the PageRequest object. \r\n\r\n```\r\nPageRequest paging = PageRequest.of(page, 30, Sort.by(&quot;column_name&quot;)); \r\n```\r\n\r\nthe correct syntax was \r\n\r\n```\r\nPageRequest paging = PageRequest.of(page, 30, Sort.by(&quot;columnName&quot;)); \r\n```\r\n\r\nSpring was giving an error &#39;No property found for type column&#39;.\r\nI was looking at the repository and Entity and didn&#39;t find anything. The error was at the controller where I had created the PageRequest object. \r\n\r\nSo the error is thrown when you use wrong semantics but it is not necessary that you have done the mistake at the Repository only.\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>In my case I had used the wrong column name for sorting while creating the PageRequest object.</p>\n<pre><code>PageRequest paging = PageRequest.of(page, 30, Sort.by(&quot;column_name&quot;)); \n</code></pre>\n<p>the correct syntax was</p>\n<pre><code>PageRequest paging = PageRequest.of(page, 30, Sort.by(&quot;columnName&quot;)); \n</code></pre>\n<p>Spring was giving an error 'No property found for type column'.\nI was looking at the repository and Entity and didn't find anything. The error was at the controller where I had created the PageRequest object.</p>\n<p>So the error is thrown when you use wrong semantics but it is not necessary that you have done the mistake at the Repository only.</p>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":356,"user_id":12647580,"display_name":"menoktaokan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622019799,"creation_date":1622019799,"answer_id":67701776,"question_id":19583540,"body_markdown":"I use projections and had the same error.\r\n\r\nI had used `getIssueTime();` instead of `getCreateTime();`\r\n\r\nWhen I fixed the property named and the problem was solved.","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>I use projections and had the same error.</p>\n<p>I had used <code>getIssueTime();</code> instead of <code>getCreateTime();</code></p>\n<p>When I fixed the property named and the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":3177566,"reputation":143,"user_id":2685043,"display_name":"shashigura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632296410,"creation_date":1632296410,"answer_id":69280065,"question_id":19583540,"body_markdown":"This kind of issue is due to  missing constructors in the class.\r\nCreate default constructors \r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>This kind of issue is due to  missing constructors in the class.\nCreate default constructors</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643812655,"creation_date":1643812655,"answer_id":70957543,"question_id":19583540,"body_markdown":"You can implement from ```PagingAndSortingRepository```.","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>You can implement from <code>PagingAndSortingRepository</code>.</p>\n"},{"tags":[],"owner":{"account_id":13159754,"reputation":41,"user_id":9505683,"display_name":"Alan Naicson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646102246,"creation_date":1646102246,"answer_id":71303127,"question_id":19583540,"body_markdown":"In my case my attribute name was &quot;card_set_code&quot;, I just changed to &quot;cardSetCode&quot; and worked","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>In my case my attribute name was &quot;card_set_code&quot;, I just changed to &quot;cardSetCode&quot; and worked</p>\n"},{"tags":[],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661432614,"creation_date":1661432614,"answer_id":73488025,"question_id":19583540,"body_markdown":"Using Spring Boot I had this error thrown at me for a full day before I realised the significance the method name carried. \r\n\r\nKudos to @avi.elkharrat, who answered above, for leading me down the path to finding my solution.\r\n\r\nHere&#39;s my scenario and how I fixed it. \r\n\r\nI was working on an api that enabled users to make an api call to find customers by first name.\r\n\r\nThe classes that matter in this fix are the domain class and the repository that I will show below respectively.\r\n\r\n&gt; public class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String firstname;\r\n    private String lastname;\r\n}\r\n\r\n&gt; public interface CustomerRepository extends JpaRepository &lt;Customer, Long&gt; {\r\n\r\n    Customer findByFirstName(String firstname);\r\n}\r\n\r\nWhen the application was started above code the error following was thrown, \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customerRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract guru.springfamework.domain.Customer guru.springfamework.repositories.CustomerRepository.findByFirstName(java.lang.String)! No property firstName found for type Customer! Did you mean &#39;firstname&#39;?\r\n\r\nI searched my codebase for the camel case version of my reference field, firstName, mentioned in the error message. It wasn&#39;t there. \r\n\r\nHowever, I realised that that value was being generated by Spring Data from the name of the custom method I created in the repository. \r\n\r\n`findByFirstName()` in the repository was looking for firstName. \r\n\r\nWhen I changed the method name to `findByfirstname()`, which matched the Customer domain class field `private String firstname;` all worked fine, the property was found.\r\n\r\nTreat `findBy` as generic method, if you want to customise it, it needs to match the field that you are trying to find. `findBy` and then attached the name of your field property\r\n\r\nHope this helps someone out. \r\n\r\n\r\n\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Using Spring Boot I had this error thrown at me for a full day before I realised the significance the method name carried.</p>\n<p>Kudos to @avi.elkharrat, who answered above, for leading me down the path to finding my solution.</p>\n<p>Here's my scenario and how I fixed it.</p>\n<p>I was working on an api that enabled users to make an api call to find customers by first name.</p>\n<p>The classes that matter in this fix are the domain class and the repository that I will show below respectively.</p>\n<blockquote>\n<p>public class Customer {</p>\n</blockquote>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String firstname;\nprivate String lastname;\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>public interface CustomerRepository extends JpaRepository &lt;Customer, Long&gt; {</p>\n</blockquote>\n<pre><code>Customer findByFirstName(String firstname);\n</code></pre>\n<p>}</p>\n<p>When the application was started above code the error following was thrown,</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customerRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract guru.springfamework.domain.Customer guru.springfamework.repositories.CustomerRepository.findByFirstName(java.lang.String)! No property firstName found for type Customer! Did you mean 'firstname'?\n</code></pre>\n<p>I searched my codebase for the camel case version of my reference field, firstName, mentioned in the error message. It wasn't there.</p>\n<p>However, I realised that that value was being generated by Spring Data from the name of the custom method I created in the repository.</p>\n<p><code>findByFirstName()</code> in the repository was looking for firstName.</p>\n<p>When I changed the method name to <code>findByfirstname()</code>, which matched the Customer domain class field <code>private String firstname;</code> all worked fine, the property was found.</p>\n<p>Treat <code>findBy</code> as generic method, if you want to customise it, it needs to match the field that you are trying to find. <code>findBy</code> and then attached the name of your field property</p>\n<p>Hope this helps someone out.</p>\n"},{"tags":[],"owner":{"account_id":6248605,"reputation":239,"user_id":4859544,"accept_rate":16,"display_name":"ron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662612396,"creation_date":1662612396,"answer_id":73643855,"question_id":19583540,"body_markdown":"I experienced a similar issue and got the same error. I had this as my code.\r\n\r\n    List&lt;Users&gt; list = userRepo.findAll(Sort.by(Direction.ASC, &quot;userId&quot;, &quot;memberLevel&quot;);\r\n\r\nI got the the following error:\r\n\r\n    org.springframework.data.mapping.PropertyReferenceException: No property userId found for type User!\r\n\r\nSince userId is inside a primary key object as follows:\r\n\r\n    private UserPk pk;\r\nThe userId is inside UserPk:\r\n\r\n    @EmbeddedId\r\n\t@AttributeOverrides({\r\n\t\t\t@AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;USER_ID&quot;, nullable = false, length = 10)),\r\n\t\t\t@AttributeOverride(name = &quot;currency&quot;, column = @Column(name = &quot;CAT_CODE&quot;, nullable = false, length = 4)),\r\n\t        @AttributeOverride(name = &quot;memberLevel&quot;, column = @Column(name = &quot;MEMBER_LEVEL&quot;, nullable = false, length = 4))})\r\n\tpublic UserPk getPk() {\r\n\t\treturn pk;\r\n\t}\r\n\r\nThe solution was the change it so that it references the primary key property name\r\n\r\n    List&lt;Users&gt; list = userRepo.findAll(Sort.by(Direction.ASC, &quot;pk.userId&quot;, &quot;pk.memberLevel&quot;);\r\n\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>I experienced a similar issue and got the same error. I had this as my code.</p>\n<pre><code>List&lt;Users&gt; list = userRepo.findAll(Sort.by(Direction.ASC, &quot;userId&quot;, &quot;memberLevel&quot;);\n</code></pre>\n<p>I got the the following error:</p>\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property userId found for type User!\n</code></pre>\n<p>Since userId is inside a primary key object as follows:</p>\n<pre><code>private UserPk pk;\n</code></pre>\n<p>The userId is inside UserPk:</p>\n<pre><code>@EmbeddedId\n@AttributeOverrides({\n        @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;USER_ID&quot;, nullable = false, length = 10)),\n        @AttributeOverride(name = &quot;currency&quot;, column = @Column(name = &quot;CAT_CODE&quot;, nullable = false, length = 4)),\n        @AttributeOverride(name = &quot;memberLevel&quot;, column = @Column(name = &quot;MEMBER_LEVEL&quot;, nullable = false, length = 4))})\npublic UserPk getPk() {\n    return pk;\n}\n</code></pre>\n<p>The solution was the change it so that it references the primary key property name</p>\n<pre><code>List&lt;Users&gt; list = userRepo.findAll(Sort.by(Direction.ASC, &quot;pk.userId&quot;, &quot;pk.memberLevel&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19171467,"reputation":1,"user_id":14005138,"display_name":"ramya d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663268301,"creation_date":1663268301,"answer_id":73736161,"question_id":19583540,"body_markdown":"My issue resolved after i changed the property name from comp_id to compId\r\nin the model file and then changed the delete method to deleteByCompId.\r\nIt worked","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>My issue resolved after i changed the property name from comp_id to compId\nin the model file and then changed the delete method to deleteByCompId.\nIt worked</p>\n"},{"tags":[],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677245873,"creation_date":1677245873,"answer_id":75557236,"question_id":19583540,"body_markdown":"Often this issue happens for typo issues, in my case, the problem was not about Repository or Service layers, my problem was about the Controller layer!!! \r\n\r\nbelow is my controller snippets code and as you can see for the sortColumn variable i had added &quot;nconst&quot; instead &quot;tconst&quot; the correct field name in my related entity was &quot;tconst&quot;  and the Spring was not able to figure out what is this field, i should have entered  &quot;tconst&quot;\r\n\r\n    @GetMapping(&quot;/getAll&quot;)\r\n        public ResponseEntity&lt;Page&gt; getAll(@RequestParam(defaultValue = &quot;0&quot;) int page,\r\n                                           @RequestParam(defaultValue = &quot;10&quot;) int size,\r\n                                           @RequestParam(defaultValue = &quot;nconst&quot;) String sortColumn,\r\n                                           @RequestParam(defaultValue = &quot;asc&quot;) String sortOrder)\r\n        { \r\n    ....\r\n    }","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Often this issue happens for typo issues, in my case, the problem was not about Repository or Service layers, my problem was about the Controller layer!!!</p>\n<p>below is my controller snippets code and as you can see for the sortColumn variable i had added &quot;nconst&quot; instead &quot;tconst&quot; the correct field name in my related entity was &quot;tconst&quot;  and the Spring was not able to figure out what is this field, i should have entered  &quot;tconst&quot;</p>\n<pre><code>@GetMapping(&quot;/getAll&quot;)\n    public ResponseEntity&lt;Page&gt; getAll(@RequestParam(defaultValue = &quot;0&quot;) int page,\n                                       @RequestParam(defaultValue = &quot;10&quot;) int size,\n                                       @RequestParam(defaultValue = &quot;nconst&quot;) String sortColumn,\n                                       @RequestParam(defaultValue = &quot;asc&quot;) String sortOrder)\n    { \n....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27408398,"reputation":11,"user_id":20908690,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692203576,"creation_date":1692203576,"answer_id":76915489,"question_id":19583540,"body_markdown":"I used post_id and ran into this exception.\r\n\r\nBut when I replaced all the post_id with postId. It&#39;s working fine. For more details:\r\n\r\nhttps://github.com/Manohar-1/BlogApplication/issues/7\r\n\r\n","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>I used post_id and ran into this exception.</p>\n<p>But when I replaced all the post_id with postId. It's working fine. For more details:</p>\n<p><a href=\"https://github.com/Manohar-1/BlogApplication/issues/7\" rel=\"nofollow noreferrer\">https://github.com/Manohar-1/BlogApplication/issues/7</a></p>\n"}],"owner":{"account_id":454081,"reputation":12893,"user_id":851432,"accept_rate":70,"display_name":"Jomoos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546553,"favorite_count":0,"down_vote_count":1,"up_vote_count":179,"answer_count":30,"score":178,"last_activity_date":1692203576,"creation_date":1382685640,"question_id":19583540,"body_markdown":"Well, I searched Google and found many results, but none of them was able to answer my problem. So, here it goes.\r\n\r\nI am trying to study Spring MVC and Spring Data JPA by doing a minimal implementation of pinterest clone. So, following is the parts of code which I think is relevant to my problem.\r\n\r\n**Models/Entities**\r\n\r\n    @Entity\r\n    @Table(name = &quot;pin_item&quot;)\r\n    public class PinItem implements Serializable {\r\n        // properties ...\r\n        @JoinColumn(name = &quot;board_id&quot;, referencedColumnName = &quot;user_board_id&quot;)\r\n        @ManyToOne(optional = false)\r\n        private UserBoard board;\r\n\r\n        // getters and setters...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_board&quot;)\r\n    public class UserBoard implements Serializable {\r\n        // properties ...\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;board&quot;)\r\n        private List&lt;PinItem&gt; pinItemList;\r\n\r\n        // getters and setters...\r\n    }\r\n\r\n**Service**\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    public class BoardServiceImpl implements BoardService {\r\n        @Autowired\r\n        private UserBoardRepository boardRepository;\r\n\r\n        @Override\r\n        public List&lt;UserBoard&gt; findLatestBoards() {\r\n            PageRequest request = new PageRequest(\r\n                         0, PresentationUtil.PAGE_SIZE, \r\n                         Sort.Direction.DESC, &quot;boardId&quot;\r\n            );\r\n            return boardRepository.findAll(request).getContent();\r\n        }\r\n\r\n        // Other Methods\r\n    }\r\n\r\n**Repository**\r\n\r\n    public interface UserBoardRepository extends JpaRepository&lt;UserBoard, Integer&gt; {\r\n        \r\n    }\r\n\r\nNow, when I call the `findLatestBoards` method in `BoardService`, &quot;No Property Found&quot; exception is thrown on the line `return boardRepository.findAll(request).getContent();`. Here is the excerpt from tomcat log.\r\n\r\n**DEBUG LOG**\r\n\r\n    12:28:44,254 DEBUG AnnotationTransactionAttributeSource:106 - Adding transactional method &#39;findLatestBoards&#39; with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; &#39;&#39;\r\n    12:28:44,254 DEBUG DefaultListableBeanFactory:246 - Returning cached instance of singleton bean &#39;transactionManager&#39;\r\n    12:28:44,254 DEBUG JpaTransactionManager:366 - Creating new transaction with name [com.tecnooc.picpin.service.impl.BoardServiceImpl.findLatestBoards]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; &#39;&#39;\r\n    12:28:44,254 DEBUG JpaTransactionManager:369 - Opened new EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] for JPA transaction\r\n    12:28:44,255 DEBUG AbstractTransactionImpl:158 - begin\r\n    12:28:44,255 DEBUG LogicalConnectionImpl:212 - Obtaining JDBC connection\r\n    12:28:44,255 DEBUG DriverManagerDataSource:162 - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/pic_pin]\r\n    12:28:44,266 DEBUG LogicalConnectionImpl:218 - Obtained JDBC connection\r\n    12:28:44,267 DEBUG JdbcTransaction:69 - initial autocommit status: true\r\n    12:28:44,267 DEBUG JdbcTransaction:71 - disabling autocommit\r\n    12:28:44,267 DEBUG JpaTransactionManager:401 - Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@370da60e]\r\n    12:28:44,274 DEBUG TransactionalRepositoryProxyPostProcessor$CustomAnnotationTransactionAttributeSource:286 - Adding transactional method &#39;findAll&#39; with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; &#39;&#39;\r\n    12:28:44,274 DEBUG DefaultListableBeanFactory:246 - Returning cached instance of singleton bean &#39;transactionManager&#39;\r\n    12:28:44,274 DEBUG JpaTransactionManager:332 - Found thread-bound EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] for JPA transaction\r\n    12:28:44,274 DEBUG JpaTransactionManager:471 - Participating in existing transaction\r\n    12:28:44,279 DEBUG CachedIntrospectionResults:159 - Not strongly caching class [java.io.Serializable] because it is not cache-safe\r\n    12:28:44,281 DEBUG JpaTransactionManager:851 - Participating transaction failed - marking existing transaction as rollback-only\r\n    12:28:44,281 DEBUG JpaTransactionManager:559 - Setting JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] rollback-only\r\n    12:28:44,283 DEBUG JpaTransactionManager:844 - Initiating transaction rollback\r\n    12:28:44,284 DEBUG JpaTransactionManager:534 - Rolling back JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194]\r\n    12:28:44,284 DEBUG AbstractTransactionImpl:203 - rolling back\r\n    12:28:44,284 DEBUG JdbcTransaction:164 - rolled JDBC Connection\r\n    12:28:44,285 DEBUG JdbcTransaction:126 - re-enabling autocommit\r\n    12:28:44,285 DEBUG JpaTransactionManager:594 - Closing JPA EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] after transaction\r\n    12:28:44,285 DEBUG EntityManagerFactoryUtils:338 - Closing JPA EntityManager\r\n    12:28:44,286 DEBUG LogicalConnectionImpl:232 - Releasing JDBC connection\r\n    12:28:44,286 DEBUG LogicalConnectionImpl:250 - Released JDBC connection\r\n    12:28:44,287 DEBUG ExceptionHandlerExceptionResolver:132 - Resolving exception from handler [public java.lang.String com.tecnooc.picpin.controller.BoardController.latest(javax.servlet.http.HttpSession,org.springframework.ui.Model)]: org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\r\n    12:28:44,289 DEBUG ResponseStatusExceptionResolver:132 - Resolving exception from handler [public java.lang.String com.tecnooc.picpin.controller.BoardController.latest(javax.servlet.http.HttpSession,org.springframework.ui.Model)]: org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\r\n    12:28:44,290 DEBUG DefaultHandlerExceptionResolver:132 - Resolving exception from handler [public java.lang.String com.tecnooc.picpin.controller.BoardController.latest(javax.servlet.http.HttpSession,org.springframework.ui.Model)]: org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\r\n    12:28:44,291 DEBUG DispatcherServlet:959 - Could not complete request\r\n\r\n**Exception**\r\n\r\nThe exception is &quot;`org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard`&quot;. But, if I understood correctly, the property `board` is present in `PinItem` and is correctly mapped with `mappedBy = &quot;board&quot;` in `UserBoard`.\r\n\r\n    org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\r\n        at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:75)\r\n        at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:327)\r\n        at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:353)\r\n        at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:307)\r\n        at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:271)\r\n        at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:245)\r\n        at org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:408)\r\n        at org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:372)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:456)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:437)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:319)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:289)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:333)\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:318)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        at com.sun.proxy.$Proxy147.findAll(Unknown Source)\r\n        at com.tecnooc.picpin.service.impl.BoardServiceImpl.findLatestBoards(BoardServiceImpl.java:45)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        at com.sun.proxy.$Proxy148.findLatestBoards(Unknown Source)\r\n        at com.tecnooc.picpin.controller.BoardController.latest(BoardController.java:31)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n        at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n\r\nI don&#39;t get why this exception is thrown. Any idea why it is happening?\r\n\r\n**Note:** I am using Hibernate as Persistence provider. Also, the code portion I put here is what I thought is relevant to the problem. If it is not, let me know and I will update the question with required portion. ","title":"Spring Data JPA - &quot;No Property Found for Type&quot; Exception","body":"<p>Well, I searched Google and found many results, but none of them was able to answer my problem. So, here it goes.</p>\n\n<p>I am trying to study Spring MVC and Spring Data JPA by doing a minimal implementation of pinterest clone. So, following is the parts of code which I think is relevant to my problem.</p>\n\n<p><strong>Models/Entities</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"pin_item\")\npublic class PinItem implements Serializable {\n    // properties ...\n    @JoinColumn(name = \"board_id\", referencedColumnName = \"user_board_id\")\n    @ManyToOne(optional = false)\n    private UserBoard board;\n\n    // getters and setters...\n}\n\n@Entity\n@Table(name = \"user_board\")\npublic class UserBoard implements Serializable {\n    // properties ...\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"board\")\n    private List&lt;PinItem&gt; pinItemList;\n\n    // getters and setters...\n}\n</code></pre>\n\n<p><strong>Service</strong></p>\n\n<pre><code>@Service\n@Transactional(readOnly = true)\npublic class BoardServiceImpl implements BoardService {\n    @Autowired\n    private UserBoardRepository boardRepository;\n\n    @Override\n    public List&lt;UserBoard&gt; findLatestBoards() {\n        PageRequest request = new PageRequest(\n                     0, PresentationUtil.PAGE_SIZE, \n                     Sort.Direction.DESC, \"boardId\"\n        );\n        return boardRepository.findAll(request).getContent();\n    }\n\n    // Other Methods\n}\n</code></pre>\n\n<p><strong>Repository</strong></p>\n\n<pre><code>public interface UserBoardRepository extends JpaRepository&lt;UserBoard, Integer&gt; {\n\n}\n</code></pre>\n\n<p>Now, when I call the <code>findLatestBoards</code> method in <code>BoardService</code>, \"No Property Found\" exception is thrown on the line <code>return boardRepository.findAll(request).getContent();</code>. Here is the excerpt from tomcat log.</p>\n\n<p><strong>DEBUG LOG</strong></p>\n\n<pre><code>12:28:44,254 DEBUG AnnotationTransactionAttributeSource:106 - Adding transactional method 'findLatestBoards' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''\n12:28:44,254 DEBUG DefaultListableBeanFactory:246 - Returning cached instance of singleton bean 'transactionManager'\n12:28:44,254 DEBUG JpaTransactionManager:366 - Creating new transaction with name [com.tecnooc.picpin.service.impl.BoardServiceImpl.findLatestBoards]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''\n12:28:44,254 DEBUG JpaTransactionManager:369 - Opened new EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] for JPA transaction\n12:28:44,255 DEBUG AbstractTransactionImpl:158 - begin\n12:28:44,255 DEBUG LogicalConnectionImpl:212 - Obtaining JDBC connection\n12:28:44,255 DEBUG DriverManagerDataSource:162 - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/pic_pin]\n12:28:44,266 DEBUG LogicalConnectionImpl:218 - Obtained JDBC connection\n12:28:44,267 DEBUG JdbcTransaction:69 - initial autocommit status: true\n12:28:44,267 DEBUG JdbcTransaction:71 - disabling autocommit\n12:28:44,267 DEBUG JpaTransactionManager:401 - Exposing JPA transaction as JDBC transaction [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@370da60e]\n12:28:44,274 DEBUG TransactionalRepositoryProxyPostProcessor$CustomAnnotationTransactionAttributeSource:286 - Adding transactional method 'findAll' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly; ''\n12:28:44,274 DEBUG DefaultListableBeanFactory:246 - Returning cached instance of singleton bean 'transactionManager'\n12:28:44,274 DEBUG JpaTransactionManager:332 - Found thread-bound EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] for JPA transaction\n12:28:44,274 DEBUG JpaTransactionManager:471 - Participating in existing transaction\n12:28:44,279 DEBUG CachedIntrospectionResults:159 - Not strongly caching class [java.io.Serializable] because it is not cache-safe\n12:28:44,281 DEBUG JpaTransactionManager:851 - Participating transaction failed - marking existing transaction as rollback-only\n12:28:44,281 DEBUG JpaTransactionManager:559 - Setting JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] rollback-only\n12:28:44,283 DEBUG JpaTransactionManager:844 - Initiating transaction rollback\n12:28:44,284 DEBUG JpaTransactionManager:534 - Rolling back JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194]\n12:28:44,284 DEBUG AbstractTransactionImpl:203 - rolling back\n12:28:44,284 DEBUG JdbcTransaction:164 - rolled JDBC Connection\n12:28:44,285 DEBUG JdbcTransaction:126 - re-enabling autocommit\n12:28:44,285 DEBUG JpaTransactionManager:594 - Closing JPA EntityManager [org.hibernate.ejb.EntityManagerImpl@75284194] after transaction\n12:28:44,285 DEBUG EntityManagerFactoryUtils:338 - Closing JPA EntityManager\n12:28:44,286 DEBUG LogicalConnectionImpl:232 - Releasing JDBC connection\n12:28:44,286 DEBUG LogicalConnectionImpl:250 - Released JDBC connection\n12:28:44,287 DEBUG ExceptionHandlerExceptionResolver:132 - Resolving exception from handler [public java.lang.String com.tecnooc.picpin.controller.BoardController.latest(javax.servlet.http.HttpSession,org.springframework.ui.Model)]: org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\n12:28:44,289 DEBUG ResponseStatusExceptionResolver:132 - Resolving exception from handler [public java.lang.String com.tecnooc.picpin.controller.BoardController.latest(javax.servlet.http.HttpSession,org.springframework.ui.Model)]: org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\n12:28:44,290 DEBUG DefaultHandlerExceptionResolver:132 - Resolving exception from handler [public java.lang.String com.tecnooc.picpin.controller.BoardController.latest(javax.servlet.http.HttpSession,org.springframework.ui.Model)]: org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\n12:28:44,291 DEBUG DispatcherServlet:959 - Could not complete request\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<p>The exception is \"<code>org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard</code>\". But, if I understood correctly, the property <code>board</code> is present in <code>PinItem</code> and is correctly mapped with <code>mappedBy = \"board\"</code> in <code>UserBoard</code>.</p>\n\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property board found for type com.tecnooc.picpin.model.UserBoard\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:75)\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:327)\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:353)\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:307)\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:271)\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:245)\n    at org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:408)\n    at org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:372)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:456)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:437)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:319)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:289)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:333)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:318)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at com.sun.proxy.$Proxy147.findAll(Unknown Source)\n    at com.tecnooc.picpin.service.impl.BoardServiceImpl.findLatestBoards(BoardServiceImpl.java:45)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at com.sun.proxy.$Proxy148.findLatestBoards(Unknown Source)\n    at com.tecnooc.picpin.controller.BoardController.latest(BoardController.java:31)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:827)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>I don't get why this exception is thrown. Any idea why it is happening?</p>\n\n<p><strong>Note:</strong> I am using Hibernate as Persistence provider. Also, the code portion I put here is what I thought is relevant to the problem. If it is not, let me know and I will update the question with required portion. </p>\n"},{"tags":["java","abstract-class","assert","abstract-methods"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1692194745,"post_id":76913681,"comment_id":135590941,"body_markdown":"In your current scheme of things, you really cannot help if a sub-class does not adhere to the principle. Interface will also not help. If you post your code, it would be clearer if there are design alternatives.","body":"In your current scheme of things, you really cannot help if a sub-class does not adhere to the principle. Interface will also not help. If you post your code, it would be clearer if there are design alternatives."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1692196448,"post_id":76913681,"comment_id":135591333,"body_markdown":"@Ironluca I don&#39;t have a complete code for an application with some kind of architecture, I just assumed a general situation and wanted to know the general solution","body":"@Ironluca I don&#39;t have a complete code for an application with some kind of architecture, I just assumed a general situation and wanted to know the general solution"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1692196914,"post_id":76913681,"comment_id":135591443,"body_markdown":"How do you plan on writing these assertions? Do you have a specific subclass you want to verify? Or do you want to somehow verify for all subclasses? The later seems impossible if you don&#39;t have an actual subclass to use.","body":"How do you plan on writing these assertions? Do you have a specific subclass you want to verify? Or do you want to somehow verify for all subclasses? The later seems impossible if you don&#39;t have an actual subclass to use."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1692198182,"post_id":76913681,"comment_id":135591737,"body_markdown":"Whether this is good practice is opinion-based... but I&#39;d say if people don&#39;t bother to read your Javadoc on how to use the class, they&#39;ll probably also break it in other creative ways. Or maybe your classes are not very intuitive to use? I guess it depends on your target audience how much you want to check. But it could get complicated, and you assume that you know what *all* derived classes must do, which may or may not be the case. People can still catch and ignore the exception from `initCells`. If you call `System.exit` I&#39;d not use your library. This is utterly unacceptable for a library.","body":"Whether this is good practice is opinion-based... but I&#39;d say if people don&#39;t bother to read your Javadoc on how to use the class, they&#39;ll probably also break it in other creative ways. Or maybe your classes are not very intuitive to use? I guess it depends on your target audience how much you want to check. But it could get complicated, and you assume that you know what <i>all</i> derived classes must do, which may or may not be the case. People can still catch and ignore the exception from <code>initCells</code>. If you call <code>System.exit</code> I&#39;d not use your library. This is utterly unacceptable for a library."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1692198710,"post_id":76913681,"comment_id":135591838,"body_markdown":"@Code-Apprentice I just was asserting the output of abstract method in non-abstract method of abstract class","body":"@Code-Apprentice I just was asserting the output of abstract method in non-abstract method of abstract class"},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1692200451,"post_id":76913681,"comment_id":135592217,"body_markdown":"@Robert you are right, I won&#39;t use System.exit(), I will throw RuntimeException instead of it.","body":"@Robert you are right, I won&#39;t use System.exit(), I will throw RuntimeException instead of it."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692196755,"creation_date":1692196755,"answer_id":76914648,"question_id":76913681,"body_markdown":"Assertions are disabled by default, but exceptions aren&#39;t. If this precondition is a major footgun or is likely to cause safety or security issues if not followed, then raise [`RuntimeException`](https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html) or one of its subclasses when you detect nonconformance.\r\n\r\n```\r\npublic final initCells() {\r\n  _initCells();\r\n  if (containsDuplicates()) {\r\n    throw new RuntimeException(&quot;Cells contain duplicates&quot;);\r\n  }\r\n  if (anyCellIsOutOfBounds()) {\r\n    throw new RuntimeException(&quot;Cell is out of bounds&quot;);\r\n  }\r\n}\r\n```","title":"Checking abstract method behavior (the contract) with assertions in Java","body":"<p>Assertions are disabled by default, but exceptions aren't. If this precondition is a major footgun or is likely to cause safety or security issues if not followed, then raise <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html\" rel=\"nofollow noreferrer\"><code>RuntimeException</code></a> or one of its subclasses when you detect nonconformance.</p>\n<pre><code>public final initCells() {\n  _initCells();\n  if (containsDuplicates()) {\n    throw new RuntimeException(&quot;Cells contain duplicates&quot;);\n  }\n  if (anyCellIsOutOfBounds()) {\n    throw new RuntimeException(&quot;Cell is out of bounds&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692308438,"accepted_answer_id":76914648,"answer_count":1,"score":0,"last_activity_date":1692203311,"creation_date":1692189967,"question_id":76913681,"body_markdown":"I want the abstract method to be implemented to keep some contract\r\ne.g.\r\n\r\nI have a `Cells` abstract class which is a wrapper around `Cell[]`, `Cells` abstract class has abstract protected method `_initCells`, and I declared `initCells` **final** and **public** method that uses assertions to check if in the `Cell[]` from `_initCells` method output doesn&#39;t contain **duplicates** and **out-of-bounds** cells regardless of whether it is chess cells or checker cells.\r\n\r\nBut assertions are disabled by default and if another package wants to create sub-classes of `Cells` the programmer can ignore the contract by not enabling the assertions. \r\n\r\nand what if I have a interface instead of abstract class, how can I enforce a contract?\r\n\r\nSo far I decided to print a message in System.err and call System.exit from initCells method.","title":"Checking abstract method behavior (the contract) with assertions in Java","body":"<p>I want the abstract method to be implemented to keep some contract\ne.g.</p>\n<p>I have a <code>Cells</code> abstract class which is a wrapper around <code>Cell[]</code>, <code>Cells</code> abstract class has abstract protected method <code>_initCells</code>, and I declared <code>initCells</code> <strong>final</strong> and <strong>public</strong> method that uses assertions to check if in the <code>Cell[]</code> from <code>_initCells</code> method output doesn't contain <strong>duplicates</strong> and <strong>out-of-bounds</strong> cells regardless of whether it is chess cells or checker cells.</p>\n<p>But assertions are disabled by default and if another package wants to create sub-classes of <code>Cells</code> the programmer can ignore the contract by not enabling the assertions.</p>\n<p>and what if I have a interface instead of abstract class, how can I enforce a contract?</p>\n<p>So far I decided to print a message in System.err and call System.exit from initCells method.</p>\n"},{"tags":["java","mockito","logback","logback-classic"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692202204,"post_id":76915247,"comment_id":135592572,"body_markdown":"You have to show your mock setup and your stubbings. [edit] your question to include a [mwe].","body":"You have to show your mock setup and your stubbings. <a href=\"https://stackoverflow.com/posts/76915247/edit\">edit</a> your question to include a [mwe]."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692203366,"post_id":76915247,"comment_id":135592785,"body_markdown":"That last link should read [mre]. Sorry for the typo","body":"That last link should read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Sorry for the typo"}],"answers":[{"tags":[],"owner":{"account_id":926419,"reputation":289,"user_id":957136,"display_name":"dlipofsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692202677,"creation_date":1692202677,"answer_id":76915396,"question_id":76915247,"body_markdown":"The answer involves the fact that it is a mocked exception (which I have to do because the exception I need is from a 3rd party library and they don&#39;t expose a way to create a real one).\r\n\r\nWith `mockito-core` and no explicit mocking of the `getSuppressed()` method it returns `Throwable[0]`  \r\nbut with `mockito-inline` it returns `null`.\r\n\r\nI am certainly surprised that just changing that dependency affects what is returned by default there, but it can be solved by explicitly mocking it out like\r\n```\r\n    lenient().when(e.getSuppressed()).thenReturn(new Throwable[0]);\r\n```","title":"mockito-inline causes logback classic to throw NullPointerException: Cannot read the array length because &quot;throwableSuppressed&quot; is null","body":"<p>The answer involves the fact that it is a mocked exception (which I have to do because the exception I need is from a 3rd party library and they don't expose a way to create a real one).</p>\n<p>With <code>mockito-core</code> and no explicit mocking of the <code>getSuppressed()</code> method it returns <code>Throwable[0]</code><br />\nbut with <code>mockito-inline</code> it returns <code>null</code>.</p>\n<p>I am certainly surprised that just changing that dependency affects what is returned by default there, but it can be solved by explicitly mocking it out like</p>\n<pre><code>    lenient().when(e.getSuppressed()).thenReturn(new Throwable[0]);\n</code></pre>\n"}],"owner":{"account_id":926419,"reputation":289,"user_id":957136,"display_name":"dlipofsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692202677,"creation_date":1692201368,"question_id":76915247,"body_markdown":"Just switching from `mockito-core` to `mockito-inline` (4.11.0), without any code changes, causes logback-classic (1.2.11) to throw\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;throwableSuppressed&quot; is null\r\n  at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\r\n  at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\r\n  at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n  at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n  at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n  at ch.qos.logback.classic.Logger.warn(Logger.java:704)\r\n```\r\nthe log line is\r\n```\r\n      LOG.warn(\r\n          &quot;{} while registering RIC {}, will retry once: {}&quot;,\r\n          oe.getClass().getSimpleName(), ric, oe.toString(), oe);\r\n```\r\n\r\nAny ideas how to fix this?\r\n\r\nChanging the args to\r\n`oe.getClass().getSimpleName(), ric, oe.toString()`\r\nworks around the issue but you loose the stacktrace in the logs, and I&#39;d hate to loose that in production just to work around an issue in the tests.\r\n\r\nChanging the args to\r\n`oe.getClass().getSimpleName(), ric, oe`  \r\nor `oe.getClass().getSimpleName(), ric, oe, oe`  \r\ndoes not work.","title":"mockito-inline causes logback classic to throw NullPointerException: Cannot read the array length because &quot;throwableSuppressed&quot; is null","body":"<p>Just switching from <code>mockito-core</code> to <code>mockito-inline</code> (4.11.0), without any code changes, causes logback-classic (1.2.11) to throw</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot read the array length because &quot;throwableSuppressed&quot; is null\n  at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\n  at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\n  at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n  at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n  at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n  at ch.qos.logback.classic.Logger.warn(Logger.java:704)\n</code></pre>\n<p>the log line is</p>\n<pre><code>      LOG.warn(\n          &quot;{} while registering RIC {}, will retry once: {}&quot;,\n          oe.getClass().getSimpleName(), ric, oe.toString(), oe);\n</code></pre>\n<p>Any ideas how to fix this?</p>\n<p>Changing the args to\n<code>oe.getClass().getSimpleName(), ric, oe.toString()</code>\nworks around the issue but you loose the stacktrace in the logs, and I'd hate to loose that in production just to work around an issue in the tests.</p>\n<p>Changing the args to\n<code>oe.getClass().getSimpleName(), ric, oe</code><br />\nor <code>oe.getClass().getSimpleName(), ric, oe, oe</code><br />\ndoes not work.</p>\n"},{"tags":["java","cryptography","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692202279,"creation_date":1692201714,"answer_id":76915293,"question_id":76913442,"body_markdown":"According to the specification ([here, page 13, line 504 ff][1]), the following must be fulfilled to FF1:\r\n\r\n&gt; *radix*  [2..2&lt;sup&gt;16&lt;/sup&gt;]  \r\n&gt; *radix&lt;sup&gt;minlen&lt;/sup&gt;*  1 000 000   \r\n&gt; 2  *minlen*  *maxlen* &lt; 2&lt;sup&gt;32&lt;/sup&gt;\r\n\r\nHere, *radix* is the number of characters in the alphabet (99 in the sample code) and *minlen* and *maxlen* are the minimum and maximum allowed length of the plaintext.\r\n\r\nThe constraint *radix&lt;sup&gt;minlen&lt;/sup&gt;*  1 000 000 is fulfilled for *minlen* = 4, but no more for *minlen* = 3, i.e. the minimum length of the plaintext is 4 characters.\r\n\r\nThe error message comes from [here][2].\r\n\r\n[1]: https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38Gr1-draft.pdf\r\n[2]: https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/fpe/SP80038G.java#L451","title":"Reason for the error: &quot;input too short&quot;, when encrypting (with FPE and bouncy castle) in Java/Scala","body":"<p>According to the specification (<a href=\"https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38Gr1-draft.pdf\" rel=\"nofollow noreferrer\">here, page 13, line 504 ff</a>), the following must be fulfilled to FF1:</p>\n<blockquote>\n<p><em>radix</em>  [2..2<sup>16</sup>]<br />\n<em>radix<sup>minlen</sup></em>  1 000 000<br />\n2  <em>minlen</em>  <em>maxlen</em> &lt; 2<sup>32</sup></p>\n</blockquote>\n<p>Here, <em>radix</em> is the number of characters in the alphabet (99 in the sample code) and <em>minlen</em> and <em>maxlen</em> are the minimum and maximum allowed length of the plaintext.</p>\n<p>The constraint <em>radix<sup>minlen</sup></em>  1 000 000 is fulfilled for <em>minlen</em> = 4, but no more for <em>minlen</em> = 3, i.e. the minimum length of the plaintext is 4 characters.</p>\n<p>The error message comes from <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/fpe/SP80038G.java#L451\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2750651,"reputation":63,"user_id":2370127,"display_name":"Gustach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915293,"answer_count":1,"score":0,"last_activity_date":1692202279,"creation_date":1692188016,"question_id":76913442,"body_markdown":"Based on the answers of [this another question][1], I am trying to encrypt some text but when the input data is 3 characters or less in lenght, I obtain this exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input too short\r\n\tat org.bouncycastle.crypto.fpe.SP80038G.checkLength(Unknown Source)\r\n\tat org.bouncycastle.crypto.fpe.SP80038G.checkData(Unknown Source)\r\n\tat org.bouncycastle.crypto.fpe.SP80038G.checkArgs(Unknown Source)\r\n\tat org.bouncycastle.crypto.fpe.SP80038G.encryptFF1(Unknown Source)\r\n\tat org.bouncycastle.crypto.fpe.FPEFF1Engine.encryptBlock(Unknown Source)\r\n\tat org.bouncycastle.crypto.fpe.FPEEngine.processBlock(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedFPEBlockCipher.doFinal(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\n\tat org.example.AESFPE2.encrypt(AESFPE2.scala:38)\r\n\tat org.example.AESFPE2.encrypt_test(AESFPE2.scala:25)\r\n\tat org.example.App$.main(Main.scala:18)\r\n\tat org.example.App.main(Main.scala)\r\n\r\nThe method &#39;encrypt_test&#39; in the next code is what I am using to test this problem (the rest of the methods are the same as the previously referenced question):\r\n\r\n ```\r\nclass AESFPE2 {\r\n  @throws[Exception]\r\n  def encrypt_test(): Unit = {\r\n    val key = getKeyFromPassword(&quot;foo&quot;, &quot;bar&quot;)\r\n    val tweak = getTweak\r\n    val alphabetMapper = new BasicAlphabetMapper(&quot;\\&quot;&#39;^*[]{}&lt;&gt;&#186;&#170;|+-ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz&#225;&#233;&#237;&#243;&#250;&#252;!&#191;?&#161;=()/\\\\ _;:,.&#231;&quot;)\r\n    val radix = alphabetMapper.getRadix\r\n\r\n    val plaintext = &quot;abc&quot;.toCharArray\r\n\r\n    val plain_bytes = alphabetMapper.convertToIndexes(plaintext)\r\n    val cipher = Cipher.getInstance(&quot;AES/FF1/NoPadding&quot;, new BouncyCastleProvider())\r\n    val cipher_bytes = encrypt(cipher, key, tweak, radix, plain_bytes)\r\n    val decrypted = decrypt(cipher, key, tweak, radix, cipher_bytes)\r\n    val cipher_chars = alphabetMapper.convertToChars(cipher_bytes)\r\n    println(new String(cipher_chars))\r\n    val plain_chars = alphabetMapper.convertToChars(decrypted)\r\n    println(new String(plain_chars))\r\n\r\n  }\r\n\r\n  @throws[NoSuchAlgorithmException]\r\n  @throws[InvalidKeySpecException]\r\n  def getKeyFromPassword(password: String, salt: String): SecretKey = {\r\n    val factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;)\r\n    val spec = new PBEKeySpec(password.toCharArray, salt.getBytes, 65536, 256)\r\n    val secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded, &quot;AES&quot;)\r\n    secret\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69226233/format-preserving-encryption-fpe-in-java-with-bouncycastle","title":"Reason for the error: &quot;input too short&quot;, when encrypting (with FPE and bouncy castle) in Java/Scala","body":"<p>Based on the answers of <a href=\"https://stackoverflow.com/questions/69226233/format-preserving-encryption-fpe-in-java-with-bouncycastle\">this another question</a>, I am trying to encrypt some text but when the input data is 3 characters or less in lenght, I obtain this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input too short\nat org.bouncycastle.crypto.fpe.SP80038G.checkLength(Unknown Source)\nat org.bouncycastle.crypto.fpe.SP80038G.checkData(Unknown Source)\nat org.bouncycastle.crypto.fpe.SP80038G.checkArgs(Unknown Source)\nat org.bouncycastle.crypto.fpe.SP80038G.encryptFF1(Unknown Source)\nat org.bouncycastle.crypto.fpe.FPEFF1Engine.encryptBlock(Unknown Source)\nat org.bouncycastle.crypto.fpe.FPEEngine.processBlock(Unknown Source)\nat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedFPEBlockCipher.doFinal(Unknown Source)\nat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\nat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\nat org.example.AESFPE2.encrypt(AESFPE2.scala:38)\nat org.example.AESFPE2.encrypt_test(AESFPE2.scala:25)\nat org.example.App$.main(Main.scala:18)\nat org.example.App.main(Main.scala)\n</code></pre>\n<p>The method 'encrypt_test' in the next code is what I am using to test this problem (the rest of the methods are the same as the previously referenced question):</p>\n<pre><code>class AESFPE2 {\n @throws[Exception]\n def encrypt_test(): Unit = {\n   val key = getKeyFromPassword(&quot;foo&quot;, &quot;bar&quot;)\n   val tweak = getTweak\n   val alphabetMapper = new BasicAlphabetMapper(&quot;\\&quot;'^*[]{}&lt;&gt;|+-ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz!?=()/\\\\ _;:,.&quot;)\n   val radix = alphabetMapper.getRadix\n\n   val plaintext = &quot;abc&quot;.toCharArray\n\n   val plain_bytes = alphabetMapper.convertToIndexes(plaintext)\n   val cipher = Cipher.getInstance(&quot;AES/FF1/NoPadding&quot;, new BouncyCastleProvider())\n   val cipher_bytes = encrypt(cipher, key, tweak, radix, plain_bytes)\n   val decrypted = decrypt(cipher, key, tweak, radix, cipher_bytes)\n   val cipher_chars = alphabetMapper.convertToChars(cipher_bytes)\n   println(new String(cipher_chars))\n   val plain_chars = alphabetMapper.convertToChars(decrypted)\n   println(new String(plain_chars))\n\n }\n\n @throws[NoSuchAlgorithmException]\n @throws[InvalidKeySpecException]\n def getKeyFromPassword(password: String, salt: String): SecretKey = {\n   val factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;)\n   val spec = new PBEKeySpec(password.toCharArray, salt.getBytes, 65536, 256)\n   val secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded, &quot;AES&quot;)\n   secret\n }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1696349059,"post_id":76907092,"comment_id":136140054,"body_markdown":"hey bro, did you find the answer to this question? And do you still have this question? Because I think it is solvable.","body":"hey bro, did you find the answer to this question? And do you still have this question? Because I think it is solvable."},{"owner":{"account_id":3062084,"reputation":418,"user_id":2594510,"accept_rate":64,"display_name":"mike"},"score":0,"creation_date":1696358558,"post_id":76907092,"comment_id":136141838,"body_markdown":"Well, I have an implementation with a lock managed in redis, but that introduces delays. Technically works, similat ro this one here: https://github.com/crossoverJie/distributed-redis-tool/blob/master/src/main/java/com/crossoverjie/distributed/lock/RedisLock.java.","body":"Well, I have an implementation with a lock managed in redis, but that introduces delays. Technically works, similat ro this one here: <a href=\"https://github.com/crossoverJie/distributed-redis-tool/blob/master/src/main/java/com/crossoverjie/distributed/lock/RedisLock.java\" rel=\"nofollow noreferrer\">github.com/crossoverJie/distributed-redis-tool/blob/master/s&zwnj;&#8203;rc/&hellip;</a>."}],"owner":{"account_id":3062084,"reputation":418,"user_id":2594510,"accept_rate":64,"display_name":"mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692202232,"creation_date":1692112439,"question_id":76907092,"body_markdown":"Starting to integrate Redis in a Spring Boot application that needs concurrent access to it (Redis), I need advice on the best practice in order to continue the implementation.\r\n\r\nRedis connection is setup like this:\r\n\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        try {\r\n            return new LettuceConnectionFactory();\r\n        } catch (Exception e) {\r\n            // log...\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        try {\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\r\n            redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n        } catch (Exception e) {\r\n            // log ...\r\n        }\r\n        return redisTemplate;\r\n    }\r\n}\r\n```\r\n\r\nThere are entities saved in Redis using a repository like this:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RedisHash\r\n@NoArgsConstructor\r\npublic class Item {\r\n    @Id\r\n    private String id;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface ItemRepository extends CrudRepository&lt;Item, String&gt; {\r\n}\r\n```\r\nA service to manage the items:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ItemsService {\r\n    private final ItemRepository itemRepository;\r\n\r\n...\r\n    private manageItem(Item item) {\r\n        // ...\r\n        // set item data\r\n        // NEEDS LOCKING\r\n        itemRepository.save(item);\r\n        // ...\r\n    }\r\n...\r\n}\r\n\r\n```\r\n\r\nAt this point, must implement the concurrent access to this Redis data. Reading multiple articles about this, I wonder what is the right implementation to follow in order to be able to delete an `item` from Redis when this is not accessed by another save call from the `ItemRepository`, in a scheduled task. It&#39;s a cleanup when the `item` was not used for a specific time and meets some conditions. So the task should come, make a list of them and delete them if they are not accessed at the time (even unlikely), by trying to acquire a lock and delete. If the lock is not successful, should let them alone for the next run.\r\n\r\nSo the question is: in the `@Repository` context, should implement a `RedisLockRegistry` or a custom lock by using some Redis commands? How would this look like? What is the right beans design?\r\n","title":"Spring Boot concurrent access to Redis","body":"<p>Starting to integrate Redis in a Spring Boot application that needs concurrent access to it (Redis), I need advice on the best practice in order to continue the implementation.</p>\n<p>Redis connection is setup like this:</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        try {\n            return new LettuceConnectionFactory();\n        } catch (Exception e) {\n            // log...\n        }\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        try {\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\n            redisTemplate.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\n            redisTemplate.setConnectionFactory(redisConnectionFactory);\n        } catch (Exception e) {\n            // log ...\n        }\n        return redisTemplate;\n    }\n}\n</code></pre>\n<p>There are entities saved in Redis using a repository like this:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@RedisHash\n@NoArgsConstructor\npublic class Item {\n    @Id\n    private String id;\n\n    // ...\n}\n</code></pre>\n<pre><code>@Repository\npublic interface ItemRepository extends CrudRepository&lt;Item, String&gt; {\n}\n</code></pre>\n<p>A service to manage the items:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ItemsService {\n    private final ItemRepository itemRepository;\n\n...\n    private manageItem(Item item) {\n        // ...\n        // set item data\n        // NEEDS LOCKING\n        itemRepository.save(item);\n        // ...\n    }\n...\n}\n\n</code></pre>\n<p>At this point, must implement the concurrent access to this Redis data. Reading multiple articles about this, I wonder what is the right implementation to follow in order to be able to delete an <code>item</code> from Redis when this is not accessed by another save call from the <code>ItemRepository</code>, in a scheduled task. It's a cleanup when the <code>item</code> was not used for a specific time and meets some conditions. So the task should come, make a list of them and delete them if they are not accessed at the time (even unlikely), by trying to acquire a lock and delete. If the lock is not successful, should let them alone for the next run.</p>\n<p>So the question is: in the <code>@Repository</code> context, should implement a <code>RedisLockRegistry</code> or a custom lock by using some Redis commands? How would this look like? What is the right beans design?</p>\n"},{"tags":["java","multithreading","concurrency","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1692096984,"post_id":76895399,"comment_id":135575536,"body_markdown":"`tryEmitNext` does **not** throw any exception on failure. You have to check on its return status to verify if it failed or succeed. That being said, if `tryEmitNext` on non-replayable sink returns `EmitResult.OK` when no subscriber is present, then I think there is a bug in the library.","body":"<code>tryEmitNext</code> does <b>not</b> throw any exception on failure. You have to check on its return status to verify if it failed or succeed. That being said, if <code>tryEmitNext</code> on non-replayable sink returns <code>EmitResult.OK</code> when no subscriber is present, then I think there is a bug in the library."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1692113958,"post_id":76895399,"comment_id":135578952,"body_markdown":"@amanin I am aware of this, and yes, emitting does really succeed. But I&#39;m more confused by the ghostly completed `Flux` (that no one completed) than by the later successful emissions.","body":"@amanin I am aware of this, and yes, emitting does really succeed. But I&#39;m more confused by the ghostly completed <code>Flux</code> (that no one completed) than by the later successful emissions."}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692202078,"creation_date":1691964409,"question_id":76895399,"body_markdown":"If I make a `Sinks.Many` instance:\r\n\r\n    Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\r\n\r\nThen in a different thread (T1), I subscribe to its `Flux`:\r\n\r\n    new Thread(() -&gt; {\r\n        sink.asFlux().take(5).subscribe(\r\n            m -&gt; System.out.println(&quot;T1: &quot; + m),  //onNext\r\n            System.out::println,                  //onError\r\n            () -&gt; System.out.println(&quot;T1 DONE&quot;)); //onComplete\r\n    })\r\n    .start();\r\n\r\nAnd emit some elements in the &quot;main&quot; thread:\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        sink.tryEmitNext(i);\r\n        Thread.sleep(500);\r\n    }\r\n    \r\n    //Verify that 0 subscribers are left at this point\r\n    System.out.println(&quot;Subscribers: &quot; + sink.currentSubscriberCount());\r\n\r\n\r\nI see T1 printing 0-4 and &quot;DONE&quot; as expected, but the sink becomes useless at this point  all further subscriptions instantly complete for some reason, and emissions no longer do anything observable.\r\n\r\nE.g. if I try subscribing and emitting again:\r\n\r\n    new Thread(() -&gt; {\r\n        sink.asFlux().take(5).subscribe(\r\n            m -&gt; System.out.println(&quot;T2: &quot; + m),  //onNext\r\n            System.out::println,                  //onError\r\n            () -&gt; System.out.println(&quot;T2 DONE&quot;)); //onComplete\r\n    })\r\n    .start();\r\n        \r\n    for (int i = 0; i &lt; 10; i++) {\r\n        Sinks.EmitResult emitResult = sink.tryEmitNext(i);\r\n        if (emitResult.isFailure()) {\r\n            throw new RuntimeException(); //Never happens\r\n        }\r\n        Thread.sleep(500);\r\n    }\r\n\r\nT2 instantly prints &quot;T2 DONE&quot; because the `Flux` is seemingly complete, yet each subsequent `sink.tryEmitNext` is still successful (`isSuccessful() == true`).\r\n\r\nI am clearly failing to understand how `Sinks.many().multicast()` is supposed to work because this behavior makes no sense to me. What completed the `Flux` when `(try)EmitComplete` was never called? Why is the sink still emitting successfully if nothing can subscribe to it? It is stuck in limbo where it&#39;s both complete and not.\r\n\r\nWhat am I missing? Should I be using different constructs (see below) to have an endless sink that permits subscribers to come and go as they please?\r\n\r\nIf I instead define my sink as:\r\n\r\n    //0 because I don&#39;t actually want any replay\r\n    Sinks.Many&lt;Integer&gt; sink = Sinks.many().replay().limit(Duration.ZERO);\r\n\r\nI get the result I expect  T2 also gets its 5 elements.","title":"Sinks.Many silently becomes useless after subscriber count reaches 0 the first time","body":"<p>If I make a <code>Sinks.Many</code> instance:</p>\n<pre><code>Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\n</code></pre>\n<p>Then in a different thread (T1), I subscribe to its <code>Flux</code>:</p>\n<pre><code>new Thread(() -&gt; {\n    sink.asFlux().take(5).subscribe(\n        m -&gt; System.out.println(&quot;T1: &quot; + m),  //onNext\n        System.out::println,                  //onError\n        () -&gt; System.out.println(&quot;T1 DONE&quot;)); //onComplete\n})\n.start();\n</code></pre>\n<p>And emit some elements in the &quot;main&quot; thread:</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    sink.tryEmitNext(i);\n    Thread.sleep(500);\n}\n\n//Verify that 0 subscribers are left at this point\nSystem.out.println(&quot;Subscribers: &quot; + sink.currentSubscriberCount());\n</code></pre>\n<p>I see T1 printing 0-4 and &quot;DONE&quot; as expected, but the sink becomes useless at this point  all further subscriptions instantly complete for some reason, and emissions no longer do anything observable.</p>\n<p>E.g. if I try subscribing and emitting again:</p>\n<pre><code>new Thread(() -&gt; {\n    sink.asFlux().take(5).subscribe(\n        m -&gt; System.out.println(&quot;T2: &quot; + m),  //onNext\n        System.out::println,                  //onError\n        () -&gt; System.out.println(&quot;T2 DONE&quot;)); //onComplete\n})\n.start();\n    \nfor (int i = 0; i &lt; 10; i++) {\n    Sinks.EmitResult emitResult = sink.tryEmitNext(i);\n    if (emitResult.isFailure()) {\n        throw new RuntimeException(); //Never happens\n    }\n    Thread.sleep(500);\n}\n</code></pre>\n<p>T2 instantly prints &quot;T2 DONE&quot; because the <code>Flux</code> is seemingly complete, yet each subsequent <code>sink.tryEmitNext</code> is still successful (<code>isSuccessful() == true</code>).</p>\n<p>I am clearly failing to understand how <code>Sinks.many().multicast()</code> is supposed to work because this behavior makes no sense to me. What completed the <code>Flux</code> when <code>(try)EmitComplete</code> was never called? Why is the sink still emitting successfully if nothing can subscribe to it? It is stuck in limbo where it's both complete and not.</p>\n<p>What am I missing? Should I be using different constructs (see below) to have an endless sink that permits subscribers to come and go as they please?</p>\n<p>If I instead define my sink as:</p>\n<pre><code>//0 because I don't actually want any replay\nSinks.Many&lt;Integer&gt; sink = Sinks.many().replay().limit(Duration.ZERO);\n</code></pre>\n<p>I get the result I expect  T2 also gets its 5 elements.</p>\n"},{"tags":["java","database","http"],"answers":[{"tags":[],"owner":{"account_id":2307656,"reputation":398,"user_id":2026594,"accept_rate":58,"display_name":"Zaknafein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1463733951,"creation_date":1463733951,"answer_id":37342066,"question_id":37341982,"body_markdown":"In your servlet need to write this for retrieve the parameter:\r\n\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\tHttpSession session = req.getSession();\r\n    \t\tString nome = req.getParameter(&quot;nome&quot;);\r\n    \t\t...\r\n    }\r\n\r\nin your jsp page u need to use a form, like this:\r\n\r\n    &lt;form action=&quot;LoginServlet&quot; method=&quot;post&quot;&gt;\r\n    \tName:&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;br /&gt;\r\n    \t&lt;br /&gt;&lt;input type=&quot;submit&quot; value=&quot;login&quot; /&gt;\r\n    &lt;/form&gt;","title":"How can I write via http Request from my UI to a table?","body":"<p>In your servlet need to write this for retrieve the parameter:</p>\n\n<pre><code>protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        HttpSession session = req.getSession();\n        String nome = req.getParameter(\"nome\");\n        ...\n}\n</code></pre>\n\n<p>in your jsp page u need to use a form, like this:</p>\n\n<pre><code>&lt;form action=\"LoginServlet\" method=\"post\"&gt;\n    Name:&lt;input type=\"text\" name=\"username\" /&gt;&lt;br /&gt;\n    &lt;br /&gt;&lt;input type=\"submit\" value=\"login\" /&gt;\n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":8414651,"reputation":61,"user_id":6315479,"accept_rate":86,"display_name":"TechAffinate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":37342066,"answer_count":1,"score":-1,"last_activity_date":1692201887,"creation_date":1463733656,"question_id":37341982,"body_markdown":"I want to write via http request from my UI to a table.\r\n\r\nI know that I will have to use @POST but how can I implement that the table shown in my UI will write to a table in the backend?","title":"How can I write via http Request from my UI to a table?","body":"<p>I want to write via http request from my UI to a table.</p>\n<p>I know that I will have to use @POST but how can I implement that the table shown in my UI will write to a table in the backend?</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":29058110,"reputation":94,"user_id":22259459,"display_name":"Kerllicky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692201339,"creation_date":1692201339,"answer_id":76915245,"question_id":76915096,"body_markdown":"What I use to present a web page is:\r\n\r\n    @RestController\r\n    public class WebController {\r\n    \r\n      @GetMapping(&quot;/&quot;)\r\n      public Resource homePage() {\r\n        return new ClassPathResource(&quot;html/index.html&quot;);\r\n      }\r\n\r\nYou don&#39;t have to have anything under a specific directory. Just specify your path when calling the ClassPathResource constructor.","title":"How to configure spring boot to return index.html from controller?","body":"<p>What I use to present a web page is:</p>\n<pre><code>@RestController\npublic class WebController {\n\n  @GetMapping(&quot;/&quot;)\n  public Resource homePage() {\n    return new ClassPathResource(&quot;html/index.html&quot;);\n  }\n</code></pre>\n<p>You don't have to have anything under a specific directory. Just specify your path when calling the ClassPathResource constructor.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915245,"answer_count":1,"score":0,"last_activity_date":1692201339,"creation_date":1692200105,"question_id":76915096,"body_markdown":"I have following controller:\r\n\r\n    @Controller\r\n    class ReactAppController {\r\n        @RequestMapping(value = [&quot;/&quot;, &quot;/{x:[\\\\w\\\\-]+}&quot;, &quot;/{x:^(?!api$).*$}/**/{y:[\\\\w\\\\-]+}&quot;])\r\n        fun getIndex(): String {\r\n            return &quot;index&quot;\r\n        }\r\n    }\r\n\r\nMy expectations that it should return `index.html` file \r\n\r\nIt works if I put the file `index.html` under the `src/main/resources/templates` \r\nAnd application have following dependencies:\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n\r\n\r\nBut I don&#39;t want to have\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n\r\nIn my application because I don&#39;t use thymeleaf. But if I remove this dependency - I receive whiteble error page.\r\n\r\nI believe that I have to configure viewResolver somehow but I can&#39;t find particular recipe.\r\nIs there way to fix it ?\r\n\r\nP.S.\r\n--\r\n\r\nthis doesn&#39;t work:\r\n\r\n    spring:\r\n      mvc:\r\n        view:\r\n          prefix: /templates/\r\n          suffix: .html\r\n\r\nalthough it looks correct:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OkrRe.png","title":"How to configure spring boot to return index.html from controller?","body":"<p>I have following controller:</p>\n<pre><code>@Controller\nclass ReactAppController {\n    @RequestMapping(value = [&quot;/&quot;, &quot;/{x:[\\\\w\\\\-]+}&quot;, &quot;/{x:^(?!api$).*$}/**/{y:[\\\\w\\\\-]+}&quot;])\n    fun getIndex(): String {\n        return &quot;index&quot;\n    }\n}\n</code></pre>\n<p>My expectations that it should return <code>index.html</code> file</p>\n<p>It works if I put the file <code>index.html</code> under the <code>src/main/resources/templates</code>\nAnd application have following dependencies:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\nimplementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n</code></pre>\n<p>But I don't want to have</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n</code></pre>\n<p>In my application because I don't use thymeleaf. But if I remove this dependency - I receive whiteble error page.</p>\n<p>I believe that I have to configure viewResolver somehow but I can't find particular recipe.\nIs there way to fix it ?</p>\n<h2>P.S.</h2>\n<p>this doesn't work:</p>\n<pre><code>spring:\n  mvc:\n    view:\n      prefix: /templates/\n      suffix: .html\n</code></pre>\n<p>although it looks correct:</p>\n<p><a href=\"https://i.stack.imgur.com/OkrRe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OkrRe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","spring","jackson","deserialization"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1692193203,"post_id":76913911,"comment_id":135590580,"body_markdown":"Can&#39;t reproduce, works as expected for me (and i don&#39;t see anything wrong with your config). Could you have omitted some final fields from your classes?","body":"Can&#39;t reproduce, works as expected for me (and i don&#39;t see anything wrong with your config). Could you have omitted some final fields from your classes?"},{"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"score":0,"creation_date":1692193884,"post_id":76913911,"comment_id":135590745,"body_markdown":"@Chaosfire I have removed final keyword from fields and even added default constructors but still getting `Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.ServiceConfiguration` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n`","body":"@Chaosfire I have removed final keyword from fields and even added default constructors but still getting <code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Cannot construct instance of </code>com.ServiceConfiguration` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information `"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1692195381,"post_id":76913911,"comment_id":135591098,"body_markdown":"Can you update question with a reproducible example? As i said, it works for me and i can only randomly guess without one.","body":"Can you update question with a reproducible example? As i said, it works for me and i can only randomly guess without one."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692201098,"creation_date":1692191855,"answer_id":76913974,"question_id":76913911,"body_markdown":"I could make it work with following changes:\r\n\r\n 1. In specific classes, `@NoArgConstructor` and `@Getter` were enough. The class looks like this:\r\n\r\n        @NoArgsConstructor\r\n        @Getter\r\n        public class StripeServiceConfiguration implements ServiceConfiguration {\r\n            private Map&lt;String, Object&gt; jsonConfiguration;\r\n        }\r\n 2. Added a wrapper class:\r\n\r\n        @Data\r\n        public class ConfigWrapper {\r\n            private ServiceConfiguration serviceConfiguration;\r\n        }\r\n\r\n 3. Then, deserialized using the wrapper class as follows:\r\n\r\n        String json = &quot;{\\&quot;serviceConfiguration\\&quot;:{\\&quot;serviceType\\&quot;:\\&quot;Stripe\\&quot;,\\&quot;jsonConfiguration\\&quot;:{\\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\&quot;key2\\&quot;:\\&quot;value2\\&quot;}}}&quot;;\r\n        ConfigWrapper config = new ObjectMapper().readValue(json, ConfigWrapper.class);\r\n\r\n 4. `TypeOfService getServiceType();` This method might not be required. So, I cleaned it up. The interface looks like this now:\r\n\r\n  \r\n\r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\r\n                      property = &quot;serviceType&quot;)\r\n        @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = StripeServiceConfiguration.class, name = &quot;Stripe&quot;),\r\n            @JsonSubTypes.Type(value = BrainServiceConfiguration.class, name = &quot;Brain&quot;),\r\n        })\r\n        public  interface ServiceConfiguration {\r\n        }\r\n\r\n\r\n\r\n","title":"Deserialization using jackson mapper annotations in java","body":"<p>I could make it work with following changes:</p>\n<ol>\n<li><p>In specific classes, <code>@NoArgConstructor</code> and <code>@Getter</code> were enough. The class looks like this:</p>\n<pre><code>@NoArgsConstructor\n@Getter\npublic class StripeServiceConfiguration implements ServiceConfiguration {\n    private Map&lt;String, Object&gt; jsonConfiguration;\n}\n</code></pre>\n</li>\n<li><p>Added a wrapper class:</p>\n<pre><code>@Data\npublic class ConfigWrapper {\n    private ServiceConfiguration serviceConfiguration;\n}\n</code></pre>\n</li>\n<li><p>Then, deserialized using the wrapper class as follows:</p>\n<pre><code>String json = &quot;{\\&quot;serviceConfiguration\\&quot;:{\\&quot;serviceType\\&quot;:\\&quot;Stripe\\&quot;,\\&quot;jsonConfiguration\\&quot;:{\\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\&quot;key2\\&quot;:\\&quot;value2\\&quot;}}}&quot;;\nConfigWrapper config = new ObjectMapper().readValue(json, ConfigWrapper.class);\n</code></pre>\n</li>\n<li><p><code>TypeOfService getServiceType();</code> This method might not be required. So, I cleaned it up. The interface looks like this now:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\n              property = &quot;serviceType&quot;)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = StripeServiceConfiguration.class, name = &quot;Stripe&quot;),\n    @JsonSubTypes.Type(value = BrainServiceConfiguration.class, name = &quot;Brain&quot;),\n})\npublic  interface ServiceConfiguration {\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692201107,"creation_date":1692191454,"question_id":76913911,"body_markdown":"I am trying to deserialize the following `json` using `Jackson` annotations. Here is my current code:\r\n\r\n    @JsonTypeInfo(\r\n      use = JsonTypeInfo.Id.NAME,\r\n      include = JsonTypeInfo.As.PROPERTY,\r\n      property = &quot;serviceType&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = StripeServiceConfiguration.class, name = &quot;Stripe&quot;),\r\n        @JsonSubTypes.Type(value = BrainServiceConfiguration.class, name = &quot;Brain&quot;),\r\n    })\r\n    public interface ServiceConfiguration {\r\n      TypeOfService getServiceType();\r\n    }\r\n\r\n\r\n# StripeService\r\n```java\r\n    @Data\r\n    public class StripeServiceConfiguration implements ServiceConfiguration {\r\n      private static final TypeOfService serviceType = TypeOfService.STRIPE;\r\n      private Map&lt;String, Object&gt; jsonConfiguration;\r\n\r\n      @Override\r\n      public TypeOfService getServiceType() {\r\n        return serviceType;\r\n      }\r\n    }\r\n```\r\n\r\n# OtherPaymentService\r\n```java\r\n    @Data\r\n    public class BrainServiceConfiguration implements ServiceConfiguration {\r\n      private static final TypeOfService serviceType = TypeOfService.BRAIN;\r\n      private Map&lt;String, Object&gt; jsonConfiguration;\r\n\r\n      @Override\r\n      public TypeOfService getServiceType() {\r\n        return serviceType;\r\n      }\r\n    }\r\n```\r\n\r\n# Json request\r\n\r\n    {\r\n    &quot;serviceConfiguration&quot;: {\r\n        &quot;serviceType&quot;: &quot;Stripe&quot;,\r\n        &quot;jsonConfiguration&quot;: {\r\n         .....\r\n         ....\r\n        }}}\r\n\r\n# Enum class\r\n\r\n```java\r\n    public enum TypeOfService {\r\n      STRIPE(&quot;Stripe&quot;),\r\n      BRAIN(&quot;Brain&quot;)\r\n    }\r\n```\r\n\r\n# Error I am getting\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot \r\n    construct instance of `com.example.models.payment.ServiceConfiguration` (no Creators, \r\n    like default constructor, exist): abstract types either need to be mapped to concrete \r\n    types, have custom deserializer, or contain additional type information\r\n\r\nAny hint to fix it? or what am I doing wrong here?","title":"Deserialization using jackson mapper annotations in java","body":"<p>I am trying to deserialize the following <code>json</code> using <code>Jackson</code> annotations. Here is my current code:</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME,\n  include = JsonTypeInfo.As.PROPERTY,\n  property = &quot;serviceType&quot;)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = StripeServiceConfiguration.class, name = &quot;Stripe&quot;),\n    @JsonSubTypes.Type(value = BrainServiceConfiguration.class, name = &quot;Brain&quot;),\n})\npublic interface ServiceConfiguration {\n  TypeOfService getServiceType();\n}\n</code></pre>\n<h1>StripeService</h1>\n<pre class=\"lang-java prettyprint-override\"><code>    @Data\n    public class StripeServiceConfiguration implements ServiceConfiguration {\n      private static final TypeOfService serviceType = TypeOfService.STRIPE;\n      private Map&lt;String, Object&gt; jsonConfiguration;\n\n      @Override\n      public TypeOfService getServiceType() {\n        return serviceType;\n      }\n    }\n</code></pre>\n<h1>OtherPaymentService</h1>\n<pre class=\"lang-java prettyprint-override\"><code>    @Data\n    public class BrainServiceConfiguration implements ServiceConfiguration {\n      private static final TypeOfService serviceType = TypeOfService.BRAIN;\n      private Map&lt;String, Object&gt; jsonConfiguration;\n\n      @Override\n      public TypeOfService getServiceType() {\n        return serviceType;\n      }\n    }\n</code></pre>\n<h1>Json request</h1>\n<pre><code>{\n&quot;serviceConfiguration&quot;: {\n    &quot;serviceType&quot;: &quot;Stripe&quot;,\n    &quot;jsonConfiguration&quot;: {\n     .....\n     ....\n    }}}\n</code></pre>\n<h1>Enum class</h1>\n<pre class=\"lang-java prettyprint-override\"><code>    public enum TypeOfService {\n      STRIPE(&quot;Stripe&quot;),\n      BRAIN(&quot;Brain&quot;)\n    }\n</code></pre>\n<h1>Error I am getting</h1>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot \nconstruct instance of `com.example.models.payment.ServiceConfiguration` (no Creators, \nlike default constructor, exist): abstract types either need to be mapped to concrete \ntypes, have custom deserializer, or contain additional type information\n</code></pre>\n<p>Any hint to fix it? or what am I doing wrong here?</p>\n"},{"tags":["java","smb","smbj"],"answers":[{"tags":[],"owner":{"account_id":3028611,"reputation":11,"user_id":2568080,"display_name":"Guna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692200878,"creation_date":1692200878,"answer_id":76915192,"question_id":70999549,"body_markdown":"    try (Connection connection = client.connect(address, port)) {\r\n\t\t\t\tAuthenticationContext ac = getAuthenticationContext();\r\n\t\t\t\tlog.info(&quot;Authenticating&quot;);\r\n\t\t\t\tSession session = connection.authenticate(ac);\r\n\t\t\t\tString fileContent = &quot;Content to write&quot;;\r\n\t\t\t\tlog.info(&quot;Connecting to share &quot; + shareName);\r\n\r\n\t\t\t\ttry (DiskShare share = (DiskShare) session.connectShare(shareName)) {\r\n\t\t\t\t\tlog.info(&quot;Move File&quot;);\r\n\r\n\t\t\t\t\tFile file = share.openFile(filePath, EnumSet.of(AccessMask.GENERIC_WRITE), null,\r\n\t\t\t\t\t\t\tSMB2ShareAccess.ALL, SMB2CreateDisposition.FILE_CREATE,\r\n\t\t\t\t\t\t\tEnumSet.of(SMB2CreateOptions.FILE_RANDOM_ACCESS));\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\tbyte[] content = fileContent.getBytes();\r\n\r\n\t\t\t\t\t\tfile.write(content, 0);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tapiMessageList.setStatus(true);\r\n\r\n\t\t\t\t\tfilesList.add(filePath);\r\n\t\t\t\t\tapiMessageList.setFilesList(filesList);\r\n\r\n\t\t\t\t\tshare.close();\r\n\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\r\n\t\t\t\t}","title":"SMBJ unable to write file","body":"<pre><code>try (Connection connection = client.connect(address, port)) {\n            AuthenticationContext ac = getAuthenticationContext();\n            log.info(&quot;Authenticating&quot;);\n            Session session = connection.authenticate(ac);\n            String fileContent = &quot;Content to write&quot;;\n            log.info(&quot;Connecting to share &quot; + shareName);\n\n            try (DiskShare share = (DiskShare) session.connectShare(shareName)) {\n                log.info(&quot;Move File&quot;);\n\n                File file = share.openFile(filePath, EnumSet.of(AccessMask.GENERIC_WRITE), null,\n                        SMB2ShareAccess.ALL, SMB2CreateDisposition.FILE_CREATE,\n                        EnumSet.of(SMB2CreateOptions.FILE_RANDOM_ACCESS));\n                {\n\n                    byte[] content = fileContent.getBytes();\n\n                    file.write(content, 0);\n\n                }\n\n                apiMessageList.setStatus(true);\n\n                filesList.add(filePath);\n                apiMessageList.setFilesList(filesList);\n\n                share.close();\n\n            } catch (Exception e) {\n                e.printStackTrace();\n\n            }\n</code></pre>\n"}],"owner":{"account_id":11429270,"reputation":11,"user_id":8378514,"display_name":"Sanjay Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692200878,"creation_date":1644075964,"question_id":70999549,"body_markdown":"Unable to write file to the sahred folder, i get the exception.  \r\n\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\\\10.x.x.x\\XYZZZZZZ\\xyz.txt\r\n\r\nI have verified that this account has complete access to that shared folder\r\n\r\n    // connection params\r\n    static String sambaDomain = null;\r\n    static String sambaUsername = &quot;user123&quot;;\r\n    static String sambaPass = &quot;pwd&quot;;\r\n    static String sambaIP = &quot;10.x.x.x&quot;;\r\n    static String sambaSharedPath = &quot;XYZZZZZZ&quot;;\r\n\r\n public static void main(String[] args) {\r\n\r\n        SMBClient client = new SMBClient();\r\n        Connection connection = null;\r\n        try {\r\n            byte[] bytes = Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\xxxx\\\\testdoc2.pdf&quot;));\r\n            connection = client.connect(sambaIP);\r\n\r\n            Session session = connection.authenticate(new AuthenticationContext(sambaUsername, sambaPass.toCharArray(), sambaDomain));\r\n            DiskShare share = (DiskShare) session.connectShare(sambaSharedPath);\r\n\r\n\r\n            File f = share.openFile(&quot;xyz.txt&quot;,\r\n                    EnumSet.of(AccessMask.FILE_WRITE_DATA),\r\n                    EnumSet.of(FileAttributes.FILE_ATTRIBUTE_NORMAL),\r\n                    SMB2ShareAccess.ALL,\r\n                    SMB2CreateDisposition.FILE_CREATE,\r\n                    EnumSet.of(SMB2CreateOptions.FILE_DIRECTORY_FILE));\r\n\r\n            OutputStream os = f.getOutputStream();\r\n\r\n            os.write(bytes);\r\n            os.flush();\r\n            os.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"SMBJ unable to write file","body":"<p>Unable to write file to the sahred folder, i get the exception.</p>\n<p>com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\10.x.x.x\\XYZZZZZZ\\xyz.txt</p>\n<p>I have verified that this account has complete access to that shared folder</p>\n<pre><code>// connection params\nstatic String sambaDomain = null;\nstatic String sambaUsername = &quot;user123&quot;;\nstatic String sambaPass = &quot;pwd&quot;;\nstatic String sambaIP = &quot;10.x.x.x&quot;;\nstatic String sambaSharedPath = &quot;XYZZZZZZ&quot;;\n</code></pre>\n<p>public static void main(String[] args) {</p>\n<pre><code>    SMBClient client = new SMBClient();\n    Connection connection = null;\n    try {\n        byte[] bytes = Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\xxxx\\\\testdoc2.pdf&quot;));\n        connection = client.connect(sambaIP);\n\n        Session session = connection.authenticate(new AuthenticationContext(sambaUsername, sambaPass.toCharArray(), sambaDomain));\n        DiskShare share = (DiskShare) session.connectShare(sambaSharedPath);\n\n\n        File f = share.openFile(&quot;xyz.txt&quot;,\n                EnumSet.of(AccessMask.FILE_WRITE_DATA),\n                EnumSet.of(FileAttributes.FILE_ATTRIBUTE_NORMAL),\n                SMB2ShareAccess.ALL,\n                SMB2CreateDisposition.FILE_CREATE,\n                EnumSet.of(SMB2CreateOptions.FILE_DIRECTORY_FILE));\n\n        OutputStream os = f.getOutputStream();\n\n        os.write(bytes);\n        os.flush();\n        os.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":11732972,"reputation":314,"user_id":8587796,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692200866,"creation_date":1692200866,"question_id":76915190,"body_markdown":"In AOSP, I want to add a custom view to add a checkbox that can be checked to hide and show the content that is passed in the body of my CheckableView.\r\n\r\nHow to make it so my xml tag is rendered and hidden/shown when the checkbox is clicked\r\n```xml\r\n   &lt;TextView\r\n        android:id=&quot;@+id/logger_output&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/test_cb&quot;/&gt;\r\n```\r\n\r\n```xml\r\n-- activity_main.xml\r\n&lt;com.example.view.CheckableView\r\n   android:layout_width=&quot;match_parent&quot;\r\n   android:layout_height=&quot;wrap_content&quot;\r\n   app:checkboxText=&quot;@string/cbText&quot;&gt;\r\n   &lt;TextView\r\n        android:id=&quot;@+id/logger_output&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/test_cb&quot;/&gt;\r\n&lt;/com.example.view.CheckableView&gt;\r\n\r\n```\r\n\r\nthat declaration would only add a checkbox that hides and shows the body content of `com.example.view.CheckableView`","title":"Let user add custom layout in reusable view","body":"<p>In AOSP, I want to add a custom view to add a checkbox that can be checked to hide and show the content that is passed in the body of my CheckableView.</p>\n<p>How to make it so my xml tag is rendered and hidden/shown when the checkbox is clicked</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;TextView\n        android:id=&quot;@+id/logger_output&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/test_cb&quot;/&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>-- activity_main.xml\n&lt;com.example.view.CheckableView\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;wrap_content&quot;\n   app:checkboxText=&quot;@string/cbText&quot;&gt;\n   &lt;TextView\n        android:id=&quot;@+id/logger_output&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/test_cb&quot;/&gt;\n&lt;/com.example.view.CheckableView&gt;\n\n</code></pre>\n<p>that declaration would only add a checkbox that hides and shows the body content of <code>com.example.view.CheckableView</code></p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":23087364,"reputation":486,"user_id":17198705,"display_name":"Hippo Fish"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1683828825,"creation_date":1683828825,"answer_id":76230544,"question_id":76230485,"body_markdown":"To solve the issue, you have to add this line to your `gradle.properties` file.\r\n```\r\norg.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n```\r\nAnd your `grade.properties` file should look something like this -&gt;\r\n[![enter image description here][1]][1]\r\n\r\nFor me, it solved the issue. And then I had a different issue. But for that I just updated my `kotlin` version inside `android/build.gradle` file. And then, finally my project ran.\r\n\r\n&gt; If anyone knows this issue in depth, and wants to explain the situation a bit more, I would really appreciate it. Thank you &#128522;&#128154;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZC9AO.png","title":"Flutter application on Android `private final java.lang.String java.io.File.path`","body":"<p>To solve the issue, you have to add this line to your <code>gradle.properties</code> file.</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n<p>And your <code>grade.properties</code> file should look something like this -&gt;\n<a href=\"https://i.stack.imgur.com/ZC9AO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZC9AO.png\" alt=\"enter image description here\" /></a></p>\n<p>For me, it solved the issue. And then I had a different issue. But for that I just updated my <code>kotlin</code> version inside <code>android/build.gradle</code> file. And then, finally my project ran.</p>\n<blockquote>\n<p>If anyone knows this issue in depth, and wants to explain the situation a bit more, I would really appreciate it. Thank you </p>\n</blockquote>\n"}],"owner":{"account_id":23087364,"reputation":486,"user_id":17198705,"display_name":"Hippo Fish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5817,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76230544,"answer_count":1,"score":6,"last_activity_date":1692200515,"creation_date":1683828270,"question_id":76230485,"body_markdown":"I was facing some issue, with my flutter app. And after upgrading the `Gradle` version I started facing this issue. And i couldn&#39;t find anything close to this, after googling. But later I solved it from a different issue. SO I decided to create a issue for someone who&#39;s looking up this same issue.\r\n\r\nBcz I had no idea what to try. I was almost lost.\r\n\r\n```\r\nUnable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @36297cd9\r\n```","title":"Flutter application on Android `private final java.lang.String java.io.File.path`","body":"<p>I was facing some issue, with my flutter app. And after upgrading the <code>Gradle</code> version I started facing this issue. And i couldn't find anything close to this, after googling. But later I solved it from a different issue. SO I decided to create a issue for someone who's looking up this same issue.</p>\n<p>Bcz I had no idea what to try. I was almost lost.</p>\n<pre><code>Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @36297cd9\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","caching"],"owner":{"account_id":16603001,"reputation":75,"user_id":13718330,"display_name":"Stefan M&#246;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692200425,"creation_date":1692200425,"question_id":76915140,"body_markdown":"Our application is deployed twice on different machines with a load balancer in front. Both share the same database (MySQL cluster). \r\nIn order to speed up lot&#39;s of things in the ui I wanted to use the spring boot caching things on certain tables / database queries...\r\n\r\nBut... how can this be done if application 1 changes something within the database which is in the cache of application 2? Is there some nice approach to reset the cache on application 2? Or do I have to solve this &quot;by hand&quot; (counting entries, comparing &#39;lastUpdated&#39; columns...) to reset the cache in application 2? \r\n \r\nOr should I use a special cache table where application 1 tells application 2 that some data has changed? \r\n\r\nNot quite sure what a common solution for this particular problem can be... \r\n\r\nThanks in advance! ","title":"Spring Boot Caching / MySQL with 2 parallel applications and one database","body":"<p>Our application is deployed twice on different machines with a load balancer in front. Both share the same database (MySQL cluster).\nIn order to speed up lot's of things in the ui I wanted to use the spring boot caching things on certain tables / database queries...</p>\n<p>But... how can this be done if application 1 changes something within the database which is in the cache of application 2? Is there some nice approach to reset the cache on application 2? Or do I have to solve this &quot;by hand&quot; (counting entries, comparing 'lastUpdated' columns...) to reset the cache in application 2?</p>\n<p>Or should I use a special cache table where application 1 tells application 2 that some data has changed?</p>\n<p>Not quite sure what a common solution for this particular problem can be...</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","windows","named-pipes"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1236779734,"creation_date":1236779734,"answer_id":634611,"question_id":634564,"body_markdown":"In windows, [named pipes exist][1] but they [cannot be created as files in a writeable filesystem][2] and there is no command line tool. They live in a special filesystem and can be created only by using the Win32 API.\r\n\r\nLooks like you&#39;ll have to resort to native code, or switch from pipes to sockets for IPC - probably the best longterm solution, since it&#39;s much more portable.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/de-de/library/aa365780(en-us).aspx\r\n  [2]: http://en.wikipedia.org/wiki/Named_pipe#Named_pipes_in_Windows","title":"How to open a Windows named pipe from Java?","body":"<p>In windows, <a href=\"http://msdn.microsoft.com/de-de/library/aa365780(en-us).aspx\" rel=\"noreferrer\">named pipes exist</a> but they <a href=\"http://en.wikipedia.org/wiki/Named_pipe#Named_pipes_in_Windows\" rel=\"noreferrer\">cannot be created as files in a writeable filesystem</a> and there is no command line tool. They live in a special filesystem and can be created only by using the Win32 API.</p>\n\n<p>Looks like you'll have to resort to native code, or switch from pipes to sockets for IPC - probably the best longterm solution, since it's much more portable.</p>\n"},{"tags":[],"owner":{"account_id":603311,"reputation":340,"user_id":312599,"display_name":"v01ver"},"down_vote_count":3,"up_vote_count":33,"is_accepted":true,"score":30,"last_activity_date":1407336881,"creation_date":1270800247,"answer_id":2605884,"question_id":634564,"body_markdown":"[Use Named Pipes to Communicate Between Java and .Net Processes][1]\r\n\r\nRelevant part in the link\r\n\r\n    try {\r\n      // Connect to the pipe\r\n      RandomAccessFile pipe = new RandomAccessFile(&quot;\\\\\\\\.\\\\pipe\\\\testpipe&quot;, &quot;rw&quot;);\r\n      String echoText = &quot;Hello word\\n&quot;;\r\n      // write to pipe\r\n      pipe.write ( echoText.getBytes() );\r\n      // read response\r\n      String echoResponse = pipe.readLine();\r\n      System.out.println(&quot;Response: &quot; + echoResponse );\r\n      pipe.close();\r\n    } catch (Exception e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n    }\r\n\r\n  [1]: http://v01ver-howto.blogspot.com/2010/04/howto-use-named-pipes-to-communicate.html","title":"How to open a Windows named pipe from Java?","body":"<p><a href=\"http://v01ver-howto.blogspot.com/2010/04/howto-use-named-pipes-to-communicate.html\" rel=\"noreferrer\">Use Named Pipes to Communicate Between Java and .Net Processes</a></p>\n\n<p>Relevant part in the link</p>\n\n<pre><code>try {\n  // Connect to the pipe\n  RandomAccessFile pipe = new RandomAccessFile(\"\\\\\\\\.\\\\pipe\\\\testpipe\", \"rw\");\n  String echoText = \"Hello word\\n\";\n  // write to pipe\n  pipe.write ( echoText.getBytes() );\n  // read response\n  String echoResponse = pipe.readLine();\n  System.out.println(\"Response: \" + echoResponse );\n  pipe.close();\n} catch (Exception e) {\n  // TODO Auto-generated catch block\n  e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308240971,"creation_date":1308240971,"answer_id":6375142,"question_id":634564,"body_markdown":"maybe could use cygwin named pipes--if all your processes are cygwin.","title":"How to open a Windows named pipe from Java?","body":"<p>maybe could use cygwin named pipes--if all your processes are cygwin.</p>\n"},{"tags":[],"owner":{"account_id":121983,"reputation":1111,"user_id":315482,"display_name":"shellster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363781594,"creation_date":1363781594,"answer_id":15523212,"question_id":634564,"body_markdown":"It is very much possible to read and write to an **existing** named pipe in Java.  You cannot, to my knowledge, create a named pipe in a Windows environment.  Linux is a different story as named pipes can be created and consumed like files.\r\n\r\nRelevant link on interacting with an existing pipe: http://v01ver-howto.blogspot.com/2010/04/howto-use-named-pipes-to-communicate.html","title":"How to open a Windows named pipe from Java?","body":"<p>It is very much possible to read and write to an <strong>existing</strong> named pipe in Java.  You cannot, to my knowledge, create a named pipe in a Windows environment.  Linux is a different story as named pipes can be created and consumed like files.</p>\n\n<p>Relevant link on interacting with an existing pipe: <a href=\"http://v01ver-howto.blogspot.com/2010/04/howto-use-named-pipes-to-communicate.html\" rel=\"nofollow\">http://v01ver-howto.blogspot.com/2010/04/howto-use-named-pipes-to-communicate.html</a></p>\n"},{"tags":[],"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1515410089,"creation_date":1515410089,"answer_id":48149163,"question_id":634564,"body_markdown":"You can create named pipe using JNA library https://github.com/java-native-access/jna \r\n\r\nIt is clearly shown in the following test: https://github.com/java-native-access/jna/blob/master/contrib/platform/test/com/sun/jna/platform/win32/Kernel32NamedPipeTest.java \r\n\r\nAPI of JNA wrapper is the same as Win32 hence you will be able to use all the features and power of named pipes on Windows.","title":"How to open a Windows named pipe from Java?","body":"<p>You can create named pipe using JNA library <a href=\"https://github.com/java-native-access/jna\" rel=\"noreferrer\">https://github.com/java-native-access/jna</a> </p>\n\n<p>It is clearly shown in the following test: <a href=\"https://github.com/java-native-access/jna/blob/master/contrib/platform/test/com/sun/jna/platform/win32/Kernel32NamedPipeTest.java\" rel=\"noreferrer\">https://github.com/java-native-access/jna/blob/master/contrib/platform/test/com/sun/jna/platform/win32/Kernel32NamedPipeTest.java</a> </p>\n\n<p>API of JNA wrapper is the same as Win32 hence you will be able to use all the features and power of named pipes on Windows.</p>\n"},{"tags":[],"owner":{"account_id":257611,"reputation":51,"user_id":2968232,"display_name":"Mikhail Dvorkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692200401,"creation_date":1692200401,"answer_id":76915133,"question_id":634564,"body_markdown":"We implemented some functionality including creating named pipes in Kotlin:\r\n\r\nhttps://github.com/mikhail-dvorkin/pipesKt\r\n\r\nThere are methods for creating named pipes that work both in Windows and in Unix. We use JNA library.","title":"How to open a Windows named pipe from Java?","body":"<p>We implemented some functionality including creating named pipes in Kotlin:</p>\n<p><a href=\"https://github.com/mikhail-dvorkin/pipesKt\" rel=\"nofollow noreferrer\">https://github.com/mikhail-dvorkin/pipesKt</a></p>\n<p>There are methods for creating named pipes that work both in Windows and in Unix. We use JNA library.</p>\n"}],"owner":{"account_id":28446,"reputation":4669,"user_id":76024,"accept_rate":74,"display_name":"Philipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46228,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2605884,"answer_count":6,"score":31,"last_activity_date":1692200401,"creation_date":1236778928,"question_id":634564,"body_markdown":"On our Linux system we use named pipes for interprocess communication (a producer and a consumer).\r\n\r\nIn order to test the consumer (Java) code, I would like to implement (in Java) a dummy producer which writes to a named pipe which is connected to the consumer.\r\n\r\nNow the test should also work in the Windows development environment. Thus I would like to know how to create a named pipe in Windows from Java. In Linux I can use mkfifo (called using `Runtime.exec()` ), but how should I do this on Windows?","title":"How to open a Windows named pipe from Java?","body":"<p>On our Linux system we use named pipes for interprocess communication (a producer and a consumer).</p>\n\n<p>In order to test the consumer (Java) code, I would like to implement (in Java) a dummy producer which writes to a named pipe which is connected to the consumer.</p>\n\n<p>Now the test should also work in the Windows development environment. Thus I would like to know how to create a named pipe in Windows from Java. In Linux I can use mkfifo (called using <code>Runtime.exec()</code> ), but how should I do this on Windows?</p>\n"},{"tags":["java","apache-spark","hadoop","pyspark","minio"],"comments":[{"owner":{"account_id":208096,"reputation":6297,"user_id":458370,"accept_rate":76,"display_name":"Ant Kutschera"},"score":0,"creation_date":1701565063,"post_id":76858933,"comment_id":136791781,"body_markdown":"I had similar problems, and a working example with compatible version numbers is posted here if it helps anyone else: https://stackoverflow.com/a/77592717/458370","body":"I had similar problems, and a working example with compatible version numbers is posted here if it helps anyone else: <a href=\"https://stackoverflow.com/a/77592717/458370\">stackoverflow.com/a/77592717/458370</a>"}],"answers":[{"tags":[],"owner":{"account_id":12240301,"reputation":21,"user_id":8933576,"display_name":"Andrii Khomiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692200366,"creation_date":1692200366,"answer_id":76915129,"question_id":76858933,"body_markdown":"### Make sure the version of your Hadoop jars matches the base image\r\nTo find this run\r\n```bash\r\ndocker run --rm -it apache/spark-py:latest bash -c &#39;find / -name &quot;hadoop-client*.jar&quot; 2&gt; /dev/null&#39;\r\n```\r\nAs of this writing, `latest` is `v3.4.0` and the output of the above command is\r\n```\r\n&lt;...verbose tini output...&gt;\r\n/opt/spark/jars/hadoop-client-api-3.3.4.jar\r\n/opt/spark/jars/hadoop-client-runtime-3.3.4.jar\r\n```\r\nUpdate your Docker image to use a matching `hadoop-aws` (e.g. `./hadoop-aws-3.3.4.jar`).","title":"NoClassDefFoundError raised when reading Minio data using PySpark","body":"<h3>Make sure the version of your Hadoop jars matches the base image</h3>\n<p>To find this run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run --rm -it apache/spark-py:latest bash -c 'find / -name &quot;hadoop-client*.jar&quot; 2&gt; /dev/null'\n</code></pre>\n<p>As of this writing, <code>latest</code> is <code>v3.4.0</code> and the output of the above command is</p>\n<pre><code>&lt;...verbose tini output...&gt;\n/opt/spark/jars/hadoop-client-api-3.3.4.jar\n/opt/spark/jars/hadoop-client-runtime-3.3.4.jar\n</code></pre>\n<p>Update your Docker image to use a matching <code>hadoop-aws</code> (e.g. <code>./hadoop-aws-3.3.4.jar</code>).</p>\n"}],"owner":{"account_id":20654838,"reputation":21,"user_id":15164229,"display_name":"David Sand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692200366,"creation_date":1691492807,"question_id":76858933,"body_markdown":"I&#39;ve tried installing different versions of Spark and of the required jar files, but had no success. I&#39;m using a Macbook Air M1.\r\n\r\n## How to replicate\r\n\r\nRun a Minio instance locally at port 9000.\r\n\r\nDockerfile:\r\n\r\n```\r\nFROM apache/spark-py\r\n\r\nCOPY ./hadoop-aws-3.3.6.jar /opt/spark/jars/hadoop-aws-3.3.6.jar\r\nCOPY ./aws-java-sdk-bundle-1.12.367.jar /opt/spark/jars/aws-java-sdk-bundle-1.12.367.jar\r\n\r\nCOPY . .\r\n```\r\n\r\nThen run:\r\n\r\n```\r\ndocker run  --network=&quot;host&quot; -it &lt;image-name&gt; /opt/spark/bin/pyspark\r\n```\r\n\r\nPaste the following Python code inside the container:\r\n\r\n```\r\nfrom pyspark.sql import SparkSession\r\n\r\nspark = SparkSession.builder.getOrCreate()\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, &quot;minio&quot;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, &quot;minio123&quot; )\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;http://localhost:9000&quot;)\r\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.connection.ssl.enabled&quot;, &quot;false&quot;)\r\n\r\ndf = spark.read.json(&#39;s3a://lake-test/data.json&#39;)\r\n```\r\n\r\nReceive the error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n  File &quot;/opt/spark/python/pyspark/sql/readwriter.py&quot;, line 418, in json\r\n    return self._df(self._jreader.json(self._spark._sc._jvm.PythonUtils.toSeq(path)))\r\n  File &quot;/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py&quot;, line 1322, in __call__\r\n  File &quot;/opt/spark/python/pyspark/errors/exceptions/captured.py&quot;, line 169, in deco\r\n    return f(*a, **kw)\r\n  File &quot;/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o45.json.\r\n: java.lang.NoClassDefFoundError: org/apache/hadoop/fs/impl/prefetch/PrefetchingStatistics\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(Unknown Source)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(Unknown Source)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(Unknown Source)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(Unknown Source)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:519)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3469)\r\n\tat org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\r\n\tat org.apache.spark.sql.execution.streaming.FileStreamSink$.hasMetadata(FileStreamSink.scala:53)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:366)\r\n\tat org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:229)\r\n\tat org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:211)\r\n\tat scala.Option.getOrElse(Option.scala:189)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\r\n\tat org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:362)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:374)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.fs.impl.prefetch.PrefetchingStatistics\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t... 35 more\r\n```\r\n\r\nI&#39;ve received similar errors before, but installing the correct jar files (see Dockerfile) seemed to solve it.\r\n\r\nI&#39;ve also tried doing everything above outside of a docker container, but got the exact same result. Same thing without using Python (though the Spark shell directly).","title":"NoClassDefFoundError raised when reading Minio data using PySpark","body":"<p>I've tried installing different versions of Spark and of the required jar files, but had no success. I'm using a Macbook Air M1.</p>\n<h2>How to replicate</h2>\n<p>Run a Minio instance locally at port 9000.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM apache/spark-py\n\nCOPY ./hadoop-aws-3.3.6.jar /opt/spark/jars/hadoop-aws-3.3.6.jar\nCOPY ./aws-java-sdk-bundle-1.12.367.jar /opt/spark/jars/aws-java-sdk-bundle-1.12.367.jar\n\nCOPY . .\n</code></pre>\n<p>Then run:</p>\n<pre><code>docker run  --network=&quot;host&quot; -it &lt;image-name&gt; /opt/spark/bin/pyspark\n</code></pre>\n<p>Paste the following Python code inside the container:</p>\n<pre><code>from pyspark.sql import SparkSession\n\nspark = SparkSession.builder.getOrCreate()\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, &quot;minio&quot;)\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, &quot;minio123&quot; )\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;http://localhost:9000&quot;)\nspark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3a.connection.ssl.enabled&quot;, &quot;false&quot;)\n\ndf = spark.read.json('s3a://lake-test/data.json')\n</code></pre>\n<p>Receive the error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;/opt/spark/python/pyspark/sql/readwriter.py&quot;, line 418, in json\n    return self._df(self._jreader.json(self._spark._sc._jvm.PythonUtils.toSeq(path)))\n  File &quot;/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py&quot;, line 1322, in __call__\n  File &quot;/opt/spark/python/pyspark/errors/exceptions/captured.py&quot;, line 169, in deco\n    return f(*a, **kw)\n  File &quot;/opt/spark/python/lib/py4j-0.10.9.7-src.zip/py4j/protocol.py&quot;, line 326, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o45.json.\n: java.lang.NoClassDefFoundError: org/apache/hadoop/fs/impl/prefetch/PrefetchingStatistics\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.base/java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(Unknown Source)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(Unknown Source)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(Unknown Source)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:519)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3469)\n    at org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\n    at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\n    at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\n    at org.apache.spark.sql.execution.streaming.FileStreamSink$.hasMetadata(FileStreamSink.scala:53)\n    at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:366)\n    at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:229)\n    at org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:211)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\n    at org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:362)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:374)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.fs.impl.prefetch.PrefetchingStatistics\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 35 more\n</code></pre>\n<p>I've received similar errors before, but installing the correct jar files (see Dockerfile) seemed to solve it.</p>\n<p>I've also tried doing everything above outside of a docker container, but got the exact same result. Same thing without using Python (though the Spark shell directly).</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":1,"creation_date":1330773754,"post_id":9545693,"comment_id":12096536,"body_markdown":"I don&#39;t see any exception in that log. Could you please show a log with an exception.","body":"I don&#39;t see any exception in that log. Could you please show a log with an exception."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1330773676,"creation_date":1330773676,"answer_id":9545713,"question_id":9545693,"body_markdown":"None of those look like errors to me - they&#39;re just log lines. The only &quot;problem&quot; is a warning here:\r\n\r\n&gt; WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\r\n\r\nThat&#39;s only a warning - worth fixing, but it sounds like it&#39;s not *terribly* urgent.\r\n\r\nEverything else is just at INFO level... so don&#39;t worry about them. Just keep going, and see whether your code does what you expect in terms of database access.","title":"How to fix error with my first Hibernate project?","body":"<p>None of those look like errors to me - they're just log lines. The only \"problem\" is a warning here:</p>\n\n<blockquote>\n  <p>WARN: HHH000223: Recognized obsolete hibernate namespace <a href=\"http://hibernate.sourceforge.net/\" rel=\"noreferrer\">http://hibernate.sourceforge.net/</a>. Use namespace <a href=\"http://www.hibernate.org/dtd/\" rel=\"noreferrer\">http://www.hibernate.org/dtd/</a> instead. Refer to Hibernate 3.6 Migration Guide!</p>\n</blockquote>\n\n<p>That's only a warning - worth fixing, but it sounds like it's not <em>terribly</em> urgent.</p>\n\n<p>Everything else is just at INFO level... so don't worry about them. Just keep going, and see whether your code does what you expect in terms of database access.</p>\n"},{"tags":[],"owner":{"account_id":309076,"reputation":612,"user_id":621337,"accept_rate":78,"display_name":"Neo182"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1692200118,"creation_date":1346017889,"answer_id":12134202,"question_id":9545693,"body_markdown":"I was also having the same problem. \r\nAfter some Googling, I solved the problem. \r\n\r\nAll you have to do is to change the namespace &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot; to &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;\r\nas specified in the [Hibernate 3.6 Migration Guide][1].\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-15659","title":"How to fix error with my first Hibernate project?","body":"<p>I was also having the same problem.\nAfter some Googling, I solved the problem.</p>\n<p>All you have to do is to change the namespace &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot; to &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;\nas specified in the <a href=\"https://developer.jboss.org/docs/DOC-15659\" rel=\"nofollow noreferrer\">Hibernate 3.6 Migration Guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":5429521,"reputation":41,"user_id":4320817,"display_name":"Droideka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419366320,"creation_date":1419366320,"answer_id":27627514,"question_id":9545693,"body_markdown":"**Person.class** should implements *serializable*, but it seems that the main problem  you have is the Hibernate 3.6 Migration Guide!\r\n\r\nSee you.","title":"How to fix error with my first Hibernate project?","body":"<p><strong>Person.class</strong> should implements <em>serializable</em>, but it seems that the main problem  you have is the Hibernate 3.6 Migration Guide!</p>\n\n<p>See you.</p>\n"},{"tags":[],"owner":{"account_id":4614809,"reputation":3662,"user_id":3741698,"accept_rate":96,"display_name":"David Hackro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1431720619,"creation_date":1431720619,"answer_id":30267929,"question_id":9545693,"body_markdown":"It&#39;s easy\r\nIn your file xml hibernate configuration you must change the line \r\n\r\n    http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\r\n\r\nto\r\n\r\n    http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd","title":"How to fix error with my first Hibernate project?","body":"<p>It's easy\nIn your file xml hibernate configuration you must change the line </p>\n\n<pre><code>http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692133970,"creation_date":1692133970,"answer_id":76909146,"question_id":9545693,"body_markdown":"As indicated by Neo182 and Jon Skeet, these are not really errors you are dealing with. Just 1 of these messages is even a warning.\r\n\r\nTo avoid that warning, you simply need to complete your Hibernate upgrade by following the [Hibernate 3.6 Migration Guide][1]. That is, in your hibernate.cfg.xml, just change the namespace &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot; to &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;.\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-15659","title":"How to fix error with my first Hibernate project?","body":"<p>As indicated by Neo182 and Jon Skeet, these are not really errors you are dealing with. Just 1 of these messages is even a warning.</p>\n<p>To avoid that warning, you simply need to complete your Hibernate upgrade by following the <a href=\"https://developer.jboss.org/docs/DOC-15659\" rel=\"nofollow noreferrer\">Hibernate 3.6 Migration Guide</a>. That is, in your hibernate.cfg.xml, just change the namespace &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot; to &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;.</p>\n"}],"owner":{"account_id":1194660,"reputation":2751,"user_id":1166635,"accept_rate":59,"display_name":"user1166635"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37172,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9545713,"answer_count":5,"score":4,"last_activity_date":1692200118,"creation_date":1330773523,"question_id":9545693,"body_markdown":"I have been tried to make my first Hibernate project. I added following libraries into my project:\r\n\r\nantlr-2.7.7\r\ncommons-collections-3.2.1\r\ndom4j-1.6.1\r\nhibernate-commons-annotations-4.0.1.Final\r\nhibernate-core-4.1.0.Final\r\nhibernate-jpa-2.0-api-1.0.1.Final\r\njavassist-3.15.0-GA\r\njboss-logging-3.1.0.CR2\r\njboss-transaction-api_1.1_spec-1.0.0.Final\r\nmysql-connector-java-5.1.18-bin\r\n\r\nhibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost/test&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n     \r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n     \r\n        &lt;mapping class=&quot;com.nda.hibernate.Person&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nPerson.class:\r\n\r\n    package com.nda.hibernate;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    \r\n    @Entity\r\n    public class Person {\r\n    \r\n    \tprivate String name;\r\n    \t\r\n    \t@Id\r\n    \tprivate int number;\r\n    \t\r\n    \tpublic Person() {}\r\n    \t\r\n    \tpublic Person(String name, int number) {\r\n    \t\t\r\n    \t\tthis.name=name;\r\n    \t\tthis.number=number;\r\n    \t}\r\n    \t\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n    \tpublic void setNumber(int number) {\r\n    \t\tthis.number=number;\r\n    \t}\r\n    \t\r\n    \tpublic int getNumber() {\r\n    \t\treturn number;\r\n    \t}\r\n    }\r\n\r\nI have Denwer installed. Parameters for using: login - root, password is empty. Server is localhost, and has database &quot;test&quot; with table &quot;person&quot;(CHAR(50) name, INT(10) number - primary key) \r\n\r\nMain.class:\r\n\r\n\t\tSessionFactory sessions=new AnnotationConfiguration().configure().buildSessionFactory();\r\n\t\tSession session=sessions.openSession();\r\n\r\nIt doesn&#39;t work. I have got some errors:\r\n\r\n    03.03.2012 14:11:07 org.hibernate.annotations.common.Version &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\r\n    03.03.2012 14:11:07 org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.1.0.Final}\r\n    03.03.2012 14:11:07 org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    03.03.2012 14:11:07 org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    03.03.2012 14:11:07 org.hibernate.cfg.Configuration configure\r\n    INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\r\n    03.03.2012 14:11:07 org.hibernate.cfg.Configuration getConfigurationInputStream\r\n    INFO: HHH000040: Configuration resource: /hibernate.cfg.xml\r\n    03.03.2012 14:11:07 org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity\r\n    WARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\r\n    03.03.2012 14:11:07 org.hibernate.cfg.Configuration doConfigure\r\n    INFO: HHH000041: Configured SessionFactory: null\r\n    03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000402: Using Hibernate built-in connection pool (not for production use!)\r\n    03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000115: Hibernate connection pool size: 20\r\n    03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000006: Autocommit mode: false\r\n    03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000401: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost/test]\r\n    03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    INFO: HHH000046: Connection properties: {user=root, password=****}\r\n    03.03.2012 14:11:08 org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    03.03.2012 14:11:08 org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\r\n    INFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\r\n    03.03.2012 14:11:08 org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\r\n    INFO: HHH000397: Using ASTQueryTranslatorFactory\r\n\r\nHow can I fix it? Thank you. \r\n","title":"How to fix error with my first Hibernate project?","body":"<p>I have been tried to make my first Hibernate project. I added following libraries into my project:</p>\n\n<p>antlr-2.7.7\ncommons-collections-3.2.1\ndom4j-1.6.1\nhibernate-commons-annotations-4.0.1.Final\nhibernate-core-4.1.0.Final\nhibernate-jpa-2.0-api-1.0.1.Final\njavassist-3.15.0-GA\njboss-logging-3.1.0.CR2\njboss-transaction-api_1.1_spec-1.0.0.Final\nmysql-connector-java-5.1.18-bin</p>\n\n<p>hibernate.cfg.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD//EN\"\n    \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost/test&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n    &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n\n    &lt;mapping class=\"com.nda.hibernate.Person\"/&gt;\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Person.class:</p>\n\n<pre><code>package com.nda.hibernate;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n\n@Entity\npublic class Person {\n\n    private String name;\n\n    @Id\n    private int number;\n\n    public Person() {}\n\n    public Person(String name, int number) {\n\n        this.name=name;\n        this.number=number;\n    }\n\n    public void setName(String name) {\n        this.name=name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setNumber(int number) {\n        this.number=number;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n}\n</code></pre>\n\n<p>I have Denwer installed. Parameters for using: login - root, password is empty. Server is localhost, and has database \"test\" with table \"person\"(CHAR(50) name, INT(10) number - primary key) </p>\n\n<p>Main.class:</p>\n\n<pre><code>    SessionFactory sessions=new AnnotationConfiguration().configure().buildSessionFactory();\n    Session session=sessions.openSession();\n</code></pre>\n\n<p>It doesn't work. I have got some errors:</p>\n\n<pre><code>03.03.2012 14:11:07 org.hibernate.annotations.common.Version &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.1.Final}\n03.03.2012 14:11:07 org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.1.0.Final}\n03.03.2012 14:11:07 org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\n03.03.2012 14:11:07 org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\n03.03.2012 14:11:07 org.hibernate.cfg.Configuration configure\nINFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\n03.03.2012 14:11:07 org.hibernate.cfg.Configuration getConfigurationInputStream\nINFO: HHH000040: Configuration resource: /hibernate.cfg.xml\n03.03.2012 14:11:07 org.hibernate.internal.util.xml.DTDEntityResolver resolveEntity\nWARN: HHH000223: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\n03.03.2012 14:11:07 org.hibernate.cfg.Configuration doConfigure\nINFO: HHH000041: Configured SessionFactory: null\n03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000402: Using Hibernate built-in connection pool (not for production use!)\n03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000115: Hibernate connection pool size: 20\n03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000006: Autocommit mode: false\n03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000401: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost/test]\n03.03.2012 14:11:07 org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nINFO: HHH000046: Connection properties: {user=root, password=****}\n03.03.2012 14:11:08 org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n03.03.2012 14:11:08 org.hibernate.engine.transaction.internal.TransactionFactoryInitiator initiateService\nINFO: HHH000399: Using default transaction strategy (direct JDBC transactions)\n03.03.2012 14:11:08 org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory &lt;init&gt;\nINFO: HHH000397: Using ASTQueryTranslatorFactory\n</code></pre>\n\n<p>How can I fix it? Thank you. </p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692113654,"creation_date":1692113654,"answer_id":76907237,"question_id":76906238,"body_markdown":"The workaround is as follows.\r\n\r\n    configurations { implementation.exclude group: &#39;org.jetbrains&#39;, module: &#39;annotations&#39; }\r\n\r\nYou can put the above code in the android{} of the app level gradle.\r\n\r\n\r\nIt worked for me.","title":"Duplicate class org.intellij.lang.annotations.Identifier found in modules. How can i resolve it?","body":"<p>The workaround is as follows.</p>\n<pre><code>configurations { implementation.exclude group: 'org.jetbrains', module: 'annotations' }\n</code></pre>\n<p>You can put the above code in the android{} of the app level gradle.</p>\n<p>It worked for me.</p>\n"}],"owner":{"account_id":25459612,"reputation":3,"user_id":19259657,"display_name":"Salim Karanba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76907237,"answer_count":1,"score":0,"last_activity_date":1692200093,"creation_date":1692105232,"question_id":76906238,"body_markdown":"This is the output:\r\n\r\n    Duplicate class org.intellij.lang.annotations.Identifier found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$TitledBorderJustification found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$TitledBorderTitlePosition found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.JdkConstants$TreeSelectionMode found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.Language found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.MagicConstant found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.Pattern found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.PrintFormat found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.PrintFormatPattern found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.RegExp found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.intellij.lang.annotations.Subst found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.jetbrains.annotations.Nls found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.jetbrains.annotations.NonNls found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.jetbrains.annotations.NotNull found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.jetbrains.annotations.Nullable found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.jetbrains.annotations.PropertyKey found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n    Duplicate class org.jetbrains.annotations.TestOnly found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\r\n\r\nI tried \r\n~~~\r\nconfigurations {\r\n    cleanedAnnotations\r\n     compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n }\r\n~~~\r\n\r\nbut the problem still exists.","title":"Duplicate class org.intellij.lang.annotations.Identifier found in modules. How can i resolve it?","body":"<p>This is the output:</p>\n<pre><code>Duplicate class org.intellij.lang.annotations.Identifier found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$TitledBorderJustification found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$TitledBorderTitlePosition found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.JdkConstants$TreeSelectionMode found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.Language found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.MagicConstant found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.Pattern found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.PrintFormat found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.PrintFormatPattern found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.RegExp found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.intellij.lang.annotations.Subst found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.jetbrains.annotations.Nls found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.jetbrains.annotations.NonNls found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.jetbrains.annotations.NotNull found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.jetbrains.annotations.Nullable found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.jetbrains.annotations.PropertyKey found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\nDuplicate class org.jetbrains.annotations.TestOnly found in modules jetified-annotations-12.0 (com.intellij:annotations:12.0) and jetified-annotations-13.0 (org.jetbrains:annotations:13.0)\n</code></pre>\n<p>I tried</p>\n<pre><code>configurations {\n    cleanedAnnotations\n     compile.exclude group: 'org.jetbrains' , module:'annotations'\n }\n</code></pre>\n<p>but the problem still exists.</p>\n"},{"tags":["java","android","android-biometric","biometricmanager"],"answers":[{"tags":[],"owner":{"account_id":29235329,"reputation":212,"user_id":22398078,"display_name":"MobileDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692200013,"creation_date":1692200013,"answer_id":76915088,"question_id":76914644,"body_markdown":"I&#39;m not sure, but something like this could be approached:\r\n\r\n    private boolean isBiometricDialogShowing = false;\r\n    mBiometricManager = new ch.instaguard2.insta.app.utils.biometric.BiometricManager.BiometricBuilder(BaseActivity.this)\r\n        .setTitle(L.Companion.get(R.string.enhance_security))\r\n        .setSubtitle(getString(R.string.app_name))\r\n        .setDescription(L.Companion.get(R.string.biometric_description))\r\n        .setNegativeButtonText(L.Companion.get(R.string.use_pin_code))\r\n        .build();\r\n    mBiometricManager.authenticate(new BiometricCallback() {\r\n       @Override\r\n        public void onAuthenticationFailed() {\r\n            // Handle authentication failure\r\n        }\r\n    \r\n        @Override\r\n        public void onAuthenticationCancelled() {\r\n            // Handle authentication cancellation\r\n        }\r\n    \r\n        @Override\r\n        public void onAuthenticationSuccessful() {\r\n            // Handle authentication success\r\n        }\r\n    \r\n    if (isBiometricDialogShowing) {\r\n        // The biometric authentication dialog is currently displayed\r\n    } else {\r\n        // The biometric authentication dialog is not displayed\r\n    }\r\n    }\r\n\r\nChanging the isBiometricDialogShowing value can control whether the biometric authentication dialog is displayed or not.\r\n","title":"How to check if the biometric authentication dialog is displayed?","body":"<p>I'm not sure, but something like this could be approached:</p>\n<pre><code>private boolean isBiometricDialogShowing = false;\nmBiometricManager = new ch.instaguard2.insta.app.utils.biometric.BiometricManager.BiometricBuilder(BaseActivity.this)\n    .setTitle(L.Companion.get(R.string.enhance_security))\n    .setSubtitle(getString(R.string.app_name))\n    .setDescription(L.Companion.get(R.string.biometric_description))\n    .setNegativeButtonText(L.Companion.get(R.string.use_pin_code))\n    .build();\nmBiometricManager.authenticate(new BiometricCallback() {\n   @Override\n    public void onAuthenticationFailed() {\n        // Handle authentication failure\n    }\n\n    @Override\n    public void onAuthenticationCancelled() {\n        // Handle authentication cancellation\n    }\n\n    @Override\n    public void onAuthenticationSuccessful() {\n        // Handle authentication success\n    }\n\nif (isBiometricDialogShowing) {\n    // The biometric authentication dialog is currently displayed\n} else {\n    // The biometric authentication dialog is not displayed\n}\n}\n</code></pre>\n<p>Changing the isBiometricDialogShowing value can control whether the biometric authentication dialog is displayed or not.</p>\n"}],"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692200013,"creation_date":1692196729,"question_id":76914644,"body_markdown":"In my application i use `BiometricManager` for creating system verification dialog:\r\n```\r\n                mBiometricManager = new ch.instaguard2.insta.app.utils.biometric.BiometricManager.BiometricBuilder(BaseActivity.this)\r\n                    .setTitle(L.Companion.get(R.string.enhance_security))\r\n                    .setSubtitle(getString(R.string.app_name))\r\n                    .setDescription(L.Companion.get(R.string.biometric_description))\r\n                    .setNegativeButtonText(L.Companion.get(R.string.use_pin_code))\r\n                    .build();\r\n                //start authentication\r\n                mBiometricManager.authenticate(this);\r\n```\r\nBut it has only `dismisDialog()` method for control this dialog. How i can check is dialog showing now (like default `dialog.isShown()`)?","title":"How to check if the biometric authentication dialog is displayed?","body":"<p>In my application i use <code>BiometricManager</code> for creating system verification dialog:</p>\n<pre><code>                mBiometricManager = new ch.instaguard2.insta.app.utils.biometric.BiometricManager.BiometricBuilder(BaseActivity.this)\n                    .setTitle(L.Companion.get(R.string.enhance_security))\n                    .setSubtitle(getString(R.string.app_name))\n                    .setDescription(L.Companion.get(R.string.biometric_description))\n                    .setNegativeButtonText(L.Companion.get(R.string.use_pin_code))\n                    .build();\n                //start authentication\n                mBiometricManager.authenticate(this);\n</code></pre>\n<p>But it has only <code>dismisDialog()</code> method for control this dialog. How i can check is dialog showing now (like default <code>dialog.isShown()</code>)?</p>\n"},{"tags":["java","spring","spring-cloud-stream"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1692179924,"post_id":76910358,"comment_id":135587723,"body_markdown":"Annotation-based programming model has been deprecated for almost 5 years and no longer supported. PLease migrate to functional based model - https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages","body":"Annotation-based programming model has been deprecated for almost 5 years and no longer supported. PLease migrate to functional based model - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692200001,"creation_date":1692200001,"answer_id":76915087,"question_id":76910358,"body_markdown":"If you just want to convert this to a functional style, this would do it.\r\n\r\n```\r\npublic class RabbitMQReceiver {\r\n\r\n    @Bean\r\n    public Consumer&lt;String&gt; receiveMessage() {\r\n        return s -&gt; {\r\n           System.out.println(&quot;Received message: &quot; + message);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nand configuration:\r\n\r\n```\r\nspring.cloud.function.definition: receiveMessage \r\nspring.cloud.stream.bindings.receiveMessage-in-0.destination: &lt;RabbitMQ Destination&gt;\r\n```\r\nYou only need to define `spring.cloud.function.definition` if you have more than one function beans that you want to activate. ","title":"converting Spring Cloud Stream code to functional based for Spring boot 3","body":"<p>If you just want to convert this to a functional style, this would do it.</p>\n<pre><code>public class RabbitMQReceiver {\n\n    @Bean\n    public Consumer&lt;String&gt; receiveMessage() {\n        return s -&gt; {\n           System.out.println(&quot;Received message: &quot; + message);\n        };\n    }\n}\n</code></pre>\n<p>and configuration:</p>\n<pre><code>spring.cloud.function.definition: receiveMessage \nspring.cloud.stream.bindings.receiveMessage-in-0.destination: &lt;RabbitMQ Destination&gt;\n</code></pre>\n<p>You only need to define <code>spring.cloud.function.definition</code> if you have more than one function beans that you want to activate.</p>\n"}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915087,"answer_count":1,"score":0,"last_activity_date":1692200001,"creation_date":1692156692,"question_id":76910358,"body_markdown":"I have to update code sending RabbitMQ using Spring Cloud Stream from spring boot 2 to spring boot 3 using functional based beans \r\n\r\nCan somebody help convert this simplified version?\r\n\r\n    @EnableBinding(MySink.class)\r\n    public class RabbitMQReceiver {\r\n    \r\n        @StreamListener(MySink.INPUT)\r\n        public void receiveMessage(String message) {\r\n            System.out.println(&quot;Received message: &quot; + message);\r\n        }\r\n    }\r\n    \r\n    interface MySink {\r\n        String INPUT = &quot;input234242&quot;; // The channel name\r\n    \r\n        @Input(INPUT)\r\n        SubscribableChannel input();\r\n    }\r\n\r\n","title":"converting Spring Cloud Stream code to functional based for Spring boot 3","body":"<p>I have to update code sending RabbitMQ using Spring Cloud Stream from spring boot 2 to spring boot 3 using functional based beans</p>\n<p>Can somebody help convert this simplified version?</p>\n<pre><code>@EnableBinding(MySink.class)\npublic class RabbitMQReceiver {\n\n    @StreamListener(MySink.INPUT)\n    public void receiveMessage(String message) {\n        System.out.println(&quot;Received message: &quot; + message);\n    }\n}\n\ninterface MySink {\n    String INPUT = &quot;input234242&quot;; // The channel name\n\n    @Input(INPUT)\n    SubscribableChannel input();\n}\n</code></pre>\n"},{"tags":["java","apache-spark","spark-submit"],"owner":{"account_id":29191482,"reputation":1,"user_id":22363530,"display_name":"VIVEK KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692200000,"creation_date":1691580785,"question_id":76867361,"body_markdown":"While trying to up the service using `spark-submit`, I am getting this Error.\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.SparkException: Failed to get main class in JAR with error &#39;null&#39;.  Please specify one with --class.\r\n        at org.apache.spark.deploy.SparkSubmit.error(SparkSubmit.scala:968)\r\n        at org.apache.spark.deploy.SparkSubmit.prepareSubmitEnvironment(SparkSubmit.scala:486)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:894)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n```\r\ntried Spark submit command","title":"Exception in thread &quot;main&quot; org.apache.spark.SparkException: Failed to get main class in JAR with error &#39;null&#39;. Please specify one with --class","body":"<p>While trying to up the service using <code>spark-submit</code>, I am getting this Error.</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.SparkException: Failed to get main class in JAR with error 'null'.  Please specify one with --class.\n        at org.apache.spark.deploy.SparkSubmit.error(SparkSubmit.scala:968)\n        at org.apache.spark.deploy.SparkSubmit.prepareSubmitEnvironment(SparkSubmit.scala:486)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:894)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1039)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1048)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n</code></pre>\n<p>tried Spark submit command</p>\n"},{"tags":["java","gradle","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691973026,"post_id":76894998,"comment_id":135558781,"body_markdown":"How much free memory does your system have? How did you select those values? What is the architecture of your system?","body":"How much free memory does your system have? How did you select those values? What is the architecture of your system?"},{"owner":{"account_id":24399233,"reputation":19,"user_id":18328181,"display_name":"Gavin Justakid_Abu"},"score":0,"creation_date":1691984409,"post_id":76894998,"comment_id":135559595,"body_markdown":"My system is 64 bit I have 16 gb ram and at the time had 5 gb free","body":"My system is 64 bit I have 16 gb ram and at the time had 5 gb free"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692012361,"post_id":76894998,"comment_id":135563711,"body_markdown":"You are using a 32 bits Java It is possible that you need to use a 64 bit Java to be able to access enough available free memory.","body":"You are using a 32 bits Java It is possible that you need to use a 64 bit Java to be able to access enough available free memory."}],"owner":{"account_id":24399233,"reputation":19,"user_id":18328181,"display_name":"Gavin Justakid_Abu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692199988,"creation_date":1691957012,"question_id":76894998,"body_markdown":"I&#39;m trying to make a mod in forge 1.16.5 using gradle. I am also using Intelij Idea for my IDE. When I do runClient gradle only gives me 257 MB of ram.\r\n\r\nI tried Chat GPT and none of its answers worked. I tried googleing it and it told me to change my JVM args and I was still having issues.  \r\n  \r\nORIGINAL ERROR  \r\n`[15:59:07] [Render thread/FATAL] [minecraft/Minecraft]: Out of memory`\r\n\r\n`java.lang.OutOfMemoryError: Java heap space`\r\n\r\nAfter adding `jvmArgs &quot;-Xms2g&quot;, &quot;-Xmx2g&quot;` to build.gradle  \r\n`Execution failed for task &#39;:runClient&#39;.`\r\n\r\n`&gt; Process &#39;command &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_202\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1`\r\n\r\nI tried 1G ram insted  \r\n`java.io.IOException: Could not load image: Out of memory`\r\n\r\n`java.lang.IllegalStateException: Image is not allocated.`","title":"Gradle not allocating enough RAM","body":"<p>I'm trying to make a mod in forge 1.16.5 using gradle. I am also using Intelij Idea for my IDE. When I do runClient gradle only gives me 257 MB of ram.</p>\n<p>I tried Chat GPT and none of its answers worked. I tried googleing it and it told me to change my JVM args and I was still having issues.</p>\n<p>ORIGINAL ERROR<br />\n<code>[15:59:07] [Render thread/FATAL] [minecraft/Minecraft]: Out of memory</code></p>\n<p><code>java.lang.OutOfMemoryError: Java heap space</code></p>\n<p>After adding <code>jvmArgs &quot;-Xms2g&quot;, &quot;-Xmx2g&quot;</code> to build.gradle<br />\n<code>Execution failed for task ':runClient'.</code></p>\n<p><code>&gt; Process 'command 'C:\\Program Files (x86)\\Java\\jdk1.8.0_202\\bin\\java.exe'' finished with non-zero exit value 1</code></p>\n<p>I tried 1G ram insted<br />\n<code>java.io.IOException: Could not load image: Out of memory</code></p>\n<p><code>java.lang.IllegalStateException: Image is not allocated.</code></p>\n"},{"tags":["java","mysql","spring","jdbc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22789443,"reputation":51,"user_id":16944025,"display_name":"Alexey Strelchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692199964,"creation_date":1692199964,"answer_id":76915084,"question_id":76907541,"body_markdown":"GENERATED is a reserved word in mysql, so just rename your value.","title":"mySQL with springBoot - default values","body":"<p>GENERATED is a reserved word in mysql, so just rename your value.</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915084,"answer_count":1,"score":0,"last_activity_date":1692199964,"creation_date":1692116305,"question_id":76907541,"body_markdown":"I have this table with default values:\r\n\r\n    create table if not exists mystic_rivers_db.users\r\n    (\r\n        id                     bigint auto_increment\r\n            primary key,\r\n        email                  varchar(50)      null,\r\n        password               varchar(120)     null,\r\n        username               varchar(50)      null,\r\n        year                   int              not null,\r\n        language               varchar(255)     null,\r\n        generated  bit default b&#39;0&#39; not null,\r\n        lat                    decimal(38, 2)   null,\r\n        lon                    decimal(38, 2)   null,\r\n        constraint UK6dotkott2kjsp8vw4d0m25fb7\r\n            unique (email),\r\n        constraint UKr43af9ap4edm43mmtq01oddj6\r\n            unique (username)\r\n    );\r\n\r\n\r\nbut when I do an insert I have this error:\r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Column &#39;generated&#39; cannot be null\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:275)\r\n    \tat org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)\r\n    \tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:101)\r\n    \tat org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)\r\n    \tat org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2756)\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:647)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:278)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:259)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:309)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy123.persist(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:617)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source)\r\n    \tat com.mysticrivers.controllers.AuthController.registerUser(AuthController.java:132)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat com.mysticrivers.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:53)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n","title":"mySQL with springBoot - default values","body":"<p>I have this table with default values:</p>\n<pre><code>create table if not exists mystic_rivers_db.users\n(\n    id                     bigint auto_increment\n        primary key,\n    email                  varchar(50)      null,\n    password               varchar(120)     null,\n    username               varchar(50)      null,\n    year                   int              not null,\n    language               varchar(255)     null,\n    generated  bit default b'0' not null,\n    lat                    decimal(38, 2)   null,\n    lon                    decimal(38, 2)   null,\n    constraint UK6dotkott2kjsp8vw4d0m25fb7\n        unique (email),\n    constraint UKr43af9ap4edm43mmtq01oddj6\n        unique (username)\n);\n</code></pre>\n<p>but when I do an insert I have this error:</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Column 'generated' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:275)\n    at org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)\n    at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:101)\n    at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)\n    at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2756)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:647)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:278)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:259)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:309)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\n    at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy123.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:617)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n    at jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source)\n    at com.mysticrivers.controllers.AuthController.registerUser(AuthController.java:132)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at com.mysticrivers.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:53)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","raspberry-pi","arm","busybox"],"comments":[{"owner":{"account_id":8475292,"reputation":1397,"user_id":6356744,"accept_rate":80,"display_name":"tttapa"},"score":0,"creation_date":1580231415,"post_id":59953084,"comment_id":106026787,"body_markdown":"What BusyBox distro? What C library does it use?","body":"What BusyBox distro? What C library does it use?"},{"owner":{"account_id":16135529,"reputation":49,"user_id":11648074,"display_name":"Otman El"},"score":0,"creation_date":1580235897,"post_id":59953084,"comment_id":106028836,"body_markdown":"Hi, thanks for quick reply ... it &#39;s BusyBox v1.29.3","body":"Hi, thanks for quick reply ... it &#39;s BusyBox v1.29.3"},{"owner":{"account_id":8475292,"reputation":1397,"user_id":6356744,"accept_rate":80,"display_name":"tttapa"},"score":0,"creation_date":1580236129,"post_id":59953084,"comment_id":106028951,"body_markdown":"AFAIK, BusyBox is not a Linux distribution. What Linux distribution are you using, and most importantly: what C library does it use?","body":"AFAIK, BusyBox is not a Linux distribution. What Linux distribution are you using, and most importantly: what C library does it use?"},{"owner":{"account_id":16135529,"reputation":49,"user_id":11648074,"display_name":"Otman El"},"score":0,"creation_date":1580238745,"post_id":59953084,"comment_id":106030035,"body_markdown":"Sorry but i&#39;m only try to run a java on an hardware that&#39;s not mine. Only info i&#39;ve currently is the linux version which is Linux version 4.9.37 and glibc  2.24 version. This is a minimalist linux as some command are not available","body":"Sorry but i&#39;m only try to run a java on an hardware that&#39;s not mine. Only info i&#39;ve currently is the linux version which is Linux version 4.9.37 and glibc  2.24 version. This is a minimalist linux as some command are not available"},{"owner":{"account_id":8475292,"reputation":1397,"user_id":6356744,"accept_rate":80,"display_name":"tttapa"},"score":0,"creation_date":1580239625,"post_id":59953084,"comment_id":106030460,"body_markdown":"Good, so it uses glibc. My guess is that the linker cannot find the necessary, either because you didn&#39;t install them, or because they are on the usb key, but not in the rpath, and not in the ld library path. Please add the exact error message to your post. The way you asked it, this question doesn&#39;t have a straightforward answer. You might have more luck on a discussion forum instead of a Q&amp;A site like this one.","body":"Good, so it uses glibc. My guess is that the linker cannot find the necessary, either because you didn&#39;t install them, or because they are on the usb key, but not in the rpath, and not in the ld library path. Please add the exact error message to your post. The way you asked it, this question doesn&#39;t have a straightforward answer. You might have more luck on a discussion forum instead of a Q&amp;A site like this one."},{"owner":{"account_id":16135529,"reputation":49,"user_id":11648074,"display_name":"Otman El"},"score":0,"creation_date":1580287252,"post_id":59953084,"comment_id":106043587,"body_markdown":"Exact error i had with offical downloaded openJdk11 and others is: .&quot;/bin/java: error while loading shared libraries: /home/lib/asRoot/jdk-11.0.6/bin/../lib/jli/libjli.so: internal error&quot; when i execute java -version command","body":"Exact error i had with offical downloaded openJdk11 and others is: .&quot;/bin/java: error while loading shared libraries: /home/lib/asRoot/jdk-11.0.6/bin/../lib/jli/libjli.so: internal error&quot; when i execute java -version command"},{"owner":{"account_id":4998062,"reputation":5495,"user_id":4017881,"display_name":"Frant"},"score":0,"creation_date":1580325650,"post_id":59953084,"comment_id":106064437,"body_markdown":"@Otman El: Where exactly did you get your Linux distribution and you JDK from ? please copy/paste the exact URLs if applicable.\nIf you did build it by yourself, could you please tell us how ?\nThe goal here would be for you to provide enough information so that somebody wanting to help you and having a raspberry pi 3 could download both the Linux distribution and the JDK you are experimenting issues with: if you are withholding too much important information, people will not be able to help.","body":"@Otman El: Where exactly did you get your Linux distribution and you JDK from ? please copy/paste the exact URLs if applicable. If you did build it by yourself, could you please tell us how ? The goal here would be for you to provide enough information so that somebody wanting to help you and having a raspberry pi 3 could download both the Linux distribution and the JDK you are experimenting issues with: if you are withholding too much important information, people will not be able to help."},{"owner":{"account_id":4998062,"reputation":5495,"user_id":4017881,"display_name":"Frant"},"score":0,"creation_date":1580327760,"post_id":59953084,"comment_id":106065343,"body_markdown":"@Otman El: What exactly is the hardware platform you are experimenting with, i.e. exact brand/model ?","body":"@Otman El: What exactly is the hardware platform you are experimenting with, i.e. exact brand/model ?"},{"owner":{"account_id":4998062,"reputation":5495,"user_id":4017881,"display_name":"Frant"},"score":0,"creation_date":1580328555,"post_id":59953084,"comment_id":106065654,"body_markdown":"@Otman EI: For example, this [JDK](https://github.com/AdoptOpenJDK/openjdk8-binaries/releases/download/jdk8u232-b09/OpenJDK8U-jdk_arm_linux_hotspot_8u232b09.tar.gz) is working fine on an Allwinner H3 Cortex-A7 platform running Armbian:","body":"@Otman EI: For example, this <a href=\"https://github.com/AdoptOpenJDK/openjdk8-binaries/releases/download/jdk8u232-b09/OpenJDK8U-jdk_arm_linux_hotspot_8u232b09.tar.gz\" rel=\"nofollow noreferrer\">JDK</a> is working fine on an Allwinner H3 Cortex-A7 platform running Armbian:"},{"owner":{"account_id":16135529,"reputation":49,"user_id":11648074,"display_name":"Otman El"},"score":0,"creation_date":1580399561,"post_id":59953084,"comment_id":106092854,"body_markdown":"Hi everyone, thanks for your feedback. @Frant i used official jdk and some others. The provider notified me that the hardware was a hardfloat version so i downloaded and tried to install a jdk-armv7-hf (hard floar version) ... this is why i had issue when trying to run java command. But when i switch on soft float version, that worked succesfully ... i&#39;ll check it with the provider ...With a jdk-armv7-sf version, i&#39;m able to run a java program","body":"Hi everyone, thanks for your feedback. @Frant i used official jdk and some others. The provider notified me that the hardware was a hardfloat version so i downloaded and tried to install a jdk-armv7-hf (hard floar version) ... this is why i had issue when trying to run java command. But when i switch on soft float version, that worked succesfully ... i&#39;ll check it with the provider ...With a jdk-armv7-sf version, i&#39;m able to run a java program"}],"answers":[{"tags":[],"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692199920,"creation_date":1692199920,"answer_id":76915074,"question_id":59953084,"body_markdown":"The [Eclipse Temurin](https://adoptium.net/temurin/releases/) makes builds of TLS versions for the arm32v7 platform.\r\n\r\nYour Linux may be compiled with musl library instead of gnu. Then you can try OpenJDK 8 from Alpine Linux.\r\nThe OpenWrt is also based on musl so see [Java on OpenWrt](https://stackoverflow.com/questions/2856843/java-on-openwrt-dd-wrt/72068203)","title":"install java on linux busy box distro arm32V7","body":"<p>The <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Eclipse Temurin</a> makes builds of TLS versions for the arm32v7 platform.</p>\n<p>Your Linux may be compiled with musl library instead of gnu. Then you can try OpenJDK 8 from Alpine Linux.\nThe OpenWrt is also based on musl so see <a href=\"https://stackoverflow.com/questions/2856843/java-on-openwrt-dd-wrt/72068203\">Java on OpenWrt</a></p>\n"}],"owner":{"account_id":16135529,"reputation":49,"user_id":11648074,"display_name":"Otman El"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692199920,"creation_date":1580228840,"question_id":59953084,"body_markdown":"I&#39;m trying to install Java on a linux busybox distro in order to run a java app on arm32 arch (raspberry pi for example). \r\n\r\nI downloaded serveral type of jdk11: Official Openjdk, zulu, bellsoft.\r\n\r\nI decompressed its and copy all downloaded jdk11 to an ext4 usb key. I use ext4 usb key  in order to eliminate symlink error when i copied folders.\r\n\r\nThen when i try to run java command in order to get a version java version but nothing happen.\r\n\r\nIf jdk&#39;s are decompressed using a standard user (non root), nothing happen as described before. If i decompress its using a root user, i faced issue: libjli.so: internal error: error while loading shared libraries (may be right access ?).\r\n\r\nThe error displayed is &quot;./bin/java: error while loading shared libraries: /home/lib/asRoot/jdk-11.0.6/bin/../lib/jli/libjli.so: internal error&quot; when i execute java -version command. libjli is in the path ... \r\n\r\nAny hints of how to run JRE for arm32V7 on busybox distro ?\r\n\r\nThanks ... ","title":"install java on linux busy box distro arm32V7","body":"<p>I'm trying to install Java on a linux busybox distro in order to run a java app on arm32 arch (raspberry pi for example). </p>\n\n<p>I downloaded serveral type of jdk11: Official Openjdk, zulu, bellsoft.</p>\n\n<p>I decompressed its and copy all downloaded jdk11 to an ext4 usb key. I use ext4 usb key  in order to eliminate symlink error when i copied folders.</p>\n\n<p>Then when i try to run java command in order to get a version java version but nothing happen.</p>\n\n<p>If jdk's are decompressed using a standard user (non root), nothing happen as described before. If i decompress its using a root user, i faced issue: libjli.so: internal error: error while loading shared libraries (may be right access ?).</p>\n\n<p>The error displayed is \"./bin/java: error while loading shared libraries: /home/lib/asRoot/jdk-11.0.6/bin/../lib/jli/libjli.so: internal error\" when i execute java -version command. libjli is in the path ... </p>\n\n<p>Any hints of how to run JRE for arm32V7 on busybox distro ?</p>\n\n<p>Thanks ... </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9749,"page":243,"page_size":100}
